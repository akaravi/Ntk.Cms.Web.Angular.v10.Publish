import{f as H}from"./chunk-ALWDDZYF.js";import{Yc as P,cc as T,u as F,ua as _}from"./chunk-5WYASXHL.js";import{Ab as d,Fa as n,Gd as R,Ha as c,Kf as D,Ld as A,Oa as s,Pb as I,Rb as M,Sa as h,da as S,ea as u,ib as f,jb as C,kb as v,lb as g,mb as a,nb as l,pe as x,vb as b,xc as E,yb as y,ye as w}from"./chunk-QKIEHXIF.js";function k(p,e){if(p&1){let t=b();a(0,"li")(1,"mat-checkbox",0),y("change",function(){let o=S(t).$implicit,m=d();return u(m.onActionSelect(o))}),I(2),l()()}if(p&2){let t=e.$implicit,i=d();n(),g("checked",i.fieldsStatus.get(t.id))("disabled",i.optionDisabled),n(),M(" ",t.title," ")}}var r=class r{constructor(e,t,i,o,m,G){this.coreEnumService=e;this.categoryService=t;this.cdr=i;this.publicHelper=o;this.cmsToastrService=m;this.translate=G;this.id=++r.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new R;this.dataModelSelect=[];this.dataIdsSelect=[];this.formControl=new F;this.fieldsStatus=new Map;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder=new c;this.optionChange=new c;this.optionSelectAdded=new c;this.optionSelectRemoved=new c;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(e){this.onActionSelectForce(e)}ngOnInit(){this.DataGetAll()}DataGetAll(){let e=new A;e.rowPerPage=50,e.accessLoad=!0;let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(e).subscribe({next:i=>{i.isSuccess&&(this.dataModelResult=i,this.dataModelResult.listItems.forEach(o=>this.fieldsStatus.set(o.id,!1)),this.dataIdsSelect.forEach(o=>this.fieldsStatus.set(o,!0)),this.dataModelResult.listItems.forEach(o=>{this.fieldsStatus.get(o.id)&&this.dataModelSelect.push(o)})),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t)}})}onActionSelect(e){this.fieldsStatus.get(e.id)?(this.fieldsStatus.set(e.id,!1),this.optionSelectRemoved.emit(e),this.dataModelSelect.splice(this.dataModelSelect.indexOf(e),1)):(this.fieldsStatus.set(e.id,!0),this.optionSelectAdded.emit(e),this.dataModelSelect.push(e)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(e){typeof e==typeof Array(Number)?e.forEach(t=>{this.dataIdsSelect.push(t)}):typeof e==typeof Array(D)&&e.forEach(t=>{this.dataIdsSelect.push(t.id)}),this.dataIdsSelect.forEach(t=>this.fieldsStatus.set(t,!0))}onActionButtonReload(){this.DataGetAll()}};r.nextId=0,r.\u0275fac=function(t){return new(t||r)(s(x),s(w),s(E),s(H),s(P),s(T))},r.\u0275cmp=h({type:r,selectors:[["app-cms-sitecategory-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},standalone:!1,decls:3,vars:0,consts:[[3,"change","checked","disabled"]],template:function(t,i){t&1&&(a(0,"ul"),C(1,k,3,3,"li",null,f),l()),t&2&&(n(),v(i.dataModelResult.listItems))},dependencies:[_],encapsulation:2});var j=r;export{j as a};
