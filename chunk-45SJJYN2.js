import{a as no,b as Gl}from"./chunk-BFPKYGBS.js";import{a as Ja}from"./chunk-WZGID7VJ.js";import{a as Nl}from"./chunk-K2ZGWDZO.js";import{a as Ol}from"./chunk-PCBR5WB7.js";import{a as kt}from"./chunk-HC32IMH6.js";import"./chunk-DEOOK2FM.js";import{a as Fl}from"./chunk-G4U43XVK.js";import{a as Bl}from"./chunk-DZ7KR6ZY.js";import"./chunk-XWFZ3L2H.js";import{a as st}from"./chunk-ZBCNDTQU.js";import{a as Ka}from"./chunk-H56PQPV2.js";import{a as io}from"./chunk-BO6LOMMS.js";import{a as Vl}from"./chunk-W4Y24W3M.js";import{a as dt}from"./chunk-677NQ7D7.js";import{a as tn}from"./chunk-K33TURJC.js";import{a as Xe}from"./chunk-NMFX3PJE.js";import{a as ke}from"./chunk-JEF4OJ24.js";import{a as Ct}from"./chunk-QGWAMGAE.js";import{a as Ll,d as ht,e as Ae,f as Re,i as At}from"./chunk-SY5ASTU2.js";import{a as xe}from"./chunk-7RXKLOGL.js";import{a as za}from"./chunk-AY4XP33B.js";import{a as zt}from"./chunk-CI46G5RR.js";import{a as Tl}from"./chunk-57KTCDM3.js";import{a as Ne,b as Al}from"./chunk-5A7PFONV.js";import{b as Rl}from"./chunk-7SVXILIE.js";import{a as St}from"./chunk-ZEL2SWMK.js";import{a as kl}from"./chunk-MIPGQZHB.js";import{a as ge}from"./chunk-VA5IWJ7T.js";import{b as xl}from"./chunk-3RHHJRHJ.js";import{a as ti}from"./chunk-7DUNEHBM.js";import"./chunk-T2SWGMVG.js";import{a as to}from"./chunk-2UR3ITVJ.js";import{a as Se}from"./chunk-JM7AUYWU.js";import"./chunk-HGNWVODT.js";import{a as j,d as ei}from"./chunk-XBBMWE56.js";import{b as Dl,d as yl,e as _t,f as G}from"./chunk-LID2Z6NB.js";import{$a as ml,A as $e,Aa as dl,Ba as Je,Ca as cl,Cb as F,Da as W,Db as B,H as Ha,I as Wa,J as qa,Ja as Qa,K as rl,Ka as It,L as ja,La as Pt,M as Ua,O as ll,Oa as pe,Pb as Ht,Qb as gl,R as Kn,Ua as Te,Wa as Ue,Xa as it,_a as pl,a as Ye,ab as ul,bb as fl,cb as _l,cc as bl,d as Na,da as Zi,db as Sl,dc as Ml,ea as $i,eb as wt,ec as Il,f as Yr,fa as en,fb as nt,fc as Pl,g as Zr,gb as ot,hb as at,i as $r,ib as rt,j as el,jb as lt,k as tl,kb as Et,la as ft,lb as Dt,m as Fi,ma as le,mb as yt,na as se,nb as Tt,oa as je,pa as sl,qb as Cl,r as ol,rb as hl,rc as Qe,s as qe,tb as Jn,u as Yi,ub as Xn,uc as ze,v as Oi,vb as Yn,w as al,wb as Zn,wc as N,x as Ni,xb as $n,y as Gi,yb as vl,zb as eo,zc as El}from"./chunk-TSM5A4DZ.js";import{A as Ee,B as De,C as ye,F as il,G as nl,b as Li,c as $,h as ee,i as Ce,k as he,l as mi,m as ce,n as ve,o as Vi,r as Bi,s as Ga}from"./chunk-QRBNL5ZA.js";import{$m as pn,A as Qn,Am as yi,Bm as ut,Cc as Ur,Cm as ln,D as qt,Dm as Ti,Em as Yt,Fm as sn,Gm as ri,H as ae,Hm as zr,Im as dn,Jm as Ai,K as Oe,Km as Kr,La as jr,Mn as de,Nm as Jr,Rm as Qi,Sm as Ri,Tm as xi,Um as Zt,Vm as zi,Wm as ki,Xm as Ki,Xn as wl,Ym as $t,Zm as ci,_ as Fa,_m as pi,an as Ji,ba as ie,bn as Xi,cn as Xr,d as Ut,e as Wr,f as Ze,fa as qr,ja as zn,l as kr,m as pt,nm as Oa,om as Qr,p as mt,pm as fi,q as Y,qm as _i,rm as rn,u as K,v as re,y as Qt,zm as Si}from"./chunk-VH4FEZX5.js";import{Ab as M,Ad as Hr,Bb as Ba,Cb as Di,Db as Ve,Dc as S,Eb as Be,Ec as h,Fb as _,Fc as di,Ga as Rt,Gb as a,Hb as r,Ib as C,K as Ii,Mb as y,Nb as T,O as Pi,Ob as Me,Pb as P,Ra as oe,Sb as g,Ua as Mt,Ub as d,Va as o,Vb as ji,Wb as Ui,Xa as xt,Xc as O,Yb as U,Z as wi,Zb as Q,_ as Ei,_b as z,cb as I,cc as x,dc as xr,ec as H,ga as ka,gc as Lr,hc as c,ib as L,ic as A,jb as Va,jc as v,kc as X,lc as Vr,ld as we,mb as q,md as Or,nc as w,ob as V,oc as E,pa as p,pc as D,qa as m,qc as Br,rc as Fr,rd as Xt,s as bi,sc as Pn,t as Mi,tc as R,td as Fe,ua as La,uc as Wt,ud as Nr,xb as He,xc as _e,xd as Un,yc as Gt,yd as Gr,zb as b}from"./chunk-2AL2II5Z.js";import{i as Pe}from"./chunk-SEDBTTTN.js";var as=["*"];function rs(n,s){if(n&1&&(a(0,"label",3),c(1),r()),n&2){let e=d();_("for",Wt("app-cms-site-selector-",e.id)),o(),A(e.optionLabel)}}function ls(n,s){if(n&1&&(C(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=d();_("src",R(h(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),oe)}}function ss(n,s){if(n&1&&(C(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;_("src",R(h(1,2,e.linkMainImageIdSrc)),oe)}}function ds(n,s){if(n&1&&(a(0,"mat-option",8),b(1,ss,2,4,"img",5),a(2,"span"),c(3),r()()),n&2){let e=s.$implicit,i=d();_("value",e)("disabled",i.optionDisabled),o(),M(e.linkMainImageIdSrc?1:-1),o(2),A(i.displayOption(e))}}function cs(n,s){n&1&&C(0,"i",9)}function ps(n,s){n&1&&C(0,"i",10)}function ms(n,s){if(n&1){let e=P();a(0,"i",13),g("click",function(){p(e);let t=d();return m(t.onActionSelectClear())}),r()}}function us(n,s){n&1&&(a(0,"em"),c(1),S(2,"translate"),r()),n&2&&(o(),v("(",h(2,1,"TITLE.Necessary"),")"))}var mn=class mn{constructor(s,e,i,t,l,f){this.coreEnumService=s;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=l;this.categoryService=f;this.id=++mn.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Y;this.dataModelSelect=new ri;this.formControl=new mi;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionSelectForSendMessage=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new xt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(wi(""),Ii(1500),Pi(),Ei(s=>typeof s=="string"||typeof s=="number"?this.DataGetAll(s||""):[]))}displayFn(s){return s?s.title:void 0}displayOption(s){return s?s.title:void 0}DataGetAll(s){return Pe(this,null,function*(){let e=new re;e.rowPerPage=20,e.accessLoad=!0;let i=new K;i.propertyName="title",i.value=s,i.searchType=qt.Contains,i.clauseType=Qt.Or,e.filters.push(i),s&&typeof+s=="number"&&+s>0&&(i=new K,i.propertyName="id",i.value=s,i.searchType=qt.Equal,i.clauseType=Qt.Or,e.filters.push(i)),this.optionSelectForSendMessage&&(i=new K,i.propertyName="recordStatus",i.value=pt.Available,i.searchType=qt.Equal,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.get_information_list").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),e.sortColumn="priority",e.sortType=ae.Ascending,this.optionAccessDataType&&this.categoryService.setAccessDataType(this.optionAccessDataType),yield bi(this.categoryService.ServiceGetAll(e)).then(l=>(this.dataModelResult=l,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,this.formControl.setValue(this.dataModelResult.listItems[0]),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),l.listItems))})}onActionSelect(s){this.optionDisabled||(this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(s){return this.filteredOptions.pipe(Mi(e=>(e.find(i=>i.id===s.id)||e.push(s),e)))}onActionSelectForce(s){if(typeof s=="string"&&s.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===s)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===s)){let e=this.dataModelResult.listItems.find(i=>i.id===s);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(s).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof s==typeof ri){this.filteredOptions=this.push(s),this.dataModelSelect=s,this.formControl.setValue(s);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new ri,this.onActionSelectClear(),this.loadOptions()}};mn.nextId=0,mn.\u0275fac=function(e){return new(e||mn)(I(ie),I(N),I(O),I(G),I(F),I(pi))},mn.\u0275cmp=L({type:mn,selectors:[["app-data-provider-source-path-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionSelectForSendMessage:"optionSelectForSendMessage",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionAccessDataType:"optionAccessDataType",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:as,decls:18,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=P();ji(),a(0,"div",1),C(1,"app-progress-spinner",2),b(2,rs,2,3,"label",3),a(3,"span",4),b(4,ls,2,4,"img",5),r(),C(5,"input",6),a(6,"mat-autocomplete",7,0),g("optionSelected",function(f){return p(t),m(i.onActionSelect(f.option.value))}),Ve(8,ds,4,4,"mat-option",8,Di),S(10,"async"),r(),b(11,cs,1,0,"i",9),b(12,ps,1,0,"i",10),b(13,ms,1,0,"i",11),a(14,"i",12),S(15,"translate"),g("click",function(){return p(t),m(i.onActionButtonReload())}),r(),b(16,us,3,3,"em"),Ui(17),r()}if(e&2){let t=x(7);o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(),M((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),M(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),_("placeholder",R(i.optionPlaceholder))("id",Wt("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),He("disabled",i.optionDisabled?!0:null),o(),_("displayWith",i.displayFn),o(2),Be(h(10,20,i.filteredOptions)),o(3),M(i.formControl.valid?-1:11),o(),M(i.optionRequired&&i.formControl.valid?12:-1),o(),M((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?13:-1),o(),H("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),_("title",R(h(15,22,"ACTION.RELOAD"))),o(2),M(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id.length<=0)?16:-1)}},dependencies:[$,ee,Ee,Bi,Ni,Fi,Gi,Yi,W,j,Fe,B,Ne],encapsulation:2});var nn=mn;function fs(n,s){if(n&1&&(a(0,"mat-option",6),c(1),r()),n&2){let e=s.$implicit,i=d();_("value",e),o(),v(" ",i.displayOption(e)," ")}}var oo=class oo{constructor(s,e,i,t,l,f){this.coreEnumService=s;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=l;this.categoryService=f;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Y;this.dataModelSelect=new fi;this.formControl=new mi;this.optionPlaceholder="";this.optionSelectFirstItem=!1;this.optionDisabled=!1;this.optionRequired=!1;this.optionLabel="";this.optionChange=new xt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(wi(""),Ii(1500),Pi(),Ei(s=>typeof s=="string"||typeof s=="number"?this.DataGetAll(s||""):[]))}displayFn(s){return s?s.title:void 0}displayOption(s){return s?s.title:void 0}DataGetAll(s){return Pe(this,null,function*(){let e=new re;e.rowPerPage=20,e.accessLoad=!0;let i=new K;i.propertyName="title",i.value=s,i.searchType=qt.Contains,i.clauseType=Qt.Or,e.filters.push(i),s&&typeof+s=="number"&&+s>0&&(i=new K,i.propertyName="id",i.value=s,i.searchType=qt.Equal,i.clauseType=Qt.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),yield bi(this.categoryService.ServiceGetAll(e)).then(l=>(this.dataModelResult=l,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||(typeof this.dataModelSelect.id=="string"?this.dataModelSelect.id.length===0:this.dataModelSelect.id<=0))&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),l.listItems))})}onActionSelect(s){this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(s){return this.filteredOptions.pipe(Mi(e=>(e.find(i=>i.id===s.id)||e.push(s),e)))}onActionSelectForce(s){if(typeof s=="string"&&s.length>0||typeof s=="number"&&s>0){let e=typeof s=="string"?s:String(s);if(this.dataModelSelect&&String(this.dataModelSelect.id)===e)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>String(i.id)===e)){let i=this.dataModelResult.listItems.find(t=>String(t.id)===e);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(e).subscribe({next:i=>{i.isSuccess?(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item)):this.cmsToastrService.typeErrorMessage(i.errorMessage)}});return}if(typeof s==typeof fi){this.filteredOptions=this.push(s),this.dataModelSelect=s,this.formControl.setValue(s);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new fi,this.loadOptions()}};oo.\u0275fac=function(e){return new(e||oo)(I(ie),I(N),I(O),I(G),I(F),I(Ji))},oo.\u0275cmp=L({type:oo,selectors:[["app-data-provider-client-application-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,decls:10,vars:10,consts:[["auto","matAutocomplete"],[1,"w-100",3,"appearance"],["type","text","matInput","",3,"formControl","matAutocomplete","disabled","required"],[3,"optionSelected","displayWith"],[3,"value",4,"ngFor","ngForOf"],["matSuffix",""],[3,"value"]],template:function(e,i){if(e&1){let t=P();a(0,"mat-form-field",1)(1,"mat-label"),c(2),r(),C(3,"input",2),a(4,"mat-autocomplete",3,0),g("optionSelected",function(f){return p(t),m(i.onActionSelect(f.option.value))}),V(6,fs,2,2,"mat-option",4),S(7,"async"),r(),a(8,"mat-icon",5),c(9,"search"),r()()}if(e&2){let t=x(5);_("appearance","outline"),o(2),A(i.optionLabel||i.optionPlaceholder),o(),_("formControl",i.formControl)("matAutocomplete",t)("disabled",i.optionDisabled)("required",i.optionRequired),o(),_("displayWith",i.displayFn),o(2),_("ngForOf",h(7,8,i.filteredOptions))}},dependencies:[Or,$,ee,Ee,Bi,Ni,Fi,Gi,al,ol,Oi,Je,W,Fe],encapsulation:2});var ao=oo;var _s=["vform"];function Ss(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",15),D("modelChange",function(t){p(e);let l=d();return E(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=d();w("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Cs(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",16),c(2),r(),a(3,"mat-checkbox",17),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.isRequested,t)||(l.dataModel.isRequested=t),m(t)}),c(4),S(5,"translate"),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.isRequested==null?null:e.fieldsInfo.isRequested.fieldTitle),o(),w("ngModel",e.dataModel.isRequested),_("disabled",!(e.fieldsInfo.isRequested!=null&&e.fieldsInfo.isRequested.accessAddField)),o(),v(" ",h(5,4,"MESSAGE.Requested")," ")}}function hs(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",16),c(2),r(),a(3,"mat-checkbox",18),g("change",function(){p(e);let t=d();return m(t.onToggleIsApproved())}),c(4),S(5,"translate"),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.isApproved==null?null:e.fieldsInfo.isApproved.fieldTitle),o(),_("checked",e.dataModel.isApproved===!0)("disabled",!(e.fieldsInfo.isApproved!=null&&e.fieldsInfo.isApproved.accessAddField))("indeterminate",e.dataModel.isApproved===null),o(),v(" ",h(5,5,"MESSAGE.Approved")," ")}}function vs(n,s){if(n&1){let e=P();a(0,"div",13)(1,"label",19),c(2),r(),a(3,"input",20),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.fromDate,t)||(l.dataModel.fromDate=t),m(t)}),r(),C(4,"mat-datepicker-toggle",21)(5,"mat-datepicker",22,1),r()}if(n&2){let e=x(6),i=d();o(2),A(i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle),o(),w("ngModel",i.dataModel.fromDate),_("matDatepicker",e),o(),_("for",e),o(),_("calendarHeaderComponent",i.datapickerHeader)}}function gs(n,s){if(n&1){let e=P();a(0,"div",13)(1,"label",23),c(2),S(3,"translate"),r(),a(4,"input",24),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.expireDate,t)||(l.dataModel.expireDate=t),m(t)}),r(),C(5,"mat-datepicker-toggle",21)(6,"mat-datepicker",22,2),r()}if(n&2){let e=x(7),i=d();o(2),A(h(3,5,"TITLE.Expire_Date")),o(2),w("ngModel",i.dataModel.expireDate),_("matDatepicker",e),o(),_("for",e),o(),_("calendarHeaderComponent",i.datapickerHeader)}}function bs(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",25),c(2),r(),a(3,"textarea",26,3),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.description,t)||(l.dataModel.description=t),m(t)}),r(),a(5,"em"),c(6),r()()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),w("ngModel",i.dataModel.description),o(3),v("",e.value.length," / 500")}}function Ms(n,s){if(n&1){let e=P();a(0,"div",14)(1,"button",27),g("click",function(){p(e);let t=d();return m(t.onFormCancel())}),C(2,"i",28),c(3),S(4,"translate"),r(),a(5,"button",29),C(6,"i",30),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),v(" ",h(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),v(" ",h(8,5,"ACTION.SAVE")," ")}}var ro=class ro extends St{constructor(e,i,t,l,f,u,k){super(t,new _i,f,k);this.data=e;this.dialogRef=i;this.dataProviderClientApplicationPermissionService=t;this.cmsToastrService=l;this.publicHelper=f;this.cdr=u;this.translate=k;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Y;this.dataModel=new _i;this.fileManagerOpenForm=!1;this.datapickerHeader=to;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&(e.LinkClientApplicationId&&(this.dataModel.linkClientApplicationId=e.LinkClientApplicationId),e.LinkSourcePathId&&(this.dataModel.linkSourcePathId=e.LinkSourcePathId))}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderClientApplicationPermissionService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorClientApplication(e){if(!e||!e.id||e.id.length==0){this.dataModel.linkClientApplicationId=null;return}this.dataModel.linkClientApplicationId=e.id}onActionSelectorSourcePath(e){if(!e||!e.id||e.id.length==0){this.dataModel.linkSourcePathId=null;return}this.dataModel.linkSourcePathId=e.id}onToggleIsApproved(){this.dataModel.isApproved===null?this.dataModel.isApproved=!0:this.dataModel.isApproved===!0?this.dataModel.isApproved=!1:this.dataModel.isApproved=null}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ro.\u0275fac=function(i){return new(i||ro)(I(se),I(le),I(Xi),I(N),I(G),I(O),I(F))},ro.\u0275cmp=L({type:ro,selectors:[["app-data-provider-client-application-permission-add"]],viewQuery:function(i,t){if(i&1&&U(_s,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:22,vars:23,consts:[["vform","ngForm"],["FromDate",""],["ExpireDate",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"color-highlight"],["name","dataModel.isRequested",3,"ngModelChange","ngModel","disabled"],["name","dataModel.isApproved",3,"change","checked","disabled","indeterminate"],["for","fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["for","expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",4),C(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),C(8,"app-cms-form-result-message",8),a(9,"form",9,0),g("ngSubmit",function(){return p(l),m(t.onFormSubmit())}),b(11,Ss,1,5,"app-cms-enum-record-status-selector",10),a(12,"app-data-provider-client-application-selector",11),S(13,"translate"),g("optionChange",function(u){return p(l),m(t.onActionSelectorClientApplication(u))}),r(),a(14,"app-data-provider-source-path-selector",11),S(15,"translate"),g("optionChange",function(u){return p(l),m(t.onActionSelectorSourcePath(u))}),r(),b(16,Cs,6,6,"div",12),b(17,hs,6,7,"div",12),b(18,vs,7,5,"div",13),b(19,gs,8,7,"div",13),b(20,bs,7,5,"div",12),b(21,Ms,9,7,"div",14),r()()()}i&2&&(o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v(" ",t.formInfo.formTitle," "),o(2),v(" ",h(7,17,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),M(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),_("optionDisabled",!((t.fieldsInfo.linkClientApplicationId==null?null:t.fieldsInfo.linkClientApplicationId.accessAddField)??!1))("optionSelectForce",t.dataModel.linkClientApplicationId)("optionPlaceholder",h(13,19,"TITLE.CLIENTAPPLICATION")),o(2),_("optionDisabled",!((t.fieldsInfo.linkSourcePathId==null?null:t.fieldsInfo.linkSourcePathId.accessAddField)??!1))("optionSelectForce",t.dataModel.linkSourcePathId)("optionPlaceholder",h(15,21,"TITLE.SOURCEPATH")),o(2),M(t.fieldsInfo.isRequested!=null&&t.fieldsInfo.isRequested.accessWatchField?16:-1),o(),M(t.fieldsInfo.isApproved!=null&&t.fieldsInfo.isApproved.accessWatchField?17:-1),o(),M(t.fieldsInfo.fromDate!=null&&t.fieldsInfo.fromDate.accessWatchField?18:-1),o(),M(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessWatchField?19:-1),o(),M(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?20:-1),o(),M(t.formInfo.submitButtonEnabled?21:-1))},dependencies:[ve,$,ee,Ce,De,ye,ce,he,Kn,Zi,$i,en,Oi,W,ge,j,Se,nn,ao,B],encapsulation:2});var lo=ro;var Is=["vform"];function Ps(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",15),D("modelChange",function(t){p(e);let l=d();return E(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=d();w("model",e.dataModel.recordStatus),_("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ws(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",16),c(2),r(),a(3,"mat-checkbox",17),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.isRequested,t)||(l.dataModel.isRequested=t),m(t)}),c(4),S(5,"translate"),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.isRequested==null?null:e.fieldsInfo.isRequested.fieldTitle),o(),w("ngModel",e.dataModel.isRequested),_("disabled",!(e.fieldsInfo.isRequested!=null&&e.fieldsInfo.isRequested.accessEditField)),o(),v(" ",h(5,4,"MESSAGE.Requested")," ")}}function Es(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",16),c(2),r(),a(3,"mat-checkbox",18),g("change",function(){p(e);let t=d();return m(t.onToggleIsApproved())}),c(4),S(5,"translate"),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.isApproved==null?null:e.fieldsInfo.isApproved.fieldTitle),o(),_("checked",e.dataModel.isApproved===!0)("disabled",!(e.fieldsInfo.isApproved!=null&&e.fieldsInfo.isApproved.accessEditField))("indeterminate",e.dataModel.isApproved===null),o(),v(" ",h(5,5,"MESSAGE.Approved")," ")}}function Ds(n,s){if(n&1){let e=P();a(0,"div",13)(1,"label",19),c(2),r(),a(3,"input",20),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.fromDate,t)||(l.dataModel.fromDate=t),m(t)}),r(),C(4,"mat-datepicker-toggle",21)(5,"mat-datepicker",22,1),r()}if(n&2){let e=x(6),i=d();o(2),A(i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle),o(),w("ngModel",i.dataModel.fromDate),_("matDatepicker",e)("disabled",!(i.fieldsInfo.fromDate!=null&&i.fieldsInfo.fromDate.accessEditField)),o(),_("for",e),o(),_("calendarHeaderComponent",i.datapickerHeader)}}function ys(n,s){if(n&1){let e=P();a(0,"div",13)(1,"label",23),c(2),S(3,"translate"),r(),a(4,"input",24),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.expireDate,t)||(l.dataModel.expireDate=t),m(t)}),r(),C(5,"mat-datepicker-toggle",21)(6,"mat-datepicker",22,2),r()}if(n&2){let e=x(7),i=d();o(2),A(h(3,6,"TITLE.Expire_Date")),o(2),w("ngModel",i.dataModel.expireDate),_("matDatepicker",e)("disabled",!(i.fieldsInfo.expireDate!=null&&i.fieldsInfo.expireDate.accessEditField)),o(),_("for",e),o(),_("calendarHeaderComponent",i.datapickerHeader)}}function Ts(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",25),c(2),r(),a(3,"textarea",26,3),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.description,t)||(l.dataModel.description=t),m(t)}),r(),a(5,"em"),c(6),r()()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),w("ngModel",i.dataModel.description),_("disabled",!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessEditField)),o(3),v("",e.value.length," / 500")}}function As(n,s){if(n&1){let e=P();a(0,"div",14)(1,"button",27),g("click",function(){p(e);let t=d();return m(t.onFormCancel())}),C(2,"i",28),c(3),S(4,"translate"),r(),a(5,"button",29),C(6,"i",30),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),v(" ",h(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),v(" ",h(8,5,"ACTION.SAVE")," ")}}var so=class so extends Ct{constructor(e,i,t,l,f,u,k){super(t,new _i,f,k);this.data=e;this.dialogRef=i;this.dataProviderClientApplicationPermissionService=t;this.cmsToastrService=l;this.publicHelper=f;this.cdr=u;this.translate=k;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new mt;this.dataModel=new _i;this.fileManagerOpenForm=!1;this.datapickerHeader=to;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderClientApplicationPermissionService.setAccessLoad(),this.dataProviderClientApplicationPermissionService.setAccessDataType(Oe.Editor),this.dataProviderClientApplicationPermissionService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderClientApplicationPermissionService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorClientApplication(e){if(!e||!e.id||e.id.length==0){this.dataModel.linkClientApplicationId=null;return}this.dataModel.linkClientApplicationId=e.id}onActionSelectorSourcePath(e){if(!e||!e.id||e.id.length==0){this.dataModel.linkSourcePathId=null;return}this.dataModel.linkSourcePathId=e.id}onToggleIsApproved(){this.dataModel.isApproved===null?this.dataModel.isApproved=!0:this.dataModel.isApproved===!0?this.dataModel.isApproved=!1:this.dataModel.isApproved=null}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};so.\u0275fac=function(i){return new(i||so)(I(se),I(le),I(Xi),I(N),I(G),I(O),I(F))},so.\u0275cmp=L({type:so,selectors:[["app-data-provider-client-application-permission-edit"]],viewQuery:function(i,t){if(i&1&&U(Is,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:22,vars:23,consts:[["vform","ngForm"],["FromDate",""],["ExpireDate",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"color-highlight"],["name","dataModel.isRequested",3,"ngModelChange","ngModel","disabled"],["name","dataModel.isApproved",3,"change","checked","disabled","indeterminate"],["for","fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker","disabled"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["for","expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",4),C(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),C(8,"app-cms-form-result-message",8),a(9,"form",9,0),g("ngSubmit",function(){return p(l),m(t.onFormSubmit())}),b(11,Ps,1,5,"app-cms-enum-record-status-selector",10),a(12,"app-data-provider-client-application-selector",11),S(13,"translate"),g("optionChange",function(u){return p(l),m(t.onActionSelectorClientApplication(u))}),r(),a(14,"app-data-provider-source-path-selector",11),S(15,"translate"),g("optionChange",function(u){return p(l),m(t.onActionSelectorSourcePath(u))}),r(),b(16,ws,6,6,"div",12),b(17,Es,6,7,"div",12),b(18,Ds,7,6,"div",13),b(19,ys,8,8,"div",13),b(20,Ts,7,6,"div",12),b(21,As,9,7,"div",14),r()()()}i&2&&(o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v(" ",t.formInfo.formTitle," "),o(2),v(" ",h(7,17,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),M(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),_("optionDisabled",!((t.fieldsInfo.linkClientApplicationId==null?null:t.fieldsInfo.linkClientApplicationId.accessEditField)??!1))("optionSelectForce",t.dataModel.linkClientApplicationId)("optionPlaceholder",h(13,19,"TITLE.CLIENTAPPLICATION")),o(2),_("optionDisabled",!((t.fieldsInfo.linkSourcePathId==null?null:t.fieldsInfo.linkSourcePathId.accessEditField)??!1))("optionSelectForce",t.dataModel.linkSourcePathId)("optionPlaceholder",h(15,21,"TITLE.SOURCEPATH")),o(2),M(t.fieldsInfo.isRequested!=null&&t.fieldsInfo.isRequested.accessWatchField?16:-1),o(),M(t.fieldsInfo.isApproved!=null&&t.fieldsInfo.isApproved.accessWatchField?17:-1),o(),M(t.fieldsInfo.fromDate!=null&&t.fieldsInfo.fromDate.accessWatchField?18:-1),o(),M(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessWatchField?19:-1),o(),M(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?20:-1),o(),M(t.formInfo.submitButtonEnabled?21:-1))},dependencies:[ve,$,ee,Ce,De,ye,ce,he,Kn,Zi,$i,en,Oi,W,ge,j,Se,nn,ao,B],encapsulation:2});var co=so;var Rs=()=>["expandedDetail"],xs=()=>[5,10,20,100],ks=n=>({display:n});function Ls(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",44),g("click",function(){p(e);let t=d();return m(t.onActionButtonNewRow())}),C(2,"i",45)(3,"br"),r(),a(4,"p",46),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.ADD")," "))}function Vs(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",47),g("click",function(){p(e);let t=d();return m(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",48)(3,"br"),r(),a(4,"p",46),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.EDIT")," "))}function Bs(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",49),g("click",function(){p(e);let t=d();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",50)(3,"br"),r(),a(4,"p",46),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.DELETE")," "))}function Fs(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Os(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),v(" ",e.id," ")}}function Ns(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Gs(n,s){if(n&1&&(a(0,"mat-cell",52),S(1,"statusCellClass"),C(2,"i",52),S(3,"statusIconClass"),r()),n&2){let e=s.$implicit;_("ngClass",h(1,2,e.recordStatus)),o(2),_("ngClass",h(3,4,e.recordStatus))}}function Hs(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.linkClientApplicationId==null?null:e.fieldsInfo.linkClientApplicationId.fieldTitle," ")}}function Ws(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),v(" ",e.linkClientApplicationId," ")}}function qs(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.linkSourcePathId==null?null:e.fieldsInfo.linkSourcePathId.fieldTitle," ")}}function js(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),v(" ",e.linkSourcePathId," ")}}function Us(n,s){if(n&1&&(a(0,"mat-header-cell",53),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.isRequested==null?null:e.fieldsInfo.isRequested.fieldTitle," ")}}function Qs(n,s){if(n&1&&(a(0,"mat-cell"),C(1,"i",52),S(2,"boolclass"),r()),n&2){let e=s.$implicit;o(),_("ngClass",h(2,1,e.isRequested))}}function zs(n,s){if(n&1&&(a(0,"mat-header-cell",53),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.isApproved==null?null:e.fieldsInfo.isApproved.fieldTitle," ")}}function Ks(n,s){n&1&&C(0,"i",54)}function Js(n,s){if(n&1&&(C(0,"i",52),S(1,"boolclass")),n&2){let e=d().$implicit;_("ngClass",h(1,1,e.isApproved))}}function Xs(n,s){if(n&1&&(a(0,"mat-cell"),b(1,Ks,1,0,"i",54)(2,Js,2,3,"i",52),r()),n&2){let e=s.$implicit;o(),M(e.isApproved===null?1:2)}}function Ys(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.fromDate==null?null:e.fieldsInfo.fromDate.fieldTitle," ")}}function Zs(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"localeDate"),r()),n&2){let e=s.$implicit;o(),v(" ",h(2,1,e.fromDate)," ")}}function $s(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function ed(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"localeDate"),r()),n&2){let e=s.$implicit;o(),v(" ",h(2,1,e.expireDate)," ")}}function td(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function id(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"localeDate"),r()),n&2){let e=s.$implicit;o(),v(" ",h(2,1,e.createdDate)," ")}}function nd(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function od(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"localeDate"),r()),n&2){let e=s.$implicit;o(),v(" ",h(2,1,e.updatedDate)," ")}}function ad(n,s){n&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"TITLE.OPTION")," "))}function rd(n,s){if(n&1){let e=P();a(0,"button",58),g("click",function(){p(e);let t=d().$implicit,l=d();return m(l.onActionButtonEditRow(t))}),a(1,"mat-icon"),c(2,"edit"),r(),a(3,"span"),c(4),S(5,"translate"),r()()}n&2&&(o(4),A(h(5,1,"ACTION.EDIT")))}function ld(n,s){if(n&1){let e=P();a(0,"button",58),g("click",function(){p(e);let t=d().$implicit,l=d();return m(l.onActionButtonDeleteRow(t))}),a(1,"mat-icon"),c(2,"delete"),r(),a(3,"span"),c(4),S(5,"translate"),r()()}n&2&&(o(4),A(h(5,1,"ACTION.DELETE")))}function sd(n,s){if(n&1&&(a(0,"mat-cell",55)(1,"button",56)(2,"mat-icon"),c(3,"more_vert"),r()(),a(4,"mat-menu",null,2),b(6,rd,6,3,"button",57),b(7,ld,6,3,"button",57),r()()),n&2){let e=x(5),i=d();o(),_("matMenuTriggerFor",e),o(5),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?6:-1),o(),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow?7:-1)}}function dd(n,s){if(n&1&&(a(0,"tr"),C(1,"td"),a(2,"td"),c(3),r()()),n&2){let e=d().$implicit,i=d();o(3),X(" ",i.fieldsInfo.linkClientApplicationId==null?null:i.fieldsInfo.linkClientApplicationId.fieldTitle," : ",e.linkClientApplicationId," ")}}function cd(n,s){if(n&1&&(a(0,"tr"),C(1,"td"),a(2,"td"),c(3),r()()),n&2){let e=d().$implicit,i=d();o(3),X(" ",i.fieldsInfo.linkSourcePathId==null?null:i.fieldsInfo.linkSourcePathId.fieldTitle," : ",e.linkSourcePathId," ")}}function pd(n,s){if(n&1&&(a(0,"tr"),C(1,"td"),a(2,"td"),c(3),C(4,"i",52),S(5,"boolclass"),r()()),n&2){let e=d().$implicit,i=d();o(3),v(" ",i.fieldsInfo.isRequested==null?null:i.fieldsInfo.isRequested.fieldTitle," : "),o(),_("ngClass",h(5,2,e.isRequested))}}function md(n,s){n&1&&C(0,"i",54)}function ud(n,s){if(n&1&&(C(0,"i",52),S(1,"boolclass")),n&2){let e=d(2).$implicit;_("ngClass",h(1,1,e.isApproved))}}function fd(n,s){if(n&1&&(a(0,"tr"),C(1,"td"),a(2,"td"),c(3),b(4,md,1,0,"i",54)(5,ud,2,3,"i",52),r()()),n&2){let e=d().$implicit,i=d();o(3),v(" ",i.fieldsInfo.isApproved==null?null:i.fieldsInfo.isApproved.fieldTitle," : "),o(),M(e.isApproved===null?4:5)}}function _d(n,s){if(n&1&&(a(0,"tr"),C(1,"td"),a(2,"td"),c(3),S(4,"localeDate"),r()()),n&2){let e=d().$implicit,i=d();o(3),X(" ",i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle," : ",h(4,2,e.fromDate)," ")}}function Sd(n,s){if(n&1&&(a(0,"tr"),C(1,"td"),a(2,"td"),c(3),S(4,"localeDate"),r()()),n&2){let e=d().$implicit,i=d();o(3),X(" ",i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle," : ",h(4,2,e.expireDate)," ")}}function Cd(n,s){if(n&1&&(a(0,"tr"),C(1,"td"),a(2,"td"),c(3),S(4,"localeDate"),r()()),n&2){let e=d().$implicit,i=d();o(3),X(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle," : ",h(4,2,e.createdDate)," ")}}function hd(n,s){if(n&1&&(a(0,"tr"),C(1,"td"),a(2,"td"),c(3),S(4,"localeDate"),r()()),n&2){let e=d().$implicit,i=d();o(3),X(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle," : ",h(4,2,e.updatedDate)," ")}}function vd(n,s){if(n&1&&(a(0,"mat-cell")(1,"div")(2,"table"),b(3,dd,4,2,"tr"),b(4,cd,4,2,"tr"),b(5,pd,6,4,"tr"),b(6,fd,6,2,"tr"),b(7,_d,5,4,"tr"),b(8,Sd,5,4,"tr"),b(9,Cd,5,4,"tr"),b(10,hd,5,4,"tr"),a(11,"tr"),C(12,"td")(13,"td"),r()()()()),n&2){let e=s.$implicit;o(3),M(e.linkClientApplicationId?3:-1),o(),M(e.linkSourcePathId?4:-1),o(),M(e.isRequested!==null&&e.isRequested!==void 0?5:-1),o(),M(e.isApproved!==null&&e.isApproved!==void 0?6:-1),o(),M(e.fromDate?7:-1),o(),M(e.expireDate?8:-1),o(),M(e.createdDate?9:-1),o(),M(e.updatedDate?10:-1)}}function gd(n,s){n&1&&C(0,"mat-header-row")}function bd(n,s){if(n&1){let e=P();a(0,"mat-row",59),g("click",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Md(n,s){if(n&1){let e=P();a(0,"mat-row",60),g("click",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=p(e).$implicit,l=d();return m(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,l=d();return m(l.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-expanded",e.expanded===!0)("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),_("ngStyle",Gt(5,ks,e.expanded===!0?"":"none"))}}var po=class po extends ht{constructor(e,i,t,l,f,u,k,J,Ge,tt,Ke,ct){super(e,new _i,Ke,u,J);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=l;this.router=f;this.tokenHelper=u;this.cdr=k;this.translate=J;this.cmsStoreService=Ge;this.pageInfo=tt;this.publicHelper=Ke;this.dialog=ct;this.tableData=[];this.requestLinkClientApplicationId="";this.requestLinkSourcePathId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new re;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","linkClientApplicationId","linkSourcePathId","isRequested","isApproved","fromDate","expireDate","Action"];this.tabledisplayedColumnsMobileSource=["recordStatus","linkClientApplicationId","linkSourcePathId","isRequested","isApproved","fromDate","expireDate","Action"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ai=>this.onSubmitOptionsSearch(ai)},this.requestLinkClientApplicationId=this.activatedRoute.snapshot.paramMap.get("LinkClientApplicationId")||"",this.requestLinkClientApplicationId&&this.requestLinkClientApplicationId.length>0){let ai=new K;ai.propertyName="LinkClientApplicationId",ai.value=this.requestLinkClientApplicationId,this.filteModelContent.filters.push(ai)}if(this.requestLinkSourcePathId=this.activatedRoute.snapshot.paramMap.get("LinkSourcePathId")||"",this.requestLinkSourcePathId&&this.requestLinkSourcePathId.length>0){let ai=new K;ai.propertyName="LinkSourcePathId",ai.value=this.requestLinkSourcePathId,this.filteModelContent.filters.push(ai)}this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=ae.Descending}ngOnInit(){if(this.requestLinkClientApplicationId=this.activatedRoute.snapshot.paramMap.get("LinkClientApplicationId")||"",this.requestLinkSourcePathId=this.activatedRoute.snapshot.paramMap.get("LinkSourcePathId")||"",this.filteModelContent.filters=this.filteModelContent.filters.filter(e=>e.propertyName!=="LinkClientApplicationId"&&e.propertyName!=="LinkSourcePathId"),this.requestLinkClientApplicationId&&this.requestLinkClientApplicationId.length>0){let e=new K;e.propertyName="LinkClientApplicationId",e.value=this.requestLinkClientApplicationId,this.filteModelContent.filters.push(e)}if(this.requestLinkSourcePathId&&this.requestLinkSourcePathId.length>0){let e=new K;e.propertyName="LinkSourcePathId",e.value=this.requestLinkSourcePathId,this.filteModelContent.filters.push(e)}this.unsubscribe.push(this.activatedRoute.paramMap.subscribe(e=>{let i=e.get("LinkClientApplicationId")||"",t=e.get("LinkSourcePathId")||"";if(i!==this.requestLinkClientApplicationId||t!==this.requestLinkSourcePathId){if(this.requestLinkClientApplicationId=i,this.requestLinkSourcePathId=t,this.filteModelContent.filters=this.filteModelContent.filters.filter(l=>l.propertyName!=="LinkClientApplicationId"&&l.propertyName!=="LinkSourcePathId"),this.requestLinkClientApplicationId&&this.requestLinkClientApplicationId.length>0){let l=new K;l.propertyName="LinkClientApplicationId",l.value=this.requestLinkClientApplicationId,this.filteModelContent.filters.push(l)}if(this.requestLinkSourcePathId&&this.requestLinkSourcePathId.length>0){let l=new K;l.propertyName="LinkSourcePathId",l.value=this.requestLinkSourcePathId,this.filteModelContent.filters.push(l)}this.filteModelContent.currentPageNumber=0,this.tokenInfo&&this.DataGetAll()}})),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Pe(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new _i);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.applyDataGetAllResult(t),t.isSuccess?(this.tableData=this.dataModelResult?.listItems??[],this.sort&&(this.tableSource.sort=this.sort),this.paginator&&(this.tableSource.paginator=this.paginator),this.tableSource.filter="",this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.direction==="asc"?(e.direction="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.direction==="desc"?(e.direction="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):e.direction="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(lo,{height:"90%",panelClass:e,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{LinkClientApplicationId:this.requestLinkClientApplicationId,LinkSourcePathId:this.requestLinkSourcePathId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(co,{height:"90%",panelClass:i,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(u=>{this.publicHelper.processService.processStart(f,u,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:u=>{u.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(u=>{i.set(u,0)}),this.translate.get("MESSAGE.All").subscribe(u=>{i.set(u,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(u=>{this.publicHelper.processService.processStart(t,u,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:u=>{u.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(u.errorMessage),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new K;f.propertyName="recordStatus",f.value=pt.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:u=>{u.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(u.errorMessage),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonDataRow(e,i){this.onActionButtonEditRow(e)}onActionbuttonExport(){var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ll,{height:"50%",enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,panelClass:e,data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(t=>{})}onActionbuttonPrintRow(e=this.tableRowSelected){if(this.tableRowSelected=e,!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){let i=this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow");this.cmsToastrService.typeErrorSelected(i);return}this.onActionTableRowSelect(e)}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionTableRowSelect(e,i=null){if(i&&i.preventDefault(),this.tableRowSelected=e,this.publicHelper.pageInfo.updateContentInfo(new yl(e.id,e.title,e.viewContentHidden,"",e.urlViewContent)),this.tableRowSelected.id===e.id?e.expanded==!0?e.expanded=!1:e.expanded=!0:e.expanded=!1,i?.button===2){this.tableRowSelect2Click=!1,this.tableRowSelect3Click=!1,setTimeout(()=>{this.tableRowSelect2Click=!0,this.tableRowSelect3Click=!1},100);return}this.clickCount++,setTimeout(()=>{this.clickCount===1?(this.tableRowSelect2Click=!1,this.tableRowSelect3Click=!1):this.clickCount===2?(this.tableRowSelect2Click=!0,this.tableRowSelect3Click=!1):this.clickCount===3&&(this.tableRowSelect2Click=!1,this.tableRowSelect3Click=!0),this.clickCount=0},500)}onActionButtonMemo(e=this.tableRowSelected){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.cmsToastrService.typeErrorSelectedRow();return}this.onActionTableRowSelect(e)}onActionButtonMemoRow(e=this.tableRowSelected){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.cmsToastrService.typeErrorSelectedRow();return}this.onActionTableRowSelect(e)}};po.\u0275fac=function(i){return new(i||po)(I(Xi),I(N),I(Ut),I(zt),I(Ze),I(ze),I(O),I(F),I(Qe),I(_t),I(G),I(je))},po.\u0275cmp=L({type:po,selectors:[["app-data-provider-client-application-permission-list"]],viewQuery:function(i,t){if(i&1&&(U(Ue,5),U(pe,5)),i&2){let l;Q(l=z())&&(t.sort=l.first),Q(l=z())&&(t.paginator=l.first)}},standalone:!1,features:[q],decls:71,vars:32,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowDisplay","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkClientApplicationId"],["matColumnDef","linkSourcePathId"],["matColumnDef","isRequested"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","isApproved"],["matColumnDef","fromDate"],["matColumnDef","expireDate"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-expanded","ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["mat-sort-header","",1,"form-label"],[1,"fa","fa-question-circle","text-warning"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["mat-menu-item",""],["mat-menu-item","",3,"click"],[1,"ntk-row-mainfild",3,"click","rtclick"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(u){return p(l),E(t.viewGuideNotice,u)||(t.viewGuideNotice=u),m(u)}),g("optionOnActionButtonMemoRow",function(){return p(l),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(l),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(l),m(t.onActionbuttonExport())})("optionOnActionButtonPrintRow",function(){return p(l),m(t.onActionbuttonPrintRow())}),y(1,4),c(2," -------------------------------------- "),T(),Me(3,5)(4,6),y(5,7),a(6,"a",8),g("click",function(){return p(l),m(t.viewGuideNotice=!t.viewGuideNotice)}),C(7,"i",9),r(),a(8,"a",8),g("click",function(){return p(l),m(t.onActionButtonReload())}),C(9,"i",10),r(),T(),y(10,11),a(11,"a",12),g("click",function(){return p(l),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(12,"mat-slide-toggle",13),c(13),S(14,"translate"),r(),a(15,"a",12),g("click",function(){return p(l),m(t.onActionButtonStatist())}),C(16,"mat-slide-toggle",13),c(17),S(18,"translate"),r(),T(),y(19,14),b(20,Ls,7,3,"div",15),T(),y(21,16),b(22,Vs,7,3,"div",15),b(23,Bs,7,3,"div",15),T(),y(24,17),a(25,"app-cms-search-list",18),D("optionsChange",function(u){return p(l),E(t.optionsSearch,u)||(t.optionsSearch=u),m(u)}),r(),a(26,"app-cms-statist-list",18),D("optionsChange",function(u){return p(l),E(t.optionsStatist,u)||(t.optionsStatist=u),m(u)}),r(),T(),y(27,19),a(28,"mat-table",20,0),g("matSortChange",function(){p(l);let u=x(29);return m(t.onTableSortData(u))}),y(30,21),V(31,Fs,2,1,"mat-header-cell",22)(32,Os,2,1,"mat-cell",23),T(),y(33,24),V(34,Ns,2,1,"mat-header-cell",22)(35,Gs,4,6,"mat-cell",25),T(),y(36,26),V(37,Hs,2,1,"mat-header-cell",22)(38,Ws,2,1,"mat-cell",23),T(),y(39,27),V(40,qs,2,1,"mat-header-cell",22)(41,js,2,1,"mat-cell",23),T(),y(42,28),V(43,Us,2,1,"mat-header-cell",29)(44,Qs,3,3,"mat-cell",23),T(),y(45,30),V(46,zs,2,1,"mat-header-cell",29)(47,Xs,3,1,"mat-cell",23),T(),y(48,31),V(49,Ys,2,1,"mat-header-cell",22)(50,Zs,3,3,"mat-cell",23),T(),y(51,32),V(52,$s,2,1,"mat-header-cell",22)(53,ed,3,3,"mat-cell",23),T(),y(54,33),V(55,td,2,1,"mat-header-cell",22)(56,id,3,3,"mat-cell",23),T(),y(57,34),V(58,nd,2,1,"mat-header-cell",22)(59,od,3,3,"mat-cell",23),T(),y(60,35),V(61,ad,3,3,"mat-header-cell",36)(62,sd,8,3,"mat-cell",37),T(),y(63,38),V(64,vd,14,8,"mat-cell",23),T(),V(65,gd,1,0,"mat-header-row",39)(66,bd,1,2,"mat-row",40)(67,Md,1,7,"mat-row",41),r(),T(),y(68,42),a(69,"mat-paginator",43,1),g("page",function(u){return p(l),m(t.onTablePageingData(u))}),r(),T(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowDisplay",(t.tableRowSelected==null||t.tableRowSelected.linkSourcePathId==null?null:t.tableRowSelected.linkSourcePathId.length)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null?null:t.tableRowSelected.linkSourcePathId)+" - "+(t.tableRowSelected==null?null:t.tableRowSelected.linkClientApplicationId)),o(9),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),v("",h(14,26,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),v("",h(18,28,"ACTION.STATIST")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),_("dataSource",t.tableSource),o(37),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(),_("matRowDefColumns",_e(30,Rs)),o(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(31,xs)))},dependencies:[we,Xt,$e,Je,It,Qa,Pt,pe,Te,Ue,it,wt,ot,Et,at,nt,Dt,rt,lt,yt,Tt,Ae,Re,At,ke,B,dt,xe,tn,Dl],encapsulation:2});var un=po;var Id=()=>[5,10,20,100],Pd=(n,s)=>s.id;function wd(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",25),g("click",function(){p(e);let t=d();return m(t.onActionButtonNewRow())}),C(2,"i",26)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.ADD")," "))}function Ed(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",28),g("click",function(){p(e);let t=d();return m(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",29)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.EDIT")," "))}function Dd(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",30),g("click",function(){p(e);let t=d();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",31)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.DELETE")," "))}function yd(n,s){if(n&1&&(a(0,"div",38),C(1,"i",40),c(2),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",e.id," ")}}function Td(n,s){n&1&&(a(0,"span"),C(1,"i",41),c(2),S(3,"translate"),r()),n&2&&(o(2),v(" ",h(3,1,"MESSAGE.Requested")))}function Ad(n,s){if(n&1&&(a(0,"span"),C(1,"i",42),c(2),S(3,"translate"),S(4,"translate"),r()),n&2){let e=d().$implicit;o(),Lr(Wt("fa-solid fa-",e.isApproved?"check":"xmark")),o(),v(" ",e.isApproved?h(3,4,"MESSAGE.Approved"):h(4,6,"MESSAGE.Rejected")," ")}}function Rd(n,s){if(n&1&&(a(0,"div",38),C(1,"i",43),c(2),S(3,"localeDate"),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle,": ",h(3,2,e.fromDate)," ")}}function xd(n,s){if(n&1&&(a(0,"div",38),C(1,"i",44),c(2),S(3,"localeDate"),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle,": ",h(3,2,e.expireDate)," ")}}function kd(n,s){if(n&1){let e=P();a(0,"div",39)(1,"div",38)(2,"span",45),g("click",function(t){return p(e),d(3).onActionCopied(),m(t.stopPropagation())}),C(3,"i",46),r(),c(4),r()()}if(n&2){let e=d().$implicit;o(2),_("cdkCopyToClipboard",e.id==null?null:e.id.toString()),o(2),v(" ID: ",e.id," ")}}function Ld(n,s){if(n&1){let e=P();a(0,"div",33),g("click",function(t){let l=p(e).$implicit,f=d(2);return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,f=d(2);return m(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=p(e).$implicit,l=d(2);return m(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,l=d(2);return m(l.onActionTableRowMouseLeave(t))}),a(1,"div",34),C(2,"i",35),S(3,"statusIconClass"),r(),a(4,"div",36)(5,"div",37),c(6),r(),b(7,yd,3,2,"div",38),a(8,"div",38),b(9,Td,4,3,"span"),b(10,Ad,5,8,"span"),r(),b(11,Rd,4,4,"div",38),b(12,xd,4,4,"div",38),b(13,kd,5,2,"div",39),r()()}if(n&2){let e=s.$implicit,i=d(2);H("selected",(i.tableRowSelected==null?null:i.tableRowSelected.id)===e.id)("bg-fade-highlight-light",(i.tableRowSelected==null?null:i.tableRowSelected.id)===e.id),He("aria-label",e.linkClientApplicationId+" - "+e.linkSourcePathId),o(2),_("ngClass",h(3,14,e.recordStatus)),o(4),X(" ",e.linkClientApplicationId," - ",e.linkSourcePathId," "),o(),M(e.id?7:-1),o(2),M(e.isRequested?9:-1),o(),M(e.isApproved!==null?10:-1),o(),M(e.fromDate?11:-1),o(),M(e.expireDate?12:-1),o(),M(i.getRowExpanded(e)?13:-1)}}function Vd(n,s){if(n&1&&(a(0,"div",21),Ve(1,Ld,14,16,"div",32,Pd),r()),n&2){let e=d();o(),Be(e.tableData)}}function Bd(n,s){n&1&&(a(0,"div",22),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"MESSAGE.No_Data")," "))}var En=class En extends un{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(e){return e.expanded===!0}};En.\u0275fac=(()=>{let e;return function(t){return(e||(e=Rt(En)))(t||En)}})(),En.\u0275cmp=L({type:En,selectors:[["app-data-provider-client-application-permission-list-mobile"]],hostBindings:function(i,t){i&1&&g("click",function(f){return t.onDocumentClick(f)},Mt)},standalone:!1,features:[q],decls:36,vars:30,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-hourglass-half"],["aria-hidden","true"],["aria-hidden","true",1,"fa-solid","fa-calendar"],["aria-hidden","true",1,"fa-solid","fa-calendar-times"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list-mobile",1),D("optionActionGuideNoticeDisplayChange",function(u){return p(l),E(t.viewGuideNotice,u)||(t.viewGuideNotice=u),m(u)}),g("optionOnActionButtonMemoRow",function(){return p(l),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(l),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(l),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(l),m(t.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return p(l),m(t.onActionLoadNextPage())}),Me(1,2)(2,3)(3,4),y(4,5),a(5,"a",6),g("click",function(){return p(l),m(t.viewGuideNotice=!t.viewGuideNotice)}),C(6,"i",7),r(),a(7,"a",6),g("click",function(){return p(l),m(t.onActionButtonReload())}),C(8,"i",8),r(),a(9,"a",9),g("click",function(){return p(l),m(t.onActionGridExpandRows(!0))}),C(10,"i",10),r(),a(11,"a",9),g("click",function(){return p(l),m(t.onActionGridExpandRows(!1))}),C(12,"i",11),r(),T(),y(13,12),a(14,"a",13),g("click",function(){return p(l),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(15,"mat-slide-toggle",14),c(16),S(17,"translate"),r(),a(18,"a",13),g("click",function(){return p(l),m(t.onActionButtonStatist())}),C(19,"mat-slide-toggle",14),c(20),S(21,"translate"),r(),T(),y(22,15),b(23,wd,7,3,"div",16),T(),y(24,17),b(25,Ed,7,3,"div",16),b(26,Dd,7,3,"div",16),T(),y(27,18),a(28,"app-cms-search-list",19),D("optionsChange",function(u){return p(l),E(t.optionsSearch,u)||(t.optionsSearch=u),m(u)}),r(),a(29,"app-cms-statist-list",19),D("optionsChange",function(u){return p(l),E(t.optionsStatist,u)||(t.optionsStatist=u),m(u)}),r(),T(),y(30,20),b(31,Vd,3,0,"div",21)(32,Bd,3,3,"div",22),T(),y(33,23),a(34,"mat-paginator",24,0),g("page",function(u){return p(l),m(t.onTablePageingData(u))}),r(),T(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","data-provider.main.client-application-permission.list"),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null||t.tableRowSelected.linkSourcePathId==null?null:t.tableRowSelected.linkSourcePathId.length)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null?null:t.tableRowSelected.linkSourcePathId)+" - "+(t.tableRowSelected==null?null:t.tableRowSelected.linkClientApplicationId)),o(8),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),_("checked",t.optionsSearch.data.show),o(),v("",h(17,25,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),v("",h(21,27,"ACTION.STATIST")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?23:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null||t.tableRowSelected.linkSourcePathId==null?null:t.tableRowSelected.linkSourcePathId.length)>0?25:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null||t.tableRowSelected.linkSourcePathId==null?null:t.tableRowSelected.linkSourcePathId.length)>0?26:-1),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),M(t.tableData&&t.tableData.length>0?31:32),o(3),_("length",(t.dataModelResult==null?null:t.dataModelResult.totalRowCount)||0)("pageIndex",((t.dataModelResult==null?null:t.dataModelResult.currentPageNumber)||1)-1)("pageSize",(t.dataModelResult==null?null:t.dataModelResult.rowPerPage)||10)("pageSizeOptions",_e(29,Id)))},dependencies:[we,pe,Te,Ye,Ae,Re,kt,ke,B,dt,xe],encapsulation:2});var mo=En;var Od=["vform"];function Nd(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",23),D("modelChange",function(t){p(e);let l=d();return E(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=d();w("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Gd(n,s){n&1&&C(0,"i",17)}function Hd(n,s){n&1&&C(0,"i",18)}function Wd(n,s){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function qd(n,s){if(n&1){let e=P();a(0,"app-cms-user-selector",24),S(1,"translate"),g("optionChange",function(t){p(e);let l=d();return m(l.onActionSelectorUser(t))}),r()}if(n&2){let e=d();_("optionSelectForce",e.dataModel.linkCoreUserId)("optionPlaceholder",h(1,4,"TITLE.USER"))("optionDisabled",!((e.fieldsInfo.linkCoreUserId==null?null:e.fieldsInfo.linkCoreUserId.accessEditField)??!1))("optionLabel",e.fieldsInfo.linkCoreUserId==null?null:e.fieldsInfo.linkCoreUserId.fieldTitle)}}function jd(n,s){if(n&1){let e=P();a(0,"div",20)(1,"label",25),c(2),r(),a(3,"input",26),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.fromDate,t)||(l.dataModel.fromDate=t),m(t)}),r(),C(4,"mat-datepicker-toggle",27)(5,"mat-datepicker",28,2),r()}if(n&2){let e=x(6),i=d();o(2),A(i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle),o(),_("matDatepicker",e),w("ngModel",i.dataModel.fromDate),_("disabled",!(i.fieldsInfo.fromDate!=null&&i.fieldsInfo.fromDate.accessEditField)),o(),_("for",e),o(),_("calendarHeaderComponent",i.datapickerHeader)}}function Ud(n,s){if(n&1){let e=P();a(0,"div",20)(1,"label",29),c(2),r(),a(3,"input",30),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.expireDate,t)||(l.dataModel.expireDate=t),m(t)}),r(),C(4,"mat-datepicker-toggle",27)(5,"mat-datepicker",28,3),r()}if(n&2){let e=x(6),i=d();o(2),A(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),_("matDatepicker",e),w("ngModel",i.dataModel.expireDate),_("disabled",!(i.fieldsInfo.expireDate!=null&&i.fieldsInfo.expireDate.accessEditField)),o(),_("for",e),o(),_("calendarHeaderComponent",i.datapickerHeader)}}function Qd(n,s){if(n&1){let e=P();a(0,"div",14)(1,"label",31),c(2),r(),a(3,"textarea",32,4),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.description,t)||(l.dataModel.description=t),m(t)}),r(),a(5,"em"),c(6),r()()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),w("ngModel",i.dataModel.description),_("disabled",!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessEditField)),o(3),v("",(e.value==null?null:e.value.length)||0," / 500")}}function zd(n,s){if(n&1){let e=P();a(0,"div",14)(1,"label",33),c(2),r(),a(3,"input",34,5),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.apiKey,t)||(l.dataModel.apiKey=t),m(t)}),r(),a(5,"em"),c(6),r()()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.apiKey==null?null:i.fieldsInfo.apiKey.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.apiKey==null?null:i.fieldsInfo.apiKey.fieldTitle)),w("ngModel",i.dataModel.apiKey),_("disabled",!(i.fieldsInfo.apiKey!=null&&i.fieldsInfo.apiKey.accessEditField)),o(3),v("",(e.value==null?null:e.value.length)||0," / 500")}}function Kd(n,s){if(n&1){let e=P();a(0,"span",42),c(1),a(2,"i",43),g("click",function(){let t=p(e).$implicit,l=d(3);return m(l.onActionRemoveFirewallIP(t))}),r()()}if(n&2){let e=s.$implicit;o(),v(" ",e," ")}}function Jd(n,s){if(n&1&&(a(0,"div",41),Ve(1,Kd,3,1,"span",42,Ba),r()),n&2){let e=d(2);o(),Be(e.dataModel.firewallAllowIPList)}}function Xd(n,s){if(n&1){let e=P();a(0,"div",21)(1,"div",35)(2,"label",36),c(3),r(),a(4,"div",37)(5,"input",38,6),D("ngModelChange",function(t){p(e);let l=d();return E(l.firewallAllowIPInput,t)||(l.firewallAllowIPInput=t),m(t)}),r(),a(7,"button",39),g("click",function(){p(e);let t=d();return m(t.onActionAddFirewallIP())}),C(8,"i",40),r()()(),b(9,Jd,3,0,"div",41),r()}if(n&2){let e=d();o(3),A(e.fieldsInfo.firewallAllowIP==null?null:e.fieldsInfo.firewallAllowIP.fieldTitle),o(2),_("placeholder",R(e.fieldsInfo.firewallAllowIP==null?null:e.fieldsInfo.firewallAllowIP.fieldTitle)),w("ngModel",e.firewallAllowIPInput),_("disabled",!(e.fieldsInfo.firewallAllowIP!=null&&e.fieldsInfo.firewallAllowIP.accessEditField)),o(2),_("disabled",!e.firewallAllowIPInput||e.firewallAllowIPInput.length===0),o(2),M(e.dataModel.firewallAllowIPList&&e.dataModel.firewallAllowIPList.length>0?9:-1)}}function Yd(n,s){if(n&1){let e=P();a(0,"div",22)(1,"button",44),g("click",function(){p(e);let t=d();return m(t.onFormCancel())}),C(2,"i",45),c(3),S(4,"translate"),r(),a(5,"button",46),C(6,"i",47),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),v(" ",h(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),v(" ",h(8,5,"ACTION.SAVE")," ")}}var uo=class uo extends St{constructor(e,i,t,l,f,u,k,J){super(l,new fi,u,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderClientApplicationService=l;this.cmsToastrService=f;this.publicHelper=u;this.cdr=k;this.translate=J;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Y;this.dataModel=new fi;this.fileManagerOpenForm=!1;this.firewallAllowIPInput="";this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&e.linkUserId&&+e.linkUserId>0&&(this.dataModel.linkCoreUserId=+e.linkUserId)}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderClientApplicationService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0,Id:i.item.id})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorUser(e){if(!e||!e.id){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorSite(e){if(!e||!e.id){this.dataModel.linkSiteId=null;return}this.dataModel.linkSiteId=e.id}validateIPFormat(e){if(!e||e.trim().length===0)return!1;let i=/^(\d{1,3}\.){3}\d{1,3}$/,t=/^(\d{1,3}\.){3}\d{1,3}\/\d{1,2}$/,l=/^(\d{1,3}\.){3}\d{1,3}-(\d{1,3}\.){3}\d{1,3}$/;if(i.test(e))return e.split(".").every(u=>parseInt(u,10)>=0&&parseInt(u,10)<=255);if(t.test(e)){let[f,u]=e.split("/"),k=parseInt(u,10);return k<0||k>32?!1:f.split(".").every(Ge=>parseInt(Ge,10)>=0&&parseInt(Ge,10)<=255)}if(l.test(e)){let[f,u]=e.split("-"),k=f.split("."),J=u.split("."),Ge=k.every(Ke=>parseInt(Ke,10)>=0&&parseInt(Ke,10)<=255),tt=J.every(Ke=>parseInt(Ke,10)>=0&&parseInt(Ke,10)<=255);return Ge&&tt}return!1}onActionAddFirewallIP(){if(!this.firewallAllowIPInput||this.firewallAllowIPInput.trim().length===0)return;let e=this.firewallAllowIPInput.trim();if(!this.validateIPFormat(e)){this.translate.get("ERRORMESSAGE.MESSAGE.Invalid_IP_Format").subscribe(i=>{this.cmsToastrService.typeErrorMessage(i||"Invalid IP format")});return}this.dataModel.firewallAllowIPList||(this.dataModel.firewallAllowIPList=[]),this.dataModel.firewallAllowIPList.includes(e)||(this.dataModel.firewallAllowIPList=[...this.dataModel.firewallAllowIPList,e]),this.firewallAllowIPInput=""}onActionRemoveFirewallIP(e){if(!this.dataModel.firewallAllowIPList)return;this.dataModel.firewallAllowIPList.indexOf(e)>-1&&(this.dataModel.firewallAllowIPList=this.dataModel.firewallAllowIPList.filter(t=>t!==e))}};uo.\u0275fac=function(i){return new(i||uo)(I(se),I(le),I(ie),I(Ji),I(N),I(G),I(O),I(F))},uo.\u0275cmp=L({type:uo,selectors:[["app-data-provider-client-application-add"]],viewQuery:function(i,t){if(i&1&&U(Od,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:29,vars:22,consts:[["vform","ngForm"],["Title",""],["FromDate",""],["ExpireDate",""],["Description",""],["ApiKey",""],["FirewallAllowIPInput",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionSelectForce","optionPlaceholder","optionDisabled","optionLabel"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"mb-4"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled","optionLabel"],["for","fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","fromDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","disabled"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["for","expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.apiKey",1,"color-highlight"],["matInput","","type","text","name","dataModel.apiKey","id","dataModel.apiKey",1,"form-control","validate-name","input-ltr",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field"],["for","firewallAllowIPInput",1,"color-highlight"],[1,"d-flex"],["matInput","","type","text","name","firewallAllowIPInput","id","firewallAllowIPInput",1,"form-control","validate-name","input-ltr",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"click","disabled"],[1,"fa","fa-plus"],[1,"d-flex","flex-wrap","mt-2",2,"gap","0.5rem"],[1,"badge","bg-info","d-inline-flex","align-items-center","font-13"],[1,"fa","fa-times","ms-2",2,"cursor","pointer",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",7),C(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),C(8,"app-cms-form-result-message",11),a(9,"form",12,0),g("ngSubmit",function(){return p(l),m(t.onFormSubmit())}),b(11,Nd,1,5,"app-cms-enum-record-status-selector",13),a(12,"div",14)(13,"label",15),c(14),r(),a(15,"input",16,1),D("ngModelChange",function(u){return p(l),E(t.dataModel.title,u)||(t.dataModel.title=u),m(u)}),r(),b(17,Gd,1,0,"i",17),b(18,Hd,1,0,"i",18),a(19,"em"),c(20),r(),b(21,Wd,5,3,"mat-error"),r(),b(22,qd,2,6,"app-cms-user-selector",19),b(23,jd,7,6,"div",20),b(24,Ud,7,6,"div",20),b(25,Qd,7,6,"div",14),b(26,zd,7,6,"div",14),b(27,Xd,10,7,"div",21),b(28,Yd,9,7,"div",22),r()()()}if(i&2){let l=x(16);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v(" ",t.formInfo.formTitle," "),o(2),v(" ",h(7,20,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),M(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(3),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.title),o(2),M(l.value?-1:17),o(),M(l.value?18:-1),o(2),v("",l.value.length," / 100"),o(),M(l.errors!=null&&l.errors.required?21:-1),o(),M(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessWatchField?22:-1),o(),M(t.fieldsInfo.fromDate!=null&&t.fieldsInfo.fromDate.accessWatchField?23:-1),o(),M(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessWatchField?24:-1),o(),M(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?25:-1),o(),M(t.fieldsInfo.apiKey!=null&&t.fieldsInfo.apiKey.accessWatchField?26:-1),o(),M(t.fieldsInfo.firewallAllowIP!=null&&t.fieldsInfo.firewallAllowIP.accessWatchField?27:-1),o(),M(t.formInfo.submitButtonEnabled?28:-1)}},dependencies:[ve,$,ee,Ce,Ee,De,ye,ce,he,Zi,$i,en,qe,Oi,W,ge,za,j,Se,B],encapsulation:2});var $a=uo;var Zd=["vform"],$d=(n,s)=>s.id;function ec(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",30),D("modelChange",function(t){p(e);let l=d();return E(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=d();w("model",e.dataModel.recordStatus),_("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function tc(n,s){n&1&&C(0,"i",33)}function ic(n,s){n&1&&C(0,"i",34)}function nc(n,s){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function oc(n,s){if(n&1){let e=P();a(0,"div",15)(1,"label",31),c(2),r(),a(3,"input",32,1),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.title,t)||(l.dataModel.title=t),m(t)}),r(),b(5,tc,1,0,"i",33),b(6,ic,1,0,"i",34),a(7,"em"),c(8),r(),b(9,nc,5,3,"mat-error"),r()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),_("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),M(e.value?-1:5),o(),M(e.value?6:-1),o(2),v("",e.value.length," / 100"),o(),M(e.errors!=null&&e.errors.required?9:-1)}}function ac(n,s){if(n&1){let e=P();a(0,"app-cms-user-selector",35),S(1,"translate"),g("optionChange",function(t){p(e);let l=d();return m(l.onActionSelectorUser(t))}),r()}if(n&2){let e=d();_("optionSelectForce",e.dataModel.linkCoreUserId)("optionPlaceholder",h(1,4,"TITLE.USER"))("optionDisabled",!((e.fieldsInfo.linkCoreUserId==null?null:e.fieldsInfo.linkCoreUserId.accessEditField)??!1))("optionLabel",e.fieldsInfo.linkCoreUserId==null?null:e.fieldsInfo.linkCoreUserId.fieldTitle)}}function rc(n,s){if(n&1){let e=P();a(0,"app-cms-site-selector",35),S(1,"translate"),g("optionChange",function(t){p(e);let l=d();return m(l.onActionSelectorSite(t))}),r()}if(n&2){let e=d();_("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",h(1,4,"TITLE.SITE"))("optionDisabled",!((e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.accessEditField)??!1))("optionLabel",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle)}}function lc(n,s){if(n&1){let e=P();a(0,"div",17)(1,"label",36),c(2),r(),a(3,"input",37),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.fromDate,t)||(l.dataModel.fromDate=t),m(t)}),r(),C(4,"mat-datepicker-toggle",38)(5,"mat-datepicker",39,2),r()}if(n&2){let e=x(6),i=d();o(2),A(i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle),o(),_("matDatepicker",e),w("ngModel",i.dataModel.fromDate),_("disabled",!(i.fieldsInfo.fromDate!=null&&i.fieldsInfo.fromDate.accessEditField)),o(),_("for",e),o(),_("calendarHeaderComponent",i.datapickerHeader)}}function sc(n,s){if(n&1){let e=P();a(0,"div",17)(1,"label",40),c(2),r(),a(3,"input",41),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.expireDate,t)||(l.dataModel.expireDate=t),m(t)}),r(),C(4,"mat-datepicker-toggle",38)(5,"mat-datepicker",39,3),r()}if(n&2){let e=x(6),i=d();o(2),A(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),_("matDatepicker",e),w("ngModel",i.dataModel.expireDate),_("disabled",!(i.fieldsInfo.expireDate!=null&&i.fieldsInfo.expireDate.accessEditField)),o(),_("for",e),o(),_("calendarHeaderComponent",i.datapickerHeader)}}function dc(n,s){if(n&1){let e=P();a(0,"div",15)(1,"label",42),c(2),r(),a(3,"textarea",43,4),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.description,t)||(l.dataModel.description=t),m(t)}),r(),a(5,"em"),c(6),r()()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),w("ngModel",i.dataModel.description),_("disabled",!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessEditField)),o(3),v("",(e.value==null?null:e.value.length)||0," / 500")}}function cc(n,s){if(n&1){let e=P();a(0,"div",15)(1,"label",44),c(2),r(),a(3,"input",45,5),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.apiKey,t)||(l.dataModel.apiKey=t),m(t)}),r(),a(5,"em"),c(6),r()()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.apiKey==null?null:i.fieldsInfo.apiKey.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.apiKey==null?null:i.fieldsInfo.apiKey.fieldTitle)),w("ngModel",i.dataModel.apiKey),_("disabled",!(i.fieldsInfo.apiKey!=null&&i.fieldsInfo.apiKey.accessEditField)),o(3),v("",(e.value==null?null:e.value.length)||0," / 500")}}function pc(n,s){if(n&1){let e=P();a(0,"span",53),c(1),a(2,"i",54),g("click",function(){let t=p(e).$implicit,l=d(3);return m(l.onActionRemoveFirewallIP(t))}),r()()}if(n&2){let e=s.$implicit;o(),v(" ",e," ")}}function mc(n,s){if(n&1&&(a(0,"div",52),Ve(1,pc,3,1,"span",53,Ba),r()),n&2){let e=d(2);o(),Be(e.dataModel.firewallAllowIPList)}}function uc(n,s){if(n&1){let e=P();a(0,"div",18)(1,"div",46)(2,"label",47),c(3),r(),a(4,"div",48)(5,"input",49,6),D("ngModelChange",function(t){p(e);let l=d();return E(l.firewallAllowIPInput,t)||(l.firewallAllowIPInput=t),m(t)}),r(),a(7,"button",50),g("click",function(){p(e);let t=d();return m(t.onActionAddFirewallIP())}),C(8,"i",51),r()()(),b(9,mc,3,0,"div",52),r()}if(n&2){let e=d();o(3),A(e.fieldsInfo.firewallAllowIP==null?null:e.fieldsInfo.firewallAllowIP.fieldTitle),o(2),_("placeholder",R(e.fieldsInfo.firewallAllowIP==null?null:e.fieldsInfo.firewallAllowIP.fieldTitle)),w("ngModel",e.firewallAllowIPInput),_("disabled",!(e.fieldsInfo.firewallAllowIP!=null&&e.fieldsInfo.firewallAllowIP.accessEditField)),o(2),_("disabled",!e.firewallAllowIPInput||e.firewallAllowIPInput.length===0),o(2),M(e.dataModel.firewallAllowIPList&&e.dataModel.firewallAllowIPList.length>0?9:-1)}}function fc(n,s){if(n&1&&(a(0,"small",22),c(1),S(2,"translate"),r()),n&2){let e=d();o(),X(" ",e.sourcePathList.length," ",h(2,2,"MESSAGE.Item")," ")}}function _c(n,s){n&1&&(a(0,"div",27),C(1,"i",55),a(2,"p",56),c(3),S(4,"translate"),r()()),n&2&&(o(3),v(" ",h(4,1,"MESSAGE.Receiving_information")," "))}function Sc(n,s){n&1&&(a(0,"th",60),c(1),S(2,"translate"),r(),a(3,"th"),c(4),S(5,"translate"),r(),a(6,"th"),c(7),S(8,"translate"),r(),a(9,"th"),c(10),S(11,"translate"),r()),n&2&&(o(),v(" ",h(2,4,"TITLE.IsApproved")," "),o(3),A(h(5,6,"TITLE.FromDate")),o(3),A(h(8,8,"TITLE.ExpireDate")),o(3),A(h(11,10,"TITLE.Description")))}function Cc(n,s){if(n&1&&(C(0,"br"),a(1,"small",22),c(2),r()),n&2){let e=d().$implicit;o(2),A(e.title)}}function hc(n,s){if(n&1){let e=P();a(0,"td",60)(1,"input",64),g("change",function(){p(e),d();let t=Pn(0),l=d(2);return m(l.onToggleIsApproved(t))}),r()(),a(2,"td")(3,"div",17)(4,"app-input-date",65),D("modelChange",function(t){p(e),d();let l=Pn(0);return E(l.fromDate,t)||(l.fromDate=t),m(t)}),c(5),S(6,"translate"),r()()(),a(7,"td")(8,"div",17)(9,"app-input-date",65),D("modelChange",function(t){p(e),d();let l=Pn(0);return E(l.expireDate,t)||(l.expireDate=t),m(t)}),c(10),S(11,"translate"),r()()(),a(12,"td")(13,"textarea",66),S(14,"translate"),D("ngModelChange",function(t){p(e),d();let l=Pn(0);return E(l.description,t)||(l.description=t),m(t)}),r()()}if(n&2){let e=d().$implicit,i=Pn(0);o(),_("checked",i.isApproved===!0)("name","isApproved_"+e.id)("indeterminate",i.isApproved===null),o(3),w("model",i.fromDate),_("optionDisabled",!1)("optionRequired",!1),o(),v(" ",h(6,15,"TITLE.FromDate")," "),o(4),w("model",i.expireDate),_("optionDisabled",!1)("optionRequired",!1),o(),v(" ",h(11,17,"TITLE.ExpireDate")," "),o(3),_("placeholder",R(h(14,19,"TITLE.Description"))),w("ngModel",i.description),_("name","description_"+e.id)}}function vc(n,s){if(n&1){let e=P();Br(0),a(1,"tr")(2,"td")(3,"code"),c(4),r(),b(5,Cc,3,1),r(),a(6,"td",60)(7,"input",63),D("ngModelChange",function(t){p(e);let l=Pn(0);return E(l.isRequested,t)||(l.isRequested=t),m(t)}),r()(),b(8,hc,15,21),r()}if(n&2){let e=s.$implicit,i=d(2),t=Fr(i.getPermissionForSourcePath(e.id));o(4),A(e.id),o(),M(e.title?5:-1),o(2),w("ngModel",t.isRequested),_("name","isRequested_"+e.id),o(),M(i.tokenHelper.isAdminSite?8:-1)}}function gc(n,s){if(n&1){let e=P();a(0,"div",57)(1,"table",58)(2,"thead",59)(3,"tr")(4,"th"),c(5),S(6,"translate"),r(),a(7,"th",60),c(8),S(9,"translate"),r(),b(10,Sc,12,12),r()(),a(11,"tbody"),Ve(12,vc,9,6,"tr",null,$d),r()()(),a(14,"div",61)(15,"button",62),g("click",function(){p(e);let t=d();return m(t.onActionSavePermissionChanges())}),C(16,"i",26),c(17),S(18,"translate"),r()()}if(n&2){let e=d();o(5),A(h(6,4,"TITLE.SourcePath")),o(3),v(" ",h(9,6,"TITLE.IsRequested")," "),o(2),M(e.tokenHelper.isAdminSite?10:-1),o(2),Be(e.sourcePathList),o(5),v(" ",h(18,8,"ACTION.SAVE")," ")}}function bc(n,s){n&1&&(a(0,"div",28),C(1,"i",67),a(2,"p",21),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.no_information")))}function Mc(n,s){if(n&1){let e=P();a(0,"div",29)(1,"button",68),g("click",function(){p(e);let t=d();return m(t.onFormCancel())}),C(2,"i",69),c(3),S(4,"translate"),r(),a(5,"button",70),C(6,"i",71),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),v(" ",h(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),v(" ",h(8,5,"ACTION.SAVE")," ")}}var fo=class fo extends Ct{constructor(e,i,t,l,f,u,k,J,Ge,tt,Ke,ct,ai,jn){super(l,new fi,Ge,ct);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderClientApplicationService=l;this.dataProviderSourcePathService=f;this.dataProviderClientApplicationPermissionService=u;this.cmsToastrService=k;this.cmsConfirmationDialogService=J;this.publicHelper=Ge;this.cdr=tt;this.cmsStoreService=Ke;this.translate=ct;this.tokenHelper=ai;this.dialog=jn;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.unsubscribe=[];this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new mt;this.dataModel=new fi;this.fileManagerOpenForm=!1;this.firewallAllowIPInput="";this.datapickerHeader=to;this.permissionDataModelResult=new Y;this.permissionTableData=[];this.permissionTableRowSelected=new _i;this.permissionFilterModel=new re;this.permissionLoading=!1;this.sourcePathList=[];this.sourcePathListLoading=!1;this.sourcePathPermissionMap=new Map;this.permissionChanges=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id||""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(In=>In.tokenInfoStore).subscribe(In=>Pe(this,null,function*(){this.tokenInfo=In})))}ngOnInit(){if(this.requestId?.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(this.requestId?.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderClientApplicationService.setAccessLoad(),this.dataProviderClientApplicationService.setAccessDataType(Oe.Editor),this.dataProviderClientApplicationService.ServiceGetOneById(this.requestId).subscribe({next:i=>{if(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,this.dataModel.firewallAllowIPList=[],this.dataModel.firewallAllowIP&&this.dataModel.firewallAllowIP.length>0){let t=this.dataModel.firewallAllowIP.split(",").map(l=>l.trim()).filter(l=>l.length>0);this.dataModel.firewallAllowIPList=[...t]}i.isSuccess?(this.DataGetAllSourcePaths(),this.DataGetAllPermission(),this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}syncFirewallAllowIPFromList(){this.dataModel.firewallAllowIPList&&this.dataModel.firewallAllowIPList.length>0?this.dataModel.firewallAllowIP=this.dataModel.firewallAllowIPList.join(","):this.dataModel.firewallAllowIP=""}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.syncFirewallAllowIPFromList(),this.dataProviderClientApplicationService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorUser(e){if(!e||!e.id){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorSite(e){if(!e||!e.id){this.dataModel.linkSiteId=null;return}this.dataModel.linkSiteId=e.id}validateIPFormat(e){if(!e||e.trim().length===0)return!1;let i=/^(\d{1,3}\.){3}\d{1,3}$/,t=/^(\d{1,3}\.){3}\d{1,3}\/\d{1,2}$/,l=/^(\d{1,3}\.){3}\d{1,3}-(\d{1,3}\.){3}\d{1,3}$/;if(i.test(e))return e.split(".").every(u=>parseInt(u,10)>=0&&parseInt(u,10)<=255);if(t.test(e)){let[f,u]=e.split("/"),k=parseInt(u,10);return k<0||k>32?!1:f.split(".").every(Ge=>parseInt(Ge,10)>=0&&parseInt(Ge,10)<=255)}if(l.test(e)){let[f,u]=e.split("-"),k=f.split("."),J=u.split("."),Ge=k.every(Ke=>parseInt(Ke,10)>=0&&parseInt(Ke,10)<=255),tt=J.every(Ke=>parseInt(Ke,10)>=0&&parseInt(Ke,10)<=255);return Ge&&tt}return!1}onActionAddFirewallIP(){if(!this.firewallAllowIPInput||this.firewallAllowIPInput.trim().length===0)return;let e=this.firewallAllowIPInput.trim();if(!this.validateIPFormat(e)){this.translate.get("ERRORMESSAGE.MESSAGE.Invalid_IP_Format").subscribe(i=>{this.cmsToastrService.typeErrorMessage(i||"Invalid IP format")});return}this.dataModel.firewallAllowIPList||(this.dataModel.firewallAllowIPList=[]),this.dataModel.firewallAllowIPList.includes(e)||(this.dataModel.firewallAllowIPList=[...this.dataModel.firewallAllowIPList,e]),this.dataModel.firewallAllowIPList.length>0&&(this.dataModel.firewallAllowIP=this.dataModel.firewallAllowIPList.join(",")),this.firewallAllowIPInput=""}onActionRemoveFirewallIP(e){if(!this.dataModel.firewallAllowIPList)return;this.dataModel.firewallAllowIPList.indexOf(e)>-1&&(this.dataModel.firewallAllowIPList=this.dataModel.firewallAllowIPList.filter(t=>t!==e)),this.dataModel.firewallAllowIPList.length>0?this.dataModel.firewallAllowIP=this.dataModel.firewallAllowIPList.join(","):this.dataModel.firewallAllowIP=""}DataGetAllPermission(){if(!this.requestId||this.requestId.length===0)return;this.permissionLoading=!0,this.permissionFilterModel.filters=[];let e=new K;e.propertyName="LinkClientApplicationId",e.value=this.requestId,this.permissionFilterModel.filters.push(e),this.permissionFilterModel.sortColumn="id",this.permissionFilterModel.sortType=ae.Descending,this.dataProviderClientApplicationPermissionService.ServiceGetAll(this.permissionFilterModel).subscribe({next:i=>{this.permissionLoading=!1,this.permissionDataModelResult=i,i.isSuccess?(this.permissionTableData=i.listItems||[],this.syncSourcePathsWithPermissions()):this.cmsToastrService.typeErrorMessage(i.errorMessage)},error:i=>{this.permissionLoading=!1,this.cmsToastrService.typeError(i)}})}DataGetAllSourcePaths(){this.sourcePathListLoading=!0;let e=new re;e.rowPerPage=1e3,e.accessLoad=!0,this.dataProviderSourcePathService.ServiceGetAllEditor(e).subscribe({next:i=>{this.sourcePathListLoading=!1,i.isSuccess?(this.sourcePathList=i.listItems||[],this.syncSourcePathsWithPermissions()):this.cmsToastrService.typeErrorMessage(i.errorMessage)},error:i=>{this.sourcePathListLoading=!1,this.cmsToastrService.typeError(i)}})}syncSourcePathsWithPermissions(){this.sourcePathPermissionMap.clear(),this.permissionTableData.forEach(e=>{e.linkSourcePathId&&this.sourcePathPermissionMap.set(e.linkSourcePathId,e)}),this.sourcePathList.forEach(e=>{if(!this.sourcePathPermissionMap.has(e.id)){let i=new _i;i.linkClientApplicationId=this.requestId,i.linkSourcePathId=e.id,i.isRequested=!1,i.isApproved=null,this.sourcePathPermissionMap.set(e.id,i)}})}getPermissionForSourcePath(e){return this.sourcePathPermissionMap.get(e)||new _i}onToggleIsApproved(e){e.isApproved===null?e.isApproved=!0:e.isApproved===!0?e.isApproved=!1:e.isApproved=null}onActionSavePermissionChanges(){if(!this.requestId||this.requestId.length===0)return;let e=[];if(this.sourcePathPermissionMap.forEach(u=>{u.linkSourcePathId&&e.push(u)}),e.length===0){this.translate.get("MESSAGE.no_information").subscribe(u=>{this.cmsToastrService.typeWarningMessage(u)});return}let i=this.constructor.name+"onActionSavePermissionChanges";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(u=>{this.publicHelper.processService.processStart(i,u,this.constructorInfoAreaId)});let t=0,l=0,f=e.length;e.forEach(u=>{u.id&&u.id.length>0?this.dataProviderClientApplicationPermissionService.ServiceEdit(u).subscribe({next:k=>{t++,t+l===f&&(this.publicHelper.processService.processStop(i),l===0&&(this.cmsToastrService.typeSuccessEdit(),this.DataGetAllPermission()))},error:k=>{l++,this.cmsToastrService.typeError(k),t+l===f&&this.publicHelper.processService.processStop(i,!1)}}):u.isRequested?this.dataProviderClientApplicationPermissionService.ServiceAdd(u).subscribe({next:k=>{t++,t+l===f&&(this.publicHelper.processService.processStop(i),l===0&&(this.cmsToastrService.typeSuccessAdd(),this.DataGetAllPermission()))},error:k=>{l++,this.cmsToastrService.typeError(k),t+l===f&&this.publicHelper.processService.processStop(i,!1)}}):(t++,t+l===f&&(this.publicHelper.processService.processStop(i),l===0&&this.DataGetAllPermission()))})}onActionPermissionButtonNewRow(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(lo,{height:"90%",panelClass:e,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{LinkClientApplicationId:this.requestId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAllPermission()})}onActionPermissionButtonEditRow(e){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.cmsToastrService.typeErrorSelectedRow();return}this.permissionTableRowSelected=e;var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(co,{height:"90%",panelClass:i,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{id:this.permissionTableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAllPermission()})}onActionPermissionButtonDeleteRow(e){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.cmsToastrService.typeErrorSelectedRow();return}this.permissionTableRowSelected=e;let i="",t="";this.translate.get("MESSAGE.Delete").subscribe(l=>{i=l}),this.translate.get("MESSAGE.Do_you_want_to_delete_this_content").subscribe(l=>{t=l+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{l&&this.dataProviderClientApplicationPermissionService.ServiceDelete(this.permissionTableRowSelected.id).subscribe({next:f=>{f.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAllPermission()):this.cmsToastrService.typeErrorRemove()},error:f=>{this.cmsToastrService.typeError(f)}})}).catch(()=>{})}};fo.\u0275fac=function(i){return new(i||fo)(I(se),I(le),I(ie),I(Ji),I(pi),I(Xi),I(N),I(zt),I(G),I(O),I(Qe),I(F),I(ze),I(je))},fo.\u0275cmp=L({type:fo,selectors:[["app-data-provider-client-application-edit"]],viewQuery:function(i,t){if(i&1&&U(Zd,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:44,vars:40,consts:[["vform","ngForm"],["Title",""],["FromDate",""],["ExpireDate",""],["Description",""],["ApiKey",""],["FirewallAllowIPInput",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[3,"optionSelectForce","optionPlaceholder","optionDisabled","optionLabel"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"mb-4"],[1,"mt-3"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"mb-0"],[1,"text-muted"],["type","button",1,"btn","font-13","font-600","btn-s","rounded-s","shadow-xl","border-0","gradient-gray","me-2",3,"click","disabled","title"],[1,"fa","fa-refresh"],["type","button",1,"btn","font-13","font-600","btn-s","rounded-s","shadow-xl","border-0","gradient-green",3,"click","disabled"],[1,"fa","fa-save"],[1,"text-center","py-4"],[1,"alert","alert-info","mt-3","text-center","py-4"],[1,"form-actions","mt-3"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled","optionLabel"],["for","fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","fromDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","disabled"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["for","expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.apiKey",1,"color-highlight"],["matInput","","type","text","name","dataModel.apiKey","id","dataModel.apiKey",1,"form-control","validate-name","input-ltr",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field"],["for","firewallAllowIPInput",1,"color-highlight"],[1,"d-flex"],["matInput","","type","text","name","firewallAllowIPInput","id","firewallAllowIPInput",1,"form-control","validate-name","input-ltr",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"click","disabled"],[1,"fa","fa-plus"],[1,"d-flex","flex-wrap","mt-2",2,"gap","0.5rem"],[1,"badge","bg-info","d-inline-flex","align-items-center","font-13"],[1,"fa","fa-times","ms-2",2,"cursor","pointer",3,"click"],[1,"fa","fa-spinner","fa-spin","fa-2x","text-primary"],[1,"mt-2"],[1,"table-responsive"],[1,"table","table-hover","table-striped"],[1,"table-dark"],[1,"text-center"],[1,"mt-3","text-center"],["type","button",1,"btn","font-13","font-600","btn-s","rounded-s","shadow-xl","border-0","gradient-green",3,"click"],["type","checkbox",1,"form-check-input",3,"ngModelChange","ngModel","name"],["type","checkbox",1,"form-check-input",3,"change","checked","name","indeterminate"],[3,"modelChange","model","optionDisabled","optionRequired"],["rows","2",1,"form-control",3,"ngModelChange","ngModel","name","placeholder"],[1,"fa","fa-info-circle","fa-2x","mb-2"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",7),C(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),C(8,"app-cms-form-result-message",11),a(9,"form",12,0),g("ngSubmit",function(){return p(l),m(t.onFormSubmit())}),a(11,"mat-tab-group")(12,"mat-tab",13),S(13,"translate"),b(14,ec,1,5,"app-cms-enum-record-status-selector",14),b(15,oc,10,9,"div",15),b(16,ac,2,6,"app-cms-user-selector",16),b(17,rc,2,6,"app-cms-site-selector",16),b(18,lc,7,6,"div",17),b(19,sc,7,6,"div",17),b(20,dc,7,6,"div",15),b(21,cc,7,6,"div",15),b(22,uc,10,7,"div",18),r(),a(23,"mat-tab",13),S(24,"translate"),a(25,"div",19)(26,"div",20)(27,"div")(28,"h5",21),c(29),S(30,"translate"),r(),b(31,fc,3,4,"small",22),r(),a(32,"div")(33,"button",23),S(34,"translate"),g("click",function(){return p(l),t.DataGetAllSourcePaths(),m(t.DataGetAllPermission())}),C(35,"i",24),r(),a(36,"button",25),g("click",function(){return p(l),m(t.onActionSavePermissionChanges())}),C(37,"i",26),c(38),S(39,"translate"),r()()(),b(40,_c,5,3,"div",27),b(41,gc,19,10)(42,bc,5,3,"div",28),r()()(),b(43,Mc,9,7,"div",29),r()()()}i&2&&(o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v(" ",t.formInfo.formTitle," "),o(2),v(" ",h(7,28,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(4),_("label",R(h(13,30,"TITLE.REQUIRED_INFORMATION"))),o(2),M(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?14:-1),o(),M(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?15:-1),o(),M(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessWatchField?16:-1),o(),M(t.fieldsInfo.linkSiteId!=null&&t.fieldsInfo.linkSiteId.accessWatchField?17:-1),o(),M(t.fieldsInfo.fromDate!=null&&t.fieldsInfo.fromDate.accessWatchField?18:-1),o(),M(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessWatchField?19:-1),o(),M(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?20:-1),o(),M(t.fieldsInfo.apiKey!=null&&t.fieldsInfo.apiKey.accessWatchField?21:-1),o(),M(t.fieldsInfo.firewallAllowIP!=null&&t.fieldsInfo.firewallAllowIP.accessWatchField?22:-1),o(),_("label",R(h(24,32,"TITLE.PERMISSION"))),o(6),A(h(30,34,"TITLE.PERMISSION")),o(2),M(!t.sourcePathListLoading&&!t.permissionLoading&&t.sourcePathList?31:-1),o(2),_("disabled",t.sourcePathListLoading||t.permissionLoading)("title",h(34,36,"ACTION.REFRESH")),o(2),H("fa-spin",t.sourcePathListLoading||t.permissionLoading),o(),_("disabled",t.sourcePathListLoading||t.permissionLoading),o(2),v(" ",h(39,38,"ACTION.SAVE")," "),o(2),M(t.sourcePathListLoading||t.permissionLoading?40:-1),o(),M(!t.sourcePathListLoading&&!t.permissionLoading&&t.sourcePathList&&t.sourcePathList.length>0?41:!t.sourcePathListLoading&&!t.permissionLoading?42:-1),o(2),M(t.formInfo.submitButtonEnabled?43:-1))},dependencies:[ve,$,Li,ee,Ce,Ee,De,ye,ce,he,Zi,$i,en,qe,Oi,W,Cl,hl,Tl,ge,za,j,Se,Ol,B],encapsulation:2});var _o=fo;var Ic=()=>["expandedDetail"],Pc=()=>[5,10,20,100],ql=n=>({display:n});function wc(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",39),g("click",function(){p(e);let t=d();return m(t.onActionButtonNewRow())}),C(2,"i",40)(3,"br"),r(),a(4,"p",41),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.ADD")," "))}function Ec(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",42),g("click",function(){p(e);let t=d();return m(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",43)(3,"br"),r(),a(4,"p",41),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.EDIT")," "))}function Dc(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",44),g("click",function(){p(e);let t=d();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",45)(3,"br"),r(),a(4,"p",41),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.DELETE")," "))}function yc(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",46),g("click",function(){p(e);let t=d();return m(t.onActionButtonPermissionList(t.tableRowSelected))}),C(2,"i",47)(3,"br"),r(),a(4,"p",41),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.PERMISSION")," "))}function Tc(n,s){n&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"TITLE.MENU")," "))}function Ac(n,s){if(n&1){let e=P();a(0,"mat-cell")(1,"button",48),g("click",function(){let t=p(e).$implicit,l=d();return m(l.onActionTableRowSelectActionMenu(t))}),C(2,"i",49),r()()}}function Rc(n,s){if(n&1&&(a(0,"mat-header-cell",50),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function xc(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),v(" ",e.title," ")}}function kc(n,s){if(n&1&&(a(0,"mat-header-cell",50),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Lc(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),r()),n&2){let e=s.$implicit;o(),v(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function Vc(n,s){if(n&1&&(a(0,"mat-header-cell",50),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Bc(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"cmsuserinfo"),S(3,"async"),r()),n&2){let e=s.$implicit;o(),v(" ",h(3,3,h(2,1,e.linkUserId))," ")}}function Fc(n,s){if(n&1&&(a(0,"mat-header-cell",50),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Oc(n,s){if(n&1&&C(0,"select",52),n&2){let e=d().$implicit,i=d();_("contentService",i.contentService)("row",e)("ngStyle",Gt(3,ql,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Nc(n,s){if(n&1&&(a(0,"mat-cell"),C(1,"i",51),S(2,"statusIconClass"),b(3,Oc,1,5,"select",52),r()),n&2){let e=s.$implicit,i=d();o(),_("ngClass",h(2,2,e.recordStatus)),o(2),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?3:-1)}}function Gc(n,s){if(n&1&&(a(0,"mat-header-cell",50),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Hc(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"date"),r()),n&2){let e=s.$implicit;o(),v(" ",di(2,1,e.createdDate,"yyyy-MM-dd HH:mm")," ")}}function Wc(n,s){if(n&1&&(a(0,"mat-header-cell",50),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function qc(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"date"),r()),n&2){let e=s.$implicit;o(),v(" ",di(2,1,e.updatedDate,"yyyy-MM-dd HH:mm")," ")}}function jc(n,s){n&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"TITLE.OPTION")," "))}function Uc(n,s){if(n&1&&(a(0,"mat-cell",53)(1,"button",54)(2,"mat-icon"),c(3,"more_vert"),r()(),C(4,"mat-menu",null,2),r()),n&2){let e=x(5);o(),_("matMenuTriggerFor",e)}}function Qc(n,s){if(n&1){let e=P();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),c(5),a(6,"span",55),g("click",function(){p(e);let t=d();return m(t.onActionCopied())}),C(7,"i",56),r()()(),a(8,"tr")(9,"td"),c(10),r(),a(11,"td"),c(12),S(13,"cmsuserinfo"),S(14,"async"),r()(),a(15,"tr")(16,"td"),c(17),r(),a(18,"td"),c(19),S(20,"cmssiteinfo"),S(21,"async"),r()()()()()}if(n&2){let e=s.$implicit,i=d();o(5),v(" ",e.id," "),o(),_("cdkCopyToClipboard",e.id),o(4),v("",i.fieldsInfo.linkUserId==null?null:i.fieldsInfo.linkUserId.fieldTitle,":"),o(2),A(h(14,8,h(13,6,e.linkUserId))),o(5),v("",i.fieldsInfo.linkSiteId==null?null:i.fieldsInfo.linkSiteId.fieldTitle,":"),o(2),A(h(21,12,h(20,10,e.linkSiteId)))}}function zc(n,s){n&1&&C(0,"mat-header-row")}function Kc(n,s){if(n&1){let e=P();a(0,"mat-row",57),g("click",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=p(e).$implicit,l=d();return m(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,l=d();return m(l.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Jc(n,s){if(n&1){let e=P();a(0,"mat-row",58),g("click",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=p(e).$implicit,l=d();return m(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,l=d();return m(l.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-expanded",e.expanded===!0)("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),_("ngStyle",Gt(5,ql,e.expanded===!0?"":"none"))}}var So=class So extends ht{constructor(e,i,t,l,f,u,k,J,Ge,tt,Ke){super(e,new fi,tt,f,k);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.router=l;this.tokenHelper=f;this.cdr=u;this.translate=k;this.cmsStoreService=J;this.pageInfo=Ge;this.publicHelper=tt;this.dialog=Ke;this.tableData=[];this.requestLinkUserId="";this.requestLinkSiteId=0;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new re;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","title","linkUserId","linkSiteId","createdDate","updatedDate","action_menu"];this.tabledisplayedColumnsMobileSource=["recordStatus","title","linkUserId","createdDate","action_menu"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ct=>this.onSubmitOptionsSearch(ct)},this.activatedRoute.snapshot.paramMap.get("LinkUserId")&&(this.requestLinkUserId=this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.activatedRoute.snapshot.paramMap.get("LinkSiteId")&&(this.requestLinkSiteId=+this.activatedRoute.snapshot.paramMap.get("LinkSiteId")||0),this.requestLinkUserId?.length>0){let ct=new K;ct.propertyName="LinkUserId",ct.value=this.requestLinkUserId,this.filteModelContent.filters.push(ct)}if(this.requestLinkSiteId>0){let ct=new K;ct.propertyName="linkSiteId",ct.value=this.requestLinkSiteId,this.filteModelContent.filters.push(ct)}this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=ae.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Pe(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new fi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.tableData=t.listItems,this.tableSource.data=t.listItems,this.sort&&(this.tableSource.sort=this.sort),this.paginator&&(this.tableSource.paginator=this.paginator),this.tableSource.filter="",this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.applyDataGetAllResult(t),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=this.requestLinkUserId;var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open($a,{height:"90%",width:"60%",panelClass:i,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{linkUserId:e}}).afterClosed().subscribe(l=>{if(l&&l.dialogChangedDate)if(l.id&&l.id>0){let f=new ft;f.disableClose=!0,f.autoFocus=!0,f.height="90%",f.data={id:l.id},this.dialog.open(_o,f).afterClosed().subscribe(k=>{k&&k.dialogChangedDate&&this.DataGetAll()})}else this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(_o,{height:"90%",panelClass:i,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(_o,{height:"40%",panelClass:i,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(u=>{i.set(u,0)}),this.translate.get("MESSAGE.All").subscribe(u=>{i.set(u,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(u=>{this.publicHelper.processService.processStart(t,u,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:u=>{u.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(u.errorMessage),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new K;f.propertyName="recordStatus",f.value=pt.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:u=>{u.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(u.errorMessage),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonPermissionList(e=this.tableRowSelected,i){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/data-provider/client-application-permission/LinkClientApplicationId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/client-application-permission/LinkClientApplicationId/",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};So.\u0275fac=function(i){return new(i||So)(I(Ji),I(N),I(Ut),I(Ze),I(ze),I(O),I(F),I(Qe),I(_t),I(G),I(je))},So.\u0275cmp=L({type:So,selectors:[["app-data-provider-client-application-list"]],viewQuery:function(i,t){if(i&1&&(U(Ue,5),U(pe,5)),i&2){let l;Q(l=z())&&(t.sort=l.first),Q(l=z())&&(t.paginator=l.first)}},standalone:!1,features:[q],decls:62,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","title"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","recordStatus"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-expanded","ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-key","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(u){return p(l),E(t.viewGuideNotice,u)||(t.viewGuideNotice=u),m(u)}),g("optionOnActionButtonMemoRow",function(){return p(l),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(l),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(l),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(l),m(t.onActionButtonPrintRow())}),Me(1,4)(2,5)(3,6),y(4,7),a(5,"a",8),g("click",function(){return p(l),m(t.viewGuideNotice=!t.viewGuideNotice)}),C(6,"i",9),r(),a(7,"a",8),g("click",function(){return p(l),m(t.onActionButtonReload())}),C(8,"i",10),r(),T(),y(9,11),a(10,"a",12),g("click",function(){return p(l),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(11,"mat-slide-toggle",13),c(12),S(13,"translate"),r(),a(14,"a",12),g("click",function(){return p(l),m(t.onActionButtonStatist())}),C(15,"mat-slide-toggle",13),c(16),S(17,"translate"),r(),T(),y(18,14),b(19,wc,7,3,"div",15),T(),y(20,16),b(21,Ec,7,3,"div",15),b(22,Dc,7,3,"div",15),b(23,yc,7,3,"div",15),T(),y(24,17),a(25,"app-cms-search-list",18),D("optionsChange",function(u){return p(l),E(t.optionsSearch,u)||(t.optionsSearch=u),m(u)}),r(),a(26,"app-cms-statist-list",18),D("optionsChange",function(u){return p(l),E(t.optionsStatist,u)||(t.optionsStatist=u),m(u)}),r(),T(),y(27,19),a(28,"mat-table",20,0),g("matSortChange",function(){p(l);let u=x(29);return m(t.onTableSortData(u))}),y(30,21),V(31,Tc,3,3,"mat-header-cell",22)(32,Ac,3,0,"mat-cell",23),T(),y(33,24),V(34,Rc,2,1,"mat-header-cell",25)(35,xc,2,1,"mat-cell",23),T(),y(36,26),V(37,kc,2,1,"mat-header-cell",25)(38,Lc,4,5,"mat-cell",23),T(),y(39,27),V(40,Vc,2,1,"mat-header-cell",25)(41,Bc,4,5,"mat-cell",23),T(),y(42,28),V(43,Fc,2,1,"mat-header-cell",25)(44,Nc,4,4,"mat-cell",23),T(),y(45,29),V(46,Gc,2,1,"mat-header-cell",25)(47,Hc,3,4,"mat-cell",23),T(),y(48,30),V(49,Wc,2,1,"mat-header-cell",25)(50,qc,3,4,"mat-cell",23),T(),y(51,31),V(52,jc,3,3,"mat-header-cell",22)(53,Uc,6,1,"mat-cell",32),T(),y(54,33),V(55,Qc,22,14,"mat-cell",23),T(),V(56,zc,1,0,"mat-header-row",34)(57,Kc,1,2,"mat-row",35)(58,Jc,1,7,"mat-row",36),r(),T(),y(59,37),a(60,"mat-paginator",38,1),g("page",function(u){return p(l),m(t.onTablePageingData(u))}),r(),T(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","dataprovider.client-application.list"),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(8),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),v("",h(13,27,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),v("",h(17,29,"ACTION.STATIST")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?19:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?21:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?22:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?23:-1),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),_("dataSource",t.tableSource),o(28),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(),_("matRowDefColumns",_e(31,Ic)),o(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(32,Pc)))},dependencies:[we,Xt,$e,Je,W,It,Pt,pe,Te,Ue,it,wt,ot,Et,at,nt,Dt,rt,lt,yt,Tt,Ye,Ae,Re,At,ke,Xe,Fe,Nr,B,Al,st,xe],encapsulation:2});var fn=So;var Xc=()=>[5,10,20,100],Yc=(n,s)=>s.id;function Zc(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",25),g("click",function(){p(e);let t=d();return m(t.onActionButtonNewRow())}),C(2,"i",26)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.ADD")," "))}function $c(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",28),g("click",function(){p(e);let t=d();return m(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",29)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.EDIT")," "))}function ep(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",30),g("click",function(){p(e);let t=d();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",31)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.DELETE")," "))}function tp(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",6),g("click",function(){p(e);let t=d();return m(t.onActionButtonPermissionList(t.tableRowSelected))}),C(2,"i",32)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.PERMISSION")," "))}function ip(n,s){if(n&1&&(a(0,"div",39),C(1,"i",41),c(2),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",e.id," ")}}function np(n,s){if(n&1&&(a(0,"div",39),C(1,"i",42),c(2),S(3,"cmssiteinfo"),S(4,"async"),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.linkSiteId==null?null:i.fieldsInfo.linkSiteId.fieldTitle,": ",h(4,4,h(3,2,e.linkSiteId))," ")}}function op(n,s){if(n&1&&(a(0,"div",39),C(1,"i",43),c(2),S(3,"localeDate"),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",h(3,2,e.createdDate)," ")}}function ap(n,s){if(n&1&&C(0,"select",45),n&2){let e=d(2).$implicit,i=d(2);_("contentService",i.contentService)("row",e)}}function rp(n,s){if(n&1&&(a(0,"div",39),C(1,"i",44),S(2,"statusIconClass"),b(3,ap,1,2,"select",45),r()),n&2){let e=d().$implicit,i=d(2);o(),_("ngClass",h(2,2,e.recordStatus)),o(2),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function lp(n,s){if(n&1&&(a(0,"div",39),C(1,"i",48),c(2),S(3,"localeDate"),r()),n&2){let e=d(2).$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",h(3,2,e.updatedDate)," ")}}function sp(n,s){if(n&1){let e=P();a(0,"div",40),b(1,lp,4,4,"div",39),a(2,"div",39)(3,"span",46),g("click",function(t){return p(e),d(3).onActionCopied(),m(t.stopPropagation())}),C(4,"i",47),r(),c(5),r()()}if(n&2){let e=d().$implicit;o(),M(e.updatedDate?1:-1),o(2),_("cdkCopyToClipboard",e.id.toString()),o(2),v(" ID: ",e.id," ")}}function dp(n,s){if(n&1){let e=P();a(0,"div",34),g("click",function(t){let l=p(e).$implicit,f=d(2);return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,f=d(2);return m(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=p(e).$implicit,l=d(2);return m(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,l=d(2);return m(l.onActionTableRowMouseLeave(t))}),a(1,"div",35),C(2,"i",36),r(),a(3,"div",37)(4,"div",38),c(5),r(),b(6,ip,3,2,"div",39),b(7,np,5,6,"div",39),b(8,op,4,4,"div",39),b(9,rp,4,4,"div",39),b(10,sp,6,3,"div",40),r()()}if(n&2){let e=s.$implicit,i=d(2);H("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))("bg-fade-highlight-light",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),He("aria-label",e.title||e.id),o(5),v(" ",e.title||"ID: "+e.id," "),o(),M(e.id?6:-1),o(),M(e.linkSiteId?7:-1),o(),M(e.createdDate?8:-1),o(),M(e.recordStatus!==void 0?9:-1),o(),M(i.getRowExpanded(e)?10:-1)}}function cp(n,s){if(n&1&&(a(0,"div",21),Ve(1,dp,11,11,"div",33,Yc),r()),n&2){let e=d();o(),Be(e.dataModelResult.listItems)}}function pp(n,s){n&1&&(a(0,"div",22),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"MESSAGE.NoRecord")," "))}var Dn=class Dn extends fn{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(e){return e.expanded===!0}};Dn.\u0275fac=(()=>{let e;return function(t){return(e||(e=Rt(Dn)))(t||Dn)}})(),Dn.\u0275cmp=L({type:Dn,selectors:[["app-data-provider-client-application-list-mobile"]],hostBindings:function(i,t){i&1&&g("click",function(f){return t.onDocumentClick(f)},Mt)},standalone:!1,features:[q],decls:37,vars:31,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-key","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",1,"fa-solid","fa-mobile-screen-button"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-globe"],["aria-hidden","true",1,"fa-solid","fa-calendar"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list-mobile",1),D("optionActionGuideNoticeDisplayChange",function(u){return p(l),E(t.viewGuideNotice,u)||(t.viewGuideNotice=u),m(u)}),g("optionOnActionButtonMemoRow",function(){return p(l),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(l),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(l),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(l),m(t.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return p(l),m(t.onActionLoadNextPage())}),Me(1,2)(2,3)(3,4),y(4,5),a(5,"a",6),g("click",function(){return p(l),m(t.viewGuideNotice=!t.viewGuideNotice)}),C(6,"i",7),r(),a(7,"a",6),g("click",function(){return p(l),m(t.onActionButtonReload())}),C(8,"i",8),r(),a(9,"a",9),g("click",function(){return p(l),m(t.onActionGridExpandRows(!0))}),C(10,"i",10),r(),a(11,"a",9),g("click",function(){return p(l),m(t.onActionGridExpandRows(!1))}),C(12,"i",11),r(),T(),y(13,12),a(14,"a",13),g("click",function(){return p(l),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(15,"mat-slide-toggle",14),c(16),S(17,"translate"),r(),a(18,"a",13),g("click",function(){return p(l),m(t.onActionButtonStatist())}),C(19,"mat-slide-toggle",14),c(20),S(21,"translate"),r(),T(),y(22,15),b(23,Zc,7,3,"div",16),T(),y(24,17),b(25,$c,7,3,"div",16),b(26,ep,7,3,"div",16),b(27,tp,7,3,"div",16),T(),y(28,18),a(29,"app-cms-search-list",19),D("optionsChange",function(u){return p(l),E(t.optionsSearch,u)||(t.optionsSearch=u),m(u)}),r(),a(30,"app-cms-statist-list",19),D("optionsChange",function(u){return p(l),E(t.optionsStatist,u)||(t.optionsStatist=u),m(u)}),r(),T(),y(31,20),b(32,cp,3,0,"div",21)(33,pp,3,3,"div",22),T(),y(34,23),a(35,"mat-paginator",24,0),g("page",function(u){return p(l),m(t.onTablePageingData(u))}),r(),T(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","data-provider.main.client-application.list"),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(8),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),_("checked",t.optionsSearch.data.show),o(),v("",h(17,26,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),v("",h(21,28,"ACTION.STATIST")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?23:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?25:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?26:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?27:-1),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),M(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?32:33),o(3),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(30,Xc)))},dependencies:[we,W,pe,Te,Ye,Ae,Re,kt,ke,Xe,Fe,B,st,dt,xe],encapsulation:2});var Co=Dn;var mp=["vform"];function up(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",13),D("modelChange",function(t){p(e);let l=d();return E(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=d();w("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function fp(n,s){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function _p(n,s){if(n&1){let e=P();a(0,"div",12)(1,"button",14),g("click",function(){p(e);let t=d();return m(t.onFormCancel())}),C(2,"i",15),c(3),S(4,"translate"),r(),a(5,"button",16),C(6,"i",17),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),v(" ",h(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),v(" ",h(8,5,"ACTION.SAVE")," ")}}var ho=class ho extends St{constructor(e,i,t,l,f,u,k,J){super(l,new rn,u,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderClientService=l;this.cmsToastrService=f;this.publicHelper=u;this.cdr=k;this.translate=J;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Y;this.dataModel=new rn;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderClientService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0,Id:i.item.id})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ho.\u0275fac=function(i){return new(i||ho)(I(se),I(le),I(ie),I(Qi),I(N),I(G),I(O),I(F))},ho.\u0275cmp=L({type:ho,selectors:[["app-data-provider-client-add"]],viewQuery:function(i,t){if(i&1&&U(mp,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:21,vars:14,consts:[["vform","ngForm"],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",2),C(1,"app-progress-spinner",3),a(2,"div",4)(3,"p",5),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),C(8,"app-cms-form-result-message",6),a(9,"form",7,0),g("ngSubmit",function(){return p(l),m(t.onFormSubmit())}),b(11,up,1,5,"app-cms-enum-record-status-selector",8),a(12,"div",9)(13,"label",10),c(14),r(),a(15,"input",11,1),D("ngModelChange",function(u){return p(l),E(t.dataModel.title,u)||(t.dataModel.title=u),m(u)}),r(),a(17,"em"),c(18),r(),b(19,fp,5,3,"mat-error"),r(),b(20,_p,9,7,"div",12),r()()()}if(i&2){let l=x(16);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v(" ",t.formInfo.formTitle," "),o(2),v(" ",h(7,12,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),M(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(3),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.title),o(3),v("",l.value.length," / 100"),o(),M(l.errors!=null&&l.errors.required?19:-1),o(),M(t.formInfo.submitButtonEnabled?20:-1)}},dependencies:[ve,$,ee,Ce,De,ye,ce,he,qe,W,ge,j,Se,B],encapsulation:2});var er=ho;var Sp=["vform"];function Cp(n,s){if(n&1){let e=P();a(0,"div",8)(1,"button",9),g("click",function(){p(e);let t=d();return m(t.onFormDelete())}),C(2,"i",10),c(3),S(4,"translate"),r(),a(5,"button",11),g("click",function(){p(e);let t=d();return m(t.onFormCancel())}),C(6,"i",12),c(7),S(8,"translate"),r()()}if(n&2){let e=d();o(),_("disabled",!e.formInfo.submitButtonEnabled),o(2),v(" ",h(4,3,"ACTION.DELETE")," "),o(4),v(" ",h(8,5,"ACTION.CANCEL")," ")}}var vo=class vo{constructor(s,e,i,t,l,f,u){this.data=s;this.dialogRef=e;this.publicHelper=i;this.dataProviderClientService=t;this.cdr=l;this.translate=f;this.cmsToastrService=u;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new Y;this.formInfo=new ei;this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=s.id||"")}ngOnInit(){if(this.requestId?.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId?.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderClientService.setAccessLoad(),this.dataProviderClientService.setAccessDataType(Oe.Editor),this.dataProviderClientService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onFormDelete(){if(this.requestId?.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderClientService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};vo.\u0275fac=function(e){return new(e||vo)(I(se),I(le),I(G),I(Qi),I(O),I(F),I(N))},vo.\u0275cmp=L({type:vo,selectors:[["app-data-provider-client-delete"]],viewQuery:function(e,i){if(e&1&&U(Sp,5),e&2){let t;Q(t=z())&&(i.formGroup=t.first)}},standalone:!1,decls:14,vars:10,consts:[["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","title",1,"color-highlight"],["matInput","","name","title","type","text","required","","readonly","","id","title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){if(e&1){let t=P();a(0,"div",1),C(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),a(8,"div",5)(9,"label",6),c(10),r(),a(11,"input",7,0),D("ngModelChange",function(f){return p(t),E(i.dataModelResultContent.item.title,f)||(i.dataModelResultContent.item.title=f),m(f)}),r()(),b(13,Cp,9,7,"div",8),r()()}e&2&&(o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(3),v(" ",i.formInfo.formTitle," "),o(2),v(" ",h(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModelResultContent.item.title),o(2),M(i.formInfo.submitButtonEnabled?13:-1))},dependencies:[$,ee,Ee,ce,W,j,B],encapsulation:2});var tr=vo;function hp(n,s){if(n&1){let e=P();a(0,"li")(1,"mat-checkbox",0),g("change",function(){let t=p(e).$implicit,l=d();return m(l.onActionSelect(t))}),c(2),r()()}if(n&2){let e=s.$implicit,i=d();o(),_("checked",i.fieldsStatus.get(e.id))("disabled",i.optionDisabled),o(),v(" ",e.title," ")}}var go=class go{constructor(s,e,i,t,l,f){this.coreEnumService=s;this.categoryService=e;this.cdr=i;this.publicHelper=t;this.translate=l;this.cmsToastrService=f;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Y;this.dataModelSelect=[];this.dataIdsSelect=[];this.formControl=new mi;this.fieldsStatus=new Map;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionChange=new xt;this.optionSelectAdded=new xt;this.optionSelectRemoved=new xt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s),this.onActionReSelect()}ngOnInit(){this.DataGetAll()}DataGetAll(){let s=new re;s.rowPerPage=50,s.accessLoad=!0;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(s).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataModelResult.listItems.forEach(t=>this.fieldsStatus.set(t.id,!1)),this.dataIdsSelect.forEach(t=>this.fieldsStatus.set(t,!0)),this.dataModelResult.listItems.forEach(t=>{this.fieldsStatus.get(t.id)&&this.dataModelSelect.push(t)})):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelect(s){this.fieldsStatus.get(s.id)?(this.fieldsStatus.set(s.id,!1),this.optionSelectRemoved.emit(s),this.dataModelSelect.splice(this.dataModelSelect.indexOf(s),1)):(this.fieldsStatus.set(s.id,!0),this.optionSelectAdded.emit(s),this.dataModelSelect.push(s)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(s){Array.isArray(s)&&s.length>0&&(typeof s[0]=="string"||typeof s[0]=="number"?s.forEach(e=>{this.dataIdsSelect.push(e.toString())}):s[0]instanceof ut&&s.forEach(e=>{this.dataIdsSelect.push(String(e.id))})),this.dataIdsSelect.forEach(e=>this.fieldsStatus.set(e,!0))}onActionButtonReload(){this.DataGetAll()}onActionReSelect(){this.dataModelResult.listItems.forEach(s=>this.fieldsStatus.set(s.id,!1)),this.dataIdsSelect.forEach(s=>this.fieldsStatus.set(s,!0)),this.dataModelResult.listItems.forEach(s=>{this.fieldsStatus.get(s.id)&&this.dataModelSelect.push(s)})}};go.\u0275fac=function(e){return new(e||go)(I(ie),I(Zt),I(O),I(G),I(F),I(N))},go.\u0275cmp=L({type:go,selectors:[["app-data-provider-plan-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},standalone:!1,decls:3,vars:0,consts:[[3,"change","checked","disabled"]],template:function(e,i){e&1&&(a(0,"ul"),Ve(1,hp,3,3,"li",null,Di),r()),e&2&&(o(),Be(i.dataModelResult.listItems))},dependencies:[Kn],encapsulation:2});var bo=go;var vp=["vform"];function gp(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",17),D("modelChange",function(t){p(e);let l=d();return E(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=d();w("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function bp(n,s){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function Mp(n,s){if(n&1){let e=P();a(0,"div",16)(1,"button",18),g("click",function(){p(e);let t=d();return m(t.onFormCancel())}),C(2,"i",19),c(3),S(4,"translate"),r(),a(5,"button",20),C(6,"i",21),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),v(" ",h(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),v(" ",h(8,5,"ACTION.SAVE")," ")}}var Mo=class Mo extends Ct{constructor(e,i,t,l,f,u,k,J,Ge,tt,Ke,ct,ai){super(l,new rn,u,ct);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderClientService=l;this.cmsToastrService=f;this.publicHelper=u;this.cdr=k;this.cmsStoreService=J;this.router=Ge;this.cmsConfirmationDialogService=tt;this.dataProviderPlanClientService=Ke;this.translate=ct;this.tokenHelper=ai;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.unsubscribe=[];this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new mt;this.dataModel=new rn;this.fileManagerOpenForm=!1;this.dataCoreCpMainMenuIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id||""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(jn=>jn.tokenInfoStore).subscribe(jn=>Pe(this,null,function*(){this.tokenInfo=jn})))}ngOnInit(){if(this.requestId?.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(this.requestId?.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderClientService.setAccessLoad(),this.dataProviderClientService.setAccessDataType(Oe.Editor),this.dataProviderClientService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.DataGetAllPlanClient()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderClientService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}DataGetAllPlanClient(){if(this.requestId?.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Getting_access_category_from_the_server").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)});let i=new re,t=new K;t.propertyName="LinkClientId",t.value=this.requestId,i.filters.push(t),this.dataProviderPlanClientService.ServiceGetAll(i).subscribe({next:l=>{this.dataCoreCpMainMenuCmsUserGroupModel=l.listItems;let f=[];this.dataCoreCpMainMenuCmsUserGroupModel.forEach(u=>{f.push(u.linkPlanId.toString())}),this.dataCoreCpMainMenuIds=f,l.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(u=>{this.formInfo.submitResultMessage=u}),this.formInfo.submitResultMessage=l.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(l.errorMessage)),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorPlanSelect(e){this.dataCoreCpMainMenuModel=e}onActionSelectorPlanSelectAdded(e){if(!this.tokenInfo.access.userAccessAdminAllowToProfessionalData){let f=[];this.dataCoreCpMainMenuIds.forEach(u=>{u!=e.id&&f.push(u)}),setTimeout(()=>this.dataCoreCpMainMenuIds=f,1e3);var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Would_you_like_to_buy_this_content"]).subscribe(u=>{i=u["MESSAGE.Please_Confirm"],t=u["MESSAGE.Would_you_like_to_buy_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(u=>{if(u){let k=this.constructor.name+"main";this.router.navigate(["/data-provider/client-charge/",e.id]),this.dialogRef.close({dialogChangedDate:!1})}});return}let l=new yi;l.linkPlanId=e.id,l.linkClientId=this.dataModel.id,this.dataProviderPlanClientService.ServiceAdd(l).subscribe({next:f=>{if(f.isSuccess)this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(u=>{this.formInfo.submitResultMessage=u}),this.cmsToastrService.typeSuccessEdit();else{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(k=>{this.formInfo.submitResultMessage=k}),this.formInfo.submitResultMessage=f.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(f.errorMessage);let u=[];this.dataCoreCpMainMenuIds.forEach(k=>{k!=e.id&&u.push(k)}),setTimeout(()=>this.dataCoreCpMainMenuIds=u,1e3)}},error:f=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(f)}})}onActionSelectorPlanSelectRemoved(e){if(!this.tokenInfo.access.userAccessAdminAllowToProfessionalData){let t=[];this.dataCoreCpMainMenuIds.forEach(l=>{t.push(l)}),t.indexOf(e.id)<0&&t.push(e.id),setTimeout(()=>this.dataCoreCpMainMenuIds=t,1e3),this.cmsToastrService.typeErrorAccessDelete();return}let i=new yi;i.linkPlanId=e.id,i.linkClientId=this.dataModel.id,this.dataProviderPlanClientService.ServiceDeleteEntity(i).subscribe({next:t=>{if(t.isSuccess)this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.cmsToastrService.typeSuccessEdit();else{let l=[];this.dataCoreCpMainMenuIds.forEach(f=>{l.push(f)}),l.indexOf(e.id)<0&&l.push(e.id),setTimeout(()=>this.dataCoreCpMainMenuIds=l,1e3),this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(f=>{this.formInfo.submitResultMessage=f}),this.formInfo.submitResultMessage=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)}},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}};Mo.\u0275fac=function(i){return new(i||Mo)(I(se),I(le),I(ie),I(Qi),I(N),I(G),I(O),I(Qe),I(Ze),I(zt),I(xi),I(F),I(ze))},Mo.\u0275cmp=L({type:Mo,selectors:[["app-data-provider-client-edit"]],viewQuery:function(i,t){if(i&1&&U(vp,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:27,vars:20,consts:[["vform","ngForm"],["Id",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.id",1,"color-highlight"],["matInput","","type","id","name","dataModel.Id","type","text","id","dataModel.id",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",3),C(1,"app-progress-spinner",4),a(2,"div",5)(3,"p",6),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),C(8,"app-cms-form-result-message",7),a(9,"form",8,0),g("ngSubmit",function(){return p(l),m(t.onFormSubmit())}),b(11,gp,1,5,"app-cms-enum-record-status-selector",9),a(12,"div",10)(13,"label",11),c(14),r(),a(15,"input",12,1),D("ngModelChange",function(u){return p(l),E(t.dataModel.id,u)||(t.dataModel.id=u),m(u)}),r()(),a(17,"div",10)(18,"label",13),c(19),r(),a(20,"input",14,2),D("ngModelChange",function(u){return p(l),E(t.dataModel.title,u)||(t.dataModel.title=u),m(u)}),r(),a(22,"em"),c(23),r(),b(24,bp,5,3,"mat-error"),r(),a(25,"app-data-provider-plan-selectionlist",15),g("optionChange",function(u){return p(l),m(t.onActionSelectorPlanSelect(u))})("optionSelectAdded",function(u){return p(l),m(t.onActionSelectorPlanSelectAdded(u))})("optionSelectRemoved",function(u){return p(l),m(t.onActionSelectorPlanSelectRemoved(u))}),r(),b(26,Mp,9,7,"div",16),r()()()}if(i&2){let l=x(21);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v(" ",t.formInfo.formTitle," "),o(2),v(" ",h(7,18,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),M(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(3),A(t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle)),w("ngModel",t.dataModel.id),o(4),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.title),o(3),v("",l.value.length," / 100"),o(),M(l.errors!=null&&l.errors.required?24:-1),o(),_("optionSelectForce",t.dataCoreCpMainMenuIds)("optionDisabled",!1),o(),M(t.formInfo.submitButtonEnabled?26:-1)}},dependencies:[ve,$,ee,Ce,De,ye,ce,he,qe,W,ge,j,Se,bo,B],encapsulation:2});var ya=Mo;var Ip=["*"];function Pp(n,s){if(n&1&&(a(0,"label",3),c(1),r()),n&2){let e=d();_("for",Wt("app-cms-site-selector-",e.id)),o(),A(e.optionLabel)}}function wp(n,s){if(n&1&&(C(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=d();_("src",R(h(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),oe)}}function Ep(n,s){if(n&1&&(C(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;_("src",R(h(1,2,e.linkMainImageIdSrc)),oe)}}function Dp(n,s){if(n&1&&(a(0,"mat-option",8),b(1,Ep,2,4,"img",5),a(2,"span"),c(3),r()()),n&2){let e=s.$implicit,i=d();_("value",e)("disabled",i.optionDisabled),o(),M(e.linkMainImageIdSrc?1:-1),o(2),A(i.displayOption(e))}}function yp(n,s){n&1&&C(0,"i",9)}function Tp(n,s){n&1&&C(0,"i",10)}function Ap(n,s){if(n&1){let e=P();a(0,"i",13),g("click",function(){p(e);let t=d();return m(t.onActionSelectClear())}),r()}}function Rp(n,s){n&1&&(a(0,"em"),c(1),S(2,"translate"),r()),n&2&&(o(),v("(",h(2,1,"TITLE.Necessary"),")"))}var _n=class _n{constructor(s,e,i,t,l){this.coreEnumService=s;this.cdr=e;this.publicHelper=i;this.translate=t;this.categoryService=l;this.id=++_n.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Y;this.dataModelSelect=new Si;this.formControl=new mi;this.optionPlaceholder="";this.optionSelectFirstItem=!1;this.optionDisabled=!1;this.optionRequired=!1;this.optionLabel="";this.optionChange=new xt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(wi(""),Ii(1500),Pi(),Ei(s=>typeof s=="string"||typeof s=="number"?this.DataGetAll(s||""):[]))}displayFn(s){return s?s.title:void 0}displayOption(s){return s?s.title:void 0}DataGetAll(s){return Pe(this,null,function*(){let e=new re;e.rowPerPage=20,e.accessLoad=!0;let i=new K;i.propertyName="title",i.value=s,i.searchType=qt.Contains,i.clauseType=Qt.Or,e.filters.push(i),s&&typeof+s=="number"&&+s>0&&(i=new K,i.propertyName="id",i.value=s,i.searchType=qt.Equal,i.clauseType=Qt.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),yield bi(this.categoryService.ServiceGetAll(e)).then(l=>(this.dataModelResult=l,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||(typeof this.dataModelSelect.id=="string"?this.dataModelSelect.id.length===0:this.dataModelSelect.id<=0))&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),l.listItems))})}onActionSelect(s){this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(s){return this.filteredOptions.pipe(Mi(e=>(e.find(i=>i.id===s.id)||e.push(s),e)))}onActionSelectForce(s){if(typeof s=="string"&&s.length>0||typeof s=="number"&&s>0){let e=typeof s=="string"?s:String(s);if(this.dataModelSelect&&String(this.dataModelSelect.id)===e)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>String(i.id)===e)){let i=this.dataModelResult.listItems.find(t=>String(t.id)===e);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(e).subscribe({next:i=>{i.isSuccess&&(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item))}});return}if(typeof s==typeof Si){this.filteredOptions=this.push(s),this.dataModelSelect=s,this.formControl.setValue(s);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Si,this.loadOptions()}};_n.nextId=0,_n.\u0275fac=function(e){return new(e||_n)(I(ie),I(O),I(G),I(F),I(Ri))},_n.\u0275cmp=L({type:_n,selectors:[["app-data-provider-plan-category-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Ip,decls:18,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=P();ji(),a(0,"div",1),C(1,"app-progress-spinner",2),b(2,Pp,2,3,"label",3),a(3,"span",4),b(4,wp,2,4,"img",5),r(),C(5,"input",6),a(6,"mat-autocomplete",7,0),g("optionSelected",function(f){return p(t),m(i.onActionSelect(f.option.value))}),Ve(8,Dp,4,4,"mat-option",8,Di),S(10,"async"),r(),b(11,yp,1,0,"i",9),b(12,Tp,1,0,"i",10),b(13,Ap,1,0,"i",11),a(14,"i",12),S(15,"translate"),g("click",function(){return p(t),m(i.onActionButtonReload())}),r(),b(16,Rp,3,3,"em"),Ui(17),r()}if(e&2){let t=x(7);o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(),M((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),M(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),_("placeholder",R(i.optionPlaceholder))("id",Wt("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),He("disabled",i.optionDisabled?!0:null),o(),_("displayWith",i.displayFn),o(2),Be(h(10,20,i.filteredOptions)),o(3),M(i.formControl.valid?-1:11),o(),M(i.optionRequired&&i.formControl.valid?12:-1),o(),M((i.dataModelSelect==null?null:i.dataModelSelect.id)>0?13:-1),o(),H("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),_("title",R(h(15,22,"ACTION.RELOAD"))),o(2),M(i.optionRequired&&!((i.dataModelSelect==null?null:i.dataModelSelect.id)>0)?16:-1)}},dependencies:[$,ee,Ee,Bi,Ni,Fi,Gi,Yi,W,j,Fe,B,Ne],encapsulation:2});var oi=_n;var xp=["vform"];function kp(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",21),D("modelChange",function(t){p(e);let l=d();return E(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=d();w("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Lp(n,s){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function Vp(n,s){n&1&&(a(0,"mat-error"),c(1," Description is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function Bp(n,s){if(n&1&&(C(0,"img",19),S(1,"cmsthumbnail")),n&2){let e=d();_("src",R(h(1,2,e.dataModel.linkMainImageIdSrc)),oe)}}function Fp(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",22),g("click",function(){p(e);let t=d();return m(t.fileManagerOpenForm=!0)}),c(2),S(3,"translate"),r(),a(4,"input",23,3),S(6,"translate"),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),m(t)}),g("click",function(){p(e);let t=d();return m(t.fileManagerOpenForm=!0)}),r(),a(7,"cms-file-manager",24),g("itemSelected",function(t){p(e);let l=d();return m(l.onActionFileSelected(t))}),D("openFormChange",function(t){p(e);let l=d();return E(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),m(t)}),r()()}if(n&2){let e=d();o(2),A(h(3,12,"TITLE.Icon_File")),o(2),_("placeholder",R(h(6,14,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),o(3),_("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),_("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Op(n,s){if(n&1){let e=P();a(0,"div",20)(1,"button",25),g("click",function(){p(e);let t=d();return m(t.onFormCancel())}),C(2,"i",26),c(3),S(4,"translate"),r(),a(5,"button",27),C(6,"i",28),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),v(" ",h(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),v(" ",h(8,5,"ACTION.SAVE")," ")}}var Io=class Io extends St{constructor(e,i,t,l,f,u,k,J){super(l,new ut,u,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderPlanService=l;this.cmsToastrService=f;this.publicHelper=u;this.cdr=k;this.translate=J;this.requestLinkPlanCategoryId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Y;this.dataModel=new ut;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestLinkPlanCategoryId=e.linkPlanCategoryId||""),this.requestLinkPlanCategoryId&&this.requestLinkPlanCategoryId.length>0&&(this.dataModel.linkPlanCategoryId=this.requestLinkPlanCategoryId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPlanCategoryId=String(e.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Io.\u0275fac=function(i){return new(i||Io)(I(se),I(le),I(ie),I(Zt),I(N),I(G),I(O),I(F))},Io.\u0275cmp=L({type:Io,selectors:[["app-data-provider-plan-add"]],viewQuery:function(i,t){if(i&1&&U(xp,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:37,vars:30,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",4),C(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),C(8,"app-cms-form-result-message",8),a(9,"form",9,0),g("ngSubmit",function(){return p(l),m(t.onFormSubmit())}),b(11,kp,1,5,"app-cms-enum-record-status-selector",10),a(12,"app-data-provider-plan-category-selector",11),S(13,"translate"),g("optionChange",function(u){return p(l),m(t.onActionSelectorSelect(u))}),r(),a(14,"div",12)(15,"label",13),c(16),r(),a(17,"input",14,1),D("ngModelChange",function(u){return p(l),E(t.dataModel.title,u)||(t.dataModel.title=u),m(u)}),r(),a(19,"em"),c(20),r(),b(21,Lp,5,3,"mat-error"),r(),a(22,"div",12)(23,"label",15),c(24),r(),a(25,"textarea",16,2),D("ngModelChange",function(u){return p(l),E(t.dataModel.description,u)||(t.dataModel.description=u),m(u)}),c(27,"          "),r(),a(28,"em"),c(29),r(),b(30,Vp,5,3,"mat-error"),r(),a(31,"div",17)(32,"a",18),S(33,"cmsthumbnail"),b(34,Bp,2,4,"img",19),r()(),b(35,Fp,8,16,"div",12),b(36,Op,9,7,"div",20),r()()()}if(i&2){let l=x(18),f=x(26);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v(" ",t.formInfo.formTitle," "),o(2),v(" ",h(7,24,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),M(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),_("optionSelectForce",t.dataModel.linkPlanCategoryId)("optionPlaceholder",h(13,26,"TITLE.Category")),o(4),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.title),o(3),v("",l.value.length," / 100"),o(),M(l.errors!=null&&l.errors.required?21:-1),o(3),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.description),o(4),v("",f.value.length," / 500"),o(),M(f.errors!=null&&f.errors.required?30:-1),o(2),_("href",R(h(33,28,t.dataModel.linkMainImageIdSrc)),oe),o(2),M((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?34:-1),o(),M(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?35:-1),o(),M(t.formInfo.submitButtonEnabled?36:-1)}},dependencies:[ve,$,ee,Ce,De,ye,ce,he,qe,W,ge,j,Se,oi,Ht,B,Ne],encapsulation:2});var Po=Io;var Np=["vform"];function Gp(n,s){if(n&1){let e=P();a(0,"div",8)(1,"button",9),g("click",function(){p(e);let t=d();return m(t.onFormDelete())}),C(2,"i",10),c(3),S(4,"translate"),r(),a(5,"button",11),g("click",function(){p(e);let t=d();return m(t.onFormCancel())}),C(6,"i",12),c(7),S(8,"translate"),r()()}if(n&2){let e=d();o(),_("disabled",!e.formInfo.submitButtonEnabled),o(2),v(" ",h(4,3,"ACTION.DELETE")," "),o(4),v(" ",h(8,5,"ACTION.CANCEL")," ")}}var wo=class wo{constructor(s,e,i,t,l,f,u){this.data=s;this.dialogRef=e;this.publicHelper=i;this.dataProviderPlanService=t;this.cdr=l;this.translate=f;this.cmsToastrService=u;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new Y;this.formInfo=new ei;this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=s.id||"")}ngOnInit(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderPlanService.setAccessLoad(),this.dataProviderPlanService.setAccessDataType(Oe.Editor),this.dataProviderPlanService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onFormDelete(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderPlanService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};wo.\u0275fac=function(e){return new(e||wo)(I(se),I(le),I(G),I(Zt),I(O),I(F),I(N))},wo.\u0275cmp=L({type:wo,selectors:[["app-data-provider-plan-delete"]],viewQuery:function(e,i){if(e&1&&U(Np,5),e&2){let t;Q(t=z())&&(i.formGroup=t.first)}},standalone:!1,decls:14,vars:10,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.title",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.title","type","text","required","","readonly","","id","dataModelResultContent.item.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){if(e&1){let t=P();a(0,"div",1),C(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),a(8,"div",5)(9,"label",6),c(10),r(),a(11,"input",7,0),D("ngModelChange",function(f){return p(t),E(i.dataModelResultContent.item.title,f)||(i.dataModelResultContent.item.title=f),m(f)}),r()(),b(13,Gp,9,7,"div",8),r()()}e&2&&(o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(3),v(" ",i.formInfo.formTitle," "),o(2),v(" ",h(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModelResultContent.item.title),o(2),M(i.formInfo.submitButtonEnabled?13:-1))},dependencies:[$,ee,Ee,ce,W,j,B],encapsulation:2});var Eo=wo;var Hp=["vform"];function Wp(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",21),D("modelChange",function(t){p(e);let l=d();return E(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=d();w("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function qp(n,s){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function jp(n,s){n&1&&(a(0,"mat-error"),c(1," Description is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function Up(n,s){if(n&1&&(C(0,"img",19),S(1,"cmsthumbnail")),n&2){let e=d();_("src",R(h(1,2,e.dataModel.linkMainImageIdSrc)),oe)}}function Qp(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",22),g("click",function(){p(e);let t=d();return m(t.fileManagerOpenForm=!0)}),c(2),S(3,"translate"),r(),a(4,"input",23,3),S(6,"translate"),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),m(t)}),g("click",function(){p(e);let t=d();return m(t.fileManagerOpenForm=!0)}),r(),a(7,"cms-file-manager",24),g("itemSelected",function(t){p(e);let l=d();return m(l.onActionFileSelected(t))}),D("openFormChange",function(t){p(e);let l=d();return E(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),m(t)}),r()()}if(n&2){let e=d();o(2),A(h(3,12,"TITLE.Icon_File")),o(2),_("placeholder",R(h(6,14,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),o(3),_("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),_("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function zp(n,s){if(n&1){let e=P();a(0,"div",20)(1,"button",25),g("click",function(){p(e);let t=d();return m(t.onFormCancel())}),C(2,"i",26),c(3),S(4,"translate"),r(),a(5,"button",27),C(6,"i",28),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),v(" ",h(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),v(" ",h(8,5,"ACTION.SAVE")," ")}}var Do=class Do extends Ct{constructor(e,i,t,l,f,u,k,J){super(l,new ut,u,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderPlanService=l;this.cmsToastrService=f;this.publicHelper=u;this.cdr=k;this.translate=J;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new mt;this.dataModel=new ut;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id||""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanService.setAccessLoad(),this.dataProviderPlanService.setAccessDataType(Oe.Editor),this.dataProviderPlanService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPlanCategoryId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Do.\u0275fac=function(i){return new(i||Do)(I(se),I(le),I(ie),I(Zt),I(N),I(G),I(O),I(F))},Do.\u0275cmp=L({type:Do,selectors:[["app-data-provider-plan-edit"]],viewQuery:function(i,t){if(i&1&&U(Hp,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:37,vars:30,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",4),C(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),C(8,"app-cms-form-result-message",8),a(9,"form",9,0),g("ngSubmit",function(){return p(l),m(t.onFormSubmit())}),b(11,Wp,1,5,"app-cms-enum-record-status-selector",10),a(12,"app-data-provider-plan-category-selector",11),S(13,"translate"),g("optionChange",function(u){return p(l),m(t.onActionSelectorSelect(u))}),r(),a(14,"div",12)(15,"label",13),c(16),r(),a(17,"input",14,1),D("ngModelChange",function(u){return p(l),E(t.dataModel.title,u)||(t.dataModel.title=u),m(u)}),r(),a(19,"em"),c(20),r(),b(21,qp,5,3,"mat-error"),r(),a(22,"div",12)(23,"label",15),c(24),r(),a(25,"textarea",16,2),D("ngModelChange",function(u){return p(l),E(t.dataModel.description,u)||(t.dataModel.description=u),m(u)}),c(27,"          "),r(),a(28,"em"),c(29),r(),b(30,jp,5,3,"mat-error"),r(),a(31,"div",17)(32,"a",18),S(33,"cmsthumbnail"),b(34,Up,2,4,"img",19),r()(),b(35,Qp,8,16,"div",12),b(36,zp,9,7,"div",20),r()()()}if(i&2){let l=x(18),f=x(26);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v(" ",t.formInfo.formTitle," "),o(2),v(" ",h(7,24,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),M(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),_("optionSelectForce",t.dataModel.linkPlanCategoryId)("optionPlaceholder",h(13,26,"TITLE.Category")),o(4),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.title),o(3),v("",l.value.length," / 100"),o(),M(l.errors!=null&&l.errors.required?21:-1),o(3),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.description),o(4),v("",f.value.length," / 500"),o(),M(f.errors!=null&&f.errors.required?30:-1),o(2),_("href",R(h(33,28,t.dataModel.linkMainImageIdSrc)),oe),o(2),M((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?34:-1),o(),M(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?35:-1),o(),M(t.formInfo.submitButtonEnabled?36:-1)}},dependencies:[ve,$,ee,Ce,De,ye,ce,he,qe,W,ge,j,Se,oi,Ht,B,Ne],encapsulation:2});var yo=Do;function Kp(n,s){if(n&1){let e=P();a(0,"button",13),g("click",function(){p(e);let t=d();return m(t.onActionAdd())}),c(1),S(2,"translate"),r()}n&2&&(o(),v(" ",h(2,1,"ACTION.ADD")," "))}function Jp(n,s){if(n&1){let e=P();a(0,"button",14),g("click",function(){p(e);let t=d();return m(t.onActionEdit())}),c(1),S(2,"translate"),r()}n&2&&(o(),v(" ",h(2,1,"ACTION.EDIT")," "))}function Xp(n,s){if(n&1){let e=P();a(0,"button",15),g("click",function(){p(e);let t=d();return m(t.onActionDelete())}),c(1),S(2,"translate"),r()}n&2&&(o(),v(" ",h(2,1,"ACTION.DELETE")," "))}function Yp(n,s){if(n&1){let e=P();a(0,"button",16),g("click",function(){p(e);let t=d();return m(t.onActionButtonReload())}),a(1,"mat-icon",17),S(2,"translate"),c(3,"refresh"),r()()}if(n&2){let e=d();o(),H("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),_("title",R(h(2,4,"ACTION.RELOAD")))}}function Zp(n,s){if(n&1){let e=P();a(0,"mat-tree-node",18),C(1,"button",19),a(2,"span",20),g("click",function(){let t=p(e).$implicit,l=d();return m(l.onActionSelect(t))}),c(3),r()()}if(n&2){let e=s.$implicit,i=d();H("ntk-tree-selected",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),o(3),A(e.title)}}function $p(n,s){if(n&1){let e=P();a(0,"mat-tree-node",21)(1,"button",22)(2,"mat-icon",23),c(3),r()(),a(4,"span",20),g("click",function(){let t=p(e).$implicit,l=d();return m(l.onActionSelect(t))}),c(5),r()()}if(n&2){let e=s.$implicit,i=d(),t=x(10);H("ntk-tree-selected",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),_("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),He("type","button")("aria-label","Toggle "+e.title),o(2),v(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),A(e.title)}}var To=class To{constructor(s,e,i,t,l,f,u,k,J){this.cmsToastrService=s;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=l;this.publicHelper=f;this.tokenHelper=u;this.cmsStoreService=k;this.translate=J;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new ut;this.dataModelResult=new Y;this.filterModel=new re;this.dataSource=new eo;this.optionChange=new xt;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(s,e)=>null;this.childrenAccessor=s=>null;this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(()=>Pe(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onActionSelect(s){s&&this.dataModelSelect&&s.id==this.dataModelSelect.id?(this.dataModelSelect=null,this.optionChange.emit(null)):(this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect))}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new ut,this.DataGetAll()}onActionSelectForce(s){}onActionAdd(){let s=0;this.dataModelSelect&&this.dataModelSelect.id&&(typeof this.dataModelSelect.id=="string"?this.dataModelSelect.id.length>0:this.dataModelSelect.id>0)&&(s=this.dataModelSelect.id);let e=new ft;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={parentId:s},this.dialog.open(Po,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let s=0;if(this.dataModelSelect&&this.dataModelSelect.id&&(typeof this.dataModelSelect.id=="string"?this.dataModelSelect.id.length>0:this.dataModelSelect.id>0)&&(s=this.dataModelSelect.id),typeof s=="string"?s.length===0:s===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(yo,{height:"90%",panelClass:e,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{id:s}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let s;if(this.dataModelSelect&&this.dataModelSelect.id&&(typeof this.dataModelSelect.id=="string"?this.dataModelSelect.id.length>0:this.dataModelSelect.id>0)&&(s=this.dataModelSelect.id),typeof s=="string"?s.length===0:s===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Eo,{height:"90%",panelClass:e,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{id:s}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}};To.\u0275fac=function(e){return new(e||To)(I(N),I(ie),I(Zt),I(je),I(O),I(G),I(ze),I(Qe),I(F))},To.\u0275cmp=L({type:To,selectors:[["app-data-provider-plan-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:14,vars:14,consts:[["treeTagControl",""],[3,"optionListTitle","optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-action",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(a(0,"app-cms-html-tree",1),S(1,"translate"),y(2,2),b(3,Kp,3,3,"button",3),b(4,Jp,3,3,"button",4),b(5,Xp,3,3,"button",5),b(6,Yp,4,6,"button",6),T(),y(7,7),C(8,"app-progress-spinner",8),a(9,"mat-tree",9,0),V(11,Zp,4,3,"mat-tree-node",10)(12,$p,6,8,"mat-tree-node",11),r(),T(),Me(13,12),r()),e&2&&(_("optionListTitle",h(1,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName)))("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(3),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow?3:-1),o(),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0?4:-1),o(),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0?5:-1),o(),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow?6:-1),o(2),_("optionsInfoAreaId",i.constructorInfoAreaId),o(),_("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),_("matTreeNodeDefWhen",i.hasChild))},dependencies:[$e,Je,Xn,Yn,$n,Zn,Jn,j,io,B],encapsulation:2});var an=To;var em=()=>["expandedTitle"],tm=()=>["expandedDetail"],im=()=>[5,10,20,100],zl=n=>({display:n});function nm(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",44),g("click",function(){p(e);let t=d();return m(t.onActionButtonNewRow())}),C(2,"i",45)(3,"br"),r(),a(4,"p",20),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.ADD")," "))}function om(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",46),g("click",function(){p(e);let t=d();return m(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",47)(3,"br"),r(),a(4,"p",20),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.EDIT")," "))}function am(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",48),g("click",function(){p(e);let t=d();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",49)(3,"br"),r(),a(4,"p",20),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.DELETE")," "))}function rm(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",18),g("click",function(){p(e);let t=d();return m(t.onActionButtonTransactionList(t.tableRowSelected))}),C(2,"i",50)(3,"br"),r(),a(4,"p",20),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.TRANSACTIONS")," "))}function lm(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",18),g("click",function(){p(e);let t=d();return m(t.onActionButtonDataRow(t.tableRowSelected))}),C(2,"i",51)(3,"br"),r(),a(4,"p",20),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.DATA")," "))}function sm(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",18),g("click",function(){p(e);let t=d();return m(t.onActionButtonClientList(t.tableRowSelected))}),C(2,"i",52)(3,"br"),r(),a(4,"p",20),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.CLIENT")," "))}function dm(n,s){n&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"TITLE.MENU")," "))}function cm(n,s){if(n&1){let e=P();a(0,"mat-cell")(1,"button",53),g("click",function(){let t=p(e).$implicit,l=d();return m(l.onActionTableRowSelectActionMenu(t))}),C(2,"i",54),r()()}}function pm(n,s){n&1&&(a(0,"mat-header-cell",55),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"TITLE.PICTURE")," "))}function mm(n,s){if(n&1&&(C(0,"img",56),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;_("src",R(h(1,2,e.linkMainImageIdSrc)),oe)}}function um(n,s){if(n&1&&(a(0,"mat-cell"),b(1,mm,2,4,"img",56),r()),n&2){let e=s.$implicit;o(),M((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function fm(n,s){if(n&1&&(a(0,"mat-header-cell",55),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function _m(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),v(" ",e.id," ")}}function Sm(n,s){if(n&1&&(a(0,"mat-header-cell",55),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Cm(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),r()),n&2){let e=s.$implicit;o(),v(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function hm(n,s){if(n&1&&(a(0,"mat-header-cell",55),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function vm(n,s){if(n&1&&C(0,"select",58),n&2){let e=d().$implicit,i=d();_("contentService",i.contentService)("row",e)("ngStyle",Gt(3,zl,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function gm(n,s){if(n&1&&(a(0,"mat-cell"),C(1,"i",57),S(2,"statusIconClass"),b(3,vm,1,5,"select",58),r()),n&2){let e=s.$implicit,i=d();o(),_("ngClass",h(2,2,e.recordStatus)),o(2),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?3:-1)}}function bm(n,s){if(n&1&&(a(0,"mat-header-cell",55),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Mm(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),v(" ",e.title," ")}}function Im(n,s){n&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"TITLE.OPTION")," "))}function Pm(n,s){if(n&1&&(a(0,"mat-cell",59)(1,"button",60)(2,"mat-icon"),c(3,"more_vert"),r()(),C(4,"mat-menu",null,2),r()),n&2){let e=x(5);o(),_("matMenuTriggerFor",e)}}function wm(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),v(" ",e.title," ")}}function Em(n,s){if(n&1&&(C(0,"img",61),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;_("src",R(h(1,2,e.linkMainImageIdSrc)),oe)}}function Dm(n,s){if(n&1){let e=P();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),b(5,Em,2,4,"img",61),r(),a(6,"th"),c(7),a(8,"span",62),g("click",function(){p(e);let t=d();return m(t.onActionCopied())}),C(9,"i",63),r()()(),a(10,"tr"),C(11,"td"),a(12,"td"),c(13),r()(),a(14,"tr"),C(15,"td")(16,"td"),r()()()()}if(n&2){let e=s.$implicit;o(5),M((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),v(" ",e.id," "),o(),_("cdkCopyToClipboard",e.id),o(5),A(e.title)}}function ym(n,s){n&1&&C(0,"mat-header-row")}function Tm(n,s){if(n&1){let e=P();a(0,"mat-row",64),g("click",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=p(e).$implicit,l=d();return m(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,l=d();return m(l.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Am(n,s){if(n&1){let e=P();a(0,"mat-row",65),g("click",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=p(e).$implicit,l=d();return m(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,l=d();return m(l.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Rm(n,s){if(n&1){let e=P();a(0,"mat-row",66),g("click",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=p(e).$implicit,l=d();return m(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,l=d();return m(l.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-expanded",e.expanded===!0)("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),_("ngStyle",Gt(5,zl,e.expanded===!0?"":"none"))}}var Ao=class Ao extends ht{constructor(e,i,t,l,f,u,k,J,Ge,tt){super(e,new rn,Ge,l,u);this.contentService=e;this.cmsToastrService=i;this.router=t;this.tokenHelper=l;this.cdr=f;this.translate=u;this.cmsStoreService=k;this.pageInfo=J;this.publicHelper=Ge;this.dialog=tt;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new re;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","action_menu"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","id","recordStatus","action_menu"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ke=>this.onSubmitOptionsSearch(Ke)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=ae.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Pe(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new rn);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&(typeof this.categoryModelSelected.id=="string"?this.categoryModelSelected.id.length>0:this.categoryModelSelected.id>0)){let t=new K;t.propertyName="PlanClients",t.propertyAnyName="LinkPlanId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.applyDataGetAllResult(t),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new re,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=new ft;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={},this.dialog.open(er,e).afterClosed().subscribe(t=>{if(t&&t.dialogChangedDate)if(t.id&&t.id>0){let l=new ft;l.disableClose=!0,l.autoFocus=!0,l.height="90%",l.data={id:t.id},this.dialog.open(ya,l).afterClosed().subscribe(u=>{u&&u.dialogChangedDate&&(this.categoryModelSelected=new ut,this.DataGetAll())})}else this.categoryModelSelected=new ut,this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}let i=new ft;i.disableClose=!0,i.autoFocus=!0,i.height="90%",i.data={id:this.tableRowSelected.id},this.dialog.open(ya,i).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&(this.categoryModelSelected=new ut,this.DataGetAll())})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(tr,{height:"40%",panelClass:i,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(u=>{i.set(u,0)}),this.translate.get("MESSAGE.All").subscribe(u=>{i.set(u,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(u=>{this.publicHelper.processService.processStart(t,u,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:u=>{u.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(u.errorMessage),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new K;f.propertyName="recordStatus",f.value=pt.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:u=>{u.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(u.errorMessage),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonClientCreditAccountRow(e=this.tableRowSelected,i){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)||!e.linkSiteId||e.linkSiteId<=0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/data-provider/client-charge/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/client-charge/",e.id])}onActionButtonClientList(e=this.tableRowSelected,i){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/data-provider/plan-client/LinkClientId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/plan-client/LinkClientId/"+e.id])}onActionButtonDataRow(e=this.tableRowSelected,i){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("MESSAGE.No_row_selected_for_viewing").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorAccessDelete();return}i?.ctrlKey?(this.link="/#/data-provider/log-client/LinkClientId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/log-client/LinkClientId/"+e.id])}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionButtonTransactionList(e=this.tableRowSelected,i){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/data-provider/transaction/LinkClientId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/transaction/LinkClientId/"+e.id])}};Ao.\u0275fac=function(i){return new(i||Ao)(I(Qi),I(N),I(Ze),I(ze),I(O),I(F),I(Qe),I(_t),I(G),I(je))},Ao.\u0275cmp=L({type:Ao,selectors:[["app-data-provider-client-list"]],standalone:!1,features:[q],decls:71,vars:37,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["mat-menu-item","","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-cart-shopping","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","title"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-expanded","ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["mat-menu-item","","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-circle-dollar","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-database","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-people","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(u){return p(l),E(t.viewGuideNotice,u)||(t.viewGuideNotice=u),m(u)}),g("optionOnActionButtonMemoRow",function(){return p(l),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(l),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(l),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(l),m(t.onActionButtonPrintRow())}),y(1,4),a(2,"app-data-provider-plan-tree",5),g("optionChange",function(u){return p(l),m(t.onActionSelectorSelect(u))}),r(),T(),Me(3,6)(4,7),y(5,8),a(6,"a",9),g("click",function(){return p(l),m(t.viewGuideNotice=!t.viewGuideNotice)}),C(7,"i",10),r(),a(8,"a",9),g("click",function(){return p(l),m(t.onActionButtonReload())}),C(9,"i",11),r(),T(),y(10,12),a(11,"a",13),g("click",function(){return p(l),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(12,"mat-slide-toggle",14),c(13),S(14,"translate"),r(),a(15,"a",13),g("click",function(){return p(l),m(t.onActionButtonStatist())}),C(16,"mat-slide-toggle",14),c(17),S(18,"translate"),r(),T(),y(19,15),b(20,nm,7,3,"div",16),T(),y(21,17),b(22,om,7,3,"div",16),b(23,am,7,3,"div",16),b(24,rm,7,3,"div",16),a(25,"div",16)(26,"a",18),g("click",function(){return p(l),m(t.onActionButtonClientCreditAccountRow(t.tableRowSelected))}),C(27,"i",19)(28,"br"),r(),a(29,"p",20),c(30,"client charge"),r()(),b(31,lm,7,3,"div",16),b(32,sm,7,3,"div",16),T(),y(33,21),a(34,"app-cms-search-list",22),D("optionsChange",function(u){return p(l),E(t.optionsSearch,u)||(t.optionsSearch=u),m(u)}),r(),a(35,"app-cms-statist-list",22),D("optionsChange",function(u){return p(l),E(t.optionsStatist,u)||(t.optionsStatist=u),m(u)}),r(),T(),y(36,23),a(37,"mat-table",24,0),g("matSortChange",function(){p(l);let u=x(38);return m(t.onTableSortData(u))}),y(39,25),V(40,dm,3,3,"mat-header-cell",26)(41,cm,3,0,"mat-cell",27),T(),y(42,28),V(43,pm,3,3,"mat-header-cell",29)(44,um,2,1,"mat-cell",27),T(),y(45,30),V(46,fm,2,1,"mat-header-cell",29)(47,_m,2,1,"mat-cell",27),T(),y(48,31),V(49,Sm,2,1,"mat-header-cell",29)(50,Cm,4,5,"mat-cell",27),T(),y(51,32),V(52,hm,2,1,"mat-header-cell",29)(53,gm,4,4,"mat-cell",27),T(),y(54,33),V(55,bm,2,1,"mat-header-cell",29)(56,Mm,2,1,"mat-cell",27),T(),y(57,34),V(58,Im,3,3,"mat-header-cell",26)(59,Pm,6,1,"mat-cell",35),T(),y(60,36),V(61,wm,2,1,"mat-cell",27),T(),y(62,37),V(63,Dm,17,4,"mat-cell",27),T(),V(64,ym,1,0,"mat-header-row",38)(65,Tm,1,2,"mat-row",39)(66,Am,1,2,"mat-row",40)(67,Rm,1,7,"mat-row",41),r(),T(),y(68,42),a(69,"mat-paginator",43,1),g("page",function(u){return p(l),m(t.onTablePageingData(u))}),r(),T(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","dataprovider.client.list"),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),v("",h(14,30,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),v("",h(18,32,"ACTION.STATIST")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?24:-1),o(7),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?31:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?32:-1),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),_("dataSource",t.tableSource),o(27),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",_e(34,em)),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(),_("matRowDefColumns",_e(35,tm)),o(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(36,im)))},dependencies:[we,Xt,$e,Je,W,It,Qa,Pt,pe,Te,Ue,it,wt,ot,Et,at,nt,Dt,rt,lt,yt,Tt,Ye,Ae,Re,At,ke,Xe,an,Fe,B,st,Ne,xe],encapsulation:2});var Ro=Ao;var xm=()=>[5,10,20,100],km=(n,s)=>s.id;function Lm(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",26),g("click",function(){p(e);let t=d();return m(t.onActionButtonNewRow())}),C(2,"i",27)(3,"br"),r(),a(4,"p",28),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.ADD")," "))}function Vm(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",29),g("click",function(){p(e);let t=d();return m(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",30)(3,"br"),r(),a(4,"p",28),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.EDIT")," "))}function Bm(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",31),g("click",function(){p(e);let t=d();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",32)(3,"br"),r(),a(4,"p",28),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.DELETE")," "))}function Fm(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",7),g("click",function(){p(e);let t=d();return m(t.onActionButtonTransactionList(t.tableRowSelected))}),C(2,"i",33)(3,"br"),r(),a(4,"p",28),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.TRANSACTIONS")," "))}function Om(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",7),g("click",function(){p(e);let t=d();return m(t.onActionButtonClientCreditAccountRow(t.tableRowSelected))}),C(2,"i",34)(3,"br"),r(),a(4,"p",28),c(5,"client charge"),r()()}}function Nm(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",7),g("click",function(){p(e);let t=d();return m(t.onActionButtonDataRow(t.tableRowSelected))}),C(2,"i",35)(3,"br"),r(),a(4,"p",28),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.DATA")," "))}function Gm(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",7),g("click",function(){p(e);let t=d();return m(t.onActionButtonClientList(t.tableRowSelected))}),C(2,"i",36)(3,"br"),r(),a(4,"p",28),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.CLIENT")," "))}function Hm(n,s){if(n&1&&(a(0,"div",43),C(1,"i",45),c(2),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",e.id," ")}}function Wm(n,s){if(n&1&&(a(0,"div",43),C(1,"i",46),c(2),S(3,"localeDate"),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",h(3,2,e.createdDate)," ")}}function qm(n,s){if(n&1&&(a(0,"div",43),C(1,"i",47),c(2),S(3,"cmssiteinfo"),S(4,"async"),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.linkSiteId==null?null:i.fieldsInfo.linkSiteId.fieldTitle,": ",h(4,4,h(3,2,e.linkSiteId))," ")}}function jm(n,s){if(n&1&&C(0,"select",49),n&2){let e=d(2).$implicit,i=d(2);_("contentService",i.contentService)("row",e)}}function Um(n,s){if(n&1&&(a(0,"div",43),C(1,"i",48),S(2,"statusIconClass"),b(3,jm,1,2,"select",49),r()),n&2){let e=d().$implicit,i=d(2);o(),_("ngClass",h(2,2,e.recordStatus)),o(2),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function Qm(n,s){if(n&1&&(a(0,"div",43),C(1,"i",52),c(2),S(3,"localeDate"),r()),n&2){let e=d(2).$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",h(3,2,e.updatedDate)," ")}}function zm(n,s){if(n&1){let e=P();a(0,"div",44),b(1,Qm,4,4,"div",43),a(2,"div",43)(3,"span",50),g("click",function(t){return p(e),d(3).onActionCopied(),m(t.stopPropagation())}),C(4,"i",51),r(),c(5),r()()}if(n&2){let e=d().$implicit;o(),M(e.updatedDate?1:-1),o(2),_("cdkCopyToClipboard",e.id.toString()),o(2),v(" ID: ",e.id," ")}}function Km(n,s){if(n&1){let e=P();a(0,"div",38),g("click",function(t){let l=p(e).$implicit,f=d(2);return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,f=d(2);return m(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=p(e).$implicit,l=d(2);return m(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,l=d(2);return m(l.onActionTableRowMouseLeave(t))}),a(1,"div",39),C(2,"i",40),S(3,"statusIconClass"),r(),a(4,"div",41)(5,"div",42),c(6),r(),b(7,Hm,3,2,"div",43),b(8,Wm,4,4,"div",43),b(9,qm,5,6,"div",43),b(10,Um,4,4,"div",43),b(11,zm,6,3,"div",44),r()()}if(n&2){let e=s.$implicit,i=d(2);H("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))("bg-fade-highlight-light",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),He("aria-label",e.title||e.id),o(2),_("ngClass",h(3,12,e.recordStatus)),o(4),v(" ",e.title||"ID: "+e.id," "),o(),M(e.id?7:-1),o(),M(e.createdDate?8:-1),o(),M(e.linkSiteId?9:-1),o(),M(e.recordStatus!==void 0?10:-1),o(),M(i.getRowExpanded(e)?11:-1)}}function Jm(n,s){if(n&1&&(a(0,"div",22),Ve(1,Km,12,14,"div",37,km),r()),n&2){let e=d();o(),Be(e.dataModelResult.listItems)}}function Xm(n,s){n&1&&(a(0,"div",23),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"MESSAGE.NoRecord")," "))}var Tn=class Tn extends Ro{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(e){return e.expanded===!0}};Tn.\u0275fac=(()=>{let e;return function(t){return(e||(e=Rt(Tn)))(t||Tn)}})(),Tn.\u0275cmp=L({type:Tn,selectors:[["app-data-provider-client-list-mobile"]],hostBindings:function(i,t){i&1&&g("click",function(f){return t.onDocumentClick(f)},Mt)},standalone:!1,features:[q],decls:41,vars:34,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-circle-dollar","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-cart-shopping","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-database","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-people","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-calendar"],["aria-hidden","true",1,"fa-solid","fa-globe"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list-mobile",1),D("optionActionGuideNoticeDisplayChange",function(u){return p(l),E(t.viewGuideNotice,u)||(t.viewGuideNotice=u),m(u)}),g("optionOnActionButtonMemoRow",function(){return p(l),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(l),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(l),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(l),m(t.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return p(l),m(t.onActionLoadNextPage())}),y(1,2),a(2,"app-data-provider-plan-tree",3),g("optionChange",function(u){return p(l),m(t.onActionSelectorSelect(u))}),r(),T(),Me(3,4)(4,5),y(5,6),a(6,"a",7),g("click",function(){return p(l),m(t.viewGuideNotice=!t.viewGuideNotice)}),C(7,"i",8),r(),a(8,"a",7),g("click",function(){return p(l),m(t.onActionButtonReload())}),C(9,"i",9),r(),a(10,"a",10),g("click",function(){return p(l),m(t.onActionGridExpandRows(!0))}),C(11,"i",11),r(),a(12,"a",10),g("click",function(){return p(l),m(t.onActionGridExpandRows(!1))}),C(13,"i",12),r(),T(),y(14,13),a(15,"a",14),g("click",function(){return p(l),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(16,"mat-slide-toggle",15),c(17),S(18,"translate"),r(),a(19,"a",14),g("click",function(){return p(l),m(t.onActionButtonStatist())}),C(20,"mat-slide-toggle",15),c(21),S(22,"translate"),r(),T(),y(23,16),b(24,Lm,7,3,"div",17),T(),y(25,18),b(26,Vm,7,3,"div",17),b(27,Bm,7,3,"div",17),b(28,Fm,7,3,"div",17),b(29,Om,6,0,"div",17),b(30,Nm,7,3,"div",17),b(31,Gm,7,3,"div",17),T(),y(32,19),a(33,"app-cms-search-list",20),D("optionsChange",function(u){return p(l),E(t.optionsSearch,u)||(t.optionsSearch=u),m(u)}),r(),a(34,"app-cms-statist-list",20),D("optionsChange",function(u){return p(l),E(t.optionsStatist,u)||(t.optionsStatist=u),m(u)}),r(),T(),y(35,21),b(36,Jm,3,0,"div",22)(37,Xm,3,3,"div",23),T(),y(38,24),a(39,"mat-paginator",25,0),g("page",function(u){return p(l),m(t.onTablePageingData(u))}),r(),T(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","data-provider.main.client.list"),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),_("checked",t.optionsSearch.data.show),o(),v("",h(18,29,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),v("",h(22,31,"ACTION.STATIST")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?24:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?26:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?27:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?28:-1),o(),M((t.tableRowSelected==null?null:t.tableRowSelected.id)>0?29:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?30:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?31:-1),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),M(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?36:37),o(3),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(33,xm)))},dependencies:[we,W,pe,Te,Ye,Ae,Re,kt,ke,Xe,an,Fe,B,st,dt,xe],encapsulation:2});var nr=Tn;var xo=class xo{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};xo.\u0275fac=function(e){return new(e||xo)},xo.\u0275cmp=L({type:xo,selectors:[["app-data-provider-main"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&C(0,"router-outlet")},dependencies:[Wr],encapsulation:2});var ko=xo;var Ym=["vform"];function Zm(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",10),D("modelChange",function(t){p(e);let l=d();return E(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=d();w("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function $m(n,s){if(n&1){let e=P();a(0,"div",9)(1,"button",11),g("click",function(){p(e);let t=d();return m(t.onFormCancel())}),C(2,"i",12),c(3),S(4,"translate"),r(),a(5,"button",13),C(6,"i",14),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),v(" ",h(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),v(" ",h(8,5,"ACTION.SAVE")," ")}}var Lo=class Lo extends St{constructor(e,i,t,l,f,u,k,J){super(l,new yi,u,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderPlanClientService=l;this.cmsToastrService=f;this.publicHelper=u;this.cdr=k;this.translate=J;this.requestPlanId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Y;this.dataModel=new yi;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestPlanId=e.parentId||""),this.requestPlanId&&this.requestPlanId.length>0&&(this.dataModel.linkPlanId=this.requestPlanId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanClientService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPlanId=String(e.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Lo.\u0275fac=function(i){return new(i||Lo)(I(se),I(le),I(ie),I(xi),I(N),I(G),I(O),I(F))},Lo.\u0275cmp=L({type:Lo,selectors:[["app-data-provider-plan-client-add"]],viewQuery:function(i,t){if(i&1&&U(Ym,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:17,vars:16,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",1),C(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),C(8,"app-cms-form-result-message",5),a(9,"form",6,0),g("ngSubmit",function(){return p(l),m(t.onFormSubmit())}),b(11,Zm,1,5,"app-cms-enum-record-status-selector",7),a(12,"app-data-provider-plan-category-selector",8),S(13,"translate"),g("optionChange",function(u){return p(l),m(t.onActionSelectorSelect(u))}),r(),a(14,"app-data-provider-plan-category-selector",8),S(15,"translate"),g("optionChange",function(u){return p(l),m(t.onActionSelectorSelect(u))}),r(),b(16,$m,9,7,"div",9),r()()()}i&2&&(o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v(" ",t.formInfo.formTitle," "),o(2),v(" ",h(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),M(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),_("optionSelectForce",t.dataModel.linkPlanId||"")("optionPlaceholder",h(13,12,"TITLE.Category")),o(2),_("optionSelectForce",t.dataModel.linkClientId)("optionPlaceholder",h(15,14,"TITLE.Category")),o(2),M(t.formInfo.submitButtonEnabled?16:-1))},dependencies:[ve,Ce,he,ge,j,Se,oi,B],encapsulation:2});var or=Lo;var eu=["vform"];function tu(n,s){if(n&1){let e=P();a(0,"div",8)(1,"button",9),g("click",function(){p(e);let t=d();return m(t.onFormDelete())}),C(2,"i",10),c(3),S(4,"translate"),r(),a(5,"button",11),g("click",function(){p(e);let t=d();return m(t.onFormCancel())}),C(6,"i",12),c(7),S(8,"translate"),r()()}if(n&2){let e=d();o(),_("disabled",!e.formInfo.submitButtonEnabled),o(2),v(" ",h(4,3,"ACTION.DELETE")," "),o(4),v(" ",h(8,5,"ACTION.CANCEL")," ")}}var Vo=class Vo{constructor(s,e,i,t,l,f,u){this.data=s;this.dialogRef=e;this.publicHelper=i;this.dataProviderPlanClientService=t;this.cdr=l;this.translate=f;this.cmsToastrService=u;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new Y;this.formInfo=new ei;this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=s.id||"")}ngOnInit(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderPlanClientService.setAccessLoad(),this.dataProviderPlanClientService.setAccessDataType(Oe.Editor),this.dataProviderPlanClientService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onFormDelete(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderPlanClientService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Vo.\u0275fac=function(e){return new(e||Vo)(I(se),I(le),I(G),I(xi),I(O),I(F),I(N))},Vo.\u0275cmp=L({type:Vo,selectors:[["app-data-provider-plan-client-delete"]],viewQuery:function(e,i){if(e&1&&U(eu,5),e&2){let t;Q(t=z())&&(i.formGroup=t.first)}},standalone:!1,decls:15,vars:11,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.linkPlanId",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.linkPlanId","type","text","required","","readonly","","id","dataModelResultContent.item.linkPlanId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){if(e&1){let t=P();a(0,"div",1),C(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),c(8),a(9,"div",5)(10,"label",6),c(11),r(),a(12,"input",7,0),D("ngModelChange",function(f){return p(t),E(i.dataModelResultContent.item.linkPlanId,f)||(i.dataModelResultContent.item.linkPlanId=f),m(f)}),r()(),b(14,tu,9,7,"div",8),r()()}e&2&&(o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(3),v(" ",i.formInfo.formTitle," "),o(2),v(" ",h(7,9,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),v(" ",i.formInfo.formTitle," "),o(3),A(i.fieldsInfo.linkPlanId==null?null:i.fieldsInfo.linkPlanId.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.linkPlanId==null?null:i.fieldsInfo.linkPlanId.fieldTitle)),w("ngModel",i.dataModelResultContent.item.linkPlanId),o(2),M(i.formInfo.submitButtonEnabled?14:-1))},dependencies:[$,ee,Ee,ce,W,j,B],encapsulation:2});var ar=Vo;var iu=["vform"];function nu(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",10),D("modelChange",function(t){p(e);let l=d();return E(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=d();w("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ou(n,s){if(n&1){let e=P();a(0,"div",9)(1,"button",11),g("click",function(){p(e);let t=d();return m(t.onFormCancel())}),C(2,"i",12),c(3),S(4,"translate"),r(),a(5,"button",13),C(6,"i",14),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),v(" ",h(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),v(" ",h(8,5,"ACTION.SAVE")," ")}}var Bo=class Bo extends Ct{constructor(e,i,t,l,f,u,k,J){super(l,new yi,u,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.DataProviderPlanClientService=l;this.cmsToastrService=f;this.publicHelper=u;this.cdr=k;this.translate=J;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new mt;this.dataModel=new yi;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id||""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.DataProviderPlanClientService.setAccessLoad(),this.DataProviderPlanClientService.setAccessDataType(Oe.Editor),this.DataProviderPlanClientService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.DataProviderPlanClientService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPlanId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Bo.\u0275fac=function(i){return new(i||Bo)(I(se),I(le),I(ie),I(xi),I(N),I(G),I(O),I(F))},Bo.\u0275cmp=L({type:Bo,selectors:[["app-data-provider-plan-client-edit"]],viewQuery:function(i,t){if(i&1&&U(iu,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:17,vars:16,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",1),C(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),C(8,"app-cms-form-result-message",5),a(9,"form",6,0),g("ngSubmit",function(){return p(l),m(t.onFormSubmit())}),b(11,nu,1,5,"app-cms-enum-record-status-selector",7),a(12,"app-data-provider-plan-category-selector",8),S(13,"translate"),g("optionChange",function(u){return p(l),m(t.onActionSelectorSelect(u))}),r(),a(14,"app-data-provider-plan-category-selector",8),S(15,"translate"),g("optionChange",function(u){return p(l),m(t.onActionSelectorSelect(u))}),r(),b(16,ou,9,7,"div",9),r()()()}i&2&&(o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v(" ",t.formInfo.formTitle," "),o(2),v(" ",h(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),M(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),_("optionSelectForce",t.dataModel.linkPlanId)("optionPlaceholder",h(13,12,"TITLE.Category")),o(2),_("optionSelectForce",t.dataModel.linkClientId)("optionPlaceholder",h(15,14,"TITLE.Category")),o(2),M(t.formInfo.submitButtonEnabled?16:-1))},dependencies:[ve,Ce,he,ge,j,Se,oi,B],encapsulation:2});var rr=Bo;var au=()=>[5,10,20,100],ru=n=>({display:n});function lu(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",34),g("click",function(){p(e);let t=d();return m(t.onActionButtonNewRow())}),C(2,"i",35)(3,"br"),r(),a(4,"p",36),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.ADD")," "))}function su(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",37),g("click",function(){p(e);let t=d();return m(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",38)(3,"br"),r(),a(4,"p",36),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.EDIT")," "))}function du(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",39),g("click",function(){p(e);let t=d();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",40)(3,"br"),r(),a(4,"p",36),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.DELETE")," "))}function cu(n,s){if(n&1&&(a(0,"mat-header-cell",41),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function pu(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),v(" ",e.id," ")}}function mu(n,s){if(n&1&&(a(0,"mat-header-cell",41),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function uu(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),r()),n&2){let e=s.$implicit;o(),v(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function fu(n,s){if(n&1&&(a(0,"mat-header-cell",41),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function _u(n,s){if(n&1&&C(0,"select",43),n&2){let e=d().$implicit,i=d();_("contentService",i.contentService)("row",e)("ngStyle",Gt(3,ru,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Su(n,s){if(n&1&&(a(0,"mat-cell"),C(1,"i",42),S(2,"statusIconClass"),b(3,_u,1,5,"select",43),r()),n&2){let e=s.$implicit,i=d();o(),_("ngClass",h(2,2,e.recordStatus)),o(2),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?3:-1)}}function Cu(n,s){if(n&1&&(a(0,"mat-header-cell",41),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function hu(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),v(" ",e.expireDate," ")}}function vu(n,s){n&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"TITLE.OPTION")," "))}function gu(n,s){if(n&1&&(a(0,"mat-cell",44)(1,"button",45)(2,"mat-icon"),c(3,"more_vert"),r()(),C(4,"mat-menu",null,2),r()),n&2){let e=x(5);o(),_("matMenuTriggerFor",e)}}function bu(n,s){n&1&&C(0,"mat-header-row")}function Mu(n,s){if(n&1){let e=P();a(0,"mat-row",46),g("click",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Fo=class Fo extends ht{constructor(e,i,t,l,f,u,k,J,Ge,tt,Ke){super(e,new yi,tt,f,J);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.router=l;this.tokenHelper=f;this.cmsStoreService=u;this.cdr=k;this.translate=J;this.pageInfo=Ge;this.publicHelper=tt;this.dialog=Ke;this.requestLinkPlanId="";this.requestLinkClientId="";this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new re;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","ExpireDate"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","ExpireDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ct=>this.onSubmitOptionsSearch(ct)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=ae.Descending}ngOnInit(){if(this.requestLinkPlanId=this.activatedRoute.snapshot.paramMap.get("LinkPlanId")||"",this.requestLinkPlanId&&this.requestLinkPlanId.length>0){let e=new K;e.propertyName="LinkPlanId",e.value=this.requestLinkPlanId,this.filteModelContent.filters.push(e)}if(this.requestLinkClientId&&this.requestLinkClientId.length>0){let e=new K;e.propertyName="LinkClientId",e.value=this.requestLinkClientId,this.filteModelContent.filters.push(e)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Pe(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new yi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&(typeof this.categoryModelSelected.id=="string"?this.categoryModelSelected.id.length>0:this.categoryModelSelected.id>0)){let t=new K;t.propertyName="LinkCategoryId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.applyDataGetAllResult(t),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new re,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryModelSelected==null||(typeof this.categoryModelSelected.id=="string"?this.categoryModelSelected.id.length===0:this.categoryModelSelected.id===0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=new ft;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={parentId:this.categoryModelSelected.id},this.dialog.open(or,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}let i=new ft;i.disableClose=!0,i.autoFocus=!0,i.data={id:this.tableRowSelected.id},this.dialog.open(rr,i).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ar,{height:"40%",panelClass:i,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(u=>{i.set(u,0)}),this.translate.get("MESSAGE.All").subscribe(u=>{i.set(u,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(u=>{this.publicHelper.processService.processStart(t,u,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:u=>{u.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(u.errorMessage),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new K;f.propertyName="recordStatus",f.value=pt.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:u=>{u.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(u.errorMessage),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Fo.\u0275fac=function(i){return new(i||Fo)(I(xi),I(Ut),I(N),I(Ze),I(ze),I(Qe),I(O),I(F),I(_t),I(G),I(je))},Fo.\u0275cmp=L({type:Fo,selectors:[["app-data-provider-plan-client-list"]],standalone:!1,features:[q],decls:50,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(u){return p(l),E(t.viewGuideNotice,u)||(t.viewGuideNotice=u),m(u)}),g("optionOnActionButtonMemoRow",function(){return p(l),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(l),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(l),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(l),m(t.onActionButtonPrintRow())}),y(1,4),c(2," -------------------------------------- "),T(),Me(3,5)(4,6),y(5,7),a(6,"a",8),g("click",function(){return p(l),m(t.viewGuideNotice=!t.viewGuideNotice)}),C(7,"i",9),r(),a(8,"a",8),g("click",function(){return p(l),m(t.onActionButtonReload())}),C(9,"i",10),r(),T(),y(10,11),a(11,"a",12),g("click",function(){return p(l),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(12,"mat-slide-toggle",13),c(13),S(14,"translate"),r(),a(15,"a",12),g("click",function(){return p(l),m(t.onActionButtonStatist())}),C(16,"mat-slide-toggle",13),c(17),S(18,"translate"),r(),T(),y(19,14),b(20,lu,7,3,"div",15),T(),y(21,16),b(22,su,7,3,"div",15),b(23,du,7,3,"div",15),T(),y(24,17),a(25,"app-cms-search-list",18),D("optionsChange",function(u){return p(l),E(t.optionsSearch,u)||(t.optionsSearch=u),m(u)}),r(),a(26,"app-cms-statist-list",18),D("optionsChange",function(u){return p(l),E(t.optionsStatist,u)||(t.optionsStatist=u),m(u)}),r(),T(),y(27,19),a(28,"mat-table",20,0),g("matSortChange",function(){p(l);let u=x(29);return m(t.onTableSortData(u))}),y(30,21),V(31,cu,2,1,"mat-header-cell",22)(32,pu,2,1,"mat-cell",23),T(),y(33,24),V(34,mu,2,1,"mat-header-cell",22)(35,uu,4,5,"mat-cell",23),T(),y(36,25),V(37,fu,2,1,"mat-header-cell",22)(38,Su,4,4,"mat-cell",23),T(),y(39,26),V(40,Cu,2,1,"mat-header-cell",22)(41,hu,2,1,"mat-cell",23),T(),y(42,27),V(43,vu,3,3,"mat-header-cell",28)(44,gu,6,1,"mat-cell",29),T(),V(45,bu,1,0,"mat-header-row",30)(46,Mu,1,2,"mat-row",31),r(),T(),y(47,32),a(48,"mat-paginator",33,1),g("page",function(u){return p(l),m(t.onTablePageingData(u))}),r(),T(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),v("",h(14,25,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),v("",h(18,27,"ACTION.STATIST")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow&&(t.categoryModelSelected==null?null:t.categoryModelSelected.id)>0?20:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),_("dataSource",t.tableSource),o(17),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(29,au)))},dependencies:[we,Xt,$e,Je,W,It,Pt,pe,Te,Ue,it,wt,ot,Et,at,nt,Dt,rt,lt,yt,Tt,Ae,Re,At,ke,Xe,Fe,B,st,xe],encapsulation:2});var Sn=Fo;var Iu=()=>[5,10,20,100],Pu=(n,s)=>s.id;function wu(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",25),g("click",function(){p(e);let t=d();return m(t.onActionButtonNewRow())}),C(2,"i",26)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.ADD")," "))}function Eu(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",28),g("click",function(){p(e);let t=d();return m(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",29)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.EDIT")," "))}function Du(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",30),g("click",function(){p(e);let t=d();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",31)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.DELETE")," "))}function yu(n,s){if(n&1&&(a(0,"div",38),C(1,"i",40),c(2),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",e.id," ")}}function Tu(n,s){if(n&1&&(a(0,"div",38),C(1,"i",41),c(2),S(3,"localeDate"),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",h(3,2,e.createdDate)," ")}}function Au(n,s){if(n&1&&(a(0,"div",38),C(1,"i",42),c(2),S(3,"localeDate"),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle,": ",h(3,2,e.expireDate)," ")}}function Ru(n,s){if(n&1&&(a(0,"div",38),C(1,"i",43),c(2),S(3,"cmssiteinfo"),S(4,"async"),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.linkSiteId==null?null:i.fieldsInfo.linkSiteId.fieldTitle,": ",h(4,4,h(3,2,e.linkSiteId))," ")}}function xu(n,s){if(n&1&&C(0,"select",45),n&2){let e=d(2).$implicit,i=d(2);_("contentService",i.contentService)("row",e)}}function ku(n,s){if(n&1&&(a(0,"div",38),C(1,"i",44),S(2,"statusIconClass"),b(3,xu,1,2,"select",45),r()),n&2){let e=d().$implicit,i=d(2);o(),_("ngClass",h(2,2,e.recordStatus)),o(2),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function Lu(n,s){if(n&1&&(a(0,"div",38),C(1,"i",48),c(2),S(3,"localeDate"),r()),n&2){let e=d(2).$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",h(3,2,e.updatedDate)," ")}}function Vu(n,s){if(n&1){let e=P();a(0,"div",39),b(1,Lu,4,4,"div",38),a(2,"div",38)(3,"span",46),g("click",function(t){return p(e),d(3).onActionCopied(),m(t.stopPropagation())}),C(4,"i",47),r(),c(5),r()()}if(n&2){let e=d().$implicit;o(),M(e.updatedDate?1:-1),o(2),_("cdkCopyToClipboard",e.id.toString()),o(2),v(" ID: ",e.id," ")}}function Bu(n,s){if(n&1){let e=P();a(0,"div",33),g("click",function(t){let l=p(e).$implicit,f=d(2);return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,f=d(2);return m(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=p(e).$implicit,l=d(2);return m(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,l=d(2);return m(l.onActionTableRowMouseLeave(t))}),a(1,"div",34),C(2,"i",35),S(3,"statusIconClass"),r(),a(4,"div",36)(5,"div",37),c(6),r(),b(7,yu,3,2,"div",38),b(8,Tu,4,4,"div",38),b(9,Au,4,4,"div",38),b(10,Ru,5,6,"div",38),b(11,ku,4,4,"div",38),b(12,Vu,6,3,"div",39),r()()}if(n&2){let e=s.$implicit,i=d(2);H("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))("bg-fade-highlight-light",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),He("aria-label",e.id||e.id),o(2),_("ngClass",h(3,13,e.recordStatus)),o(4),v(" ID: ",e.id," "),o(),M(e.id?7:-1),o(),M(e.createdDate?8:-1),o(),M(e.expireDate?9:-1),o(),M(e.linkSiteId?10:-1),o(),M(e.recordStatus!==void 0?11:-1),o(),M(i.getRowExpanded(e)?12:-1)}}function Fu(n,s){if(n&1&&(a(0,"div",21),Ve(1,Bu,13,15,"div",32,Pu),r()),n&2){let e=d();o(),Be(e.dataModelResult.listItems)}}function Ou(n,s){n&1&&(a(0,"div",22),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"MESSAGE.NoRecord")," "))}var An=class An extends Sn{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(e){return e.expanded===!0}};An.\u0275fac=(()=>{let e;return function(t){return(e||(e=Rt(An)))(t||An)}})(),An.\u0275cmp=L({type:An,selectors:[["app-data-provider-plan-client-list-mobile"]],hostBindings:function(i,t){i&1&&g("click",function(f){return t.onDocumentClick(f)},Mt)},standalone:!1,features:[q],decls:36,vars:30,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-calendar"],["aria-hidden","true",1,"fa-solid","fa-calendar-times"],["aria-hidden","true",1,"fa-solid","fa-globe"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list-mobile",1),D("optionActionGuideNoticeDisplayChange",function(u){return p(l),E(t.viewGuideNotice,u)||(t.viewGuideNotice=u),m(u)}),g("optionOnActionButtonMemoRow",function(){return p(l),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(l),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(l),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(l),m(t.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return p(l),m(t.onActionLoadNextPage())}),Me(1,2)(2,3)(3,4),y(4,5),a(5,"a",6),g("click",function(){return p(l),m(t.viewGuideNotice=!t.viewGuideNotice)}),C(6,"i",7),r(),a(7,"a",6),g("click",function(){return p(l),m(t.onActionButtonReload())}),C(8,"i",8),r(),a(9,"a",9),g("click",function(){return p(l),m(t.onActionGridExpandRows(!0))}),C(10,"i",10),r(),a(11,"a",9),g("click",function(){return p(l),m(t.onActionGridExpandRows(!1))}),C(12,"i",11),r(),T(),y(13,12),a(14,"a",13),g("click",function(){return p(l),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(15,"mat-slide-toggle",14),c(16),S(17,"translate"),r(),a(18,"a",13),g("click",function(){return p(l),m(t.onActionButtonStatist())}),C(19,"mat-slide-toggle",14),c(20),S(21,"translate"),r(),T(),y(22,15),b(23,wu,7,3,"div",16),T(),y(24,17),b(25,Eu,7,3,"div",16),b(26,Du,7,3,"div",16),T(),y(27,18),a(28,"app-cms-search-list",19),D("optionsChange",function(u){return p(l),E(t.optionsSearch,u)||(t.optionsSearch=u),m(u)}),r(),a(29,"app-cms-statist-list",19),D("optionsChange",function(u){return p(l),E(t.optionsStatist,u)||(t.optionsStatist=u),m(u)}),r(),T(),y(30,20),b(31,Fu,3,0,"div",21)(32,Ou,3,3,"div",22),T(),y(33,23),a(34,"mat-paginator",24,0),g("page",function(u){return p(l),m(t.onTablePageingData(u))}),r(),T(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","data-provider.main.plan-client.list"),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(8),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),_("checked",t.optionsSearch.data.show),o(),v("",h(17,25,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),v("",h(21,27,"ACTION.STATIST")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow&&(t.categoryModelSelected==null?null:t.categoryModelSelected.id)>0?23:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?25:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?26:-1),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),M(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?31:32),o(3),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(29,Iu)))},dependencies:[we,W,pe,Te,Ye,Ae,Re,kt,ke,Xe,Fe,B,st,dt,xe],encapsulation:2});var Oo=An;var Nu=["*"];function Gu(n,s){if(n&1&&(a(0,"label",3),c(1),r()),n&2){let e=d();_("for",Wt("app-cms-site-selector-",e.id)),o(),A(e.optionLabel)}}function Hu(n,s){if(n&1&&(C(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=d();_("src",R(h(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),oe)}}function Wu(n,s){if(n&1&&(C(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;_("src",R(h(1,2,e.linkMainImageIdSrc)),oe)}}function qu(n,s){if(n&1&&(a(0,"mat-option",8),b(1,Wu,2,4,"img",5),a(2,"span"),c(3),r()()),n&2){let e=s.$implicit,i=d();_("value",e)("disabled",i.optionDisabled),o(),M(e.linkMainImageIdSrc?1:-1),o(2),A(i.displayOption(e))}}function ju(n,s){n&1&&C(0,"i",9)}function Uu(n,s){n&1&&C(0,"i",10)}function Qu(n,s){if(n&1){let e=P();a(0,"i",13),g("click",function(){p(e);let t=d();return m(t.onActionSelectClear())}),r()}}function zu(n,s){n&1&&(a(0,"em"),c(1),S(2,"translate"),r()),n&2&&(o(),v("(",h(2,1,"TITLE.Necessary"),")"))}var Cn=class Cn{constructor(s,e,i,t,l,f){this.coreEnumService=s;this.cmsToastrService=e;this.translate=i;this.cdr=t;this.publicHelper=l;this.categoryService=f;this.id=++Cn.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Y;this.dataModelSelect=new ut;this.formControl=new mi;this.optionPlaceholder="";this.optionSelectFirstItem=!1;this.optionDisabled=!1;this.optionRequired=!1;this.optionLabel="";this.optionChange=new xt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(wi(""),Ii(1500),Pi(),Ei(s=>typeof s=="string"||typeof s=="number"?this.DataGetAll(s||""):[]))}displayFn(s){return s?s.title:void 0}displayOption(s){return s?s.title:void 0}DataGetAll(s){return Pe(this,null,function*(){let e=new re;e.rowPerPage=20,e.accessLoad=!0;let i=new K;i.propertyName="title",i.value=s,i.searchType=qt.Contains,i.clauseType=Qt.Or,e.filters.push(i),s&&typeof+s=="number"&&+s>0&&(i=new K,i.propertyName="id",i.value=s,i.searchType=qt.Equal,i.clauseType=Qt.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),yield bi(this.categoryService.ServiceGetAll(e)).then(l=>(this.dataModelResult=l,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||(typeof this.dataModelSelect.id=="string"?this.dataModelSelect.id.length===0:this.dataModelSelect.id<=0))&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),l.listItems))})}onActionSelect(s){this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(s){return this.filteredOptions.pipe(Mi(e=>(e.find(i=>i.id===s.id)||e.push(s),e)))}onActionSelectForce(s){if(typeof s=="string"&&s.length>0||typeof s=="number"&&s>0){let e=typeof s=="string"?s:String(s);if(this.dataModelSelect&&String(this.dataModelSelect.id)===e)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>String(i.id)===e)){let i=this.dataModelResult.listItems.find(t=>String(t.id)===e);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(e).subscribe({next:i=>{i.isSuccess?(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item)):this.cmsToastrService.typeErrorMessage(i.errorMessage)}});return}if(typeof s==typeof ut){this.filteredOptions=this.push(s),this.dataModelSelect=s,this.formControl.setValue(s);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new ut,this.loadOptions()}};Cn.nextId=0,Cn.\u0275fac=function(e){return new(e||Cn)(I(ie),I(N),I(F),I(O),I(G),I(Zt))},Cn.\u0275cmp=L({type:Cn,selectors:[["app-data-provider-plan-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Nu,decls:18,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=P();ji(),a(0,"div",1),C(1,"app-progress-spinner",2),b(2,Gu,2,3,"label",3),a(3,"span",4),b(4,Hu,2,4,"img",5),r(),C(5,"input",6),a(6,"mat-autocomplete",7,0),g("optionSelected",function(f){return p(t),m(i.onActionSelect(f.option.value))}),Ve(8,qu,4,4,"mat-option",8,Di),S(10,"async"),r(),b(11,ju,1,0,"i",9),b(12,Uu,1,0,"i",10),b(13,Qu,1,0,"i",11),a(14,"i",12),S(15,"translate"),g("click",function(){return p(t),m(i.onActionButtonReload())}),r(),b(16,zu,3,3,"em"),Ui(17),r()}if(e&2){let t=x(7);o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(),M((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),M(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),_("placeholder",R(i.optionPlaceholder))("id",Wt("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),He("disabled",i.optionDisabled?!0:null),o(),_("displayWith",i.displayFn),o(2),Be(h(10,20,i.filteredOptions)),o(3),M(i.formControl.valid?-1:11),o(),M(i.optionRequired&&i.formControl.valid?12:-1),o(),M((i.dataModelSelect==null?null:i.dataModelSelect.id)>0?13:-1),o(),H("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),_("title",R(h(15,22,"ACTION.RELOAD"))),o(2),M(i.optionRequired&&!((i.dataModelSelect==null?null:i.dataModelSelect.id)>0)?16:-1)}},dependencies:[$,ee,Ee,Bi,Ni,Fi,Gi,Yi,W,j,Fe,B,Ne],encapsulation:2});var No=Cn;var Ku=["vform"];function Ju(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",27),D("modelChange",function(t){p(e);let l=d();return E(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=d();w("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Xu(n,s){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function Yu(n,s){n&1&&(a(0,"mat-error"),c(1," Description is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function Zu(n,s){if(n&1&&(C(0,"img",21),S(1,"cmsthumbnail")),n&2){let e=d();_("src",R(h(1,2,e.dataModel.linkMainImageIdSrc)),oe)}}function $u(n,s){if(n&1){let e=P();a(0,"div",14)(1,"label",28),g("click",function(){p(e);let t=d();return m(t.fileManagerOpenForm=!0)}),c(2),S(3,"translate"),r(),a(4,"input",29,5),S(6,"translate"),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),m(t)}),g("click",function(){p(e);let t=d();return m(t.fileManagerOpenForm=!0)}),r(),a(7,"cms-file-manager",30),g("itemSelected",function(t){p(e);let l=d();return m(l.onActionFileSelected(t))}),D("openFormChange",function(t){p(e);let l=d();return E(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),m(t)}),r()()}if(n&2){let e=d();o(2),A(h(3,12,"TITLE.Icon_File")),o(2),_("placeholder",R(h(6,14,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),o(3),_("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),_("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function e0(n,s){if(n&1){let e=P();a(0,"div",26)(1,"button",31),g("click",function(){p(e);let t=d();return m(t.onFormCancel())}),C(2,"i",32),c(3),S(4,"translate"),r(),a(5,"button",33),C(6,"i",34),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),v(" ",h(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),v(" ",h(8,5,"ACTION.SAVE")," ")}}var Go=class Go extends St{constructor(e,i,t,l,f,u,k,J,Ge){super(l,new ln,k,Ge);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataproviderplanpriceservice=l;this.cmsToastrService=f;this.coreSiteService=u;this.publicHelper=k;this.cdr=J;this.translate=Ge;this.requestLinkPlanId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.currency="";this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Y;this.dataModel=new ln;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestLinkPlanId=e.linkPlanId||""),this.requestLinkPlanId&&this.requestLinkPlanId.length>0&&(this.dataModel.linkPlanId=this.requestLinkPlanId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.DataGetCurrency()}DataGetCurrency(){this.coreSiteService.ServiceGetCurrencyMaster().subscribe({next:e=>{e.isSuccess?this.currency=e.item:this.cmsToastrService.typeErrorMessage(e.errorMessage)},error:e=>{this.cmsToastrService.typeError(e)}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataproviderplanpriceservice.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("MESSAGE.Information_plan_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPlanId=String(e.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Go.\u0275fac=function(i){return new(i||Go)(I(se),I(le),I(ie),I(zi),I(N),I(zn),I(G),I(O),I(F))},Go.\u0275cmp=L({type:Go,selectors:[["app-data-provider-plan-price-add"]],viewQuery:function(i,t){if(i&1&&U(Ku,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:47,vars:34,consts:[["vform","ngForm"],["Title",""],["Description",""],["PeriodDay",""],["Price",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.periodDay",1,"color-highlight"],["matInput","","type","number","name","dataModel.periodDay","placeholder","0","id","dataModel.periodDay",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.price",1,"color-highlight"],["matInput","","type","number","name","dataModel.price","placeholder","0","id","dataModel.price",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",6),C(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),C(8,"app-cms-form-result-message",10),a(9,"form",11,0),g("ngSubmit",function(){return p(l),m(t.onFormSubmit())}),b(11,Ju,1,5,"app-cms-enum-record-status-selector",12),a(12,"app-data-provider-plan-selector",13),S(13,"translate"),g("optionChange",function(u){return p(l),m(t.onActionSelectorSelect(u))}),r(),a(14,"div",14)(15,"label",15),c(16),r(),a(17,"input",16,1),D("ngModelChange",function(u){return p(l),E(t.dataModel.title,u)||(t.dataModel.title=u),m(u)}),r(),a(19,"em"),c(20),r(),b(21,Xu,5,3,"mat-error"),r(),a(22,"div",14)(23,"label",17),c(24),r(),a(25,"textarea",18,2),D("ngModelChange",function(u){return p(l),E(t.dataModel.description,u)||(t.dataModel.description=u),m(u)}),c(27,"          "),r(),a(28,"em"),c(29),r(),b(30,Yu,5,3,"mat-error"),r(),a(31,"div",19)(32,"a",20),S(33,"cmsthumbnail"),b(34,Zu,2,4,"img",21),r()(),b(35,$u,8,16,"div",14),a(36,"div",14)(37,"label",22),c(38),r(),a(39,"input",23,3),D("ngModelChange",function(u){return p(l),E(t.dataModel.periodDay,u)||(t.dataModel.periodDay=u),m(u)}),r()(),a(41,"div",14)(42,"label",24),c(43),r(),a(44,"input",25,4),D("ngModelChange",function(u){return p(l),E(t.dataModel.price,u)||(t.dataModel.price=u),m(u)}),r()(),b(46,e0,9,7,"div",26),r()()()}if(i&2){let l=x(18),f=x(26);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v(" ",t.formInfo.formTitle," "),o(2),v(" ",h(7,28,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),M(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),_("optionSelectForce",t.dataModel.linkPlanId||"")("optionPlaceholder",h(13,30,"TITLE.Information_Plan")),o(4),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.title),o(3),v("",l.value.length," / 100"),o(),M(l.errors!=null&&l.errors.required?21:-1),o(3),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.description),o(4),v("",f.value.length," / 500"),o(),M(f.errors!=null&&f.errors.required?30:-1),o(2),_("href",R(h(33,32,t.dataModel.linkMainImageIdSrc)),oe),o(2),M((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?34:-1),o(),M(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?35:-1),o(3),A(t.fieldsInfo.periodDay==null?null:t.fieldsInfo.periodDay.fieldTitle),o(),w("ngModel",t.dataModel.periodDay),o(4),A(t.fieldsInfo.price==null?null:t.fieldsInfo.price.fieldTitle),o(),w("ngModel",t.dataModel.price),o(2),M(t.formInfo.submitButtonEnabled?46:-1)}},dependencies:[ve,$,Vi,ee,Ce,De,ye,ce,he,qe,W,ge,j,Se,ti,Ht,No,B,Ne],encapsulation:2});var lr=Go;var t0=["vform"];function i0(n,s){if(n&1){let e=P();a(0,"div",8)(1,"button",9),g("click",function(){p(e);let t=d();return m(t.onFormDelete())}),C(2,"i",10),c(3),S(4,"translate"),r(),a(5,"button",11),g("click",function(){p(e);let t=d();return m(t.onFormCancel())}),C(6,"i",12),c(7),S(8,"translate"),r()()}if(n&2){let e=d();o(),_("disabled",!e.formInfo.submitButtonEnabled),o(2),v(" ",h(4,3,"ACTION.DELETE")," "),o(4),v(" ",h(8,5,"ACTION.CANCEL")," ")}}var Ho=class Ho{constructor(s,e,i,t,l,f,u){this.data=s;this.dialogRef=e;this.publicHelper=i;this.dataproviderplanservice=t;this.cdr=l;this.translate=f;this.cmsToastrService=u;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new Y;this.formInfo=new ei;this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=s.id||"")}ngOnInit(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataproviderplanservice.setAccessLoad(),this.dataproviderplanservice.setAccessDataType(Oe.Editor),this.dataproviderplanservice.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onFormDelete(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataproviderplanservice.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ho.\u0275fac=function(e){return new(e||Ho)(I(se),I(le),I(G),I(zi),I(O),I(F),I(N))},Ho.\u0275cmp=L({type:Ho,selectors:[["app-data-provider-plan-price-delete"]],viewQuery:function(e,i){if(e&1&&U(t0,5),e&2){let t;Q(t=z())&&(i.formGroup=t.first)}},standalone:!1,decls:14,vars:10,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.title",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.title","type","text","required","","readonly","","id","dataModelResultContent.item.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){if(e&1){let t=P();a(0,"div",1),C(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),a(8,"div",5)(9,"label",6),c(10),r(),a(11,"input",7,0),D("ngModelChange",function(f){return p(t),E(i.dataModelResultContent.item.title,f)||(i.dataModelResultContent.item.title=f),m(f)}),r()(),b(13,i0,9,7,"div",8),r()()}e&2&&(o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(3),v(" ",i.formInfo.formTitle," "),o(2),v(" ",h(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModelResultContent.item.title),o(2),M(i.formInfo.submitButtonEnabled?13:-1))},dependencies:[$,ee,Ee,ce,W,j,B],encapsulation:2});var sr=Ho;var n0=["vform"];function o0(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",27),D("modelChange",function(t){p(e);let l=d();return E(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=d();w("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function a0(n,s){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function r0(n,s){n&1&&(a(0,"mat-error"),c(1," Description is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function l0(n,s){if(n&1&&(C(0,"img",21),S(1,"cmsthumbnail")),n&2){let e=d();_("src",R(h(1,2,e.dataModel.linkMainImageIdSrc)),oe)}}function s0(n,s){if(n&1){let e=P();a(0,"div",14)(1,"label",28),g("click",function(){p(e);let t=d();return m(t.fileManagerOpenForm=!0)}),c(2),S(3,"translate"),r(),a(4,"input",29,5),S(6,"translate"),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),m(t)}),g("click",function(){p(e);let t=d();return m(t.fileManagerOpenForm=!0)}),r(),a(7,"cms-file-manager",30),g("itemSelected",function(t){p(e);let l=d();return m(l.onActionFileSelected(t))}),D("openFormChange",function(t){p(e);let l=d();return E(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),m(t)}),r()()}if(n&2){let e=d();o(2),A(h(3,12,"TITLE.Icon_File")),o(2),_("placeholder",R(h(6,14,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),o(3),_("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),_("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function d0(n,s){if(n&1){let e=P();a(0,"div",26)(1,"button",31),g("click",function(){p(e);let t=d();return m(t.onFormCancel())}),C(2,"i",32),c(3),S(4,"translate"),r(),a(5,"button",33),C(6,"i",34),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),v(" ",h(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),v(" ",h(8,5,"ACTION.SAVE")," ")}}var Wo=class Wo extends Ct{constructor(e,i,t,l,f,u,k,J,Ge){super(l,new ln,k,Ge);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataproviderplanpriceservice=l;this.cmsToastrService=f;this.coreSiteService=u;this.publicHelper=k;this.cdr=J;this.translate=Ge;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.currency="";this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new mt;this.dataModel=new ln;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id||""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetCurrency()}DataGetCurrency(){this.coreSiteService.ServiceGetCurrencyMaster().subscribe({next:e=>{e.isSuccess&&(this.currency=e.item)},error:e=>{this.cmsToastrService.typeError(e)}})}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataproviderplanpriceservice.setAccessLoad(),this.dataproviderplanpriceservice.setAccessDataType(Oe.Editor),this.dataproviderplanpriceservice.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataproviderplanpriceservice.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("MESSAGE.Information_plan_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPlanId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Wo.\u0275fac=function(i){return new(i||Wo)(I(se),I(le),I(ie),I(zi),I(N),I(zn),I(G),I(O),I(F))},Wo.\u0275cmp=L({type:Wo,selectors:[["app-data-provider-plan-price-edit"]],viewQuery:function(i,t){if(i&1&&U(n0,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:47,vars:34,consts:[["vform","ngForm"],["Title",""],["Description",""],["PeriodDay",""],["Price",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.periodDay",1,"color-highlight"],["matInput","","type","number","name","dataModel.periodDay","placeholder","0","id","dataModel.periodDay",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.price",1,"color-highlight"],["matInput","","type","number","name","dataModel.price","placeholder","0","id","dataModel.price",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",6),C(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),C(8,"app-cms-form-result-message",10),a(9,"form",11,0),g("ngSubmit",function(){return p(l),m(t.onFormSubmit())}),b(11,o0,1,5,"app-cms-enum-record-status-selector",12),a(12,"app-data-provider-plan-selector",13),S(13,"translate"),g("optionChange",function(u){return p(l),m(t.onActionSelectorSelect(u))}),r(),a(14,"div",14)(15,"label",15),c(16),r(),a(17,"input",16,1),D("ngModelChange",function(u){return p(l),E(t.dataModel.title,u)||(t.dataModel.title=u),m(u)}),r(),a(19,"em"),c(20),r(),b(21,a0,5,3,"mat-error"),r(),a(22,"div",14)(23,"label",17),c(24),r(),a(25,"textarea",18,2),D("ngModelChange",function(u){return p(l),E(t.dataModel.description,u)||(t.dataModel.description=u),m(u)}),c(27,"          "),r(),a(28,"em"),c(29),r(),b(30,r0,5,3,"mat-error"),r(),a(31,"div",19)(32,"a",20),S(33,"cmsthumbnail"),b(34,l0,2,4,"img",21),r()(),b(35,s0,8,16,"div",14),a(36,"div",14)(37,"label",22),c(38),r(),a(39,"input",23,3),D("ngModelChange",function(u){return p(l),E(t.dataModel.periodDay,u)||(t.dataModel.periodDay=u),m(u)}),r()(),a(41,"div",14)(42,"label",24),c(43),r(),a(44,"input",25,4),D("ngModelChange",function(u){return p(l),E(t.dataModel.price,u)||(t.dataModel.price=u),m(u)}),r()(),b(46,d0,9,7,"div",26),r()()()}if(i&2){let l=x(18),f=x(26);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v(" ",t.formInfo.formTitle," "),o(2),v(" ",h(7,28,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),M(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),_("optionSelectForce",t.dataModel.linkPlanId)("optionPlaceholder",h(13,30,"TITLE.Information_Plan")),o(4),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.title),o(3),v("",l.value.length," / 100"),o(),M(l.errors!=null&&l.errors.required?21:-1),o(3),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.description),o(4),v("",f.value.length," / 500"),o(),M(f.errors!=null&&f.errors.required?30:-1),o(2),_("href",R(h(33,32,t.dataModel.linkMainImageIdSrc)),oe),o(2),M((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?34:-1),o(),M(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?35:-1),o(3),A(t.fieldsInfo.periodDay==null?null:t.fieldsInfo.periodDay.fieldTitle),o(),w("ngModel",t.dataModel.periodDay),o(4),A(t.fieldsInfo.price==null?null:t.fieldsInfo.price.fieldTitle),o(),w("ngModel",t.dataModel.price),o(2),M(t.formInfo.submitButtonEnabled?46:-1)}},dependencies:[ve,$,Vi,ee,Ce,De,ye,ce,he,qe,W,ge,j,Se,ti,Ht,No,B,Ne],encapsulation:2});var dr=Wo;var c0=()=>[5,10,20,100],p0=n=>({display:n});function m0(n,s){if(n&1&&C(0,"app-data-provider-plan-header",3),n&2){let e=d();_("optionId",e.requestLinkPlanId)}}function u0(n,s){if(n&1){let e=P();a(0,"a",40),g("click",function(){p(e);let t=d();return m(t.onActionBackToParent())}),C(1,"i",41),r()}}function f0(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",42),g("click",function(){p(e);let t=d();return m(t.onActionButtonNewRow())}),C(2,"i",43)(3,"br"),r(),a(4,"p",44),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.ADD")," "))}function _0(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",45),g("click",function(){p(e);let t=d();return m(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",46)(3,"br"),r(),a(4,"p",44),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.EDIT")," "))}function S0(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",47),g("click",function(){p(e);let t=d();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",48)(3,"br"),r(),a(4,"p",44),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.DELETE")," "))}function C0(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",49),g("click",function(){p(e);let t=d();return m(t.onActionButtonTransactionList(t.tableRowSelected))}),C(2,"i",50)(3,"br"),r(),a(4,"p",44),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.TRANSACTIONS")," "))}function h0(n,s){n&1&&(a(0,"mat-header-cell",51),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"TITLE.PICTURE")," "))}function v0(n,s){if(n&1&&(C(0,"img",52),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;_("src",R(h(1,2,e.linkMainImageIdSrc)),oe)}}function g0(n,s){if(n&1&&(a(0,"mat-cell"),b(1,v0,2,4,"img",52),r()),n&2){let e=s.$implicit;o(),M((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function b0(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function M0(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),v(" ",e.id," ")}}function I0(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function P0(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),r()),n&2){let e=s.$implicit;o(),v(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function w0(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function E0(n,s){if(n&1&&C(0,"select",54),n&2){let e=d().$implicit,i=d();_("contentService",i.contentService)("row",e)("ngStyle",Gt(3,p0,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function D0(n,s){if(n&1&&(a(0,"mat-cell"),C(1,"i",53),S(2,"statusIconClass"),b(3,E0,1,5,"select",54),r()),n&2){let e=s.$implicit,i=d();o(),_("ngClass",h(2,2,e.recordStatus)),o(2),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?3:-1)}}function y0(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function T0(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),v(" ",e.title," ")}}function A0(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function R0(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),v(" ",e.description," ")}}function x0(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.periodDay==null?null:e.fieldsInfo.periodDay.fieldTitle," ")}}function k0(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),v(" ",e.periodDay," ")}}function L0(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.price==null?null:e.fieldsInfo.price.fieldTitle," ")}}function V0(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),v(" ",e.price," ")}}function B0(n,s){n&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"TITLE.OPTION")," "))}function F0(n,s){if(n&1&&(a(0,"mat-cell",55)(1,"button",56)(2,"mat-icon"),c(3,"more_vert"),r()(),C(4,"mat-menu",null,2),r()),n&2){let e=x(5);o(),_("matMenuTriggerFor",e)}}function O0(n,s){n&1&&C(0,"mat-header-row")}function N0(n,s){if(n&1){let e=P();a(0,"mat-row",57),g("click",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var qo=class qo extends ht{constructor(e,i,t,l,f,u,k,J,Ge,tt,Ke){super(e,new ln,tt,f,k);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.router=l;this.tokenHelper=f;this.cdr=u;this.translate=k;this.cmsStoreService=J;this.pageInfo=Ge;this.publicHelper=tt;this.dialog=Ke;this.requestLinkPlanId=0;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new re;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","Description","PeriodDay","Price"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","id","recordStatus","Description","PeriodDay","Price"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ct=>this.onSubmitOptionsSearch(ct)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=ae.Descending}ngOnInit(){if(this.requestLinkPlanId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkPlanId")),this.requestLinkPlanId&&this.requestLinkPlanId>0){let e=new K;e.propertyName="LinkPlanId",e.value=this.requestLinkPlanId,this.filteModelContent.filters.push(e)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Pe(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ln);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.applyDataGetAllResult(t),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=new ft;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={LinkPlanId:this.requestLinkPlanId},this.dialog.open(lr,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(e?.id?.length!=0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}let i=new ft;i.disableClose=!0,i.autoFocus=!0,i.height="90%",i.data={id:this.tableRowSelected.id},this.dialog.open(dr,i).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(e?.id?.length!=0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(sr,{height:"40%",panelClass:i,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonTransactionList(e=this.tableRowSelected){if(e?.id?.length!=0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/data-provider/transaction/LinkPlanPriceId/"+e.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(u=>{i.set(u,0)}),this.translate.get("MESSAGE.All").subscribe(u=>{i.set(u,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(u=>{this.publicHelper.processService.processStart(t,u,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:u=>{u.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(u.errorMessage),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new K;f.propertyName="recordStatus",f.value=pt.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:u=>{u.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(u.errorMessage),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/data-provider/plan/"])}};qo.\u0275fac=function(i){return new(i||qo)(I(zi),I(N),I(Ut),I(Ze),I(ze),I(O),I(F),I(Qe),I(_t),I(G),I(je))},qo.\u0275cmp=L({type:qo,selectors:[["app-data-provider-plan-price-list"]],standalone:!1,features:[q],decls:64,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","title"],["matColumnDef","Description"],["matColumnDef","PeriodDay"],["matColumnDef","Price"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-circle-dollar","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=P();b(0,m0,1,1,"app-data-provider-plan-header",3),a(1,"app-cms-html-list",4),D("optionActionGuideNoticeDisplayChange",function(u){return p(l),E(t.viewGuideNotice,u)||(t.viewGuideNotice=u),m(u)}),g("optionOnActionButtonMemoRow",function(){return p(l),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(l),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(l),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(l),m(t.onActionButtonPrintRow())}),Me(2,5)(3,6)(4,7),y(5,8),b(6,u0,2,0,"a",9),a(7,"a",10),g("click",function(){return p(l),m(t.viewGuideNotice=!t.viewGuideNotice)}),C(8,"i",11),r(),a(9,"a",10),g("click",function(){return p(l),m(t.onActionButtonReload())}),C(10,"i",12),r(),T(),y(11,13),a(12,"a",14),g("click",function(){return p(l),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(13,"mat-slide-toggle",15),c(14),S(15,"translate"),r(),a(16,"a",14),g("click",function(){return p(l),m(t.onActionButtonStatist())}),C(17,"mat-slide-toggle",15),c(18),S(19,"translate"),r(),T(),y(20,16),b(21,f0,7,3,"div",17),T(),y(22,18),b(23,_0,7,3,"div",17),b(24,S0,7,3,"div",17),b(25,C0,7,3,"div",17),T(),y(26,19),a(27,"app-cms-search-list",20),D("optionsChange",function(u){return p(l),E(t.optionsSearch,u)||(t.optionsSearch=u),m(u)}),r(),a(28,"app-cms-statist-list",20),D("optionsChange",function(u){return p(l),E(t.optionsStatist,u)||(t.optionsStatist=u),m(u)}),r(),T(),y(29,21),a(30,"mat-table",22,0),g("matSortChange",function(){p(l);let u=x(31);return m(t.onTableSortData(u))}),y(32,23),V(33,h0,3,3,"mat-header-cell",24)(34,g0,2,1,"mat-cell",25),T(),y(35,26),V(36,b0,2,1,"mat-header-cell",24)(37,M0,2,1,"mat-cell",25),T(),y(38,27),V(39,I0,2,1,"mat-header-cell",24)(40,P0,4,5,"mat-cell",25),T(),y(41,28),V(42,w0,2,1,"mat-header-cell",24)(43,D0,4,4,"mat-cell",25),T(),y(44,29),V(45,y0,2,1,"mat-header-cell",24)(46,T0,2,1,"mat-cell",25),T(),y(47,30),V(48,A0,2,1,"mat-header-cell",24)(49,R0,2,1,"mat-cell",25),T(),y(50,31),V(51,x0,2,1,"mat-header-cell",24)(52,k0,2,1,"mat-cell",25),T(),y(53,32),V(54,L0,2,1,"mat-header-cell",24)(55,V0,2,1,"mat-cell",25),T(),y(56,33),V(57,B0,3,3,"mat-header-cell",34)(58,F0,6,1,"mat-cell",35),T(),V(59,O0,1,0,"mat-header-row",36)(60,N0,1,2,"mat-row",37),r(),T(),y(61,38),a(62,"mat-paginator",39,1),g("page",function(u){return p(l),m(t.onTablePageingData(u))}),r(),T(),r()}i&2&&(M(t.requestLinkPlanId>0?0:-1),o(),_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(5),M(t.requestLinkPlanId>0?6:-1),o(4),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),v("",h(15,28,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),v("",h(19,30,"ACTION.STATIST")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?21:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?25:-1),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),_("dataSource",t.tableSource),o(29),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(32,c0)))},dependencies:[we,Xt,$e,Je,W,It,Pt,pe,Te,Ue,it,wt,ot,Et,at,nt,Dt,rt,lt,yt,Tt,Ae,Re,At,ke,Xe,no,Fe,B,st,Ne,xe],encapsulation:2});var xn=qo;var G0=()=>[5,10,20,100],H0=(n,s)=>s.id;function W0(n,s){if(n&1){let e=P();a(0,"app-data-provider-plan-header",27),g("optionOnScrollNearBottom",function(){p(e);let t=d();return m(t.onActionLoadNextPage())}),r()}if(n&2){let e=d();_("optionId",e.requestLinkPlanId)}}function q0(n,s){if(n&1){let e=P();a(0,"a",28),g("click",function(){p(e);let t=d();return m(t.onActionBackToParent())}),C(1,"i",29),r()}}function j0(n,s){if(n&1){let e=P();a(0,"div",18)(1,"a",30),g("click",function(){p(e);let t=d();return m(t.onActionButtonNewRow())}),C(2,"i",31)(3,"br"),r(),a(4,"p",32),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.ADD")," "))}function U0(n,s){if(n&1){let e=P();a(0,"div",18)(1,"a",33),g("click",function(){p(e);let t=d();return m(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",34)(3,"br"),r(),a(4,"p",32),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.EDIT")," "))}function Q0(n,s){if(n&1){let e=P();a(0,"div",18)(1,"a",35),g("click",function(){p(e);let t=d();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",36)(3,"br"),r(),a(4,"p",32),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.DELETE")," "))}function z0(n,s){if(n&1){let e=P();a(0,"div",18)(1,"a",8),g("click",function(){p(e);let t=d();return m(t.onActionButtonTransactionList(t.tableRowSelected))}),C(2,"i",37)(3,"br"),r(),a(4,"p",32),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.TRANSACTIONS")," "))}function K0(n,s){if(n&1&&(a(0,"div",44),C(1,"i",46),c(2),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",e.id," ")}}function J0(n,s){if(n&1&&(a(0,"div",44),C(1,"i",47),c(2),S(3,"localeDate"),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",h(3,2,e.createdDate)," ")}}function X0(n,s){if(n&1&&(a(0,"div",44),C(1,"i",48),c(2),S(3,"number"),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.price==null?null:i.fieldsInfo.price.fieldTitle,": ",h(3,2,e.price)," ")}}function Y0(n,s){if(n&1&&(a(0,"div",44),C(1,"i",49),c(2),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.linkPlanId==null?null:i.fieldsInfo.linkPlanId.fieldTitle,": ",e.linkPlanId," ")}}function Z0(n,s){if(n&1&&(a(0,"div",44),C(1,"i",50),c(2),S(3,"cmssiteinfo"),S(4,"async"),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.linkSiteId==null?null:i.fieldsInfo.linkSiteId.fieldTitle,": ",h(4,4,h(3,2,e.linkSiteId))," ")}}function $0(n,s){if(n&1&&(a(0,"div",44),C(1,"i",51),c(2),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.periodDay==null?null:i.fieldsInfo.periodDay.fieldTitle,": ",e.periodDay," ")}}function ef(n,s){if(n&1&&C(0,"select",53),n&2){let e=d(2).$implicit,i=d(2);_("contentService",i.contentService)("row",e)}}function tf(n,s){if(n&1&&(a(0,"div",44),C(1,"i",52),S(2,"statusIconClass"),b(3,ef,1,2,"select",53),r()),n&2){let e=d().$implicit,i=d(2);o(),_("ngClass",h(2,2,e.recordStatus)),o(2),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function nf(n,s){if(n&1&&(a(0,"div",44),C(1,"i",56),c(2),S(3,"localeDate"),r()),n&2){let e=d(2).$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",h(3,2,e.updatedDate)," ")}}function of(n,s){if(n&1){let e=P();a(0,"div",45),b(1,nf,4,4,"div",44),a(2,"div",44)(3,"span",54),g("click",function(t){return p(e),d(3).onActionCopied(),m(t.stopPropagation())}),C(4,"i",55),r(),c(5),r()()}if(n&2){let e=d().$implicit;o(),M(e.updatedDate?1:-1),o(2),_("cdkCopyToClipboard",e.id.toString()),o(2),v(" ID: ",e.id," ")}}function af(n,s){if(n&1){let e=P();a(0,"div",39),g("click",function(t){let l=p(e).$implicit,f=d(2);return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,f=d(2);return m(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=p(e).$implicit,l=d(2);return m(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,l=d(2);return m(l.onActionTableRowMouseLeave(t))}),a(1,"div",40),C(2,"i",41),S(3,"statusIconClass"),r(),a(4,"div",42)(5,"div",43),c(6),r(),b(7,K0,3,2,"div",44),b(8,J0,4,4,"div",44),b(9,X0,4,4,"div",44),b(10,Y0,3,2,"div",44),b(11,Z0,5,6,"div",44),b(12,$0,3,2,"div",44),b(13,tf,4,4,"div",44),b(14,of,6,3,"div",45),r()()}if(n&2){let e=s.$implicit,i=d(2);H("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))("bg-fade-highlight-light",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),He("aria-label",e.title||e.id),o(2),_("ngClass",h(3,15,e.recordStatus)),o(4),v(" ",e.title||"ID: "+e.id," "),o(),M(e.id?7:-1),o(),M(e.createdDate?8:-1),o(),M(e.price!==void 0&&e.price!==null?9:-1),o(),M(e.linkPlanId?10:-1),o(),M(e.linkSiteId?11:-1),o(),M(e.periodDay?12:-1),o(),M(e.recordStatus!==void 0?13:-1),o(),M(i.getRowExpanded(e)?14:-1)}}function rf(n,s){if(n&1&&(a(0,"div",23),Ve(1,af,15,17,"div",38,H0),r()),n&2){let e=d();o(),Be(e.dataModelResult.listItems)}}function lf(n,s){n&1&&(a(0,"div",24),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"MESSAGE.NoRecord")," "))}var kn=class kn extends xn{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(e){return e.expanded===!0}};kn.\u0275fac=(()=>{let e;return function(t){return(e||(e=Rt(kn)))(t||kn)}})(),kn.\u0275cmp=L({type:kn,selectors:[["app-data-provider-plan-price-list-mobile"]],hostBindings:function(i,t){i&1&&g("click",function(f){return t.onDocumentClick(f)},Mt)},standalone:!1,features:[q],decls:39,vars:33,consts:[["paginator",""],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionOnScrollNearBottom","optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-circle-dollar","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-calendar"],["aria-hidden","true",1,"fa-solid","fa-dollar-sign"],["aria-hidden","true",1,"fa-solid","fa-list"],["aria-hidden","true",1,"fa-solid","fa-globe"],["aria-hidden","true",1,"fa-solid","fa-calendar-days"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"]],template:function(i,t){if(i&1){let l=P();b(0,W0,1,1,"app-data-provider-plan-header",1),a(1,"app-cms-html-list-mobile",2),D("optionActionGuideNoticeDisplayChange",function(u){return p(l),E(t.viewGuideNotice,u)||(t.viewGuideNotice=u),m(u)}),g("optionOnActionButtonMemoRow",function(){return p(l),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(l),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(l),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(l),m(t.onActionButtonPrintRow())}),Me(2,3)(3,4)(4,5),y(5,6),b(6,q0,2,0,"a",7),a(7,"a",8),g("click",function(){return p(l),m(t.viewGuideNotice=!t.viewGuideNotice)}),C(8,"i",9),r(),a(9,"a",8),g("click",function(){return p(l),m(t.onActionButtonReload())}),C(10,"i",10),r(),a(11,"a",11),g("click",function(){return p(l),m(t.onActionGridExpandRows(!0))}),C(12,"i",12),r(),a(13,"a",11),g("click",function(){return p(l),m(t.onActionGridExpandRows(!1))}),C(14,"i",13),r(),T(),y(15,14),a(16,"a",15),g("click",function(){return p(l),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(17,"mat-slide-toggle",16),c(18),S(19,"translate"),r(),a(20,"a",15),g("click",function(){return p(l),m(t.onActionButtonStatist())}),C(21,"mat-slide-toggle",16),c(22),S(23,"translate"),r(),T(),y(24,17),b(25,j0,7,3,"div",18),T(),y(26,19),b(27,U0,7,3,"div",18),b(28,Q0,7,3,"div",18),b(29,z0,7,3,"div",18),T(),y(30,20),a(31,"app-cms-search-list",21),D("optionsChange",function(u){return p(l),E(t.optionsSearch,u)||(t.optionsSearch=u),m(u)}),r(),a(32,"app-cms-statist-list",21),D("optionsChange",function(u){return p(l),E(t.optionsStatist,u)||(t.optionsStatist=u),m(u)}),r(),T(),y(33,22),b(34,rf,3,0,"div",23)(35,lf,3,3,"div",24),T(),y(36,25),a(37,"mat-paginator",26,0),g("page",function(u){return p(l),m(t.onTablePageingData(u))}),r(),T(),r()}i&2&&(M(t.requestLinkPlanId>0?0:-1),o(),_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","data-provider.main.plan-price.list"),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(5),M(t.requestLinkPlanId>0?6:-1),o(4),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),_("checked",t.optionsSearch.data.show),o(),v("",h(19,28,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),v("",h(23,30,"ACTION.STATIST")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?25:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?27:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?28:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?29:-1),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),M(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?34:35),o(3),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(32,G0)))},dependencies:[we,W,pe,Te,Ye,Ae,Re,kt,ke,Xe,no,Fe,Un,B,st,dt,xe],encapsulation:2});var Ta=kn;var sf=["vform"];function df(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",10),D("modelChange",function(t){p(e);let l=d();return E(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=d();w("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function cf(n,s){if(n&1){let e=P();a(0,"div",9)(1,"button",11),g("click",function(){p(e);let t=d();return m(t.onFormCancel())}),C(2,"i",12),c(3),S(4,"translate"),r(),a(5,"button",13),C(6,"i",14),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),v(" ",h(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),v(" ",h(8,5,"ACTION.SAVE")," ")}}var jo=class jo extends St{constructor(e,i,t,l,f,u,k,J){super(l,new Ti,u,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderPlanSourceService=l;this.cmsToastrService=f;this.publicHelper=u;this.cdr=k;this.translate=J;this.requestPlanId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Y;this.dataModel=new Ti;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestPlanId=e.parentId||""),this.requestPlanId&&this.requestPlanId.length>0&&(this.dataModel.linkPlanId=this.requestPlanId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanSourceService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPlanId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};jo.\u0275fac=function(i){return new(i||jo)(I(se),I(le),I(ie),I(ki),I(N),I(G),I(O),I(F))},jo.\u0275cmp=L({type:jo,selectors:[["app-data-provider-plan-source-add"]],viewQuery:function(i,t){if(i&1&&U(sf,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:17,vars:16,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",1),C(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),C(8,"app-cms-form-result-message",5),a(9,"form",6,0),g("ngSubmit",function(){return p(l),m(t.onFormSubmit())}),b(11,df,1,5,"app-cms-enum-record-status-selector",7),a(12,"app-data-provider-plan-category-selector",8),S(13,"translate"),g("optionChange",function(u){return p(l),m(t.onActionSelectorSelect(u))}),r(),a(14,"app-data-provider-plan-category-selector",8),S(15,"translate"),g("optionChange",function(u){return p(l),m(t.onActionSelectorSelect(u))}),r(),b(16,cf,9,7,"div",9),r()()()}i&2&&(o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v(" ",t.formInfo.formTitle," "),o(2),v(" ",h(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),M(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),_("optionSelectForce",t.dataModel.linkPlanId)("optionPlaceholder",h(13,12,"TITLE.Category")),o(2),_("optionSelectForce",t.dataModel.linkSourceId)("optionPlaceholder",h(15,14,"TITLE.Category")),o(2),M(t.formInfo.submitButtonEnabled?16:-1))},dependencies:[ve,Ce,he,ge,j,Se,oi,B],encapsulation:2});var cr=jo;var pf=["vform"];function mf(n,s){if(n&1){let e=P();a(0,"div",8)(1,"button",9),g("click",function(){p(e);let t=d();return m(t.onFormDelete())}),C(2,"i",10),c(3),S(4,"translate"),r(),a(5,"button",11),g("click",function(){p(e);let t=d();return m(t.onFormCancel())}),C(6,"i",12),c(7),S(8,"translate"),r()()}if(n&2){let e=d();o(),_("disabled",!e.formInfo.submitButtonEnabled),o(2),v(" ",h(4,3,"ACTION.DELETE")," "),o(4),v(" ",h(8,5,"ACTION.CANCEL")," ")}}var Uo=class Uo{constructor(s,e,i,t,l,f,u){this.data=s;this.dialogRef=e;this.publicHelper=i;this.dataProviderPlanSourceService=t;this.cdr=l;this.translate=f;this.cmsToastrService=u;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new Y;this.formInfo=new ei;this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=s.id||"")}ngOnInit(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderPlanSourceService.setAccessLoad(),this.dataProviderPlanSourceService.setAccessDataType(Oe.Editor),this.dataProviderPlanSourceService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onFormDelete(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderPlanSourceService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Uo.\u0275fac=function(e){return new(e||Uo)(I(se),I(le),I(G),I(ki),I(O),I(F),I(N))},Uo.\u0275cmp=L({type:Uo,selectors:[["app-data-provider-plan-source-delete"]],viewQuery:function(e,i){if(e&1&&U(pf,5),e&2){let t;Q(t=z())&&(i.formGroup=t.first)}},standalone:!1,decls:14,vars:10,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.linkPlanId",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.linkPlanId","type","text","required","","readonly","","id","dataModelResultContent.item.linkPlanId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){if(e&1){let t=P();a(0,"div",1),C(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),a(8,"div",5)(9,"label",6),c(10),r(),a(11,"input",7,0),D("ngModelChange",function(f){return p(t),E(i.dataModelResultContent.item.linkPlanId,f)||(i.dataModelResultContent.item.linkPlanId=f),m(f)}),r()(),b(13,mf,9,7,"div",8),r()()}e&2&&(o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(3),v(" ",i.formInfo.formTitle," "),o(2),v(" ",h(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),A(i.fieldsInfo.linkPlanId==null?null:i.fieldsInfo.linkPlanId.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.linkPlanId==null?null:i.fieldsInfo.linkPlanId.fieldTitle)),w("ngModel",i.dataModelResultContent.item.linkPlanId),o(2),M(i.formInfo.submitButtonEnabled?13:-1))},dependencies:[$,ee,Ee,ce,W,j,B],encapsulation:2});var pr=Uo;var uf=["vform"];function ff(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",10),D("modelChange",function(t){p(e);let l=d();return E(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=d();w("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function _f(n,s){if(n&1){let e=P();a(0,"div",9)(1,"button",11),g("click",function(){p(e);let t=d();return m(t.onFormCancel())}),C(2,"i",12),c(3),S(4,"translate"),r(),a(5,"button",13),C(6,"i",14),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),v(" ",h(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),v(" ",h(8,5,"ACTION.SAVE")," ")}}var Qo=class Qo extends Ct{constructor(e,i,t,l,f,u,k,J){super(l,new Ti,u,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderPlanSourceService=l;this.cmsToastrService=f;this.publicHelper=u;this.cdr=k;this.translate=J;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new mt;this.dataModel=new Ti;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id||""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanSourceService.setAccessLoad(),this.dataProviderPlanSourceService.setAccessDataType(Oe.Editor),this.dataProviderPlanSourceService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanSourceService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPlanId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Qo.\u0275fac=function(i){return new(i||Qo)(I(se),I(le),I(ie),I(ki),I(N),I(G),I(O),I(F))},Qo.\u0275cmp=L({type:Qo,selectors:[["app-data-provider-plan-source-edit"]],viewQuery:function(i,t){if(i&1&&U(uf,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:18,vars:16,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",1),C(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),C(8,"app-cms-form-result-message",5),a(9,"form",6,0),g("ngSubmit",function(){return p(l),m(t.onFormSubmit())}),c(11," \\ "),b(12,ff,1,5,"app-cms-enum-record-status-selector",7),a(13,"app-data-provider-plan-category-selector",8),S(14,"translate"),g("optionChange",function(u){return p(l),m(t.onActionSelectorSelect(u))}),r(),a(15,"app-data-provider-plan-category-selector",8),S(16,"translate"),g("optionChange",function(u){return p(l),m(t.onActionSelectorSelect(u))}),r(),b(17,_f,9,7,"div",9),r()()()}i&2&&(o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v(" ",t.formInfo.formTitle," "),o(2),v(" ",h(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(4),M(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?12:-1),o(),_("optionSelectForce",t.dataModel.linkPlanId)("optionPlaceholder",h(14,12,"TITLE.Category")),o(2),_("optionSelectForce",t.dataModel.linkSourceId)("optionPlaceholder",h(16,14,"TITLE.Category")),o(2),M(t.formInfo.submitButtonEnabled?17:-1))},dependencies:[ve,Ce,he,ge,j,Se,oi,B],encapsulation:2});var mr=Qo;var Sf=()=>[5,10,20,100],Cf=n=>({display:n});function hf(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",34),g("click",function(){p(e);let t=d();return m(t.onActionButtonNewRow())}),C(2,"i",35)(3,"br"),r(),a(4,"p",36),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.ADD")," "))}function vf(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",37),g("click",function(){p(e);let t=d();return m(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",38)(3,"br"),r(),a(4,"p",36),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.EDIT")," "))}function gf(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",39),g("click",function(){p(e);let t=d();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",40)(3,"br"),r(),a(4,"p",36),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.DELETE")," "))}function bf(n,s){if(n&1&&(a(0,"mat-header-cell",41),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Mf(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),v(" ",e.id," ")}}function If(n,s){if(n&1&&(a(0,"mat-header-cell",41),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Pf(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),r()),n&2){let e=s.$implicit;o(),v(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function wf(n,s){if(n&1&&(a(0,"mat-header-cell",41),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ef(n,s){if(n&1&&C(0,"select",43),n&2){let e=d().$implicit,i=d();_("contentService",i.contentService)("row",e)("ngStyle",Gt(3,Cf,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Df(n,s){if(n&1&&(a(0,"mat-cell"),C(1,"i",42),S(2,"statusIconClass"),b(3,Ef,1,5,"select",43),r()),n&2){let e=s.$implicit,i=d();o(),_("ngClass",h(2,2,e.recordStatus)),o(2),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?3:-1)}}function yf(n,s){if(n&1&&(a(0,"mat-header-cell",41),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.linkPlanId==null?null:e.fieldsInfo.linkPlanId.fieldTitle," ")}}function Tf(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),v(" ",e.linkPlanId," ")}}function Af(n,s){n&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"TITLE.OPTION")," "))}function Rf(n,s){if(n&1&&(a(0,"mat-cell",44)(1,"button",45)(2,"mat-icon"),c(3,"more_vert"),r()(),C(4,"mat-menu",null,2),r()),n&2){let e=x(5);o(),_("matMenuTriggerFor",e)}}function xf(n,s){n&1&&C(0,"mat-header-row")}function kf(n,s){if(n&1){let e=P();a(0,"mat-row",46),g("click",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var zo=class zo extends ht{constructor(e,i,t,l,f,u,k,J,Ge,tt,Ke){super(e,new Ti,tt,f,k);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.router=l;this.tokenHelper=f;this.cdr=u;this.translate=k;this.pageInfo=J;this.cmsStoreService=Ge;this.publicHelper=tt;this.dialog=Ke;this.requestLinkPlanId=0;this.requestLinkSourceId=0;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new re;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus"];this.tabledisplayedColumnsMobileSource=["id","recordStatus"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ct=>this.onSubmitOptionsSearch(ct)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=ae.Descending}ngOnInit(){if(this.requestLinkPlanId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkPlanId")),this.requestLinkPlanId&&this.requestLinkPlanId>0){let e=new K;e.propertyName="LinkPlanId",e.value=this.requestLinkPlanId,this.filteModelContent.filters.push(e)}if(this.requestLinkSourceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSourceId")),this.requestLinkSourceId&&this.requestLinkSourceId>0){let e=new K;e.propertyName="LinkSourceId",e.value=this.requestLinkSourceId,this.filteModelContent.filters.push(e)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Pe(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ti);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&(typeof this.categoryModelSelected.id=="string"?this.categoryModelSelected.id.length>0:this.categoryModelSelected.id>0)){let t=new K;t.propertyName="LinkCategoryId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.applyDataGetAllResult(t),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new re,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryModelSelected==null||(typeof this.categoryModelSelected.id=="string"?this.categoryModelSelected.id.length===0:this.categoryModelSelected.id===0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=new ft;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={parentId:this.categoryModelSelected.id},this.dialog.open(cr,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}let i=new ft;i.disableClose=!0,i.autoFocus=!0,i.data={id:this.tableRowSelected.id},this.dialog.open(mr,i).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(pr,{height:"40%",panelClass:i,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(u=>{i.set(u,0)}),this.translate.get("MESSAGE.All").subscribe(u=>{i.set(u,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(u=>{this.publicHelper.processService.processStart(t,u,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:u=>{u.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(u.errorMessage),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new K;f.propertyName="recordStatus",f.value=pt.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:u=>{u.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(u.errorMessage),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};zo.\u0275fac=function(i){return new(i||zo)(I(ki),I(Ut),I(N),I(Ze),I(ze),I(O),I(F),I(_t),I(Qe),I(G),I(je))},zo.\u0275cmp=L({type:zo,selectors:[["app-data-provider-plan-source-list"]],standalone:!1,features:[q],decls:50,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","linkPlanId"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(u){return p(l),E(t.viewGuideNotice,u)||(t.viewGuideNotice=u),m(u)}),g("optionOnActionButtonMemoRow",function(){return p(l),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(l),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(l),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(l),m(t.onActionButtonPrintRow())}),y(1,4),c(2," -------------------------------------- "),T(),Me(3,5)(4,6),y(5,7),a(6,"a",8),g("click",function(){return p(l),m(t.viewGuideNotice=!t.viewGuideNotice)}),C(7,"i",9),r(),a(8,"a",8),g("click",function(){return p(l),m(t.onActionButtonReload())}),C(9,"i",10),r(),T(),y(10,11),a(11,"a",12),g("click",function(){return p(l),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(12,"mat-slide-toggle",13),c(13),S(14,"translate"),r(),a(15,"a",12),g("click",function(){return p(l),m(t.onActionButtonStatist())}),C(16,"mat-slide-toggle",13),c(17),S(18,"translate"),r(),T(),y(19,14),b(20,hf,7,3,"div",15),T(),y(21,16),b(22,vf,7,3,"div",15),b(23,gf,7,3,"div",15),T(),y(24,17),a(25,"app-cms-search-list",18),D("optionsChange",function(u){return p(l),E(t.optionsSearch,u)||(t.optionsSearch=u),m(u)}),r(),a(26,"app-cms-statist-list",18),D("optionsChange",function(u){return p(l),E(t.optionsStatist,u)||(t.optionsStatist=u),m(u)}),r(),T(),y(27,19),a(28,"mat-table",20,0),g("matSortChange",function(){p(l);let u=x(29);return m(t.onTableSortData(u))}),y(30,21),V(31,bf,2,1,"mat-header-cell",22)(32,Mf,2,1,"mat-cell",23),T(),y(33,24),V(34,If,2,1,"mat-header-cell",22)(35,Pf,4,5,"mat-cell",23),T(),y(36,25),V(37,wf,2,1,"mat-header-cell",22)(38,Df,4,4,"mat-cell",23),T(),y(39,26),V(40,yf,2,1,"mat-header-cell",22)(41,Tf,2,1,"mat-cell",23),T(),y(42,27),V(43,Af,3,3,"mat-header-cell",28)(44,Rf,6,1,"mat-cell",29),T(),V(45,xf,1,0,"mat-header-row",30)(46,kf,1,2,"mat-row",31),r(),T(),y(47,32),a(48,"mat-paginator",33,1),g("page",function(u){return p(l),m(t.onTablePageingData(u))}),r(),T(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null?null:t.tableRowSelected.linkPlanId)>0?t.tableRowSelected==null?null:t.tableRowSelected.linkPlanId:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),v("",h(14,25,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),v("",h(18,27,"ACTION.STATIST")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow&&(t.categoryModelSelected==null?null:t.categoryModelSelected.id)>0?20:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),_("dataSource",t.tableSource),o(17),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(29,Sf)))},dependencies:[we,Xt,$e,Je,W,It,Pt,pe,Te,Ue,it,wt,ot,Et,at,nt,Dt,rt,lt,yt,Tt,Ae,Re,At,ke,Xe,Fe,B,st,xe],encapsulation:2});var hn=zo;var Lf=()=>[5,10,20,100],Vf=(n,s)=>s.id;function Bf(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",25),g("click",function(){p(e);let t=d();return m(t.onActionButtonNewRow())}),C(2,"i",26)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.ADD")," "))}function Ff(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",28),g("click",function(){p(e);let t=d();return m(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",29)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.EDIT")," "))}function Of(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",30),g("click",function(){p(e);let t=d();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",31)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.DELETE")," "))}function Nf(n,s){if(n&1&&(a(0,"div",38),C(1,"i",40),c(2),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",e.id," ")}}function Gf(n,s){if(n&1&&(a(0,"div",38),C(1,"i",41),c(2),S(3,"localeDate"),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",h(3,2,e.createdDate)," ")}}function Hf(n,s){if(n&1&&(a(0,"div",38),C(1,"i",42),c(2),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.linkPlanId==null?null:i.fieldsInfo.linkPlanId.fieldTitle,": ",e.linkPlanId," ")}}function Wf(n,s){if(n&1&&(a(0,"div",38),C(1,"i",43),c(2),S(3,"cmssiteinfo"),S(4,"async"),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.linkSiteId==null?null:i.fieldsInfo.linkSiteId.fieldTitle,": ",h(4,4,h(3,2,e.linkSiteId))," ")}}function qf(n,s){if(n&1&&C(0,"select",45),n&2){let e=d(2).$implicit,i=d(2);_("contentService",i.contentService)("row",e)}}function jf(n,s){if(n&1&&(a(0,"div",38),C(1,"i",44),S(2,"statusIconClass"),b(3,qf,1,2,"select",45),r()),n&2){let e=d().$implicit,i=d(2);o(),_("ngClass",h(2,2,e.recordStatus)),o(2),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function Uf(n,s){if(n&1&&(a(0,"div",38),C(1,"i",48),c(2),S(3,"localeDate"),r()),n&2){let e=d(2).$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",h(3,2,e.updatedDate)," ")}}function Qf(n,s){if(n&1){let e=P();a(0,"div",39),b(1,Uf,4,4,"div",38),a(2,"div",38)(3,"span",46),g("click",function(t){return p(e),d(3).onActionCopied(),m(t.stopPropagation())}),C(4,"i",47),r(),c(5),r()()}if(n&2){let e=d().$implicit;o(),M(e.updatedDate?1:-1),o(2),_("cdkCopyToClipboard",e.id.toString()),o(2),v(" ID: ",e.id," ")}}function zf(n,s){if(n&1){let e=P();a(0,"div",33),g("click",function(t){let l=p(e).$implicit,f=d(2);return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,f=d(2);return m(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=p(e).$implicit,l=d(2);return m(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,l=d(2);return m(l.onActionTableRowMouseLeave(t))}),a(1,"div",34),C(2,"i",35),S(3,"statusIconClass"),r(),a(4,"div",36)(5,"div",37),c(6),r(),b(7,Nf,3,2,"div",38),b(8,Gf,4,4,"div",38),b(9,Hf,3,2,"div",38),b(10,Wf,5,6,"div",38),b(11,jf,4,4,"div",38),b(12,Qf,6,3,"div",39),r()()}if(n&2){let e=s.$implicit,i=d(2);H("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))("bg-fade-highlight-light",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),He("aria-label",e.id||e.id),o(2),_("ngClass",h(3,13,e.recordStatus)),o(4),v(" ID: ",e.id," "),o(),M(e.id?7:-1),o(),M(e.createdDate?8:-1),o(),M(e.linkPlanId?9:-1),o(),M(e.linkSiteId?10:-1),o(),M(e.recordStatus!==void 0?11:-1),o(),M(i.getRowExpanded(e)?12:-1)}}function Kf(n,s){if(n&1&&(a(0,"div",21),Ve(1,zf,13,15,"div",32,Vf),r()),n&2){let e=d();o(),Be(e.dataModelResult.listItems)}}function Jf(n,s){n&1&&(a(0,"div",22),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"MESSAGE.NoRecord")," "))}var Ln=class Ln extends hn{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(e){return e.expanded===!0}};Ln.\u0275fac=(()=>{let e;return function(t){return(e||(e=Rt(Ln)))(t||Ln)}})(),Ln.\u0275cmp=L({type:Ln,selectors:[["app-data-provider-plan-source-list-mobile"]],hostBindings:function(i,t){i&1&&g("click",function(f){return t.onDocumentClick(f)},Mt)},standalone:!1,features:[q],decls:36,vars:30,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-calendar"],["aria-hidden","true",1,"fa-solid","fa-list"],["aria-hidden","true",1,"fa-solid","fa-globe"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list-mobile",1),D("optionActionGuideNoticeDisplayChange",function(u){return p(l),E(t.viewGuideNotice,u)||(t.viewGuideNotice=u),m(u)}),g("optionOnActionButtonMemoRow",function(){return p(l),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(l),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(l),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(l),m(t.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return p(l),m(t.onActionLoadNextPage())}),Me(1,2)(2,3)(3,4),y(4,5),a(5,"a",6),g("click",function(){return p(l),m(t.viewGuideNotice=!t.viewGuideNotice)}),C(6,"i",7),r(),a(7,"a",6),g("click",function(){return p(l),m(t.onActionButtonReload())}),C(8,"i",8),r(),a(9,"a",9),g("click",function(){return p(l),m(t.onActionGridExpandRows(!0))}),C(10,"i",10),r(),a(11,"a",9),g("click",function(){return p(l),m(t.onActionGridExpandRows(!1))}),C(12,"i",11),r(),T(),y(13,12),a(14,"a",13),g("click",function(){return p(l),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(15,"mat-slide-toggle",14),c(16),S(17,"translate"),r(),a(18,"a",13),g("click",function(){return p(l),m(t.onActionButtonStatist())}),C(19,"mat-slide-toggle",14),c(20),S(21,"translate"),r(),T(),y(22,15),b(23,Bf,7,3,"div",16),T(),y(24,17),b(25,Ff,7,3,"div",16),b(26,Of,7,3,"div",16),T(),y(27,18),a(28,"app-cms-search-list",19),D("optionsChange",function(u){return p(l),E(t.optionsSearch,u)||(t.optionsSearch=u),m(u)}),r(),a(29,"app-cms-statist-list",19),D("optionsChange",function(u){return p(l),E(t.optionsStatist,u)||(t.optionsStatist=u),m(u)}),r(),T(),y(30,20),b(31,Kf,3,0,"div",21)(32,Jf,3,3,"div",22),T(),y(33,23),a(34,"mat-paginator",24,0),g("page",function(u){return p(l),m(t.onTablePageingData(u))}),r(),T(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","data-provider.main.plan-source.list"),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null?null:t.tableRowSelected.linkPlanId)>0?t.tableRowSelected==null?null:t.tableRowSelected.linkPlanId:t.tableRowSelected==null?null:t.tableRowSelected.id),o(8),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),_("checked",t.optionsSearch.data.show),o(),v("",h(17,25,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),v("",h(21,27,"ACTION.STATIST")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow&&(t.categoryModelSelected==null?null:t.categoryModelSelected.id)>0?23:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?25:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?26:-1),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),M(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?31:32),o(3),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(29,Lf)))},dependencies:[we,W,pe,Te,Ye,Ae,Re,kt,ke,Xe,Fe,B,st,dt,xe],encapsulation:2});var Ko=Ln;var Xf=["vform"];function Yf(n,s){n&1&&(a(0,"mat-header-cell",27),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"TITLE.PICTURE")," "))}function Zf(n,s){if(n&1&&(C(0,"img",28),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;_("src",R(h(1,2,e.linkMainImageIdSrc)),oe)}}function $f(n,s){if(n&1&&(a(0,"mat-cell"),b(1,Zf,2,4,"img",28),r()),n&2){let e=s.$implicit;o(),M((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function e_(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",29),D("modelChange",function(t){p(e);let l=d();return E(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=d();w("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function t_(n,s){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function i_(n,s){n&1&&(a(0,"mat-error"),c(1," Description is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function n_(n,s){n&1&&(a(0,"mat-error"),c(1," FontIcon is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function o_(n,s){if(n&1&&(a(0,"mat-header-cell",27),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.linkParentId==null?null:e.fieldsInfo.linkParentId.fieldTitle," ")}}function a_(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),v(" ",e.linkParentId," ")}}function r_(n,s){if(n&1&&(C(0,"img",25),S(1,"cmsthumbnail")),n&2){let e=d();_("src",R(h(1,2,e.dataModel.linkMainImageIdSrc)),oe)}}function l_(n,s){if(n&1){let e=P();a(0,"div",15)(1,"label",30),g("click",function(){p(e);let t=d();return m(t.fileManagerOpenForm=!0)}),c(2),S(3,"translate"),r(),a(4,"input",31,4),S(6,"translate"),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),m(t)}),g("click",function(){p(e);let t=d();return m(t.fileManagerOpenForm=!0)}),r(),a(7,"cms-file-manager",32),g("itemSelected",function(t){p(e);let l=d();return m(l.onActionFileSelected(t))}),D("openFormChange",function(t){p(e);let l=d();return E(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),m(t)}),r()()}if(n&2){let e=d();o(2),A(h(3,12,"TITLE.Icon_File")),o(2),_("placeholder",R(h(6,14,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),o(3),_("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),_("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function s_(n,s){if(n&1){let e=P();a(0,"div",26)(1,"button",33),g("click",function(){p(e);let t=d();return m(t.onFormCancel())}),C(2,"i",34),c(3),S(4,"translate"),r(),a(5,"button",35),C(6,"i",36),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),v(" ",h(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),v(" ",h(8,5,"ACTION.SAVE")," ")}}var Jo=class Jo extends St{constructor(e,i,t,l,f,u,k,J){super(l,new Si,u,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderPlanCategoryService=l;this.cmsToastrService=f;this.publicHelper=u;this.cdr=k;this.translate=J;this.requestParentId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Y;this.dataModel=new Si;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestParentId=e.parentId||""),this.requestParentId&&this.requestParentId.length>0&&(this.dataModel.linkParentId=String(this.requestParentId)||""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanCategoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Jo.\u0275fac=function(i){return new(i||Jo)(I(se),I(le),I(ie),I(Ri),I(N),I(G),I(O),I(F))},Jo.\u0275cmp=L({type:Jo,selectors:[["app-data-provider-plan-category-add"]],viewQuery:function(i,t){if(i&1&&U(Xf,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:48,vars:31,consts:[["vform","ngForm"],["Title",""],["Description",""],["FontIcon",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.fontIcon",1,"color-highlight"],["matInput","","name","dataModel.fontIcon","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.fontIcon",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["matColumnDef","LinkParentId"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",5),C(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),C(8,"app-cms-form-result-message",9),a(9,"form",10,0),g("ngSubmit",function(){return p(l),m(t.onFormSubmit())}),y(11,11),V(12,Yf,3,3,"mat-header-cell",12)(13,$f,2,1,"mat-cell",13),T(),b(14,e_,1,5,"app-cms-enum-record-status-selector",14),a(15,"div",15)(16,"label",16),c(17),r(),a(18,"input",17,1),D("ngModelChange",function(u){return p(l),E(t.dataModel.title,u)||(t.dataModel.title=u),m(u)}),r(),a(20,"em"),c(21),r(),b(22,t_,5,3,"mat-error"),r(),a(23,"div",15)(24,"label",18),c(25),r(),a(26,"textarea",19,2),D("ngModelChange",function(u){return p(l),E(t.dataModel.description,u)||(t.dataModel.description=u),m(u)}),c(28,"          "),r(),a(29,"em"),c(30),r(),b(31,i_,5,3,"mat-error"),r(),a(32,"div",15)(33,"label",20),c(34),r(),a(35,"textarea",21,3),D("ngModelChange",function(u){return p(l),E(t.dataModel.fontIcon,u)||(t.dataModel.fontIcon=u),m(u)}),c(37,"          "),r(),b(38,n_,5,3,"mat-error"),r(),y(39,22),V(40,o_,2,1,"mat-header-cell",12)(41,a_,2,1,"mat-cell",13),T(),a(42,"div",23)(43,"a",24),S(44,"cmsthumbnail"),b(45,r_,2,4,"img",25),r()(),b(46,l_,8,16,"div",15),b(47,s_,9,7,"div",26),r()()()}if(i&2){let l=x(19),f=x(27),u=x(36);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v(" ",t.formInfo.formTitle," "),o(2),v(" ",h(7,27,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(6),M(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?14:-1),o(3),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.title),o(3),v("",l.value.length," / 100"),o(),M(l.errors!=null&&l.errors.required?22:-1),o(3),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.description),o(4),v("",f.value.length," / 500"),o(),M(f.errors!=null&&f.errors.required?31:-1),o(3),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.fontIcon==null?null:t.fieldsInfo.fontIcon.fieldTitle)),w("ngModel",t.dataModel.fontIcon),o(3),M(u.errors!=null&&u.errors.required?38:-1),o(5),_("href",R(h(44,29,t.dataModel.linkMainImageIdSrc)),oe),o(2),M((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?45:-1),o(),M(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?46:-1),o(),M(t.formInfo.submitButtonEnabled?47:-1)}},dependencies:[ve,$,ee,Ce,De,ye,ce,he,qe,W,it,ot,at,nt,rt,lt,ge,j,Se,Ht,B,Ne],encapsulation:2});var ur=Jo;var d_=["vform"];function c_(n,s){if(n&1){let e=P();a(0,"div",7)(1,"label",8),c(2),r(),a(3,"input",9,0),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModelResultCategory.item.title,t)||(l.dataModelResultCategory.item.title=t),m(t)}),r()(),a(5,"div",7)(6,"label",10),c(7),r(),a(8,"textarea",11,1),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModelResultCategory.item.description,t)||(l.dataModelResultCategory.item.description=t),m(t)}),r()(),C(10,"app-data-provider-plan-category-selector",12),S(11,"translate")}if(n&2){let e=d();o(2),A(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),w("ngModel",e.dataModelResultCategory.item.title),o(4),A(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),w("ngModel",e.dataModelResultCategory.item.description),o(2),_("optionPlaceholder",h(11,9,"TITLE.Alternative_classification_to_move_information_to_this_branch"))}}function p_(n,s){if(n&1){let e=P();a(0,"div",6)(1,"button",13),g("click",function(){p(e);let t=d();return m(t.onFormMove())}),C(2,"i",14),c(3),S(4,"translate"),r(),a(5,"button",15),g("click",function(){p(e);let t=d();return m(t.onFormDelete())}),C(6,"i",16),c(7),S(8,"translate"),r(),a(9,"button",17),g("click",function(){p(e);let t=d();return m(t.onFormCancel())}),C(10,"i",14),c(11),S(12,"translate"),r()()}if(n&2){let e=d();o(),_("disabled",!e.formInfo.submitButtonEnabled),o(2),v(" ",h(4,5,"TITLE.MOVE_DATA")," "),o(2),_("disabled",!e.formInfo.submitButtonEnabled),o(2),v(" ",h(8,7,"ACTION.DELETE")," "),o(4),v(" ",h(12,9,"ACTION.CANCEL")," ")}}var Xo=class Xo{constructor(s,e,i,t,l,f,u){this.data=s;this.dialogRef=e;this.publicHelper=i;this.dataProviderPlanCategoryService=t;this.cdr=l;this.translate=f;this.cmsToastrService=u;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultCategory=new Y;this.dataModelResultCategoryAllData=new Y;this.dataModel={};this.formInfo=new ei;this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=s.id||"")}ngOnInit(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne(),this.DataGetAll()}DataGetOne(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderPlanCategoryService.setAccessLoad(),this.dataProviderPlanCategoryService.setAccessDataType(Oe.Editor),this.dataProviderPlanCategoryService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultCategory=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}DataGetAll(){this.translate.get("TITLE.Loading_Information").subscribe(i=>{this.formInfo.submitResultMessage=i});let s=new re;s.rowPerPage=100;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanCategoryService.ServiceGetAll(s).subscribe({next:i=>{this.dataModelResultCategoryAllData=i,i.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetAll()),this.publicHelper.processService.processStop(e)},error:i=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormMove(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(!this.formGroup.valid)return;this.formInfo.submitButtonEnabled=!0,this.dataModel.newCatId===this.requestId&&(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.translate.get("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitButtonEnabled=!0),this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)})}onFormDelete(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderPlanCategoryService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)}})}onFormChangeNewCatId(s){if(this.formInfo.submitResultMessage="",this.requestId.length===0||!s||s.id.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.dataModel.newCatId=s.id,this.dataModel.newCatId===this.requestId?(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.translate.get("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitButtonEnabled=!1):(this.formInfo.submitButtonEnabled=!0,this.formInfo.submitResultMessage="")}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Xo.\u0275fac=function(e){return new(e||Xo)(I(se),I(le),I(G),I(Ri),I(O),I(F),I(N))},Xo.\u0275cmp=L({type:Xo,selectors:[["app-data-provider-plan-category-delete"]],viewQuery:function(e,i){if(e&1&&U(d_,5),e&2){let t;Q(t=z())&&(i.formGroup=t.first)}},standalone:!1,decls:10,vars:7,consts:[["Title",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"form-actions"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultCategory.item.title",1,"color-highlight"],["matInput","","name","dataModelResultCategory.item.title","type","text","minlength","3","maxlength","50","required","","readonly","","id","dataModelResultCategory.item.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModelResultCategory.item.description",1,"color-highlight"],["matInput","","name","dataModelResultCategory.item.description","type","text","minlength","1","maxlength","100","readonly","","required","","rows","5","id","dataModelResultCategory.item.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionPlaceholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click","disabled"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"]],template:function(e,i){e&1&&(a(0,"div",2),C(1,"app-progress-spinner",3),a(2,"div",4)(3,"p",5),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),b(8,c_,12,11),b(9,p_,13,11,"div",6),r()()),e&2&&(o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(3),v(" ",i.formInfo.formTitle," "),o(2),v(" ",h(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),M(i.dataModelResultCategory!=null&&i.dataModelResultCategory.item?8:-1),o(),M(i.formInfo.submitButtonEnabled?9:-1))},dependencies:[$,ee,Ee,De,ye,ce,W,j,oi,B],encapsulation:2});var fr=Xo;var m_=["vform"];function u_(n,s){n&1&&(a(0,"mat-header-cell",27),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"TITLE.PICTURE")," "))}function f_(n,s){if(n&1&&(C(0,"img",28),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;_("src",R(h(1,2,e.linkMainImageIdSrc)),oe)}}function __(n,s){if(n&1&&(a(0,"mat-cell"),b(1,f_,2,4,"img",28),r()),n&2){let e=s.$implicit;o(),M((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function S_(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",29),D("modelChange",function(t){p(e);let l=d();return E(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=d();w("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function C_(n,s){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function h_(n,s){n&1&&(a(0,"mat-error"),c(1," Description is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function v_(n,s){n&1&&(a(0,"mat-error"),c(1," FontIcon is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function g_(n,s){if(n&1&&(a(0,"mat-header-cell",27),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.linkParentId==null?null:e.fieldsInfo.linkParentId.fieldTitle," ")}}function b_(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),v(" ",e.linkParentId," ")}}function M_(n,s){if(n&1&&(C(0,"img",25),S(1,"cmsthumbnail")),n&2){let e=d();_("src",R(h(1,2,e.dataModel.linkMainImageIdSrc)),oe)}}function I_(n,s){if(n&1){let e=P();a(0,"div",15)(1,"label",30),g("click",function(){p(e);let t=d();return m(t.fileManagerOpenForm=!0)}),c(2),S(3,"translate"),r(),a(4,"input",31,4),S(6,"translate"),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),m(t)}),g("click",function(){p(e);let t=d();return m(t.fileManagerOpenForm=!0)}),r(),a(7,"cms-file-manager",32),g("itemSelected",function(t){p(e);let l=d();return m(l.onActionFileSelected(t))}),D("openFormChange",function(t){p(e);let l=d();return E(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),m(t)}),r()()}if(n&2){let e=d();o(2),A(h(3,12,"TITLE.Icon_File")),o(2),_("placeholder",R(h(6,14,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),o(3),_("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),_("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function P_(n,s){if(n&1){let e=P();a(0,"div",26)(1,"button",33),g("click",function(){p(e);let t=d();return m(t.onFormCancel())}),C(2,"i",34),c(3),S(4,"translate"),r(),a(5,"button",35),C(6,"i",36),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),v(" ",h(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),v(" ",h(8,5,"ACTION.SAVE")," ")}}var Yo=class Yo extends Ct{constructor(e,i,t,l,f,u,k,J){super(l,new Si,u,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderPlanCategoryService=l;this.cmsToastrService=f;this.publicHelper=u;this.cdr=k;this.translate=J;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new mt;this.dataModel=new Si;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id||""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanCategoryService.setAccessLoad(),this.dataProviderPlanCategoryService.setAccessDataType(Oe.Editor),this.dataProviderPlanCategoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanCategoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Yo.\u0275fac=function(i){return new(i||Yo)(I(se),I(le),I(ie),I(Ri),I(N),I(G),I(O),I(F))},Yo.\u0275cmp=L({type:Yo,selectors:[["app-data-provider-plan-category-edit"]],viewQuery:function(i,t){if(i&1&&U(m_,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:48,vars:31,consts:[["vform","ngForm"],["Title",""],["Description",""],["FontIcon",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.fontIcon",1,"color-highlight"],["matInput","","name","dataModel.fontIcon","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.fontIcon",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["matColumnDef","LinkParentId"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",5),C(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),C(8,"app-cms-form-result-message",9),a(9,"form",10,0),g("ngSubmit",function(){return p(l),m(t.onFormSubmit())}),y(11,11),V(12,u_,3,3,"mat-header-cell",12)(13,__,2,1,"mat-cell",13),T(),b(14,S_,1,5,"app-cms-enum-record-status-selector",14),a(15,"div",15)(16,"label",16),c(17),r(),a(18,"input",17,1),D("ngModelChange",function(u){return p(l),E(t.dataModel.title,u)||(t.dataModel.title=u),m(u)}),r(),a(20,"em"),c(21),r(),b(22,C_,5,3,"mat-error"),r(),a(23,"div",15)(24,"label",18),c(25),r(),a(26,"textarea",19,2),D("ngModelChange",function(u){return p(l),E(t.dataModel.description,u)||(t.dataModel.description=u),m(u)}),c(28,"          "),r(),a(29,"em"),c(30),r(),b(31,h_,5,3,"mat-error"),r(),a(32,"div",15)(33,"label",20),c(34),r(),a(35,"textarea",21,3),D("ngModelChange",function(u){return p(l),E(t.dataModel.fontIcon,u)||(t.dataModel.fontIcon=u),m(u)}),c(37,"          "),r(),b(38,v_,5,3,"mat-error"),r(),y(39,22),V(40,g_,2,1,"mat-header-cell",12)(41,b_,2,1,"mat-cell",13),T(),a(42,"div",23)(43,"a",24),S(44,"cmsthumbnail"),b(45,M_,2,4,"img",25),r()(),b(46,I_,8,16,"div",15),b(47,P_,9,7,"div",26),r()()()}if(i&2){let l=x(19),f=x(27),u=x(36);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v(" ",t.formInfo.formTitle," "),o(2),v(" ",h(7,27,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(6),M(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?14:-1),o(3),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.title),o(3),v("",l.value.length," / 100"),o(),M(l.errors!=null&&l.errors.required?22:-1),o(3),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.description),o(4),v("",f.value.length," / 500"),o(),M(f.errors!=null&&f.errors.required?31:-1),o(3),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.fontIcon==null?null:t.fieldsInfo.fontIcon.fieldTitle)),w("ngModel",t.dataModel.fontIcon),o(3),M(u.errors!=null&&u.errors.required?38:-1),o(5),_("href",R(h(44,29,t.dataModel.linkMainImageIdSrc)),oe),o(2),M((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?45:-1),o(),M(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?46:-1),o(),M(t.formInfo.submitButtonEnabled?47:-1)}},dependencies:[ve,$,ee,Ce,De,ye,ce,he,qe,W,it,ot,at,nt,rt,lt,ge,j,Se,Ht,B,Ne],encapsulation:2});var _r=Yo;function w_(n,s){if(n&1){let e=P();a(0,"button",13),g("click",function(){p(e);let t=d();return m(t.onActionAdd())}),c(1),S(2,"translate"),r()}n&2&&(o(),v(" ",h(2,1,"ACTION.ADD")," "))}function E_(n,s){if(n&1){let e=P();a(0,"button",14),g("click",function(){p(e);let t=d();return m(t.onActionEdit())}),c(1),S(2,"translate"),r()}n&2&&(o(),v(" ",h(2,1,"ACTION.EDIT")," "))}function D_(n,s){if(n&1){let e=P();a(0,"button",15),g("click",function(){p(e);let t=d();return m(t.onActionDelete())}),c(1),S(2,"translate"),r()}n&2&&(o(),v(" ",h(2,1,"ACTION.DELETE")," "))}function y_(n,s){if(n&1){let e=P();a(0,"button",16),g("click",function(){p(e);let t=d();return m(t.onActionButtonReload())}),a(1,"mat-icon",17),S(2,"translate"),c(3,"refresh"),r()()}if(n&2){let e=d();o(),H("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),_("title",R(h(2,4,"ACTION.RELOAD")))}}function T_(n,s){if(n&1){let e=P();a(0,"mat-tree-node",18),C(1,"button",19),a(2,"span",20),g("click",function(){let t=p(e).$implicit,l=d();return m(l.onActionSelect(t))}),c(3),r()()}if(n&2){let e=s.$implicit,i=d();H("ntk-tree-selected",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),o(3),A(e.title)}}function A_(n,s){if(n&1){let e=P();a(0,"mat-tree-node",21)(1,"button",22)(2,"mat-icon",23),c(3),r()(),a(4,"span",20),g("click",function(){let t=p(e).$implicit,l=d();return m(l.onActionSelect(t))}),c(5),r()()}if(n&2){let e=s.$implicit,i=d(),t=x(10);H("ntk-tree-selected",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),_("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),He("type","button")("aria-label","Toggle "+e.title),o(2),v(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),A(e.title)}}var Zo=class Zo{constructor(s,e,i,t,l,f,u,k,J){this.cmsToastrService=s;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=l;this.publicHelper=f;this.tokenHelper=u;this.cmsStoreService=k;this.translate=J;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new Si;this.dataModelResult=new Y;this.filterModel=new re;this.dataSource=new eo;this.optionChange=new xt;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(s,e)=>!!e.children&&e.children.length>0;this.childrenAccessor=s=>s.children??[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(()=>Pe(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onActionSelect(s){s&&this.dataModelSelect&&s.id==this.dataModelSelect.id?(this.dataModelSelect=null,this.optionChange.emit(null)):(this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect))}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Si,this.DataGetAll()}onActionSelectForce(s){}onActionAdd(){let s="";this.dataModelSelect&&(typeof this.dataModelSelect.id=="string"?this.dataModelSelect.id.length>0:this.dataModelSelect.id>0)&&(s=String(this.dataModelSelect.id));let e=new ft;e.disableClose=!0,e.autoFocus=!0,e.data={parentId:s},this.dialog.open(ur,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let s="";if(this.dataModelSelect&&(typeof this.dataModelSelect.id=="string"?this.dataModelSelect.id.length>0:this.dataModelSelect.id>0)&&(s=String(this.dataModelSelect.id)),s.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(_r,{height:"90%",panelClass:e,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{id:s}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let s="";if(this.dataModelSelect&&(typeof this.dataModelSelect.id=="string"?this.dataModelSelect.id.length>0:this.dataModelSelect.id>0)&&(s=String(this.dataModelSelect.id)),s.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(fr,{height:"90%",panelClass:e,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{id:s}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}};Zo.\u0275fac=function(e){return new(e||Zo)(I(N),I(ie),I(Ri),I(je),I(O),I(G),I(ze),I(Qe),I(F))},Zo.\u0275cmp=L({type:Zo,selectors:[["app-data-provider-plan-category-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:14,vars:14,consts:[["treeTagControl",""],[3,"optionListTitle","optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-action",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(a(0,"app-cms-html-tree",1),S(1,"translate"),y(2,2),b(3,w_,3,3,"button",3),b(4,E_,3,3,"button",4),b(5,D_,3,3,"button",5),b(6,y_,4,6,"button",6),T(),y(7,7),C(8,"app-progress-spinner",8),a(9,"mat-tree",9,0),V(11,T_,4,3,"mat-tree-node",10)(12,A_,6,8,"mat-tree-node",11),r(),T(),Me(13,12),r()),e&2&&(_("optionListTitle",h(1,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName)))("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(3),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow?3:-1),o(),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0?4:-1),o(),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0?5:-1),o(),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow?6:-1),o(2),_("optionsInfoAreaId",i.constructorInfoAreaId),o(),_("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),_("matTreeNodeDefWhen",i.hasChild))},dependencies:[$e,Je,Xn,Yn,$n,Zn,Jn,j,io,B],encapsulation:2});var $o=Zo;var R_=()=>["expandedTitle"],x_=()=>["expandedDetail"],k_=()=>[5,10,20,100],Yl=n=>({display:n});function L_(n,s){if(n&1){let e=P();a(0,"div",19)(1,"a",46),g("click",function(){p(e);let t=d();return m(t.onActionButtonNewRow())}),C(2,"i",47)(3,"br"),r(),a(4,"p",22),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.ADD")," "))}function V_(n,s){if(n&1){let e=P();a(0,"div",19)(1,"a",48),g("click",function(){p(e);let t=d();return m(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",49)(3,"br"),r(),a(4,"p",22),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.EDIT")," "))}function B_(n,s){if(n&1){let e=P();a(0,"div",19)(1,"a",50),g("click",function(){p(e);let t=d();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",51)(3,"br"),r(),a(4,"p",22),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.DELETE")," "))}function F_(n,s){if(n&1){let e=P();a(0,"div",19)(1,"a",12),g("click",function(){p(e);let t=d();return m(t.onActionButtonPriceList(t.tableRowSelected))}),C(2,"i",52)(3,"br"),r(),a(4,"p",22),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.PRICE")," "))}function O_(n,s){if(n&1){let e=P();a(0,"div",19)(1,"a",12),g("click",function(){p(e);let t=d();return m(t.onActionButtonSourceList(t.tableRowSelected))}),C(2,"i",53)(3,"br"),r(),a(4,"p",22),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.SOURCE")," "))}function N_(n,s){if(n&1){let e=P();a(0,"div",19)(1,"a",12),g("click",function(){p(e);let t=d();return m(t.onActionButtonClientList(t.tableRowSelected))}),C(2,"i",54)(3,"br"),r(),a(4,"p",22),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.CLIENT")," "))}function G_(n,s){if(n&1){let e=P();a(0,"a",12),g("click",function(){p(e);let t=d();return m(t.onActionButtonTransactionList(t.tableRowSelected))}),C(1,"i",55)(2,"br"),r()}}function H_(n,s){if(n&1){let e=P();a(0,"div",19)(1,"a",12),g("click",function(){p(e);let t=d();return m(t.onActionButtonDataRow(t.tableRowSelected))}),C(2,"i",56)(3,"br"),r(),a(4,"p",22),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.DATA")," "))}function W_(n,s){n&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"TITLE.MENU")," "))}function q_(n,s){if(n&1){let e=P();a(0,"mat-cell")(1,"button",57),g("click",function(){let t=p(e).$implicit,l=d();return m(l.onActionTableRowSelectActionMenu(t))}),C(2,"i",58),r()()}}function j_(n,s){n&1&&(a(0,"mat-header-cell",59),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"TITLE.PICTURE")," "))}function U_(n,s){if(n&1&&(C(0,"img",60),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;_("src",R(h(1,2,e.linkMainImageIdSrc)),oe)}}function Q_(n,s){if(n&1&&(a(0,"mat-cell"),b(1,U_,2,4,"img",60),r()),n&2){let e=s.$implicit;o(),M((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function z_(n,s){if(n&1&&(a(0,"mat-header-cell",59),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function K_(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),v(" ",e.id," ")}}function J_(n,s){if(n&1&&(a(0,"mat-header-cell",59),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function X_(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),r()),n&2){let e=s.$implicit;o(),v(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function Y_(n,s){if(n&1&&(a(0,"mat-header-cell",59),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Z_(n,s){if(n&1&&C(0,"select",62),n&2){let e=d().$implicit,i=d();_("contentService",i.contentService)("row",e)("ngStyle",Gt(3,Yl,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function $_(n,s){if(n&1&&(a(0,"mat-cell"),C(1,"i",61),S(2,"statusIconClass"),b(3,Z_,1,5,"select",62),r()),n&2){let e=s.$implicit,i=d();o(),_("ngClass",h(2,2,e.recordStatus)),o(2),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?3:-1)}}function eS(n,s){if(n&1&&(a(0,"mat-header-cell",59),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function tS(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),v(" ",e.title," ")}}function iS(n,s){n&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"TITLE.OPTION")," "))}function nS(n,s){if(n&1&&(a(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),c(3,"more_vert"),r()(),C(4,"mat-menu",null,2),r()),n&2){let e=x(5);o(),_("matMenuTriggerFor",e)}}function oS(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),v(" ",e.title," ")}}function aS(n,s){if(n&1&&(C(0,"img",65),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;_("src",R(h(1,2,e.linkMainImageIdSrc)),oe)}}function rS(n,s){if(n&1){let e=P();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),b(5,aS,2,4,"img",65),r(),a(6,"th")(7,"span",66),g("click",function(){p(e);let t=d();return m(t.onActionCopied())}),C(8,"i",67),r(),c(9),r()(),a(10,"tr"),C(11,"td"),a(12,"td"),c(13),r()(),a(14,"tr"),C(15,"td"),a(16,"td"),c(17),r()(),a(18,"tr"),C(19,"td")(20,"td"),r()()()()}if(n&2){let e=s.$implicit,i=d();o(5),M((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),_("cdkCopyToClipboard",e.id),o(2),v(" ",e.id," "),o(4),X("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : ",e.title),o(4),X(" ",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle," : ",e.description," ")}}function lS(n,s){n&1&&C(0,"mat-header-row")}function sS(n,s){if(n&1){let e=P();a(0,"mat-row",68),g("click",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=p(e).$implicit,l=d();return m(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,l=d();return m(l.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function dS(n,s){if(n&1){let e=P();a(0,"mat-row",69),g("click",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=p(e).$implicit,l=d();return m(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,l=d();return m(l.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function cS(n,s){if(n&1){let e=P();a(0,"mat-row",70),g("click",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=p(e).$implicit,l=d();return m(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,l=d();return m(l.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-expanded",e.expanded===!0)("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),_("ngStyle",Gt(5,Yl,e.expanded===!0?"":"none"))}}var ea=class ea extends ht{constructor(e,i,t,l,f,u,k,J,Ge,tt){super(e,new ut,J,l,u);this.contentService=e;this.cmsToastrService=i;this.router=t;this.tokenHelper=l;this.cdr=f;this.translate=u;this.pageInfo=k;this.publicHelper=J;this.cmsStoreService=Ge;this.dialog=tt;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new re;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","id","recordStatus"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ke=>this.onSubmitOptionsSearch(Ke)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=ae.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Pe(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ut);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id&&this.categoryModelSelected.id.length>0){let t=new K;t.propertyName="LinkPlanCategoryId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.applyDataGetAllResult(t),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new re,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryModelSelected==null||!this.categoryModelSelected.id||this.categoryModelSelected.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=new ft;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={LinkPlanCategoryId:this.categoryModelSelected.id},this.dialog.open(Po,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}let i=new ft;i.disableClose=!0,i.autoFocus=!0,i.height="90%",i.data={id:this.tableRowSelected.id},this.dialog.open(yo,i).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Eo,{height:"40%",panelClass:i,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDataRow(e=this.tableRowSelected,i){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){this.translate.get("MESSAGE.No_row_selected_for_viewing").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/data-provider/log-plan/LinkPlanId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/log-plan/LinkPlanId/"+e.id])}onActionButtonPriceList(e=this.tableRowSelected,i){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/data-provider/plan-price/LinkPlanId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/plan-price/LinkPlanId/"+e.id])}onActionButtonSourceList(e=this.tableRowSelected,i){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/data-provider/plan-source/LinkPlanId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/plan-source/LinkPlanId/"+e.id])}onActionButtonClientList(e=this.tableRowSelected,i){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/data-provider/plan-client/LinkPlanId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/plan-client/LinkPlanId/"+e.id])}onActionButtonTransactionList(e=this.tableRowSelected,i){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/data-provider/transaction/LinkPlanId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/transaction/LinkPlanId/"+e.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(u=>{i.set(u,0)}),this.translate.get("MESSAGE.All").subscribe(u=>{i.set(u,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(u=>{this.publicHelper.processService.processStart(t,u,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:u=>{u.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(u.errorMessage),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new K;f.propertyName="recordStatus",f.value=pt.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:u=>{u.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(u.errorMessage),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionTableRowMouseEnter(e){this.onActionTableRowSelect(e),e.expanded=!0}onActionTableRowMouseLeave(e){e.expanded=!1}};ea.\u0275fac=function(i){return new(i||ea)(I(Zt),I(N),I(Ze),I(ze),I(O),I(F),I(_t),I(G),I(Qe),I(je))},ea.\u0275cmp=L({type:ea,selectors:[["app-data-provider-plan-list"]],standalone:!1,features:[q],decls:75,vars:42,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","title"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-expanded","ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-credit-card","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-file","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-people","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-circle-dollar","font-18"],[1,"fa-solid","fa-database","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(u){return p(l),E(t.viewGuideNotice,u)||(t.viewGuideNotice=u),m(u)}),g("optionOnActionButtonMemoRow",function(){return p(l),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(l),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(l),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(l),m(t.onActionButtonPrintRow())}),y(1,4),a(2,"app-data-provider-plan-category-tree",5),g("optionChange",function(u){return p(l),m(t.onActionSelectorSelect(u))}),r(),T(),Me(3,6)(4,7),y(5,8),a(6,"a",9),g("click",function(){return p(l),m(t.viewGuideNotice=!t.viewGuideNotice)}),C(7,"i",10),r(),a(8,"a",9),g("click",function(){return p(l),m(t.onActionButtonReload())}),C(9,"i",11),r(),a(10,"a",12),g("click",function(){return p(l),m(t.onActionGridExpandRows(!0))}),C(11,"i",13),r(),a(12,"a",12),g("click",function(){return p(l),m(t.onActionGridExpandRows(!1))}),C(13,"i",14),r(),T(),y(14,15),a(15,"a",16),g("click",function(){return p(l),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(16,"mat-slide-toggle",17),c(17),S(18,"translate"),r(),a(19,"a",16),g("click",function(){return p(l),m(t.onActionButtonStatist())}),C(20,"mat-slide-toggle",17),c(21),S(22,"translate"),r(),T(),y(23,18),b(24,L_,7,3,"div",19),T(),y(25,20),b(26,V_,7,3,"div",19),b(27,B_,7,3,"div",19),b(28,F_,7,3,"div",19),b(29,O_,7,3,"div",19),b(30,N_,7,3,"div",19),a(31,"div",19),b(32,G_,3,0,"a",21),a(33,"p",22),c(34),S(35,"translate"),r()(),b(36,H_,7,3,"div",19),T(),y(37,23),a(38,"app-cms-search-list",24),D("optionsChange",function(u){return p(l),E(t.optionsSearch,u)||(t.optionsSearch=u),m(u)}),r(),a(39,"app-cms-statist-list",24),D("optionsChange",function(u){return p(l),E(t.optionsStatist,u)||(t.optionsStatist=u),m(u)}),r(),T(),y(40,25),a(41,"mat-table",26,0),g("matSortChange",function(){p(l);let u=x(42);return m(t.onTableSortData(u))}),y(43,27),V(44,W_,3,3,"mat-header-cell",28)(45,q_,3,0,"mat-cell",29),T(),y(46,30),V(47,j_,3,3,"mat-header-cell",31)(48,Q_,2,1,"mat-cell",29),T(),y(49,32),V(50,z_,2,1,"mat-header-cell",31)(51,K_,2,1,"mat-cell",29),T(),y(52,33),V(53,J_,2,1,"mat-header-cell",31)(54,X_,4,5,"mat-cell",29),T(),y(55,34),V(56,Y_,2,1,"mat-header-cell",31)(57,$_,4,4,"mat-cell",29),T(),y(58,35),V(59,eS,2,1,"mat-header-cell",31)(60,tS,2,1,"mat-cell",29),T(),y(61,36),V(62,iS,3,3,"mat-header-cell",28)(63,nS,6,1,"mat-cell",37),T(),y(64,38),V(65,oS,2,1,"mat-cell",29),T(),y(66,39),V(67,rS,21,7,"mat-cell",29),T(),V(68,lS,1,0,"mat-header-row",40)(69,sS,1,2,"mat-row",41)(70,dS,1,2,"mat-row",42)(71,cS,1,7,"mat-row",43),r(),T(),y(72,44),a(73,"mat-paginator",45,1),g("page",function(u){return p(l),m(t.onTablePageingData(u))}),r(),T(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","dataprovider.plan.list"),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),_("checked",t.optionsSearch.data.show),o(),v("",h(18,33,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),v("",h(22,35,"ACTION.STATIST")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow&&(t.categoryModelSelected==null?null:t.categoryModelSelected.id)>0?24:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?26:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?27:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?28:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?29:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?30:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?32:-1),o(2),v(" ",h(35,37,"ACTION.TRANSACTIONS")," "),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?36:-1),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),_("dataSource",t.tableSource),o(27),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",_e(39,R_)),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(),_("matRowDefColumns",_e(40,x_)),o(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(41,k_)))},dependencies:[we,Xt,$e,Je,W,It,Pt,pe,Te,Ue,it,wt,ot,Et,at,nt,Dt,rt,lt,yt,Tt,Ye,Ae,Re,At,ke,Xe,$o,Fe,B,st,Ne,xe],styles:[".pointer[_ngcontent-%COMP%]{cursor:pointer}"]});var Vn=ea;var pS=()=>[5,10,20,100],mS=(n,s)=>s.id;function uS(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",26),g("click",function(){p(e);let t=d();return m(t.onActionButtonNewRow())}),C(2,"i",27)(3,"br"),r(),a(4,"p",28),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.ADD")," "))}function fS(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",29),g("click",function(){p(e);let t=d();return m(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",30)(3,"br"),r(),a(4,"p",28),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.EDIT")," "))}function _S(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",31),g("click",function(){p(e);let t=d();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",32)(3,"br"),r(),a(4,"p",28),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.DELETE")," "))}function SS(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",7),g("click",function(){p(e);let t=d();return m(t.onActionButtonPriceList(t.tableRowSelected))}),C(2,"i",33)(3,"br"),r(),a(4,"p",28),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.PRICE")," "))}function CS(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",7),g("click",function(){p(e);let t=d();return m(t.onActionButtonSourceList(t.tableRowSelected))}),C(2,"i",34)(3,"br"),r(),a(4,"p",28),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.SOURCE")," "))}function hS(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",7),g("click",function(){p(e);let t=d();return m(t.onActionButtonClientList(t.tableRowSelected))}),C(2,"i",35)(3,"br"),r(),a(4,"p",28),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.CLIENT")," "))}function vS(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",7),g("click",function(){p(e);let t=d();return m(t.onActionButtonTransactionList(t.tableRowSelected))}),C(2,"i",36)(3,"br"),r(),a(4,"p",28),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.TRANSACTIONS")," "))}function gS(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",7),g("click",function(){p(e);let t=d();return m(t.onActionButtonDataRow(t.tableRowSelected))}),C(2,"i",37)(3,"br"),r(),a(4,"p",28),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.DATA")," "))}function bS(n,s){if(n&1&&(a(0,"div",44),C(1,"i",46),c(2),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",e.id," ")}}function MS(n,s){if(n&1&&(a(0,"div",44),C(1,"i",47),c(2),S(3,"localeDate"),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",h(3,2,e.createdDate)," ")}}function IS(n,s){if(n&1&&(a(0,"div",44),C(1,"i",48),c(2),S(3,"cmssiteinfo"),S(4,"async"),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.linkSiteId==null?null:i.fieldsInfo.linkSiteId.fieldTitle,": ",h(4,4,h(3,2,e.linkSiteId))," ")}}function PS(n,s){if(n&1&&C(0,"select",50),n&2){let e=d(2).$implicit,i=d(2);_("contentService",i.contentService)("row",e)}}function wS(n,s){if(n&1&&(a(0,"div",44),C(1,"i",49),S(2,"statusIconClass"),b(3,PS,1,2,"select",50),r()),n&2){let e=d().$implicit,i=d(2);o(),_("ngClass",h(2,2,e.recordStatus)),o(2),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function ES(n,s){if(n&1&&(a(0,"div",44),C(1,"i",53),c(2),S(3,"localeDate"),r()),n&2){let e=d(2).$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",h(3,2,e.updatedDate)," ")}}function DS(n,s){if(n&1){let e=P();a(0,"div",45),b(1,ES,4,4,"div",44),a(2,"div",44)(3,"span",51),g("click",function(t){return p(e),d(3).onActionCopied(),m(t.stopPropagation())}),C(4,"i",52),r(),c(5),r()()}if(n&2){let e=d().$implicit;o(),M(e.updatedDate?1:-1),o(2),_("cdkCopyToClipboard",e.id.toString()),o(2),v(" ID: ",e.id," ")}}function yS(n,s){if(n&1){let e=P();a(0,"div",39),g("click",function(t){let l=p(e).$implicit,f=d(2);return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,f=d(2);return m(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=p(e).$implicit,l=d(2);return m(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,l=d(2);return m(l.onActionTableRowMouseLeave(t))}),a(1,"div",40),C(2,"i",41),S(3,"statusIconClass"),r(),a(4,"div",42)(5,"div",43),c(6),r(),b(7,bS,3,2,"div",44),b(8,MS,4,4,"div",44),b(9,IS,5,6,"div",44),b(10,wS,4,4,"div",44),b(11,DS,6,3,"div",45),r()()}if(n&2){let e=s.$implicit,i=d(2);H("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))("bg-fade-highlight-light",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),He("aria-label",e.title||e.id),o(2),_("ngClass",h(3,12,e.recordStatus)),o(4),v(" ",e.title||"ID: "+e.id," "),o(),M(e.id?7:-1),o(),M(e.createdDate?8:-1),o(),M(e.linkSiteId?9:-1),o(),M(e.recordStatus!==void 0?10:-1),o(),M(i.getRowExpanded(e)?11:-1)}}function TS(n,s){if(n&1&&(a(0,"div",22),Ve(1,yS,12,14,"div",38,mS),r()),n&2){let e=d();o(),Be(e.dataModelResult.listItems)}}function AS(n,s){n&1&&(a(0,"div",23),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"MESSAGE.NoRecord")," "))}var Bn=class Bn extends Vn{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(e){return e.expanded===!0}};Bn.\u0275fac=(()=>{let e;return function(t){return(e||(e=Rt(Bn)))(t||Bn)}})(),Bn.\u0275cmp=L({type:Bn,selectors:[["app-data-provider-plan-list-mobile"]],hostBindings:function(i,t){i&1&&g("click",function(f){return t.onDocumentClick(f)},Mt)},standalone:!1,features:[q],decls:42,vars:35,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-credit-card","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-file","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-people","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-circle-dollar","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-database","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-calendar"],["aria-hidden","true",1,"fa-solid","fa-globe"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list-mobile",1),D("optionActionGuideNoticeDisplayChange",function(u){return p(l),E(t.viewGuideNotice,u)||(t.viewGuideNotice=u),m(u)}),g("optionOnActionButtonMemoRow",function(){return p(l),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(l),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(l),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(l),m(t.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return p(l),m(t.onActionLoadNextPage())}),y(1,2),a(2,"app-data-provider-plan-category-tree",3),g("optionChange",function(u){return p(l),m(t.onActionSelectorSelect(u))}),r(),T(),Me(3,4)(4,5),y(5,6),a(6,"a",7),g("click",function(){return p(l),m(t.viewGuideNotice=!t.viewGuideNotice)}),C(7,"i",8),r(),a(8,"a",7),g("click",function(){return p(l),m(t.onActionButtonReload())}),C(9,"i",9),r(),a(10,"a",10),g("click",function(){return p(l),m(t.onActionGridExpandRows(!0))}),C(11,"i",11),r(),a(12,"a",10),g("click",function(){return p(l),m(t.onActionGridExpandRows(!1))}),C(13,"i",12),r(),T(),y(14,13),a(15,"a",14),g("click",function(){return p(l),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(16,"mat-slide-toggle",15),c(17),S(18,"translate"),r(),a(19,"a",14),g("click",function(){return p(l),m(t.onActionButtonStatist())}),C(20,"mat-slide-toggle",15),c(21),S(22,"translate"),r(),T(),y(23,16),b(24,uS,7,3,"div",17),T(),y(25,18),b(26,fS,7,3,"div",17),b(27,_S,7,3,"div",17),b(28,SS,7,3,"div",17),b(29,CS,7,3,"div",17),b(30,hS,7,3,"div",17),b(31,vS,7,3,"div",17),b(32,gS,7,3,"div",17),T(),y(33,19),a(34,"app-cms-search-list",20),D("optionsChange",function(u){return p(l),E(t.optionsSearch,u)||(t.optionsSearch=u),m(u)}),r(),a(35,"app-cms-statist-list",20),D("optionsChange",function(u){return p(l),E(t.optionsStatist,u)||(t.optionsStatist=u),m(u)}),r(),T(),y(36,21),b(37,TS,3,0,"div",22)(38,AS,3,3,"div",23),T(),y(39,24),a(40,"mat-paginator",25,0),g("page",function(u){return p(l),m(t.onTablePageingData(u))}),r(),T(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","data-provider.main.plan.list"),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),_("checked",t.optionsSearch.data.show),o(),v("",h(18,30,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),v("",h(22,32,"ACTION.STATIST")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow&&(t.categoryModelSelected==null?null:t.categoryModelSelected.id)>0?24:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?26:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?27:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?28:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?29:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?30:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?31:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?32:-1),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),M(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?37:38),o(3),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(34,pS)))},dependencies:[we,W,pe,Te,Ye,Ae,Re,kt,ke,Xe,$o,Fe,B,st,dt,xe],encapsulation:2});var Aa=Bn;var RS=["vform"];function xS(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",26),D("modelChange",function(t){p(e);let l=d();return E(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=d();w("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function kS(n,s){n&1&&C(0,"i",29)}function LS(n,s){n&1&&C(0,"i",30)}function VS(n,s){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function BS(n,s){if(n&1){let e=P();a(0,"div",15)(1,"label",27),c(2),r(),a(3,"input",28,3),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.title,t)||(l.dataModel.title=t),m(t)}),r(),b(5,kS,1,0,"i",29),b(6,LS,1,0,"i",30),a(7,"em"),c(8),r(),b(9,VS,5,3,"mat-error"),r()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),o(2),M(e.value?-1:5),o(),M(e.value?6:-1),o(2),v("",e.value.length," / 100"),o(),M(e.errors!=null&&e.errors.required?9:-1)}}function FS(n,s){if(n&1){let e=P();a(0,"div",16)(1,"div",31)(2,"h5",32),c(3),r()(),a(4,"div",33)(5,"div",34)(6,"input",35),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.checkCredit,t)||(l.dataModel.checkCredit=t),m(t)}),r(),C(7,"label",36),r()()()}if(n&2){let e=d();o(3),v(" ",e.fieldsInfo.checkCredit==null?null:e.fieldsInfo.checkCredit.fieldTitle," "),o(3),w("ngModel",e.dataModel.checkCredit)}}function OS(n,s){if(n&1){let e=P();a(0,"div",16)(1,"div",31)(2,"h5",37),c(3),r()(),a(4,"div",33)(5,"div",34)(6,"input",38),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.calculateCredit,t)||(l.dataModel.calculateCredit=t),m(t)}),r(),C(7,"label",39),r()()()}if(n&2){let e=d();o(3),v(" ",e.fieldsInfo.calculateCredit==null?null:e.fieldsInfo.calculateCredit.fieldTitle," "),o(3),w("ngModel",e.dataModel.calculateCredit)}}function NS(n,s){n&1&&C(0,"i",29)}function GS(n,s){n&1&&C(0,"i",30)}function HS(n,s){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2){let e=d(2);o(),v(" ",e.fieldsInfo.serviceAvailableCredit==null?null:e.fieldsInfo.serviceAvailableCredit.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function WS(n,s){if(n&1){let e=P();a(0,"div",15)(1,"label",40),c(2),r(),a(3,"input",41,4),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.serviceAvailableCredit,t)||(l.dataModel.serviceAvailableCredit=t),m(t)}),r(),b(5,NS,1,0,"i",29),b(6,GS,1,0,"i",30),b(7,HS,5,4,"mat-error"),r()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.serviceAvailableCredit==null?null:i.fieldsInfo.serviceAvailableCredit.fieldTitle),o(),w("ngModel",i.dataModel.serviceAvailableCredit),_("disabled",!(i.fieldsInfo.serviceAvailableCredit!=null&&i.fieldsInfo.serviceAvailableCredit.accessAddField)),o(2),M(e.value?-1:5),o(),M(e.value?6:-1),o(),M(e.errors!=null&&e.errors.required?7:-1)}}function qS(n,s){n&1&&C(0,"i",29)}function jS(n,s){n&1&&C(0,"i",30)}function US(n,s){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2){let e=d(2);o(),v(" ",e.fieldsInfo.serviceSumCredit==null?null:e.fieldsInfo.serviceSumCredit.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function QS(n,s){if(n&1){let e=P();a(0,"div",15)(1,"label",42),c(2),r(),a(3,"input",43,5),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.serviceSumCredit,t)||(l.dataModel.serviceSumCredit=t),m(t)}),r(),b(5,qS,1,0,"i",29),b(6,jS,1,0,"i",30),b(7,US,5,4,"mat-error"),r()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.serviceSumCredit==null?null:i.fieldsInfo.serviceSumCredit.fieldTitle),o(),w("ngModel",i.dataModel.serviceSumCredit),_("disabled",!(i.fieldsInfo.serviceSumCredit!=null&&i.fieldsInfo.serviceSumCredit.accessAddField)),o(2),M(e.value?-1:5),o(),M(e.value?6:-1),o(),M(e.errors!=null&&e.errors.required?7:-1)}}function zS(n,s){n&1&&C(0,"i",29)}function KS(n,s){n&1&&C(0,"i",30)}function JS(n,s){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2){let e=d(2);o(),v(" ",e.fieldsInfo.userAvailableCredit==null?null:e.fieldsInfo.userAvailableCredit.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function XS(n,s){if(n&1){let e=P();a(0,"div",15)(1,"label",44),c(2),r(),a(3,"input",45,6),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.userAvailableCredit,t)||(l.dataModel.userAvailableCredit=t),m(t)}),r(),b(5,zS,1,0,"i",29),b(6,KS,1,0,"i",30),b(7,JS,5,4,"mat-error"),r()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.userAvailableCredit==null?null:i.fieldsInfo.userAvailableCredit.fieldTitle),o(),w("ngModel",i.dataModel.userAvailableCredit),_("disabled",!(i.fieldsInfo.userAvailableCredit!=null&&i.fieldsInfo.userAvailableCredit.accessAddField)),o(2),M(e.value?-1:5),o(),M(e.value?6:-1),o(),M(e.errors!=null&&e.errors.required?7:-1)}}function YS(n,s){n&1&&C(0,"i",29)}function ZS(n,s){n&1&&C(0,"i",30)}function $S(n,s){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2){let e=d(2);o(),v(" ",e.fieldsInfo.userSumCredit==null?null:e.fieldsInfo.userSumCredit.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function eC(n,s){if(n&1){let e=P();a(0,"div",15)(1,"label",46),c(2),r(),a(3,"input",47,7),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.userSumCredit,t)||(l.dataModel.userSumCredit=t),m(t)}),r(),b(5,YS,1,0,"i",29),b(6,ZS,1,0,"i",30),b(7,$S,5,4,"mat-error"),r()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.userSumCredit==null?null:i.fieldsInfo.userSumCredit.fieldTitle),o(),w("ngModel",i.dataModel.userSumCredit),_("disabled",!(i.fieldsInfo.userSumCredit!=null&&i.fieldsInfo.userSumCredit.accessAddField)),o(2),M(e.value?-1:5),o(),M(e.value?6:-1),o(),M(e.errors!=null&&e.errors.required?7:-1)}}function tC(n,s){n&1&&(a(0,"mat-error"),c(1," Description is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function iC(n,s){if(n&1&&(C(0,"img",21),S(1,"cmsthumbnail")),n&2){let e=d();_("src",R(h(1,2,e.dataModel.linkMainImageIdSrc)),oe)}}function nC(n,s){if(n&1){let e=P();a(0,"div",25)(1,"button",48),g("click",function(){p(e);let t=d();return m(t.onFormCancel())}),C(2,"i",49),c(3),S(4,"translate"),r(),a(5,"button",50),C(6,"i",51),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(13);o(3),v(" ",h(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),v(" ",h(8,5,"ACTION.SAVE")," ")}}var ta=class ta extends St{constructor(e,i,t,l,f,u,k,J){super(l,new Yt,u,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderSourceCompanyService=l;this.cmsToastrService=f;this.publicHelper=u;this.cdr=k;this.translate=J;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Y;this.dataModel=new Yt;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourceCompanyService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ta.\u0275fac=function(i){return new(i||ta)(I(se),I(le),I(ie),I($t),I(N),I(G),I(O),I(F))},ta.\u0275cmp=L({type:ta,selectors:[["app-data-provider-source-company-add"]],viewQuery:function(i,t){if(i&1&&U(RS,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:43,vars:45,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],["ServiceAvailableCredit",""],["ServiceSumCredit",""],["UserAvailableCredit",""],["UserSumCredit",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"d-flex","mb-3"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"pt-1"],["data-trigger-switch","dataModel.checkCredit",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.checkCredit","name","dataModel.checkCredit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.checkCredit",1,"custom-control-label"],["data-trigger-switch","dataModel.calculateCredit",1,"font-600","font-14"],["type","checkbox","id","dataModel.calculateCredit","name","dataModel.calculateCredit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.calculateCredit",1,"custom-control-label"],["for","dataModel.serviceAvailableCredit",1,"color-highlight"],["matInput","","type","text","currencyMask","","name","dataModel.serviceAvailableCredit","placeholder","0","id","dataModel.serviceAvailableCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.serviceSumCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.serviceSumCredit","currencyMask","","placeholder","0","required","","id","dataModel.serviceSumCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userAvailableCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.userAvailableCredit","currencyMask","","placeholder","0","required","","id","dataModel.userAvailableCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userSumCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.userSumCredit","currencyMask","","placeholder","0","required","","id","dataModel.userSumCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",8),C(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),c(4),r(),a(5,"h4"),c(6),S(7,"translate"),r(),a(8,"p"),c(9),S(10,"translate"),r(),C(11,"app-cms-form-result-message",12),a(12,"form",13,0),g("ngSubmit",function(){return p(l),m(t.onFormSubmit())}),b(14,xS,1,5,"app-cms-enum-record-status-selector",14),b(15,BS,10,8,"div",15),b(16,FS,8,2,"div",16),b(17,OS,8,2,"div",16),b(18,WS,8,6,"div",15),b(19,QS,8,6,"div",15),b(20,XS,8,6,"div",15),b(21,eC,8,6,"div",15),a(22,"div",15)(23,"label",17),c(24),r(),a(25,"textarea",18,1),D("ngModelChange",function(u){return p(l),E(t.dataModel.description,u)||(t.dataModel.description=u),m(u)}),r(),a(27,"em"),c(28),r(),b(29,tC,5,3,"mat-error"),r(),a(30,"div",19)(31,"a",20),S(32,"cmsthumbnail"),b(33,iC,2,4,"img",21),r()(),a(34,"div",15)(35,"label",22),g("click",function(){return p(l),m(t.fileManagerOpenForm=!0)}),c(36),S(37,"translate"),r(),a(38,"input",23,2),S(40,"translate"),D("ngModelChange",function(u){return p(l),E(t.dataModel.linkMainImageId,u)||(t.dataModel.linkMainImageId=u),m(u)}),g("click",function(){return p(l),m(t.fileManagerOpenForm=!0)}),r(),a(41,"cms-file-manager",24),g("itemSelected",function(u){return p(l),m(t.onActionFileSelected(u))}),D("openFormChange",function(u){return p(l),E(t.fileManagerOpenForm,u)||(t.fileManagerOpenForm=u),m(u)}),r()(),b(42,nC,9,7,"div",25),r()()()}if(i&2){let l=x(26);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v(" ",t.formInfo.formTitle," "),o(2),A(h(7,35,"TITLE.DATA_PROVIDER_SOURCE_COMPANY")),o(3),v(" ",h(10,37,"TITLE.DATA_PROVIDER_SOURCE_COMPANY_DESCRIPTION")," "),o(2),_("formInfo",t.formInfo),o(3),M(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?14:-1),o(),M(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?15:-1),o(),M(t.fieldsInfo.checkCredit!=null&&t.fieldsInfo.checkCredit.accessWatchField?16:-1),o(),M(t.fieldsInfo.calculateCredit!=null&&t.fieldsInfo.calculateCredit.accessWatchField?17:-1),o(),M(t.fieldsInfo.serviceAvailableCredit!=null&&t.fieldsInfo.serviceAvailableCredit.accessWatchField?18:-1),o(),M(t.fieldsInfo.serviceSumCredit!=null&&t.fieldsInfo.serviceSumCredit.accessWatchField?19:-1),o(),M(t.fieldsInfo.userAvailableCredit!=null&&t.fieldsInfo.userAvailableCredit.accessWatchField?20:-1),o(),M(t.fieldsInfo.userSumCredit!=null&&t.fieldsInfo.userSumCredit.accessWatchField?21:-1),o(3),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.description),o(3),v("",l.value.length," / 500"),o(),M(l.errors!=null&&l.errors.required?29:-1),o(2),_("href",R(h(32,39,t.dataModel.linkMainImageIdSrc)),oe),o(2),M((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?33:-1),o(3),A(h(37,41,"TITLE.Icon_File")),o(2),_("placeholder",R(h(40,43,"TITLE.Original_File_ID"))),w("ngModel",t.dataModel.linkMainImageId),o(3),_("language",t.appLanguage)("isPopup",!0),w("openForm",t.fileManagerOpenForm),_("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),M(t.formInfo.submitButtonEnabled?42:-1)}},dependencies:[ve,$,Li,ee,Ce,Ee,De,ye,ce,he,qe,W,ge,j,Se,ti,Ht,B,Ne],encapsulation:2});var Sr=ta;var oC=["vform"];function aC(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",26),D("modelChange",function(t){p(e);let l=d();return E(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=d();w("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function rC(n,s){n&1&&C(0,"i",29)}function lC(n,s){n&1&&C(0,"i",30)}function sC(n,s){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function dC(n,s){if(n&1){let e=P();a(0,"div",15)(1,"label",27),c(2),r(),a(3,"input",28,3),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.title,t)||(l.dataModel.title=t),m(t)}),r(),b(5,rC,1,0,"i",29),b(6,lC,1,0,"i",30),a(7,"em"),c(8),r(),b(9,sC,5,3,"mat-error"),r()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),o(2),M(e.value?-1:5),o(),M(e.value?6:-1),o(2),v("",e.value.length," / 100"),o(),M(e.errors!=null&&e.errors.required?9:-1)}}function cC(n,s){if(n&1){let e=P();a(0,"div",16)(1,"div",31)(2,"h5",32),c(3),r()(),a(4,"div",33)(5,"div",34)(6,"input",35),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.checkCredit,t)||(l.dataModel.checkCredit=t),m(t)}),r(),C(7,"label",36),r()()()}if(n&2){let e=d();o(3),v(" ",e.fieldsInfo.checkCredit==null?null:e.fieldsInfo.checkCredit.fieldTitle," "),o(3),w("ngModel",e.dataModel.checkCredit)}}function pC(n,s){if(n&1){let e=P();a(0,"div",16)(1,"div",31)(2,"h5",37),c(3),r()(),a(4,"div",33)(5,"div",34)(6,"input",38),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.calculateCredit,t)||(l.dataModel.calculateCredit=t),m(t)}),r(),C(7,"label",39),r()()()}if(n&2){let e=d();o(3),v(" ",e.fieldsInfo.calculateCredit==null?null:e.fieldsInfo.calculateCredit.fieldTitle," "),o(3),w("ngModel",e.dataModel.calculateCredit)}}function mC(n,s){n&1&&C(0,"i",29)}function uC(n,s){n&1&&C(0,"i",30)}function fC(n,s){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2){let e=d(2);o(),v(" ",e.fieldsInfo.serviceAvailableCredit==null?null:e.fieldsInfo.serviceAvailableCredit.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function _C(n,s){if(n&1){let e=P();a(0,"div",15)(1,"label",40),c(2),r(),a(3,"input",41,4),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.serviceAvailableCredit,t)||(l.dataModel.serviceAvailableCredit=t),m(t)}),r(),b(5,mC,1,0,"i",29),b(6,uC,1,0,"i",30),b(7,fC,5,4,"mat-error"),r()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.serviceAvailableCredit==null?null:i.fieldsInfo.serviceAvailableCredit.fieldTitle),o(),w("ngModel",i.dataModel.serviceAvailableCredit),_("disabled",!(i.fieldsInfo.serviceAvailableCredit!=null&&i.fieldsInfo.serviceAvailableCredit.accessEditField)),o(2),M(e.value?-1:5),o(),M(e.value?6:-1),o(),M(e.errors!=null&&e.errors.required?7:-1)}}function SC(n,s){n&1&&C(0,"i",29)}function CC(n,s){n&1&&C(0,"i",30)}function hC(n,s){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2){let e=d(2);o(),v(" ",e.fieldsInfo.serviceSumCredit==null?null:e.fieldsInfo.serviceSumCredit.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function vC(n,s){if(n&1){let e=P();a(0,"div",15)(1,"label",42),c(2),r(),a(3,"input",43,5),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.serviceSumCredit,t)||(l.dataModel.serviceSumCredit=t),m(t)}),r(),b(5,SC,1,0,"i",29),b(6,CC,1,0,"i",30),b(7,hC,5,4,"mat-error"),r()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.serviceSumCredit==null?null:i.fieldsInfo.serviceSumCredit.fieldTitle),o(),w("ngModel",i.dataModel.serviceSumCredit),_("disabled",!(i.fieldsInfo.serviceSumCredit!=null&&i.fieldsInfo.serviceSumCredit.accessEditField)),o(2),M(e.value?-1:5),o(),M(e.value?6:-1),o(),M(e.errors!=null&&e.errors.required?7:-1)}}function gC(n,s){n&1&&C(0,"i",29)}function bC(n,s){n&1&&C(0,"i",30)}function MC(n,s){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2){let e=d(2);o(),v(" ",e.fieldsInfo.userAvailableCredit==null?null:e.fieldsInfo.userAvailableCredit.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function IC(n,s){if(n&1){let e=P();a(0,"div",15)(1,"label",44),c(2),r(),a(3,"input",45,6),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.userAvailableCredit,t)||(l.dataModel.userAvailableCredit=t),m(t)}),r(),b(5,gC,1,0,"i",29),b(6,bC,1,0,"i",30),b(7,MC,5,4,"mat-error"),r()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.userAvailableCredit==null?null:i.fieldsInfo.userAvailableCredit.fieldTitle),o(),w("ngModel",i.dataModel.userAvailableCredit),_("disabled",!(i.fieldsInfo.userAvailableCredit!=null&&i.fieldsInfo.userAvailableCredit.accessEditField)),o(2),M(e.value?-1:5),o(),M(e.value?6:-1),o(),M(e.errors!=null&&e.errors.required?7:-1)}}function PC(n,s){n&1&&C(0,"i",29)}function wC(n,s){n&1&&C(0,"i",30)}function EC(n,s){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2){let e=d(2);o(),v(" ",e.fieldsInfo.userSumCredit==null?null:e.fieldsInfo.userSumCredit.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function DC(n,s){if(n&1){let e=P();a(0,"div",15)(1,"label",46),c(2),r(),a(3,"input",47,7),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.userSumCredit,t)||(l.dataModel.userSumCredit=t),m(t)}),r(),b(5,PC,1,0,"i",29),b(6,wC,1,0,"i",30),b(7,EC,5,4,"mat-error"),r()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.userSumCredit==null?null:i.fieldsInfo.userSumCredit.fieldTitle),o(),w("ngModel",i.dataModel.userSumCredit),_("disabled",!(i.fieldsInfo.userSumCredit!=null&&i.fieldsInfo.userSumCredit.accessEditField)),o(2),M(e.value?-1:5),o(),M(e.value?6:-1),o(),M(e.errors!=null&&e.errors.required?7:-1)}}function yC(n,s){n&1&&(a(0,"mat-error"),c(1," Description is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function TC(n,s){if(n&1&&(C(0,"img",21),S(1,"cmsthumbnail")),n&2){let e=d();_("src",R(h(1,2,e.dataModel.linkMainImageIdSrc)),oe)}}function AC(n,s){if(n&1){let e=P();a(0,"div",25)(1,"button",48),g("click",function(){p(e);let t=d();return m(t.onFormCancel())}),C(2,"i",49),c(3),S(4,"translate"),r(),a(5,"button",50),C(6,"i",51),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(13);o(3),v(" ",h(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),v(" ",h(8,5,"ACTION.SAVE")," ")}}var ia=class ia extends Ct{constructor(e,i,t,l,f,u,k,J){super(l,new Yt,u,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderSourceCompanyService=l;this.cmsToastrService=f;this.publicHelper=u;this.cdr=k;this.translate=J;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new mt;this.dataModel=new Yt;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){if(this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourceCompanyService.setAccessLoad(),this.dataProviderSourceCompanyService.setAccessDataType(Oe.Editor),this.dataProviderSourceCompanyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourceCompanyService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ia.\u0275fac=function(i){return new(i||ia)(I(se),I(le),I(ie),I($t),I(N),I(G),I(O),I(F))},ia.\u0275cmp=L({type:ia,selectors:[["app-data-provider-source-company-edit"]],viewQuery:function(i,t){if(i&1&&U(oC,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:43,vars:45,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],["ServiceAvailableCredit",""],["ServiceSumCredit",""],["UserAvailableCredit",""],["UserSumCredit",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"d-flex","mb-3"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"pt-1"],["data-trigger-switch","dataModel.checkCredit",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.checkCredit","name","dataModel.checkCredit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.checkCredit",1,"custom-control-label"],["data-trigger-switch","dataModel.calculateCredit",1,"font-600","font-14"],["type","checkbox","id","dataModel.calculateCredit","name","dataModel.calculateCredit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.calculateCredit",1,"custom-control-label"],["for","dataModel.serviceAvailableCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.serviceAvailableCredit","currencyMask","","placeholder","0","required","","id","dataModel.serviceAvailableCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.serviceSumCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.serviceSumCredit","currencyMask","","placeholder","0","required","","id","dataModel.serviceSumCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userAvailableCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.userAvailableCredit","currencyMask","","placeholder","0","required","","id","dataModel.userAvailableCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userSumCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.userSumCredit","currencyMask","","placeholder","0","required","","id","dataModel.userSumCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",8),C(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),c(4),r(),a(5,"h4"),c(6),S(7,"translate"),r(),a(8,"p"),c(9),S(10,"translate"),r(),C(11,"app-cms-form-result-message",12),a(12,"form",13,0),g("ngSubmit",function(){return p(l),m(t.onFormSubmit())}),b(14,aC,1,5,"app-cms-enum-record-status-selector",14),b(15,dC,10,8,"div",15),b(16,cC,8,2,"div",16),b(17,pC,8,2,"div",16),b(18,_C,8,6,"div",15),b(19,vC,8,6,"div",15),b(20,IC,8,6,"div",15),b(21,DC,8,6,"div",15),a(22,"div",15)(23,"label",17),c(24),r(),a(25,"textarea",18,1),D("ngModelChange",function(u){return p(l),E(t.dataModel.description,u)||(t.dataModel.description=u),m(u)}),r(),a(27,"em"),c(28),r(),b(29,yC,5,3,"mat-error"),r(),a(30,"div",19)(31,"a",20),S(32,"cmsthumbnail"),b(33,TC,2,4,"img",21),r()(),a(34,"div",15)(35,"label",22),g("click",function(){return p(l),m(t.fileManagerOpenForm=!0)}),c(36),S(37,"translate"),r(),a(38,"input",23,2),S(40,"translate"),D("ngModelChange",function(u){return p(l),E(t.dataModel.linkMainImageId,u)||(t.dataModel.linkMainImageId=u),m(u)}),g("click",function(){return p(l),m(t.fileManagerOpenForm=!0)}),r(),a(41,"cms-file-manager",24),g("itemSelected",function(u){return p(l),m(t.onActionFileSelected(u))}),D("openFormChange",function(u){return p(l),E(t.fileManagerOpenForm,u)||(t.fileManagerOpenForm=u),m(u)}),r()(),b(42,AC,9,7,"div",25),r()()()}if(i&2){let l=x(26);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v(" ",t.formInfo.formTitle," "),o(2),A(h(7,35,"TITLE.DATA_PROVIDER_SOURCE_COMPANY")),o(3),v(" ",h(10,37,"TITLE.DATA_PROVIDER_SOURCE_COMPANY_DESCRIPTION")," "),o(2),_("formInfo",t.formInfo),o(3),M(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?14:-1),o(),M(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?15:-1),o(),M(t.fieldsInfo.checkCredit!=null&&t.fieldsInfo.checkCredit.accessWatchField?16:-1),o(),M(t.fieldsInfo.calculateCredit!=null&&t.fieldsInfo.calculateCredit.accessWatchField?17:-1),o(),M(t.fieldsInfo.serviceAvailableCredit!=null&&t.fieldsInfo.serviceAvailableCredit.accessWatchField?18:-1),o(),M(t.fieldsInfo.serviceSumCredit!=null&&t.fieldsInfo.serviceSumCredit.accessWatchField?19:-1),o(),M(t.fieldsInfo.userAvailableCredit!=null&&t.fieldsInfo.userAvailableCredit.accessWatchField?20:-1),o(),M(t.fieldsInfo.userSumCredit!=null&&t.fieldsInfo.userSumCredit.accessWatchField?21:-1),o(3),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.description),o(3),v("",l.value.length," / 500"),o(),M(l.errors!=null&&l.errors.required?29:-1),o(2),_("href",R(h(32,39,t.dataModel.linkMainImageIdSrc)),oe),o(2),M((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?33:-1),o(3),A(h(37,41,"TITLE.Icon_File")),o(2),_("placeholder",R(h(40,43,"TITLE.Original_File_ID"))),w("ngModel",t.dataModel.linkMainImageId),o(3),_("language",t.appLanguage)("isPopup",!0),w("openForm",t.fileManagerOpenForm),_("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),M(t.formInfo.submitButtonEnabled?42:-1)}},dependencies:[ve,$,Li,ee,Ce,Ee,De,ye,ce,he,qe,W,ge,j,Se,ti,Ht,B,Ne],encapsulation:2});var Cr=ia;var RC=()=>[5,10,20,100];function xC(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",37),g("click",function(){p(e);let t=d();return m(t.onActionButtonNewRow())}),C(2,"i",38)(3,"br"),r(),a(4,"p",19),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.ADD")," "))}function kC(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",39),g("click",function(){p(e);let t=d();return m(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",40)(3,"br"),r(),a(4,"p",19),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.EDIT")," "))}function LC(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",41),g("click",function(){p(e);let t=d();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",42)(3,"br"),r(),a(4,"p",19),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.DELETE")," "))}function VC(n,s){n&1&&(a(0,"mat-header-cell",43),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"TITLE.PICTURE")," "))}function BC(n,s){if(n&1&&C(0,"img",44),n&2){let e=d().$implicit;_("src",R(e.linkMainImageIdSrc),oe)}}function FC(n,s){if(n&1&&(a(0,"mat-cell"),b(1,BC,1,2,"img",44),r()),n&2){let e=s.$implicit;o(),M((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function OC(n,s){if(n&1&&(a(0,"mat-header-cell",43),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function NC(n,s){if(n&1&&(a(0,"mat-cell",45),S(1,"statusCellClass"),C(2,"i",45),S(3,"statusIconClass"),r()),n&2){let e=s.$implicit;_("ngClass",h(1,2,e.recordStatus)),o(2),_("ngClass",h(3,4,e.recordStatus))}}function GC(n,s){if(n&1&&(a(0,"mat-header-cell",43),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function HC(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),v(" ",e.title," ")}}function WC(n,s){n&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"TITLE.OPTION")," "))}function qC(n,s){if(n&1&&(a(0,"mat-cell",46)(1,"button",47)(2,"mat-icon"),c(3,"more_vert"),r()(),C(4,"mat-menu",null,2),r()),n&2){let e=x(5);o(),_("matMenuTriggerFor",e)}}function jC(n,s){n&1&&C(0,"mat-header-row")}function UC(n,s){if(n&1){let e=P();a(0,"mat-row",48),g("click",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var na=class na extends ht{constructor(e,i,t,l,f,u,k,J,Ge,tt,Ke){super(e,new Yt,tt,f,k);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.router=l;this.tokenHelper=f;this.cdr=u;this.translate=k;this.cmsStoreService=J;this.pageInfo=Ge;this.publicHelper=tt;this.dialog=Ke;this.tableData=[];this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new re;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","recordStatus","title"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","recordStatus","title"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ct=>this.onSubmitOptionsSearch(ct)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=ae.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Pe(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Yt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.applyDataGetAllResult(t),t.isSuccess?(this.tableData=this.dataModelResult?.listItems??[],this.sort&&(this.tableSource.sort=this.sort),this.paginator&&(this.tableSource.paginator=this.paginator),this.tableSource.filter="",this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Sr,{height:"90%",panelClass:e,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Cr,{height:"90%",panelClass:i,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(u=>{this.publicHelper.processService.processStart(f,u,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:u=>{u.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonSourceList(e=this.tableRowSelected,i){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/data-provider/main/source/list/LinkSourceCompanyId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/main/source/list/LinkSourceCompanyId",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(u=>{i.set(u,0)}),this.translate.get("MESSAGE.All").subscribe(u=>{i.set(u,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(u=>{this.publicHelper.processService.processStart(t,u,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:u=>{u.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(u.errorMessage),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new K;f.propertyName="recordStatus",f.value=pt.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:u=>{u.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(u.errorMessage),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};na.\u0275fac=function(i){return new(i||na)(I($t),I(N),I(zt),I(Ze),I(ze),I(O),I(F),I(Qe),I(_t),I(G),I(je))},na.\u0275cmp=L({type:na,selectors:[["app-data-provider-source-company-list"]],viewQuery:function(i,t){if(i&1&&(U(Ue,5),U(pe,5)),i&2){let l;Q(l=z())&&(t.sort=l.first),Q(l=z())&&(t.paginator=l.first)}},standalone:!1,features:[q],decls:54,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-route","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(u){return p(l),E(t.viewGuideNotice,u)||(t.viewGuideNotice=u),m(u)}),g("optionOnActionButtonMemoRow",function(){return p(l),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(l),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(l),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(l),m(t.onActionButtonPrintRow())}),y(1,4),c(2," -------------------------------------- "),T(),Me(3,5)(4,6),y(5,7),a(6,"a",8),g("click",function(){return p(l),m(t.viewGuideNotice=!t.viewGuideNotice)}),C(7,"i",9),r(),a(8,"a",8),g("click",function(){return p(l),m(t.onActionButtonReload())}),C(9,"i",10),r(),T(),y(10,11),a(11,"a",12),g("click",function(){return p(l),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(12,"mat-slide-toggle",13),c(13),S(14,"translate"),r(),a(15,"a",12),g("click",function(){return p(l),m(t.onActionButtonStatist())}),C(16,"mat-slide-toggle",13),c(17),S(18,"translate"),r(),T(),y(19,14),b(20,xC,7,3,"div",15),T(),y(21,16),b(22,kC,7,3,"div",15),b(23,LC,7,3,"div",15),a(24,"div",15)(25,"a",17),g("click",function(u){return p(l),m(t.onActionButtonSourceList(t.tableRowSelected,u))}),C(26,"i",18)(27,"br"),r(),a(28,"p",19),c(29),S(30,"translate"),r()(),T(),y(31,20),a(32,"app-cms-search-list",21),D("optionsChange",function(u){return p(l),E(t.optionsSearch,u)||(t.optionsSearch=u),m(u)}),r(),a(33,"app-cms-statist-list",21),D("optionsChange",function(u){return p(l),E(t.optionsStatist,u)||(t.optionsStatist=u),m(u)}),r(),T(),y(34,22),a(35,"mat-table",23,0),g("matSortChange",function(){p(l);let u=x(36);return m(t.onTableSortData(u))}),y(37,24),V(38,VC,3,3,"mat-header-cell",25)(39,FC,2,1,"mat-cell",26),T(),y(40,27),V(41,OC,2,1,"mat-header-cell",25)(42,NC,4,6,"mat-cell",28),T(),y(43,29),V(44,GC,2,1,"mat-header-cell",25)(45,HC,2,1,"mat-cell",26),T(),y(46,30),V(47,WC,3,3,"mat-header-cell",31)(48,qC,6,1,"mat-cell",32),T(),V(49,jC,1,0,"mat-header-row",33)(50,UC,1,2,"mat-row",34),r(),T(),y(51,35),a(52,"mat-paginator",36,1),g("page",function(u){return p(l),m(t.onTablePageingData(u))}),r(),T(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),v("",h(14,26,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),v("",h(18,28,"ACTION.STATIST")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(6),v(" ",h(30,30,"ACTION.SOURCE")," "),o(3),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),_("dataSource",t.tableSource),o(14),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(32,RC)))},dependencies:[we,$e,Je,It,Pt,pe,Te,Ue,it,wt,ot,Et,at,nt,Dt,rt,lt,yt,Tt,Ae,Re,At,ke,B,xe,tn],encapsulation:2});var oa=na;var QC=()=>[5,10,20,100],zC=(n,s)=>s.id;function KC(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",25),g("click",function(){p(e);let t=d();return m(t.onActionButtonNewRow())}),C(2,"i",26)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.ADD")," "))}function JC(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",28),g("click",function(){p(e);let t=d();return m(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",29)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.EDIT")," "))}function XC(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",30),g("click",function(){p(e);let t=d();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",31)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.DELETE")," "))}function YC(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",6),g("click",function(t){p(e);let l=d();return m(l.onActionButtonSourceList(l.tableRowSelected,t))}),C(2,"i",32)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.SOURCE")," "))}function ZC(n,s){if(n&1&&(a(0,"div",39),C(1,"i",41),c(2),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",e.id," ")}}function $C(n,s){if(n&1&&(a(0,"div",39),C(1,"i",42),c(2),S(3,"localeDate"),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",h(3,2,e.createdDate)," ")}}function eh(n,s){if(n&1&&C(0,"select",44),n&2){let e=d(2).$implicit,i=d(2);_("contentService",i.contentService)("row",e)}}function th(n,s){if(n&1&&(a(0,"div",39),C(1,"i",43),S(2,"statusIconClass"),b(3,eh,1,2,"select",44),r()),n&2){let e=d().$implicit,i=d(2);o(),_("ngClass",h(2,2,e.recordStatus)),o(2),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function ih(n,s){if(n&1&&(a(0,"div",39),C(1,"i",47),c(2),S(3,"localeDate"),r()),n&2){let e=d(2).$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",h(3,2,e.updatedDate)," ")}}function nh(n,s){if(n&1){let e=P();a(0,"div",40),b(1,ih,4,4,"div",39),a(2,"div",39)(3,"span",45),g("click",function(t){return p(e),d(3).onActionCopied(),m(t.stopPropagation())}),C(4,"i",46),r(),c(5),r()()}if(n&2){let e=d().$implicit;o(),M(e.updatedDate?1:-1),o(2),_("cdkCopyToClipboard",e.id.toString()),o(2),v(" ID: ",e.id," ")}}function oh(n,s){if(n&1){let e=P();a(0,"div",34),g("click",function(t){let l=p(e).$implicit,f=d(2);return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,f=d(2);return m(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=p(e).$implicit,l=d(2);return m(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,l=d(2);return m(l.onActionTableRowMouseLeave(t))}),a(1,"div",35),C(2,"i",36),S(3,"statusIconClass"),r(),a(4,"div",37)(5,"div",38),c(6),r(),b(7,ZC,3,2,"div",39),b(8,$C,4,4,"div",39),b(9,th,4,4,"div",39),b(10,nh,6,3,"div",40),r()()}if(n&2){let e=s.$implicit,i=d(2);H("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))("bg-fade-highlight-light",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),He("aria-label",e.title||e.id),o(2),_("ngClass",h(3,11,e.recordStatus)),o(4),v(" ",e.title||"ID: "+e.id," "),o(),M(e.id?7:-1),o(),M(e.createdDate?8:-1),o(),M(e.recordStatus!==void 0?9:-1),o(),M(i.getRowExpanded(e)?10:-1)}}function ah(n,s){if(n&1&&(a(0,"div",21),Ve(1,oh,11,13,"div",33,zC),r()),n&2){let e=d();o(),Be(e.dataModelResult.listItems)}}function rh(n,s){n&1&&(a(0,"div",22),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"MESSAGE.NoRecord")," "))}var Fn=class Fn extends oa{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(e){return e.expanded===!0}};Fn.\u0275fac=(()=>{let e;return function(t){return(e||(e=Rt(Fn)))(t||Fn)}})(),Fn.\u0275cmp=L({type:Fn,selectors:[["app-data-provider-source-company-list-mobile"]],hostBindings:function(i,t){i&1&&g("click",function(f){return t.onDocumentClick(f)},Mt)},standalone:!1,features:[q],decls:37,vars:31,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-route","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-calendar"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list-mobile",1),D("optionActionGuideNoticeDisplayChange",function(u){return p(l),E(t.viewGuideNotice,u)||(t.viewGuideNotice=u),m(u)}),g("optionOnActionButtonMemoRow",function(){return p(l),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(l),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(l),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(l),m(t.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return p(l),m(t.onActionLoadNextPage())}),Me(1,2)(2,3)(3,4),y(4,5),a(5,"a",6),g("click",function(){return p(l),m(t.viewGuideNotice=!t.viewGuideNotice)}),C(6,"i",7),r(),a(7,"a",6),g("click",function(){return p(l),m(t.onActionButtonReload())}),C(8,"i",8),r(),a(9,"a",9),g("click",function(){return p(l),m(t.onActionGridExpandRows(!0))}),C(10,"i",10),r(),a(11,"a",9),g("click",function(){return p(l),m(t.onActionGridExpandRows(!1))}),C(12,"i",11),r(),T(),y(13,12),a(14,"a",13),g("click",function(){return p(l),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(15,"mat-slide-toggle",14),c(16),S(17,"translate"),r(),a(18,"a",13),g("click",function(){return p(l),m(t.onActionButtonStatist())}),C(19,"mat-slide-toggle",14),c(20),S(21,"translate"),r(),T(),y(22,15),b(23,KC,7,3,"div",16),T(),y(24,17),b(25,JC,7,3,"div",16),b(26,XC,7,3,"div",16),b(27,YC,7,3,"div",16),T(),y(28,18),a(29,"app-cms-search-list",19),D("optionsChange",function(u){return p(l),E(t.optionsSearch,u)||(t.optionsSearch=u),m(u)}),r(),a(30,"app-cms-statist-list",19),D("optionsChange",function(u){return p(l),E(t.optionsStatist,u)||(t.optionsStatist=u),m(u)}),r(),T(),y(31,20),b(32,ah,3,0,"div",21)(33,rh,3,3,"div",22),T(),y(34,23),a(35,"mat-paginator",24,0),g("page",function(u){return p(l),m(t.onTablePageingData(u))}),r(),T(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","data-provider.main.source-company.list"),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(8),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),_("checked",t.optionsSearch.data.show),o(),v("",h(17,26,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),v("",h(21,28,"ACTION.STATIST")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?23:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?25:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?26:-1),o(),M((t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?27:-1),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),M(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?32:33),o(3),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(30,QC)))},dependencies:[we,W,pe,Te,Ye,Ae,Re,kt,ke,Xe,B,dt,xe],encapsulation:2});var hr=Fn;var lh=["vform"];function sh(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",14),D("modelChange",function(t){p(e);let l=d();return E(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=d();w("model",e.dataModel.recordStatus),_("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionSelectFirstItem",!0)}}function dh(n,s){if(n&1){let e=P();a(0,"div",11)(1,"label",15),c(2),r(),a(3,"input",16,1),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.title,t)||(l.dataModel.title=t),m(t)}),r(),a(5,"em"),c(6),r()()}if(n&2){let e=x(4),i=d();o(2),v(" ",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," "),o(),_("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),o(3),v("",(e.value==null?null:e.value.length)||0," / 128")}}function ch(n,s){if(n&1){let e=P();a(0,"app-data-provider-source-path-selector",17),g("optionChange",function(t){p(e);let l=d();return m(l.onActionSelectorSourcePath(t))}),r()}if(n&2){let e=d();_("optionSelectForce",e.dataModel.linkSourcePathId)("optionPlaceholder",e.fieldsInfo.linkSourcePathId==null?null:e.fieldsInfo.linkSourcePathId.fieldTitle)("optionDisabled",!((e.fieldsInfo.linkSourcePathId==null?null:e.fieldsInfo.linkSourcePathId.accessEditField)??!1))}}function ph(n,s){if(n&1){let e=P();a(0,"div",11)(1,"label",18),c(2),r(),a(3,"input",19,2),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.servicePricePerPage,t)||(l.dataModel.servicePricePerPage=t),m(t)}),r()()}if(n&2){let e=d();o(2),v(" ",e.fieldsInfo.servicePricePerPage==null?null:e.fieldsInfo.servicePricePerPage.fieldTitle," "),o(),_("placeholder",R(e.fieldsInfo.servicePricePerPage==null?null:e.fieldsInfo.servicePricePerPage.fieldTitle)),w("ngModel",e.dataModel.servicePricePerPage)}}function mh(n,s){if(n&1){let e=P();a(0,"div",11)(1,"label",20),c(2),r(),a(3,"input",21,3),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.endUserPricePerPage,t)||(l.dataModel.endUserPricePerPage=t),m(t)}),r()()}if(n&2){let e=d();o(2),v(" ",e.fieldsInfo.endUserPricePerPage==null?null:e.fieldsInfo.endUserPricePerPage.fieldTitle," "),o(),_("placeholder",R(e.fieldsInfo.endUserPricePerPage==null?null:e.fieldsInfo.endUserPricePerPage.fieldTitle)),w("ngModel",e.dataModel.endUserPricePerPage)}}function uh(n,s){if(n&1){let e=P();a(0,"div",13)(1,"button",22),g("click",function(){p(e);let t=d();return m(t.onFormCancel())}),C(2,"i",23),c(3),S(4,"translate"),r(),a(5,"button",24),C(6,"i",25),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),v(" ",h(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),v(" ",h(8,5,"ACTION.SAVE")," ")}}var aa=class aa extends St{constructor(e,i,t,l,f,u,k,J){super(l,new dn,u,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.contentService=l;this.cmsToastrService=f;this.publicHelper=u;this.cdr=k;this.translate=J;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResult=new Y;this.dataModel=new dn;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contentService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSourcePath(e){if(!e||!e.id){this.dataModel.linkSourcePathId="";return}this.dataModel.linkSourcePathId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};aa.\u0275fac=function(i){return new(i||aa)(I(se),I(le),I(ie),I(pn),I(N),I(G),I(O),I(F))},aa.\u0275cmp=L({type:aa,selectors:[["app-data-provider-source-path-pagination-add"]],viewQuery:function(i,t){if(i&1&&U(lh,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:17,vars:12,consts:[["vform","ngForm"],["Title",""],["ServicePricePerPage",""],["EndUserPricePerPage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionLabel","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[3,"optionSelectForce","optionPlaceholder","optionDisabled"],[1,"form-actions"],[3,"modelChange","model","optionLabel","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","128","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["for","dataModel.servicePricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.servicePricePerPage","id","dataModel.servicePricePerPage",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.endUserPricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.endUserPricePerPage","id","dataModel.endUserPricePerPage",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",4),C(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),c(4),r(),a(5,"h4"),c(6),S(7,"translate"),r(),C(8,"app-cms-form-result-message",8),a(9,"form",9,0),g("ngSubmit",function(){return p(l),m(t.onFormSubmit())}),b(11,sh,1,3,"app-cms-enum-record-status-selector",10),b(12,dh,7,5,"div",11),b(13,ch,1,3,"app-data-provider-source-path-selector",12),b(14,ph,5,4,"div",11),b(15,mh,5,4,"div",11),b(16,uh,9,7,"div",13),r()()()}i&2&&(o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v(" ",t.formInfo.formTitle," "),o(2),A(h(7,10,"TITLE.DataProviderSourcePathPagination")),o(2),_("formInfo",t.formInfo),o(3),M(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),M(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?12:-1),o(),M(t.fieldsInfo.linkSourcePathId!=null&&t.fieldsInfo.linkSourcePathId.accessWatchField?13:-1),o(),M(t.fieldsInfo.servicePricePerPage!=null&&t.fieldsInfo.servicePricePerPage.accessWatchField?14:-1),o(),M(t.fieldsInfo.endUserPricePerPage!=null&&t.fieldsInfo.endUserPricePerPage.accessWatchField?15:-1),o(),M(t.formInfo.submitButtonEnabled?16:-1))},dependencies:[ve,$,Vi,ee,Ce,Ee,De,ye,ce,he,W,ge,j,Se,ti,nn,B],encapsulation:2});var vr=aa;var fh=["vform"];function _h(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",17),D("modelChange",function(t){p(e);let l=d();return E(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=d();w("model",e.dataModel.recordStatus),_("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionSelectFirstItem",!0)}}function Sh(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",18),c(2),r(),a(3,"input",19,2),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.title,t)||(l.dataModel.title=t),m(t)}),r(),a(5,"em"),c(6),r()()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),o(3),v("",(e.value==null?null:e.value.length)||0," / 128")}}function Ch(n,s){if(n&1){let e=P();a(0,"app-data-provider-source-path-selector",20),g("optionChange",function(t){p(e);let l=d();return m(l.onActionSelectorSourcePath(t))}),r()}if(n&2){let e=d();_("optionSelectForce",e.dataModel.linkSourcePathId)("optionPlaceholder",e.fieldsInfo.linkSourcePathId==null?null:e.fieldsInfo.linkSourcePathId.fieldTitle)("optionDisabled",!((e.fieldsInfo.linkSourcePathId==null?null:e.fieldsInfo.linkSourcePathId.accessEditField)??!1))}}function hh(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",21),c(2),r(),a(3,"input",22,3),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.servicePricePerPage,t)||(l.dataModel.servicePricePerPage=t),m(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.servicePricePerPage==null?null:e.fieldsInfo.servicePricePerPage.fieldTitle),o(),_("placeholder",R(e.fieldsInfo.servicePricePerPage==null?null:e.fieldsInfo.servicePricePerPage.fieldTitle)),w("ngModel",e.dataModel.servicePricePerPage)}}function vh(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",23),c(2),r(),a(3,"input",24,4),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.endUserPricePerPage,t)||(l.dataModel.endUserPricePerPage=t),m(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.endUserPricePerPage==null?null:e.fieldsInfo.endUserPricePerPage.fieldTitle),o(),_("placeholder",R(e.fieldsInfo.endUserPricePerPage==null?null:e.fieldsInfo.endUserPricePerPage.fieldTitle)),w("ngModel",e.dataModel.endUserPricePerPage)}}function gh(n,s){if(n&1){let e=P();a(0,"div",16)(1,"button",25),g("click",function(){p(e);let t=d();return m(t.onFormCancel())}),C(2,"i",26),c(3),S(4,"translate"),r(),a(5,"button",27),C(6,"i",28),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(7);o(3),v(" ",h(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),v(" ",h(8,5,"ACTION.SAVE")," ")}}var ra=class ra extends Ct{constructor(e,i,t,l,f,u,k){super(t,new dn,f,k);this.data=e;this.dialogRef=i;this.contentService=t;this.cmsToastrService=l;this.publicHelper=f;this.cdr=u;this.translate=k;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new mt;this.dataModel=new dn;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){if(this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contentService.setAccessLoad(),this.contentService.setAccessDataType(Oe.Editor),this.contentService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contentService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSourcePath(e){if(!e||!e.id){this.dataModel.linkSourcePathId="";return}this.dataModel.linkSourcePathId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ra.\u0275fac=function(i){return new(i||ra)(I(se),I(le),I(pn),I(N),I(G),I(O),I(F))},ra.\u0275cmp=L({type:ra,selectors:[["app-data-provider-source-path-pagination-edit"]],viewQuery:function(i,t){if(i&1&&U(fh,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:19,vars:13,consts:[["vform","ngForm"],["Id",""],["Title",""],["ServicePricePerPage",""],["EndUserPricePerPage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionLabel","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.id",1,"color-highlight"],["matInput","","type","text","name","dataModel.Id","id","dataModel.id","disabled","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionSelectForce","optionPlaceholder","optionDisabled"],[1,"form-actions"],[3,"modelChange","model","optionLabel","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","128","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["for","dataModel.servicePricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.servicePricePerPage","id","dataModel.servicePricePerPage",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.endUserPricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.endUserPricePerPage","id","dataModel.endUserPricePerPage",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",5),C(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),c(4),r(),C(5,"app-cms-form-result-message",9),a(6,"form",10,0),g("ngSubmit",function(){return p(l),m(t.onFormSubmit())}),b(8,_h,1,3,"app-cms-enum-record-status-selector",11),a(9,"div",12)(10,"label",13),c(11),r(),a(12,"input",14,1),D("ngModelChange",function(u){return p(l),E(t.dataModel.id,u)||(t.dataModel.id=u),m(u)}),r()(),b(14,Sh,7,5,"div",12),b(15,Ch,1,3,"app-data-provider-source-path-selector",15),b(16,hh,5,4,"div",12),b(17,vh,5,4,"div",12),b(18,gh,9,7,"div",16),r()()()}i&2&&(o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v(" ",t.formInfo.formTitle," "),o(),_("formInfo",t.formInfo),o(3),M(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?8:-1),o(3),A(t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle)),w("ngModel",t.dataModel.id),o(2),M(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?14:-1),o(),M(t.fieldsInfo.linkSourcePathId!=null&&t.fieldsInfo.linkSourcePathId.accessWatchField?15:-1),o(),M(t.fieldsInfo.servicePricePerPage!=null&&t.fieldsInfo.servicePricePerPage.accessWatchField?16:-1),o(),M(t.fieldsInfo.endUserPricePerPage!=null&&t.fieldsInfo.endUserPricePerPage.accessWatchField?17:-1),o(),M(t.formInfo.submitButtonEnabled?18:-1))},dependencies:[ve,$,Vi,ee,Ce,Ee,De,ye,ce,he,W,ge,j,Se,ti,nn,B],encapsulation:2});var gr=ra;var bh=()=>[10,20,50,100];function Mh(n,s){if(n&1){let e=P();a(0,"a",38),g("click",function(){p(e);let t=d();return m(t.onActionbuttonNewRow())}),C(1,"i",39),c(2),S(3,"translate"),r()}n&2&&(o(2),v(" ",h(3,1,"ACTION.ADD")," "))}function Ih(n,s){if(n&1){let e=P();a(0,"a",40),g("click",function(){p(e);let t=d();return m(t.onActionbuttonEditRow(t.tableRowSelected))}),C(1,"i",41),c(2),S(3,"translate"),r()}n&2&&(o(2),v(" ",h(3,1,"ACTION.EDIT")," "))}function Ph(n,s){if(n&1){let e=P();a(0,"a",42),g("click",function(){p(e);let t=d();return m(t.onActionbuttonDeleteRow(t.tableRowSelected))}),C(1,"i",43),c(2),S(3,"translate"),r()}n&2&&(o(2),v(" ",h(3,1,"ACTION.DELETE")," "))}function wh(n,s){n&1&&(a(0,"mat-header-cell",44),c(1," ID "),r())}function Eh(n,s){if(n&1){let e=P();a(0,"mat-cell"),c(1),a(2,"button",45),g("click",function(){p(e);let t=d();return m(t.onActionCopied())}),a(3,"mat-icon"),c(4,"content_copy"),r()()()}if(n&2){let e=s.$implicit;o(),v(" ",e.id," "),o(),_("cdkCopyToClipboard",e.id)}}function Dh(n,s){n&1&&(a(0,"mat-header-cell",46),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"TITLE.Title")," "))}function yh(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),A(e.title)}}function Th(n,s){n&1&&(a(0,"mat-header-cell",47),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"TITLE.SOURCEPATH")," "))}function Ah(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),A(e.linkSourcePathId)}}function Rh(n,s){n&1&&(a(0,"mat-header-cell",48),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"TITLE.SERVICE_PRICE_PER_PAGE")," "))}function xh(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"number"),r()),n&2){let e=s.$implicit;o(),v(" ",h(2,1,e.servicePricePerPage)," ")}}function kh(n,s){n&1&&(a(0,"mat-header-cell",49),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"TITLE.ENDUSER_PRICE_PER_PAGE")," "))}function Lh(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"number"),r()),n&2){let e=s.$implicit;o(),v(" ",h(2,1,e.endUserPricePerPage)," ")}}function Vh(n,s){if(n&1&&(a(0,"mat-header-cell",50),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Bh(n,s){if(n&1&&(a(0,"mat-cell",51),S(1,"statusCellClass"),C(2,"i",51),S(3,"statusIconClass"),r()),n&2){let e=s.$implicit;_("ngClass",h(1,2,e.recordStatus)),o(2),_("ngClass",h(3,4,e.recordStatus))}}function Fh(n,s){n&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"TITLE.OPTION")," "))}function Oh(n,s){if(n&1&&(a(0,"mat-cell",52)(1,"button",53)(2,"mat-icon"),c(3,"more_vert"),r()(),C(4,"mat-menu",null,1),r()),n&2){let e=x(5);o(),_("matMenuTriggerFor",e)}}function Nh(n,s){n&1&&C(0,"mat-header-row")}function Gh(n,s){if(n&1){let e=P();a(0,"mat-row",54),g("click",function(){let t=p(e).$implicit,l=d();return m(l.onActionTableRowSelect(t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-table-row-selected",(i.tableRowSelected==null?null:i.tableRowSelected.id)===e.id)}}var la=class la extends ht{constructor(e,i,t,l,f,u,k,J,Ge,tt){super(e,new dn,Ge,l,u);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.tokenHelper=l;this.cdr=f;this.translate=u;this.cmsStoreService=k;this.pageInfo=J;this.publicHelper=Ge;this.dialog=tt;this.tableData=[];this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new re;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","title","id","linkSourcePathId","servicePricePerPage","endUserPricePerPage","action"];this.tabledisplayedColumnsMobileSource=["recordStatus","title","id","linkSourcePathId","action"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ke=>this.onSubmitOptionsSearch(Ke)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=ae.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Pe(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let i=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new dn);let e=this.constructor.name+".DataGetAll";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.tableData=t.listItems,this.tableSource.data=t.listItems,this.sort&&(this.tableSource.sort=this.sort),this.paginator&&(this.tableSource.paginator=this.paginator),this.tableSource.filter="",this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.applyDataGetAllResult(t),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active&&this.tableSource.sort.direction==="asc"?e.direction="desc":e.direction="asc",this.tableSource.sort=e,this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=e.direction.toUpperCase()==="DESC"?ae.Descending:ae.Ascending,this.tableSource.data=this.tableSource.filteredData,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionbuttonNewRow(){if(this.tokenInfo==null||!this.dataModelResult?.access?.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}this.dialog.open(vr,{height:"90%",data:{}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionbuttonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.tokenInfo==null||!this.dataModelResult?.access?.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.dialog.open(gr,{height:"90%",data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionbuttonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){let t=this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow");this.cmsToastrService.typeErrorSelected(t);return}if(this.onActionTableRowSelect(e),this.tokenInfo==null||!this.dataModelResult?.access?.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}let i=e.title;this.cmsConfirmationDialogService.confirm(this.translate.instant("MESSAGE.Pay_Attention"),this.translate.instant("MESSAGE.Delete",{0:i})).then(t=>{t&&this.contentService.ServiceDelete(e.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorMessage(l.errorMessage)},error:l=>{this.cmsToastrService.typeError(l)}})})}onActionbuttonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){let i=this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow");this.cmsToastrService.typeErrorSelected(i);return}this.onActionTableRowSelect(e)}onActionButtonReload(){this.DataGetAll()}onActionButtonStatist(e){e!==void 0?this.optionsStatist.data.show=e:this.optionsStatist.data.show=!this.optionsStatist.data.show}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){this.filteModelContent.filters=e,this.DataGetAll()}};la.\u0275fac=function(i){return new(i||la)(I(pn),I(N),I(zt),I(ze),I(O),I(F),I(Qe),I(_t),I(G),I(je))},la.\u0275cmp=L({type:la,selectors:[["app-data-provider-source-path-pagination-list"]],viewQuery:function(i,t){if(i&1&&(U(Ue,5),U(pe,5)),i&2){let l;Q(l=z())&&(t.sort=l.first),Q(l=z())&&(t.paginator=l.first)}},standalone:!1,features:[q],decls:48,vars:23,consts:[["tableSort","matSort"],["actionMenu","matMenu"],[3,"optionsListInfoAreaId"],["cms-action-header-start",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-rotate-right","font-18"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["cms-action-row",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","id",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","title"],["mat-sort-header","title",4,"matHeaderCellDef"],["matColumnDef","linkSourcePathId"],["mat-sort-header","linkSourcePathId",4,"matHeaderCellDef"],["matColumnDef","servicePricePerPage"],["mat-sort-header","servicePricePerPage",4,"matHeaderCellDef"],["matColumnDef","endUserPricePerPage"],["mat-sort-header","endUserPricePerPage",4,"matHeaderCellDef"],["matColumnDef","recordStatus"],["mat-sort-header","",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-table-row-selected","click",4,"matRowDef","matRowDefColumns"],[3,"page","length","pageSize","pageSizeOptions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18"],["mat-sort-header","id"],["type","button","mat-icon-button","","aria-label","copy-id",3,"click","cdkCopyToClipboard"],["mat-sort-header","title"],["mat-sort-header","linkSourcePathId"],["mat-sort-header","servicePricePerPage"],["mat-sort-header","endUserPricePerPage"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list",2),y(1,3),a(2,"a",4),g("click",function(){return p(l),m(t.onActionButtonReload())}),C(3,"i",5),r(),T(),y(4,6),a(5,"a",7),g("click",function(){return p(l),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(6,"mat-slide-toggle",8),c(7),S(8,"translate"),r(),a(9,"a",7),g("click",function(){return p(l),m(t.onActionButtonStatist())}),C(10,"mat-slide-toggle",8),c(11),S(12,"translate"),r(),T(),y(13,9),b(14,Mh,4,3,"a",10),T(),y(15,11),b(16,Ih,4,3,"a",12),b(17,Ph,4,3,"a",13),T(),y(18,14),a(19,"app-cms-search-list",15),D("optionsChange",function(u){return p(l),E(t.optionsSearch,u)||(t.optionsSearch=u),m(u)}),r(),a(20,"app-cms-statist-list",15),D("optionsChange",function(u){return p(l),E(t.optionsStatist,u)||(t.optionsStatist=u),m(u)}),r(),T(),y(21,16),a(22,"mat-table",17,0),g("matSortChange",function(){p(l);let u=x(23);return m(t.onTableSortData(u))}),y(24,18),V(25,wh,2,0,"mat-header-cell",19)(26,Eh,5,2,"mat-cell",20),T(),y(27,21),V(28,Dh,3,3,"mat-header-cell",22)(29,yh,2,1,"mat-cell",20),T(),y(30,23),V(31,Th,3,3,"mat-header-cell",24)(32,Ah,2,1,"mat-cell",20),T(),y(33,25),V(34,Rh,3,3,"mat-header-cell",26)(35,xh,3,3,"mat-cell",20),T(),y(36,27),V(37,kh,3,3,"mat-header-cell",28)(38,Lh,3,3,"mat-cell",20),T(),y(39,29),V(40,Vh,2,1,"mat-header-cell",30)(41,Bh,4,6,"mat-cell",31),T(),y(42,32),V(43,Fh,3,3,"mat-header-cell",33)(44,Oh,6,1,"mat-cell",34),T(),V(45,Nh,1,0,"mat-header-row",35)(46,Gh,1,2,"mat-row",36),r(),a(47,"mat-paginator",37),g("page",function(u){return p(l),m(t.onTablePageingData(u))}),r(),T(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId),o(3),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),v(" ",h(8,18,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),v(" ",h(12,20,"ACTION.STATIST")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?14:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?16:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?17:-1),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),_("dataSource",t.tableSource),o(23),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(),_("length",t.dataModelResult.totalRowCount)("pageSize",t.filteModelContent.rowPerPage)("pageSizeOptions",_e(22,bh)))},dependencies:[we,$e,Je,It,Pt,pe,Te,Ue,it,wt,ot,Et,at,nt,Dt,rt,lt,yt,Tt,Ye,Ae,Re,At,Un,B,xe,tn],encapsulation:2});var sa=la;var Hh=(n,s)=>s.id;function Wh(n,s){if(n&1){let e=P();a(0,"button",3),g("click",function(){p(e);let t=d();return m(t.onActionbuttonNewRow())}),c(1),S(2,"translate"),r()}n&2&&(o(),v(" ",h(2,1,"ACTION.ADD")," "))}function qh(n,s){if(n&1){let e=P();a(0,"div",9),g("click",function(){let t=p(e).$implicit,l=d(2);return m(l.onActionTableRowSelect(t))}),a(1,"div",10),c(2),r(),a(3,"div",11),c(4),S(5,"translate"),r(),a(6,"div",11),c(7),S(8,"translate"),S(9,"number"),r(),a(10,"div",11),c(11),S(12,"translate"),S(13,"number"),r()()}if(n&2){let e=s.$implicit,i=d(2);H("selected",(i.tableRowSelected==null?null:i.tableRowSelected.id)===e.id),o(2),A(e.title),o(2),X(" ",h(5,9,"TITLE.SOURCEPATH"),": ",e.linkSourcePathId," "),o(3),X(" ",h(8,11,"TITLE.SERVICE_PRICE_PER_PAGE"),": ",h(9,13,e.servicePricePerPage)," "),o(4),X(" ",h(12,15,"TITLE.ENDUSER_PRICE_PER_PAGE"),": ",h(13,17,e.endUserPricePerPage)," ")}}function jh(n,s){if(n&1&&(a(0,"div",6),Ve(1,qh,14,19,"div",8,Hh),r()),n&2){let e=d();o(),Be(e.tableData)}}function Uh(n,s){n&1&&(a(0,"div",7),c(1),S(2,"translate"),r()),n&2&&(o(),A(h(2,1,"MESSAGE.No_record_found")))}var On=class On extends sa{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(e){return e.expanded===!0}};On.\u0275fac=(()=>{let e;return function(t){return(e||(e=Rt(On)))(t||On)}})(),On.\u0275cmp=L({type:On,selectors:[["app-data-provider-source-path-pagination-list-mobile"]],hostBindings:function(i,t){i&1&&g("click",function(f){return t.onDocumentClick(f)},Mt)},standalone:!1,features:[q],decls:10,vars:6,consts:[[1,"cms-m-wrapper","loader-container",3,"optionOnScrollNearBottom"],[3,"optionsInfoAreaId"],[1,"cms-m-actions"],[1,"btn",3,"click"],[1,"btn"],[1,"cms-m-content"],[1,"cms-m-list"],[1,"cms-m-empty"],[1,"cms-m-list-item",3,"selected"],[1,"cms-m-list-item",3,"click"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"]],template:function(i,t){i&1&&(a(0,"div",0),g("optionOnScrollNearBottom",function(){return t.onActionLoadNextPage()}),C(1,"app-progress-spinner",1),a(2,"div",2)(3,"button",3),g("click",function(){return t.onActionButtonReload()}),c(4),S(5,"translate"),r(),b(6,Wh,3,3,"button",4),r(),a(7,"div",5),b(8,jh,3,0,"div",6)(9,Uh,3,3,"div",7),r()()),i&2&&(o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v(" ",h(5,4,"ACTION.RELOAD")," "),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?6:-1),o(2),M(t.tableData&&t.tableData.length>0?8:9))},dependencies:[j,Un,B],encapsulation:2});var br=On;var Qh=["*"];function zh(n,s){if(n&1&&(a(0,"label",3),c(1),r()),n&2){let e=d();_("for",Wt("app-cms-site-selector-",e.id)),o(),A(e.optionLabel)}}function Kh(n,s){if(n&1&&(C(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=d();_("src",R(h(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),oe)}}function Jh(n,s){if(n&1&&(C(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;_("src",R(h(1,2,e.linkMainImageIdSrc)),oe)}}function Xh(n,s){if(n&1&&(a(0,"mat-option",8),b(1,Jh,2,4,"img",5),a(2,"span"),c(3),r()()),n&2){let e=s.$implicit,i=d();_("value",e)("disabled",i.optionDisabled),o(),M(e.linkMainImageIdSrc?1:-1),o(2),A(i.displayOption(e))}}function Yh(n,s){n&1&&C(0,"i",9)}function Zh(n,s){n&1&&C(0,"i",10)}function $h(n,s){if(n&1){let e=P();a(0,"i",13),g("click",function(){p(e);let t=d();return m(t.onActionSelectClear())}),r()}}function e1(n,s){n&1&&(a(0,"em"),c(1),S(2,"translate"),r()),n&2&&(o(),v("(",h(2,1,"TITLE.Necessary"),")"))}var vn=class vn{constructor(s,e,i,t,l,f){this.coreEnumService=s;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=l;this.categoryService=f;this.id=++vn.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Y;this.dataModelSelect=new Yt;this.formControl=new mi;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new xt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(wi(""),Ii(1500),Pi(),Ei(s=>typeof s=="string"||typeof s=="number"?this.DataGetAll(s||""):[]))}displayFn(s){return s?s.title:void 0}displayOption(s){return s?s.title:void 0}DataGetAll(s){return Pe(this,null,function*(){let e=new re;e.rowPerPage=20,e.accessLoad=!0;let i=new K;i.propertyName="title",i.value=s,i.searchType=qt.Contains,i.clauseType=Qt.Or,e.filters.push(i),s&&typeof+s=="number"&&+s>0&&(i=new K,i.propertyName="id",i.value=s,i.searchType=qt.Equal,i.clauseType=Qt.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.get_information_list").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),yield bi(this.categoryService.ServiceGetAll(e)).then(l=>(this.dataModelResult=l,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||(typeof this.dataModelSelect.id=="string"?this.dataModelSelect.id.length===0:this.dataModelSelect.id<=0))&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),l.listItems))})}onActionSelect(s){this.optionDisabled||(this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(s){return this.filteredOptions.pipe(Mi(e=>(e.find(i=>i.id===s.id)||e.push(s),e)))}onActionSelectForce(s){if(typeof s=="number"&&s>0&&(s=s.toString()),typeof s=="string"&&s.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===s)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===s)){let e=this.dataModelResult.listItems.find(i=>i.id===s);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(s).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof s==typeof Yt){this.filteredOptions=this.push(s),this.dataModelSelect=s,this.formControl.setValue(s);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Yt,this.loadOptions()}};vn.nextId=0,vn.\u0275fac=function(e){return new(e||vn)(I(ie),I(N),I(O),I(G),I(F),I($t))},vn.\u0275cmp=L({type:vn,selectors:[["app-data-provider-source-company-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Qh,decls:18,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=P();ji(),a(0,"div",1),C(1,"app-progress-spinner",2),b(2,zh,2,3,"label",3),a(3,"span",4),b(4,Kh,2,4,"img",5),r(),C(5,"input",6),a(6,"mat-autocomplete",7,0),g("optionSelected",function(f){return p(t),m(i.onActionSelect(f.option.value))}),Ve(8,Xh,4,4,"mat-option",8,Di),S(10,"async"),r(),b(11,Yh,1,0,"i",9),b(12,Zh,1,0,"i",10),b(13,$h,1,0,"i",11),a(14,"i",12),S(15,"translate"),g("click",function(){return p(t),m(i.onActionButtonReload())}),r(),b(16,e1,3,3,"em"),Ui(17),r()}if(e&2){let t=x(7);o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(),M((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),M(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),_("placeholder",R(i.optionPlaceholder))("id",Wt("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),He("disabled",i.optionDisabled?!0:null),o(),_("displayWith",i.displayFn),o(2),Be(h(10,20,i.filteredOptions)),o(3),M(i.formControl.valid?-1:11),o(),M(i.optionRequired&&i.formControl.valid?12:-1),o(),M((i.dataModelSelect==null?null:i.dataModelSelect.id)>0?13:-1),o(),H("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),_("title",R(h(15,22,"ACTION.RELOAD"))),o(2),M(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(typeof i.dataModelSelect.id=="string"?i.dataModelSelect.id.length===0:i.dataModelSelect.id<=0))?16:-1)}},dependencies:[$,ee,Ee,Bi,Ni,Fi,Gi,Yi,W,j,Fe,B,Ne],encapsulation:2});var da=vn;var t1=["*"];function i1(n,s){if(n&1&&(a(0,"label",3),c(1),r()),n&2){let e=d();_("for",Wt("app-cms-site-selector-",e.id)),o(),A(e.optionLabel)}}function n1(n,s){if(n&1&&(C(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=d();_("src",R(h(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),oe)}}function o1(n,s){if(n&1&&(C(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;_("src",R(h(1,2,e.linkMainImageIdSrc)),oe)}}function a1(n,s){if(n&1&&(a(0,"mat-option",8),b(1,o1,2,4,"img",5),a(2,"span"),c(3),r()()),n&2){let e=s.$implicit,i=d();_("value",e)("disabled",i.optionDisabled),o(),M(e.linkMainImageIdSrc?1:-1),o(2),A(i.displayOption(e))}}function r1(n,s){n&1&&C(0,"i",9)}function l1(n,s){n&1&&C(0,"i",10)}function s1(n,s){if(n&1){let e=P();a(0,"i",13),g("click",function(){p(e);let t=d();return m(t.onActionSelectClear())}),r()}}function d1(n,s){n&1&&(a(0,"em"),c(1),S(2,"translate"),r()),n&2&&(o(),v("(",h(2,1,"TITLE.Necessary"),")"))}var gn=class gn{constructor(s,e,i,t,l,f){this.coreEnumService=s;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=l;this.categoryService=f;this.id=++gn.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Y;this.dataModelSelect=new Ai;this.formControl=new mi;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new xt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(wi(""),Ii(1500),Pi(),Ei(s=>typeof s=="string"?this.DataGetAll(s||""):[]))}displayFn(s){return s?s.title+" | "+s.id:void 0}displayOption(s){return s?s.title+" | "+s.id:void 0}DataGetAll(s){return Pe(this,null,function*(){let e=new re;e.rowPerPage=20,e.accessLoad=!0;let i=new K;s&&s.length>0&&(i.propertyName="title",i.value=s,i.searchType=qt.Contains,i.clauseType=Qt.Or,e.filters.push(i)),s&&typeof s=="string"&&s.length>10&&(i=new K,i.propertyName="id",i.value=s,i.searchType=qt.Equal,i.clauseType=Qt.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),yield bi(this.categoryService.ServiceGetAll(e)).then(l=>(this.dataModelResult=l,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),l.listItems))})}onActionSelect(s){this.optionDisabled||(this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(s){return this.filteredOptions.pipe(Mi(e=>(e.find(i=>i.id===s.id)||e.push(s),e)))}onActionSelectForce(s){if(typeof s=="string"&&s.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===s)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===s)){let e=this.dataModelResult.listItems.find(i=>i.id===s);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(s).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof s==typeof Ai){this.filteredOptions=this.push(s),this.dataModelSelect=s,this.formControl.setValue(s);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Ai,this.loadOptions()}};gn.nextId=0,gn.\u0275fac=function(e){return new(e||gn)(I(ie),I(N),I(O),I(G),I(F),I(ci))},gn.\u0275cmp=L({type:gn,selectors:[["app-data-provider-source-public-config-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:t1,decls:18,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=P();ji(),a(0,"div",1),C(1,"app-progress-spinner",2),b(2,i1,2,3,"label",3),a(3,"span",4),b(4,n1,2,4,"img",5),r(),C(5,"input",6),a(6,"mat-autocomplete",7,0),g("optionSelected",function(f){return p(t),m(i.onActionSelect(f.option.value))}),Ve(8,a1,4,4,"mat-option",8,Di),S(10,"async"),r(),b(11,r1,1,0,"i",9),b(12,l1,1,0,"i",10),b(13,s1,1,0,"i",11),a(14,"i",12),S(15,"translate"),g("click",function(){return p(t),m(i.onActionButtonReload())}),r(),b(16,d1,3,3,"em"),Ui(17),r()}if(e&2){let t=x(7);o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(),M((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),M(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),_("placeholder",R(i.optionPlaceholder))("id",Wt("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),He("disabled",i.optionDisabled?!0:null),o(),_("displayWith",i.displayFn),o(2),Be(h(10,20,i.filteredOptions)),o(3),M(i.formControl.valid?-1:11),o(),M(i.optionRequired&&i.formControl.valid?12:-1),o(),M((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?13:-1),o(),H("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),_("title",R(h(15,22,"ACTION.RELOAD"))),o(2),M(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0)?16:-1)}},dependencies:[$,ee,Ee,Bi,Ni,Fi,Gi,Yi,W,j,Fe,B,Ne],encapsulation:2});var ca=gn;var c1=["vform"];function p1(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",26),D("modelChange",function(t){p(e);let l=d();return E(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=d();w("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function m1(n,s){n&1&&C(0,"i",17)}function u1(n,s){n&1&&C(0,"i",18)}function f1(n,s){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function _1(n,s){n&1&&(a(0,"mat-error"),c(1," Description is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function S1(n,s){if(n&1){let e=P();a(0,"div",14)(1,"label",27),c(2),r(),a(3,"input",28,3),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.maxProcessFlowAmount,t)||(l.dataModel.maxProcessFlowAmount=t),m(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.maxProcessFlowAmount==null?null:e.fieldsInfo.maxProcessFlowAmount.fieldTitle),o(),w("ngModel",e.dataModel.maxProcessFlowAmount),_("disabled",!(e.fieldsInfo.maxProcessFlowAmount!=null&&e.fieldsInfo.maxProcessFlowAmount.accessAddField))}}function C1(n,s){if(n&1){let e=P();a(0,"div",14)(1,"label",29),c(2),r(),a(3,"input",30,4),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.minProcessFlowAmount,t)||(l.dataModel.minProcessFlowAmount=t),m(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.minProcessFlowAmount==null?null:e.fieldsInfo.minProcessFlowAmount.fieldTitle),o(),w("ngModel",e.dataModel.minProcessFlowAmount),_("disabled",!(e.fieldsInfo.minProcessFlowAmount!=null&&e.fieldsInfo.minProcessFlowAmount.accessAddField))}}function h1(n,s){if(n&1){let e=P();a(0,"div",14)(1,"label",31),c(2),r(),a(3,"input",32,5),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.fixFeeProcessFlowAmount,t)||(l.dataModel.fixFeeProcessFlowAmount=t),m(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.fixFeeProcessFlowAmount==null?null:e.fieldsInfo.fixFeeProcessFlowAmount.fieldTitle),o(),w("ngModel",e.dataModel.fixFeeProcessFlowAmount),_("disabled",!(e.fieldsInfo.fixFeeProcessFlowAmount!=null&&e.fieldsInfo.fixFeeProcessFlowAmount.accessAddField))}}function v1(n,s){if(n&1){let e=P();a(0,"div",14)(1,"label",33),c(2),r(),a(3,"input",34,6),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.percentFeeProcessFlowAmount,t)||(l.dataModel.percentFeeProcessFlowAmount=t),m(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.percentFeeProcessFlowAmount==null?null:e.fieldsInfo.percentFeeProcessFlowAmount.fieldTitle),o(),w("ngModel",e.dataModel.percentFeeProcessFlowAmount),_("disabled",!(e.fieldsInfo.percentFeeProcessFlowAmount!=null&&e.fieldsInfo.percentFeeProcessFlowAmount.accessAddField))}}function g1(n,s){if(n&1){let e=P();a(0,"div",25)(1,"button",35),g("click",function(){p(e);let t=d();return m(t.onFormCancel())}),C(2,"i",36),c(3),S(4,"translate"),r(),a(5,"button",37),C(6,"i",38),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(13);o(3),v(" ",h(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),v(" ",h(8,5,"ACTION.SAVE")," ")}}var pa=class pa extends St{constructor(e,i,t,l,f,u,k,J){super(l,new ri,u,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderSourcePathService=l;this.cmsToastrService=f;this.publicHelper=u;this.cdr=k;this.translate=J;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Y;this.dataModel=new ri;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),e&&e.linkSourceCompanyId&&(this.dataModel.linkSourceCompanyId=e.linkSourceCompanyId+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.requestId&&this.requestId.length>0?(this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e+" copy"}),this.DataClone()):this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataClone(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourcePathService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess?(this.dataModel=i.item,i.item.title=i.item.title+" copy",this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourcePathService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelectlinkSourceCompanyId(e){if(!e||e.id.length<=0){this.translate.get("MESSAGE.Service_company_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkSourceCompanyId=e.id}onActionSelectSource(e){this.dataModel.linkPublicConfigId=null,e&&e.id?.length>0&&(this.dataModel.linkPublicConfigId=e.id)}onFormSubmit(){if(this.formGroup.valid){if(!this.dataModel.linkSourceCompanyId||this.dataModel.linkSourceCompanyId.length==0){this.translate.get("MESSAGE.Service_company_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}if(!this.dataModel.linkPublicConfigId||this.dataModel.linkPublicConfigId.length==0){this.translate.get("MESSAGE.Service_type_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.formInfo.submitButtonEnabled=!1,this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};pa.\u0275fac=function(i){return new(i||pa)(I(se),I(le),I(ie),I(pi),I(N),I(G),I(O),I(F))},pa.\u0275cmp=L({type:pa,selectors:[["app-data-provider-source-path-add"]],viewQuery:function(i,t){if(i&1&&U(c1,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:46,vars:42,consts:[["vform","ngForm"],["Title",""],["Description",""],["MaxProcessFlowAmount",""],["MinProcessFlowAmount",""],["FixFeeProcessFlowAmount",""],["PercentFeeProcessFlowAmount",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.memo",1,"color-highlight"],["matInput","","name","dataModel.memo","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.memo",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.maxProcessFlowAmount",1,"color-highlight"],["matInput","","type","text","name","dataModel.maxProcessFlowAmount","type","number","placeholder","Currency Unit Ratio By Shop","id","dataModel.maxProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.minProcessFlowAmount",1,"color-highlight"],["matInput","","type","text","name","dataModel.minProcessFlowAmount","type","number","placeholder","Min Transaction Amount","id","dataModel.minProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.fixFeeProcessFlowAmount",1,"color-highlight"],["matInput","","type","text","name","dataModel.fixFeeProcessFlowAmount","type","number","placeholder","Max Transaction Amount","id","dataModel.fixFeeProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.percentFeeProcessFlowAmount",1,"color-highlight"],["matInput","","type","text","name","dataModel.percentFeeProcessFlowAmount","type","number","placeholder","Percent Fee Transaction Amount","id","dataModel.percentFeeProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",7),C(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),c(4),r(),a(5,"h4"),c(6),S(7,"translate"),r(),a(8,"p"),c(9),S(10,"translate"),r(),C(11,"app-cms-form-result-message",11),a(12,"form",12,0),g("ngSubmit",function(){return p(l),m(t.onFormSubmit())}),b(14,p1,1,5,"app-cms-enum-record-status-selector",13),a(15,"div",14)(16,"label",15),c(17),r(),a(18,"input",16,1),D("ngModelChange",function(u){return p(l),E(t.dataModel.title,u)||(t.dataModel.title=u),m(u)}),r(),b(20,m1,1,0,"i",17),b(21,u1,1,0,"i",18),a(22,"em"),c(23),r(),b(24,f1,5,3,"mat-error"),r(),a(25,"app-data-provider-source-company-selector",19),S(26,"translate"),g("optionChange",function(u){return p(l),m(t.onActionSelectorSelectlinkSourceCompanyId(u))}),r(),a(27,"app-data-provider-source-public-config-selector",20),S(28,"translate"),g("optionChange",function(u){return p(l),m(t.onActionSelectSource(u))}),r(),a(29,"div",14)(30,"label",21),c(31),r(),a(32,"textarea",22,2),D("ngModelChange",function(u){return p(l),E(t.dataModel.description,u)||(t.dataModel.description=u),m(u)}),r(),a(34,"em"),c(35),r(),b(36,_1,5,3,"mat-error"),r(),b(37,S1,5,3,"div",14),b(38,C1,5,3,"div",14),b(39,h1,5,3,"div",14),b(40,v1,5,3,"div",14),a(41,"div",14)(42,"label",23),c(43),r(),a(44,"textarea",24),D("ngModelChange",function(u){return p(l),E(t.dataModel.memo,u)||(t.dataModel.memo=u),m(u)}),r()(),b(45,g1,9,7,"div",25),r()()()}if(i&2){let l=x(19),f=x(33);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v(" ",t.formInfo.formTitle," "),o(2),A(h(7,34,"TITLE.ROUTE_SETTINGS")),o(3),v(" ",h(10,36,"TITLE.ROUTE_SETTINGS_DESCRIPTION")," "),o(2),_("formInfo",t.formInfo),o(3),M(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?14:-1),o(3),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.title),o(2),M(l.value?-1:20),o(),M(l.value?21:-1),o(2),v("",l.value.length," / 100"),o(),M(l.errors!=null&&l.errors.required?24:-1),o(),_("optionSelectForce",t.dataModel.linkSourceCompanyId)("optionPlaceholder",h(26,38,"TITLE.Service_Company")),o(2),_("optionDisabled",!(t.fieldsInfo.linkPublicConfigId!=null&&t.fieldsInfo.linkPublicConfigId.accessAddField))("optionSelectForce",t.dataModel.linkPublicConfigId)("optionPlaceholder",h(28,40,"TITLE.Account_Type")),o(4),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.description),o(3),v("",f.value.length," / 500"),o(),M(f.errors!=null&&f.errors.required?36:-1),o(),M(t.fieldsInfo.maxProcessFlowAmount!=null&&t.fieldsInfo.maxProcessFlowAmount.accessWatchField?37:-1),o(),M(t.fieldsInfo.minProcessFlowAmount!=null&&t.fieldsInfo.minProcessFlowAmount.accessWatchField?38:-1),o(),M(t.fieldsInfo.fixFeeProcessFlowAmount!=null&&t.fieldsInfo.fixFeeProcessFlowAmount.accessWatchField?39:-1),o(),M(t.fieldsInfo.percentFeeProcessFlowAmount!=null&&t.fieldsInfo.percentFeeProcessFlowAmount.accessWatchField?40:-1),o(3),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.memo),o(),M(t.formInfo.submitButtonEnabled?45:-1)}},dependencies:[ve,$,Vi,ee,Ce,Ee,De,ye,ce,he,qe,W,ge,j,Se,ti,da,ca,B],encapsulation:2});var bn=pa;function b1(n,s){if(n&1){let e=P();a(0,"button",10),g("click",function(){p(e);let t=d();return m(t.onActionButtonReload())}),a(1,"mat-icon",11),S(2,"translate"),c(3,"refresh"),r()()}if(n&2){let e=d();o(),H("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),_("title",R(h(2,4,"ACTION.RELOAD")))}}function M1(n,s){if(n&1){let e=P();a(0,"mat-tree-node",12),C(1,"button",13),a(2,"span",14),g("click",function(){let t=p(e).$implicit,l=d();return m(l.onActionSelect(t))}),C(3,"img",15),c(4),r()()}if(n&2){let e=s.$implicit,i=d();H("ntk-tree-selected",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),o(3),_("src",R(e.linkMainImageIdSrc),oe),o(),v("\xA0",e.title)}}function I1(n,s){if(n&1){let e=P();a(0,"mat-tree-node",16)(1,"button",17)(2,"mat-icon",18),c(3),r()(),a(4,"span",14),g("click",function(){let t=p(e).$implicit,l=d();return m(l.onActionSelect(t))}),C(5,"img",15),c(6),r()()}if(n&2){let e=s.$implicit,i=d(),t=x(7);H("ntk-tree-selected",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),_("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),He("type","button")("aria-label","Toggle "+e.title),o(2),v(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),_("src",R(e.linkMainImageIdSrc),oe),o(),v("\xA0",e.title)}}var ma=class ma{constructor(s,e,i,t,l,f,u,k,J){this.cmsToastrService=s;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=l;this.publicHelper=f;this.tokenHelper=u;this.cmsStoreService=k;this.translate=J;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new Yt;this.dataModelResult=new Y;this.filterModel=new re;this.dataSource=new eo;this.optionChange=new xt;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(s,e)=>!1;this.childrenAccessor=s=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(s=>Pe(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onActionSelect(s){s&&this.dataModelSelect&&s.id==this.dataModelSelect.id?(this.dataModelSelect=null,this.optionChange.emit(null)):(this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect))}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Yt,this.DataGetAll()}onActionSelectForce(s){}};ma.\u0275fac=function(e){return new(e||ma)(I(N),I(ie),I($t),I(je),I(O),I(G),I(ze),I(Qe),I(F))},ma.\u0275cmp=L({type:ma,selectors:[["app-data-provider-source-company-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:11,vars:11,consts:[["treeTagControl",""],[3,"optionListTitle","optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-action",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(a(0,"app-cms-html-tree",1),S(1,"translate"),y(2,2),b(3,b1,4,6,"button",3),T(),y(4,4),C(5,"app-progress-spinner",5),a(6,"mat-tree",6,0),V(8,M1,5,5,"mat-tree-node",7)(9,I1,7,10,"mat-tree-node",8),r(),T(),Me(10,9),r()),e&2&&(_("optionListTitle",h(1,9,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName)))("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(3),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow?3:-1),o(2),_("optionsInfoAreaId",i.constructorInfoAreaId),o(),_("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),_("matTreeNodeDefWhen",i.hasChild))},dependencies:[$e,Je,Xn,Yn,$n,Zn,Jn,j,io,B],encapsulation:2});var ua=ma;var w1=()=>[5,10,20,100],E1=(n,s)=>s.id;function D1(n,s){if(n&1){let e=P();a(0,"a",29),g("click",function(){p(e);let t=d();return m(t.onActionBackToParent())}),C(1,"i",30),r()}}function y1(n,s){if(n&1){let e=P();a(0,"div",18)(1,"a",31),g("click",function(){p(e);let t=d();return m(t.onActionButtonNewRow())}),C(2,"i",32)(3,"br"),r(),a(4,"p",33),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.ADD")," "))}function T1(n,s){if(n&1){let e=P();a(0,"div",18)(1,"a",34),g("click",function(){p(e);let t=d();return m(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",35)(3,"br"),r(),a(4,"p",33),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.EDIT")," "))}function A1(n,s){if(n&1){let e=P();a(0,"div",18)(1,"a",36),g("click",function(){p(e);let t=d();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",37)(3,"br"),r(),a(4,"p",33),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.DELETE")," "))}function R1(n,s){if(n&1){let e=P();a(0,"div",18)(1,"a",8),g("click",function(){p(e);let t=d();return m(t.onActionButtonSendTest(t.tableRowSelected))}),C(2,"i",38)(3,"br"),r(),a(4,"p",33),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.SEND_TEST")," "))}function x1(n,s){if(n&1){let e=P();a(0,"div",18)(1,"a",8),g("click",function(t){p(e);let l=d();return m(l.onActionButtonSendMessage(l.tableRowSelected,t))}),C(2,"i",39)(3,"br"),r(),a(4,"p",33),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.SEND_MESSAGE")," "))}function k1(n,s){if(n&1){let e=P();a(0,"div",18)(1,"a",31),g("click",function(){p(e);let t=d();return m(t.onActionButtonGetBalance(t.tableRowSelected))}),C(2,"i",40)(3,"br"),r(),a(4,"p",33),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.GET_BALANCE")," "))}function L1(n,s){if(n&1){let e=P();a(0,"div",18)(1,"a",8),g("click",function(){p(e);let t=d();return m(t.onActionButtonReportsRow(t.tableRowSelected))}),C(2,"i",41)(3,"br"),r(),a(4,"p",33),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.REPORTS")," "))}function V1(n,s){if(n&1&&(a(0,"div",42),C(1,"i",43),a(2,"span"),c(3),S(4,"translate"),S(5,"translate"),r()()),n&2){let e=d();xr("transform","translateY("+(e.pullToRefreshState.pullDistance>80?80:e.pullToRefreshState.pullDistance)+"px)"),H("refreshing",e.pullToRefreshState.isRefreshing),o(),H("rotation360",e.pullToRefreshState.isRefreshing),o(2),A(e.pullToRefreshState.isRefreshing?h(4,7,"ACTION.RELOADING"):h(5,9,"ACTION.PULL_TO_REFRESH"))}}function B1(n,s){if(n&1&&(a(0,"div",51),C(1,"i",53),c(2),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",e.id," ")}}function F1(n,s){if(n&1&&(a(0,"div",51),C(1,"i",54),c(2),S(3,"cmstitle"),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.linkSourceCompanyId==null?null:i.fieldsInfo.linkSourceCompanyId.fieldTitle,": ",di(3,2,e.linkSourceCompanyId,i.dataModelCompanyResult.listItems)," ")}}function O1(n,s){if(n&1&&(a(0,"div",51),C(1,"i",55),c(2),S(3,"cmstitle"),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.linkPublicConfigId==null?null:i.fieldsInfo.linkPublicConfigId.fieldTitle,": ",di(3,2,e.linkPublicConfigId,i.dataModelPublicResult.listItems)," ")}}function N1(n,s){if(n&1&&(a(0,"div",51),C(1,"i",56),c(2),S(3,"localeDate"),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",h(3,2,e.createdDate)," ")}}function G1(n,s){if(n&1&&C(0,"select",58),n&2){let e=d(2).$implicit,i=d(2);_("contentService",i.contentService)("row",e)}}function H1(n,s){if(n&1&&(a(0,"div",51),C(1,"i",57),S(2,"statusIconClass"),b(3,G1,1,2,"select",58),r()),n&2){let e=d().$implicit,i=d(2);o(),_("ngClass",h(2,2,e.recordStatus)),o(2),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function W1(n,s){if(n&1&&(a(0,"div",51),C(1,"i",61),c(2),S(3,"localeDate"),r()),n&2){let e=d(2).$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",h(3,2,e.updatedDate)," ")}}function q1(n,s){if(n&1){let e=P();a(0,"div",52),b(1,W1,4,4,"div",51),a(2,"div",51)(3,"span",59),g("click",function(t){return p(e),d(3).onActionCopied(),m(t.stopPropagation())}),C(4,"i",60),r(),c(5),r()()}if(n&2){let e=d().$implicit;o(),M(e.updatedDate?1:-1),o(2),_("cdkCopyToClipboard",e.id.toString()),o(2),v(" ID: ",e.id," ")}}function j1(n,s){if(n&1){let e=P();a(0,"div",45)(1,"div",46),g("click",function(t){let l=p(e).$implicit,f=d(2);return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,f=d(2);return m(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=p(e).$implicit,l=d(2);return m(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,l=d(2);return m(l.onActionTableRowMouseLeave(t))})("touchstart",function(t){let l=p(e).$implicit,f=d(2);return m(f.onItemTouchStart(t,l.id))})("touchmove",function(t){let l=p(e).$implicit,f=d(2);return m(f.onItemTouchMove(t,l.id))})("touchend",function(t){let l=p(e).$implicit,f=d(2);return m(f.onItemTouchEnd(t,l.id))}),a(2,"div",47),C(3,"i",48),S(4,"statusIconClass"),r(),a(5,"div",49)(6,"div",50),c(7),r(),b(8,B1,3,2,"div",51),b(9,F1,4,5,"div",51),b(10,O1,4,5,"div",51),b(11,N1,4,4,"div",51),b(12,H1,4,4,"div",51),b(13,q1,6,3,"div",52),r()()()}if(n&2){let e,i=s.$implicit,t=d(2);xr("transform","translateX("+(((e=t.swipeState.get(i.id))==null?null:e.offset)||0)+"px)"),o(),H("selected",i.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))("bg-fade-highlight-light",i.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),He("aria-label",i.title||i.id),o(2),_("ngClass",h(4,15,i.recordStatus)),o(4),v(" ",i.title||"ID: "+i.id," "),o(),M(i.id?8:-1),o(),M(i.linkSourceCompanyId?9:-1),o(),M(i.linkPublicConfigId?10:-1),o(),M(i.createdDate?11:-1),o(),M(i.recordStatus!==void 0?12:-1),o(),M(t.getRowExpanded(i)?13:-1)}}function U1(n,s){if(n&1&&(a(0,"div",25),Ve(1,j1,14,17,"div",44,E1),r()),n&2){let e=d();o(),Be(e.dataModelResult.listItems)}}function Q1(n,s){n&1&&(a(0,"div",26)(1,"div",62),C(2,"i",63),r(),a(3,"div",64),c(4),S(5,"translate"),r()()),n&2&&(o(4),v(" ",h(5,1,"MESSAGE.no_information")," "))}var fa=class fa extends ht{constructor(e,i,t,l,f,u,k,J,Ge,tt,Ke,ct,ai,jn){super(e,new ri,ai,J,tt);this.contentService=e;this.dataProviderSourceCompanyService=i;this.dataProviderSourcePublicConfigService=t;this.activatedRoute=l;this.cmsToastrService=f;this.cmsConfirmationDialogService=u;this.router=k;this.tokenHelper=J;this.cdr=Ge;this.translate=tt;this.cmsStoreService=Ke;this.pageInfo=ct;this.publicHelper=ai;this.dialog=jn;this.actionMenuOpen=null;this.requestLinkSiteId=0;this.requestLinkCompanyId="";this.requestLinkPublicConfigId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new re;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new Y;this.dataModelCompanyResult=new Y;this.dataModelPublicResult=new Y;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","recordStatus","title","linkSourceCompanyId","LinkPublicConfigId","position"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","recordStatus","title","linkSourceCompanyId","LinkPublicConfigId","position"];this.unsubscribe=[];this.pullToRefreshState={isRefreshing:!1,startY:0,currentY:0,pullDistance:0,threshold:80};this.Math=Math;this.swipeState=new Map;this.SWIPE_THRESHOLD=100;this.SWIPE_MAX_OFFSET=120;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:In=>this.onSubmitOptionsSearch(In)},this.filteModelContent.sortColumn="priority",this.filteModelContent.sortType=ae.Ascending}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(e){return e.expanded===!0}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkCompanyId")&&(this.requestLinkCompanyId=this.activatedRoute.snapshot.paramMap.get("LinkCompanyId")),this.activatedRoute.snapshot.paramMap.get("LinkSiteId")&&(this.requestLinkSiteId=+this.activatedRoute.snapshot.paramMap.get("LinkSiteId")||0),this.activatedRoute.snapshot.paramMap.get("LinkPublicConfigId")&&(this.requestLinkPublicConfigId=this.activatedRoute.snapshot.paramMap.get("LinkPublicConfigId"));let e=new K;if(this.requestLinkPublicConfigId?.length>0&&(e.propertyName="LinkPublicConfigId",e.value=this.requestLinkPublicConfigId,this.filteModelContent.filters.push(e)),this.requestLinkCompanyId.length>0){let i=new K;i.propertyName="linkSourceCompanyId",i.value=this.requestLinkCompanyId,this.filteModelContent.filters.push(i)}if(this.requestLinkSiteId>0){let i=new K;i.propertyName="linkSiteId",i.value=this.requestLinkSiteId,this.filteModelContent.filters.push(i)}this.filteModelContent.sortColumn="priority",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>Pe(this,null,function*(){this.tokenInfo=i,this.DataGetAll()}))),this.getApiCopmanyList(),this.getPublicConfig()}getPublicConfig(){let e=new re;e.rowPerPage=100,this.dataProviderSourcePublicConfigService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPublicResult=i}})}getApiCopmanyList(){let e=new re;e.rowPerPage=100,this.dataProviderSourceCompanyService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCompanyResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,["position"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ri);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new K;t.propertyName="linkSourceCompanyId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onTableDropRow(e){let i=this.tableSource.data.findIndex(l=>l===e.item.data),t=new Fa;t.id=this.tableSource.data[i].id,t.centerId=this.tableSource.data[e.currentIndex].id,i>e.currentIndex?t.actionGo=Qn.GoUp:t.actionGo=Qn.GoDown,this.contentService.ServiceEditStep(t).subscribe({next:l=>{l.isSuccess?(Na(this.tableSource.data,i,e.currentIndex),this.tableSource.data=this.tableSource.data.slice()):this.cmsToastrService.typeErrorMessage(l.errorMessage)},error:l=>{this.cmsToastrService.typeError(l)}})}onActionButtonNewRow(){if((!this.requestLinkCompanyId||this.requestLinkCompanyId&&this.requestLinkCompanyId.length==0)&&(this.categoryModelSelected==null||this.categoryModelSelected.id.length===0)){this.translate.get("MESSAGE.Company_not_selected").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.categoryModelSelected&&this.categoryModelSelected.id.length>0&&(e=this.categoryModelSelected.id),this.requestLinkCompanyId&&this.requestLinkCompanyId.length>0&&(e=this.requestLinkCompanyId);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(bn,{height:"90%",panelClass:i,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{linkSourceCompanyId:e}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/data-provider/main/source-path/edit",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(u=>{this.publicHelper.processService.processStart(f,u,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:u=>{u.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new re,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.filteModelContent.sortColumn="priority",this.categoryModelSelected=e,this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(u=>{i.set(u,0)}),this.translate.get("MESSAGE.All").subscribe(u=>{i.set(u,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(u=>{this.publicHelper.processService.processStart(t,u,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:u=>{u.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(u.errorMessage),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new K;f.propertyName="recordStatus",f.value=pt.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:u=>{u.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(u.errorMessage),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonGetBalance(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}let i=this.constructor.name+"GetBalance";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)})}onActionButtonSendMessage(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/data-provider/action/send-message/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/action/send-message/LinkApiPathId",this.tableRowSelected.id])}onActionButtonNumbersList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/data-provider/main/api-number/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/main/api-number/LinkApiPathId",this.tableRowSelected.id])}onActionButtonPermitionList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/data-provider/main/source-path-permission/LinkApiPathId",this.tableRowSelected.id])}onActionButtonOutBoxQueue(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/data-provider/log/outbox-queue/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/log/outbox-queue/LinkApiPathId",this.tableRowSelected.id])}onActionButtonCopy(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessAdd();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(bn,{height:"90%",panelClass:i,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonPriceServicesList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/data-provider/main/source-path-pagination/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/main/source-path-pagination/LinkApiPathId",this.tableRowSelected.id])}onActionButtonSendTest(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e)}onActionButtonReportsRow(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}if(i?.ctrlKey){let t="/#/data-provider/log/source-path/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/log/source-path/LinkApiPathId",this.tableRowSelected.id])}onActionButtonReload(){this.filteModelContent.sortColumn="priority",this.DataGetAll()}onItemTouchStart(e,i){e.stopPropagation();let t=e.touches[0];this.swipeState.set(i,{startX:t.clientX,currentX:t.clientX,offset:0})}onItemTouchMove(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let l=e.touches[0];t.currentX=l.clientX;let f=t.currentX-t.startX,u=document.documentElement.dir==="rtl",k=u?this.SWIPE_MAX_OFFSET:-this.SWIPE_MAX_OFFSET,J=u?-this.SWIPE_MAX_OFFSET:this.SWIPE_MAX_OFFSET;t.offset=Math.max(J,Math.min(k,f))}onItemTouchEnd(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let l=document.documentElement.dir==="rtl",f=l?this.SWIPE_THRESHOLD:-this.SWIPE_THRESHOLD;l&&t.offset>f||!l&&t.offset<f||(t.offset=0),this.swipeState.set(i,t)}onTouchStart(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&(this.pullToRefreshState.startY=e.touches[0].clientY,this.pullToRefreshState.isRefreshing=!1)}onTouchMove(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&this.pullToRefreshState.startY>0&&(this.pullToRefreshState.currentY=e.touches[0].clientY,this.pullToRefreshState.pullDistance=Math.max(0,this.pullToRefreshState.currentY-this.pullToRefreshState.startY),this.pullToRefreshState.pullDistance>10&&e.preventDefault())}onTouchEnd(e){this.pullToRefreshState.pullDistance>=this.pullToRefreshState.threshold&&!this.pullToRefreshState.isRefreshing?(this.pullToRefreshState.isRefreshing=!0,this.onActionButtonReload(),setTimeout(()=>{this.pullToRefreshState.isRefreshing=!1,this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0},1e3)):(this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0)}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/data-provider/main/source-path-company"])}};fa.\u0275fac=function(i){return new(i||fa)(I(pi),I($t),I(ci),I(Ut),I(N),I(zt),I(Ze),I(ze),I(O),I(F),I(Qe),I(_t),I(G),I(je))},fa.\u0275cmp=L({type:fa,selectors:[["app-data-provider-source-path-list-mobile"]],hostBindings:function(i,t){i&1&&g("click",function(f){return t.onDocumentClick(f)},Mt)},standalone:!1,features:[q],decls:44,vars:36,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-pull-refresh-indicator",3,"transform","refreshing"],[1,"cms-m-content",3,"touchstart","touchmove","touchend"],[1,"cms-m-list"],[1,"cms-m-empty-state"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-paper-plane-top","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-receipt","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-dollar","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-file-chart-column","font-18",2,"color","#ffffff"],[1,"cms-m-pull-refresh-indicator"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],[1,"cms-m-list-item-wrapper",3,"transform"],[1,"cms-m-list-item-wrapper"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave","touchstart","touchmove","touchend"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-building"],["aria-hidden","true",1,"fa-solid","fa-cog"],["aria-hidden","true",1,"fa-solid","fa-calendar"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"],[1,"cms-m-empty-state-icon"],["aria-hidden","true",1,"fa-solid","fa-inbox"],[1,"cms-m-empty-state-text"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list-mobile",1),D("optionActionGuideNoticeDisplayChange",function(u){return p(l),E(t.viewGuideNotice,u)||(t.viewGuideNotice=u),m(u)}),g("optionOnActionButtonMemoRow",function(){return p(l),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(l),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(l),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(l),m(t.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return p(l),m(t.onActionLoadNextPage())}),y(1,2),a(2,"app-data-provider-source-company-tree",3),g("optionChange",function(u){return p(l),m(t.onActionSelectorSelect(u))}),r(),T(),Me(3,4)(4,5),y(5,6),b(6,D1,2,0,"a",7),a(7,"a",8),g("click",function(){return p(l),m(t.viewGuideNotice=!t.viewGuideNotice)}),C(8,"i",9),r(),a(9,"a",8),g("click",function(){return p(l),m(t.onActionButtonReload())}),C(10,"i",10),r(),a(11,"a",11),g("click",function(){return p(l),m(t.onActionGridExpandRows(!0))}),C(12,"i",12),r(),a(13,"a",11),g("click",function(){return p(l),m(t.onActionGridExpandRows(!1))}),C(14,"i",13),r(),T(),y(15,14),a(16,"a",15),g("click",function(){return p(l),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(17,"mat-slide-toggle",16),c(18),S(19,"translate"),r(),a(20,"a",15),g("click",function(){return p(l),m(t.onActionButtonStatist())}),C(21,"mat-slide-toggle",16),c(22),S(23,"translate"),r(),T(),y(24,17),b(25,y1,7,3,"div",18),T(),y(26,19),b(27,T1,7,3,"div",18),b(28,A1,7,3,"div",18),b(29,R1,7,3,"div",18),b(30,x1,7,3,"div",18),b(31,k1,7,3,"div",18),b(32,L1,7,3,"div",18),T(),y(33,20),a(34,"app-cms-search-list",21),D("optionsChange",function(u){return p(l),E(t.optionsSearch,u)||(t.optionsSearch=u),m(u)}),r(),a(35,"app-cms-statist-list",21),D("optionsChange",function(u){return p(l),E(t.optionsStatist,u)||(t.optionsStatist=u),m(u)}),r(),T(),y(36,22),b(37,V1,6,11,"div",23),a(38,"div",24),g("touchstart",function(u){return p(l),m(t.onTouchStart(u))})("touchmove",function(u){return p(l),m(t.onTouchMove(u))})("touchend",function(u){return p(l),m(t.onTouchEnd(u))}),b(39,U1,3,0,"div",25)(40,Q1,6,3,"div",26),r(),T(),y(41,27),a(42,"mat-paginator",28,0),g("page",function(u){return p(l),m(t.onTablePageingData(u))}),r(),T(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","data-provider.main.source-path.list"),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!t.requestLinkCompanyId||t.requestLinkCompanyId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(6),M((t.requestLinkCompanyId==null?null:t.requestLinkCompanyId.length)>0?6:-1),o(4),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),_("checked",t.optionsSearch.data.show),o(),v("",h(19,31,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),v("",h(23,33,"ACTION.STATIST")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?25:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?27:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?28:-1),o(),M((t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?29:-1),o(),M((t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?30:-1),o(),M((t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?31:-1),o(),M((t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?32:-1),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),M(t.pullToRefreshState.pullDistance>0?37:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?39:40),o(3),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(35,w1)))},dependencies:[we,W,pe,Te,Ye,Ae,Re,kt,ke,Xe,ua,B,Ka,dt,xe],encapsulation:2});var Mr=fa;var z1=["vform"];function K1(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",15),D("modelChange",function(t){p(e);let l=d();return E(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=d();w("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function J1(n,s){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function X1(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",16),c(2),r(),a(3,"input",17,1),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.title,t)||(l.dataModel.title=t),m(t)}),r(),a(5,"em"),c(6),r(),b(7,J1,5,3,"mat-error"),r()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),o(3),v("",e.value.length," / 128"),o(),M(e.errors!=null&&e.errors.required?7:-1)}}function Y1(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",18),c(2),r(),a(3,"input",19,2),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.className,t)||(l.dataModel.className=t),m(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.className==null?null:e.fieldsInfo.className.fieldTitle),o(),_("placeholder",R(e.fieldsInfo.className==null?null:e.fieldsInfo.className.fieldTitle)),w("ngModel",e.dataModel.className)}}function Z1(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",20),c(2),r(),a(3,"input",21,3),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.webServiceUrl,t)||(l.dataModel.webServiceUrl=t),m(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.webServiceUrl==null?null:e.fieldsInfo.webServiceUrl.fieldTitle),o(),_("placeholder",R(e.fieldsInfo.webServiceUrl==null?null:e.fieldsInfo.webServiceUrl.fieldTitle)),w("ngModel",e.dataModel.webServiceUrl)}}function $1(n,s){if(n&1){let e=P();a(0,"div",13)(1,"div",22)(2,"h5",23),c(3),r()(),a(4,"div",24)(5,"div",25)(6,"input",26),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.abilityDelivery,t)||(l.dataModel.abilityDelivery=t),m(t)}),r(),C(7,"label",27),r()()()}if(n&2){let e=d();o(3),v(" ",e.fieldsInfo.abilityDelivery==null?null:e.fieldsInfo.abilityDelivery.fieldTitle," "),o(3),w("ngModel",e.dataModel.abilityDelivery)}}function ev(n,s){if(n&1){let e=P();a(0,"div",13)(1,"div",22)(2,"h5",23),c(3),r()(),a(4,"div",24)(5,"div",25)(6,"input",28),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.abilityReceive,t)||(l.dataModel.abilityReceive=t),m(t)}),r(),C(7,"label",29),r()()()}if(n&2){let e=d();o(3),v(" ",e.fieldsInfo.abilityReceive==null?null:e.fieldsInfo.abilityReceive.fieldTitle," "),o(3),w("ngModel",e.dataModel.abilityReceive)}}function tv(n,s){if(n&1){let e=P();a(0,"div",13)(1,"div",22)(2,"h5",23),c(3),r()(),a(4,"div",24)(5,"div",25)(6,"input",30),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.abilityCreditCheck,t)||(l.dataModel.abilityCreditCheck=t),m(t)}),r(),C(7,"label",31),r()()()}if(n&2){let e=d();o(3),v(" ",e.fieldsInfo.abilityCreditCheck==null?null:e.fieldsInfo.abilityCreditCheck.fieldTitle," "),o(3),w("ngModel",e.dataModel.abilityCreditCheck)}}function iv(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",32),c(2),r(),a(3,"textarea",33,4),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.memo,t)||(l.dataModel.memo=t),m(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.memo==null?null:e.fieldsInfo.memo.fieldTitle),o(),w("ngModel",e.dataModel.memo)}}function nv(n,s){if(n&1){let e=P();a(0,"div",14)(1,"button",34),g("click",function(){p(e);let t=d();return m(t.onFormCancel())}),C(2,"i",35),c(3),S(4,"translate"),r(),a(5,"button",36),C(6,"i",37),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),v(" ",h(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),v(" ",h(8,5,"ACTION.SAVE")," ")}}var _a=class _a extends St{constructor(e,i,t,l,f,u,k,J){super(l,new Ai,u,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderSourcePublicConfigService=l;this.cmsToastrService=f;this.publicHelper=u;this.cdr=k;this.translate=J;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Y;this.dataModel=new Ai;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourcePublicConfigService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};_a.\u0275fac=function(i){return new(i||_a)(I(se),I(le),I(ie),I(ci),I(N),I(G),I(O),I(F))},_a.\u0275cmp=L({type:_a,selectors:[["app-data-provider-source-public-config-add"]],viewQuery:function(i,t){if(i&1&&U(z1,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:20,vars:15,consts:[["vform","ngForm"],["Title",""],["ClassName",""],["WebServiceUrl",""],["Memo",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"d-flex","mb-3"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","128","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.className",1,"color-highlight"],["matInput","","type","text","name","dataModel.className","id","dataModel.className",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.webServiceUrl",1,"color-highlight"],["matInput","","type","text","name","dataModel.webServiceUrl","id","dataModel.webServiceUrl",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"pt-1"],[1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.abilityDelivery","name","dataModel.abilityDelivery",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityDelivery",1,"custom-control-label"],["type","checkbox","id","dataModel.abilityReceive","name","dataModel.abilityReceive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityReceive",1,"custom-control-label"],["type","checkbox","id","dataModel.abilityCreditCheck","name","dataModel.abilityCreditCheck",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityCreditCheck",1,"custom-control-label"],["for","dataModel.memo",1,"color-highlight"],["matInput","","name","dataModel.memo","rows","5","id","dataModel.memo",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",5),C(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),c(4),r(),a(5,"h4"),c(6),S(7,"translate"),r(),C(8,"app-cms-form-result-message",9),a(9,"form",10,0),g("ngSubmit",function(){return p(l),m(t.onFormSubmit())}),b(11,K1,1,5,"app-cms-enum-record-status-selector",11),b(12,X1,8,6,"div",12),b(13,Y1,5,4,"div",12),b(14,Z1,5,4,"div",12),b(15,$1,8,2,"div",13),b(16,ev,8,2,"div",13),b(17,tv,8,2,"div",13),b(18,iv,5,2,"div",12),b(19,nv,9,7,"div",14),r()()()}i&2&&(o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v(" ",t.formInfo.formTitle," "),o(2),A(h(7,13,"TITLE.DATA_PROVIDER_SOURCE_PUBLIC_CONFIG")),o(2),_("formInfo",t.formInfo),o(3),M(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),M(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?12:-1),o(),M(t.fieldsInfo.className!=null&&t.fieldsInfo.className.accessWatchField?13:-1),o(),M(t.fieldsInfo.webServiceUrl!=null&&t.fieldsInfo.webServiceUrl.accessWatchField?14:-1),o(),M(t.fieldsInfo.abilityDelivery!=null&&t.fieldsInfo.abilityDelivery.accessWatchField?15:-1),o(),M(t.fieldsInfo.abilityReceive!=null&&t.fieldsInfo.abilityReceive.accessWatchField?16:-1),o(),M(t.fieldsInfo.abilityCreditCheck!=null&&t.fieldsInfo.abilityCreditCheck.accessWatchField?17:-1),o(),M(t.fieldsInfo.memo!=null&&t.fieldsInfo.memo.accessWatchField?18:-1),o(),M(t.formInfo.submitButtonEnabled?19:-1))},dependencies:[ve,$,Li,ee,Ce,Ee,De,ye,ce,he,qe,W,ge,j,Se,B],encapsulation:2});var Ir=_a;var av=["vform"];function rv(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",16),D("modelChange",function(t){p(e);let l=d();return E(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=d();w("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function lv(n,s){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function sv(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",17),c(2),r(),a(3,"input",18,1),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.title,t)||(l.dataModel.title=t),m(t)}),r(),a(5,"em"),c(6),r(),b(7,lv,5,3,"mat-error"),r()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),o(3),v("",e.value.length," / 128"),o(),M(e.errors!=null&&e.errors.required?7:-1)}}function dv(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",19),c(2),r(),a(3,"input",20,2),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.className,t)||(l.dataModel.className=t),m(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.className==null?null:e.fieldsInfo.className.fieldTitle),o(),_("placeholder",R(e.fieldsInfo.className==null?null:e.fieldsInfo.className.fieldTitle)),w("ngModel",e.dataModel.className)}}function cv(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",21),c(2),r(),a(3,"input",22,3),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.webServiceUrl,t)||(l.dataModel.webServiceUrl=t),m(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.webServiceUrl==null?null:e.fieldsInfo.webServiceUrl.fieldTitle),o(),_("placeholder",R(e.fieldsInfo.webServiceUrl==null?null:e.fieldsInfo.webServiceUrl.fieldTitle)),w("ngModel",e.dataModel.webServiceUrl)}}function pv(n,s){if(n&1){let e=P();a(0,"div",13)(1,"div",23)(2,"h5",24),c(3),r()(),a(4,"div",25)(5,"div",26)(6,"input",27),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.abilityDelivery,t)||(l.dataModel.abilityDelivery=t),m(t)}),r(),C(7,"label",28),r()()()}if(n&2){let e=d();o(3),v(" ",e.fieldsInfo.abilityDelivery==null?null:e.fieldsInfo.abilityDelivery.fieldTitle," "),o(3),w("ngModel",e.dataModel.abilityDelivery)}}function mv(n,s){if(n&1){let e=P();a(0,"div",13)(1,"div",23)(2,"h5",24),c(3),r()(),a(4,"div",25)(5,"div",26)(6,"input",29),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.abilityReceive,t)||(l.dataModel.abilityReceive=t),m(t)}),r(),C(7,"label",30),r()()()}if(n&2){let e=d();o(3),v(" ",e.fieldsInfo.abilityReceive==null?null:e.fieldsInfo.abilityReceive.fieldTitle," "),o(3),w("ngModel",e.dataModel.abilityReceive)}}function uv(n,s){if(n&1){let e=P();a(0,"div",13)(1,"div",23)(2,"h5",24),c(3),r()(),a(4,"div",25)(5,"div",26)(6,"input",31),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.abilityCreditCheck,t)||(l.dataModel.abilityCreditCheck=t),m(t)}),r(),C(7,"label",32),r()()()}if(n&2){let e=d();o(3),v(" ",e.fieldsInfo.abilityCreditCheck==null?null:e.fieldsInfo.abilityCreditCheck.fieldTitle," "),o(3),w("ngModel",e.dataModel.abilityCreditCheck)}}function fv(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",33),c(2),r(),a(3,"textarea",34,4),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.memo,t)||(l.dataModel.memo=t),m(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.memo==null?null:e.fieldsInfo.memo.fieldTitle),o(),w("ngModel",e.dataModel.memo)}}function _v(n,s){if(n&1){let e=P();a(0,"div",15)(1,"button",35),g("click",function(){p(e);let t=d();return m(t.onFormCancel())}),C(2,"i",36),c(3),S(4,"translate"),r(),a(5,"button",37),C(6,"i",38),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),v(" ",h(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),v(" ",h(8,5,"ACTION.SAVE")," ")}}var Sa=class Sa extends Ct{constructor(e,i,t,l,f,u,k,J){super(l,new Ai,u,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderSourcePublicConfigService=l;this.cmsToastrService=f;this.publicHelper=u;this.cdr=k;this.translate=J;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new mt;this.dataModel=new Kr;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourcePublicConfigService.setAccessLoad(),this.dataProviderSourcePublicConfigService.setAccessDataType(Oe.Editor),this.dataProviderSourcePublicConfigService.ServiceGetOneWithJsonFormatter(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourcePublicConfigService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Sa.\u0275fac=function(i){return new(i||Sa)(I(se),I(le),I(ie),I(ci),I(N),I(G),I(O),I(F))},Sa.\u0275cmp=L({type:Sa,selectors:[["app-data-provider-source-public-config-edit"]],viewQuery:function(i,t){if(i&1&&U(av,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:21,vars:18,consts:[["vform","ngForm"],["Title",""],["ClassName",""],["WebServiceUrl",""],["Memo",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"d-flex","mb-3"],[3,"jsonValueChange","formGroup","jsonValue","propertiesInfos"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","128","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.className",1,"color-highlight"],["matInput","","type","text","name","dataModel.className","id","dataModel.className",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.webServiceUrl",1,"color-highlight"],["matInput","","type","text","name","dataModel.webServiceUrl","id","dataModel.webServiceUrl",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"pt-1"],[1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.abilityDelivery","name","dataModel.abilityDelivery",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityDelivery",1,"custom-control-label"],["type","checkbox","id","dataModel.abilityReceive","name","dataModel.abilityReceive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityReceive",1,"custom-control-label"],["type","checkbox","id","dataModel.abilityCreditCheck","name","dataModel.abilityCreditCheck",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityCreditCheck",1,"custom-control-label"],["for","dataModel.memo",1,"color-highlight"],["matInput","","name","dataModel.memo","rows","5","id","dataModel.memo",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",5),C(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),c(4),r(),a(5,"h4"),c(6),S(7,"translate"),r(),C(8,"app-cms-form-result-message",9),a(9,"form",10,0),g("ngSubmit",function(){return p(l),m(t.onFormSubmit())}),b(11,rv,1,5,"app-cms-enum-record-status-selector",11),b(12,sv,8,6,"div",12),b(13,dv,5,4,"div",12),b(14,cv,5,4,"div",12),b(15,pv,8,2,"div",13),b(16,mv,8,2,"div",13),b(17,uv,8,2,"div",13),a(18,"dynamic-form-builder-cms",14),D("jsonValueChange",function(u){return p(l),E(t.dataModel.publicConfigJsonValues,u)||(t.dataModel.publicConfigJsonValues=u),m(u)}),r(),b(19,fv,5,2,"div",12),b(20,_v,9,7,"div",15),r()()()}if(i&2){let l=x(10);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v(" ",t.formInfo.formTitle," "),o(2),A(h(7,16,"TITLE.DATA_PROVIDER_SOURCE_PUBLIC_CONFIG")),o(2),_("formInfo",t.formInfo),o(3),M(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),M(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?12:-1),o(),M(t.fieldsInfo.className!=null&&t.fieldsInfo.className.accessWatchField?13:-1),o(),M(t.fieldsInfo.webServiceUrl!=null&&t.fieldsInfo.webServiceUrl.accessWatchField?14:-1),o(),M(t.fieldsInfo.abilityDelivery!=null&&t.fieldsInfo.abilityDelivery.accessWatchField?15:-1),o(),M(t.fieldsInfo.abilityReceive!=null&&t.fieldsInfo.abilityReceive.accessWatchField?16:-1),o(),M(t.fieldsInfo.abilityCreditCheck!=null&&t.fieldsInfo.abilityCreditCheck.accessWatchField?17:-1),o(),_("formGroup",l.form),w("jsonValue",t.dataModel.publicConfigJsonValues),_("propertiesInfos",t.dataModel.publicConfigJsonFormatter),o(),M(t.fieldsInfo.memo!=null&&t.fieldsInfo.memo.accessWatchField?19:-1),o(),M(t.formInfo.submitButtonEnabled?20:-1)}},dependencies:[ve,$,Li,ee,Ce,Ee,De,ye,ce,he,Ga,qe,W,ge,j,Se,Ja,B],encapsulation:2});var Pr=Sa;var Sv=()=>[5,10,20,100];function Cv(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",40),g("click",function(){p(e);let t=d();return m(t.onActionButtonNewRow())}),C(2,"i",41)(3,"br"),r(),a(4,"p",19),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.ADD")," "))}function hv(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",40),g("click",function(){p(e);let t=d();return m(t.onActionButtonNewRowAuto())}),C(2,"i",41)(3,"br"),r(),a(4,"p",19),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.AUTOADD")," "))}function vv(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",42),g("click",function(){p(e);let t=d();return m(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",43)(3,"br"),r(),a(4,"p",19),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.EDIT")," "))}function gv(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",44),g("click",function(){p(e);let t=d();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",45)(3,"br"),r(),a(4,"p",19),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.DELETE")," "))}function bv(n,s){n&1&&(a(0,"mat-header-cell",46),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"TITLE.PICTURE")," "))}function Mv(n,s){if(n&1&&C(0,"img",47),n&2){let e=d().$implicit;_("src",R(e.linkMainImageIdSrc),oe)}}function Iv(n,s){if(n&1&&(a(0,"mat-cell"),b(1,Mv,1,2,"img",47),r()),n&2){let e=s.$implicit;o(),M((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function Pv(n,s){if(n&1&&(a(0,"mat-header-cell",46),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function wv(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),v(" ",e.id," ")}}function Ev(n,s){if(n&1&&(a(0,"mat-header-cell",46),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Dv(n,s){if(n&1&&(a(0,"mat-cell",48),S(1,"statusCellClass"),C(2,"i",48),S(3,"statusIconClass"),r()),n&2){let e=s.$implicit;_("ngClass",h(1,2,e.recordStatus)),o(2),_("ngClass",h(3,4,e.recordStatus))}}function yv(n,s){if(n&1&&(a(0,"mat-header-cell",46),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Tv(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),v(" ",e.title," ")}}function Av(n,s){if(n&1&&(a(0,"mat-header-cell",46),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.className==null?null:e.fieldsInfo.className.fieldTitle," ")}}function Rv(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),v(" ",e.className," ")}}function xv(n,s){if(n&1&&(a(0,"mat-header-cell",46),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function kv(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"localeDate"),r()),n&2){let e=s.$implicit;o(),v(" ",h(2,1,e.updatedDate)," ")}}function Lv(n,s){n&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"TITLE.OPTION")," "))}function Vv(n,s){if(n&1&&(a(0,"mat-cell",49)(1,"button",50)(2,"mat-icon"),c(3,"more_vert"),r()(),C(4,"mat-menu",null,2),r()),n&2){let e=x(5);o(),_("matMenuTriggerFor",e)}}function Bv(n,s){n&1&&C(0,"mat-header-row")}function Fv(n,s){if(n&1){let e=P();a(0,"mat-row",51),g("click",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ca=class Ca extends ht{constructor(e,i,t,l,f,u,k,J,Ge,tt,Ke){super(e,new Ai,tt,f,k);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.router=l;this.tokenHelper=f;this.cdr=u;this.translate=k;this.cmsStoreService=J;this.pageInfo=Ge;this.publicHelper=tt;this.dialog=Ke;this.tableData=[];this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new re;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","title","id","className","action"];this.tabledisplayedColumnsMobileSource=["recordStatus","title","id","className","action"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ct=>this.onSubmitOptionsSearch(ct)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=ae.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Pe(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ai);let e=this.constructor.name+".DataGetAll";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0,this.contentService.ServiceGetAllEditor(this.filteModelContent).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess?(this.tableData=i.listItems,this.tableSource.data=i.listItems,this.sort&&(this.tableSource.sort=this.sort),this.paginator&&(this.tableSource.paginator=this.paginator),this.tableSource.filter="",this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(i.access)},1e3)):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.applyDataGetAllResult(i),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active&&this.tableSource.sort.direction==="asc"?e.direction="desc":e.direction="asc",this.tableSource.sort=e,this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=e.direction.toUpperCase()==="DESC"?ae.Descending:ae.Ascending,this.tableSource.data=this.tableSource.filteredData,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onActionButtonNewRow(){if(this.tokenInfo==null||!this.dataModelResult?.access?.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}this.dialog.open(Ir,{height:"90%",data:{}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Pr,{height:"90%",panelClass:i,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){let l=this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow");this.cmsToastrService.typeErrorSelected(l);return}if(this.onActionTableRowSelect(e),this.tokenInfo==null||!this.dataModelResult?.access?.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}let i=e.title;this.cmsConfirmationDialogService.confirm(this.translate.instant("MESSAGE.Pay_Attention"),this.translate.instant("MESSAGE.Delete",{0:i})).then(l=>{l&&this.contentService.ServiceDelete(e.id).subscribe({next:f=>{f.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorMessage(f.errorMessage)},error:f=>{this.cmsToastrService.typeError(f)}})})}onActionbuttonViewRow(e=this.tableRowSelected){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){let i=this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow");this.cmsToastrService.typeErrorSelected(i);return}this.onActionTableRowSelect(e)}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(u=>{i.set(u,0)}),this.translate.get("MESSAGE.All").subscribe(u=>{i.set(u,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(u=>{this.publicHelper.processService.processStart(t,u,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:u=>{u.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(u.errorMessage),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new K;f.propertyName="recordStatus",f.value=pt.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:u=>{u.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(u.errorMessage),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonNewRowAuto(){let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contentService.ServiceAutoAdd().subscribe({next:i=>{i.isSuccess?(this.cmsToastrService.typeSuccessAdd(),this.DataGetAll()):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){this.filteModelContent.filters=e,this.DataGetAll()}onActionButtonPrivateList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/data-provider/main/source-path/list/LinkPublicConfigId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/main/source-path/list/LinkPublicConfigId",this.tableRowSelected.id])}};Ca.\u0275fac=function(i){return new(i||Ca)(I(ci),I(N),I(zt),I(Ze),I(ze),I(O),I(F),I(Qe),I(_t),I(G),I(je))},Ca.\u0275cmp=L({type:Ca,selectors:[["app-data-provider-source-public-config-list"]],viewQuery:function(i,t){if(i&1&&(U(Ue,5),U(pe,5)),i&2){let l;Q(l=z())&&(t.sort=l.first),Q(l=z())&&(t.paginator=l.first)}},standalone:!1,features:[q],decls:64,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-route","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","className"],["matColumnDef","updatedDate"],["matColumnDef","action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(u){return p(l),E(t.viewGuideNotice,u)||(t.viewGuideNotice=u),m(u)}),g("optionOnActionButtonMemoRow",function(){return p(l),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(l),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(l),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(l),m(t.onActionButtonPrintRow())}),y(1,4),c(2," -------------------------------------- "),T(),Me(3,5)(4,6),y(5,7),a(6,"a",8),g("click",function(){return p(l),m(t.viewGuideNotice=!t.viewGuideNotice)}),C(7,"i",9),r(),a(8,"a",8),g("click",function(){return p(l),m(t.onActionButtonReload())}),C(9,"i",10),r(),T(),y(10,11),a(11,"a",12),g("click",function(){return p(l),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(12,"mat-slide-toggle",13),c(13),S(14,"translate"),r(),a(15,"a",12),g("click",function(){return p(l),m(t.onActionButtonStatist())}),C(16,"mat-slide-toggle",13),c(17),S(18,"translate"),r(),T(),y(19,14),b(20,Cv,7,3,"div",15),b(21,hv,7,3,"div",15),T(),y(22,16),b(23,vv,7,3,"div",15),b(24,gv,7,3,"div",15),a(25,"div",15)(26,"a",17),g("click",function(u){return p(l),m(t.onActionButtonPrivateList(t.tableRowSelected,u))}),C(27,"i",18)(28,"br"),r(),a(29,"p",19),c(30),S(31,"translate"),r()(),T(),y(32,20),a(33,"app-cms-search-list",21),D("optionsChange",function(u){return p(l),E(t.optionsSearch,u)||(t.optionsSearch=u),m(u)}),r(),a(34,"app-cms-statist-list",21),D("optionsChange",function(u){return p(l),E(t.optionsStatist,u)||(t.optionsStatist=u),m(u)}),r(),T(),y(35,22),a(36,"mat-table",23,0),g("matSortChange",function(){p(l);let u=x(37);return m(t.onTableSortData(u))}),y(38,24),V(39,bv,3,3,"mat-header-cell",25)(40,Iv,2,1,"mat-cell",26),T(),y(41,27),V(42,Pv,2,1,"mat-header-cell",25)(43,wv,2,1,"mat-cell",26),T(),y(44,28),V(45,Ev,2,1,"mat-header-cell",25)(46,Dv,4,6,"mat-cell",29),T(),y(47,30),V(48,yv,2,1,"mat-header-cell",25)(49,Tv,2,1,"mat-cell",26),T(),y(50,31),V(51,Av,2,1,"mat-header-cell",25)(52,Rv,2,1,"mat-cell",26),T(),y(53,32),V(54,xv,2,1,"mat-header-cell",25)(55,kv,3,3,"mat-cell",26),T(),y(56,33),V(57,Lv,3,3,"mat-header-cell",34)(58,Vv,6,1,"mat-cell",35),T(),V(59,Bv,1,0,"mat-header-row",36)(60,Fv,1,2,"mat-row",37),r(),T(),y(61,38),a(62,"mat-paginator",39,1),g("page",function(u){return p(l),m(t.onTablePageingData(u))}),r(),T(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(9),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),v("",h(14,27,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),v("",h(18,29,"ACTION.STATIST")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?21:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),o(6),v(" ",h(31,31,"ACTION.ROUTES")," "),o(3),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),_("dataSource",t.tableSource),o(23),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(33,Sv)))},dependencies:[we,$e,Je,It,Pt,pe,Te,Ue,it,wt,ot,Et,at,nt,Dt,rt,lt,yt,Tt,Ae,Re,At,ke,B,dt,xe,tn],encapsulation:2});var ha=Ca;var Ov=()=>[5,10,20,100],Nv=(n,s)=>s.id;function Gv(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",25),g("click",function(){p(e);let t=d();return m(t.onActionButtonNewRow())}),C(2,"i",26)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.ADD")," "))}function Hv(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",25),g("click",function(){p(e);let t=d();return m(t.onActionButtonNewRowAuto())}),C(2,"i",26)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.AUTOADD")," "))}function Wv(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",28),g("click",function(){p(e);let t=d();return m(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",29)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.EDIT")," "))}function qv(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",30),g("click",function(){p(e);let t=d();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",31)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.DELETE")," "))}function jv(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",6),g("click",function(t){p(e);let l=d();return m(l.onActionButtonPrivateList(l.tableRowSelected,t))}),C(2,"i",32)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.ROUTES")," "))}function Uv(n,s){if(n&1&&(a(0,"div",39),C(1,"i",41),c(2),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",e.id," ")}}function Qv(n,s){if(n&1&&(a(0,"div",39),C(1,"i",42),c(2),S(3,"localeDate"),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",h(3,2,e.createdDate)," ")}}function zv(n,s){if(n&1&&(a(0,"div",39),C(1,"i",43),c(2),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.className==null?null:i.fieldsInfo.className.fieldTitle,": ",e.className," ")}}function Kv(n,s){if(n&1&&C(0,"select",45),n&2){let e=d(2).$implicit,i=d(2);_("contentService",i.contentService)("row",e)}}function Jv(n,s){if(n&1&&(a(0,"div",39),C(1,"i",44),S(2,"statusIconClass"),b(3,Kv,1,2,"select",45),r()),n&2){let e=d().$implicit,i=d(2);o(),_("ngClass",h(2,2,e.recordStatus)),o(2),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function Xv(n,s){if(n&1&&(a(0,"div",39),C(1,"i",48),c(2),S(3,"localeDate"),r()),n&2){let e=d(2).$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",h(3,2,e.updatedDate)," ")}}function Yv(n,s){if(n&1){let e=P();a(0,"div",40),b(1,Xv,4,4,"div",39),a(2,"div",39)(3,"span",46),g("click",function(t){return p(e),d(3).onActionCopied(),m(t.stopPropagation())}),C(4,"i",47),r(),c(5),r()()}if(n&2){let e=d().$implicit;o(),M(e.updatedDate?1:-1),o(2),_("cdkCopyToClipboard",e.id.toString()),o(2),v(" ID: ",e.id," ")}}function Zv(n,s){if(n&1){let e=P();a(0,"div",34),g("click",function(t){let l=p(e).$implicit,f=d(2);return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,f=d(2);return m(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=p(e).$implicit,l=d(2);return m(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,l=d(2);return m(l.onActionTableRowMouseLeave(t))}),a(1,"div",35),C(2,"i",36),S(3,"statusIconClass"),r(),a(4,"div",37)(5,"div",38),c(6),r(),b(7,Uv,3,2,"div",39),b(8,Qv,4,4,"div",39),b(9,zv,3,2,"div",39),b(10,Jv,4,4,"div",39),b(11,Yv,6,3,"div",40),r()()}if(n&2){let e=s.$implicit,i=d(2);H("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))("bg-fade-highlight-light",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),He("aria-label",e.id),o(2),_("ngClass",h(3,12,e.recordStatus)),o(4),v(" ","ID: "+e.id," "),o(),M(e.id?7:-1),o(),M(e.createdDate?8:-1),o(),M(e.className&&e.className.length>0?9:-1),o(),M(e.recordStatus!==void 0?10:-1),o(),M(i.getRowExpanded(e)?11:-1)}}function $v(n,s){if(n&1&&(a(0,"div",21),Ve(1,Zv,12,14,"div",33,Nv),r()),n&2){let e=d();o(),Be(e.dataModelResult.listItems)}}function eg(n,s){n&1&&(a(0,"div",22),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"MESSAGE.NoRecord")," "))}var Nn=class Nn extends ha{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(e){return e.expanded===!0}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}};Nn.\u0275fac=(()=>{let e;return function(t){return(e||(e=Rt(Nn)))(t||Nn)}})(),Nn.\u0275cmp=L({type:Nn,selectors:[["app-data-provider-source-public-config-list-mobile"]],hostBindings:function(i,t){i&1&&g("click",function(f){return t.onDocumentClick(f)},Mt)},standalone:!1,features:[q],decls:38,vars:32,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-route","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-calendar"],["aria-hidden","true",1,"fa-solid","fa-code"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list-mobile",1),D("optionActionGuideNoticeDisplayChange",function(u){return p(l),E(t.viewGuideNotice,u)||(t.viewGuideNotice=u),m(u)}),g("optionOnActionButtonMemoRow",function(){return p(l),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(l),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(l),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(l),m(t.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return p(l),m(t.onActionLoadNextPage())}),Me(1,2)(2,3)(3,4),y(4,5),a(5,"a",6),g("click",function(){return p(l),m(t.viewGuideNotice=!t.viewGuideNotice)}),C(6,"i",7),r(),a(7,"a",6),g("click",function(){return p(l),m(t.onActionButtonReload())}),C(8,"i",8),r(),a(9,"a",9),g("click",function(){return p(l),m(t.onActionGridExpandRows(!0))}),C(10,"i",10),r(),a(11,"a",9),g("click",function(){return p(l),m(t.onActionGridExpandRows(!1))}),C(12,"i",11),r(),T(),y(13,12),a(14,"a",13),g("click",function(){return p(l),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(15,"mat-slide-toggle",14),c(16),S(17,"translate"),r(),a(18,"a",13),g("click",function(){return p(l),m(t.onActionButtonStatist())}),C(19,"mat-slide-toggle",14),c(20),S(21,"translate"),r(),T(),y(22,15),b(23,Gv,7,3,"div",16),b(24,Hv,7,3,"div",16),T(),y(25,17),b(26,Wv,7,3,"div",16),b(27,qv,7,3,"div",16),b(28,jv,7,3,"div",16),T(),y(29,18),a(30,"app-cms-search-list",19),D("optionsChange",function(u){return p(l),E(t.optionsSearch,u)||(t.optionsSearch=u),m(u)}),r(),a(31,"app-cms-statist-list",19),D("optionsChange",function(u){return p(l),E(t.optionsStatist,u)||(t.optionsStatist=u),m(u)}),r(),T(),y(32,20),b(33,$v,3,0,"div",21)(34,eg,3,3,"div",22),T(),y(35,23),a(36,"mat-paginator",24,0),g("page",function(u){return p(l),m(t.onTablePageingData(u))}),r(),T(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","data-provider.main.source-public-config.list"),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(8),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),_("checked",t.optionsSearch.data.show),o(),v("",h(17,27,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),v("",h(21,29,"ACTION.STATIST")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?23:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?24:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?26:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?27:-1),o(),M((t.tableRowSelected==null?null:t.tableRowSelected.id)>0?28:-1),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),M(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?33:34),o(3),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(31,Ov)))},dependencies:[we,W,pe,Te,Ye,Ae,Re,kt,ke,Xe,B,dt,xe],encapsulation:2});var wr=Nn;var tg=["vform"];function ig(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",23),D("modelChange",function(t){p(e);let l=d();return E(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=d();w("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ng(n,s){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function og(n,s){n&1&&(a(0,"mat-error"),c(1," Description is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function ag(n,s){if(n&1&&(C(0,"img",19),S(1,"cmsthumbnail")),n&2){let e=d();_("src",R(h(1,2,e.dataModel.linkMainImageIdSrc)),oe)}}function rg(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",24),g("click",function(){p(e);let t=d();return m(t.fileManagerOpenForm=!0)}),c(2),S(3,"translate"),r(),a(4,"input",25,4),S(6,"translate"),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),m(t)}),g("click",function(){p(e);let t=d();return m(t.fileManagerOpenForm=!0)}),r(),a(7,"cms-file-manager",26),g("itemSelected",function(t){p(e);let l=d();return m(l.onActionFileSelected(t))}),D("openFormChange",function(t){p(e);let l=d();return E(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),m(t)}),r()()}if(n&2){let e=d();o(2),A(h(3,12,"TITLE.Icon_File")),o(2),_("placeholder",R(h(6,14,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),o(3),_("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),_("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function lg(n,s){if(n&1){let e=P();a(0,"div",22)(1,"button",27),g("click",function(){p(e);let t=d();return m(t.onFormCancel())}),C(2,"i",28),c(3),S(4,"translate"),r(),a(5,"button",29),C(6,"i",30),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),v(" ",h(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),v(" ",h(8,5,"ACTION.SAVE")," ")}}var va=class va extends St{constructor(e,i,t,l,f,u,k,J){super(l,new sn,u,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderSourceService=l;this.cmsToastrService=f;this.publicHelper=u;this.cdr=k;this.translate=J;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Y;this.dataModel=new sn;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourceService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0,Id:i.item.id})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};va.\u0275fac=function(i){return new(i||va)(I(se),I(le),I(ie),I(Ki),I(N),I(G),I(O),I(F))},va.\u0275cmp=L({type:va,selectors:[["app-data-provider-source-add"]],viewQuery:function(i,t){if(i&1&&U(tg,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:42,vars:29,consts:[["vform","ngForm"],["Title",""],["Description",""],["KeyCode",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.keyCode",1,"color-highlight"],["matInput","","type","text","name","dataModel.keyCode","placeholder","....","minlength","0","maxlength","100","id","dataModel.keyCode",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",5),C(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),C(8,"app-cms-form-result-message",9),a(9,"form",10,0),g("ngSubmit",function(){return p(l),m(t.onFormSubmit())}),b(11,ig,1,5,"app-cms-enum-record-status-selector",11),a(12,"div",12)(13,"label",13),c(14),r(),a(15,"input",14,1),D("ngModelChange",function(u){return p(l),E(t.dataModel.title,u)||(t.dataModel.title=u),m(u)}),r(),a(17,"em"),c(18),r(),b(19,ng,5,3,"mat-error"),r(),a(20,"div",12)(21,"label",15),c(22),r(),a(23,"textarea",16,2),D("ngModelChange",function(u){return p(l),E(t.dataModel.description,u)||(t.dataModel.description=u),m(u)}),c(25,"          "),r(),a(26,"em"),c(27),r(),b(28,og,5,3,"mat-error"),r(),a(29,"div",17)(30,"a",18),S(31,"cmsthumbnail"),b(32,ag,2,4,"img",19),r()(),b(33,rg,8,16,"div",12),a(34,"div",12)(35,"label",20),c(36),r(),a(37,"input",21,3),D("ngModelChange",function(u){return p(l),E(t.dataModel.keyCode,u)||(t.dataModel.keyCode=u),m(u)}),r(),a(39,"em"),c(40),r()(),b(41,lg,9,7,"div",22),r()()()}if(i&2){let l=x(16),f=x(24),u=x(38);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v(" ",t.formInfo.formTitle," "),o(2),v(" ",h(7,25,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),M(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(3),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.title),o(3),v("",l.value.length," / 100"),o(),M(l.errors!=null&&l.errors.required?19:-1),o(3),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.description),o(4),v("",f.value.length," / 500"),o(),M(f.errors!=null&&f.errors.required?28:-1),o(2),_("href",R(h(31,27,t.dataModel.linkMainImageIdSrc)),oe),o(2),M((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?32:-1),o(),M(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?33:-1),o(3),A(t.fieldsInfo.keyCode==null?null:t.fieldsInfo.keyCode.fieldTitle),o(),w("ngModel",t.dataModel.keyCode),o(3),v("",u.value.length," / 100"),o(),M(t.formInfo.submitButtonEnabled?41:-1)}},dependencies:[ve,$,ee,Ce,De,ye,ce,he,qe,W,ge,j,Se,Ht,B,Ne],encapsulation:2});var Er=va;var sg=["vform"];function dg(n,s){if(n&1){let e=P();a(0,"div",8)(1,"button",9),g("click",function(){p(e);let t=d();return m(t.onFormDelete())}),C(2,"i",10),c(3),S(4,"translate"),r(),a(5,"button",11),g("click",function(){p(e);let t=d();return m(t.onFormCancel())}),C(6,"i",12),c(7),S(8,"translate"),r()()}if(n&2){let e=d();o(),_("disabled",!e.formInfo.submitButtonEnabled),o(2),v(" ",h(4,3,"ACTION.DELETE")," "),o(4),v(" ",h(8,5,"ACTION.CANCEL")," ")}}var ga=class ga{constructor(s,e,i,t,l,f,u){this.data=s;this.dialogRef=e;this.publicHelper=i;this.dataProviderSourceService=t;this.cdr=l;this.translate=f;this.cmsToastrService=u;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new Y;this.formInfo=new ei;this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=s.id||"")}ngOnInit(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderSourceService.setAccessLoad(),this.dataProviderSourceService.setAccessDataType(Oe.Editor),this.dataProviderSourceService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onFormDelete(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderSourceService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ga.\u0275fac=function(e){return new(e||ga)(I(se),I(le),I(G),I(Ki),I(O),I(F),I(N))},ga.\u0275cmp=L({type:ga,selectors:[["app-data-provider-source-delete"]],viewQuery:function(e,i){if(e&1&&U(sg,5),e&2){let t;Q(t=z())&&(i.formGroup=t.first)}},standalone:!1,decls:14,vars:10,consts:[["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","title",1,"color-highlight"],["matInput","","name","title","type","text","required","","readonly","","id","title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){if(e&1){let t=P();a(0,"div",1),C(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),a(8,"div",5)(9,"label",6),c(10),r(),a(11,"input",7,0),D("ngModelChange",function(f){return p(t),E(i.dataModelResultContent.item.title,f)||(i.dataModelResultContent.item.title=f),m(f)}),r()(),b(13,dg,9,7,"div",8),r()()}e&2&&(o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(3),v(" ",i.formInfo.formTitle," "),o(2),v(" ",h(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModelResultContent.item.title),o(2),M(i.formInfo.submitButtonEnabled?13:-1))},dependencies:[$,ee,Ee,ce,W,j,B],encapsulation:2});var Dr=ga;var cg=["vform"];function pg(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",27),D("modelChange",function(t){p(e);let l=d();return E(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=d();w("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function mg(n,s){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function ug(n,s){n&1&&(a(0,"mat-error"),c(1," Description is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function fg(n,s){if(n&1&&(C(0,"img",22),S(1,"cmsthumbnail")),n&2){let e=d();_("src",R(h(1,2,e.dataModel.linkMainImageIdSrc)),oe)}}function _g(n,s){if(n&1){let e=P();a(0,"div",13)(1,"label",28),g("click",function(){p(e);let t=d();return m(t.fileManagerOpenForm=!0)}),c(2),S(3,"translate"),r(),a(4,"input",29,5),S(6,"translate"),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),m(t)}),g("click",function(){p(e);let t=d();return m(t.fileManagerOpenForm=!0)}),r(),a(7,"cms-file-manager",30),g("itemSelected",function(t){p(e);let l=d();return m(l.onActionFileSelected(t))}),D("openFormChange",function(t){p(e);let l=d();return E(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),m(t)}),r()()}if(n&2){let e=d();o(2),A(h(3,12,"TITLE.Icon_File")),o(2),_("placeholder",R(h(6,14,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),o(3),_("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),_("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Sg(n,s){if(n&1){let e=P();a(0,"div",26)(1,"button",31),g("click",function(){p(e);let t=d();return m(t.onFormCancel())}),C(2,"i",32),c(3),S(4,"translate"),r(),a(5,"button",33),C(6,"i",34),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),v(" ",h(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),v(" ",h(8,5,"ACTION.SAVE")," ")}}var ba=class ba extends Ct{constructor(e,i,t,l,f,u,k,J,Ge){super(l,new sn,k,Ge);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderSourceService=l;this.dataProviderPlanSourceService=f;this.cmsToastrService=u;this.publicHelper=k;this.cdr=J;this.translate=Ge;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new mt;this.dataModel=new sn;this.fileManagerOpenForm=!1;this.dataCoreCpMainMenuIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id||""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){if(this.requestId?.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId?.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourceService.setAccessLoad(),this.dataProviderSourceService.setAccessDataType(Oe.Editor),this.dataProviderSourceService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.DataGetAllPlanSource()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourceService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}DataGetAllPlanSource(){if(this.requestId?.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Getting_access_category_from_the_server").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)});let i=new re,t=new K;t.propertyName="LinkSourceId",t.value=this.requestId,i.filters.push(t),this.dataProviderPlanSourceService.ServiceGetAll(i).subscribe({next:l=>{this.dataCoreCpMainMenuCmsUserGroupModel=l.listItems;let f=[];this.dataCoreCpMainMenuCmsUserGroupModel.forEach(u=>{f.push(u.linkPlanId)}),this.dataCoreCpMainMenuIds=f,l.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(u=>{this.formInfo.submitResultMessage=u}),this.formInfo.submitResultMessage=l.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(l.errorMessage)),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorPlanSelect(e){this.dataCoreCpMainMenuModel=e}onActionSelectorPlanSelectAdded(e){let i=new Ti;i.linkPlanId=e.id,i.linkSourceId=this.dataModel.id,this.dataProviderPlanSourceService.ServiceAdd(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onActionSelectorPlanSelectRemoved(e){let i=new Ti;i.linkPlanId=e.id,i.linkSourceId=this.dataModel.id,this.dataProviderPlanSourceService.ServiceDeleteEntity(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}};ba.\u0275fac=function(i){return new(i||ba)(I(se),I(le),I(ie),I(Ki),I(ki),I(N),I(G),I(O),I(F))},ba.\u0275cmp=L({type:ba,selectors:[["app-data-provider-source-edit"]],viewQuery:function(i,t){if(i&1&&U(cg,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:48,vars:35,consts:[["vform","ngForm"],["Id",""],["Title",""],["Description",""],["KeyCode",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.id",1,"color-highlight"],["matInput","","type","id","name","dataModel.id","id","dataModel.id",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.keyCode",1,"color-highlight"],["matInput","","type","text","name","dataModel.keyCode","placeholder","....","minlength","0","maxlength","100","id","dataModel.keyCode",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",6),C(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),C(8,"app-cms-form-result-message",10),a(9,"form",11,0),g("ngSubmit",function(){return p(l),m(t.onFormSubmit())}),b(11,pg,1,5,"app-cms-enum-record-status-selector",12),a(12,"div",13)(13,"label",14),c(14),r(),a(15,"input",15,1),D("ngModelChange",function(u){return p(l),E(t.dataModel.id,u)||(t.dataModel.id=u),m(u)}),r()(),a(17,"div",13)(18,"label",16),c(19),r(),a(20,"input",17,2),D("ngModelChange",function(u){return p(l),E(t.dataModel.title,u)||(t.dataModel.title=u),m(u)}),r(),a(22,"em"),c(23),r(),b(24,mg,5,3,"mat-error"),r(),a(25,"div",13)(26,"label",18),c(27),r(),a(28,"textarea",19,3),D("ngModelChange",function(u){return p(l),E(t.dataModel.description,u)||(t.dataModel.description=u),m(u)}),c(30,"            "),r(),a(31,"em"),c(32),r(),b(33,ug,5,3,"mat-error"),r(),a(34,"div",20)(35,"a",21),S(36,"cmsthumbnail"),b(37,fg,2,4,"img",22),r()(),b(38,_g,8,16,"div",13),a(39,"div",13)(40,"label",23),c(41),r(),a(42,"input",24,4),D("ngModelChange",function(u){return p(l),E(t.dataModel.keyCode,u)||(t.dataModel.keyCode=u),m(u)}),r(),a(44,"em"),c(45),r()(),a(46,"app-data-provider-plan-selectionlist",25),g("optionChange",function(u){return p(l),m(t.onActionSelectorPlanSelect(u))})("optionSelectAdded",function(u){return p(l),m(t.onActionSelectorPlanSelectAdded(u))})("optionSelectRemoved",function(u){return p(l),m(t.onActionSelectorPlanSelectRemoved(u))}),r(),b(47,Sg,9,7,"div",26),r()()()}if(i&2){let l=x(21),f=x(29),u=x(43);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v(" ",t.formInfo.formTitle," "),o(2),v(" ",h(7,31,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),M(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(3),A(t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle)),w("ngModel",t.dataModel.id),o(4),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.title),o(3),v("",l.value.length," / 100"),o(),M(l.errors!=null&&l.errors.required?24:-1),o(3),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.description),o(4),v("",f.value.length," / 500"),o(),M(f.errors!=null&&f.errors.required?33:-1),o(2),_("href",R(h(36,33,t.dataModel.linkMainImageIdSrc)),oe),o(2),M((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?37:-1),o(),M(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?38:-1),o(3),A(t.fieldsInfo.keyCode==null?null:t.fieldsInfo.keyCode.fieldTitle),o(),w("ngModel",t.dataModel.keyCode),o(3),v("",u.value.length," / 100"),o(),_("optionSelectForce",t.dataCoreCpMainMenuIds)("optionDisabled",!1),o(),M(t.formInfo.submitButtonEnabled?47:-1)}},dependencies:[ve,$,ee,Ce,De,ye,ce,he,qe,W,ge,j,Se,bo,Ht,B,Ne],encapsulation:2});var Ra=ba;var Cg=()=>["expandedTitle"],hg=()=>["expandedDetail"],vg=()=>[5,10,20,100],ts=n=>({display:n});function gg(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",44),g("click",function(){p(e);let t=d();return m(t.onActionButtonNewRow())}),C(2,"i",45)(3,"br"),r(),a(4,"p",46),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.ADD")," "))}function bg(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",47),g("click",function(){p(e);let t=d();return m(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",48)(3,"br"),r(),a(4,"p",46),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.EDIT")," "))}function Mg(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",49),g("click",function(){p(e);let t=d();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",50)(3,"br"),r(),a(4,"p",46),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.DELETE")," "))}function Ig(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",51),g("click",function(){p(e);let t=d();return m(t.onActionButtonDataRow(t.tableRowSelected))}),C(2,"i",52)(3,"br"),r(),a(4,"p",46),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.DATA")," "))}function Pg(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",51),g("click",function(){p(e);let t=d();return m(t.onActionButtonSourceList(t.tableRowSelected))}),C(2,"i",53)(3,"br"),r(),a(4,"p",46),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.SOURCE")," "))}function wg(n,s){n&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"TITLE.MENU")," "))}function Eg(n,s){if(n&1){let e=P();a(0,"mat-cell")(1,"button",54),g("click",function(){let t=p(e).$implicit,l=d();return m(l.onActionTableRowSelectActionMenu(t))}),C(2,"i",55),r()()}}function Dg(n,s){n&1&&(a(0,"mat-header-cell",56),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"TITLE.PICTURE")," "))}function yg(n,s){if(n&1&&(C(0,"img",57),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;_("src",R(h(1,2,e.linkMainImageIdSrc)),oe)}}function Tg(n,s){if(n&1&&(a(0,"mat-cell"),b(1,yg,2,4,"img",57),r()),n&2){let e=s.$implicit;o(),M((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function Ag(n,s){if(n&1&&(a(0,"mat-header-cell",56),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Rg(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),v(" ",e.id," ")}}function xg(n,s){if(n&1&&(a(0,"mat-header-cell",56),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function kg(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),r()),n&2){let e=s.$implicit;o(),v(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function Lg(n,s){if(n&1&&(a(0,"mat-header-cell",56),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Vg(n,s){if(n&1&&C(0,"select",59),n&2){let e=d().$implicit,i=d();_("contentService",i.contentService)("row",e)("ngStyle",Gt(3,ts,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Bg(n,s){if(n&1&&(a(0,"mat-cell"),C(1,"i",58),S(2,"statusIconClass"),b(3,Vg,1,5,"select",59),r()),n&2){let e=s.$implicit,i=d();o(),_("ngClass",h(2,2,e.recordStatus)),o(2),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?3:-1)}}function Fg(n,s){if(n&1&&(a(0,"mat-header-cell",56),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Og(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),v(" ",e.title," ")}}function Ng(n,s){if(n&1&&(a(0,"mat-header-cell",56),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function Gg(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),v(" ",e.description," ")}}function Hg(n,s){if(n&1&&(a(0,"mat-header-cell",56),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.hashMd5==null?null:e.fieldsInfo.hashMd5.fieldTitle," ")}}function Wg(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),v(" ",e.hashMd5," ")}}function qg(n,s){if(n&1&&(a(0,"mat-header-cell",56),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.keyCode==null?null:e.fieldsInfo.keyCode.fieldTitle," ")}}function jg(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),v(" ",e.keyCode," ")}}function Ug(n,s){n&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"TITLE.OPTION")," "))}function Qg(n,s){if(n&1&&(a(0,"mat-cell",60)(1,"button",61)(2,"mat-icon"),c(3,"more_vert"),r()(),C(4,"mat-menu",null,2),r()),n&2){let e=x(5);o(),_("matMenuTriggerFor",e)}}function zg(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),v(" ",e.title," ")}}function Kg(n,s){if(n&1&&(C(0,"img",62),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;_("src",R(h(1,2,e.linkMainImageIdSrc)),oe)}}function Jg(n,s){if(n&1){let e=P();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),b(5,Kg,2,4,"img",62),r(),a(6,"th"),c(7),a(8,"span",63),g("click",function(){p(e);let t=d();return m(t.onActionCopied())}),C(9,"i",64),r()()(),a(10,"tr"),C(11,"td"),a(12,"td"),c(13),r()(),a(14,"tr"),C(15,"td"),a(16,"td"),c(17),r()(),a(18,"tr"),C(19,"td")(20,"td"),r()()()()}if(n&2){let e=s.$implicit;o(5),M((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),v(" ",e.id," "),o(),_("cdkCopyToClipboard",e.id),o(5),A(e.title),o(4),A(e.description)}}function Xg(n,s){n&1&&C(0,"mat-header-row")}function Yg(n,s){if(n&1){let e=P();a(0,"mat-row",65),g("click",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=p(e).$implicit,l=d();return m(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,l=d();return m(l.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Zg(n,s){if(n&1){let e=P();a(0,"mat-row",66),g("click",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=p(e).$implicit,l=d();return m(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,l=d();return m(l.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function $g(n,s){if(n&1){let e=P();a(0,"mat-row",67),g("click",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=p(e).$implicit,l=d();return m(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,l=d();return m(l.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-expanded",e.expanded===!0)("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),_("ngStyle",Gt(5,ts,e.expanded===!0?"":"none"))}}var Ma=class Ma extends ht{constructor(e,i,t,l,f,u,k,J,Ge,tt){super(e,new sn,Ge,l,k);this.contentService=e;this.cmsToastrService=i;this.router=t;this.tokenHelper=l;this.cdr=f;this.cmsStoreService=u;this.translate=k;this.pageInfo=J;this.publicHelper=Ge;this.dialog=tt;this.tableData=[];this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new re;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","recordStatus","id","Description","HashMd5","KeyCode","action_menu"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","recordStatus","id","Description","HashMd5","KeyCode","action_menu"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ke=>this.onSubmitOptionsSearch(Ke)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=ae.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Pe(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new sn);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id&&(typeof this.categoryModelSelected.id=="string"?this.categoryModelSelected.id.length>0:this.categoryModelSelected.id>0)){let t=new K;t.propertyName="PlanSources",t.propertyAnyName="LinkPlanId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.applyDataGetAllResult(t),t.isSuccess?(this.tableData=this.dataModelResult?.listItems??[],this.sort&&(this.tableSource.sort=this.sort),this.paginator&&(this.tableSource.paginator=this.paginator),this.tableSource.filter="",this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new re,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=new ft;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={parentId:this.categoryModelSelected.id},this.dialog.open(Er,e).afterClosed().subscribe(t=>{if(t&&t.dialogChangedDate)if(t.id&&t.id>0){let l=new ft;l.disableClose=!0,l.autoFocus=!0,l.height="90%",l.data={id:t.id},this.dialog.open(Ra,l).afterClosed().subscribe(u=>{u&&u.dialogChangedDate&&(this.categoryModelSelected=new ut,this.DataGetAll())})}else this.categoryModelSelected=new ut,this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id?.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}let i=new ft;i.disableClose=!0,i.autoFocus=!0,i.height="90%",i.data={id:this.tableRowSelected.id},this.dialog.open(Ra,i).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&(this.categoryModelSelected=new ut,this.DataGetAll())})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Dr,{height:"40%",panelClass:i,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonSourceList(e=this.tableRowSelected,i){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/data-provider/plan-source/LinkSourceId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/plan-source/LinkSourceId/"+e.id])}onActionButtonDataRow(e=this.tableRowSelected,i){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){this.translate.get("MESSAGE.No_row_selected_for_viewing").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorAccessDelete();return}i?.ctrlKey?(this.link="/#/data-provider/log-source/LinkSourceId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/log-source/LinkSourceId/"+e.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(u=>{i.set(u,0)}),this.translate.get("MESSAGE.All").subscribe(u=>{i.set(u,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(u=>{this.publicHelper.processService.processStart(t,u,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:u=>{u.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(u.errorMessage),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new K;f.propertyName="recordStatus",f.value=pt.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:u=>{u.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(u.errorMessage),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Ma.\u0275fac=function(i){return new(i||Ma)(I(Ki),I(N),I(Ze),I(ze),I(O),I(Qe),I(F),I(_t),I(G),I(je))},Ma.\u0275cmp=L({type:Ma,selectors:[["app-data-provider-source-list"]],viewQuery:function(i,t){if(i&1&&(U(Ue,5),U(pe,5)),i&2){let l;Q(l=z())&&(t.sort=l.first),Q(l=z())&&(t.paginator=l.first)}},standalone:!1,features:[q],decls:73,vars:37,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","title"],["matColumnDef","Description"],["matColumnDef","HashMd5"],["matColumnDef","KeyCode"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-expanded","ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-database","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-file","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(u){return p(l),E(t.viewGuideNotice,u)||(t.viewGuideNotice=u),m(u)}),g("optionOnActionButtonMemoRow",function(){return p(l),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(l),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(l),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(l),m(t.onActionButtonPrintRow())}),y(1,4),a(2,"app-data-provider-plan-tree",5),g("optionChange",function(u){return p(l),m(t.onActionSelectorSelect(u))}),r(),T(),Me(3,6)(4,7),y(5,8),a(6,"a",9),g("click",function(){return p(l),m(t.viewGuideNotice=!t.viewGuideNotice)}),C(7,"i",10),r(),a(8,"a",9),g("click",function(){return p(l),m(t.onActionButtonReload())}),C(9,"i",11),r(),T(),y(10,12),a(11,"a",13),g("click",function(){return p(l),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(12,"mat-slide-toggle",14),c(13),S(14,"translate"),r(),a(15,"a",13),g("click",function(){return p(l),m(t.onActionButtonStatist())}),C(16,"mat-slide-toggle",14),c(17),S(18,"translate"),r(),T(),y(19,15),b(20,gg,7,3,"div",16),T(),y(21,17),b(22,bg,7,3,"div",16),b(23,Mg,7,3,"div",16),b(24,Ig,7,3,"div",16),b(25,Pg,7,3,"div",16),T(),y(26,18),a(27,"app-cms-search-list",19),D("optionsChange",function(u){return p(l),E(t.optionsSearch,u)||(t.optionsSearch=u),m(u)}),r(),a(28,"app-cms-statist-list",19),D("optionsChange",function(u){return p(l),E(t.optionsStatist,u)||(t.optionsStatist=u),m(u)}),r(),T(),y(29,20),a(30,"mat-table",21,0),g("matSortChange",function(){p(l);let u=x(31);return m(t.onTableSortData(u))}),y(32,22),V(33,wg,3,3,"mat-header-cell",23)(34,Eg,3,0,"mat-cell",24),T(),y(35,25),V(36,Dg,3,3,"mat-header-cell",26)(37,Tg,2,1,"mat-cell",24),T(),y(38,27),V(39,Ag,2,1,"mat-header-cell",26)(40,Rg,2,1,"mat-cell",24),T(),y(41,28),V(42,xg,2,1,"mat-header-cell",26)(43,kg,4,5,"mat-cell",24),T(),y(44,29),V(45,Lg,2,1,"mat-header-cell",26)(46,Bg,4,4,"mat-cell",24),T(),y(47,30),V(48,Fg,2,1,"mat-header-cell",26)(49,Og,2,1,"mat-cell",24),T(),y(50,31),V(51,Ng,2,1,"mat-header-cell",26)(52,Gg,2,1,"mat-cell",24),T(),y(53,32),V(54,Hg,2,1,"mat-header-cell",26)(55,Wg,2,1,"mat-cell",24),T(),y(56,33),V(57,qg,2,1,"mat-header-cell",26)(58,jg,2,1,"mat-cell",24),T(),y(59,34),V(60,Ug,3,3,"mat-header-cell",23)(61,Qg,6,1,"mat-cell",35),T(),y(62,36),V(63,zg,2,1,"mat-cell",24),T(),y(64,37),V(65,Jg,21,5,"mat-cell",24),T(),V(66,Xg,1,0,"mat-header-row",38)(67,Yg,1,2,"mat-row",39)(68,Zg,1,2,"mat-row",40)(69,$g,1,7,"mat-row",41),r(),T(),y(70,42),a(71,"mat-paginator",43,1),g("page",function(u){return p(l),m(t.onTablePageingData(u))}),r(),T(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","dataprovider.source.list"),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),v("",h(14,30,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),v("",h(18,32,"ACTION.STATIST")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow&&(t.categoryModelSelected==null?null:t.categoryModelSelected.id)>0?20:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?25:-1),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),_("dataSource",t.tableSource),o(36),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",_e(34,Cg)),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(),_("matRowDefColumns",_e(35,hg)),o(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(36,vg)))},dependencies:[we,Xt,$e,Je,W,It,Pt,pe,Te,Ue,it,wt,ot,Et,at,nt,Dt,rt,lt,yt,Tt,Ye,Ae,Re,At,ke,Xe,an,Fe,B,st,Ne,xe],encapsulation:2});var Gn=Ma;var eb=()=>[5,10,20,100],tb=(n,s)=>s.id;function ib(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",26),g("click",function(){p(e);let t=d();return m(t.onActionButtonNewRow())}),C(2,"i",27)(3,"br"),r(),a(4,"p",28),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.ADD")," "))}function nb(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",29),g("click",function(){p(e);let t=d();return m(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",30)(3,"br"),r(),a(4,"p",28),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.EDIT")," "))}function ob(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",31),g("click",function(){p(e);let t=d();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",32)(3,"br"),r(),a(4,"p",28),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.DELETE")," "))}function ab(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",7),g("click",function(){p(e);let t=d();return m(t.onActionButtonDataRow(t.tableRowSelected))}),C(2,"i",33)(3,"br"),r(),a(4,"p",28),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.DATA")," "))}function rb(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",7),g("click",function(){p(e);let t=d();return m(t.onActionButtonSourceList(t.tableRowSelected))}),C(2,"i",34)(3,"br"),r(),a(4,"p",28),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.SOURCE")," "))}function lb(n,s){if(n&1&&(a(0,"div",41),C(1,"i",43),c(2),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",e.id," ")}}function sb(n,s){if(n&1&&(a(0,"div",41),C(1,"i",44),c(2),S(3,"localeDate"),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",h(3,2,e.createdDate)," ")}}function db(n,s){if(n&1&&(a(0,"div",41),C(1,"i",45),c(2),S(3,"cmssiteinfo"),S(4,"async"),r()),n&2){let e=d().$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.linkSiteId==null?null:i.fieldsInfo.linkSiteId.fieldTitle,": ",h(4,4,h(3,2,e.linkSiteId))," ")}}function cb(n,s){if(n&1&&C(0,"select",47),n&2){let e=d(2).$implicit,i=d(2);_("contentService",i.contentService)("row",e)}}function pb(n,s){if(n&1&&(a(0,"div",41),C(1,"i",46),S(2,"statusIconClass"),b(3,cb,1,2,"select",47),r()),n&2){let e=d().$implicit,i=d(2);o(),_("ngClass",h(2,2,e.recordStatus)),o(2),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function mb(n,s){if(n&1&&(a(0,"div",41),C(1,"i",50),c(2),S(3,"localeDate"),r()),n&2){let e=d(2).$implicit,i=d(2);o(2),X(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",h(3,2,e.updatedDate)," ")}}function ub(n,s){if(n&1){let e=P();a(0,"div",42),b(1,mb,4,4,"div",41),a(2,"div",41)(3,"span",48),g("click",function(t){return p(e),d(3).onActionCopied(),m(t.stopPropagation())}),C(4,"i",49),r(),c(5),r()()}if(n&2){let e=d().$implicit;o(),M(e.updatedDate?1:-1),o(2),_("cdkCopyToClipboard",e.id.toString()),o(2),v(" ID: ",e.id," ")}}function fb(n,s){if(n&1){let e=P();a(0,"div",36),g("click",function(t){let l=p(e).$implicit,f=d(2);return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,f=d(2);return m(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=p(e).$implicit,l=d(2);return m(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,l=d(2);return m(l.onActionTableRowMouseLeave(t))}),a(1,"div",37),C(2,"i",38),S(3,"statusIconClass"),r(),a(4,"div",39)(5,"div",40),c(6),r(),b(7,lb,3,2,"div",41),b(8,sb,4,4,"div",41),b(9,db,5,6,"div",41),b(10,pb,4,4,"div",41),b(11,ub,6,3,"div",42),r()()}if(n&2){let e=s.$implicit,i=d(2);H("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))("bg-fade-highlight-light",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),He("aria-label",e.title||e.id),o(2),_("ngClass",h(3,12,e.recordStatus)),o(4),v(" ",e.title||"ID: "+e.id," "),o(),M(e.id?7:-1),o(),M(e.createdDate?8:-1),o(),M(e.linkSiteId?9:-1),o(),M(e.recordStatus!==void 0?10:-1),o(),M(i.getRowExpanded(e)?11:-1)}}function _b(n,s){if(n&1&&(a(0,"div",22),Ve(1,fb,12,14,"div",35,tb),r()),n&2){let e=d();o(),Be(e.dataModelResult.listItems)}}function Sb(n,s){n&1&&(a(0,"div",23),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"MESSAGE.NoRecord")," "))}var Hn=class Hn extends Gn{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(e){return e.expanded===!0}};Hn.\u0275fac=(()=>{let e;return function(t){return(e||(e=Rt(Hn)))(t||Hn)}})(),Hn.\u0275cmp=L({type:Hn,selectors:[["app-data-provider-source-list-mobile"]],hostBindings:function(i,t){i&1&&g("click",function(f){return t.onDocumentClick(f)},Mt)},standalone:!1,features:[q],decls:39,vars:32,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-database","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-file","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-calendar"],["aria-hidden","true",1,"fa-solid","fa-globe"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list-mobile",1),D("optionActionGuideNoticeDisplayChange",function(u){return p(l),E(t.viewGuideNotice,u)||(t.viewGuideNotice=u),m(u)}),g("optionOnActionButtonMemoRow",function(){return p(l),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(l),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(l),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(l),m(t.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return p(l),m(t.onActionLoadNextPage())}),y(1,2),a(2,"app-data-provider-plan-tree",3),g("optionChange",function(u){return p(l),m(t.onActionSelectorSelect(u))}),r(),T(),Me(3,4)(4,5),y(5,6),a(6,"a",7),g("click",function(){return p(l),m(t.viewGuideNotice=!t.viewGuideNotice)}),C(7,"i",8),r(),a(8,"a",7),g("click",function(){return p(l),m(t.onActionButtonReload())}),C(9,"i",9),r(),a(10,"a",10),g("click",function(){return p(l),m(t.onActionGridExpandRows(!0))}),C(11,"i",11),r(),a(12,"a",10),g("click",function(){return p(l),m(t.onActionGridExpandRows(!1))}),C(13,"i",12),r(),T(),y(14,13),a(15,"a",14),g("click",function(){return p(l),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(16,"mat-slide-toggle",15),c(17),S(18,"translate"),r(),a(19,"a",14),g("click",function(){return p(l),m(t.onActionButtonStatist())}),C(20,"mat-slide-toggle",15),c(21),S(22,"translate"),r(),T(),y(23,16),b(24,ib,7,3,"div",17),T(),y(25,18),b(26,nb,7,3,"div",17),b(27,ob,7,3,"div",17),b(28,ab,7,3,"div",17),b(29,rb,7,3,"div",17),T(),y(30,19),a(31,"app-cms-search-list",20),D("optionsChange",function(u){return p(l),E(t.optionsSearch,u)||(t.optionsSearch=u),m(u)}),r(),a(32,"app-cms-statist-list",20),D("optionsChange",function(u){return p(l),E(t.optionsStatist,u)||(t.optionsStatist=u),m(u)}),r(),T(),y(33,21),b(34,_b,3,0,"div",22)(35,Sb,3,3,"div",23),T(),y(36,24),a(37,"mat-paginator",25,0),g("page",function(u){return p(l),m(t.onTablePageingData(u))}),r(),T(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","data-provider.main.source.list"),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),_("checked",t.optionsSearch.data.show),o(),v("",h(18,27,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),v("",h(22,29,"ACTION.STATIST")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow&&(t.categoryModelSelected==null?null:t.categoryModelSelected.id)>0?24:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?26:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?27:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?28:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?29:-1),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),M(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?34:35),o(3),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(31,eb)))},dependencies:[we,W,pe,Te,Ye,Ae,Re,kt,ke,Xe,an,Fe,B,st,dt,xe],encapsulation:2});var xa=Hn;var is=[{path:"",component:ko,data:{title:"ROUTE.DATAPROVIDER.MAIN"},children:[{path:"client",component:nr,data:{title:"ROUTE.DATAPROVIDER.CLIENT"}},{path:"plan",component:Aa,data:{title:"ROUTE.DATAPROVIDER.PLAN"}},{path:"source",component:xa,data:{title:"ROUTE.DATAPROVIDER.SOURCE"}},{path:"source/list/LinkSourceCompanyId/:LinkSourceCompanyId",component:xa,data:{title:"ROUTE.DATAPROVIDER.SOURCE"}},{path:"plan-client",component:Oo,data:{title:"ROUTE.DATAPROVIDER.PLANCLIENT"}},{path:"plan-client/LinkPlanId/:LinkPlanId",component:Oo,data:{title:"ROUTE.DATAPROVIDER.PLANCLIENT"}},{path:"plan-client/LinkClientId/:LinkClientId",component:Oo,data:{title:"ROUTE.DATAPROVIDER.PLANCLIENT"}},{path:"plan/LinkPlanCategory/:LinkPlanCategory",component:Aa,data:{title:"ROUTE.DATAPROVIDER.PLAN"}},{path:"plan-source",component:Ko,data:{title:"ROUTE.DATAPROVIDER.PLANSOURCE"}},{path:"plan-source/LinkPlanId/:LinkPlanId",component:Ko,data:{title:"ROUTE.DATAPROVIDER.PLANSOURCE"}},{path:"plan-source/LinkSourceId/:LinkSourceId",component:Ko,data:{title:"ROUTE.DATAPROVIDER.PLANSOURCE"}},{path:"plan-price",component:Ta,data:{title:"ROUTE.DATAPROVIDER.PLANPRICE"}},{path:"plan-price/LinkPlanId/:LinkPlanId",component:Ta,data:{title:"ROUTE.DATAPROVIDER.PLANPRICE"}},{path:"source-company",component:hr,data:{title:"ROUTE.DATAPROVIDER.SOURCECOMPANY"}},{path:"source-public-config",component:wr,data:{title:"ROUTE.DATAPROVIDER.SOURCEPUBLICCONFIG"}},{path:"source-path",component:Mr,data:{title:"ROUTE.DATAPROVIDER.SOURCEPATH"}},{path:"source-path-pagination",component:br,data:{title:"ROUTE.DATAPROVIDER.SOURCEPATH"}},{path:"client-application",component:Co,data:{title:"ROUTE.DATAPROVIDER.CLIENTAPPLICATION"}},{path:"client-application/LinkUserId/:LinkUserId",component:Co,data:{title:"ROUTE.DATAPROVIDER.CLIENTAPPLICATION"}},{path:"client-application/LinkSiteId/:LinkSiteId",component:Co,data:{title:"ROUTE.DATAPROVIDER.CLIENTAPPLICATION"}},{path:"client-application-permission",component:mo,data:{title:"ROUTE.DATAPROVIDER.CLIENTAPPLICATIONPERMISSION"}},{path:"client-application-permission/LinkClientApplicationId/:LinkClientApplicationId",component:mo,data:{title:"ROUTE.DATAPROVIDER.CLIENTAPPLICATIONPERMISSION"}},{path:"client-application-permission/LinkSourcePathId/:LinkSourcePathId",component:mo,data:{title:"ROUTE.DATAPROVIDER.CLIENTAPPLICATIONPERMISSION"}}]}];function hb(n,s){if(n&1&&(a(0,"div"),C(1,"br"),a(2,"tr")(3,"td"),c(4),S(5,"translate"),r(),a(6,"td"),c(7),S(8,"currency"),r()(),C(9,"br"),a(10,"tr")(11,"td"),c(12),S(13,"translate"),r(),a(14,"td"),c(15),S(16,"currency"),r()(),C(17,"br"),a(18,"tr")(19,"td"),c(20),S(21,"translate"),r(),a(22,"td"),c(23),S(24,"currency"),r()(),C(25,"hr"),a(26,"tr")(27,"td"),c(28),S(29,"translate"),r(),a(30,"td"),c(31),S(32,"currency"),r()()()),n&2){let e=d();o(4),v("",h(5,8,"TITLE.FEETAX"),":"),o(3),v(" ",di(8,10,e.dataModelCalculateResult.item.feeTax," "+e.dataModelCalculateResult.item.currency+" ")," "),o(5),v("",h(13,13,"TITLE.Amount_pure"),":"),o(3),v(" ",di(16,15,e.dataModelCalculateResult.item.amountPure," "+e.dataModelCalculateResult.item.currency+" ")," "),o(5),v("",h(21,18,"TITLE.Fee_transport"),":"),o(3),v(" ",di(24,20,e.dataModelCalculateResult.item.feeTransport," "+e.dataModelCalculateResult.item.currency+" ")," "),o(5),v("",h(29,23,"TITLE.Final_Amount"),":"),o(3),v(" ",di(32,25,e.dataModelCalculateResult.item.amount," "+e.dataModelCalculateResult.item.currency+" ")," ")}}function vb(n,s){if(n&1){let e=P();a(0,"div",12)(1,"button",13),g("click",function(){p(e);let t=d();return m(t.onFormCancel())}),C(2,"i",14),c(3),S(4,"translate"),r(),a(5,"button",15),g("click",function(){p(e);let t=d();return m(t.onActionSelectBankPayment())}),C(6,"i",16),c(7),S(8,"translate"),r()()}if(n&2){let e=d();o(3),v(" ",h(4,4,"ACTION.CANCEL")," "),o(2),_("mat-dialog-close",!0)("disabled",!e.viewCalculate),o(2),v(" ",h(8,6,"ACTION.PAYMENT")," ")}}var Ia=class Ia{constructor(s,e,i,t,l,f,u,k){this.data=s;this.document=e;this.dialogRef=i;this.cmsToastrService=t;this.dataProviderTransactionService=l;this.translate=f;this.cdr=u;this.publicHelper=k;this.requestLinkPlanPriceId="";this.requestLinkClientId="";this.requestBankPrivateMaster=!1;this.constructorInfoAreaId=this.constructor.name;this.viewCalculate=!1;this.dataModelResult=new Y;this.dataModelCalculateResult=new Y;this.dataModelPaymentResult=new Y;this.dataModelCalculate=new Oa;this.dataModelPayment=new Qr;this.formInfo=new ei;if(this.publicHelper.processService.cdr=this.cdr,s&&(s.linkPlanPriceId&&s.linkPlanPriceId?.length>0&&(this.requestLinkPlanPriceId=s.linkPlanPriceId.toString()),s.linkClientId&&s.linkClientId?.length>0&&(this.requestLinkClientId=s.linkClientId.toString())),this.requestLinkPlanPriceId?.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}if(this.requestLinkClientId?.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.dataModelCalculate.linkPlanPriceId=this.requestLinkPlanPriceId,this.dataModelCalculate.linkClientId=this.requestLinkClientId,this.dataModelPayment.linkPlanPriceId=this.requestLinkPlanPriceId,this.dataModelPayment.linkClientId=this.requestLinkClientId,this.dataModelPayment.lastUrlAddressInUse=this.document.location.href}ngOnInit(){this.translate.get("TITLE.Select_Payment_Gateway").subscribe(s=>{this.formInfo.formTitle=s})}DataCalculate(){this.viewCalculate=!1;let s=this.constructor.name+"ServiceOrderCalculate";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderTransactionService.ServiceOrderCalculate(this.dataModelCalculate).subscribe({next:e=>{e.isSuccess?(this.dataModelCalculateResult=e,this.viewCalculate=!0):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}DataPayment(){this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"ServiceOrderPayment";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderTransactionService.ServiceOrderPayment(this.dataModelPayment).subscribe({next:e=>{e.isSuccess?(this.dataModelPaymentResult=e,this.translate.get("MESSAGE.Transferring_to_the_payment_gateway").subscribe(i=>{this.cmsToastrService.typeSuccessMessage(i)}),localStorage.setItem(wl,e.item.transactionId.toString()),this.document.location.href=this.dataModelPaymentResult.item.urlToPay):(this.cmsToastrService.typeErrorMessage(e.errorMessage),this.formInfo.submitButtonEnabled=!0),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)}})}onActionSelectCalculate(s){this.dataModelCalculate.bankPaymentPrivateId=s.id,this.dataModelPayment.bankPaymentPrivateId=s.id,this.DataCalculate()}onActionSelectBankPayment(){this.DataPayment()}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ia.\u0275fac=function(e){return new(e||Ia)(I(se),I(La),I(le),I(N),I(Xr),I(F),I(O),I(G))},Ia.\u0275cmp=L({type:Ia,selectors:[["app-data-provider-client-charge-payment"]],standalone:!1,decls:22,vars:8,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"menu-title"],[1,"color-highlight"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"example-card"],["mat-card-md-image","",3,"optionChange","optionMasterItem"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"click","mat-dialog-close","disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){e&1&&(a(0,"div",0),C(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),c(4),r(),a(5,"a",4),g("click",function(){return i.onFormCancel()}),C(6,"i",5),r(),C(7,"hr"),r(),a(8,"div",6)(9,"p",7),c(10),r(),a(11,"mat-card",8)(12,"mat-card-header")(13,"mat-card-title"),c(14),r()(),a(15,"app-cms-bankpayment-grid",9),g("optionChange",function(l){return i.onActionSelectCalculate(l)}),r(),a(16,"mat-card-content"),b(17,hb,33,28,"div"),r(),a(18,"mat-card-actions")(19,"div",10),C(20,"app-cms-form-result-message",11),r(),b(21,vb,9,8,"div",12),r()()()()),e&2&&(o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(3),A(i.formInfo.formTitle),o(6),v(" ",i.formInfo.formDescription," "),o(4),v("",i.formInfo.formTitle," "),o(),_("optionMasterItem",i.requestBankPrivateMaster),o(2),M(i.viewCalculate?17:-1),o(3),_("formInfo",i.formInfo),o(),M(i.formInfo.submitButtonEnabled?21:-1))},dependencies:[Ha,ja,qa,Ua,ll,Wa,sl,j,Se,Fl,Gr,B],styles:[".example-card[_ngcontent-%COMP%]{max-width:200px}"]});var yr=Ia;function gb(n,s){if(n&1&&C(0,"app-data-provider-plan-header",0),n&2){let e=d();_("optionId",e.requestLinkClientId)}}var Pa=class Pa{constructor(s,e,i,t,l,f,u){this.document=s;this.activatedRoute=e;this.dialog=i;this.coreSiteService=t;this.cmsToastrService=l;this.router=f;this.translate=u;this.requestLinkClientId="";this.constructorInfoAreaId=this.constructor.name;this.price="";this.currency="";this.viewCalculate=!1;this.dataModelCalculate=new Oa;this.LinkPlanPriceId=this.dataModelCalculate.linkPlanPriceId;this.requestLinkClientId=this.activatedRoute.snapshot.paramMap.get("LinkClientId")||"",this.dataModelCalculate.linkClientId=this.requestLinkClientId}ngOnInit(){this.DataGetCurrency();let s=localStorage.getItem("TransactionId")||"";s?.length>0&&this.dialog.open(Bl,{data:{id:s}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&localStorage.removeItem("TransactionId")})}DataGetCurrency(){this.coreSiteService.ServiceGetCurrencyMaster().subscribe({next:s=>{s.isSuccess&&(this.currency=s.item)},error:s=>{this.cmsToastrService.typeError(s)}})}onActionButtonBuy(){this.dialog.open(yr,{height:"90%",data:{LinkPlanPriceId:this.dataModelCalculate.linkPlanPriceId,LinkClientId:this.dataModelCalculate.linkClientId}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate})}onActionBackToParent(){this.router.navigate(["/data-provider/client/"])}onInputChange(s){this.price=s.target.value}};Pa.\u0275fac=function(e){return new(e||Pa)(I(La),I(Ut),I(je),I(zn),I(N),I(Ze),I(F))},Pa.\u0275cmp=L({type:Pa,selectors:[["app-data-provider-client-charge"]],standalone:!1,decls:23,vars:13,consts:[[3,"optionId"],[1,"row"],["Class","col-xl-12"],[1,"col"],[1,"example-card"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(b(0,gb,1,1,"app-data-provider-plan-header",0),a(1,"div",1)(2,"div",2)(3,"div",1)(4,"div",3)(5,"mat-card",4)(6,"mat-card-header")(7,"mat-card-title"),c(8),S(9,"translate"),r(),C(10,"mat-card-subtitle"),r(),a(11,"mat-card-content")(12,"p"),C(13,"br"),c(14),r()(),a(15,"mat-card-actions")(16,"button",5),g("click",function(){return i.onActionButtonBuy()}),c(17),S(18,"translate"),r(),a(19,"button",6),g("click",function(){return i.onActionBackToParent()}),C(20,"i",7),c(21),S(22,"translate"),r()()()()()()()),e&2&&(M(i.requestLinkClientId&&(typeof i.requestLinkClientId=="string"?i.requestLinkClientId.length>0:i.requestLinkClientId>0)?0:-1),o(8),v(" ",h(9,7,"TITLE.Amount_payable")," "),o(6),Vr(" 20000 ",i.LinkPlanPriceId," ",i.price," ",i.currency," "),o(3),v(" ",h(18,9,"ACTION.BUY")," "),o(4),v(" ",h(22,11,"ACTION.BACK")," "))},dependencies:[Ha,ja,qa,Ua,rl,Wa,no,B],encapsulation:2});var Tr=Pa;var bb=()=>[5,10,20,100];function Mb(n,s){if(n&1){let e=P();a(0,"a",51),g("click",function(){p(e);let t=d();return m(t.onActionBackToParent())}),C(1,"i",52),r()}}function Ib(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",22),g("click",function(){p(e);let t=d();return m(t.onActionButtonNewRow())}),C(2,"i",53)(3,"br"),r(),a(4,"p",20),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.ADD")," "))}function Pb(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",54),g("click",function(){p(e);let t=d();return m(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",55)(3,"br"),r(),a(4,"p",20),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.EDIT")," "))}function wb(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",56),g("click",function(){p(e);let t=d();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",57)(3,"br"),r(),a(4,"p",20),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.DELETE")," "))}function Eb(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",19),g("click",function(){p(e);let t=d();return m(t.onActionButtonCopy(t.tableRowSelected))}),C(2,"i",58)(3,"br"),r(),a(4,"p",20),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.COPY")," "))}function Db(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",10),g("click",function(){p(e);let t=d();return m(t.onActionButtonSendTest(t.tableRowSelected))}),C(2,"i",59)(3,"br"),r(),a(4,"p",20),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.SEND_TEST")," "))}function yb(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",10),g("click",function(){p(e);let t=d();return m(t.onActionButtonReportsRow(t.tableRowSelected))}),C(2,"i",60)(3,"br"),r(),a(4,"p",20),c(5),S(6,"translate"),r()()}n&2&&(o(5),v(" ",h(6,1,"ACTION.REPORTS")," "))}function Tb(n,s){n&1&&(a(0,"mat-header-cell",61),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"TITLE.PICTURE")," "))}function Ab(n,s){if(n&1&&(C(0,"img",62),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;_("src",R(h(1,2,e.linkMainImageIdSrc)),oe)}}function Rb(n,s){if(n&1&&(a(0,"mat-cell"),b(1,Ab,2,4,"img",62),r()),n&2){let e=s.$implicit;o(),M((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function xb(n,s){if(n&1&&(a(0,"mat-header-cell",61),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function kb(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),v(" ",e.id," ")}}function Lb(n,s){if(n&1&&(a(0,"mat-header-cell",61),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Vb(n,s){if(n&1&&(a(0,"mat-cell",63),S(1,"statusCellClass"),C(2,"i",63),S(3,"statusIconClass"),r()),n&2){let e=s.$implicit;_("ngClass",h(1,2,e.recordStatus)),o(2),_("ngClass",h(3,4,e.recordStatus))}}function Bb(n,s){if(n&1&&(a(0,"mat-header-cell",61),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Fb(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),v(" ",e.title," ")}}function Ob(n,s){if(n&1&&(a(0,"mat-header-cell",61),c(1),r()),n&2){let e=d();o(),v("",e.fieldsInfo.linkSourceCompanyId==null?null:e.fieldsInfo.linkSourceCompanyId.fieldTitle," ")}}function Nb(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"cmstitle"),r()),n&2){let e=s.$implicit,i=d();o(),v(" ",di(2,1,e.linkSourceCompanyId,i.dataModelCompanyResult.listItems)," ")}}function Gb(n,s){if(n&1&&(a(0,"mat-header-cell",61),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.linkPublicConfigId==null?null:e.fieldsInfo.linkPublicConfigId.fieldTitle," ")}}function Hb(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"cmstitle"),r()),n&2){let e=s.$implicit,i=d();o(),v(" ",di(2,1,e.linkPublicConfigId,i.dataModelPublicResult.listItems)," ")}}function Wb(n,s){if(n&1&&(a(0,"mat-header-cell",61),c(1),r()),n&2){let e=d();o(),v(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function qb(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"localeDate"),r()),n&2){let e=s.$implicit;o(),v(" ",h(2,1,e.updatedDate)," ")}}function jb(n,s){n&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),v(" ",h(2,1,"TITLE.OPTION")," "))}function Ub(n,s){if(n&1&&(a(0,"mat-cell",64)(1,"button",65)(2,"mat-icon"),c(3,"more_vert"),r()(),C(4,"mat-menu",null,2),r()),n&2){let e=x(5);o(),_("matMenuTriggerFor",e)}}function Qb(n,s){n&1&&(a(0,"mat-header-cell",61),c(1,". "),r())}function zb(n,s){n&1&&(a(0,"mat-cell")(1,"mat-icon",66),c(2,"reorder"),r()())}function Kb(n,s){n&1&&C(0,"mat-header-row")}function Jb(n,s){n&1&&C(0,"div",69)}function Xb(n,s){if(n&1){let e=P();a(0,"mat-row",67),g("click",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=p(e).$implicit,f=d();return m(f.onActionTableRowSelect(l,t))}),V(1,Jb,1,0,"div",68),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),_("cdkDragData",e)}}var wa=class wa extends ht{constructor(e,i,t,l,f,u,k,J,Ge,tt,Ke,ct,ai,jn){super(e,new ri,ai,J,tt);this.contentService=e;this.dataProviderSourceCompanyService=i;this.dataProviderSourcePublicConfigService=t;this.activatedRoute=l;this.cmsToastrService=f;this.cmsConfirmationDialogService=u;this.router=k;this.tokenHelper=J;this.cdr=Ge;this.translate=tt;this.cmsStoreService=Ke;this.pageInfo=ct;this.publicHelper=ai;this.dialog=jn;this.requestLinkSiteId=0;this.requestLinkCompanyId="";this.requestLinkPublicConfigId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new re;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new Y;this.dataModelCompanyResult=new Y;this.dataModelPublicResult=new Y;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","recordStatus","title","linkSourceCompanyId","LinkPublicConfigId","updatedDate","position"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","recordStatus","title","linkSourceCompanyId","LinkPublicConfigId","position"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:In=>this.onSubmitOptionsSearch(In)},this.filteModelContent.sortColumn="priority",this.filteModelContent.sortType=ae.Ascending}filterModelCompiler(e){let i=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkCompanyId")&&(this.requestLinkCompanyId=this.activatedRoute.snapshot.paramMap.get("LinkCompanyId")),this.activatedRoute.snapshot.paramMap.get("LinkSiteId")&&(this.requestLinkSiteId=+this.activatedRoute.snapshot.paramMap.get("LinkSiteId")||0),this.activatedRoute.snapshot.paramMap.get("LinkPublicConfigId")&&(this.requestLinkPublicConfigId=this.activatedRoute.snapshot.paramMap.get("LinkPublicConfigId"));let e=new K;if(this.requestLinkPublicConfigId?.length>0&&(e.propertyName="LinkPublicConfigId",e.value=this.requestLinkPublicConfigId,this.filteModelContent.filters.push(e)),this.requestLinkCompanyId.length>0){let i=new K;i.propertyName="linkSourceCompanyId",i.value=this.requestLinkCompanyId,this.filteModelContent.filters.push(i)}if(this.requestLinkSiteId>0){let i=new K;i.propertyName="linkSiteId",i.value=this.requestLinkSiteId,this.filteModelContent.filters.push(i)}this.filteModelContent.sortColumn="priority",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>Pe(this,null,function*(){this.tokenInfo=i,this.DataGetAll()}))),this.getApiCopmanyList(),this.getPublicConfig()}getPublicConfig(){let e=new re;e.rowPerPage=100,this.dataProviderSourcePublicConfigService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPublicResult=i}})}getApiCopmanyList(){let e=new re;e.rowPerPage=100,this.dataProviderSourceCompanyService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCompanyResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,["position"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ri);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new K;t.propertyName="linkSourceCompanyId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.applyDataGetAllResult(t),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onTableDropRow(e){let i=this.tableSource.data.findIndex(l=>l===e.item.data),t=new Fa;t.id=this.tableSource.data[i].id,t.centerId=this.tableSource.data[e.currentIndex].id,i>e.currentIndex?t.actionGo=Qn.GoUp:t.actionGo=Qn.GoDown,this.contentService.ServiceEditStep(t).subscribe({next:l=>{l.isSuccess?(Na(this.tableSource.data,i,e.currentIndex),this.tableSource.data=this.tableSource.data.slice()):this.cmsToastrService.typeErrorMessage(l.errorMessage)},error:l=>{this.cmsToastrService.typeError(l)}})}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.categoryModelSelected&&this.categoryModelSelected.id.length>0&&(e=this.categoryModelSelected.id),this.requestLinkCompanyId&&this.requestLinkCompanyId.length>0&&(e=this.requestLinkCompanyId);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(bn,{height:"90%",panelClass:i,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{linkSourceCompanyId:e}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/data-provider/main/source-path/edit",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(u=>{this.publicHelper.processService.processStart(f,u,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:u=>{u.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new re,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.filteModelContent.sortColumn="priority",this.categoryModelSelected=e,this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,0)}),this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(k=>{this.publicHelper.processService.processStart(t,k,this.constructorInfoAreaId)});let l=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let k=new K;k.propertyName="recordStatus",k.value=this.filteModelContent.filterActionSearchRecordStatus,l.filters.push(k)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let k=new K;k.propertyName="linkSiteId",k.value=this.filteModelContent.filterActionSearchLinkSiteId,l.filters.push(k)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let k=new K;k.propertyName="linkUserId",k.value=this.filteModelContent.filterActionSearchLinkUserId,l.filters.push(k)}this.contentService.ServiceGetCount(l).subscribe({next:k=>{k.isSuccess?(this.translate.get("MESSAGE.All").subscribe(J=>{i.set(J,k.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(k.errorMessage),this.publicHelper.processService.processStop(t)},error:k=>{this.cmsToastrService.typeError(k),this.publicHelper.processService.processStop(t,!1)}});let f=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let k=new K;k.propertyName="recordStatus",k.value=this.filteModelContent.filterActionSearchRecordStatus,f.filters.push(k)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let k=new K;k.propertyName="linkSiteId",k.value=this.filteModelContent.filterActionSearchLinkSiteId,f.filters.push(k)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let k=new K;k.propertyName="linkUserId",k.value=this.filteModelContent.filterActionSearchLinkUserId,f.filters.push(k)}let u=new K;u.propertyName="recordStatus",u.value=pt.Available,f.filters.push(u),this.contentService.ServiceGetCount(f).subscribe({next:k=>{k.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(J=>{i.set(J,k.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(k.errorMessage),this.publicHelper.processService.processStop(t)},error:k=>{this.cmsToastrService.typeError(k),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonGetBalance(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}let i=this.constructor.name+"GetBalance";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)})}onActionButtonSendMessage(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/data-provider/action/send-message/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/action/send-message/LinkApiPathId",this.tableRowSelected.id])}onActionButtonSupersedesList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/bankpayment/privatesiteconfig/LinkPublicConfigId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/bankpayment/privatesiteconfig/LinkPublicConfigId",this.tableRowSelected.id])}onActionButtonMustSupersedesList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/bankpayment/privatesiteconfig/LinkPublicConfigId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/bankpayment/privatesiteconfig/LinkPublicConfigId",this.tableRowSelected.id])}onActionButtonNumbersList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/data-provider/main/api-number/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/main/api-number/LinkApiPathId",this.tableRowSelected.id])}onActionButtonPermitionList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/data-provider/main/source-path-permission/LinkApiPathId",this.tableRowSelected.id])}onActionButtonOutBoxQueue(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/data-provider/log/outbox-queue/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/log/outbox-queue/LinkApiPathId",this.tableRowSelected.id])}onActionButtonCopy(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessAdd();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(bn,{height:"90%",panelClass:i,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonPriceServicesList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/data-provider/main/source-path-pagination/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/main/source-path-pagination/LinkApiPathId",this.tableRowSelected.id])}onActionButtonSendTest(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e)}onActionButtonReportsRow(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}if(i?.ctrlKey){let t="/#/data-provider/log/source-path/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/log/source-path/LinkApiPathId",this.tableRowSelected.id])}onActionButtonReload(){this.filteModelContent.sortColumn="priority",this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/data-provider/main/source-path-company"])}};wa.\u0275fac=function(i){return new(i||wa)(I(pi),I($t),I(ci),I(Ut),I(N),I(zt),I(Ze),I(ze),I(O),I(F),I(Qe),I(_t),I(G),I(je))},wa.\u0275cmp=L({type:wa,selectors:[["app-data-provider-source-path-list"]],standalone:!1,features:[q],decls:129,vars:62,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-receipt","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-dollar","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-route","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-phone","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-universal-access","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-list-ol","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","cdkDropList","",3,"matSortChange","cdkDropListDropped","dataSource","cdkDropListData"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","linkSourceCompanyId"],["matColumnDef","LinkPublicConfigId"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild","cdkDrag","",3,"ntk-row-selected","cdkDragData","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-copy","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-paper-plane-top","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-file-chart-column","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],["cdkDrag","",1,"ntk-row-mainfild",3,"click","rtclick","cdkDragData"],["class","ntk-row-placeholder",4,"cdkDragPlaceholder"],[1,"ntk-row-placeholder"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(u){return p(l),E(t.viewGuideNotice,u)||(t.viewGuideNotice=u),m(u)}),g("optionOnActionButtonMemoRow",function(){return p(l),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(l),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(l),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(l),m(t.onActionButtonPrintRow())}),y(1,4),a(2,"app-data-provider-source-company-tree",5),g("optionChange",function(u){return p(l),m(t.onActionSelectorSelect(u))}),r(),T(),Me(3,6)(4,7),y(5,8),b(6,Mb,2,0,"a",9),a(7,"a",10),g("click",function(){return p(l),m(t.viewGuideNotice=!t.viewGuideNotice)}),C(8,"i",11),r(),a(9,"a",10),g("click",function(){return p(l),m(t.onActionButtonReload())}),C(10,"i",12),r(),T(),y(11,13),a(12,"a",14),g("click",function(){return p(l),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(13,"mat-slide-toggle",15),c(14),S(15,"translate"),r(),a(16,"a",14),g("click",function(){return p(l),m(t.onActionButtonStatist())}),C(17,"mat-slide-toggle",15),c(18),S(19,"translate"),r(),T(),y(20,16),b(21,Ib,7,3,"div",17),T(),y(22,18),b(23,Pb,7,3,"div",17),b(24,wb,7,3,"div",17),a(25,"div",17)(26,"a",19),g("click",function(){return p(l),m(t.onActionButtonSendTest(t.tableRowSelected))}),a(27,"mat-icon"),c(28,"payment"),r()(),a(29,"p",20),c(30),S(31,"translate"),r()(),a(32,"div",17)(33,"a",19),g("click",function(u){return p(l),m(t.onActionButtonSendMessage(t.tableRowSelected,u))}),C(34,"i",21)(35,"br"),r(),a(36,"p",20),c(37),S(38,"translate"),r()(),a(39,"div",17)(40,"a",22),g("click",function(){return p(l),m(t.onActionButtonGetBalance(t.tableRowSelected))}),C(41,"i",23)(42,"br"),r(),a(43,"p",20),c(44),S(45,"translate"),r()(),a(46,"div",17)(47,"a",19),g("click",function(u){return p(l),m(t.onActionButtonSupersedesList(t.tableRowSelected,u))}),C(48,"i",24)(49,"br"),r(),a(50,"p",20),c(51),S(52,"translate"),r()(),a(53,"div",17)(54,"a",19),g("click",function(u){return p(l),m(t.onActionButtonMustSupersedesList(t.tableRowSelected,u))}),C(55,"i",24)(56,"br"),r(),a(57,"p",20),c(58),S(59,"translate"),r()(),a(60,"div",17)(61,"a",19),g("click",function(u){return p(l),m(t.onActionButtonNumbersList(t.tableRowSelected,u))}),C(62,"i",25)(63,"br"),r(),a(64,"p",20),c(65),S(66,"translate"),r()(),a(67,"div",17)(68,"a",19),g("click",function(u){return p(l),m(t.onActionButtonPriceServicesList(t.tableRowSelected,u))}),C(69,"i",26)(70,"br"),r(),a(71,"p",20),c(72),S(73,"translate"),r()(),a(74,"div",17)(75,"a",19),g("click",function(u){return p(l),m(t.onActionButtonPermitionList(t.tableRowSelected,u))}),C(76,"i",27)(77,"br"),r(),a(78,"p",20),c(79),S(80,"translate"),r()(),a(81,"div",17)(82,"a",19),g("click",function(u){return p(l),m(t.onActionButtonOutBoxQueue(t.tableRowSelected,u))}),C(83,"i",28)(84,"br"),r(),a(85,"p",20),c(86),S(87,"translate"),r()(),b(88,Eb,7,3,"div",17),b(89,Db,7,3,"div",17),b(90,yb,7,3,"div",17),T(),y(91,29),a(92,"app-cms-search-list",30),D("optionsChange",function(u){return p(l),E(t.optionsSearch,u)||(t.optionsSearch=u),m(u)}),r(),a(93,"app-cms-statist-list",30),D("optionsChange",function(u){return p(l),E(t.optionsStatist,u)||(t.optionsStatist=u),m(u)}),r(),T(),y(94,31),a(95,"mat-table",32,0),g("matSortChange",function(){p(l);let u=x(96);return m(t.onTableSortData(u))})("cdkDropListDropped",function(u){return p(l),m(t.onTableDropRow(u))}),y(97,33),V(98,Tb,3,3,"mat-header-cell",34)(99,Rb,2,1,"mat-cell",35),T(),y(100,36),V(101,xb,2,1,"mat-header-cell",34)(102,kb,2,1,"mat-cell",35),T(),y(103,37),V(104,Lb,2,1,"mat-header-cell",34)(105,Vb,4,6,"mat-cell",38),T(),y(106,39),V(107,Bb,2,1,"mat-header-cell",34)(108,Fb,2,1,"mat-cell",35),T(),y(109,40),V(110,Ob,2,1,"mat-header-cell",34)(111,Nb,3,4,"mat-cell",35),T(),y(112,41),V(113,Gb,2,1,"mat-header-cell",34)(114,Hb,3,4,"mat-cell",35),T(),y(115,42),V(116,Wb,2,1,"mat-header-cell",34)(117,qb,3,3,"mat-cell",35),T(),y(118,43),V(119,jb,3,3,"mat-header-cell",44)(120,Ub,6,1,"mat-cell",45),T(),y(121,46),V(122,Qb,2,0,"mat-header-cell",34)(123,zb,3,0,"mat-cell",35),T(),V(124,Kb,1,0,"mat-header-row",47)(125,Xb,2,3,"mat-row",48),r(),T(),y(126,49),a(127,"mat-paginator",50,1),g("page",function(u){return p(l),m(t.onTablePageingData(u))}),r(),T(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!t.requestLinkCompanyId||t.requestLinkCompanyId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(6),M((t.requestLinkCompanyId==null?null:t.requestLinkCompanyId.length)>0?6:-1),o(4),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),v("",h(15,39,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),v("",h(19,41,"ACTION.STATIST")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?21:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),o(6),v(" ",h(31,43,"ACTION.SEND_TEST")," "),o(7),v(" ",h(38,45,"ACTION.SEND_MESSAGE")," "),o(7),v(" ",h(45,47,"ACTION.GET_BALANCE")," "),o(7),v(" ",h(52,49,"ACTION.BACKUP_ROUTES")," "),o(7),v(" ",h(59,51,"ACTION.SUPPORTED_ROUTES")," "),o(7),v(" ",h(66,53,"ACTION.SPECIFIC_NUMBERS")," "),o(7),v(" ",h(73,55,"ACTION.PRICE_LIST")," "),o(7),v(" ",h(80,57,"ACTION.ACEESS")," "),o(7),v(" ",h(87,59,"ACTION.QUEUE")," "),o(2),M(t.categoryModelSelected&&t.categoryModelSelected.id.length>0?88:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?89:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?90:-1),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),_("dataSource",t.tableSource)("cdkDropListData",t.tableSource),o(29),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(61,bb)))},dependencies:[we,$e,Je,It,Pt,pe,Te,Ue,it,wt,ot,Et,at,nt,Dt,rt,lt,yt,Tt,Ae,Re,At,ke,$r,Zr,Yr,el,ua,B,Ka,Ne,dt,xe,tn],encapsulation:2});var Mn=wa;var Yb=["vform"];function Zb(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",67),D("modelChange",function(t){p(e);let l=d();return E(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=d();w("model",e.dataModel.recordStatus),_("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function $b(n,s){n&1&&C(0,"i",70)}function eM(n,s){n&1&&C(0,"i",71)}function tM(n,s){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function iM(n,s){if(n&1){let e=P();a(0,"div",35)(1,"label",68),c(2),r(),a(3,"input",69,9),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.title,t)||(l.dataModel.title=t),m(t)}),r(),b(5,$b,1,0,"i",70),b(6,eM,1,0,"i",71),a(7,"em"),c(8),r(),b(9,tM,5,3,"mat-error"),r()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),_("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),M(e.value?-1:5),o(),M(e.value?6:-1),o(2),v("",e.value.length," / 100"),o(),M(e.errors!=null&&e.errors.required?9:-1)}}function nM(n,s){if(n&1){let e=P();a(0,"div",35)(1,"label",72),c(2),r(),a(3,"input",73,10),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.apiIdentity,t)||(l.dataModel.apiIdentity=t),m(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.apiIdentity==null?null:e.fieldsInfo.apiIdentity.fieldTitle),o(),w("ngModel",e.dataModel.apiIdentity),_("disabled",!(e.fieldsInfo.apiIdentity!=null&&e.fieldsInfo.apiIdentity.accessEditField))}}function oM(n,s){if(n&1){let e=P();a(0,"div",35)(1,"label",74),c(2),r(),a(3,"input",75,11),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.apiMinPathNeedToCheck,t)||(l.dataModel.apiMinPathNeedToCheck=t),m(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.apiMinPathNeedToCheck==null?null:e.fieldsInfo.apiMinPathNeedToCheck.fieldTitle),o(),w("ngModel",e.dataModel.apiMinPathNeedToCheck),_("disabled",!(e.fieldsInfo.apiMinPathNeedToCheck!=null&&e.fieldsInfo.apiMinPathNeedToCheck.accessEditField))}}function aM(n,s){if(n&1){let e=P();a(0,"div",35)(1,"label",76),c(2),r(),a(3,"input",77,12),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.apiReceiveKey,t)||(l.dataModel.apiReceiveKey=t),m(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.apiReceiveKey==null?null:e.fieldsInfo.apiReceiveKey.fieldTitle),o(),w("ngModel",e.dataModel.apiReceiveKey),_("disabled",!(e.fieldsInfo.apiReceiveKey!=null&&e.fieldsInfo.apiReceiveKey.accessEditField))}}function rM(n,s){if(n&1){let e=P();a(0,"div",35)(1,"label",78),c(2),r(),a(3,"input",79,13),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.apiAbilityLengthMinToSend,t)||(l.dataModel.apiAbilityLengthMinToSend=t),m(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.apiAbilityLengthMinToSend==null?null:e.fieldsInfo.apiAbilityLengthMinToSend.fieldTitle),o(),w("ngModel",e.dataModel.apiAbilityLengthMinToSend),_("disabled",!(e.fieldsInfo.apiAbilityLengthMinToSend!=null&&e.fieldsInfo.apiAbilityLengthMinToSend.accessEditField))}}function lM(n,s){if(n&1){let e=P();a(0,"div",35)(1,"label",80),c(2),r(),a(3,"input",81,14),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.apiAbilityLengthMaxToSend,t)||(l.dataModel.apiAbilityLengthMaxToSend=t),m(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.apiAbilityLengthMaxToSend==null?null:e.fieldsInfo.apiAbilityLengthMaxToSend.fieldTitle),o(),w("ngModel",e.dataModel.apiAbilityLengthMaxToSend),_("disabled",!(e.fieldsInfo.apiAbilityLengthMaxToSend!=null&&e.fieldsInfo.apiAbilityLengthMaxToSend.accessEditField))}}function sM(n,s){if(n&1){let e=P();a(0,"div",35)(1,"label",82),c(2),r(),a(3,"input",83,15),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.priority,t)||(l.dataModel.priority=t),m(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.priority==null?null:e.fieldsInfo.priority.fieldTitle),o(),w("ngModel",e.dataModel.priority),_("disabled",!(e.fieldsInfo.priority!=null&&e.fieldsInfo.priority.accessEditField))}}function dM(n,s){if(n&1){let e=P();a(0,"div",35)(1,"label",84),c(2),r(),a(3,"input",85,16),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.maxProcessFlowAmount,t)||(l.dataModel.maxProcessFlowAmount=t),m(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.maxProcessFlowAmount==null?null:e.fieldsInfo.maxProcessFlowAmount.fieldTitle),o(),w("ngModel",e.dataModel.maxProcessFlowAmount),_("disabled",!(e.fieldsInfo.maxProcessFlowAmount!=null&&e.fieldsInfo.maxProcessFlowAmount.accessEditField))}}function cM(n,s){if(n&1){let e=P();a(0,"div",35)(1,"label",86),c(2),r(),a(3,"input",87,17),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.minProcessFlowAmount,t)||(l.dataModel.minProcessFlowAmount=t),m(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.minProcessFlowAmount==null?null:e.fieldsInfo.minProcessFlowAmount.fieldTitle),o(),w("ngModel",e.dataModel.minProcessFlowAmount),_("disabled",!(e.fieldsInfo.minProcessFlowAmount!=null&&e.fieldsInfo.minProcessFlowAmount.accessEditField))}}function pM(n,s){if(n&1){let e=P();a(0,"div",35)(1,"label",88),c(2),r(),a(3,"input",89,18),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.fixFeeProcessFlowAmount,t)||(l.dataModel.fixFeeProcessFlowAmount=t),m(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.fixFeeProcessFlowAmount==null?null:e.fieldsInfo.fixFeeProcessFlowAmount.fieldTitle),o(),w("ngModel",e.dataModel.fixFeeProcessFlowAmount),_("disabled",!(e.fieldsInfo.fixFeeProcessFlowAmount!=null&&e.fieldsInfo.fixFeeProcessFlowAmount.accessEditField))}}function mM(n,s){if(n&1){let e=P();a(0,"div",35)(1,"label",90),c(2),r(),a(3,"input",91,19),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.percentFeeProcessFlowAmount,t)||(l.dataModel.percentFeeProcessFlowAmount=t),m(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.percentFeeProcessFlowAmount==null?null:e.fieldsInfo.percentFeeProcessFlowAmount.fieldTitle),o(),w("ngModel",e.dataModel.percentFeeProcessFlowAmount),_("disabled",!(e.fieldsInfo.percentFeeProcessFlowAmount!=null&&e.fieldsInfo.percentFeeProcessFlowAmount.accessEditField))}}function uM(n,s){if(n&1){let e=P();a(0,"div",38)(1,"label",92),c(2),r(),a(3,"input",93),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.perriodStartWorkTime,t)||(l.dataModel.perriodStartWorkTime=t),m(t)}),r(),C(4,"ngx-material-timepicker-toggle",59)(5,"ngx-material-timepicker",94,20),r()}if(n&2){let e=x(6),i=d();o(2),A(i.fieldsInfo.perriodStartWorkTime==null?null:i.fieldsInfo.perriodStartWorkTime.fieldTitle),o(),_("ngxTimepicker",e),w("ngModel",i.dataModel.perriodStartWorkTime),_("format",24),o(),_("for",e)}}function fM(n,s){if(n&1){let e=P();a(0,"div",38)(1,"label",95),c(2),r(),a(3,"input",96),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.perriodEndWorkTime,t)||(l.dataModel.perriodEndWorkTime=t),m(t)}),r(),C(4,"ngx-material-timepicker-toggle",59)(5,"ngx-material-timepicker",94,21),r()}if(n&2){let e=x(6),i=d();o(2),A(i.fieldsInfo.perriodEndWorkTime==null?null:i.fieldsInfo.perriodEndWorkTime.fieldTitle),o(),_("ngxTimepicker",e),w("ngModel",i.dataModel.perriodEndWorkTime),_("format",24),o(),_("for",e)}}function _M(n,s){n&1&&(a(0,"mat-error"),c(1," Description is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function SM(n,s){if(n&1){let e=P();a(0,"div",43)(1,"button",97),g("click",function(){p(e);let t=d();return m(t.onActionBackToParent())}),c(2),S(3,"translate"),r(),a(4,"button",98),c(5),S(6,"translate"),r(),a(7,"button",99),c(8),S(9,"translate"),r()()}if(n&2){d();let e=x(13);o(2),v(" ",h(3,5,"ACTION.BACK")," "),o(2),_("disabled",!e.form.valid),o(),v(" ",h(6,7,"ACTION.NEXT")," "),o(2),_("disabled",!e.form.valid),o(),v(" ",h(9,9,"ACTION.SAVE")," ")}}function CM(n,s){if(n&1){let e=P();a(0,"div",46)(1,"button",100),g("click",function(){p(e);let t=d();return m(t.onActionButtonGetToken())}),c(2),S(3,"translate"),r(),a(4,"button",100),g("click",function(){p(e);let t=d();return m(t.onActionButtonGetBalance())}),c(5),S(6,"translate"),r(),C(7,"br"),a(8,"button",97),g("click",function(){p(e);let t=d();return m(t.onActionBackToParent())}),c(9),S(10,"translate"),r(),a(11,"button",101),c(12),S(13,"translate"),r(),a(14,"button",98),c(15),S(16,"translate"),r(),a(17,"button",99),c(18),S(19,"translate"),r()()}if(n&2){d();let e=x(13);o(2),v(" ",h(3,8,"ACTION.CHECK_ROUTE_TOKEN")," "),o(3),v(" ",h(6,10,"ACTION.CHECK_ROUTE_BALANCE")," "),o(4),v(" ",h(10,12,"ACTION.BACK")," "),o(3),v(" ",h(13,14,"ACTION.BEFOR")," "),o(2),_("disabled",!e.form.valid),o(),v(" ",h(16,16,"ACTION.NEXT")," "),o(2),_("disabled",!e.form.valid),o(),v(" ",h(19,18,"ACTION.SAVE")," ")}}function hM(n,s){if(n&1){let e=P();a(0,"div",47)(1,"div",102)(2,"h5",103),c(3),r()(),a(4,"div",104)(5,"div",105)(6,"input",106),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.apiSendMessageIsOn,t)||(l.dataModel.apiSendMessageIsOn=t),m(t)}),r(),C(7,"label",107),r()()()}if(n&2){let e=d();o(3),v(" ",e.fieldsInfo.apiSendMessageIsOn==null?null:e.fieldsInfo.apiSendMessageIsOn.fieldTitle," "),o(3),w("ngModel",e.dataModel.apiSendMessageIsOn)}}function vM(n,s){n&1&&(a(0,"mat-error"),c(1," apiSendMessageAddTextFirst is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function gM(n,s){n&1&&(a(0,"mat-error"),c(1," apiSendMessageAddTextEnd is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function bM(n,s){n&1&&(a(0,"mat-error"),c(1," sendMessageAddTextFirst is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function MM(n,s){n&1&&(a(0,"mat-error"),c(1," sendMessageAddTextEnd is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function IM(n,s){if(n&1){let e=P();a(0,"div",47)(1,"div",102)(2,"h5",108),c(3),r()(),a(4,"div",104)(5,"div",105)(6,"input",109),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.apiAbilitySendUnicodeMessage,t)||(l.dataModel.apiAbilitySendUnicodeMessage=t),m(t)}),r(),C(7,"label",110),r()()()}if(n&2){let e=d();o(3),v(" ",e.fieldsInfo.apiAbilitySendUnicodeMessage==null?null:e.fieldsInfo.apiAbilitySendUnicodeMessage.fieldTitle," "),o(3),w("ngModel",e.dataModel.apiAbilitySendUnicodeMessage)}}function PM(n,s){if(n&1){let e=P();a(0,"div",47)(1,"div",102)(2,"h5",111),c(3),r()(),a(4,"div",104)(5,"div",105)(6,"input",112),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.apiAbilitySendNormalMessage,t)||(l.dataModel.apiAbilitySendNormalMessage=t),m(t)}),r(),C(7,"label",113),r()()()}if(n&2){let e=d();o(3),v(" ",e.fieldsInfo.apiAbilitySendNormalMessage==null?null:e.fieldsInfo.apiAbilitySendNormalMessage.fieldTitle," "),o(3),w("ngModel",e.dataModel.apiAbilitySendNormalMessage)}}function wM(n,s){if(n&1){let e=P();a(0,"div",47)(1,"div",102)(2,"h5",114),c(3),r()(),a(4,"div",104)(5,"div",105)(6,"input",115),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.apiAllowSupersede,t)||(l.dataModel.apiAllowSupersede=t),m(t)}),r(),C(7,"label",116),r()()()}if(n&2){let e=d();o(3),v(" ",e.fieldsInfo.apiAllowSupersede==null?null:e.fieldsInfo.apiAllowSupersede.fieldTitle," "),o(3),w("ngModel",e.dataModel.apiAllowSupersede)}}function EM(n,s){if(n&1){let e=P();a(0,"div",47)(1,"div",102)(2,"h5",117),c(3),r()(),a(4,"div",104)(5,"div",105)(6,"input",118),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.apiAbilityUseWebservice,t)||(l.dataModel.apiAbilityUseWebservice=t),m(t)}),r(),C(7,"label",119),r()()()}if(n&2){let e=d();o(3),v(" ",e.fieldsInfo.apiAbilityUseWebservice==null?null:e.fieldsInfo.apiAbilityUseWebservice.fieldTitle," "),o(3),w("ngModel",e.dataModel.apiAbilityUseWebservice)}}function DM(n,s){if(n&1){let e=P();a(0,"div",47)(1,"div",102)(2,"h5",120),c(3),r()(),a(4,"div",104)(5,"div",105)(6,"input",121),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.apiAbilityUseInside,t)||(l.dataModel.apiAbilityUseInside=t),m(t)}),r(),C(7,"label",122),r()()()}if(n&2){let e=d();o(3),v(" ",e.fieldsInfo.apiAbilityUseInside==null?null:e.fieldsInfo.apiAbilityUseInside.fieldTitle," "),o(3),w("ngModel",e.dataModel.apiAbilityUseInside)}}function yM(n,s){if(n&1){let e=P();a(0,"div",43)(1,"button",97),g("click",function(){p(e);let t=d();return m(t.onActionBackToParent())}),c(2),S(3,"translate"),r(),a(4,"button",101),c(5),S(6,"translate"),r(),a(7,"button",98),c(8),S(9,"translate"),r(),a(10,"button",99),c(11),S(12,"translate"),r()()}if(n&2){d();let e=x(13);o(2),v(" ",h(3,6,"ACTION.BACK")," "),o(3),v(" ",h(6,8,"ACTION.BEFOR")," "),o(2),_("disabled",!e.form.valid),o(),v(" ",h(9,10,"ACTION.NEXT")," "),o(2),_("disabled",!e.form.valid),o(),v(" ",h(12,12,"ACTION.SAVE")," ")}}function TM(n,s){if(n&1){let e=P();a(0,"div",43)(1,"button",97),g("click",function(){p(e);let t=d(2);return m(t.onActionBackToParent())}),c(2),S(3,"translate"),r(),a(4,"button",101),c(5),S(6,"translate"),r(),a(7,"button",98),c(8),S(9,"translate"),r(),a(10,"button",99),c(11),S(12,"translate"),r()()}if(n&2){d(2);let e=x(13);o(2),v(" ",h(3,6,"ACTION.BACK")," "),o(3),v(" ",h(6,8,"ACTION.BEFOR")," "),o(2),_("disabled",!e.form.valid),o(),v(" ",h(9,10,"ACTION.NEXT")," "),o(2),_("disabled",!e.form.valid),o(),v(" ",h(12,12,"ACTION.SAVE")," ")}}function AM(n,s){if(n&1&&(a(0,"mat-step",44),S(1,"translate"),a(2,"p"),c(3),S(4,"translate"),r(),b(5,TM,13,14,"div",43),r()),n&2){let e=d();_("label",R(h(1,4,"TITLE.Status_receiving_variables"))),o(3),A(h(4,6,"TITLE.Set_acess")),o(2),M(e.formInfo.submitButtonEnabled?5:-1)}}function RM(n,s){if(n&1){let e=P();a(0,"div",47)(1,"div",102)(2,"h5",123),c(3),r()(),a(4,"div",104)(5,"div",105)(6,"input",124),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.serverDeliveryCostBase,t)||(l.dataModel.serverDeliveryCostBase=t),m(t)}),r(),C(7,"label",125),r()()()}if(n&2){let e=d();o(3),v(" ",e.fieldsInfo.serverDeliveryCostBase==null?null:e.fieldsInfo.serverDeliveryCostBase.fieldTitle," "),o(3),w("ngModel",e.dataModel.serverDeliveryCostBase)}}function xM(n,s){if(n&1){let e=P();a(0,"div",35)(1,"label",126),c(2),r(),a(3,"input",127,22),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.statusOutOfServiceMonitorApiChar,t)||(l.dataModel.statusOutOfServiceMonitorApiChar=t),m(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.statusOutOfServiceMonitorApiChar==null?null:e.fieldsInfo.statusOutOfServiceMonitorApiChar.fieldTitle),o(),w("ngModel",e.dataModel.statusOutOfServiceMonitorApiChar),_("disabled",!(e.fieldsInfo.statusOutOfServiceMonitorApiChar!=null&&e.fieldsInfo.statusOutOfServiceMonitorApiChar.accessEditField))}}function kM(n,s){if(n&1){let e=P();a(0,"div",47)(1,"div",102)(2,"h5",128),c(3),r()(),a(4,"div",104)(5,"div",105)(6,"input",129),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.statusOutOfServiceActive,t)||(l.dataModel.statusOutOfServiceActive=t),m(t)}),r(),C(7,"label",130),r()()()}if(n&2){let e=d();o(3),v(" ",e.fieldsInfo.statusOutOfServiceActive==null?null:e.fieldsInfo.statusOutOfServiceActive.fieldTitle," "),o(3),w("ngModel",e.dataModel.statusOutOfServiceActive)}}function LM(n,s){if(n&1){let e=P();a(0,"div",47)(1,"div",102)(2,"h5",131),c(3),r()(),a(4,"div",104)(5,"div",105)(6,"input",132),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.statusNotStableActive,t)||(l.dataModel.statusNotStableActive=t),m(t)}),r(),C(7,"label",133),r()()()}if(n&2){let e=d();o(3),v(" ",e.fieldsInfo.apiAbilityUseInside==null?null:e.fieldsInfo.apiAbilityUseInside.fieldTitle," "),o(3),w("ngModel",e.dataModel.statusNotStableActive)}}function VM(n,s){if(n&1){let e=P();a(0,"div",35)(1,"label",134),c(2),r(),a(3,"input",135,23),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.statusNotStableCount,t)||(l.dataModel.statusNotStableCount=t),m(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.statusNotStableCount==null?null:e.fieldsInfo.statusNotStableCount.fieldTitle),o(),w("ngModel",e.dataModel.statusNotStableCount),_("disabled",!(e.fieldsInfo.statusNotStableCount!=null&&e.fieldsInfo.statusNotStableCount.accessEditField))}}function BM(n,s){if(n&1){let e=P();a(0,"div",35)(1,"label",136),c(2),r(),a(3,"input",137,24),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.statusNotStableCountLimit,t)||(l.dataModel.statusNotStableCountLimit=t),m(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.statusNotStableCountLimit==null?null:e.fieldsInfo.statusNotStableCountLimit.fieldTitle),o(),w("ngModel",e.dataModel.statusNotStableCountLimit),_("disabled",!(e.fieldsInfo.statusNotStableCountLimit!=null&&e.fieldsInfo.statusNotStableCountLimit.accessEditField))}}function FM(n,s){if(n&1){let e=P();a(0,"div",35)(1,"label",138),c(2),r(),a(3,"input",139,25),D("ngModelChange",function(t){p(e);let l=d();return E(l.dataModel.statusNotStableRunForMin,t)||(l.dataModel.statusNotStableRunForMin=t),m(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.statusNotStableRunForMin==null?null:e.fieldsInfo.statusNotStableRunForMin.fieldTitle),o(),w("ngModel",e.dataModel.statusNotStableRunForMin),_("disabled",!(e.fieldsInfo.statusNotStableRunForMin!=null&&e.fieldsInfo.statusNotStableRunForMin.accessEditField))}}function OM(n,s){if(n&1){let e=P();a(0,"div",43)(1,"button",97),g("click",function(){p(e);let t=d();return m(t.onActionBackToParent())}),c(2),S(3,"translate"),r(),a(4,"button",101),c(5),S(6,"translate"),r(),a(7,"button",98),c(8),S(9,"translate"),r(),a(10,"button",99),c(11),S(12,"translate"),r()()}if(n&2){d();let e=x(13);o(2),v(" ",h(3,6,"ACTION.BACK")," "),o(3),v(" ",h(6,8,"ACTION.BEFOR")," "),o(2),_("disabled",!e.form.valid),o(),v(" ",h(9,10,"ACTION.NEXT")," "),o(2),_("disabled",!e.form.valid),o(),v(" ",h(12,12,"ACTION.SAVE")," ")}}function NM(n,s){if(n&1){let e=P();a(0,"div",43)(1,"button",97),g("click",function(){p(e);let t=d(2);return m(t.onActionBackToParent())}),c(2),S(3,"translate"),r(),a(4,"button",101),c(5),S(6,"translate"),r(),a(7,"button",98),c(8),S(9,"translate"),r(),a(10,"button",99),c(11),S(12,"translate"),r()()}if(n&2){d(2);let e=x(13);o(2),v(" ",h(3,6,"ACTION.BACK")," "),o(3),v(" ",h(6,8,"ACTION.BEFOR")," "),o(2),_("disabled",!e.form.valid),o(),v(" ",h(9,10,"ACTION.NEXT")," "),o(2),_("disabled",!e.form.valid),o(),v(" ",h(12,12,"ACTION.SAVE")," ")}}function GM(n,s){if(n&1&&(a(0,"mat-step",44),S(1,"translate"),b(2,NM,13,14,"div",43),r()),n&2){let e=d();_("label",R(h(1,3,"TITLE.Receiving_variables"))),o(2),M(e.formInfo.submitButtonEnabled?2:-1)}}function HM(n,s){if(n&1){let e=P();a(0,"div",43)(1,"button",97),g("click",function(){p(e);let t=d(2);return m(t.onActionBackToParent())}),c(2),S(3,"translate"),r(),a(4,"button",101),c(5),S(6,"translate"),r(),a(7,"button",98),c(8),S(9,"translate"),r(),a(10,"button",100),g("click",function(){p(e);let t=d(2);return m(t.onActionButtonGetToken())}),c(11),S(12,"translate"),r(),a(13,"button",100),g("click",function(){p(e);let t=d(2);return m(t.onActionButtonGetBalance())}),c(14),S(15,"translate"),r(),a(16,"button",99),c(17),S(18,"translate"),r()()}if(n&2){d(2);let e=x(13);o(2),v(" ",h(3,8,"ACTION.BACK")," "),o(3),v(" ",h(6,10,"ACTION.BEFOR")," "),o(2),_("disabled",!e.form.valid),o(),v(" ",h(9,12,"ACTION.NEXT")," "),o(3),v(" ",h(12,14,"ACTION.CHECK_ROUTE_TOKEN")," "),o(3),v(" ",h(15,16,"ACTION.CHECK_ROUTE_BALANCE")," "),o(2),_("disabled",!e.form.valid),o(),v(" ",h(18,18,"ACTION.SAVE")," ")}}function WM(n,s){if(n&1&&(a(0,"mat-step",44),S(1,"translate"),b(2,HM,19,20,"div",43),r()),n&2){let e=d();_("label",R(h(1,3,"TITLE.Check_validity"))),o(2),M(e.formInfo.submitButtonEnabled?2:-1)}}function qM(n,s){if(n&1){let e=P();a(0,"div",43)(1,"button",97),g("click",function(){p(e);let t=d(2);return m(t.onActionBackToParent())}),c(2),S(3,"translate"),r(),a(4,"button",101),c(5),S(6,"translate"),r(),a(7,"button",98),c(8),S(9,"translate"),r(),a(10,"button",99),c(11),S(12,"translate"),r()()}if(n&2){d(2);let e=x(13);o(2),v(" ",h(3,6,"ACTION.BACK")," "),o(3),v(" ",h(6,8,"ACTION.BEFOR")," "),o(2),_("disabled",!e.form.valid),o(),v(" ",h(9,10,"ACTION.NEXT")," "),o(2),_("disabled",!e.form.valid),o(),v(" ",h(12,12,"ACTION.SAVE")," ")}}function jM(n,s){if(n&1&&(a(0,"mat-step",44),S(1,"translate"),b(2,qM,13,14,"div",43),r()),n&2){let e=d();_("label",Wt(" ",h(1,3,"TITLE.Variables_for_sending_voice_messagesy"))),o(2),M(e.formInfo.submitButtonEnabled?2:-1)}}function UM(n,s){if(n&1){let e=P();a(0,"div",43)(1,"button",97),g("click",function(){p(e);let t=d(2);return m(t.onActionBackToParent())}),c(2),S(3,"translate"),r(),a(4,"button",101),c(5),S(6,"translate"),r(),a(7,"button",99),c(8),S(9,"translate"),r()()}if(n&2){d(2);let e=x(13);o(2),v(" ",h(3,4,"ACTION.BACK")," "),o(3),v(" ",h(6,6,"ACTION.BEFOR")," "),o(2),_("disabled",!e.form.valid),o(),v(" ",h(9,8,"ACTION.SAVE")," ")}}function QM(n,s){if(n&1&&(a(0,"mat-step",44),S(1,"translate"),b(2,UM,10,10,"div",43),r()),n&2){let e=d();_("label",R(h(1,3,"TITLE.Error_variables"))),o(2),M(e.formInfo.submitButtonEnabled?2:-1)}}function zM(n,s){n&1&&(a(0,"mat-icon"),c(1,"call_end"),r())}function KM(n,s){n&1&&(a(0,"mat-icon"),c(1,"call_end"),r())}function JM(n,s){n&1&&(a(0,"mat-icon"),c(1,"forum"),r())}function XM(n,s){n&1&&(a(0,"mat-icon"),c(1,"forum"),r())}var Ea=class Ea extends Ct{constructor(e,i,t,l,f,u,k,J){super(i,new ri,l,J);this.coreEnumService=e;this.dataProviderSourcePathService=i;this.cmsToastrService=t;this.publicHelper=l;this.router=f;this.cdr=u;this.activatedRoute=k;this.translate=J;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.complatedView=!1;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new mt;this.dataModel=new zr;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.activatedRoute.snapshot.paramMap.get("id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("id")),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.router.navigate(["/data-provider/main/source-path/list"]);return}}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourcePathService.setAccessLoad(),this.dataProviderSourcePathService.setAccessDataType(Oe.Editor),this.dataProviderSourcePathService.ServiceGetOneWithJsonFormatter(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.item.perriodStartWorkTime?i.item.perriodStartWorkTime=i.item.perriodStartWorkTime.substring(0,i.item.perriodStartWorkTime.indexOf(":",i.item.perriodStartWorkTime.indexOf(":")+1)):i.item.perriodStartWorkTime="",i.item.perriodEndWorkTime?i.item.perriodEndWorkTime=i.item.perriodEndWorkTime.substring(0,i.item.perriodEndWorkTime.indexOf(":",i.item.perriodEndWorkTime.indexOf(":")+1)):i.item.perriodEndWorkTime="",this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourcePathService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonGetToken(){let e=this.constructor.name+"GetToken";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)})}onActionButtonGetBalance(){let e=this.constructor.name+"GetBalance";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)})}onActionSelectorSelectlinkSourceCompanyId(e){if(!e||e.id.length<=0){this.translate.get("MESSAGE.Information_application_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkSourceCompanyId=e.id}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/data-provider/main/source-path/list"])}onActionSelectSource(e){this.dataModel.linkPublicConfigId=null,e&&e.id?.length>0&&(this.dataModel.linkPublicConfigId=e.id)}onFormSubmit(){if(this.formGroup.valid){if(!this.dataModel.linkSourceCompanyId||this.dataModel.linkSourceCompanyId.length==0){this.translate.get("MESSAGE.Service_company_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}if(!this.dataModel.linkPublicConfigId||this.dataModel.linkPublicConfigId.length==0){this.translate.get("MESSAGE.Service_type_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.formInfo.submitButtonEnabled=!1,this.DataEditContent()}}onFormCancel(){this.router.navigate(["/data-provider/main/source-path/list"])}};Ea.\u0275fac=function(i){return new(i||Ea)(I(ie),I(pi),I(N),I(G),I(Ze),I(O),I(Ut),I(F))},Ea.\u0275cmp=L({type:Ea,selectors:[["app-data-provider-source-path-edit"]],viewQuery:function(i,t){if(i&1&&U(Yb,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:135,vars:123,consts:[["vform","ngForm"],["stepper",""],["Description",""],["apiSendMessageAddTextFirst",""],["apiSendMessageAddTextEnd",""],["sendMessageAddTextFirst",""],["sendMessageAddTextEnd",""],["StatusOutOfServiceExpire",""],["StatusNotStableExpire",""],["Title",""],["ApiIdentity",""],["ApiMinPathNeedToCheck",""],["ApiReceiveKey",""],["ApiAbilityLengthMinToSend",""],["ApiAbilityLengthMaxToSend",""],["Priority",""],["MaxProcessFlowAmount",""],["MinProcessFlowAmount",""],["FixFeeProcessFlowAmount",""],["PercentFeeProcessFlowAmount",""],["PerriodStartWorkTime",""],["PerriodEndWorkTime",""],["StatusOutOfServiceMonitorApiChar",""],["StatusNotStableCount",""],["StatusNotStableCountLimit",""],["StatusNotStableRunForMin",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.memo",1,"color-highlight"],["matInput","","name","dataModel.memo","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.memo",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["state","seo",3,"label"],[3,"jsonValueChange","formGroup","jsonValue","propertiesInfos"],[1,"ntk-button-row"],[1,"d-flex","mb-3"],["for","dataModel.apiSendMessageAddTextFirst",1,"color-highlight"],["matInput","","name","dataModel.apiSendMessageAddTextFirst","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.apiSendMessageAddTextFirst",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.apiSendMessageAddTextEnd",1,"color-highlight"],["matInput","","name","dataModel.apiSendMessageAddTextEnd","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.apiSendMessageAddTextEnd",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.sendMessageAddTextFirst",1,"color-highlight"],["matInput","","name","dataModel.sendMessageAddTextFirst","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.sendMessageAddTextFirst",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.sendMessageAddTextEnd",1,"color-highlight"],["matInput","","name","dataModel.sendMessageAddTextEnd","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.sendMessageAddTextEnd",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"divider","mt-3","mb-3"],["for","dataModel.statusOutOfServiceExpire",1,"color-highlight"],["matInput","","name","dataModel.statusOutOfServiceExpire","type","text","id","dataModel.statusOutOfServiceExpire",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["for","dataModel.statusNotStableExpire",1,"color-highlight"],["matInput","","name","dataModel.statusNotStableExpire","type","text","id","dataModel.statusNotStableExpire",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.apiIdentity",1,"color-highlight"],["matInput","","name","dataModel.apiIdentity","type","number","placeholder","1","id","dataModel.apiIdentity",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.apiMinPathNeedToCheck",1,"color-highlight"],["matInput","","name","dataModel.apiMinPathNeedToCheck","type","number","placeholder","1","id","dataModel.apiMinPathNeedToCheck",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.apiReceiveKey",1,"color-highlight"],["matInput","","name","dataModel.apiReceiveKey","type","text","placeholder","1","id","dataModel.apiReceiveKey",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.apiAbilityLengthMinToSend",1,"color-highlight"],["matInput","","name","dataModel.apiAbilityLengthMinToSend","type","number","placeholder","1","id","dataModel.apiAbilityLengthMinToSend",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.apiAbilityLengthMaxToSend",1,"color-highlight"],["matInput","","name","dataModel.apiAbilityLengthMaxToSend","type","number","placeholder","1","id","dataModel.apiAbilityLengthMaxToSend",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.priority",1,"color-highlight"],["matInput","","name","dataModel.priority","type","number","placeholder","1","id","dataModel.priority",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.maxProcessFlowAmount",1,"color-highlight"],["matInput","","name","dataModel.maxProcessFlowAmount","type","number","placeholder","1","id","dataModel.maxProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.minProcessFlowAmount",1,"color-highlight"],["matInput","","name","dataModel.minProcessFlowAmount","type","number","placeholder","Min Transaction Amount","id","dataModel.minProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.fixFeeProcessFlowAmount",1,"color-highlight"],["matInput","","name","dataModel.fixFeeProcessFlowAmount","type","number","placeholder","Max Transaction Amount","id","dataModel.fixFeeProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.percentFeeProcessFlowAmount",1,"color-highlight"],["matInput","","name","dataModel.percentFeeProcessFlowAmount","type","number","placeholder","Percent Fee Transaction Amount","id","dataModel.percentFeeProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.perriodStartWorkTime",1,"color-highlight"],["matInput","","name","dataModel.perriodStartWorkTime","id","dataModel.perriodStartWorkTime",1,"form-control","validate-name",3,"ngModelChange","ngxTimepicker","ngModel","format"],["touchUi","",1,"timepicker"],["for","dataModel.perriodEndWorkTime",1,"color-highlight"],["matInput","","name","dataModel.perriodEndWorkTime","type","number","id","dataModel.perriodEndWorkTime",1,"form-control","validate-name",3,"ngModelChange","ngxTimepicker","ngModel","format"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-yellow",3,"click"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],[1,"pt-1"],["data-trigger-switch","dataModel.apiSendMessageIsOn",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.apiSendMessageIsOn","name","dataModel.apiSendMessageIsOn",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.apiSendMessageIsOn",1,"custom-control-label"],["data-trigger-switch","dataModel.apiAbilitySendUnicodeMessage",1,"font-600","font-14"],["type","checkbox","id","dataModel.apiAbilitySendUnicodeMessage","name","dataModel.apiAbilitySendUnicodeMessage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.apiAbilitySendUnicodeMessage",1,"custom-control-label"],["data-trigger-switch","dataModel.apiAbilitySendNormalMessage",1,"font-600","font-14"],["type","checkbox","id","dataModel.apiAbilitySendNormalMessage","name","dataModel.apiAbilitySendNormalMessage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.apiAbilitySendNormalMessage",1,"custom-control-label"],["data-trigger-switch","dataModel.apiAllowSupersede",1,"font-600","font-14"],["type","checkbox","id","dataModel.apiAllowSupersede","name","dataModel.apiAllowSupersede",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.apiAllowSupersede",1,"custom-control-label"],["data-trigger-switch","dataModel.apiAbilityUseWebservice",1,"font-600","font-14"],["type","checkbox","id","dataModel.apiAbilityUseWebservice","name","dataModel.apiAbilityUseWebservice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.apiAbilityUseWebservice",1,"custom-control-label"],["data-trigger-switch","dataModel.apiAbilityUseInside",1,"font-600","font-14"],["type","checkbox","id","dataModel.apiAbilityUseInside","name","dataModel.apiAbilityUseInside",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.apiAbilityUseInside",1,"custom-control-label"],["data-trigger-switch","dataModel.serverDeliveryCostBase",1,"font-600","font-14"],["type","checkbox","id","dataModel.serverDeliveryCostBase","name","dataModel.serverDeliveryCostBase",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.serverDeliveryCostBase",1,"custom-control-label"],["for","dataModel.statusOutOfServiceMonitorApiChar",1,"color-highlight"],["matInput","","name","dataModel.statusOutOfServiceMonitorApiChar","type","number","placeholder","1","id","dataModel.statusOutOfServiceMonitorApiChar",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","dataModel.statusOutOfServiceActive",1,"font-600","font-14"],["type","checkbox","id","dataModel.statusOutOfServiceActive","name","dataModel.statusOutOfServiceActive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.statusOutOfServiceActive",1,"custom-control-label"],["data-trigger-switch","dataModel.statusNotStableActive",1,"font-600","font-14"],["type","checkbox","id","dataModel.statusNotStableActive","name","dataModel.statusNotStableActive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.statusNotStableActive",1,"custom-control-label"],["for","dataModel.statusNotStableCount",1,"color-highlight"],["matInput","","name","dataModel.statusNotStableCount","type","number","placeholder","1","id","dataModel.statusNotStableCount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.statusNotStableCountLimit",1,"color-highlight"],["matInput","","name","dataModel.statusNotStableCountLimit","type","number","placeholder","1","id","dataModel.statusNotStableCountLimit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.statusNotStableRunForMin",1,"color-highlight"],["matInput","","name","dataModel.statusNotStableRunForMin","type","number","placeholder","1","id","dataModel.statusNotStableRunForMin",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"]],template:function(i,t){if(i&1){let l=P();a(0,"div",26),C(1,"app-progress-spinner",27),a(2,"div",28)(3,"p",29),c(4),r(),a(5,"h4"),c(6),S(7,"translate"),r(),a(8,"p"),c(9),S(10,"translate"),r(),C(11,"app-cms-form-result-message",30),a(12,"form",31,0),g("ngSubmit",function(){return p(l),m(t.onFormSubmit())}),a(14,"mat-vertical-stepper",32,1),g("selectionChange",function(u){p(l);let k=x(15);return m(t.onStepClick(u,k))}),a(16,"mat-step",33),S(17,"translate"),b(18,Zb,1,5,"app-cms-enum-record-status-selector",34),b(19,iM,10,9,"div",35),a(20,"app-data-provider-source-public-config-selector",36),S(21,"translate"),g("optionChange",function(u){return p(l),m(t.onActionSelectSource(u))}),r(),a(22,"app-data-provider-source-company-selector",37),S(23,"translate"),g("optionChange",function(u){return p(l),m(t.onActionSelectorSelectlinkSourceCompanyId(u))}),r(),b(24,nM,5,3,"div",35),b(25,oM,5,3,"div",35),b(26,aM,5,3,"div",35),b(27,rM,5,3,"div",35),b(28,lM,5,3,"div",35),b(29,sM,5,3,"div",35),b(30,dM,5,3,"div",35),b(31,cM,5,3,"div",35),b(32,pM,5,3,"div",35),b(33,mM,5,3,"div",35),b(34,uM,7,5,"div",38),b(35,fM,7,5,"div",38),a(36,"div",35)(37,"label",39),c(38),r(),a(39,"textarea",40,2),D("ngModelChange",function(u){return p(l),E(t.dataModel.description,u)||(t.dataModel.description=u),m(u)}),r(),a(41,"em"),c(42),r(),b(43,_M,5,3,"mat-error"),r(),a(44,"div",35)(45,"label",41),c(46),r(),a(47,"textarea",42),D("ngModelChange",function(u){return p(l),E(t.dataModel.memo,u)||(t.dataModel.memo=u),m(u)}),c(48,"            "),r()(),b(49,SM,10,11,"div",43),r(),a(50,"mat-step",44),S(51,"translate"),a(52,"p"),c(53),S(54,"translate"),r(),a(55,"dynamic-form-builder-cms",45),D("jsonValueChange",function(u){return p(l),E(t.dataModel.privateConfigJsonValues,u)||(t.dataModel.privateConfigJsonValues=u),m(u)}),r(),b(56,CM,20,20,"div",46),r(),a(57,"mat-step",44),S(58,"translate"),a(59,"p"),c(60),S(61,"translate"),r(),b(62,hM,8,2,"div",47),a(63,"div",35)(64,"label",48),c(65),r(),a(66,"textarea",49,3),D("ngModelChange",function(u){return p(l),E(t.dataModel.apiSendMessageAddTextFirst,u)||(t.dataModel.apiSendMessageAddTextFirst=u),m(u)}),r(),a(68,"em"),c(69),r(),b(70,vM,5,3,"mat-error"),r(),a(71,"div",35)(72,"label",50),c(73),r(),a(74,"textarea",51,4),D("ngModelChange",function(u){return p(l),E(t.dataModel.apiSendMessageAddTextEnd,u)||(t.dataModel.apiSendMessageAddTextEnd=u),m(u)}),r(),a(76,"em"),c(77),r(),b(78,gM,5,3,"mat-error"),r(),a(79,"div",35)(80,"label",52),c(81),r(),a(82,"textarea",53,5),D("ngModelChange",function(u){return p(l),E(t.dataModel.sendMessageAddTextFirst,u)||(t.dataModel.sendMessageAddTextFirst=u),m(u)}),r(),a(84,"em"),c(85),r(),b(86,bM,5,3,"mat-error"),r(),a(87,"div",35)(88,"label",54),c(89),r(),a(90,"textarea",55,6),D("ngModelChange",function(u){return p(l),E(t.dataModel.sendMessageAddTextEnd,u)||(t.dataModel.sendMessageAddTextEnd=u),m(u)}),r(),a(92,"em"),c(93),r(),b(94,MM,5,3,"mat-error"),r(),b(95,IM,8,2,"div",47),b(96,PM,8,2,"div",47),b(97,wM,8,2,"div",47),b(98,EM,8,2,"div",47),b(99,DM,8,2,"div",47),b(100,yM,13,14,"div",43),r(),b(101,AM,6,8,"mat-step",44),a(102,"mat-step",44),S(103,"translate"),b(104,RM,8,2,"div",47),C(105,"div",56),b(106,xM,5,3,"div",35),b(107,kM,8,2,"div",47),a(108,"div",38)(109,"label",57),c(110),r(),a(111,"input",58),D("ngModelChange",function(u){return p(l),E(t.dataModel.statusOutOfServiceExpire,u)||(t.dataModel.statusOutOfServiceExpire=u),m(u)}),r(),C(112,"mat-datepicker-toggle",59)(113,"mat-datepicker",60,7),r(),b(115,LM,8,2,"div",47),a(116,"div",38)(117,"label",61),c(118),r(),a(119,"input",62),D("ngModelChange",function(u){return p(l),E(t.dataModel.statusNotStableExpire,u)||(t.dataModel.statusNotStableExpire=u),m(u)}),r(),C(120,"mat-datepicker-toggle",59)(121,"mat-datepicker",60,8),r(),b(123,VM,5,3,"div",35),b(124,BM,5,3,"div",35),b(125,FM,5,3,"div",35),b(126,OM,13,14,"div",43),r(),b(127,GM,3,5,"mat-step",44),b(128,WM,3,5,"mat-step",44),b(129,jM,3,5,"mat-step",44),b(130,QM,3,5,"mat-step",44),V(131,zM,2,0,"ng-template",63)(132,KM,2,0,"ng-template",64)(133,JM,2,0,"ng-template",65)(134,XM,2,0,"ng-template",66),r()()()()}if(i&2){let l=x(13),f=x(40),u=x(67),k=x(75),J=x(83),Ge=x(91),tt=x(114),Ke=x(122);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v(" ",t.formInfo.formTitle," "),o(2),A(h(7,103,"TITLE.ROUTE_SETTINGS")),o(3),v(" ",h(10,105,"TITLE.ROUTE_SETTINGS_DESCRIPTION")," "),o(2),_("formInfo",t.formInfo),o(5),_("label",R(h(17,107,"TITLE.REQUIRED_INFORMATION"))),o(2),M(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?18:-1),o(),M(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?19:-1),o(),_("optionDisabled",!(t.fieldsInfo.linkPublicConfigId!=null&&t.fieldsInfo.linkPublicConfigId.accessEditField))("optionSelectForce",t.dataModel.linkPublicConfigId)("optionPlaceholder",h(21,109,"TITLE.Route_Type")),o(2),_("optionSelectForce",t.dataModel.linkSourceCompanyId)("optionPlaceholder",h(23,111,"TITLE.Service_Company")),o(2),M(t.fieldsInfo.apiIdentity!=null&&t.fieldsInfo.apiIdentity.accessWatchField?24:-1),o(),M(t.fieldsInfo.apiMinPathNeedToCheck!=null&&t.fieldsInfo.apiMinPathNeedToCheck.accessWatchField?25:-1),o(),M(t.fieldsInfo.apiReceiveKey!=null&&t.fieldsInfo.apiReceiveKey.accessWatchField?26:-1),o(),M(t.fieldsInfo.apiAbilityLengthMinToSend!=null&&t.fieldsInfo.apiAbilityLengthMinToSend.accessWatchField?27:-1),o(),M(t.fieldsInfo.apiAbilityLengthMaxToSend!=null&&t.fieldsInfo.apiAbilityLengthMaxToSend.accessWatchField?28:-1),o(),M(t.fieldsInfo.priority!=null&&t.fieldsInfo.priority.accessWatchField?29:-1),o(),M(t.fieldsInfo.maxProcessFlowAmount!=null&&t.fieldsInfo.maxProcessFlowAmount.accessWatchField?30:-1),o(),M(t.fieldsInfo.minProcessFlowAmount!=null&&t.fieldsInfo.minProcessFlowAmount.accessWatchField?31:-1),o(),M(t.fieldsInfo.fixFeeProcessFlowAmount!=null&&t.fieldsInfo.fixFeeProcessFlowAmount.accessWatchField?32:-1),o(),M(t.fieldsInfo.percentFeeProcessFlowAmount!=null&&t.fieldsInfo.percentFeeProcessFlowAmount.accessWatchField?33:-1),o(),M(t.fieldsInfo.perriodStartWorkTime!=null&&t.fieldsInfo.perriodStartWorkTime.accessWatchField?34:-1),o(),M(t.fieldsInfo.perriodEndWorkTime!=null&&t.fieldsInfo.perriodEndWorkTime.accessWatchField?35:-1),o(3),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.description),o(3),v("",f.value.length," / 500"),o(),M(f.errors!=null&&f.errors.required?43:-1),o(3),A(t.fieldsInfo.memo==null?null:t.fieldsInfo.memo.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.memo),o(2),M(t.formInfo.submitButtonEnabled?49:-1),o(),_("label",R(h(51,113,"TITLE.Dispatch_variables"))),o(3),A(h(54,115,"TITLE.Port_settings")),o(2),_("formGroup",l.form),w("jsonValue",t.dataModel.privateConfigJsonValues),_("propertiesInfos",t.dataModel.privateConfigJsonFormatter),o(),M(t.formInfo.submitButtonEnabled?56:-1),o(),_("label",R(h(58,117,"TITLE.Api_path_send_variables"))),o(3),A(h(61,119,"TITLE.Set_acess")),o(2),M(t.fieldsInfo.apiSendMessageIsOn!=null&&t.fieldsInfo.apiSendMessageIsOn.accessWatchField?62:-1),o(3),A(t.fieldsInfo.apiSendMessageAddTextFirst==null?null:t.fieldsInfo.apiSendMessageAddTextFirst.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.apiSendMessageAddTextFirst==null?null:t.fieldsInfo.apiSendMessageAddTextFirst.fieldTitle)),w("ngModel",t.dataModel.apiSendMessageAddTextFirst),o(3),v("",u.value.length," / 500"),o(),M(u.errors!=null&&u.errors.required?70:-1),o(3),A(t.fieldsInfo.apiSendMessageAddTextEnd==null?null:t.fieldsInfo.apiSendMessageAddTextEnd.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.apiSendMessageAddTextEnd==null?null:t.fieldsInfo.apiSendMessageAddTextEnd.fieldTitle)),w("ngModel",t.dataModel.apiSendMessageAddTextEnd),o(3),v("",k.value.length," / 500"),o(),M(k.errors!=null&&k.errors.required?78:-1),o(3),A(t.fieldsInfo.sendMessageAddTextFirst==null?null:t.fieldsInfo.sendMessageAddTextFirst.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.sendMessageAddTextFirst==null?null:t.fieldsInfo.sendMessageAddTextFirst.fieldTitle)),w("ngModel",t.dataModel.sendMessageAddTextFirst),o(3),v("",J.value.length," / 500"),o(),M(J.errors!=null&&J.errors.required?86:-1),o(3),A(t.fieldsInfo.sendMessageAddTextEnd==null?null:t.fieldsInfo.sendMessageAddTextEnd.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.sendMessageAddTextEnd==null?null:t.fieldsInfo.sendMessageAddTextEnd.fieldTitle)),w("ngModel",t.dataModel.sendMessageAddTextEnd),o(3),v("",Ge.value.length," / 500"),o(),M(Ge.errors!=null&&Ge.errors.required?94:-1),o(),M(t.fieldsInfo.apiAbilitySendUnicodeMessage!=null&&t.fieldsInfo.apiAbilitySendUnicodeMessage.accessWatchField?95:-1),o(),M(t.fieldsInfo.apiAbilitySendNormalMessage!=null&&t.fieldsInfo.apiAbilitySendNormalMessage.accessWatchField?96:-1),o(),M(t.fieldsInfo.apiAllowSupersede!=null&&t.fieldsInfo.apiAllowSupersede.accessWatchField?97:-1),o(),M(t.fieldsInfo.apiAbilityUseWebservice!=null&&t.fieldsInfo.apiAbilityUseWebservice.accessWatchField?98:-1),o(),M(t.fieldsInfo.apiAbilityUseInside!=null&&t.fieldsInfo.apiAbilityUseInside.accessWatchField?99:-1),o(),M(t.formInfo.submitButtonEnabled?100:-1),o(),M(t.complatedView?101:-1),o(),_("label",R(h(103,121,"TITLE.Credit_return_status"))),o(2),M(t.fieldsInfo.serverDeliveryCostBase!=null&&t.fieldsInfo.serverDeliveryCostBase.accessWatchField?104:-1),o(2),M(t.fieldsInfo.statusOutOfServiceMonitorApiChar!=null&&t.fieldsInfo.statusOutOfServiceMonitorApiChar.accessWatchField?106:-1),o(),M(t.fieldsInfo.statusOutOfServiceActive!=null&&t.fieldsInfo.statusOutOfServiceActive.accessWatchField?107:-1),o(3),A(t.fieldsInfo.statusOutOfServiceExpire==null?null:t.fieldsInfo.statusOutOfServiceExpire.fieldTitle),o(),_("matDatepicker",tt),w("ngModel",t.dataModel.statusOutOfServiceExpire),o(),_("for",tt),o(),_("calendarHeaderComponent",t.datapickerHeader),o(2),M(t.fieldsInfo.apiAbilityUseInside!=null&&t.fieldsInfo.apiAbilityUseInside.accessWatchField?115:-1),o(3),A(t.fieldsInfo.statusNotStableExpire==null?null:t.fieldsInfo.statusNotStableExpire.fieldTitle),o(),_("matDatepicker",Ke),w("ngModel",t.dataModel.statusNotStableExpire),o(),_("for",Ke),o(),_("calendarHeaderComponent",t.datapickerHeader),o(2),M(t.fieldsInfo.statusNotStableCount!=null&&t.fieldsInfo.statusNotStableCount.accessWatchField?123:-1),o(),M(t.fieldsInfo.statusNotStableCountLimit!=null&&t.fieldsInfo.statusNotStableCountLimit.accessWatchField?124:-1),o(),M(t.fieldsInfo.statusNotStableRunForMin!=null&&t.fieldsInfo.statusNotStableRunForMin.accessWatchField?125:-1),o(),M(t.formInfo.submitButtonEnabled?126:-1),o(),M(t.complatedView?127:-1),o(),M(t.complatedView?128:-1),o(),M(t.complatedView?129:-1),o(),M(t.complatedView?130:-1)}},dependencies:[ve,$,Vi,Li,ee,Ce,Ee,De,ye,ce,he,Ga,Zi,$i,en,qe,Oi,Je,W,ml,ul,fl,_l,pl,ge,j,Se,kl,ti,Ja,bl,Ml,Il,da,ca,B],encapsulation:2});var Ar=Ea;var ns=[{path:"",component:ko,data:{title:"ROUTE.DATAPROVIDER.MAIN"},children:[{path:"client",component:Ro,data:{title:"ROUTE.DATAPROVIDER.CLIENT"}},{path:"client-charge/:LinkClientId",component:Tr,data:{title:"ROUTE.DATAPROVIDER.CLIENTCHARGE"}},{path:"source",component:Gn,data:{title:"ROUTE.DATAPROVIDER.SOURCE"}},{path:"source/list/LinkSourceCompanyId/:LinkSourceCompanyId",component:Gn,data:{title:"ROUTE.DATAPROVIDER.SOURCE"}},{path:"source-company",component:oa,data:{title:"ROUTE.DATAPROVIDER.SOURCECOMPANY"}},{path:"source-public-config",component:ha,data:{title:"ROUTE.DATAPROVIDER.SOURCEPUBLICCONFIG"}},{path:"source-path",component:Mn,data:{title:"ROUTE.DATAPROVIDER.SOURCEPATH"}},{path:"source-path/list",component:Mn,data:{title:"ROUTE.DATAPROVIDER.SOURCEPATH"}},{path:"source-path/list/LinkCompanyId/:LinkCompanyId",component:Mn,data:{title:"ROUTE.DATAPROVIDER.SOURCEPATH"}},{path:"source-path/list/LinkPublicConfigId/:LinkPublicConfigId",component:Mn,data:{title:"ROUTE.DATAPROVIDER.SOURCEPATH"}},{path:"source-path/list/LinkSiteId/:LinkSiteId",component:Mn,data:{title:"ROUTE.DATAPROVIDER.SOURCEPATH"}},{path:"source-path/edit/:id",component:Ar,data:{title:"ROUTE.DATAPROVIDER.SOURCEPATH"}},{path:"source-path-pagination",component:sa,data:{title:"ROUTE.DATAPROVIDER.SOURCEPATH"}},{path:"client-application",component:fn,data:{title:"ROUTE.DATAPROVIDER.CLIENTAPPLICATION"}},{path:"client-application/LinkUserId/:LinkUserId",component:fn,data:{title:"ROUTE.DATAPROVIDER.CLIENTAPPLICATION"}},{path:"client-application/LinkSiteId/:LinkSiteId",component:fn,data:{title:"ROUTE.DATAPROVIDER.CLIENTAPPLICATION"}},{path:"client-application-permission",component:un,data:{title:"ROUTE.DATAPROVIDER.CLIENTAPPLICATIONPERMISSION"}},{path:"client-application-permission/LinkClientApplicationId/:LinkClientApplicationId",component:un,data:{title:"ROUTE.DATAPROVIDER.CLIENTAPPLICATIONPERMISSION"}},{path:"client-application-permission/LinkSourcePathId/:LinkSourcePathId",component:un,data:{title:"ROUTE.DATAPROVIDER.CLIENTAPPLICATIONPERMISSION"}},{path:"plan-client",component:Sn,data:{title:"ROUTE.DATAPROVIDER.PLANCLIENT"}},{path:"plan-client/LinkPlanId/:LinkPlanId",component:Sn,data:{title:"ROUTE.DATAPROVIDER.PLANCLIENT"}},{path:"plan-client/LinkClientId/:LinkClientId",component:Sn,data:{title:"ROUTE.DATAPROVIDER.PLANCLIENT"}},{path:"plan",component:Vn,data:{title:"ROUTE.DATAPROVIDER.PLAN"}},{path:"plan/LinkPlanCategory/:LinkPlanCategory",component:Vn,data:{title:"ROUTE.DATAPROVIDER.PLAN"}},{path:"plan-source",component:hn,data:{title:"ROUTE.DATAPROVIDER.PLANSOURCE"}},{path:"plan-source/LinkPlanId/:LinkPlanId",component:hn,data:{title:"ROUTE.DATAPROVIDER.PLANSOURCE"}},{path:"plan-source/LinkSourceId/:LinkSourceId",component:hn,data:{title:"ROUTE.DATAPROVIDER.PLANSOURCE"}},{path:"plan-price",component:xn,data:{title:"ROUTE.DATAPROVIDER.PLANPRICE"}},{path:"plan-price/LinkPlanId/:LinkPlanId",component:xn,data:{title:"ROUTE.DATAPROVIDER.PLANPRICE"}}]}];var Wn=class Wn{};Wn.\u0275fac=function(e){return new(e||Wn)},Wn.\u0275mod=Va({type:Wn}),Wn.\u0275inj=ka({imports:[kr.forChild(window.innerWidth<1e3?is:ns),kr]});var Rr=Wn;var qn=class qn{};qn.\u0275fac=function(e){return new(e||qn)},qn.\u0275mod=Va({type:qn}),qn.\u0275inj=ka({providers:[qr,ie,jr,Jr,Zt,Ki,Qi,Ri,xi,zi,ki,$t,ci,pi,pn,Ji,Xi,zt,Ur],imports:[Hr,Rr,il,nl.withConfig({warnOnNgModelWithFormControl:"never"}),El,Vl,Gl,xl,cl,dl,Sl,vl,Rl,tl,gl,Nl,Pl]});var os=qn;export{os as DataProviderMainModule};
