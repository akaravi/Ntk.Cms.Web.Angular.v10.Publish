import{a as ho}from"./chunk-ZZVL24ID.js";import{a as _o}from"./chunk-IDZSGBQF.js";import{a as So}from"./chunk-5SWC2XMM.js";import{a as De}from"./chunk-JCUWFHRI.js";import{a as Le}from"./chunk-WCDFXD5W.js";import{a as ke}from"./chunk-Z7LLDNBU.js";import{a as $e}from"./chunk-W3WUUXTI.js";import{a as Be}from"./chunk-3OXB4ASU.js";import{c as Ee,d as ye,e as Re,g as xe}from"./chunk-RWYNNJZZ.js";import{a as fo}from"./chunk-XH2V5RCZ.js";import"./chunk-MFY74DR4.js";import{a as uo}from"./chunk-R5M5JHUG.js";import{a as mi}from"./chunk-CMNUHVUJ.js";import{b as go}from"./chunk-RUQ2FYZY.js";import{a as Ne}from"./chunk-MPUW5V6R.js";import{a as Ze}from"./chunk-N42LKGDM.js";import{Ab as pe,B as Ji,Bb as de,Bc as Me,Cb as ue,Dc as N,Ha as ht,Ia as Ye,Ib as co,Ja as J,Jb as fe,K as ii,Kb as ge,L as gt,Lb as Se,M as St,Mb as _e,Nb as he,O as Qi,Ob as Ce,P as Yi,Pa as ae,Pb as ve,Qa as $i,Qb as be,R as _t,Rb as Te,Sb as Ae,Wa as ao,Xa as lo,Ya as so,fc as V,gc as G,ka as Zi,ma as j,n as ti,o as Je,oa as re,r as Qe,s as pt,u as dt,ub as se,uc as Ie,v as zi,vb as ce,vc as F,w as ut,wc as mo,x as ft,xc as po,yb as me,zc as we}from"./chunk-UEEXAF32.js";import{m as le}from"./chunk-WNRZ34IP.js";import{a as Xe}from"./chunk-FFD5JTJB.js";import{$d as Fe,$h as yi,Bb as st,Bd as Ai,Cb as ct,Db as mt,E as Vi,Ed as Y,Fa as n,Gd as L,H as Gi,Hb as D,Hc as oe,Ic as ji,Jb as te,Jc as k,Ka as v,Kd as eo,Kh as oo,Lh as X,Mb as c,Mh as no,Nb as w,Nc as ze,Nd as ni,Nh as ri,O as Fi,Ob as g,Od as q,Oh as ai,P as Ni,Pa as B,Pb as ei,Pc as z,Ph as li,Qa as $t,Qh as si,Rh as ci,Sb as y,Sd as W,Ta as U,Tb as R,Td as Q,Ub as x,Ud as Ct,Ue as io,Va as b,Vb as H,Vc as qi,Wb as vi,Wh as Z,X as Zt,Xa as Pi,Xh as Ii,Yh as wi,Zb as ie,Zh as Mi,_b as Ke,_h as Ei,ai as ro,bc as _,ca as u,cb as Hi,cc as h,da as f,de as to,ed as Ki,ib as p,jb as a,kb as r,lb as C,p as ki,pb as T,pd as oi,q as Oi,qb as A,qd as Xi,rb as ee,rd as ne,sb as M,uc as O,vb as I,vd as bi,wd as Ti,xb as S,yb as Wi,zb as Ui}from"./chunk-MDNBQXON.js";import{i as K}from"./chunk-SEDBTTTN.js";var vt=class vt{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};vt.\u0275fac=function(e){return new(e||vt)},vt.\u0275cmp=B({type:vt,selectors:[["app-apitelegram"]],standalone:!1,decls:1,vars:0,template:function(e,o){e&1&&C(0,"router-outlet")},dependencies:[Xi],encapsulation:2});var pi=vt;function To(i,l){if(i&1&&(a(0,"div"),C(1,"app-cms-json-list",6),r()),i&2){let e=S();n(),p("dataModel",e.optionItem)("optionMethod",1)}}var et=class et{constructor(l,e,o){this.cmsToastrService=l;this.data=e;this.http=o;this.id=++et.nextId;this.optionMethod=1;e&&(this.optionMethod=e.optionMethod,this.optionListItems=e.optionListItems,this.optionItem=e.optionItem,this.optionLabel=e.optionLabel)}ngOnInit(){}ngOnDestroy(){}};et.nextId=0,et.\u0275fac=function(e){return new(e||et)(v(F),v(Ye),v(Ki))},et.\u0275cmp=B({type:et,selectors:[["app-cms-view"]],inputs:{optionMethod:"optionMethod",optionListItems:"optionListItems",optionItem:"optionItem",optionLabel:"optionLabel"},standalone:!1,decls:7,vars:2,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"ntk-cms-html-card-footer"],[3,"dataModel","optionMethod"]],template:function(e,o){e&1&&(a(0,"div",0),c(1),r(),a(2,"div",1),b(3,To,2,2,"div",2),r(),a(4,"div",3),C(5,"div",4),r(),C(6,"div",5)),e&2&&(n(),g(" ",o.optionLabel," "),n(2),p("ngIf",o.optionItem))},dependencies:[k,So],encapsulation:2});var Tt=et;var Ao=["*"];function Io(i,l){if(i&1&&(a(0,"label",11),c(1),r()),i&2){let e=S();p("for",vi("app-cms-site-selector-",e.id)),n(),w(e.optionLabel)}}function wo(i,l){if(i&1&&(a(0,"mat-option",12)(1,"span"),c(2),r()()),i&2){let e=l.$implicit,o=S();p("value",e)("disabled",o.optionDisabled),n(2),w(o.displayOption(e))}}function Mo(i,l){i&1&&C(0,"i",13)}function Eo(i,l){i&1&&C(0,"i",14)}function yo(i,l){if(i&1){let e=M();a(0,"i",15),I("click",function(){u(e);let t=S();return f(t.onActionSelectClear())}),r()}}function Ro(i,l){i&1&&(a(0,"em"),c(1),_(2,"translate"),r()),i&2&&(n(),g("(",h(2,1,"TITLE.Necessary"),")"))}var tt=class tt{constructor(l,e,o,t,m){this.coreEnumService=l;this.cdr=e;this.publicHelper=o;this.translate=t;this.categoryService=m;this.id=++tt.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new q;this.dataModelSelect=new Z;this.formControl=new zi;this.optionPlaceholder="";this.optionLabel="";this.optionSelectFirstItem=!1;this.optionDisabled=!1;this.optionRequired=!1;this.optionChange=new Pi;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Fi(""),Vi(1500),Gi(),Ni(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return K(this,null,function*(){let e=new Q;e.rowPerPage=20,e.accessLoad=!0;let o=new W;o.propertyName="Title",o.value=l,o.searchType=Ai.Contains,o.clauseType=Ti.Or,e.filters.push(o),l&&typeof+l=="number"&&+l>0&&(o=new W,o.propertyName="Id",o.value=l,o.searchType=Ai.Equal,o.clauseType=Ti.Or,e.filters.push(o));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),yield ki(this.categoryService.ServiceGetAll(e)).then(m=>(this.dataModelResult=m,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),m.listItems))})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(l){return this.filteredOptions.pipe(Oi(e=>(e.find(o=>o.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="number"&&l>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(o=>o.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof l==typeof Z){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Z,this.loadOptions()}};tt.nextId=0,tt.\u0275fac=function(e){return new(e||tt)(v(Fe),v(O),v(N),v(V),v(X))},tt.\u0275cmp=B({type:tt,selectors:[["app-api-telegram-bot-config-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Ao,decls:13,vars:18,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],["class","fa fa-times  action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,o){if(e&1){let t=M();Wi(),a(0,"div",1),C(1,"app-progress-spinner",2),b(2,Io,2,3,"label",3),C(3,"input",4),a(4,"mat-autocomplete",5,0),I("optionSelected",function(d){return u(t),f(o.onActionSelect(d.option.value))}),b(6,wo,3,3,"mat-option",6),_(7,"async"),r(),b(8,Mo,1,0,"i",7)(9,Eo,1,0,"i",8)(10,yo,1,0,"i",9)(11,Ro,3,3,"em",10),Ui(12),r()}if(e&2){let t=D(5);n(),p("optionsInfoAreaId",o.constructorInfoAreaId),n(),p("ngIf",(o.optionLabel==null?null:o.optionLabel.length)>0),n(),p("placeholder",H(o.optionPlaceholder))("id",vi("app-cms-site-selector-",o.id))("formControl",o.formControl)("matAutocomplete",t)("required",o.optionRequired),Hi("disabled",o.optionDisabled?!0:null),n(),p("displayWith",o.displayFn),n(2),p("ngForOf",h(7,16,o.filteredOptions)),n(2),p("ngIf",!o.formControl.valid),n(),p("ngIf",o.optionRequired&&o.formControl.valid),n(),p("ngIf",(o.dataModelSelect==null?null:o.dataModelSelect.id)>0),n(),p("ngIf",o.optionRequired&&(!o.dataModelSelect||!o.dataModelSelect.id||o.dataModelSelect.id<=0))}},dependencies:[ji,k,Je,Qe,ii,Ji,lo,ao,so,j,Ze,z,G],encapsulation:2});var di=tt;var Do=["vform"];function Lo(i,l){i&1&&C(0,"i",24)}function Bo(i,l){i&1&&C(0,"i",25)}function ko(i,l){i&1&&(a(0,"mat-error"),c(1),_(2,"translate"),a(3,"strong"),c(4),_(5,"translate"),r()()),i&2&&(n(),g(" ",h(2,2,"TITLE.Message_Title")," "),n(3),w(h(5,4,"MESSAGE.required")))}function Oo(i,l){i&1&&(a(0,"mat-error"),c(1),_(2,"translate"),a(3,"strong"),c(4),_(5,"translate"),r()()),i&2&&(n(),g(" ",h(2,2,"MESSAGE.Chat_ID")," "),n(3),w(h(5,4,"MESSAGE.required")))}function Vo(i,l){if(i&1){let e=M();a(0,"div",19)(1,"button",26),I("click",function(){u(e);let t=S();return f(t.onFormCancel())}),C(2,"i",27),c(3),_(4,"translate"),r(),a(5,"button",28),C(6,"i",29),c(7),_(8,"translate"),r()()}if(i&2){S();let e=D(9);n(3),g(" ",h(4,3,"ACTION.CANCEL")," "),n(2),p("disabled",!e.form.valid),n(2),g(" ",h(8,5,"ACTION.Send_Message")," ")}}var Di=class{},At=class At{constructor(l,e,o,t,m,d,s,E){this.data=l;this.dialogRef=e;this.coreEnumService=o;this.apiTelegramBotConfigService=t;this.cmsToastrService=m;this.publicHelper=d;this.cdr=s;this.translate=E;this.requestLinkBotConfigId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.compModel=new Di;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ni;this.dataModel=new ro;this.formInfo=new Ct;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.data&&(this.requestLinkBotConfigId=+this.data.linkBotConfigId||0,this.compModel.ChatIds=this.data.ChatId+""),this.requestLinkBotConfigId>0&&(this.dataModel.botId=this.requestLinkBotConfigId),this.translate.get("TITLE.Send_Message").subscribe(l=>{this.formInfo.formTitle=l})}ActionSendMessage(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.apiTelegramBotConfigService.ServiceSendMessage(this.dataModel).subscribe({next:e=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=e,e.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(o=>{this.formInfo.formAlert=o}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(l)},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onFormSubmit(){if(this.formGroup.valid){if(this.dataModel.chatId=[],this.compModel.ChatIds&&this.compModel.ChatIds.length>0&&this.publicHelper.SplitAllChar(this.compModel.ChatIds).forEach(e=>{let o=+e||0;o>0&&this.dataModel.chatId.push(o)}),this.dataModel.chatId.length==0){this.translate.get("MESSAGE.Recipient_list_is_not_valid").subscribe(l=>{this.cmsToastrService.typeWarning(l)});return}this.formInfo.formSubmitAllow=!1,this.ActionSendMessage()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorSelect(l){if(!l||l.id<=0){this.translate.get("MESSAGE.Select_the_Telegram_bot").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.dataModel.botId=l.id}};At.\u0275fac=function(e){return new(e||At)(v(Ye),v(ht),v(Fe),v(X),v(F),v(N),v(O),v(V))},At.\u0275cmp=B({type:At,selectors:[["app-apitelegram-action-send-message"]],viewQuery:function(e,o){if(e&1&&st(Do,5),e&2){let t;ct(t=mt())&&(o.formGroup=t.first)}},standalone:!1,decls:44,vars:34,consts:[["vform","ngForm"],["title",""],["chatId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.chatId",1,"color-highlight"],["matInput","","name","dataModel.chatId","type","text","minlength","1","maxlength","1000","rows","5","id","dataModel.chatId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(e,o){if(e&1){let t=M();a(0,"div",3),C(1,"app-progress-spinner",4),a(2,"div",5)(3,"p",6),c(4),r(),a(5,"p"),c(6),_(7,"translate"),r(),a(8,"form",7,0),I("ngSubmit",function(){return u(t),f(o.onFormSubmit())}),a(10,"div",8)(11,"app-api-telegram-bot-config-selector",9),_(12,"translate"),I("optionChange",function(d){return u(t),f(o.onActionSelectorSelect(d))}),r(),a(13,"div",10)(14,"label",11),c(15),_(16,"translate"),r(),a(17,"input",12,1),_(19,"translate"),x("ngModelChange",function(d){return u(t),R(o.dataModel.title,d)||(o.dataModel.title=d),f(d)}),r(),b(20,Lo,1,0,"i",13)(21,Bo,1,0,"i",14),a(22,"em"),c(23),r(),b(24,ko,6,6,"mat-error",15),r(),a(25,"div",10)(26,"label",16),c(27),_(28,"translate"),r(),a(29,"textarea",17,2),_(31,"translate"),x("ngModelChange",function(d){return u(t),R(o.dataModel.chatId,d)||(o.dataModel.chatId=d),f(d)}),c(32,"      "),r(),a(33,"em"),c(34),r(),b(35,Oo,6,6,"mat-error",15),r()(),a(36,"div",18)(37,"div",19)(38,"small",20),c(39),r(),a(40,"small",21),c(41),r()()(),a(42,"div",22),b(43,Vo,9,7,"div",23),r()()()()}if(e&2){let t=D(18),m=D(30);n(),p("optionsInfoAreaId",o.constructorInfoAreaId),n(3),g(" ",o.formInfo.formTitle," "),n(2),g(" ",h(7,22,"TITLE.Be_Careful_When_Entering_Information")," "),n(5),p("optionSelectForce",o.dataModel.botId)("optionPlaceholder",h(12,24,"TITLE.Telegram_Bot")),n(4),w(h(16,26,"TITLE.title")),n(2),p("placeholder",H(h(19,28,"TITLE.Message_Title"))),y("ngModel",o.dataModel.title),n(3),p("ngIf",!t.value),n(),p("ngIf",t.value),n(2),g("",t.value.length," / 100"),n(),p("ngIf",t.errors==null?null:t.errors.required),n(3),w(h(28,30,"MESSAGE.Chat_ID")),n(2),p("placeholder",H(h(31,32,"MESSAGE.Chat_ID"))),y("ngModel",o.dataModel.chatId),n(5),g("",m.value.length," / 1000"),n(),p("ngIf",m.errors==null?null:m.errors.required),n(4),g("",o.formInfo.formAlert," "),n(2),g("",o.formInfo.formError," "),n(2),p("ngIf",o.formInfo.formSubmitAllow)}},dependencies:[k,ft,Je,Qe,pt,ii,gt,St,ut,dt,_t,j,Ze,di,G],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var it=At;var Fo=["vform"];function No(i,l){i&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),_(4,"translate"),r()()),i&2&&(n(3),w(h(4,1,"MESSAGE.required")))}function Po(i,l){if(i&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),_(4,"translate"),r()()),i&2){let e=S();n(),g(" ",e.fieldsInfo.username==null?null:e.fieldsInfo.username.fieldTitle," "),n(2),w(h(4,2,"MESSAGE.required"))}}function Ho(i,l){if(i&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),_(4,"translate"),r()()),i&2){let e=S();n(),g(" ",e.fieldsInfo.botToken==null?null:e.fieldsInfo.botToken.fieldTitle," "),n(2),w(h(4,2,"MESSAGE.required"))}}function Wo(i,l){if(i&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),_(4,"translate"),r()()),i&2){let e=S();n(),g(" ",e.fieldsInfo.securityKey==null?null:e.fieldsInfo.securityKey.fieldTitle," "),n(2),w(h(4,2,"MESSAGE.required"))}}function Uo(i,l){if(i&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),_(4,"translate"),r()()),i&2){let e=S();n(),g(" ",e.fieldsInfo.urlWebhook==null?null:e.fieldsInfo.urlWebhook.fieldTitle," "),n(2),w(h(4,2,"MESSAGE.required"))}}function jo(i,l){if(i&1){let e=M();a(0,"div",26)(1,"div",27)(2,"h5",28),c(3),r()(),a(4,"div",29)(5,"div",30)(6,"input",31),x("ngModelChange",function(t){u(e);let m=S();return R(m.dataModel.statusWebhook,t)||(m.dataModel.statusWebhook=t),f(t)}),r(),C(7,"label",32),r()()()}if(i&2){let e=S();n(3),g(" ",e.fieldsInfo.statusWebhook==null?null:e.fieldsInfo.statusWebhook.fieldTitle),n(3),y("ngModel",e.dataModel.statusWebhook)}}function qo(i,l){if(i&1){let e=M();a(0,"div",33)(1,"button",34),I("click",function(){u(e);let t=S();return f(t.onFormCancel())}),C(2,"i",35),c(3),_(4,"translate"),r(),a(5,"button",36),C(6,"i",37),c(7),_(8,"translate"),r()()}if(i&2){S();let e=D(9);n(3),g(" ",h(4,3,"ACTION.CANCEL")," "),n(2),p("disabled",!e.form.valid),n(2),g(" ",h(8,5,"ACTION.SAVE")," ")}}var It=class It extends uo{constructor(e,o,t,m,d,s,E,P){super(m,new Z,P,E);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.apiTelegramBotConfigService=m;this.cmsToastrService=d;this.cdr=s;this.translate=E;this.publicHelper=P;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new q;this.dataModel=new Z;this.formInfo=new Ct;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.apiTelegramBotConfigService.ServiceAdd(this.dataModel).subscribe({next:o=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=o,o.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};It.\u0275fac=function(o){return new(o||It)(v(Ye),v(ht),v(Fe),v(X),v(F),v(O),v(V),v(N))},It.\u0275cmp=B({type:It,selectors:[["app-core-module-add"]],viewQuery:function(o,t){if(o&1&&st(Fo,5),o&2){let m;ct(m=mt())&&(t.formGroup=m.first)}},standalone:!1,features:[U],decls:53,vars:42,consts:[["vform","ngForm"],["Title",""],["Username",""],["BotToken",""],["SecurityKey",""],["UrlWebhook",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.username",1,"color-highlight"],["matInput","","type","text","name","dataModel.username","minlength","3","maxlength","100","id","dataModel.username",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.botToken",1,"color-highlight"],["matInput","","type","text","name","dataModel.botToken","minlength","3","maxlength","100","id","dataModel.botToken",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.securityKey",1,"color-highlight"],["matInput","","type","text","name","dataModel.securityKey","minlength","3","maxlength","100","id","dataModel.securityKey",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.urlWebhook",1,"color-highlight"],["matInput","","type","text","name","dataModel.urlWebhook","minlength","3","maxlength","100","id","dataModel.urlWebhook",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","d-flex mb-3",4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.statusWebhook",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.statusWebhook","name","dataModel.statusWebhook",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.statusWebhook",1,"custom-control-label"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(o,t){if(o&1){let m=M();a(0,"div",6),C(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),c(4),r(),a(5,"p"),c(6),_(7,"translate"),r(),a(8,"form",10,0),I("ngSubmit",function(){return u(m),f(t.onFormSubmit())}),a(10,"app-cms-enum-record-status-selector",11),x("modelChange",function(s){return u(m),R(t.dataModel.recordStatus,s)||(t.dataModel.recordStatus=s),f(s)}),r(),a(11,"div",12)(12,"label",13),c(13),r(),a(14,"input",14,1),x("ngModelChange",function(s){return u(m),R(t.dataModel.title,s)||(t.dataModel.title=s),f(s)}),r(),a(16,"em"),c(17),r(),b(18,No,5,3,"mat-error",15),r(),a(19,"div",12)(20,"label",16),c(21),r(),a(22,"input",17,2),x("ngModelChange",function(s){return u(m),R(t.dataModel.username,s)||(t.dataModel.username=s),f(s)}),r(),a(24,"em"),c(25),r(),b(26,Po,5,4,"mat-error",15),r(),a(27,"div",12)(28,"label",18),c(29),r(),a(30,"input",19,3),x("ngModelChange",function(s){return u(m),R(t.dataModel.botToken,s)||(t.dataModel.botToken=s),f(s)}),r(),a(32,"em"),c(33),r(),b(34,Ho,5,4,"mat-error",15),r(),a(35,"div",12)(36,"label",20),c(37),r(),a(38,"input",21,4),x("ngModelChange",function(s){return u(m),R(t.dataModel.securityKey,s)||(t.dataModel.securityKey=s),f(s)}),r(),a(40,"em"),c(41),r(),b(42,Wo,5,4,"mat-error",15),r(),a(43,"div",12)(44,"label",22),c(45),r(),a(46,"input",23,5),x("ngModelChange",function(s){return u(m),R(t.dataModel.urlWebhook,s)||(t.dataModel.urlWebhook=s),f(s)}),r(),a(48,"em"),c(49),r(),b(50,Uo,5,4,"mat-error",15),r(),b(51,jo,8,2,"div",24)(52,qo,9,7,"div",25),r()()()}if(o&2){let m=D(15),d=D(23),s=D(31),E=D(39),P=D(47);n(),p("optionsInfoAreaId",t.constructorInfoAreaId),n(3),g(" ",t.formInfo.formTitle," "),n(2),g(" ",h(7,40,"TITLE.Be_Careful_When_Entering_Information")," "),n(4),y("model",t.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0),n(3),w(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),n(),p("placeholder",H(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),y("ngModel",t.dataModel.title),n(3),g("",m.value.length," / 100"),n(),p("ngIf",m.errors==null?null:m.errors.required),n(3),w(t.fieldsInfo.username==null?null:t.fieldsInfo.username.fieldTitle),n(),p("placeholder",H(t.fieldsInfo.username==null?null:t.fieldsInfo.username.fieldTitle)),y("ngModel",t.dataModel.username),n(3),g("",d.value.length," / 100"),n(),p("ngIf",d.errors==null?null:d.errors.required),n(3),w(t.fieldsInfo.botToken==null?null:t.fieldsInfo.botToken.fieldTitle),n(),p("placeholder",H(t.fieldsInfo.botToken==null?null:t.fieldsInfo.botToken.fieldTitle)),y("ngModel",t.dataModel.botToken),n(3),g("",s.value.length," / 100"),n(),p("ngIf",s.errors==null?null:s.errors.required),n(3),w(t.fieldsInfo.securityKey==null?null:t.fieldsInfo.securityKey.fieldTitle),n(),p("placeholder",H(t.fieldsInfo.securityKey==null?null:t.fieldsInfo.securityKey.fieldTitle)),y("ngModel",t.dataModel.securityKey),n(3),g("",E.value.length," / 100"),n(),p("ngIf",E.errors==null?null:E.errors.required),n(3),w(t.fieldsInfo.urlWebhook==null?null:t.fieldsInfo.urlWebhook.fieldTitle),n(),p("placeholder",H(t.fieldsInfo.urlWebhook==null?null:t.fieldsInfo.urlWebhook.fieldTitle)),y("ngModel",t.dataModel.urlWebhook),n(3),g("",P.value.length," / 100"),n(),p("ngIf",P.errors==null?null:P.errors.required),n(),p("ngIf",t.fieldsInfo.statusWebhook==null?null:t.fieldsInfo.statusWebhook.accessWatchField),n(),p("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[k,ft,Je,ti,Qe,pt,gt,St,ut,dt,_t,j,mi,Ze,G],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var ui=It;var Ko=["vform"];function zo(i,l){i&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),_(4,"translate"),r()()),i&2&&(n(3),w(h(4,1,"MESSAGE.required")))}function Jo(i,l){if(i&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),_(4,"translate"),r()()),i&2){let e=S();n(),g(" ",e.fieldsInfo.username==null?null:e.fieldsInfo.username.fieldTitle," "),n(2),w(h(4,2,"MESSAGE.required"))}}function Qo(i,l){if(i&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),_(4,"translate"),r()()),i&2){let e=S();n(),g(" ",e.fieldsInfo.botToken==null?null:e.fieldsInfo.botToken.fieldTitle," "),n(2),w(h(4,2,"MESSAGE.required"))}}function Yo(i,l){if(i&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),_(4,"translate"),r()()),i&2){let e=S();n(),g(" ",e.fieldsInfo.securityKey==null?null:e.fieldsInfo.securityKey.fieldTitle," "),n(2),w(h(4,2,"MESSAGE.required"))}}function Xo(i,l){if(i&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),_(4,"translate"),r()()),i&2){let e=S();n(),g(" ",e.fieldsInfo.urlWebhook==null?null:e.fieldsInfo.urlWebhook.fieldTitle," "),n(2),w(h(4,2,"MESSAGE.required"))}}function Zo(i,l){if(i&1){let e=M();a(0,"div",26)(1,"div",27)(2,"h5",28),c(3),r()(),a(4,"div",29)(5,"div",30)(6,"input",31),x("ngModelChange",function(t){u(e);let m=S();return R(m.dataModel.statusWebhook,t)||(m.dataModel.statusWebhook=t),f(t)}),r(),C(7,"label",32),r()()()}if(i&2){let e=S();n(3),g(" ",e.fieldsInfo.statusWebhook==null?null:e.fieldsInfo.statusWebhook.fieldTitle),n(3),y("ngModel",e.dataModel.statusWebhook)}}function $o(i,l){if(i&1){let e=M();a(0,"div",33)(1,"button",34),I("click",function(){u(e);let t=S();return f(t.onFormCancel())}),C(2,"i",35),c(3),_(4,"translate"),r(),a(5,"button",36),I("click",function(){u(e);let t=S();return f(t.onActionButtonGetMeAsync())}),c(6),_(7,"translate"),r(),a(8,"button",36),I("click",function(){u(e);let t=S();return f(t.onActionButtonSetWebhookAsync())}),c(9),_(10,"translate"),r(),a(11,"button",36),I("click",function(){u(e);let t=S();return f(t.onActionButtonSetWebhookAsyncEmpty())}),c(12),_(13,"translate"),r(),a(14,"button",37),C(15,"i",38),c(16),_(17,"translate"),r()()}if(i&2){S();let e=D(9);n(3),g(" ",h(4,6,"ACTION.CANCEL")," "),n(3),w(h(7,8,"ACTION.GetMeAsync")),n(3),w(h(10,10,"ACTION.SetWebhookAsync")),n(3),w(h(13,12,"ACTION.SetWebhookAsyncEmpty")),n(2),p("disabled",!e.form.valid),n(2),g(" ",h(17,14,"ACTION.SAVE")," ")}}var wt=class wt extends fo{constructor(e,o,t,m,d,s,E,P,qe,Ve){super(m,new Z,E,qe);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.contentService=m;this.apiTelegramBotConfigService=d;this.cmsToastrService=s;this.publicHelper=E;this.cdr=P;this.translate=qe;this.dialog=Ve;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ni;this.dataModel=new Z;this.formInfo=new Ct;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.apiTelegramBotConfigService.setAccessLoad(),this.apiTelegramBotConfigService.setAccessDataType(eo.Editor),this.apiTelegramBotConfigService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.dataModel=o.item,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.apiTelegramBotConfigService.ServiceEdit(this.dataModel).subscribe({next:o=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=o,o.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorEdit(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonGetMeAsync(){let e=this.constructor.name+"ServiceGetMeAsync";this.apiTelegramBotConfigService.ServiceGetMeAsync(this.requestId).subscribe({next:o=>{o.isSuccess?this.dialog.open(Tt,{data:{optionItem:o.item}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate}):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonSetWebhookAsync(){let e=this.constructor.name+"ServiceSetWebhookAsync";this.apiTelegramBotConfigService.ServiceSetWebhookAsync(this.requestId).subscribe({next:o=>{o.isSuccess?this.cmsToastrService.typeSuccessAdd():this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonSetWebhookAsyncEmpty(){let e=this.constructor.name+"ServiceSetWebhookAsyncEmpty";this.apiTelegramBotConfigService.ServiceSetWebhookAsyncEmpty(this.requestId).subscribe({next:o=>{o.isSuccess?this.cmsToastrService.typeSuccessAdd():this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};wt.\u0275fac=function(o){return new(o||wt)(v(Ye),v(ht),v(Fe),v(X),v(X),v(F),v(N),v(O),v(V),v(J))},wt.\u0275cmp=B({type:wt,selectors:[["app-core-module-edit"]],viewQuery:function(o,t){if(o&1&&st(Ko,5),o&2){let m;ct(m=mt())&&(t.formGroup=m.first)}},standalone:!1,features:[U],decls:53,vars:42,consts:[["vform","ngForm"],["Title",""],["Username",""],["BotToken",""],["SecurityKey",""],["UrlWebhook",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.username",1,"color-highlight"],["matInput","","type","text","name","dataModel.username","minlength","3","maxlength","100","id","dataModel.username",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.botToken",1,"color-highlight"],["matInput","","type","text","name","dataModel.botToken","minlength","3","maxlength","100","id","dataModel.botToken",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.securityKey",1,"color-highlight"],["matInput","","type","text","name","dataModel.securityKey","minlength","3","maxlength","100","id","dataModel.securityKey",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.urlWebhook",1,"color-highlight"],["matInput","","type","text","name","dataModel.urlWebhook","minlength","3","maxlength","100","id","dataModel.urlWebhook",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","d-flex mb-3",4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.statusWebhook",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.statusWebhook","name","dataModel.statusWebhook",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.statusWebhook",1,"custom-control-label"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(o,t){if(o&1){let m=M();a(0,"div",6),C(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),c(4),r(),a(5,"p"),c(6),_(7,"translate"),r(),a(8,"form",10,0),I("ngSubmit",function(){return u(m),f(t.onFormSubmit())}),a(10,"app-cms-enum-record-status-selector",11),x("modelChange",function(s){return u(m),R(t.dataModel.recordStatus,s)||(t.dataModel.recordStatus=s),f(s)}),r(),a(11,"div",12)(12,"label",13),c(13),r(),a(14,"input",14,1),x("ngModelChange",function(s){return u(m),R(t.dataModel.title,s)||(t.dataModel.title=s),f(s)}),r(),a(16,"em"),c(17),r(),b(18,zo,5,3,"mat-error",15),r(),a(19,"div",12)(20,"label",16),c(21),r(),a(22,"input",17,2),x("ngModelChange",function(s){return u(m),R(t.dataModel.username,s)||(t.dataModel.username=s),f(s)}),r(),a(24,"em"),c(25),r(),b(26,Jo,5,4,"mat-error",15),r(),a(27,"div",12)(28,"label",18),c(29),r(),a(30,"input",19,3),x("ngModelChange",function(s){return u(m),R(t.dataModel.botToken,s)||(t.dataModel.botToken=s),f(s)}),r(),a(32,"em"),c(33),r(),b(34,Qo,5,4,"mat-error",15),r(),a(35,"div",12)(36,"label",20),c(37),r(),a(38,"input",21,4),x("ngModelChange",function(s){return u(m),R(t.dataModel.securityKey,s)||(t.dataModel.securityKey=s),f(s)}),r(),a(40,"em"),c(41),r(),b(42,Yo,5,4,"mat-error",15),r(),a(43,"div",12)(44,"label",22),c(45),r(),a(46,"input",23,5),x("ngModelChange",function(s){return u(m),R(t.dataModel.urlWebhook,s)||(t.dataModel.urlWebhook=s),f(s)}),r(),a(48,"em"),c(49),r(),b(50,Xo,5,4,"mat-error",15),r(),b(51,Zo,8,2,"div",24)(52,$o,18,16,"div",25),r()()()}if(o&2){let m=D(15),d=D(23),s=D(31),E=D(39),P=D(47);n(),p("optionsInfoAreaId",t.constructorInfoAreaId),n(3),g(" ",t.formInfo.formTitle," "),n(2),g(" ",h(7,40,"TITLE.Be_Careful_When_Entering_Information")," "),n(4),y("model",t.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0),n(3),w(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),n(),p("placeholder",H(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),y("ngModel",t.dataModel.title),n(3),g("",m.value.length," / 100"),n(),p("ngIf",m.errors==null?null:m.errors.required),n(3),w(t.fieldsInfo.username==null?null:t.fieldsInfo.username.fieldTitle),n(),p("placeholder",H(t.fieldsInfo.username==null?null:t.fieldsInfo.username.fieldTitle)),y("ngModel",t.dataModel.username),n(3),g("",d.value.length," / 100"),n(),p("ngIf",d.errors==null?null:d.errors.required),n(3),w(t.fieldsInfo.botToken==null?null:t.fieldsInfo.botToken.fieldTitle),n(),p("placeholder",H(t.fieldsInfo.botToken==null?null:t.fieldsInfo.botToken.fieldTitle)),y("ngModel",t.dataModel.botToken),n(3),g("",s.value.length," / 100"),n(),p("ngIf",s.errors==null?null:s.errors.required),n(3),w(t.fieldsInfo.securityKey==null?null:t.fieldsInfo.securityKey.fieldTitle),n(),p("placeholder",H(t.fieldsInfo.securityKey==null?null:t.fieldsInfo.securityKey.fieldTitle)),y("ngModel",t.dataModel.securityKey),n(3),g("",E.value.length," / 100"),n(),p("ngIf",E.errors==null?null:E.errors.required),n(3),w(t.fieldsInfo.urlWebhook==null?null:t.fieldsInfo.urlWebhook.fieldTitle),n(),p("placeholder",H(t.fieldsInfo.urlWebhook==null?null:t.fieldsInfo.urlWebhook.fieldTitle)),y("ngModel",t.dataModel.urlWebhook),n(3),g("",P.value.length," / 100"),n(),p("ngIf",P.errors==null?null:P.errors.required),n(),p("ngIf",t.fieldsInfo.statusWebhook==null?null:t.fieldsInfo.statusWebhook.accessWatchField),n(),p("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[k,ft,Je,ti,Qe,pt,gt,St,ut,dt,_t,j,mi,Ze,G],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var fi=wt;var en=()=>[5,10,20,100],tn=i=>({display:i});function on(i,l){if(i&1){let e=M();a(0,"div",16)(1,"a",50),I("click",function(){u(e);let t=S();return f(t.onActionButtonNewRow())}),C(2,"i",51)(3,"br"),r(),a(4,"p",18),c(5),_(6,"translate"),r()()}i&2&&(n(5),w(h(6,1,"ACTION.ADD")))}function nn(i,l){if(i&1){let e=M();a(0,"div",16)(1,"a",8),I("click",function(){u(e);let t=S();return f(t.onActionButtonSendMessage())}),C(2,"i",24)(3,"br"),r(),a(4,"p",18),c(5),_(6,"translate"),r()()}i&2&&(n(5),w(h(6,1,"ACTION.Send_Message")))}function rn(i,l){if(i&1){let e=M();a(0,"div",16)(1,"a",8),I("click",function(){u(e);let t=S();return f(t.onActionButtonGetMeAsync())}),C(2,"i",52)(3,"br"),r(),a(4,"p",18),c(5),_(6,"translate"),r()()}i&2&&(n(5),w(h(6,1,"ACTION.GetMeAsync")))}function an(i,l){if(i&1){let e=M();a(0,"div",16)(1,"a",53),I("click",function(){u(e);let t=S();return f(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",54)(3,"br"),r(),a(4,"p",18),c(5),_(6,"translate"),r()()}i&2&&(n(5),w(h(6,1,"ACTION.EDIT")))}function ln(i,l){if(i&1){let e=M();a(0,"div",16)(1,"a",55),I("click",function(){u(e);let t=S();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",56)(3,"br"),r(),a(4,"p",18),c(5),_(6,"translate"),r()()}i&2&&(n(5),w(h(6,1,"ACTION.DELETE")))}function sn(i,l){if(i&1&&(a(0,"mat-header-cell",57),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function cn(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),g(" ",e.id," ")}}function mn(i,l){if(i&1&&(a(0,"mat-header-cell",57),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function pn(i,l){if(i&1&&(a(0,"mat-cell"),c(1),_(2,"cmssiteinfo"),_(3,"async"),r()),i&2){let e=l.$implicit;n(),g(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function dn(i,l){if(i&1&&(a(0,"mat-header-cell",57),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function un(i,l){if(i&1&&C(0,"select",60),i&2){let e=S().$implicit,o=S();p("contentService",o.contentService)("row",e)("ngStyle",Ke(3,tn,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function fn(i,l){if(i&1&&(a(0,"mat-cell",58),_(1,"statusCellClass"),C(2,"i",58),_(3,"statusIconClass"),b(4,un,1,5,"select",59),r()),i&2){let e=l.$implicit,o=S();p("ngClass",h(1,3,e.recordStatus)),n(2),p("ngClass",h(3,5,e.recordStatus)),n(2),p("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function gn(i,l){if(i&1&&(a(0,"mat-header-cell",57),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Sn(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),g(" ",e.title," ")}}function _n(i,l){if(i&1&&(a(0,"mat-header-cell",57),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.username==null?null:e.fieldsInfo.username.fieldTitle," ")}}function hn(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),g(" ",e.username," ")}}function Cn(i,l){if(i&1&&(a(0,"mat-header-cell",57),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.statusWebhook==null?null:e.fieldsInfo.statusWebhook.fieldTitle," ")}}function vn(i,l){if(i&1&&(a(0,"mat-cell"),C(1,"i",58),_(2,"boolclass"),r()),i&2){let e=l.$implicit;n(),p("ngClass",h(2,1,e.statusWebhook))}}function bn(i,l){if(i&1&&(a(0,"mat-header-cell",57),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Tn(i,l){if(i&1&&(a(0,"mat-cell"),c(1),_(2,"localeDate"),r()),i&2){let e=l.$implicit;n(),g(" ",h(2,1,e.createdDate)," ")}}function An(i,l){if(i&1&&(a(0,"mat-header-cell",57),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function In(i,l){if(i&1&&(a(0,"mat-cell"),c(1),_(2,"localeDate"),r()),i&2){let e=l.$implicit;n(),g(" ",h(2,1,e.updatedDate)," ")}}function wn(i,l){i&1&&(a(0,"mat-header-cell"),c(1),_(2,"translate"),r()),i&2&&(n(),g(" ",h(2,1,"TITLE.OPTION")," "))}function Mn(i,l){if(i&1&&(a(0,"mat-cell",61)(1,"button",62)(2,"mat-icon"),c(3,"more_vert"),r()(),C(4,"mat-menu",null,2),r()),i&2){let e=D(5);n(),p("matMenuTriggerFor",e)}}function En(i,l){i&1&&(a(0,"mat-header-cell",57),c(1),_(2,"translate"),r()),i&2&&(n(),g(" ",h(2,1,"TITLE.LINKTO")," "))}function yn(i,l){if(i&1){let e=M();a(0,"mat-cell")(1,"button",63),I("click",function(){let t=u(e).$implicit,m=S();return f(m.onActionButtonLinkTo(t))}),a(2,"mat-icon",64),c(3,"\u2197"),r()()()}}function Rn(i,l){i&1&&C(0,"mat-header-row")}function xn(i,l){if(i&1){let e=M();a(0,"mat-row",65),I("click",function(){let t=u(e).$implicit,m=S();return f(m.onActionTableRowSelect(t))}),r()}if(i&2){let e=l.$implicit,o=l.dataIndex,t=S();te("ntk-row-odd",o%2)("ntk-row-even",!(o%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var Mt=class Mt extends Ee{constructor(e,o,t,m,d,s,E,P,qe,Ve,lt,Ge){super(e,new Z,lt,m,P);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.tokenHelper=m;this.cmsStoreService=d;this.router=s;this.cdr=E;this.translate=P;this.themeService=qe;this.pageInfo=Ve;this.publicHelper=lt;this.dialog=Ge;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Q;this.dataModelResult=new q;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","RecordStatus","Username","StatusWebhook","CreatedDate","UpdatedDate","LinkTo"];this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","Username","StatusWebhook","CreatedDate","UpdatedDate","LinkTo"];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:bo=>this.onSubmitOptionsSearch(bo)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=L.Ascending}ngOnInit(){this.filteModelContent.sortColumn="ShowInMenuOrder",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>K(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Z);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=L.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(ui,{height:"90%",panelClass:e,enterAnimationDuration:Xe.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Xe.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(fi,{height:"90%",panelClass:o,enterAnimationDuration:Xe.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Xe.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{o=m["MESSAGE.Please_Confirm"],t=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(m=>{if(m){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(d,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{Xe.consoleLog&&console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")})}onActionButtonGoToModuleList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.onActionTableRowSelect(this.tableRowSelected),this.router.navigate(["/core/siteModule/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{o.set(s,0)}),o.set("All",0);let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{o.set(E,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),d=new W;d.propertyName="RecordStatus",d.value=Y.Available,m.filters.push(d),this.contentService.ServiceGetCount(m).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{o.set(E,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonInboxList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.onActionTableRowSelect(e),this.router.navigate(["api-telegram/log-input/LinkBotConfigId/",e.id])}onActionButtonOutboxList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.onActionTableRowSelect(e),this.router.navigate(["api-telegram/log-output/LinkBotConfigId/",e.id])}onActionButtonSendMessage(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),this.dialog.open(it,{data:{linkBotConfigId:e.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionButtonReceiveMessageAll(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e);let o=this.constructor.name+"ServiceGetUpdatesAsync";this.contentService.ServiceGetUpdatesAsync(e.id).subscribe({next:t=>{t.isSuccess?this.cmsToastrService.typeSuccessAdd():this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(o)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonGetMeAsync(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e);let o=this.constructor.name+"ServiceGetMeAsync";this.contentService.ServiceGetMeAsync(e.id).subscribe({next:t=>{t.isSuccess?this.dialog.open(Tt,{data:{optionItem:t.item}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate}):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(o)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonReceiveMessageLast(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e);let o=this.constructor.name+"ServiceGetUpdatesAsyncLast";this.contentService.ServiceGetUpdatesAsyncLast(e.id).subscribe({next:t=>{t.isSuccess?this.cmsToastrService.typeSuccessAdd():this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(o)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonSetAllWebhookUpdate(){let e=this.constructor.name+"ServiceSetAllWebhookUpdate";this.contentService.ServiceSetAllWebhookUpdate().subscribe({next:o=>{o.isSuccess?this.cmsToastrService.typeSuccessAdd():this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionButtonLinkTo(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(e.recordStatus!=Y.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.tableRowSelected=e;let o=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_state_information").subscribe(t=>{this.publicHelper.processService.processStart(o,t,this.constructorInfoAreaId)}),this.contentService.ServiceGetOneById(e.id).subscribe({next:t=>{t.isSuccess?this.dialog.open(_o,{data:{title:t.item.title,urlViewContentQRCodeBase64:t.item.urlViewContentQRCodeBase64,urlViewContent:t.item.urlViewContent}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(o)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(o,!1)}})}};Mt.\u0275fac=function(o){return new(o||Mt)(v(X),v(F),v(Ne),v(Ie),v(le),v(ne),v(O),v(V),v(mo),v(we),v(N),v(J))},Mt.\u0275cmp=B({type:Mt,selectors:[["app-apitelegram-bot-config-list"]],standalone:!1,features:[U],decls:123,vars:54,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],[1,"col-4"],[1,"fa-solid","fa-webhook","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-check","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-receipt","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-message","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-inbox-in","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","Username"],["matColumnDef","StatusWebhook"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],["matColumnDef","LinkTo"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"fa-solid","fa-cloud-arrow-down","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["type","button","mat-icon-button","",3,"click"],[2,"color","#ff671f"],[3,"click"]],template:function(o,t){if(o&1){let m=M();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(s){return u(m),R(t.viewGuideNotice,s)||(t.viewGuideNotice=s),f(s)}),I("optionOnActionButtonMemoRow",function(){return u(m),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(m),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(m),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(m),f(t.onActionButtonPrintRow())}),T(1,4),c(2," -------------------------------------- "),A(),ee(3,5)(4,6),T(5,7),a(6,"a",8),I("click",function(){return u(m),f(t.viewGuideNotice=!t.viewGuideNotice)}),C(7,"i",9),r(),a(8,"a",8),I("click",function(){return u(m),f(t.onActionButtonReload())}),C(9,"i",10),r(),A(),T(10,11),a(11,"a",12),I("click",function(){return u(m),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(12,"mat-slide-toggle",13),c(13),_(14,"translate"),r(),a(15,"a",12),I("click",function(){return u(m),f(t.onActionButtonStatist())}),C(16,"mat-slide-toggle",13),c(17),_(18,"translate"),r(),A(),T(19,14),b(20,on,7,3,"div",15)(21,nn,7,3,"div",15)(22,rn,7,3,"div",15),a(23,"div",16)(24,"a",8),I("click",function(){return u(m),f(t.onActionButtonSetAllWebhookUpdate())}),C(25,"i",17)(26,"br"),r(),a(27,"p",18),c(28),_(29,"translate"),r()(),A(),T(30,19),b(31,an,7,3,"div",15)(32,ln,7,3,"div",15),a(33,"div",16)(34,"a",20),I("click",function(){return u(m),f(t.onActionButtonGetMeAsync(t.tableRowSelected))}),C(35,"i",21)(36,"br"),r(),a(37,"p",18),c(38),_(39,"translate"),r()(),a(40,"div",16)(41,"a",20),I("click",function(){return u(m),f(t.onActionButtonInboxList(t.tableRowSelected))}),C(42,"i",22)(43,"br"),r(),a(44,"p",18),c(45),_(46,"translate"),r()(),a(47,"div",16)(48,"a",20),I("click",function(){return u(m),f(t.onActionButtonOutboxList(t.tableRowSelected))}),C(49,"i",23)(50,"br"),r(),a(51,"p",18),c(52),_(53,"translate"),r()(),a(54,"div",16)(55,"a",20),I("click",function(){return u(m),f(t.onActionButtonSendMessage(t.tableRowSelected))}),C(56,"i",24)(57,"br"),r(),a(58,"p",18),c(59),_(60,"translate"),r()(),a(61,"div",16)(62,"a",20),I("click",function(){return u(m),f(t.onActionButtonReceiveMessageAll(t.tableRowSelected))}),C(63,"i",25)(64,"br"),r(),a(65,"p",18),c(66),_(67,"translate"),r()(),a(68,"div",16)(69,"a",20),I("click",function(){return u(m),f(t.onActionButtonReceiveMessageLast(t.tableRowSelected))}),C(70,"i",24)(71,"br"),r(),a(72,"p",18),c(73),_(74,"translate"),r()(),a(75,"div",16)(76,"a",8),I("click",function(){return u(m),f(t.onActionButtonLinkTo(t.tableRowSelected))}),C(77,"i",26)(78,"br"),r(),a(79,"p",18),c(80),_(81,"translate"),r()(),A(),T(82,27),a(83,"app-cms-search-list",28),x("optionsChange",function(s){return u(m),R(t.optionsSearch,s)||(t.optionsSearch=s),f(s)}),r(),a(84,"app-cms-statist-list",28),x("optionsChange",function(s){return u(m),R(t.optionsStatist,s)||(t.optionsStatist=s),f(s)}),r(),A(),T(85,29),a(86,"mat-table",30,0),I("matSortChange",function(){u(m);let s=D(87);return f(t.onTableSortData(s))}),T(88,31),b(89,sn,2,1,"mat-header-cell",32)(90,cn,2,1,"mat-cell",33),A(),T(91,34),b(92,mn,2,1,"mat-header-cell",32)(93,pn,4,5,"mat-cell",33),A(),T(94,35),b(95,dn,2,1,"mat-header-cell",32)(96,fn,5,7,"mat-cell",36),A(),T(97,37),b(98,gn,2,1,"mat-header-cell",32)(99,Sn,2,1,"mat-cell",33),A(),T(100,38),b(101,_n,2,1,"mat-header-cell",32)(102,hn,2,1,"mat-cell",33),A(),T(103,39),b(104,Cn,2,1,"mat-header-cell",32)(105,vn,3,3,"mat-cell",33),A(),T(106,40),b(107,bn,2,1,"mat-header-cell",32)(108,Tn,3,3,"mat-cell",33),A(),T(109,41),b(110,An,2,1,"mat-header-cell",32)(111,In,3,3,"mat-cell",33),A(),T(112,42),b(113,wn,3,3,"mat-header-cell",43)(114,Mn,6,1,"mat-cell",44),A(),T(115,45),b(116,En,3,3,"mat-header-cell",32)(117,yn,4,0,"mat-cell",33),A(),b(118,Rn,1,0,"mat-header-row",46)(119,xn,1,6,"mat-row",47),r(),A(),T(120,48),a(121,"mat-paginator",49,1),I("page",function(s){return u(m),f(t.onTablePageingData(s))}),r(),A(),r()}o&2&&(p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),n(12),p("checked",t.optionsSearch.data.show),n(),g("",h(14,33,"ACTION.SEARCH")," "),n(3),p("checked",t.optionsStatist.data.show),n(),g("",h(18,35,"ACTION.STATIST")," "),n(3),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),n(),p("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0),n(),p("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0),n(6),w(h(29,37,"ACTION.SetAllWebhookUpdate")),n(3),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(6),w(h(39,39,"ACTION.CHECK_SITUATION")),n(7),w(h(46,41,"ACTION.LIST_OF_RECEIPTS")),n(7),w(h(53,43,"ACTION.LIST_OF_SUBMISSIONS")),n(7),w(h(60,45,"ACTION.Send_Message")),n(7),w(h(67,47,"ACTION.RECEIVE_MESSAGES")),n(7),w(h(74,49,"ACTION.GET_LATEST_MESSAGE")),n(7),w(h(81,51,"TITLE.LINKTO")),n(3),y("options",t.optionsSearch),n(),y("options",t.optionsStatist),n(2),p("dataSource",t.tableSource),n(32),p("matHeaderRowDef",t.tabledisplayedColumns),n(),p("matRowDefColumns",t.tabledisplayedColumns),n(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ie(53,en)))},dependencies:[oe,k,ze,re,ae,j,se,ce,me,pe,de,ue,fe,Se,ve,_e,ge,be,he,Ce,Te,Ae,ye,Re,xe,$e,z,G,De,Le,Be,ke,Me],encapsulation:2});var gi=Mt;var Dn=()=>[5,10,20,100];function Ln(i,l){if(i&1){let e=M();a(0,"a",9),I("click",function(){u(e);let t=S();return f(t.onActionBackToParent())}),C(1,"i",46),r()}}function Bn(i,l){if(i&1){let e=M();a(0,"div",18)(1,"a",47),I("click",function(){u(e);let t=S();return f(t.onActionButtonNewRow())}),C(2,"i",48)(3,"br"),r(),a(4,"p",21),c(5),_(6,"translate"),r()()}i&2&&(n(5),w(h(6,1,"ACTION.ADD")))}function kn(i,l){if(i&1){let e=M();a(0,"div",18)(1,"a",9),I("click",function(){u(e);let t=S();return f(t.onActionButtonSendMessage())}),C(2,"i",20)(3,"br"),r(),a(4,"p",21),c(5),_(6,"translate"),r()()}i&2&&(n(5),w(h(6,1,"ACTION.Send_Message")))}function On(i,l){if(i&1){let e=M();a(0,"div",18)(1,"a",49),I("click",function(){u(e);let t=S();return f(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",50)(3,"br"),r(),a(4,"p",21),c(5),_(6,"translate"),r()()}i&2&&(n(5),w(h(6,1,"ACTION.EDIT")))}function Vn(i,l){if(i&1){let e=M();a(0,"div",18)(1,"a",51),I("click",function(){u(e);let t=S();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",52)(3,"br"),r(),a(4,"p",21),c(5),_(6,"translate"),r()()}i&2&&(n(5),w(h(6,1,"ACTION.DELETE")))}function Gn(i,l){if(i&1&&(a(0,"mat-header-cell",53),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Fn(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),g(" ",e.id," ")}}function Nn(i,l){if(i&1&&(a(0,"mat-header-cell",53),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Pn(i,l){if(i&1&&(a(0,"mat-cell"),c(1),_(2,"cmssiteinfo"),_(3,"async"),r()),i&2){let e=l.$implicit;n(),g(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function Hn(i,l){if(i&1&&(a(0,"mat-header-cell",53),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Wn(i,l){if(i&1&&(a(0,"mat-cell",54),_(1,"statusCellClass"),C(2,"i",54),_(3,"statusIconClass"),r()),i&2){let e=l.$implicit;p("ngClass",h(1,2,e.recordStatus)),n(2),p("ngClass",h(3,4,e.recordStatus))}}function Un(i,l){if(i&1&&(a(0,"mat-header-cell",53),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.linkBotConfigId==null?null:e.fieldsInfo.linkBotConfigId.fieldTitle," ")}}function jn(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),g(" ",e.linkBotConfigId," ")}}function qn(i,l){if(i&1&&(a(0,"mat-header-cell",53),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.username==null?null:e.fieldsInfo.username.fieldTitle," ")}}function Kn(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),g(" ",e.username," ")}}function zn(i,l){if(i&1&&(a(0,"mat-header-cell",53),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.chatId==null?null:e.fieldsInfo.chatId.fieldTitle," ")}}function Jn(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),g(" ",e.chatId," ")}}function Qn(i,l){if(i&1&&(a(0,"mat-header-cell",53),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.statusWebhook==null?null:e.fieldsInfo.statusWebhook.fieldTitle," ")}}function Yn(i,l){if(i&1&&(a(0,"mat-cell"),C(1,"i",54),_(2,"boolclass"),r()),i&2){let e=l.$implicit;n(),p("ngClass",h(2,1,e.statusWebhook))}}function Xn(i,l){if(i&1&&(a(0,"mat-header-cell",53),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Zn(i,l){if(i&1&&(a(0,"mat-cell",55),c(1),_(2,"localeDate"),r()),i&2){let e=l.$implicit,o=S();n(),ei(" ",h(2,2,e.createdDate)," ",o.publicHelper.getTime(e.createdDate)," ")}}function $n(i,l){if(i&1&&(a(0,"mat-header-cell",53),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function er(i,l){if(i&1&&(a(0,"mat-cell"),c(1),_(2,"localeDate"),r()),i&2){let e=l.$implicit;n(),g(" ",h(2,1,e.updatedDate)," ")}}function tr(i,l){i&1&&(a(0,"mat-header-cell"),c(1),_(2,"translate"),r()),i&2&&(n(),g(" ",h(2,1,"TITLE.OPTION")," "))}function ir(i,l){if(i&1&&(a(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),c(3,"more_vert"),r()(),C(4,"mat-menu",null,2),r()),i&2){let e=D(5);n(),p("matMenuTriggerFor",e)}}function or(i,l){i&1&&C(0,"mat-header-row")}function nr(i,l){if(i&1){let e=M();a(0,"mat-row",58),I("click",function(){let t=u(e).$implicit,m=S();return f(m.onActionTableRowSelect(t))}),r()}if(i&2){let e=l.$implicit,o=l.dataIndex,t=S();te("ntk-row-odd",o%2)("ntk-row-even",!(o%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var Et=class Et extends Ee{constructor(e,o,t,m,d,s,E,P,qe,Ve,lt){super(e,new Ii,qe,m,E);this.contentService=e;this.cmsToastrService=o;this.activatedRoute=t;this.tokenHelper=m;this.router=d;this.cdr=s;this.translate=E;this.pageInfo=P;this.publicHelper=qe;this.cmsStoreService=Ve;this.dialog=lt;this.requestLinkBotConfigId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Q;this.dataModelResult=new q;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","RecordStatus","LinkBotConfigId","Username","ChatId","StatusWebhook","CreatedDate","UpdatedDate"];this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","LinkBotConfigId","Username","ChatId","StatusWebhook","CreatedDate","UpdatedDate"];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ge=>this.onSubmitOptionsSearch(Ge)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=L.Ascending}ngOnInit(){this.requestLinkBotConfigId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkBotConfigId"));let e=new W;this.requestLinkBotConfigId>0&&(e.propertyName="LinkBotConfigId",e.value=this.requestLinkBotConfigId,this.filteModelContent.filters.push(e)),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(o=>o.tokenInfoStore).subscribe(o=>K(this,null,function*(){this.tokenInfo=o,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ii);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=L.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}}onActionButtonEditRow(e=this.tableRowSelected){}onActionButtonDeleteRow(e=this.tableRowSelected){}onActionButtonGoToModuleList(e=this.tableRowSelected){}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{o.set(s,0)}),o.set("All",0);let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{o.set(E,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),d=new W;d.propertyName="RecordStatus",d.value=Y.Available,m.filters.push(d),this.contentService.ServiceGetCount(m).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{o.set(E,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonSendMessage(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),this.dialog.open(it,{data:{linkBotConfigId:e.linkBotConfigId,chatId:e.chatId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionBackToParent(){this.router.navigate(["api-telegram/bot-config"])}};Et.\u0275fac=function(o){return new(o||Et)(v(li),v(F),v(oi),v(Ie),v(ne),v(O),v(V),v(we),v(N),v(le),v(J))},Et.\u0275cmp=B({type:Et,selectors:[["app-apitelegram-log-input-list"]],standalone:!1,features:[U],decls:70,vars:29,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-star",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-message","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkBotConfigId"],["matColumnDef","Username"],["matColumnDef","ChatId"],["matColumnDef","StatusWebhook"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(o,t){if(o&1){let m=M();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(s){return u(m),R(t.viewGuideNotice,s)||(t.viewGuideNotice=s),f(s)}),I("optionOnActionButtonMemoRow",function(){return u(m),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(m),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(m),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(m),f(t.onActionButtonPrintRow())}),T(1,4),c(2," -------------------------------------- "),A(),ee(3,5)(4,6),T(5,7),b(6,Ln,2,0,"a",8),a(7,"a",9),I("click",function(){return u(m),f(t.viewGuideNotice=!t.viewGuideNotice)}),C(8,"i",10),r(),a(9,"a",9),I("click",function(){return u(m),f(t.onActionButtonReload())}),C(10,"i",11),r(),A(),T(11,12),a(12,"a",13),I("click",function(){return u(m),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(13,"mat-slide-toggle",14),c(14),_(15,"translate"),r(),A(),T(16,15),b(17,Bn,7,3,"div",16)(18,kn,7,3,"div",16),A(),T(19,17),b(20,On,7,3,"div",16)(21,Vn,7,3,"div",16),a(22,"div",18)(23,"a",19),I("click",function(){return u(m),f(t.onActionButtonSendMessage(t.tableRowSelected))}),C(24,"i",20)(25,"br"),r(),a(26,"p",21),c(27),_(28,"translate"),r()(),A(),T(29,22),a(30,"app-cms-search-list",23),x("optionsChange",function(s){return u(m),R(t.optionsSearch,s)||(t.optionsSearch=s),f(s)}),r(),a(31,"app-cms-statist-list",23),x("optionsChange",function(s){return u(m),R(t.optionsStatist,s)||(t.optionsStatist=s),f(s)}),r(),A(),T(32,24),a(33,"mat-table",25,0),I("matSortChange",function(){u(m);let s=D(34);return f(t.onTableSortData(s))}),T(35,26),b(36,Gn,2,1,"mat-header-cell",27)(37,Fn,2,1,"mat-cell",28),A(),T(38,29),b(39,Nn,2,1,"mat-header-cell",27)(40,Pn,4,5,"mat-cell",28),A(),T(41,30),b(42,Hn,2,1,"mat-header-cell",27)(43,Wn,4,6,"mat-cell",31),A(),T(44,32),b(45,Un,2,1,"mat-header-cell",27)(46,jn,2,1,"mat-cell",28),A(),T(47,33),b(48,qn,2,1,"mat-header-cell",27)(49,Kn,2,1,"mat-cell",28),A(),T(50,34),b(51,zn,2,1,"mat-header-cell",27)(52,Jn,2,1,"mat-cell",28),A(),T(53,35),b(54,Qn,2,1,"mat-header-cell",27)(55,Yn,3,3,"mat-cell",28),A(),T(56,36),b(57,Xn,2,1,"mat-header-cell",27)(58,Zn,3,4,"mat-cell",37),A(),T(59,38),b(60,$n,2,1,"mat-header-cell",27)(61,er,3,3,"mat-cell",28),A(),T(62,39),b(63,tr,3,3,"mat-header-cell",40)(64,ir,6,1,"mat-cell",41),A(),b(65,or,1,0,"mat-header-row",42)(66,nr,1,6,"mat-row",43),r(),A(),T(67,44),a(68,"mat-paginator",45,1),I("page",function(s){return u(m),f(t.onTablePageingData(s))}),r(),A(),r()}o&2&&(p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),p("ngIf",t.requestLinkBotConfigId>0),n(7),p("checked",t.optionsSearch.data.show),n(),g("",h(15,24,"ACTION.SEARCH")," "),n(3),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),n(),p("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.id.length)>0),n(2),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(6),w(h(28,26,"ACTION.Send_Message")),n(3),y("options",t.optionsSearch),n(),y("options",t.optionsStatist),n(2),p("dataSource",t.tableSource),n(32),p("matHeaderRowDef",t.tabledisplayedColumns),n(),p("matRowDefColumns",t.tabledisplayedColumns),n(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ie(28,Dn)))},dependencies:[oe,k,re,ae,se,ce,me,pe,de,ue,fe,Se,ve,_e,ge,be,he,Ce,Te,Ae,ye,Re,xe,z,G,De,Le,Be,ke,Me],encapsulation:2});var Yt=Et;var rr=()=>[5,10,20,100];function ar(i,l){if(i&1){let e=M();a(0,"a",8),I("click",function(){u(e);let t=S();return f(t.onActionBackToParent())}),C(1,"i",46),r()}}function lr(i,l){if(i&1){let e=M();a(0,"div",18)(1,"a",47),I("click",function(){u(e);let t=S();return f(t.onActionButtonNewRow())}),C(2,"i",48)(3,"br"),r(),a(4,"p",21),c(5),_(6,"translate"),r()()}i&2&&(n(5),w(h(6,1,"ACTION.ADD")))}function sr(i,l){if(i&1){let e=M();a(0,"div",18)(1,"a",8),I("click",function(){u(e);let t=S();return f(t.onActionButtonSendMessage())}),C(2,"i",20)(3,"br"),r(),a(4,"p",21),c(5),_(6,"translate"),r()()}i&2&&(n(5),w(h(6,1,"ACTION.Send_Message")))}function cr(i,l){if(i&1){let e=M();a(0,"div",18)(1,"a",49),I("click",function(){u(e);let t=S();return f(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",50)(3,"br"),r(),a(4,"p",21),c(5),_(6,"translate"),r()()}i&2&&(n(5),w(h(6,1,"ACTION.EDIT")))}function mr(i,l){if(i&1){let e=M();a(0,"div",18)(1,"a",51),I("click",function(){u(e);let t=S();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",52)(3,"br"),r(),a(4,"p",21),c(5),_(6,"translate"),r()()}i&2&&(n(5),w(h(6,1,"ACTION.DELETE")))}function pr(i,l){if(i&1&&(a(0,"mat-header-cell",53),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function dr(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),g(" ",e.id," ")}}function ur(i,l){if(i&1&&(a(0,"mat-header-cell",53),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function fr(i,l){if(i&1&&(a(0,"mat-cell"),c(1),_(2,"cmssiteinfo"),_(3,"async"),r()),i&2){let e=l.$implicit;n(),g(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function gr(i,l){if(i&1&&(a(0,"mat-header-cell",53),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Sr(i,l){if(i&1&&(a(0,"mat-cell",54),_(1,"statusCellClass"),C(2,"i",54),_(3,"statusIconClass"),r()),i&2){let e=l.$implicit;p("ngClass",h(1,2,e.recordStatus)),n(2),p("ngClass",h(3,4,e.recordStatus))}}function _r(i,l){if(i&1&&(a(0,"mat-header-cell",53),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.linkBotConfigId==null?null:e.fieldsInfo.linkBotConfigId.fieldTitle," ")}}function hr(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),g(" ",e.linkBotConfigId," ")}}function Cr(i,l){if(i&1&&(a(0,"mat-header-cell",53),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.username==null?null:e.fieldsInfo.username.fieldTitle," ")}}function vr(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),g(" ",e.username," ")}}function br(i,l){if(i&1&&(a(0,"mat-header-cell",53),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.chatId==null?null:e.fieldsInfo.chatId.fieldTitle," ")}}function Tr(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),g(" ",e.chatId," ")}}function Ar(i,l){if(i&1&&(a(0,"mat-header-cell",53),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.statusWebhook==null?null:e.fieldsInfo.statusWebhook.fieldTitle," ")}}function Ir(i,l){if(i&1&&(a(0,"mat-cell"),C(1,"i",54),_(2,"boolclass"),r()),i&2){let e=l.$implicit;n(),p("ngClass",h(2,1,e.statusWebhook))}}function wr(i,l){if(i&1&&(a(0,"mat-header-cell",53),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Mr(i,l){if(i&1&&(a(0,"mat-cell",55),c(1),_(2,"localeDate"),r()),i&2){let e=l.$implicit,o=S();n(),ei(" ",h(2,2,e.createdDate)," ",o.publicHelper.getTime(e.createdDate)," ")}}function Er(i,l){if(i&1&&(a(0,"mat-header-cell",53),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function yr(i,l){if(i&1&&(a(0,"mat-cell"),c(1),_(2,"localeDate"),r()),i&2){let e=l.$implicit;n(),g(" ",h(2,1,e.updatedDate)," ")}}function Rr(i,l){i&1&&(a(0,"mat-header-cell"),c(1),_(2,"translate"),r()),i&2&&(n(),g(" ",h(2,1,"TITLE.OPTION")," "))}function xr(i,l){if(i&1&&(a(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),c(3,"more_vert"),r()(),C(4,"mat-menu",null,2),r()),i&2){let e=D(5);n(),p("matMenuTriggerFor",e)}}function Dr(i,l){i&1&&C(0,"mat-header-row")}function Lr(i,l){if(i&1){let e=M();a(0,"mat-row",58),I("click",function(){let t=u(e).$implicit,m=S();return f(m.onActionTableRowSelect(t))}),r()}if(i&2){let e=l.$implicit,o=l.dataIndex,t=S();te("ntk-row-odd",o%2)("ntk-row-even",!(o%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var yt=class yt extends Ee{constructor(e,o,t,m,d,s,E,P,qe,Ve,lt){super(e,new wi,Ve,m,P);this.contentService=e;this.cmsToastrService=o;this.activatedRoute=t;this.tokenHelper=m;this.router=d;this.cdr=s;this.cmsStoreService=E;this.translate=P;this.pageInfo=qe;this.publicHelper=Ve;this.dialog=lt;this.requestLinkBotConfigId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Q;this.dataModelResult=new q;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","RecordStatus","LinkBotConfigId","Username","ChatId","StatusWebhook","CreatedDate","UpdatedDate"];this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","LinkBotConfigId","Username","ChatId","StatusWebhook","CreatedDate","UpdatedDate"];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ge=>this.onSubmitOptionsSearch(Ge)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=L.Ascending}ngOnInit(){this.requestLinkBotConfigId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkBotConfigId"));let e=new W;this.requestLinkBotConfigId>0&&(e.propertyName="LinkBotConfigId",e.value=this.requestLinkBotConfigId,this.filteModelContent.filters.push(e)),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(o=>o.tokenInfoStore).subscribe(o=>K(this,null,function*(){this.tokenInfo=o,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new wi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=L.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){}onActionButtonEditRow(e=this.tableRowSelected){}onActionButtonDeleteRow(e=this.tableRowSelected){}onActionButtonGoToModuleList(e=this.tableRowSelected){}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{o.set(s,0)}),o.set("All",0);let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{o.set(E,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),d=new W;d.propertyName="RecordStatus",d.value=Y.Available,m.filters.push(d),this.contentService.ServiceGetCount(m).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{o.set(E,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonSendMessage(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),this.dialog.open(it,{data:{linkBotConfigId:e.linkBotConfigId,ChatId:e.chatId}}).afterClosed().subscribe(t=>{this.DataGetAll()})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionButtonLinkTo(e=this.tableRowSelected){}onActionBackToParent(){this.router.navigate(["api-telegram/bot-config"])}};yt.\u0275fac=function(o){return new(o||yt)(v(si),v(F),v(oi),v(Ie),v(ne),v(O),v(le),v(V),v(we),v(N),v(J))},yt.\u0275cmp=B({type:yt,selectors:[["app-apitelegram-bot-config-list"]],standalone:!1,features:[U],decls:76,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight","target","_blank",3,"click",4,"ngIf"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-message","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkBotConfigId"],["matColumnDef","Username"],["matColumnDef","ChatId"],["matColumnDef","StatusWebhook"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(o,t){if(o&1){let m=M();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(s){return u(m),R(t.viewGuideNotice,s)||(t.viewGuideNotice=s),f(s)}),I("optionOnActionButtonMemoRow",function(){return u(m),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(m),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(m),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(m),f(t.onActionButtonPrintRow())}),T(1,4),c(2," -------------------------------------- "),A(),ee(3,5)(4,6),T(5,7),a(6,"a",8),I("click",function(){return u(m),f(t.viewGuideNotice=!t.viewGuideNotice)}),C(7,"i",9),r(),b(8,ar,2,0,"a",10),a(9,"a",8),I("click",function(){return u(m),f(t.viewGuideNotice=!t.viewGuideNotice)}),C(10,"i",9),r(),a(11,"a",8),I("click",function(){return u(m),f(t.onActionButtonReload())}),C(12,"i",11),r(),A(),T(13,12),a(14,"a",13),I("click",function(){return u(m),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(15,"mat-slide-toggle",14),c(16),_(17,"translate"),r(),a(18,"a",13),I("click",function(){return u(m),f(t.onActionButtonStatist())}),C(19,"mat-slide-toggle",14),c(20),_(21,"translate"),r(),A(),T(22,15),b(23,lr,7,3,"div",16)(24,sr,7,3,"div",16),A(),T(25,17),b(26,cr,7,3,"div",16)(27,mr,7,3,"div",16),a(28,"div",18)(29,"a",19),I("click",function(){return u(m),f(t.onActionButtonSendMessage(t.tableRowSelected))}),C(30,"i",20)(31,"br"),r(),a(32,"p",21),c(33),_(34,"translate"),r()(),A(),T(35,22),a(36,"app-cms-search-list",23),x("optionsChange",function(s){return u(m),R(t.optionsSearch,s)||(t.optionsSearch=s),f(s)}),r(),a(37,"app-cms-statist-list",23),x("optionsChange",function(s){return u(m),R(t.optionsStatist,s)||(t.optionsStatist=s),f(s)}),r(),A(),T(38,24),a(39,"mat-table",25,0),I("matSortChange",function(){u(m);let s=D(40);return f(t.onTableSortData(s))}),T(41,26),b(42,pr,2,1,"mat-header-cell",27)(43,dr,2,1,"mat-cell",28),A(),T(44,29),b(45,ur,2,1,"mat-header-cell",27)(46,fr,4,5,"mat-cell",28),A(),T(47,30),b(48,gr,2,1,"mat-header-cell",27)(49,Sr,4,6,"mat-cell",31),A(),T(50,32),b(51,_r,2,1,"mat-header-cell",27)(52,hr,2,1,"mat-cell",28),A(),T(53,33),b(54,Cr,2,1,"mat-header-cell",27)(55,vr,2,1,"mat-cell",28),A(),T(56,34),b(57,br,2,1,"mat-header-cell",27)(58,Tr,2,1,"mat-cell",28),A(),T(59,35),b(60,Ar,2,1,"mat-header-cell",27)(61,Ir,3,3,"mat-cell",28),A(),T(62,36),b(63,wr,2,1,"mat-header-cell",27)(64,Mr,3,4,"mat-cell",37),A(),T(65,38),b(66,Er,2,1,"mat-header-cell",27)(67,yr,3,3,"mat-cell",28),A(),T(68,39),b(69,Rr,3,3,"mat-header-cell",40)(70,xr,6,1,"mat-cell",41),A(),b(71,Dr,1,0,"mat-header-row",42)(72,Lr,1,6,"mat-row",43),r(),A(),T(73,44),a(74,"mat-paginator",45,1),I("page",function(s){return u(m),f(t.onTablePageingData(s))}),r(),A(),r()}o&2&&(p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(8),p("ngIf",t.requestLinkBotConfigId>0),n(7),p("checked",t.optionsSearch.data.show),n(),g("",h(17,26,"ACTION.SEARCH")," "),n(3),p("checked",t.optionsStatist.data.show),n(),g("",h(21,28,"ACTION.STATIST")," "),n(3),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),n(),p("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.id.length)>0),n(2),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(6),w(h(34,30,"ACTION.Send_Message")),n(3),y("options",t.optionsSearch),n(),y("options",t.optionsStatist),n(2),p("dataSource",t.tableSource),n(32),p("matHeaderRowDef",t.tabledisplayedColumns),n(),p("matRowDefColumns",t.tabledisplayedColumns),n(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ie(32,rr)))},dependencies:[oe,k,re,ae,se,ce,me,pe,de,ue,fe,Se,ve,_e,ge,be,he,Ce,Te,Ae,ye,Re,xe,z,G,De,Le,Be,ke,Me],encapsulation:2});var Xt=yt;var Br=()=>[5,10,20,100],kr=i=>({display:i});function Or(i,l){if(i&1){let e=M();a(0,"div",39)(1,"a",40),I("click",function(){u(e);let t=S();return f(t.onActionButtonNewRow())}),C(2,"i",41)(3,"br"),r(),a(4,"p",42),c(5),_(6,"translate"),r()()}i&2&&(n(5),w(h(6,1,"ACTION.ADD")))}function Vr(i,l){if(i&1){let e=M();a(0,"div",39)(1,"a",43),I("click",function(){u(e);let t=S();return f(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",44)(3,"br"),r(),a(4,"p",42),c(5),_(6,"translate"),r()()}i&2&&(n(5),w(h(6,1,"ACTION.EDIT")))}function Gr(i,l){if(i&1){let e=M();a(0,"div",39)(1,"a",45),I("click",function(){u(e);let t=S();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",46)(3,"br"),r(),a(4,"p",42),c(5),_(6,"translate"),r()()}i&2&&(n(5),w(h(6,1,"ACTION.DELETE")))}function Fr(i,l){if(i&1){let e=M();a(0,"div",39)(1,"a",47),I("click",function(){u(e);let t=S();return f(t.onActionButtonSiteList(t.tableRowSelected))}),C(2,"i",48)(3,"br"),r(),a(4,"p",42),c(5),_(6,"translate"),r()()}i&2&&(n(5),w(h(6,1,"ACTION.LIST_SITES")))}function Nr(i,l){if(i&1){let e=M();a(0,"div",39)(1,"a",47),I("click",function(){u(e);let t=S();return f(t.onActionButtonSiteCategoryList(t.tableRowSelected))}),C(2,"i",49)(3,"br"),r(),a(4,"p",42),c(5),_(6,"translate"),r()()}i&2&&(n(5),w(h(6,1,"ACTION.CATEGORY_LIST_SITES")))}function Pr(i,l){if(i&1&&(a(0,"mat-header-cell",50),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Hr(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),g(" ",e.id," ")}}function Wr(i,l){if(i&1&&(a(0,"mat-header-cell",50),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ur(i,l){if(i&1&&(a(0,"mat-cell"),c(1),_(2,"cmssiteinfo"),_(3,"async"),r()),i&2){let e=l.$implicit;n(),g(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function jr(i,l){if(i&1&&(a(0,"mat-header-cell",50),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function qr(i,l){if(i&1&&C(0,"select",53),i&2){let e=S().$implicit,o=S();p("contentService",o.contentService)("row",e)("ngStyle",Ke(3,kr,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function Kr(i,l){if(i&1&&(a(0,"mat-cell",51),_(1,"statusCellClass"),C(2,"i",51),_(3,"statusIconClass"),b(4,qr,1,5,"select",52),r()),i&2){let e=l.$implicit,o=S();p("ngClass",h(1,3,e.recordStatus)),n(2),p("ngClass",h(3,5,e.recordStatus)),n(2),p("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function zr(i,l){if(i&1&&(a(0,"mat-header-cell",50),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Jr(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),g(" ",e.title," ")}}function Qr(i,l){if(i&1&&(a(0,"mat-header-cell",50),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.username==null?null:e.fieldsInfo.username.fieldTitle," ")}}function Yr(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),g(" ",e.username," ")}}function Xr(i,l){if(i&1&&(a(0,"mat-header-cell",50),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.statusWebhook==null?null:e.fieldsInfo.statusWebhook.fieldTitle," ")}}function Zr(i,l){if(i&1&&(a(0,"mat-cell"),C(1,"i",51),_(2,"boolclass"),r()),i&2){let e=l.$implicit;n(),p("ngClass",h(2,1,e.statusWebhook))}}function $r(i,l){if(i&1&&(a(0,"mat-header-cell",50),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function ea(i,l){if(i&1&&(a(0,"mat-cell"),c(1),_(2,"localeDate"),r()),i&2){let e=l.$implicit;n(),g(" ",h(2,1,e.createdDate)," ")}}function ta(i,l){if(i&1&&(a(0,"mat-header-cell",50),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function ia(i,l){if(i&1&&(a(0,"mat-cell"),c(1),_(2,"localeDate"),r()),i&2){let e=l.$implicit;n(),g(" ",h(2,1,e.updatedDate)," ")}}function oa(i,l){i&1&&(a(0,"mat-header-cell"),c(1),_(2,"translate"),r()),i&2&&(n(),g(" ",h(2,1,"TITLE.OPTION")," "))}function na(i,l){if(i&1&&(a(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),c(3,"more_vert"),r()(),C(4,"mat-menu",null,2),r()),i&2){let e=D(5);n(),p("matMenuTriggerFor",e)}}function ra(i,l){i&1&&C(0,"mat-header-row")}function aa(i,l){if(i&1){let e=M();a(0,"mat-row",56),I("click",function(){let t=u(e).$implicit,m=S();return f(m.onActionTableRowSelect(t))}),r()}if(i&2){let e=l.$implicit,o=l.dataIndex,t=S();te("ntk-row-odd",o%2)("ntk-row-even",!(o%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var Rt=class Rt extends Ee{constructor(e,o,t,m,d,s,E,P,qe,Ve,lt){super(e,new Mi,Ve,m,E);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.tokenHelper=m;this.router=d;this.cdr=s;this.translate=E;this.pageInfo=P;this.cmsStoreService=qe;this.publicHelper=Ve;this.dialog=lt;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Q;this.dataModelResult=new q;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","RecordStatus","Username","StatusWebhook","CreatedDate","UpdatedDate"];this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","Username","StatusWebhook","CreatedDate","UpdatedDate"];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ge=>this.onSubmitOptionsSearch(Ge)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=L.Ascending}ngOnInit(){this.filteModelContent.sortColumn="ShowInMenuOrder",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>K(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Mi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending):this.tableSource.sort.start==="desc"?(this.filteModelContent.sortColumn="",this.filteModelContent.sortType=L.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){}onActionButtonEditRow(e=this.tableRowSelected){}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{o=m["MESSAGE.Please_Confirm"],t=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(m=>{if(m){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(d,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{Xe.consoleLog&&console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")})}onActionButtonGoToModuleList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.onActionTableRowSelect(e),this.router.navigate(["/core/siteModule/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{o.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{o.set(s,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{o.set(E,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),d=new W;d.propertyName="RecordStatus",d.value=Y.Available,m.filters.push(d),this.contentService.ServiceGetCount(m).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{o.set(E,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonSiteList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.onActionTableRowSelect(e),this.router.navigate(["core/site/modulelist/LinkModuleId/",e.id])}onActionButtonSiteCategoryList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.onActionTableRowSelect(e),this.router.navigate(["core/sitecategorymodule/LinkCmsModuleId/",e.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}};Rt.\u0275fac=function(o){return new(o||Rt)(v(ci),v(F),v(Ne),v(Ie),v(ne),v(O),v(V),v(we),v(le),v(N),v(J))},Rt.\u0275cmp=B({type:Rt,selectors:[["app-apitelegram-bot-config-list"]],standalone:!1,features:[U],decls:60,vars:26,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","Username"],["matColumnDef","StatusWebhook"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-layer-group","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(o,t){if(o&1){let m=M();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(s){return u(m),R(t.viewGuideNotice,s)||(t.viewGuideNotice=s),f(s)}),I("optionOnActionButtonMemoRow",function(){return u(m),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(m),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(m),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(m),f(t.onActionButtonPrintRow())}),T(1,4),c(2," -------------------------------------- "),A(),ee(3,5)(4,6),T(5,7),a(6,"a",8),I("click",function(){return u(m),f(t.viewGuideNotice=!t.viewGuideNotice)}),C(7,"i",9),r(),a(8,"a",8),I("click",function(){return u(m),f(t.onActionButtonReload())}),C(9,"i",10),r(),A(),T(10,11),a(11,"a",12),I("click",function(){return u(m),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(12,"mat-slide-toggle",13),c(13),_(14,"translate"),r(),A(),T(15,14),b(16,Or,7,3,"div",15),A(),T(17,16),b(18,Vr,7,3,"div",15)(19,Gr,7,3,"div",15)(20,Fr,7,3,"div",15)(21,Nr,7,3,"div",15),A(),T(22,17),a(23,"app-cms-search-list",18),x("optionsChange",function(s){return u(m),R(t.optionsSearch,s)||(t.optionsSearch=s),f(s)}),r(),a(24,"app-cms-statist-list",18),x("optionsChange",function(s){return u(m),R(t.optionsStatist,s)||(t.optionsStatist=s),f(s)}),r(),A(),T(25,19),a(26,"mat-table",20,0),I("matSortChange",function(){u(m);let s=D(27);return f(t.onTableSortData(s))}),T(28,21),b(29,Pr,2,1,"mat-header-cell",22)(30,Hr,2,1,"mat-cell",23),A(),T(31,24),b(32,Wr,2,1,"mat-header-cell",22)(33,Ur,4,5,"mat-cell",23),A(),T(34,25),b(35,jr,2,1,"mat-header-cell",22)(36,Kr,5,7,"mat-cell",26),A(),T(37,27),b(38,zr,2,1,"mat-header-cell",22)(39,Jr,2,1,"mat-cell",23),A(),T(40,28),b(41,Qr,2,1,"mat-header-cell",22)(42,Yr,2,1,"mat-cell",23),A(),T(43,29),b(44,Xr,2,1,"mat-header-cell",22)(45,Zr,3,3,"mat-cell",23),A(),T(46,30),b(47,$r,2,1,"mat-header-cell",22)(48,ea,3,3,"mat-cell",23),A(),T(49,31),b(50,ta,2,1,"mat-header-cell",22)(51,ia,3,3,"mat-cell",23),A(),T(52,32),b(53,oa,3,3,"mat-header-cell",33)(54,na,6,1,"mat-cell",34),A(),b(55,ra,1,0,"mat-header-row",35)(56,aa,1,6,"mat-row",36),r(),A(),T(57,37),a(58,"mat-paginator",38,1),I("page",function(s){return u(m),f(t.onTablePageingData(s))}),r(),A(),r()}o&2&&(p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(12),p("checked",t.optionsSearch.data.show),n(),g("",h(14,23,"ACTION.SEARCH")," "),n(3),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),n(2),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(),p("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),n(),p("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),n(2),y("options",t.optionsSearch),n(),y("options",t.optionsStatist),n(2),p("dataSource",t.tableSource),n(29),p("matHeaderRowDef",t.tabledisplayedColumns),n(),p("matRowDefColumns",t.tabledisplayedColumns),n(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ie(25,Br)))},dependencies:[oe,k,ze,re,ae,j,se,ce,me,pe,de,ue,fe,Se,ve,_e,ge,be,he,Ce,Te,Ae,ye,Re,xe,$e,z,G,De,Le,Be,ke,Me],encapsulation:2});var Si=Rt;var la=()=>[5,10,20,100],sa=i=>({display:i});function ca(i,l){if(i&1){let e=M();a(0,"div",39)(1,"a",40),I("click",function(){u(e);let t=S();return f(t.onActionButtonNewRow())}),C(2,"i",41)(3,"br"),r(),a(4,"p",42),c(5),_(6,"translate"),r()()}i&2&&(n(5),w(h(6,1,"ACTION.ADD")))}function ma(i,l){if(i&1){let e=M();a(0,"div",39)(1,"a",43),I("click",function(){u(e);let t=S();return f(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",44)(3,"br"),r(),a(4,"p",42),c(5),_(6,"translate"),r()()}i&2&&(n(5),w(h(6,1,"ACTION.EDIT")))}function pa(i,l){if(i&1){let e=M();a(0,"div",39)(1,"a",45),I("click",function(){u(e);let t=S();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",46)(3,"br"),r(),a(4,"p",42),c(5),_(6,"translate"),r()()}i&2&&(n(5),w(h(6,1,"ACTION.DELETE")))}function da(i,l){if(i&1){let e=M();a(0,"div",39)(1,"a",47),I("click",function(){u(e);let t=S();return f(t.onActionButtonSiteList(t.tableRowSelected))}),C(2,"i",48)(3,"br"),r(),a(4,"p",42),c(5),_(6,"translate"),r()()}i&2&&(n(5),w(h(6,1,"ACTION.LIST_SITES")))}function ua(i,l){if(i&1){let e=M();a(0,"div",39)(1,"a",47),I("click",function(){u(e);let t=S();return f(t.onActionButtonSiteCategoryList(t.tableRowSelected))}),C(2,"i",49)(3,"br"),r(),a(4,"p",42),c(5),_(6,"translate"),r()()}i&2&&(n(5),w(h(6,1,"ACTION.CATEGORY_LIST_SITES")))}function fa(i,l){if(i&1&&(a(0,"mat-header-cell",50),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function ga(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),g(" ",e.id," ")}}function Sa(i,l){if(i&1&&(a(0,"mat-header-cell",50),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function _a(i,l){if(i&1&&(a(0,"mat-cell"),c(1),_(2,"cmssiteinfo"),_(3,"async"),r()),i&2){let e=l.$implicit;n(),g(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function ha(i,l){if(i&1&&(a(0,"mat-header-cell",50),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ca(i,l){if(i&1&&C(0,"select",53),i&2){let e=S().$implicit,o=S();p("contentService",o.contentService)("row",e)("ngStyle",Ke(3,sa,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function va(i,l){if(i&1&&(a(0,"mat-cell",51),_(1,"statusCellClass"),C(2,"i",51),_(3,"statusIconClass"),b(4,Ca,1,5,"select",52),r()),i&2){let e=l.$implicit,o=S();p("ngClass",h(1,3,e.recordStatus)),n(2),p("ngClass",h(3,5,e.recordStatus)),n(2),p("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function ba(i,l){if(i&1&&(a(0,"mat-header-cell",50),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Ta(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),g(" ",e.title," ")}}function Aa(i,l){if(i&1&&(a(0,"mat-header-cell",50),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.username==null?null:e.fieldsInfo.username.fieldTitle," ")}}function Ia(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),g(" ",e.username," ")}}function wa(i,l){if(i&1&&(a(0,"mat-header-cell",50),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.statusWebhook==null?null:e.fieldsInfo.statusWebhook.fieldTitle," ")}}function Ma(i,l){if(i&1&&(a(0,"mat-cell"),C(1,"i",51),_(2,"boolclass"),r()),i&2){let e=l.$implicit;n(),p("ngClass",h(2,1,e.statusWebhook))}}function Ea(i,l){if(i&1&&(a(0,"mat-header-cell",50),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function ya(i,l){if(i&1&&(a(0,"mat-cell"),c(1),_(2,"localeDate"),r()),i&2){let e=l.$implicit;n(),g(" ",h(2,1,e.createdDate)," ")}}function Ra(i,l){if(i&1&&(a(0,"mat-header-cell",50),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function xa(i,l){if(i&1&&(a(0,"mat-cell"),c(1),_(2,"localeDate"),r()),i&2){let e=l.$implicit;n(),g(" ",h(2,1,e.updatedDate)," ")}}function Da(i,l){i&1&&(a(0,"mat-header-cell"),c(1),_(2,"translate"),r()),i&2&&(n(),g(" ",h(2,1,"TITLE.OPTION")," "))}function La(i,l){if(i&1&&(a(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),c(3,"more_vert"),r()(),C(4,"mat-menu",null,2),r()),i&2){let e=D(5);n(),p("matMenuTriggerFor",e)}}function Ba(i,l){i&1&&C(0,"mat-header-row")}function ka(i,l){if(i&1){let e=M();a(0,"mat-row",56),I("click",function(){let t=u(e).$implicit,m=S();return f(m.onActionTableRowSelect(t))}),r()}if(i&2){let e=l.$implicit,o=l.dataIndex,t=S();te("ntk-row-odd",o%2)("ntk-row-even",!(o%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var xt=class xt extends Ee{constructor(e,o,t,m,d,s,E,P,qe,Ve,lt){super(e,new Ei,Ve,m,E);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.tokenHelper=m;this.router=d;this.cdr=s;this.translate=E;this.cmsStoreService=P;this.pageInfo=qe;this.publicHelper=Ve;this.dialog=lt;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Q;this.dataModelResult=new q;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","RecordStatus","Username","StatusWebhook","CreatedDate","UpdatedDate"];this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","Username","StatusWebhook","CreatedDate","UpdatedDate"];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ge=>this.onSubmitOptionsSearch(Ge)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=L.Ascending}ngOnInit(){this.filteModelContent.sortColumn="ShowInMenuOrder",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>K(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ei);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=L.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){}onActionButtonEditRow(e=this.tableRowSelected){}onActionButtonDeleteRow(e=this.tableRowSelected){}onActionButtonGoToModuleList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.onActionTableRowSelect(e),this.router.navigate(["/core/siteModule/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{o.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{o.set(s,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{o.set(E,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),d=new W;d.propertyName="RecordStatus",d.value=Y.Available,m.filters.push(d),this.contentService.ServiceGetCount(m).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{o.set(E,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonSiteList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.onActionTableRowSelect(e),this.router.navigate(["core/site/modulelist/LinkModuleId/",e.id])}onActionButtonSiteCategoryList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.onActionTableRowSelect(e),this.router.navigate(["core/sitecategorymodule/LinkCmsModuleId/",e.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}};xt.\u0275fac=function(o){return new(o||xt)(v(ai),v(F),v(Ne),v(Ie),v(ne),v(O),v(V),v(le),v(we),v(N),v(J))},xt.\u0275cmp=B({type:xt,selectors:[["app-apitelegram-bot-config-list"]],standalone:!1,features:[U],decls:64,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","Username"],["matColumnDef","StatusWebhook"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-layer-group","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(o,t){if(o&1){let m=M();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(s){return u(m),R(t.viewGuideNotice,s)||(t.viewGuideNotice=s),f(s)}),I("optionOnActionButtonMemoRow",function(){return u(m),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(m),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(m),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(m),f(t.onActionButtonPrintRow())}),T(1,4),c(2," -------------------------------------- "),A(),ee(3,5)(4,6),T(5,7),a(6,"a",8),I("click",function(){return u(m),f(t.viewGuideNotice=!t.viewGuideNotice)}),C(7,"i",9),r(),a(8,"a",8),I("click",function(){return u(m),f(t.onActionButtonReload())}),C(9,"i",10),r(),A(),T(10,11),a(11,"a",12),I("click",function(){return u(m),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(12,"mat-slide-toggle",13),c(13),_(14,"translate"),r(),a(15,"a",12),I("click",function(){return u(m),f(t.onActionButtonStatist())}),C(16,"mat-slide-toggle",13),c(17),_(18,"translate"),r(),A(),T(19,14),b(20,ca,7,3,"div",15),A(),T(21,16),b(22,ma,7,3,"div",15)(23,pa,7,3,"div",15)(24,da,7,3,"div",15)(25,ua,7,3,"div",15),A(),T(26,17),a(27,"app-cms-search-list",18),x("optionsChange",function(s){return u(m),R(t.optionsSearch,s)||(t.optionsSearch=s),f(s)}),r(),a(28,"app-cms-statist-list",18),x("optionsChange",function(s){return u(m),R(t.optionsStatist,s)||(t.optionsStatist=s),f(s)}),r(),A(),T(29,19),a(30,"mat-table",20,0),I("matSortChange",function(){u(m);let s=D(31);return f(t.onTableSortData(s))}),T(32,21),b(33,fa,2,1,"mat-header-cell",22)(34,ga,2,1,"mat-cell",23),A(),T(35,24),b(36,Sa,2,1,"mat-header-cell",22)(37,_a,4,5,"mat-cell",23),A(),T(38,25),b(39,ha,2,1,"mat-header-cell",22)(40,va,5,7,"mat-cell",26),A(),T(41,27),b(42,ba,2,1,"mat-header-cell",22)(43,Ta,2,1,"mat-cell",23),A(),T(44,28),b(45,Aa,2,1,"mat-header-cell",22)(46,Ia,2,1,"mat-cell",23),A(),T(47,29),b(48,wa,2,1,"mat-header-cell",22)(49,Ma,3,3,"mat-cell",23),A(),T(50,30),b(51,Ea,2,1,"mat-header-cell",22)(52,ya,3,3,"mat-cell",23),A(),T(53,31),b(54,Ra,2,1,"mat-header-cell",22)(55,xa,3,3,"mat-cell",23),A(),T(56,32),b(57,Da,3,3,"mat-header-cell",33)(58,La,6,1,"mat-cell",34),A(),b(59,Ba,1,0,"mat-header-row",35)(60,ka,1,6,"mat-row",36),r(),A(),T(61,37),a(62,"mat-paginator",38,1),I("page",function(s){return u(m),f(t.onTablePageingData(s))}),r(),A(),r()}o&2&&(p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(12),p("checked",t.optionsSearch.data.show),n(),g("",h(14,25,"ACTION.SEARCH")," "),n(3),p("checked",t.optionsStatist.data.show),n(),g("",h(18,27,"ACTION.STATIST")," "),n(3),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),n(2),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(),p("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),n(),p("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),n(2),y("options",t.optionsSearch),n(),y("options",t.optionsStatist),n(2),p("dataSource",t.tableSource),n(29),p("matHeaderRowDef",t.tabledisplayedColumns),n(),p("matRowDefColumns",t.tabledisplayedColumns),n(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ie(29,la)))},dependencies:[oe,k,ze,re,ae,j,se,ce,me,pe,de,ue,fe,Se,ve,_e,ge,be,he,Ce,Te,Ae,ye,Re,xe,$e,z,G,De,Le,Be,ke,Me],encapsulation:2});var _i=xt;var Oa=()=>[5,10,20,100],Va=i=>({display:i});function Ga(i,l){if(i&1){let e=M();a(0,"div",38)(1,"a",39),I("click",function(){u(e);let t=S();return f(t.onActionButtonNewRow())}),C(2,"i",40)(3,"br"),r(),a(4,"p",41),c(5),_(6,"translate"),r()()}i&2&&(n(5),w(h(6,1,"ACTION.ADD")))}function Fa(i,l){if(i&1){let e=M();a(0,"div",38)(1,"a",42),I("click",function(){u(e);let t=S();return f(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",43)(3,"br"),r(),a(4,"p",41),c(5),_(6,"translate"),r()()}i&2&&(n(5),w(h(6,1,"ACTION.EDIT")))}function Na(i,l){if(i&1){let e=M();a(0,"div",38)(1,"a",44),I("click",function(){u(e);let t=S();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",45)(3,"br"),r(),a(4,"p",41),c(5),_(6,"translate"),r()()}i&2&&(n(5),w(h(6,1,"ACTION.DELETE")))}function Pa(i,l){if(i&1){let e=M();a(0,"div",38)(1,"a",46),I("click",function(){u(e);let t=S();return f(t.onActionButtonSiteList(t.tableRowSelected))}),C(2,"i",47)(3,"br"),r(),a(4,"p",41),c(5),_(6,"translate"),r()()}i&2&&(n(5),w(h(6,1,"ACTION.LIST_SITES")))}function Ha(i,l){if(i&1){let e=M();a(0,"div",38)(1,"a",46),I("click",function(){u(e);let t=S();return f(t.onActionButtonSiteCategoryList(t.tableRowSelected))}),C(2,"i",48)(3,"br"),r(),a(4,"p",41),c(5),_(6,"translate"),r()()}i&2&&(n(5),w(h(6,1,"ACTION.CATEGORY_LIST_SITES")))}function Wa(i,l){if(i&1&&(a(0,"mat-header-cell",49),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Ua(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),g(" ",e.id," ")}}function ja(i,l){if(i&1&&(a(0,"mat-header-cell",49),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function qa(i,l){if(i&1&&(a(0,"mat-cell"),c(1),_(2,"cmssiteinfo"),_(3,"async"),r()),i&2){let e=l.$implicit;n(),g(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function Ka(i,l){if(i&1&&(a(0,"mat-header-cell",49),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function za(i,l){if(i&1&&C(0,"select",52),i&2){let e=S().$implicit,o=S();p("contentService",o.contentService)("row",e)("ngStyle",Ke(3,Va,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function Ja(i,l){if(i&1&&(a(0,"mat-cell",50),_(1,"statusCellClass"),C(2,"i",50),_(3,"statusIconClass"),b(4,za,1,5,"select",51),r()),i&2){let e=l.$implicit,o=S();p("ngClass",h(1,3,e.recordStatus)),n(2),p("ngClass",h(3,5,e.recordStatus)),n(2),p("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function Qa(i,l){if(i&1&&(a(0,"mat-header-cell",49),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.username==null?null:e.fieldsInfo.username.fieldTitle," ")}}function Ya(i,l){if(i&1&&(a(0,"mat-cell"),c(1),r()),i&2){let e=l.$implicit;n(),g(" ",e.username," ")}}function Xa(i,l){if(i&1&&(a(0,"mat-header-cell",49),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.statusWebhook==null?null:e.fieldsInfo.statusWebhook.fieldTitle," ")}}function Za(i,l){if(i&1&&(a(0,"mat-cell"),C(1,"i",50),_(2,"boolclass"),r()),i&2){let e=l.$implicit;n(),p("ngClass",h(2,1,e.statusWebhook))}}function $a(i,l){if(i&1&&(a(0,"mat-header-cell",49),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function el(i,l){if(i&1&&(a(0,"mat-cell"),c(1),_(2,"localeDate"),r()),i&2){let e=l.$implicit;n(),g(" ",h(2,1,e.createdDate)," ")}}function tl(i,l){if(i&1&&(a(0,"mat-header-cell",49),c(1),r()),i&2){let e=S();n(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function il(i,l){if(i&1&&(a(0,"mat-cell"),c(1),_(2,"localeDate"),r()),i&2){let e=l.$implicit;n(),g(" ",h(2,1,e.updatedDate)," ")}}function ol(i,l){i&1&&(a(0,"mat-header-cell"),c(1),_(2,"translate"),r()),i&2&&(n(),g(" ",h(2,1,"TITLE.OPTION")," "))}function nl(i,l){if(i&1&&(a(0,"mat-cell",53)(1,"button",54)(2,"mat-icon"),c(3,"more_vert"),r()(),C(4,"mat-menu",null,2),r()),i&2){let e=D(5);n(),p("matMenuTriggerFor",e)}}function rl(i,l){i&1&&C(0,"mat-header-row")}function al(i,l){if(i&1){let e=M();a(0,"mat-row",55),I("click",function(){let t=u(e).$implicit,m=S();return f(m.onActionTableRowSelect(t))}),r()}if(i&2){let e=l.$implicit,o=l.dataIndex,t=S();te("ntk-row-odd",o%2)("ntk-row-even",!(o%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var Dt=class Dt extends Ee{constructor(e,o,t,m,d,s,E,P,qe,Ve,lt){super(e,new yi,o,Ve,P);this.contentService=e;this.publicHelper=o;this.cmsToastrService=t;this.cmsConfirmationDialogService=m;this.router=d;this.cdr=s;this.cmsStoreService=E;this.translate=P;this.pageInfo=qe;this.tokenHelper=Ve;this.dialog=lt;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Q;this.dataModelResult=new q;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","RecordStatus","Username","StatusWebhook","CreatedDate","UpdatedDate"];this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","Username","StatusWebhook","CreatedDate","UpdatedDate"];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ge=>this.onSubmitOptionsSearch(Ge)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=L.Ascending}ngOnInit(){this.filteModelContent.sortColumn="ShowInMenuOrder",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>K(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new yi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=L.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){}onActionButtonEditRow(e=this.tableRowSelected){}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{o=m["MESSAGE.Please_Confirm"],t=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(m=>{if(m){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(d,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionButtonGoToModuleList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.onActionTableRowSelect(e),this.router.navigate(["/core/siteModule/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{o.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{o.set(s,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{o.set(E,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),d=new W;d.propertyName="RecordStatus",d.value=Y.Available,m.filters.push(d),this.contentService.ServiceGetCount(m).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{o.set(E,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonSiteList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.onActionTableRowSelect(e),this.router.navigate(["core/site/modulelist/LinkModuleId/",e.id])}onActionButtonSiteCategoryList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.onActionTableRowSelect(e),this.router.navigate(["core/sitecategorymodule/LinkCmsModuleId/",e.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}};Dt.\u0275fac=function(o){return new(o||Dt)(v(ri),v(N),v(F),v(Ne),v(ne),v(O),v(le),v(V),v(we),v(Ie),v(J))},Dt.\u0275cmp=B({type:Dt,selectors:[["app-apitelegram-bot-config-list"]],standalone:!1,features:[U],decls:61,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Username"],["matColumnDef","StatusWebhook"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-layer-group","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(o,t){if(o&1){let m=M();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(s){return u(m),R(t.viewGuideNotice,s)||(t.viewGuideNotice=s),f(s)}),I("optionOnActionButtonMemoRow",function(){return u(m),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(m),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(m),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(m),f(t.onActionButtonPrintRow())}),T(1,4),c(2," -------------------------------------- "),A(),ee(3,5)(4,6),T(5,7),a(6,"a",8),I("click",function(){return u(m),f(t.viewGuideNotice=!t.viewGuideNotice)}),C(7,"i",9),r(),a(8,"a",8),I("click",function(){return u(m),f(t.onActionButtonReload())}),C(9,"i",10),r(),A(),T(10,11),a(11,"a",12),I("click",function(){return u(m),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(12,"mat-slide-toggle",13),c(13),_(14,"translate"),r(),a(15,"a",12),I("click",function(){return u(m),f(t.onActionButtonStatist())}),C(16,"mat-slide-toggle",13),c(17),_(18,"translate"),r(),A(),T(19,14),b(20,Ga,7,3,"div",15),A(),T(21,16),b(22,Fa,7,3,"div",15)(23,Na,7,3,"div",15)(24,Pa,7,3,"div",15)(25,Ha,7,3,"div",15),A(),T(26,17),a(27,"app-cms-search-list",18),x("optionsChange",function(s){return u(m),R(t.optionsSearch,s)||(t.optionsSearch=s),f(s)}),r(),a(28,"app-cms-statist-list",18),x("optionsChange",function(s){return u(m),R(t.optionsStatist,s)||(t.optionsStatist=s),f(s)}),r(),A(),T(29,19),a(30,"mat-table",20,0),I("matSortChange",function(){u(m);let s=D(31);return f(t.onTableSortData(s))}),T(32,21),b(33,Wa,2,1,"mat-header-cell",22)(34,Ua,2,1,"mat-cell",23),A(),T(35,24),b(36,ja,2,1,"mat-header-cell",22)(37,qa,4,5,"mat-cell",23),A(),T(38,25),b(39,Ka,2,1,"mat-header-cell",22)(40,Ja,5,7,"mat-cell",26),A(),T(41,27),b(42,Qa,2,1,"mat-header-cell",22)(43,Ya,2,1,"mat-cell",23),A(),T(44,28),b(45,Xa,2,1,"mat-header-cell",22)(46,Za,3,3,"mat-cell",23),A(),T(47,29),b(48,$a,2,1,"mat-header-cell",22)(49,el,3,3,"mat-cell",23),A(),T(50,30),b(51,tl,2,1,"mat-header-cell",22)(52,il,3,3,"mat-cell",23),A(),T(53,31),b(54,ol,3,3,"mat-header-cell",32)(55,nl,6,1,"mat-cell",33),A(),b(56,rl,1,0,"mat-header-row",34)(57,al,1,6,"mat-row",35),r(),A(),T(58,36),a(59,"mat-paginator",37,1),I("page",function(s){return u(m),f(t.onTablePageingData(s))}),r(),A(),r()}o&2&&(p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(12),p("checked",t.optionsSearch.data.show),n(),g("",h(14,25,"ACTION.SEARCH")," "),n(3),p("checked",t.optionsStatist.data.show),n(),g("",h(18,27,"ACTION.STATIST")," "),n(3),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),n(2),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(),p("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),n(),p("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),n(2),y("options",t.optionsSearch),n(),y("options",t.optionsStatist),n(2),p("dataSource",t.tableSource),n(26),p("matHeaderRowDef",t.tabledisplayedColumns),n(),p("matRowDefColumns",t.tabledisplayedColumns),n(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ie(29,Oa)))},dependencies:[oe,k,ze,re,ae,j,se,ce,me,pe,de,ue,fe,Se,ve,_e,ge,be,he,Ce,Te,Ae,ye,Re,xe,$e,z,G,De,Le,Be,ke,Me],encapsulation:2});var hi=Dt;var ll=[{path:"",component:pi,data:{title:"ROUTE.APITELEGRAM"},children:[{path:"config",loadChildren:()=>import("./chunk-WQ42MJTA.js").then(i=>i.ApiTelegramConfigModule),data:{title:"ROUTE.APITELEGRAM"}},{path:"bot-config",component:gi,data:{title:"ROUTE.APITELEGRAM.BOTCONFIG"}},{path:"log-input",component:Yt,data:{title:"ROUTE.APITELEGRAM.LOGINPUT"}},{path:"log-input/LinkBotConfigId/:LinkBotConfigId",component:Yt,data:{title:"ROUTE.APITELEGRAM.LOGINPUT"}},{path:"log-output",component:Xt,data:{title:"ROUTE.APITELEGRAM.LOGOUTPUT"}},{path:"log-output/LinkBotConfigId/:LinkBotConfigId",component:Xt,data:{title:"ROUTE.APITELEGRAM.LOGOUTPUT"}},{path:"member-info",component:Si,data:{title:"ROUTE.APITELEGRAM.MEMBERINFO"}},{path:"received-file",component:_i,data:{title:"ROUTE.APITELEGRAM.RECEIVEDFILE"}},{path:"uploaded-file",component:hi,data:{title:"ROUTE.APITELEGRAM.UPLOADEDFILE"}}]}],rt=class rt{};rt.\u0275fac=function(e){return new(e||rt)},rt.\u0275mod=$t({type:rt}),rt.\u0275inj=Zt({imports:[bi.forChild(ll),bi]});var Ci=rt;var at=class at{};at.\u0275fac=function(e){return new(e||at)},at.\u0275mod=$t({type:at}),at.\u0275inj=Zt({providers:[to,Fe,io,Ne,oo,X,no,li,si,ci,ai,ri],imports:[qi,Ci,Qi,Yi.withConfig({warnOnNgModelWithFormControl:"never"}),po,go,$i,Zi,co,ho]});var vo=at;export{vo as ApiTelegramModule};
