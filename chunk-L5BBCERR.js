import{a as Sn}from"./chunk-YULKGLTK.js";import{a as mr,b as Tn}from"./chunk-LHFEKOWS.js";import{a as Na}from"./chunk-2JTWFKVB.js";import{a as Wi}from"./chunk-CPQADPE3.js";import{a as zn,b as Yn}from"./chunk-WOA4OXMY.js";import{a as ui}from"./chunk-IFITLU4X.js";import{a as Mi}from"./chunk-VKZL7K2X.js";import{a as yn}from"./chunk-MH6DZKWF.js";import{a as si,b as _0}from"./chunk-J4OLTXIV.js";import{a as f0}from"./chunk-ORX6O4FC.js";import{a as Qo}from"./chunk-ZNVS45RY.js";import{a as h0}from"./chunk-PI3EGCHO.js";import{a as g0}from"./chunk-C2VO433I.js";import{a as Oa}from"./chunk-I7FYDNP2.js";import{a as c0}from"./chunk-FHILAIGM.js";import{a as u0}from"./chunk-BSA66YQY.js";import{a as sn}from"./chunk-NRW3SBJE.js";import{a as Qn}from"./chunk-DINUNOGF.js";import{a as qo}from"./chunk-IKMMAGYE.js";import{a as m0}from"./chunk-E2KB3KEE.js";import{a as p0}from"./chunk-5PNPBZMG.js";import{a as jn}from"./chunk-K5M7O5OK.js";import{a as qn}from"./chunk-KNGOYUYS.js";import{a as Hi}from"./chunk-OYOMZOBJ.js";import{a as Zt}from"./chunk-WKA4LGER.js";import{a as cr,b as pr,c as xt,d as At,e as Pt,f as jo,g as Rt,h as kt}from"./chunk-GFETQR3F.js";import{a as Ut,b as ln}from"./chunk-SLHM7D7Z.js";import{j as ri,k as ai,l as li}from"./chunk-4X3TDVQY.js";import{a as Me,c as Li,e as ro}from"./chunk-5RLG4HNP.js";import{a as Bt}from"./chunk-YWQ3AJEF.js";import{a as l0}from"./chunk-TG6TLFR6.js";import{a as d0}from"./chunk-7MCRMCQN.js";import{a as an}from"./chunk-CTHCHGBP.js";import{a as rn}from"./chunk-K57YXFWK.js";import{a as Uo,b as s0}from"./chunk-PD6TIULX.js";import{a as Gt}from"./chunk-SFC66NH4.js";import{a as Ni}from"./chunk-IXPEP4O3.js";import{a as jr}from"./chunk-25E3XYYJ.js";import{a as wt}from"./chunk-CN4IZOYA.js";import{a as ge}from"./chunk-G7VDKBAZ.js";import{a as U,d as ue}from"./chunk-KIW7CZRO.js";import{a as hn,b as dr,e as St,f as F}from"./chunk-FMAO4WAT.js";import{$ as ni,$a as Q,A as zt,Ab as dt,B as cc,Ba as Gn,Bb as ct,C as pc,Ca as Un,Cb as pt,D as La,Da as gn,Db as mt,E as Va,Ea as _c,Eb as mi,Fa as gc,Fc as J,G as Ba,Ga as hc,H as mc,Ha as yc,Hb as i0,I as uc,Ib as Vo,Ic as Z,J as de,Ja as Ur,Jb as Bo,K as De,Ka as be,Kb as Fo,Kc as V,L as Pe,La as Te,Lb as Oo,M as Nm,Ma as Ae,Mb as No,Mc as Vt,N as Hm,Nb as Ho,Nc as a0,O as Wm,Ob as Wo,Pa as Zm,Q as ii,Qa as Jm,Qb as L,Rb as B,Sa as Ao,Ta as Po,Ua as Ro,V as hi,Va as ko,Vb as Go,W as xe,Wa as Do,Wb as n0,X as fc,Xa as Lo,Y as en,Ya as Xm,Z as tt,Za as Ee,_ as yi,_a as $m,a as fi,aa as oi,ba as Je,bb as Sc,bc as _t,c as _i,cb as Cc,cc as o0,d as ac,db as e0,eb as Dt,f as lc,fa as Gm,fb as Lt,hb as Mt,i as sc,ia as Um,ja as jm,k as Om,ka as qm,la as Qm,lb as yt,m as qt,ma as zm,mb as bt,n as Y,na as Ym,nb as Tt,oa as Km,ob as tn,pb as nn,q,qb as on,r as we,rb as Mn,s as dc,sa as Fa,sb as bn,t as Re,tb as t0,u as Et,ua as Pi,ub as nt,uc as vc,v as me,va as Ri,vb as ot,w as ke,wb as rt,x as Wt,xa as ki,xb as at,ya as Di,yb as lt,z as Da,za as sr,zb as st}from"./chunk-7O4ZVAVH.js";import{$b as se,$m as Hr,$n as lr,Ab as vi,Ad as Be,An as ar,Bb as pi,Bn as _n,Bq as W,Ca as j,Cd as Ma,Cn as Ei,Da as lm,Db as te,Dn as En,Eb as ie,En as nc,F as $t,Fa as o,Fb as ne,Fd as Fe,Ff as Fi,Fn as go,Gd as wr,Gn as ho,Ha as Xe,Hn as Pn,I as xi,Id as Qe,In as Rn,Jb as R,Jc as ce,Jn as Ar,Kb as ve,Kc as He,Kn as Pr,Lb as K,Lc as N,Ld as $,Ln as Rr,Mb as Nt,Mc as Io,Mq as r0,Nc as Eo,Oa as v,Ob as c,Oc as Mo,Od as Ne,Oj as Em,On as Lm,P as ei,Pb as M,Pc as it,Q as ti,Qb as y,Qn as no,Rb as ee,Rc as We,Rn as Zn,Sa as D,Sb as sm,Sd as Ht,Sm as On,Sn as oo,Ta as $d,Tb as dm,Td as G,Tm as Mm,Tn as kn,Ub as b,Uc as bo,Um as ba,Un as Ld,Va as tr,Vb as T,Vc as ec,Vm as bm,Vn as kr,Wa as oe,Wb as w,Wm as Cn,Wn as Nn,Xb as x,Xc as pm,Xd as H,Xm as Tm,Xn as Hn,Y as Xd,Ya as C,Yb as Ie,Yd as pe,Ye as Cm,Ym as $n,Yn as Dr,Zb as Dd,Zm as eo,Zn as wo,_c as mm,_m as ir,_n as Lr,ac as ze,ae as tc,an as Wr,ao as Ki,b as Nr,bn as ic,bo as Wn,cn as wm,co as Vr,da as u,db as vt,dc as g,de as X,dg as It,dn as Ai,do as xo,ea as f,ec as h,en as nr,eo as Qt,fc as di,fe as gm,fn as or,fo as xa,gd as Ea,ge as hm,gn as $i,go as Dn,he as ym,hn as Ta,ho as oc,ia as am,ic as cm,ih as Im,in as fn,io as Vm,jn as _o,jo as Bm,kb as d,kn as gi,ko as Aa,lb as r,le as Sm,ln as xm,lo as _a,mb as a,mn as Am,mo as Pa,nb as S,nd as um,nn as Pm,no as Ra,og as Oi,on as rr,oo as ka,p as wi,pn as vn,po as rc,q as Ot,qe as xr,qg as vm,qn as Gr,qo as Fm,rb as A,rd as Kt,rn as Ii,sb as P,sd as fm,sn as wa,tb as $e,td as Ze,tn as To,u as Jd,ub as E,ud as _m,un as to,vn as In,wc as O,wn as Rm,xb as I,xn as km,yn as Dm,zb as p,zd as zp,zn as io}from"./chunk-BCKV57LG.js";import{f as vo,i as ae}from"./chunk-SEDBTTTN.js";var y0=vo(Wo());var _u=["tagInput"];function gu(n,l){if(n&1){let e=E();r(0,"mat-chip",9),I("removed",function(){let t=u(e).$implicit,s=p();return f(s.remove(t))}),c(1),r(2,"button",10)(3,"mat-icon"),c(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),y(" ",e.display," ")}}function hu(n,l){if(n&1&&(r(0,"mat-option",11),c(1),a()),n&2){let e=l.$implicit,i=p();d("value",e)("ngClass",i.optionCssClassSelectOption),o(),y(" ",e.display," ")}}var qr=class qr{constructor(l,e,i,t){this.service=l;this.cmsToastrService=e;this.publicHelper=i;this.translate=t;this.id=++qr.nextId;this.constructorInfoAreaId=this.constructor.name;this.optionDisabled=!1;this.optionPlaceholder="+ Tag";this.optionLabel="";this.optionCssClassInputText="";this.optionCssClassSelectOption="";this.optionChange=new Xe;this.tagDataModel=[];this.tagLastDataModel=[];this.selectForceStatus=!0;this.separatorKeysCodes=[13];this.tagCtrl=new Et("");this.addOnBlur=!0;this.filteredOptions=this.tagCtrl.valueChanges.pipe(ei(null),$t(400),ti(s=>this.filter(s||"")))}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}displayOption(l){return l&&l.virtual_Parent&&l.virtual_Parent.title.length>0&&l.virtual_Parent.virtual_Parent&&l.virtual_Parent.virtual_Parent.title.length>0&&l.virtual_Parent.virtual_Parent.virtual_Parent&&l.virtual_Parent.virtual_Parent.virtual_Parent.title.length>0?l.virtual_Parent.virtual_Parent.virtual_Parent.titleML+" > "+l.virtual_Parent.virtual_Parent.titleML+" > "+l.virtual_Parent.titleML+" > "+l.titleML:l&&l.virtual_Parent&&l.virtual_Parent.title.length>0&&l.virtual_Parent.virtual_Parent&&l.virtual_Parent.virtual_Parent.title.length>0?l.virtual_Parent.virtual_Parent.titleML+" > "+l.virtual_Parent.titleML+" > "+l.titleML:l&&l.virtual_Parent&&l.virtual_Parent.title.length>0?l.virtual_Parent.titleML+" > "+l.titleML:l?l.titleML:void 0}filter(l){let e=new pe;e.rowPerPage=20,e.accessLoad=!0;let i=new H;i.propertyName="title",i.value=l,i.searchType=Fe.Contains,i.clauseType=Be.Or,e.filters.push(i),i=new H,i.propertyName="TitleResourceLanguage",i.value=l,i.searchType=Fe.Contains,i.clauseType=Be.Or,e.filters.push(i),i=new H,i.propertyName="id",i.value=l,i.searchType=Fe.Equal,i.clauseType=Be.Or,e.filters.push(i);let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.service.ServiceGetAll(e).pipe(Ot(s=>(this.tagLastDataModel=s.listItems.map(_=>({display:this.displayOption(_),value:_.id})),this.publicHelper.processService.processStop(t),this.tagLastDataModel)))}checkIndex(l){var e=0,i=-1;return this.tagDataModel.forEach(t=>{t.value==l&&(i=e),e++}),i}add(l){var e;l.value&&this.tagLastDataModel.forEach(i=>{(i.display==l.value||i.value+""==l.value)&&(e=i)}),e&&this.checkIndex(e.value)<0&&(this.tagDataModel.push(e),this.onActionChange()),l.chipInput.clear(),this.tagCtrl.setValue(null)}remove(l){let e=this.checkIndex(l.value);e>=0&&(this.tagDataModel.splice(e,1),this.onActionChange())}selected(l){let e=l.option.value;this.checkIndex(e.value)<0&&this.tagDataModel.push(e),this.tagInput.nativeElement.value="",this.tagCtrl.setValue(null),this.onActionChange()}onActionChange(){let l=[];this.tagDataModel.forEach(e=>{l.findIndex(i=>i==e.value)<0&&l.push(e.value)}),this.selectForceStatus=!1,this.optionChange.emit(l)}onActionSelectForce(l){if(!this.selectForceStatus||!l||l.length===0)return;let e=new pe;l.forEach(i=>{if(i>0){let t=new H;t.propertyName="id",t.value=i,t.clauseType=Be.Or,e.filters.push(t)}}),this.service.ServiceGetAll(e).subscribe({next:i=>{i.isSuccess?i.listItems.forEach(t=>{this.tagDataModel.findIndex(s=>s.value==t.id)<0&&this.tagDataModel.push({value:t.id,display:this.displayOption(t)})}):this.cmsToastrService.typeErrorGetAll(i.errorMessage)},error:i=>{this.cmsToastrService.typeErrorGetAll(i)}})}};qr.nextId=0,qr.\u0275fac=function(e){return new(e||qr)(v(hm),v(V),v(F),v(L))},qr.\u0275cmp=D({type:qr,selectors:[["app-cms-location-autocomplete"]],viewQuery:function(e,i){if(e&1&&te(_u,5),e&2){let t;ie(t=ne())&&(i.tagInput=t.first)}},inputs:{optionDisabled:"optionDisabled",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionCssClassInputText:"optionCssClassInputText",optionCssClassSelectOption:"optionCssClassSelectOption",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,decls:12,vars:13,consts:[["chipList",""],["tagInput",""],["auto","matAutocomplete"],["appearance","fill",2,"width","100%"],["aria-label","tag selection",3,"disabled"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","formControl","ngClass","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionSelected"],[3,"value","ngClass",4,"ngFor","ngForOf"],[3,"removed"],["type","button","matChipRemove",""],[3,"value","ngClass"]],template:function(e,i){if(e&1){let t=E();r(0,"mat-form-field",3)(1,"mat-label"),c(2),a(),r(3,"mat-chip-grid",4,0),C(5,gu,5,1,"mat-chip",5),r(6,"input",6,1),I("matChipInputTokenEnd",function(_){return u(t),f(i.add(_))}),a()(),r(8,"mat-autocomplete",7,2),I("optionSelected",function(_){return u(t),f(i.selected(_))}),C(10,hu,2,3,"mat-option",8),g(11,"async"),a()()}if(e&2){let t=R(4),s=R(9);o(2),M(i.optionLabel),o(),d("disabled",i.optionDisabled),o(2),d("ngForOf",i.tagDataModel),o(),d("placeholder"," + "+i.optionPlaceholder)("matChipInputAddOnBlur",i.addOnBlur)("formControl",i.tagCtrl)("ngClass",i.optionCssClassInputText)("matAutocomplete",s)("matChipInputFor",t)("matChipInputSeparatorKeyCodes",i.separatorKeysCodes),o(4),d("ngForOf",h(11,11,i.filteredOptions))}},dependencies:[ce,He,Y,q,zt,ni,ii,oi,Ri,ki,Di,Pi,yi,hi,Ee,We],encapsulation:2});var Jt=qr;var yu=["vform"],Su=n=>({direction:n});function Cu(n,l){if(n&1&&(S(0,"img",41),g(1,"cmsthumbnail")),n&2){let e=p();d("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function vu(n,l){n&1&&S(0,"i",42)}function Iu(n,l){n&1&&S(0,"i",43)}function Eu(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function Mu(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function bu(n,l){if(n&1){let e=E();r(0,"div",17)(1,"label",44),c(2),g(3,"translate"),a(),r(4,"textarea",45,7),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),c(6,"        "),a(),r(7,"em"),c(8),a()()}if(n&2){let e=R(5),i=p();o(2),M(h(3,5,"TITLE.Description_Hidden")),o(2),d("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",i.dataModel.descriptionHidden),o(4),y("",e.value.length," / 500")}}function Tu(n,l){if(n&1){let e=E();r(0,"app-cms-user-selector",46),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorUser(t))}),a()}if(n&2){let e=p();d("optionDisabled",!(e.fieldsInfo.linkCmsUserId!=null&&e.fieldsInfo.linkCmsUserId.accessAddField))("optionSelectForce",e.dataModel.linkCmsUserId)("optionPlaceholder",h(1,3,"TITLE.USER"))}}function wu(n,l){n&1&&(r(0,"mat-error"),c(1," Address is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function xu(n,l){if(n&1){let e=E();r(0,"div",47)(1,"div",48)(2,"h5",49),c(3),a()(),r(4,"div",50)(5,"div",51)(6,"input",52),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.accessWatchRowSite,t)||(s.dataModel.accessWatchRowSite=t),f(t)}),a(),S(7,"label",53),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.accessWatchRowSite==null?null:e.fieldsInfo.accessWatchRowSite.fieldTitle," "),o(3),b("ngModel",e.dataModel.accessWatchRowSite)}}function Au(n,l){if(n&1){let e=E();r(0,"div",47)(1,"div",48)(2,"h5",54),c(3),a()(),r(4,"div",50)(5,"div",51)(6,"input",55),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.accessWatchRowOtherAgency,t)||(s.dataModel.accessWatchRowOtherAgency=t),f(t)}),a(),S(7,"label",56),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.accessWatchRowOtherAgency==null?null:e.fieldsInfo.accessWatchRowOtherAgency.fieldTitle," "),o(3),b("ngModel",e.dataModel.accessWatchRowOtherAgency)}}function Pu(n,l){if(n&1){let e=E();r(0,"div",47)(1,"div",48)(2,"h5",57),c(3),a()(),r(4,"div",50)(5,"div",51)(6,"input",58),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.accessWatchRowOtherAgent,t)||(s.dataModel.accessWatchRowOtherAgent=t),f(t)}),a(),S(7,"label",59),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.accessWatchRowOtherAgent==null?null:e.fieldsInfo.accessWatchRowOtherAgent.fieldTitle," "),o(3),b("ngModel",e.dataModel.accessWatchRowOtherAgent)}}function Ru(n,l){if(n&1){let e=E();r(0,"div",47)(1,"div",48)(2,"h5",60),c(3),a()(),r(4,"div",50)(5,"div",51)(6,"input",61),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.accessAllowShareRowWatchOtherAgency,t)||(s.dataModel.accessAllowShareRowWatchOtherAgency=t),f(t)}),a(),S(7,"label",62),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.accessAllowShareRowWatchOtherAgency==null?null:e.fieldsInfo.accessAllowShareRowWatchOtherAgency.fieldTitle," "),o(3),b("ngModel",e.dataModel.accessAllowShareRowWatchOtherAgency)}}function ku(n,l){if(n&1){let e=E();r(0,"div",47)(1,"div",48)(2,"h5",63),c(3),a()(),r(4,"div",50)(5,"div",51)(6,"input",64),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.accessAllowShareRowWatchOtherAgent,t)||(s.dataModel.accessAllowShareRowWatchOtherAgent=t),f(t)}),a(),S(7,"label",65),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.accessAllowShareRowWatchOtherAgent==null?null:e.fieldsInfo.accessAllowShareRowWatchOtherAgent.fieldTitle," "),o(3),b("ngModel",e.dataModel.accessAllowShareRowWatchOtherAgent)}}function Du(n,l){if(n&1){let e=E();r(0,"div",47)(1,"div",48)(2,"h5",66),c(3),a()(),r(4,"div",50)(5,"div",51)(6,"input",67),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.notificationWorkAreaEstate,t)||(s.dataModel.notificationWorkAreaEstate=t),f(t)}),a(),S(7,"label",68),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.notificationWorkAreaEstate==null?null:e.fieldsInfo.notificationWorkAreaEstate.fieldTitle," "),o(3),b("ngModel",e.dataModel.notificationWorkAreaEstate)}}function Lu(n,l){if(n&1){let e=E();r(0,"div",47)(1,"div",48)(2,"h5",69),c(3),a()(),r(4,"div",50)(5,"div",51)(6,"input",70),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.notificationWorkAreaCustomerOrder,t)||(s.dataModel.notificationWorkAreaCustomerOrder=t),f(t)}),a(),S(7,"label",71),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.notificationWorkAreaCustomerOrder==null?null:e.fieldsInfo.notificationWorkAreaCustomerOrder.fieldTitle," "),o(3),b("ngModel",e.dataModel.notificationWorkAreaCustomerOrder)}}function Vu(n,l){if(n&1){let e=E();r(0,"div",72)(1,"button",73),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",74),c(3),g(4,"translate"),a(),r(5,"button",75),S(6,"i",76),c(7),g(8,"translate"),a()()}if(n&2){p();let e=R(10);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",h(8,5,"ACTION.SAVE")," ")}}var Ha=class Ha extends Bt{constructor(e,i,t,s,_,m,k,z,Se,qe){super(s,new go,m,qe);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateAccountAgencyService=s;this.cmsToastrService=_;this.publicHelper=m;this.cdr=k;this.cmsStoreService=z;this.tokenHelper=Se;this.translate=qe;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.mapOptonCenter=new Ni;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new It;this.dataModelResult=new G;this.dataModel=new go;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.viewMap=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.publicHelper.processService.processStart(e,"",this.constructorInfoAreaId),this.estateAccountAgencyService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapModel.on("click",i=>{let t=i.latlng.lat,s=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&s===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=y0.marker([t,s]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=s}))}receiveZoom(e){}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionSelectorUser(e){this.dataModel.linkCmsUserId=null,e&&e.id>0&&(this.dataModel.linkCmsUserId=e.id)}onActionSelectorLocation(e){this.dataModel.linkLocationId=null,e&&e.id>0&&(this.dataModel.linkLocationId=e.id)}onActionSelectorLocationWorkArea(e){this.dataModel.linkLocationWorkAreaIds=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ha.\u0275fac=function(i){return new(i||Ha)(v(Te),v(be),v(X),v(On),v(V),v(F),v(O),v(J),v(Z),v(L))},Ha.\u0275cmp=D({type:Ha,selectors:[["app-estate-account-agency-add"]],viewQuery:function(i,t){if(i&1&&te(yu,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:89,vars:93,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["DescriptionHidden",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","name","dataModel.mobileNumber","type","text","minlength","0","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],["id","main-map",3,"map$","zoom$","optonCenter"],["class","form-actions",4,"ngIf"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.accessWatchRowSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.accessWatchRowSite","name","dataModel.accessWatchRowSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowSite",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgency","name","dataModel.accessWatchRowOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgent","name","dataModel.accessWatchRowOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgency","name","dataModel.accessAllowShareRowWatchOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgent","name","dataModel.accessAllowShareRowWatchOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaEstate",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaEstate","name","dataModel.notificationWorkAreaEstate",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaEstate",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaCustomerOrder",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaCustomerOrder","name","dataModel.notificationWorkAreaCustomerOrder",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaCustomerOrder",1,"custom-control-label"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",8),S(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",12),r(9,"form",13,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"div",14)(12,"a",15),g(13,"cmsthumbnail"),C(14,Cu,2,4,"img",16),a()(),r(15,"div",17)(16,"label",18),c(17),g(18,"translate"),a(),r(19,"input",19,1),g(21,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(22,"cms-file-manager",20),g(23,"translate"),I("itemSelected",function(m){return u(s),f(t.onActionFileSelected(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),a()(),r(24,"div",17)(25,"label",21),c(26),a(),r(27,"input",22,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),C(29,vu,1,0,"i",23)(30,Iu,1,0,"i",24),S(31,"em"),C(32,Eu,5,3,"mat-error",25),a(),r(33,"div",17)(34,"label",26),c(35),a(),r(36,"textarea",27,3),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(38,"        "),a(),r(39,"em"),c(40),a(),C(41,Mu,5,3,"mat-error",25),a(),C(42,bu,9,7,"div",28)(43,Tu,2,5,"app-cms-user-selector",29),r(44,"div",17)(45,"label",30),c(46),a(),r(47,"input",31,4),w("ngModelChange",function(m){return u(s),T(t.dataModel.phoneNumber,m)||(t.dataModel.phoneNumber=m),f(m)}),a(),r(49,"em"),c(50),a()(),r(51,"div",17)(52,"label",32),c(53),a(),r(54,"input",33,5),w("ngModelChange",function(m){return u(s),T(t.dataModel.mobileNumber,m)||(t.dataModel.mobileNumber=m),f(m)}),a(),r(56,"em"),c(57),a()(),r(58,"div",17)(59,"label",34),c(60),a(),r(61,"textarea",35,6),w("ngModelChange",function(m){return u(s),T(t.dataModel.address,m)||(t.dataModel.address=m),f(m)}),c(63,"        "),a(),r(64,"em"),c(65),a(),C(66,wu,5,3,"mat-error",25),a(),r(67,"app-cms-location-selector",36),g(68,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorLocation(m))}),a(),S(69,"br"),c(70),g(71,"translate"),r(72,"app-cms-location-autocomplete",37),g(73,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorLocationWorkArea(m))}),a(),S(74,"hr"),C(75,xu,8,2,"div",38)(76,Au,8,2,"div",38)(77,Pu,8,2,"div",38)(78,Ru,8,2,"div",38)(79,ku,8,2,"div",38),S(80,"hr"),C(81,Du,8,2,"div",38)(82,Lu,8,2,"div",38),S(83,"hr"),r(84,"p"),c(85),g(86,"translate"),a(),r(87,"app-cms-map",39),I("map$",function(m){return u(s),f(t.receiveMap(m))})("zoom$",function(m){return u(s),f(t.receiveZoom(m))}),a(),C(88,Vu,9,7,"div",40),a()()()}if(i&2){let s=R(28),_=R(37),m=R(48),k=R(55),z=R(62);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,73,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(),d("ngStyle",ze(91,Su,t.tokenInfo.access.direction)),o(3),d("href",x(h(13,75,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(h(18,77,"MESSAGE.Photo_of_estate_agency")),o(2),d("placeholder",x(h(21,79,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0)("openSelectFileDescription",h(23,81,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(4),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),d("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessAddField)),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),d("ngIf",s.errors==null?null:s.errors.required),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),d("disabled",!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessAddField)),o(4),y("",_.value.length," / 500"),o(),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),o(),d("ngIf",t.tokenHelper.isAdminSite),o(3),M(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle)),b("ngModel",t.dataModel.phoneNumber),d("disabled",!(t.fieldsInfo.phoneNumber!=null&&t.fieldsInfo.phoneNumber.accessAddField)),o(3),y("",m.value.length," / 64"),o(3),M(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle)),b("ngModel",t.dataModel.mobileNumber),d("disabled",!(t.fieldsInfo.mobileNumber!=null&&t.fieldsInfo.mobileNumber.accessAddField)),o(3),y("",k.value.length," / 64"),o(3),M(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle)),b("ngModel",t.dataModel.address),d("disabled",!(t.fieldsInfo.address!=null&&t.fieldsInfo.address.accessAddField)),o(4),y("",z.value.length," / 500"),o(),d("ngIf",z.errors==null?null:z.errors.required),o(),d("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",h(68,83,"TITLE.Geographical_Region"))("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessAddField)),o(3),y(" ",h(71,85,"TITLE.COVERED_AREAS")," "),o(2),d("optionSelectForce",t.dataModel.linkLocationWorkAreaIds)("optionPlaceholder",h(73,87,"TITLE.Region")),o(3),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(2),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(3),M(h(86,89,"TITLE.Click_on_the_map_to_specify_the_location")),o(2),d("optonCenter",t.mapOptonCenter),o(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[N,it,ke,Y,qt,q,we,de,De,Pe,me,Re,xe,Q,ui,Jt,ln,Mi,U,ge,_t,B,Me],encapsulation:2});var Ic=Ha;var Yp=vo(Wo());var Bu=["*"];function Fu(n,l){if(n&1&&(S(0,"img",14),g(1,"cmsthumbnail")),n&2){let e=p();d("src",x(h(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),j)}}function Ou(n,l){if(n&1&&(S(0,"img",14),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function Nu(n,l){if(n&1&&(r(0,"mat-option",15),C(1,Ou,2,4,"img",4),r(2,"span"),c(3),a()()),n&2){let e=l.$implicit,i=p();d("value",e)("disabled",i.optionDisabled),o(),d("ngIf",e.linkMainImageIdSrc),o(2),M(i.displayOption(e))}}function Hu(n,l){n&1&&S(0,"i",16)}function Wu(n,l){n&1&&S(0,"i",17)}function Gu(n,l){if(n&1){let e=E();r(0,"i",18),I("click",function(){u(e);let t=p();return f(t.onActionSelectClear())}),a()}}function Uu(n,l){n&1&&(r(0,"em"),c(1),g(2,"translate"),a()),n&2&&(o(),y("(",h(2,1,"TITLE.Necessary"),")"))}var Wa=class Wa{constructor(l,e,i,t,s,_){this.coreEnumService=l;this.cmsToastrService=e;this.translate=i;this.cdr=t;this.publicHelper=s;this.categoryService=_;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=new ho;this.formControl=new Et;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionRequired=!1;this.optionChange=new Xe;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(ei(""),$t(1500),xi(),ti(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return ae(this,null,function*(){let e=new _a;e.rowPerPage=20,e.accessLoad=!0;let i=new H;typeof l=="string"&&l.length>0&&(i.propertyName="title",i.value=l,i.searchType=Fe.Contains,i.clauseType=Be.Or,e.filters.push(i),i=new H,i.propertyName="id",i.value=l,i.searchType=Fe.Equal,i.clauseType=Be.Or,e.filters.push(i)),l?.length>0&&(i=new H,i.propertyName="LinkCmsUserId",i.value=l,i.searchType=Fe.Equal,i.clauseType=Be.Or,e.filters.push(i),i=new H,i.propertyName="mobileNumber",i.value=l,i.searchType=Fe.Contains,i.clauseType=Be.Or,e.filters.push(i),i=new H,i.propertyName="phoneNumber",i.value=l,i.searchType=Fe.Contains,i.clauseType=Be.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield wi(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.optionDisabled||(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(Ot(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="number"&&l>0){if(this.dataModelSelect&&this.dataModelSelect.linkCmsUserId===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(t=>t.linkCmsUserId===l)){let t=this.dataModelResult.listItems.find(s=>s.linkCmsUserId===l);this.dataModelSelect=t,this.formControl.setValue(t);return}let e=new _a,i=new H;i.propertyName="LinkCmsUserId",i.value=l,i.searchType=Fe.Equal,e.filters.push(i),this.categoryService.ServiceGetAll(e).subscribe({next:t=>{t.isSuccess&&(t.listItems.length>0?(this.filteredOptions=this.push(t.listItems[0]),this.dataModelSelect=t.listItems[0],this.formControl.setValue(t.listItems[0]),this.optionChange.emit(t.listItems[0])):this.cmsToastrService.typeErrorMessage(t.errorMessage))}});return}else if(typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof ho){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new ho,this.loadOptions()}};Wa.\u0275fac=function(e){return new(e||Wa)(v(X),v(V),v(L),v(O),v(F),v(Cn))},Wa.\u0275cmp=D({type:Wa,selectors:[["app-estate-account-expert-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionRequired:"optionRequired",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Bu,decls:19,vars:23,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["matPrefix",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required"],["for","forminput",1,"color-highlight"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=E();vi(),r(0,"div",1),S(1,"app-progress-spinner",2),r(2,"span",3),C(3,Fu,2,4,"img",4),c(4," \xA0"),a(),S(5,"input",5),r(6,"label",6),c(7),a(),r(8,"mat-autocomplete",7,0),I("optionSelected",function(_){return u(t),f(i.onActionSelect(_.option.value))}),C(10,Nu,4,4,"mat-option",8),g(11,"async"),a(),C(12,Hu,1,0,"i",9)(13,Wu,1,0,"i",10)(14,Gu,1,0,"i",11),r(15,"i",12),g(16,"translate"),I("click",function(){return u(t),f(i.onActionButtonReload())}),a(),C(17,Uu,3,3,"em",13),pi(18),a()}if(e&2){let t=R(9);o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(2),d("ngIf",i.dataModelSelect&&(i.dataModelSelect==null?null:i.dataModelSelect.linkMainImageIdSrc)),o(2),d("placeholder",x(i.optionPlaceholder))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),vt("disabled",i.optionDisabled?!0:null),o(2),M(i.optionLabel),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",h(11,19,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),K("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),d("title",x(h(16,21,"ACTION.RELOAD"))),o(2),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id.length<=0))}},dependencies:[He,N,Y,q,de,zt,ni,ii,oi,en,Q,U,We,B,Me],encapsulation:2});var xn=Wa;var Ga=class Ga{constructor(l){this.service=l}transform(l){return!l||l.length<=0?new Nr:this.service.ServiceGetOneById(l,1e6).pipe(Ot(e=>{var i="";return e.isSuccess&&e.item.title&&e.item.title.length>0&&(i=e.item.title),i},e=>""))}};Ga.\u0275fac=function(e){return new(e||Ga)(v(On,16))},Ga.\u0275pipe=tr({name:"estateAccountAgencyInfo",type:Ga,pure:!0,standalone:!1});var fr=Ga;var Ua=class Ua{constructor(l){this.service=l}transform(l){return!l||l.length<=0?new Nr:this.service.ServiceGetOneById(l,1e6).pipe(Ot(e=>{var i="";return e.isSuccess&&e.item.title&&e.item.title.length>0&&(i=e.item.title),i},e=>""))}};Ua.\u0275fac=function(e){return new(e||Ua)(v(Cn,16))},Ua.\u0275pipe=tr({name:"estateAccountExpertInfo",type:Ua,pure:!0,standalone:!1});var _r=Ua;var ju=["vform"],qu=n=>({direction:n});function Qu(n,l){if(n&1&&(S(0,"img",50),g(1,"cmsthumbnail")),n&2){let e=p();d("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function zu(n,l){n&1&&S(0,"i",51)}function Yu(n,l){n&1&&S(0,"i",52)}function Ku(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function Zu(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function Ju(n,l){if(n&1){let e=E();r(0,"div",20)(1,"label",53),c(2),g(3,"translate"),a(),r(4,"textarea",54,8),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),c(6,"            "),a(),r(7,"em"),c(8),a()()}if(n&2){let e=R(5),i=p();o(2),M(h(3,7,"TITLE.Description_Hidden")),o(2),d("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle))("disabled",x(!(i.fieldsInfo.descriptionHidden!=null&&i.fieldsInfo.descriptionHidden.accessEditField))),b("ngModel",i.dataModel.descriptionHidden),o(4),y("",e.value.length," / 500")}}function Xu(n,l){if(n&1){let e=E();r(0,"app-cms-user-selector",55),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorUser(t))}),a()}if(n&2){let e=p();d("optionDisabled",!(e.fieldsInfo.linkCmsUserId!=null&&e.fieldsInfo.linkCmsUserId.accessEditField))("optionSelectForce",e.dataModel.linkCmsUserId)("optionPlaceholder",h(1,3,"TITLE.USER"))}}function $u(n,l){n&1&&S(0,"i",51)}function ef(n,l){n&1&&S(0,"i",52)}function tf(n,l){n&1&&(r(0,"mat-error"),c(1," Address is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function nf(n,l){if(n&1){let e=E();r(0,"div",56)(1,"div",57)(2,"h5",58),c(3),a()(),r(4,"div",59)(5,"div",60)(6,"input",61),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.accessWatchRowSite,t)||(s.dataModel.accessWatchRowSite=t),f(t)}),a(),S(7,"label",62),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.accessWatchRowSite==null?null:e.fieldsInfo.accessWatchRowSite.fieldTitle," "),o(3),b("ngModel",e.dataModel.accessWatchRowSite)}}function of(n,l){if(n&1){let e=E();r(0,"div",56)(1,"div",57)(2,"h5",63),c(3),a()(),r(4,"div",59)(5,"div",60)(6,"input",64),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.accessWatchRowOtherAgency,t)||(s.dataModel.accessWatchRowOtherAgency=t),f(t)}),a(),S(7,"label",65),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.accessWatchRowOtherAgency==null?null:e.fieldsInfo.accessWatchRowOtherAgency.fieldTitle," "),o(3),b("ngModel",e.dataModel.accessWatchRowOtherAgency)}}function rf(n,l){if(n&1){let e=E();r(0,"div",56)(1,"div",57)(2,"h5",66),c(3),a()(),r(4,"div",59)(5,"div",60)(6,"input",67),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.accessWatchRowOtherAgent,t)||(s.dataModel.accessWatchRowOtherAgent=t),f(t)}),a(),S(7,"label",68),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.accessWatchRowOtherAgent==null?null:e.fieldsInfo.accessWatchRowOtherAgent.fieldTitle," "),o(3),b("ngModel",e.dataModel.accessWatchRowOtherAgent)}}function af(n,l){if(n&1){let e=E();r(0,"div",56)(1,"div",57)(2,"h5",69),c(3),a()(),r(4,"div",59)(5,"div",60)(6,"input",70),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.accessAllowShareRowWatchOtherAgency,t)||(s.dataModel.accessAllowShareRowWatchOtherAgency=t),f(t)}),a(),S(7,"label",71),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.accessAllowShareRowWatchOtherAgency==null?null:e.fieldsInfo.accessAllowShareRowWatchOtherAgency.fieldTitle," "),o(3),b("ngModel",e.dataModel.accessAllowShareRowWatchOtherAgency)}}function lf(n,l){if(n&1){let e=E();r(0,"div",56)(1,"div",57)(2,"h5",72),c(3),a()(),r(4,"div",59)(5,"div",60)(6,"input",73),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.accessAllowShareRowWatchOtherAgent,t)||(s.dataModel.accessAllowShareRowWatchOtherAgent=t),f(t)}),a(),S(7,"label",74),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.accessAllowShareRowWatchOtherAgent==null?null:e.fieldsInfo.accessAllowShareRowWatchOtherAgent.fieldTitle," "),o(3),b("ngModel",e.dataModel.accessAllowShareRowWatchOtherAgent)}}function sf(n,l){if(n&1){let e=E();r(0,"div",56)(1,"div",57)(2,"h5",75),c(3),a()(),r(4,"div",59)(5,"div",60)(6,"input",76),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.notificationWorkAreaEstate,t)||(s.dataModel.notificationWorkAreaEstate=t),f(t)}),a(),S(7,"label",77),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.notificationWorkAreaEstate==null?null:e.fieldsInfo.notificationWorkAreaEstate.fieldTitle," "),o(3),b("ngModel",e.dataModel.notificationWorkAreaEstate)}}function df(n,l){if(n&1){let e=E();r(0,"div",56)(1,"div",57)(2,"h5",78),c(3),a()(),r(4,"div",59)(5,"div",60)(6,"input",79),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.notificationWorkAreaCustomerOrder,t)||(s.dataModel.notificationWorkAreaCustomerOrder=t),f(t)}),a(),S(7,"label",80),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.notificationWorkAreaCustomerOrder==null?null:e.fieldsInfo.notificationWorkAreaCustomerOrder.fieldTitle," "),o(3),b("ngModel",e.dataModel.notificationWorkAreaCustomerOrder)}}function cf(n,l){if(n&1){let e=E();r(0,"div",56)(1,"div",57)(2,"h5",69),c(3," accessShareAgencyToUser "),a()(),r(4,"div",59)(5,"div",60)(6,"input",81),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataEstateAccountAgencyExpertModel.accessShareAgencyToUser,t)||(s.dataEstateAccountAgencyExpertModel.accessShareAgencyToUser=t),f(t)}),a(),S(7,"label",82),a()()()}if(n&2){let e=p();o(6),b("ngModel",e.dataEstateAccountAgencyExpertModel.accessShareAgencyToUser)}}function pf(n,l){if(n&1){let e=E();r(0,"div",56)(1,"div",57)(2,"h5",83),c(3," accessShareUserToAgency "),a()(),r(4,"div",59)(5,"div",60)(6,"input",84),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataEstateAccountAgencyExpertModel.accessShareUserToAgency,t)||(s.dataEstateAccountAgencyExpertModel.accessShareUserToAgency=t),f(t)}),a(),S(7,"label",85),a()()()}if(n&2){let e=p();o(6),b("ngModel",e.dataEstateAccountAgencyExpertModel.accessShareUserToAgency)}}function mf(n,l){if(n&1){let e=E();r(0,"button",86),I("click",function(){u(e);let t=p();return f(t.onActionDataGetAddGroup())}),c(1," + "),a()}}function uf(n,l){if(n&1&&(r(0,"mat-header-cell"),c(1),a()),n&2){let e=p(2);o(),y(" ",e.fieldsInfoAgencyUser.linkEstateExpertId==null?null:e.fieldsInfoAgencyUser.linkEstateExpertId.fieldTitle," ")}}function ff(n,l){if(n&1&&(A(0),c(1),g(2,"estateAccountExpertInfo"),g(3,"async"),P()),n&2){let e=p().$implicit;o(),y(" ",h(3,3,h(2,1,e.linkEstateExpertId))," ")}}function _f(n,l){if(n&1&&(r(0,"mat-cell"),C(1,ff,4,5,"ng-container",28),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.linkEstateExpertId)}}function gf(n,l){if(n&1&&(r(0,"mat-header-cell"),c(1),a()),n&2){let e=p(2);o(),y(" ",e.fieldsInfoAgencyUser.linkEstateAccountAgencyId==null?null:e.fieldsInfoAgencyUser.linkEstateAccountAgencyId.fieldTitle," ")}}function hf(n,l){if(n&1&&(A(0),c(1),g(2,"estateAccountAgencyInfo"),g(3,"async"),P()),n&2){let e=p().$implicit;o(),y(" ",h(3,3,h(2,1,e.linkEstateAccountAgencyId))," ")}}function yf(n,l){if(n&1&&(r(0,"mat-cell"),C(1,hf,4,5,"ng-container",28),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.linkEstateAccountAgencyId)}}function Sf(n,l){if(n&1&&(r(0,"mat-header-cell"),c(1),a()),n&2){let e=p(2);o(),y(" ",e.fieldsInfoAgencyUser.accessShareUserToAgency==null?null:e.fieldsInfoAgencyUser.accessShareUserToAgency.fieldTitle," ")}}function Cf(n,l){if(n&1&&(A(0),S(1,"i",99),g(2,"boolclass"),P()),n&2){let e=p().$implicit;o(),d("ngClass",h(2,1,e.accessShareUserToAgency))}}function vf(n,l){if(n&1&&(r(0,"mat-cell"),C(1,Cf,3,3,"ng-container",28),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.accessShareUserToAgency)}}function If(n,l){if(n&1&&(r(0,"mat-header-cell"),c(1),a()),n&2){let e=p(2);o(),y(" ",e.fieldsInfoAgencyUser.accessShareAgencyToUser==null?null:e.fieldsInfoAgencyUser.accessShareAgencyToUser.fieldTitle," ")}}function Ef(n,l){if(n&1&&(A(0),S(1,"i",99),g(2,"boolclass"),P()),n&2){let e=p().$implicit;o(),d("ngClass",h(2,1,e.accessShareAgencyToUser))}}function Mf(n,l){if(n&1&&(r(0,"mat-cell"),C(1,Ef,3,3,"ng-container",28),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.accessShareAgencyToUser)}}function bf(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.OPTION")," "))}function Tf(n,l){if(n&1){let e=E();r(0,"mat-cell",100)(1,"button",101)(2,"small",102),I("click",function(){let t=u(e).$implicit,s=p(2);return f(s.onActionDataGetDeleteGroup(t))}),r(3,"mat-icon",103),g(4,"translate"),c(5,"delete"),a()()()()}n&2&&(o(3),d("matTooltip",x(h(4,2,"ACTION.DELETE"))))}function wf(n,l){n&1&&S(0,"mat-header-row")}function xf(n,l){if(n&1&&S(0,"mat-row"),n&2){let e=l.dataIndex;K("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}function Af(n,l){if(n&1&&(r(0,"div",87)(1,"mat-table",88),A(2,89),C(3,uf,2,1,"mat-header-cell",90)(4,_f,2,1,"mat-cell",91),P(),A(5,92),C(6,gf,2,1,"mat-header-cell",90)(7,yf,2,1,"mat-cell",91),P(),A(8,93),C(9,Sf,2,1,"mat-header-cell",90)(10,vf,2,1,"mat-cell",91),P(),A(11,94),C(12,If,2,1,"mat-header-cell",90)(13,Mf,2,1,"mat-cell",91),P(),A(14,95),C(15,bf,3,3,"mat-header-cell",90)(16,Tf,6,4,"mat-cell",96),P(),C(17,wf,1,0,"mat-header-row",97)(18,xf,1,4,"mat-row",98),a()()),n&2){let e=p();o(),d("dataSource",e.optionTabledataSource),o(16),d("matHeaderRowDef",e.optionTabledisplayedColumns),o(),d("matRowDefColumns",e.optionTabledisplayedColumns)}}function Pf(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function Rf(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}function kf(n,l){if(n&1){let e=E();r(0,"div",104)(1,"button",105),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",106),c(3),g(4,"translate"),a(),r(5,"button",107),S(6,"i",108),c(7),g(8,"translate"),a()()}if(n&2){p();let e=R(10);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",h(8,5,"ACTION.SAVE")," ")}}var ja=class ja extends Ut{constructor(e,i,t,s,_,m,k,z,Se,qe,Ue,ft){super(s,new go,Se,ft);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateAccountAgencyService=s;this.estateAccountExpertService=_;this.cmsToastrService=m;this.cmsStoreService=k;this.estateAccountAgencyExpertService=z;this.publicHelper=Se;this.tokenHelper=qe;this.cdr=Ue;this.translate=ft;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfoAgencyUser=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ht;this.dataModel=new go;this.dataEstateAccountAgencyExpertModel=new nc;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.optionTabledataSource=new mi;this.optionTabledisplayedColumns=["LinkEstateExpertId","LinkEstateAccountAgencyId","AccessShareUserToAgency","AccessShareAgencyToUser","Action"];this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Ni;this.dataEstateAccountExpertModel=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.DataGetAccess(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllGroup()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateAccountAgencyService.setAccessLoad(),this.estateAccountAgencyService.setAccessDataType(Ne.Editor),this.estateAccountAgencyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{if(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess){this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1;let t=this.dataModel.geolocationlatitude,s=this.dataModel.geolocationlongitude;t>0&&s>0&&(this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:t,lon:s}),this.receiveMap())}else this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage);this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateAccountAgencyService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(i=>{this.mapMarker=Yp.marker([i.lat,i.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",i=>{let t=i.latlng.lat,s=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&s===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=Yp.marker([t,s]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=s}))}receiveZoom(e){}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionSelectorUser(e){this.dataModel.linkCmsUserId=null,e&&e.id>0&&(this.dataModel.linkCmsUserId=e.id)}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex}DataGetAllGroup(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Getting_access_category_from_the_server").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new pe,t=new H;t.propertyName="linkEstateAccountAgencyId",t.value=this.requestId,i.filters.push(t),this.estateAccountAgencyExpertService.ServiceGetAll(i).subscribe({next:s=>{this.dataEstateAccountExpertModel=s.listItems,this.optionTabledataSource.data=this.dataEstateAccountExpertModel,s.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(_=>{this.formInfo.submitResultMessage=_}),this.formInfo.submitResultMessage=s.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}onActionDataGetAddGroup(){let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateAccountAgencyExpertService.ServiceAdd(this.dataEstateAccountAgencyExpertModel).subscribe({next:i=>{i.isSuccess?(this.formInfo.submitResultMessage="",this.optionTabledataSource.data=i.listItems,this.DataGetAllGroup()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionDataGetDeleteGroup(e){let i=this.constructor.name+"onActionDataGetDeleteGroup";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.estateAccountAgencyExpertService.ServiceDeleteEntity(e).subscribe({next:t=>{t.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAllGroup()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionSelectorAccountUser(e){this.dataEstateAccountAgencyExpertModel.linkEstateExpertId=null,this.dataEstateAccountAgencyExpertModel.linkEstateAccountAgencyId=this.requestId,e&&e.id?.length>0&&(this.dataEstateAccountAgencyExpertModel.linkEstateExpertId=e.id)}onActionSelectorLocation(e){this.dataModel.linkLocationId=null,e&&e.id>0&&(this.dataModel.linkLocationId=e.id)}onActionSelectorLocationWorkArea(e){this.dataModel.linkLocationWorkAreaIds=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ja.\u0275fac=function(i){return new(i||ja)(v(Te),v(be),v(X),v(On),v(Cn),v(V),v(J),v(ba),v(F),v(Z),v(O),v(L))},ja.\u0275cmp=D({type:ja,selectors:[["app-estate-account-agency-edit"]],viewQuery:function(i,t){if(i&1&&te(ju,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:105,vars:108,consts:[["vform","ngForm"],["stepper",""],["LinkMainImageId",""],["Title",""],["Description",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["DescriptionHidden",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[3,"selectionChange"],["state","main",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","name","dataModel.mobileNumber","type","text","minlength","0","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],["id","main-map",3,"map$","zoom$","optonCenter"],["state","file",3,"label"],[3,"optionChange","optionDisabled","optionPlaceholder"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight","type","button",3,"click",4,"ngIf"],["class","example-container mat-elevation-z8",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","file"],["class","form-actions",4,"ngIf"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.accessWatchRowSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.accessWatchRowSite","name","dataModel.accessWatchRowSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowSite",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgency","name","dataModel.accessWatchRowOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgent","name","dataModel.accessWatchRowOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgency","name","dataModel.accessAllowShareRowWatchOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgent","name","dataModel.accessAllowShareRowWatchOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaEstate",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaEstate","name","dataModel.notificationWorkAreaEstate",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaEstate",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaCustomerOrder",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaCustomerOrder","name","dataModel.notificationWorkAreaCustomerOrder",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaCustomerOrder",1,"custom-control-label"],["type","checkbox","id","dataEstateAccountAgencyExpertModel.accessShareAgencyToUser","name","dataEstateAccountAgencyExpertModel.accessShareAgencyToUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataEstateAccountAgencyExpertModel.accessShareAgencyToUser",1,"custom-control-label"],["data-trigger-switch","dataEstateAccountAgencyExpertModel.accessShareUserToAgency",1,"font-600","font-14"],["type","checkbox","id","dataEstateAccountAgencyExpertModel.accessShareUserToAgency","name","dataEstateAccountAgencyExpertModel.accessShareUserToAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataEstateAccountAgencyExpertModel.accessShareUserToAgency",1,"custom-control-label"],["type","button","type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"example-container","mat-elevation-z8"],["multiTemplateDataRows","",3,"dataSource"],["matColumnDef","LinkEstateExpertId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkEstateAccountAgencyId"],["matColumnDef","AccessShareUserToAgency"],["matColumnDef","AccessShareAgencyToUser"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even",4,"matRowDef","matRowDefColumns"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],[3,"click"],["matTooltipPosition","before","aria-hidden","false",2,"color","red",3,"matTooltip"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",9),S(1,"app-progress-spinner",10),r(2,"div",11)(3,"p",12),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",13),r(9,"form",14,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"mat-vertical-stepper",15,1),I("selectionChange",function(m){u(s);let k=R(12);return f(t.onStepClick(m,k))}),r(13,"mat-step",16),g(14,"translate"),r(15,"div",17)(16,"a",18),g(17,"cmsthumbnail"),C(18,Qu,2,4,"img",19),a()(),r(19,"div",20)(20,"label",21),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(21),g(22,"translate"),a(),r(23,"input",22,2),g(25,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(26,"cms-file-manager",23),I("itemSelected",function(m){return u(s),f(t.onActionFileSelected(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),a()(),r(27,"div",20)(28,"label",24),c(29),a(),r(30,"input",25,3),w("ngModelChange",function(m){return u(s),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),C(32,zu,1,0,"i",26)(33,Yu,1,0,"i",27),S(34,"em"),C(35,Ku,5,3,"mat-error",28),a(),r(36,"div",20)(37,"label",29),c(38),a(),r(39,"textarea",30,4),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(41,"            "),a(),r(42,"em"),c(43),a(),C(44,Zu,5,3,"mat-error",28),a(),C(45,Ju,9,9,"div",31)(46,Xu,2,5,"app-cms-user-selector",32),r(47,"div",20)(48,"label",33),c(49),a(),r(50,"input",34,5),w("ngModelChange",function(m){return u(s),T(t.dataModel.phoneNumber,m)||(t.dataModel.phoneNumber=m),f(m)}),a(),r(52,"em"),c(53),a()(),r(54,"div",20)(55,"label",35),c(56),a(),r(57,"input",36,6),w("ngModelChange",function(m){return u(s),T(t.dataModel.mobileNumber,m)||(t.dataModel.mobileNumber=m),f(m)}),a(),r(59,"em"),c(60),a()(),r(61,"div",20)(62,"label",37),c(63),a(),r(64,"textarea",38,7),w("ngModelChange",function(m){return u(s),T(t.dataModel.address,m)||(t.dataModel.address=m),f(m)}),c(66,"            "),a(),C(67,$u,1,0,"i",26)(68,ef,1,0,"i",27),r(69,"em"),c(70),a(),C(71,tf,5,3,"mat-error",28),a(),r(72,"app-cms-location-selector",39),g(73,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorLocation(m))}),a(),S(74,"br"),c(75),g(76,"translate"),r(77,"app-cms-location-autocomplete",40),g(78,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorLocationWorkArea(m))}),a(),S(79,"hr"),C(80,nf,8,2,"div",41)(81,of,8,2,"div",41)(82,rf,8,2,"div",41)(83,af,8,2,"div",41)(84,lf,8,2,"div",41),S(85,"hr"),C(86,sf,8,2,"div",41)(87,df,8,2,"div",41),S(88,"hr"),r(89,"p"),c(90),g(91,"translate"),a(),r(92,"app-cms-map",42),I("map$",function(m){return u(s),f(t.receiveMap(m))})("zoom$",function(m){return u(s),f(t.receiveZoom(m))}),a()(),r(93,"mat-step",43),g(94,"translate"),S(95,"br"),r(96,"app-estate-account-expert-selector",44),g(97,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorAccountUser(m))}),a(),C(98,cf,8,1,"div",41)(99,pf,8,1,"div",41)(100,mf,2,0,"button",45)(101,Af,19,3,"div",46),a(),C(102,Pf,2,0,"ng-template",47)(103,Rf,2,0,"ng-template",48),a(),C(104,kf,9,7,"div",49),a()()()}if(i&2){let s=R(31),_=R(40),m=R(51),k=R(58),z=R(65);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,84,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(),d("ngStyle",ze(106,qu,t.tokenInfo.access.direction)),o(4),d("label",x(h(14,86,"TITLE.REQUIRED_INFORMATION"))),o(3),d("href",x(h(17,88,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(h(22,90,"MESSAGE. Photo_of_estate_agency")),o(2),d("placeholder",x(h(25,92,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(3),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),d("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessEditField)),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),d("ngIf",s.errors==null?null:s.errors.required),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),d("disabled",!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessEditField)),o(4),y("",_.value.length," / 500"),o(),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),o(),d("ngIf",t.tokenHelper.isAdminSite),o(3),M(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle)),b("ngModel",t.dataModel.phoneNumber),d("disabled",!(t.fieldsInfo.phoneNumber!=null&&t.fieldsInfo.phoneNumber.accessEditField)),o(3),y("",m.value.length," / 64"),o(3),M(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle)),b("ngModel",t.dataModel.mobileNumber),d("disabled",!(t.fieldsInfo.mobileNumber!=null&&t.fieldsInfo.mobileNumber.accessAddField)),o(3),y("",k.value.length," / 64"),o(3),M(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle)),b("ngModel",t.dataModel.address),d("disabled",!(t.fieldsInfo.address!=null&&t.fieldsInfo.address.accessEditField)),o(3),d("ngIf",!z.value),o(),d("ngIf",z.value),o(2),y("",z.value.length," / 500"),o(),d("ngIf",z.errors==null?null:z.errors.required),o(),d("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",h(73,94,"TITLE.Geographical_Region"))("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessEditField)),o(3),y(" ",h(76,96,"TITLE.COVERED_AREAS")," "),o(2),d("optionSelectForce",t.dataModel.linkLocationWorkAreaIds)("optionPlaceholder",h(78,98,"TITLE.Region")),o(3),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(2),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(3),y(" ",h(91,100,"TITLE.Click_on_the_map_to_specify_the_location")," "),o(2),d("optonCenter",t.mapOptonCenter),o(),d("label",x(h(94,102,"TITLE.Property_personnel"))),o(3),d("optionDisabled",!t.tokenHelper.isAdminSite)("optionPlaceholder",h(97,104,"TITLE.Property_personnel")),o(2),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.dataEstateAccountAgencyExpertModel.linkEstateExpertId&&t.dataEstateAccountAgencyExpertModel.linkEstateExpertId.length>0),o(),d("ngIf",!t.publicHelper.processService.process.inRunAll),o(3),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[ce,N,it,ke,Y,qt,q,we,de,De,Pe,me,Re,Je,xe,Ee,Q,nn,on,tn,nt,rt,dt,at,ot,ct,lt,st,pt,mt,sr,ui,Jt,ln,Mi,U,ge,an,_t,xn,We,B,Me,dr,fr,_r],encapsulation:2});var bc=ja;function Df(n,l){n&1&&S(0,"div",10)}var qa=class qa{constructor(l,e,i,t,s,_){this.headerService=l;this.publicHelper=e;this.cdr=i;this.translate=t;this.cmsToastrService=s;this.dialog=_;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new G;this.fieldsInfo=new Map;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent()}DataGetOneContent(){let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}};qa.\u0275fac=function(e){return new(e||qa)(v(Cn),v(F),v(O),v(L),v(V),v(Ae))},qa.\u0275cmp=D({type:qa,selectors:[["app-estate-account-expert-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:32,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],["class","td",4,"ngIf"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"td",2,"text-align","left"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(r(0,"div",0),S(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),S(6,"span",6),a(),r(7,"div",7)(8,"h5")(9,"b"),c(10),g(11,"translate"),a()()(),C(12,Df,1,0,"div",8),a(),r(13,"div",4)(14,"div",5)(15,"b"),c(16),a(),c(17,": "),a(),r(18,"div",9),c(19),a(),S(20,"div",10)(21,"div",11),a(),r(22,"div",4)(23,"div",5)(24,"b"),c(25),a(),c(26," : "),a(),r(27,"div",9),c(28),a(),S(29,"div",12)(30,"div",11),a()()()(),S(31,"div",13)),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(5),d("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),M(h(11,8,"TITLE.Selected_Personnel")),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(4),y("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," "),o(3),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),M(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(3),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[N,U,hn,B],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var Qa=qa;var Lf=()=>["expandedTitle"],Vf=()=>["expandedDetail"],Bf=()=>[5,10,20,100],Ff=n=>({display:n});function Of(n,l){if(n&1&&S(0,"app-estate-account-expert-header",48),n&2){let e=p();d("optionId",e.requestLinkAccountUserId)}}function Nf(n,l){if(n&1){let e=E();r(0,"div",18)(1,"a",49),I("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),S(2,"i",50)(3,"br"),a(),r(4,"p",21),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.ADD")," "))}function Hf(n,l){if(n&1){let e=E();r(0,"div",18)(1,"a",51),I("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",52)(3,"br"),a(),r(4,"p",21),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.EDIT")," "))}function Wf(n,l){if(n&1){let e=E();r(0,"div",18)(1,"a",53),I("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",54)(3,"br"),a(),r(4,"p",21),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.DELETE")," "))}function Gf(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.MENU")," "))}function Uf(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"button",55),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelectActionMenu(t))}),S(2,"i",56),a()()}}function jf(n,l){n&1&&(r(0,"mat-header-cell",57),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.PICTURE")," "))}function qf(n,l){if(n&1&&(S(0,"img",59),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function Qf(n,l){if(n&1&&(r(0,"mat-cell"),C(1,qf,2,4,"img",58),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function zf(n,l){if(n&1&&(r(0,"mat-header-cell",57),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Yf(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function Kf(n,l){if(n&1&&(r(0,"mat-header-cell",57),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Zf(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function Jf(n,l){if(n&1&&(r(0,"mat-header-cell",57),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.linkCmsUserId==null?null:e.fieldsInfo.linkCmsUserId.fieldTitle," ")}}function Xf(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"cmsuserinfo"),g(3,"async"),a()),n&2){let e=l.$implicit;o(),y(" ",h(3,3,h(2,1,e.linkCmsUserId))," ")}}function $f(n,l){if(n&1&&(r(0,"mat-header-cell",57),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function e_(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.description," ")}}function t_(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.OPTION")," "))}function i_(n,l){if(n&1&&(r(0,"mat-cell",60)(1,"button",61)(2,"mat-icon"),c(3,"more_vert"),a()(),S(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),d("matMenuTriggerFor",e)}}function n_(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"translate"),g(3,"cmsuserinfo"),g(4,"async"),a()),n&2){let e=l.$implicit;o(),ee(" ",h(2,2,"TITLE.User-Id-Cms"),": ",h(4,6,h(3,4,e.linkCmsUserId))," ")}}function o_(n,l){if(n&1&&(S(0,"img",66),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function r_(n,l){if(n&1&&(r(0,"tr"),S(1,"td"),r(2,"td"),c(3),a()()),n&2){let e=p().$implicit,i=p();o(3),ee(" ",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle," : ",e.description," ")}}function a_(n,l){if(n&1&&(r(0,"tr"),S(1,"td"),r(2,"td"),c(3),g(4,"translate"),a()()),n&2){let e=p().$implicit;o(3),ee("",h(4,2,"TITLE.Address")," : ",e.address)}}function l_(n,l){if(n&1&&(r(0,"tr"),S(1,"td"),r(2,"td"),c(3),a()()),n&2){let e=p().$implicit,i=p();o(3),ee(" ",i.fieldsInfo.phoneNumber==null?null:i.fieldsInfo.phoneNumber.fieldTitle," : ",e.phoneNumber," ")}}function s_(n,l){if(n&1&&(r(0,"tr"),S(1,"td"),r(2,"td"),c(3),a()()),n&2){let e=p().$implicit,i=p();o(3),ee(" ",i.fieldsInfo.mobileNumber==null?null:i.fieldsInfo.mobileNumber.fieldTitle," : ",e.mobileNumber," ")}}function d_(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),C(5,o_,2,4,"img",62),a(),r(6,"th")(7,"span",63),I("click",function(){u(e);let t=p();return f(t.onActionCopied())}),S(8,"i",64),a(),c(9),a()(),r(10,"tr"),S(11,"td"),r(12,"td"),c(13),a()(),C(14,r_,4,2,"tr",65)(15,a_,5,4,"tr",65)(16,l_,4,2,"tr",65)(17,s_,4,2,"tr",65),r(18,"tr"),S(19,"td")(20,"td"),a()()()()}if(n&2){let e=l.$implicit,i=p();o(5),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),o(2),d("cdkCopyToClipboard",e.id),o(2),y(" ",e.id," "),o(4),ee("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : ",e.title),o(),d("ngIf",e.description),o(),d("ngIf",e.address),o(),d("ngIf",e.phoneNumber),o(),d("ngIf",e.mobileNumber)}}function c_(n,l){n&1&&S(0,"mat-header-row")}function p_(n,l){if(n&1){let e=E();r(0,"mat-row",67),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function m_(n,l){if(n&1){let e=E();r(0,"mat-row",68),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function u_(n,l){if(n&1){let e=E();r(0,"mat-row",69),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),d("ngStyle",ze(3,Ff,e.expanded===!0?"":"none"))}}var za=class za extends xt{constructor(e,i,t,s,_,m,k,z,Se,qe,Ue,ft,jt){super(e,new go,ft,_,z);this.contentService=e;this.cmsConfirmationDialogService=i;this.cmsToastrService=t;this.router=s;this.tokenHelper=_;this.cdr=m;this.cmsStoreService=k;this.translate=z;this.themeService=Se;this.activatedRoute=qe;this.pageInfo=Ue;this.publicHelper=ft;this.dialog=jt;this.requestLinkAccountUserId="";this.constructorInfoAreaId=this.constructor.name;this.optionloadComponent=!0;this.optionloadByRoute=!0;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Aa;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","title","Description","action_menu"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","title","Description","action_menu"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ft=>this.onSubmitOptionsSearch(Ft)},this.requestLinkAccountUserId=this.activatedRoute.snapshot.paramMap.get("LinkAccountUserId"),this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=$.Descending}set optionLinkLocationWorkAreaIds(e){this.requestLinkLocationWorkAreaIds=[],e&&e.length>0&&(this.requestLinkLocationWorkAreaIds=e),this.requestLinkLocationWorkAreaIds&&this.requestLinkLocationWorkAreaIds.length>0&&(this.filteModelContent.linkLocationWorkAreaIds=this.requestLinkLocationWorkAreaIds)}set optionLinkLocationWorkAreaId(e){this.requestLinkLocationWorkAreaIds=[],e&&e>0&&this.requestLinkLocationWorkAreaIds.push(e),this.requestLinkLocationWorkAreaIds&&this.requestLinkLocationWorkAreaIds.length>0&&(this.filteModelContent.linkLocationWorkAreaIds=this.requestLinkLocationWorkAreaIds)}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){if(this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),!this.optionloadComponent)return;if(this.tableRowsSelected=[],this.onActionTableRowSelect(new go),this.requestLinkAccountUserId&&this.requestLinkAccountUserId.length>0){let t=new H;t.propertyAnyName="AccountAgencyUser",t.propertyName="linkEstateExpertId",t.value=this.requestLinkAccountUserId,this.filteModelContent.filters.push(t)}let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.setAccessDataType(Ne.Editor),this.contentService.ServiceGetAll(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess&&(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=$.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorLocation(e){this.filteModelContent.linkLocationIds=e}onActionSelectorLocationWorkArea(e){this.filteModelContent.linkLocationWorkAreaIds=e}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ic,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(bc,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new H;_.propertyName="recordStatus",_.value=Qe.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonAgentRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/account-user/LinkAccountAgencyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/account-user/LinkAccountAgencyId",this.tableRowSelected.id])}onActionButtonHistoryRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-history/LinkEstateAgencyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-history/LinkEstateAgencyId",this.tableRowSelected.id])}onActionButtonPropertyRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property/LinkEstateAgencyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkEstateAgencyId",this.tableRowSelected.id])}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onActionButtonReload(){this.optionloadComponent=!0,this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};za.\u0275fac=function(i){return new(i||za)(v(On),v(wt),v(V),v(Ze),v(Z),v(O),v(J),v(L),v(Vt),v(Kt),v(St),v(F),v(Ae))},za.\u0275cmp=D({type:za,selectors:[["app-estate-account-agency-list"]],inputs:{optionloadComponent:"optionloadComponent",optionloadByRoute:"optionloadByRoute",optionLinkLocationWorkAreaIds:"optionLinkLocationWorkAreaIds",optionLinkLocationWorkAreaId:"optionLinkLocationWorkAreaId"},standalone:!1,features:[oe],decls:94,vars:59,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-user-tie","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-clock-rotate-left","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-house","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","title"],["matColumnDef","LinkCmsUserId"],["matColumnDef","Description"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=E();C(0,Of,1,1,"app-estate-account-expert-header",3),r(1,"app-cms-html-list",4),w("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),I("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(2,5),c(3," -------------------------------------- "),P(),$e(4,6)(5,7),A(6,8),r(7,"a",9),I("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(8,"i",10),a(),r(9,"a",9),I("click",function(){return u(s),f(t.onActionButtonReload())}),S(10,"i",11),a(),P(),A(11,12),r(12,"a",13),I("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(13,"mat-slide-toggle",14),c(14),g(15,"translate"),a(),r(16,"a",13),I("click",function(){return u(s),f(t.onActionButtonStatist())}),S(17,"mat-slide-toggle",14),c(18),g(19,"translate"),a(),P(),A(20,15),C(21,Nf,7,3,"div",16),P(),A(22,17),C(23,Hf,7,3,"div",16)(24,Wf,7,3,"div",16),r(25,"div",18)(26,"a",19),I("click",function(m){return u(s),f(t.onActionButtonAgentRow(t.tableRowSelected,m))}),S(27,"i",20)(28,"br"),a(),r(29,"p",21),c(30),g(31,"translate"),a()(),r(32,"div",18)(33,"a",19),I("click",function(m){return u(s),f(t.onActionButtonHistoryRow(t.tableRowSelected,m))}),S(34,"i",22)(35,"br"),a(),r(36,"p",21),c(37),g(38,"translate"),a()(),r(39,"div",18)(40,"a",19),I("click",function(m){return u(s),f(t.onActionButtonPropertyRow(t.tableRowSelected,m))}),S(41,"i",23)(42,"br"),a(),r(43,"p",21),c(44),g(45,"translate"),a()(),P(),A(46,24),r(47,"app-cms-search-list",25),w("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),c(48),g(49,"translate"),r(50,"app-cms-location-autocomplete",26),g(51,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorLocation(m))}),a(),S(52,"br"),c(53),g(54,"translate"),r(55,"app-cms-location-autocomplete",26),g(56,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorLocationWorkArea(m))}),a(),S(57,"hr"),a(),r(58,"app-cms-statist-list",25),w("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),P(),A(59,27),r(60,"mat-table",28,0),I("matSortChange",function(){u(s);let m=R(61);return f(t.onTableSortData(m))}),A(62,29),C(63,Gf,3,3,"mat-header-cell",30)(64,Uf,3,0,"mat-cell",31),P(),A(65,32),C(66,jf,3,3,"mat-header-cell",33)(67,Qf,2,1,"mat-cell",31),P(),A(68,34),C(69,zf,2,1,"mat-header-cell",33)(70,Yf,2,1,"mat-cell",31),P(),A(71,35),C(72,Kf,2,1,"mat-header-cell",33)(73,Zf,2,1,"mat-cell",31),P(),A(74,36),C(75,Jf,2,1,"mat-header-cell",33)(76,Xf,4,5,"mat-cell",31),P(),A(77,37),C(78,$f,2,1,"mat-header-cell",33)(79,e_,2,1,"mat-cell",31),P(),A(80,38),C(81,t_,3,3,"mat-header-cell",30)(82,i_,6,1,"mat-cell",39),P(),A(83,40),C(84,n_,5,8,"mat-cell",31),P(),A(85,41),C(86,d_,21,9,"mat-cell",31),P(),C(87,c_,1,0,"mat-header-row",42)(88,p_,1,2,"mat-row",43)(89,m_,1,2,"mat-row",44)(90,u_,1,5,"mat-row",45),a(),P(),A(91,46),r(92,"mat-paginator",47,1),I("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),P(),a()}i&2&&(d("ngIf",(t.requestLinkAccountUserId==null?null:t.requestLinkAccountUserId.length)>0),o(),d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","accountagency.content.list"),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(9),K("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),d("checked",t.optionsSearch.data.show),o(),y("",h(15,38,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",h(19,40,"ACTION.STATIST")," "),o(3),d("ngIf",t.optionloadByRoute&&t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),y(" ",h(31,42,"ACTION.PERSONNEL")," "),o(7),y(" ",h(38,44,"ACTION.HISTORY")," "),o(7),y(" ",h(45,46,"ACTION.CONNECT_TO_PROPERTY")," "),o(3),b("options",t.optionsSearch),o(),y(" ",h(49,48,"ACTION.LOCATION")," "),o(2),d("optionSelectForce",t.filteModelContent.linkLocationIds)("optionPlaceholder",h(51,50,"TITLE.Region")),o(3),y(" ",h(54,52,"ACTION.LOCATION_WORK_ACTIVITY")," "),o(2),d("optionSelectForce",t.filteModelContent.linkLocationWorkAreaIds)("optionPlaceholder",h(56,54,"TITLE.Region")),o(3),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(27),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",se(56,Lf)),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(),d("matRowDefColumns",se(57,Vf)),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(58,Bf)))},dependencies:[N,it,Je,Ee,Dt,Lt,Mt,yt,bt,Tt,nt,rt,dt,at,ot,ct,lt,st,pt,mt,fi,At,Pt,Jt,Rt,kt,Qa,We,B,Li,Me],encapsulation:2});var yo=za;var Kp=vo(Wo());var f_=["vform"],__=n=>({direction:n});function g_(n,l){if(n&1&&(S(0,"img",53),g(1,"cmsthumbnail")),n&2){let e=p();d("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function h_(n,l){n&1&&S(0,"i",54)}function y_(n,l){n&1&&S(0,"i",55)}function S_(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function C_(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function v_(n,l){if(n&1){let e=E();r(0,"div",21)(1,"label",56),c(2),g(3,"translate"),a(),r(4,"textarea",57,11),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),c(6,"        "),a(),r(7,"em"),c(8),a()()}if(n&2){let e=R(5),i=p();o(2),M(h(3,5,"TITLE.Description_Hidden")),o(2),d("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",i.dataModel.descriptionHidden),o(4),y("",e.value.length," / 500")}}function I_(n,l){if(n&1){let e=E();r(0,"app-cms-user-selector",58),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorUser(t))}),a()}if(n&2){let e=p();d("optionDisabled",!(e.fieldsInfo.linkCmsUserId!=null&&e.fieldsInfo.linkCmsUserId.accessAddField))("optionSelectForce",e.dataModel.linkCmsUserId)("optionPlaceholder",h(1,3,"TITLE.USER"))}}function E_(n,l){n&1&&S(0,"i",54)}function M_(n,l){n&1&&S(0,"i",55)}function b_(n,l){n&1&&(r(0,"mat-error"),c(1," Address is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function T_(n,l){if(n&1){let e=E();r(0,"div",59)(1,"div",60)(2,"h5",61),c(3),a()(),r(4,"div",62)(5,"div",63)(6,"input",64),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.accessWatchRowSite,t)||(s.dataModel.accessWatchRowSite=t),f(t)}),a(),S(7,"label",65),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.accessWatchRowSite==null?null:e.fieldsInfo.accessWatchRowSite.fieldTitle," "),o(3),b("ngModel",e.dataModel.accessWatchRowSite)}}function w_(n,l){if(n&1){let e=E();r(0,"div",59)(1,"div",60)(2,"h5",66),c(3),a()(),r(4,"div",62)(5,"div",63)(6,"input",67),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.accessWatchRowOtherAgency,t)||(s.dataModel.accessWatchRowOtherAgency=t),f(t)}),a(),S(7,"label",68),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.accessWatchRowOtherAgency==null?null:e.fieldsInfo.accessWatchRowOtherAgency.fieldTitle," "),o(3),b("ngModel",e.dataModel.accessWatchRowOtherAgency)}}function x_(n,l){if(n&1){let e=E();r(0,"div",59)(1,"div",60)(2,"h5",69),c(3),a()(),r(4,"div",62)(5,"div",63)(6,"input",70),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.accessWatchRowOtherAgent,t)||(s.dataModel.accessWatchRowOtherAgent=t),f(t)}),a(),S(7,"label",71),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.accessWatchRowOtherAgent==null?null:e.fieldsInfo.accessWatchRowOtherAgent.fieldTitle," "),o(3),b("ngModel",e.dataModel.accessWatchRowOtherAgent)}}function A_(n,l){if(n&1){let e=E();r(0,"div",59)(1,"div",60)(2,"h5",72),c(3),a()(),r(4,"div",62)(5,"div",63)(6,"input",73),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.accessAllowShareRowWatchOtherAgency,t)||(s.dataModel.accessAllowShareRowWatchOtherAgency=t),f(t)}),a(),S(7,"label",74),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.accessAllowShareRowWatchOtherAgency==null?null:e.fieldsInfo.accessAllowShareRowWatchOtherAgency.fieldTitle," "),o(3),b("ngModel",e.dataModel.accessAllowShareRowWatchOtherAgency)}}function P_(n,l){if(n&1){let e=E();r(0,"div",59)(1,"div",60)(2,"h5",75),c(3),a()(),r(4,"div",62)(5,"div",63)(6,"input",76),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.accessAllowShareRowWatchOtherAgent,t)||(s.dataModel.accessAllowShareRowWatchOtherAgent=t),f(t)}),a(),S(7,"label",77),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.accessAllowShareRowWatchOtherAgent==null?null:e.fieldsInfo.accessAllowShareRowWatchOtherAgent.fieldTitle," "),o(3),b("ngModel",e.dataModel.accessAllowShareRowWatchOtherAgent)}}function R_(n,l){if(n&1){let e=E();r(0,"div",59)(1,"div",60)(2,"h5",78),c(3),a()(),r(4,"div",62)(5,"div",63)(6,"input",79),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.notificationWorkAreaEstate,t)||(s.dataModel.notificationWorkAreaEstate=t),f(t)}),a(),S(7,"label",80),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.notificationWorkAreaEstate==null?null:e.fieldsInfo.notificationWorkAreaEstate.fieldTitle," "),o(3),b("ngModel",e.dataModel.notificationWorkAreaEstate)}}function k_(n,l){if(n&1){let e=E();r(0,"div",59)(1,"div",60)(2,"h5",81),c(3),a()(),r(4,"div",62)(5,"div",63)(6,"input",82),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.notificationWorkAreaCustomerOrder,t)||(s.dataModel.notificationWorkAreaCustomerOrder=t),f(t)}),a(),S(7,"label",83),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.notificationWorkAreaCustomerOrder==null?null:e.fieldsInfo.notificationWorkAreaCustomerOrder.fieldTitle," "),o(3),b("ngModel",e.dataModel.notificationWorkAreaCustomerOrder)}}function D_(n,l){if(n&1){let e=E();r(0,"div",84)(1,"button",85),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",86),c(3),g(4,"translate"),a(),r(5,"button",87),S(6,"i",88),c(7),g(8,"translate"),a()()}if(n&2){p();let e=R(10);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",h(8,5,"ACTION.SAVE")," ")}}var Ya=class Ya extends Bt{constructor(e,i,t,s,_,m,k,z,Se,qe){super(s,new ho,m,Se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateAccountExpertService=s;this.cmsToastrService=_;this.publicHelper=m;this.cmsStoreService=k;this.cdr=z;this.translate=Se;this.tokenHelper=qe;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new It;this.dataModelResult=new G;this.dataModel=new ho;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Ni;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateAccountExpertService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(i=>{this.mapMarker=Kp.marker([i.lat,i.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",i=>{let t=i.latlng.lat,s=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&s===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=Kp.marker([t,s]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=s}))}receiveZoom(e){}onActionSelectorUser(e){this.dataModel.linkCmsUserId=null,e&&e.id>0&&(this.dataModel.linkCmsUserId=e.id)}onActionSelectorLocation(e){this.dataModel.linkLocationId=null,e&&e.id>0&&(this.dataModel.linkLocationId=e.id)}onActionSelectorLocationWorkArea(e){this.dataModel.linkLocationWorkAreaIds=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}};Ya.\u0275fac=function(i){return new(i||Ya)(v(Te),v(be),v(X),v(Cn),v(V),v(F),v(J),v(O),v(L),v(Z))},Ya.\u0275cmp=D({type:Ya,selectors:[["app-estate-account-expert-add"]],viewQuery:function(i,t){if(i&1&&te(f_,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:117,vars:118,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["JoinId",""],["SerialRfId",""],["SerialNumber",""],["PlaceProduction",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["DescriptionHidden",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],["for","dataModel.joinId",1,"color-highlight"],["matInput","","name","dataModel.joinId","type","text","minlength","0","maxlength","64","id","dataModel.joinId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.serialRfId",1,"color-highlight"],["matInput","","name","dataModel.serialRfId","type","text","minlength","0","maxlength","64","id","dataModel.serialRfId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.serialNumber",1,"color-highlight"],["matInput","","name","dataModel.serialNumber","type","text","minlength","0","maxlength","64","id","dataModel.serialNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.placeProduction",1,"color-highlight"],["matInput","","name","dataModel.placeProduction","type","text","minlength","0","maxlength","64","id","dataModel.placeProduction",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","name","dataModel.mobileNumber","type","text","minlength","0","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],["id","main-map",3,"map$","zoom$","optonCenter"],["class","form-actions",4,"ngIf"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.accessWatchRowSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.accessWatchRowSite","name","dataModel.accessWatchRowSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowSite",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgency","name","dataModel.accessWatchRowOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgent","name","dataModel.accessWatchRowOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgency","name","dataModel.accessAllowShareRowWatchOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgent","name","dataModel.accessAllowShareRowWatchOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaEstate",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaEstate","name","dataModel.notificationWorkAreaEstate",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaEstate",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaCustomerOrder",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaCustomerOrder","name","dataModel.notificationWorkAreaCustomerOrder",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaCustomerOrder",1,"custom-control-label"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",12),S(1,"app-progress-spinner",13),r(2,"div",14)(3,"p",15),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",16),r(9,"form",17,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"div",18)(12,"a",19),g(13,"cmsthumbnail"),C(14,g_,2,4,"img",20),a()(),r(15,"div",21)(16,"label",22),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(17),g(18,"translate"),a(),r(19,"input",23,1),g(21,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(22,"cms-file-manager",24),g(23,"translate"),I("itemSelected",function(m){return u(s),f(t.onActionFileSelected(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),a()(),r(24,"div",21)(25,"label",25),c(26),a(),r(27,"input",26,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),C(29,h_,1,0,"i",27)(30,y_,1,0,"i",28),S(31,"em"),C(32,S_,5,3,"mat-error",29),a(),r(33,"div",21)(34,"label",30),c(35),a(),r(36,"textarea",31,3),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(38,"        "),a(),r(39,"em"),c(40),a(),C(41,C_,5,3,"mat-error",29),a(),C(42,v_,9,7,"div",32)(43,I_,2,5,"app-cms-user-selector",33),r(44,"div",21)(45,"label",34),c(46),a(),r(47,"input",35,4),w("ngModelChange",function(m){return u(s),T(t.dataModel.joinId,m)||(t.dataModel.joinId=m),f(m)}),a(),r(49,"em"),c(50),a()(),r(51,"div",21)(52,"label",36),c(53),a(),r(54,"input",37,5),w("ngModelChange",function(m){return u(s),T(t.dataModel.serialRfId,m)||(t.dataModel.serialRfId=m),f(m)}),a(),r(56,"em"),c(57),a()(),r(58,"div",21)(59,"label",38),c(60),a(),r(61,"input",39,6),w("ngModelChange",function(m){return u(s),T(t.dataModel.serialNumber,m)||(t.dataModel.serialNumber=m),f(m)}),a(),r(63,"em"),c(64),a()(),r(65,"div",21)(66,"label",40),c(67),a(),r(68,"input",41,7),w("ngModelChange",function(m){return u(s),T(t.dataModel.placeProduction,m)||(t.dataModel.placeProduction=m),f(m)}),a()(),r(70,"div",21)(71,"label",42),c(72),a(),r(73,"input",43,8),w("ngModelChange",function(m){return u(s),T(t.dataModel.phoneNumber,m)||(t.dataModel.phoneNumber=m),f(m)}),a(),r(75,"em"),c(76),a()(),r(77,"div",21)(78,"label",44),c(79),a(),r(80,"input",45,9),w("ngModelChange",function(m){return u(s),T(t.dataModel.mobileNumber,m)||(t.dataModel.mobileNumber=m),f(m)}),a(),r(82,"em"),c(83),a()(),r(84,"div",21)(85,"label",46),c(86),a(),r(87,"textarea",47,10),w("ngModelChange",function(m){return u(s),T(t.dataModel.address,m)||(t.dataModel.address=m),f(m)}),c(89,"        "),a(),C(90,E_,1,0,"i",27)(91,M_,1,0,"i",28),r(92,"em"),c(93),a(),C(94,b_,5,3,"mat-error",29),a(),r(95,"app-cms-location-selector",48),g(96,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorLocation(m))}),a(),S(97,"br"),c(98),g(99,"translate"),r(100,"app-cms-location-autocomplete",49),g(101,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorLocationWorkArea(m))}),a(),S(102,"hr"),C(103,T_,8,2,"div",50)(104,w_,8,2,"div",50)(105,x_,8,2,"div",50)(106,A_,8,2,"div",50)(107,P_,8,2,"div",50),S(108,"hr"),C(109,R_,8,2,"div",50)(110,k_,8,2,"div",50),S(111,"hr"),r(112,"p"),c(113),g(114,"translate"),a(),r(115,"app-cms-map",51),I("map$",function(m){return u(s),f(t.receiveMap(m))})("zoom$",function(m){return u(s),f(t.receiveZoom(m))}),a(),C(116,D_,9,7,"div",52),a()()()}if(i&2){let s=R(28),_=R(37),m=R(48),k=R(55),z=R(62),Se=R(74),qe=R(81),Ue=R(88);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,98,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(),d("ngStyle",ze(116,__,t.tokenInfo.access.direction)),o(3),d("href",x(h(13,100,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(h(18,102,"TITLE.Profile_Picture")),o(2),d("placeholder",x(h(21,104,"TITLE.Profile_Photo_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0)("openSelectFileDescription",h(23,106,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(4),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),d("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessAddField)),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),d("ngIf",s.errors==null?null:s.errors.required),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),d("disabled",!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessAddField)),o(4),y("",_.value.length," / 500"),o(),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),o(),d("ngIf",t.tokenHelper.isAdminSite),o(3),M(t.fieldsInfo.joinId==null?null:t.fieldsInfo.joinId.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.joinId==null?null:t.fieldsInfo.joinId.fieldTitle)),b("ngModel",t.dataModel.joinId),d("disabled",!(t.fieldsInfo.joinId!=null&&t.fieldsInfo.joinId.accessAddField)),o(3),y("",m.value.length," / 64"),o(3),M(t.fieldsInfo.serialRfId==null?null:t.fieldsInfo.serialRfId.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.serialRfId==null?null:t.fieldsInfo.serialRfId.fieldTitle)),b("ngModel",t.dataModel.serialRfId),d("disabled",!(t.fieldsInfo.serialRfId!=null&&t.fieldsInfo.serialRfId.accessAddField)),o(3),y("",k.value.length," / 64"),o(3),M(t.fieldsInfo.serialNumber==null?null:t.fieldsInfo.serialNumber.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.serialNumber==null?null:t.fieldsInfo.serialNumber.fieldTitle)),b("ngModel",t.dataModel.serialNumber),d("disabled",!(t.fieldsInfo.serialNumber!=null&&t.fieldsInfo.serialNumber.accessAddField)),o(3),y("",z.value.length," / 64"),o(3),M(t.fieldsInfo.placeProduction==null?null:t.fieldsInfo.placeProduction.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.placeProduction==null?null:t.fieldsInfo.placeProduction.fieldTitle)),b("ngModel",t.dataModel.placeProduction),d("disabled",!(t.fieldsInfo.placeProduction!=null&&t.fieldsInfo.placeProduction.accessAddField)),o(4),M(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle)),b("ngModel",t.dataModel.phoneNumber),d("disabled",!(t.fieldsInfo.phoneNumber!=null&&t.fieldsInfo.phoneNumber.accessAddField)),o(3),y("",Se.value.length," / 64"),o(3),M(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle)),b("ngModel",t.dataModel.mobileNumber),d("disabled",!(t.fieldsInfo.mobileNumber!=null&&t.fieldsInfo.mobileNumber.accessAddField)),o(3),y("",qe.value.length," / 64"),o(3),M(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle)),b("ngModel",t.dataModel.address),d("disabled",!(t.fieldsInfo.address!=null&&t.fieldsInfo.address.accessAddField)),o(3),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",Ue.value.length," / 500"),o(),d("ngIf",Ue.errors==null?null:Ue.errors.required),o(),d("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",h(96,108,"TITLE.Geographical_Region"))("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessAddField)),o(3),y(" ",h(99,110,"TITLE.COVERED_AREAS")," "),o(2),d("optionSelectForce",t.dataModel.linkLocationWorkAreaIds)("optionPlaceholder",h(101,112,"TITLE.Region")),o(3),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(2),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(3),M(h(114,114,"TITLE.Click_on_the_map_to_specify_the_location")),o(2),d("optonCenter",t.mapOptonCenter),o(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[N,it,ke,Y,qt,q,we,de,De,Pe,me,Re,xe,Q,ui,Jt,ln,Mi,U,ge,_t,B,Me],encapsulation:2});var xc=Ya;var Zp=vo(Wo());var L_=["vform"],V_=n=>({direction:n});function B_(n,l){if(n&1&&(S(0,"img",62),g(1,"cmsthumbnail")),n&2){let e=p();d("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function F_(n,l){n&1&&S(0,"i",63)}function O_(n,l){n&1&&S(0,"i",64)}function N_(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function H_(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function W_(n,l){if(n&1){let e=E();r(0,"div",24)(1,"label",65),c(2),g(3,"translate"),a(),r(4,"textarea",66,12),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),c(6,"            "),a(),r(7,"em"),c(8),a()()}if(n&2){let e=R(5),i=p();o(2),M(h(3,7,"TITLE.Description_Hidden")),o(2),d("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle))("disabled",x(!(i.fieldsInfo.descriptionHidden!=null&&i.fieldsInfo.descriptionHidden.accessEditField))),b("ngModel",i.dataModel.descriptionHidden),o(4),y("",e.value.length," / 500")}}function G_(n,l){if(n&1){let e=E();r(0,"app-cms-user-selector",67),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorUser(t))}),a()}if(n&2){let e=p();d("optionDisabled",!(e.fieldsInfo.linkCmsUserId!=null&&e.fieldsInfo.linkCmsUserId.accessEditField))("optionSelectForce",e.dataModel.linkCmsUserId)("optionPlaceholder",h(1,3,"TITLE.USER"))}}function U_(n,l){n&1&&S(0,"i",63)}function j_(n,l){n&1&&S(0,"i",64)}function q_(n,l){n&1&&(r(0,"mat-error"),c(1," Address is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function Q_(n,l){if(n&1){let e=E();r(0,"div",68)(1,"div",69)(2,"h5",70),c(3),a()(),r(4,"div",71)(5,"div",72)(6,"input",73),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.accessWatchRowSite,t)||(s.dataModel.accessWatchRowSite=t),f(t)}),a(),S(7,"label",74),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.accessWatchRowSite==null?null:e.fieldsInfo.accessWatchRowSite.fieldTitle," "),o(3),b("ngModel",e.dataModel.accessWatchRowSite)}}function z_(n,l){if(n&1){let e=E();r(0,"div",68)(1,"div",69)(2,"h5",75),c(3),a()(),r(4,"div",71)(5,"div",72)(6,"input",76),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.accessWatchRowOtherAgency,t)||(s.dataModel.accessWatchRowOtherAgency=t),f(t)}),a(),S(7,"label",77),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.accessWatchRowOtherAgency==null?null:e.fieldsInfo.accessWatchRowOtherAgency.fieldTitle," "),o(3),b("ngModel",e.dataModel.accessWatchRowOtherAgency)}}function Y_(n,l){if(n&1){let e=E();r(0,"div",68)(1,"div",69)(2,"h5",78),c(3),a()(),r(4,"div",71)(5,"div",72)(6,"input",79),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.accessWatchRowOtherAgent,t)||(s.dataModel.accessWatchRowOtherAgent=t),f(t)}),a(),S(7,"label",80),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.accessWatchRowOtherAgent==null?null:e.fieldsInfo.accessWatchRowOtherAgent.fieldTitle," "),o(3),b("ngModel",e.dataModel.accessWatchRowOtherAgent)}}function K_(n,l){if(n&1){let e=E();r(0,"div",68)(1,"div",69)(2,"h5",81),c(3),a()(),r(4,"div",71)(5,"div",72)(6,"input",82),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.accessAllowShareRowWatchOtherAgency,t)||(s.dataModel.accessAllowShareRowWatchOtherAgency=t),f(t)}),a(),S(7,"label",83),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.accessAllowShareRowWatchOtherAgency==null?null:e.fieldsInfo.accessAllowShareRowWatchOtherAgency.fieldTitle," "),o(3),b("ngModel",e.dataModel.accessAllowShareRowWatchOtherAgency)}}function Z_(n,l){if(n&1){let e=E();r(0,"div",68)(1,"div",69)(2,"h5",84),c(3),a()(),r(4,"div",71)(5,"div",72)(6,"input",85),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.accessAllowShareRowWatchOtherAgent,t)||(s.dataModel.accessAllowShareRowWatchOtherAgent=t),f(t)}),a(),S(7,"label",86),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.accessAllowShareRowWatchOtherAgent==null?null:e.fieldsInfo.accessAllowShareRowWatchOtherAgent.fieldTitle," "),o(3),b("ngModel",e.dataModel.accessAllowShareRowWatchOtherAgent)}}function J_(n,l){if(n&1){let e=E();r(0,"div",68)(1,"div",69)(2,"h5",87),c(3),a()(),r(4,"div",71)(5,"div",72)(6,"input",88),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.notificationWorkAreaEstate,t)||(s.dataModel.notificationWorkAreaEstate=t),f(t)}),a(),S(7,"label",89),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.notificationWorkAreaEstate==null?null:e.fieldsInfo.notificationWorkAreaEstate.fieldTitle," "),o(3),b("ngModel",e.dataModel.notificationWorkAreaEstate)}}function X_(n,l){if(n&1){let e=E();r(0,"div",68)(1,"div",69)(2,"h5",90),c(3),a()(),r(4,"div",71)(5,"div",72)(6,"input",91),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.notificationWorkAreaCustomerOrder,t)||(s.dataModel.notificationWorkAreaCustomerOrder=t),f(t)}),a(),S(7,"label",92),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.notificationWorkAreaCustomerOrder==null?null:e.fieldsInfo.notificationWorkAreaCustomerOrder.fieldTitle," "),o(3),b("ngModel",e.dataModel.notificationWorkAreaCustomerOrder)}}function $_(n,l){if(n&1){let e=E();r(0,"div",68)(1,"div",69)(2,"h5",81),c(3," accessShareAgencyToUser "),a()(),r(4,"div",71)(5,"div",72)(6,"input",93),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataEstateAccountAgencyExpertModel.accessShareAgencyToUser,t)||(s.dataEstateAccountAgencyExpertModel.accessShareAgencyToUser=t),f(t)}),a(),S(7,"label",94),a()()()}if(n&2){let e=p();o(6),b("ngModel",e.dataEstateAccountAgencyExpertModel.accessShareAgencyToUser)}}function eg(n,l){if(n&1){let e=E();r(0,"div",68)(1,"div",69)(2,"h5",95),c(3," accessShareUserToAgency "),a()(),r(4,"div",71)(5,"div",72)(6,"input",96),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataEstateAccountAgencyExpertModel.accessShareUserToAgency,t)||(s.dataEstateAccountAgencyExpertModel.accessShareUserToAgency=t),f(t)}),a(),S(7,"label",97),a()()()}if(n&2){let e=p();o(6),b("ngModel",e.dataEstateAccountAgencyExpertModel.accessShareUserToAgency)}}function tg(n,l){if(n&1){let e=E();r(0,"button",98),I("click",function(){u(e);let t=p();return f(t.onActionDataGetAddGroup())}),c(1," + "),a()}}function ig(n,l){if(n&1&&(r(0,"mat-header-cell"),c(1),a()),n&2){let e=p(2);o(),y(" ",e.fieldsInfoAgencyUser.linkEstateExpertId==null?null:e.fieldsInfoAgencyUser.linkEstateExpertId.fieldTitle," ")}}function ng(n,l){if(n&1&&(A(0),c(1),g(2,"estateAccountExpertInfo"),g(3,"async"),P()),n&2){let e=p().$implicit;o(),y(" ",h(3,3,h(2,1,e.linkEstateExpertId))," ")}}function og(n,l){if(n&1&&(r(0,"mat-cell"),C(1,ng,4,5,"ng-container",32),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.linkEstateExpertId)}}function rg(n,l){if(n&1&&(r(0,"mat-header-cell"),c(1),a()),n&2){let e=p(2);o(),y(" ",e.fieldsInfoAgencyUser.linkEstateAccountAgencyId==null?null:e.fieldsInfoAgencyUser.linkEstateAccountAgencyId.fieldTitle," ")}}function ag(n,l){if(n&1&&(A(0),c(1),g(2,"estateAccountAgencyInfo"),g(3,"async"),P()),n&2){let e=p().$implicit;o(),y(" ",h(3,3,h(2,1,e.linkEstateAccountAgencyId))," ")}}function lg(n,l){if(n&1&&(r(0,"mat-cell"),C(1,ag,4,5,"ng-container",32),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.linkEstateAccountAgencyId)}}function sg(n,l){if(n&1&&(r(0,"mat-header-cell"),c(1),a()),n&2){let e=p(2);o(),y(" ",e.fieldsInfoAgencyUser.accessShareUserToAgency==null?null:e.fieldsInfoAgencyUser.accessShareUserToAgency.fieldTitle," ")}}function dg(n,l){if(n&1&&(A(0),S(1,"i",111),g(2,"boolclass"),P()),n&2){let e=p().$implicit;o(),d("ngClass",h(2,1,e.accessShareUserToAgency))}}function cg(n,l){if(n&1&&(r(0,"mat-cell"),C(1,dg,3,3,"ng-container",32),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.accessShareUserToAgency)}}function pg(n,l){if(n&1&&(r(0,"mat-header-cell"),c(1),a()),n&2){let e=p(2);o(),y(" ",e.fieldsInfoAgencyUser.accessShareAgencyToUser==null?null:e.fieldsInfoAgencyUser.accessShareAgencyToUser.fieldTitle," ")}}function mg(n,l){if(n&1&&(A(0),S(1,"i",111),g(2,"boolclass"),P()),n&2){let e=p().$implicit;o(),d("ngClass",h(2,1,e.accessShareAgencyToUser))}}function ug(n,l){if(n&1&&(r(0,"mat-cell"),C(1,mg,3,3,"ng-container",32),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.accessShareAgencyToUser)}}function fg(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.OPTION")," "))}function _g(n,l){if(n&1){let e=E();r(0,"mat-cell",112)(1,"button",113)(2,"small",114),I("click",function(){let t=u(e).$implicit,s=p(2);return f(s.onActionDataGetDeleteGroup(t))}),r(3,"mat-icon",115),g(4,"translate"),c(5,"delete"),a()()()()}n&2&&(o(3),d("matTooltip",x(h(4,2,"ACTION.DELETE"))))}function gg(n,l){n&1&&S(0,"mat-header-row")}function hg(n,l){if(n&1&&S(0,"mat-row"),n&2){let e=l.dataIndex;K("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}function yg(n,l){if(n&1&&(r(0,"div",99)(1,"mat-table",100),A(2,101),C(3,ig,2,1,"mat-header-cell",102)(4,og,2,1,"mat-cell",103),P(),A(5,104),C(6,rg,2,1,"mat-header-cell",102)(7,lg,2,1,"mat-cell",103),P(),A(8,105),C(9,sg,2,1,"mat-header-cell",102)(10,cg,2,1,"mat-cell",103),P(),A(11,106),C(12,pg,2,1,"mat-header-cell",102)(13,ug,2,1,"mat-cell",103),P(),A(14,107),C(15,fg,3,3,"mat-header-cell",102)(16,_g,6,4,"mat-cell",108),P(),C(17,gg,1,0,"mat-header-row",109)(18,hg,1,4,"mat-row",110),a()()),n&2){let e=p();o(),d("dataSource",e.optionTabledataSource),o(16),d("matHeaderRowDef",e.optionTabledisplayedColumns),o(),d("matRowDefColumns",e.optionTabledisplayedColumns)}}function Sg(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function Cg(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}function vg(n,l){if(n&1){let e=E();r(0,"div",116)(1,"button",117),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",118),c(3),g(4,"translate"),a(),r(5,"button",119),S(6,"i",120),c(7),g(8,"translate"),a()()}if(n&2){p();let e=R(10);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",h(8,5,"ACTION.SAVE")," ")}}var Ka=class Ka extends Ut{constructor(e,i,t,s,_,m,k,z,Se,qe,Ue){super(s,new ho,z,Ue);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateAccountExpertService=s;this.estateAccountAgencyExpertService=_;this.cmsToastrService=m;this.cmsStoreService=k;this.publicHelper=z;this.tokenHelper=Se;this.cdr=qe;this.translate=Ue;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfoAgencyUser=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ht;this.dataModel=new ho;this.dataEstateAccountAgencyExpertModel=new nc;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.optionTabledataSource=new mi;this.optionTabledisplayedColumns=["LinkEstateExpertId","LinkEstateAccountAgencyId","AccessShareUserToAgency","AccessShareAgencyToUser","Action"];this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Ni;this.dataEstateAccountAgencyModel=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.DataGetAccess(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllGroup()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateAccountExpertService.setAccessLoad(),this.estateAccountExpertService.setAccessDataType(Ne.Editor),this.estateAccountExpertService.ServiceGetOneById(this.requestId).subscribe({next:i=>{if(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess){let t=this.dataModel.geolocationlatitude,s=this.dataModel.geolocationlongitude;t>0&&s>0&&(this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:t,lon:s}),this.receiveMap()),this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage=""}else this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage);this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateAccountExpertService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(i=>{this.mapMarker=Zp.marker([i.lat,i.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",i=>{let t=i.latlng.lat,s=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&s===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=Zp.marker([t,s]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=s}))}receiveZoom(e){}onActionSelectorUser(e){this.dataModel.linkCmsUserId=null,e&&e.id>0&&(this.dataModel.linkCmsUserId=e.id)}onActionSelectorLocation(e){this.dataModel.linkLocationId=null,e&&e.id>0&&(this.dataModel.linkLocationId=e.id)}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex}DataGetAllGroup(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Getting_access_category_from_the_server").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new pe,t=new H;t.propertyName="linkEstateExpertId",t.value=this.requestId,i.filters.push(t),this.estateAccountAgencyExpertService.ServiceGetAll(i).subscribe({next:s=>{this.dataEstateAccountAgencyModel=s.listItems,this.optionTabledataSource.data=this.dataEstateAccountAgencyModel,s.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(_=>{this.formInfo.submitResultMessage=_}),this.formInfo.submitResultMessage=s.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}onActionDataGetAddGroup(){let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateAccountAgencyExpertService.ServiceAdd(this.dataEstateAccountAgencyExpertModel).subscribe({next:i=>{i.isSuccess?(this.formInfo.submitResultMessage="",this.optionTabledataSource.data=i.listItems,this.DataGetAllGroup()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionDataGetDeleteGroup(e){let i=this.constructor.name+"onActionDataGetDeleteGroup";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.estateAccountAgencyExpertService.ServiceDeleteEntity(e).subscribe({next:t=>{t.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAllGroup()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionSelectorEstateAgency(e){this.dataEstateAccountAgencyExpertModel.linkEstateAccountAgencyId=null,this.dataEstateAccountAgencyExpertModel.linkEstateExpertId=this.requestId,e&&e.id?.length>0&&(this.dataEstateAccountAgencyExpertModel.linkEstateAccountAgencyId=e.id)}onActionSelectorLocationWorkArea(e){this.dataModel.linkLocationWorkAreaIds=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}};Ka.\u0275fac=function(i){return new(i||Ka)(v(Te),v(be),v(X),v(Cn),v(ba),v(V),v(J),v(F),v(Z),v(O),v(L))},Ka.\u0275cmp=D({type:Ka,selectors:[["app-estate-account-expert-edit"]],viewQuery:function(i,t){if(i&1&&te(L_,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:133,vars:132,consts:[["vform","ngForm"],["stepper",""],["LinkMainImageId",""],["Title",""],["Description",""],["JoinId",""],["SerialRfId",""],["SerialNumber",""],["PlaceProduction",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["DescriptionHidden",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[3,"selectionChange"],["state","main",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],["for","dataModel.joinId",1,"color-highlight"],["matInput","","name","dataModel.joinId","type","text","minlength","0","maxlength","64","id","dataModel.joinId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.serialRfId",1,"color-highlight"],["matInput","","name","dataModel.serialRfId","type","text","minlength","0","maxlength","64","id","dataModel.serialRfId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.serialNumber",1,"color-highlight"],["matInput","","name","dataModel.serialNumber","type","text","minlength","0","maxlength","64","id","dataModel.serialNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.placeProduction",1,"color-highlight"],["matInput","","name","dataModel.placeProduction","type","text","minlength","0","maxlength","64","id","dataModel.placeProduction",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","name","dataModel.mobileNumber","type","text","minlength","0","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],["id","main-map",3,"map$","zoom$","optonCenter"],["state","file",3,"label"],[3,"optionChange","optionDisabled","optionPlaceholder"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["class","example-container mat-elevation-z8",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","file"],["class","form-actions",4,"ngIf"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.accessWatchRowSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.accessWatchRowSite","name","dataModel.accessWatchRowSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowSite",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgency","name","dataModel.accessWatchRowOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgent","name","dataModel.accessWatchRowOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgency","name","dataModel.accessAllowShareRowWatchOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgent","name","dataModel.accessAllowShareRowWatchOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaEstate",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaEstate","name","dataModel.notificationWorkAreaEstate",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaEstate",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaCustomerOrder",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaCustomerOrder","name","dataModel.notificationWorkAreaCustomerOrder",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaCustomerOrder",1,"custom-control-label"],["type","checkbox","id","dataEstateAccountAgencyExpertModel.accessShareAgencyToUser","name","dataEstateAccountAgencyExpertModel.accessShareAgencyToUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataEstateAccountAgencyExpertModel.accessShareAgencyToUser",1,"custom-control-label"],["data-trigger-switch","dataEstateAccountAgencyExpertModel.accessShareUserToAgency",1,"font-600","font-14"],["type","checkbox","id","dataEstateAccountAgencyExpertModel.accessShareUserToAgency","name","dataEstateAccountAgencyExpertModel.accessShareUserToAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataEstateAccountAgencyExpertModel.accessShareUserToAgency",1,"custom-control-label"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"example-container","mat-elevation-z8"],["multiTemplateDataRows","",3,"dataSource"],["matColumnDef","LinkEstateExpertId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkEstateAccountAgencyId"],["matColumnDef","AccessShareUserToAgency"],["matColumnDef","AccessShareAgencyToUser"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even",4,"matRowDef","matRowDefColumns"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],[3,"click"],["matTooltipPosition","before","aria-hidden","false",2,"color","red",3,"matTooltip"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",13),S(1,"app-progress-spinner",14),r(2,"div",15)(3,"p",16),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",17),r(9,"form",18,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"mat-vertical-stepper",19,1),I("selectionChange",function(m){u(s);let k=R(12);return f(t.onStepClick(m,k))}),r(13,"mat-step",20),g(14,"translate"),r(15,"div",21)(16,"a",22),g(17,"cmsthumbnail"),C(18,B_,2,4,"img",23),a()(),r(19,"div",24)(20,"label",25),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(21),g(22,"translate"),a(),r(23,"input",26,2),g(25,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(26,"cms-file-manager",27),I("itemSelected",function(m){return u(s),f(t.onActionFileSelected(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),a()(),r(27,"div",24)(28,"label",28),c(29),a(),r(30,"input",29,3),w("ngModelChange",function(m){return u(s),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),C(32,F_,1,0,"i",30)(33,O_,1,0,"i",31),S(34,"em"),C(35,N_,5,3,"mat-error",32),a(),r(36,"div",24)(37,"label",33),c(38),a(),r(39,"textarea",34,4),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(41,"            "),a(),r(42,"em"),c(43),a(),C(44,H_,5,3,"mat-error",32),a(),C(45,W_,9,9,"div",35)(46,G_,2,5,"app-cms-user-selector",36),r(47,"div",24)(48,"label",37),c(49),a(),r(50,"input",38,5),w("ngModelChange",function(m){return u(s),T(t.dataModel.joinId,m)||(t.dataModel.joinId=m),f(m)}),a(),r(52,"em"),c(53),a()(),r(54,"div",24)(55,"label",39),c(56),a(),r(57,"input",40,6),w("ngModelChange",function(m){return u(s),T(t.dataModel.serialRfId,m)||(t.dataModel.serialRfId=m),f(m)}),a(),r(59,"em"),c(60),a()(),r(61,"div",24)(62,"label",41),c(63),a(),r(64,"input",42,7),w("ngModelChange",function(m){return u(s),T(t.dataModel.serialNumber,m)||(t.dataModel.serialNumber=m),f(m)}),a(),r(66,"em"),c(67),a()(),r(68,"div",24)(69,"label",43),c(70),a(),r(71,"input",44,8),w("ngModelChange",function(m){return u(s),T(t.dataModel.placeProduction,m)||(t.dataModel.placeProduction=m),f(m)}),a(),r(73,"em"),c(74),a()(),r(75,"div",24)(76,"label",45),c(77),a(),r(78,"input",46,9),w("ngModelChange",function(m){return u(s),T(t.dataModel.phoneNumber,m)||(t.dataModel.phoneNumber=m),f(m)}),a(),r(80,"em"),c(81),a()(),r(82,"div",24)(83,"label",47),c(84),a(),r(85,"input",48,10),w("ngModelChange",function(m){return u(s),T(t.dataModel.mobileNumber,m)||(t.dataModel.mobileNumber=m),f(m)}),a(),r(87,"em"),c(88),a()(),r(89,"div",24)(90,"label",49),c(91),a(),r(92,"textarea",50,11),w("ngModelChange",function(m){return u(s),T(t.dataModel.address,m)||(t.dataModel.address=m),f(m)}),c(94,"            "),a(),C(95,U_,1,0,"i",30)(96,j_,1,0,"i",31),r(97,"em"),c(98),a(),C(99,q_,5,3,"mat-error",32),a(),r(100,"app-cms-location-selector",51),g(101,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorLocation(m))}),a(),S(102,"br"),c(103),g(104,"translate"),r(105,"app-cms-location-autocomplete",52),g(106,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorLocationWorkArea(m))}),a(),S(107,"hr"),C(108,Q_,8,2,"div",53)(109,z_,8,2,"div",53)(110,Y_,8,2,"div",53)(111,K_,8,2,"div",53)(112,Z_,8,2,"div",53),S(113,"hr"),C(114,J_,8,2,"div",53)(115,X_,8,2,"div",53),S(116,"hr"),r(117,"p"),c(118),g(119,"translate"),a(),r(120,"app-cms-map",54),I("map$",function(m){return u(s),f(t.receiveMap(m))})("zoom$",function(m){return u(s),f(t.receiveZoom(m))}),a()(),r(121,"mat-step",55),g(122,"translate"),S(123,"br"),r(124,"app-estate-account-expert-selector",56),g(125,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorEstateAgency(m))}),a(),C(126,$_,8,1,"div",53)(127,eg,8,1,"div",53)(128,tg,2,0,"button",57)(129,yg,19,3,"div",58),a(),C(130,Sg,2,0,"ng-template",59)(131,Cg,2,0,"ng-template",60),a(),C(132,vg,9,7,"div",61),a()()()}if(i&2){let s=R(31),_=R(40),m=R(51),k=R(58),z=R(65),Se=R(72),qe=R(79),Ue=R(86),ft=R(93);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,108,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(),d("ngStyle",ze(130,V_,t.tokenInfo.access.direction)),o(4),d("label",x(h(14,110,"TITLE.REQUIRED_INFORMATION"))),o(3),d("href",x(h(17,112,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(h(22,114,"TITLE.Profile_Picture")),o(2),d("placeholder",x(h(25,116,"TITLE.ID_OF_PROFILE_PHOTO_FILE"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(3),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),d("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessEditField)),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),d("ngIf",s.errors==null?null:s.errors.required),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),d("disabled",!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessEditField)),o(4),y("",_.value.length," / 500"),o(),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),o(),d("ngIf",t.tokenHelper.isAdminSite),o(3),M(t.fieldsInfo.joinId==null?null:t.fieldsInfo.joinId.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.joinId==null?null:t.fieldsInfo.joinId.fieldTitle)),b("ngModel",t.dataModel.joinId),d("disabled",!(t.fieldsInfo.joinId!=null&&t.fieldsInfo.joinId.accessEditField)),o(3),y("",m.value.length," / 64"),o(3),M(t.fieldsInfo.serialRfId==null?null:t.fieldsInfo.serialRfId.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.serialRfId==null?null:t.fieldsInfo.serialRfId.fieldTitle)),b("ngModel",t.dataModel.serialRfId),d("disabled",!(t.fieldsInfo.serialRfId!=null&&t.fieldsInfo.serialRfId.accessEditField)),o(3),y("",k.value.length," / 64"),o(3),M(t.fieldsInfo.serialNumber==null?null:t.fieldsInfo.serialNumber.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.serialNumber==null?null:t.fieldsInfo.serialNumber.fieldTitle)),b("ngModel",t.dataModel.serialNumber),d("disabled",!(t.fieldsInfo.serialNumber!=null&&t.fieldsInfo.serialNumber.accessEditField)),o(3),y("",z.value.length," / 64"),o(3),M(t.fieldsInfo.placeProduction==null?null:t.fieldsInfo.placeProduction.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.placeProduction==null?null:t.fieldsInfo.placeProduction.fieldTitle)),b("ngModel",t.dataModel.placeProduction),d("disabled",!(t.fieldsInfo.placeProduction!=null&&t.fieldsInfo.placeProduction.accessEditField)),o(3),y("",Se.value.length," / 64"),o(3),M(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle)),b("ngModel",t.dataModel.phoneNumber),d("disabled",!(t.fieldsInfo.phoneNumber!=null&&t.fieldsInfo.phoneNumber.accessEditField)),o(3),y("",qe.value.length," / 64"),o(3),M(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle)),b("ngModel",t.dataModel.mobileNumber),d("disabled",!(t.fieldsInfo.mobileNumber!=null&&t.fieldsInfo.mobileNumber.accessAddField)),o(3),y("",Ue.value.length," / 64"),o(3),M(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle)),b("ngModel",t.dataModel.address),d("disabled",!(t.fieldsInfo.address!=null&&t.fieldsInfo.address.accessAddField)),o(3),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",ft.value.length," / 500"),o(),d("ngIf",ft.errors==null?null:ft.errors.required),o(),d("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",h(101,118,"TITLE.Geographical_Region"))("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessAddField)),o(3),y(" ",h(104,120,"TITLE.COVERED_AREAS")," "),o(2),d("optionSelectForce",t.dataModel.linkLocationWorkAreaIds)("optionPlaceholder",h(106,122,"TITLE.Region")),o(3),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(2),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(3),y(" ",h(119,124,"TITLE.Click_on_the_map_to_specify_the_location")," "),o(2),d("optonCenter",t.mapOptonCenter),o(),d("label",x(h(122,126,"TITLE.Property_personnel"))),o(3),d("optionDisabled",!t.tokenHelper.isAdminSite)("optionPlaceholder",h(125,128,"TITLE.Property_agency")),o(2),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.dataEstateAccountAgencyExpertModel.linkEstateExpertId&&t.dataEstateAccountAgencyExpertModel.linkEstateExpertId.length>0),o(),d("ngIf",!t.publicHelper.processService.process.inRunAll),o(3),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[ce,N,it,ke,Y,qt,q,we,de,De,Pe,me,Re,Je,xe,Ee,Q,nn,on,tn,nt,rt,dt,at,ot,ct,lt,st,pt,mt,sr,ui,Jt,ln,Mi,U,ge,an,_t,xn,We,B,Me,dr,fr,_r],encapsulation:2});var Ac=Ka;function Ig(n,l){n&1&&S(0,"div",10)}var Za=class Za{constructor(l,e,i,t,s,_){this.headerService=l;this.publicHelper=e;this.cdr=i;this.translate=t;this.cmsToastrService=s;this.dialog=_;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new G;this.fieldsInfo=new Map;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent()}DataGetOneContent(){let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}};Za.\u0275fac=function(e){return new(e||Za)(v(On),v(F),v(O),v(L),v(V),v(Ae))},Za.\u0275cmp=D({type:Za,selectors:[["app-estate-account-agency-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:32,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],["class","td",4,"ngIf"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"td",2,"text-align","left"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(r(0,"div",0),S(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),S(6,"span",6),a(),r(7,"div",7)(8,"h5")(9,"b"),c(10),g(11,"translate"),a()()(),C(12,Ig,1,0,"div",8),a(),r(13,"div",4)(14,"div",5)(15,"b"),c(16),a(),c(17,": "),a(),r(18,"div",9),c(19),a(),S(20,"div",10)(21,"div",11),a(),r(22,"div",4)(23,"div",5)(24,"b"),c(25),a(),c(26," : "),a(),r(27,"div",9),c(28),a(),S(29,"div",12)(30,"div",11),a()()()(),S(31,"div",13)),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(5),d("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),M(h(11,8,"TITLE.Selected_Agency")),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(4),y("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," "),o(3),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),M(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(3),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[N,U,hn,B],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var Pc=Za;var Mg=()=>["expandedTitle"],bg=()=>["expandedDetail"],Tg=()=>[5,10,20,100],wg=n=>({display:n});function xg(n,l){if(n&1&&S(0,"app-estate-account-agency-header",47),n&2){let e=p();d("optionId",e.requestLinkAccountAgencyId)}}function Ag(n,l){if(n&1){let e=E();r(0,"div",18)(1,"a",48),I("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),S(2,"i",49)(3,"br"),a(),r(4,"p",21),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.ADD")," "))}function Pg(n,l){if(n&1){let e=E();r(0,"div",18)(1,"a",50),I("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",51)(3,"br"),a(),r(4,"p",21),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.EDIT")," "))}function Rg(n,l){if(n&1){let e=E();r(0,"div",18)(1,"a",52),I("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",53)(3,"br"),a(),r(4,"p",21),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.DELETE")," "))}function kg(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.MENU")," "))}function Dg(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"button",54),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelectActionMenu(t))}),S(2,"i",55),a()()}}function Lg(n,l){n&1&&(r(0,"mat-header-cell",56),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.PICTURE")," "))}function Vg(n,l){if(n&1&&(S(0,"img",58),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function Bg(n,l){if(n&1&&(r(0,"mat-cell"),C(1,Vg,2,4,"img",57),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function Fg(n,l){if(n&1&&(r(0,"mat-header-cell",56),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Og(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function Ng(n,l){if(n&1&&(r(0,"mat-header-cell",56),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Hg(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function Wg(n,l){if(n&1&&(r(0,"mat-header-cell",56),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.linkCmsUserId==null?null:e.fieldsInfo.linkCmsUserId.fieldTitle," ")}}function Gg(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"cmsuserinfo"),g(3,"async"),a()),n&2){let e=l.$implicit;o(),y(" ",h(3,3,h(2,1,e.linkCmsUserId))," ")}}function Ug(n,l){if(n&1&&(r(0,"mat-header-cell",56),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function jg(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.description," ")}}function qg(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.OPTION")," "))}function Qg(n,l){if(n&1&&(r(0,"mat-cell",59)(1,"button",60)(2,"mat-icon"),c(3,"more_vert"),a()(),S(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),d("matMenuTriggerFor",e)}}function zg(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"translate"),g(3,"cmsuserinfo"),g(4,"async"),a()),n&2){let e=l.$implicit;o(),ee(" ",h(2,2,"TITLE.User-Id-Cms"),": ",h(4,6,h(3,4,e.linkCmsUserId))," ")}}function Yg(n,l){if(n&1&&(S(0,"img",65),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function Kg(n,l){if(n&1&&(r(0,"tr"),S(1,"td"),r(2,"td"),c(3),a()()),n&2){let e=p().$implicit,i=p();o(3),ee(" ",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle," : ",e.description," ")}}function Zg(n,l){if(n&1&&(r(0,"tr"),S(1,"td"),r(2,"td"),c(3),g(4,"translate"),a()()),n&2){let e=p().$implicit;o(3),ee("",h(4,2,"TITLE.Address")," : ",e.address)}}function Jg(n,l){if(n&1&&(r(0,"tr"),S(1,"td"),r(2,"td"),c(3),a()()),n&2){let e=p().$implicit,i=p();o(3),ee(" ",i.fieldsInfo.phoneNumber==null?null:i.fieldsInfo.phoneNumber.fieldTitle," : ",e.phoneNumber," ")}}function Xg(n,l){if(n&1&&(r(0,"tr"),S(1,"td"),r(2,"td"),c(3),a()()),n&2){let e=p().$implicit,i=p();o(3),ee(" ",i.fieldsInfo.mobileNumber==null?null:i.fieldsInfo.mobileNumber.fieldTitle," : ",e.mobileNumber," ")}}function $g(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),C(5,Yg,2,4,"img",61),a(),r(6,"th")(7,"span",62),I("click",function(){u(e);let t=p();return f(t.onActionCopied())}),S(8,"i",63),a(),c(9),a()(),r(10,"tr"),S(11,"td"),r(12,"td"),c(13),a()(),C(14,Kg,4,2,"tr",64)(15,Zg,5,4,"tr",64)(16,Jg,4,2,"tr",64)(17,Xg,4,2,"tr",64),r(18,"tr"),S(19,"td")(20,"td"),a()()()()}if(n&2){let e=l.$implicit,i=p();o(5),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),o(2),d("cdkCopyToClipboard",e.id),o(2),y(" ",e.id," "),o(4),ee("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : ",e.title),o(),d("ngIf",e.description),o(),d("ngIf",e.address),o(),d("ngIf",e.phoneNumber),o(),d("ngIf",e.mobileNumber)}}function eh(n,l){n&1&&S(0,"mat-header-row")}function th(n,l){if(n&1){let e=E();r(0,"mat-row",66),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function ih(n,l){if(n&1){let e=E();r(0,"mat-row",67),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function nh(n,l){if(n&1){let e=E();r(0,"mat-row",68),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),d("ngStyle",ze(3,wg,e.expanded===!0?"":"none"))}}var Ja=class Ja extends xt{constructor(e,i,t,s,_,m,k,z,Se,qe,Ue,ft,jt){super(e,new ho,ft,_,k);this.contentService=e;this.cmsConfirmationDialogService=i;this.cmsToastrService=t;this.router=s;this.tokenHelper=_;this.cdr=m;this.translate=k;this.activatedRoute=z;this.cmsStoreService=Se;this.themeService=qe;this.pageInfo=Ue;this.publicHelper=ft;this.dialog=jt;this.requestLinkAccountAgencyId="";this.constructorInfoAreaId=this.constructor.name;this.optionloadComponent=!0;this.optionloadByRoute=!0;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new _a;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","title","Description","action_menu"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","title","Description","action_menu"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ft=>this.onSubmitOptionsSearch(Ft)},this.requestLinkAccountAgencyId=this.activatedRoute.snapshot.paramMap.get("LinkAccountAgencyId"),this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=$.Descending}set optionLinkLocationWorkAreaIds(e){this.requestLinkLocationWorkAreaIds=[],e&&e.length>0&&(this.requestLinkLocationWorkAreaIds=e),this.requestLinkLocationWorkAreaIds&&this.requestLinkLocationWorkAreaIds.length>0&&(this.filteModelContent.linkLocationWorkAreaIds=this.requestLinkLocationWorkAreaIds)}set optionLinkLocationWorkAreaId(e){this.requestLinkLocationWorkAreaIds=[],e&&e>0&&this.requestLinkLocationWorkAreaIds.push(e),this.requestLinkLocationWorkAreaIds&&this.requestLinkLocationWorkAreaIds.length>0&&(this.filteModelContent.linkLocationWorkAreaIds=this.requestLinkLocationWorkAreaIds)}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){if(this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),!this.optionloadComponent)return;this.tableRowsSelected=[],this.onActionTableRowSelect(new ho);let e=this.constructor.name+"main";if(this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0,this.requestLinkAccountAgencyId&&this.requestLinkAccountAgencyId.length>0){let t=new H;t.propertyAnyName="AccountAgencyUser",t.propertyName="linkEstateAccountAgencyId",t.value=this.requestLinkAccountAgencyId,this.filteModelContent.filters.push(t)}let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.setAccessDataType(Ne.Editor),this.contentService.ServiceGetAll(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=$.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorLocation(e){this.filteModelContent.linkLocationIds=e}onActionSelectorLocationWorkArea(e){this.filteModelContent.linkLocationWorkAreaIds=e}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(xc,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ac,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_,!1)}})}}).catch(()=>{})}onActionButtonAgencyRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/account-agency/LinkAccountUserId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/account-agency/LinkAccountUserId",this.tableRowSelected.id])}onActionButtonHistoryRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-history/LinkEstateExpertId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-history/LinkEstateExpertId",this.tableRowSelected.id])}onActionButtonPropertyRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property/LinkEstateExpertId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkEstateExpertId",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new H;_.propertyName="recordStatus",_.value=Qe.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onActionButtonReload(){this.optionloadComponent=!0,this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Ja.\u0275fac=function(i){return new(i||Ja)(v(Cn),v(wt),v(V),v(Ze),v(Z),v(O),v(L),v(Kt),v(J),v(Vt),v(St),v(F),v(Ae))},Ja.\u0275cmp=D({type:Ja,selectors:[["app-estate-account-expert-list"]],inputs:{optionloadComponent:"optionloadComponent",optionloadByRoute:"optionloadByRoute",optionLinkLocationWorkAreaIds:"optionLinkLocationWorkAreaIds",optionLinkLocationWorkAreaId:"optionLinkLocationWorkAreaId"},standalone:!1,features:[oe],decls:94,vars:59,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-home","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-clock-rotate-left","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","title"],["matColumnDef","LinkCmsUserId"],["matColumnDef","Description"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=E();C(0,xg,1,1,"app-estate-account-agency-header",3),r(1,"app-cms-html-list",4),w("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),I("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(2,5),c(3," -------------------------------------- "),P(),$e(4,6)(5,7),A(6,8),r(7,"a",9),I("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(8,"i",10),a(),r(9,"a",9),I("click",function(){return u(s),f(t.onActionButtonReload())}),S(10,"i",11),a(),P(),A(11,12),r(12,"a",13),I("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(13,"mat-slide-toggle",14),c(14),g(15,"translate"),a(),r(16,"a",13),I("click",function(){return u(s),f(t.onActionButtonStatist())}),S(17,"mat-slide-toggle",14),c(18),g(19,"translate"),a(),P(),A(20,15),C(21,Ag,7,3,"div",16),P(),A(22,17),C(23,Pg,7,3,"div",16)(24,Rg,7,3,"div",16),r(25,"div",18)(26,"a",19),I("click",function(m){return u(s),f(t.onActionButtonAgencyRow(t.tableRowSelected,m))}),S(27,"i",20)(28,"br"),a(),r(29,"p",21),c(30),g(31,"translate"),a()(),r(32,"div",18)(33,"a",19),I("click",function(m){return u(s),f(t.onActionButtonHistoryRow(t.tableRowSelected,m))}),S(34,"i",22)(35,"br"),a(),r(36,"p",21),c(37),g(38,"translate"),a()(),r(39,"div",18)(40,"a",19),I("click",function(m){return u(s),f(t.onActionButtonPropertyRow(t.tableRowSelected,m))}),S(41,"i",20)(42,"br"),a(),r(43,"p",21),c(44),g(45,"translate"),a()(),P(),A(46,23),r(47,"app-cms-search-list",24),w("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),c(48),g(49,"translate"),r(50,"app-cms-location-autocomplete",25),g(51,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorLocation(m))}),a(),S(52,"br"),c(53),g(54,"translate"),r(55,"app-cms-location-autocomplete",25),g(56,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorLocationWorkArea(m))}),a(),S(57,"hr"),a(),r(58,"app-cms-statist-list",24),w("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),P(),A(59,26),r(60,"mat-table",27,0),I("matSortChange",function(){u(s);let m=R(61);return f(t.onTableSortData(m))}),A(62,28),C(63,kg,3,3,"mat-header-cell",29)(64,Dg,3,0,"mat-cell",30),P(),A(65,31),C(66,Lg,3,3,"mat-header-cell",32)(67,Bg,2,1,"mat-cell",30),P(),A(68,33),C(69,Fg,2,1,"mat-header-cell",32)(70,Og,2,1,"mat-cell",30),P(),A(71,34),C(72,Ng,2,1,"mat-header-cell",32)(73,Hg,2,1,"mat-cell",30),P(),A(74,35),C(75,Wg,2,1,"mat-header-cell",32)(76,Gg,4,5,"mat-cell",30),P(),A(77,36),C(78,Ug,2,1,"mat-header-cell",32)(79,jg,2,1,"mat-cell",30),P(),A(80,37),C(81,qg,3,3,"mat-header-cell",29)(82,Qg,6,1,"mat-cell",38),P(),A(83,39),C(84,zg,5,8,"mat-cell",30),P(),A(85,40),C(86,$g,21,9,"mat-cell",30),P(),C(87,eh,1,0,"mat-header-row",41)(88,th,1,2,"mat-row",42)(89,ih,1,2,"mat-row",43)(90,nh,1,5,"mat-row",44),a(),P(),A(91,45),r(92,"mat-paginator",46,1),I("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),P(),a()}i&2&&(d("ngIf",(t.requestLinkAccountAgencyId==null?null:t.requestLinkAccountAgencyId.length)>0),o(),d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","accountuser.content.list"),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(9),K("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),d("checked",t.optionsSearch.data.show),o(),y("",h(15,38,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",h(19,40,"ACTION.STATIST")," "),o(3),d("ngIf",t.optionloadByRoute&&t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),y(" ",h(31,42,"ACTION.AGENCY")," "),o(7),y(" ",h(38,44,"ACTION.HISTORY")," "),o(7),y(" ",h(45,46,"ACTION.CONNECT_TO_PROPERTY")," "),o(3),b("options",t.optionsSearch),o(),y(" ",h(49,48,"ACTION.LOCATION")," "),o(2),d("optionSelectForce",t.filteModelContent.linkLocationIds)("optionPlaceholder",h(51,50,"TITLE.Region")),o(3),y(" ",h(54,52,"ACTION.LOCATION_WORK_ACTIVITY")," "),o(2),d("optionSelectForce",t.filteModelContent.linkLocationWorkAreaIds)("optionPlaceholder",h(56,54,"TITLE.Region")),o(3),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(27),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",se(56,Mg)),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(),d("matRowDefColumns",se(57,bg)),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(58,Tg)))},dependencies:[N,it,Je,Ee,Dt,Lt,Mt,yt,bt,Tt,nt,rt,dt,at,ot,ct,lt,st,pt,mt,fi,At,Pt,Jt,Rt,kt,Pc,We,B,Li,Me],encapsulation:2});var So=Ja;var oh=["vform"],rh=()=>["fa"];function ah(n,l){n&1&&S(0,"i",31)}function lh(n,l){n&1&&S(0,"i",32)}function sh(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function dh(n,l){n&1&&S(0,"i",31)}function ch(n,l){n&1&&S(0,"i",32)}function ph(n,l){n&1&&(r(0,"mat-error"),c(1," TitleResourceLanguage is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function mh(n,l){if(n&1){let e=E();r(0,"div",14)(1,"label",33),c(2),a(),r(3,"input",34,4),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),f(t)}),a(),C(5,dh,1,0,"i",17)(6,ch,1,0,"i",18),r(7,"em"),c(8),a(),C(9,ph,5,3,"mat-error",19),a()}if(n&2){let e=R(4),i=p(),t=R(15);o(2),M(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titleResourceLanguage),d("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessEditField)),o(2),d("ngIf",!t.value),o(),d("ngIf",t.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function uh(n,l){if(n&1){let e=E();r(0,"div",14)(1,"label",35),c(2),a(),r(3,"input",36,5),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),I("iconPickerSelect",function(t){u(e);let s=p();return f(s.onIconPickerSelect(t))}),a(),r(5,"span",37),S(6,"i",38),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",se(9,rh))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),o(3),d("ngClass",e.dataModel.iconFont)}}function fh(n,l){if(n&1){let e=E();r(0,"div",39)(1,"label",40),c(2),a(),r(3,"div",41)(4,"div",42)(5,"input",43,6),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),a()(),r(7,"div",44),S(8,"ngx-mat-color-toggle",45)(9,"ngx-mat-color-picker",46,7),a()()()}if(n&2){let e=R(10),i=p();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ve("background",i.dataModel.iconColor),d("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),d("for",e),o(),d("touchUi",!0)("color","primary")}}function _h(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function gh(n,l){if(n&1&&(S(0,"img",47),g(1,"cmsthumbnail")),n&2){let e=p();d("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function hh(n,l){if(n&1){let e=E();r(0,"div",48)(1,"button",49),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",50),c(3),g(4,"translate"),a(),r(5,"button",51),S(6,"i",52),c(7),g(8,"translate"),a()()}if(n&2){p();let e=R(10);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",h(8,5,"ACTION.SAVE")," ")}}var Xa=class Xa extends Bt{constructor(e,i,t,s,_,m,k,z){super(s,new Pn,m,z);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateActivityTypeService=s;this.cmsToastrService=_;this.publicHelper=m;this.cdr=k;this.translate=z;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new G;this.dataModel=new Pn;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateActivityTypeService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Xa.\u0275fac=function(i){return new(i||Xa)(v(Te),v(be),v(X),v($n),v(V),v(F),v(O),v(L))},Xa.\u0275cmp=D({type:Xa,selectors:[["app-estate-activity-type-add"]],viewQuery:function(i,t){if(i&1&&te(oh,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:46,vars:45,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["TitleResourceLanguage",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",8),S(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",12),r(9,"form",13,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"div",14)(12,"label",15),c(13),a(),r(14,"input",16,1),w("ngModelChange",function(m){return u(s),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),C(16,ah,1,0,"i",17)(17,lh,1,0,"i",18),r(18,"em"),c(19),a(),C(20,sh,5,3,"mat-error",19),a(),C(21,mh,10,9,"div",20)(22,uh,7,10,"div",20)(23,fh,11,11,"div",21),r(24,"div",14)(25,"label",22),c(26),a(),r(27,"textarea",23,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(29,"        "),a(),r(30,"em"),c(31),a(),C(32,_h,5,3,"mat-error",19),a(),r(33,"div",24)(34,"a",25),g(35,"cmsthumbnail"),C(36,gh,2,4,"img",26),a()(),r(37,"div",14)(38,"label",27),c(39),g(40,"translate"),a(),r(41,"input",28,3),g(43,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(44,"cms-file-manager",29),I("itemSelected",function(m){return u(s),f(t.onActionFileSelected(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),a()(),C(45,hh,9,7,"div",30),a()()()}if(i&2){let s=R(15),_=R(28);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,37,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(5),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.accessWatchField),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",_.value.length," / 500"),o(),d("ngIf",_.errors==null?null:_.errors.required),o(2),d("href",x(h(35,39,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(h(40,41,"TITLE.PICTURE")),o(2),d("placeholder",x(h(43,43,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[ce,N,ke,Y,q,we,de,De,Pe,me,Re,xe,tt,Q,U,ge,si,li,ai,ri,_t,B,Me],encapsulation:2});var $a=Xa;var yh=["vform"],Sh=()=>["fa"];function Ch(n,l){n&1&&S(0,"i",35)}function vh(n,l){n&1&&S(0,"i",36)}function Ih(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),M(h(4,2,"MESSAGE.required"))}}function Eh(n,l){n&1&&S(0,"i",35)}function Mh(n,l){n&1&&S(0,"i",36)}function bh(n,l){n&1&&(r(0,"mat-error"),c(1," TitleResourceLanguage is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function Th(n,l){if(n&1){let e=E();r(0,"div",14)(1,"label",37),c(2),a(),r(3,"input",38,5),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),I("iconPickerSelect",function(t){u(e);let s=p();return f(s.onIconPickerSelect(t))}),a(),r(5,"span",39),S(6,"i",40),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",se(9,Sh))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessEditField)),o(3),d("ngClass",e.dataModel.iconFont)}}function wh(n,l){if(n&1){let e=E();r(0,"div",41)(1,"label",42),c(2),a(),r(3,"div",43)(4,"div",44)(5,"input",45,6),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),a()(),r(7,"div",46),S(8,"ngx-mat-color-toggle",47)(9,"ngx-mat-color-picker",48,7),a()()()}if(n&2){let e=R(10),i=p();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ve("background",i.dataModel.iconColor),d("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),o(3),d("for",e),o(),d("touchUi",!0)("color","primary")}}function xh(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function Ah(n,l){if(n&1&&(S(0,"img",49),g(1,"cmsthumbnail")),n&2){let e=p();d("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function Ph(n,l){if(n&1){let e=E();r(0,"div",50)(1,"button",51),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",52),c(3),g(4,"translate"),a(),r(5,"button",53),S(6,"i",54),c(7),g(8,"translate"),a()()}if(n&2){p();let e=R(10);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",h(8,5,"ACTION.SAVE")," ")}}var el=class el extends Ut{constructor(e,i,t,s,_,m,k,z,Se){super(s,new Pn,k,Se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateActivityTypeService=s;this.estatePropertyTypeService=_;this.cmsToastrService=m;this.publicHelper=k;this.cdr=z;this.translate=Se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ht;this.dataModel=new Pn;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.dataEstatePropertyTypeUsageIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateActivityTypeService.setAccessLoad(),this.estateActivityTypeService.setAccessDataType(Ne.Editor),this.estateActivityTypeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new pe,t=new H;t.propertyName="LinkActivityTypeId",t.value=this.requestId,i.filters.push(t),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:s=>{this.dataEstatePropertyTypeModel=s.listItems;let _=[];this.dataEstatePropertyTypeModel.forEach(m=>{_.push(m.linkPropertyTypeUsageId)}),this.dataEstatePropertyTypeUsageIds=_,s.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.submitResultMessage=m}),this.formInfo.submitResultMessage=s.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateActivityTypeService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorUserCategorySelect(e){this.dataEstatePropertyTypeUsageModel=e}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};el.\u0275fac=function(i){return new(i||el)(v(Te),v(be),v(X),v($n),v(_n),v(V),v(F),v(O),v(L))},el.\u0275cmp=D({type:el,selectors:[["app-estate-activity-type-edit"]],viewQuery:function(i,t){if(i&1&&te(yh,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:59,vars:55,consts:[["vform","ngForm"],["Title",""],["TitleResourceLanguage",""],["Description",""],["LinkMainImageId",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","cmsKeyboardForce","en","name","dataModel.titleML","type","text","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",8),S(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",12),r(9,"form",13,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"div",14)(12,"label",15),c(13),a(),r(14,"input",16,1),w("ngModelChange",function(m){return u(s),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),C(16,Ch,1,0,"i",17)(17,vh,1,0,"i",18),r(18,"em"),c(19),a(),C(20,Ih,5,4,"mat-error",19),a(),r(21,"div",14)(22,"label",20),c(23,"TitleML"),a(),r(24,"input",21),w("ngModelChange",function(m){return u(s),T(t.dataModel.titleML,m)||(t.dataModel.titleML=m),f(m)}),a()(),r(25,"div",14)(26,"label",22),c(27),a(),r(28,"input",23,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.titleResourceLanguage,m)||(t.dataModel.titleResourceLanguage=m),f(m)}),a(),C(30,Eh,1,0,"i",17)(31,Mh,1,0,"i",18),r(32,"em"),c(33),a(),C(34,bh,5,3,"mat-error",19),a(),C(35,Th,7,10,"div",24)(36,wh,11,11,"div",25),r(37,"div",14)(38,"label",26),c(39),a(),r(40,"textarea",27,3),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(42,"        "),a(),r(43,"em"),c(44),a(),C(45,xh,5,3,"mat-error",19),a(),r(46,"div",28)(47,"a",29),g(48,"cmsthumbnail"),C(49,Ah,2,4,"img",30),a()(),r(50,"div",14)(51,"label",31),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(52),g(53,"translate"),a(),r(54,"input",32,4),g(56,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(57,"cms-file-manager",33),I("itemSelected",function(m){return u(s),f(t.onActionFileSelected(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),a()(),C(58,Ph,9,7,"div",34),a()()()}if(i&2){let s=R(15),_=R(29),m=R(41);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,47,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(5),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(4),b("ngModel",t.dataModel.titleML),d("disabled",!0),o(3),M(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle)),b("ngModel",t.dataModel.titleResourceLanguage),d("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessEditField)),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",_.value.length," / 100"),o(),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.accessWatchField),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",m.value.length," / 500"),o(),d("ngIf",m.errors==null?null:m.errors.required),o(2),d("href",x(h(48,49,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(h(53,51,"TITLE.PICTURE")),o(2),d("placeholder",x(h(56,53,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[ce,N,ke,Y,q,we,de,De,Pe,me,Re,xe,tt,Q,U,ge,jr,si,li,ai,ri,_t,B,Me],encapsulation:2});var tl=el;var Rh=()=>[5,10,20,100];function kh(n,l){if(n&1){let e=E();r(0,"div",17)(1,"a",40),I("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),S(2,"i",41)(3,"br"),a(),r(4,"p",20),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.ADD")," "))}function Dh(n,l){if(n&1){let e=E();r(0,"div",17)(1,"a",42),I("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",43)(3,"br"),a(),r(4,"p",20),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.EDIT")," "))}function Lh(n,l){if(n&1){let e=E();r(0,"div",17)(1,"a",44),I("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",45)(3,"br"),a(),r(4,"p",20),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.DELETE")," "))}function Vh(n,l){n&1&&(r(0,"mat-header-cell",46),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.PICTURE")," "))}function Bh(n,l){if(n&1&&(S(0,"img",48),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function Fh(n,l){if(n&1&&(r(0,"mat-cell"),C(1,Bh,2,4,"img",47),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function Oh(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle," ")}}function Nh(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",49),a()),n&2){let e=l.$implicit;o(),ve("color",e.iconColor),d("ngClass",e.iconFont)}}function Hh(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Wh(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",49),a()),n&2){let e=l.$implicit;o(),ve("color",e.iconColor),d("ngClass",e.iconFont)}}function Gh(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Uh(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function jh(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function qh(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.description," ")}}function Qh(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.OPTION")," "))}function zh(n,l){if(n&1&&(r(0,"mat-cell",50)(1,"button",51)(2,"mat-icon"),c(3,"more_vert"),a()(),S(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),d("matMenuTriggerFor",e)}}function Yh(n,l){n&1&&S(0,"mat-header-row")}function Kh(n,l){if(n&1){let e=E();r(0,"mat-row",52),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var il=class il extends xt{constructor(e,i,t,s,_,m,k,z,Se,qe,Ue,ft){super(e,new Pn,Ue,_,k);this.contentService=e;this.cmsConfirmationDialogService=i;this.cmsToastrService=t;this.router=s;this.tokenHelper=_;this.cdr=m;this.translate=k;this.cmsStoreService=z;this.themeService=Se;this.pageInfo=qe;this.publicHelper=Ue;this.dialog=ft;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new pe;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","IconFont","Description"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","IconFont","Description"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:jt=>this.onSubmitOptionsSearch(jt)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=$.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Pn);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=$.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open($a,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(tl,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_,!1)}})}}).catch(()=>{})}onActionButtonContentDetailList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/estate/property-detail/LinkActivityTypeId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-detail/LinkActivityTypeId/",this.tableRowSelected.id])}onActionButtonContentList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/estate/property/LinkActivityTypeId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkActivityTypeId/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new H;_.propertyName="recordStatus",_.value=Qe.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};il.\u0275fac=function(i){return new(i||il)(v($n),v(wt),v(V),v(Ze),v(Z),v(O),v(L),v(J),v(Vt),v(St),v(F),v(Ae))},il.\u0275cmp=D({type:il,selectors:[["app-estate-activity-type-list"]],standalone:!1,features:[oe],decls:67,vars:36,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-buildings","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","id"],["matColumnDef","title"],["matColumnDef","Description"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=E();r(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),I("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(1,4),c(2," -------------------------------------- "),P(),$e(3,5)(4,6),A(5,7),r(6,"a",8),I("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(7,"i",9),a(),r(8,"a",8),I("click",function(){return u(s),f(t.onActionButtonReload())}),S(9,"i",10),a(),P(),A(10,11),r(11,"a",12),I("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(12,"mat-slide-toggle",13),c(13),g(14,"translate"),a(),r(15,"a",12),I("click",function(){return u(s),f(t.onActionButtonStatist())}),S(16,"mat-slide-toggle",13),c(17),g(18,"translate"),a(),P(),A(19,14),C(20,kh,7,3,"div",15),P(),A(21,16),C(22,Dh,7,3,"div",15)(23,Lh,7,3,"div",15),r(24,"div",17)(25,"a",18),I("click",function(m){return u(s),f(t.onActionButtonContentDetailList(t.tableRowSelected,m))}),S(26,"i",19)(27,"br"),a(),r(28,"p",20),c(29),g(30,"translate"),a()(),r(31,"div",17)(32,"a",18),I("click",function(m){return u(s),f(t.onActionButtonContentList(t.tableRowSelected,m))}),S(33,"i",21)(34,"br"),a(),r(35,"p",20),c(36),g(37,"translate"),a()(),P(),A(38,22),r(39,"app-cms-search-list",23),w("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),a(),r(40,"app-cms-statist-list",23),w("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),P(),A(41,24),r(42,"mat-table",25,0),I("matSortChange",function(){u(s);let m=R(43);return f(t.onTableSortData(m))}),A(44,26),C(45,Vh,3,3,"mat-header-cell",27)(46,Fh,2,1,"mat-cell",28),P(),A(47,29),C(48,Oh,2,1,"mat-header-cell",27)(49,Nh,2,3,"mat-cell",28),P(),A(50,30),C(51,Hh,2,1,"mat-header-cell",27)(52,Wh,2,3,"mat-cell",28),P(),A(53,31),C(54,Gh,2,1,"mat-header-cell",27)(55,Uh,2,1,"mat-cell",28),P(),A(56,32),C(57,jh,2,1,"mat-header-cell",27)(58,qh,2,1,"mat-cell",28),P(),A(59,33),C(60,Qh,3,3,"mat-header-cell",34)(61,zh,6,1,"mat-cell",35),P(),C(62,Yh,1,0,"mat-header-row",36)(63,Kh,1,2,"mat-row",37),a(),P(),A(64,38),r(65,"mat-paginator",39,1),I("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),P(),a()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),K("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),d("checked",t.optionsSearch.data.show),o(),y("",h(14,27,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",h(18,29,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),y(" ",h(30,31,"ACTION.DETAIL")," "),o(7),y(" ",h(37,33,"ACTION.PROPERTYLIST")," "),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(20),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(35,Rh)))},dependencies:[ce,N,Je,Ee,Dt,Lt,Mt,yt,bt,Tt,nt,rt,dt,at,ot,ct,lt,st,pt,mt,At,Pt,Rt,kt,B,Me],encapsulation:2});var Rc=il;var Jh=["vform"];function Xh(n,l){n&1&&S(0,"i",39)}function $h(n,l){n&1&&S(0,"i",40)}function e1(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function t1(n,l){if(n&1){let e=E();r(0,"div",15)(1,"label",35),c(2),a(),r(3,"input",36,3),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),a(),C(5,Xh,1,0,"i",37)(6,$h,1,0,"i",38),r(7,"em"),c(8),a(),C(9,e1,5,3,"mat-error",18),a()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle))("disabled",x(!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField))),b("ngModel",i.dataModel.title),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function i1(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function n1(n,l){if(n&1){let e=E();r(0,"div",15)(1,"label",41),c(2),a(),r(3,"input",42,4),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.stationLevel,t)||(s.dataModel.stationLevel=t),f(t)}),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.stationLevel==null?null:e.fieldsInfo.stationLevel.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.stationLevel==null?null:e.fieldsInfo.stationLevel.fieldTitle)),b("ngModel",e.dataModel.stationLevel),d("disabled",!(e.fieldsInfo.stationLevel!=null&&e.fieldsInfo.stationLevel.accessEditField))}}function o1(n,l){if(n&1&&(r(0,"mat-list-item",43),c(1),a()),n&2){let e=l.$implicit;o(),M(e)}}function r1(n,l){if(n&1){let e=E();r(0,"div",15)(1,"label",44),c(2),a(),r(3,"input",45,5),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.viewLevel,t)||(s.dataModel.viewLevel=t),f(t)}),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.viewLevel==null?null:e.fieldsInfo.viewLevel.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.viewLevel==null?null:e.fieldsInfo.viewLevel.fieldTitle)),b("ngModel",e.dataModel.viewLevel),d("disabled",!(e.fieldsInfo.viewLevel!=null&&e.fieldsInfo.viewLevel.accessEditField))}}function a1(n,l){if(n&1&&(r(0,"mat-list-item",43),c(1),a()),n&2){let e=l.$implicit;o(),M(e)}}function l1(n,l){if(n&1){let e=E();r(0,"div",15)(1,"label",46),c(2),a(),r(3,"input",47,6),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.dayOfActivity,t)||(s.dataModel.dayOfActivity=t),f(t)}),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.dayOfActivity==null?null:e.fieldsInfo.dayOfActivity.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.dayOfActivity==null?null:e.fieldsInfo.dayOfActivity.fieldTitle)),b("ngModel",e.dataModel.dayOfActivity),d("disabled",!(e.fieldsInfo.dayOfActivity!=null&&e.fieldsInfo.dayOfActivity.accessEditField))}}function s1(n,l){if(n&1){let e=E();r(0,"div",15)(1,"label",48),c(2),a(),r(3,"input",49,7),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.salePrice,t)||(s.dataModel.salePrice=t),f(t)}),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.salePrice==null?null:e.fieldsInfo.salePrice.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.salePrice==null?null:e.fieldsInfo.salePrice.fieldTitle)),b("ngModel",e.dataModel.salePrice),d("disabled",!(e.fieldsInfo.salePrice!=null&&e.fieldsInfo.salePrice.accessEditField))}}function d1(n,l){if(n&1&&(S(0,"img",50),g(1,"cmsthumbnail")),n&2){let e=p();d("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function c1(n,l){if(n&1&&(r(0,"button",55),S(1,"i",56),c(2),g(3,"translate"),a()),n&2){p(2);let e=R(10);d("disabled",!e.form.valid),o(2),y(" ",h(3,2,"ACTION.SAVE")," ")}}function p1(n,l){if(n&1){let e=E();r(0,"div",51)(1,"button",52),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",53),c(3),g(4,"translate"),a(),C(5,c1,4,4,"button",54),a()}if(n&2){let e=p();o(3),y(" ",h(4,2,"ACTION.CANCEL")," "),o(2),d("ngIf",e.formInfo.submitButtonEnabled)}}var nl=class nl extends Bt{constructor(e,i,t,s,_,m,k,z){super(s,new Rn,m,z);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateAdsTypeService=s;this.cmsToastrService=_;this.publicHelper=m;this.cdr=k;this.translate=z;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new G;this.dataModel=new Rn;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateAdsTypeService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}};nl.\u0275fac=function(i){return new(i||nl)(v(Te),v(be),v(X),v(eo),v(V),v(F),v(O),v(L))},nl.\u0275cmp=D({type:nl,selectors:[["app-estate-ads-type-add"]],viewQuery:function(i,t){if(i&1&&te(Jh,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:49,vars:45,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],["StationLevel",""],["ViewLevel",""],["DayOfActivity",""],["SalePrice",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[4,"ngIf"],["role","list"],["role","listitem",4,"ngFor","ngForOf"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.paymentForMainSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.paymentForMainSite","name","dataModel.paymentForMainSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.paymentForMainSite",1,"custom-control-label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","selectFileType","isPopup","openForm","openDirectUploadView","tree","openFilemanagerButtonLabelKey","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.stationLevel",1,"color-highlight"],["matInput","","type","number","name","dataModel.stationLevel","id","dataModel.stationLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["role","listitem"],["for","dataModel.viewLevel",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewLevel","id","dataModel.viewLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.dayOfActivity",1,"color-highlight"],["matInput","","type","number","name","dataModel.dayOfActivity","id","dataModel.dayOfActivity",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.salePrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.salePrice","id","dataModel.salePrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",8),S(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",12),r(9,"form",13,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),C(11,t1,10,10,"div",14),r(12,"div",15)(13,"label",16),c(14),a(),r(15,"textarea",17,1),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),a(),r(17,"em"),c(18),a(),C(19,i1,5,3,"mat-error",18),a(),C(20,n1,5,5,"div",14),r(21,"mat-list",19),C(22,o1,2,1,"mat-list-item",20),a(),C(23,r1,5,5,"div",14),r(24,"mat-list",19),C(25,a1,2,1,"mat-list-item",20),a(),C(26,l1,5,5,"div",14)(27,s1,5,5,"div",14),r(28,"div",21)(29,"div",22)(30,"h5",23),c(31),a()(),r(32,"div",24)(33,"div",25)(34,"input",26),w("ngModelChange",function(m){return u(s),T(t.dataModel.paymentForMainSite,m)||(t.dataModel.paymentForMainSite=m),f(m)}),a(),S(35,"label",27),a()()(),r(36,"div",28)(37,"a",29),g(38,"cmsthumbnail"),C(39,d1,2,4,"img",30),a()(),r(40,"div",15)(41,"label",31),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(42),g(43,"translate"),a(),r(44,"input",32,2),g(46,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(47,"cms-file-manager",33),I("itemSelected",function(m){return u(s),f(t.onActionFileSelected(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),a()(),C(48,p1,6,4,"div",34),a()()()}if(i&2){let s=R(16);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,37,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(3),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle))("disabled",x(!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessAddField))),b("ngModel",t.dataModel.description),o(3),y("",s.value.length," / 500"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.fieldsInfo.stationLevel==null?null:t.fieldsInfo.stationLevel.accessWatchField),o(2),d("ngForOf",t.dataModel.stationLevelDescription),o(),d("ngIf",t.fieldsInfo.viewLevel==null?null:t.fieldsInfo.viewLevel.accessWatchField),o(2),d("ngForOf",t.dataModel.viewLevelDescription),o(),d("ngIf",t.fieldsInfo.dayOfActivity==null?null:t.fieldsInfo.dayOfActivity.accessWatchField),o(),d("ngIf",t.fieldsInfo.salePrice==null?null:t.fieldsInfo.salePrice.accessWatchField),o(4),y(" ",t.fieldsInfo.paymentForMainSite==null?null:t.fieldsInfo.paymentForMainSite.fieldTitle," "),o(3),b("ngModel",t.dataModel.paymentForMainSite),o(3),d("href",x(h(38,39,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(h(43,41,"TITLE.Original_Photo")),o(2),d("placeholder",x(h(46,43,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("selectFileType",t.selectFileTypeMainImage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("openDirectUploadView",!0)("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openFilemanagerButtonView",!1),o(),d("ngIf",!t.publicHelper.processService.process.inRunAll)}},dependencies:[He,N,ke,Y,Wt,qt,q,we,de,De,Pe,me,Re,xe,Q,Sc,Cc,U,ge,Gt,_t,B,Me],encapsulation:2});var kc=nl;var m1=["vform"];function u1(n,l){n&1&&S(0,"i",39)}function f1(n,l){n&1&&S(0,"i",40)}function _1(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function g1(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function h1(n,l){if(n&1){let e=E();r(0,"div",14)(1,"label",41),c(2),a(),r(3,"input",42,4),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.stationLevel,t)||(s.dataModel.stationLevel=t),f(t)}),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.stationLevel==null?null:e.fieldsInfo.stationLevel.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.stationLevel==null?null:e.fieldsInfo.stationLevel.fieldTitle)),b("ngModel",e.dataModel.stationLevel),d("disabled",!(e.fieldsInfo.stationLevel!=null&&e.fieldsInfo.stationLevel.accessEditField))}}function y1(n,l){if(n&1&&(r(0,"mat-list-item",43),c(1),a()),n&2){let e=l.$implicit;o(),M(e)}}function S1(n,l){if(n&1){let e=E();r(0,"div",14)(1,"label",44),c(2),a(),r(3,"input",45,5),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.viewLevel,t)||(s.dataModel.viewLevel=t),f(t)}),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.viewLevel==null?null:e.fieldsInfo.viewLevel.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.viewLevel==null?null:e.fieldsInfo.viewLevel.fieldTitle)),b("ngModel",e.dataModel.viewLevel),d("disabled",!(e.fieldsInfo.viewLevel!=null&&e.fieldsInfo.viewLevel.accessEditField))}}function C1(n,l){if(n&1&&(r(0,"mat-list-item",43),c(1),a()),n&2){let e=l.$implicit;o(),M(e)}}function v1(n,l){if(n&1){let e=E();r(0,"div",14)(1,"label",46),c(2),a(),r(3,"input",47,6),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.dayOfActivity,t)||(s.dataModel.dayOfActivity=t),f(t)}),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.dayOfActivity==null?null:e.fieldsInfo.dayOfActivity.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.dayOfActivity==null?null:e.fieldsInfo.dayOfActivity.fieldTitle)),b("ngModel",e.dataModel.dayOfActivity),d("disabled",!(e.fieldsInfo.dayOfActivity!=null&&e.fieldsInfo.dayOfActivity.accessEditField))}}function I1(n,l){if(n&1){let e=E();r(0,"div",14)(1,"label",48),c(2),a(),r(3,"input",49,7),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.salePrice,t)||(s.dataModel.salePrice=t),f(t)}),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.salePrice==null?null:e.fieldsInfo.salePrice.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.salePrice==null?null:e.fieldsInfo.salePrice.fieldTitle)),b("ngModel",e.dataModel.salePrice),d("disabled",!(e.fieldsInfo.salePrice!=null&&e.fieldsInfo.salePrice.accessEditField))}}function E1(n,l){if(n&1&&(S(0,"img",50),g(1,"cmsthumbnail")),n&2){let e=p();d("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function M1(n,l){if(n&1&&(r(0,"button",55),S(1,"i",56),c(2),g(3,"translate"),a()),n&2){p(2);let e=R(10);d("disabled",!e.form.valid),o(2),y(" ",h(3,2,"ACTION.SAVE")," ")}}function b1(n,l){if(n&1){let e=E();r(0,"div",51)(1,"button",52),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",53),c(3),g(4,"translate"),a(),C(5,M1,4,4,"button",54),a()}if(n&2){let e=p();o(3),y(" ",h(4,2,"ACTION.CANCEL")," "),o(2),d("ngIf",e.formInfo.submitButtonEnabled)}}var ol=class ol extends Ut{constructor(e,i,t,s,_,m,k,z){super(s,new Rn,m,z);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateAdsTypeService=s;this.cmsToastrService=_;this.publicHelper=m;this.cdr=k;this.translate=z;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ht;this.dataModel=new Rn;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateAdsTypeService.setAccessLoad(),this.estateAdsTypeService.setAccessDataType(Ne.Editor),this.estateAdsTypeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateAdsTypeService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}};ol.\u0275fac=function(i){return new(i||ol)(v(Te),v(be),v(X),v(eo),v(V),v(F),v(O),v(L))},ol.\u0275cmp=D({type:ol,selectors:[["app-estate-ads-type-edit"]],viewQuery:function(i,t){if(i&1&&te(m1,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:58,vars:50,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["StationLevel",""],["ViewLevel",""],["DayOfActivity",""],["SalePrice",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["role","list"],["role","listitem",4,"ngFor","ngForOf"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.includeAllSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.paymentForMainSite","name","dataModel.paymentForMainSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.paymentForMainSite",1,"custom-control-label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","selectFileType","isPopup","openForm","openDirectUploadView","tree","openFilemanagerButtonLabelKey","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.stationLevel",1,"color-highlight"],["matInput","","type","number","name","dataModel.stationLevel","id","dataModel.stationLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["role","listitem"],["for","dataModel.viewLevel",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewLevel","id","dataModel.viewLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.dayOfActivity",1,"color-highlight"],["matInput","","type","number","name","dataModel.dayOfActivity","id","dataModel.dayOfActivity",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.salePrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.salePrice","id","dataModel.salePrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",8),S(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",12),r(9,"form",13,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"div",14)(12,"label",15),c(13),a(),r(14,"input",16,1),w("ngModelChange",function(m){return u(s),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),C(16,u1,1,0,"i",17)(17,f1,1,0,"i",18),r(18,"em"),c(19),a(),C(20,_1,5,3,"mat-error",19),a(),r(21,"div",14)(22,"label",20),c(23),a(),r(24,"textarea",21,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),a(),r(26,"em"),c(27),a(),C(28,g1,5,3,"mat-error",19),a(),C(29,h1,5,5,"div",22),r(30,"mat-list",23),C(31,y1,2,1,"mat-list-item",24),a(),C(32,S1,5,5,"div",22),r(33,"mat-list",23),C(34,C1,2,1,"mat-list-item",24),a(),C(35,v1,5,5,"div",22)(36,I1,5,5,"div",22),r(37,"div",25)(38,"div",26)(39,"h5",27),c(40),a()(),r(41,"div",28)(42,"div",29)(43,"input",30),w("ngModelChange",function(m){return u(s),T(t.dataModel.paymentForMainSite,m)||(t.dataModel.paymentForMainSite=m),f(m)}),a(),S(44,"label",31),a()()(),r(45,"div",32)(46,"a",33),g(47,"cmsthumbnail"),C(48,E1,2,4,"img",34),a()(),r(49,"div",14)(50,"label",35),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(51),g(52,"translate"),a(),r(53,"input",36,3),g(55,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(56,"cms-file-manager",37),I("itemSelected",function(m){return u(s),f(t.onActionFileSelected(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),a()(),C(57,b1,6,4,"div",38),a()()()}if(i&2){let s=R(15),_=R(25);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,42,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(5),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(3),y("",_.value.length," / 500"),o(),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.fieldsInfo.stationLevel==null?null:t.fieldsInfo.stationLevel.accessWatchField),o(2),d("ngForOf",t.dataModel.stationLevelDescription),o(),d("ngIf",t.fieldsInfo.viewLevel==null?null:t.fieldsInfo.viewLevel.accessWatchField),o(2),d("ngForOf",t.dataModel.viewLevelDescription),o(),d("ngIf",t.fieldsInfo.dayOfActivity==null?null:t.fieldsInfo.dayOfActivity.accessWatchField),o(),d("ngIf",t.fieldsInfo.salePrice==null?null:t.fieldsInfo.salePrice.accessWatchField),o(4),y(" ",t.fieldsInfo.paymentForMainSite==null?null:t.fieldsInfo.paymentForMainSite.fieldTitle," "),o(3),b("ngModel",t.dataModel.paymentForMainSite),o(3),d("href",x(h(47,44,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(h(52,46,"TITLE.PHOTO_FILE")),o(2),d("placeholder",x(h(55,48,"TITLE.Icon_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("selectFileType",t.selectFileTypeMainImage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("openDirectUploadView",!0)("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openFilemanagerButtonView",!1),o(),d("ngIf",!t.publicHelper.processService.process.inRunAll)}},dependencies:[He,N,ke,Y,Wt,qt,q,we,de,De,Pe,me,Re,xe,Q,Sc,Cc,U,ge,Gt,_t,B,Me],encapsulation:2});var Dc=ol;var T1=()=>[5,10,20,100];function w1(n,l){if(n&1){let e=E();r(0,"div",17)(1,"a",42),I("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),S(2,"i",43)(3,"br"),a(),r(4,"p",20),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.ADD")," "))}function x1(n,l){if(n&1){let e=E();r(0,"div",17)(1,"a",44),I("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",45)(3,"br"),a(),r(4,"p",20),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.EDIT")," "))}function A1(n,l){if(n&1){let e=E();r(0,"div",17)(1,"a",46),I("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",47)(3,"br"),a(),r(4,"p",20),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.DELETE")," "))}function P1(n,l){n&1&&(r(0,"mat-header-cell",48),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.PICTURE")," "))}function R1(n,l){if(n&1&&(S(0,"img",50),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function k1(n,l){if(n&1&&(r(0,"mat-cell"),C(1,R1,2,4,"img",49),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function D1(n,l){if(n&1&&(r(0,"mat-header-cell",48),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function L1(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function V1(n,l){if(n&1&&(r(0,"mat-header-cell",48),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.linkPropertyId==null?null:e.fieldsInfo.linkPropertyId.fieldTitle," ")}}function B1(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.linkPropertyId," ")}}function F1(n,l){if(n&1&&(r(0,"mat-header-cell",48),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function O1(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function N1(n,l){if(n&1&&(r(0,"mat-header-cell",48),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.stationLevel==null?null:e.fieldsInfo.stationLevel.fieldTitle," ")}}function H1(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.stationLevel," ")}}function W1(n,l){if(n&1&&(r(0,"mat-header-cell",48),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.viewLevel==null?null:e.fieldsInfo.viewLevel.fieldTitle," ")}}function G1(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.viewLevel," ")}}function U1(n,l){if(n&1&&(r(0,"mat-header-cell",48),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.dayOfActivity==null?null:e.fieldsInfo.dayOfActivity.fieldTitle," ")}}function j1(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.dayOfActivity," ")}}function q1(n,l){if(n&1&&(r(0,"mat-header-cell",48),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.salePrice==null?null:e.fieldsInfo.salePrice.fieldTitle," ")}}function Q1(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.salePrice," ")}}function z1(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.OPTION")," "))}function Y1(n,l){if(n&1&&(r(0,"mat-cell",51)(1,"button",52)(2,"mat-icon"),c(3,"more_vert"),a()(),S(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),d("matMenuTriggerFor",e)}}function K1(n,l){n&1&&S(0,"mat-header-row")}function Z1(n,l){if(n&1){let e=E();r(0,"mat-row",53),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var rl=class rl extends xt{constructor(e,i,t,s,_,m,k,z,Se,qe,Ue,ft){super(e,new Rn,Ue,s,z);this.contentService=e;this.cmsConfirmationDialogService=i;this.cmsToastrService=t;this.tokenHelper=s;this.router=_;this.cdr=m;this.themeService=k;this.translate=z;this.cmsStoreService=Se;this.pageInfo=qe;this.publicHelper=Ue;this.dialog=ft;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new pe;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","StationLevel","ViewLevel","LinkPropertyId","DayOfActivity","SalePrice"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","StationLevel","SalePrice"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:jt=>this.onSubmitOptionsSearch(jt)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=$.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Rn);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess&&(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=$.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(kc,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Dc,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_,!1)}})}}).catch(()=>{})}onActionButtonContentList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/estate/property/LinkAdsTypeId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkAdsTypeId/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new H;_.propertyName="recordStatus",_.value=Qe.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};rl.\u0275fac=function(i){return new(i||rl)(v(eo),v(wt),v(V),v(Z),v(Ze),v(O),v(Vt),v(L),v(J),v(St),v(F),v(Ae))},rl.\u0275cmp=D({type:rl,selectors:[["app-estate-ads-type-list"]],standalone:!1,features:[oe],decls:69,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","LinkPropertyId"],["matColumnDef","title"],["matColumnDef","StationLevel"],["matColumnDef","ViewLevel"],["matColumnDef","DayOfActivity"],["matColumnDef","SalePrice"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=E();r(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),I("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(1,4),c(2," -------------------------------------- "),P(),$e(3,5)(4,6),A(5,7),r(6,"a",8),I("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(7,"i",9),a(),r(8,"a",8),I("click",function(){return u(s),f(t.onActionButtonReload())}),S(9,"i",10),a(),P(),A(10,11),r(11,"a",12),I("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(12,"mat-slide-toggle",13),c(13),g(14,"translate"),a(),r(15,"a",12),I("click",function(){return u(s),f(t.onActionButtonStatist())}),S(16,"mat-slide-toggle",13),c(17),g(18,"translate"),a(),P(),A(19,14),C(20,w1,7,3,"div",15),P(),A(21,16),C(22,x1,7,3,"div",15)(23,A1,7,3,"div",15),r(24,"div",17)(25,"a",18),I("click",function(m){return u(s),f(t.onActionButtonContentList(t.tableRowSelected,m))}),S(26,"i",19)(27,"br"),a(),r(28,"p",20),c(29),g(30,"translate"),a()(),P(),A(31,21),r(32,"app-cms-search-list",22),w("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),a(),r(33,"app-cms-statist-list",22),w("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),P(),A(34,23),r(35,"mat-table",24,0),I("matSortChange",function(){u(s);let m=R(36);return f(t.onTableSortData(m))}),A(37,25),C(38,P1,3,3,"mat-header-cell",26)(39,k1,2,1,"mat-cell",27),P(),A(40,28),C(41,D1,2,1,"mat-header-cell",26)(42,L1,2,1,"mat-cell",27),P(),A(43,29),C(44,V1,2,1,"mat-header-cell",26)(45,B1,2,1,"mat-cell",27),P(),A(46,30),C(47,F1,2,1,"mat-header-cell",26)(48,O1,2,1,"mat-cell",27),P(),A(49,31),C(50,N1,2,1,"mat-header-cell",26)(51,H1,2,1,"mat-cell",27),P(),A(52,32),C(53,W1,2,1,"mat-header-cell",26)(54,G1,2,1,"mat-cell",27),P(),A(55,33),C(56,U1,2,1,"mat-header-cell",26)(57,j1,2,1,"mat-cell",27),P(),A(58,34),C(59,q1,2,1,"mat-header-cell",26)(60,Q1,2,1,"mat-cell",27),P(),A(61,35),C(62,z1,3,3,"mat-header-cell",36)(63,Y1,6,1,"mat-cell",37),P(),C(64,K1,1,0,"mat-header-row",38)(65,Z1,1,2,"mat-row",39),a(),P(),A(66,40),r(67,"mat-paginator",41,1),I("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),P(),a()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),K("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),d("checked",t.optionsSearch.data.show),o(),y("",h(14,26,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",h(18,28,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),y(" ",h(30,30,"ACTION.Property_to_be_traded")," "),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(29),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(32,T1)))},dependencies:[N,Je,Ee,Dt,Lt,Mt,yt,bt,Tt,nt,rt,dt,at,ot,ct,lt,st,pt,mt,At,Pt,Rt,kt,B,Me],encapsulation:2});var Lc=rl;var I0=["*","*"];function J1(n,l){if(n&1&&(r(0,"label",16),c(1),a()),n&2){let e=p(2);d("for",Ie("app-cms-site-selector-",e.id)),o(),M(e.optionLabel)}}function X1(n,l){if(n&1&&(S(0,"img",17),g(1,"cmsthumbnail")),n&2){let e=p(2);d("src",x(h(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),j)}}function $1(n,l){if(n&1&&(S(0,"img",17),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function ey(n,l){if(n&1&&(r(0,"mat-option",18),C(1,$1,2,4,"img",7),r(2,"span"),c(3),a()()),n&2){let e=l.$implicit,i=p(2);d("value",e)("disabled",i.optionDisabled),o(),d("ngIf",e.linkMainImageIdSrc),o(2),M(i.displayOption(e))}}function ty(n,l){n&1&&S(0,"i",19)}function iy(n,l){n&1&&S(0,"i",20)}function ny(n,l){if(n&1){let e=E();r(0,"i",21),I("click",function(){u(e);let t=p(2);return f(t.onActionSelectClear())}),a()}}function oy(n,l){n&1&&(r(0,"em"),c(1),g(2,"translate"),a()),n&2&&(o(),y("(",h(2,1,"TITLE.Necessary"),")"))}function ry(n,l){if(n&1){let e=E();r(0,"div",3),S(1,"app-progress-spinner",4),C(2,J1,2,3,"label",5),r(3,"span",6),C(4,X1,2,4,"img",7),c(5," \xA0"),a(),S(6,"input",8),r(7,"mat-autocomplete",9,0),I("optionSelected",function(t){u(e);let s=p();return f(s.onActionSelect(t.option.value))}),C(9,ey,4,4,"mat-option",10),g(10,"async"),a(),C(11,ty,1,0,"i",11)(12,iy,1,0,"i",12)(13,ny,1,0,"i",13),r(14,"i",14),g(15,"translate"),I("click",function(){u(e);let t=p();return f(t.onActionButtonReload())}),a(),C(16,oy,3,3,"em",15),pi(17),a()}if(n&2){let e=R(8),i=p();o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(2),d("ngIf",i.dataModelSelect&&(i.dataModelSelect==null?null:i.dataModelSelect.linkMainImageIdSrc)),o(2),d("placeholder",x(i.optionPlaceholder))("id",Ie("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",e)("required",i.optionRequired),vt("disabled",i.optionDisabled?!0:null),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",h(10,21,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),K("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),d("title",x(h(15,23,"ACTION.RELOAD"))),o(2),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)==0))}}function ay(n,l){if(n&1){let e=E();r(0,"div",24)(1,"a",25),I("click",function(){let t=u(e).$implicit,s=p(2);return f(s.onActionSelect(t))}),c(2),a()()}if(n&2){let e=l.$implicit,i=p(2);o(),d("ngClass",e.id===(i.dataModelSelect==null?null:i.dataModelSelect.id)?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),vt("disabled",i.optionDisabled?!0:null),o(),M(i.displayOption(e))}}function ly(n,l){if(n&1&&(r(0,"div",22),C(1,ay,3,3,"div",23),g(2,"async"),pi(3,1),a()),n&2){let e=p();o(),d("ngForOf",h(2,1,e.filteredOptions))}}var zr=class zr{constructor(l,e,i,t,s,_,m,k){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.tokenHelper=_;this.cmsStoreService=m;this.categoryService=k;this.id=++zr.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=new Pn;this.formControl=new Et;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new Xe;this.optionTypeView=1;this.typeUsageId="";this.optionReload=()=>this.onActionButtonReload();this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}set optionTypeUsageId(l){this.typeUsageId=l,this.loadOptions()}ngOnInit(){this.loadOptions(),this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(()=>ae(this,null,function*(){this.loadOptions()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(ei(""),$t(1500),xi(),ti(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.titleML:void 0}displayOption(l){return l?l.titleML:void 0}DataGetAll(l){return ae(this,null,function*(){let e=new pe;e.rowPerPage=20,e.accessLoad=!0;let i=new H,t=new H;l&&l.length>0&&(i.propertyName="title",i.value=l,i.searchType=Fe.Contains,i.clauseType=Be.Or,t.filters.push(i),i=new H,i.propertyName="id",i.value=l,i.searchType=Fe.Equal,i.clauseType=Be.Or,t.filters.push(i),e.filters.push(t)),this.typeUsageId&&this.typeUsageId.length>0&&(i=new H,i.propertyName="PropertyTypes",i.propertyAnyName="LinkPropertyTypeUsageId",i.value=this.typeUsageId,i.searchType=Fe.Equal,i.clauseType=Be.And,e.filters.push(i));let s=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(_=>{this.publicHelper.processService.processStart(s,_,this.constructorInfoAreaId)}),yield wi(this.categoryService.ServiceGetAll(e)).then(_=>(this.dataModelResult=_,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(s),_.listItems))})}onActionSelect(l){this.optionDisabled||(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(Ot(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if((!l||typeof l=="string"&&l.length===0)&&(this.dataModelSelect=new Pn),typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof Pn){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Pn,this.loadOptions()}};zr.nextId=0,zr.\u0275fac=function(e){return new(e||zr)(v(X),v(V),v(O),v(F),v(L),v(Z),v(J),v($n))},zr.\u0275cmp=D({type:zr,selectors:[["app-estate-activity-type-selector"]],inputs:{optionSelectForce:"optionSelectForce",optionTypeUsageId:"optionTypeUsageId",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionTypeView:"optionTypeView",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:I0,decls:2,vars:2,consts:[["matauto","matAutocomplete"],["class","input-style has-borders has-icon input-style-always-active validate-field mb-4 loader-container",4,"ngIf"],["class","row mb-0",4,"ngIf"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"],[1,"row","mb-0"],["class","col-xl-2 col-lg-3 col-md-4 col-sm-12 pe-1",4,"ngFor","ngForOf"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"]],template:function(e,i){e&1&&(vi(I0),C(0,ry,18,25,"div",1)(1,ly,4,3,"div",2)),e&2&&(d("ngIf",i.optionTypeView===1),o(),d("ngIf",i.optionTypeView===2))},dependencies:[ce,He,N,Y,q,de,zt,ni,ii,oi,en,Q,U,We,B,Me],encapsulation:2});var al=zr;var sy=["*"];function dy(n,l){if(n&1&&(r(0,"label",14),c(1),a()),n&2){let e=p();d("for",Ie("app-cms-site-selector-",e.id)),o(),M(e.optionLabel)}}function cy(n,l){if(n&1&&(S(0,"img",15),g(1,"cmsthumbnail")),n&2){let e=p();d("src",x(h(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),j)}}function py(n,l){if(n&1&&(S(0,"img",15),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function my(n,l){if(n&1&&(r(0,"mat-option",16),C(1,py,2,4,"img",5),r(2,"span"),c(3),a()()),n&2){let e=l.$implicit,i=p();d("value",e)("disabled",i.optionDisabled),o(),d("ngIf",e.linkMainImageIdSrc),o(2),M(i.displayOption(e))}}function uy(n,l){n&1&&S(0,"i",17)}function fy(n,l){n&1&&S(0,"i",18)}function _y(n,l){if(n&1){let e=E();r(0,"i",19),I("click",function(){u(e);let t=p();return f(t.onActionSelectClear())}),a()}}function gy(n,l){n&1&&(r(0,"em"),c(1),g(2,"translate"),a()),n&2&&(o(),y("(",h(2,1,"TITLE.Necessary"),")"))}var Yr=class Yr{constructor(l,e,i,t,s,_,m,k){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.tokenHelper=s;this.cmsStoreService=_;this.translate=m;this.categoryService=k;this.id=++Yr.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=new Ki;this.formControl=new Et;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new Xe;this.optionReload=()=>this.onActionButtonReload();this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(()=>ae(this,null,function*(){this.loadOptions()}))),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(ei(""),$t(1500),xi(),ti(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title+" # "+l.caseCode:void 0}displayOption(l){return l?l.title+" # "+l.caseCode:void 0}DataGetAll(l){return ae(this,null,function*(){let e=new _o;e.rowPerPage=20,e.accessLoad=!0;let i=new H;i.propertyName="Name",i.value=l,i.searchType=Fe.Contains,e.filters.push(i),i=new H,i.propertyName="id",i.value=l,i.searchType=Fe.Equal,i.clauseType=Be.Or,e.filters.push(i),i=new H,i.propertyName="CaseCode",i.value=l,i.searchType=Fe.Equal,i.clauseType=Be.Or,e.filters.push(i),i=new H,i.propertyName="title",i.value=l,i.searchType=Fe.Contains,i.clauseType=Be.Or,e.filters.push(i),l?.length>0&&(i=new H,i.propertyName="LinkCmsUserId",i.value=l,i.searchType=Fe.Equal,i.clauseType=Be.Or,e.filters.push(i),i=new H,i.propertyName="aboutCustomerTel",i.value=l,i.searchType=Fe.Contains,i.clauseType=Be.Or,e.filters.push(i),i=new H,i.propertyName="aboutCustomerMobile",i.value=l,i.searchType=Fe.Contains,i.clauseType=Be.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield wi(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.optionDisabled||(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(Ot(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof Ki){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Ki,this.loadOptions()}};Yr.nextId=0,Yr.\u0275fac=function(e){return new(e||Yr)(v(X),v(V),v(O),v(F),v(Z),v(J),v(L),v(gi))},Yr.\u0275cmp=D({type:Yr,selectors:[["app-estate-property-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:sy,decls:18,vars:25,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=E();vi(),r(0,"div",1),S(1,"app-progress-spinner",2),C(2,dy,2,3,"label",3),r(3,"span",4),C(4,cy,2,4,"img",5),c(5," \xA0"),a(),S(6,"input",6),r(7,"mat-autocomplete",7,0),I("optionSelected",function(_){return u(t),f(i.onActionSelect(_.option.value))}),C(9,my,4,4,"mat-option",8),g(10,"async"),a(),C(11,uy,1,0,"i",9)(12,fy,1,0,"i",10)(13,_y,1,0,"i",11),r(14,"i",12),g(15,"translate"),I("click",function(){return u(t),f(i.onActionButtonReload())}),a(),C(16,gy,3,3,"em",13),pi(17),a()}if(e&2){let t=R(8);o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(2),d("ngIf",i.dataModelSelect&&(i.dataModelSelect==null?null:i.dataModelSelect.linkMainImageIdSrc)),o(2),d("placeholder",x(i.optionPlaceholder))("id",Ie("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),vt("disabled",i.optionDisabled?!0:null),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",h(10,21,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),K("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),d("title",x(h(15,23,"ACTION.RELOAD"))),o(2),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0))}},dependencies:[He,N,Y,q,de,zt,ni,ii,oi,en,Q,U,We,B,Me],encapsulation:2});var yr=Yr;var hy=["*"];function yy(n,l){if(n&1&&(r(0,"label",12),c(1),a()),n&2){let e=p();d("for",Ie("app-cms-site-selector-",e.id)),o(),M(e.optionLabel)}}function Sy(n,l){if(n&1&&(r(0,"mat-option",13)(1,"span"),c(2),a()()),n&2){let e=l.$implicit,i=p();d("value",e)("disabled",i.optionDisabled),o(2),M(i.displayOption(e))}}function Cy(n,l){n&1&&S(0,"i",14)}function vy(n,l){n&1&&S(0,"i",15)}function Iy(n,l){if(n&1){let e=E();r(0,"i",16),I("click",function(){u(e);let t=p();return f(t.onActionSelectClear())}),a()}}function Ey(n,l){n&1&&(r(0,"em"),c(1),g(2,"translate"),a()),n&2&&(o(),y("(",h(2,1,"TITLE.Necessary"),")"))}var Kr=class Kr{constructor(l,e,i,t,s,_){this.coreEnumService=l;this.cmsToastrService=e;this.translate=i;this.cdr=t;this.publicHelper=s;this.categoryService=_;this.id=++Kr.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=new kn;this.formControl=new Et;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new Xe;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(ei(""),$t(1500),xi(),ti(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return ae(this,null,function*(){let e=new or;e.rowPerPage=20,e.accessLoad=!0;let i=new H;l&&l.length>0&&(i.propertyName="title",i.value=l,i.searchType=Fe.Contains,i.clauseType=Be.Or,e.filters.push(i),i=new H,i.propertyName="id",i.value=l,i.searchType=Fe.Equal,i.clauseType=Be.Or,e.filters.push(i),i=new H,i.propertyName="description",i.value=l,i.searchType=Fe.Contains,i.clauseType=Be.Or,e.filters.push(i),i=new H,i.propertyName="descriptionHidden",i.value=l,i.searchType=Fe.Contains,i.clauseType=Be.Or,e.filters.push(i),i=new H,i.propertyName="LinkCmsUserId",i.value=l,i.searchType=Fe.Equal,i.clauseType=Be.Or,e.filters.push(i),i=new H,i.propertyName="contactMobiles",i.value=l,i.searchType=Fe.Contains,i.clauseType=Be.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield wi(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.optionDisabled||(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(Ot(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof kn){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new kn,this.loadOptions()}};Kr.nextId=0,Kr.\u0275fac=function(e){return new(e||Kr)(v(X),v(V),v(L),v(O),v(F),v($i))},Kr.\u0275cmp=D({type:Kr,selectors:[["app-estate-customer-order-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:hy,decls:15,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=E();vi(),r(0,"div",1),S(1,"app-progress-spinner",2),C(2,yy,2,3,"label",3),S(3,"input",4),r(4,"mat-autocomplete",5,0),I("optionSelected",function(_){return u(t),f(i.onActionSelect(_.option.value))}),C(6,Sy,3,3,"mat-option",6),g(7,"async"),a(),C(8,Cy,1,0,"i",7)(9,vy,1,0,"i",8)(10,Iy,1,0,"i",9),r(11,"i",10),g(12,"translate"),I("click",function(){return u(t),f(i.onActionButtonReload())}),a(),C(13,Ey,3,3,"em",11),pi(14),a()}if(e&2){let t=R(5);o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(),d("placeholder",x(i.optionPlaceholder))("id",Ie("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),vt("disabled",i.optionDisabled?!0:null),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",h(7,20,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),K("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),d("title",x(h(12,22,"ACTION.RELOAD"))),o(2),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0))}},dependencies:[He,N,Y,q,de,zt,ni,ii,oi,Q,U,We,B],encapsulation:2});var ll=Kr;var My=["*"];function by(n,l){if(n&1&&(S(0,"img",14),g(1,"cmsthumbnail")),n&2){let e=p();d("src",x(h(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),j)}}function Ty(n,l){if(n&1&&(S(0,"img",14),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function wy(n,l){if(n&1&&(r(0,"mat-option",15),C(1,Ty,2,4,"img",4),r(2,"span"),c(3),a()()),n&2){let e=l.$implicit,i=p();d("value",e)("disabled",i.optionDisabled),o(),d("ngIf",e.linkMainImageIdSrc),o(2),M(i.displayOption(e))}}function xy(n,l){n&1&&S(0,"i",16)}function Ay(n,l){n&1&&S(0,"i",17)}function Py(n,l){if(n&1){let e=E();r(0,"i",18),I("click",function(){u(e);let t=p();return f(t.onActionSelectClear())}),a()}}function Ry(n,l){n&1&&(r(0,"em"),c(1),g(2,"translate"),a()),n&2&&(o(),y("(",h(2,1,"TITLE.Necessary"),")"))}var sl=class sl{constructor(l,e,i,t,s,_){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.categoryService=_;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=new go;this.formControl=new Et;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionRequired=!1;this.optionChange=new Xe;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.forceSelect=l,this.onActionSelectForce(l)}set optionSelectUserId(l){(!this.forceSelect||this.forceSelect!==null)&&this.DataGetAll(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(ei(""),$t(1500),xi(),ti(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return ae(this,null,function*(){let e=new Aa;e.rowPerPage=20,e.accessLoad=!0;let i=new H;typeof l=="string"&&l.length>0&&(i.propertyName="title",i.value=l,i.searchType=Fe.Contains,e.filters.push(i),i=new H,i.propertyName="id",i.value=l,i.searchType=Fe.Equal,i.clauseType=Be.Or,e.filters.push(i)),l?.length>0&&(i=new H,i.propertyName="LinkCmsUserId",i.value=l,i.searchType=Fe.Equal,i.clauseType=Be.Or,e.filters.push(i),i=new H,i.propertyName="mobileNumber",i.value=l,i.searchType=Fe.Contains,i.clauseType=Be.Or,e.filters.push(i),i=new H,i.propertyName="phoneNumber",i.value=l,i.searchType=Fe.Contains,i.clauseType=Be.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield wi(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.optionDisabled||(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(Ot(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof go){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new go,this.loadOptions()}};sl.\u0275fac=function(e){return new(e||sl)(v(X),v(V),v(O),v(F),v(L),v(On))},sl.\u0275cmp=D({type:sl,selectors:[["app-estate-account-agency-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionRequired:"optionRequired",optionReload:"optionReload",optionSelectForce:"optionSelectForce",optionSelectUserId:"optionSelectUserId"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:My,decls:19,vars:23,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["matPrefix",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required"],["for","forminput",1,"color-highlight"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=E();vi(),r(0,"div",1),S(1,"app-progress-spinner",2),r(2,"span",3),C(3,by,2,4,"img",4),c(4," \xA0"),a(),S(5,"input",5),r(6,"label",6),c(7),a(),r(8,"mat-autocomplete",7,0),I("optionSelected",function(_){return u(t),f(i.onActionSelect(_.option.value))}),C(10,wy,4,4,"mat-option",8),g(11,"async"),a(),C(12,xy,1,0,"i",9)(13,Ay,1,0,"i",10)(14,Py,1,0,"i",11),r(15,"i",12),g(16,"translate"),I("click",function(){return u(t),f(i.onActionButtonReload())}),a(),C(17,Ry,3,3,"em",13),pi(18),a()}if(e&2){let t=R(9);o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(2),d("ngIf",i.dataModelSelect&&(i.dataModelSelect==null?null:i.dataModelSelect.linkMainImageIdSrc)),o(2),d("placeholder",x(i.optionPlaceholder))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),vt("disabled",i.optionDisabled?!0:null),o(2),M(i.optionLabel),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",h(11,19,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),K("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),d("title",x(h(16,21,"ACTION.RELOAD"))),o(2),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id.length<=0))}},dependencies:[He,N,Y,q,de,zt,ni,ii,oi,en,Q,U,We,B,Me],encapsulation:2});var ao=sl;var ky=["vform"],Dy=n=>({direction:n});function Ly(n,l){n&1&&S(0,"i",28)}function Vy(n,l){n&1&&S(0,"i",29)}function By(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function Fy(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function Oy(n,l){n&1&&(r(0,"mat-error"),c(1," DescriptionHidden is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function Ny(n,l){if(n&1){let e=E();r(0,"div",12)(1,"label",30),c(2),a(),r(3,"textarea",31,3),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),a(),r(5,"em"),c(6),a(),C(7,Oy,5,3,"mat-error",17),a()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",i.dataModel.descriptionHidden),o(3),y("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Hy(n,l){if(n&1){let e=E();r(0,"app-cms-enum-x-selector",32),w("modelChange",function(t){u(e);let s=p();return T(s.dataModel.activityStatus,t)||(s.dataModel.activityStatus=t),f(t)}),a()}if(n&2){let e=p();d("optionDataListResult",e.dataModelEstateActivityStatusEnumResult),b("model",e.dataModel.activityStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.activityStatus==null?null:e.fieldsInfo.activityStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Wy(n,l){if(n&1){let e=E();r(0,"app-estate-account-expert-selector",22),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorEstateUser(t))}),a()}if(n&2){let e=p();d("optionSelectForce",e.dataModel.linkEstateExpertId)("optionPlaceholder",h(1,2,"TITLE.USER"))}}function Gy(n,l){if(n&1){let e=E();r(0,"app-estate-account-agency-selector",33),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorEstateAgency(t))}),a()}if(n&2){let e=p();d("optionSelectForce",e.dataModel.linkEstateAgencyId)("optionSelectUserId",e.tokenInfo.access.userId)("optionPlaceholder",h(1,3,"TITLE.Property_agency"))}}function Uy(n,l){if(n&1){let e=E();r(0,"app-estate-property-selector",22),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorProperty(t))}),a()}if(n&2){let e=p();d("optionSelectForce",e.dataModel.linkPropertyId)("optionPlaceholder",h(1,2,"TITLE.Property"))}}function jy(n,l){if(n&1){let e=E();r(0,"app-estate-customer-order-selector",22),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorCustomerOrderId(t))}),a()}if(n&2){let e=p();d("optionSelectForce",e.dataModel.linkCustomerOrderId)("optionPlaceholder",h(1,2,"TITLE.Customer"))}}function qy(n,l){if(n&1){let e=E();r(0,"div",34)(1,"label",35),c(2),a(),r(3,"input",36),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.appointmentDateFrom,t)||(s.dataModel.appointmentDateFrom=t),f(t)}),a(),S(4,"mat-datepicker-toggle",37)(5,"mat-datepicker",38,4),a()}if(n&2){let e=R(6),i=p();o(2),M(i.fieldsInfo.appointmentDateFrom==null?null:i.fieldsInfo.appointmentDateFrom.fieldTitle),o(),d("matDatepicker",e),b("ngModel",i.dataModel.appointmentDateFrom),d("formControl",i.date),o(),d("for",e)}}function Qy(n,l){if(n&1){let e=E();r(0,"div",34)(1,"label",39),c(2),a(),r(3,"input",40),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.appointmentDateTo,t)||(s.dataModel.appointmentDateTo=t),f(t)}),a(),S(4,"mat-datepicker-toggle",37)(5,"mat-datepicker",38,5),a()}if(n&2){let e=R(6),i=p();o(2),M(i.fieldsInfo.appointmentDateTo==null?null:i.fieldsInfo.appointmentDateTo.fieldTitle),o(),d("matDatepicker",e),b("ngModel",i.dataModel.appointmentDateTo),d("formControl",i.date),o(),d("for",e)}}function zy(n,l){if(n&1){let e=E();r(0,"div",41)(1,"button",42),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",43),c(3),g(4,"translate"),a(),r(5,"button",44),S(6,"i",45),c(7),g(8,"translate"),a()()}if(n&2){p();let e=R(10);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",h(8,5,"ACTION.SAVE")," ")}}var cl=class cl extends Bt{constructor(e,i,t,s,_,m,k,z,Se,qe,Ue,ft,jt){super(s,new lr,ft,Se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyHistoryService=s;this.cmsToastrService=_;this.estateEnumService=m;this.cdr=k;this.tokenHelper=z;this.translate=Se;this.cmsStoreService=qe;this.pageInfo=Ue;this.publicHelper=ft;this.dialog=jt;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new It;this.dataFileModelFiles=new Map;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.date=new Et(new Date);this.dataModelEstateActivityStatusEnumResult=new G;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,e&&(this.dataModel.linkActivityTypeId=e.linkActivityTypeId,this.dataModel.linkPropertyId=e.linkPropertyId,this.dataModel.linkEstateExpertId=e.linkEstateExpertId,this.dataModel.linkCustomerOrderId=e.linkCustomerOrderId,this.dataModel.linkEstateAgencyId=e.linkEstateAgencyId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.getEstateActivityStatusEnum()}getEstateActivityStatusEnum(){this.estateEnumService.ServiceEstateActivityStatusEnum().subscribe({next:e=>{this.dataModelEstateActivityStatusEnumResult=e}})}DataAddContent(){if(this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="",this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyHistoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkActivityTypeId=e.id}onActionSelectorEstateUser(e){this.dataModel.linkEstateExpertId=null,e&&e.id?.length>0&&(this.dataModel.linkEstateExpertId=e.id)}onActionSelectorEstateAgency(e){this.dataModel.linkEstateAgencyId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateAgencyId=e.id)}onActionSelectorProperty(e){this.dataModel.linkPropertyId=null,e&&e.id?.length>0&&(this.dataModel.linkPropertyId=e.id)}onActionSelectorCustomerOrderId(e){this.dataModel.linkCustomerOrderId=null,e&&e.id?.length>0&&(this.dataModel.linkCustomerOrderId=e.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};cl.\u0275fac=function(i){return new(i||cl)(v(Te),v(be),v(X),v(to),v(V),v(fn),v(O),v(Z),v(L),v(J),v(St),v(F),v(Ae))},cl.\u0275cmp=D({type:cl,selectors:[["app-estate-property-history-add"]],viewQuery:function(i,t){if(i&1&&te(ky,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:45,vars:41,consts:[["vform","ngForm"],["Title",""],["Description",""],["DescriptionHidden",""],["AppointmentDateFrom",""],["AppointmentDateTo",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionSelectForce","optionSelectUserId","optionPlaceholder","optionChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","1000","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionSelectUserId","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.appointmentDateFrom",1,"color-highlight"],["matInput","","name","dataModel.appointmentDateFrom","id","dataModel.appointmentDateFrom",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","formControl"],["matSuffix","",3,"for"],["touchUi",""],["for","dataModel.appointmentDateTo",1,"color-highlight"],["matInput","","name","dataModel.appointmentDateTo","id","dataModel.appointmentDateTo",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","formControl"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",6),S(1,"app-progress-spinner",7),r(2,"div",8)(3,"p",9),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",10),r(9,"form",11,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"div",12)(12,"label",13),c(13),a(),r(14,"input",14,1),w("ngModelChange",function(m){return u(s),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),C(16,Ly,1,0,"i",15)(17,Vy,1,0,"i",16),r(18,"em"),c(19),a(),C(20,By,5,3,"mat-error",17),a(),r(21,"div",12)(22,"label",18),c(23),a(),r(24,"textarea",19,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(26,"        "),a(),r(27,"em"),c(28),a(),C(29,Fy,5,3,"mat-error",17),a(),C(30,Ny,8,6,"div",20)(31,Hy,1,6,"app-cms-enum-x-selector",21),r(32,"app-estate-activity-type-selector",22),g(33,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorSelect(m))}),a(),C(34,Wy,2,4,"app-estate-account-expert-selector",23)(35,Gy,2,5,"app-estate-account-agency-selector",24)(36,Uy,2,4,"app-estate-property-selector",23)(37,jy,2,4,"app-estate-customer-order-selector",23)(38,qy,7,5,"div",25)(39,Qy,7,5,"div",25),r(40,"p"),c(41),g(42,"translate"),a(),r(43,"app-cms-files-selector",26),w("dataFileModelChange",function(m){return u(s),T(t.dataFileModelFiles,m)||(t.dataFileModelFiles=m),f(m)}),a(),C(44,zy,9,7,"div",27),a()()()}if(i&2){let s=R(15),_=R(25);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(),d("ngStyle",ze(39,Dy,t.tokenInfo.access.direction)),o(4),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",_.value.length," / 500"),o(),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessAddField),o(),d("ngIf",t.fieldsInfo.activityStatus==null?null:t.fieldsInfo.activityStatus.accessWatchField),o(),d("optionSelectForce",t.dataModel.linkActivityTypeId)("optionPlaceholder",h(33,35,"TITLE.Category")),o(2),d("ngIf",t.fieldsInfo.linkEstateExpertId==null?null:t.fieldsInfo.linkEstateExpertId.accessAddField),o(),d("ngIf",t.fieldsInfo.linkEstateAgencyId==null?null:t.fieldsInfo.linkEstateAgencyId.accessWatchField),o(),d("ngIf",t.fieldsInfo.linkPropertyId==null?null:t.fieldsInfo.linkPropertyId.accessAddField),o(),d("ngIf",t.fieldsInfo.linkCustomerOrderId==null?null:t.fieldsInfo.linkCustomerOrderId.accessAddField),o(),d("ngIf",t.fieldsInfo.appointmentDateFrom==null?null:t.fieldsInfo.appointmentDateFrom.accessWatchField),o(),d("ngIf",t.fieldsInfo.appointmentDateTo==null?null:t.fieldsInfo.appointmentDateTo.accessWatchField),o(2),M(h(42,37,"TITLE.List_of_attached_files")),o(2),b("dataFileModel",t.dataFileModelFiles),d("openDirectUploadView",!0),o(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[N,it,ke,Y,q,we,de,De,Pe,me,Re,zt,Gn,Un,gn,xe,tt,Q,Qo,U,ge,Sn,al,yr,ll,xn,ao,B],encapsulation:2});var Co=cl;var Yy=()=>({standalone:!0});function Ky(n,l){n&1&&(r(0,"em"),c(1),g(2,"translate"),a()),n&2&&(o(),y("(",h(2,1,"TITLE.Necessary"),")"))}function Zy(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),y(" ",e.optionLabel," "),o(2),M(h(4,2,"MESSAGE.required"))}}function Jy(n,l){if(n&1){let e=E();A(0),r(1,"div",2)(2,"label",3),c(3),a(),r(4,"input",4,0),w("ngModelChange",function(t){u(e);let s=p();return T(s.modelDate,t)||(s.modelDate=t),f(t)}),a(),C(6,Ky,3,3,"em",1)(7,Zy,5,4,"mat-error",1),a(),P()}if(n&2){let e=R(5),i=p();o(2),d("for",Ie("string-",i.id)),o(),M(i.optionLabel),o(),d("placeholder",x(i.optionPlaceholder))("id",Ie("string-",i.id)),b("ngModel",i.modelDate),d("disabled",i.optionDisabled)("ngModelOptions",se(13,Yy))("required",i.optionRequired),o(2),d("ngIf",i.optionRequired),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Xy(n,l){if(n&1&&(r(0,"div",6),S(1,"input",7),r(2,"label",8),c(3),a(),S(4,"i",9)(5,"i",10),a()),n&2){let e=l.$implicit,i=l.index,t=p(3);o(),d("id",Dd("string-",t.id,"-",i))("value",e),o(),d("for",Dd("string-",t.id,"-",i)),o(),M(e)}}function $y(n,l){if(n&1&&(A(0),C(1,Xy,6,8,"div",5),P()),n&2){let e=p(2);o(),d("ngForOf",e.optionDefaultValue)}}function eS(n,l){if(n&1){let e=E();r(0,"div",13),I("change",function(){u(e);let t=p().$implicit,s=p(3);return f(s.onActionSelect(t))}),r(1,"input",14),w("ngModelChange",function(t){u(e);let s=p().$implicit,_=p(3);return T(_.itemSelected[s],t)||(_.itemSelected[s]=t),f(t)}),a(),r(2,"label",8),c(3),a(),S(4,"i",15)(5,"i",16),a()}if(n&2){let e=p(),i=e.$implicit,t=e.index,s=p(3);o(),d("id",Dd("string-",s.id,"-",t))("disabled",s.optionDisabled),b("ngModel",s.itemSelected[i]),o(),d("for",Dd("string-",s.id,"-",t)),o(),M(i)}}function tS(n,l){if(n&1&&(A(0),C(1,eS,6,9,"div",12),P()),n&2){let e=l.$implicit,i=p(3);o(),d("ngIf",!i.optionDisplayOnlyValid||i.itemSelected[e])}}function iS(n,l){if(n&1&&(A(0),C(1,tS,2,1,"ng-container",11),P()),n&2){let e=p(2);o(),d("ngForOf",e.optionDefaultValue)}}function nS(n,l){if(n&1&&(A(0),r(1,"label"),c(2),a(),S(3,"br"),C(4,$y,2,1,"ng-container",1)(5,iS,2,1,"ng-container",1),P()),n&2){let e=p();o(),Nt(Ie("color:'",e.optionIconColor,"';")),o(),y("",e.optionLabel," :"),o(2),d("ngIf",!e.optionMultipleChoice),o(),d("ngIf",e.optionMultipleChoice)}}var Zr=class Zr{constructor(){this.id=++Zr.nextId;this.modelChange=new Xe;this.optionMultipleChoice=!1;this.optionForceUseDefaultValue=!1;this.optionDefaultValue=[];this.optionRequired=!1;this.optionDisplayOnlyValid=!1;this.optionDisabled=!1;this.optionLabel="";this.optionPlaceholder="";this.optionIconColor="";this.privateModelDate="";this.itemSelected=new Map;this.colors=["primary","accent","warn","primary","accent","warn","primary","accent","warn"]}set model(l){l&&l.split(",").forEach(e=>{this.itemSelected[e]=!0}),this.privateModelDate=l}get modelDate(){return this.privateModelDate}set modelDate(l){this.privateModelDate=l,this.modelChange.emit(l)}ngOnInit(){}onActionSelect(l){let e=[];this.optionDefaultValue.forEach(i=>{this.itemSelected[i]&&this.itemSelected[i]===!0&&e.push(i)}),this.modelDate=e.join(",")}};Zr.nextId=0,Zr.\u0275fac=function(e){return new(e||Zr)},Zr.\u0275cmp=D({type:Zr,selectors:[["app-input-string"]],inputs:{model:"model",optionMultipleChoice:"optionMultipleChoice",optionForceUseDefaultValue:"optionForceUseDefaultValue",optionDefaultValue:"optionDefaultValue",optionRequired:"optionRequired",optionDisplayOnlyValid:"optionDisplayOnlyValid",optionDisabled:"optionDisabled",optionLabel:"optionLabel",optionPlaceholder:"optionPlaceholder",optionIconColor:"optionIconColor"},outputs:{modelChange:"modelChange"},standalone:!1,decls:2,vars:2,consts:[["string",""],[4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"color-highlight",3,"for"],["name","string","type","text",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","id","disabled","ngModelOptions","required"],["class","form-check icon-check",4,"ngFor","ngForOf"],[1,"form-check","icon-check"],["type","radio","name","inlineRadioOptions",1,"form-check-input",3,"value","id"],[1,"form-check-label",3,"for"],[1,"icon-check-1","far","fa-circle","color-gray-dark","font-16"],[1,"icon-check-2","far","fa-check-circle","font-16","color-highlight"],[4,"ngFor","ngForOf"],["class","form-check icon-check",3,"change",4,"ngIf"],[1,"form-check","icon-check",3,"change"],["type","checkbox",1,"form-check-input",3,"ngModelChange","disabled","ngModel","id"],[1,"icon-check-1","far","fa-square","color-gray-dark","font-16"],[1,"icon-check-2","far","fa-check-square","font-16","color-highlight"]],template:function(e,i){e&1&&C(0,Jy,8,14,"ng-container",1)(1,nS,6,6,"ng-container",1),e&2&&(d("ngIf",!i.optionDefaultValue||i.optionDefaultValue.length===0),o(),d("ngIf",i.optionDefaultValue&&i.optionDefaultValue.length>0))},dependencies:[He,N,Y,qt,q,de,me,xe,B],encapsulation:2});var lo=Zr;var oS=()=>({standalone:!0});function rS(n,l){n&1&&(r(0,"em"),c(1),g(2,"translate"),a()),n&2&&(o(),y("(",h(2,1,"TITLE.Necessary"),")"))}function aS(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p();o(),y(" ",e.optionLabel," "),o(2),M(h(4,2,"MESSAGE.required"))}}var Jr=class Jr{constructor(){this.id=++Jr.nextId;this.modelChange=new Xe;this.optionValueMin=null;this.optionValueMax=null;this.optionRequired=!1;this.optionDisabled=!1;this.optionLabel="";this.optionPlaceholder=""}set model(l){this.privateModelDate=l}get modelDate(){return this.privateModelDate}set modelDate(l){this.optionValueMin&&l<this.optionValueMin&&(l=this.optionValueMin),this.optionValueMax&&l>this.optionValueMax&&(l=this.optionValueMax),this.privateModelDate=l,this.modelChange.emit(l)}ngOnInit(){}};Jr.nextId=0,Jr.\u0275fac=function(e){return new(e||Jr)},Jr.\u0275cmp=D({type:Jr,selectors:[["app-input-int"]],inputs:{model:"model",optionValueMin:"optionValueMin",optionValueMax:"optionValueMax",optionRequired:"optionRequired",optionDisabled:"optionDisabled",optionLabel:"optionLabel",optionPlaceholder:"optionPlaceholder"},outputs:{modelChange:"modelChange"},standalone:!1,decls:7,vars:14,consts:[["number",""],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"color-highlight",3,"for"],["matInput","","name","number","type","number",1,"form-control","validate-name",3,"ngModelChange","ngModel","id","placeholder","disabled","ngModelOptions","required"],[4,"ngIf"]],template:function(e,i){if(e&1){let t=E();r(0,"div",1)(1,"label",2),c(2),a(),r(3,"input",3,0),w("ngModelChange",function(_){return u(t),T(i.modelDate,_)||(i.modelDate=_),f(_)}),a(),C(5,rS,3,3,"em",4)(6,aS,5,4,"mat-error",4),a()}if(e&2){let t=R(4);o(),d("for",Ie("int-",i.id)),o(),M(i.optionLabel),o(),d("id",Ie("int-",i.id))("placeholder",x(i.optionPlaceholder)),b("ngModel",i.modelDate),d("disabled",i.optionDisabled)("ngModelOptions",se(13,oS))("required",i.optionRequired),o(2),d("ngIf",i.optionRequired),o(),d("ngIf",t.errors==null?null:t.errors.required)}},dependencies:[N,Y,Wt,q,de,me,xe,Q,Gt,B],encapsulation:2});var so=Jr;var lS=["*"],Xr=class Xr{constructor(){this.id=++Xr.nextId;this.optionDisabled=!1;this.optionLabel="";this.modelChange=new Xe;this.isChecked=!1}set model(l){l&&(l===!0||l==="true"||l===1||l==="1")&&(this.isChecked=!0)}ngOnInit(){}setValueToggle(l){l==="true"?(this.isChecked=!0,this.modelChange.emit(!0)):(this.isChecked=!1,this.modelChange.emit(!1))}};Xr.nextId=0,Xr.\u0275fac=function(e){return new(e||Xr)},Xr.\u0275cmp=D({type:Xr,selectors:[["app-input-boolean"]],inputs:{optionDisabled:"optionDisabled",optionLabel:"optionLabel",model:"model"},outputs:{modelChange:"modelChange"},standalone:!1,ngContentSelectors:lS,decls:9,vars:8,consts:[[1,"d-flex","mb-3"],[1,"pt-1"],[1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox",1,"ios-input",3,"ngModelChange","change","id","ngModel","disabled"],[1,"custom-control-label",3,"for"]],template:function(e,i){e&1&&(vi(),r(0,"div",0)(1,"div",1)(2,"h5",2),pi(3),c(4),a()(),r(5,"div",3)(6,"div",4)(7,"input",5),w("ngModelChange",function(s){return T(i.isChecked,s)||(i.isChecked=s),s}),I("change",function(){return i.setValueToggle(i.isChecked?"true":"false")}),a(),S(8,"label",6),a()()()),e&2&&(o(2),vt("data-trigger-switch","boolean-"+i.id),o(2),y("",i.optionLabel," "),o(3),d("id",Ie("boolean-",i.id)),b("ngModel",i.isChecked),d("disabled",i.optionDisabled),o(),d("for",Ie("boolean-",i.id)))},dependencies:[qt,q,me],encapsulation:2});var co=Xr;var sS=()=>({standalone:!0});function dS(n,l){n&1&&(r(0,"em"),c(1),g(2,"translate"),a()),n&2&&(o(),y("(",h(2,1,"TITLE.Necessary"),")"))}function cS(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p();o(),y(" ",e.optionLabel," "),o(2),M(h(4,2,"MESSAGE.required"))}}var $r=class $r{constructor(){this.id=++$r.nextId;this.modelChange=new Xe;this.optionValueMin=null;this.optionValueMax=null;this.optionRequired=!1;this.optionDisabled=!1;this.optionLabel="";this.optionPlaceholder=""}set model(l){this.privateModelDate=l}get modelDate(){return this.privateModelDate}set modelDate(l){this.optionValueMin&&l<this.optionValueMin&&(l=this.optionValueMin),this.optionValueMax&&l>this.optionValueMax&&(l=this.optionValueMax),this.privateModelDate=l,this.modelChange.emit(l)}ngOnInit(){}};$r.nextId=0,$r.\u0275fac=function(e){return new(e||$r)},$r.\u0275cmp=D({type:$r,selectors:[["app-input-float"]],inputs:{model:"model",optionValueMin:"optionValueMin",optionValueMax:"optionValueMax",optionRequired:"optionRequired",optionDisabled:"optionDisabled",optionLabel:"optionLabel",optionPlaceholder:"optionPlaceholder"},outputs:{modelChange:"modelChange"},standalone:!1,decls:7,vars:14,consts:[["number",""],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"color-highlight",3,"for"],["matInput","","name","number","type","number","step","0.01",1,"form-control","validate-name",3,"ngModelChange","ngModel","id","placeholder","disabled","ngModelOptions","required"],[4,"ngIf"]],template:function(e,i){if(e&1){let t=E();r(0,"div",1)(1,"label",2),c(2),a(),r(3,"input",3,0),w("ngModelChange",function(_){return u(t),T(i.modelDate,_)||(i.modelDate=_),f(_)}),a(),C(5,dS,3,3,"em",4)(6,cS,5,4,"mat-error",4),a()}if(e&2){let t=R(4);o(),d("for",Ie("float-",i.id)),o(),M(i.optionLabel),o(),d("id",Ie("float-",i.id))("placeholder",x(i.optionPlaceholder)),b("ngModel",i.modelDate),d("disabled",i.optionDisabled)("ngModelOptions",se(13,sS))("required",i.optionRequired),o(2),d("ngIf",i.optionRequired),o(),d("ngIf",t.errors==null?null:t.errors.required)}},dependencies:[N,Y,Wt,q,de,me,xe,Q,Gt,B],encapsulation:2});var po=$r;var pS=()=>({standalone:!0}),_l=class _l{constructor(){this.modelChange=new Xe;this.optionRequired=!1;this.optionDisabled=!1}set model(l){this.privateModelDate=l}get modelDate(){return this.privateModelDate}set modelDate(l){this.privateModelDate=l,this.modelChange.emit(l)}ngOnInit(){}};_l.\u0275fac=function(e){return new(e||_l)},_l.\u0275cmp=D({type:_l,selectors:[["app-input-date"]],inputs:{model:"model",optionRequired:"optionRequired",optionDisabled:"optionDisabled"},outputs:{modelChange:"modelChange"},standalone:!1,decls:4,vars:6,consts:[["ExpireDate",""],["matInput","",3,"ngModelChange","matDatepicker","ngModel","ngModelOptions"],["matSuffix","",3,"for","disabled"],["touchUi",""]],template:function(e,i){if(e&1){let t=E();r(0,"input",1),w("ngModelChange",function(_){return u(t),T(i.modelDate,_)||(i.modelDate=_),f(_)}),a(),S(1,"mat-datepicker-toggle",2)(2,"mat-datepicker",3,0)}if(e&2){let t=R(3);d("matDatepicker",t),b("ngModel",i.modelDate),d("ngModelOptions",se(5,pS)),o(),d("for",t)("disabled",i.optionDisabled)}},dependencies:[Y,q,me,Gn,Un,gn,tt,Q],encapsulation:2});var mo=_l;var mS=()=>({standalone:!0});function uS(n,l){n&1&&(r(0,"em"),c(1),g(2,"translate"),a()),n&2&&(o(),y("(",h(2,1,"TITLE.Necessary"),")"))}function fS(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p();o(),y(" ",e.optionLabel," "),o(2),M(h(4,2,"MESSAGE.required"))}}var ea=class ea{constructor(){this.id=++ea.nextId;this.modelChange=new Xe;this.optionRequired=!1;this.optionDisabled=!1;this.optionLabel="";this.optionPlaceholder="";this.privateModelDate=""}set model(l){this.privateModelDate=l}get modelDate(){return this.privateModelDate}set modelDate(l){this.privateModelDate=l,this.modelChange.emit(l)}ngOnInit(){}};ea.nextId=0,ea.\u0275fac=function(e){return new(e||ea)},ea.\u0275cmp=D({type:ea,selectors:[["app-input-textarea"]],inputs:{model:"model",optionRequired:"optionRequired",optionDisabled:"optionDisabled",optionLabel:"optionLabel",optionPlaceholder:"optionPlaceholder"},outputs:{modelChange:"modelChange"},standalone:!1,decls:7,vars:14,consts:[["string",""],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"color-highlight",3,"for"],["name","string","type","text","rows","5",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","id","disabled","ngModelOptions","required"],[4,"ngIf"]],template:function(e,i){if(e&1){let t=E();r(0,"div",1)(1,"label",2),c(2),a(),r(3,"textarea",3,0),w("ngModelChange",function(_){return u(t),T(i.modelDate,_)||(i.modelDate=_),f(_)}),a(),C(5,uS,3,3,"em",4)(6,fS,5,4,"mat-error",4),a()}if(e&2){let t=R(4);o(),d("for",Ie("textarea-",i.id)),o(),M(i.optionLabel),o(),d("placeholder",x(i.optionPlaceholder))("id",Ie("textarea-",i.id)),b("ngModel",i.modelDate),d("disabled",i.optionDisabled)("ngModelOptions",se(13,mS))("required",i.optionRequired),o(2),d("ngIf",i.optionRequired),o(),d("ngIf",t.errors==null?null:t.errors.required)}},dependencies:[N,Y,q,de,me,xe,B],encapsulation:2});var uo=ea;var _S=["vform"];function gS(n,l){if(n&1){let e=E();r(0,"button",22),I("click",function(){u(e);let t=p(2);return f(t.onActionNext())}),S(1,"i",23),c(2," < "),a()}}function hS(n,l){if(n&1){let e=E();r(0,"button",22),I("click",function(){u(e);let t=p(2);return f(t.onActionPervious())}),S(1,"i",23),c(2," > "),a()}}function yS(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td"),c(4),g(5,"localeDateTime"),a()()),n&2){let e=p(2);o(2),y("",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle,":"),o(2),M(h(5,2,e.dataModel.updatedDate))}}function SS(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),g(3,"translate"),a(),r(4,"td"),c(5),a()()),n&2){let e=p(2);o(2),y("",h(3,2,"TITLE.CreatedYaer"),":"),o(3),M(e.dataModel.createdYaer)}}function CS(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),g(3,"translate"),a(),r(4,"td"),c(5),a()()),n&2){let e=p(2);o(2),y("",h(3,2,"TITLE.ROOM"),":"),o(3),M(e.dataModel.partition)}}function vS(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td"),c(4),a()()),n&2){let e=p(2);o(2),y("",e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle,":"),o(2),M(e.dataModel.area)}}function IS(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td",14),c(4),a()()),n&2){let e=p(2);o(2),y("",e.fieldsInfo.aboutAgentMobile==null?null:e.fieldsInfo.aboutAgentMobile.fieldTitle,":"),o(2),M(e.dataModel.aboutAgentMobile)}}function ES(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td",14),c(4),a()()),n&2){let e=p(2);o(2),y("",e.fieldsInfo.aboutAgentTel==null?null:e.fieldsInfo.aboutAgentTel.fieldTitle,":"),o(2),M(e.dataModel.aboutAgentTel)}}function MS(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td",14),c(4),a()()),n&2){let e=p(2);o(2),y("",e.fieldsInfo.aboutCustomerMobile==null?null:e.fieldsInfo.aboutCustomerMobile.fieldTitle,":"),o(2),y(" ",e.dataModel.aboutCustomerMobile," ")}}function bS(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td",14),c(4),a()()),n&2){let e=p(2);o(2),y("",e.fieldsInfo.aboutCustomerTel==null?null:e.fieldsInfo.aboutCustomerTel.fieldTitle,":"),o(2),M(e.dataModel.aboutCustomerTel)}}function TS(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td"),c(4),a()()),n&2){let e=p(2);o(2),y("",e.fieldsInfo.address==null?null:e.fieldsInfo.address.fieldTitle,":"),o(2),M(e.dataModel.address)}}function wS(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),g(3,"translate"),a(),r(4,"td"),c(5),a()()),n&2){let e=p(2);o(2),y("",h(3,2,"TITLE.General_Description"),":"),o(3),M(e.dataModel.description)}}function xS(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),g(3,"translate"),a(),r(4,"td"),c(5),a()()),n&2){let e=p(2);o(2),y("",h(3,2,"TITLE.Description_Hidden"),":"),o(3),M(e.dataModel.descriptionHidden)}}function AS(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td"),c(4),a()()),n&2){let e=p(2);o(2),y("",e.fieldsInfo.addressHidden==null?null:e.fieldsInfo.addressHidden.fieldTitle,":"),o(2),M(e.dataModel.addressHidden)}}function PS(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.Contract")," "))}function RS(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"cmstitle"),a()),n&2){let e=l.$implicit,i=p(3);o(),y(" ",di(2,1,e.linkEstateContractTypeId,i.dataModelEstateContractTypeResult.listItems)," ")}}function kS(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.Price")," "))}function DS(n,l){if(n&1&&(A(0),c(1),g(2,"translate"),g(3,"number"),P()),n&2){let e=p(2).$implicit,i=p(3);o(),ee(" (",h(2,2,"TITLE.SQUARE_METERS")," :",di(3,4,e.salePrice/i.dataModel.area,"1.0-0"),") ")}}function LS(n,l){if(n&1&&(A(0),c(1),g(2,"translate"),g(3,"number"),S(4,"br"),c(5),C(6,DS,4,7,"ng-container",8),P()),n&2){let e=p().$implicit,i=p(3);o(),ee(" ",h(2,5,"TITLE.SalePrice"),": ",h(3,7,e.salePrice)," "),o(4),ee("( ",e.currencyTitle," ",e.currencySymbol," ) "),o(),d("ngIf",i.dataModel.area>0)}}function VS(n,l){n&1&&(A(0),c(1),g(2,"translate"),g(3,"translate"),P()),n&2&&(o(),ee(" ",h(2,2,"TITLE.SalePrice"),": ",h(3,4,"TITLE.PriceByAgreement")," "))}function BS(n,l){if(n&1&&(A(0),c(1),g(2,"translate"),g(3,"number"),S(4,"br"),c(5),P()),n&2){let e=p().$implicit;o(),ee(" ",h(2,4,"TITLE.DepositPrice"),": ",h(3,6,e.depositPrice)),o(4),ee(" ( ",e.currencyTitle," ",e.currencySymbol," ) ")}}function FS(n,l){n&1&&(A(0),c(1),g(2,"translate"),g(3,"translate"),P()),n&2&&(o(),ee(" ",h(2,2,"TITLE.DepositPrice"),": ",h(3,4,"TITLE.PriceByAgreement")," "))}function OS(n,l){if(n&1&&(A(0),c(1),g(2,"translate"),g(3,"number"),S(4,"br"),c(5),P()),n&2){let e=p().$implicit;o(),ee(" ",h(2,4,"TITLE.RentPrice")," ",h(3,6,e.rentPrice)),o(4),ee(" ( ",e.currencyTitle," ",e.currencySymbol," ) ")}}function NS(n,l){n&1&&(A(0),c(1),g(2,"translate"),g(3,"translate"),P()),n&2&&(o(),ee(" ",h(2,2,"TITLE.RentPrice")," ",h(3,4,"TITLE.PriceByAgreement")," "))}function HS(n,l){if(n&1&&(A(0),c(1),g(2,"translate"),g(3,"number"),S(4,"br"),c(5),P()),n&2){let e=p().$implicit;o(),ee(" ",h(2,4,"TITLE.PeriodPrice"),": ",h(3,6,e.periodPrice)," "),o(4),ee(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function WS(n,l){n&1&&(A(0),c(1),g(2,"translate"),g(3,"translate"),P()),n&2&&(o(),ee(" ",h(2,2,"TITLE.PeriodPrice"),": ",h(3,4,"TITLE.PriceByAgreement")," "))}function GS(n,l){if(n&1&&(r(0,"mat-cell"),C(1,LS,7,9,"ng-container",8)(2,VS,4,6,"ng-container",8),S(3,"br"),C(4,BS,6,8,"ng-container",8)(5,FS,4,6,"ng-container",8),S(6,"br"),C(7,OS,6,8,"ng-container",8)(8,NS,4,6,"ng-container",8),S(9,"br"),C(10,HS,6,8,"ng-container",8)(11,WS,4,6,"ng-container",8),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.salePrice>0),o(),d("ngIf",e.salePriceByAgreement),o(2),d("ngIf",e.depositPrice>0),o(),d("ngIf",e.depositPriceByAgreement),o(2),d("ngIf",e.rentPrice>0),o(),d("ngIf",e.rentPriceByAgreement),o(2),d("ngIf",e.periodPrice>0),o(),d("ngIf",e.periodPriceByAgreement)}}function US(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.SalePrice")," "))}function jS(n,l){if(n&1&&(A(0),c(1),g(2,"number"),S(3,"br"),c(4),P()),n&2){let e=p().$implicit;o(),y(" ",h(2,3,e.salePrice)," "),o(3),ee("( ",e.currencyTitle," ",e.currencySymbol," ) ")}}function qS(n,l){n&1&&(A(0),c(1),g(2,"translate"),P()),n&2&&(o(),y(" ",h(2,1,"TITLE.PriceByAgreement")," "))}function QS(n,l){if(n&1&&(r(0,"mat-cell"),C(1,jS,5,5,"ng-container",8)(2,qS,3,3,"ng-container",8),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.salePrice>0),o(),d("ngIf",e.salePriceByAgreement)}}function zS(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.DepositPrice")," "))}function YS(n,l){if(n&1&&(A(0),c(1),g(2,"number"),S(3,"br"),c(4),P()),n&2){let e=p().$implicit;o(),y(" ",h(2,3,e.depositPrice)),o(3),ee(" ( ",e.currencyTitle," ",e.currencySymbol," ) ")}}function KS(n,l){n&1&&(A(0),c(1),g(2,"translate"),P()),n&2&&(o(),y(" ",h(2,1,"TITLE.PriceByAgreement")," "))}function ZS(n,l){if(n&1&&(r(0,"mat-cell"),C(1,YS,5,5,"ng-container",8)(2,KS,3,3,"ng-container",8),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.depositPrice>0),o(),d("ngIf",e.depositPriceByAgreement)}}function JS(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.RentPrice")," "))}function XS(n,l){if(n&1&&(A(0),c(1),g(2,"number"),S(3,"br"),c(4),P()),n&2){let e=p().$implicit;o(),y(" ",h(2,3,e.rentPrice)),o(3),ee(" ( ",e.currencyTitle," ",e.currencySymbol," ) ")}}function $S(n,l){n&1&&(A(0),c(1),g(2,"translate"),P()),n&2&&(o(),y(" ",h(2,1,"TITLE.PriceByAgreement")," "))}function eC(n,l){if(n&1&&(r(0,"mat-cell"),C(1,XS,5,5,"ng-container",8)(2,$S,3,3,"ng-container",8),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.rentPrice>0),o(),d("ngIf",e.rentPriceByAgreement)}}function tC(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.PeriodPrice")," "))}function iC(n,l){if(n&1&&(A(0),c(1),g(2,"number"),S(3,"br"),c(4),P()),n&2){let e=p().$implicit;o(),y(" ",h(2,3,e.periodPrice)," "),o(3),ee(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function nC(n,l){n&1&&(A(0),c(1),g(2,"translate"),P()),n&2&&(o(),y(" ",h(2,1,"TITLE.PriceByAgreement")," "))}function oC(n,l){if(n&1&&(r(0,"mat-cell"),C(1,iC,5,5,"ng-container",8)(2,nC,3,3,"ng-container",8),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.periodPrice>0),o(),d("ngIf",e.periodPriceByAgreement)}}function rC(n,l){n&1&&S(0,"mat-header-row")}function aC(n,l){if(n&1&&S(0,"mat-row"),n&2){let e=l.dataIndex;K("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}function lC(n,l){if(n&1&&(r(0,"div",24)(1,"mat-table",25),A(2,26),C(3,PS,3,3,"mat-header-cell",27)(4,RS,3,4,"mat-cell",28),P(),A(5,29),C(6,kS,3,3,"mat-header-cell",27)(7,GS,12,8,"mat-cell",28),P(),A(8,30),C(9,US,3,3,"mat-header-cell",27)(10,QS,3,2,"mat-cell",28),P(),A(11,31),C(12,zS,3,3,"mat-header-cell",27)(13,ZS,3,2,"mat-cell",28),P(),A(14,32),C(15,JS,3,3,"mat-header-cell",27)(16,eC,3,2,"mat-cell",28),P(),A(17,33),C(18,tC,3,3,"mat-header-cell",27)(19,oC,3,2,"mat-cell",28),P(),C(20,rC,1,0,"mat-header-row",34)(21,aC,1,4,"mat-row",35),a()()),n&2){let e=p(2);o(),d("dataSource",e.optionTabledataSource),o(19),d("matHeaderRowDef",e.optionTabledisplayedColumns),o(),d("matRowDefColumns",e.optionTabledisplayedColumns)}}function sC(n,l){if(n&1){let e=E();r(0,"div",44),S(1,"i",45),c(2,"\xA0 "),r(3,"app-input-string",46),w("modelChange",function(t){u(e);let s=p(2).$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=p(2).$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),Nt(Ie("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionDisabled",!0)("optionDisplayOnlyValid",!0)("optionLabel",e.title)}}function dC(n,l){if(n&1){let e=E();r(0,"div",44),S(1,"i",45),c(2,"\xA0 "),r(3,"app-input-int",47),w("modelChange",function(t){u(e);let s=p(2).$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=p(2).$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),Nt(Ie("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionDisabled",!0)("optionLabel",e.title)}}function cC(n,l){if(n&1){let e=E();A(0),S(1,"i",45),c(2,"\xA0 "),r(3,"app-input-boolean",48),w("modelChange",function(t){u(e);let s=p(3).$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),c(4),a(),P()}if(n&2){let e=p(3).$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),b("model",i.propertyDetails[e.id]),d("optionDisabled",!0),o(),y("",e.title," ")}}function pC(n,l){if(n&1&&(r(0,"div",44),C(1,cC,5,6,"ng-container",8),a()),n&2){let e=p(2).$implicit,i=p(3);o(),d("ngIf",i.propertyDetails[e.id]==="true")}}function mC(n,l){if(n&1){let e=E();r(0,"div",44),S(1,"i",45),c(2,"\xA0 "),r(3,"app-input-float",47),w("modelChange",function(t){u(e);let s=p(2).$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=p(2).$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),Nt(Ie("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionDisabled",!0)("optionLabel",e.title)}}function uC(n,l){if(n&1){let e=E();r(0,"div",44),S(1,"i",45),c(2,"\xA0 "),r(3,"label"),c(4),a(),r(5,"app-input-date",48),w("modelChange",function(t){u(e);let s=p(2).$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=p(2).$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),Nt(Ie("color:'",e.iconColor,"';")),o(),M(e.title),o(),b("model",i.propertyDetails[e.id]),d("optionDisabled",!0)}}function fC(n,l){if(n&1){let e=E();r(0,"div",44),S(1,"i",45),c(2,"\xA0 "),r(3,"app-input-textarea",47),w("modelChange",function(t){u(e);let s=p(2).$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=p(2).$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),Nt(Ie("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionDisabled",!0)("optionLabel",e.title)}}function _C(n,l){if(n&1){let e=E();r(0,"div",44),S(1,"i",45),c(2,"\xA0 "),r(3,"app-input-string",49),w("modelChange",function(t){u(e);let s=p(2).$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=p(2).$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),Nt(Ie("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionDisabled",!0)("optionLabel",e.title)}}function gC(n,l){if(n&1&&(A(0,41),C(1,sC,4,13,"div",42)(2,dC,4,9,"div",42)(3,pC,2,1,"div",42)(4,mC,4,9,"div",42)(5,uC,6,9,"div",42)(6,fC,4,9,"div",42)(7,_C,4,12,"div",43),P()),n&2){let e=p().$implicit,i=p(3);d("ngSwitch",e.inputDataType),o(),d("ngSwitchCase",i.enumInputDataType.String),o(),d("ngSwitchCase",i.enumInputDataType.Int),o(),d("ngSwitchCase",i.enumInputDataType.Boolean),o(),d("ngSwitchCase",i.enumInputDataType.Float),o(),d("ngSwitchCase",i.enumInputDataType.Date),o(),d("ngSwitchCase",i.enumInputDataType.TextArea)}}function hC(n,l){if(n&1&&(A(0),C(1,gC,8,7,"ng-container",40),P()),n&2){let e=l.$implicit,i=p(3);o(),d("ngIf",i.propertyDetails[e.id]&&i.propertyDetails[e.id].length>0)}}function yC(n,l){if(n&1){let e=E();r(0,"button",50),I("click",function(){u(e);let t=p(3);return f(t.prevStep())}),c(1),g(2,"translate"),a()}n&2&&(o(),y(" ",h(2,1,"ACTION.PREVIOUS")," "))}function SC(n,l){if(n&1){let e=E();r(0,"button",51),I("click",function(){u(e);let t=p(3);return f(t.nextStep())}),c(1),g(2,"translate"),a()}n&2&&(o(),y(" ",h(2,1,"ACTION.NEXT")," "))}function CC(n,l){if(n&1){let e=E();r(0,"button",51),I("click",function(){u(e);let t=p(3);return f(t.nextStep())}),c(1),g(2,"translate"),a()}n&2&&(o(),y(" ",h(2,1,"ACTION.NEXT")," "))}function vC(n,l){if(n&1){let e=E();r(0,"mat-expansion-panel",36),I("opened",function(){let t=u(e).index,s=p(2);return f(s.setStep(t))}),r(1,"mat-expansion-panel-header")(2,"mat-panel-title"),c(3),a(),r(4,"mat-panel-description"),c(5),r(6,"mat-icon"),c(7),a()()(),C(8,hC,2,1,"ng-container",37),r(9,"mat-action-row"),C(10,yC,3,3,"button",38)(11,SC,3,3,"button",39)(12,CC,3,3,"button",39),a()()}if(n&2){let e=l.$implicit,i=l.index,t=p(2);d("expanded",t.step===i),o(3),y(" ",e.title," "),o(2),y(" ",e.description," "),o(2),M(e.iconFont),o(),d("ngForOf",e.propertyDetails),o(2),d("ngIf",i>0),o(),d("ngIf",i+1<t.dataModel.propertyDetailGroups.length),o(),d("ngIf",i+1===t.dataModel.propertyDetailGroups.length)}}function IC(n,l){if(n&1){let e=E();r(0,"button",22),I("click",function(){u(e);let t=p(3);return f(t.onActionNext())}),S(1,"i",23),c(2," < "),a()}}function EC(n,l){if(n&1){let e=E();r(0,"button",22),I("click",function(){u(e);let t=p(3);return f(t.onActionPervious())}),S(1,"i",23),c(2," > "),a()}}function MC(n,l){if(n&1){let e=E();r(0,"div",52)(1,"button",22),I("click",function(){u(e);let t=p(2);return f(t.onFormCancel())}),S(2,"i",23),c(3),g(4,"translate"),a(),C(5,IC,3,0,"button",10)(6,EC,3,0,"button",10),a()}if(n&2){let e=p(2);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("ngIf",e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0),o(),d("ngIf",e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0)}}function bC(n,l){if(n&1&&(A(0),r(1,"div",9),C(2,gS,3,0,"button",10)(3,hS,3,0,"button",10),S(4,"hr"),a(),r(5,"div",11)(6,"table",12)(7,"tbody")(8,"tr")(9,"td")(10,"b"),c(11),g(12,"translate"),a()(),r(13,"td")(14,"b"),c(15),a()()(),r(16,"tr")(17,"td")(18,"b"),c(19),a()(),r(20,"td")(21,"b"),c(22),a()()(),r(23,"tr")(24,"td"),c(25),g(26,"translate"),a(),r(27,"td"),c(28),a()(),r(29,"tr")(30,"td"),c(31),a(),r(32,"td"),S(33,"i",13),g(34,"statusIconClass"),a()(),r(35,"tr")(36,"td"),c(37),a(),r(38,"td"),c(39),a()(),r(40,"tr")(41,"td"),c(42),a(),r(43,"td"),c(44),g(45,"localeDateTime"),a()(),C(46,yS,6,4,"tr",8),r(47,"tr")(48,"td"),c(49),a(),r(50,"td",14),c(51),g(52,"cmsuserinfo"),g(53,"async"),a()(),C(54,SS,6,4,"tr",8),r(55,"tr")(56,"td"),c(57),g(58,"translate"),a(),r(59,"td"),c(60),S(61,"br"),c(62),a()(),C(63,CS,6,4,"tr",8)(64,vS,5,2,"tr",8)(65,IS,5,2,"tr",8)(66,ES,5,2,"tr",8)(67,MS,5,2,"tr",8)(68,bS,5,2,"tr",8)(69,TS,5,2,"tr",8)(70,wS,6,4,"tr",8)(71,xS,6,4,"tr",8)(72,AS,5,2,"tr",8),a()(),S(73,"hr"),r(74,"p"),c(75),g(76,"translate"),a(),C(77,lC,22,3,"div",15),S(78,"hr"),r(79,"mat-accordion",16),C(80,vC,13,8,"mat-expansion-panel",17),S(81,"br"),a()(),r(82,"div",18),S(83,"app-cms-form-result-message",19),a(),r(84,"div",20),C(85,MC,7,5,"div",21),a(),P()),n&2){let e=p();o(2),d("ngIf",e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0),o(),d("ngIf",e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0),o(8),y(" ",h(12,36,"TITLE.Sharing_Key"),":"),o(4),M(e.dataModel.sharingKey),o(4),y("",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle,":"),o(3),M(e.dataModel.caseCode),o(3),y("",h(26,38,"TITLE.Property_Type"),":"),o(3),M(e.propertyTypeLanduse),o(3),y("",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle,":"),o(2),d("ngClass",h(34,40,e.dataModel.recordStatus)),o(4),y("",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle,":"),o(2),M(e.dataModel.title),o(3),y("",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle,":"),o(2),M(h(45,42,e.dataModel.createdDate)),o(2),d("ngIf",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.accessWatchField),o(3),y("",e.fieldsInfo.createdBy==null?null:e.fieldsInfo.createdBy.fieldTitle,":"),o(2),y(" ",h(53,46,h(52,44,e.dataModel.createdBy))," "),o(3),d("ngIf",e.dataModel.createdYaer>0),o(3),y("",h(58,48,"TITLE.Region"),":"),o(3),y(" ",e.dataModel.linkLocationIdParentTitle),o(2),y("",e.dataModel.linkLocationIdTitle," "),o(),d("ngIf",e.dataModel.partition>0),o(),d("ngIf",e.dataModel.area>0),o(),d("ngIf",(e.dataModel.aboutAgentMobile==null?null:e.dataModel.aboutAgentMobile.length)>0),o(),d("ngIf",(e.dataModel.aboutAgentTel==null?null:e.dataModel.aboutAgentTel.length)>0),o(),d("ngIf",(e.dataModel.aboutCustomerMobile==null?null:e.dataModel.aboutCustomerMobile.length)>0),o(),d("ngIf",(e.dataModel.aboutCustomerTel==null?null:e.dataModel.aboutCustomerTel.length)>0),o(),d("ngIf",(e.dataModel.address==null?null:e.dataModel.address.length)>0),o(),d("ngIf",(e.dataModel.description==null?null:e.dataModel.description.length)>0),o(),d("ngIf",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.accessWatchField),o(),d("ngIf",e.fieldsInfo.addressHidden==null?null:e.fieldsInfo.addressHidden.accessWatchField),o(3),y(" ",h(76,50,"TITLE.List_Of_Transaction_Details_Of_This_Property")," "),o(2),d("ngIf",!e.publicHelper.processService.process.inRunAll),o(3),d("ngForOf",e.dataModel.propertyDetailGroups),o(3),d("formInfo",e.formInfo),o(2),d("ngIf",e.formInfo.submitButtonEnabled&&!e.publicHelper.processService.process.inRunAll)}}var yl=class yl{constructor(l,e,i,t,s,_,m,k,z,Se,qe){this.data=l;this.dialogRef=e;this.coreEnumService=i;this.estatePropertyService=t;this.estateContractTypeService=s;this.cmsToastrService=_;this.tokenHelper=m;this.cmsStoreService=k;this.cdr=z;this.publicHelper=Se;this.translate=qe;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new It;this.dataModelResult=new G;this.dataModelEstateContractTypeResult=new G;this.dataModel=new Ki;this.formInfo=new ue;this.fieldsInfo=new Map;this.optionTabledataSource=new mi;this.optionTabledisplayedColumns=["LinkEstateContractTypeId","Price"];this.fileManagerOpenForm=!1;this.errorMessage="";this.propertyTypeLanduse="";this.contractType="";this.propertyDetails=new Map;this.enumInputDataType=Oi;this.unsubscribe=[];this.step=0;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=l.id+"",this.requestPerviousItem=l.perviousItem,this.requestNextItem=l.nextItem)}ngOnInit(){if(this.translate.get("TITLE.QUICK_VIEW").subscribe(l=>{this.formInfo.formTitle=l}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getEstateContractType(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>ae(this,null,function*(){this.tokenInfo=l,this.getEstateContractType()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}keyEvent(l){(l?.key==="39"||l?.key==="ArrowRight")&&this.onActionNext(),(l?.key==="37"||l?.key==="ArrowLeft")&&this.onActionPervious()}getEstateContractType(){let l=this.constructor.name+"getEstateContractType";this.translate.get("TITLE.Get_Estate_Contract_Type").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.estateContractTypeService.ServiceGetAll(null).subscribe({next:e=>{this.dataModelEstateContractTypeResult=e,this.publicHelper.processService.processStop(l)},error:e=>{this.publicHelper.processService.processStop(l)}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.estatePropertyService.setAccessLoad(),this.estatePropertyService.setAccessDataType(Ne.Editor),this.estatePropertyService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,this.propertyTypeLanduse=this.dataModel.propertyTypeLanduse?.titleML,e.isSuccess?(this.optionTabledataSource.data=this.dataModel.contracts,this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.dataModel.propertyDetailGroups&&this.dataModel.propertyDetailGroups.forEach(i=>{i.propertyDetails.forEach(t=>{if(this.propertyDetails[t.id]=0,this.dataModel.propertyDetailValues){let s=this.dataModel.propertyDetailValues.find(_=>_.linkPropertyDetailId===t.id);s&&(this.propertyDetails[t.id]=s.value)}})}),this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.errorMessage=e.errorMessage+"<br> ( "+e.errorTypeTitle+" ) ",this.cmsToastrService.typeErrorMessage(this.errorMessage)),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}setStep(l){this.step=l}nextStep(){this.step++}prevStep(){this.step--}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionNext(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestNextItem})}onActionPervious(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestPerviousItem})}};yl.\u0275fac=function(e){return new(e||yl)(v(Te),v(be),v(X),v(gi),v(Ai),v(V),v(Z),v(J),v(O),v(F),v(L))},yl.\u0275cmp=D({type:yl,selectors:[["app-estate-property-quick-view"]],viewQuery:function(e,i){if(e&1&&te(_S,5),e&2){let t;ie(t=ne())&&(i.formGroup=t.first)}},hostBindings:function(e,i){e&1&&I("keyup",function(s){return i.keyEvent(s)},lm)},standalone:!1,decls:12,vars:4,consts:[[1,"card","card-style","loader-container",2,"height","100vh","overflow-y","auto"],[3,"optionsInfoAreaId"],[1,"menu-title"],[1,"color-highlight"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],[1,"ntk-cms-html-card-header"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray",3,"click",4,"ngIf"],["dir","rtl",1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[1,"table","table-striped","ntk-cms-html-table"],[3,"ngClass"],[1,"input-ltr-right"],["class","example-container mat-elevation-z8",4,"ngIf"],[1,"example-headers-align"],[3,"expanded","opened",4,"ngFor","ngForOf"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],[1,"example-container","mat-elevation-z8"],["multiTemplateDataRows","",3,"dataSource"],["matColumnDef","LinkEstateContractTypeId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Price"],["matColumnDef","SalePrice"],["matColumnDef","DepositPrice"],["matColumnDef","RentPrice"],["matColumnDef","PeriodPrice"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even",4,"matRowDef","matRowDefColumns"],[3,"opened","expanded"],[4,"ngFor","ngForOf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue",3,"click",4,"ngIf"],[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],["class","ntk-full-width",4,"ngSwitchCase"],["class","ntk-full-width",4,"ngSwitchDefault"],[1,"ntk-full-width"],["aria-hidden","true",3,"ngClass"],[3,"modelChange","model","optionForceUseDefaultValue","optionMultipleChoice","optionDefaultValue","optionDisabled","optionDisplayOnlyValid","optionLabel"],[3,"modelChange","model","optionDisabled","optionLabel"],[3,"modelChange","model","optionDisabled"],[3,"modelChange","model","optionForceUseDefaultValue","optionMultipleChoice","optionDefaultValue","optionDisabled","optionLabel"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[1,"form-actions"]],template:function(e,i){e&1&&(r(0,"div",0),S(1,"app-progress-spinner",1),r(2,"div",2)(3,"p",3),c(4),a(),r(5,"a",4),I("click",function(){return i.onFormCancel()}),S(6,"i",5),a(),S(7,"hr"),a(),r(8,"div",6)(9,"p",7),c(10),a(),C(11,bC,86,52,"ng-container",8),a()()),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(3),M(i.formInfo.formTitle),o(6),y(" ",i.formInfo.formDescription," "),o(),d("ngIf",!i.publicHelper.processService.process.inRunAll))},dependencies:[ce,He,N,Io,Eo,Mo,_i,Lo,Ao,Po,Ro,Do,ko,Ee,nt,rt,dt,at,ot,ct,lt,st,pt,mt,U,ge,lo,so,co,po,mo,uo,We,bo,B,Qn,Li,ro,Zt],encapsulation:2});var Zo=yl;var TC=["vform"],wC=n=>({direction:n}),xC=()=>["fa"];function AC(n,l){n&1&&S(0,"i",37)}function PC(n,l){n&1&&S(0,"i",38)}function RC(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function kC(n,l){n&1&&S(0,"i",37)}function DC(n,l){n&1&&S(0,"i",38)}function LC(n,l){n&1&&(r(0,"mat-error"),c(1," TitleResourceLanguage is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function VC(n,l){if(n&1){let e=E();r(0,"div",19)(1,"label",39),c(2),a(),r(3,"input",40,4),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),f(t)}),a(),C(5,kC,1,0,"i",22)(6,DC,1,0,"i",23),r(7,"em"),c(8),a(),C(9,LC,5,3,"mat-error",24),a()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titleResourceLanguage),d("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessEditField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function BC(n,l){if(n&1){let e=E();r(0,"div",41)(1,"div",42)(2,"h5",43),c(3),a()(),r(4,"div",44)(5,"div",45)(6,"input",46),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.createdYearActive,t)||(s.dataModel.createdYearActive=t),f(t)}),a(),S(7,"label",47),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.createdYearActive==null?null:e.fieldsInfo.createdYearActive.fieldTitle," "),o(3),b("ngModel",e.dataModel.createdYearActive)}}function FC(n,l){n&1&&S(0,"i",37)}function OC(n,l){n&1&&S(0,"i",38)}function NC(n,l){n&1&&(r(0,"mat-error"),c(1," TitleCreatedYaer is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function HC(n,l){if(n&1){let e=E();r(0,"div",19)(1,"label",48),c(2),a(),r(3,"input",49,5),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titleCreatedYaer,t)||(s.dataModel.titleCreatedYaer=t),f(t)}),a(),C(5,FC,1,0,"i",22)(6,OC,1,0,"i",23),r(7,"em"),c(8),a(),C(9,NC,5,3,"mat-error",24),a()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.titleCreatedYaer==null?null:i.fieldsInfo.titleCreatedYaer.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleCreatedYaer==null?null:i.fieldsInfo.titleCreatedYaer.fieldTitle)),b("ngModel",i.dataModel.titleCreatedYaer),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function WC(n,l){if(n&1){let e=E();r(0,"div",19)(1,"label",50),c(2,"TitleCreatedYaerML"),a(),r(3,"input",51,6),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titleCreatedYaerML,t)||(s.dataModel.titleCreatedYaerML=t),f(t)}),a()()}if(n&2){let e=p();o(3),d("placeholder",x(e.fieldsInfo.titleCreatedYaerML==null?null:e.fieldsInfo.titleCreatedYaerML.fieldTitle)),b("ngModel",e.dataModel.titleCreatedYaerML),d("disabled",!0)}}function GC(n,l){n&1&&S(0,"i",37)}function UC(n,l){n&1&&S(0,"i",38)}function jC(n,l){n&1&&(r(0,"mat-error"),c(1," TitleCreatedYaerResourceLanguage is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function qC(n,l){if(n&1){let e=E();r(0,"div",19)(1,"label",52),c(2),a(),r(3,"input",53,7),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titleCreatedYaerResourceLanguage,t)||(s.dataModel.titleCreatedYaerResourceLanguage=t),f(t)}),a(),C(5,GC,1,0,"i",22)(6,UC,1,0,"i",23),r(7,"em"),c(8),a(),C(9,jC,5,3,"mat-error",24),a()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.titleCreatedYaerResourceLanguage==null?null:i.fieldsInfo.titleCreatedYaerResourceLanguage.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleCreatedYaerResourceLanguage==null?null:i.fieldsInfo.titleCreatedYaerResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titleCreatedYaerResourceLanguage),d("disabled",!(i.fieldsInfo.titleCreatedYaerResourceLanguage!=null&&i.fieldsInfo.titleCreatedYaerResourceLanguage.accessEditField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function QC(n,l){if(n&1){let e=E();r(0,"div",41)(1,"div",42)(2,"h5",54),c(3),a()(),r(4,"div",44)(5,"div",45)(6,"input",55),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.partitionActive,t)||(s.dataModel.partitionActive=t),f(t)}),a(),S(7,"label",56),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.partitionActive==null?null:e.fieldsInfo.partitionActive.fieldTitle," "),o(3),b("ngModel",e.dataModel.partitionActive)}}function zC(n,l){n&1&&S(0,"i",37)}function YC(n,l){n&1&&S(0,"i",38)}function KC(n,l){n&1&&(r(0,"mat-error"),c(1," TitlePartition is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function ZC(n,l){if(n&1){let e=E();r(0,"div",19)(1,"label",57),c(2),a(),r(3,"input",58,8),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titlePartition,t)||(s.dataModel.titlePartition=t),f(t)}),a(),C(5,zC,1,0,"i",22)(6,YC,1,0,"i",23),r(7,"em"),c(8),a(),C(9,KC,5,3,"mat-error",24),a()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.titlePartition==null?null:i.fieldsInfo.titlePartition.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titlePartition==null?null:i.fieldsInfo.titlePartition.fieldTitle)),b("ngModel",i.dataModel.titlePartition),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function JC(n,l){if(n&1){let e=E();r(0,"div",19)(1,"label",59),c(2,"TitlePartitionML"),a(),r(3,"input",60),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titlePartitionML,t)||(s.dataModel.titlePartitionML=t),f(t)}),a()()}if(n&2){let e=p();o(3),b("ngModel",e.dataModel.titlePartitionML),d("disabled",!0)}}function XC(n,l){n&1&&S(0,"i",37)}function $C(n,l){n&1&&S(0,"i",38)}function ev(n,l){n&1&&(r(0,"mat-error"),c(1," TitlePartitionResourceLanguage is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function tv(n,l){if(n&1){let e=E();r(0,"div",19)(1,"label",61),c(2),a(),r(3,"input",62,9),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titlePartitionResourceLanguage,t)||(s.dataModel.titlePartitionResourceLanguage=t),f(t)}),a(),C(5,XC,1,0,"i",22)(6,$C,1,0,"i",23),r(7,"em"),c(8),a(),C(9,ev,5,3,"mat-error",24),a()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.titlePartitionResourceLanguage==null?null:i.fieldsInfo.titlePartitionResourceLanguage.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titlePartitionResourceLanguage==null?null:i.fieldsInfo.titlePartitionResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titlePartitionResourceLanguage),d("disabled",!(i.fieldsInfo.titlePartitionResourceLanguage!=null&&i.fieldsInfo.titlePartitionResourceLanguage.accessEditField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function iv(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function nv(n,l){if(n&1){let e=E();r(0,"div",19)(1,"label",63),c(2),a(),r(3,"input",64,10),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),I("iconPickerSelect",function(t){u(e);let s=p();return f(s.onIconPickerSelect(t))}),a(),r(5,"span",65),S(6,"i",66),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",se(9,xC))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),o(3),d("ngClass",e.dataModel.iconFont)}}function ov(n,l){if(n&1){let e=E();r(0,"div",67)(1,"label",68),c(2),a(),r(3,"div",69)(4,"div",70)(5,"input",71,11),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),a()(),r(7,"div",72),S(8,"ngx-mat-color-toggle",73)(9,"ngx-mat-color-picker",74,12),a()()()}if(n&2){let e=R(10),i=p();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ve("background",i.dataModel.iconColor),d("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),d("for",e),o(),d("touchUi",!0)("color","primary")}}function rv(n,l){if(n&1&&(S(0,"img",75),g(1,"cmsthumbnail")),n&2){let e=p();d("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function av(n,l){if(n&1){let e=E();r(0,"div",76)(1,"button",77),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",78),c(3),g(4,"translate"),a(),r(5,"button",79),S(6,"i",80),c(7),g(8,"translate"),a()()}if(n&2){p();let e=R(10);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",h(8,5,"ACTION.SAVE")," ")}}var Cl=class Cl extends Bt{constructor(e,i,t,s,_,m,k,z,Se,qe){super(s,new Qt,k,qe);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyTypeLanduseService=s;this.cmsToastrService=_;this.cmsStoreService=m;this.publicHelper=k;this.cdr=z;this.tokenHelper=Se;this.translate=qe;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new It;this.dataModelResult=new G;this.dataModel=new Qt;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyTypeLanduseService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Cl.\u0275fac=function(i){return new(i||Cl)(v(Te),v(be),v(X),v(Ei),v(V),v(J),v(F),v(O),v(Z),v(L))},Cl.\u0275cmp=D({type:Cl,selectors:[["app-estate-property-type-landuse-add"]],viewQuery:function(i,t){if(i&1&&te(TC,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:54,vars:56,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["TitleResourceLanguage",""],["TitleCreatedYaer",""],["TitleCreatedYaerML",""],["TitleCreatedYaerResourceLanguage",""],["TitlePartition",""],["TitlePartitionResourceLanguage",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.createdYearActive",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.createdYearActive","name","dataModel.createdYearActive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.createdYearActive",1,"custom-control-label"],["for","dataModel.titleCreatedYaer",1,"color-highlight"],["type","text","name","dataModel.titleCreatedYaer","minlength","3","maxlength","100","required","","id","dataModel.titleCreatedYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleCreatedYaerML",1,"color-highlight"],["type","text","name","dataModel.titleCreatedYaerML","id","dataModel.titleCreatedYaerML",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.titleCreatedYaerResourceLanguage",1,"color-highlight"],["type","text","name","dataModel.titleCreatedYaerResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleCreatedYaerResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["data-trigger-switch","dataModel.partitionActive",1,"font-600","font-14"],["type","checkbox","id","dataModel.partitionActive","name","dataModel.partitionActive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.partitionActive",1,"custom-control-label"],["for","dataModel.titlePartition",1,"color-highlight"],["type","text","name","dataModel.titlePartition","minlength","3","maxlength","100","required","","id","dataModel.titlePartition",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titlePartitionML",1,"color-highlight"],["type","text","name","dataModel.titlePartitionML","id","dataModel.titlePartitionML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titlePartitionResourceLanguage",1,"color-highlight"],["type","text","name","dataModel.titlePartitionResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titlePartitionResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",13),S(1,"app-progress-spinner",14),r(2,"div",15)(3,"p",16),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",17),r(9,"form",18,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"div",19)(12,"label",20),c(13),a(),r(14,"input",21,1),w("ngModelChange",function(m){return u(s),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),C(16,AC,1,0,"i",22)(17,PC,1,0,"i",23),r(18,"em"),c(19),a(),C(20,RC,5,3,"mat-error",24),a(),C(21,VC,10,9,"div",25)(22,BC,8,2,"div",26)(23,HC,10,8,"div",25)(24,WC,5,4,"div",25)(25,qC,10,9,"div",25)(26,QC,8,2,"div",26)(27,ZC,10,8,"div",25)(28,JC,4,2,"div",25)(29,tv,10,9,"div",25),r(30,"div",19)(31,"label",27),c(32),a(),r(33,"textarea",28,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(35,"        "),a(),r(36,"em"),c(37),a(),C(38,iv,5,3,"mat-error",24),a(),C(39,nv,7,10,"div",25)(40,ov,11,11,"div",29),r(41,"div",30)(42,"a",31),g(43,"cmsthumbnail"),C(44,rv,2,4,"img",32),a()(),r(45,"div",19)(46,"label",33),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(47),g(48,"translate"),a(),r(49,"input",34,3),g(51,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(52,"cms-file-manager",35),I("itemSelected",function(m){return u(s),f(t.onActionFileSelected(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),a()(),C(53,av,9,7,"div",36),a()()()}if(i&2){let s=R(15),_=R(34);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,46,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(),d("ngStyle",ze(54,wC,t.tokenInfo.access.direction)),o(4),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.accessWatchField),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.dataModel.createdYearActive),o(),d("ngIf",t.dataModel.createdYearActive),o(),d("ngIf",(t.fieldsInfo.titleCreatedYaerResourceLanguage==null?null:t.fieldsInfo.titleCreatedYaerResourceLanguage.accessWatchField)&&t.dataModel.createdYearActive),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.dataModel.partitionActive),o(),d("ngIf",t.dataModel.partitionActive),o(),d("ngIf",(t.fieldsInfo.titlePartitionResourceLanguage==null?null:t.fieldsInfo.titlePartitionResourceLanguage.accessWatchField)&&t.dataModel.partitionActive),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",_.value.length," / 500"),o(),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.accessWatchField),o(2),d("href",x(h(43,48,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(h(48,50,"TITLE.PICTURE")),o(2),d("placeholder",x(h(51,52,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0)("openDirectUploadView",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[ce,N,it,ke,Y,qt,q,we,de,De,Pe,me,Re,xe,tt,Q,U,ge,si,li,ai,ri,_t,B,Me],encapsulation:2});var vl=Cl;function lv(n,l){if(n&1){let e=E();r(0,"li")(1,"mat-checkbox",1),I("change",function(){let t=u(e).$implicit,s=p();return f(s.onActionSelect(t))}),c(2),a()()}if(n&2){let e=l.$implicit,i=p();o(),d("checked",i.fieldsStatus.get(e.id))("disabled",i.optionDisabled),o(),y(" ",e.titleML," ")}}var Il=class Il{constructor(l,e,i,t,s,_,m,k){this.coreEnumService=l;this.categoryService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.tokenHelper=_;this.cmsStoreService=m;this.cmsToastrService=k;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=[];this.dataIdsSelect=[];this.formControl=new Et;this.fieldsStatus=new Map;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionChange=new Xe;this.optionSelectAdded=new Xe;this.optionSelectRemoved=new Xe;this.optionReload=()=>this.onActionButtonReload();this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(()=>ae(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetAll(){let l=new pe;l.rowPerPage=50,l.accessLoad=!0;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(l).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataModelResult.listItems.forEach(t=>this.fieldsStatus.set(t.id,!1)),this.dataIdsSelect.forEach(t=>this.fieldsStatus.set(t,!0)),this.dataModelResult.listItems.forEach(t=>{this.fieldsStatus.get(t.id)&&this.dataModelSelect.push(t)})):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelect(l){this.fieldsStatus.get(l.id)?(this.fieldsStatus.set(l.id,!1),this.optionSelectRemoved.emit(l),this.dataModelSelect.splice(this.dataModelSelect.indexOf(l),1)):(this.fieldsStatus.set(l.id,!0),this.optionSelectAdded.emit(l),this.dataModelSelect.push(l)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(l){typeof l==typeof Array(String)?l.forEach(e=>{this.dataIdsSelect.push(e)}):typeof l==typeof Array(Dn)&&l.forEach(e=>{this.dataIdsSelect.push(e.id)}),this.dataIdsSelect.forEach(e=>this.fieldsStatus.set(e,!0))}onActionButtonReload(){this.DataGetAll()}};Il.\u0275fac=function(e){return new(e||Il)(v(X),v(En),v(O),v(F),v(L),v(Z),v(J),v(V))},Il.\u0275cmp=D({type:Il,selectors:[["app-estate-property-type-usage-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},standalone:!1,decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"change","checked","disabled"]],template:function(e,i){e&1&&(r(0,"ul"),C(1,lv,3,3,"li",0),a()),e&2&&(o(),d("ngForOf",i.dataModelResult.listItems))},dependencies:[He,Fa],encapsulation:2});var Bc=Il;var dv=["vform"],cv=n=>({direction:n}),pv=()=>["fa"];function mv(n,l){n&1&&S(0,"i",41)}function uv(n,l){n&1&&S(0,"i",42)}function fv(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),M(h(4,2,"MESSAGE.required"))}}function _v(n,l){n&1&&S(0,"i",41)}function gv(n,l){n&1&&S(0,"i",42)}function hv(n,l){n&1&&(r(0,"mat-error"),c(1," TitleResourceLanguage is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function yv(n,l){if(n&1){let e=E();r(0,"div",20)(1,"label",43),c(2),a(),r(3,"input",44,5),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),f(t)}),a(),C(5,_v,1,0,"i",23)(6,gv,1,0,"i",24),r(7,"em"),c(8),a(),C(9,hv,5,3,"mat-error",25),a()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titleResourceLanguage),d("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessEditField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Sv(n,l){if(n&1){let e=E();r(0,"div",45)(1,"div",46)(2,"h5",47),c(3),a()(),r(4,"div",48)(5,"div",49)(6,"input",50),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.createdYearActive,t)||(s.dataModel.createdYearActive=t),f(t)}),a(),S(7,"label",51),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.createdYearActive==null?null:e.fieldsInfo.createdYearActive.fieldTitle," "),o(3),b("ngModel",e.dataModel.createdYearActive)}}function Cv(n,l){n&1&&S(0,"i",41)}function vv(n,l){n&1&&S(0,"i",42)}function Iv(n,l){n&1&&(r(0,"mat-error"),c(1," TitleCreatedYaer is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function Ev(n,l){if(n&1){let e=E();r(0,"div",20)(1,"label",52),c(2),a(),r(3,"input",53,6),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titleCreatedYaer,t)||(s.dataModel.titleCreatedYaer=t),f(t)}),a(),C(5,Cv,1,0,"i",23)(6,vv,1,0,"i",24),r(7,"em"),c(8),a(),C(9,Iv,5,3,"mat-error",25),a()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.titleCreatedYaer==null?null:i.fieldsInfo.titleCreatedYaer.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleCreatedYaer==null?null:i.fieldsInfo.titleCreatedYaer.fieldTitle)),b("ngModel",i.dataModel.titleCreatedYaer),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Mv(n,l){if(n&1){let e=E();r(0,"div",20)(1,"label",54),c(2,"TitleCreatedYaerML"),a(),r(3,"input",55,7),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titleCreatedYaerML,t)||(s.dataModel.titleCreatedYaerML=t),f(t)}),a()()}if(n&2){let e=p();o(3),d("placeholder",x(e.fieldsInfo.titleCreatedYaerML==null?null:e.fieldsInfo.titleCreatedYaerML.fieldTitle)),b("ngModel",e.dataModel.titleCreatedYaerML),d("disabled",!0)}}function bv(n,l){n&1&&S(0,"i",41)}function Tv(n,l){n&1&&S(0,"i",42)}function wv(n,l){n&1&&(r(0,"mat-error"),c(1," TitleCreatedYaerResourceLanguage is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function xv(n,l){if(n&1){let e=E();r(0,"div",20)(1,"label",56),c(2),a(),r(3,"input",57,8),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titleCreatedYaerResourceLanguage,t)||(s.dataModel.titleCreatedYaerResourceLanguage=t),f(t)}),a(),C(5,bv,1,0,"i",23)(6,Tv,1,0,"i",24),r(7,"em"),c(8),a(),C(9,wv,5,3,"mat-error",25),a()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.titleCreatedYaerResourceLanguage==null?null:i.fieldsInfo.titleCreatedYaerResourceLanguage.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleCreatedYaerResourceLanguage==null?null:i.fieldsInfo.titleCreatedYaerResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titleCreatedYaerResourceLanguage),d("disabled",!(i.fieldsInfo.titleCreatedYaerResourceLanguage!=null&&i.fieldsInfo.titleCreatedYaerResourceLanguage.accessEditField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Av(n,l){if(n&1){let e=E();r(0,"div",45)(1,"div",46)(2,"h5",58),c(3),a()(),r(4,"div",48)(5,"div",49)(6,"input",59),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.partitionActive,t)||(s.dataModel.partitionActive=t),f(t)}),a(),S(7,"label",60),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.partitionActive==null?null:e.fieldsInfo.partitionActive.fieldTitle," "),o(3),b("ngModel",e.dataModel.partitionActive)}}function Pv(n,l){n&1&&S(0,"i",41)}function Rv(n,l){n&1&&S(0,"i",42)}function kv(n,l){n&1&&(r(0,"mat-error"),c(1," TitlePartition is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function Dv(n,l){if(n&1){let e=E();r(0,"div",20)(1,"label",61),c(2),a(),r(3,"input",62,9),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titlePartition,t)||(s.dataModel.titlePartition=t),f(t)}),a(),C(5,Pv,1,0,"i",23)(6,Rv,1,0,"i",24),r(7,"em"),c(8),a(),C(9,kv,5,3,"mat-error",25),a()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.titlePartition==null?null:i.fieldsInfo.titlePartition.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titlePartition==null?null:i.fieldsInfo.titlePartition.fieldTitle)),b("ngModel",i.dataModel.titlePartition),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Lv(n,l){if(n&1){let e=E();r(0,"div",20)(1,"label",63),c(2,"TitlePartitionML"),a(),r(3,"input",64),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titlePartitionML,t)||(s.dataModel.titlePartitionML=t),f(t)}),a()()}if(n&2){let e=p();o(3),b("ngModel",e.dataModel.titlePartitionML),d("disabled",!0)}}function Vv(n,l){n&1&&S(0,"i",41)}function Bv(n,l){n&1&&S(0,"i",42)}function Fv(n,l){n&1&&(r(0,"mat-error"),c(1," TitlePartitionResourceLanguage is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function Ov(n,l){if(n&1){let e=E();r(0,"div",20)(1,"label",65),c(2),a(),r(3,"input",66,10),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titlePartitionResourceLanguage,t)||(s.dataModel.titlePartitionResourceLanguage=t),f(t)}),a(),C(5,Vv,1,0,"i",23)(6,Bv,1,0,"i",24),r(7,"em"),c(8),a(),C(9,Fv,5,3,"mat-error",25),a()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.titlePartitionResourceLanguage==null?null:i.fieldsInfo.titlePartitionResourceLanguage.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titlePartitionResourceLanguage==null?null:i.fieldsInfo.titlePartitionResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titlePartitionResourceLanguage),d("disabled",!(i.fieldsInfo.titlePartitionResourceLanguage!=null&&i.fieldsInfo.titlePartitionResourceLanguage.accessEditField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Nv(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function Hv(n,l){if(n&1){let e=E();r(0,"div",20)(1,"label",67),c(2),a(),r(3,"input",68,11),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),I("iconPickerSelect",function(t){u(e);let s=p();return f(s.onIconPickerSelect(t))}),a(),r(5,"span",69),S(6,"i",70),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",se(9,pv))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),o(3),d("ngClass",e.dataModel.iconFont)}}function Wv(n,l){if(n&1){let e=E();r(0,"div",71)(1,"label",72),c(2),a(),r(3,"div",73)(4,"div",74)(5,"input",75,12),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),a()(),r(7,"div",76),S(8,"ngx-mat-color-toggle",77)(9,"ngx-mat-color-picker",78,13),a()()()}if(n&2){let e=R(10),i=p();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ve("background",i.dataModel.iconColor),d("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),d("for",e),o(),d("touchUi",!0)("color","primary")}}function Gv(n,l){if(n&1&&(S(0,"img",79),g(1,"cmsthumbnail")),n&2){let e=p();d("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function Uv(n,l){if(n&1){let e=E();r(0,"div",80)(1,"button",81),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",82),c(3),g(4,"translate"),a(),r(5,"button",83),S(6,"i",84),c(7),g(8,"translate"),a()()}if(n&2){p();let e=R(10);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",h(8,5,"ACTION.SAVE")," ")}}var El=class El extends Ut{constructor(e,i,t,s,_,m,k,z,Se,qe,Ue){super(s,new Qt,z,Ue);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyTypeLanduseService=s;this.estatePropertyTypeService=_;this.cmsToastrService=m;this.cmsStoreService=k;this.publicHelper=z;this.cdr=Se;this.tokenHelper=qe;this.translate=Ue;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ht;this.dataModel=new Qt;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.dataEstatePropertyTypeUsageIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyTypeLanduseService.setAccessLoad(),this.estatePropertyTypeLanduseService.setAccessDataType(Ne.Editor),this.estatePropertyTypeLanduseService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new pe,t=new H;t.propertyName="LinkPropertyTypeLanduseId",t.value=this.requestId,i.filters.push(t),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:s=>{this.dataEstatePropertyTypeModel=s.listItems;let _=[];this.dataEstatePropertyTypeModel.forEach(m=>{_.push(m.linkPropertyTypeUsageId)}),this.dataEstatePropertyTypeUsageIds=_,s.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.submitResultMessage=m}),this.formInfo.submitResultMessage=s.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyTypeLanduseService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorUserCategorySelect(e){this.dataEstatePropertyTypeUsageModel=e}onActionSelectorUserCategorySelectAdded(e){let i=new xa;i.linkPropertyTypeUsageId=e.id,i.linkPropertyTypeLanduseId=this.dataModel.id,this.estatePropertyTypeService.ServiceAdd(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onActionSelectorUserCategorySelectRemoved(e){let i=new xa;i.linkPropertyTypeUsageId=e.id,i.linkPropertyTypeLanduseId=this.dataModel.id,this.estatePropertyTypeService.ServiceDeleteEntity(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};El.\u0275fac=function(i){return new(i||El)(v(Te),v(be),v(X),v(Ei),v(_n),v(V),v(J),v(F),v(O),v(Z),v(L))},El.\u0275cmp=D({type:El,selectors:[["app-estate-property-type-landuse-edit"]],viewQuery:function(i,t){if(i&1&&te(dv,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:60,vars:62,consts:[["vform","ngForm"],["Title",""],["TitleML",""],["Description",""],["LinkMainImageId",""],["TitleResourceLanguage",""],["TitleCreatedYaer",""],["TitleCreatedYaerML",""],["TitleCreatedYaerResourceLanguage",""],["TitlePartition",""],["TitlePartitionResourceLanguage",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.titleML",1,"color-highlight"],["type","text","cmsKeyboardForce","en","name","dataModel.titleML","minlength","3","maxlength","100","required","","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.createdYearActive",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.createdYearActive","name","dataModel.createdYearActive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.createdYearActive",1,"custom-control-label"],["for","dataModel.titleCreatedYaer",1,"color-highlight"],["type","text","name","dataModel.titleCreatedYaer","minlength","3","maxlength","100","required","","id","dataModel.titleCreatedYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleCreatedYaerML",1,"color-highlight"],["type","text","name","dataModel.titleCreatedYaerML","id","dataModel.titleCreatedYaerML",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.titleCreatedYaerResourceLanguage",1,"color-highlight"],["type","text","name","dataModel.titleCreatedYaerResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleCreatedYaerResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["data-trigger-switch","dataModel.partitionActive",1,"font-600","font-14"],["type","checkbox","id","dataModel.partitionActive","name","dataModel.partitionActive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.partitionActive",1,"custom-control-label"],["for","dataModel.titlePartition",1,"color-highlight"],["type","text","name","dataModel.titlePartition","minlength","3","maxlength","100","required","","id","dataModel.titlePartition",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titlePartitionML",1,"color-highlight"],["type","text","name","dataModel.titlePartitionML","id","dataModel.titlePartitionML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titlePartitionResourceLanguage",1,"color-highlight"],["type","text","name","dataModel.titlePartitionResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titlePartitionResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",14),S(1,"app-progress-spinner",15),r(2,"div",16)(3,"p",17),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",18),r(9,"form",19,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"div",20)(12,"label",21),c(13),a(),r(14,"input",22,1),w("ngModelChange",function(m){return u(s),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),C(16,mv,1,0,"i",23)(17,uv,1,0,"i",24),r(18,"em"),c(19),a(),C(20,fv,5,4,"mat-error",25),a(),r(21,"div",20)(22,"label",26),c(23,"TitleML"),a(),r(24,"input",27,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.titleML,m)||(t.dataModel.titleML=m),f(m)}),a()(),C(26,yv,10,9,"div",28)(27,Sv,8,2,"div",29)(28,Ev,10,8,"div",28)(29,Mv,5,4,"div",28)(30,xv,10,9,"div",28)(31,Av,8,2,"div",29)(32,Dv,10,8,"div",28)(33,Lv,4,2,"div",28)(34,Ov,10,9,"div",28),r(35,"div",20)(36,"label",30),c(37),a(),r(38,"textarea",31,3),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(40,"        "),a(),r(41,"em"),c(42),a(),C(43,Nv,5,3,"mat-error",25),a(),C(44,Hv,7,10,"div",28)(45,Wv,11,11,"div",32),r(46,"div",33)(47,"a",34),g(48,"cmsthumbnail"),C(49,Gv,2,4,"img",35),a()(),r(50,"div",20)(51,"label",36),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(52),g(53,"translate"),a(),r(54,"input",37,4),g(56,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(57,"cms-file-manager",38),I("itemSelected",function(m){return u(s),f(t.onActionFileSelected(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),a()(),r(58,"app-estate-property-type-usage-selectionlist",39),I("optionChange",function(m){return u(s),f(t.onActionSelectorUserCategorySelect(m))})("optionSelectAdded",function(m){return u(s),f(t.onActionSelectorUserCategorySelectAdded(m))})("optionSelectRemoved",function(m){return u(s),f(t.onActionSelectorUserCategorySelectRemoved(m))}),a(),C(59,Uv,9,7,"div",40),a()()()}if(i&2){let s=R(15),_=R(39);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,52,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(),d("ngStyle",ze(60,cv,t.tokenInfo.access.direction)),o(4),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(4),d("placeholder",x(t.fieldsInfo.titleML==null?null:t.fieldsInfo.titleML.fieldTitle)),b("ngModel",t.dataModel.titleML),d("disabled",!0),o(2),d("ngIf",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.accessWatchField),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.dataModel.createdYearActive),o(),d("ngIf",t.dataModel.createdYearActive),o(),d("ngIf",(t.fieldsInfo.titleCreatedYaerResourceLanguage==null?null:t.fieldsInfo.titleCreatedYaerResourceLanguage.accessWatchField)&&t.dataModel.createdYearActive),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.dataModel.partitionActive),o(),d("ngIf",t.dataModel.partitionActive),o(),d("ngIf",(t.fieldsInfo.titlePartitionResourceLanguage==null?null:t.fieldsInfo.titlePartitionResourceLanguage.accessWatchField)&&t.dataModel.partitionActive),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",_.value.length," / 500"),o(),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.accessWatchField),o(2),d("href",x(h(48,54,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(h(53,56,"TITLE.PICTURE")),o(2),d("placeholder",x(h(56,58,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0)("openDirectUploadView",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),d("optionSelectForce",t.dataEstatePropertyTypeUsageIds)("optionDisabled",!1),o(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[ce,N,it,ke,Y,qt,q,we,de,De,Pe,me,Re,xe,tt,Q,U,ge,jr,si,li,ai,ri,_t,Bc,B,Me],encapsulation:2});var Ml=El;function jv(n,l){if(n&1){let e=E();r(0,"button",14),I("click",function(){u(e);let t=p();return f(t.onActionAdd())}),c(1),g(2,"translate"),a()}n&2&&(o(),y(" ",h(2,1,"ACTION.ADD")," "))}function qv(n,l){if(n&1){let e=E();r(0,"button",15),I("click",function(){u(e);let t=p();return f(t.onActionEdit())}),c(1),g(2,"translate"),a()}n&2&&(o(),y(" ",h(2,1,"ACTION.EDIT")," "))}function Qv(n,l){if(n&1){let e=E();r(0,"button",16),I("click",function(){u(e);let t=p();return f(t.onActionDelete())}),c(1),g(2,"translate"),a()}n&2&&(o(),y(" ",h(2,1,"ACTION.DELETE")," "))}function zv(n,l){if(n&1){let e=E();r(0,"button",17),I("click",function(){u(e);let t=p();return f(t.onActionButtonReload())}),r(1,"mat-icon",18),g(2,"translate"),c(3,"refresh"),a()()}if(n&2){let e=p();o(),K("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),d("title",x(h(2,4,"ACTION.RELOAD")))}}function Yv(n,l){if(n&1){let e=E();r(0,"mat-tree-node",19),S(1,"button",20),r(2,"span",21),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionSelect(t))}),S(3,"img",22)(4,"i",23),c(5),a()()}if(n&2){let e=l.$implicit,i=p();K("ntk-tree-selected",(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&i.dataModelSelect.id===e.id),o(3),d("src",x(e.linkMainImageIdSrc),j),o(),ve("color",e.IconColor),d("ngClass",e.IconFont),o(),y("\xA0",e.title)}}function Kv(n,l){if(n&1){let e=E();r(0,"mat-tree-node",24)(1,"button",25)(2,"mat-icon",26),c(3),a()(),r(4,"span",21),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionSelect(t))}),S(5,"img",22)(6,"i",23),c(7),a()()}if(n&2){let e=l.$implicit,i=p(),t=R(12);K("ntk-tree-selected",(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&i.dataModelSelect.id===e.id),d("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),vt("type","button")("aria-label","Toggle "+e.title),o(2),y(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),d("src",x(e.linkMainImageIdSrc),j),o(),ve("color",e.IconColor),d("ngClass",e.IconFont),o(),y("\xA0",e.title)}}var bl=class bl{constructor(l,e,i,t,s,_,m,k,z,Se){this.cmsToastrService=l;this.coreEnumService=e;this.categoryService=i;this.cmsConfirmationDialogService=t;this.dialog=s;this.cdr=_;this.publicHelper=m;this.translate=k;this.tokenHelper=z;this.cmsStoreService=Se;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new Qt;this.dataModelResult=new G;this.filterModel=new pe;this.dataSource=new Ho;this.optionChange=new Xe;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(l,e)=>!1;this.childrenAccessor=l=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(()=>ae(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Qt,this.DataGetAll()}onActionSelectForce(l){}onActionAdd(){var l="";this.publicHelper.isMobile?l="dialog-fullscreen":l="dialog-min",this.dialog.open(vl,{height:"90%",panelClass:l,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let l="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(l=this.dataModelSelect.id),l===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ml,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let l="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(l=this.dataModelSelect.id),l===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="",i="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(t=>{e=t["MESSAGE.Please_Confirm"],i=t["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.dataModelSelect.title+" ) ",this.cmsConfirmationDialogService.confirm(e,i).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.dataModelSelect.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_,!1)}})}}).catch(()=>{})})}};bl.\u0275fac=function(e){return new(e||bl)(v(V),v(X),v(Ei),v(wt),v(Ae),v(O),v(F),v(L),v(Z),v(J))},bl.\u0275cmp=D({type:bl,selectors:[["app-estate-property-type-landuse-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:16,vars:14,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(r(0,"app-cms-html-tree",1),A(1,2),c(2),g(3,"translate"),P(),A(4,3),C(5,jv,3,3,"button",4)(6,qv,3,3,"button",5)(7,Qv,3,3,"button",6)(8,zv,4,6,"button",7),P(),A(9,8),S(10,"app-progress-spinner",9),r(11,"mat-tree",10,0),C(13,Yv,6,8,"mat-tree-node",11)(14,Kv,8,13,"mat-tree-node",12),a(),P(),$e(15,13),a()),e&2&&(d("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),y(" ",h(3,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),o(),d("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),o(),d("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessDeleteRow)&&i.dataModelSelect.id&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessWatchRow),o(2),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),d("matTreeNodeDefWhen",i.hasChild))},dependencies:[ce,N,Je,Ee,Bo,Fo,No,Oo,Vo,U,qo,B],encapsulation:2});var Tl=bl;function Zv(n,l){n&1&&S(0,"div",10)}var wl=class wl{constructor(l,e,i,t,s,_){this.headerService=l;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.translate=s;this.dialog=_;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new G;this.fieldsInfo=new Map;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent()}DataGetOneContent(){let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}};wl.\u0275fac=function(e){return new(e||wl)(v(Ei),v(F),v(O),v(V),v(L),v(Ae))},wl.\u0275cmp=D({type:wl,selectors:[["app-estate-property-type-landuse-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:30,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],["class","td",4,"ngIf"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(r(0,"div",0),S(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),S(6,"span",6),a(),r(7,"div",7)(8,"h5")(9,"b"),c(10),g(11,"translate"),a()()(),C(12,Zv,1,0,"div",8),a(),r(13,"div",4)(14,"div",5)(15,"b"),c(16),a()(),r(17,"div",9),c(18),a(),S(19,"div",10)(20,"div",11),a(),r(21,"div",4)(22,"div",5)(23,"b"),c(24),a()(),r(25,"div",9),c(26),a(),S(27,"div",10)(28,"div",11),a()()()(),S(29,"div",12)),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(5),d("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),M(h(11,8,"TITLE.Property_Type_Selected")),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(4),y("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," : "),o(2),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),y("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : "),o(2),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[N,U,hn,B],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var xl=wl;var Al=class Al{constructor(l,e,i,t,s,_,m,k){this.headerService=l;this.publicHelper=e;this.cdr=i;this.tokenHelper=t;this.cmsStoreService=s;this.cmsToastrService=_;this.dialog=m;this.translate=k;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new G;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId.length>0&&(this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(()=>ae(this,null,function*(){this.DataGetOneContent()}))))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetOneContent(){let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}};Al.\u0275fac=function(e){return new(e||Al)(v(In),v(F),v(O),v(Z),v(J),v(V),v(Ae),v(L))},Al.\u0275cmp=D({type:Al,selectors:[["app-estate-property-project-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:27,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td",2,"text-align","left"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(r(0,"div",0),S(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),S(6,"span",6),a(),r(7,"div",7)(8,"h5")(9,"b"),c(10),g(11,"translate"),a()()(),S(12,"div",8),a(),r(13,"div",4)(14,"div",5),c(15),a(),r(16,"div",9),c(17),a(),S(18,"div",10)(19,"div",11),a(),r(20,"div",4)(21,"div",5),c(22),a(),r(23,"div",9),c(24),a(),S(25,"div",11),a()()()(),S(26,"div",12)),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(5),d("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),M(h(11,7,"TITLE.Selected_Project")),o(5),y("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," :"),o(2),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(5),y(" ",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : "),o(2),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[U,hn,B],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var ta=Al;function Jv(n,l){n&1&&S(0,"div",10)}var Pl=class Pl{constructor(l,e,i,t,s,_,m,k){this.headerService=l;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.dialog=s;this.translate=_;this.cmsStoreService=m;this.tokenHelper=k;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new G;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(()=>ae(this,null,function*(){this.DataGetOneContent()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetOneContent(){let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}};Pl.\u0275fac=function(e){return new(e||Pl)(v(En),v(F),v(O),v(V),v(Ae),v(L),v(J),v(Z))},Pl.\u0275cmp=D({type:Pl,selectors:[["app-estate-property-type-usage-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:30,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],["class","td",4,"ngIf"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(r(0,"div",0),S(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),S(6,"span",6),a(),r(7,"div",7)(8,"h5")(9,"b"),c(10),g(11,"translate"),a()()(),C(12,Jv,1,0,"div",8),a(),r(13,"div",4)(14,"div",5)(15,"b"),c(16),a()(),r(17,"div",9),c(18),a(),S(19,"div",10)(20,"div",11),a(),r(21,"div",4)(22,"div",5)(23,"b"),c(24),a()(),r(25,"div",9),c(26),a(),S(27,"div",10)(28,"div",11),a()()()(),S(29,"div",12)),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(5),d("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),y("",h(11,8,"TITLE.Selected_User_Type")," "),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(4),y("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," : "),o(2),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),y("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : "),o(2),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[N,U,hn,B],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var Rl=Pl;function Xv(n,l){n&1&&S(0,"div",9)}var kl=class kl{constructor(l,e,i,t,s,_){this.headerService=l;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.translate=s;this.dialog=_;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new G;this.fieldsInfo=new Map;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent()}DataGetOneContent(){let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}};kl.\u0275fac=function(e){return new(e||kl)(v(Ai),v(F),v(O),v(V),v(L),v(Ae))},kl.\u0275cmp=D({type:kl,selectors:[["app-estate-contract-type-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:27,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width"],["class","td",4,"ngIf"],[1,"td"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(r(0,"div",0),S(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),S(6,"span",6),a(),r(7,"div",7)(8,"h5"),c(9),g(10,"translate"),a()(),C(11,Xv,1,0,"div",8),a(),r(12,"div",4)(13,"div",5),c(14),a(),r(15,"div",7),c(16),a(),S(17,"div",9)(18,"div",10),a(),r(19,"div",4)(20,"div",5),c(21),a(),r(22,"div",7),c(23),a(),S(24,"div",9)(25,"div",10),a()()()(),S(26,"div",11)),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(5),d("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(3),M(h(10,8,"TITLE.The_type_of_contract_selected")),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(3),y("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," :"),o(2),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(5),y(" ",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : "),o(2),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[N,U,hn,B],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var Dl=kl;function $v(n,l){n&1&&S(0,"div",10)}function eI(n,l){if(n&1){let e=E();r(0,"button",16),I("click",function(){u(e);let t=p();return f(t.onActionButtonLinkTo())}),r(1,"mat-icon"),c(2,"\u2197 "),a()()}}var Ll=class Ll{constructor(l,e,i,t,s,_,m,k,z){this.headerService=l;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.themeService=s;this.dialog=_;this.translate=m;this.cmsStoreService=k;this.tokenHelper=z;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new G;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(()=>ae(this,null,function*(){this.DataGetOneContent()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetOneContent(){let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionButtonLinkTo(l=this.dataModelResult.item){if(!l||!l.id||l.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(l.recordStatus!=Qe.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(yn,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{title:l.title,urlViewContentQRCodeBase64:l.urlViewContentQRCodeBase64,urlViewContent:l.urlViewContent}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}};Ll.\u0275fac=function(e){return new(e||Ll)(v(ir),v(F),v(O),v(V),v(Vt),v(Ae),v(L),v(J),v(Z))},Ll.\u0275cmp=D({type:Ll,selectors:[["app-estate-billboard-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:34,vars:11,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],["class","td",4,"ngIf"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"td",2,"text-align","left"],["title","link to"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],[1,"divider","divider-margins"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"]],template:function(e,i){e&1&&(r(0,"div",0),S(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),S(6,"span",6),a(),r(7,"div",7)(8,"h5")(9,"b"),c(10),g(11,"translate"),a()()(),C(12,$v,1,0,"div",8),a(),r(13,"div",4)(14,"div",5)(15,"b"),c(16),a(),c(17,": "),a(),r(18,"div",9),c(19),a(),S(20,"div",10)(21,"div",11),a(),r(22,"div",4)(23,"div",5)(24,"b"),c(25),a(),c(26," : "),a(),r(27,"div",9),c(28),a(),r(29,"div",12)(30,"abbr",13),C(31,eI,3,0,"button",14),a()(),S(32,"div",11),a()()()(),S(33,"div",15)),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(5),d("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),M(h(11,9,"TITLE.Selected_Billboard")),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(4),y("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," "),o(3),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),M(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(3),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title),o(3),d("ngIf",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id))},dependencies:[N,Ee,U,hn,B],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var Vl=Ll;function tI(n,l){n&1&&S(0,"div",10)}function iI(n,l){if(n&1){let e=E();r(0,"button",16),I("click",function(){u(e);let t=p();return f(t.onActionButtonLinkTo())}),r(1,"mat-icon"),c(2,"\u2197 "),a()()}}var Bl=class Bl{constructor(l,e,i,t,s,_,m){this.headerService=l;this.publicHelper=e;this.cdr=i;this.translate=t;this.themeService=s;this.cmsToastrService=_;this.dialog=m;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new G;this.fieldsInfo=new Map;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent()}DataGetOneContent(){let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionButtonLinkTo(l=this.dataModelResult.item){if(!l||!l.id||l.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(l.recordStatus!=Qe.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(yn,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{title:l.title,urlViewContentQRCodeBase64:l.urlViewContentQRCodeBase64,urlViewContent:l.urlViewContent}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}};Bl.\u0275fac=function(e){return new(e||Bl)(v($i),v(F),v(O),v(L),v(Vt),v(V),v(Ae))},Bl.\u0275cmp=D({type:Bl,selectors:[["app-estate-customer-order-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:34,vars:11,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],["class","td",4,"ngIf"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"td",2,"text-align","left"],["title","link to"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],[1,"divider","divider-margins"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"]],template:function(e,i){e&1&&(r(0,"div",0),S(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),S(6,"span",6),a(),r(7,"div",7)(8,"h5")(9,"b"),c(10),g(11,"translate"),a()()(),C(12,tI,1,0,"div",8),a(),r(13,"div",4)(14,"div",5)(15,"b"),c(16),a(),c(17,": "),a(),r(18,"div",9),c(19),a(),S(20,"div",10)(21,"div",11),a(),r(22,"div",4)(23,"div",5)(24,"b"),c(25),a(),c(26," : "),a(),r(27,"div",9),c(28),a(),r(29,"div",12)(30,"abbr",13),C(31,iI,3,0,"button",14),a()(),S(32,"div",11),a()()()(),S(33,"div",15)),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(5),d("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),M(h(11,9,"TITLE.Selected_Customer")),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(4),y("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," "),o(3),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),M(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(3),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title),o(3),d("ngIf",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id))},dependencies:[N,Ee,U,hn,B],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var Sr=Bl;var nI=()=>["expandedTitle"],oI=()=>["expandedDetail"],rI=()=>[5,10,20,100],R0=n=>({display:n});function aI(n,l){if(n&1&&S(0,"app-estate-billboard-header",72),n&2){let e=p();d("optionId",e.requestLinkBillboardId)}}function lI(n,l){if(n&1&&S(0,"app-estate-contract-type-header",72),n&2){let e=p();d("optionId",e.requestLinkContractTypeId)}}function sI(n,l){if(n&1&&S(0,"app-estate-customer-order-header",72),n&2){let e=p();d("optionId",e.requestLinkCustomerOrderId)}}function dI(n,l){if(n&1&&S(0,"app-estate-property-type-landuse-header",72),n&2){let e=p();d("optionId",e.requestLinkPropertyTypeLanduseId)}}function cI(n,l){if(n&1&&S(0,"app-estate-property-type-usage-header",72),n&2){let e=p();d("optionId",e.requestLinkPropertyTypeUsageId)}}function pI(n,l){if(n&1&&S(0,"app-estate-property-project-header",72),n&2){let e=p();d("optionId",e.requestLinkProjectId)}}function mI(n,l){if(n&1){let e=E();r(0,"a",73),I("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),S(1,"i",74),a()}}function uI(n,l){if(n&1){let e=E();r(0,"div",29)(1,"a",75),I("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),S(2,"i",76)(3,"br"),a(),r(4,"p",32),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.ADD")," "))}function fI(n,l){if(n&1){let e=E();r(0,"div",29)(1,"a",77),I("click",function(){u(e);let t=p();return f(t.onActionButtonActionSendSmsToCustomerOrder())}),S(2,"i",76)(3,"br"),a(),r(4,"p",32),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.ActionSendSmsToCustomerOrder")," "))}function _I(n,l){if(n&1){let e=E();r(0,"div",29)(1,"a",30),I("click",function(t){u(e);let s=p();return f(s.onActionButtonAdsRow(s.tableRowSelected,t))}),S(2,"i",78)(3,"br"),a(),r(4,"p",32),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.ADS")," "))}function gI(n,l){if(n&1){let e=E();r(0,"div",29)(1,"a",79),I("click",function(t){u(e);let s=p();return f(s.onActionButtonEditRow(s.tableRowSelected,t))}),S(2,"i",80)(3,"br"),a(),r(4,"p",32),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.EDIT")," "))}function hI(n,l){if(n&1){let e=E();r(0,"div",29)(1,"a",81),I("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",82)(3,"br"),a(),r(4,"p",32),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.DELETE")," "))}function yI(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.MENU")," "))}function SI(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"button",83),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelectActionMenu(t))}),S(2,"i",84),a()()}}function CI(n,l){n&1&&(r(0,"mat-header-cell",85),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.PICTURE")," "))}function vI(n,l){if(n&1&&(S(0,"img",87),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function II(n,l){if(n&1&&(r(0,"mat-cell"),C(1,vI,2,4,"img",86),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function EI(n,l){if(n&1&&(r(0,"mat-header-cell",85),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function MI(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function bI(n,l){if(n&1&&(r(0,"mat-header-cell",85),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function TI(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"cmssiteinfo"),g(3,"async"),a()),n&2){let e=l.$implicit;o(),y(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function wI(n,l){if(n&1&&(r(0,"mat-header-cell",85),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function xI(n,l){if(n&1&&S(0,"select",90),n&2){let e=p().$implicit,i=p();d("contentService",i.contentService)("row",e)("ngStyle",ze(3,R0,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function AI(n,l){if(n&1&&(r(0,"mat-cell",88),g(1,"statusCellClass"),S(2,"i",88),g(3,"statusIconClass"),C(4,xI,1,5,"select",89),a()),n&2){let e=l.$implicit,i=p();d("ngClass",h(1,3,e.recordStatus)),o(2),d("ngClass",h(3,5,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function PI(n,l){if(n&1&&(r(0,"mat-header-cell",85),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle," ")}}function RI(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",88),g(2,"adminStatusIconClass"),a()),n&2){let e=l.$implicit;o(),d("ngClass",h(2,1,e.mainAdminRecordStatus))}}function kI(n,l){if(n&1&&(r(0,"mat-header-cell",85),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.isSoldIt==null?null:e.fieldsInfo.isSoldIt.fieldTitle," ")}}function DI(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",88),g(2,"boolclass"),a()),n&2){let e=l.$implicit;o(),d("ngClass",h(2,1,e.isSoldIt))}}function LI(n,l){if(n&1&&(r(0,"mat-header-cell",85),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.viewConfigHiddenInList==null?null:e.fieldsInfo.viewConfigHiddenInList.fieldTitle," ")}}function VI(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",88),g(2,"boolclass"),a()),n&2){let e=l.$implicit;o(),d("ngClass",h(2,1,e.viewConfigHiddenInList))}}function BI(n,l){if(n&1&&(r(0,"mat-header-cell",85),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.viewCount==null?null:e.fieldsInfo.viewCount.fieldTitle," ")}}function FI(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.viewCount," ")}}function OI(n,l){n&1&&(r(0,"mat-header-cell",85),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.Is_Special")," "))}function NI(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",88),g(2,"boolclass"),a()),n&2){let e=l.$implicit;o(),ve("color",e.adsActive?"#f7db25":"#ff0000"),d("ngClass",h(2,3,e.adsActive))}}function HI(n,l){if(n&1&&(r(0,"mat-header-cell",85),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle," ")}}function WI(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.caseCode," ")}}function GI(n,l){if(n&1&&(r(0,"mat-header-cell",85),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function UI(n,l){if(n&1&&(r(0,"mat-cell",91),c(1),g(2,"localeDateTime"),a()),n&2){let e=l.$implicit;o(),y(" ",h(2,1,e.createdDate)," ")}}function jI(n,l){if(n&1&&(r(0,"mat-header-cell",85),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function qI(n,l){if(n&1&&(r(0,"mat-cell",91),c(1),g(2,"localeDateTime"),a()),n&2){let e=l.$implicit;o(),y(" ",h(2,1,e.updatedDate)," ")}}function QI(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.OPTION")," "))}function zI(n,l){if(n&1&&(r(0,"mat-cell",92)(1,"button",93)(2,"mat-icon"),c(3,"more_vert"),a()(),S(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),d("matMenuTriggerFor",e)}}function YI(n,l){n&1&&(r(0,"mat-header-cell",85),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.LINKTO")," "))}function KI(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"button",94),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionButtonLinkTo(t))}),r(2,"mat-icon",95),c(3,"\u2197"),a()()()}}function ZI(n,l){n&1&&(r(0,"mat-header-cell",85),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.QUICK_VIEW")," "))}function JI(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"button",94),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionButtonQuickViewRow(t))}),r(2,"mat-icon",95),c(3,"visibility"),a()()()}}function XI(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function $I(n,l){if(n&1&&(S(0,"img",100),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function eE(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),g(3,"translate"),a(),r(4,"td"),c(5),a()()),n&2){let e=p().$implicit;o(2),M(h(3,2,"TITLE.SquareMeters")),o(3),M(e.area)}}function tE(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),g(3,"translate"),a(),r(4,"td"),c(5),a()()),n&2){let e=p().$implicit;o(2),M(h(3,2,"TITLE.CreatedYaer")),o(3),M(e.createdYaer)}}function iE(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),C(5,$I,2,4,"img",96),a(),r(6,"th"),c(7),r(8,"span",97),I("click",function(){u(e);let t=p();return f(t.onActionCopied())}),S(9,"i",98),a()()(),r(10,"tr"),S(11,"td"),r(12,"td"),c(13),a()(),C(14,eE,6,4,"tr",99)(15,tE,6,4,"tr",99),r(16,"tr"),S(17,"td"),r(18,"td"),c(19),a()(),r(20,"tr"),S(21,"td"),r(22,"td"),c(23),a()(),r(24,"tr")(25,"td"),c(26),g(27,"translate"),a(),r(28,"td"),c(29),a()(),r(30,"tr"),S(31,"td"),r(32,"td"),c(33),g(34,"cmsuserinfo"),g(35,"async"),a()(),r(36,"tr"),S(37,"td")(38,"td"),a()()()()}if(n&2){let e=l.$implicit;o(5),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),o(2),y(" ",e.id," "),o(),d("cdkCopyToClipboard",e.id),o(5),M(e.title),o(),d("ngIf",e.area&&e.area>0),o(),d("ngIf",e.createdYaer&&e.createdYaer>0),o(4),M(e.linkLocationIdParentTitle),o(4),M(e.linkLocationIdTitle),o(3),y("",h(27,11,"TITLE.Address"),":"),o(3),M(e.address),o(4),M(h(35,15,h(34,13,e.createdBy)))}}function nE(n,l){n&1&&S(0,"mat-header-row")}function oE(n,l){if(n&1){let e=E();r(0,"mat-row",101),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=p();K("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function rE(n,l){if(n&1){let e=E();r(0,"mat-row",102),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=p();K("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function aE(n,l){if(n&1){let e=E();r(0,"mat-row",103),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=p();K("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),d("ngStyle",ze(7,R0,e.expanded===!0?"":"none"))}}function lE(n,l){if(n&1){let e=E();r(0,"div",104)(1,"button",105),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",106),c(3),g(4,"translate"),a()()}n&2&&(o(3),y(" ",h(4,1,"ACTION.CANCEL")," "))}var Fl=class Fl extends xt{constructor(e,i,t,s,_,m,k,z,Se,qe,Ue,ft,jt,Ft,Yt){super(t,new Ki,Ft,k,ft);this.data=e;this.dialogRef=i;this.contentService=t;this.activatedRoute=s;this.cmsToastrService=_;this.cmsConfirmationDialogService=m;this.tokenHelper=k;this.cmsStoreService=z;this.themeService=Se;this.router=qe;this.cdr=Ue;this.translate=ft;this.pageInfo=jt;this.publicHelper=Ft;this.dialog=Yt;this.requestSearchTitle="";this.requestSearchCustomerTel="";this.requestSearchCaseCode="";this.requestLinkPropertyTypeLanduseId="";this.requestLinkPropertyTypeUsageId="";this.requestLinkContractTypeId="";this.requestLinkBillboardId="";this.requestLinkCustomerOrderId="";this.requestLinkProjectId="";this.requestLinkUserId=0;this.requestInChecking=!1;this.constructorInfoAreaId=this.constructor.name;this.optionloadComponent=!0;this.optionloadByRoute=!0;this.flag=!1;this.tablePropertySelected=[];this.searchInCheckingChecked=!1;this.filteModelContent=new pe;this.filterDataModelQueryBuilder=[];this.formInfo=new ue;this.optionsSearch=new cr;this.optionsStatist=new pr;this.tokenInfo=new It;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","mainAdminRecordStatus","IsSoldIt","ViewConfigHiddenInList","linkSiteId","AdsActive","ViewCount","CaseCode","createdDate","updatedDate","LinkTo","QuickView","action_menu"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","IsSoldIt","CaseCode","LinkTo","QuickView","action_menu"];this.fieldsInfo=new Map;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,e&&(e.searchTitle&&(this.requestSearchTitle=e.searchTitle+""),e.searchCustomerTel&&(this.requestSearchCustomerTel=e.searchCustomerTel+""),e.searchCaseCode&&(this.requestSearchCaseCode=e.searchCaseCode+"")),this.requestLinkPropertyTypeLanduseId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeLanduseId"),this.requestLinkPropertyTypeUsageId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeUsageId"),this.requestLinkContractTypeId=this.activatedRoute.snapshot.paramMap.get("LinkContractTypeId"),this.requestLinkBillboardId=this.activatedRoute.snapshot.paramMap.get("LinkBillboardId"),this.requestLinkCustomerOrderId=this.activatedRoute.snapshot.paramMap.get("LinkCustomerOrderId"),this.requestLinkProjectId=this.activatedRoute.snapshot.paramMap.get("LinkProjectId"),this.requestLinkUserId=+this.activatedRoute.snapshot.paramMap.get("LinkUserId")|0,this.activatedRoute.snapshot.paramMap.get("InChecking")&&(this.searchInCheckingChecked=this.activatedRoute.snapshot.paramMap.get("InChecking")==="true"),this.optionsSearch.parentMethods={onSubmit:Oe=>this.onSubmitOptionsSearch(Oe)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=$.Descending,this.requestLinkPropertyTypeLanduseId&&this.requestLinkPropertyTypeLanduseId.length>0){let Oe=new H;Oe.propertyName="LinkPropertyTypeLanduseId",Oe.value=this.requestLinkPropertyTypeLanduseId,this.filteModelContent.filters.push(Oe)}if(this.requestLinkPropertyTypeUsageId&&this.requestLinkPropertyTypeUsageId.length>0){let Oe=new H;Oe.propertyName="LinkPropertyTypeUsageId",Oe.value=this.requestLinkPropertyTypeUsageId,this.filteModelContent.filters.push(Oe)}if(this.requestLinkContractTypeId&&this.requestLinkContractTypeId.length>0){let Oe=new H;Oe.propertyName="Contracts",Oe.propertyAnyName="LinkEstateContractTypeId",Oe.value=this.requestLinkContractTypeId,this.filteModelContent.filters.push(Oe)}if(this.requestLinkUserId&&this.requestLinkUserId>0){let Oe=new H;Oe.propertyName="linkCmsUserId",Oe.value=this.requestLinkUserId,this.filteModelContent.filters.push(Oe)}if(this.requestLinkProjectId&&this.requestLinkProjectId.length>0){let Oe=new H;Oe.propertyName="linkPropertyProjectId",Oe.value=this.requestLinkProjectId,this.filteModelContent.filters.push(Oe)}if(this.requestSearchTitle&&this.requestSearchTitle.length>0){let Oe=new H;Oe.propertyName="title",Oe.value=this.requestSearchTitle,Oe.searchType=Fe.Contains,this.filteModelContent.filters.push(Oe)}if(this.requestSearchCaseCode&&this.requestSearchCaseCode.length>0){let Oe=new H;Oe.propertyName="caseCode",Oe.value=this.requestSearchCaseCode,this.filteModelContent.filters.push(Oe)}if(this.requestSearchCustomerTel&&this.requestSearchCustomerTel.length>0){let Oe=new H,mn=new H;mn.propertyName="aboutCustomerTel",mn.value=this.requestSearchCustomerTel,mn.searchType=Fe.Contains,mn.clauseType=Be.Or,Oe.filters.push(mn);let Yi=new H;Yi.propertyName="aboutCustomerMobile",Yi.value=this.requestSearchCustomerTel,Yi.searchType=Fe.Contains,Yi.clauseType=Be.Or,Oe.filters.push(Yi),this.filteModelContent.filters.push(Oe)}}set optionLinkCustomerOrderId(e){e&&e.length>0&&(this.requestLinkCustomerOrderId=e)}set optionLinkBillboardId(e){e&&e.length>0&&(this.requestLinkBillboardId=e)}ngOnInit(){this.translate.get("TITLE.QUICK_VIEW").subscribe(e=>{this.formInfo.formTitle=e}),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){if(this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),!this.optionloadComponent)return;this.tableRowsSelected=[],this.onActionTableRowSelect(new Ki);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id&&this.categoryModelSelected.id.length>0){let t=new H;t.propertyName="LinkPropertyTypeLanduseId",t.value=this.categoryModelSelected.id,i.filters.push(t)}if(this.searchInCheckingChecked){let t=new H;t.propertyName="recordStatus",t.value=Qe.Available,t.searchType=Fe.NotEqual,i.filters.push(t);let s=new H;s.propertyName="recordStatus",s.value=Qe.DeniedConfirmed,s.searchType=Fe.NotEqual,i.filters.push(s)}this.requestLinkBillboardId&&this.requestLinkBillboardId.length>0?this.contentService.ServiceGetAllWithCoverBillboardId(this.requestLinkBillboardId,i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorGetAll(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}}):this.requestLinkCustomerOrderId?.length>0?this.contentService.ServiceGetAllWithCoverCustomerOrderId(this.requestLinkCustomerOrderId,i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorGetAll(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}}):this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorGetAll(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=$.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryModelSelected==null&&this.categoryModelSelected&&this.categoryModelSelected.id&&this.categoryModelSelected.id.length===0&&(this.requestLinkPropertyTypeLanduseId==null||this.requestLinkPropertyTypeLanduseId.length===0)){this.translate.get("MESSAGE.Content_not_selected").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=this.requestLinkPropertyTypeLanduseId;this.categoryModelSelected&&this.categoryModelSelected.id.length>0&&(e=this.categoryModelSelected.id),e&&e.length>0?this.router.navigate(["/estate/property/add/LinkPropertyTypeLanduseId",e]):this.router.navigate(["/estate/property/add"])}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new pe,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property/edit/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/edit",this.tableRowSelected.id])}onActionButtonQuickViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Zo,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}onActionButtonAdsRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-ads/LinkPropertyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-ads/LinkPropertyId",this.tableRowSelected.id])}onActionButtonHistoryRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-history/LinkPropertyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-history/LinkPropertyId",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(e==null||!e.id||e.id.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Deleting_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;i.set("Active",0),i.set("All",0),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:_=>{_.isSuccess?(i.set("All",_.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(_.errorMessage)},error:_=>{this.cmsToastrService.typeError(_)}});let t=JSON.parse(JSON.stringify(this.filteModelContent)),s=new H;s.propertyName="recordStatus",s.value=Qe.Available,t.filters.push(s),this.contentService.ServiceGetCount(t).subscribe({next:_=>{_.isSuccess?(i.set("Active",_.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(_.errorMessage)},error:_=>{this.cmsToastrService.typeError(_)}})}onActionButtonActionSendSmsToCustomerOrder(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}let i=this.constructor.name+"main";this.translate.get("ACTION.ActionSendSmsToCustomerOrder").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.ServiceActionSendSmsToCustomerOrder(e.id).subscribe({next:t=>{t.isSuccess?this.cmsToastrService.typeSuccessMessage(t.errorMessage):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonViewOtherUserAdvertise(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.requestLinkUserId=e.linkCmsUserId,this.requestLinkUserId&&this.requestLinkUserId>0){let i=new H;i.propertyName="linkCmsUserId",i.value=this.requestLinkUserId,this.filteModelContent.filters.push(i)}this.DataGetAll()}onActionButtonInChecking(e){this.searchInCheckingChecked=e,this.DataGetAll()}onActionButtonReload(){this.optionloadComponent=!0,this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}onActionButtonLinkTo(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(e.recordStatus!=Qe.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.onActionTableRowSelect(e);let i=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_state_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Ne.Editor),this.contentService.ServiceGetOneById(e.id).subscribe({next:t=>{if(t.isSuccess){var s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(yn,{height:"90%",panelClass:s,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{title:t.item.title,urlViewContentQRCodeBase64:t.item.urlViewContentQRCodeBase64,urlViewContent:t.item.urlViewContent}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(t.errorMessage);this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Fl.\u0275fac=function(i){return new(i||Fl)(v(Te),v(be),v(gi),v(Kt),v(V),v(wt),v(Z),v(J),v(Vt),v(Ze),v(O),v(L),v(St),v(F),v(Ae))},Fl.\u0275cmp=D({type:Fl,selectors:[["app-estate-property-quick-list"]],inputs:{optionloadComponent:"optionloadComponent",optionloadByRoute:"optionloadByRoute",optionLinkCustomerOrderId:"optionLinkCustomerOrderId",optionLinkBillboardId:"optionLinkBillboardId"},standalone:!1,features:[oe],decls:129,vars:56,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["mat-menu-item","","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-clock-rotate-left","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","mainAdminRecordStatus"],["matColumnDef","IsSoldIt"],["matColumnDef","ViewConfigHiddenInList"],["matColumnDef","ViewCount"],["matColumnDef","AdsActive"],["matColumnDef","CaseCode"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","updatedDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],["matColumnDef","QuickView"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["type","button",1,"btn","btn-outline-danger","BTN-text","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-bullseye-pointer","font-18",2,"color","#ffffff"],["mat-menu-item","","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["mat-menu-item","","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["type","button","mat-icon-button","",3,"click"],[2,"color","#ff671f"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){if(i&1){let s=E();r(0,"div",3),S(1,"app-progress-spinner",4),r(2,"div",5),c(3),a(),r(4,"div",6),C(5,aI,1,1,"app-estate-billboard-header",7)(6,lI,1,1,"app-estate-contract-type-header",7)(7,sI,1,1,"app-estate-customer-order-header",7)(8,dI,1,1,"app-estate-property-type-landuse-header",7)(9,cI,1,1,"app-estate-property-type-usage-header",7)(10,pI,1,1,"app-estate-property-project-header",7),r(11,"app-cms-html-list",8),w("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),I("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(12,9),r(13,"app-estate-property-type-landuse-tree",10),I("optionChange",function(m){return u(s),f(t.onActionSelectorSelect(m))}),a(),P(),$e(14,11)(15,12),A(16,13),C(17,mI,2,0,"a",14),r(18,"a",15),I("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(19,"i",16),a(),r(20,"a",15),I("click",function(){return u(s),f(t.onActionButtonReload())}),S(21,"i",17),a(),r(22,"a",18),I("click",function(){return u(s),f(t.onActionGridExpandRows(!0))}),S(23,"i",19),a(),r(24,"a",18),I("click",function(){return u(s),f(t.onActionGridExpandRows(!1))}),S(25,"i",20),a(),P(),A(26,21),r(27,"a",22)(28,"mat-slide-toggle",23),w("ngModelChange",function(m){return u(s),T(t.optionsSearch.data.show,m)||(t.optionsSearch.data.show=m),f(m)}),a(),c(29),g(30,"translate"),a(),r(31,"a",24),I("click",function(){return u(s),f(t.onActionButtonStatist())}),S(32,"mat-slide-toggle",25),c(33),g(34,"translate"),a(),r(35,"a",22),S(36,"mat-slide-toggle",25),c(37),g(38,"translate"),a(),P(),A(39,26),C(40,uI,7,3,"div",27)(41,fI,7,3,"div",27),P(),A(42,28),C(43,_I,7,3,"div",27)(44,gI,7,3,"div",27)(45,hI,7,3,"div",27),r(46,"div",29)(47,"a",30),I("click",function(m){return u(s),f(t.onActionButtonHistoryRow(t.tableRowSelected,m))}),S(48,"i",31)(49,"br"),a(),r(50,"p",32),c(51),g(52,"translate"),a()(),r(53,"div",29)(54,"a",15),I("click",function(){return u(s),f(t.onActionButtonLinkTo(t.tableRowSelected))}),S(55,"i",33)(56,"br"),a(),r(57,"p",32),c(58),g(59,"translate"),a()(),P(),A(60,34),r(61,"app-cms-search-list",35),w("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),a(),r(62,"app-cms-statist-list",35),w("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),P(),A(63,36),r(64,"mat-table",37,0),I("matSortChange",function(){u(s);let m=R(65);return f(t.onTableSortData(m))}),A(66,38),C(67,yI,3,3,"mat-header-cell",39)(68,SI,3,0,"mat-cell",40),P(),A(69,41),C(70,CI,3,3,"mat-header-cell",42)(71,II,2,1,"mat-cell",40),P(),A(72,43),C(73,EI,2,1,"mat-header-cell",42)(74,MI,2,1,"mat-cell",40),P(),A(75,44),C(76,bI,2,1,"mat-header-cell",42)(77,TI,4,5,"mat-cell",40),P(),A(78,45),C(79,wI,2,1,"mat-header-cell",42)(80,AI,5,7,"mat-cell",46),P(),A(81,47),C(82,PI,2,1,"mat-header-cell",42)(83,RI,3,3,"mat-cell",40),P(),A(84,48),C(85,kI,2,1,"mat-header-cell",42)(86,DI,3,3,"mat-cell",40),P(),A(87,49),C(88,LI,2,1,"mat-header-cell",42)(89,VI,3,3,"mat-cell",40),P(),A(90,50),C(91,BI,2,1,"mat-header-cell",42)(92,FI,2,1,"mat-cell",40),P(),A(93,51),C(94,OI,3,3,"mat-header-cell",42)(95,NI,3,5,"mat-cell",40),P(),A(96,52),C(97,HI,2,1,"mat-header-cell",42)(98,WI,2,1,"mat-cell",40),P(),A(99,53),C(100,GI,2,1,"mat-header-cell",42)(101,UI,3,3,"mat-cell",54),P(),A(102,55),C(103,jI,2,1,"mat-header-cell",42)(104,qI,3,3,"mat-cell",54),P(),A(105,56),C(106,QI,3,3,"mat-header-cell",39)(107,zI,6,1,"mat-cell",57),P(),A(108,58),C(109,YI,3,3,"mat-header-cell",42)(110,KI,4,0,"mat-cell",40),P(),A(111,59),C(112,ZI,3,3,"mat-header-cell",42)(113,JI,4,0,"mat-cell",40),P(),A(114,60),C(115,XI,2,1,"mat-cell",40),P(),A(116,61),C(117,iE,39,17,"mat-cell",40),P(),C(118,nE,1,0,"mat-header-row",62)(119,oE,1,6,"mat-row",63)(120,rE,1,6,"mat-row",64)(121,aE,1,9,"mat-row",65),a(),P(),A(122,66),r(123,"mat-paginator",67,1),I("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),P(),a()(),r(125,"div",68),S(126,"app-cms-form-result-message",69),a(),r(127,"div",70),C(128,lE,5,3,"div",71),a()()}i&2&&(o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(2),y(" ",t.formInfo.formTitle," "),o(2),d("ngIf",(t.requestLinkBillboardId==null?null:t.requestLinkBillboardId.length)>0),o(),d("ngIf",(t.requestLinkContractTypeId==null?null:t.requestLinkContractTypeId.length)>0),o(),d("ngIf",(t.requestLinkCustomerOrderId==null?null:t.requestLinkCustomerOrderId.length)>0),o(),d("ngIf",(t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)>0),o(),d("ngIf",(t.requestLinkPropertyTypeUsageId==null?null:t.requestLinkPropertyTypeUsageId.length)>0),o(),d("ngIf",(t.requestLinkProjectId==null?null:t.requestLinkProjectId.length)>0),o(),d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",(t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(6),d("ngIf",(t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)>0),o(11),b("ngModel",t.optionsSearch.data.show),o(),y("",h(30,43,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",h(34,45,"ACTION.STATIST")," "),o(3),d("checked",t.searchInCheckingChecked),o(),y(" ",h(38,47,"ACTION.INCHECKING")," "),o(3),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow)&&t.optionloadByRoute),o(),d("ngIf",t.tokenHelper.isAdminSite&&t.optionloadByRoute&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),y(" ",h(52,49,"ACTION.HISTORY")," "),o(7),y(" ",h(59,51,"TITLE.LINKTO")," "),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(54),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",se(53,nI)),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(),d("matRowDefColumns",se(54,oI)),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(55,rI)),o(3),d("formInfo",t.formInfo),o(2),d("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[ce,N,it,q,me,Je,Ee,Q,Dt,e0,Lt,Mt,yt,bt,Tt,nt,rt,dt,at,ot,ct,lt,st,pt,mt,fi,At,Pt,U,ge,Rt,kt,Hi,Tl,xl,ta,Rl,Dl,Vl,Sr,We,B,Li,sn,Me,ro,Zt,mr,qn,dr],encapsulation:2});var Fn=Fl;var k0=["*","*"];function sE(n,l){if(n&1&&(r(0,"label",15),c(1),a()),n&2){let e=p(2);d("for",Ie("app-cms-site-selector-",e.id)),o(),M(e.optionLabel)}}function dE(n,l){if(n&1&&(S(0,"img",16),g(1,"cmsthumbnail")),n&2){let e=p(2);d("src",x(h(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),j)}}function cE(n,l){if(n&1&&(S(0,"img",16),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function pE(n,l){if(n&1&&(r(0,"mat-option",17),C(1,cE,2,4,"img",7),r(2,"span"),c(3),a()()),n&2){let e=l.$implicit,i=p(2);d("value",e)("disabled",i.optionDisabled),o(),d("ngIf",e.linkMainImageIdSrc),o(2),M(i.displayOption(e))}}function mE(n,l){n&1&&S(0,"i",18)}function uE(n,l){n&1&&S(0,"i",19)}function fE(n,l){if(n&1){let e=E();r(0,"i",20),I("click",function(){u(e);let t=p(2);return f(t.onActionSelectClear())}),a()}}function _E(n,l){n&1&&(r(0,"em"),c(1),g(2,"translate"),a()),n&2&&(o(),y("(",h(2,1,"TITLE.Necessary"),")"))}function gE(n,l){if(n&1){let e=E();r(0,"div",3),S(1,"app-progress-spinner",4),C(2,sE,2,3,"label",5),r(3,"span",6),C(4,dE,2,4,"img",7),c(5," \xA0"),a(),S(6,"input",8),r(7,"mat-autocomplete",9,0),I("optionSelected",function(t){u(e);let s=p();return f(s.onActionSelect(t.option.value))}),C(9,pE,4,4,"mat-option",10),g(10,"async"),a(),C(11,mE,1,0,"i",11)(12,uE,1,0,"i",12)(13,fE,1,0,"i",13)(14,_E,3,3,"em",14),pi(15),a()}if(n&2){let e=R(8),i=p();o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(2),d("ngIf",i.dataModelSelect&&(i.dataModelSelect==null?null:i.dataModelSelect.linkMainImageIdSrc)),o(2),d("placeholder",x(i.optionPlaceholder))("id",Ie("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",e)("required",i.optionRequired),vt("disabled",i.optionDisabled?!0:null),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",h(10,17,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",i.optionAllowUnSelect&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0))}}function hE(n,l){if(n&1){let e=E();r(0,"div",23)(1,"a",24),I("click",function(){let t=u(e).$implicit,s=p(2);return f(s.onActionSelect(t))}),c(2),a()()}if(n&2){let e=l.$implicit,i=p(2);o(),d("ngClass",e.id===(i.dataModelSelect==null?null:i.dataModelSelect.id)?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),vt("disabled",i.optionDisabled?!0:null),o(),M(i.displayOption(e))}}function yE(n,l){if(n&1){let e=E();r(0,"i",20),I("click",function(){u(e);let t=p(2);return f(t.onActionSelectClear())}),a()}}function SE(n,l){if(n&1&&(r(0,"div",21),C(1,hE,3,3,"div",22),g(2,"async"),C(3,yE,1,0,"i",13),pi(4,1),a()),n&2){let e=p();o(),d("ngForOf",h(2,2,e.filteredOptions)),o(2),d("ngIf",e.optionAllowUnSelect&&(e.dataModelSelect==null||e.dataModelSelect.id==null?null:e.dataModelSelect.id.length)>0)}}var ia=class ia{constructor(l,e,i,t,s,_,m,k){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.tokenHelper=_;this.cmsStoreService=m;this.categoryService=k;this.id=++ia.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=new Qt;this.formControl=new Et;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new Xe;this.optionTypeView=1;this.optionAllowUnSelect=!1;this.typeUsageId="";this.optionReload=()=>this.onActionButtonReload();this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){l&&(typeof l=="string"&&l.length>0||typeof l==typeof Qt)&&this.onActionSelectForce(l)}set optionTypeUsageId(l){this.typeUsageId=l,this.loadOptions()}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder),this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(()=>ae(this,null,function*(){this.loadOptions()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(ei(""),$t(1500),xi(),ti(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.titleML:void 0}displayOption(l){return l?l.titleML:void 0}DataGetAll(l){return ae(this,null,function*(){let e=new pe;e.rowPerPage=20,e.accessLoad=!0;let i=new H,t=new H;l&&l.length>0&&(i.propertyName="title",i.value=l,i.searchType=Fe.Contains,i.clauseType=Be.Or,t.filters.push(i),i=new H,i.propertyName="id",i.value=l,i.searchType=Fe.Equal,i.clauseType=Be.Or,t.filters.push(i),e.filters.push(t)),this.typeUsageId&&this.typeUsageId.length>0&&(i=new H,i.propertyName="PropertyTypes",i.propertyAnyName="LinkPropertyTypeUsageId",i.value=this.typeUsageId,i.searchType=Fe.Equal,i.clauseType=Be.And,e.filters.push(i));let s=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(_=>{this.publicHelper.processService.processStart(s,_,this.constructorInfoAreaId)}),yield wi(this.categoryService.ServiceGetAll(e)).then(_=>(this.dataModelResult=_,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(s),_.listItems))})}onActionSelect(l){if(!this.optionDisabled){if(this.optionAllowUnSelect&&this.dataModelSelect&&this.dataModelSelect.id==l.id){this.onActionSelectClear();return}this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(Ot(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if((!l||typeof l=="string"&&l.length===0)&&(this.dataModelSelect=new Qt),typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof Qt){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Qt,this.loadOptions()}};ia.nextId=0,ia.\u0275fac=function(e){return new(e||ia)(v(X),v(V),v(O),v(F),v(L),v(Z),v(J),v(Ei))},ia.\u0275cmp=D({type:ia,selectors:[["app-estate-property-type-landuse-selector"]],inputs:{optionSelectForce:"optionSelectForce",optionTypeUsageId:"optionTypeUsageId",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionTypeView:"optionTypeView",optionAllowUnSelect:"optionAllowUnSelect",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:k0,decls:2,vars:2,consts:[["matauto","matAutocomplete"],["class","input-style has-borders has-icon input-style-always-active validate-field mb-4 loader-container",4,"ngIf"],["class","row mb-0",4,"ngIf"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"],[1,"row","mb-0"],["class","col-xl-2 col-lg-3 col-md-4 col-sm-12 pe-1",4,"ngFor","ngForOf"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"]],template:function(e,i){e&1&&(vi(k0),C(0,gE,16,19,"div",1)(1,SE,5,4,"div",2)),e&2&&(d("ngIf",i.optionTypeView===1),o(),d("ngIf",i.optionTypeView===2))},dependencies:[ce,He,N,Y,q,de,zt,ni,ii,oi,en,Q,U,We,B,Me],encapsulation:2});var Ci=ia;var D0=["*","*"];function CE(n,l){if(n&1&&(r(0,"label",15),c(1),a()),n&2){let e=p(2);d("for",Ie("app-cms-site-selector-",e.id)),o(),M(e.optionLabel)}}function vE(n,l){if(n&1&&(S(0,"img",16),g(1,"cmsthumbnail")),n&2){let e=p(2);d("src",x(h(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),j)}}function IE(n,l){if(n&1&&(S(0,"img",16),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function EE(n,l){if(n&1&&(r(0,"mat-option",17),C(1,IE,2,4,"img",7),r(2,"span"),c(3),a()()),n&2){let e=l.$implicit,i=p(2);d("value",e)("disabled",i.optionDisabled),o(),d("ngIf",e.linkMainImageIdSrc),o(2),M(i.displayOption(e))}}function ME(n,l){n&1&&S(0,"i",18)}function bE(n,l){n&1&&S(0,"i",19)}function TE(n,l){if(n&1){let e=E();r(0,"i",20),I("click",function(){u(e);let t=p(2);return f(t.onActionSelectClear())}),a()}}function wE(n,l){n&1&&(r(0,"em"),c(1),g(2,"translate"),a()),n&2&&(o(),y("(",h(2,1,"TITLE.Necessary"),")"))}function xE(n,l){if(n&1){let e=E();r(0,"div",3),S(1,"app-progress-spinner",4),C(2,CE,2,3,"label",5),r(3,"span",6),C(4,vE,2,4,"img",7),c(5," \xA0"),a(),S(6,"input",8),r(7,"mat-autocomplete",9,0),I("optionSelected",function(t){u(e);let s=p();return f(s.onActionSelect(t.option.value))}),C(9,EE,4,4,"mat-option",10),g(10,"async"),a(),C(11,ME,1,0,"i",11)(12,bE,1,0,"i",12)(13,TE,1,0,"i",13)(14,wE,3,3,"em",14),pi(15),a()}if(n&2){let e=R(8),i=p();o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(2),d("ngIf",i.dataModelSelect&&(i.dataModelSelect==null?null:i.dataModelSelect.linkMainImageIdSrc)),o(2),d("placeholder",x(i.optionPlaceholder))("id",Ie("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",e)("required",i.optionRequired),vt("disabled",i.optionDisabled?!0:null),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",h(10,17,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",i.optionAllowUnSelect&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)==0))}}function AE(n,l){if(n&1){let e=E();r(0,"div",23)(1,"a",24),I("click",function(){let t=u(e).$implicit,s=p(2);return f(s.onActionSelect(t))}),c(2),a()()}if(n&2){let e=l.$implicit,i=p(2);o(),d("ngClass",e.id===(i.dataModelSelect==null?null:i.dataModelSelect.id)?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),vt("disabled",i.optionDisabled?!0:null),o(),M(i.displayOption(e))}}function PE(n,l){if(n&1){let e=E();r(0,"i",20),I("click",function(){u(e);let t=p(2);return f(t.onActionSelectClear())}),a()}}function RE(n,l){if(n&1&&(r(0,"div",21),C(1,AE,3,3,"div",22),g(2,"async"),C(3,PE,1,0,"i",13),pi(4,1),a()),n&2){let e=p();o(),d("ngForOf",h(2,2,e.filteredOptions)),o(2),d("ngIf",e.optionAllowUnSelect&&(e.dataModelSelect==null||e.dataModelSelect.id==null?null:e.dataModelSelect.id.length)>0)}}var na=class na{constructor(l,e,i,t,s,_,m,k){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.tokenHelper=_;this.cmsStoreService=m;this.categoryService=k;this.id=++na.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=new Dn;this.formControl=new Et;this.optionTypeView=1;this.optionAllowUnSelect=!1;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new Xe;this.optionReload=()=>this.onActionButtonReload();this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){l&&(typeof l=="string"&&l.length>0||typeof l==typeof Dn)&&this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder),this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(()=>ae(this,null,function*(){this.loadOptions()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(ei(""),$t(1500),xi(),ti(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.titleML:void 0}displayOption(l){return l?l.titleML:void 0}DataGetAll(l){return ae(this,null,function*(){let e=new pe;if(e.rowPerPage=20,e.accessLoad=!0,typeof l=="string"&&l.length>0){let t=new H;t.propertyName="Name",t.value=l,t.searchType=Fe.Contains,e.filters.push(t),t=new H,t.propertyName="id",t.value=l,t.searchType=Fe.Equal,t.clauseType=Be.Or,e.filters.push(t)}let i=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),yield wi(this.categoryService.ServiceGetAll(e)).then(t=>(this.dataModelResult=t,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(i),t.listItems))})}onActionSelect(l){if(!this.optionDisabled){if(this.optionAllowUnSelect&&this.dataModelSelect&&this.dataModelSelect.id==l.id){this.onActionSelectClear();return}this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.patchValue(""),this.optionChange.emit(null),Promise.resolve().then(()=>this.cdr.detectChanges()))}push(l){return this.filteredOptions.pipe(Ot(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if((!l||typeof l=="string"&&l.length===0)&&(this.dataModelSelect=new Dn),typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof Dn){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Dn,this.loadOptions()}};na.nextId=0,na.\u0275fac=function(e){return new(e||na)(v(X),v(V),v(O),v(F),v(L),v(Z),v(J),v(En))},na.\u0275cmp=D({type:na,selectors:[["app-estate-property-type-usage-selector"]],inputs:{optionTypeView:"optionTypeView",optionAllowUnSelect:"optionAllowUnSelect",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:D0,decls:2,vars:2,consts:[["matauto","matAutocomplete"],["class","input-style has-borders has-icon input-style-always-active validate-field mb-4 loader-container",4,"ngIf"],["class","row mb-0",4,"ngIf"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"],[1,"row","mb-0"],["class","col-xl-2 col-lg-3 col-md-4 col-sm-12 pe-1",4,"ngFor","ngForOf"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"]],template:function(e,i){e&1&&(vi(D0),C(0,xE,16,19,"div",1)(1,RE,5,4,"div",2)),e&2&&(d("ngIf",i.optionTypeView===1),o(),d("ngIf",i.optionTypeView===2))},dependencies:[ce,He,N,Y,q,de,zt,ni,ii,oi,en,Q,U,We,B,Me],encapsulation:2});var dn=na;var L0=["*","*"];function kE(n,l){if(n&1&&(r(0,"label",13),c(1),a()),n&2){let e=p(2);d("for",Ie("app-cms-site-selector-",e.id)),o(),M(e.optionLabel)}}function DE(n,l){if(n&1&&(r(0,"mat-option",14)(1,"span"),c(2),a()()),n&2){let e=l.$implicit,i=p(2);d("value",e)("disabled",i.optionDisabled),o(2),M(i.displayOption(e))}}function LE(n,l){n&1&&S(0,"i",15)}function VE(n,l){n&1&&S(0,"i",16)}function BE(n,l){if(n&1){let e=E();r(0,"i",17),I("click",function(){u(e);let t=p(2);return f(t.onActionSelectClear())}),a()}}function FE(n,l){n&1&&(r(0,"em"),c(1),g(2,"translate"),a()),n&2&&(o(),y("(",h(2,1,"TITLE.Necessary"),")"))}function OE(n,l){if(n&1){let e=E();r(0,"div",3),S(1,"app-progress-spinner",4),C(2,kE,2,3,"label",5),S(3,"input",6),r(4,"mat-autocomplete",7,0),I("optionSelected",function(t){u(e);let s=p();return f(s.onActionSelect(t.option.value))}),C(6,DE,3,3,"mat-option",8),g(7,"async"),a(),C(8,LE,1,0,"i",9)(9,VE,1,0,"i",10)(10,BE,1,0,"i",11)(11,FE,3,3,"em",12),pi(12),a()}if(n&2){let e=R(5),i=p();o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(),d("placeholder",x(i.optionPlaceholder))("id",Ie("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",e)("required",i.optionRequired),vt("disabled",i.optionDisabled?!0:null),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",h(7,16,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",i.optionAllowUnSelect&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)==0))}}function NE(n,l){if(n&1){let e=E();r(0,"div",21)(1,"a",22),I("click",function(){let t=u(e).$implicit,s=p(2);return f(s.onActionSelect(t))}),c(2),a()()}if(n&2){let e=l.$implicit,i=p(2);o(),d("ngClass",e.id===(i.dataModelSelect==null?null:i.dataModelSelect.id)?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),vt("disabled",i.optionDisabled?!0:null),o(),M(i.displayOption(e))}}function HE(n,l){if(n&1){let e=E();r(0,"i",17),I("click",function(){u(e);let t=p(2);return f(t.onActionSelectClear())}),a()}}function WE(n,l){if(n&1){let e=E();r(0,"div",18),C(1,NE,3,3,"div",19),g(2,"async"),C(3,HE,1,0,"i",11),r(4,"i",20),g(5,"translate"),I("click",function(){u(e);let t=p();return f(t.onActionButtonReload())}),a(),pi(6,1),a()}if(n&2){let e=p();o(),d("ngForOf",h(2,6,e.filteredOptions)),o(2),d("ngIf",(e.dataModelSelect==null||e.dataModelSelect.id==null?null:e.dataModelSelect.id.length)>0),o(),K("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),d("title",x(h(5,8,"ACTION.RELOAD")))}}var oa=class oa{constructor(l,e,i,t,s,_,m,k){this.coreEnumService=l;this.cmsToastrService=e;this.tokenHelper=i;this.cmsStoreService=t;this.translate=s;this.cdr=_;this.publicHelper=m;this.categoryService=k;this.id=++oa.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=new Zn;this.formControl=new Et;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new Xe;this.optionAllowUnSelect=!1;this.optionTypeView=1;this.typeUsageId="";this.optionReload=()=>this.onActionButtonReload();this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){l&&(typeof l=="string"&&l.length>0||typeof l==typeof Zn)&&this.onActionSelectForce(l)}set optionTypeUsageId(l){this.typeUsageId=l,this.loadOptions()}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder),this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(()=>ae(this,null,function*(){this.loadOptions()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(ei(""),$t(1500),xi(),ti(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.titleML:void 0}displayOption(l){return l?l.titleML:void 0}DataGetAll(l){return ae(this,null,function*(){let e=new pe;e.rowPerPage=20,e.accessLoad=!0;let i=new H,t=new H;l&&l.length>0&&(i.propertyName="title",i.value=l,i.searchType=Fe.Contains,i.clauseType=Be.Or,t.filters.push(i),i=new H,i.propertyName="id",i.value=l,i.searchType=Fe.Equal,i.clauseType=Be.Or,t.filters.push(i),e.filters.push(t)),this.typeUsageId&&this.typeUsageId.length>0&&(i=new H,i.propertyName="PropertyTypes",i.propertyAnyName="LinkPropertyTypeUsageId",i.value=this.typeUsageId,i.searchType=Fe.Equal,i.clauseType=Be.And,e.filters.push(i));let s=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(_=>{this.publicHelper.processService.processStart(s,_,this.constructorInfoAreaId)}),yield wi(this.categoryService.ServiceGetAll(e)).then(_=>(this.dataModelResult=_,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(s),_.listItems))})}onActionSelect(l){if(!this.optionDisabled){if(this.optionAllowUnSelect&&this.dataModelSelect&&this.dataModelSelect.id==l.id){this.onActionSelectClear();return}this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(Ot(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if((!l||typeof l=="string"&&l.length===0)&&(this.dataModelSelect=new Zn),typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof Zn){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Zn,this.loadOptions()}};oa.nextId=0,oa.\u0275fac=function(e){return new(e||oa)(v(X),v(V),v(Z),v(J),v(L),v(O),v(F),v(Ai))},oa.\u0275cmp=D({type:oa,selectors:[["app-estate-contract-type-selector"]],inputs:{optionSelectForce:"optionSelectForce",optionTypeUsageId:"optionTypeUsageId",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionAllowUnSelect:"optionAllowUnSelect",optionTypeView:"optionTypeView",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:L0,decls:2,vars:2,consts:[["matauto","matAutocomplete"],["class","input-style has-borders has-icon input-style-always-active validate-field mb-4 loader-container",4,"ngIf"],["class","row mb-0",4,"ngIf"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"],[1,"row","mb-0"],["class","col-xl-2 col-lg-3 col-md-4 col-sm-12 pe-1",4,"ngFor","ngForOf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"]],template:function(e,i){e&1&&(vi(L0),C(0,OE,13,18,"div",1)(1,WE,7,10,"div",2)),e&2&&(d("ngIf",i.optionTypeView===1),o(),d("ngIf",i.optionTypeView===2))},dependencies:[ce,He,N,Y,q,de,zt,ni,ii,oi,Q,U,We,B],encapsulation:2});var cn=oa;var GE=["vform"],UE=n=>({direction:n}),jE=()=>["descriptionDetail"];function qE(n,l){n&1&&(r(0,"p"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.Property_Type")," "))}function QE(n,l){if(n&1){let e=E();r(0,"div",42)(1,"a",43),I("click",function(){let t=u(e).$implicit,s=p(2);return f(s.onActionSelectorSelectLanduse(t))}),c(2),a()()}if(n&2){let e=l.$implicit,i=p(2);o(),d("ngClass",e.id===i.dataModel.linkPropertyTypeLanduseId?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),vt("disabled",i.fieldsInfo.linkPropertyTypeLanduseId!=null&&i.fieldsInfo.linkPropertyTypeLanduseId.accessAddField?null:!0),o(),M(e.titleML)}}function zE(n,l){if(n&1&&(r(0,"div",40),C(1,QE,3,3,"div",41),a()),n&2){let e=p();o(),d("ngForOf",e.listTypeLanduse)}}function YE(n,l){if(n&1){let e=E();r(0,"app-estate-property-type-landuse-selector",44),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorSelectLanduse(t))}),a()}if(n&2){let e=p();d("optionDisabled",!(e.fieldsInfo.linkPropertyTypeLanduseId!=null&&e.fieldsInfo.linkPropertyTypeLanduseId.accessAddField))("optionTypeView",2)("optionSelectForce",e.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",h(1,5,"TITLE.Property_Type"))("optionTypeUsageId",e.dataModel.linkPropertyTypeUsageId)}}function KE(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p(3);o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),o(2),M(h(4,2,"MESSAGE.required"))}}function ZE(n,l){if(n&1){let e=E();r(0,"div",53)(1,"label",56),c(2),a(),r(3,"input",57,3),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),a(),r(5,"em"),c(6),a(),C(7,KE,5,4,"mat-error",25),a()}if(n&2){let e=R(4),i=p(2);o(2),M(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("disabled",x(!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)))("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),b("ngModel",i.dataModel.title),o(3),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function JE(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p(3);o(),y(" ",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle," "),o(2),M(h(4,2,"MESSAGE.required"))}}function XE(n,l){if(n&1){let e=E();r(0,"div",53)(1,"label",58),c(2),a(),r(3,"input",59,4),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.caseCode,t)||(s.dataModel.caseCode=t),f(t)}),a(),r(5,"em"),c(6),a(),C(7,JE,5,4,"mat-error",25),a()}if(n&2){let e=R(4),i=p(2);o(2),M(i.fieldsInfo.caseCode==null?null:i.fieldsInfo.caseCode.fieldTitle),o(),d("disabled",x(!(i.fieldsInfo.caseCode!=null&&i.fieldsInfo.caseCode.accessAddField)))("placeholder",x(i.fieldsInfo.caseCode==null?null:i.fieldsInfo.caseCode.fieldTitle)),b("ngModel",i.dataModel.caseCode),o(3),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function $E(n,l){if(n&1){let e=E();r(0,"div",53)(1,"label",60),c(2),a(),r(3,"input",61,5),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.createdYaer,t)||(s.dataModel.createdYaer=t),f(t)}),a()()}if(n&2){let e=p(2);o(2),M(e.PropertyTypeSelected.titleCreatedYaer),o(),d("placeholder",x(e.fieldsInfo.createdYaer==null?null:e.fieldsInfo.createdYaer.fieldTitle)),b("ngModel",e.dataModel.createdYaer)}}function eM(n,l){if(n&1){let e=E();r(0,"div",53)(1,"label",62),c(2),a(),r(3,"input",63,6),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.partition,t)||(s.dataModel.partition=t),f(t)}),a()()}if(n&2){let e=p(2);o(2),M(e.PropertyTypeSelected.titlePartition),o(),d("placeholder",x(e.PropertyTypeSelected.titlePartition)),b("ngModel",e.dataModel.partition)}}function tM(n,l){if(n&1){let e=E();r(0,"div",53)(1,"label",64),c(2),a(),r(3,"input",65,7),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.area,t)||(s.dataModel.area=t),f(t)}),a()()}if(n&2){let e=p(2);o(2),M(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle),o(),d("disabled",x(!(e.fieldsInfo.area!=null&&e.fieldsInfo.area.accessAddField)))("placeholder",x(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle)),b("ngModel",e.dataModel.area)}}function iM(n,l){if(n&1){let e=E();r(0,"div",53)(1,"label",66),c(2),a(),r(3,"textarea",67,8),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.address,t)||(s.dataModel.address=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=R(4),i=p(2);o(2),M(i.fieldsInfo.address==null?null:i.fieldsInfo.address.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.address==null?null:i.fieldsInfo.address.fieldTitle)),b("ngModel",i.dataModel.address),d("disabled",!(i.fieldsInfo.address!=null&&i.fieldsInfo.address.accessAddField)),o(3),y("",e.value.length," / 500")}}function nM(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),y(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," "),o(2),M(h(4,2,"MESSAGE.required"))}}function oM(n,l){if(n&1){let e=E();r(0,"div"),C(1,ZE,8,8,"div",30)(2,XE,8,8,"div",30),r(3,"div",45)(4,"div",46)(5,"h5",47),c(6),a()(),r(7,"div",48)(8,"div",49)(9,"input",50),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.viewConfigHiddenInList,t)||(s.dataModel.viewConfigHiddenInList=t),f(t)}),a(),S(10,"label",51),a()()(),C(11,$E,5,4,"div",30)(12,eM,5,4,"div",30)(13,tM,5,6,"div",30),r(14,"app-cms-location-selector",52),g(15,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorLocation(t))}),a(),C(16,iM,7,6,"div",30),r(17,"div",53)(18,"label",54),c(19),g(20,"translate"),a(),r(21,"textarea",55,2),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),a(),r(23,"em"),c(24),a(),C(25,nM,5,4,"mat-error",25),a()()}if(n&2){let e=R(22),i=p();o(),d("ngIf",i.fieldsInfo.title==null?null:i.fieldsInfo.title.accessWatchField),o(),d("ngIf",i.fieldsInfo.caseCode==null?null:i.fieldsInfo.caseCode.accessWatchField),o(4),y(" ",i.fieldsInfo.viewConfigHiddenInList==null?null:i.fieldsInfo.viewConfigHiddenInList.fieldTitle," "),o(3),b("ngModel",i.dataModel.viewConfigHiddenInList),o(2),d("ngIf",i.dataModel.linkPropertyTypeLanduseId&&i.PropertyTypeSelected.titleCreatedYaer.length>1&&i.PropertyTypeSelected.titleCreatedYaer!=="---"),o(),d("ngIf",i.dataModel.linkPropertyTypeLanduseId&&i.PropertyTypeSelected.titlePartition.length>1&&i.PropertyTypeSelected.titleCreatedYaer!=="---"),o(),d("ngIf",i.fieldsInfo.area==null?null:i.fieldsInfo.area.accessWatchField),o(),d("optionDisabled",!(i.fieldsInfo.linkLocationId!=null&&i.fieldsInfo.linkLocationId.accessAddField))("optionSelectForce",i.dataModel.linkLocationId)("optionPlaceholder",h(15,19,"TITLE.Region")),o(2),d("ngIf",i.fieldsInfo.address==null?null:i.fieldsInfo.address.accessWatchField),o(3),M(h(20,21,"TITLE.General_Description")),o(2),d("disabled",x(!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessAddField)))("placeholder",x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),b("ngModel",i.dataModel.description),o(3),y("",e.value.length," / 2000"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function rM(n,l){if(n&1&&(r(0,"button",71),c(1),g(2,"translate"),a()),n&2){p(2);let e=R(12);d("disabled",!e.form.valid),o(),y(" ",h(2,2,"ACTION.NEXT")," ")}}function aM(n,l){if(n&1){let e=E();r(0,"div",68)(1,"button",69),I("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),c(2),g(3,"translate"),a(),C(4,rM,3,4,"button",70),a()}if(n&2){let e=p();o(2),y(" ",h(3,2,"ACTION.CANCEL")," "),o(2),d("ngIf",e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0)}}function lM(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p(3);o(),y(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," "),o(2),M(h(4,2,"MESSAGE.required"))}}function sM(n,l){if(n&1){let e=E();r(0,"div",53)(1,"label",79),c(2),a(),r(3,"input",80,9),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.linkSiteId,t)||(s.dataModel.linkSiteId=t),f(t)}),a(),r(5,"em"),c(6),a(),C(7,lM,5,4,"mat-error",25),a()}if(n&2){let e=R(4),i=p(2);o(2),M(i.fieldsInfo.linkSiteId==null?null:i.fieldsInfo.linkSiteId.fieldTitle),o(),d("disabled",x(!(i.fieldsInfo.linkSiteId!=null&&i.fieldsInfo.linkSiteId.accessAddField)))("placeholder",x(i.fieldsInfo.linkSiteId==null?null:i.fieldsInfo.linkSiteId.fieldTitle)),b("ngModel",i.dataModel.linkSiteId),o(3),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function dM(n,l){if(n&1){let e=E();r(0,"app-cms-enum-record-admin-status-selector",81),w("modelChange",function(t){u(e);let s=p(2);return T(s.dataModel.mainAdminRecordStatus,t)||(s.dataModel.mainAdminRecordStatus=t),f(t)}),a()}if(n&2){let e=p(2);b("model",e.dataModel.mainAdminRecordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function cM(n,l){if(n&1&&(r(0,"button",71),c(1),g(2,"translate"),a()),n&2){p(3);let e=R(12);d("disabled",!e.form.valid),o(),y(" ",h(2,2,"ACTION.NEXT")," ")}}function pM(n,l){if(n&1&&(r(0,"div",68)(1,"button",82),c(2),g(3,"translate"),a(),C(4,cM,3,4,"button",70),a()),n&2){let e=p(2);o(2),y(" ",h(3,2,"ACTION.BEFOR")," "),o(2),d("ngIf",e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0)}}function mM(n,l){if(n&1){let e=E();r(0,"mat-step",23),g(1,"translate"),C(2,sM,8,8,"div",30),r(3,"div",45)(4,"div",46)(5,"h5",72),c(6),a()(),r(7,"div",48)(8,"div",49)(9,"input",73),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.viewContentHidden,t)||(s.dataModel.viewContentHidden=t),f(t)}),a(),S(10,"label",74),a()()(),r(11,"div",45)(12,"div",46)(13,"h5",75),c(14),a()(),r(15,"div",48)(16,"div",49)(17,"input",76),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.siteAdminViewContentHidden,t)||(s.dataModel.siteAdminViewContentHidden=t),f(t)}),a(),S(18,"label",77),a()()(),C(19,dM,1,5,"app-cms-enum-record-admin-status-selector",78)(20,pM,5,4,"div",28),a()}if(n&2){let e=p();d("label",x(h(1,9,"TITLE.Admin_Config"))),o(2),d("ngIf",(e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.accessWatchField)&&e.tokenHelper.isAdminSite),o(4),y(" ",e.fieldsInfo.viewContentHidden==null?null:e.fieldsInfo.viewContentHidden.fieldTitle," "),o(3),b("ngModel",e.dataModel.viewContentHidden),o(5),y(" ",e.fieldsInfo.siteAdminViewContentHidden==null?null:e.fieldsInfo.siteAdminViewContentHidden.fieldTitle," "),o(3),b("ngModel",e.dataModel.siteAdminViewContentHidden),o(2),d("ngIf",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.accessWatchField),o(),d("ngIf",e.formInfo.submitButtonEnabled)}}function uM(n,l){if(n&1){let e=E();r(0,"div",53)(1,"label",83),c(2),a(),r(3,"input",84,10),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.aboutCustomerMobile,t)||(s.dataModel.aboutCustomerMobile=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.aboutCustomerMobile==null?null:i.fieldsInfo.aboutCustomerMobile.fieldTitle),o(),d("disabled",x(!(i.fieldsInfo.aboutCustomerMobile!=null&&i.fieldsInfo.aboutCustomerMobile.accessAddField)))("placeholder",x(i.fieldsInfo.aboutCustomerMobile==null?null:i.fieldsInfo.aboutCustomerMobile.fieldTitle)),b("ngModel",i.dataModel.aboutCustomerMobile),o(3),y("",e.value.length," / 100")}}function fM(n,l){if(n&1){let e=E();r(0,"div",53)(1,"label",85),c(2),a(),r(3,"input",86,11),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.aboutCustomerTel,t)||(s.dataModel.aboutCustomerTel=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.aboutCustomerTel==null?null:i.fieldsInfo.aboutCustomerTel.fieldTitle),o(),d("disabled",x(!(i.fieldsInfo.aboutCustomerTel!=null&&i.fieldsInfo.aboutCustomerTel.accessAddField)))("placeholder",x(i.fieldsInfo.aboutCustomerTel==null?null:i.fieldsInfo.aboutCustomerTel.fieldTitle)),b("ngModel",i.dataModel.aboutCustomerTel),o(3),y("",e.value.length," / 100")}}function _M(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),y(" ",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.fieldTitle," "),o(2),M(h(4,2,"MESSAGE.required"))}}function gM(n,l){if(n&1){let e=E();r(0,"div",53)(1,"label",87),c(2),g(3,"translate"),a(),r(4,"textarea",88,12),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),a(),r(6,"em"),c(7),a(),C(8,_M,5,4,"mat-error",25),a()}if(n&2){let e=R(5),i=p();o(2),M(h(3,6,"TITLE.Description_Hidden")),o(2),d("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",i.dataModel.descriptionHidden),o(3),y("",e.value.length," / 2000"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function hM(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),y(" ",e.fieldsInfo.addressHidden==null?null:e.fieldsInfo.addressHidden.fieldTitle," "),o(2),M(h(4,2,"MESSAGE.required"))}}function yM(n,l){if(n&1){let e=E();r(0,"div",53)(1,"label",89),c(2),g(3,"translate"),a(),r(4,"textarea",90,13),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.addressHidden,t)||(s.dataModel.addressHidden=t),f(t)}),a(),r(6,"em"),c(7),a(),C(8,hM,5,4,"mat-error",25),a()}if(n&2){let e=R(5),i=p();o(2),M(h(3,6,"TITLE.Address_Hidden")),o(2),d("placeholder",x(i.fieldsInfo.addressHidden==null?null:i.fieldsInfo.addressHidden.fieldTitle)),b("ngModel",i.dataModel.addressHidden),o(3),y("",e.value.length," / 2000"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function SM(n,l){if(n&1&&(r(0,"button",71),c(1),g(2,"translate"),a()),n&2){p(2);let e=R(12);d("disabled",!e.form.valid),o(),y(" ",h(2,2,"ACTION.NEXT")," ")}}function CM(n,l){if(n&1&&(r(0,"div",68)(1,"button",82),c(2),g(3,"translate"),a(),C(4,SM,3,4,"button",70),a()),n&2){let e=p();o(2),y(" ",h(3,2,"ACTION.BEFOR")," "),o(2),d("ngIf",e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0)}}function vM(n,l){if(n&1){let e=E();r(0,"div",101)(1,"div",45)(2,"div",46)(3,"h5",102),c(4),g(5,"translate"),a()(),r(6,"div",48)(7,"div",49)(8,"input",103),w("ngModelChange",function(t){u(e);let s=p(4);return T(s.contractDataModel.salePriceByAgreement,t)||(s.contractDataModel.salePriceByAgreement=t),f(t)}),a(),S(9,"label",104),a()()()()}if(n&2){let e=p(4);o(4),y(" ",h(5,2,"TITLE.Agreement")," "),o(4),b("ngModel",e.contractDataModel.salePriceByAgreement)}}function IM(n,l){if(n&1){let e=E();r(0,"div",96)(1,"div",97)(2,"div",53)(3,"label",98),c(4),a(),r(5,"input",99),w("ngModelChange",function(t){u(e);let s=p(3);return T(s.contractDataModel.salePrice,t)||(s.contractDataModel.salePrice=t),f(t)}),a(),r(6,"label"),c(7),a()()(),C(8,vM,10,4,"div",100),a()}if(n&2){let e=p(3);o(4),M(e.contractTypeSelected.titleSalePriceML),o(),b("ngModel",e.contractDataModel.salePrice),d("disabled",e.contractDataModel.salePriceByAgreement),o(2),ee(" (",e.dataModelCorCurrencySelector.titleML," ",e.dataModelCorCurrencySelector.symbol," ) "),o(),d("ngIf",e.contractTypeSelected.salePriceAllowAgreement)}}function EM(n,l){if(n&1){let e=E();r(0,"div",101)(1,"div",45)(2,"div",46)(3,"h5",107),c(4),g(5,"translate"),a()(),r(6,"div",48)(7,"div",49)(8,"input",108),w("ngModelChange",function(t){u(e);let s=p(4);return T(s.contractDataModel.depositPriceByAgreement,t)||(s.contractDataModel.depositPriceByAgreement=t),f(t)}),a(),S(9,"label",109),a()()()()}if(n&2){let e=p(4);o(4),y(" ",h(5,2,"TITLE.Agreement")," "),o(4),b("ngModel",e.contractDataModel.depositPriceByAgreement)}}function MM(n,l){if(n&1){let e=E();r(0,"div",96)(1,"div",97)(2,"div",53)(3,"label",105),c(4),a(),r(5,"input",106),w("ngModelChange",function(t){u(e);let s=p(3);return T(s.contractDataModel.depositPrice,t)||(s.contractDataModel.depositPrice=t),f(t)}),a(),r(6,"label"),c(7),a()()(),C(8,EM,10,4,"div",100),a()}if(n&2){let e=p(3);o(4),M(e.contractTypeSelected.titleDepositPriceML),o(),b("ngModel",e.contractDataModel.depositPrice),d("disabled",e.contractDataModel.depositPriceByAgreement),o(2),ee(" (",e.dataModelCorCurrencySelector.titleML," ",e.dataModelCorCurrencySelector.symbol," ) "),o(),d("ngIf",e.contractTypeSelected.depositPriceAllowAgreement)}}function bM(n,l){if(n&1){let e=E();r(0,"div",101)(1,"div",45)(2,"div",46)(3,"h5",112),c(4),g(5,"translate"),a()(),r(6,"div",48)(7,"div",49)(8,"input",113),w("ngModelChange",function(t){u(e);let s=p(4);return T(s.contractDataModel.rentPriceByAgreement,t)||(s.contractDataModel.rentPriceByAgreement=t),f(t)}),a(),S(9,"label",114),a()()()()}if(n&2){let e=p(4);o(4),y(" ",h(5,2,"TITLE.Agreement")," "),o(4),b("ngModel",e.contractDataModel.rentPriceByAgreement)}}function TM(n,l){if(n&1){let e=E();r(0,"div",96)(1,"div",97)(2,"div",53)(3,"label",110),c(4),a(),r(5,"input",111),w("ngModelChange",function(t){u(e);let s=p(3);return T(s.contractDataModel.rentPrice,t)||(s.contractDataModel.rentPrice=t),f(t)}),a(),r(6,"label"),c(7),a()()(),C(8,bM,10,4,"div",100),a()}if(n&2){let e=p(3);o(4),M(e.contractTypeSelected.titleRentPriceML),o(),b("ngModel",e.contractDataModel.rentPrice),d("disabled",e.contractDataModel.rentPriceByAgreement),o(2),ee(" (",e.dataModelCorCurrencySelector.titleML," ",e.dataModelCorCurrencySelector.symbol," ) "),o(),d("ngIf",e.contractTypeSelected.rentPriceAllowAgreement)}}function wM(n,l){if(n&1){let e=E();r(0,"div",101)(1,"div",45)(2,"div",46)(3,"h5",117),c(4),g(5,"translate"),a()(),r(6,"div",48)(7,"div",49)(8,"input",118),w("ngModelChange",function(t){u(e);let s=p(4);return T(s.contractDataModel.periodPriceByAgreement,t)||(s.contractDataModel.periodPriceByAgreement=t),f(t)}),a(),S(9,"label",119),a()()()()}if(n&2){let e=p(4);o(4),y(" ",h(5,2,"TITLE.Agreement")," "),o(4),b("ngModel",e.contractDataModel.periodPriceByAgreement)}}function xM(n,l){if(n&1){let e=E();r(0,"div",96)(1,"div",97)(2,"div",53)(3,"label",115),c(4),a(),r(5,"input",116),w("ngModelChange",function(t){u(e);let s=p(3);return T(s.contractDataModel.periodPrice,t)||(s.contractDataModel.periodPrice=t),f(t)}),a(),r(6,"label"),c(7),a()()(),C(8,wM,10,4,"div",100),a()}if(n&2){let e=p(3);o(4),M(e.contractTypeSelected.titlePeriodPriceML),o(),b("ngModel",e.contractDataModel.periodPrice),d("disabled",e.contractDataModel.periodPriceByAgreement),o(2),ee(" (",e.dataModelCorCurrencySelector.titleML," ",e.dataModelCorCurrencySelector.symbol," ) "),o(),d("ngIf",e.contractTypeSelected.hasPeriodPrice&&e.contractTypeSelected.periodPriceAllowAgreement)}}function AM(n,l){if(n&1){let e=E();r(0,"div"),C(1,IM,9,6,"div",93)(2,MM,9,6,"div",93)(3,TM,9,6,"div",93)(4,xM,9,6,"div",93),S(5,"hr"),r(6,"div",53)(7,"label",94),c(8),a(),r(9,"textarea",95,14),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.contractDataModel.description,t)||(s.contractDataModel.description=t),f(t)}),a(),r(11,"em"),c(12),a()()()}if(n&2){let e=R(10),i=p(2);o(),d("ngIf",i.contractTypeSelected.hasSalePrice),o(),d("ngIf",i.contractTypeSelected.hasDepositPrice),o(),d("ngIf",i.contractTypeSelected.hasRentPrice),o(),d("ngIf",i.contractTypeSelected.hasPeriodPrice),o(4),M(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),b("ngModel",i.contractDataModel.description),o(3),y("",e.value.length," / 500")}}function PM(n,l){if(n&1){let e=E();r(0,"div",91),S(1,"br")(2,"br"),r(3,"app-cms-currency-selector",92),g(4,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectCurrency(t))}),a(),C(5,AM,13,9,"div",25),S(6,"br")(7,"br"),a()}if(n&2){let e=p();o(3),d("optionSelectFirstItem",e.currencyOptionSelectFirstItem)("optionSelectForce",e.contractDataModel.linkCoreCurrencyId)("optionPlaceholder",h(4,4,"TITLE.Specify_the_transaction_currency")),o(2),d("ngIf",e.contractDataModel.linkCoreCurrencyId>0)}}function RM(n,l){if(n&1){let e=E();r(0,"button",120),I("click",function(){u(e);let t=p();return f(t.onActionOptionAddToList())}),c(1),g(2,"translate"),a()}n&2&&(o(),y(" ",h(2,1,"ACTION.Add_To_List")," ... "))}function kM(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.Contract")," "))}function DM(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"cmstitle"),a()),n&2){let e=l.$implicit,i=p(2);o(),y(" ",di(2,1,e.linkEstateContractTypeId,i.dataModelEstateContractTypeResult.listItems)," ")}}function LM(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.SalePrice")," "))}function VM(n,l){if(n&1&&(A(0),c(1),g(2,"number"),S(3,"br"),c(4),P()),n&2){let e=p().$implicit;o(),y(" ",h(2,3,e.salePrice)," "),o(3),ee(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function BM(n,l){n&1&&(A(0),c(1),g(2,"translate"),P()),n&2&&(o(),y(" ",h(2,1,"TITLE.PriceByAgreement")," "))}function FM(n,l){if(n&1&&(r(0,"mat-cell"),C(1,VM,5,5,"ng-container",25)(2,BM,3,3,"ng-container",25),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.salePrice>0),o(),d("ngIf",e.salePriceByAgreement)}}function OM(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.DepositPrice")," "))}function NM(n,l){if(n&1&&(A(0),c(1),g(2,"number"),S(3,"br"),c(4),P()),n&2){let e=p().$implicit;o(),y(" ",h(2,3,e.depositPrice)," "),o(3),ee(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function HM(n,l){n&1&&(A(0),c(1),g(2,"translate"),P()),n&2&&(o(),y(" ",h(2,1,"TITLE.PriceByAgreement")," "))}function WM(n,l){if(n&1&&(r(0,"mat-cell"),C(1,NM,5,5,"ng-container",25)(2,HM,3,3,"ng-container",25),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.depositPrice>0),o(),d("ngIf",e.depositPriceByAgreement)}}function GM(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.RentPrice")," "))}function UM(n,l){if(n&1&&(A(0),c(1),g(2,"number"),S(3,"br"),c(4),P()),n&2){let e=p().$implicit;o(),y(" ",h(2,3,e.rentPrice)," "),o(3),ee(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function jM(n,l){n&1&&(A(0),c(1),g(2,"translate"),P()),n&2&&(o(),y(" ",h(2,1,"TITLE.PriceByAgreement")," "))}function qM(n,l){if(n&1&&(r(0,"mat-cell"),C(1,UM,5,5,"ng-container",25)(2,jM,3,3,"ng-container",25),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.rentPrice>0),o(),d("ngIf",e.rentPriceByAgreement)}}function QM(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.PeriodPrice")," "))}function zM(n,l){if(n&1&&(A(0),c(1),g(2,"number"),S(3,"br"),c(4),P()),n&2){let e=p().$implicit;o(),y(" ",h(2,3,e.periodPrice)," "),o(3),ee(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function YM(n,l){n&1&&(A(0),c(1),g(2,"translate"),P()),n&2&&(o(),y(" ",h(2,1,"TITLE.PriceByAgreement")," "))}function KM(n,l){if(n&1&&(r(0,"mat-cell"),C(1,zM,5,5,"ng-container",25)(2,YM,3,3,"ng-container",25),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.periodPrice>0),o(),d("ngIf",e.periodPriceByAgreement)}}function ZM(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.OPTION")," "))}function JM(n,l){if(n&1){let e=E();r(0,"mat-cell",136)(1,"button",137),I("click",function(){let t=u(e).index,s=p(2);return f(s.onActionOptionRemoveFromList(t))}),r(2,"small")(3,"mat-icon",138),g(4,"translate"),c(5,"delete"),a()()()()}n&2&&(o(3),d("matTooltip",x(h(4,2,"ACTION.DELETE"))))}function XM(n,l){if(n&1&&(A(0),c(1),P()),n&2){let e=p().$implicit;o(),y(" ",e.description," ")}}function $M(n,l){if(n&1&&(r(0,"mat-cell",139),c(1),g(2,"translate"),C(3,XM,2,1,"ng-container",25),a()),n&2){let e=l.$implicit;o(),y(" ",h(2,2,"TITLE.DESCRIPTION")," : "),o(2),d("ngIf",e.description)}}function eb(n,l){n&1&&S(0,"mat-header-row")}function tb(n,l){if(n&1&&S(0,"mat-row"),n&2){let e=l.dataIndex;K("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}function ib(n,l){if(n&1&&S(0,"mat-row"),n&2){let e=l.dataIndex;K("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}function nb(n,l){if(n&1&&(r(0,"div",121)(1,"mat-table",122),A(2,123),C(3,kM,3,3,"mat-header-cell",124)(4,DM,3,4,"mat-cell",125),P(),A(5,126),C(6,LM,3,3,"mat-header-cell",124)(7,FM,3,2,"mat-cell",125),P(),A(8,127),C(9,OM,3,3,"mat-header-cell",124)(10,WM,3,2,"mat-cell",125),P(),A(11,128),C(12,GM,3,3,"mat-header-cell",124)(13,qM,3,2,"mat-cell",125),P(),A(14,129),C(15,QM,3,3,"mat-header-cell",124)(16,KM,3,2,"mat-cell",125),P(),A(17,130),C(18,ZM,3,3,"mat-header-cell",124)(19,JM,6,4,"mat-cell",131),P(),A(20,132),C(21,$M,4,4,"mat-cell",133),P(),C(22,eb,1,0,"mat-header-row",134)(23,tb,1,4,"mat-row",135)(24,ib,1,4,"mat-row",135),a()()),n&2){let e=p();o(),d("dataSource",e.optionTabledataSource),o(21),d("matHeaderRowDef",e.optionTabledisplayedColumns),o(),d("matRowDefColumns",e.optionTabledisplayedColumns),o(),d("matRowDefColumns",se(4,jE))}}function ob(n,l){if(n&1&&(r(0,"button",141),c(1),g(2,"translate"),a()),n&2){p(2);let e=R(12);d("disabled",!e.form.valid),o(),y(" ",h(2,2,"ACTION.SAVE")," ")}}function rb(n,l){if(n&1&&(r(0,"div",68)(1,"button",82),c(2),g(3,"translate"),a(),C(4,ob,3,4,"button",140),a()),n&2){let e=p();o(2),y(" ",h(3,2,"ACTION.BEFOR")," "),o(2),d("ngIf",e.dataModel.contracts&&e.dataModel.contracts.length>0)}}function ab(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function lb(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function sb(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}function db(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}var Ol=class Ol extends Bt{constructor(e,i,t,s,_,m,k,z,Se,qe,Ue,ft,jt,Ft,Yt){super(s,new Ki,Ue,Yt);this.dialogRef=e;this.coreEnumService=i;this.estateContractTypeService=t;this.estatePropertyService=s;this.estatePropertyDetailGroupService=_;this.estatePropertyTypeService=m;this.estatePropertyTypeLanduseService=k;this.cmsToastrService=z;this.cmsStoreService=Se;this.themeService=qe;this.publicHelper=Ue;this.cdr=ft;this.dialog=jt;this.tokenHelper=Ft;this.translate=Yt;this.constructorInfoAreaId=this.constructor.name;this.currencyOptionSelectFirstItem=!0;this.enumInputDataType=Oi;this.tokenInfo=new It;this.appLanguage="fa";this.formMatcher=new Na;this.dataModelResult=new G;this.dataModelEstateContractTypeResult=new G;this.dataModelEstatePropertyTypeResult=new G;this.dataModelEstatePropertyTypeLanduseResult=new G;this.dataModel=new Ki;this.formInfo=new ue;this.dataModelCorCurrencySelector=new Fi;this.PropertyTypeSelected=new Qt;this.contractDataModel=new no;this.optionActionTitle="";this.optionTabledataSource=new mi;this.optionTabledisplayedColumns=["LinkEstateContractTypeId","SalePrice","RentPrice","DepositPrice","PeriodPrice","Action"];this.propertyDetails=new Map;this.step=0;this.listTypeLanduse=[];this.hidden=!0;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.Submit_New_Content").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.getEstateContractType(),this.getEstatePropertyType(),this.getEstatePropertyTypeLanduse(),this.dataModel.caseCode=this.publicHelper.StringRandomGenerator(5,!0),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.DataGetAccess(),this.getEstateContractType(),this.getEstatePropertyType(),this.getEstatePropertyTypeLanduse(),this.translate.get("ACTION.Add_To_List").subscribe(i=>{this.optionActionTitle=i}),this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}getEstateContractType(){let e=this.constructor.name+"getEstateContractType";this.translate.get("TITLE.Get_Estate_Contract_Type").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateContractTypeService.ServiceGetAll(null).subscribe({next:i=>{this.dataModelEstateContractTypeResult=i,this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e)}})}getEstatePropertyType(){let e=this.constructor.name+"getEstatePropertyType";this.translate.get("TITLE.Get_Estate_property_Type").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyTypeService.ServiceGetAll(null).subscribe({next:i=>{this.dataModelEstatePropertyTypeResult=i,this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e)}})}getEstatePropertyTypeLanduse(){let e=this.constructor.name+"getEstatePropertyType";this.translate.get("TITLE.Get_Estate_user_Type").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyTypeLanduseService.ServiceGetAll(null).subscribe({next:i=>{this.dataModelEstatePropertyTypeLanduseResult=i,this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e)}})}DataGetPropertyDetailGroup(e){let i=new pe,t=new H;t.propertyName="LinkPropertyTypeLanduseId",t.value=e,i.filters.push(t),this.dataModel.propertyDetailGroups=[];let s=this.constructor.name+"DataGetPropertyDetailGroup";this.translate.get("TITLE.Get_Details").subscribe(_=>{this.publicHelper.processService.processStart(s,_,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceGetAll(i).subscribe({next:_=>{_.isSuccess?this.dataModel.propertyDetailGroups=_.listItems:this.cmsToastrService.typeErrorGetAccess(_.errorMessage),this.publicHelper.processService.processStop(s)},error:_=>{this.cmsToastrService.typeErrorGetAccess(_),this.publicHelper.processService.processStop(s,!1)}})}DataAdd(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"ServiceAdd";this.translate.get("TITLE.Property_registration").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessAdd(),setTimeout(()=>this.dialogRef.close({dialogChangedDate:!0}),1e3)):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelectUsage(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeUsageId=e.id,this.dataModelEstatePropertyTypeResult.isSuccess&&this.dataModelEstatePropertyTypeLanduseResult.isSuccess&&(this.listTypeLanduse=[],this.dataModelEstatePropertyTypeResult.listItems.forEach(i=>{i.linkPropertyTypeUsageId===e.id&&this.dataModelEstatePropertyTypeLanduseResult.listItems.forEach(t=>{t.id===i.linkPropertyTypeLanduseId&&this.listTypeLanduse.push(t)})}))}onActionSelectorSelectLanduse(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.PropertyTypeSelected=e,this.dataModel.linkPropertyTypeLanduseId=e.id,this.DataGetPropertyDetailGroup(e.id)}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCmsUserId=null;return}this.dataModel.linkCmsUserId=e.id}onActionSelectorLocation(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.information_area_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=e.id}onActionSelectorProject(e){if(!e||!e.id||e.id.length<=0){this.dataModel.linkPropertyProjectId=null;return}this.dataModel.linkPropertyProjectId=e.id}onActionSelectorCompany(e){if(!e||!e.id||e.id.length<=0){this.dataModel.linkPropertyCompanyId=null;return}this.dataModel.linkPropertyCompanyId=e.id}onActionSelectorEstateUser(e){this.dataModel.linkEstateExpertId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateExpertId=e.id)}onActionSelectorEstateAgency(e){this.dataModel.linkEstateAgencyId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateAgencyId=e.id)}onActionSelectorContractType(e){if(this.contractTypeSelected=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.currencyOptionSelectFirstItem=!0,this.contractTypeSelected=e,this.contractDataModel=new no,this.contractDataModel.contractType=this.contractTypeSelected,this.contractDataModel.linkEstateContractTypeId=this.contractTypeSelected.id}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.submitButtonEnabled=!1,this.dataModel.propertyDetailValues=[],this.dataModel.propertyDetailGroups&&this.dataModel.propertyDetailGroups.forEach(e=>{e.propertyDetails.forEach(i=>{let t=new wo;t.linkPropertyDetailId=i.id,t.value=this.propertyDetails[i.id],this.dataModel.propertyDetailValues.push(t)})}),(!this.dataModel.contracts||this.dataModel.contracts.length===0)&&this.onActionOptionAddToList(!1),!this.dataModel.contracts||this.dataModel.contracts.length===0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)}),this.formInfo.submitButtonEnabled=!0;return}this.DataAdd()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionOptionAddToList(e=!0){if(!this.contractTypeSelected||this.contractTypeSelected.id.length===0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(t=>{e&&this.cmsToastrService.typeErrorSelected(t)});return}this.dataModel.contracts||(this.dataModel.contracts=[]);var i=!1;if(this.contractTypeSelected.hasSalePrice&&(this.contractDataModel.salePrice&&this.contractDataModel.salePrice>0&&(i=!0),this.contractTypeSelected.salePriceAllowAgreement&&this.contractDataModel.salePriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Sales_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i=!1,this.contractTypeSelected.hasRentPrice&&(this.contractDataModel.rentPrice&&this.contractDataModel.rentPrice>0&&(i=!0),this.contractTypeSelected.rentPriceAllowAgreement&&this.contractDataModel.rentPriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Rent_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i=!1,this.contractTypeSelected.hasPeriodPrice&&(this.contractDataModel.periodPrice&&this.contractDataModel.periodPrice>0&&(i=!0),this.contractTypeSelected.periodPriceAllowAgreement&&this.contractDataModel.periodPriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Period_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i=!1,this.contractTypeSelected.hasDepositPrice&&(this.contractDataModel.depositPrice&&this.contractDataModel.depositPrice>0&&(i=!0),this.contractTypeSelected.depositPriceAllowAgreement&&this.contractDataModel.depositPriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Deposit_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.dataModel.contracts.push(this.contractDataModel),this.contractDataModel=new no,this.optionTabledataSource.data=this.dataModel.contracts,this.contractTypeSelected=null}onActionOptionRemoveFromList(e){e<0||!this.dataModel.contracts||this.dataModel.contracts.length===0||(this.contractDataModel=this.dataModel.contracts[e],this.dataModel.contracts.splice(e,1),this.contractDataModel=new no,this.optionTabledataSource.data=this.dataModel.contracts)}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&((!this.dataModel.linkPropertyTypeUsageId||this.dataModel.linkPropertyTypeUsageId.length===0)&&(this.translate.get("TITLE.Select_the_Property_Type_Usage").subscribe(t=>{this.cmsToastrService.typeErrorFormInvalid(t)}),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)),(!this.dataModel.linkPropertyTypeLanduseId||this.dataModel.linkPropertyTypeLanduseId.length===0)&&(this.translate.get("TITLE.Select_the_Property_Type_Landuse").subscribe(t=>{this.cmsToastrService.typeErrorFormInvalid(t)}),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)),this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10))),(!this.dataModel.contracts||this.dataModel.contracts.length==0)&&e.previouslySelectedStep.state=="contract"&&e.previouslySelectedIndex<e.selectedIndex&&(this.translate.get("TITLE.Select_the_transaction_type").subscribe(t=>{this.cmsToastrService.typeErrorFormInvalid(t)}),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10))}onActionBackToParent(){this.dialogRef.close({dialogChangedDate:!1})}setStep(e){this.step=e}nextStep(){this.step++}prevStep(){this.step--}onActionClickSalePriceAllowAgreement(){this.contractDataModel.salePriceByAgreement&&(this.contractDataModel.salePrice=0)}onActionClickRentPriceAllowAgreement(){this.contractDataModel.rentPriceByAgreement&&(this.contractDataModel.rentPrice=0)}onActionClickPeriodPriceAllowAgreement(){this.contractDataModel.periodPriceByAgreement&&(this.contractDataModel.periodPrice=0)}onActionClickDepositPriceByAgreement(){this.contractDataModel.depositPriceByAgreement&&(this.contractDataModel.depositPrice=0)}onActionSelectCurrency(e){if(!e||e.id<=0){this.cmsToastrService.typeErrorSelected(),this.dataModelCorCurrencySelector=null,this.contractDataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=e,this.contractDataModel.linkCoreCurrencyId=e.id}onActionButtonQuickListSearchTitle(){if(!this.dataModel||!this.dataModel.title||this.dataModel.title.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Fn,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{searchTitle:this.dataModel.title}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionButtonQuickListSearchCustomerTel(){if(!this.dataModel||!this.dataModel.aboutCustomerTel||this.dataModel.aboutCustomerTel.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Fn,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{searchCustomerTel:this.dataModel.aboutCustomerTel}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionButtonQuickListSearchCustomerMobile(){if(!this.dataModel||!this.dataModel.aboutCustomerMobile||this.dataModel.aboutCustomerMobile.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Fn,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{searchCustomerTel:this.dataModel.aboutCustomerMobile}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionButtonQuickListSearchCaseCode(){if(!this.dataModel||!this.dataModel.caseCode||this.dataModel.caseCode.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Fn,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{searchCaseCode:this.dataModel.caseCode}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}};Ol.\u0275fac=function(i){return new(i||Ol)(v(be),v(X),v(Ai),v(gi),v(Ii),v(_n),v(Ei),v(V),v(J),v(Vt),v(F),v(O),v(Ae),v(Z),v(L))},Ol.\u0275cmp=D({type:Ol,selectors:[["app-estate-property-quick-add"]],viewQuery:function(i,t){if(i&1&&te(GE,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:53,vars:58,consts:[["vform","ngForm"],["stepper",""],["Description",""],["Title",""],["CaseCode",""],["CreatedYaer",""],["Partition",""],["Area",""],["Address",""],["LinkSiteId",""],["AboutCustomerMobile",""],["AboutCustomerTel",""],["DescriptionHidden",""],["AddressHidden",""],["contractDataModel_Description",""],[3,"Key","svg","ngStyle"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder"],[4,"ngIf"],["class","row mb-0",4,"ngIf"],[3,"optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder","optionTypeUsageId","optionChange",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","main",3,"label",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["state","contract",3,"label"],[3,"optionChange","optionTypeView","optionDisabled","optionPlaceholder","optionSelectForce"],["class","container",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["class","example-container mat-elevation-z8",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[1,"row","mb-0"],["class","col-xl-2 col-lg-3 col-md-4 col-sm-12 pe-1",4,"ngFor","ngForOf"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder","optionTypeUsageId"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.viewConfigHiddenInList",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.viewConfigHiddenInList","name","dataModel.viewConfigHiddenInList",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.viewConfigHiddenInList",1,"custom-control-label"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","2000","rows","5","id","dataModel.description","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.title",1,"color-highlight"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.caseCode",1,"color-highlight"],["matInput","","name","dataModel.caseCode","type","text","minlength","3","maxlength","100","id","dataModel.caseCode",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.createdYaer",1,"color-highlight"],["matInput","","name","dataModel.createdYaer","type","number","id","dataModel.createdYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.partition",1,"color-highlight"],["matInput","","name","dataModel.partition","type","number","id","dataModel.partition",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.area",1,"color-highlight"],["matInput","","name","dataModel.area","type","text","currencyMask","","id","dataModel.area",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue","matStepperNext","",3,"disabled",4,"ngIf"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["data-trigger-switch","dataModel.viewContentHidden",1,"font-600","font-14"],["type","checkbox","id","dataModel.viewContentHidden","name","dataModel.viewContentHidden",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.viewContentHidden",1,"custom-control-label"],["data-trigger-switch","dataModel.siteAdminViewContentHidden",1,"font-600","font-14"],["type","checkbox","id","dataModel.siteAdminViewContentHidden","name","dataModel.siteAdminViewContentHidden",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.siteAdminViewContentHidden",1,"custom-control-label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["for","dataModel.linkSiteId",1,"color-highlight"],["matInput","","name","dataModel.linkSiteId","type","text","minlength","3","maxlength","100","id","dataModel.linkSiteId",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["for","dataModel.aboutCustomerMobile",1,"color-highlight"],["matInput","","name","dataModel.aboutCustomerMobile","type","text","minlength","0","maxlength","100","id","dataModel.aboutCustomerMobile",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.aboutCustomerTel",1,"color-highlight"],["matInput","","name","dataModel.aboutCustomerTel","type","text","minlength","0","maxlength","100","id","dataModel.aboutCustomerTel",1,"input-Mobile",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","1","maxlength","2000","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.addressHidden",1,"color-highlight"],["matInput","","name","dataModel.addressHidden","type","text","minlength","1","maxlength","2000","rows","5","id","dataModel.addressHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"container"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],["class","row",4,"ngIf"],["for","contractDataModel.description",1,"color-highlight"],["matInput","","name","contractDataModel.description","type","text","minlength","0","maxlength","500","rows","5","id","contractDataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"row"],[1,"col-6"],["for","contractDataModel.salePrice",1,"color-highlight"],["matInput","","name","contractDataModel.salePrice","type","text","currencyMask","","placeholder","0","id","contractDataModel.salePrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["class","col-3",4,"ngIf"],[1,"col-3"],["data-trigger-switch","contractDataModel.salePriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.salePriceByAgreement","name","contractDataModel.salePriceByAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","contractDataModel.salePriceByAgreement",1,"custom-control-label"],["for","contractDataModel.depositPrice",1,"color-highlight"],["matInput","","name","contractDataModel.depositPrice","type","text","currencyMask","","placeholder","0","id","contractDataModel.depositPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.depositPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.depositPriceByAgreement","name","contractDataModel.depositPriceByAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","contractDataModel.depositPriceByAgreement",1,"custom-control-label"],["for","contractDataModel.rentPrice",1,"color-highlight"],["matInput","","name","contractDataModel.rentPrice","type","text","currencyMask","","placeholder","0","id","contractDataModel.rentPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.rentPriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.rentPriceAllowAgreement","name","contractDataModel.rentPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","contractDataModel.rentPriceAllowAgreement",1,"custom-control-label"],["for","contractDataModel.periodPrice",1,"color-highlight"],["matInput","","name","contractDataModel.periodPrice","type","text","currencyMask","","placeholder","0","id","contractDataModel.periodPriceByAgreement",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.periodPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.periodPriceByAgreement","name","contractDataModel.periodPriceByAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","contractDataModel.periodPriceByAgreement",1,"custom-control-label"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"example-container","mat-elevation-z8"],["multiTemplateDataRows","",3,"dataSource"],["matColumnDef","LinkEstateContractTypeId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","SalePrice"],["matColumnDef","DepositPrice"],["matColumnDef","RentPrice"],["matColumnDef","PeriodPrice"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","descriptionDetail"],["colspan","6",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even",4,"matRowDef","matRowDefColumns"],[1,"Action"],["type","button","mat-icon-button","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["matTooltipPosition","before","aria-hidden","false",2,"color","red",3,"matTooltip"],["colspan","6"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=E();S(0,"app-cms-guide-notice",15),r(1,"div",16),S(2,"app-progress-spinner",17),r(3,"div",18)(4,"p",19),c(5),g(6,"translate"),a(),r(7,"p"),c(8),g(9,"translate"),a(),S(10,"app-cms-form-result-message",20),r(11,"form",21,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(13,"mat-vertical-stepper",22,1),I("selectionChange",function(m){u(s);let k=R(14);return f(t.onStepClick(m,k))}),r(15,"mat-step",23),g(16,"translate"),r(17,"app-estate-property-type-usage-selector",24),g(18,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorSelectUsage(m))}),a(),C(19,qE,3,3,"p",25)(20,zE,2,1,"div",26)(21,YE,2,7,"app-estate-property-type-landuse-selector",27),S(22,"br")(23,"br"),C(24,oM,26,23,"div",25)(25,aM,5,4,"div",28),a(),C(26,mM,21,11,"mat-step",29),r(27,"mat-step",23),g(28,"translate"),C(29,uM,7,7,"div",30)(30,fM,7,7,"div",30)(31,gM,9,8,"div",30)(32,yM,9,8,"div",30)(33,CM,5,4,"div",28),a(),r(34,"mat-step",31),g(35,"translate"),r(36,"p"),c(37),g(38,"translate"),a(),r(39,"app-estate-contract-type-selector",32),g(40,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorContractType(m))}),a(),C(41,PM,8,6,"div",33)(42,RM,3,3,"button",34),S(43,"hr"),r(44,"p"),c(45),g(46,"translate"),a(),C(47,nb,25,5,"div",35)(48,rb,5,4,"div",28),a(),C(49,ab,2,0,"ng-template",36)(50,lb,2,0,"ng-template",37)(51,sb,2,0,"ng-template",38)(52,db,2,0,"ng-template",39),a()()()()}i&2&&(d("Key","estate.property.list.add")("svg","assets/media/svg/icons/General/Notifications1.svg")("ngStyle",ze(56,UE,t.tokenInfo.access.direction)),o(2),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",h(6,38,"TITLE.EDIT_USER_ACCOUNT")," "),o(3),y(" ",h(9,40,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(5),d("label",x(h(16,42,"TITLE.REQUIRED_INFORMATION"))),o(2),d("optionDisabled",!(t.fieldsInfo.linkPropertyTypeUsageId!=null&&t.fieldsInfo.linkPropertyTypeUsageId.accessAddField))("optionTypeView",2)("optionSelectForce",t.dataModel.linkPropertyTypeUsageId)("optionPlaceholder",h(18,44,"TITLE.Type_Usage")),o(2),d("ngIf",t.dataModel.linkPropertyTypeUsageId&&t.dataModel.linkPropertyTypeUsageId.length>0&&t.listTypeLanduse&&t.listTypeLanduse.length>0),o(),d("ngIf",t.dataModel.linkPropertyTypeUsageId&&t.dataModel.linkPropertyTypeUsageId.length>0&&t.listTypeLanduse&&t.listTypeLanduse.length>0),o(),d("ngIf",(!t.listTypeLanduse||t.listTypeLanduse.length===0)&&t.dataModel.linkPropertyTypeUsageId&&t.dataModel.linkPropertyTypeUsageId.length>0),o(3),d("ngIf",t.dataModel.linkPropertyTypeLanduseId&&t.dataModel.linkPropertyTypeLanduseId.length>0),o(),d("ngIf",t.formInfo.submitButtonEnabled),o(),d("ngIf",t.tokenHelper.isAdminSite),o(),d("label",x(h(28,46,"TITLE.SECRET_INFORMATION"))),o(2),d("ngIf",t.fieldsInfo.aboutCustomerMobile==null?null:t.fieldsInfo.aboutCustomerMobile.accessWatchField),o(),d("ngIf",t.fieldsInfo.aboutCustomerTel==null?null:t.fieldsInfo.aboutCustomerTel.accessWatchField),o(),d("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),o(),d("ngIf",t.fieldsInfo.addressHidden==null?null:t.fieldsInfo.addressHidden.accessWatchField),o(),d("ngIf",t.formInfo.submitButtonEnabled),o(),d("label",x(h(35,48,"TITLE.Transaction"))),o(3),y(" ",h(38,50,"TITLE.Specify_the_type_of_transaction_for_this_property")," "),o(2),d("optionTypeView",2)("optionDisabled",!1)("optionPlaceholder",h(40,52,"TITLE.Type_Of_Transaction"))("optionSelectForce",t.contractDataModel.linkEstateContractTypeId),o(2),d("ngIf",t.contractTypeSelected&&t.contractTypeSelected.id.length>0),o(),d("ngIf",t.contractTypeSelected&&t.contractTypeSelected.id.length>0),o(3),y(" ",h(46,54,"TITLE.List_Of_Transaction_Details_Of_This_Property")," "),o(2),d("ngIf",!t.publicHelper.processService.process.inRunAll),o(),d("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[ce,He,N,it,ke,Y,Wt,qt,q,we,de,De,Pe,me,Re,Je,xe,Ee,Q,nn,on,Mn,bn,tn,nt,rt,dt,at,ot,ct,lt,st,pt,mt,sr,Wi,Tn,ui,U,jo,ge,an,Gt,Go,Ci,dn,cn,bo,B,Qn],encapsulation:2});var Nc=Ol;var cb=()=>["expandedTitle"],pb=()=>["expandedDetail"],mb=()=>[5,10,20,100],V0=n=>({display:n});function ub(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.MENU")," "))}function fb(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"button",56),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelectActionMenu(t))}),S(2,"i",57),a()()}}function _b(n,l){n&1&&(r(0,"mat-header-cell",58),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.PICTURE")," "))}function gb(n,l){if(n&1&&(S(0,"img",60),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function hb(n,l){if(n&1&&(r(0,"mat-cell"),C(1,gb,2,4,"img",59),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function yb(n,l){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Sb(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function Cb(n,l){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function vb(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"cmssiteinfo"),g(3,"async"),a()),n&2){let e=l.$implicit;o(),y(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function Ib(n,l){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Eb(n,l){if(n&1&&S(0,"select",63),n&2){let e=p().$implicit,i=p();d("contentService",i.contentService)("row",e)("ngStyle",ze(3,V0,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Mb(n,l){if(n&1&&(r(0,"mat-cell",61),g(1,"statusCellClass"),S(2,"i",61),g(3,"statusIconClass"),C(4,Eb,1,5,"select",62),a()),n&2){let e=l.$implicit,i=p();d("ngClass",h(1,3,e.recordStatus)),o(2),d("ngClass",h(3,5,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function bb(n,l){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.name==null?null:e.fieldsInfo.name.fieldTitle," ")}}function Tb(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.name," ")}}function wb(n,l){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.lastName==null?null:e.fieldsInfo.lastName.fieldTitle," ")}}function xb(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.lastName," ")}}function Ab(n,l){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.companyName==null?null:e.fieldsInfo.companyName.fieldTitle," ")}}function Pb(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.companyName," ")}}function Rb(n,l){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.email==null?null:e.fieldsInfo.email.fieldTitle," ")}}function kb(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.email," ")}}function Db(n,l){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.mobile==null?null:e.fieldsInfo.mobile.fieldTitle," ")}}function Lb(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.mobile," ")}}function Vb(n,l){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Bb(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),y(" ",h(2,1,e.createdDate)," ")}}function Fb(n,l){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Ob(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),y(" ",h(2,1,e.updatedDate)," ")}}function Nb(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.OPTION")," "))}function Hb(n,l){if(n&1&&(r(0,"mat-cell",64)(1,"button",65)(2,"mat-icon"),c(3,"more_vert"),a()(),S(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),d("matMenuTriggerFor",e)}}function Wb(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"translate"),g(3,"localeDate"),a()),n&2){let e=l.$implicit;o(),ee(" ",h(2,2,"TITLE.CreationDate")," : ",h(3,4,e.createdDate)," ")}}function Gb(n,l){if(n&1&&(S(0,"img",69),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function Ub(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),C(5,Gb,2,4,"img",66),a(),r(6,"th")(7,"span",67),I("click",function(){u(e);let t=p();return f(t.onActionCopied())}),S(8,"i",68),a(),c(9),a()(),r(10,"tr"),S(11,"td"),r(12,"td"),c(13),a()(),r(14,"tr"),S(15,"td"),r(16,"td"),c(17),a()(),r(18,"tr"),S(19,"td"),r(20,"td"),c(21),a()(),r(22,"tr"),S(23,"td"),r(24,"td"),c(25),a()(),r(26,"tr"),S(27,"td"),r(28,"td"),c(29),a()(),r(30,"tr"),S(31,"td"),r(32,"td"),c(33),a()(),r(34,"tr"),S(35,"td")(36,"td"),a()()()()}if(n&2){let e=l.$implicit,i=p();o(5),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),o(2),d("cdkCopyToClipboard",e.id),o(2),y(" ",e.id," "),o(4),ee(" ",i.fieldsInfo.username==null?null:i.fieldsInfo.username.fieldTitle," : ",e.username," "),o(4),ee(" ",i.fieldsInfo.name==null?null:i.fieldsInfo.name.fieldTitle," : ",e.name," "),o(4),ee(" ",i.fieldsInfo.lastName==null?null:i.fieldsInfo.lastName.fieldTitle," : ",e.lastName," "),o(4),ee(" ",i.fieldsInfo.mobile==null?null:i.fieldsInfo.mobile.fieldTitle," : ",e.mobile," "),o(4),ee(" ",i.fieldsInfo.email==null?null:i.fieldsInfo.email.fieldTitle," : ",e.email," "),o(4),ee(" ",i.fieldsInfo.companyName==null?null:i.fieldsInfo.companyName.fieldTitle," : ",e.companyName," ")}}function jb(n,l){n&1&&S(0,"mat-header-row")}function qb(n,l){if(n&1){let e=E();r(0,"mat-row",70),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=p();K("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function Qb(n,l){if(n&1){let e=E();r(0,"mat-row",71),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=p();K("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function zb(n,l){if(n&1){let e=E();r(0,"mat-row",72),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=p();K("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),d("ngStyle",ze(7,V0,e.expanded===!0?"":"none"))}}function Yb(n,l){if(n&1){let e=E();r(0,"div",73)(1,"button",74),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",75),c(3),g(4,"translate"),a()()}n&2&&(o(3),y(" ",h(4,1,"ACTION.CANCEL")," "))}var Nl=class Nl extends xt{constructor(e,i,t,s,_,m,k,z,Se,qe,Ue,ft){super(t,new xr,Ue,m,Se);this.data=e;this.dialogRef=i;this.contentService=t;this.cmsToastrService=s;this.cmsStoreService=_;this.tokenHelper=m;this.router=k;this.cdr=z;this.translate=Se;this.pageInfo=qe;this.publicHelper=Ue;this.dialog=ft;this.requestTitle="";this.requestPropertyId="";this.constructorInfoAreaId=this.constructor.name;this.tablePropertySelected=[];this.filteModelContent=new pe;this.filterDataModelQueryBuilder=[];this.formInfo=new ue;this.optionsSearch=new cr;this.optionsStatist=new pr;this.tokenInfo=new It;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","Name","LastName","CompanyName","email","mobile","action_menu"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","Name","LastName","action_menu"];this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(e.title&&(this.requestTitle=e.title+""),e.id&&(this.requestPropertyId=e.id+"")),this.optionsSearch.parentMethods={onSubmit:jt=>this.onSubmitOptionsSearch(jt)}}ngOnInit(){this.translate.get("TITLE.QUICK_VIEW").subscribe(e=>{this.formInfo.formTitle=e}),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new xr);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllResponsibleUserId(this.requestPropertyId,i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems):this.cmsToastrService.typeErrorGetAll(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=$.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Nl.\u0275fac=function(i){return new(i||Nl)(v(Te),v(be),v(gi),v(V),v(J),v(Z),v(Ze),v(O),v(L),v(St),v(F),v(Ae))},Nl.\u0275cmp=D({type:Nl,selectors:[["app-estate-property-responsible-user-list"]],standalone:!1,features:[oe],decls:83,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],["cms-action-main",""],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Name"],["matColumnDef","LastName"],["matColumnDef","CompanyName"],["matColumnDef","email"],["matColumnDef","mobile"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){if(i&1){let s=E();r(0,"div",3),S(1,"app-progress-spinner",4),r(2,"div",5),c(3),a(),r(4,"div",6)(5,"app-cms-html-list",7),w("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),I("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),$e(6,8)(7,9)(8,10),A(9,11),r(10,"a",12),I("click",function(){return u(s),f(t.onActionButtonReload())}),S(11,"i",13),a(),r(12,"a",14),I("click",function(){return u(s),f(t.onActionGridExpandRows(!0))}),S(13,"i",15),a(),r(14,"a",14),I("click",function(){return u(s),f(t.onActionGridExpandRows(!1))}),S(15,"i",16),a(),P(),A(16,17),r(17,"a",18)(18,"mat-slide-toggle",19),w("ngModelChange",function(m){return u(s),T(t.optionsSearch.data.show,m)||(t.optionsSearch.data.show=m),f(m)}),a(),c(19),g(20,"translate"),a(),P(),$e(21,20)(22,21),A(23,22),r(24,"app-cms-search-list",23),w("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),a(),r(25,"app-cms-statist-list",23),w("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),P(),A(26,24),r(27,"mat-table",25,0),I("matSortChange",function(){u(s);let m=R(28);return f(t.onTableSortData(m))}),A(29,26),C(30,ub,3,3,"mat-header-cell",27)(31,fb,3,0,"mat-cell",28),P(),A(32,29),C(33,_b,3,3,"mat-header-cell",30)(34,hb,2,1,"mat-cell",28),P(),A(35,31),C(36,yb,2,1,"mat-header-cell",30)(37,Sb,2,1,"mat-cell",28),P(),A(38,32),C(39,Cb,2,1,"mat-header-cell",30)(40,vb,4,5,"mat-cell",28),P(),A(41,33),C(42,Ib,2,1,"mat-header-cell",30)(43,Mb,5,7,"mat-cell",34),P(),A(44,35),C(45,bb,2,1,"mat-header-cell",30)(46,Tb,2,1,"mat-cell",28),P(),A(47,36),C(48,wb,2,1,"mat-header-cell",30)(49,xb,2,1,"mat-cell",28),P(),A(50,37),C(51,Ab,2,1,"mat-header-cell",30)(52,Pb,2,1,"mat-cell",28),P(),A(53,38),C(54,Rb,2,1,"mat-header-cell",30)(55,kb,2,1,"mat-cell",28),P(),A(56,39),C(57,Db,2,1,"mat-header-cell",30)(58,Lb,2,1,"mat-cell",28),P(),A(59,40),C(60,Vb,2,1,"mat-header-cell",30)(61,Bb,3,3,"mat-cell",28),P(),A(62,41),C(63,Fb,2,1,"mat-header-cell",30)(64,Ob,3,3,"mat-cell",28),P(),A(65,42),C(66,Nb,3,3,"mat-header-cell",27)(67,Hb,6,1,"mat-cell",43),P(),A(68,44),C(69,Wb,4,6,"mat-cell",28),P(),A(70,45),C(71,Ub,37,15,"mat-cell",28),P(),C(72,jb,1,0,"mat-header-row",46)(73,qb,1,6,"mat-row",47)(74,Qb,1,6,"mat-row",48)(75,zb,1,9,"mat-row",49),a(),P(),A(76,50),r(77,"mat-paginator",51,1),I("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),P(),a()(),r(79,"div",52),S(80,"app-cms-form-result-message",53),a(),r(81,"div",54),C(82,Yb,5,3,"div",55),a()()}i&2&&(o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(2),y(" ",t.formInfo.formTitle," "),o(2),d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.username==null?null:t.tableRowSelected.username.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.username:t.tableRowSelected==null?null:t.tableRowSelected.id),o(13),b("ngModel",t.optionsSearch.data.show),o(),y("",h(20,25,"ACTION.SEARCH")," "),o(5),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(45),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",se(27,cb)),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(),d("matRowDefColumns",se(28,pb)),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(29,mb)),o(3),d("formInfo",t.formInfo),o(2),d("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[ce,N,it,q,me,Je,Ee,Q,Dt,Lt,Mt,yt,bt,Tt,nt,rt,dt,at,ot,ct,lt,st,pt,mt,fi,At,Pt,U,ge,Rt,kt,Hi,We,B,sn,Me,jn,Zt,qn],encapsulation:2});var Hc=Nl;var Hl=class Hl{constructor(l,e,i,t,s,_,m,k){this.headerService=l;this.publicHelper=e;this.cdr=i;this.tokenHelper=t;this.cmsStoreService=s;this.cmsToastrService=_;this.dialog=m;this.translate=k;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new G;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId.length>0&&(this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(()=>ae(this,null,function*(){this.DataGetOneContent()}))))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetOneContent(){let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}};Hl.\u0275fac=function(e){return new(e||Hl)(v(vn),v(F),v(O),v(Z),v(J),v(V),v(Ae),v(L))},Hl.\u0275cmp=D({type:Hl,selectors:[["app-estate-property-company-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:27,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td",2,"text-align","left"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(r(0,"div",0),S(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),S(6,"span",6),a(),r(7,"div",7)(8,"h5")(9,"b"),c(10),g(11,"translate"),a()()(),S(12,"div",8),a(),r(13,"div",4)(14,"div",5),c(15),a(),r(16,"div",9),c(17),a(),S(18,"div",10)(19,"div",11),a(),r(20,"div",4)(21,"div",5),c(22),a(),r(23,"div",9),c(24),a(),S(25,"div",11),a()()()(),S(26,"div",12)),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(5),d("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),M(h(11,7,"TITLE.Selected_Company")),o(5),y("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," :"),o(2),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(5),y(" ",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : "),o(2),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[U,hn,B],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var Wc=Hl;var Zb=()=>["expandedTitle"],Jb=()=>["expandedDetail"],Xb=()=>[5,10,20,100],B0=n=>({display:n}),$b=n=>({background:n});function eT(n,l){if(n&1&&S(0,"app-core-user-header",89),n&2){let e=p();d("optionId",e.requestLinkUserId)}}function tT(n,l){if(n&1&&S(0,"app-estate-billboard-header",89),n&2){let e=p();d("optionId",e.requestLinkBillboardId)}}function iT(n,l){if(n&1&&S(0,"app-estate-contract-type-header",89),n&2){let e=p();d("optionId",e.requestLinkContractTypeId)}}function nT(n,l){if(n&1&&S(0,"app-estate-customer-order-header",89),n&2){let e=p();d("optionId",e.requestLinkCustomerOrderId)}}function oT(n,l){if(n&1&&S(0,"app-estate-property-type-landuse-header",89),n&2){let e=p();d("optionId",e.requestLinkPropertyTypeLanduseId)}}function rT(n,l){if(n&1&&S(0,"app-estate-property-type-usage-header",89),n&2){let e=p();d("optionId",e.requestLinkPropertyTypeUsageId)}}function aT(n,l){if(n&1&&S(0,"app-estate-property-project-header",89),n&2){let e=p();d("optionId",e.requestLinkProjectId)}}function lT(n,l){if(n&1&&S(0,"app-estate-property-company-header",89),n&2){let e=p();d("optionId",e.requestLinkCompanyId)}}function sT(n,l){if(n&1){let e=E();r(0,"a",90),I("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),S(1,"i",91),a()}}function dT(n,l){if(n&1){let e=E();r(0,"div",35)(1,"a",92),I("click",function(t){u(e);let s=p();return f(s.onActionButtonNewRow(t))}),S(2,"i",93)(3,"br"),a(),r(4,"p",37),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.ADD")," "))}function cT(n,l){if(n&1){let e=E();r(0,"div",35)(1,"a",94),I("click",function(t){u(e);let s=p();return f(s.onActionButtonQuickAddRow(t))}),S(2,"i",93)(3,"br"),a(),r(4,"p",37),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.QUICK_ADD")," "))}function pT(n,l){if(n&1){let e=E();r(0,"div",35)(1,"a",95),I("click",function(t){u(e);let s=p();return f(s.onActionButtonEditRow(s.tableRowSelected,t))}),S(2,"i",96)(3,"br"),a(),r(4,"p",37),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.EDIT")," "))}function mT(n,l){if(n&1){let e=E();r(0,"div",35)(1,"a",97),I("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",98)(3,"br"),a(),r(4,"p",37),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.DELETE")," "))}function uT(n,l){if(n&1){let e=E();r(0,"div",35)(1,"a",23),I("click",function(){u(e);let t=p();return f(t.onActionButtonActionSendSmsToCustomerOrder())}),S(2,"i",99)(3,"br"),a(),r(4,"p",37),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.ActionSendSmsToCustomerOrder")," "))}function fT(n,l){if(n&1){let e=E();r(0,"div",35)(1,"a",23),I("click",function(t){u(e);let s=p();return f(s.onActionButtonAdsRow(s.tableRowSelected,t))}),S(2,"i",100)(3,"br"),a(),r(4,"p",37),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.ADS")," "))}function _T(n,l){if(n&1&&(A(0),r(1,"button",40),c(2),g(3,"translate"),a(),P()),n&2){let e=p();o(),d("routerLink",x("/core/site/edit/"+(e.tableRowSelected==null?null:e.tableRowSelected.linkSiteId))),o(),y(" ",h(3,3,"ACTION.VIEW_SITE")," ")}}function gT(n,l){if(n&1){let e=E();r(0,"mat-icon",101),I("click",function(){u(e);let t=p();return f(t.filteModelContent.caseCode="")}),c(1," close"),a()}}function hT(n,l){if(n&1){let e=E();r(0,"app-cms-user-selector",103),g(1,"translate"),I("optionChange",function(t){u(e);let s=p(2);return f(s.filteModelContent.linkResponsibleUserId=t==null?null:t.id)}),a()}n&2&&d("optionPlaceholder",h(1,1,"TITLE.InResponsibleTo"))}function yT(n,l){if(n&1){let e=E();r(0,"div",111)(1,"label",112),c(2),a(),r(3,"input",113,3),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.filteModelContent.createdYaer,t)||(s.filteModelContent.createdYaer=t),f(t)}),a()()}if(n&2){let e=p(2);o(2),M(e.PropertyTypeSelected.titleCreatedYaer),o(),d("placeholder",x(e.fieldsInfo.createdYaer==null?null:e.fieldsInfo.createdYaer.fieldTitle)),b("ngModel",e.filteModelContent.createdYaer)}}function ST(n,l){if(n&1){let e=E();r(0,"div",111)(1,"label",114),c(2),a(),r(3,"input",115,4),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.filteModelContent.partition,t)||(s.filteModelContent.partition=t),f(t)}),a()()}if(n&2){let e=p(2);o(2),M(e.PropertyTypeSelected.titlePartition),o(),d("placeholder",x(e.PropertyTypeSelected.titlePartition)),b("ngModel",e.filteModelContent.partition)}}function CT(n,l){if(n&1){let e=E();r(0,"div",111)(1,"label",116),c(2),a(),r(3,"input",117,5),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.filteModelContent.area,t)||(s.filteModelContent.area=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=p(2);o(2),M(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle)),b("ngModel",e.filteModelContent.area),o(3),M(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldDescription)}}function vT(n,l){if(n&1){let e=E();r(0,"div",111)(1,"label",118),c(2),g(3,"translate"),a(),r(4,"input",119,6),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.filteModelContent.salePriceMin,t)||(s.filteModelContent.salePriceMin=t),f(t)}),a()()}if(n&2){let e=p(2);o(2),M(h(3,2,"TITLE.SalePriceMin")),o(2),b("ngModel",e.filteModelContent.salePriceMin)}}function IT(n,l){if(n&1){let e=E();r(0,"div",111)(1,"label",120),c(2),g(3,"translate"),a(),r(4,"input",121,7),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.filteModelContent.rentPriceMin,t)||(s.filteModelContent.rentPriceMin=t),f(t)}),a()()}if(n&2){let e=p(2);o(2),M(h(3,2,"TITLE.RentPriceMin")),o(2),b("ngModel",e.filteModelContent.rentPriceMin)}}function ET(n,l){if(n&1){let e=E();r(0,"div",111)(1,"label",122),c(2),g(3,"translate"),a(),r(4,"input",123,8),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.filteModelContent.depositPriceMin,t)||(s.filteModelContent.depositPriceMin=t),f(t)}),a()()}if(n&2){let e=p(2);o(2),M(h(3,2,"TITLE.DepositPriceMin")),o(2),b("ngModel",e.filteModelContent.depositPriceMin)}}function MT(n,l){if(n&1){let e=E();r(0,"div",111)(1,"label",124),c(2),g(3,"translate"),a(),r(4,"input",125,9),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.filteModelContent.periodPriceMin,t)||(s.filteModelContent.periodPriceMin=t),f(t)}),a()()}if(n&2){let e=p(2);o(2),M(h(3,2,"TITLE.PeriodPriceMin")),o(2),b("ngModel",e.filteModelContent.periodPriceMin)}}function bT(n,l){if(n&1){let e=E();r(0,"div",111)(1,"label",126),c(2),g(3,"translate"),a(),r(4,"input",127,10),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.filteModelContent.salePriceMax,t)||(s.filteModelContent.salePriceMax=t),f(t)}),a()()}if(n&2){let e=p(2);o(2),M(h(3,2,"TITLE.SalePriceMax")),o(2),b("ngModel",e.filteModelContent.salePriceMax)}}function TT(n,l){if(n&1){let e=E();r(0,"div",111)(1,"label",128),c(2),g(3,"translate"),a(),r(4,"input",129,11),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.filteModelContent.rentPriceMax,t)||(s.filteModelContent.rentPriceMax=t),f(t)}),a()()}if(n&2){let e=p(2);o(2),y("",h(3,2,"TITLE.RentPriceMax")," "),o(2),b("ngModel",e.filteModelContent.rentPriceMax)}}function wT(n,l){if(n&1){let e=E();r(0,"div",111)(1,"label",130),c(2),g(3,"translate"),a(),r(4,"input",131,12),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.filteModelContent.depositPriceMax,t)||(s.filteModelContent.depositPriceMax=t),f(t)}),a()()}if(n&2){let e=p(2);o(2),M(h(3,2,"TITLE.DepositPriceMax")),o(2),b("ngModel",e.filteModelContent.depositPriceMax)}}function xT(n,l){if(n&1){let e=E();r(0,"div",111)(1,"label",132),c(2),g(3,"translate"),a(),r(4,"input",133,13),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.filteModelContent.periodPriceMax,t)||(s.filteModelContent.periodPriceMax=t),f(t)}),a()()}if(n&2){let e=p(2);o(2),M(h(3,2,"TITLE.PeriodPriceMax")),o(2),b("ngModel",e.filteModelContent.periodPriceMax)}}function AT(n,l){if(n&1){let e=E();r(0,"div",45),S(1,"i",142),c(2,"\xA0 "),r(3,"app-input-string",143),w("modelChange",function(t){u(e);let s=p().$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=p().$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),Nt(Ie("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionRequired",e.required)("optionLabel",e.title)}}function PT(n,l){if(n&1){let e=E();r(0,"div",45),S(1,"i",142),c(2,"\xA0 "),r(3,"app-input-int",144),w("modelChange",function(t){u(e);let s=p().$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=p().$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),Nt(Ie("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionRequired",e.required)("optionLabel",e.title)}}function RT(n,l){if(n&1){let e=E();r(0,"div",45),S(1,"i",142),c(2,"\xA0 "),r(3,"app-input-boolean",145),w("modelChange",function(t){u(e);let s=p().$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),c(4),a()()}if(n&2){let e=p().$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),b("model",i.propertyDetails[e.id]),o(),y("",e.title," ")}}function kT(n,l){if(n&1){let e=E();r(0,"div",45),S(1,"i",142),c(2,"\xA0 "),r(3,"app-input-float",144),w("modelChange",function(t){u(e);let s=p().$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=p().$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),Nt(Ie("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionRequired",e.required)("optionLabel",e.title)}}function DT(n,l){if(n&1){let e=E();r(0,"div",45),S(1,"i",142),c(2,"\xA0 "),r(3,"label"),c(4),a(),r(5,"app-input-date",146),w("modelChange",function(t){u(e);let s=p().$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=p().$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),Nt(Ie("color:'",e.iconColor,"';")),o(),M(e.title),o(),b("model",i.propertyDetails[e.id]),d("optionRequired",e.required)}}function LT(n,l){if(n&1){let e=E();r(0,"div",45),S(1,"i",142),c(2,"\xA0 "),r(3,"app-input-textarea",144),w("modelChange",function(t){u(e);let s=p().$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=p().$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),Nt(Ie("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionRequired",e.required)("optionLabel",e.title)}}function VT(n,l){if(n&1){let e=E();r(0,"div",45),S(1,"i",142),c(2,"\xA0 "),r(3,"app-input-string",143),w("modelChange",function(t){u(e);let s=p().$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=p().$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),Nt(Ie("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionRequired",e.required)("optionLabel",e.title)}}function BT(n,l){if(n&1&&(A(0)(1,139),C(2,AT,4,12,"div",140)(3,PT,4,9,"div",140)(4,RT,5,5,"div",140)(5,kT,4,9,"div",140)(6,DT,6,9,"div",140)(7,LT,4,9,"div",140)(8,VT,4,12,"div",141),P()()),n&2){let e=l.$implicit,i=p(3);o(),d("ngSwitch",e.inputDataType),o(),d("ngSwitchCase",i.enumInputDataType.String),o(),d("ngSwitchCase",i.enumInputDataType.Int),o(),d("ngSwitchCase",i.enumInputDataType.Boolean),o(),d("ngSwitchCase",i.enumInputDataType.Float),o(),d("ngSwitchCase",i.enumInputDataType.Date),o(),d("ngSwitchCase",i.enumInputDataType.TextArea)}}function FT(n,l){if(n&1){let e=E();r(0,"button",147),I("click",function(){u(e);let t=p(3);return f(t.prevStep())}),c(1),g(2,"translate"),a()}n&2&&(o(),y(" ",h(2,1,"ACTION.PREVIOUS")," "))}function OT(n,l){if(n&1){let e=E();r(0,"button",148),I("click",function(){u(e);let t=p(3);return f(t.nextStep())}),c(1),g(2,"translate"),a()}n&2&&(o(),y(" ",h(2,1,"ACTION.NEXT")," "))}function NT(n,l){if(n&1){let e=E();r(0,"button",148),I("click",function(){u(e);let t=p(3);return f(t.nextStep())}),c(1),g(2,"translate"),a()}n&2&&(o(),y(" ",h(2,1,"ACTION.END")," "))}function HT(n,l){if(n&1){let e=E();r(0,"mat-expansion-panel",134),I("opened",function(){let t=u(e).index,s=p(2);return f(s.setStep(t))}),r(1,"mat-expansion-panel-header")(2,"mat-panel-title"),c(3),a(),r(4,"mat-panel-description"),c(5),r(6,"mat-icon",135),c(7),a()()(),C(8,BT,9,7,"ng-container",136),r(9,"mat-action-row"),C(10,FT,3,3,"button",137)(11,OT,3,3,"button",138)(12,NT,3,3,"button",138),a()()}if(n&2){let e=l.$implicit,i=l.index,t=p(2);d("expanded",t.step===i),o(3),y(" ",e.title," "),o(2),y(" ",e.description," "),o(2),M(e.iconFont),o(),d("ngForOf",e.propertyDetails),o(2),d("ngIf",i>0),o(),d("ngIf",i+1<t.dataModelPropertyDetailGroups.length),o(),d("ngIf",i+1===t.dataModelPropertyDetailGroups.length)}}function WT(n,l){if(n&1){let e=E();r(0,"div")(1,"P"),c(2),g(3,"translate"),a(),C(4,hT,2,3,"app-cms-user-selector",102),r(5,"app-cms-location-autocomplete",103),g(6,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorLocation(t))}),a(),S(7,"hr"),r(8,"app-estate-property-type-usage-selector",104),g(9,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorSelectUsage(t))}),a(),S(10,"br")(11,"br")(12,"br"),r(13,"app-estate-property-type-landuse-selector",104),g(14,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorSelectLanduse(t))}),a(),S(15,"br")(16,"br")(17,"br"),r(18,"app-estate-contract-type-selector",104),g(19,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorContarctType(t))}),a(),S(20,"br")(21,"br")(22,"br"),C(23,yT,5,4,"div",105)(24,ST,5,4,"div",105)(25,CT,7,5,"div",105),S(26,"hr"),r(27,"app-cms-currency-selector",106),g(28,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectCurrency(t))}),a(),r(29,"div",107)(30,"div",108),C(31,vT,6,4,"div",105)(32,IT,6,4,"div",105)(33,ET,6,4,"div",105)(34,MT,6,4,"div",105),a(),r(35,"div",108),C(36,bT,6,4,"div",105)(37,TT,6,4,"div",105)(38,wT,6,4,"div",105)(39,xT,6,4,"div",105),a(),r(40,"mat-accordion",109),C(41,HT,13,8,"mat-expansion-panel",110),S(42,"br"),a()()()}if(n&2){let e=p();o(2),y("",h(3,24,"MESSAGE.Selecting_any_of_the_following_will_make_the_search_results_range_smaller")," "),o(2),d("ngIf",e.tokenHelper.isAdminSite),o(),d("optionPlaceholder",h(6,26,"TITLE.Region")),o(3),d("optionTypeView",2)("optionPlaceholder",h(9,28,"TITLE.Type_Usage")),o(5),d("optionTypeView",2)("optionPlaceholder",h(14,30,"TITLE.Property_Type")),o(5),d("optionTypeView",2)("optionPlaceholder",h(19,32,"TITLE.Transaction_type")),o(5),d("ngIf",e.filteModelContent.linkPropertyTypeLanduseId&&(e.PropertyTypeSelected==null||e.PropertyTypeSelected.titleCreatedYaer==null?null:e.PropertyTypeSelected.titleCreatedYaer.length)>1),o(),d("ngIf",e.filteModelContent.linkPropertyTypeLanduseId&&(e.PropertyTypeSelected==null||e.PropertyTypeSelected.titlePartition==null?null:e.PropertyTypeSelected.titlePartition.length)>1),o(),d("ngIf",e.fieldsInfo.area==null?null:e.fieldsInfo.area.accessWatchField),o(2),d("optionSelectFirstItem",!1)("optionSelectForce",e.filteModelContent.linkCoreCurrencyId)("optionPlaceholder",h(28,34,"TITLE.Specify_the_transaction_currency")),o(4),d("ngIf",e.contractTypeSelected==null?null:e.contractTypeSelected.hasSalePrice),o(),d("ngIf",e.contractTypeSelected==null?null:e.contractTypeSelected.hasRentPrice),o(),d("ngIf",e.contractTypeSelected==null?null:e.contractTypeSelected.hasDepositPrice),o(),d("ngIf",e.contractTypeSelected==null?null:e.contractTypeSelected.hasDepositPrice),o(2),d("ngIf",e.contractTypeSelected==null?null:e.contractTypeSelected.hasSalePrice),o(),d("ngIf",e.contractTypeSelected==null?null:e.contractTypeSelected.hasRentPrice),o(),d("ngIf",e.contractTypeSelected==null?null:e.contractTypeSelected.hasDepositPrice),o(),d("ngIf",e.contractTypeSelected==null?null:e.contractTypeSelected.hasDepositPrice),o(2),d("ngForOf",e.dataModelPropertyDetailGroups)}}function GT(n,l){n&1&&S(0,"mat-header-row")}function UT(n,l){if(n&1){let e=E();r(0,"mat-row",149),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function jT(n,l){if(n&1){let e=E();r(0,"mat-row",150),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function qT(n,l){if(n&1){let e=E();r(0,"mat-row",151),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),d("ngStyle",ze(3,B0,e.expanded===!0?"":"none"))}}function QT(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.MENU")," "))}function zT(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"button",152),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelectActionMenu(t))}),S(2,"i",153),a()()}}function YT(n,l){n&1&&(r(0,"mat-header-cell",154),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.PICTURE")," "))}function KT(n,l){if(n&1&&(S(0,"img",156),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("ngSrc",x(h(1,2,e.linkMainImageIdSrc)))}}function ZT(n,l){if(n&1&&(r(0,"mat-cell"),C(1,KT,2,4,"img",155),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function JT(n,l){if(n&1&&(r(0,"mat-header-cell",154),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function XT(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function $T(n,l){if(n&1&&(r(0,"mat-header-cell",154),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function e2(n,l){if(n&1&&(r(0,"mat-cell",157),c(1),g(2,"cmssiteinfo"),g(3,"async"),a()),n&2){let e=l.$implicit;o(),y(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function t2(n,l){if(n&1&&(r(0,"mat-header-cell",154),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function i2(n,l){if(n&1&&S(0,"select",160),n&2){let e=p().$implicit,i=p();d("contentService",i.contentService)("row",e)("ngStyle",ze(3,B0,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function n2(n,l){if(n&1&&(r(0,"mat-cell",158),g(1,"statusCellClass"),S(2,"i",158),g(3,"statusIconClass"),C(4,i2,1,5,"select",159),a()),n&2){let e=l.$implicit,i=p();d("ngClass",h(1,3,e.recordStatus)),o(2),d("ngClass",h(3,5,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function o2(n,l){if(n&1&&(r(0,"mat-header-cell",154),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle," ")}}function r2(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",158),g(2,"adminStatusIconClass"),a()),n&2){let e=l.$implicit;o(),d("ngClass",h(2,1,e.mainAdminRecordStatus))}}function a2(n,l){if(n&1&&(r(0,"mat-header-cell",154),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.isSoldIt==null?null:e.fieldsInfo.isSoldIt.fieldTitle," ")}}function l2(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",158),g(2,"boolclass"),a()),n&2){let e=l.$implicit;o(),d("ngClass",h(2,1,e.isSoldIt))}}function s2(n,l){if(n&1&&(r(0,"mat-header-cell",154),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.viewConfigHiddenInList==null?null:e.fieldsInfo.viewConfigHiddenInList.fieldTitle," ")}}function d2(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",158),g(2,"boolclass"),a()),n&2){let e=l.$implicit;o(),d("ngClass",h(2,1,e.viewConfigHiddenInList))}}function c2(n,l){if(n&1&&(r(0,"mat-header-cell",154),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.viewCount==null?null:e.fieldsInfo.viewCount.fieldTitle," ")}}function p2(n,l){if(n&1&&(r(0,"mat-cell",157),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.viewCount," ")}}function m2(n,l){n&1&&(r(0,"mat-header-cell",154),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.Is_Special")," "))}function u2(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",158),g(2,"boolclass"),a()),n&2){let e=l.$implicit;o(),d("ngClass",h(2,1,e.adsActive))}}function f2(n,l){if(n&1&&(r(0,"mat-header-cell",154),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle," ")}}function _2(n,l){if(n&1&&(r(0,"mat-cell",161),c(1),a()),n&2){let e=l.$implicit;d("ngStyle",ze(3,$b,e.ActiveDataStyle)),o(),ee(" ",e.caseCode," ",e.ActiveDataText)}}function g2(n,l){if(n&1&&(r(0,"mat-header-cell",154),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.scoreEstateLocation==null?null:e.fieldsInfo.scoreEstateLocation.fieldTitle," ")}}function h2(n,l){if(n&1&&(r(0,"mat-cell",158),c(1),a()),n&2){let e=l.$implicit;d("ngClass","cms-cell-score-"+e.scoreEstateLocation),o(),y(" ",e.scoreEstateLocation," ")}}function y2(n,l){if(n&1&&(r(0,"mat-header-cell",154),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.scoreEstateBuild==null?null:e.fieldsInfo.scoreEstateBuild.fieldTitle," ")}}function S2(n,l){if(n&1&&(r(0,"mat-cell",158),c(1),a()),n&2){let e=l.$implicit;d("ngClass","cms-cell-score-"+e.scoreEstateBuild),o(),y(" ",e.scoreEstateBuild," ")}}function C2(n,l){if(n&1&&(r(0,"mat-header-cell",154),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.scoreEstatePrice==null?null:e.fieldsInfo.scoreEstatePrice.fieldTitle," ")}}function v2(n,l){if(n&1&&(r(0,"mat-cell",158),c(1),a()),n&2){let e=l.$implicit;d("ngClass","cms-cell-score-"+e.scoreEstatePrice),o(),y(" ",e.scoreEstatePrice," ")}}function I2(n,l){if(n&1&&(r(0,"mat-header-cell",154),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function E2(n,l){if(n&1&&(r(0,"mat-cell",162),c(1),g(2,"localeDateTime"),a()),n&2){let e=l.$implicit;o(),y(" ",h(2,1,e.createdDate)," ")}}function M2(n,l){if(n&1&&(r(0,"mat-header-cell",154),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function b2(n,l){if(n&1&&(r(0,"mat-cell",162),c(1),g(2,"localeDateTime"),a()),n&2){let e=l.$implicit;o(),y(" ",h(2,1,e.updatedDate)," ")}}function T2(n,l){n&1&&(r(0,"mat-header-cell",163),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.OPTION")," "))}function w2(n,l){if(n&1&&(r(0,"mat-cell",164)(1,"button",165)(2,"mat-icon"),c(3,"more_vert"),a()(),S(4,"mat-menu",null,14),a()),n&2){let e=R(5);o(),d("matMenuTriggerFor",e)}}function x2(n,l){n&1&&(r(0,"mat-header-cell",154),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.LINKTO")," "))}function A2(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"button",166),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionButtonLinkTo(t))}),r(2,"mat-icon",167),c(3,"\u2197"),a()()()}}function P2(n,l){n&1&&(r(0,"mat-header-cell",154),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.QUICK_VIEW")," "))}function R2(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"button",166),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionButtonQuickViewRow(t))}),r(2,"mat-icon",167),c(3,"visibility"),a()()()}}function k2(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function D2(n,l){if(n&1&&(S(0,"img",171),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("ngSrc",x(h(1,2,e.linkMainImageIdSrc)))}}function L2(n,l){if(n&1&&(r(0,"tr")(1,"td",157),c(2),g(3,"translate"),a(),r(4,"td",157),c(5),a()()),n&2){let e=p().$implicit;o(2),y(" ",h(3,2,"TITLE.SquareMeters")," "),o(3),M(e.area)}}function V2(n,l){if(n&1&&(r(0,"tr")(1,"td",157),c(2),g(3,"translate"),a(),r(4,"td",157),c(5),a()()),n&2){let e=p().$implicit;o(2),y(" ",h(3,2,"TITLE.CreatedYaer")," "),o(3),M(e.createdYaer)}}function B2(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),C(5,D2,2,4,"img",168),a(),r(6,"th",157)(7,"span",169),I("click",function(){u(e);let t=p();return f(t.onActionCopied())}),S(8,"i",170),a(),c(9),a()(),r(10,"tr"),S(11,"td"),r(12,"td",157),c(13),a()(),r(14,"tr")(15,"td"),c(16),a(),r(17,"td",157),c(18),a()(),C(19,L2,6,4,"tr",42)(20,V2,6,4,"tr",42),r(21,"tr"),S(22,"td"),r(23,"td",157),c(24),a()(),r(25,"tr"),S(26,"td"),r(27,"td",157),c(28),a()(),r(29,"tr")(30,"td",157),c(31),g(32,"translate"),a(),r(33,"td",157),c(34),a()(),r(35,"tr"),S(36,"td"),r(37,"td",157),c(38),g(39,"cmsuserinfo"),g(40,"async"),a()(),r(41,"tr")(42,"td",157),c(43),g(44,"translate"),a(),r(45,"td",157),c(46),a()(),r(47,"tr"),S(48,"td")(49,"td"),a()()()()}if(n&2){let e=l.$implicit,i=p();o(5),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),o(2),d("cdkCopyToClipboard",e.id),o(2),y(" ",e.id," "),o(4),M(e.title),o(3),M(i.fieldsInfo.caseCode==null?null:i.fieldsInfo.caseCode.fieldTitle),o(2),M(e.caseCode),o(),d("ngIf",e.area&&e.area>0),o(),d("ngIf",e.createdYaer&&e.createdYaer>0),o(4),y(" ",e.linkLocationIdParentTitle," "),o(4),M(e.linkLocationIdTitle),o(3),y(" ",h(32,15,"TITLE.ADDRESS")," : "),o(3),M(e.address),o(4),y(" ",h(40,19,h(39,17,e.createdBy))," "),o(5),y(" ",h(44,21,"TITLE.HISTORY")," : "),o(3),M(e.historyTotalCount)}}var Wl=class Wl extends xt{constructor(e,i,t,s,_,m,k,z,Se,qe,Ue,ft,jt,Ft,Yt){super(e,new Ki,_,Se,Ft);this.contentService=e;this.configService=i;this.themeService=t;this.activatedRoute=s;this.publicHelper=_;this.cmsToastrService=m;this.cmsConfirmationDialogService=k;this.estatePropertyDetailGroupService=z;this.tokenHelper=Se;this.cmsStoreService=qe;this.router=Ue;this.cdr=ft;this.dialog=jt;this.translate=Ft;this.pageInfo=Yt;this.requestLinkPropertyTypeLanduseId="";this.requestLinkPropertyTypeUsageId="";this.requestLinkContractTypeId="";this.requestLinkBillboardId="";this.requestLinkCustomerOrderId="";this.requestLinkCustomerOrderIdHaveHistory="";this.requestLinkProjectId="";this.requestLinkCompanyId="";this.requestLinkEstateExpertId="";this.requestLinkEstateAgencyId="";this.requestLinkUserId=0;this.requestInChecking=!1;this.requestAction="";this.constructorInfoAreaId=this.constructor.name;this.optionloadComponent=!0;this.optionloadByRoute=!0;this.optionsortType=$.Descending;this.responsibleUserId=0;this.flag=!1;this.tablePropertySelected=[];this.searchInCheckingChecked=!1;this.searchInResponsibleChecked=!1;this.filteModelContent=new _o;this.dataModelPropertyDetailGroups=[];this.dataConfigSiteValuesModel=new Lm;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","mainAdminRecordStatus","IsSoldIt","ViewConfigHiddenInList","linkSiteId","AdsActive","ViewCount","caseCode","scoreEstateLocation","scoreEstateBuild","scoreEstatePrice","createdDate","updatedDate","LinkTo","QuickView","action_menu"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","IsSoldIt","caseCode","LinkTo","QuickView","action_menu"];this.propertyDetails=new Map;this.enumInputDataType=Oi;this.step=0;this.unsubscribe=[];this.actionbuttonExportOn=!1;this.PropertyTypeSelected=new Qt;this.dataModelCorCurrencySelector=new Fi;if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkPropertyTypeLanduseId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeLanduseId"),this.requestLinkPropertyTypeUsageId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeUsageId"),this.requestLinkContractTypeId=this.activatedRoute.snapshot.paramMap.get("LinkContractTypeId"),this.requestLinkBillboardId=this.activatedRoute.snapshot.paramMap.get("LinkBillboardId"),this.requestLinkCustomerOrderId=this.activatedRoute.snapshot.paramMap.get("LinkCustomerOrderId"),this.requestLinkProjectId=this.activatedRoute.snapshot.paramMap.get("LinkProjectId"),this.requestLinkCompanyId=this.activatedRoute.snapshot.paramMap.get("LinkCompanyId"),this.requestLinkEstateExpertId=this.activatedRoute.snapshot.paramMap.get("LinkEstateExpertId"),this.requestLinkEstateAgencyId=this.activatedRoute.snapshot.paramMap.get("LinkEstateAgencyId"),this.requestLinkUserId=+this.activatedRoute.snapshot.paramMap.get("LinkUserId")|0,this.requestAction=this.activatedRoute.snapshot.paramMap.get("Action"),this.activatedRoute.snapshot.paramMap.get("InChecking")&&(this.searchInCheckingChecked=this.activatedRoute.snapshot.paramMap.get("InChecking")==="true"),this.optionsSearch.parentMethods={onSubmit:Oe=>this.onSubmitOptionsSearch(Oe)},this.responsibleUserId=+this.activatedRoute.snapshot.paramMap.get("ResponsibleUserId"),this.requestRecordStatus=Qe[this.activatedRoute.snapshot.paramMap.get("recordStatus")+""],this.requestRecordStatus&&(this.optionsSearch.data.show=!0,this.optionsSearch.data.defaultQuery='{"condition":"and","rules":[{"field":"recordStatus","type":"select","operator":"equal","value":"'+this.requestRecordStatus+'"}]}',this.requestRecordStatus=null),this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=$.Descending,this.requestLinkPropertyTypeLanduseId&&this.requestLinkPropertyTypeLanduseId.length>0){let Oe=new H;Oe.propertyName="LinkPropertyTypeLanduseId",Oe.value=this.requestLinkPropertyTypeLanduseId,this.filteModelContent.filters.push(Oe)}if(this.requestLinkPropertyTypeUsageId&&this.requestLinkPropertyTypeUsageId.length>0){let Oe=new H;Oe.propertyName="LinkPropertyTypeUsageId",Oe.value=this.requestLinkPropertyTypeUsageId,this.filteModelContent.filters.push(Oe)}if(this.requestLinkContractTypeId&&this.requestLinkContractTypeId.length>0){let Oe=new H;Oe.propertyName="Contracts",Oe.propertyAnyName="LinkEstateContractTypeId",Oe.value=this.requestLinkContractTypeId,this.filteModelContent.filters.push(Oe)}if(this.requestLinkUserId&&this.requestLinkUserId>0){let Oe=new H;Oe.propertyName="linkCmsUserId",Oe.value=this.requestLinkUserId,this.filteModelContent.filters.push(Oe)}if(this.requestLinkProjectId&&this.requestLinkProjectId.length>0){let Oe=new H;Oe.propertyName="linkPropertyProjectId",Oe.value=this.requestLinkProjectId,this.filteModelContent.filters.push(Oe)}if(this.requestLinkCompanyId&&this.requestLinkCompanyId.length>0){let Oe=new H;Oe.propertyName="linkPropertyCompanyId",Oe.value=this.requestLinkCompanyId,this.filteModelContent.filters.push(Oe)}if(this.requestLinkEstateExpertId&&this.requestLinkEstateExpertId.length>0){let Oe=new H;Oe.propertyName="linkEstateExpertId",Oe.value=this.requestLinkEstateExpertId,this.filteModelContent.filters.push(Oe)}if(this.requestLinkEstateAgencyId&&this.requestLinkEstateAgencyId.length>0){let Oe=new H;Oe.propertyName="linkEstateAgencyId",Oe.value=this.requestLinkEstateAgencyId,this.filteModelContent.filters.push(Oe)}}set optionLinkCustomerOrderId(e){e&&e.length>0&&(this.requestLinkCustomerOrderId=e)}set optionLinkCustomerOrderIdHaveHistory(e){e&&e.length>0&&(this.requestLinkCustomerOrderIdHaveHistory=e)}set optionLinkBillboardId(e){e&&e.length>0&&(this.requestLinkBillboardId=e)}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&(this.tokenInfo?.access?.siteId>0&&this.GetServiceSiteConfig(this.tokenInfo.access.siteId),this.DataGetAll(),!this.tokenHelper.isAdminSite&&!this.tokenHelper.isSupportSite&&(this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreEstateLocation"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreEstateBuild"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreEstatePrice"))),this.tokenInfo.access.direction,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.tokenInfo?.access?.siteId>0&&this.GetServiceSiteConfig(this.tokenInfo.access.siteId),this.DataGetAll(),!this.tokenHelper.isAdminSite&&!this.tokenHelper.isSupportSite&&(this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreEstateLocation"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreEstateBuild"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreEstatePrice"))})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}GetServiceSiteConfig(e){let i=this.constructor.name+"ServiceSiteConfig";this.translate.get("MESSAGE.get_module_setting").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.configService.ServiceSiteConfig(e).subscribe({next:t=>{t.isSuccess?(this.dataConfigSiteValuesModel=t.item,this.RowStyleActiveData()):this.cmsToastrService.typeErrorGetOne(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeErrorGetOne(t),this.publicHelper.processService.processStop(i,!1)}})}DataGetAll(){if(this.themeService.onActionScrollTopList(!0,1e4),this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),!this.optionloadComponent)return;var e=0;this.searchInResponsibleChecked?e=this.tokenInfo.access.userId:this.responsibleUserId>0&&(e=this.responsibleUserId),this.optionsortType&&(this.filteModelContent.sortType=this.optionsortType),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ki);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(_=>{this.publicHelper.processService.processStart(i,_,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(t.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id&&this.categoryModelSelected.id.length>0){let _=new H;_.propertyName="LinkPropertyTypeLanduseId",_.value=this.categoryModelSelected.id,t.filters.push(_)}if(this.searchInCheckingChecked){let _=new H;_.propertyName="recordStatus",_.value=Qe.Pending,t.filters.push(_)}if(e>0)this.contentService.ServiceGetAllWithResponsibleUserId(e,t).subscribe({next:_=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(_.access),_.isSuccess?(this.dataModelResult=_,this.RowStyleActiveData(),this.tableSource.data=_.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(_.access)},1e3)):this.cmsToastrService.typeErrorMessage(_.errorMessage),this.publicHelper.processService.processStop(i)},error:_=>{this.cmsToastrService.typeError(_),this.publicHelper.processService.processStop(i,!1)}});else if(this.requestLinkBillboardId&&this.requestLinkBillboardId.length>0)this.actionbuttonExportOn=!1,this.contentService.setAccessDataType(Ne.Editor),this.contentService.ServiceGetAllWithCoverBillboardId(this.requestLinkBillboardId,t).subscribe({next:_=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(_.access),_.isSuccess?(this.dataModelResult=_,this.RowStyleActiveData(),this.tableSource.data=_.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(_.access)},1e3)):this.cmsToastrService.typeErrorGetAll(_.errorMessage),this.publicHelper.processService.processStop(i)},error:_=>{this.cmsToastrService.typeError(_),this.publicHelper.processService.processStop(i)}});else if(this.requestLinkCustomerOrderId?.length>0)this.actionbuttonExportOn=!1,this.contentService.setAccessDataType(Ne.Editor),this.contentService.ServiceGetAllWithCoverCustomerOrderId(this.requestLinkCustomerOrderId,t).subscribe({next:_=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(_.access),_.isSuccess?(this.dataModelResult=_,this.RowStyleActiveData(),this.tableSource.data=_.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(_.access)},1e3)):this.cmsToastrService.typeErrorGetAll(_.errorMessage),this.publicHelper.processService.processStop(i)},error:_=>{this.cmsToastrService.typeError(_),this.publicHelper.processService.processStop(i)}});else if(this.requestLinkCustomerOrderIdHaveHistory&&this.requestLinkCustomerOrderIdHaveHistory.length>0)this.actionbuttonExportOn=!1,this.contentService.setAccessDataType(Ne.Editor),this.contentService.ServiceGetAllWithCoverCustomerOrderIdHaveHistory(this.requestLinkCustomerOrderIdHaveHistory,t).subscribe({next:_=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(_.access),_.isSuccess?(this.dataModelResult=_,this.RowStyleActiveData(),this.tableSource.data=_.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(_.access)},1e3)):this.cmsToastrService.typeErrorGetAll(_.errorMessage),this.publicHelper.processService.processStop(i)},error:_=>{this.cmsToastrService.typeError(_),this.publicHelper.processService.processStop(i)}});else{var s=[];this.dataModelPropertyDetailGroups&&this.dataModelPropertyDetailGroups.forEach(_=>{_.propertyDetails.forEach(m=>{let k=new wo;k.linkPropertyDetailId=m.id,k.value=this.propertyDetails[m.id],s.push(k)})}),t.propertyDetailValues=s,this.contentService.setAccessDataType(Ne.Editor),this.contentService.ServiceGetAll(t).subscribe({next:_=>{this.actionbuttonExportOn=!0,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(_.access),_.isSuccess?(this.dataModelResult=_,this.RowStyleActiveData(),this.tableSource.data=_.listItems,this.requestAction?.length>0&&this.requestAction==="quick-add"&&(this.requestAction="",this.onActionButtonQuickAddRow()),this.optionsSearch.data.show&&this.optionsStatist.data.show&&(this.optionsStatist.data.show=!this.optionsStatist.data.show,this.onActionButtonStatist()),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(_.access)},1e3)):this.cmsToastrService.typeErrorGetAll(_.errorMessage),this.publicHelper.processService.processStop(i)},error:_=>{this.cmsToastrService.typeError(_),this.publicHelper.processService.processStop(i,!1)}})}}DataGetPropertyDetailGroup(e){let i=new pe,t=new H;t.propertyName="LinkPropertyTypeLanduseId",t.value=e,i.filters.push(t),this.dataModelPropertyDetailGroups=[];let s=this.constructor.name+"DataGetPropertyDetailGroup";this.translate.get("MESSAGE.Get_detailed_information").subscribe(_=>{this.publicHelper.processService.processStart(s,_,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceGetAllFastSearch(i).subscribe({next:_=>{_.isSuccess?(this.dataModelPropertyDetailGroups=_.listItems,this.dataModelPropertyDetailGroups&&this.dataModelPropertyDetailGroups.forEach(m=>{m.propertyDetails.forEach(k=>{this.propertyDetails[k.id]=0})})):this.cmsToastrService.typeErrorGetAccess(_.errorMessage),this.publicHelper.processService.processStop(s)},error:_=>{this.cmsToastrService.typeErrorGetAccess(_),this.publicHelper.processService.processStop(s,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=$.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending),this.filteModelContent.sortColumn=="AdsActive"&&(this.filteModelContent.sortColumn="AdsExpireDate"),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(e){if(this.categoryModelSelected==null&&this.categoryModelSelected&&this.categoryModelSelected.id&&this.categoryModelSelected.id.length===0&&(this.requestLinkPropertyTypeLanduseId==null||this.requestLinkPropertyTypeLanduseId.length===0)){this.translate.get("MESSAGE.Content_not_selected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let i=this.requestLinkPropertyTypeLanduseId;this.categoryModelSelected&&this.categoryModelSelected.id.length>0&&(i=this.categoryModelSelected.id),i&&i.length>0?e?.ctrlKey?(this.link="/#/estate/property/add/LinkPropertyTypeLanduseId/"+i,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/add/LinkPropertyTypeLanduseId",i]):e?.ctrlKey?(this.link="/#/estate/property/add/",window.open(this.link,"_blank")):this.router.navigate(["/estate/property/add"])}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new _o,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property/edit/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/edit",this.tableRowSelected.id])}onActionButtonQuickViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i=this.publicHelper.InfoNextRowInList(this.dataModelResult.listItems,this.tableRowSelected),t=this.publicHelper.InfoPerviousRowInList(this.dataModelResult.listItems,this.tableRowSelected),s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(Zo,{height:"90%",panelClass:s,data:{id:this.tableRowSelected.id,perviousItem:t,nextItem:i}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&m.onActionOpenItem&&m.onActionOpenItem.id.length>0&&this.onActionButtonQuickViewRow(m.onActionOpenItem)})}onActionButtonQuickAddRow(e){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}e?.ctrlKey&&(this.link="/#/estate/property/add/",window.open(this.link,"_blank"));var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Nc,{height:"90%",enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,panelClass:i,data:{}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonQuickHistoryAddRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.tableRowSelected=e,this.onActionTableRowSelect(e);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Co,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{linkActivityTypeId:null,linkPropertyId:e.id,linkEstateExpertId:null,linkCustomerOrderId:null,linkEstateAgencyId:null}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}onActionButtonAdsRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-ads/LinkPropertyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-ads/LinkPropertyId",this.tableRowSelected.id])}onActionButtonHistoryRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-history/LinkPropertyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-history/LinkPropertyId",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(e==null||!e.id||e.id.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Deleting_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.property_list").subscribe(Ft=>{this.publicHelper.processService.processStart(this.constructor.name+"All",Ft,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Ne.Editor);let t=JSON.parse(JSON.stringify(this.filteModelContent)),s=this.contentService.ServiceGetCount(t),_=JSON.parse(JSON.stringify(this.filteModelContent)),m=new H;m.propertyName="recordStatus",m.value=Qe.Available,_.filters.push(m);let k=this.contentService.ServiceGetCount(_),z=JSON.parse(JSON.stringify(this.filteModelContent)),Se=new H;Se.propertyName="recordStatus",Se.value=Qe.Disable,z.filters.push(Se);let qe=this.contentService.ServiceGetCount(z),Ue=JSON.parse(JSON.stringify(this.filteModelContent)),ft=new H;ft.propertyName="recordStatus",ft.value=Qe.Pending,Ue.filters.push(ft);let jt=this.contentService.ServiceGetCount(Ue);Jd([s,k,qe,jt]).subscribe(Ft=>{var Yt=Ft[0];Yt.isSuccess?this.translate.get("TITLE.All").subscribe(Oe=>{i.set(Oe,Yt.totalRowCount)}):this.cmsToastrService.typeErrorMessage(Yt.errorMessage);var Yt=Ft[1];Yt.isSuccess?this.translate.get("TITLE.Number_of_rows_in_the_recordstatus_available").subscribe(Oe=>{i.set(Oe,Yt.totalRowCount)}):this.cmsToastrService.typeErrorMessage(Yt.errorMessage),Yt=Ft[2],Yt.isSuccess?this.translate.get("TITLE.Number_of_rows_in_the_recordstatus_disable").subscribe(Oe=>{i.set(Oe,Yt.totalRowCount)}):this.cmsToastrService.typeErrorMessage(Yt.errorMessage),Yt=Ft[3],Yt.isSuccess?this.translate.get("TITLE.Number_of_rows_in_the_recordstatus_pending").subscribe(Oe=>{i.set(Oe,Yt.totalRowCount)}):this.cmsToastrService.typeErrorMessage(Yt.errorMessage),this.optionsStatist.childMethods.setStatistValue(i),this.publicHelper.processService.processStop(this.constructor.name+"All")})}onActionButtonActionSendSmsToCustomerOrder(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.tableRowSelected=e;let i=this.constructor.name+"main";this.translate.get("ACTION.ActionSendSmsToCustomerOrder").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Ne.Editor),this.contentService.ServiceActionSendSmsToCustomerOrder(e.id).subscribe({next:t=>{t.isSuccess?this.cmsToastrService.typeSuccessMessage(t.errorMessage):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonViewOtherUserAdvertise(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,e.linkCmsUserId&&e.linkCmsUserId>0?this.requestLinkUserId=e.linkCmsUserId:this.requestLinkUserId=e.createdBy,e.linkCmsUserId&&e.linkCmsUserId>0){let i=new H;i.propertyName="linkCmsUserId",i.value=e.linkCmsUserId,i.clauseType=Be.Or,this.filteModelContent.filters.push(i);let t=new H;t.propertyName="createdBy",t.value=e.linkCmsUserId,t.clauseType=Be.Or,this.filteModelContent.filters.push(i)}if(e.createdBy&&e.createdBy>0){let i=new H;i.propertyName="linkCmsUserId",i.value=e.createdBy,i.clauseType=Be.Or,this.filteModelContent.filters.push(i);let t=new H;t.propertyName="createdBy",t.value=e.createdBy,t.clauseType=Be.Or,this.filteModelContent.filters.push(i)}this.DataGetAll()}onActionButtonInChecking(e=this.searchInCheckingChecked){this.searchInCheckingChecked=e,this.DataGetAll()}onActionButtonInResponsible(e=this.searchInResponsibleChecked){this.searchInResponsibleChecked=e,this.DataGetAll()}onActionButtonReload(){this.optionloadComponent=!0,this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}onActionButtonLinkTo(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(e.recordStatus!=Qe.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.onActionTableRowSelect(e);let i=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_state_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Ne.Editor),this.contentService.ServiceGetOneById(e.id).subscribe({next:t=>{if(t.isSuccess){var s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(yn,{height:"90%",panelClass:s,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{title:t.item.title,urlViewContentQRCodeBase64:t.item.urlViewContentQRCodeBase64,urlViewContent:t.item.urlViewContent}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(t.errorMessage);this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionSelectorLocation(e){this.filteModelContent.linkLocationIds=e}onActionSelectorSelectUsage(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.filteModelContent.linkPropertyTypeUsageId=e.id}onActionSelectorSelectLanduse(e){if(this.dataModelPropertyDetailGroups=[],this.PropertyTypeSelected=null,this.filteModelContent.linkPropertyTypeLanduseId=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.DataGetPropertyDetailGroup(e.id),this.PropertyTypeSelected=e,this.filteModelContent.linkPropertyTypeLanduseId=e.id}onActionSelectorContarctType(e){if(this.contractTypeSelected=null,this.filteModelContent.linkContractTypeId=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.contractTypeSelected=e,this.filteModelContent.linkContractTypeId=e.id}onActionSelectCurrency(e){if(!e||e.id<=0){this.dataModelCorCurrencySelector=null,this.filteModelContent.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=e,this.filteModelContent.linkCoreCurrencyId=e.id}onActionButtonResponsibleUserlistView(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.tableRowSelected=e;var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Hc,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{title:this.tableRowSelected.title,id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}setStep(e){this.step=e}nextStep(){this.step++}prevStep(){this.step--}onSearchCaseCodeChange(e){e&&e.length>0&&(this.filteModelContent=new _o,this.filteModelContent.caseCode=e,this.dataModelPropertyDetailGroups=[])}RowStyleActiveData(){if(!(!this.dataModelResult.listItems||this.dataModelResult.listItems.length===0||!this.dataConfigSiteValuesModel||this.dataConfigSiteValuesModel.autoArchiveDataDay<=0)){var e=new Date;e.setDate(e.getDate()-this.dataConfigSiteValuesModel.autoArchiveDataDay);for(let i=0;i<this.dataModelResult.listItems.length;i++){let t=this.dataModelResult.listItems[i];this.dataModelResult.listItems[i].ActiveDataStyle="",this.dataModelResult.listItems[i].ActiveDataText="",t.updatedDate?new Date(t.updatedDate)<e&&(this.dataModelResult.listItems[i].ActiveDataStyle="#ff9c91",this.dataModelResult.listItems[i].ActiveDataText="\u0622\u0631\u0634\u06CC\u0648 \u062E\u0648\u062F\u06A9\u0627\u0631  \u0633\u06CC\u0633\u062A\u0645\u06CC"):new Date(t.createdDate)<e&&(this.dataModelResult.listItems[i].ActiveDataStyle="#ff9c01",this.dataModelResult.listItems[i].ActiveDataText="\u0622\u0631\u0634\u06CC\u0648 \u062E\u0648\u062F\u06A9\u0627\u0631  \u0633\u06CC\u0633\u062A\u0645\u06CC")}}}};Wl.\u0275fac=function(i){return new(i||Wl)(v(gi),v(ic),v(Vt),v(Kt),v(F),v(V),v(wt),v(Ii),v(Z),v(J),v(Ze),v(O),v(Ae),v(L),v(St))},Wl.\u0275cmp=D({type:Wl,selectors:[["app-estate-property-list"]],inputs:{optionloadComponent:"optionloadComponent",optionloadByRoute:"optionloadByRoute",optionsortType:"optionsortType",optionLinkCustomerOrderId:"optionLinkCustomerOrderId",optionLinkCustomerOrderIdHaveHistory:"optionLinkCustomerOrderIdHaveHistory",optionLinkBillboardId:"optionLinkBillboardId"},standalone:!1,features:[oe],decls:191,vars:92,consts:[["caseCode",""],["tableSort","matSort"],["paginator",""],["CreatedYaer",""],["Partition",""],["Area",""],["SalePriceMin",""],["RentPriceMin",""],["DepositPriceMin",""],["PeriodPriceMin",""],["SalePriceMax",""],["RentPriceMax",""],["DepositPriceMax",""],["PeriodPriceMax",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-clock-rotate-left","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"routerLink"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],[4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],[1,"ntk-full-width"],["matInput","","name","filteModelContent.caseCode","type","text","step","1",3,"input","ngModelChange","ngModel","placeholder"],["matPrefix","","matPrefix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matPrefix",""],["matSuffix","",1,"info-field-icon"],[1,"info-field-text"],["cms-body",""],["matSort","","multiTemplateDataRows","",1,"ntk-cms-html-table",3,"matSortChange","dataSource"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["class","col-form-label",4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","mainAdminRecordStatus"],["matColumnDef","IsSoldIt"],["matColumnDef","ViewConfigHiddenInList"],["matColumnDef","ViewCount"],["matColumnDef","AdsActive"],["matColumnDef","caseCode"],["class","col-form-label",3,"ngStyle",4,"matCellDef"],["matColumnDef","scoreEstateLocation"],["matColumnDef","scoreEstateBuild"],["matColumnDef","scoreEstatePrice"],["matColumnDef","createdDate"],["class","col-form-label","style","direction: ltr; justify-content: center; text-align: center",4,"matCellDef"],["matColumnDef","updatedDate"],["matColumnDef","Action"],["class","form-label",4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],["matColumnDef","QuickView"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["type","button","target","_blank","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-light","fa-message-lines","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-bullseye-pointer","font-18",2,"color","#ffffff"],["matPrefix","","matPrefix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"optionPlaceholder","optionChange",4,"ngIf"],[3,"optionChange","optionPlaceholder"],[3,"optionChange","optionTypeView","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[1,"row",2,"direction","rtl"],[1,"col-md-6","col-sm-6","col-xs-9"],[1,"example-headers-align"],[3,"expanded","opened",4,"ngFor","ngForOf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","filteModelContent.createdYaer",1,"color-highlight"],["matInput","","name","filteModelContent.createdYaer","type","number","id","filteModelContent.createdYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","filteModelContent.partition",1,"color-highlight"],["matInput","","name","filteModelContent.partition","type","number","id","filteModelContent.partition",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","filteModelContent.area",1,"color-highlight"],["matInput","","name","filteModelContent.area","type","text","currencyMask","","step","10","id","filteModelContent.area",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","placeholder"],["for","filteModelContent.salePriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.salePriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.salePriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.rentPriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.rentPriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.rentPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.depositPriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.depositPriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.depositPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.periodPriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.periodPriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.periodPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.salePriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.salePriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.salePriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.rentPriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.rentPriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.rentPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.depositPriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.depositPriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.depositPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.periodPriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.periodPriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.periodPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],[3,"opened","expanded"],[2,"width","100px"],[4,"ngFor","ngForOf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue",3,"click",4,"ngIf"],[3,"ngSwitch"],["class","ntk-full-width",4,"ngSwitchCase"],["class","ntk-full-width",4,"ngSwitchDefault"],["aria-hidden","true",3,"ngClass"],[3,"modelChange","model","optionForceUseDefaultValue","optionMultipleChoice","optionDefaultValue","optionRequired","optionLabel"],[3,"modelChange","model","optionRequired","optionLabel"],[3,"modelChange","model"],[3,"modelChange","model","optionRequired"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header","",1,"form-label"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"ngSrc",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"ngSrc"],[1,"col-form-label"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"col-form-label",3,"ngStyle"],[1,"col-form-label",2,"direction","ltr","justify-content","center","text-align","center"],[1,"form-label"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"text-dark",3,"matMenuTriggerFor"],["type","button","mat-icon-button","",1,"text-dark",3,"click"],[2,"color","#ff671f"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"ngSrc",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"ngSrc"]],template:function(i,t){if(i&1){let s=E();C(0,eT,1,1,"app-core-user-header",15)(1,tT,1,1,"app-estate-billboard-header",15)(2,iT,1,1,"app-estate-contract-type-header",15)(3,nT,1,1,"app-estate-customer-order-header",15)(4,oT,1,1,"app-estate-property-type-landuse-header",15)(5,rT,1,1,"app-estate-property-type-usage-header",15)(6,aT,1,1,"app-estate-property-project-header",15)(7,lT,1,1,"app-estate-property-company-header",15),r(8,"app-cms-html-list",16),w("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),I("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(9,17),r(10,"app-estate-property-type-landuse-tree",18),I("optionChange",function(m){return u(s),f(t.onActionSelectorSelect(m))}),a(),P(),$e(11,19)(12,20),A(13,21),C(14,sT,2,0,"a",22),r(15,"a",23),I("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(16,"i",24),a(),r(17,"a",23),I("click",function(){return u(s),f(t.onActionButtonReload())}),S(18,"i",25),a(),r(19,"a",26),I("click",function(){return u(s),f(t.onActionGridExpandRows(!0))}),S(20,"i",27),a(),r(21,"a",26),I("click",function(){return u(s),f(t.onActionGridExpandRows(!1))}),S(22,"i",28),a(),P(),A(23,29),r(24,"a",30),I("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(25,"mat-slide-toggle",31),c(26),g(27,"translate"),a(),r(28,"a",30),I("click",function(){return u(s),f(t.onActionButtonStatist())}),S(29,"mat-slide-toggle",31),c(30),g(31,"translate"),a(),r(32,"a",30),I("click",function(){return u(s),f(t.onActionButtonInChecking(!t.searchInCheckingChecked))}),S(33,"mat-slide-toggle",31),c(34),g(35,"translate"),a(),r(36,"a",30),I("click",function(){return u(s),f(t.onActionButtonInResponsible(!t.searchInResponsibleChecked))}),S(37,"mat-slide-toggle",31),c(38),g(39,"translate"),a(),P(),A(40,32),C(41,dT,7,3,"div",33)(42,cT,7,3,"div",33),P(),A(43,34),r(44,"div",35)(45,"a",23),I("click",function(){return u(s),f(t.onActionButtonQuickViewRow(t.tableRowSelected))}),S(46,"i",36)(47,"br"),a(),r(48,"p",37),c(49),g(50,"translate"),a()(),C(51,pT,7,3,"div",33)(52,mT,7,3,"div",33)(53,uT,7,3,"div",33)(54,fT,7,3,"div",33),r(55,"div",35)(56,"a",23),I("click",function(){return u(s),f(t.onActionButtonQuickHistoryAddRow(t.tableRowSelected))}),S(57,"i",38)(58,"br"),a(),r(59,"p",37),c(60),g(61,"translate"),a()(),r(62,"div",35)(63,"a",23),I("click",function(m){return u(s),f(t.onActionButtonHistoryRow(t.tableRowSelected,m))}),S(64,"i",38)(65,"br"),a(),r(66,"p",37),c(67),g(68,"translate"),a()(),r(69,"div",35)(70,"a",23),I("click",function(){return u(s),f(t.onActionButtonViewOtherUserAdvertise(t.tableRowSelected))}),S(71,"i",39)(72,"br"),a(),r(73,"p",37),c(74),g(75,"translate"),a()(),r(76,"div",35)(77,"a",40),S(78,"i",39)(79,"br"),a(),r(80,"p",37),c(81),g(82,"translate"),a()(),r(83,"div",35)(84,"a",23),I("click",function(){return u(s),f(t.onActionButtonLinkTo(t.tableRowSelected))}),S(85,"i",41)(86,"br"),a(),r(87,"p",37),c(88),g(89,"translate"),a()(),r(90,"div",35)(91,"a",23),I("click",function(){return u(s),f(t.onActionButtonResponsibleUserlistView(t.tableRowSelected))}),S(92,"i",41)(93,"br"),a(),r(94,"p",37),c(95),g(96,"translate"),a()(),C(97,_T,4,5,"ng-container",42),P(),A(98,43),r(99,"app-cms-search-list",44),w("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),S(100,"hr"),r(101,"p"),c(102),g(103,"translate"),a(),r(104,"mat-form-field",45)(105,"mat-label"),c(106),a(),r(107,"input",46,0),I("input",function(m){return u(s),f(t.onSearchCaseCodeChange(m.target.value))}),w("ngModelChange",function(m){return u(s),T(t.filteModelContent.caseCode,m)||(t.filteModelContent.caseCode=m),f(m)}),a(),C(109,gT,2,0,"mat-icon",47),r(110,"mat-icon",48),c(111," mode_edit"),a(),r(112,"mat-hint")(113,"mat-icon",49),c(114),g(115,"translate"),a(),r(116,"strong",50),c(117),a()()(),C(118,WT,43,36,"div",42),a(),r(119,"app-cms-statist-list",44),w("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),P(),A(120,51),r(121,"mat-table",52,1),I("matSortChange",function(){u(s);let m=R(122);return f(t.onTableSortData(m))}),C(123,GT,1,0,"mat-header-row",53)(124,UT,1,2,"mat-row",54)(125,jT,1,2,"mat-row",55)(126,qT,1,5,"mat-row",56),A(127,57),C(128,QT,3,3,"mat-header-cell",58)(129,zT,3,0,"mat-cell",59),P(),A(130,60),C(131,YT,3,3,"mat-header-cell",61)(132,ZT,2,1,"mat-cell",59),P(),A(133,62),C(134,JT,2,1,"mat-header-cell",61)(135,XT,2,1,"mat-cell",59),P(),A(136,63),C(137,$T,2,1,"mat-header-cell",61)(138,e2,4,5,"mat-cell",64),P(),A(139,65),C(140,t2,2,1,"mat-header-cell",61)(141,n2,5,7,"mat-cell",66),P(),A(142,67),C(143,o2,2,1,"mat-header-cell",61)(144,r2,3,3,"mat-cell",59),P(),A(145,68),C(146,a2,2,1,"mat-header-cell",61)(147,l2,3,3,"mat-cell",59),P(),A(148,69),C(149,s2,2,1,"mat-header-cell",61)(150,d2,3,3,"mat-cell",59),P(),A(151,70),C(152,c2,2,1,"mat-header-cell",61)(153,p2,2,1,"mat-cell",64),P(),A(154,71),C(155,m2,3,3,"mat-header-cell",61)(156,u2,3,3,"mat-cell",59),P(),A(157,72),C(158,f2,2,1,"mat-header-cell",61)(159,_2,2,5,"mat-cell",73),P(),A(160,74),C(161,g2,2,1,"mat-header-cell",61)(162,h2,2,2,"mat-cell",66),P(),A(163,75),C(164,y2,2,1,"mat-header-cell",61)(165,S2,2,2,"mat-cell",66),P(),A(166,76),C(167,C2,2,1,"mat-header-cell",61)(168,v2,2,2,"mat-cell",66),P(),A(169,77),C(170,I2,2,1,"mat-header-cell",61)(171,E2,3,3,"mat-cell",78),P(),A(172,79),C(173,M2,2,1,"mat-header-cell",61)(174,b2,3,3,"mat-cell",78),P(),A(175,80),C(176,T2,3,3,"mat-header-cell",81)(177,w2,6,1,"mat-cell",82),P(),A(178,83),C(179,x2,3,3,"mat-header-cell",61)(180,A2,4,0,"mat-cell",59),P(),A(181,84),C(182,P2,3,3,"mat-header-cell",61)(183,R2,4,0,"mat-cell",59),P(),A(184,85),C(185,k2,2,1,"mat-cell",59),P(),A(186,86),C(187,B2,50,23,"mat-cell",59),P(),a(),P(),A(188,87),r(189,"mat-paginator",88,2),I("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),P(),a()}i&2&&(d("ngIf",t.requestLinkUserId>0),o(),d("ngIf",(t.requestLinkBillboardId==null?null:t.requestLinkBillboardId.length)>0),o(),d("ngIf",(t.requestLinkContractTypeId==null?null:t.requestLinkContractTypeId.length)>0),o(),d("ngIf",(t.requestLinkCustomerOrderId==null?null:t.requestLinkCustomerOrderId.length)>0),o(),d("ngIf",(t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)>0),o(),d("ngIf",(t.requestLinkPropertyTypeUsageId==null?null:t.requestLinkPropertyTypeUsageId.length)>0),o(),d("ngIf",(t.requestLinkProjectId==null?null:t.requestLinkProjectId.length)>0),o(),d("ngIf",(t.requestLinkCompanyId==null?null:t.requestLinkCompanyId.length)>0),o(),d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","estate.property.list"),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",(t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(6),d("ngIf",(t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)>0),o(4),K("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),d("checked",t.optionsSearch.data.show),o(),y("",h(27,63,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",h(31,65,"ACTION.STATIST")," "),o(3),d("checked",t.searchInCheckingChecked),o(),y(" ",h(35,67,"ACTION.INCHECKING")," "),o(3),d("checked",t.searchInResponsibleChecked),o(),y(" ",h(39,69,"ACTION.InResponsible")," "),o(3),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow)&&t.optionloadByRoute),o(),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow)&&t.optionloadByRoute),o(7),y(" ",h(50,71,"ACTION.QUICK_VIEW")," "),o(2),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)&&((t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0||(t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)>0)),o(),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow)&&t.optionloadByRoute&&((t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0||(t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)>0)),o(),d("ngIf",t.tokenHelper.isAdminSite&&t.optionloadByRoute&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(6),y(" ",h(61,73,"ACTION.HISTORY_ADD")," "),o(7),y(" ",h(68,75,"ACTION.HISTORY_LIST")," "),o(7),y(" ",h(75,77,"ACTION.VIEW_OTHER_USER_ADVERTISE")," "),o(3),d("routerLink",x("/core/user/edit/"+(t.tableRowSelected==null?null:t.tableRowSelected.createdBy))),o(4),y(" ",h(82,79,"ACTION.VIEW_USER")," "),o(7),y(" ",h(89,81,"TITLE.LINKTO")," "),o(7),y(" ",h(96,83,"TITLE.ResponsibleUsers")," "),o(2),d("ngIf",t.tableRowSelected&&(t.tokenInfo==null||t.tokenInfo.access==null?null:t.tokenInfo.access.siteId)>0&&(t.tableRowSelected==null?null:t.tableRowSelected.linkSiteId)!==t.tokenInfo.access.siteId),o(2),b("options",t.optionsSearch),o(3),M(h(103,85,"MESSAGE.Content_of_your_choice_to_display")),o(4),M(t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldTitle)),b("ngModel",t.filteModelContent.caseCode),o(2),d("ngIf",t.filteModelContent.caseCode),o(5),M(h(115,87,"TITLE.info")),o(3),M(t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldDescription),o(),d("ngIf",!t.filteModelContent.caseCode||t.filteModelContent.caseCode.length===0),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(2),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",se(89,Zb)),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(),d("matRowDefColumns",se(90,Jb)),o(63),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(91,Xb)))},dependencies:[ce,He,N,it,Io,Eo,Mo,_m,Y,Wt,q,me,Je,Lo,Ao,Po,Ro,Do,ko,yi,hi,fc,en,tt,Ee,Q,Dt,Lt,Mt,yt,bt,Tt,nt,rt,dt,at,ot,ct,lt,st,pt,mt,fi,At,Pt,Wi,Jt,ln,Rt,lo,so,co,po,mo,uo,kt,Hi,Gt,u0,Go,mm,Ci,Tl,xl,ta,Wc,dn,Rl,cn,Dl,Vl,Sr,We,B,Li,sn,Me,ro,Zt,mr,qn,dr],encapsulation:2});var Ti=Wl;var F2=["tagInput"];function O2(n,l){if(n&1){let e=E();r(0,"mat-chip",9),I("removed",function(){let t=u(e).$implicit,s=p();return f(s.remove(t))}),c(1),r(2,"button",10)(3,"mat-icon"),c(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),y(" ",e.display," ")}}function N2(n,l){if(n&1&&(r(0,"mat-option",11),c(1),a()),n&2){let e=l.$implicit;d("value",e),o(),y(" ",e.display," ")}}var Gl=class Gl{constructor(l,e,i){this.service=l;this.cmsToastrService=e;this.translate=i;this.constructorInfoAreaId=this.constructor.name;this.optionDisabled=!1;this.optionPlaceholder="+ Tag";this.optionLabel="";this.optionChange=new Xe;this.tagDataModel=[];this.tagLastDataModel=[];this.selectForceStatus=!0;this.separatorKeysCodes=[13];this.tagCtrl=new Et("");this.addOnBlur=!0;this.filteredOptions=this.tagCtrl.valueChanges.pipe(ei(null),$t(400),ti(t=>this.filter(t||"")))}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}filter(l){let e=new pe;e.rowPerPage=20,e.accessLoad=!0;let i=new H;return l&&l.length>0&&(i.propertyName="title",i.value=l,i.searchType=Fe.Contains,i.clauseType=Be.Or,e.filters.push(i)),l&&typeof l=="string"&&l.length>10&&(i=new H,i.propertyName="id",i.value=l,i.searchType=Fe.Equal,i.clauseType=Be.Or,e.filters.push(i)),this.service.ServiceGetAll(e).pipe(Ot(t=>(this.tagLastDataModel=t.listItems.map(s=>({display:s.titleML,value:s.id})),this.tagLastDataModel)))}checkIndex(l){let e=0,i=-1;return this.tagDataModel.forEach(t=>{t.value==l&&(i=e),e++}),i}add(l){let e;l.value&&this.tagLastDataModel.forEach(i=>{(i.display==l.value||i.value+""==l.value)&&(e=i)}),e&&this.checkIndex(e.value)<0&&(this.tagDataModel.push(e),this.onActionChange()),l.chipInput.clear(),this.tagCtrl.setValue(null)}remove(l){let e=this.checkIndex(l.value);e>=0&&(this.tagDataModel.splice(e,1),this.onActionChange())}selected(l){let e=l.option.value;this.checkIndex(e.value)<0&&this.tagDataModel.push(e),this.tagInput.nativeElement.value="",this.tagCtrl.setValue(null),this.onActionChange()}onActionChange(){let l=[];this.tagDataModel.forEach(e=>{l.findIndex(i=>i==e.value)<0&&l.push(e.value)}),this.selectForceStatus=!1,this.optionChange.emit(l)}onActionSelectForce(l){if(!this.selectForceStatus||!l||l.length===0)return;let e=new pe;l.forEach(i=>{if(i.length>0){let t=new H;t.propertyName="id",t.value=i,t.clauseType=Be.Or,e.filters.push(t)}}),this.service.ServiceGetAll(e).subscribe({next:i=>{i.isSuccess?i.listItems.forEach(t=>{this.tagDataModel.findIndex(s=>s.value==t.id)<0&&this.tagDataModel.push({value:t.id,display:t.titleML})}):this.cmsToastrService.typeErrorGetAll(i.errorMessage)},error:i=>{this.cmsToastrService.typeErrorGetAll(i)}})}};Gl.\u0275fac=function(e){return new(e||Gl)(v(Ei),v(V),v(L))},Gl.\u0275cmp=D({type:Gl,selectors:[["app-estate-property-type-landuse-autocomplete"]],viewQuery:function(e,i){if(e&1&&te(F2,5),e&2){let t;ie(t=ne())&&(i.tagInput=t.first)}},inputs:{optionDisabled:"optionDisabled",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,decls:12,vars:12,consts:[["chipList",""],["tagInput",""],["auto","matAutocomplete"],["appearance","fill",2,"width","100%"],["aria-label","tag selection",3,"disabled"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","formControl","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionSelected"],[3,"value",4,"ngFor","ngForOf"],[3,"removed"],["type","button","matChipRemove",""],[3,"value"]],template:function(e,i){if(e&1){let t=E();r(0,"mat-form-field",3)(1,"mat-label"),c(2),a(),r(3,"mat-chip-grid",4,0),C(5,O2,5,1,"mat-chip",5),r(6,"input",6,1),I("matChipInputTokenEnd",function(_){return u(t),f(i.add(_))}),a()(),r(8,"mat-autocomplete",7,2),I("optionSelected",function(_){return u(t),f(i.selected(_))}),C(10,N2,2,2,"mat-option",8),g(11,"async"),a()()}if(e&2){let t=R(4),s=R(9);o(2),M(i.optionLabel),o(),d("disabled",i.optionDisabled),o(2),d("ngForOf",i.tagDataModel),o(),d("placeholder"," + "+i.optionPlaceholder)("matChipInputAddOnBlur",i.addOnBlur)("formControl",i.tagCtrl)("matAutocomplete",s)("matChipInputFor",t)("matChipInputSeparatorKeyCodes",i.separatorKeysCodes),o(4),d("ngForOf",h(11,10,i.filteredOptions))}},dependencies:[He,Y,q,zt,ni,ii,oi,Ri,ki,Di,Pi,yi,hi,Ee,We],encapsulation:2});var Ul=Gl;var H2=["tagInput"];function W2(n,l){if(n&1){let e=E();r(0,"mat-chip",9),I("removed",function(){let t=u(e).$implicit,s=p();return f(s.remove(t))}),c(1),r(2,"button",10)(3,"mat-icon"),c(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),y(" ",e.display," ")}}function G2(n,l){if(n&1&&(r(0,"mat-option",11),c(1),a()),n&2){let e=l.$implicit;d("value",e),o(),y(" ",e.display," ")}}var jl=class jl{constructor(l,e,i){this.service=l;this.cmsToastrService=e;this.translate=i;this.constructorInfoAreaId=this.constructor.name;this.optionDisabled=!1;this.optionPlaceholder="+ Tag";this.optionLabel="";this.optionChange=new Xe;this.tagDataModel=[];this.tagLastDataModel=[];this.selectForceStatus=!0;this.separatorKeysCodes=[13];this.tagCtrl=new Et("");this.addOnBlur=!0;this.filteredOptions=this.tagCtrl.valueChanges.pipe(ei(null),$t(400),ti(t=>this.filter(t||"")))}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}filter(l){let e=new pe;e.rowPerPage=20,e.accessLoad=!0;let i=new H;return l&&l.length>0&&(i.propertyName="title",i.value=l,i.searchType=Fe.Contains,i.clauseType=Be.Or,e.filters.push(i)),l&&typeof l=="string"&&l.length>10&&(i=new H,i.propertyName="id",i.value=l,i.searchType=Fe.Equal,i.clauseType=Be.Or,e.filters.push(i)),this.service.ServiceGetAll(e).pipe(Ot(t=>(this.tagLastDataModel=t.listItems.map(s=>({display:s.titleML,value:s.id})),this.tagLastDataModel)))}checkIndex(l){var e=0,i=-1;return this.tagDataModel.forEach(t=>{t.value==l&&(i=e),e++}),i}add(l){var e;l.value&&this.tagLastDataModel.forEach(i=>{(i.display==l.value||i.value+""==l.value)&&(e=i)}),e&&this.checkIndex(e.value)<0&&(this.tagDataModel.push(e),this.onActionChange()),l.chipInput.clear(),this.tagCtrl.setValue(null)}remove(l){let e=this.checkIndex(l.value);e>=0&&(this.tagDataModel.splice(e,1),this.onActionChange())}selected(l){let e=l.option.value;this.checkIndex(e.value)<0&&this.tagDataModel.push(e),this.tagInput.nativeElement.value="",this.tagCtrl.setValue(null),this.onActionChange()}onActionChange(){let l=[];this.tagDataModel.forEach(e=>{l.findIndex(i=>i==e.value)<0&&l.push(e.value)}),this.selectForceStatus=!1,this.optionChange.emit(l)}onActionSelectForce(l){if(!this.selectForceStatus||!l||l.length===0)return;let e=new pe;l.forEach(i=>{if(i.length>0){let t=new H;t.propertyName="id",t.value=i,t.clauseType=Be.Or,e.filters.push(t)}}),this.service.ServiceGetAll(e).subscribe({next:i=>{i.isSuccess?i.listItems.forEach(t=>{this.tagDataModel.findIndex(s=>s.value==t.id)<0&&this.tagDataModel.push({value:t.id,display:t.titleML})}):this.cmsToastrService.typeErrorGetAll(i.errorMessage)},error:i=>{this.cmsToastrService.typeErrorGetAll(i)}})}};jl.\u0275fac=function(e){return new(e||jl)(v(En),v(V),v(L))},jl.\u0275cmp=D({type:jl,selectors:[["app-estate-property-type-usage-autocomplete"]],viewQuery:function(e,i){if(e&1&&te(H2,5),e&2){let t;ie(t=ne())&&(i.tagInput=t.first)}},inputs:{optionDisabled:"optionDisabled",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,decls:12,vars:12,consts:[["chipList",""],["tagInput",""],["auto","matAutocomplete"],["appearance","fill",2,"width","100%"],["aria-label","tag selection",3,"disabled"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","formControl","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionSelected"],[3,"value",4,"ngFor","ngForOf"],[3,"removed"],["type","button","matChipRemove",""],[3,"value"]],template:function(e,i){if(e&1){let t=E();r(0,"mat-form-field",3)(1,"mat-label"),c(2),a(),r(3,"mat-chip-grid",4,0),C(5,W2,5,1,"mat-chip",5),r(6,"input",6,1),I("matChipInputTokenEnd",function(_){return u(t),f(i.add(_))}),a()(),r(8,"mat-autocomplete",7,2),I("optionSelected",function(_){return u(t),f(i.selected(_))}),C(10,G2,2,2,"mat-option",8),g(11,"async"),a()()}if(e&2){let t=R(4),s=R(9);o(2),M(i.optionLabel),o(),d("disabled",i.optionDisabled),o(2),d("ngForOf",i.tagDataModel),o(),d("placeholder"," + "+i.optionPlaceholder)("matChipInputAddOnBlur",i.addOnBlur)("formControl",i.tagCtrl)("matAutocomplete",s)("matChipInputFor",t)("matChipInputSeparatorKeyCodes",i.separatorKeysCodes),o(4),d("ngForOf",h(11,10,i.filteredOptions))}},dependencies:[He,Y,q,zt,ni,ii,oi,Ri,ki,Di,Pi,yi,hi,Ee,We],encapsulation:2});var ql=jl;var U2=["tagInput"];function j2(n,l){if(n&1){let e=E();r(0,"mat-chip",9),I("removed",function(){let t=u(e).$implicit,s=p();return f(s.remove(t))}),c(1),r(2,"button",10)(3,"mat-icon"),c(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),y(" ",e.display," ")}}function q2(n,l){if(n&1&&(r(0,"mat-option",11),c(1),a()),n&2){let e=l.$implicit;d("value",e),o(),y(" ",e.display," ")}}var aa=class aa{constructor(l,e,i){this.service=l;this.cmsToastrService=e;this.translate=i;this.id=++aa.nextId;this.constructorInfoAreaId=this.constructor.name;this.optionDisabled=!1;this.optionPlaceholder="+ Tag";this.optionLabel="";this.optionRequired=!1;this.optionChange=new Xe;this.tagDataModel=[];this.tagLastDataModel=[];this.selectForceStatus=!0;this.separatorKeysCodes=[13];this.tagCtrl=new Et("");this.addOnBlur=!0;this.filteredOptions=this.tagCtrl.valueChanges.pipe(ei(null),$t(400),ti(t=>this.filter(t||"")))}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}filter(l){let e=new _o;e.rowPerPage=20,e.accessLoad=!0;let i=new H;return i.propertyName="title",i.value=l,i.searchType=Fe.Contains,i.clauseType=Be.Or,e.filters.push(i),l&&typeof l=="string"&&(i=new H,i.propertyName="id",i.value=l,i.searchType=Fe.Equal,i.clauseType=Be.Or,e.filters.push(i)),l&&typeof+l=="number"&&+l>0&&(i=new H,i.propertyName="caseCode",i.value=l,i.searchType=Fe.Contains,i.clauseType=Be.Or,e.filters.push(i)),this.service.ServiceGetAll(e).pipe(Ot(t=>(this.tagLastDataModel=t.listItems.map(s=>({display:s.title,value:s.id})),this.tagLastDataModel)))}checkIndex(l){var e=0,i=-1;return this.tagDataModel.forEach(t=>{t.value==l&&(i=e),e++}),i}add(l){var e;l.value&&this.tagLastDataModel.forEach(i=>{(i.display==l.value||i.value+""==l.value)&&(e=i)}),e&&this.checkIndex(e.value)<0&&(this.tagDataModel.push(e),this.onActionChange()),l.chipInput.clear(),this.tagCtrl.setValue(null)}remove(l){let e=this.checkIndex(l.value);e>=0&&(this.tagDataModel.splice(e,1),this.onActionChange())}selected(l){let e=l.option.value;this.checkIndex(e.value)<0&&this.tagDataModel.push(e),this.tagInput.nativeElement.value="",this.tagCtrl.setValue(null),this.onActionChange()}onActionChange(){let l=[];this.tagDataModel.forEach(e=>{l.findIndex(i=>i==e.value)<0&&l.push(e.value)}),this.selectForceStatus=!1,this.optionChange.emit(l)}onActionSelectForce(l){if(!this.selectForceStatus||!l||l.length===0)return;let e=new _o;l.forEach(i=>{if(i.length>0){let t=new H;t.propertyName="id",t.value=i,t.clauseType=Be.Or,e.filters.push(t)}}),this.service.ServiceGetAll(e).subscribe({next:i=>{i.isSuccess?i.listItems.forEach(t=>{this.tagDataModel.findIndex(s=>s.value==t.id)<0&&this.tagDataModel.push({value:t.id,display:t.title})}):this.cmsToastrService.typeErrorGetAll(i.errorMessage)},error:i=>{this.cmsToastrService.typeErrorGetAll(i)}})}};aa.nextId=0,aa.\u0275fac=function(e){return new(e||aa)(v(gi),v(V),v(L))},aa.\u0275cmp=D({type:aa,selectors:[["app-estate-property-autocomplete"]],viewQuery:function(e,i){if(e&1&&te(U2,5),e&2){let t;ie(t=ne())&&(i.tagInput=t.first)}},inputs:{optionDisabled:"optionDisabled",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionRequired:"optionRequired",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,decls:12,vars:12,consts:[["chipList",""],["tagInput",""],["auto","matAutocomplete"],["appearance","fill",2,"width","100%"],["aria-label","tag selection",3,"disabled"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","formControl","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionSelected"],[3,"value",4,"ngFor","ngForOf"],[3,"removed"],["type","button","matChipRemove",""],[3,"value"]],template:function(e,i){if(e&1){let t=E();r(0,"mat-form-field",3)(1,"mat-label"),c(2),a(),r(3,"mat-chip-grid",4,0),C(5,j2,5,1,"mat-chip",5),r(6,"input",6,1),I("matChipInputTokenEnd",function(_){return u(t),f(i.add(_))}),a()(),r(8,"mat-autocomplete",7,2),I("optionSelected",function(_){return u(t),f(i.selected(_))}),C(10,q2,2,2,"mat-option",8),g(11,"async"),a()()}if(e&2){let t=R(4),s=R(9);o(2),M(i.optionLabel),o(),d("disabled",i.optionDisabled),o(2),d("ngForOf",i.tagDataModel),o(),d("placeholder"," + "+i.optionPlaceholder)("matChipInputAddOnBlur",i.addOnBlur)("formControl",i.tagCtrl)("matAutocomplete",s)("matChipInputFor",t)("matChipInputSeparatorKeyCodes",i.separatorKeysCodes),o(4),d("ngForOf",h(11,10,i.filteredOptions))}},dependencies:[He,Y,q,zt,ni,ii,oi,Ri,ki,Di,Pi,yi,hi,Ee,We],encapsulation:2});var la=aa;var Q2=["tagInput"];function z2(n,l){if(n&1){let e=E();r(0,"mat-chip",9),I("removed",function(){let t=u(e).$implicit,s=p();return f(s.remove(t))}),c(1),r(2,"button",10)(3,"mat-icon"),c(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),y(" ",e.display," ")}}function Y2(n,l){if(n&1&&(r(0,"mat-option",11),c(1),a()),n&2){let e=l.$implicit;d("value",e),o(),y(" ",e.display," ")}}var Ql=class Ql{constructor(l,e,i){this.service=l;this.cmsToastrService=e;this.translate=i;this.constructorInfoAreaId=this.constructor.name;this.optionDisabled=!1;this.optionPlaceholder="+ Tag";this.optionLabel="";this.optionChange=new Xe;this.tagDataModel=[];this.tagLastDataModel=[];this.selectForceStatus=!0;this.separatorKeysCodes=[13];this.tagCtrl=new Et("");this.addOnBlur=!0;this.filteredOptions=this.tagCtrl.valueChanges.pipe(ei(null),$t(400),ti(t=>this.filter(t||"")))}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}filter(l){let e=new pe;e.rowPerPage=20,e.accessLoad=!0;let i=new H;return i.propertyName="title",i.value=l,i.searchType=Fe.Contains,i.clauseType=Be.Or,e.filters.push(i),l&&typeof+l=="number"&&+l>0&&(i=new H,i.propertyName="id",i.value=l,i.searchType=Fe.Equal,i.clauseType=Be.Or,e.filters.push(i)),this.service.ServiceGetAll(e).pipe(Ot(t=>(this.tagLastDataModel=t.listItems.map(s=>({display:s.titleML,value:s.id})),this.tagLastDataModel)))}checkIndex(l){var e=0,i=-1;return this.tagDataModel.forEach(t=>{t.value==l&&(i=e),e++}),i}add(l){var e;l.value&&this.tagLastDataModel.forEach(i=>{(i.display==l.value||i.value+""==l.value)&&(e=i)}),e&&this.checkIndex(e.value)<0&&(this.tagDataModel.push(e),this.onActionChange()),l.chipInput.clear(),this.tagCtrl.setValue(null)}remove(l){let e=this.checkIndex(l.value);e>=0&&(this.tagDataModel.splice(e,1),this.onActionChange())}selected(l){let e=l.option.value;this.checkIndex(e.value)<0&&this.tagDataModel.push(e),this.tagInput.nativeElement.value="",this.tagCtrl.setValue(null),this.onActionChange()}onActionChange(){let l=[];this.tagDataModel.forEach(e=>{l.findIndex(i=>i==e.value)<0&&l.push(e.value)}),this.selectForceStatus=!1,this.optionChange.emit(l)}onActionSelectForce(l){if(!this.selectForceStatus||!l||l.length===0)return;let e=new pe;l.forEach(i=>{if(i.length>0){let t=new H;t.propertyName="id",t.value=i,t.clauseType=Be.Or,e.filters.push(t)}}),this.service.ServiceGetAll(e).subscribe({next:i=>{i.isSuccess?i.listItems.forEach(t=>{this.tagDataModel.findIndex(s=>s.value==t.id)<0&&this.tagDataModel.push({value:t.id,display:t.titleML})}):this.cmsToastrService.typeErrorGetAll(i.errorMessage)},error:i=>{this.cmsToastrService.typeErrorGetAll(i)}})}};Ql.\u0275fac=function(e){return new(e||Ql)(v(Ai),v(V),v(L))},Ql.\u0275cmp=D({type:Ql,selectors:[["app-estate-contract-type-autocomplete"]],viewQuery:function(e,i){if(e&1&&te(Q2,5),e&2){let t;ie(t=ne())&&(i.tagInput=t.first)}},inputs:{optionDisabled:"optionDisabled",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,decls:12,vars:12,consts:[["chipList",""],["tagInput",""],["auto","matAutocomplete"],["appearance","fill",2,"width","100%"],["aria-label","tag selection",3,"disabled"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","formControl","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionSelected"],[3,"value",4,"ngFor","ngForOf"],[3,"removed"],["type","button","matChipRemove",""],[3,"value"]],template:function(e,i){if(e&1){let t=E();r(0,"mat-form-field",3)(1,"mat-label"),c(2),a(),r(3,"mat-chip-grid",4,0),C(5,z2,5,1,"mat-chip",5),r(6,"input",6,1),I("matChipInputTokenEnd",function(_){return u(t),f(i.add(_))}),a()(),r(8,"mat-autocomplete",7,2),I("optionSelected",function(_){return u(t),f(i.selected(_))}),C(10,Y2,2,2,"mat-option",8),g(11,"async"),a()()}if(e&2){let t=R(4),s=R(9);o(2),M(i.optionLabel),o(),d("disabled",i.optionDisabled),o(2),d("ngForOf",i.tagDataModel),o(),d("placeholder"," + "+i.optionPlaceholder)("matChipInputAddOnBlur",i.addOnBlur)("formControl",i.tagCtrl)("matAutocomplete",s)("matChipInputFor",t)("matChipInputSeparatorKeyCodes",i.separatorKeysCodes),o(4),d("ngForOf",h(11,10,i.filteredOptions))}},dependencies:[He,Y,q,zt,ni,ii,oi,Ri,ki,Di,Pi,yi,hi,Ee,We],encapsulation:2});var zl=Ql;var Yl=class Yl{constructor(l){this.sanitizer=l}transform(l,e=!1){let i="";switch(l){case 0:i="fa fa-sort-amount-desc";break;case 1:i="fa fa-sort-amount-asc";break;case 2:i="fa fa-random";break;default:i="fa fa-sort-amount-desc"}return i}};Yl.\u0275fac=function(e){return new(e||Yl)(v(um,16))},Yl.\u0275pipe=tr({name:"sortTypeIconClass",type:Yl,pure:!0,standalone:!1});var sa=Yl;var K2=["vform"];function Z2(n,l){n&1&&S(0,"i",49)}function J2(n,l){n&1&&S(0,"i",50)}function X2(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function $2(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function ew(n,l){n&1&&(r(0,"mat-error"),c(1," DescriptionHidden is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function tw(n,l){if(n&1){let e=E();r(0,"div",15)(1,"label",51),c(2),g(3,"translate"),a(),r(4,"textarea",52,5),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),a(),r(6,"em"),c(7),a(),C(8,ew,5,3,"mat-error",20),a()}if(n&2){let e=R(5),i=p();o(2),M(h(3,6,"TITLE.Description_Hidden")),o(2),d("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",i.dataModel.descriptionHidden),o(3),y("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function iw(n,l){if(n&1){let e=E();r(0,"div",15)(1,"label",53),c(2),a(),r(3,"input",54,6),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.speedView,t)||(s.dataModel.speedView=t),f(t)}),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.speedView==null?null:e.fieldsInfo.speedView.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.speedView==null?null:e.fieldsInfo.speedView.fieldTitle)),b("ngModel",e.dataModel.speedView),d("disabled",!(e.fieldsInfo.speedView!=null&&e.fieldsInfo.speedView.accessAddField))}}function nw(n,l){if(n&1){let e=E();r(0,"div",15)(1,"label",55),c(2),a(),r(3,"input",56,7),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.reloadViewPerMin,t)||(s.dataModel.reloadViewPerMin=t),f(t)}),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.reloadViewPerMin==null?null:e.fieldsInfo.reloadViewPerMin.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.reloadViewPerMin==null?null:e.fieldsInfo.reloadViewPerMin.fieldTitle)),b("ngModel",e.dataModel.reloadViewPerMin),d("disabled",!(e.fieldsInfo.reloadViewPerMin!=null&&e.fieldsInfo.reloadViewPerMin.accessAddField))}}function ow(n,l){if(n&1&&(S(0,"img",57),g(1,"cmsthumbnail")),n&2){let e=p();d("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function rw(n,l){n&1&&(r(0,"p"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"MESSAGE.Content_of_your_choice_to_display_On_this_billboard")," "))}function aw(n,l){n&1&&(r(0,"P"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"MESSAGE.Selecting_any_of_the_following_will_make_the_search_results_range_smaller")))}function lw(n,l){if(n&1){let e=E();r(0,"app-estate-property-type-usage-autocomplete",58),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorSelectUsage(t))}),a()}if(n&2){let e=p();d("optionDisabled",!(e.fieldsInfo.linkPropertyTypeUsageIds!=null&&e.fieldsInfo.linkPropertyTypeUsageIds.accessAddField))("optionSelectForce",e.dataModel.linkPropertyTypeUsageIds)("optionPlaceholder",h(1,3,"TITLE.Type_Usage"))}}function sw(n,l){if(n&1){let e=E();r(0,"app-estate-property-type-landuse-autocomplete",58),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorSelectLanduse(t))}),a()}if(n&2){let e=p();d("optionDisabled",!(e.fieldsInfo.linkPropertyTypeLanduseIds!=null&&e.fieldsInfo.linkPropertyTypeLanduseIds.accessAddField))("optionSelectForce",e.dataModel.linkPropertyTypeLanduseIds)("optionPlaceholder",h(1,3,"TITLE.Property_Type"))}}function dw(n,l){if(n&1){let e=E();r(0,"app-estate-contract-type-autocomplete",58),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorContarctType(t))}),a()}if(n&2){let e=p();d("optionDisabled",!(e.fieldsInfo.linkContractTypeIds!=null&&e.fieldsInfo.linkContractTypeIds.accessAddField))("optionSelectForce",e.dataModel.linkContractTypeIds)("optionPlaceholder",h(1,3,"TITLE.Transaction_type"))}}function cw(n,l){if(n&1){let e=E();r(0,"app-cms-currency-selector",59),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectCurrency(t))}),a()}if(n&2){let e=p();d("optionSelectFirstItem",!0)("optionSelectForce",e.dataModel.linkCoreCurrencyId)("optionPlaceholder",h(1,3,"TITLE.Specify_the_transaction_currency"))}}function pw(n,l){if(n&1){let e=E();r(0,"app-cms-location-autocomplete",58),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorLocation(t))}),a()}if(n&2){let e=p();d("optionDisabled",!(e.fieldsInfo.linkLocationIds!=null&&e.fieldsInfo.linkLocationIds.accessAddField))("optionSelectForce",e.dataModel.linkLocationIds)("optionPlaceholder",h(1,3,"TITLE.Region"))}}function mw(n,l){if(n&1&&(r(0,"option",60),c(1),a()),n&2){let e=l.$implicit;d("value",e.fieldName),o(),y(" ",e.fieldTitle," ")}}function uw(n,l){if(n&1){let e=E();r(0,"div",61)(1,"a",62),I("click",function(){u(e);let t=p();return f(t.onActionSortArrow())}),S(2,"i",63),g(3,"sortTypeIconClass"),a()()}if(n&2){let e=p();o(2),d("ngClass",h(3,1,e.dataModel.resultSortType))}}function fw(n,l){if(n&1){let e=E();r(0,"div",64)(1,"button",65),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",66),c(3),g(4,"translate"),a(),r(5,"button",67),S(6,"i",68),c(7),g(8,"translate"),a()()}if(n&2){p();let e=R(11);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",h(8,5,"ACTION.SAVE")," ")}}var Kl=class Kl extends Bt{constructor(e,i,t,s,_,m,k,z){super(t,new Ar,m,z);this.router=e;this.coreEnumService=i;this.estateBillboardService=t;this.cmsToastrService=s;this.activatedRoute=_;this.publicHelper=m;this.cdr=k;this.translate=z;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModel=new Ar;this.dataModelCorCurrencySelector=new Fi;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.LinkPropertyIdsInUse=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.requestId=this.activatedRoute.snapshot.paramMap.get("id")}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.requestId&&this.requestId.length>0&&this.DataGetOneContent()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateBillboardService.ServiceAdd(this.dataModel).subscribe({next:i=>{i.isSuccess?(this.DataGetOneContent(),this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.router.navigate(["/estate/billboard/edit",i.item.id])):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateBillboardService.setAccessLoad(),this.estateBillboardService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateBillboardService.ServiceEdit(this.dataModel).subscribe({next:i=>{i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionSelectorSelectUsage(e){this.dataModel.linkPropertyTypeUsageIds=e}onActionSelectorContarctType(e){this.dataModel.linkContractTypeIds=e}onActionSelectorSelectLanduse(e){this.dataModel.linkPropertyTypeLanduseIds=e}onActionSelectorLocation(e){this.dataModel.linkLocationIds=e}onActionSelectorProperty(e){this.dataModel.linkPropertyIds=e,this.dataModel.linkPropertyIds&&this.dataModel.linkPropertyIds.length>0?(this.LinkPropertyIdsInUse=!0,this.dataModel.linkPropertyTypeUsageIds=null,this.dataModel.linkContractTypeIds=null,this.dataModel.linkPropertyTypeLanduseIds=null,this.dataModel.linkLocationIds=null):this.LinkPropertyIdsInUse=!1}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.dataModel.id&&this.dataModel.id.length>0?this.DataEditContent():this.DataAddContent())}onFormCancel(){this.router.navigate(["/estate/billboard/"])}onActionSelectCurrency(e){if(!e||e.id<=0){this.dataModelCorCurrencySelector=null,this.dataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=e,this.dataModel.linkCoreCurrencyId=e.id}onActionSortArrow(){this.dataModel.resultSortType==$.Ascending?this.dataModel.resultSortType=$.Descending:this.dataModel.resultSortType==$.Descending?this.dataModel.resultSortType=$.Random:this.dataModel.resultSortType==$.Random?this.dataModel.resultSortType=$.Ascending:this.dataModel.resultSortType=$.Ascending}};Kl.\u0275fac=function(i){return new(i||Kl)(v(Ze),v(X),v(ir),v(V),v(Kt),v(F),v(O),v(L))},Kl.\u0275cmp=D({type:Kl,selectors:[["app-estate-billboard-add"]],viewQuery:function(i,t){if(i&1&&(te(K2,5),te(Ti,5)),i&2){let s;ie(s=ne())&&(t.formGroup=s.first),ie(s=ne())&&(t.estatePropertyList=s.first)}},standalone:!1,features:[oe],decls:84,vars:71,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["ResultSortColumn","ngModel"],["DescriptionHidden",""],["SpeedView",""],["ReloadViewPerMin",""],[3,"Key","svg"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[3,"optionChange","optionDisabled","optionPlaceholder","optionSelectForce"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.includeAllSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.includeAllSite","name","dataModel.includeAllSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.includeAllSite",1,"custom-control-label"],[3,"optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionSelectFirstItem","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[1,"row","mb-0"],[1,"col-10","pe-0"],["for","dataModel.resultSortColumn",1,"color-highlight"],["id","dataModel.resultSortColumn","name","dataModel.resultSortColumn",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"fa","fa-chevron-down"],[1,"col-2","ps-0"],["class","col-md-2 col-sm-2 col-xs-2 resultSortIcon","style","margin: auto",4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.speedView",1,"color-highlight"],["type","number","name","dataModel.speedView","min","3","max","10","id","dataModel.speedView",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.reloadViewPerMin",1,"color-highlight"],["type","number","name","dataModel.reloadViewPerMin","min","1","max","10","id","dataModel.reloadViewPerMin",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[3,"value"],[1,"col-md-2","col-sm-2","col-xs-2","resultSortIcon",2,"margin","auto"],[3,"click"],[2,"color","black",3,"ngClass"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();S(0,"app-cms-guide-notice",8),r(1,"div",9),S(2,"app-progress-spinner",10),r(3,"div",11)(4,"p",12),c(5),a(),r(6,"p"),c(7),g(8,"translate"),a(),S(9,"app-cms-form-result-message",13),r(10,"form",14,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(12,"div",15)(13,"label",16),c(14),a(),r(15,"input",17,1),w("ngModelChange",function(m){return u(s),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),C(17,Z2,1,0,"i",18)(18,J2,1,0,"i",19),r(19,"em"),c(20),a(),C(21,X2,5,3,"mat-error",20),a(),r(22,"div",15)(23,"label",21),c(24),a(),r(25,"textarea",22,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),a(),r(27,"em"),c(28),a(),C(29,$2,5,3,"mat-error",20),a(),C(30,tw,9,8,"div",23)(31,iw,5,5,"div",23)(32,nw,5,5,"div",23),r(33,"div",24)(34,"a",25),g(35,"cmsthumbnail"),C(36,ow,2,4,"img",26),a()(),r(37,"div",15)(38,"label",27),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(39),g(40,"translate"),a(),r(41,"input",28,3),g(43,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(44,"cms-file-manager",29),I("itemSelected",function(m){return u(s),f(t.onActionFileSelected(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),a()(),r(45,"p"),c(46),g(47,"translate"),a(),r(48,"app-estate-property-autocomplete",30),g(49,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorProperty(m))}),a(),r(50,"p"),c(51),g(52,"translate"),a(),S(53,"hr"),r(54,"div",31)(55,"div",32)(56,"h5",33),c(57),a()(),r(58,"div",34)(59,"div",35)(60,"input",36),w("ngModelChange",function(m){return u(s),T(t.dataModel.includeAllSite,m)||(t.dataModel.includeAllSite=m),f(m)}),a(),S(61,"label",37),a()()(),C(62,rw,3,3,"p",20)(63,aw,3,3,"P",20)(64,lw,2,5,"app-estate-property-type-usage-autocomplete",38)(65,sw,2,5,"app-estate-property-type-landuse-autocomplete",38),S(66,"br"),C(67,dw,2,5,"app-estate-contract-type-autocomplete",38)(68,cw,2,5,"app-cms-currency-selector",39)(69,pw,2,5,"app-cms-location-autocomplete",38),r(70,"div",40)(71,"div",41)(72,"div",15)(73,"label",42),c(74),a(),r(75,"select",43,4),w("ngModelChange",function(m){return u(s),T(t.dataModel.resultSortColumn,m)||(t.dataModel.resultSortColumn=m),f(m)}),C(77,mw,2,2,"option",44),a(),r(78,"span"),S(79,"i",45),a(),S(80,"em"),a()(),r(81,"div",46),C(82,uw,4,3,"div",47),a()(),C(83,fw,9,7,"div",48),a()()()}if(i&2){let s=R(16),_=R(26);d("Key","estate.billboard.list.add")("svg","assets/media/svg/icons/General/Notifications1.svg"),o(2),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(8,57,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(5),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(3),y("",_.value.length," / 500"),o(),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),o(),d("ngIf",t.fieldsInfo.speedView==null?null:t.fieldsInfo.speedView.accessWatchField),o(),d("ngIf",t.fieldsInfo.reloadViewPerMin==null?null:t.fieldsInfo.reloadViewPerMin.accessWatchField),o(2),d("href",x(h(35,59,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(h(40,61,"TITLE.PHOTO_FILE")),o(2),d("placeholder",x(h(43,63,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(2),M(h(47,65,"TITLE.specific_property_list")),o(2),d("optionDisabled",!(t.fieldsInfo.linkPropertyIds!=null&&t.fieldsInfo.linkPropertyIds.accessAddField))("optionPlaceholder",h(49,67,"TITLE.Property"))("optionSelectForce",t.dataModel.linkPropertyIds),o(3),y(" ",h(52,69,"MESSAGE.Selecting_specific_property_will_remove_all_search_fields")," "),o(6),y(" ",t.fieldsInfo.includeAllSite==null?null:t.fieldsInfo.includeAllSite.fieldTitle," "),o(3),b("ngModel",t.dataModel.includeAllSite),o(2),d("ngIf",!t.LinkPropertyIdsInUse),o(),d("ngIf",!t.LinkPropertyIdsInUse),o(),d("ngIf",!t.LinkPropertyIdsInUse),o(),d("ngIf",!t.LinkPropertyIdsInUse),o(2),d("ngIf",!t.LinkPropertyIdsInUse),o(),d("ngIf",!t.LinkPropertyIdsInUse),o(),d("ngIf",!t.LinkPropertyIdsInUse),o(5),M(t.fieldsInfo.resultSortColumn==null?null:t.fieldsInfo.resultSortColumn.fieldTitle),o(),b("ngModel",t.dataModel.resultSortColumn),o(2),d("ngForOf",t.dataFieldInfoModel),o(5),d("ngIf",(t.dataModel==null||t.dataModel.resultSortColumn==null?null:t.dataModel.resultSortColumn.length)>0),o(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[ce,He,N,ke,Va,Ba,Y,Wt,qt,La,q,we,de,De,Pe,uc,mc,me,Re,xe,Q,Wi,Jt,U,jo,ge,Gt,_t,Ul,ql,la,zl,B,Me,sa],encapsulation:2});var Wd=Kl;function _w(n,l){if(n&1){let e=E();r(0,"button",9),I("click",function(){u(e);let t=p(2);return f(t.onActionSendUrlToQDoc())}),r(1,"span"),c(2),g(3,"translate"),a(),S(4,"i",10),a()}n&2&&(o(2),M(h(3,1,"ACTION.VIEW")))}function gw(n,l){if(n&1){let e=E();r(0,"div")(1,"p"),c(2),g(3,"translate"),a(),r(4,"div",2)(5,"ng-otp-input",3,0),I("onInputChange",function(t){u(e);let s=p();return f(s.onOtpChange(t))}),a()(),r(7,"div",4),C(8,_w,5,3,"button",5),a(),r(9,"h5",6),c(10),g(11,"translate"),a(),r(12,"p",7),c(13),g(14,"translate"),r(15,"a",8),c(16," https://qdoc.ir "),a(),c(17),g(18,"translate"),a()()}if(n&2){let e=p();o(2),M(h(3,6,"TITLE.Code_of_Knowledge")),o(3),d("config",e.otpConfig),o(3),d("ngIf",e.optionUrl&&e.optionUrl.length>0&&(e.QDocModel.username==null?null:e.QDocModel.username.length)===5),o(2),y("",h(11,8,"TITLE.Description"),":"),o(3),y(" ",h(14,10,"TITLE.To_do_this_it_is_enough_to_enter_the_site_on_the_device_that_you_want_your_content_to_be_displayed_on")," "),o(4),y(" ",h(18,12,"TITLE.Enter_the_display_code_in_this_section_so_that_your_content_will_be_displayed_on_the_monitor_of_the_device_in_question")," ")}}var da=class da{constructor(l,e,i){this.cmsToastrService=l;this.http=e;this.translate=i;this.id=++da.nextId;this.optionUrl="";this.QDocModel={};this.otpConfig={allowNumbersOnly:!0,length:5,isPasswordInput:!1,disableAutoFocus:!0,placeholder:"",inputStyles:{width:"50px",height:"50px",margin:"5px"}}}ngOnInit(){}onActionSendUrlToQDoc(){if(this.QDocModel.message=this.optionUrl,!this.QDocModel.username&&this.QDocModel.username.length<=0){this.cmsToastrService.typeWarningSelected("\u06A9\u062F \u0634\u0646\u0627\u0633\u0647 \u0631\u0627 \u0627\u0632 \u0648\u0628\u0633\u0627\u06CC\u062A https://Qdoc.ir \u062F\u0631\u06CC\u0627\u0641\u062A \u0646\u0645\u0627\u06CC\u06CC\u062F");return}this.http.post(W.cmsServerConfig.configQDocServerPath,this.QDocModel,{headers:{}}).subscribe({next:l=>{this.translate.get("MESSAGE.The_order_was_sent_to_the_website").subscribe(e=>{this.cmsToastrService.typeSuccessMessage(e)})},error:l=>{this.cmsToastrService.typeErrorMessage("\u0628\u0631\u0631\u0648\u0632 \u062E\u0637\u0627 \u062F\u0631 \u0627\u0631\u0633\u0627\u0644 \u062F\u0633\u062A\u0648\u0631",l)}})}onOtpChange(l){this.QDocModel.username=l}};da.nextId=0,da.\u0275fac=function(e){return new(e||da)(v(V),v(Ea),v(L))},da.\u0275cmp=D({type:da,selectors:[["app-cms-qdoc"]],inputs:{optionUrl:"optionUrl"},standalone:!1,decls:1,vars:1,consts:[["ngOtpInput",""],[4,"ngIf"],[2,"text-align","center"],[3,"onInputChange","config"],[1,"col-m-4","col-sm-12"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],[2,"text-align","right"],["dir","rtl",2,"font-size","15px"],["href","https://qdoc.ir","target","_blank"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fas","fa-street-view"]],template:function(e,i){e&1&&C(0,gw,19,14,"div",1),e&2&&d("ngIf",i.optionUrl&&i.optionUrl.length>0)},dependencies:[N,_i,l0,B],encapsulation:2});var Zl=da;var hw=["vform"];function yw(n,l){n&1&&S(0,"i",46)}function Sw(n,l){n&1&&S(0,"i",47)}function Cw(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function vw(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function Iw(n,l){n&1&&(r(0,"mat-error"),c(1," DescriptionHidden is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function Ew(n,l){if(n&1){let e=E();r(0,"div",15)(1,"label",48),c(2),g(3,"translate"),a(),r(4,"textarea",49,5),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),c(6,"        "),a(),r(7,"em"),c(8),a(),C(9,Iw,5,3,"mat-error",20),a()}if(n&2){let e=R(5),i=p();o(2),M(h(3,6,"TITLE.Description_Hidden")),o(2),d("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",i.dataModel.descriptionHidden),o(4),y("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Mw(n,l){if(n&1){let e=E();r(0,"div",15)(1,"label",50),c(2),a(),r(3,"input",51,6),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.speedView,t)||(s.dataModel.speedView=t),f(t)}),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.speedView==null?null:e.fieldsInfo.speedView.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.speedView==null?null:e.fieldsInfo.speedView.fieldTitle)),b("ngModel",e.dataModel.speedView),d("disabled",!(e.fieldsInfo.speedView!=null&&e.fieldsInfo.speedView.accessEditField))}}function bw(n,l){if(n&1){let e=E();r(0,"div",15)(1,"label",52),c(2),a(),r(3,"input",53,7),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.reloadViewPerMin,t)||(s.dataModel.reloadViewPerMin=t),f(t)}),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.reloadViewPerMin==null?null:e.fieldsInfo.reloadViewPerMin.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.reloadViewPerMin==null?null:e.fieldsInfo.reloadViewPerMin.fieldTitle)),b("ngModel",e.dataModel.reloadViewPerMin),d("disabled",!(e.fieldsInfo.reloadViewPerMin!=null&&e.fieldsInfo.reloadViewPerMin.accessEditField))}}function Tw(n,l){n&1&&(r(0,"p"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"MESSAGE.Content_of_your_choice_to_display_On_this_billboard")," "))}function ww(n,l){n&1&&(r(0,"P"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"MESSAGE.Selecting_any_of_the_following_will_make_the_search_results_range_smaller")," "))}function xw(n,l){if(n&1){let e=E();r(0,"app-estate-property-type-usage-autocomplete",54),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorSelectUsage(t))}),a()}if(n&2){let e=p();d("optionDisabled",!(e.fieldsInfo.linkPropertyTypeUsageIds!=null&&e.fieldsInfo.linkPropertyTypeUsageIds.accessEditField))("optionSelectForce",e.dataModel.linkPropertyTypeUsageIds)("optionPlaceholder",h(1,3,"TITLE.Type_Usage"))}}function Aw(n,l){if(n&1){let e=E();r(0,"app-estate-property-type-landuse-autocomplete",54),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorSelectLanduse(t))}),a()}if(n&2){let e=p();d("optionDisabled",!(e.fieldsInfo.linkPropertyTypeLanduseIds!=null&&e.fieldsInfo.linkPropertyTypeLanduseIds.accessEditField))("optionSelectForce",e.dataModel.linkPropertyTypeLanduseIds)("optionPlaceholder",h(1,3,"TITLE.Property_Type"))}}function Pw(n,l){if(n&1){let e=E();r(0,"app-estate-contract-type-autocomplete",54),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorContarctType(t))}),a()}if(n&2){let e=p();d("optionDisabled",!(e.fieldsInfo.linkContractTypeIds!=null&&e.fieldsInfo.linkContractTypeIds.accessEditField))("optionSelectForce",e.dataModel.linkContractTypeIds)("optionPlaceholder",h(1,3,"TITLE.Transaction_type"))}}function Rw(n,l){if(n&1){let e=E();r(0,"app-cms-currency-selector",55),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectCurrency(t))}),a()}if(n&2){let e=p();d("optionSelectFirstItem",!0)("optionSelectForce",e.dataModel.linkCoreCurrencyId)("optionPlaceholder",h(1,3,"TITLE.Specify_the_transaction_currency"))}}function kw(n,l){if(n&1){let e=E();r(0,"app-cms-location-autocomplete",54),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorLocation(t))}),a()}if(n&2){let e=p();d("optionDisabled",!(e.fieldsInfo.linkLocationIds!=null&&e.fieldsInfo.linkLocationIds.accessEditField))("optionSelectForce",e.dataModel.linkLocationIds)("optionPlaceholder",h(1,3,"TITLE.Region"))}}function Dw(n,l){if(n&1&&(r(0,"option",56),c(1),a()),n&2){let e=l.$implicit;d("value",e.fieldName),o(),y(" ",e.fieldTitle," ")}}function Lw(n,l){if(n&1){let e=E();r(0,"div",57)(1,"a",58),I("click",function(){u(e);let t=p();return f(t.onActionSortArrow())}),S(2,"i",59),g(3,"sortTypeIconClass"),a()()}if(n&2){let e=p();o(2),d("ngClass",h(3,1,e.dataModel.resultSortType))}}function Vw(n,l){if(n&1){let e=E();r(0,"div",60)(1,"a",61),S(2,"img",62),g(3,"translate"),a(),r(4,"span",63),I("click",function(){u(e);let t=p();return f(t.onActionCopied())}),S(5,"i",64),a(),r(6,"h5",65),c(7),g(8,"translate"),a(),r(9,"p",66),c(10),g(11,"translate"),a(),r(12,"p",66),c(13),g(14,"translate"),S(15,"br"),c(16),g(17,"translate"),S(18,"br"),c(19),g(20,"translate"),S(21,"br"),c(22),g(23,"translate"),S(24,"br"),c(25),g(26,"translate"),a(),S(27,"hr")(28,"app-cms-qdoc",67),a()}if(n&2){let e=p();o(),d("href",x(e.dataModel.urlViewContent),j),o(),d("alt",x(h(3,14,"TITLE.Scan_the_barcode")))("src",e.dataModel.urlViewContentQRCodeBase64,j),o(2),d("cdkCopyToClipboard",e.dataModel.urlViewContent),o(3),y(" ",h(8,16,"TITLE.DESCRIPTION"),": "),o(3),y(" ",h(11,18,"TITLE.You_can_view_the_output_of_your_billboard")," "),o(3),y(" ",h(14,20,"TITLE.In_the_title_section_you_can_edit_the_title_of_your_billboard_and_write_a_description_for_it")," "),o(3),y(" ",h(17,22,"TITLE.In_the_next_section_you_can_set_the_speed_of_scrolling_the_page_and_reloading_the_page_every_minute_and_choose_a_picture_for_it")," "),o(3),y(" ",h(20,24,"TITLE.In_the_next_section_you_can_see_your_display_content_for_the_billboard")," "),o(3),y(" ",h(23,26,"TITLE.You_can_narrow_your_search_by_filling_in_any_of_the_fields")," "),o(3),y(" ",h(26,28,"TITLE.Finally_by_clicking_on_the_view_option_you_can_see_the_advertisements_you_want_and_by_clicking_on_the_save_option_you_can_create_your_own_billboard")," "),o(3),d("optionUrl",e.dataModel.urlViewContent)}}function Bw(n,l){if(n&1){let e=E();r(0,"button",74),I("click",function(){u(e);let t=p(2);return f(t.onFormLoadResult())}),S(1,"i",70),c(2),g(3,"translate"),a()}n&2&&(o(2),y(" ",h(3,1,"ACTION.VIEW")," "))}function Fw(n,l){if(n&1){let e=E();r(0,"div",68)(1,"button",69),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",70),c(3),g(4,"translate"),a(),r(5,"button",71),S(6,"i",72),c(7),g(8,"translate"),a(),C(9,Bw,4,3,"button",73),a()}if(n&2){let e=p(),i=R(11);o(3),y(" ",h(4,4,"ACTION.CANCEL")," "),o(2),d("disabled",!i.form.valid),o(2),y(" ",h(8,6,"ACTION.SAVE")," "),o(2),d("ngIf",(e.dataModel==null||e.dataModel.id==null?null:e.dataModel.id.length)>0)}}function Ow(n,l){n&1&&(r(0,"div",75),S(1,"div",76),a())}var Jl=class Jl extends Ut{constructor(e,i,t,s,_,m,k,z,Se,qe){super(s,new Ar,m,Se);this.router=e;this.estatePropertyDetailGroupService=i;this.coreEnumService=t;this.estateBillboardService=s;this.cmsToastrService=_;this.publicHelper=m;this.cdr=k;this.activatedRoute=z;this.translate=Se;this.http=qe;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ht;this.dataModel=new Ar;this.dataModelCorCurrencySelector=new Fi;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.optionloadComponent=!1;this.loadResult="";this.LinkPropertyIdsInUse=!1;this.optionReload=()=>{this.estatePropertyList.optionloadComponent=!0,this.estatePropertyList.DataGetAll()};this.publicHelper.processService.cdr=this.cdr,this.requestId=this.activatedRoute.snapshot.paramMap.get("id"),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.router.navigate(["/estate/billboard/"]);return}this.DataGetOneContent()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateBillboardService.setAccessLoad(),this.estateBillboardService.setAccessDataType(Ne.Editor),this.estateBillboardService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataFieldInfoModel=i.access.fieldsInfo,this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.dataModel.linkPropertyIds&&this.dataModel.linkPropertyIds.length>0&&(this.LinkPropertyIdsInUse=!0),this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateBillboardService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.optionReload()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionSelectorSelectUsage(e){this.dataModel.linkPropertyTypeUsageIds=e}onActionSelectorContarctType(e){this.dataModel.linkContractTypeIds=e}onActionSelectorSelectLanduse(e){this.dataModel.linkPropertyTypeLanduseIds=e}onActionSelectorLocation(e){this.dataModel.linkLocationIds=e}onActionSelectorProperty(e){this.dataModel.linkPropertyIds=e,this.dataModel.linkPropertyIds&&this.dataModel.linkPropertyIds.length>0?(this.LinkPropertyIdsInUse=!0,this.dataModel.linkPropertyTypeUsageIds=null,this.dataModel.linkContractTypeIds=null,this.dataModel.linkPropertyTypeLanduseIds=null,this.dataModel.linkLocationIds=null):this.LinkPropertyIdsInUse=!1}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.router.navigate(["/estate/billboard/"])}onFormLoadResult(){this.loadResult="estatePropertyList",this.estatePropertyList.optionloadComponent=!0,this.estatePropertyList.DataGetAll()}onActionSelectCurrency(e){if(!e||e.id<=0){this.dataModelCorCurrencySelector=null,this.dataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=e,this.dataModel.linkCoreCurrencyId=e.id}onActionSortArrow(){this.dataModel.resultSortType==$.Ascending?this.dataModel.resultSortType=$.Descending:this.dataModel.resultSortType==$.Descending?this.dataModel.resultSortType=$.Random:this.dataModel.resultSortType==$.Random?this.dataModel.resultSortType=$.Ascending:this.dataModel.resultSortType=$.Ascending}};Jl.\u0275fac=function(i){return new(i||Jl)(v(Ze),v(Ii),v(X),v(ir),v(V),v(F),v(O),v(Kt),v(L),v(Ea))},Jl.\u0275cmp=D({type:Jl,selectors:[["app-estate-billboard-edit"]],viewQuery:function(i,t){if(i&1&&(te(hw,5),te(Ti,5)),i&2){let s;ie(s=ne())&&(t.formGroup=s.first),ie(s=ne())&&(t.estatePropertyList=s.first)}},standalone:!1,features:[oe],decls:81,vars:59,consts:[["vform","ngForm"],["Title",""],["Description",""],["ResultSortColumn","ngModel"],["estatePropertyList",""],["DescriptionHidden",""],["SpeedView",""],["ReloadViewPerMin",""],[3,"Key","svg"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionDisabled","optionPlaceholder","optionSelectForce"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.includeAllSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.includeAllSite","name","dataModel.includeAllSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.includeAllSite",1,"custom-control-label"],[3,"optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionSelectFirstItem","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[1,"row","mb-0"],[1,"col-10","pe-0"],["for","dataModel.resultSortColumn",1,"color-highlight"],["id","dataModel.resultSortColumn","name","dataModel.resultSortColumn",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"fa","fa-chevron-down"],[1,"col-2","ps-0"],["class","col-md-2 col-sm-2 col-xs-2 resultSortIcon","style","margin: auto",4,"ngIf"],["class","col-md-6 col-sm-6 col-xs-9","style","text-align: center",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"optionLinkBillboardId","optionloadComponent","optionsortType","optionloadByRoute"],["class","row alert alert-custom alert-white alert-shadow gutter-b",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.speedView",1,"color-highlight"],["type","number","name","dataModel.speedView","min","3","max","10","id","dataModel.speedView",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.reloadViewPerMin",1,"color-highlight"],["type","number","name","dataModel.reloadViewPerMin","min","1","max","10","id","dataModel.reloadViewPerMin",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[3,"value"],[1,"col-md-2","col-sm-2","col-xs-2","resultSortIcon",2,"margin","auto"],[3,"click"],[2,"color","black",3,"ngClass"],[1,"col-md-6","col-sm-6","col-xs-9",2,"text-align","center"],["target","_blank",3,"href"],["height","300px","width","300px",3,"src","alt"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[2,"text-align","right"],["dir","rtl",2,"font-size","17px"],[3,"optionUrl"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",3,"disabled"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"row","alert","alert-custom","alert-white","alert-shadow","gutter-b"],[1,"col-md-12","col-sm-12","col-xs-18"]],template:function(i,t){if(i&1){let s=E();S(0,"app-cms-guide-notice",8),r(1,"div",9),S(2,"app-progress-spinner",10),r(3,"div",11)(4,"p",12),c(5),a(),r(6,"p"),c(7),g(8,"translate"),a(),S(9,"app-cms-form-result-message",13),r(10,"form",14,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(12,"div",15)(13,"label",16),c(14),a(),r(15,"input",17,1),w("ngModelChange",function(m){return u(s),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),C(17,yw,1,0,"i",18)(18,Sw,1,0,"i",19),r(19,"em"),c(20),a(),C(21,Cw,5,3,"mat-error",20),a(),r(22,"div",15)(23,"label",21),c(24),a(),r(25,"textarea",22,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(27,"        "),a(),r(28,"em"),c(29),a(),C(30,vw,5,3,"mat-error",20),a(),C(31,Ew,10,8,"div",23)(32,Mw,5,5,"div",23)(33,bw,5,5,"div",23),r(34,"p"),c(35),g(36,"translate"),a(),r(37,"app-estate-property-autocomplete",24),g(38,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorProperty(m))}),a(),r(39,"p"),c(40),g(41,"translate"),a(),S(42,"hr"),r(43,"div",25)(44,"div",26)(45,"h5",27),c(46),a()(),r(47,"div",28)(48,"div",29)(49,"input",30),w("ngModelChange",function(m){return u(s),T(t.dataModel.includeAllSite,m)||(t.dataModel.includeAllSite=m),f(m)}),a(),S(50,"label",31),a()()(),C(51,Tw,3,3,"p",20)(52,ww,3,3,"P",20)(53,xw,2,5,"app-estate-property-type-usage-autocomplete",32)(54,Aw,2,5,"app-estate-property-type-landuse-autocomplete",32),S(55,"br"),C(56,Pw,2,5,"app-estate-contract-type-autocomplete",32)(57,Rw,2,5,"app-cms-currency-selector",33)(58,kw,2,5,"app-cms-location-autocomplete",32),S(59,"br"),c(60),g(61,"translate"),S(62,"hr"),r(63,"div",34)(64,"div",35)(65,"div",15)(66,"label",36),c(67),a(),r(68,"select",37,3),w("ngModelChange",function(m){return u(s),T(t.dataModel.resultSortColumn,m)||(t.dataModel.resultSortColumn=m),f(m)}),C(70,Dw,2,2,"option",38),a(),r(71,"span"),S(72,"i",39),a(),S(73,"em"),a()(),r(74,"div",40),C(75,Lw,4,3,"div",41),a()(),C(76,Vw,29,30,"div",42)(77,Fw,10,8,"div",43),a(),S(78,"app-estate-property-list",44,4),a()(),C(80,Ow,2,0,"div",45)}if(i&2){let s=R(16),_=R(26);d("Key","estate.billboard.list.edit")("svg","assets/media/svg/icons/General/Notifications1.svg"),o(2),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(8,49,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(5),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",_.value.length," / 500"),o(),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),o(),d("ngIf",t.fieldsInfo.speedView==null?null:t.fieldsInfo.speedView.accessWatchField),o(),d("ngIf",t.fieldsInfo.reloadViewPerMin==null?null:t.fieldsInfo.reloadViewPerMin.accessWatchField),o(2),y(" ",h(36,51,"TITLE.specific_property_list")," "),o(2),d("optionDisabled",!(t.fieldsInfo.linkPropertyIds!=null&&t.fieldsInfo.linkPropertyIds.accessEditField))("optionPlaceholder",h(38,53,"TITLE.Property"))("optionSelectForce",t.dataModel.linkPropertyIds),o(3),y(" ",h(41,55,"MESSAGE.Selecting_specific_property_will_remove_all_search_fields")," "),o(6),y(" ",t.fieldsInfo.includeAllSite==null?null:t.fieldsInfo.includeAllSite.fieldTitle," "),o(3),b("ngModel",t.dataModel.includeAllSite),o(2),d("ngIf",!t.LinkPropertyIdsInUse),o(),d("ngIf",!t.LinkPropertyIdsInUse),o(),d("ngIf",!t.LinkPropertyIdsInUse),o(),d("ngIf",!t.LinkPropertyIdsInUse),o(2),d("ngIf",!t.LinkPropertyIdsInUse),o(),d("ngIf",!t.LinkPropertyIdsInUse),o(),d("ngIf",!t.LinkPropertyIdsInUse),o(2),y(" ",h(61,57,"ACTION.SEARCH"),": "),o(7),M(t.fieldsInfo.resultSortColumn==null?null:t.fieldsInfo.resultSortColumn.fieldTitle),o(),b("ngModel",t.dataModel.resultSortColumn),o(2),d("ngForOf",t.dataFieldInfoModel),o(5),d("ngIf",(t.dataModel==null||t.dataModel.resultSortColumn==null?null:t.dataModel.resultSortColumn.length)>0),o(),d("ngIf",(t.dataModel==null||t.dataModel.urlViewContentQRCodeBase64==null?null:t.dataModel.urlViewContentQRCodeBase64.length)>0&&(t.dataModel==null||t.dataModel.urlViewContent==null?null:t.dataModel.urlViewContent.length)>0),o(),d("ngIf",t.formInfo.submitButtonEnabled),o(),d("optionLinkBillboardId",t.dataModel.id)("optionloadComponent",t.optionloadComponent)("optionsortType",t.dataModel.resultSortType)("optionloadByRoute",!1),o(2),d("ngIf",t.loadResult==="estatePropertyList")}},dependencies:[ce,He,N,ke,Va,Ba,Y,Wt,qt,La,q,we,de,De,Pe,uc,mc,me,Re,_i,xe,Q,fi,Wi,Jt,Zl,U,jo,ge,Gt,Ul,ql,Ti,la,zl,B,sa],encapsulation:2});var Gc=Jl;var Nw=()=>["expandedTitle"],Hw=()=>["expandedDetail"],Ww=()=>[5,10,20,100],U0=n=>({display:n});function Gw(n,l){if(n&1){let e=E();r(0,"div",20)(1,"a",54),I("click",function(t){u(e);let s=p();return f(s.onActionButtonNewRow(t))}),S(2,"i",55)(3,"br"),a(),r(4,"p",22),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.ADD")," "))}function Uw(n,l){if(n&1){let e=E();r(0,"a",56),I("click",function(t){u(e);let s=p();return f(s.onActionButtonEditRow(s.tableRowSelected,t))}),S(1,"i",57)(2,"br"),a()}}function jw(n,l){if(n&1){let e=E();r(0,"a",58),I("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(1,"i",59)(2,"br"),a()}}function qw(n,l){if(n&1){let e=E();r(0,"div",20)(1,"a",60),I("click",function(t){u(e);let s=p();return f(s.onActionButtonCopyNewRow(s.tableRowSelected,t))}),S(2,"i",61)(3,"br"),a(),r(4,"p",22),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.COPY")," "))}function Qw(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.MENU")," "))}function zw(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"button",62),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelectActionMenu(t))}),S(2,"i",63),a()()}}function Yw(n,l){n&1&&(r(0,"mat-header-cell",64),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.PICTURE")," "))}function Kw(n,l){if(n&1&&(S(0,"img",66),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function Zw(n,l){if(n&1&&(r(0,"mat-cell"),C(1,Kw,2,4,"img",65),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function Jw(n,l){if(n&1&&(r(0,"mat-header-cell",64),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Xw(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function $w(n,l){if(n&1&&(r(0,"mat-header-cell",64),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function ex(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"cmssiteinfo"),g(3,"async"),a()),n&2){let e=l.$implicit;o(),y(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function tx(n,l){if(n&1&&(r(0,"mat-header-cell",64),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function ix(n,l){if(n&1&&S(0,"select",69),n&2){let e=p().$implicit,i=p();d("contentService",i.contentService)("row",e)("ngStyle",ze(3,U0,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function nx(n,l){if(n&1&&(r(0,"mat-cell",67),g(1,"statusCellClass"),S(2,"i",67),g(3,"statusIconClass"),C(4,ix,1,5,"select",68),a()),n&2){let e=l.$implicit,i=p();d("ngClass",h(1,3,e.recordStatus)),o(2),d("ngClass",h(3,5,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function ox(n,l){if(n&1&&(r(0,"mat-header-cell",64),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function rx(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function ax(n,l){if(n&1&&(r(0,"mat-header-cell",64),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.speedView==null?null:e.fieldsInfo.speedView.fieldTitle," ")}}function lx(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.speedView)}}function sx(n,l){if(n&1&&(r(0,"mat-header-cell",64),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.reloadViewPerMin==null?null:e.fieldsInfo.reloadViewPerMin.fieldTitle," ")}}function dx(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.reloadViewPerMin)}}function cx(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.OPTION")," "))}function px(n,l){if(n&1&&(r(0,"mat-cell",70)(1,"button",71)(2,"mat-icon"),c(3,"more_vert"),a()(),S(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),d("matMenuTriggerFor",e)}}function mx(n,l){n&1&&(r(0,"mat-header-cell",64),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.LINKTO")," "))}function ux(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"button",72),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionButtonLinkTo(t))}),r(2,"mat-icon",73),c(3,"\u2197"),a()()()}}function fx(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function _x(n,l){if(n&1&&(S(0,"img",78),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function gx(n,l){if(n&1&&(r(0,"tr"),S(1,"td"),r(2,"td"),c(3),a()()),n&2){let e=p().$implicit,i=p();o(3),ee(" ",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle," : ",e.description," ")}}function hx(n,l){if(n&1&&(r(0,"tr"),S(1,"td"),r(2,"td"),c(3),g(4,"translate"),a()()),n&2){let e=p().$implicit;o(3),ee(" ",h(4,2,"TITLE.Description_Hidden")," : ",e.descriptionHidden," ")}}function yx(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),C(5,_x,2,4,"img",74),a(),r(6,"th")(7,"span",75),I("click",function(){u(e);let t=p();return f(t.onActionCopied())}),S(8,"i",76),a(),c(9),a()(),r(10,"tr"),S(11,"td"),r(12,"td"),c(13),a()(),C(14,gx,4,2,"tr",77)(15,hx,5,4,"tr",77),r(16,"tr"),S(17,"td")(18,"td"),a()()()()}if(n&2){let e=l.$implicit,i=p();o(5),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),o(2),d("cdkCopyToClipboard",e.id),o(2),y(" ",e.id," "),o(4),ee("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : ",e.title),o(),d("ngIf",e.description),o(),d("ngIf",i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.accessWatchField)}}function Sx(n,l){n&1&&S(0,"mat-header-row")}function Cx(n,l){if(n&1){let e=E();r(0,"mat-row",79),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function vx(n,l){if(n&1){let e=E();r(0,"mat-row",80),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Ix(n,l){if(n&1){let e=E();r(0,"mat-row",81),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),d("ngStyle",ze(3,U0,e.expanded===!0?"":"none"))}}var Xl=class Xl extends xt{constructor(e,i,t,s,_,m,k,z,Se,qe,Ue,ft){super(e,new Ar,Ue,s,k);this.contentService=e;this.cmsConfirmationDialogService=i;this.cmsToastrService=t;this.tokenHelper=s;this.router=_;this.cdr=m;this.translate=k;this.themeService=z;this.cmsStoreService=Se;this.pageInfo=qe;this.publicHelper=Ue;this.dialog=ft;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new pe;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","linkSiteId","recordStatus","SpeedView","ReloadViewPerMin","LinkTo","action_menu"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","SpeedView","ReloadViewPerMin","LinkTo","action_menu"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:jt=>this.onSubmitOptionsSearch(jt)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=$.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ar);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=$.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(e){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}e?.ctrlKey?(this.link="/#/estate/billboard/add/",window.open(this.link,"_blank")):this.router.navigate(["/estate/billboard/add"])}onActionButtonEditRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/billboard/edit/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/billboard/edit",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_,!1)}})}}).catch(()=>{})}onActionButtonContentList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/estate/property/LinkBillboardId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkBillboardId/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new H;_.propertyName="recordStatus",_.value=Qe.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonOpenBillboard(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),window.open(this.tableRowSelected.urlViewContent,"_blank")}onActionButtonCopyNewRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/estate/billboard/add-copy/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/billboard/add-copy",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionButtonLinkTo(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(e.recordStatus!=Qe.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.onActionTableRowSelect(e);let i=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_billboards_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.ServiceGetOneById(e.id).subscribe({next:t=>{if(t.isSuccess){var s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(yn,{height:"90%",panelClass:s,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{title:t.item.title,urlViewContentQRCodeBase64:t.item.urlViewContentQRCodeBase64,urlViewContent:t.item.urlViewContent}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(t.errorMessage);this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}};Xl.\u0275fac=function(i){return new(i||Xl)(v(ir),v(wt),v(V),v(Z),v(Ze),v(O),v(L),v(Vt),v(J),v(St),v(F),v(Ae))},Xl.\u0275cmp=D({type:Xl,selectors:[["app-estate-billboard-list"]],standalone:!1,features:[oe],decls:105,vars:51,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta","target","_blank",3,"click",4,"ngIf"],[1,"font-11","text-center","opacity-70"],["class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red","target","_blank",3,"click",4,"ngIf"],[1,"fa-solid","fa-buildings","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-billboard","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","SpeedView"],["matColumnDef","ReloadViewPerMin"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-copy","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["type","button","mat-icon-button","",3,"click"],[2,"color","#ff671f"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=E();r(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),I("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(1,4),c(2," -------------------------------------- "),P(),$e(3,5)(4,6),A(5,7),r(6,"a",8),I("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(7,"i",9),a(),r(8,"a",8),I("click",function(){return u(s),f(t.onActionButtonReload())}),S(9,"i",10),a(),r(10,"a",11),I("click",function(){return u(s),f(t.onActionGridExpandRows(!0))}),S(11,"i",12),a(),r(12,"a",11),I("click",function(){return u(s),f(t.onActionGridExpandRows(!1))}),S(13,"i",13),a(),P(),A(14,14),r(15,"a",15),I("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(16,"mat-slide-toggle",16),c(17),g(18,"translate"),a(),r(19,"a",15),I("click",function(){return u(s),f(t.onActionButtonStatist())}),S(20,"mat-slide-toggle",16),c(21),g(22,"translate"),a(),P(),A(23,17),C(24,Gw,7,3,"div",18),P(),A(25,19),r(26,"div",20),C(27,Uw,3,0,"a",21),r(28,"p",22),c(29),g(30,"translate"),a()(),r(31,"div",20),C(32,jw,3,0,"a",23),r(33,"p",22),c(34),g(35,"translate"),a()(),r(36,"div",20)(37,"a",11),I("click",function(m){return u(s),f(t.onActionButtonContentList(t.tableRowSelected,m))}),S(38,"i",24)(39,"br"),a(),r(40,"p",22),c(41),g(42,"translate"),a()(),r(43,"div",20)(44,"a",11),I("click",function(){return u(s),f(t.onActionButtonOpenBillboard(t.tableRowSelected))}),S(45,"i",25)(46,"br"),a(),r(47,"p",22),c(48),g(49,"translate"),a()(),C(50,qw,7,3,"div",18),r(51,"div",20)(52,"a",8),I("click",function(){return u(s),f(t.onActionButtonLinkTo(t.tableRowSelected))}),S(53,"i",26)(54,"br"),a(),r(55,"p",22),c(56),g(57,"translate"),a()(),P(),A(58,27),r(59,"app-cms-search-list",28),w("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),a(),r(60,"app-cms-statist-list",28),w("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),P(),A(61,29),r(62,"mat-table",30,0),I("matSortChange",function(){u(s);let m=R(63);return f(t.onTableSortData(m))}),A(64,31),C(65,Qw,3,3,"mat-header-cell",32)(66,zw,3,0,"mat-cell",33),P(),A(67,34),C(68,Yw,3,3,"mat-header-cell",35)(69,Zw,2,1,"mat-cell",33),P(),A(70,36),C(71,Jw,2,1,"mat-header-cell",35)(72,Xw,2,1,"mat-cell",33),P(),A(73,37),C(74,$w,2,1,"mat-header-cell",35)(75,ex,4,5,"mat-cell",33),P(),A(76,38),C(77,tx,2,1,"mat-header-cell",35)(78,nx,5,7,"mat-cell",39),P(),A(79,40),C(80,ox,2,1,"mat-header-cell",35)(81,rx,2,1,"mat-cell",33),P(),A(82,41),C(83,ax,2,1,"mat-header-cell",35)(84,lx,2,1,"mat-cell",33),P(),A(85,42),C(86,sx,2,1,"mat-header-cell",35)(87,dx,2,1,"mat-cell",33),P(),A(88,43),C(89,cx,3,3,"mat-header-cell",32)(90,px,6,1,"mat-cell",44),P(),A(91,45),C(92,mx,3,3,"mat-header-cell",35)(93,ux,4,0,"mat-cell",33),P(),A(94,46),C(95,fx,2,1,"mat-cell",33),P(),A(96,47),C(97,yx,19,7,"mat-cell",33),P(),C(98,Sx,1,0,"mat-header-row",48)(99,Cx,1,2,"mat-row",49)(100,vx,1,2,"mat-row",50)(101,Ix,1,5,"mat-row",51),a(),P(),A(102,52),r(103,"mat-paginator",53,1),I("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),P(),a()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","estate.billboard.list"),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(9),K("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),d("checked",t.optionsSearch.data.show),o(),y("",h(18,34,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",h(22,36,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(2),y(" ",h(30,38,"ACTION.EDIT")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(2),y(" ",h(35,40,"ACTION.DELETE")," "),o(7),y(" ",h(42,42,"ACTION.SHOWPROPERTIES")," "),o(7),y(" ",h(49,44,"ACTION.BILLBOARDDISPLAY")," "),o(2),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow)&&(t.tableRowSelected==null?null:t.tableRowSelected.id)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),o(6),y(" ",h(57,46,"TITLE.LINKTO")," "),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(36),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",se(48,Nw)),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(),d("matRowDefColumns",se(49,Hw)),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(50,Ww)))},dependencies:[ce,N,it,Je,Ee,Q,Dt,Lt,Mt,yt,bt,Tt,nt,rt,dt,at,ot,ct,lt,st,pt,mt,fi,At,Pt,Rt,kt,Hi,We,B,sn,Me,Zt,qn],encapsulation:2});var Uc=Xl;var Ex=["vform"],Mx=()=>["fa"];function bx(n,l){if(n&1&&(S(0,"img",30),g(1,"cmsthumbnail")),n&2){let e=p();d("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function Tx(n,l){n&1&&S(0,"i",31)}function wx(n,l){n&1&&S(0,"i",32)}function xx(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function Ax(n,l){if(n&1){let e=E();r(0,"div",16)(1,"label",33),c(2),a(),r(3,"input",34,4),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),I("iconPickerSelect",function(t){u(e);let s=p();return f(s.onIconPickerSelect(t))}),a(),r(5,"span",35),S(6,"i",36),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",se(9,Mx))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),o(3),d("ngClass",e.dataModel.iconFont)}}function Px(n,l){if(n&1){let e=E();r(0,"div",37)(1,"label",38),c(2),a(),r(3,"div",39)(4,"div",40)(5,"input",41,5),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),a()(),r(7,"div",42),S(8,"ngx-mat-color-toggle",43)(9,"ngx-mat-color-picker",44,6),a()()()}if(n&2){let e=R(10),i=p();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ve("background",i.dataModel.iconColor),d("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),d("for",e),o(),d("touchUi",!0)("color","primary")}}function Rx(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function kx(n,l){if(n&1){let e=E();r(0,"div",45)(1,"button",46),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",47),c(3),g(4,"translate"),a(),r(5,"button",48),S(6,"i",49),c(7),g(8,"translate"),a()()}if(n&2){p();let e=R(10);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",h(8,5,"ACTION.SAVE")," ")}}var $l=class $l extends Bt{constructor(e,i,t,s,_,m,k,z){super(s,new Pr,m,z);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateCategoryRackService=s;this.cmsToastrService=_;this.publicHelper=m;this.cdr=k;this.translate=z;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new G;this.dataModel=new Pr;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateCategoryRackService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};$l.\u0275fac=function(i){return new(i||$l)(v(Te),v(be),v(X),v(Hr),v(V),v(F),v(O),v(L))},$l.\u0275cmp=D({type:$l,selectors:[["app-estate-category-rack-add"]],viewQuery:function(i,t){if(i&1&&te(Ex,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:46,vars:47,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",7),S(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",11),r(9,"form",12,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"div",13)(12,"a",14),g(13,"cmsthumbnail"),C(14,bx,2,4,"img",15),a()(),r(15,"div",16)(16,"label",17),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(17),g(18,"translate"),a(),r(19,"input",18,1),g(21,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(22,"cms-file-manager",19),g(23,"translate"),I("itemSelected",function(m){return u(s),f(t.onActionFileSelected(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),a()(),r(24,"div",16)(25,"label",20),c(26),a(),r(27,"input",21,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),C(29,Tx,1,0,"i",22)(30,wx,1,0,"i",23),r(31,"em"),c(32),a(),C(33,xx,5,3,"mat-error",24),a(),C(34,Ax,7,10,"div",25)(35,Px,11,11,"div",26),r(36,"div",16)(37,"label",27),c(38),a(),r(39,"textarea",28,3),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(41,"        "),a(),r(42,"em"),c(43),a(),C(44,Rx,5,3,"mat-error",24),a(),C(45,kx,9,7,"div",29),a()()()}if(i&2){let s=R(28),_=R(40);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,37,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(4),d("href",x(h(13,39,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(h(18,41,"TITLE.PICTURE")),o(2),d("placeholder",x(h(21,43,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0)("openSelectFileDescription",h(23,45,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(4),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.accessWatchField),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",_.value.length," / 500"),o(),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[ce,N,ke,Y,q,we,de,De,Pe,me,Re,xe,tt,Q,U,ge,si,li,ai,ri,_t,B,Me],encapsulation:2});var jc=$l;var Dx=["vform"],Lx=()=>["fa"];function Vx(n,l){if(n&1&&(S(0,"img",30),g(1,"cmsthumbnail")),n&2){let e=p();d("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function Bx(n,l){n&1&&S(0,"i",31)}function Fx(n,l){n&1&&S(0,"i",32)}function Ox(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),M(h(4,2,"MESSAGE.required"))}}function Nx(n,l){if(n&1){let e=E();r(0,"div",16)(1,"label",33),c(2),a(),r(3,"input",34,4),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),I("iconPickerSelect",function(t){u(e);let s=p();return f(s.onIconPickerSelect(t))}),a(),r(5,"span",35),S(6,"i",36),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",se(9,Lx))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessEditField)),o(3),d("ngClass",e.dataModel.iconFont)}}function Hx(n,l){if(n&1){let e=E();r(0,"div",37)(1,"label",38),c(2),a(),r(3,"div",39)(4,"div",40)(5,"input",41,5),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),a()(),r(7,"div",42),S(8,"ngx-mat-color-toggle",43)(9,"ngx-mat-color-picker",44,6),a()()()}if(n&2){let e=R(10),i=p();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ve("background",i.dataModel.iconColor),d("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),o(3),d("for",e),o(),d("touchUi",!0)("color","primary")}}function Wx(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function Gx(n,l){if(n&1){let e=E();r(0,"div",45)(1,"button",46),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",47),c(3),g(4,"translate"),a(),r(5,"button",48),S(6,"i",49),c(7),g(8,"translate"),a()()}if(n&2){p();let e=R(10);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",h(8,5,"ACTION.SAVE")," ")}}var es=class es extends Ut{constructor(e,i,t,s,_,m,k,z,Se){super(s,new Pr,k,Se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateCategoryRackService=s;this.estatePropertyTypeService=_;this.cmsToastrService=m;this.publicHelper=k;this.cdr=z;this.translate=Se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ht;this.dataModel=new Pr;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.dataEstatePropertyTypeUsageIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateCategoryRackService.setAccessLoad(),this.estateCategoryRackService.setAccessDataType(Ne.Editor),this.estateCategoryRackService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new pe,t=new H;t.propertyName="LinkCategoryRackId",t.value=this.requestId,i.filters.push(t),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:s=>{this.dataEstatePropertyTypeModel=s.listItems;let _=[];this.dataEstatePropertyTypeModel.forEach(m=>{_.push(m.linkPropertyTypeUsageId)}),this.dataEstatePropertyTypeUsageIds=_,s.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.submitResultMessage=m}),this.formInfo.submitResultMessage=s.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateCategoryRackService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorUserCategorySelect(e){this.dataEstatePropertyTypeUsageModel=e}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};es.\u0275fac=function(i){return new(i||es)(v(Te),v(be),v(X),v(Hr),v(_n),v(V),v(F),v(O),v(L))},es.\u0275cmp=D({type:es,selectors:[["app-estate-category-rack-edit"]],viewQuery:function(i,t){if(i&1&&te(Dx,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:46,vars:47,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",7),S(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",11),r(9,"form",12,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"div",13)(12,"a",14),g(13,"cmsthumbnail"),C(14,Vx,2,4,"img",15),a()(),r(15,"div",16)(16,"label",17),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(17),g(18,"translate"),a(),r(19,"input",18,1),g(21,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(22,"cms-file-manager",19),g(23,"translate"),I("itemSelected",function(m){return u(s),f(t.onActionFileSelected(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),a()(),r(24,"div",16)(25,"label",20),c(26),a(),r(27,"input",21,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),C(29,Bx,1,0,"i",22)(30,Fx,1,0,"i",23),r(31,"em"),c(32),a(),C(33,Ox,5,4,"mat-error",24),a(),C(34,Nx,7,10,"div",25)(35,Hx,11,11,"div",26),r(36,"div",16)(37,"label",27),c(38),a(),r(39,"textarea",28,3),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(41,"        "),a(),r(42,"em"),c(43),a(),C(44,Wx,5,3,"mat-error",24),a(),C(45,Gx,9,7,"div",29),a()()()}if(i&2){let s=R(28),_=R(40);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,37,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(4),d("href",x(h(13,39,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(h(18,41,"TITLE.PICTURE")),o(2),d("placeholder",x(h(21,43,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0)("openSelectFileDescription",h(23,45,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(4),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.accessWatchField),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",_.value.length," / 500"),o(),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[ce,N,ke,Y,q,we,de,De,Pe,me,Re,xe,tt,Q,U,ge,si,li,ai,ri,_t,B,Me],encapsulation:2});var qc=es;var Ux=()=>[5,10,20,100],jx=n=>({background:n});function qx(n,l){if(n&1){let e=E();r(0,"div",17)(1,"a",40),I("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),S(2,"i",41)(3,"br"),a(),r(4,"p",20),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.ADD")," "))}function Qx(n,l){if(n&1){let e=E();r(0,"div",17)(1,"a",42),I("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",43)(3,"br"),a(),r(4,"p",20),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.EDIT")," "))}function zx(n,l){if(n&1){let e=E();r(0,"div",17)(1,"a",44),I("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",45)(3,"br"),a(),r(4,"p",20),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.DELETE")," "))}function Yx(n,l){n&1&&(r(0,"mat-header-cell",46),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.PICTURE")," "))}function Kx(n,l){if(n&1&&(S(0,"img",48),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function Zx(n,l){if(n&1&&(r(0,"mat-cell"),C(1,Kx,2,4,"img",47),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function Jx(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle," ")}}function Xx(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",49),a()),n&2){let e=l.$implicit;o(),ve("color",e.iconColor),d("ngClass",e.iconFont)}}function $x(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function e3(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",49),a()),n&2){let e=l.$implicit;o(),ve("color",e.iconColor),d("ngClass",e.iconFont)}}function t3(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function i3(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function n3(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function o3(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.description," ")}}function r3(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.OPTION")," "))}function a3(n,l){if(n&1&&(r(0,"mat-cell",50)(1,"button",51)(2,"mat-icon"),c(3,"more_vert"),a()(),S(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),d("matMenuTriggerFor",e)}}function l3(n,l){n&1&&S(0,"mat-header-row")}function s3(n,l){if(n&1){let e=E();r(0,"mat-row",52),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))}),a()}if(n&2){let e=l.$implicit,i=p();d("ngStyle",ze(1,jx,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"#d3d3da":""))}}var ts=class ts extends xt{constructor(e,i,t,s,_,m,k,z,Se,qe,Ue,ft){super(e,new Pr,Ue,_,k);this.contentService=e;this.cmsConfirmationDialogService=i;this.cmsToastrService=t;this.router=s;this.tokenHelper=_;this.cdr=m;this.translate=k;this.themeService=z;this.cmsStoreService=Se;this.pageInfo=qe;this.publicHelper=Ue;this.dialog=ft;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new pe;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","IconFont","Description"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","IconFont","Description"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:jt=>this.onSubmitOptionsSearch(jt)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=$.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Pr);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=$.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(jc,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(qc,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_,!1)}})}}).catch(()=>{})}onActionButtonContentDetailList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/estate/property-detail/LinkCategoryRackId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-detail/LinkCategoryRackId/",this.tableRowSelected.id])}onActionButtonContentList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/estate/property/LinkCategoryRackId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkCategoryRackId/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new H;_.propertyName="recordStatus",_.value=Qe.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};ts.\u0275fac=function(i){return new(i||ts)(v(Hr),v(wt),v(V),v(Ze),v(Z),v(O),v(L),v(Vt),v(J),v(St),v(F),v(Ae))},ts.\u0275cmp=D({type:ts,selectors:[["app-estate-category-rack-list"]],standalone:!1,features:[oe],decls:67,vars:36,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-buildings","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","id"],["matColumnDef","title"],["matColumnDef","Description"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ngStyle","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick","ngStyle"]],template:function(i,t){if(i&1){let s=E();r(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),I("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(1,4),c(2," -------------------------------------- "),P(),$e(3,5)(4,6),A(5,7),r(6,"a",8),I("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(7,"i",9),a(),r(8,"a",8),I("click",function(){return u(s),f(t.onActionButtonReload())}),S(9,"i",10),a(),P(),A(10,11),r(11,"a",12),I("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(12,"mat-slide-toggle",13),c(13),g(14,"translate"),a(),r(15,"a",12),I("click",function(){return u(s),f(t.onActionButtonStatist())}),S(16,"mat-slide-toggle",13),c(17),g(18,"translate"),a(),P(),A(19,14),C(20,qx,7,3,"div",15),P(),A(21,16),C(22,Qx,7,3,"div",15)(23,zx,7,3,"div",15),r(24,"div",17)(25,"a",18),I("click",function(m){return u(s),f(t.onActionButtonContentDetailList(t.tableRowSelected,m))}),S(26,"i",19)(27,"br"),a(),r(28,"p",20),c(29),g(30,"translate"),a()(),r(31,"div",17)(32,"a",18),I("click",function(m){return u(s),f(t.onActionButtonContentList(t.tableRowSelected,m))}),S(33,"i",21)(34,"br"),a(),r(35,"p",20),c(36),g(37,"translate"),a()(),P(),A(38,22),r(39,"app-cms-search-list",23),w("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),a(),r(40,"app-cms-statist-list",23),w("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),P(),A(41,24),r(42,"mat-table",25,0),I("matSortChange",function(){u(s);let m=R(43);return f(t.onTableSortData(m))}),A(44,26),C(45,Yx,3,3,"mat-header-cell",27)(46,Zx,2,1,"mat-cell",28),P(),A(47,29),C(48,Jx,2,1,"mat-header-cell",27)(49,Xx,2,3,"mat-cell",28),P(),A(50,30),C(51,$x,2,1,"mat-header-cell",27)(52,e3,2,3,"mat-cell",28),P(),A(53,31),C(54,t3,2,1,"mat-header-cell",27)(55,i3,2,1,"mat-cell",28),P(),A(56,32),C(57,n3,2,1,"mat-header-cell",27)(58,o3,2,1,"mat-cell",28),P(),A(59,33),C(60,r3,3,3,"mat-header-cell",34)(61,a3,6,1,"mat-cell",35),P(),C(62,l3,1,0,"mat-header-row",36)(63,s3,1,3,"mat-row",37),a(),P(),A(64,38),r(65,"mat-paginator",39,1),I("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),P(),a()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),K("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),d("checked",t.optionsSearch.data.show),o(),y("",h(14,27,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",h(18,29,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),y(" ",h(30,31,"ACTION.DETAIL")," "),o(7),y(" ",h(37,33,"ACTION.PROPERTYLIST")," "),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(20),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(35,Ux)))},dependencies:[ce,N,it,Je,Ee,Dt,Lt,Mt,yt,bt,Tt,nt,rt,dt,at,ot,ct,lt,st,pt,mt,At,Pt,Rt,kt,B,Me],encapsulation:2});var Qc=ts;var d3=["vform"],c3=()=>["fa"];function p3(n,l){if(n&1&&(S(0,"img",31),g(1,"cmsthumbnail")),n&2){let e=p();d("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function m3(n,l){n&1&&S(0,"i",32)}function u3(n,l){n&1&&S(0,"i",33)}function f3(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function _3(n,l){if(n&1){let e=E();r(0,"div",16)(1,"label",34),c(2),a(),r(3,"input",35,4),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),I("iconPickerSelect",function(t){u(e);let s=p();return f(s.onIconPickerSelect(t))}),a(),r(5,"span",36),S(6,"i",37),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",se(9,c3))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),o(3),d("ngClass",e.dataModel.iconFont)}}function g3(n,l){if(n&1){let e=E();r(0,"div",38)(1,"label",39),c(2),a(),r(3,"div",40)(4,"div",41)(5,"input",42,5),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),a()(),r(7,"div",43),S(8,"ngx-mat-color-toggle",44)(9,"ngx-mat-color-picker",45,6),a()()()}if(n&2){let e=R(10),i=p();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ve("background",i.dataModel.iconColor),d("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),d("for",e),o(),d("touchUi",!0)("color","primary")}}function h3(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function y3(n,l){if(n&1){let e=E();r(0,"div",46)(1,"button",47),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",48),c(3),g(4,"translate"),a(),r(5,"button",49),S(6,"i",50),c(7),g(8,"translate"),a()()}if(n&2){p();let e=R(10);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",h(8,5,"ACTION.SAVE")," ")}}var is=class is extends Bt{constructor(e,i,t,s,_,m,k,z){super(s,new Rr,m,z);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateCategoryZoneService=s;this.cmsToastrService=_;this.publicHelper=m;this.cdr=k;this.translate=z;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new G;this.dataModel=new Rr;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)});this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.estateCategoryZoneService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorLocation(e){this.dataModel.linkLocationIds=e}};is.\u0275fac=function(i){return new(i||is)(v(Te),v(be),v(X),v(Wr),v(V),v(F),v(O),v(L))},is.\u0275cmp=D({type:is,selectors:[["app-estate-category-zone-add"]],viewQuery:function(i,t){if(i&1&&te(d3,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:51,vars:58,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder","optionLabel"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",7),S(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",11),r(9,"form",12,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"div",13)(12,"a",14),g(13,"cmsthumbnail"),C(14,p3,2,4,"img",15),a()(),r(15,"div",16)(16,"label",17),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(17),g(18,"translate"),a(),r(19,"input",18,1),g(21,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(22,"cms-file-manager",19),g(23,"translate"),I("itemSelected",function(m){return u(s),f(t.onActionFileSelected(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),a()(),r(24,"div",16)(25,"label",20),c(26),a(),r(27,"input",21,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),C(29,m3,1,0,"i",22)(30,u3,1,0,"i",23),r(31,"em"),c(32),a(),C(33,f3,5,3,"mat-error",24),a(),C(34,_3,7,10,"div",25)(35,g3,11,11,"div",26),c(36),g(37,"translate"),r(38,"app-cms-location-autocomplete",27),g(39,"translate"),g(40,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorLocation(m))}),a(),r(41,"div",16)(42,"label",28),c(43),a(),r(44,"textarea",29,3),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(46,"        "),a(),r(47,"em"),c(48),a(),C(49,h3,5,3,"mat-error",24),a(),C(50,y3,9,7,"div",30),a()()()}if(i&2){let s=R(28),_=R(45);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,42,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(4),d("href",x(h(13,44,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(h(18,46,"TITLE.PICTURE")),o(2),d("placeholder",x(h(21,48,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0)("openSelectFileDescription",h(23,50,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(4),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.accessWatchField),o(),y(" ",h(37,52,"TITLE.Geographical_Areas")," : "),o(2),d("optionDisabled",!(t.fieldsInfo.linkLocationIds!=null&&t.fieldsInfo.linkLocationIds.accessAddField))("optionSelectForce",t.dataModel.linkLocationIds)("optionPlaceholder",h(39,54,"TITLE.Region"))("optionLabel",h(40,56,"TITLE.Geographical_Areas")),o(5),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",_.value.length," / 500"),o(),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[ce,N,ke,Y,q,we,de,De,Pe,me,Re,xe,tt,Q,Jt,U,ge,si,li,ai,ri,_t,B,Me],encapsulation:2});var zc=is;var S3=["vform"],C3=()=>["fa"];function v3(n,l){if(n&1&&(S(0,"img",31),g(1,"cmsthumbnail")),n&2){let e=p();d("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function I3(n,l){n&1&&S(0,"i",32)}function E3(n,l){n&1&&S(0,"i",33)}function M3(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),M(h(4,2,"MESSAGE.required"))}}function b3(n,l){if(n&1){let e=E();r(0,"div",16)(1,"label",34),c(2),a(),r(3,"input",35,4),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),I("iconPickerSelect",function(t){u(e);let s=p();return f(s.onIconPickerSelect(t))}),a(),r(5,"span",36),S(6,"i",37),a()()}if(n&2){let e=p();o(2),y(" ",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",se(9,C3))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessEditField)),o(3),d("ngClass",e.dataModel.iconFont)}}function T3(n,l){if(n&1){let e=E();r(0,"div",38)(1,"label",39),c(2),a(),r(3,"div",40)(4,"div",41)(5,"input",42,5),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),a()(),r(7,"div",43),S(8,"ngx-mat-color-toggle",44)(9,"ngx-mat-color-picker",45,6),a()()()}if(n&2){let e=R(10),i=p();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ve("background",i.dataModel.iconColor),d("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),o(3),d("for",e),o(),d("touchUi",!0)("color","primary")}}function w3(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function x3(n,l){if(n&1){let e=E();r(0,"div",46)(1,"button",47),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",48),c(3),g(4,"translate"),a(),r(5,"button",49),S(6,"i",50),c(7),g(8,"translate"),a()()}if(n&2){p();let e=R(10);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",h(8,5,"ACTION.SAVE")," ")}}var ns=class ns extends Ut{constructor(e,i,t,s,_,m,k,z,Se){super(s,new Rr,k,Se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateCategoryZoneService=s;this.estatePropertyTypeService=_;this.cmsToastrService=m;this.publicHelper=k;this.cdr=z;this.translate=Se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ht;this.dataModel=new Rr;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.dataEstatePropertyTypeUsageIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateCategoryZoneService.setAccessLoad(),this.estateCategoryZoneService.setAccessDataType(Ne.Editor),this.estateCategoryZoneService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new pe,t=new H;t.propertyName="LinkCategoryZoneId",t.value=this.requestId,i.filters.push(t),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:s=>{this.dataEstatePropertyTypeModel=s.listItems;let _=[];this.dataEstatePropertyTypeModel.forEach(m=>{_.push(m.linkPropertyTypeUsageId)}),this.dataEstatePropertyTypeUsageIds=_,s.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.submitResultMessage=m}),this.formInfo.submitResultMessage=s.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateCategoryZoneService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorUserCategorySelect(e){this.dataEstatePropertyTypeUsageModel=e}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorLocation(e){this.dataModel.linkLocationIds=e}};ns.\u0275fac=function(i){return new(i||ns)(v(Te),v(be),v(X),v(Wr),v(_n),v(V),v(F),v(O),v(L))},ns.\u0275cmp=D({type:ns,selectors:[["app-estate-category-zone-edit"]],viewQuery:function(i,t){if(i&1&&te(S3,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:51,vars:58,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder","optionLabel"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",7),S(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",11),r(9,"form",12,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"div",13)(12,"a",14),g(13,"cmsthumbnail"),C(14,v3,2,4,"img",15),a()(),r(15,"div",16)(16,"label",17),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(17),g(18,"translate"),a(),r(19,"input",18,1),g(21,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(22,"cms-file-manager",19),g(23,"translate"),I("itemSelected",function(m){return u(s),f(t.onActionFileSelected(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),a()(),r(24,"div",16)(25,"label",20),c(26),a(),r(27,"input",21,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),C(29,I3,1,0,"i",22)(30,E3,1,0,"i",23),r(31,"em"),c(32),a(),C(33,M3,5,4,"mat-error",24),a(),C(34,b3,7,10,"div",25)(35,T3,11,11,"div",26),c(36),g(37,"translate"),r(38,"app-cms-location-autocomplete",27),g(39,"translate"),g(40,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorLocation(m))}),a(),r(41,"div",16)(42,"label",28),c(43),a(),r(44,"textarea",29,3),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(46,"        "),a(),r(47,"em"),c(48),a(),C(49,w3,5,3,"mat-error",24),a(),C(50,x3,9,7,"div",30),a()()()}if(i&2){let s=R(28),_=R(45);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,42,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(4),d("href",x(h(13,44,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(h(18,46,"TITLE.PICTURE")),o(2),d("placeholder",x(h(21,48,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0)("openSelectFileDescription",h(23,50,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(4),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.accessWatchField),o(),y(" ",h(37,52,"TITLE.Geographical_Areas")," : "),o(2),d("optionDisabled",!(t.fieldsInfo.linkLocationIds!=null&&t.fieldsInfo.linkLocationIds.accessEditField))("optionSelectForce",t.dataModel.linkLocationIds)("optionPlaceholder",h(39,54,"TITLE.Region"))("optionLabel",h(40,56,"TITLE.Geographical_Areas")),o(5),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",_.value.length," / 500"),o(),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[ce,N,ke,Y,q,we,de,De,Pe,me,Re,xe,tt,Q,Jt,U,ge,si,li,ai,ri,_t,B,Me],encapsulation:2});var Yc=ns;var A3=()=>[5,10,20,100];function P3(n,l){if(n&1){let e=E();r(0,"div",17)(1,"a",40),I("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),S(2,"i",41)(3,"br"),a(),r(4,"p",20),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.ADD")," "))}function R3(n,l){if(n&1){let e=E();r(0,"div",17)(1,"a",42),I("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",43)(3,"br"),a(),r(4,"p",20),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.EDIT")," "))}function k3(n,l){if(n&1){let e=E();r(0,"div",17)(1,"a",44),I("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",45)(3,"br"),a(),r(4,"p",20),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.DELETE")," "))}function D3(n,l){n&1&&(r(0,"mat-header-cell",46),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.PICTURE")," "))}function L3(n,l){if(n&1&&(S(0,"img",48),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function V3(n,l){if(n&1&&(r(0,"mat-cell"),C(1,L3,2,4,"img",47),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function B3(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle," ")}}function F3(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",49),a()),n&2){let e=l.$implicit;o(),ve("color",e.iconColor),d("ngClass",e.iconFont)}}function O3(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function N3(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",49),a()),n&2){let e=l.$implicit;o(),ve("color",e.iconColor),d("ngClass",e.iconFont)}}function H3(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function W3(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function G3(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function U3(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.description," ")}}function j3(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.OPTION")," "))}function q3(n,l){if(n&1&&(r(0,"mat-cell",50)(1,"button",51)(2,"mat-icon"),c(3,"more_vert"),a()(),S(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),d("matMenuTriggerFor",e)}}function Q3(n,l){n&1&&S(0,"mat-header-row")}function z3(n,l){if(n&1){let e=E();r(0,"mat-row",52),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var os=class os extends xt{constructor(e,i,t,s,_,m,k,z,Se,qe,Ue,ft){super(e,new Rr,Ue,_,k);this.contentService=e;this.cmsConfirmationDialogService=i;this.cmsToastrService=t;this.router=s;this.tokenHelper=_;this.cdr=m;this.translate=k;this.themeService=z;this.cmsStoreService=Se;this.pageInfo=qe;this.publicHelper=Ue;this.dialog=ft;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new pe;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","IconFont","Description"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","IconFont","Description"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:jt=>this.onSubmitOptionsSearch(jt)},this.filteModelContent.sortColumn="title",this.filteModelContent.sortType=$.Ascending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Rr);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=$.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-wide",this.dialog.open(zc,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Yc,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_,!1)}})}}).catch(()=>{})}onActionButtonContentDetailList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/estate/property-detail/LinkCategoryZoneId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-detail/LinkCategoryZoneId/",this.tableRowSelected.id])}onActionButtonContentList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/estate/property/LinkCategoryZoneId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkCategoryZoneId/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new H;_.propertyName="recordStatus",_.value=Qe.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};os.\u0275fac=function(i){return new(i||os)(v(Wr),v(wt),v(V),v(Ze),v(Z),v(O),v(L),v(Vt),v(J),v(St),v(F),v(Ae))},os.\u0275cmp=D({type:os,selectors:[["app-estate-category-zone-list"]],standalone:!1,features:[oe],decls:67,vars:36,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-buildings","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","id"],["matColumnDef","title"],["matColumnDef","Description"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=E();r(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),I("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(1,4),c(2," -------------------------------------- "),P(),$e(3,5)(4,6),A(5,7),r(6,"a",8),I("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(7,"i",9),a(),r(8,"a",8),I("click",function(){return u(s),f(t.onActionButtonReload())}),S(9,"i",10),a(),P(),A(10,11),r(11,"a",12),I("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(12,"mat-slide-toggle",13),c(13),g(14,"translate"),a(),r(15,"a",12),I("click",function(){return u(s),f(t.onActionButtonStatist())}),S(16,"mat-slide-toggle",13),c(17),g(18,"translate"),a(),P(),A(19,14),C(20,P3,7,3,"div",15),P(),A(21,16),C(22,R3,7,3,"div",15)(23,k3,7,3,"div",15),r(24,"div",17)(25,"a",18),I("click",function(m){return u(s),f(t.onActionButtonContentDetailList(t.tableRowSelected,m))}),S(26,"i",19)(27,"br"),a(),r(28,"p",20),c(29),g(30,"translate"),a()(),r(31,"div",17)(32,"a",18),I("click",function(m){return u(s),f(t.onActionButtonContentList(t.tableRowSelected,m))}),S(33,"i",21)(34,"br"),a(),r(35,"p",20),c(36),g(37,"translate"),a()(),P(),A(38,22),r(39,"app-cms-search-list",23),w("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),a(),r(40,"app-cms-statist-list",23),w("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),P(),A(41,24),r(42,"mat-table",25,0),I("matSortChange",function(){u(s);let m=R(43);return f(t.onTableSortData(m))}),A(44,26),C(45,D3,3,3,"mat-header-cell",27)(46,V3,2,1,"mat-cell",28),P(),A(47,29),C(48,B3,2,1,"mat-header-cell",27)(49,F3,2,3,"mat-cell",28),P(),A(50,30),C(51,O3,2,1,"mat-header-cell",27)(52,N3,2,3,"mat-cell",28),P(),A(53,31),C(54,H3,2,1,"mat-header-cell",27)(55,W3,2,1,"mat-cell",28),P(),A(56,32),C(57,G3,2,1,"mat-header-cell",27)(58,U3,2,1,"mat-cell",28),P(),A(59,33),C(60,j3,3,3,"mat-header-cell",34)(61,q3,6,1,"mat-cell",35),P(),C(62,Q3,1,0,"mat-header-row",36)(63,z3,1,2,"mat-row",37),a(),P(),A(64,38),r(65,"mat-paginator",39,1),I("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),P(),a()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),K("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),d("checked",t.optionsSearch.data.show),o(),y("",h(14,27,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",h(18,29,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),y(" ",h(30,31,"ACTION.DETAIL")," "),o(7),y(" ",h(37,33,"ACTION.PROPERTYLIST")," "),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(20),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(35,A3)))},dependencies:[ce,N,Je,Ee,Dt,Lt,Mt,yt,bt,Tt,nt,rt,dt,at,ot,ct,lt,st,pt,mt,At,Pt,Rt,kt,B,Me],encapsulation:2});var Kc=os;var Y3=["vform"],K3=n=>({direction:n});function Z3(n,l){n&1&&S(0,"i",60)}function J3(n,l){n&1&&S(0,"i",61)}function X3(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function $3(n,l){n&1&&S(0,"i",60)}function eA(n,l){n&1&&S(0,"i",61)}function tA(n,l){n&1&&(r(0,"mat-error"),c(1," titleResourceLanguage is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function iA(n,l){n&1&&S(0,"i",60)}function nA(n,l){n&1&&S(0,"i",61)}function oA(n,l){n&1&&(r(0,"mat-error"),c(1," orderTitle is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function rA(n,l){n&1&&S(0,"i",60)}function aA(n,l){n&1&&S(0,"i",61)}function lA(n,l){n&1&&(r(0,"mat-error"),c(1," orderTitleResourceLanguage is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function sA(n,l){n&1&&S(0,"i",60)}function dA(n,l){n&1&&S(0,"i",61)}function cA(n,l){n&1&&(r(0,"mat-error"),c(1," TitleSoldIt is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function pA(n,l){n&1&&S(0,"i",60)}function mA(n,l){n&1&&S(0,"i",61)}function uA(n,l){n&1&&(r(0,"mat-error"),c(1," titleSoldItResourceLanguage is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function fA(n,l){if(n&1){let e=E();r(0,"div",62)(1,"div",63)(2,"h5",64),c(3),a()(),r(4,"div",65)(5,"div",66)(6,"input",67),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.allowPriceInquiryCalculate,t)||(s.dataModel.allowPriceInquiryCalculate=t),f(t)}),a(),S(7,"label",68),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.allowPriceInquiryCalculate==null?null:e.fieldsInfo.allowPriceInquiryCalculate.fieldTitle," "),o(3),b("ngModel",e.dataModel.allowPriceInquiryCalculate)}}function _A(n,l){if(n&1){let e=E();r(0,"div",62)(1,"div",63)(2,"h5",64),c(3),a()(),r(4,"div",65)(5,"div",66)(6,"input",69),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.hasSalePrice,t)||(s.dataModel.hasSalePrice=t),f(t)}),a(),S(7,"label",70),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.hasSalePrice==null?null:e.fieldsInfo.hasSalePrice.fieldTitle," "),o(3),b("ngModel",e.dataModel.hasSalePrice)}}function gA(n,l){if(n&1){let e=E();r(0,"div",62)(1,"div",63)(2,"h5",64),c(3),a()(),r(4,"div",65)(5,"div",66)(6,"input",71),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.hasRentPrice,t)||(s.dataModel.hasRentPrice=t),f(t)}),a(),S(7,"label",72),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.hasRentPrice==null?null:e.fieldsInfo.hasRentPrice.fieldTitle," "),o(3),b("ngModel",e.dataModel.hasRentPrice)}}function hA(n,l){if(n&1){let e=E();r(0,"div",62)(1,"div",63)(2,"h5",64),c(3),a()(),r(4,"div",65)(5,"div",66)(6,"input",73),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.hasDepositPrice,t)||(s.dataModel.hasDepositPrice=t),f(t)}),a(),S(7,"label",74),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.hasDepositPrice==null?null:e.fieldsInfo.hasDepositPrice.fieldTitle," "),o(3),b("ngModel",e.dataModel.hasDepositPrice)}}function yA(n,l){if(n&1){let e=E();r(0,"div",62)(1,"div",63)(2,"h5",64),c(3),a()(),r(4,"div",65)(5,"div",66)(6,"input",75),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.hasPeriodPrice,t)||(s.dataModel.hasPeriodPrice=t),f(t)}),a(),S(7,"label",76),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.hasPeriodPrice==null?null:e.fieldsInfo.hasPeriodPrice.fieldTitle," "),o(3),b("ngModel",e.dataModel.hasPeriodPrice)}}function SA(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function CA(n,l){n&1&&S(0,"hr")}function vA(n,l){if(n&1){let e=E();r(0,"div",62)(1,"div",63)(2,"h5",77),c(3),a()(),r(4,"div",65)(5,"div",66)(6,"input",78),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.salePriceAllowAgreement,t)||(s.dataModel.salePriceAllowAgreement=t),f(t)}),a(),S(7,"label",79),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.salePriceAllowAgreement==null?null:e.fieldsInfo.salePriceAllowAgreement.fieldTitle," "),o(3),b("ngModel",e.dataModel.salePriceAllowAgreement)}}function IA(n,l){if(n&1){let e=E();r(0,"div",23)(1,"label",80),c(2),a(),r(3,"input",81,8),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titleSalePrice,t)||(s.dataModel.titleSalePrice=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.titleSalePrice==null?null:i.fieldsInfo.titleSalePrice.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleSalePrice==null?null:i.fieldsInfo.titleSalePrice.fieldTitle)),b("ngModel",i.dataModel.titleSalePrice),o(3),y("",e.value.length," / 100")}}function EA(n,l){if(n&1){let e=E();r(0,"div",23)(1,"label",82),c(2),a(),r(3,"input",83,9),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titleSalePriceResourceLanguage,t)||(s.dataModel.titleSalePriceResourceLanguage=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.titleSalePriceResourceLanguage==null?null:i.fieldsInfo.titleSalePriceResourceLanguage.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleSalePriceResourceLanguage==null?null:i.fieldsInfo.titleSalePriceResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titleSalePriceResourceLanguage),o(3),y("",e.value.length," / 100")}}function MA(n,l){n&1&&S(0,"hr")}function bA(n,l){if(n&1){let e=E();r(0,"div",62)(1,"div",63)(2,"h5",84),c(3),a()(),r(4,"div",65)(5,"div",66)(6,"input",85),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.rentPriceAllowAgreement,t)||(s.dataModel.rentPriceAllowAgreement=t),f(t)}),a(),S(7,"label",86),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.rentPriceAllowAgreement==null?null:e.fieldsInfo.rentPriceAllowAgreement.fieldTitle," "),o(3),b("ngModel",e.dataModel.rentPriceAllowAgreement)}}function TA(n,l){if(n&1){let e=E();r(0,"div",23)(1,"label",87),c(2),a(),r(3,"input",88,8),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titleRentPrice,t)||(s.dataModel.titleRentPrice=t),f(t)}),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.titleRentPrice==null?null:e.fieldsInfo.titleRentPrice.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.titleRentPrice==null?null:e.fieldsInfo.titleRentPrice.fieldTitle)),b("ngModel",e.dataModel.titleRentPrice)}}function wA(n,l){if(n&1){let e=E();r(0,"div",23)(1,"label",89),c(2),a(),r(3,"input",90,10),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titleRentPriceResourceLanguage,t)||(s.dataModel.titleRentPriceResourceLanguage=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.titleRentPriceResourceLanguage==null?null:i.fieldsInfo.titleRentPriceResourceLanguage.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleRentPrice==null?null:i.fieldsInfo.titleRentPrice.fieldTitle)),b("ngModel",i.dataModel.titleRentPriceResourceLanguage),o(3),y("",e.value.length," / 100")}}function xA(n,l){if(n&1){let e=E();r(0,"div",23)(1,"label",91),c(2),a(),r(3,"input",92,11),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.rentPricePriodTitle,t)||(s.dataModel.rentPricePriodTitle=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.rentPricePriodTitle==null?null:i.fieldsInfo.rentPricePriodTitle.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleRentPrice==null?null:i.fieldsInfo.titleRentPrice.fieldTitle)),b("ngModel",i.dataModel.rentPricePriodTitle),o(3),y("",e.value.length," / 100")}}function AA(n,l){if(n&1){let e=E();r(0,"div",23)(1,"label",93),c(2),a(),r(3,"input",94,12),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.rentPricePriodTitleResourceLanguage,t)||(s.dataModel.rentPricePriodTitleResourceLanguage=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.rentPricePriodTitleResourceLanguage==null?null:i.fieldsInfo.rentPricePriodTitleResourceLanguage.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleRentPrice==null?null:i.fieldsInfo.titleRentPrice.fieldTitle)),b("ngModel",i.dataModel.rentPricePriodTitleResourceLanguage),o(3),y("",e.value.length," / 100")}}function PA(n,l){n&1&&S(0,"hr")}function RA(n,l){if(n&1){let e=E();r(0,"div",62)(1,"div",63)(2,"h5",84),c(3),a()(),r(4,"div",65)(5,"div",66)(6,"input",95),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.depositPriceAllowAgreement,t)||(s.dataModel.depositPriceAllowAgreement=t),f(t)}),a(),S(7,"label",96),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.depositPriceAllowAgreement==null?null:e.fieldsInfo.depositPriceAllowAgreement.fieldTitle," "),o(3),b("ngModel",e.dataModel.depositPriceAllowAgreement)}}function kA(n,l){if(n&1){let e=E();r(0,"div",23)(1,"label",97),c(2),a(),r(3,"input",98,13),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titleDepositPrice,t)||(s.dataModel.titleDepositPrice=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.titleDepositPrice==null?null:i.fieldsInfo.titleDepositPrice.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleDepositPrice==null?null:i.fieldsInfo.titleDepositPrice.fieldTitle)),b("ngModel",i.dataModel.titleDepositPrice),o(3),y("",e.value.length," / 100")}}function DA(n,l){if(n&1){let e=E();r(0,"div",23)(1,"label",99),c(2),a(),r(3,"input",100,14),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titleDepositPriceResourceLanguage,t)||(s.dataModel.titleDepositPriceResourceLanguage=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.titleDepositPriceResourceLanguage==null?null:i.fieldsInfo.titleDepositPriceResourceLanguage.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleDepositPriceResourceLanguage==null?null:i.fieldsInfo.titleDepositPriceResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titleDepositPriceResourceLanguage),o(3),y("",e.value.length," / 100")}}function LA(n,l){n&1&&S(0,"hr")}function VA(n,l){if(n&1){let e=E();r(0,"div",62)(1,"div",63)(2,"h5",84),c(3),a()(),r(4,"div",65)(5,"div",66)(6,"input",101),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.periodPriceAllowAgreement,t)||(s.dataModel.periodPriceAllowAgreement=t),f(t)}),a(),S(7,"label",102),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.periodPriceAllowAgreement==null?null:e.fieldsInfo.periodPriceAllowAgreement.fieldTitle," "),o(3),b("ngModel",e.dataModel.periodPriceAllowAgreement)}}function BA(n,l){if(n&1){let e=E();r(0,"div",23)(1,"label",103),c(2),a(),r(3,"input",104,15),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titlePeriodPrice,t)||(s.dataModel.titlePeriodPrice=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.titlePeriodPrice==null?null:i.fieldsInfo.titlePeriodPrice.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titlePeriodPrice==null?null:i.fieldsInfo.titlePeriodPrice.fieldTitle)),b("ngModel",i.dataModel.titlePeriodPrice),o(3),y("",e.value.length," / 100")}}function FA(n,l){if(n&1){let e=E();r(0,"div",23)(1,"label",105),c(2),a(),r(3,"input",106,16),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titlePeriodPriceResourceLanguage,t)||(s.dataModel.titlePeriodPriceResourceLanguage=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.titlePeriodPriceResourceLanguage==null?null:i.fieldsInfo.titlePeriodPriceResourceLanguage.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titlePeriodPriceResourceLanguage==null?null:i.fieldsInfo.titlePeriodPriceResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titlePeriodPriceResourceLanguage),o(3),y("",e.value.length," / 100")}}function OA(n,l){if(n&1&&(r(0,"button",111),S(1,"i",112),c(2),g(3,"translate"),a()),n&2){p(2);let e=R(10);d("disabled",!e.form.valid),o(2),y(" ",h(3,2,"ACTION.SAVE")," ")}}function NA(n,l){if(n&1){let e=E();r(0,"div",107)(1,"button",108),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",109),c(3),g(4,"translate"),a(),C(5,OA,4,4,"button",110),a()}if(n&2){let e=p();o(3),y(" ",h(4,2,"ACTION.CANCEL")," "),o(2),d("ngIf",e.formInfo.submitButtonEnabled)}}var rs=class rs extends Bt{constructor(e,i,t,s,_,m,k,z,Se,qe){super(s,new Zn,k,qe);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateContractTypeService=s;this.cmsToastrService=_;this.cmsStoreService=m;this.publicHelper=k;this.cdr=z;this.tokenHelper=Se;this.translate=qe;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new It;this.dataModelResult=new G;this.dataModel=new Zn;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateContractTypeService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};rs.\u0275fac=function(i){return new(i||rs)(v(Te),v(be),v(X),v(Ai),v(V),v(J),v(F),v(O),v(Z),v(L))},rs.\u0275cmp=D({type:rs,selectors:[["app-estate-contract-type-add"]],viewQuery:function(i,t){if(i&1&&te(Y3,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:140,vars:116,consts:[["vform","ngForm"],["Title",""],["titleResourceLanguage",""],["orderTitle",""],["orderTitleResourceLanguage",""],["TitleSoldIt",""],["titleSoldItResourceLanguage",""],["Description",""],["TitleSalePrice",""],["titleSalePriceResourceLanguage",""],["titleRentPriceResourceLanguage",""],["rentPricePriodTitle",""],["rentPricePriodTitleResourceLanguage",""],["TitleDepositPrice",""],["titleDepositPriceResourceLanguage",""],["TitlePeriodPrice",""],["titlePeriodPriceResourceLanguage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","cmsKeyboardForce","en","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.orderTitle",1,"color-highlight"],["matInput","","type","text","name","dataModel.orderTitle","minlength","3","maxlength","100","required","","id","dataModel.orderTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.orderTitleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.orderTitleML","id","dataModel.orderTitleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.orderTitleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.orderTitleResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.orderTitleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.titleSoldIt",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSoldIt","minlength","1","maxlength","100","required","","id","dataModel.titleSoldIt",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleSoldItML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSoldItML","id","dataModel.titleSoldItML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleSoldItResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSoldItResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.titleSoldItResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","d-flex mb-3",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.titleSalePriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSalePriceML","id","dataModel.titleSalePriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleRentPriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleRentPriceML","id","dataModel.titleRentPriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.rentPricePriodTitleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.rentPricePriodTitleML","id","dataModel.rentPricePriodTitleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleDepositPriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleDepositPriceML","id","dataModel.titleDepositPriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titlePeriodPriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titlePeriodPriceML","id","dataModel.titlePeriodPriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.hasPeriodPrice",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.allowPriceInquiryCalculate","name","dataModel.allowPriceInquiryCalculate",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.allowPriceInquiryCalculate",1,"custom-control-label"],["type","checkbox","id","dataModel.hasSalePrice","name","dataModel.hasSalePrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasSalePrice",1,"custom-control-label"],["type","checkbox","id","dataModel.hasRentPrice","name","dataModel.hasRentPrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasRentPrice",1,"custom-control-label"],["type","checkbox","id","dataModel.hasDepositPrice","name","dataModel.hasDepositPrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasDepositPrice",1,"custom-control-label"],["type","checkbox","id","dataModel.hasPeriodPrice","name","dataModel.hasPeriodPrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasPeriodPrice",1,"custom-control-label"],["data-trigger-switch","dataModel.salePriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","dataModel.salePriceAllowAgreement","name","dataModel.salePriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.salePriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titleSalePrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSalePrice","minlength","1","maxlength","100","id","dataModel.titleSalePrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleSalePriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSalePriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titleSalePriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["data-trigger-switch","dataModel.rentPriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","dataModel.rentPriceAllowAgreement","name","dataModel.rentPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rentPriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titleRentPrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleRentPrice","minlength","1","maxlength","100","id","dataModel.titleRentPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleRentPriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleRentPriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titleRentPriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.rentPricePriodTitle",1,"color-highlight"],["matInput","","type","text","name","dataModel.rentPricePriodTitle","minlength","1","maxlength","100","id","dataModel.rentPricePriodTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.rentPricePriodTitleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.rentPricePriodTitleResourceLanguage","minlength","1","maxlength","100","id","dataModel.rentPricePriodTitleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","checkbox","id","dataModel.depositPriceAllowAgreement","name","dataModel.depositPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.depositPriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titleDepositPrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleDepositPrice","minlength","1","maxlength","100","id","dataModel.titleDepositPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleDepositPriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleDepositPriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titleDepositPriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","checkbox","id","dataModel.periodPriceAllowAgreement","name","dataModel.periodPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.periodPriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titlePeriodPrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titlePeriodPrice","minlength","1","maxlength","100","id","dataModel.titlePeriodPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titlePeriodPriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titlePeriodPriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titlePeriodPriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",17),S(1,"app-progress-spinner",18),r(2,"div",19)(3,"p",20),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",21),r(9,"form",22,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"div",23)(12,"label",24),c(13),a(),r(14,"input",25,1),w("ngModelChange",function(m){return u(s),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),C(16,Z3,1,0,"i",26)(17,J3,1,0,"i",27),r(18,"em"),c(19),a(),C(20,X3,5,3,"mat-error",28),a(),r(21,"div",23)(22,"label",29),c(23),a(),r(24,"input",30),w("ngModelChange",function(m){return u(s),T(t.dataModel.titleML,m)||(t.dataModel.titleML=m),f(m)}),a()(),r(25,"div",23)(26,"label",31),c(27),a(),r(28,"input",32,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.titleResourceLanguage,m)||(t.dataModel.titleResourceLanguage=m),f(m)}),a(),C(30,$3,1,0,"i",26)(31,eA,1,0,"i",27),r(32,"em"),c(33),a(),C(34,tA,5,3,"mat-error",28),a(),S(35,"hr"),r(36,"div",23)(37,"label",33),c(38),a(),r(39,"input",34,3),w("ngModelChange",function(m){return u(s),T(t.dataModel.orderTitle,m)||(t.dataModel.orderTitle=m),f(m)}),a(),C(41,iA,1,0,"i",26)(42,nA,1,0,"i",27),r(43,"em"),c(44),a(),C(45,oA,5,3,"mat-error",28),a(),r(46,"div",23)(47,"label",35),c(48),a(),r(49,"input",36),w("ngModelChange",function(m){return u(s),T(t.dataModel.orderTitleML,m)||(t.dataModel.orderTitleML=m),f(m)}),a()(),r(50,"div",23)(51,"label",37),c(52),a(),r(53,"input",38,4),w("ngModelChange",function(m){return u(s),T(t.dataModel.orderTitleResourceLanguage,m)||(t.dataModel.orderTitleResourceLanguage=m),f(m)}),a(),C(55,rA,1,0,"i",26)(56,aA,1,0,"i",27),r(57,"em"),c(58),a(),C(59,lA,5,3,"mat-error",28),a(),r(60,"div",23)(61,"label",39),c(62),a(),r(63,"input",40,5),w("ngModelChange",function(m){return u(s),T(t.dataModel.titleSoldIt,m)||(t.dataModel.titleSoldIt=m),f(m)}),a(),C(65,sA,1,0,"i",26)(66,dA,1,0,"i",27),r(67,"em"),c(68),a(),C(69,cA,5,3,"mat-error",28),a(),r(70,"div",23)(71,"label",41),c(72),a(),r(73,"input",42,5),w("ngModelChange",function(m){return u(s),T(t.dataModel.titleSoldItML,m)||(t.dataModel.titleSoldItML=m),f(m)}),a()(),r(75,"div",23)(76,"label",43),c(77),a(),r(78,"input",44,6),w("ngModelChange",function(m){return u(s),T(t.dataModel.titleSoldItResourceLanguage,m)||(t.dataModel.titleSoldItResourceLanguage=m),f(m)}),a(),C(80,pA,1,0,"i",26)(81,mA,1,0,"i",27),r(82,"em"),c(83),a(),C(84,uA,5,3,"mat-error",28),a(),C(85,fA,8,2,"div",45)(86,_A,8,2,"div",45)(87,gA,8,2,"div",45)(88,hA,8,2,"div",45)(89,yA,8,2,"div",45),r(90,"div",23)(91,"label",46),c(92),a(),r(93,"textarea",47,7),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),a(),r(95,"em"),c(96),a(),C(97,SA,5,3,"mat-error",28),a(),C(98,CA,1,0,"hr",28)(99,vA,8,2,"div",45)(100,IA,7,5,"div",48),r(101,"div",23)(102,"label",49),c(103),a(),r(104,"input",50,8),w("ngModelChange",function(m){return u(s),T(t.dataModel.titleSalePriceML,m)||(t.dataModel.titleSalePriceML=m),f(m)}),a(),r(106,"em"),c(107),a()(),C(108,EA,7,5,"div",48)(109,MA,1,0,"hr",28)(110,bA,8,2,"div",45)(111,TA,5,4,"div",48),r(112,"div",23)(113,"label",51),c(114),a(),r(115,"input",52),w("ngModelChange",function(m){return u(s),T(t.dataModel.titleRentPriceML,m)||(t.dataModel.titleRentPriceML=m),f(m)}),a()(),C(116,wA,7,5,"div",48)(117,xA,7,5,"div",48),r(118,"div",23)(119,"label",53),c(120),a(),r(121,"input",54),w("ngModelChange",function(m){return u(s),T(t.dataModel.rentPricePriodTitleML,m)||(t.dataModel.rentPricePriodTitleML=m),f(m)}),a()(),C(122,AA,7,5,"div",48)(123,PA,1,0,"hr",28)(124,RA,8,2,"div",45)(125,kA,7,5,"div",48),r(126,"div",23)(127,"label",55),c(128),a(),r(129,"input",56),w("ngModelChange",function(m){return u(s),T(t.dataModel.titleDepositPriceML,m)||(t.dataModel.titleDepositPriceML=m),f(m)}),a()(),C(130,DA,7,5,"div",48)(131,LA,1,0,"hr",28)(132,VA,8,2,"div",45)(133,BA,7,5,"div",48),r(134,"div",23)(135,"label",57),c(136),a(),r(137,"input",58),w("ngModelChange",function(m){return u(s),T(t.dataModel.titlePeriodPriceML,m)||(t.dataModel.titlePeriodPriceML=m),f(m)}),a()(),C(138,FA,7,5,"div",48)(139,NA,6,4,"div",59),a()()()}if(i&2){let s=R(15),_=R(29),m=R(40),k=R(54),z=R(64),Se=R(79),qe=R(94),Ue=R(105);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,112,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(),d("ngStyle",ze(114,K3,t.tokenInfo.access.direction)),o(4),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(3),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),b("ngModel",t.dataModel.titleML),d("disabled",!0),o(3),M(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle)),b("ngModel",t.dataModel.titleResourceLanguage),d("disabled",!0),o(2),d("ngIf",!_.value),o(),d("ngIf",_.value),o(2),y("",_.value.length," / 100"),o(),d("ngIf",_.errors==null?null:_.errors.required),o(4),M(t.fieldsInfo.orderTitle==null?null:t.fieldsInfo.orderTitle.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.orderTitle==null?null:t.fieldsInfo.orderTitle.fieldTitle)),b("ngModel",t.dataModel.orderTitle),d("disabled",!0),o(2),d("ngIf",!m.value),o(),d("ngIf",m.value),o(2),y("",m.value.length," / 100"),o(),d("ngIf",m.errors==null?null:m.errors.required),o(3),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),b("ngModel",t.dataModel.orderTitleML),d("disabled",!0)("disabled",!0),o(3),M(t.fieldsInfo.orderTitleResourceLanguage==null?null:t.fieldsInfo.orderTitleResourceLanguage.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.orderTitleResourceLanguage==null?null:t.fieldsInfo.orderTitleResourceLanguage.fieldTitle)),b("ngModel",t.dataModel.orderTitleResourceLanguage),d("disabled",!0),o(2),d("ngIf",!k.value),o(),d("ngIf",k.value),o(2),y("",k.value.length," / 100"),o(),d("ngIf",k.errors==null?null:k.errors.required),o(3),M(t.fieldsInfo.titleSoldIt==null?null:t.fieldsInfo.titleSoldIt.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.titleSoldIt==null?null:t.fieldsInfo.titleSoldIt.fieldTitle)),b("ngModel",t.dataModel.titleSoldIt),o(2),d("ngIf",!z.value),o(),d("ngIf",z.value),o(2),y("",z.value.length," / 100"),o(),d("ngIf",z.errors==null?null:z.errors.required),o(3),M(t.fieldsInfo.titleSoldIt==null?null:t.fieldsInfo.titleSoldIt.fieldTitle),o(),b("ngModel",t.dataModel.titleSoldItML),d("disabled",!0),o(4),M(t.fieldsInfo.titleSoldItResourceLanguage==null?null:t.fieldsInfo.titleSoldItResourceLanguage.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.titleSoldItResourceLanguage==null?null:t.fieldsInfo.titleSoldItResourceLanguage.fieldTitle)),b("ngModel",t.dataModel.titleSoldItResourceLanguage),o(2),d("ngIf",!z.value),o(),d("ngIf",z.value),o(2),y("",Se.value.length," / 100"),o(),d("ngIf",Se.errors==null?null:Se.errors.required),o(),d("ngIf",t.fieldsInfo.allowPriceInquiryCalculate==null?null:t.fieldsInfo.allowPriceInquiryCalculate.accessWatchField),o(),d("ngIf",t.fieldsInfo.hasSalePrice==null?null:t.fieldsInfo.hasSalePrice.accessWatchField),o(),d("ngIf",t.fieldsInfo.hasRentPrice==null?null:t.fieldsInfo.hasRentPrice.accessWatchField),o(),d("ngIf",t.fieldsInfo.hasDepositPrice==null?null:t.fieldsInfo.hasDepositPrice.accessWatchField),o(),d("ngIf",t.fieldsInfo.hasPeriodPrice==null?null:t.fieldsInfo.hasPeriodPrice.accessWatchField),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(3),y("",qe.value.length," / 500"),o(),d("ngIf",qe.errors==null?null:qe.errors.required),o(),d("ngIf",t.dataModel.hasSalePrice),o(),d("ngIf",t.fieldsInfo.salePriceAllowAgreement==null?null:t.fieldsInfo.salePriceAllowAgreement.accessWatchField),o(),d("ngIf",t.dataModel.hasSalePrice),o(3),M(t.fieldsInfo.titleSalePrice==null?null:t.fieldsInfo.titleSalePrice.fieldTitle),o(),b("ngModel",t.dataModel.titleSalePriceML),d("disabled",!0),o(3),y("",Ue.value.length," / 100"),o(),d("ngIf",t.dataModel.hasSalePrice),o(),d("ngIf",t.dataModel.hasRentPrice),o(),d("ngIf",t.fieldsInfo.rentPriceAllowAgreement==null?null:t.fieldsInfo.rentPriceAllowAgreement.accessWatchField),o(),d("ngIf",t.dataModel.hasRentPrice),o(3),M(t.fieldsInfo.titleRentPrice==null?null:t.fieldsInfo.titleRentPrice.fieldTitle),o(),b("ngModel",t.dataModel.titleRentPriceML),d("disabled",!0),o(),d("ngIf",t.dataModel.hasRentPrice),o(),d("ngIf",t.dataModel.hasRentPrice),o(3),M(t.fieldsInfo.rentPricePriodTitle==null?null:t.fieldsInfo.rentPricePriodTitle.fieldTitle),o(),b("ngModel",t.dataModel.rentPricePriodTitleML),d("disabled",!0),o(),d("ngIf",t.dataModel.hasRentPrice),o(),d("ngIf",t.dataModel.hasDepositPrice),o(),d("ngIf",t.fieldsInfo.depositPriceAllowAgreement==null?null:t.fieldsInfo.depositPriceAllowAgreement.accessWatchField),o(),d("ngIf",t.dataModel.hasDepositPrice),o(3),M(t.fieldsInfo.titleDepositPriceML==null?null:t.fieldsInfo.titleDepositPriceML.fieldTitle),o(),b("ngModel",t.dataModel.titleDepositPriceML),d("disabled",!0),o(),d("ngIf",t.dataModel.hasDepositPrice),o(),d("ngIf",t.dataModel.hasPeriodPrice),o(),d("ngIf",t.fieldsInfo.periodPriceAllowAgreement==null?null:t.fieldsInfo.periodPriceAllowAgreement.accessWatchField),o(),d("ngIf",t.dataModel.hasPeriodPrice),o(3),M(t.fieldsInfo.titlePeriodPriceML==null?null:t.fieldsInfo.titlePeriodPriceML.fieldTitle),o(),b("ngModel",t.dataModel.titlePeriodPriceML),d("disabled",!0),o(),d("ngIf",t.dataModel.hasPeriodPrice),o(),d("ngIf",!t.publicHelper.processService.process.inRunAll)}},dependencies:[N,it,ke,Y,qt,q,we,de,De,Pe,me,Re,xe,Q,U,ge,jr,B],encapsulation:2});var Zc=rs;var HA=["vform"],WA=n=>({direction:n});function GA(n,l){n&1&&S(0,"i",60)}function UA(n,l){n&1&&S(0,"i",61)}function jA(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function qA(n,l){n&1&&S(0,"i",60)}function QA(n,l){n&1&&S(0,"i",61)}function zA(n,l){n&1&&(r(0,"mat-error"),c(1," titleResourceLanguage is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function YA(n,l){n&1&&S(0,"i",60)}function KA(n,l){n&1&&S(0,"i",61)}function ZA(n,l){n&1&&(r(0,"mat-error"),c(1," orderTitle is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function JA(n,l){n&1&&S(0,"i",60)}function XA(n,l){n&1&&S(0,"i",61)}function $A(n,l){n&1&&(r(0,"mat-error"),c(1," orderTitleResourceLanguage is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function eP(n,l){n&1&&S(0,"i",60)}function tP(n,l){n&1&&S(0,"i",61)}function iP(n,l){n&1&&(r(0,"mat-error"),c(1," TitleSoldIt is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function nP(n,l){n&1&&S(0,"i",60)}function oP(n,l){n&1&&S(0,"i",61)}function rP(n,l){n&1&&(r(0,"mat-error"),c(1," titleSoldItResourceLanguage is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function aP(n,l){if(n&1){let e=E();r(0,"div",62)(1,"div",63)(2,"h5",64),c(3),a()(),r(4,"div",65)(5,"div",66)(6,"input",67),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.allowPriceInquiryCalculate,t)||(s.dataModel.allowPriceInquiryCalculate=t),f(t)}),a(),S(7,"label",68),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.allowPriceInquiryCalculate==null?null:e.fieldsInfo.allowPriceInquiryCalculate.fieldTitle," "),o(3),b("ngModel",e.dataModel.allowPriceInquiryCalculate)}}function lP(n,l){if(n&1){let e=E();r(0,"div",62)(1,"div",63)(2,"h5",64),c(3),a()(),r(4,"div",65)(5,"div",66)(6,"input",69),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.hasSalePrice,t)||(s.dataModel.hasSalePrice=t),f(t)}),a(),S(7,"label",70),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.hasSalePrice==null?null:e.fieldsInfo.hasSalePrice.fieldTitle," "),o(3),b("ngModel",e.dataModel.hasSalePrice)}}function sP(n,l){if(n&1){let e=E();r(0,"div",62)(1,"div",63)(2,"h5",64),c(3),a()(),r(4,"div",65)(5,"div",66)(6,"input",71),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.hasRentPrice,t)||(s.dataModel.hasRentPrice=t),f(t)}),a(),S(7,"label",72),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.hasRentPrice==null?null:e.fieldsInfo.hasRentPrice.fieldTitle," "),o(3),b("ngModel",e.dataModel.hasRentPrice)}}function dP(n,l){if(n&1){let e=E();r(0,"div",62)(1,"div",63)(2,"h5",64),c(3),a()(),r(4,"div",65)(5,"div",66)(6,"input",73),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.hasDepositPrice,t)||(s.dataModel.hasDepositPrice=t),f(t)}),a(),S(7,"label",74),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.hasDepositPrice==null?null:e.fieldsInfo.hasDepositPrice.fieldTitle," "),o(3),b("ngModel",e.dataModel.hasDepositPrice)}}function cP(n,l){if(n&1){let e=E();r(0,"div",62)(1,"div",63)(2,"h5",64),c(3),a()(),r(4,"div",65)(5,"div",66)(6,"input",75),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.hasPeriodPrice,t)||(s.dataModel.hasPeriodPrice=t),f(t)}),a(),S(7,"label",76),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.hasPeriodPrice==null?null:e.fieldsInfo.hasPeriodPrice.fieldTitle," "),o(3),b("ngModel",e.dataModel.hasPeriodPrice)}}function pP(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function mP(n,l){n&1&&S(0,"hr")}function uP(n,l){if(n&1){let e=E();r(0,"div",62)(1,"div",63)(2,"h5",77),c(3),a()(),r(4,"div",65)(5,"div",66)(6,"input",78),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.salePriceAllowAgreement,t)||(s.dataModel.salePriceAllowAgreement=t),f(t)}),a(),S(7,"label",79),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.salePriceAllowAgreement==null?null:e.fieldsInfo.salePriceAllowAgreement.fieldTitle," "),o(3),b("ngModel",e.dataModel.salePriceAllowAgreement)}}function fP(n,l){if(n&1){let e=E();r(0,"div",23)(1,"label",80),c(2),a(),r(3,"input",81,8),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titleSalePrice,t)||(s.dataModel.titleSalePrice=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.titleSalePrice==null?null:i.fieldsInfo.titleSalePrice.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleSalePrice==null?null:i.fieldsInfo.titleSalePrice.fieldTitle)),b("ngModel",i.dataModel.titleSalePrice),o(3),y("",e.value.length," / 100")}}function _P(n,l){if(n&1){let e=E();r(0,"div",23)(1,"label",82),c(2),a(),r(3,"input",83,9),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titleSalePriceResourceLanguage,t)||(s.dataModel.titleSalePriceResourceLanguage=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.titleSalePriceResourceLanguage==null?null:i.fieldsInfo.titleSalePriceResourceLanguage.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleSalePriceResourceLanguage==null?null:i.fieldsInfo.titleSalePriceResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titleSalePriceResourceLanguage),o(3),y("",e.value.length," / 100")}}function gP(n,l){n&1&&S(0,"hr")}function hP(n,l){if(n&1){let e=E();r(0,"div",62)(1,"div",63)(2,"h5",84),c(3),a()(),r(4,"div",65)(5,"div",66)(6,"input",85),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.rentPriceAllowAgreement,t)||(s.dataModel.rentPriceAllowAgreement=t),f(t)}),a(),S(7,"label",86),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.rentPriceAllowAgreement==null?null:e.fieldsInfo.rentPriceAllowAgreement.fieldTitle," "),o(3),b("ngModel",e.dataModel.rentPriceAllowAgreement)}}function yP(n,l){if(n&1){let e=E();r(0,"div",23)(1,"label",87),c(2),a(),r(3,"input",88,8),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titleRentPrice,t)||(s.dataModel.titleRentPrice=t),f(t)}),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.titleRentPrice==null?null:e.fieldsInfo.titleRentPrice.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.titleRentPrice==null?null:e.fieldsInfo.titleRentPrice.fieldTitle)),b("ngModel",e.dataModel.titleRentPrice)}}function SP(n,l){if(n&1){let e=E();r(0,"div",23)(1,"label",89),c(2),a(),r(3,"input",90,10),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titleRentPriceResourceLanguage,t)||(s.dataModel.titleRentPriceResourceLanguage=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.titleRentPriceResourceLanguage==null?null:i.fieldsInfo.titleRentPriceResourceLanguage.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleRentPrice==null?null:i.fieldsInfo.titleRentPrice.fieldTitle)),b("ngModel",i.dataModel.titleRentPriceResourceLanguage),o(3),y("",e.value.length," / 100")}}function CP(n,l){if(n&1){let e=E();r(0,"div",23)(1,"label",91),c(2),a(),r(3,"input",92,11),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.rentPricePriodTitle,t)||(s.dataModel.rentPricePriodTitle=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.rentPricePriodTitle==null?null:i.fieldsInfo.rentPricePriodTitle.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleRentPrice==null?null:i.fieldsInfo.titleRentPrice.fieldTitle)),b("ngModel",i.dataModel.rentPricePriodTitle),o(3),y("",e.value.length," / 100")}}function vP(n,l){if(n&1){let e=E();r(0,"div",23)(1,"label",93),c(2),a(),r(3,"input",94,12),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.rentPricePriodTitleResourceLanguage,t)||(s.dataModel.rentPricePriodTitleResourceLanguage=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.rentPricePriodTitleResourceLanguage==null?null:i.fieldsInfo.rentPricePriodTitleResourceLanguage.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleRentPrice==null?null:i.fieldsInfo.titleRentPrice.fieldTitle)),b("ngModel",i.dataModel.rentPricePriodTitleResourceLanguage),o(3),y("",e.value.length," / 100")}}function IP(n,l){n&1&&S(0,"hr")}function EP(n,l){if(n&1){let e=E();r(0,"div",62)(1,"div",63)(2,"h5",84),c(3),a()(),r(4,"div",65)(5,"div",66)(6,"input",95),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.depositPriceAllowAgreement,t)||(s.dataModel.depositPriceAllowAgreement=t),f(t)}),a(),S(7,"label",96),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.depositPriceAllowAgreement==null?null:e.fieldsInfo.depositPriceAllowAgreement.fieldTitle," "),o(3),b("ngModel",e.dataModel.depositPriceAllowAgreement)}}function MP(n,l){if(n&1){let e=E();r(0,"div",23)(1,"label",97),c(2),a(),r(3,"input",98,13),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titleDepositPrice,t)||(s.dataModel.titleDepositPrice=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.titleDepositPrice==null?null:i.fieldsInfo.titleDepositPrice.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleDepositPrice==null?null:i.fieldsInfo.titleDepositPrice.fieldTitle)),b("ngModel",i.dataModel.titleDepositPrice),o(3),y("",e.value.length," / 100")}}function bP(n,l){if(n&1){let e=E();r(0,"div",23)(1,"label",99),c(2),a(),r(3,"input",100,14),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titleDepositPriceResourceLanguage,t)||(s.dataModel.titleDepositPriceResourceLanguage=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.titleDepositPriceResourceLanguage==null?null:i.fieldsInfo.titleDepositPriceResourceLanguage.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleDepositPriceResourceLanguage==null?null:i.fieldsInfo.titleDepositPriceResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titleDepositPriceResourceLanguage),o(3),y("",e.value.length," / 100")}}function TP(n,l){n&1&&S(0,"hr")}function wP(n,l){if(n&1){let e=E();r(0,"div",62)(1,"div",63)(2,"h5",84),c(3),a()(),r(4,"div",65)(5,"div",66)(6,"input",101),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.periodPriceAllowAgreement,t)||(s.dataModel.periodPriceAllowAgreement=t),f(t)}),a(),S(7,"label",102),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.periodPriceAllowAgreement==null?null:e.fieldsInfo.periodPriceAllowAgreement.fieldTitle," "),o(3),b("ngModel",e.dataModel.periodPriceAllowAgreement)}}function xP(n,l){if(n&1){let e=E();r(0,"div",23)(1,"label",103),c(2),a(),r(3,"input",104,15),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titlePeriodPrice,t)||(s.dataModel.titlePeriodPrice=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.titlePeriodPrice==null?null:i.fieldsInfo.titlePeriodPrice.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titlePeriodPrice==null?null:i.fieldsInfo.titlePeriodPrice.fieldTitle)),b("ngModel",i.dataModel.titlePeriodPrice),o(3),y("",e.value.length," / 100")}}function AP(n,l){if(n&1){let e=E();r(0,"div",23)(1,"label",105),c(2),a(),r(3,"input",106,16),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titlePeriodPriceResourceLanguage,t)||(s.dataModel.titlePeriodPriceResourceLanguage=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.titlePeriodPriceResourceLanguage==null?null:i.fieldsInfo.titlePeriodPriceResourceLanguage.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titlePeriodPriceResourceLanguage==null?null:i.fieldsInfo.titlePeriodPriceResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titlePeriodPriceResourceLanguage),o(3),y("",e.value.length," / 100")}}function PP(n,l){if(n&1){let e=E();r(0,"div",107)(1,"button",108),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",109),c(3),g(4,"translate"),a(),r(5,"button",110),S(6,"i",111),c(7),g(8,"translate"),a()()}if(n&2){p();let e=R(10);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",h(8,5,"ACTION.SAVE")," ")}}var as=class as extends Ut{constructor(e,i,t,s,_,m,k,z,Se,qe){super(s,new Zn,m,qe);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateContractTypeService=s;this.cmsToastrService=_;this.publicHelper=m;this.cdr=k;this.tokenHelper=z;this.cmsStoreService=Se;this.translate=qe;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ht;this.dataModel=new Zn;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateContractTypeService.setAccessLoad(),this.estateContractTypeService.setAccessDataType(Ne.Editor),this.estateContractTypeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateContractTypeService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};as.\u0275fac=function(i){return new(i||as)(v(Te),v(be),v(X),v(Ai),v(V),v(F),v(O),v(Z),v(J),v(L))},as.\u0275cmp=D({type:as,selectors:[["app-estate-contract-type-edit"]],viewQuery:function(i,t){if(i&1&&te(HA,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:137,vars:115,consts:[["vform","ngForm"],["Title",""],["titleResourceLanguage",""],["orderTitle",""],["orderTitleResourceLanguage",""],["TitleSoldIt",""],["titleSoldItResourceLanguage",""],["Description",""],["TitleSalePrice",""],["titleSalePriceResourceLanguage",""],["titleRentPriceResourceLanguage",""],["rentPricePriodTitle",""],["rentPricePriodTitleResourceLanguage",""],["TitleDepositPrice",""],["titleDepositPriceResourceLanguage",""],["TitlePeriodPrice",""],["titlePeriodPriceResourceLanguage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","cmsKeyboardForce","en","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.orderTitle",1,"color-highlight"],["matInput","","type","text","name","dataModel.orderTitle","minlength","3","maxlength","100","required","","id","dataModel.orderTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.orderTitleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.orderTitleML","id","dataModel.orderTitleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.orderTitleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.orderTitleResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.orderTitleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.titleSoldIt",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSoldIt","minlength","3","maxlength","100","required","","id","dataModel.titleSoldIt",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleSoldItML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSoldItML","id","dataModel.titleSoldItML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleSoldItResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSoldItResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.titleSoldItResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","d-flex mb-3",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.titleSalePriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSalePriceML","id","dataModel.titleSalePriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleRentPriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleRentPriceML","id","dataModel.titleRentPriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.rentPricePriodTitleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.rentPricePriodTitleML","id","dataModel.rentPricePriodTitleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleDepositPriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleDepositPriceML","id","dataModel.titleDepositPriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titlePeriodPriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titlePeriodPriceML","id","dataModel.titlePeriodPriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.hasPeriodPrice",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.allowPriceInquiryCalculate","name","dataModel.allowPriceInquiryCalculate",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.allowPriceInquiryCalculate",1,"custom-control-label"],["type","checkbox","id","dataModel.hasSalePrice","name","dataModel.hasSalePrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasSalePrice",1,"custom-control-label"],["type","checkbox","id","dataModel.hasRentPrice","name","dataModel.hasRentPrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasRentPrice",1,"custom-control-label"],["type","checkbox","id","dataModel.hasDepositPrice","name","dataModel.hasDepositPrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasDepositPrice",1,"custom-control-label"],["type","checkbox","id","dataModel.hasPeriodPrice","name","dataModel.hasPeriodPrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasPeriodPrice",1,"custom-control-label"],["data-trigger-switch","dataModel.salePriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","dataModel.salePriceAllowAgreement","name","dataModel.salePriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.salePriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titleSalePrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSalePrice","minlength","1","maxlength","100","id","dataModel.titleSalePrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleSalePriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSalePriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titleSalePriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["data-trigger-switch","dataModel.rentPriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","dataModel.rentPriceAllowAgreement","name","dataModel.rentPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rentPriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titleRentPrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleRentPrice","minlength","1","maxlength","100","id","dataModel.titleRentPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleRentPriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleRentPriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titleRentPriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.rentPricePriodTitle",1,"color-highlight"],["matInput","","type","text","name","dataModel.rentPricePriodTitle","minlength","1","maxlength","100","id","dataModel.rentPricePriodTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.rentPricePriodTitleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.rentPricePriodTitleResourceLanguage","minlength","1","maxlength","100","id","dataModel.rentPricePriodTitleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","checkbox","id","dataModel.depositPriceAllowAgreement","name","dataModel.depositPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.depositPriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titleDepositPrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.   titleDepositPrice","minlength","1","maxlength","100","id","dataModel.titleDepositPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleDepositPriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleDepositPriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titleDepositPriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","checkbox","id","dataModel.periodPriceAllowAgreement","name","dataModel.periodPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.periodPriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titlePeriodPrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titlePeriodPrice","minlength","1","maxlength","100","id","dataModel.titlePeriodPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titlePeriodPriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titlePeriodPriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titlePeriodPriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",17),S(1,"app-progress-spinner",18),r(2,"div",19)(3,"p",20),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",21),r(9,"form",22,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"div",23)(12,"label",24),c(13),a(),r(14,"input",25,1),w("ngModelChange",function(m){return u(s),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),C(16,GA,1,0,"i",26)(17,UA,1,0,"i",27),r(18,"em"),c(19),a(),C(20,jA,5,3,"mat-error",28),a(),r(21,"div",23)(22,"label",29),c(23),a(),r(24,"input",30),w("ngModelChange",function(m){return u(s),T(t.dataModel.titleML,m)||(t.dataModel.titleML=m),f(m)}),a()(),r(25,"div",23)(26,"label",31),c(27),a(),r(28,"input",32,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.titleResourceLanguage,m)||(t.dataModel.titleResourceLanguage=m),f(m)}),a(),C(30,qA,1,0,"i",26)(31,QA,1,0,"i",27),r(32,"em"),c(33),a(),C(34,zA,5,3,"mat-error",28),a(),S(35,"hr"),r(36,"div",23)(37,"label",33),c(38),a(),r(39,"input",34,3),w("ngModelChange",function(m){return u(s),T(t.dataModel.orderTitle,m)||(t.dataModel.orderTitle=m),f(m)}),a(),C(41,YA,1,0,"i",26)(42,KA,1,0,"i",27),r(43,"em"),c(44),a(),C(45,ZA,5,3,"mat-error",28),a(),r(46,"div",23)(47,"label",35),c(48),a(),r(49,"input",36),w("ngModelChange",function(m){return u(s),T(t.dataModel.orderTitleML,m)||(t.dataModel.orderTitleML=m),f(m)}),a()(),r(50,"div",23)(51,"label",37),c(52),a(),r(53,"input",38,4),w("ngModelChange",function(m){return u(s),T(t.dataModel.orderTitleResourceLanguage,m)||(t.dataModel.orderTitleResourceLanguage=m),f(m)}),a(),C(55,JA,1,0,"i",26)(56,XA,1,0,"i",27),r(57,"em"),c(58),a(),C(59,$A,5,3,"mat-error",28),a(),r(60,"div",23)(61,"label",39),c(62),a(),r(63,"input",40,5),w("ngModelChange",function(m){return u(s),T(t.dataModel.titleSoldIt,m)||(t.dataModel.titleSoldIt=m),f(m)}),a(),C(65,eP,1,0,"i",26)(66,tP,1,0,"i",27),r(67,"em"),c(68),a(),C(69,iP,5,3,"mat-error",28),a(),r(70,"div",23)(71,"label",41),c(72),a(),r(73,"input",42,5),w("ngModelChange",function(m){return u(s),T(t.dataModel.titleSoldItML,m)||(t.dataModel.titleSoldItML=m),f(m)}),a()(),r(75,"div",23)(76,"label",43),c(77),a(),r(78,"input",44,6),w("ngModelChange",function(m){return u(s),T(t.dataModel.titleSoldItResourceLanguage,m)||(t.dataModel.titleSoldItResourceLanguage=m),f(m)}),a(),C(80,nP,1,0,"i",26)(81,oP,1,0,"i",27),r(82,"em"),c(83),a(),C(84,rP,5,3,"mat-error",28),a(),C(85,aP,8,2,"div",45)(86,lP,8,2,"div",45)(87,sP,8,2,"div",45)(88,dP,8,2,"div",45)(89,cP,8,2,"div",45),r(90,"div",23)(91,"label",46),c(92),a(),r(93,"textarea",47,7),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),a(),r(95,"em"),c(96),a(),C(97,pP,5,3,"mat-error",28),a(),C(98,mP,1,0,"hr",28)(99,uP,8,2,"div",45)(100,fP,7,5,"div",48),r(101,"div",23)(102,"label",49),c(103),a(),r(104,"input",50),w("ngModelChange",function(m){return u(s),T(t.dataModel.titleSalePriceML,m)||(t.dataModel.titleSalePriceML=m),f(m)}),a()(),C(105,_P,7,5,"div",48)(106,gP,1,0,"hr",28)(107,hP,8,2,"div",45)(108,yP,5,4,"div",48),r(109,"div",23)(110,"label",51),c(111),a(),r(112,"input",52),w("ngModelChange",function(m){return u(s),T(t.dataModel.titleRentPriceML,m)||(t.dataModel.titleRentPriceML=m),f(m)}),a()(),C(113,SP,7,5,"div",48)(114,CP,7,5,"div",48),r(115,"div",23)(116,"label",53),c(117),a(),r(118,"input",54),w("ngModelChange",function(m){return u(s),T(t.dataModel.rentPricePriodTitleML,m)||(t.dataModel.rentPricePriodTitleML=m),f(m)}),a()(),C(119,vP,7,5,"div",48)(120,IP,1,0,"hr",28)(121,EP,8,2,"div",45)(122,MP,7,5,"div",48),r(123,"div",23)(124,"label",55),c(125),a(),r(126,"input",56),w("ngModelChange",function(m){return u(s),T(t.dataModel.titleDepositPriceML,m)||(t.dataModel.titleDepositPriceML=m),f(m)}),a()(),C(127,bP,7,5,"div",48)(128,TP,1,0,"hr",28)(129,wP,8,2,"div",45)(130,xP,7,5,"div",48),r(131,"div",23)(132,"label",57),c(133),a(),r(134,"input",58),w("ngModelChange",function(m){return u(s),T(t.dataModel.titlePeriodPriceML,m)||(t.dataModel.titlePeriodPriceML=m),f(m)}),a()(),C(135,AP,7,5,"div",48)(136,PP,9,7,"div",59),a()()()}if(i&2){let s=R(15),_=R(29),m=R(40),k=R(54),z=R(64),Se=R(79),qe=R(94);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,111,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(),d("ngStyle",ze(113,WA,t.tokenInfo.access.direction)),o(4),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(3),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),b("ngModel",t.dataModel.titleML),d("disabled",!0),o(3),M(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle)),b("ngModel",t.dataModel.titleResourceLanguage),d("disabled",!0),o(2),d("ngIf",!_.value),o(),d("ngIf",_.value),o(2),y("",_.value.length," / 100"),o(),d("ngIf",_.errors==null?null:_.errors.required),o(4),M(t.fieldsInfo.orderTitle==null?null:t.fieldsInfo.orderTitle.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.orderTitle==null?null:t.fieldsInfo.orderTitle.fieldTitle)),b("ngModel",t.dataModel.orderTitle),d("disabled",!0),o(2),d("ngIf",!m.value),o(),d("ngIf",m.value),o(2),y("",m.value.length," / 100"),o(),d("ngIf",m.errors==null?null:m.errors.required),o(3),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),b("ngModel",t.dataModel.orderTitleML),d("disabled",!0)("disabled",!0),o(3),M(t.fieldsInfo.orderTitleResourceLanguage==null?null:t.fieldsInfo.orderTitleResourceLanguage.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.orderTitleResourceLanguage==null?null:t.fieldsInfo.orderTitleResourceLanguage.fieldTitle)),b("ngModel",t.dataModel.orderTitleResourceLanguage),d("disabled",!0),o(2),d("ngIf",!k.value),o(),d("ngIf",k.value),o(2),y("",k.value.length," / 100"),o(),d("ngIf",k.errors==null?null:k.errors.required),o(3),M(t.fieldsInfo.titleSoldIt==null?null:t.fieldsInfo.titleSoldIt.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.titleSoldIt==null?null:t.fieldsInfo.titleSoldIt.fieldTitle)),b("ngModel",t.dataModel.titleSoldIt),o(2),d("ngIf",!z.value),o(),d("ngIf",z.value),o(2),y("",z.value.length," / 100"),o(),d("ngIf",z.errors==null?null:z.errors.required),o(3),M(t.fieldsInfo.titleSoldIt==null?null:t.fieldsInfo.titleSoldIt.fieldTitle),o(),b("ngModel",t.dataModel.titleSoldItML),d("disabled",!0),o(4),M(t.fieldsInfo.titleSoldItResourceLanguage==null?null:t.fieldsInfo.titleSoldItResourceLanguage.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.titleSoldItResourceLanguage==null?null:t.fieldsInfo.titleSoldItResourceLanguage.fieldTitle)),b("ngModel",t.dataModel.titleSoldItResourceLanguage),o(2),d("ngIf",!z.value),o(),d("ngIf",z.value),o(2),y("",Se.value.length," / 100"),o(),d("ngIf",Se.errors==null?null:Se.errors.required),o(),d("ngIf",t.fieldsInfo.allowPriceInquiryCalculate==null?null:t.fieldsInfo.allowPriceInquiryCalculate.accessWatchField),o(),d("ngIf",t.fieldsInfo.hasSalePrice==null?null:t.fieldsInfo.hasSalePrice.accessWatchField),o(),d("ngIf",t.fieldsInfo.hasRentPrice==null?null:t.fieldsInfo.hasRentPrice.accessWatchField),o(),d("ngIf",t.fieldsInfo.hasDepositPrice==null?null:t.fieldsInfo.hasDepositPrice.accessWatchField),o(),d("ngIf",t.fieldsInfo.hasPeriodPrice==null?null:t.fieldsInfo.hasPeriodPrice.accessWatchField),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(3),y("",qe.value.length," / 500"),o(),d("ngIf",qe.errors==null?null:qe.errors.required),o(),d("ngIf",t.dataModel.hasSalePrice),o(),d("ngIf",t.fieldsInfo.salePriceAllowAgreement==null?null:t.fieldsInfo.salePriceAllowAgreement.accessWatchField),o(),d("ngIf",t.dataModel.hasSalePrice),o(3),M(t.fieldsInfo.titleSalePrice==null?null:t.fieldsInfo.titleSalePrice.fieldTitle),o(),b("ngModel",t.dataModel.titleSalePriceML),d("disabled",!0),o(),d("ngIf",t.dataModel.hasSalePrice),o(),d("ngIf",t.dataModel.hasRentPrice),o(),d("ngIf",t.fieldsInfo.rentPriceAllowAgreement==null?null:t.fieldsInfo.rentPriceAllowAgreement.accessWatchField),o(),d("ngIf",t.dataModel.hasRentPrice),o(3),M(t.fieldsInfo.titleRentPrice==null?null:t.fieldsInfo.titleRentPrice.fieldTitle),o(),b("ngModel",t.dataModel.titleRentPriceML),d("disabled",!0),o(),d("ngIf",t.dataModel.hasRentPrice),o(),d("ngIf",t.dataModel.hasRentPrice),o(3),M(t.fieldsInfo.rentPricePriodTitle==null?null:t.fieldsInfo.rentPricePriodTitle.fieldTitle),o(),b("ngModel",t.dataModel.rentPricePriodTitleML),d("disabled",!0),o(),d("ngIf",t.dataModel.hasRentPrice),o(),d("ngIf",t.dataModel.hasDepositPrice),o(),d("ngIf",t.fieldsInfo.depositPriceAllowAgreement==null?null:t.fieldsInfo.depositPriceAllowAgreement.accessWatchField),o(),d("ngIf",t.dataModel.hasDepositPrice),o(3),M(t.fieldsInfo.titleDepositPriceML==null?null:t.fieldsInfo.titleDepositPriceML.fieldTitle),o(),b("ngModel",t.dataModel.titleDepositPriceML),d("disabled",!0),o(),d("ngIf",t.dataModel.hasDepositPrice),o(),d("ngIf",t.dataModel.hasPeriodPrice),o(),d("ngIf",t.fieldsInfo.periodPriceAllowAgreement==null?null:t.fieldsInfo.periodPriceAllowAgreement.accessWatchField),o(),d("ngIf",t.dataModel.hasPeriodPrice),o(3),M(t.fieldsInfo.titlePeriodPriceML==null?null:t.fieldsInfo.titlePeriodPriceML.fieldTitle),o(),b("ngModel",t.dataModel.titlePeriodPriceML),d("disabled",!0),o(),d("ngIf",t.dataModel.hasPeriodPrice),o(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[N,it,ke,Y,qt,q,we,de,De,Pe,me,Re,xe,Q,U,ge,jr,B],encapsulation:2});var Jc=as;var RP=()=>[5,10,20,100];function kP(n,l){if(n&1){let e=E();r(0,"div",17)(1,"a",40),I("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),S(2,"i",41)(3,"br"),a(),r(4,"p",20),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.ADD")," "))}function DP(n,l){if(n&1){let e=E();r(0,"div",17)(1,"a",42),I("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",43)(3,"br"),a(),r(4,"p",20),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.EDIT")," "))}function LP(n,l){if(n&1){let e=E();r(0,"div",17)(1,"a",44),I("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",45)(3,"br"),a(),r(4,"p",20),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.DELETE")," "))}function VP(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function BP(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function FP(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function OP(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),ee(" ",e.title," / ",e.orderTitle," ")}}function NP(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.hasSalePrice==null?null:e.fieldsInfo.hasSalePrice.fieldTitle," ")}}function HP(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",47),g(2,"boolclass"),a()),n&2){let e=l.$implicit;o(),d("ngClass",h(2,1,e.hasSalePrice))}}function WP(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.hasDepositPrice==null?null:e.fieldsInfo.hasDepositPrice.fieldTitle," ")}}function GP(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",47),g(2,"boolclass"),a()),n&2){let e=l.$implicit;o(),d("ngClass",h(2,1,e.hasDepositPrice))}}function UP(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.hasPeriodPrice==null?null:e.fieldsInfo.hasPeriodPrice.fieldTitle," ")}}function jP(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",47),g(2,"boolclass"),a()),n&2){let e=l.$implicit;o(),d("ngClass",h(2,1,e.hasPeriodPrice))}}function qP(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.hasRentPrice==null?null:e.fieldsInfo.hasRentPrice.fieldTitle," ")}}function QP(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",47),g(2,"boolclass"),a()),n&2){let e=l.$implicit;o(),d("ngClass",h(2,1,e.hasRentPrice))}}function zP(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.OPTION")," "))}function YP(n,l){if(n&1&&(r(0,"mat-cell",48)(1,"button",49)(2,"mat-icon"),c(3,"more_vert"),a()(),S(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),d("matMenuTriggerFor",e)}}function KP(n,l){n&1&&S(0,"mat-header-row")}function ZP(n,l){if(n&1){let e=E();r(0,"mat-row",50),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var ls=class ls extends xt{constructor(e,i,t,s,_,m,k,z,Se,qe,Ue,ft){super(e,new Zn,Ue,_,z);this.contentService=e;this.cmsConfirmationDialogService=i;this.cmsToastrService=t;this.cmsStoreService=s;this.tokenHelper=_;this.router=m;this.cdr=k;this.translate=z;this.pageInfo=Se;this.themeService=qe;this.publicHelper=Ue;this.dialog=ft;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new pe;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["HasSalePrice","HasDepositPrice","HasRentPrice","HasPeriodPrice"];this.tabledisplayedColumnsMobileSource=["HasSalePrice","HasDepositPrice","HasRentPrice","HasPeriodPrice"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:jt=>this.onSubmitOptionsSearch(jt)},this.filteModelContent.sortColumn="title",this.filteModelContent.sortType=$.Ascending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Zn);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=$.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Zc,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Jc,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_,!1)}})}}).catch(()=>{})}onActionButtonContentList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/estate/property/LinkContractTypeId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkContractTypeId/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new H;_.propertyName="recordStatus",_.value=Qe.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};ls.\u0275fac=function(i){return new(i||ls)(v(Ai),v(wt),v(V),v(J),v(Z),v(Ze),v(O),v(L),v(St),v(Vt),v(F),v(Ae))},ls.\u0275cmp=D({type:ls,selectors:[["app-estate-contract-type-list"]],standalone:!1,features:[oe],decls:63,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","title"],["matColumnDef","HasSalePrice"],["matColumnDef","HasDepositPrice"],["matColumnDef","HasPeriodPrice"],["matColumnDef","HasRentPrice"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=E();r(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),I("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(1,4),c(2," -------------------------------------- "),P(),$e(3,5)(4,6),A(5,7),r(6,"a",8),I("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(7,"i",9),a(),r(8,"a",8),I("click",function(){return u(s),f(t.onActionButtonReload())}),S(9,"i",10),a(),P(),A(10,11),r(11,"a",12),I("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(12,"mat-slide-toggle",13),c(13),g(14,"translate"),a(),r(15,"a",12),I("click",function(){return u(s),f(t.onActionButtonStatist())}),S(16,"mat-slide-toggle",13),c(17),g(18,"translate"),a(),P(),A(19,14),C(20,kP,7,3,"div",15),P(),A(21,16),C(22,DP,7,3,"div",15)(23,LP,7,3,"div",15),r(24,"div",17)(25,"a",18),I("click",function(m){return u(s),f(t.onActionButtonContentList(t.tableRowSelected,m))}),S(26,"i",19)(27,"br"),a(),r(28,"p",20),c(29),g(30,"translate"),a()(),P(),A(31,21),r(32,"app-cms-search-list",22),w("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),a(),r(33,"app-cms-statist-list",22),w("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),P(),A(34,23),r(35,"mat-table",24,0),I("matSortChange",function(){u(s);let m=R(36);return f(t.onTableSortData(m))}),A(37,25),C(38,VP,2,1,"mat-header-cell",26)(39,BP,2,1,"mat-cell",27),P(),A(40,28),C(41,FP,2,1,"mat-header-cell",26)(42,OP,2,2,"mat-cell",27),P(),A(43,29),C(44,NP,2,1,"mat-header-cell",26)(45,HP,3,3,"mat-cell",27),P(),A(46,30),C(47,WP,2,1,"mat-header-cell",26)(48,GP,3,3,"mat-cell",27),P(),A(49,31),C(50,UP,2,1,"mat-header-cell",26)(51,jP,3,3,"mat-cell",27),P(),A(52,32),C(53,qP,2,1,"mat-header-cell",26)(54,QP,3,3,"mat-cell",27),P(),A(55,33),C(56,zP,3,3,"mat-header-cell",34)(57,YP,6,1,"mat-cell",35),P(),C(58,KP,1,0,"mat-header-row",36)(59,ZP,1,2,"mat-row",37),a(),P(),A(60,38),r(61,"mat-paginator",39,1),I("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),P(),a()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),K("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),d("checked",t.optionsSearch.data.show),o(),y("",h(14,26,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",h(18,28,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),y(" ",h(30,30,"ACTION.Property_to_be_traded")," "),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(23),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(32,RP)))},dependencies:[ce,N,Je,Ee,Dt,Lt,Mt,yt,bt,Tt,nt,rt,dt,at,ot,ct,lt,st,pt,mt,At,Pt,Rt,kt,B,dr],encapsulation:2});var Xc=ls;var JP=["vform"];function XP(n,l){if(n&1){let e=E();r(0,"div",10)(1,"button",11),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",12),c(3),g(4,"translate"),a()()}n&2&&(o(3),y(" ",h(4,1,"ACTION.CANCEL")," "))}var ss=class ss{constructor(l,e,i,t,s,_,m,k,z,Se){this.data=l;this.dialogRef=e;this.coreEnumService=i;this.estateCustomerOrderResultService=t;this.cmsToastrService=s;this.tokenHelper=_;this.cmsStoreService=m;this.cdr=k;this.publicHelper=z;this.translate=Se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new It;this.dataModelResult=new G;this.dataModel=new Ld;this.formInfo=new ue;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=l.id+"")}ngOnInit(){if(this.translate.get("aaaaaaaaaTITLE.VIEWaaaaa").subscribe(l=>{this.formInfo.formTitle=l}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>ae(this,null,function*(){this.tokenInfo=l})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.estateCustomerOrderResultService.setAccessLoad(),this.estateCustomerOrderResultService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ss.\u0275fac=function(e){return new(e||ss)(v(Te),v(be),v(X),v(Ta),v(V),v(Z),v(J),v(O),v(F),v(L))},ss.\u0275cmp=D({type:ss,selectors:[["app-estate-customer-order-result-view"]],viewQuery:function(e,i){if(e&1&&te(JP,5),e&2){let t;ie(t=ne())&&(i.formGroup=t.first)}},standalone:!1,decls:14,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(r(0,"div",0),S(1,"app-progress-spinner",1),r(2,"div",2)(3,"p",3),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),r(8,"div",4),S(9,"app-cms-json-list",5),a(),r(10,"div",6),S(11,"app-cms-form-result-message",7),a(),r(12,"div",8),C(13,XP,5,3,"div",9),a()()()),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(3),y(" ",i.formInfo.formTitle," "),o(2),y(" ",h(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),o(3),d("dataModel",i.dataModel)("optionMethod",1),o(2),d("formInfo",i.formInfo),o(2),d("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[N,U,c0,ge,B],encapsulation:2});var $c=ss;var $P=()=>[5,10,20,100];function eR(n,l){if(n&1&&S(0,"app-estate-customer-order-header",30),n&2){let e=p();d("optionId",e.requestLinkCustomerOrder)}}function tR(n,l){if(n&1){let e=E();r(0,"div",31)(1,"a",32),I("click",function(){u(e);let t=p();return f(t.onActionButtonViewRow(t.tableRowSelected))}),S(2,"i",33)(3,"br"),a(),r(4,"p",34),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.VIEW")," "))}function iR(n,l){if(n&1){let e=E();r(0,"div",31)(1,"a",35),I("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",36)(3,"br"),a(),r(4,"p",34),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.DELETE")," "))}function nR(n,l){if(n&1&&(r(0,"mat-header-cell",37),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function oR(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.description," ")}}function rR(n,l){n&1&&S(0,"mat-header-row")}function aR(n,l){if(n&1){let e=E();r(0,"mat-row",38),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var ds=class ds extends xt{constructor(e,i,t,s,_,m,k,z,Se,qe,Ue,ft,jt){super(e,new Ld,ft,m,z);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=s;this.router=_;this.tokenHelper=m;this.cdr=k;this.translate=z;this.cmsStoreService=Se;this.themeService=qe;this.pageInfo=Ue;this.publicHelper=ft;this.dialog=jt;this.requestLinkCustomerOrder="";this.requestLinkProperty="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new pe;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Description"];this.tabledisplayedColumnsMobileSource=["Description"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkCustomerOrder=this.activatedRoute.snapshot.paramMap.get("LinkCustomerOrder"),this.requestLinkProperty=this.activatedRoute.snapshot.paramMap.get("LinkProperty"),this.optionsSearch.parentMethods={onSubmit:Ft=>this.onSubmitOptionsSearch(Ft)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=$.Descending,this.requestLinkCustomerOrder&&this.requestLinkCustomerOrder.length>0){let Ft=new H;this.requestLinkCustomerOrder&&this.requestLinkCustomerOrder.length>0&&(Ft.propertyName="LinkCustomerOrder",Ft.value=this.requestLinkCustomerOrder,this.filteModelContent.filters.push(Ft))}if(this.requestLinkProperty&&this.requestLinkProperty.length>0){let Ft=new H;this.requestLinkProperty&&this.requestLinkProperty.length>0&&(Ft.propertyName="LinkProperty",Ft.value=this.requestLinkProperty,this.filteModelContent.filters.push(Ft))}}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ld);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAll(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=$.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new H;_.propertyName="recordStatus",_.value=Qe.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open($c,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/estate/customer-order/"])}};ds.\u0275fac=function(i){return new(i||ds)(v(Ta),v(Kt),v(V),v(wt),v(Ze),v(Z),v(O),v(L),v(J),v(Vt),v(St),v(F),v(Ae))},ds.\u0275cmp=D({type:ds,selectors:[["app-estate-customer-order-result-list"]],standalone:!1,features:[oe],decls:39,vars:30,consts:[["tableSort","matSort"],["paginator",""],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Description"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],[1,"col-4"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=E();C(0,eR,1,1,"app-estate-customer-order-header",2),r(1,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),I("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),$e(2,4)(3,5)(4,6),A(5,7),r(6,"a",8),I("click",function(){return u(s),f(t.onActionBackToParent())}),S(7,"i",9),a(),r(8,"a",10),I("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(9,"i",11),a(),r(10,"a",10),I("click",function(){return u(s),f(t.onActionButtonReload())}),S(11,"i",12),a(),P(),A(12,13),r(13,"a",14),I("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(14,"mat-slide-toggle",15),c(15),g(16,"translate"),a(),r(17,"a",14),I("click",function(){return u(s),f(t.onActionButtonStatist())}),S(18,"mat-slide-toggle",15),c(19),g(20,"translate"),a(),P(),$e(21,16),A(22,17),C(23,tR,7,3,"div",18)(24,iR,7,3,"div",18),P(),A(25,19),r(26,"app-cms-search-list",20),w("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),a(),r(27,"app-cms-statist-list",20),w("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),P(),A(28,21),r(29,"mat-table",22,0),I("matSortChange",function(){u(s);let m=R(30);return f(t.onTableSortData(m))}),A(31,23),C(32,nR,2,1,"mat-header-cell",24)(33,oR,2,1,"mat-cell",25),P(),C(34,rR,1,0,"mat-header-row",26)(35,aR,1,2,"mat-row",27),a(),P(),A(36,28),r(37,"mat-paginator",29,1),I("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),P(),a()}i&2&&(d("ngIf",(t.requestLinkCustomerOrder==null?null:t.requestLinkCustomerOrder.length)>0),o(),d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(10),K("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),d("checked",t.optionsSearch.data.show),o(),y("",h(16,25,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",h(20,27,"ACTION.STATIST")," "),o(4),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),o(),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),o(2),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(5),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(29,$P)))},dependencies:[N,Mt,yt,bt,Tt,nt,rt,dt,at,ot,ct,lt,st,pt,mt,At,Pt,Rt,kt,Sr,B],encapsulation:2});var Gd=ds;var lR=["vform"];function sR(n,l){if(n&1){let e=E();r(0,"button",18),I("click",function(){u(e);let t=p(3);return f(t.onActionNext())}),S(1,"i",19),c(2," < "),a()}}function dR(n,l){if(n&1){let e=E();r(0,"button",18),I("click",function(){u(e);let t=p(3);return f(t.onActionPervious())}),S(1,"i",19),c(2," > "),a()}}function cR(n,l){if(n&1){let e=E();r(0,"div",17)(1,"button",18),I("click",function(){u(e);let t=p(2);return f(t.onFormCancel())}),S(2,"i",19),c(3),g(4,"translate"),a(),C(5,sR,3,0,"button",20)(6,dR,3,0,"button",20),a()}if(n&2){let e=p(2);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("ngIf",e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0),o(),d("ngIf",e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0)}}function pR(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),g(3,"translate"),a(),r(4,"td"),c(5),a()()),n&2){let e=p(2);o(2),y("",h(3,2,"TITLE.Description_Hidden"),":"),o(3),M(e.dataModel.descriptionHidden)}}function mR(n,l){if(n&1){let e=E();r(0,"button",18),I("click",function(){u(e);let t=p(3);return f(t.onActionNext())}),S(1,"i",19),c(2," < "),a()}}function uR(n,l){if(n&1){let e=E();r(0,"button",18),I("click",function(){u(e);let t=p(3);return f(t.onActionPervious())}),S(1,"i",19),c(2," > "),a()}}function fR(n,l){if(n&1){let e=E();r(0,"div",17)(1,"button",18),I("click",function(){u(e);let t=p(2);return f(t.onFormCancel())}),S(2,"i",19),c(3),g(4,"translate"),a(),C(5,mR,3,0,"button",20)(6,uR,3,0,"button",20),a()}if(n&2){let e=p(2);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("ngIf",e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0),o(),d("ngIf",e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0)}}function _R(n,l){if(n&1&&(A(0),r(1,"div",9),C(2,cR,7,5,"div",10),a(),r(3,"div",11)(4,"table",12)(5,"tbody")(6,"tr")(7,"td"),c(8),a(),r(9,"td"),S(10,"i",13),g(11,"statusIconClass"),a()(),r(12,"tr")(13,"td"),c(14),a(),r(15,"td"),c(16),a()(),r(17,"tr")(18,"td")(19,"b"),c(20),a()(),r(21,"td")(22,"b"),c(23),a()()(),r(24,"tr")(25,"td"),c(26),a(),r(27,"td"),c(28),g(29,"cmsuserinfo"),g(30,"async"),a()(),r(31,"tr")(32,"td"),c(33),a(),r(34,"td"),c(35),a()(),r(36,"tr")(37,"td"),c(38),g(39,"translate"),a(),r(40,"td"),c(41),a()(),C(42,pR,6,4,"tr",8),a()()(),r(43,"div",14),S(44,"app-cms-form-result-message",15),a(),r(45,"div",16),C(46,fR,7,5,"div",10),a(),P()),n&2){let e=p();o(2),d("ngIf",e.formInfo.submitButtonEnabled),o(6),y("",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle,":"),o(2),d("ngClass",h(11,16,e.dataModel.recordStatus)),o(4),y("",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle,":"),o(2),M(e.dataModel.title),o(4),y(" ",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle,":"),o(3),M(e.dataModel.caseCode),o(3),y("",e.fieldsInfo.createdBy==null?null:e.fieldsInfo.createdBy.fieldTitle,":"),o(2),M(h(30,20,h(29,18,e.dataModel.createdBy))),o(5),y("",e.fieldsInfo.linkEstateExpertId==null?null:e.fieldsInfo.linkEstateExpertId.fieldTitle,":"),o(2),M(e.dataModel.linkEstateExpertId),o(3),y("",h(39,22,"TITLE.General_Description"),":"),o(3),M(e.dataModel.description),o(),d("ngIf",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.accessWatchField),o(2),d("formInfo",e.formInfo),o(2),d("ngIf",e.formInfo.submitButtonEnabled)}}var cs=class cs{constructor(l,e,i,t,s,_,m,k,z,Se){this.data=l;this.dialogRef=e;this.coreEnumService=i;this.estateCustomerOrderService=t;this.cmsToastrService=s;this.tokenHelper=_;this.cmsStoreService=m;this.cdr=k;this.publicHelper=z;this.translate=Se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new It;this.dataModelResult=new G;this.dataModelEstateContractTypeResult=new G;this.dataModel=new kn;this.formInfo=new ue;this.fieldsInfo=new Map;this.optionTabledataSource=new mi;this.optionTabledisplayedColumns=["LinkEstateContractTypeId","Price"];this.fileManagerOpenForm=!1;this.errorMessage="";this.enumInputDataType=Oi;this.unsubscribe=[];this.step=0;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=l.id+"",this.requestPerviousItem=l.perviousItem,this.requestNextItem=l.nextItem)}ngOnInit(){if(this.translate.get("TITLE.QUICK_VIEW").subscribe(l=>{this.formInfo.formTitle=l}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>ae(this,null,function*(){this.tokenInfo=l})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.estateCustomerOrderService.setAccessLoad(),this.estateCustomerOrderService.setAccessDataType(Ne.Editor),this.estateCustomerOrderService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.errorMessage=e.errorMessage+"<br> ( "+e.errorTypeTitle+" ) ",this.cmsToastrService.typeErrorMessage(this.errorMessage)),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}setStep(l){this.step=l}nextStep(){this.step++}prevStep(){this.step--}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionNext(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestNextItem})}onActionPervious(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestPerviousItem})}};cs.\u0275fac=function(e){return new(e||cs)(v(Te),v(be),v(X),v($i),v(V),v(Z),v(J),v(O),v(F),v(L))},cs.\u0275cmp=D({type:cs,selectors:[["app-estate-property-history-quick-view"]],viewQuery:function(e,i){if(e&1&&te(lR,5),e&2){let t;ie(t=ne())&&(i.formGroup=t.first)}},standalone:!1,decls:12,vars:4,consts:[[1,"card","card-style","loader-container",2,"height","100vh","overflow-y","auto"],[3,"optionsInfoAreaId"],[1,"menu-title"],[1,"color-highlight"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],[1,"ntk-cms-html-card-header"],["class","form-actions",4,"ngIf"],["dir","rtl",1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[1,"table","table-striped"],[3,"ngClass"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray",3,"click",4,"ngIf"]],template:function(e,i){e&1&&(r(0,"div",0),S(1,"app-progress-spinner",1),r(2,"div",2)(3,"p",3),c(4),a(),r(5,"a",4),I("click",function(){return i.onFormCancel()}),S(6,"i",5),a(),S(7,"hr"),a(),r(8,"div",6)(9,"p",7),c(10),a(),C(11,_R,47,24,"ng-container",8),a()()),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(3),M(i.formInfo.formTitle),o(6),y(" ",i.formInfo.formDescription," "),o(),d("ngIf",!i.publicHelper.processService.process.inRunAll))},dependencies:[ce,N,_i,U,ge,We,B,Li,Zt],encapsulation:2});var Er=cs;var gR=["vform"],hR=n=>({direction:n});function yR(n,l){n&1&&S(0,"i",28)}function SR(n,l){n&1&&S(0,"i",29)}function CR(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function vR(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function IR(n,l){n&1&&(r(0,"mat-error"),c(1," DescriptionHidden is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function ER(n,l){if(n&1){let e=E();r(0,"div",12)(1,"label",30),c(2),a(),r(3,"textarea",31,3),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),a(),r(5,"em"),c(6),a(),C(7,IR,5,3,"mat-error",17),a()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",i.dataModel.descriptionHidden),d("disabled",!(i.fieldsInfo.descriptionHidden!=null&&i.fieldsInfo.descriptionHidden.accessEditField)),o(3),y("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function MR(n,l){if(n&1){let e=E();r(0,"app-cms-enum-x-selector",32),w("modelChange",function(t){u(e);let s=p();return T(s.dataModel.activityStatus,t)||(s.dataModel.activityStatus=t),f(t)}),a()}if(n&2){let e=p();d("optionDataListResult",e.dataModelEstateActivityStatusEnumResult),b("model",e.dataModel.activityStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.activityStatus==null?null:e.fieldsInfo.activityStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function bR(n,l){if(n&1){let e=E();r(0,"app-estate-account-expert-selector",22),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorEstateUser(t))}),a()}if(n&2){let e=p();d("optionSelectForce",e.dataModel.linkEstateExpertId)("optionPlaceholder",h(1,2,"TITLE.USER"))}}function TR(n,l){if(n&1){let e=E();r(0,"app-estate-account-agency-selector",33),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorEstateAgency(t))}),a()}if(n&2){let e=p();d("optionSelectForce",e.dataModel.linkEstateAgencyId)("optionSelectUserId",e.tokenInfo.access.userId)("optionPlaceholder",h(1,3,"TITLE.Property_agency"))}}function wR(n,l){if(n&1){let e=E();r(0,"app-estate-property-selector",22),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorProperty(t))}),a()}if(n&2){let e=p();d("optionSelectForce",e.dataModel.linkPropertyId)("optionPlaceholder",h(1,2,"TITLE.Property"))}}function xR(n,l){if(n&1){let e=E();r(0,"app-estate-customer-order-selector",22),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorCustomerOrderId(t))}),a()}if(n&2){let e=p();d("optionSelectForce",e.dataModel.linkCustomerOrderId)("optionPlaceholder",h(1,2,"TITLE.Customer"))}}function AR(n,l){if(n&1){let e=E();r(0,"div",34)(1,"label",35),c(2),a(),r(3,"input",36),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.appointmentDateFrom,t)||(s.dataModel.appointmentDateFrom=t),f(t)}),a(),S(4,"mat-datepicker-toggle",37)(5,"mat-datepicker",38,4),a()}if(n&2){let e=R(6),i=p();o(2),M(i.fieldsInfo.appointmentDateFrom==null?null:i.fieldsInfo.appointmentDateFrom.fieldTitle),o(),d("matDatepicker",e),b("ngModel",i.dataModel.appointmentDateFrom),d("formControl",i.date),o(),d("for",e)}}function PR(n,l){if(n&1){let e=E();r(0,"div",34)(1,"label",39),c(2),a(),r(3,"input",40),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.appointmentDateTo,t)||(s.dataModel.appointmentDateTo=t),f(t)}),a(),S(4,"mat-datepicker-toggle",37)(5,"mat-datepicker",38,5),a()}if(n&2){let e=R(6),i=p();o(2),M(i.fieldsInfo.appointmentDateTo==null?null:i.fieldsInfo.appointmentDateTo.fieldTitle),o(),d("matDatepicker",e),b("ngModel",i.dataModel.appointmentDateTo),d("formControl",i.date),o(),d("for",e)}}function RR(n,l){if(n&1){let e=E();r(0,"div",41)(1,"button",42),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",43),c(3),g(4,"translate"),a(),r(5,"button",44),S(6,"i",45),c(7),g(8,"translate"),a()()}if(n&2){p();let e=R(10);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",h(8,5,"ACTION.SAVE")," ")}}var ps=class ps extends Ut{constructor(e,i,t,s,_,m,k,z,Se,qe,Ue,ft,jt){super(s,new lr,ft,Se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyHistoryService=s;this.cmsToastrService=_;this.estateEnumService=m;this.cdr=k;this.tokenHelper=z;this.translate=Se;this.cmsStoreService=qe;this.pageInfo=Ue;this.publicHelper=ft;this.dialog=jt;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModel=new lr;this.dataFileModelFiles=new Map;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.date=new Et(new Date);this.dataModelEstateActivityStatusEnumResult=new G;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getEstateActivityStatusEnum()}getEstateActivityStatusEnum(){this.estateEnumService.ServiceEstateActivityStatusEnum().subscribe({next:e=>{this.dataModelEstateActivityStatusEnumResult=e}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyHistoryService.setAccessLoad(),this.estatePropertyHistoryService.setAccessDataType(Ne.Editor),this.estatePropertyHistoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.dataModel.linkFileIds&&this.dataModel.linkFileIds.length>0&&this.dataModel.linkFileIds.split(",").forEach((t,s)=>{let _="";this.dataModel.linkFileIdsSrc.length>=this.dataModel.linkFileIdsSrc.length&&(_=this.dataModel.linkFileIdsSrc[s]),this.dataFileModelFiles.set(+t,_)})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){if(this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="",this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyHistoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorEstateUser(e){this.dataModel.linkEstateExpertId=null,e&&e.id?.length>0&&(this.dataModel.linkEstateExpertId=e.id)}onActionSelectorProperty(e){this.dataModel.linkPropertyId=null,e&&e.id?.length>0&&(this.dataModel.linkPropertyId=e.id)}onActionSelectorCustomerOrderId(e){this.dataModel.linkCustomerOrderId=null,e&&e.id?.length>0&&(this.dataModel.linkCustomerOrderId=e.id)}onActionSelectorEstateAgency(e){this.dataModel.linkEstateAgencyId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateAgencyId=e.id)}onActionSelectorSelect(e){if(!e||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkActivityTypeId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ps.\u0275fac=function(i){return new(i||ps)(v(Te),v(be),v(X),v(to),v(V),v(fn),v(O),v(Z),v(L),v(J),v(St),v(F),v(Ae))},ps.\u0275cmp=D({type:ps,selectors:[["app-estate-property-history-edit"]],viewQuery:function(i,t){if(i&1&&te(gR,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:45,vars:41,consts:[["vform","ngForm"],["Title",""],["Description",""],["DescriptionHidden",""],["AppointmentDateFrom",""],["AppointmentDateTo",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","1000","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionSelectForce","optionSelectUserId","optionPlaceholder","optionChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","1000","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionSelectUserId","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.appointmentDateFrom",1,"color-highlight"],["matInput","","name","dataModel.appointmentDateFrom","id","dataModel.appointmentDateFrom",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","formControl"],["matSuffix","",3,"for"],["touchUi",""],["for","dataModel.appointmentDateTo",1,"color-highlight"],["matInput","","name","dataModel.appointmentDateTo","id","dataModel.appointmentDateTo",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","formControl"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",6),S(1,"app-progress-spinner",7),r(2,"div",8)(3,"p",9),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",10),r(9,"form",11,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"div",12)(12,"label",13),c(13),a(),r(14,"input",14,1),w("ngModelChange",function(m){return u(s),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),C(16,yR,1,0,"i",15)(17,SR,1,0,"i",16),r(18,"em"),c(19),a(),C(20,CR,5,3,"mat-error",17),a(),r(21,"div",12)(22,"label",18),c(23),a(),r(24,"textarea",19,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(26,"        "),a(),r(27,"em"),c(28),a(),C(29,vR,5,3,"mat-error",17),a(),C(30,ER,8,7,"div",20)(31,MR,1,6,"app-cms-enum-x-selector",21),r(32,"app-estate-activity-type-selector",22),g(33,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorSelect(m))}),a(),C(34,bR,2,4,"app-estate-account-expert-selector",23)(35,TR,2,5,"app-estate-account-agency-selector",24)(36,wR,2,4,"app-estate-property-selector",23)(37,xR,2,4,"app-estate-customer-order-selector",23)(38,AR,7,5,"div",25)(39,PR,7,5,"div",25),r(40,"p"),c(41),g(42,"translate"),a(),r(43,"app-cms-files-selector",26),w("dataFileModelChange",function(m){return u(s),T(t.dataFileModelFiles,m)||(t.dataFileModelFiles=m),f(m)}),a(),C(44,RR,9,7,"div",27),a()()()}if(i&2){let s=R(15),_=R(25);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(),d("ngStyle",ze(39,hR,t.tokenInfo.access.direction)),o(4),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",_.value.length," / 500"),o(),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),o(),d("ngIf",t.fieldsInfo.activityStatus==null?null:t.fieldsInfo.activityStatus.accessWatchField),o(),d("optionSelectForce",t.dataModel.linkActivityTypeId)("optionPlaceholder",h(33,35,"TITLE.Category")),o(2),d("ngIf",t.fieldsInfo.linkEstateExpertId==null?null:t.fieldsInfo.linkEstateExpertId.accessWatchField),o(),d("ngIf",t.fieldsInfo.linkEstateAgencyId==null?null:t.fieldsInfo.linkEstateAgencyId.accessWatchField),o(),d("ngIf",t.fieldsInfo.linkPropertyId==null?null:t.fieldsInfo.linkPropertyId.accessWatchField),o(),d("ngIf",t.fieldsInfo.linkCustomerOrderId==null?null:t.fieldsInfo.linkCustomerOrderId.accessWatchField),o(),d("ngIf",t.fieldsInfo.appointmentDateFrom==null?null:t.fieldsInfo.appointmentDateFrom.accessWatchField),o(),d("ngIf",t.fieldsInfo.appointmentDateTo==null?null:t.fieldsInfo.appointmentDateTo.accessWatchField),o(2),M(h(42,37,"TITLE.List_of_attached_files")),o(2),b("dataFileModel",t.dataFileModelFiles),d("openDirectUploadView",!0),o(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[N,it,ke,Y,q,we,de,De,Pe,me,Re,zt,Gn,Un,gn,xe,tt,Q,Qo,U,ge,Sn,al,yr,ll,xn,ao,B],encapsulation:2});var Ud=ps;var ms=class ms{constructor(l){this.service=l}transform(l){return!l||l.length<=0?new Nr:this.service.ServiceGetOneById(l,1e6).pipe(Ot(e=>{var i="";return e.isSuccess&&e.item.title&&e.item.title.length>0&&(i=e.item.title),i},e=>""))}};ms.\u0275fac=function(e){return new(e||ms)(v($i,16))},ms.\u0275pipe=tr({name:"estateCustomerOrderInfo",type:ms,pure:!0,standalone:!1});var us=ms;var fs=class fs{constructor(l){this.service=l}transform(l){return!l||l.length<=0?new Nr:this.service.ServiceGetOneById(l,1e6).pipe(Ot(e=>{var i="";return e.isSuccess&&e.item.title&&e.item.title.length>0&&(i=e.item.title),i},e=>""))}};fs.\u0275fac=function(e){return new(e||fs)(v(gi,16))},fs.\u0275pipe=tr({name:"estatePropertyInfo",type:fs,pure:!0,standalone:!1});var _s=fs;var kR=["vform"];function DR(n,l){if(n&1){let e=E();r(0,"button",19),I("click",function(){u(e);let t=p(3);return f(t.onActionNext())}),S(1,"i",20),c(2," < "),a()}}function LR(n,l){if(n&1){let e=E();r(0,"button",19),I("click",function(){u(e);let t=p(3);return f(t.onActionPervious())}),S(1,"i",20),c(2," > "),a()}}function VR(n,l){if(n&1){let e=E();r(0,"div",18)(1,"button",19),I("click",function(){u(e);let t=p(2);return f(t.onFormCancel())}),S(2,"i",20),c(3),g(4,"translate"),a(),C(5,DR,3,0,"button",21)(6,LR,3,0,"button",21),a()}if(n&2){let e=p(2);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("ngIf",e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0),o(),d("ngIf",e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0)}}function BR(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td"),c(4),g(5,"localeDateTime"),a()()),n&2){let e=p(2);o(2),y("",e.fieldsInfo.appointmentDateFrom==null?null:e.fieldsInfo.appointmentDateFrom.fieldTitle,":"),o(2),M(h(5,2,e.dataModel.appointmentDateFrom))}}function FR(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td"),c(4),g(5,"localeDateTime"),a()()),n&2){let e=p(2);o(2),y("",e.fieldsInfo.appointmentDateTo==null?null:e.fieldsInfo.appointmentDateTo.fieldTitle,":"),o(2),M(h(5,2,e.dataModel.appointmentDateTo))}}function OR(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td",14),c(4),g(5,"cmsuserinfo"),g(6,"async"),a()()),n&2){let e=p(2);o(2),y("",e.fieldsInfo.updatedBy==null?null:e.fieldsInfo.updatedBy.fieldTitle,":"),o(2),y(" ",h(6,4,h(5,2,e.dataModel.updatedBy))," ")}}function NR(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td",14),c(4),g(5,"estateAccountExpertInfo"),g(6,"async"),a()()),n&2){let e=p(2);o(2),y("",e.fieldsInfo.linkEstateExpertId==null?null:e.fieldsInfo.linkEstateExpertId.fieldTitle,":"),o(2),y(" ",h(6,4,h(5,2,e.dataModel.linkEstateExpertId))," ")}}function HR(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td",14),c(4),g(5,"estateAccountAgencyInfo"),g(6,"async"),a()()),n&2){let e=p(2);o(2),y("",e.fieldsInfo.linkEstateAgencyId==null?null:e.fieldsInfo.linkEstateAgencyId.fieldTitle,":"),o(2),y(" ",h(6,4,h(5,2,e.dataModel.linkEstateAgencyId))," ")}}function WR(n,l){if(n&1){let e=E();r(0,"tr")(1,"td"),c(2),a(),r(3,"td"),c(4),g(5,"estatePropertyInfo"),g(6,"async"),r(7,"button",22),I("click",function(){u(e);let t=p(2);return f(t.onActionButtonPropertyQuickViewRow(t.dataModel.linkPropertyId))}),r(8,"mat-icon"),c(9,"visibility"),a()()()()}if(n&2){let e=p(2);o(2),y("",e.fieldsInfo.linkPropertyId==null?null:e.fieldsInfo.linkPropertyId.fieldTitle,":"),o(2),y(" ",h(6,4,h(5,2,e.dataModel.linkPropertyId))," ")}}function GR(n,l){if(n&1){let e=E();r(0,"tr")(1,"td"),c(2),a(),r(3,"td"),c(4),g(5,"estateCustomerOrderInfo"),g(6,"async"),r(7,"button",22),I("click",function(){u(e);let t=p(2);return f(t.onActionButtonCustomerOrderQuickViewRow(t.dataModel.linkCustomerOrderId))}),r(8,"mat-icon"),c(9,"visibility"),a()()()()}if(n&2){let e=p(2);o(2),y("",e.fieldsInfo.linkCustomerOrderId==null?null:e.fieldsInfo.linkCustomerOrderId.fieldTitle,":"),o(2),y(" ",h(6,4,h(5,2,e.dataModel.linkCustomerOrderId))," ")}}function UR(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),g(3,"translate"),a(),r(4,"td"),c(5),a()()),n&2){let e=p(2);o(2),y("",h(3,2,"TITLE.General_Description"),":"),o(3),M(e.dataModel.description)}}function jR(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),g(3,"translate"),a(),r(4,"td"),c(5),a()()),n&2){let e=p(2);o(2),y("",h(3,2,"TITLE.Description_Hidden"),":"),o(3),M(e.dataModel.descriptionHidden)}}function qR(n,l){if(n&1){let e=E();r(0,"button",19),I("click",function(){u(e);let t=p(3);return f(t.onActionNext())}),S(1,"i",20),c(2," < "),a()}}function QR(n,l){if(n&1){let e=E();r(0,"button",19),I("click",function(){u(e);let t=p(3);return f(t.onActionPervious())}),S(1,"i",20),c(2," > "),a()}}function zR(n,l){if(n&1){let e=E();r(0,"div",18)(1,"button",19),I("click",function(){u(e);let t=p(2);return f(t.onFormCancel())}),S(2,"i",20),c(3),g(4,"translate"),a(),C(5,qR,3,0,"button",21)(6,QR,3,0,"button",21),a()}if(n&2){let e=p(2);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("ngIf",e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0),o(),d("ngIf",e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0)}}function YR(n,l){if(n&1&&(A(0),r(1,"div",9),C(2,VR,7,5,"div",10),a(),r(3,"div",11)(4,"table",12)(5,"tbody")(6,"tr")(7,"td"),c(8),a(),r(9,"td"),S(10,"i",13),g(11,"statusIconClass"),a()(),r(12,"tr")(13,"td"),c(14),a(),r(15,"td"),c(16),a()(),r(17,"tr")(18,"td")(19,"b"),c(20),a()(),r(21,"td")(22,"b"),c(23),a()()(),C(24,BR,6,4,"tr",8)(25,FR,6,4,"tr",8),r(26,"tr")(27,"td"),c(28),a(),r(29,"td",14),c(30),g(31,"cmsuserinfo"),g(32,"async"),a()(),C(33,OR,7,6,"tr",8)(34,NR,7,6,"tr",8)(35,HR,7,6,"tr",8)(36,WR,10,6,"tr",8)(37,GR,10,6,"tr",8)(38,UR,6,4,"tr",8)(39,jR,6,4,"tr",8),a()()(),r(40,"div",15),S(41,"app-cms-form-result-message",16),a(),r(42,"div",17),C(43,zR,7,5,"div",10),a(),P()),n&2){let e=p();o(2),d("ngIf",e.formInfo.submitButtonEnabled),o(6),y("",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle,":"),o(2),d("ngClass",h(11,20,e.dataModel.recordStatus)),o(4),y("",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle,":"),o(2),M(e.dataModel.title),o(4),y(" ",e.fieldsInfo.linkActivityTypeId==null?null:e.fieldsInfo.linkActivityTypeId.fieldTitle,":"),o(3),M(e.dataModel.linkActivityTypeId),o(),d("ngIf",e.dataModel.appointmentDateFrom),o(),d("ngIf",e.dataModel.appointmentDateTo),o(3),y("",e.fieldsInfo.createdBy==null?null:e.fieldsInfo.createdBy.fieldTitle,":"),o(2),y(" ",h(32,24,h(31,22,e.dataModel.createdBy))," "),o(3),d("ngIf",e.dataModel.updatedBy),o(),d("ngIf",(e.dataModel.linkEstateExpertId==null?null:e.dataModel.linkEstateExpertId.length)>0),o(),d("ngIf",(e.dataModel.linkEstateAgencyId==null?null:e.dataModel.linkEstateAgencyId.length)>0),o(),d("ngIf",(e.dataModel.linkPropertyId==null?null:e.dataModel.linkPropertyId.length)>0),o(),d("ngIf",(e.dataModel.linkCustomerOrderId==null?null:e.dataModel.linkCustomerOrderId.length)>0),o(),d("ngIf",(e.dataModel.description==null?null:e.dataModel.description.length)>0),o(),d("ngIf",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.accessWatchField),o(2),d("formInfo",e.formInfo),o(2),d("ngIf",e.formInfo.submitButtonEnabled)}}var gs=class gs{constructor(l,e,i,t,s,_,m,k,z,Se,qe){this.data=l;this.dialogRef=e;this.dialog=i;this.coreEnumService=t;this.estatePropertyHistoryService=s;this.cmsToastrService=_;this.tokenHelper=m;this.cmsStoreService=k;this.cdr=z;this.publicHelper=Se;this.translate=qe;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new It;this.dataModelResult=new G;this.dataModelEstateContractTypeResult=new G;this.dataModel=new lr;this.formInfo=new ue;this.fieldsInfo=new Map;this.optionTabledataSource=new mi;this.optionTabledisplayedColumns=["LinkEstateContractTypeId","Price"];this.fileManagerOpenForm=!1;this.errorMessage="";this.enumInputDataType=Oi;this.unsubscribe=[];this.step=0;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=l.id+"",this.requestPerviousItem=l.perviousItem,this.requestNextItem=l.nextItem)}ngOnInit(){if(this.translate.get("TITLE.QUICK_VIEW").subscribe(l=>{this.formInfo.formTitle=l}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>ae(this,null,function*(){this.tokenInfo=l})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.estatePropertyHistoryService.setAccessLoad(),this.estatePropertyHistoryService.setAccessDataType(Ne.Editor),this.estatePropertyHistoryService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.errorMessage=e.errorMessage+"<br> ( "+e.errorTypeTitle+" ) ",this.cmsToastrService.typeErrorMessage(this.errorMessage)),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}setStep(l){this.step=l}nextStep(){this.step++}prevStep(){this.step--}onActionButtonPropertyQuickViewRow(l){if(!l||l.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Zo,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionButtonCustomerOrderQuickViewRow(l){if(!l||l.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Er,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionNext(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestNextItem})}onActionPervious(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestPerviousItem})}};gs.\u0275fac=function(e){return new(e||gs)(v(Te),v(be),v(Ae),v(X),v(to),v(V),v(Z),v(J),v(O),v(F),v(L))},gs.\u0275cmp=D({type:gs,selectors:[["app-estate-property-history-quick-view"]],viewQuery:function(e,i){if(e&1&&te(kR,5),e&2){let t;ie(t=ne())&&(i.formGroup=t.first)}},standalone:!1,decls:12,vars:4,consts:[[1,"card","card-style","loader-container",2,"height","100vh","overflow-y","auto"],[3,"optionsInfoAreaId"],[1,"menu-title"],[1,"color-highlight"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],[1,"ntk-cms-html-card-header"],["class","form-actions",4,"ngIf"],["dir","rtl",1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[1,"table","table-striped"],[3,"ngClass"],[1,"input-ltr-right"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray",3,"click",4,"ngIf"],["type","button","mat-icon-button","",3,"click"]],template:function(e,i){e&1&&(r(0,"div",0),S(1,"app-progress-spinner",1),r(2,"div",2)(3,"p",3),c(4),a(),r(5,"a",4),I("click",function(){return i.onFormCancel()}),S(6,"i",5),a(),S(7,"hr"),a(),r(8,"div",6)(9,"p",7),c(10),a(),C(11,YR,44,26,"ng-container",8),a()()),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(3),M(i.formInfo.formTitle),o(6),y(" ",i.formInfo.formDescription," "),o(),d("ngIf",!i.publicHelper.processService.process.inRunAll))},dependencies:[ce,N,_i,Je,Ee,U,ge,We,B,Li,ro,Zt,fr,_r,us,_s],encapsulation:2});var hs=gs;var KR=()=>["expandedTitle"],ZR=()=>["expandedDetail"],JR=()=>[5,10,20,100],Q0=n=>({display:n});function XR(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.MENU")," "))}function $R(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"button",56),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelectActionMenu(t))}),S(2,"i",57),a()()}}function e4(n,l){n&1&&(r(0,"mat-header-cell",58),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.PICTURE")," "))}function t4(n,l){if(n&1&&(S(0,"img",60),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function i4(n,l){if(n&1&&(r(0,"mat-cell"),C(1,t4,2,4,"img",59),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function n4(n,l){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function o4(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function r4(n,l){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function a4(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"cmssiteinfo"),g(3,"async"),a()),n&2){let e=l.$implicit;o(),y(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function l4(n,l){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function s4(n,l){if(n&1&&S(0,"select",63),n&2){let e=p().$implicit,i=p();d("contentService",i.contentService)("row",e)("ngStyle",ze(3,Q0,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function d4(n,l){if(n&1&&(r(0,"mat-cell",61),g(1,"statusCellClass"),S(2,"i",61),g(3,"statusIconClass"),C(4,s4,1,5,"select",62),a()),n&2){let e=l.$implicit,i=p();d("ngClass",h(1,3,e.recordStatus)),o(2),d("ngClass",h(3,5,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function c4(n,l){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.name==null?null:e.fieldsInfo.name.fieldTitle," ")}}function p4(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.name," ")}}function m4(n,l){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.lastName==null?null:e.fieldsInfo.lastName.fieldTitle," ")}}function u4(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.lastName," ")}}function f4(n,l){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.companyName==null?null:e.fieldsInfo.companyName.fieldTitle," ")}}function _4(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.companyName," ")}}function g4(n,l){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.email==null?null:e.fieldsInfo.email.fieldTitle," ")}}function h4(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.email," ")}}function y4(n,l){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.mobile==null?null:e.fieldsInfo.mobile.fieldTitle," ")}}function S4(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.mobile," ")}}function C4(n,l){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function v4(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),y(" ",h(2,1,e.createdDate)," ")}}function I4(n,l){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function E4(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),y(" ",h(2,1,e.updatedDate)," ")}}function M4(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.OPTION")," "))}function b4(n,l){if(n&1&&(r(0,"mat-cell",64)(1,"button",65)(2,"mat-icon"),c(3,"more_vert"),a()(),S(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),d("matMenuTriggerFor",e)}}function T4(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"translate"),g(3,"localeDate"),a()),n&2){let e=l.$implicit;o(),ee(" ",h(2,2,"TITLE.CreationDate")," : ",h(3,4,e.createdDate)," ")}}function w4(n,l){if(n&1&&(S(0,"img",69),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function x4(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),C(5,w4,2,4,"img",66),a(),r(6,"th")(7,"span",67),I("click",function(){u(e);let t=p();return f(t.onActionCopied())}),S(8,"i",68),a(),c(9),a()(),r(10,"tr"),S(11,"td"),r(12,"td"),c(13),a()(),r(14,"tr"),S(15,"td"),r(16,"td"),c(17),a()(),r(18,"tr"),S(19,"td"),r(20,"td"),c(21),a()(),r(22,"tr"),S(23,"td"),r(24,"td"),c(25),a()(),r(26,"tr"),S(27,"td"),r(28,"td"),c(29),a()(),r(30,"tr"),S(31,"td"),r(32,"td"),c(33),a()(),r(34,"tr"),S(35,"td")(36,"td"),a()()()()}if(n&2){let e=l.$implicit,i=p();o(5),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),o(2),d("cdkCopyToClipboard",e.id),o(2),y(" ",e.id," "),o(4),ee(" ",i.fieldsInfo.username==null?null:i.fieldsInfo.username.fieldTitle," : ",e.username," "),o(4),ee(" ",i.fieldsInfo.name==null?null:i.fieldsInfo.name.fieldTitle," : ",e.name," "),o(4),ee(" ",i.fieldsInfo.lastName==null?null:i.fieldsInfo.lastName.fieldTitle," : ",e.lastName," "),o(4),ee(" ",i.fieldsInfo.mobile==null?null:i.fieldsInfo.mobile.fieldTitle," : ",e.mobile," "),o(4),ee(" ",i.fieldsInfo.email==null?null:i.fieldsInfo.email.fieldTitle," : ",e.email," "),o(4),ee(" ",i.fieldsInfo.companyName==null?null:i.fieldsInfo.companyName.fieldTitle," : ",e.companyName," ")}}function A4(n,l){n&1&&S(0,"mat-header-row")}function P4(n,l){if(n&1){let e=E();r(0,"mat-row",70),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=p();K("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function R4(n,l){if(n&1){let e=E();r(0,"mat-row",71),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=p();K("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function k4(n,l){if(n&1){let e=E();r(0,"mat-row",72),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=p();K("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),d("ngStyle",ze(7,Q0,e.expanded===!0?"":"none"))}}function D4(n,l){if(n&1){let e=E();r(0,"div",73)(1,"button",74),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",75),c(3),g(4,"translate"),a()()}n&2&&(o(3),y(" ",h(4,1,"ACTION.CANCEL")," "))}var ys=class ys extends xt{constructor(e,i,t,s,_,m,k,z,Se,qe,Ue,ft){super(t,new xr,Ue,_,z);this.data=e;this.dialogRef=i;this.contentService=t;this.cmsToastrService=s;this.tokenHelper=_;this.router=m;this.cdr=k;this.translate=z;this.cmsStoreService=Se;this.pageInfo=qe;this.publicHelper=Ue;this.dialog=ft;this.requestTitle="";this.requestPropertyId="";this.constructorInfoAreaId=this.constructor.name;this.tablePropertySelected=[];this.filteModelContent=new pe;this.filterDataModelQueryBuilder=[];this.formInfo=new ue;this.optionsSearch=new cr;this.optionsStatist=new pr;this.tokenInfo=new It;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","Name","LastName","CompanyName","email","mobile","action_menu"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","Name","LastName","action_menu"];this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(e.title&&(this.requestTitle=e.title+""),e.id&&(this.requestPropertyId=e.id+"")),this.optionsSearch.parentMethods={onSubmit:jt=>this.onSubmitOptionsSearch(jt)}}ngOnInit(){this.translate.get("TITLE.QUICK_VIEW").subscribe(e=>{this.formInfo.formTitle=e}),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new xr);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllResponsibleUserId(this.requestPropertyId,i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems):this.cmsToastrService.typeErrorGetAll(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=$.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ys.\u0275fac=function(i){return new(i||ys)(v(Te),v(be),v(to),v(V),v(Z),v(Ze),v(O),v(L),v(J),v(St),v(F),v(Ae))},ys.\u0275cmp=D({type:ys,selectors:[["app-estate-property-history-responsible-user-list"]],standalone:!1,features:[oe],decls:83,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],["cms-action-main",""],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Name"],["matColumnDef","LastName"],["matColumnDef","CompanyName"],["matColumnDef","email"],["matColumnDef","mobile"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){if(i&1){let s=E();r(0,"div",3),S(1,"app-progress-spinner",4),r(2,"div",5),c(3),a(),r(4,"div",6)(5,"app-cms-html-list",7),w("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),I("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),$e(6,8)(7,9)(8,10),A(9,11),r(10,"a",12),I("click",function(){return u(s),f(t.onActionButtonReload())}),S(11,"i",13),a(),r(12,"a",14),I("click",function(){return u(s),f(t.onActionGridExpandRows(!0))}),S(13,"i",15),a(),r(14,"a",14),I("click",function(){return u(s),f(t.onActionGridExpandRows(!1))}),S(15,"i",16),a(),P(),A(16,17),r(17,"a",18)(18,"mat-slide-toggle",19),w("ngModelChange",function(m){return u(s),T(t.optionsSearch.data.show,m)||(t.optionsSearch.data.show=m),f(m)}),a(),c(19),g(20,"translate"),a(),P(),$e(21,20)(22,21),A(23,22),r(24,"app-cms-search-list",23),w("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),a(),r(25,"app-cms-statist-list",23),w("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),P(),A(26,24),r(27,"mat-table",25,0),I("matSortChange",function(){u(s);let m=R(28);return f(t.onTableSortData(m))}),A(29,26),C(30,XR,3,3,"mat-header-cell",27)(31,$R,3,0,"mat-cell",28),P(),A(32,29),C(33,e4,3,3,"mat-header-cell",30)(34,i4,2,1,"mat-cell",28),P(),A(35,31),C(36,n4,2,1,"mat-header-cell",30)(37,o4,2,1,"mat-cell",28),P(),A(38,32),C(39,r4,2,1,"mat-header-cell",30)(40,a4,4,5,"mat-cell",28),P(),A(41,33),C(42,l4,2,1,"mat-header-cell",30)(43,d4,5,7,"mat-cell",34),P(),A(44,35),C(45,c4,2,1,"mat-header-cell",30)(46,p4,2,1,"mat-cell",28),P(),A(47,36),C(48,m4,2,1,"mat-header-cell",30)(49,u4,2,1,"mat-cell",28),P(),A(50,37),C(51,f4,2,1,"mat-header-cell",30)(52,_4,2,1,"mat-cell",28),P(),A(53,38),C(54,g4,2,1,"mat-header-cell",30)(55,h4,2,1,"mat-cell",28),P(),A(56,39),C(57,y4,2,1,"mat-header-cell",30)(58,S4,2,1,"mat-cell",28),P(),A(59,40),C(60,C4,2,1,"mat-header-cell",30)(61,v4,3,3,"mat-cell",28),P(),A(62,41),C(63,I4,2,1,"mat-header-cell",30)(64,E4,3,3,"mat-cell",28),P(),A(65,42),C(66,M4,3,3,"mat-header-cell",27)(67,b4,6,1,"mat-cell",43),P(),A(68,44),C(69,T4,4,6,"mat-cell",28),P(),A(70,45),C(71,x4,37,15,"mat-cell",28),P(),C(72,A4,1,0,"mat-header-row",46)(73,P4,1,6,"mat-row",47)(74,R4,1,6,"mat-row",48)(75,k4,1,9,"mat-row",49),a(),P(),A(76,50),r(77,"mat-paginator",51,1),I("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),P(),a()(),r(79,"div",52),S(80,"app-cms-form-result-message",53),a(),r(81,"div",54),C(82,D4,5,3,"div",55),a()()}i&2&&(o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(2),y(" ",t.formInfo.formTitle," "),o(2),d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.username==null?null:t.tableRowSelected.username.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.username:t.tableRowSelected==null?null:t.tableRowSelected.id),o(13),b("ngModel",t.optionsSearch.data.show),o(),y("",h(20,25,"ACTION.SEARCH")," "),o(5),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(45),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",se(27,KR)),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(),d("matRowDefColumns",se(28,ZR)),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(29,JR)),o(3),d("formInfo",t.formInfo),o(2),d("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[ce,N,it,q,me,Je,Ee,Q,Dt,Lt,Mt,yt,bt,Tt,nt,rt,dt,at,ot,ct,lt,st,pt,mt,fi,At,Pt,U,ge,Rt,kt,Hi,We,B,sn,Me,jn,Zt,qn],encapsulation:2});var ep=ys;function L4(n,l){if(n&1){let e=E();r(0,"button",14),I("click",function(){u(e);let t=p();return f(t.onActionAdd())}),c(1),g(2,"translate"),a()}n&2&&(o(),y(" ",h(2,1,"ACTION.ADD")," "))}function V4(n,l){if(n&1){let e=E();r(0,"button",15),I("click",function(){u(e);let t=p();return f(t.onActionEdit())}),c(1),g(2,"translate"),a()}n&2&&(o(),y(" ",h(2,1,"ACTION.EDIT")," "))}function B4(n,l){if(n&1){let e=E();r(0,"button",16),I("click",function(){u(e);let t=p();return f(t.onActionDelete())}),c(1),g(2,"translate"),a()}n&2&&(o(),y(" ",h(2,1,"ACTION.DELETE")," "))}function F4(n,l){if(n&1){let e=E();r(0,"button",17),I("click",function(){u(e);let t=p();return f(t.onActionButtonReload())}),r(1,"mat-icon",18),g(2,"translate"),c(3,"refresh"),a()()}n&2&&(o(),d("title",x(h(2,2,"ACTION.RELOAD"))))}function O4(n,l){if(n&1){let e=E();r(0,"mat-tree-node",19),S(1,"button",20),r(2,"span",21),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionSelect(t))}),c(3),a()()}if(n&2){let e=l.$implicit,i=p();K("ntk-tree-selected",(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&i.dataModelSelect.id===e.id),o(3),M(e.title)}}function N4(n,l){if(n&1){let e=E();r(0,"mat-tree-node",22)(1,"button",23)(2,"mat-icon",24),c(3),a()(),r(4,"span",21),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionSelect(t))}),c(5),a()()}if(n&2){let e=l.$implicit,i=p(),t=R(12);K("ntk-tree-selected",(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&i.dataModelSelect.id===e.id),d("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),vt("type","button")("aria-label","Toggle "+e.title),o(2),y(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),M(e.title)}}var Ss=class Ss{constructor(l,e,i,t,s,_,m,k,z,Se,qe){this.cmsToastrService=l;this.coreEnumService=e;this.categoryService=i;this.cmsConfirmationDialogService=t;this.themeService=s;this.dialog=_;this.cdr=m;this.publicHelper=k;this.translate=z;this.tokenHelper=Se;this.cmsStoreService=qe;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new Pn;this.dataModelResult=new G;this.filterModel=new pe;this.dataSource=new Ho;this.optionChange=new Xe;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(l,e)=>!1;this.childrenAccessor=l=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(()=>ae(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Pn,this.DataGetAll()}onActionSelectForce(l){}onActionAdd(){var l="";this.publicHelper.isMobile?l="dialog-fullscreen":l="dialog-min",this.dialog.open($a,{height:"90%",panelClass:l,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let l="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(l=this.dataModelSelect.id),l===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(tl,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let l="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(l=this.dataModelSelect.id),l===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="",i="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(t=>{e=t["MESSAGE.Please_Confirm"],i=t["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.dataModelSelect.title+" ) ",this.cmsConfirmationDialogService.confirm(e,i).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.dataModelSelect.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_,!1)}})}}).catch(()=>{})})}};Ss.\u0275fac=function(e){return new(e||Ss)(v(V),v(X),v($n),v(wt),v(Vt),v(Ae),v(O),v(F),v(L),v(Z),v(J))},Ss.\u0275cmp=D({type:Ss,selectors:[["app-estate-activity-type-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:16,vars:14,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(r(0,"app-cms-html-tree",1),A(1,2),c(2),g(3,"translate"),P(),A(4,3),C(5,L4,3,3,"button",4)(6,V4,3,3,"button",5)(7,B4,3,3,"button",6)(8,F4,4,4,"button",7),P(),A(9,8),S(10,"app-progress-spinner",9),r(11,"mat-tree",10,0),C(13,O4,4,3,"mat-tree-node",11)(14,N4,6,8,"mat-tree-node",12),a(),P(),$e(15,13),a()),e&2&&(d("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),y(" ",h(3,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),o(),d("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),o(),d("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessDeleteRow)&&i.dataModelSelect.id&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessWatchRow),o(2),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),d("matTreeNodeDefWhen",i.hasChild))},dependencies:[N,Je,Ee,Bo,Fo,No,Oo,Vo,U,qo,B],encapsulation:2});var tp=Ss;function W4(n,l){n&1&&S(0,"div",10)}function G4(n,l){if(n&1){let e=E();r(0,"button",16),I("click",function(){u(e);let t=p();return f(t.onActionButtonLinkTo())}),r(1,"mat-icon"),c(2,"\u2197 "),a()()}}var Cs=class Cs{constructor(l,e,i,t,s,_,m,k,z){this.headerService=l;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.translate=s;this.cmsStoreService=_;this.themeService=m;this.dialog=k;this.tokenHelper=z;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new G;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(()=>ae(this,null,function*(){this.DataGetOneContent()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetOneContent(){let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionButtonLinkTo(l=this.dataModelResult.item){if(!l||!l.id||l.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(l.recordStatus!=Qe.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(yn,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{title:l.title,urlViewContentQRCodeBase64:l.urlViewContentQRCodeBase64,urlViewContent:l.urlViewContent}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}};Cs.\u0275fac=function(e){return new(e||Cs)(v(gi),v(F),v(O),v(V),v(L),v(J),v(Vt),v(Ae),v(Z))},Cs.\u0275cmp=D({type:Cs,selectors:[["app-estate-property-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:34,vars:11,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],["class","td",4,"ngIf"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"td",2,"text-align","left"],["title","link to"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],[1,"divider","divider-margins"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"]],template:function(e,i){e&1&&(r(0,"div",0),S(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),S(6,"span",6),a(),r(7,"div",7)(8,"h5")(9,"b"),c(10),g(11,"translate"),a()()(),C(12,W4,1,0,"div",8),a(),r(13,"div",4)(14,"div",5)(15,"b"),c(16),a(),c(17,": "),a(),r(18,"div",9),c(19),a(),S(20,"div",10)(21,"div",11),a(),r(22,"div",4)(23,"div",5)(24,"b"),c(25),a(),c(26," : "),a(),r(27,"div",9),c(28),a(),r(29,"div",12)(30,"abbr",13),C(31,G4,3,0,"button",14),a()(),S(32,"div",11),a()()()(),S(33,"div",15)),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(5),d("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),M(h(11,9,"TITLE.Selected_Property")),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(4),y("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," "),o(3),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),M(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(3),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title),o(3),d("ngIf",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id))},dependencies:[N,Ee,U,hn,B],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var vs=Cs;var U4=()=>["expandedTitle"],j4=()=>["expandedDetail"],q4=()=>[5,10,20,100],K0=n=>({display:n});function Q4(n,l){if(n&1&&S(0,"app-estate-property-header",59),n&2){let e=p();d("optionId",e.requestLinkPropertyId)}}function z4(n,l){if(n&1&&S(0,"app-estate-customer-order-header",59),n&2){let e=p();d("optionId",e.requestLinkCustomerOrderId)}}function Y4(n,l){if(n&1&&S(0,"app-estate-account-expert-header",59),n&2){let e=p();d("optionId",e.requestLinkEstateExpertId)}}function K4(n,l){if(n&1){let e=E();r(0,"div",25)(1,"a",60),I("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),S(2,"i",61)(3,"br"),a(),r(4,"p",27),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.ADD")," "))}function Z4(n,l){if(n&1){let e=E();r(0,"div",25)(1,"a",62),I("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",63)(3,"br"),a(),r(4,"p",27),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.EDIT")," "))}function J4(n,l){if(n&1){let e=E();r(0,"div",25)(1,"a",64),I("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",65)(3,"br"),a(),r(4,"p",27),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.DELETE")," "))}function X4(n,l){n&1&&(r(0,"mat-error"),c(1),g(2,"translate"),a()),n&2&&(o(),M(h(2,1,"MESSAGE.InvalidStartDate")))}function $4(n,l){n&1&&(r(0,"mat-error"),c(1),g(2,"translate"),a()),n&2&&(o(),M(h(2,1,"MESSAGE.InvalidEndDate")))}function ek(n,l){if(n&1){let e=E();r(0,"div",66)(1,"div",67),c(2),g(3,"translate"),a(),r(4,"mat-form-field",68)(5,"mat-label"),c(6),g(7,"translate"),a(),r(8,"mat-date-range-input",69),S(9,"input",70),g(10,"translate"),S(11,"input",71),g(12,"translate"),a(),S(13,"mat-datepicker-toggle",72)(14,"mat-date-range-picker",null,2),C(16,X4,3,3,"mat-error",73)(17,$4,3,3,"mat-error",73),a(),r(18,"button",74),I("click",function(){u(e);let t=p();return f(t.onActionNext())}),S(19,"i",75),a(),r(20,"button",74),I("click",function(){u(e);let t=p();return f(t.onActionPervious())}),S(21,"i",75),c(22," > "),a(),S(23,"br"),r(24,"a",76),I("click",function(){u(e);let t=p();return f(t.onActionButtonInCheckingOnDateSearch())}),c(25),g(26,"translate"),a()()}if(n&2){let e=R(15),i=p();o(2),y(" ",h(3,12,"TITLE.SearchInCheckingOnDay")," "),o(4),M(h(7,14,"TITLE.Enter_a_date_range")),o(2),d("formGroup",i.checkingOnDayRange)("rangePicker",e),o(),d("placeholder",x(h(10,16,"TITLE.Start_Date"))),o(2),d("placeholder",x(h(12,18,"TITLE.Start_Date"))),o(2),d("for",e),o(3),d("ngIf",i.checkingOnDayRange.controls.start.hasError("matStartDateInvalid")),o(),d("ngIf",i.checkingOnDayRange.controls.end.hasError("matEndDateInvalid")),o(8),M(h(26,20,"ACTION.SEARCH"))}}function tk(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.MENU")," "))}function ik(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"button",77),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelectActionMenu(t))}),S(2,"i",78),a()()}}function nk(n,l){if(n&1&&(r(0,"mat-header-cell",79),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function ok(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function rk(n,l){if(n&1&&(r(0,"mat-header-cell",79),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function ak(n,l){if(n&1&&S(0,"select",82),n&2){let e=p().$implicit,i=p();d("contentService",i.contentService)("row",e)("ngStyle",ze(3,K0,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function lk(n,l){if(n&1&&(r(0,"mat-cell",80),g(1,"statusCellClass"),S(2,"i",80),g(3,"statusIconClass"),C(4,ak,1,5,"select",81),a()),n&2){let e=l.$implicit,i=p();d("ngClass",h(1,3,e.recordStatus)),o(2),d("ngClass",h(3,5,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function sk(n,l){if(n&1&&(r(0,"mat-header-cell",79),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function dk(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function ck(n,l){if(n&1&&(r(0,"mat-header-cell",79),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function pk(n,l){if(n&1&&(r(0,"mat-cell",83),c(1),g(2,"localeDateTime"),a()),n&2){let e=l.$implicit;o(),y(" ",h(2,1,e.createdDate)," ")}}function mk(n,l){if(n&1&&(r(0,"mat-header-cell",79),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.appointmentDateFrom==null?null:e.fieldsInfo.appointmentDateFrom.fieldTitle," ")}}function uk(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"localeDate"),a()),n&2){let e=l.$implicit,i=p();o(),ee(" ",h(2,2,e.appointmentDateFrom)," ",i.publicHelper.getTime(e.appointmentDateFrom))}}function fk(n,l){if(n&1&&(r(0,"mat-header-cell",79),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.appointmentDateTo==null?null:e.fieldsInfo.appointmentDateTo.fieldTitle," ")}}function _k(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"localeDate"),a()),n&2){let e=l.$implicit,i=p();o(),ee(" ",h(2,2,e.appointmentDateTo)," ",i.publicHelper.getTime(e.appointmentDateTo)," ")}}function gk(n,l){if(n&1&&(r(0,"mat-header-cell",79),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.linkActivityTypeId==null?null:e.fieldsInfo.linkActivityTypeId.fieldTitle," ")}}function hk(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"cmstitle"),a()),n&2){let e=l.$implicit,i=p();o(),y(" ",di(2,1,e.linkActivityTypeId,i.dataModelActivityTypeResult.listItems)," ")}}function yk(n,l){if(n&1&&(r(0,"mat-header-cell",79),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.activityStatus==null?null:e.fieldsInfo.activityStatus.fieldTitle," ")}}function Sk(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"enums"),a()),n&2){let e=l.$implicit,i=p();o(),y(" ",di(2,1,e.activityStatus,i.dataModelEstateActivityStatusEnumResult.listItems)," ")}}function Ck(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.OPTION")," "))}function vk(n,l){if(n&1&&(r(0,"mat-cell",84)(1,"button",85)(2,"mat-icon"),c(3,"more_vert"),a()(),S(4,"mat-menu",null,3),a()),n&2){let e=R(5);o(),d("matMenuTriggerFor",e)}}function Ik(n,l){n&1&&(r(0,"mat-header-cell",86),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.QUICK_VIEW")," "))}function Ek(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"button",87),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionButtonQuickViewRow(t))}),r(2,"mat-icon",88),c(3,"visibility"),a()()()}}function Mk(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function bk(n,l){if(n&1){let e=E();r(0,"tr")(1,"td"),c(2),g(3,"translate"),a(),r(4,"td")(5,"span",89),I("click",function(){u(e);let t=p(2);return f(t.onActionCopied())}),c(6),g(7,"estatePropertyInfo"),g(8,"async"),S(9,"i",91),a(),r(10,"button",92),I("click",function(){u(e);let t=p().$implicit,s=p();return f(s.onActionButtonPropertyQuickViewRow(t.linkPropertyId))}),r(11,"mat-icon"),c(12,"visibility"),a()()()()}if(n&2){let e=p().$implicit;o(2),y("",h(3,3,"TITLE.Property_Id"),":"),o(3),d("cdkCopyToClipboard",e.linkPropertyId),o(),y(" ",h(8,7,h(7,5,e.linkPropertyId))," \xA0 ")}}function Tk(n,l){if(n&1){let e=E();r(0,"tr")(1,"td"),c(2),g(3,"translate"),a(),r(4,"td")(5,"span",89),I("click",function(){u(e);let t=p(2);return f(t.onActionCopied())}),c(6),g(7,"estateCustomerOrderInfo"),g(8,"async"),S(9,"i",90),a(),r(10,"button",92),I("click",function(){u(e);let t=p().$implicit,s=p();return f(s.onActionButtonCustomerOrderQuickViewRow(t.linkCustomerOrderId))}),r(11,"mat-icon"),c(12,"visibility"),a()()()()}if(n&2){let e=p().$implicit;o(2),y("",h(3,3,"TITLE.Customer_Order_Id"),":"),o(3),d("cdkCopyToClipboard",e.linkCustomerOrderId),o(),y(" ",h(8,7,h(7,5,e.linkCustomerOrderId))," \xA0 ")}}function wk(n,l){if(n&1){let e=E();r(0,"tr")(1,"td"),c(2),g(3,"translate"),a(),r(4,"td")(5,"span",89),I("click",function(){u(e);let t=p(2);return f(t.onActionCopied())}),c(6),g(7,"estateAccountExpertInfo"),g(8,"async"),S(9,"i",90),a()()()}if(n&2){let e=p().$implicit;o(2),y("",h(3,3,"TITLE.Expert_Id"),":"),o(3),d("cdkCopyToClipboard",e.linkCustomerOrderId),o(),y(" ",h(8,7,h(7,5,e.linkEstateExpertId))," \xA0 ")}}function xk(n,l){if(n&1){let e=E();r(0,"tr")(1,"td"),c(2),g(3,"translate"),a(),r(4,"td")(5,"span",89),I("click",function(){u(e);let t=p(2);return f(t.onActionCopied())}),c(6),g(7,"estateAccountAgencyInfo"),g(8,"async"),S(9,"i",90),a()()()}if(n&2){let e=p().$implicit;o(2),y("",h(3,3,"TITLE.Agency_Id"),":"),o(3),d("cdkCopyToClipboard",e.linkCustomerOrderId),o(),y(" ",h(8,7,h(7,5,e.linkEstateAgencyId))," \xA0 ")}}function Ak(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td"),c(4),a()()),n&2){let e=p().$implicit,i=p();o(2),y("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle,":"),o(2),M(e.title)}}function Pk(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td"),c(4),a()()),n&2){let e=p().$implicit,i=p();o(2),y("",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle,":"),o(2),M(e.description)}}function Rk(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"td"),c(5),g(6,"translate"),a(),r(7,"td")(8,"span",89),I("click",function(){u(e);let t=p();return f(t.onActionCopied())}),c(9," \xA0 "),S(10,"i",90),a(),c(11),a()(),C(12,bk,13,9,"tr",73)(13,Tk,13,9,"tr",73)(14,wk,10,9,"tr",73)(15,xk,10,9,"tr",73)(16,Ak,5,2,"tr",73)(17,Pk,5,2,"tr",73),r(18,"tr"),S(19,"td"),r(20,"td"),c(21),g(22,"cmsuserinfo"),g(23,"async"),a()(),r(24,"tr"),S(25,"td")(26,"td"),a()()()()}if(n&2){let e=l.$implicit;o(5),y("",h(6,10,"TITLE.Id"),":"),o(3),d("cdkCopyToClipboard",e.id),o(3),y("",e.id," "),o(),d("ngIf",e.linkPropertyId&&e.linkPropertyId.length>0),o(),d("ngIf",e.linkCustomerOrderId&&e.linkCustomerOrderId.length>0),o(),d("ngIf",e.linkEstateExpertId&&e.linkEstateExpertId.length>0),o(),d("ngIf",e.linkEstateAgencyId&&e.linkEstateAgencyId.length>0),o(),d("ngIf",e.title&&e.title.length>0),o(),d("ngIf",e.description&&e.description.length>0),o(4),M(h(23,14,h(22,12,e.createdBy)))}}function kk(n,l){n&1&&S(0,"mat-header-row")}function Dk(n,l){if(n&1){let e=E();r(0,"mat-row",93),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Lk(n,l){if(n&1){let e=E();r(0,"mat-row",94),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Vk(n,l){if(n&1){let e=E();r(0,"mat-row",95),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),d("ngStyle",ze(3,K0,e.expanded===!0?"":"none"))}}var Is=class Is extends xt{constructor(e,i,t,s,_,m,k,z,Se,qe,Ue,ft,jt){super(e,new lr,ft,m,qe);this.contentService=e;this.cmsConfirmationDialogService=i;this.cmsToastrService=t;this.estateActivityTypeService=s;this.estateEnumService=_;this.tokenHelper=m;this.activatedRoute=k;this.cmsStoreService=z;this.cdr=Se;this.translate=qe;this.pageInfo=Ue;this.publicHelper=ft;this.dialog=jt;this.requestLinkPropertyId="";this.requestLinkEstateExpertId="";this.requestLinkCustomerOrderId="";this.requestLinkEstateAgencyId="";this.responsibleUserId=0;this.constructorInfoAreaId=this.constructor.name;this.optionloadComponent=!0;this.optionloadByRoute=!0;this.popupAdd=!1;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ra;this.dataModelActivityTypeResult=new G;this.searchInCheckingOnDay=!1;this.searchInCheckingPlanedToDay=!1;this.searchInCheckingPlanedToDayUserId=0;this.searchInCheckingOnDayChecked=!1;this.searchInCheckingPlanedToDayChecked=!1;this.searchInResponsibleChecked=!1;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","createdDate","AppointmentDateFrom","AppointmentDateTo","LinkActivityTypeId","ActivityStatus","QuickView","action_menu"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","createdDate","ActivityStatus","QuickView","action_menu"];this.dataModelEstateActivityStatusEnumResult=new G;this.unsubscribe=[];this.checkingOnDayRange=new dc({start:new Et(null),end:new Et(null)});Ue.updateContentService(e),this.publicHelper.processService.cdr=this.cdr,this.requestLinkPropertyId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyId"),this.requestLinkEstateExpertId=this.activatedRoute.snapshot.paramMap.get("LinkEstateExpertId"),this.requestLinkCustomerOrderId=this.activatedRoute.snapshot.paramMap.get("LinkCustomerOrderId"),this.requestLinkEstateAgencyId=this.activatedRoute.snapshot.paramMap.get("LinkEstateAgencyId"),this.popupAdd=this.activatedRoute.snapshot.paramMap.get("Action")?.toLowerCase()==="add",this.requestRecordStatus=Qe[this.activatedRoute.snapshot.paramMap.get("recordStatus")+""],this.responsibleUserId=+this.activatedRoute.snapshot.paramMap.get("ResponsibleUserId"),this.requestRecordStatus&&(this.optionsSearch.data.show=!0,this.optionsSearch.data.defaultQuery='{"condition":"and","rules":[{"field":"recordStatus","type":"select","operator":"equal","value":"'+this.requestRecordStatus+'"}]}',this.requestRecordStatus=null),this.requestActivityStatus=oc[this.activatedRoute.snapshot.paramMap.get("ActivityStatus")+""],this.optionsSearch.parentMethods={onSubmit:Ft=>this.onSubmitOptionsSearch(Ft)},this.activatedRoute.snapshot.paramMap.get("InCheckingOnDay")&&(this.searchInCheckingOnDay=this.activatedRoute.snapshot.paramMap.get("InCheckingOnDay")==="true"),this.activatedRoute.snapshot.paramMap.get("InCheckingPlanedToDay")&&(this.searchInCheckingPlanedToDay=!0,this.searchInCheckingPlanedToDayUserId=+this.activatedRoute.snapshot.paramMap.get("InCheckingPlanedToDay")|0),this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=$.Descending}set optionLinkCustomerOrderId(e){e&&e.length>0&&(this.requestLinkCustomerOrderId=e)}set optionLinkPropertyId(e){e&&e.length>0&&(this.requestLinkPropertyId=e)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEstateActivityStatusEnum(),this.getActivityTypeList()}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}ngAfterViewInit(){this.searchInCheckingOnDay&&(this.searchInCheckingOnDayChecked=!0),this.searchInCheckingPlanedToDay&&(this.searchInCheckingPlanedToDayChecked=!0)}getEstateActivityStatusEnum(){this.estateEnumService.ServiceEstateActivityStatusEnum().subscribe({next:e=>{this.dataModelEstateActivityStatusEnumResult=e}})}getActivityTypeList(){let e=new pe;e.rowPerPage=100,this.estateActivityTypeService.ServiceGetAllEditor(e).subscribe({next:i=>{this.dataModelActivityTypeResult=i}})}DataGetAll(){if(this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),!this.optionloadComponent)return;this.tableRowsSelected=[],this.onActionTableRowSelect(new lr);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.requestActivityStatus!=null){let t=new H;t.propertyName="activityStatus",t.value=oc.Planned,i.filters.push(t)}if(this.searchInCheckingPlanedToDay){let t=new H,s=48;i.onDateTimeFrom=new Date(new Date().setHours(0,0,0,0)-s*60*60*1e3),i.onDateTimeTo=new Date(new Date().setHours(23,59,59,999)),this.searchInCheckingPlanedToDayUserId===0?i.linkResponsibleUserId=this.tokenInfo.access.userId:i.linkResponsibleUserId=this.searchInCheckingPlanedToDayUserId,t.propertyName="activityStatus",t.value=oc.Planned,t.searchType=Fe.Equal,i.filters.push(t)}if(this.requestLinkPropertyId&&this.requestLinkPropertyId.length>0){let t=new H;t.propertyName="LinkPropertyId",t.value=this.requestLinkPropertyId,i.filters.push(t)}if(this.requestLinkEstateExpertId&&this.requestLinkEstateExpertId.length>0){let t=new H;t.propertyName="linkEstateExpertId",t.value=this.requestLinkEstateExpertId,i.filters.push(t)}if(this.requestLinkCustomerOrderId?.length>0){let t=new H;t.propertyName="linkCustomerOrderId",t.value=this.requestLinkCustomerOrderId,i.filters.push(t)}if(this.requestLinkEstateAgencyId&&this.requestLinkEstateAgencyId.length>0){let t=new H;t.propertyName="linkEstateAgencyId",t.value=this.requestLinkEstateAgencyId,i.filters.push(t)}if(this.searchInResponsibleChecked?i.linkResponsibleUserId=this.tokenInfo.access.userId:this.responsibleUserId>0&&(i.linkResponsibleUserId=this.responsibleUserId),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new H;t.propertyName="LinkActivityTypeId",t.value=this.categoryModelSelected.id,i.filters.push(t)}if(this.searchInCheckingOnDay){let t=new Ra;t=i,this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(new Date),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(new Date),t.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,t.onDateTimeTo=this.checkingOnDayRange.controls.end.value,this.contentService.ServiceGetAll(t).subscribe({next:s=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(s.access),s.isSuccess?(this.dataModelResult=s,this.tableSource.data=s.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(s.access)},1e3)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(e),this.popupAdd&&this.onActionButtonNewRow()},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}else this.contentService.ServiceGetAll(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e),this.popupAdd&&this.onActionButtonNewRow()},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=$.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.popupAdd=!1,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.publicHelper.isMobile?this.dialog.open(Co,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{linkActivityTypeId:this.categoryModelSelected?.id,linkPropertyId:this.requestLinkPropertyId,linkEstateExpertId:this.requestLinkEstateExpertId,linkCustomerOrderId:this.requestLinkCustomerOrderId,linkEstateAgencyId:this.requestLinkEstateAgencyId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()}):this.dialog.open(Co,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{linkActivityTypeId:this.categoryModelSelected?.id,linkPropertyId:this.requestLinkPropertyId,linkEstateExpertId:this.requestLinkEstateExpertId,linkCustomerOrderId:this.requestLinkCustomerOrderId,linkEstateAgencyId:this.requestLinkEstateAgencyId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.publicHelper.isMobile?this.dialog.open(Ud,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()}):this.dialog.open(Ud,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new H;_.propertyName="recordStatus",_.value=Qe.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonPropertyQuickViewRow(e){if(!e||e.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Zo,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:e}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}onActionButtonQuickViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i=this.publicHelper.InfoNextRowInList(this.dataModelResult.listItems,this.tableRowSelected),t=this.publicHelper.InfoPerviousRowInList(this.dataModelResult.listItems,this.tableRowSelected),s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(hs,{height:"90%",panelClass:s,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id,perviousItem:t,nextItem:i}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&m.onActionOpenItem&&m.onActionOpenItem.id.length>0&&this.onActionButtonQuickViewRow(m.onActionOpenItem)})}onActionButtonCustomerOrderQuickViewRow(e){if(!e||e.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Er,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:e}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Ra,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonReload(){this.optionloadComponent=!0,this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionButtonInCheckingOnDate(e){this.searchInCheckingOnDay=e,this.searchInCheckingOnDay?(this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(new Date),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(new Date)):this.DataGetAll()}onActionButtonInCheckingPlaned(e){this.searchInCheckingPlanedToDay=e,this.DataGetAll()}onActionButtonInResponsible(e){this.searchInResponsibleChecked=e,this.DataGetAll()}onActionButtonInCheckingOnDateSearch(){this.searchInCheckingOnDay&&this.DataGetAll()}onActionNext(){this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(new Date),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(new Date),this.checkingOnDayRange.controls.start.setValue(this.addDays(this.checkingOnDayRange.controls.start.value,1)),this.checkingOnDayRange.controls.end.setValue(this.addDays(this.checkingOnDayRange.controls.end.value,1))}onActionPervious(){this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(new Date),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(new Date),this.checkingOnDayRange.controls.start.setValue(this.addDays(this.checkingOnDayRange.controls.start.value,-1)),this.checkingOnDayRange.controls.end.setValue(this.addDays(this.checkingOnDayRange.controls.end.value,-1))}addDays(e,i){let t=new Date(e);return t.setDate(t.getDate()+i),t}onActionButtonResponsibleUserlistView(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.tableRowSelected=e;var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ep,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{title:this.tableRowSelected.title,id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}};Is.\u0275fac=function(i){return new(i||Is)(v(to),v(wt),v(V),v($n),v(fn),v(Z),v(Kt),v(J),v(O),v(L),v(St),v(F),v(Ae))},Is.\u0275cmp=D({type:Is,selectors:[["app-estate-property-history-list"]],inputs:{optionloadComponent:"optionloadComponent",optionloadByRoute:"optionloadByRoute",optionLinkCustomerOrderId:"optionLinkCustomerOrderId",optionLinkPropertyId:"optionLinkPropertyId"},standalone:!1,features:[oe],decls:101,vars:54,consts:[["tableSort","matSort"],["paginator",""],["picker",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click","checked"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],["class","alert alert-info",4,"ngIf"],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","createdDate"],["style","direction: ltr; justify-content: center; text-align: center",4,"matCellDef"],["matColumnDef","AppointmentDateFrom"],["matColumnDef","AppointmentDateTo"],["matColumnDef","LinkActivityTypeId"],["matColumnDef","ActivityStatus"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","QuickView"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"alert","alert-info"],[2,"font-size","30px"],["appearance","fill"],[3,"formGroup","rangePicker"],["matStartDate","","formControlName","start",3,"placeholder"],["matEndDate","","formControlName","end",3,"placeholder"],["matIconSuffix","",3,"for"],[4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["href","javascript:void(0)",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr","justify-content","center","text-align","center"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["mat-sort-header","",1,"form-label"],["type","button","mat-icon-button","",1,"text-dark",3,"click"],[2,"color","#ff671f"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy","brown-color"],[1,"flaticon2-copy","brown-color",2,"color","brown"],["type","button","mat-icon-button","",3,"click"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=E();C(0,Q4,1,1,"app-estate-property-header",4)(1,z4,1,1,"app-estate-customer-order-header",4)(2,Y4,1,1,"app-estate-account-expert-header",4),r(3,"app-cms-html-list",5),w("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),I("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(4,6),r(5,"app-estate-activity-type-tree",7),I("optionChange",function(m){return u(s),f(t.onActionSelectorSelect(m))}),a(),P(),$e(6,8)(7,9),A(8,10),r(9,"a",11),I("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(10,"i",12),a(),r(11,"a",11),I("click",function(){return u(s),f(t.onActionButtonReload())}),S(12,"i",13),a(),r(13,"a",14),I("click",function(){return u(s),f(t.onActionGridExpandRows(!0))}),S(14,"i",15),a(),r(15,"a",14),I("click",function(){return u(s),f(t.onActionGridExpandRows(!1))}),S(16,"i",16),a(),P(),A(17,17),r(18,"a",18)(19,"mat-slide-toggle",19),I("click",function(){return u(s),f(t.onActionButtonInCheckingOnDate(!t.searchInCheckingOnDay))}),c(20),g(21,"translate"),a()(),r(22,"a",18)(23,"mat-slide-toggle",19),I("click",function(){return u(s),f(t.onActionButtonInCheckingPlaned(!t.searchInCheckingPlanedToDay))}),c(24),g(25,"translate"),a()(),r(26,"a",20),I("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(27,"mat-slide-toggle",21),c(28),g(29,"translate"),a(),r(30,"a",20),I("click",function(){return u(s),f(t.onActionButtonStatist())}),S(31,"mat-slide-toggle",21),c(32),g(33,"translate"),a(),r(34,"a",20),I("click",function(){return u(s),f(t.onActionButtonInResponsible(!t.searchInResponsibleChecked))}),S(35,"mat-slide-toggle",21),c(36),g(37,"translate"),a(),P(),A(38,22),C(39,K4,7,3,"div",23),P(),A(40,24),C(41,Z4,7,3,"div",23)(42,J4,7,3,"div",23),r(43,"div",25)(44,"a",11),I("click",function(){return u(s),f(t.onActionButtonResponsibleUserlistView(t.tableRowSelected))}),S(45,"i",26)(46,"br"),a(),r(47,"p",27),c(48),g(49,"translate"),a()(),P(),A(50,28),C(51,ek,27,22,"div",29),r(52,"app-cms-search-list",30),w("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),a(),r(53,"app-cms-statist-list",30),w("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),P(),A(54,31),r(55,"mat-table",32,0),I("matSortChange",function(){u(s);let m=R(56);return f(t.onTableSortData(m))}),A(57,33),C(58,tk,3,3,"mat-header-cell",34)(59,ik,3,0,"mat-cell",35),P(),A(60,36),C(61,nk,2,1,"mat-header-cell",37)(62,ok,2,1,"mat-cell",35),P(),A(63,38),C(64,rk,2,1,"mat-header-cell",37)(65,lk,5,7,"mat-cell",39),P(),A(66,40),C(67,sk,2,1,"mat-header-cell",37)(68,dk,2,1,"mat-cell",35),P(),A(69,41),C(70,ck,2,1,"mat-header-cell",37)(71,pk,3,3,"mat-cell",42),P(),A(72,43),C(73,mk,2,1,"mat-header-cell",37)(74,uk,3,4,"mat-cell",35),P(),A(75,44),C(76,fk,2,1,"mat-header-cell",37)(77,_k,3,4,"mat-cell",35),P(),A(78,45),C(79,gk,2,1,"mat-header-cell",37)(80,hk,3,4,"mat-cell",35),P(),A(81,46),C(82,yk,2,1,"mat-header-cell",37)(83,Sk,3,4,"mat-cell",35),P(),A(84,47),C(85,Ck,3,3,"mat-header-cell",34)(86,vk,6,1,"mat-cell",48),P(),A(87,49),C(88,Ik,3,3,"mat-header-cell",50)(89,Ek,4,0,"mat-cell",35),P(),A(90,51),C(91,Mk,2,1,"mat-cell",35),P(),A(92,52),C(93,Rk,27,16,"mat-cell",35),P(),C(94,kk,1,0,"mat-header-row",53)(95,Dk,1,2,"mat-row",54)(96,Lk,1,2,"mat-row",55)(97,Vk,1,5,"mat-row",56),a(),P(),A(98,57),r(99,"mat-paginator",58,1),I("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),P(),a()}i&2&&(d("ngIf",(t.requestLinkPropertyId==null?null:t.requestLinkPropertyId.length)>0),o(),d("ngIf",(t.requestLinkCustomerOrderId==null?null:t.requestLinkCustomerOrderId.length)>0),o(),d("ngIf",(t.requestLinkEstateExpertId==null?null:t.requestLinkEstateExpertId.length)>0),o(),d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","estate.propertyhistory.list"),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",t.tokenHelper.isAdminSite&&t.optionloadByRoute)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(9),K("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),d("checked",t.searchInCheckingOnDayChecked),o(),y(" ",h(21,39,"ACTION.SearchOnDay")," "),o(3),d("checked",t.searchInCheckingPlanedToDayChecked),o(),y(" ",h(25,41,"ACTION.Planned")," "),o(3),d("checked",t.optionsSearch.data.show),o(),y("",h(29,43,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",h(33,45,"ACTION.STATIST")," "),o(3),d("checked",t.searchInResponsibleChecked),o(),y(" ",h(37,47,"ACTION.InResponsible")," "),o(3),d("ngIf",t.optionloadByRoute&&t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),y(" ",h(49,49,"TITLE.ResponsibleUsers")," "),o(3),d("ngIf",t.searchInCheckingOnDay),o(),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(39),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",se(51,U4)),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(),d("matRowDefColumns",se(52,j4)),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(53,q4)))},dependencies:[ce,N,it,Y,q,we,cc,pc,Je,gn,_c,gc,hc,yc,yi,hi,xe,tt,Ee,Q,Dt,Lt,Mt,yt,bt,Tt,nt,rt,dt,at,ot,ct,lt,st,pt,mt,fi,At,Pt,Rt,kt,Hi,tp,vs,Sr,Qa,We,B,Oa,Qn,Li,jn,ro,Zt,qn,fr,_r,us,_s],encapsulation:2});var pn=Is;var Bk=["vform"];function Fk(n,l){if(n&1){let e=E();r(0,"div")(1,"div",9),S(2,"br"),r(3,"mat-slide-toggle",20),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.actionSendSmsToAreaEstateAgency,t)||(s.dataModel.actionSendSmsToAreaEstateAgency=t),f(t)}),c(4),g(5,"translate"),a()(),r(6,"div",9),S(7,"br"),r(8,"mat-slide-toggle",21),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.actionSendSmsToAreaEstateAgent,t)||(s.dataModel.actionSendSmsToAreaEstateAgent=t),f(t)}),c(9),g(10,"translate"),a()()()}if(n&2){let e=p();o(3),b("ngModel",e.dataModel.actionSendSmsToAreaEstateAgency),o(),y(" ",h(5,4,"ACTION.SEND_TO_NEAR_AGENCY")," "),o(4),b("ngModel",e.dataModel.actionSendSmsToAreaEstateAgent),o(),y(" ",h(10,6,"ACTION.SEND_TO_NEAR_EMPLOYE_AGENCY")," ")}}function Ok(n,l){if(n&1){let e=E();r(0,"div",22)(1,"button",23),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",24),c(3),g(4,"translate"),a(),r(5,"button",25),S(6,"i",26),c(7),g(8,"translate"),a()()}if(n&2){p();let e=R(9);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",h(8,5,"ACTION.Send_Message")," ")}}var Es=class Es{constructor(l,e,i,t,s,_,m){this.data=l;this.dialogRef=e;this.service=i;this.publicHelper=t;this.translate=s;this.cmsToastrService=_;this.cdr=m;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModel=new Bm;this.dataModelCustomerOrder=new kn;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,l&&(this.dataModelCustomerOrder=l.model,this.dataModel.id=this.dataModelCustomerOrder.id)}ngOnInit(){this.translate.get("TITLE.Activities").subscribe(l=>{this.formInfo.formTitle=l}),(!this.dataModel||!this.dataModel.id||this.dataModel.id.length==0)&&(this.cmsToastrService.typeErrorMessage("\u0634\u0646\u0627\u0633\u0647 \u0645\u0634\u062E\u0635 \u0646\u0645\u06CC \u0628\u0627\u0634\u062F"),this.dialogRef.close({dialogChangedDate:!1}))}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataSend())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}DataSend(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.service.ServiceActionSendSms(this.dataModel).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(i=>{this.formInfo.submitResultMessage=i,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(l),this.formInfo.submitButtonEnabled=!0,this.dialogRef.close({dialogChangedDate:!0})},error:e=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}};Es.\u0275fac=function(e){return new(e||Es)(v(Te),v(be),v($i),v(F),v(L),v(V),v(O))},Es.\u0275cmp=D({type:Es,selectors:[["app-estate-customer-order-action"]],viewQuery:function(e,i){if(e&1&&te(Bk,5),e&2){let t;ie(t=ne())&&(i.formGroup=t.first)}},standalone:!1,decls:46,vars:29,consts:[["vform","ngForm"],["ActionSendSmsToContactNumber",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[1,"ntk-full-width"],["name","dataModel.actionSendSmsToMe",3,"ngModelChange","ngModel"],["name","dataModel.actionSendSmsToEstateAgent",3,"ngModelChange","ngModel"],["name","dataModel.actionSendSmsToEstateAgency",3,"ngModelChange","ngModel"],["name","dataModel.actionSendSmsToEstateCustomer",3,"ngModelChange","ngModel"],[4,"ngIf"],["matInput","","name","dataModel.actionSendSmsToContactNumber","type","text","rows","5","maxlength","100","placeholder","09123456789",1,"text-line",3,"ngModelChange","ngModel"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["name","dataModel.actionSendSmsToAreaEstateAgency",3,"ngModelChange","ngModel"],["name","dataModel.actionSendSmsToAreaEstateAgent",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){if(e&1){let t=E();r(0,"div",2),S(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),r(8,"form",6,0),I("ngSubmit",function(){return u(t),f(i.onFormSubmit())}),r(10,"div",7),c(11),a(),r(12,"div",8)(13,"div",9),S(14,"br"),r(15,"mat-slide-toggle",10),w("ngModelChange",function(_){return u(t),T(i.dataModel.actionSendSmsToMe,_)||(i.dataModel.actionSendSmsToMe=_),f(_)}),c(16),g(17,"translate"),a()(),r(18,"div",9),S(19,"br"),r(20,"mat-slide-toggle",11),w("ngModelChange",function(_){return u(t),T(i.dataModel.actionSendSmsToEstateAgent,_)||(i.dataModel.actionSendSmsToEstateAgent=_),f(_)}),c(21),g(22,"translate"),a()(),r(23,"div",9),S(24,"br"),r(25,"mat-slide-toggle",12),w("ngModelChange",function(_){return u(t),T(i.dataModel.actionSendSmsToEstateAgency,_)||(i.dataModel.actionSendSmsToEstateAgency=_),f(_)}),c(26),g(27,"translate"),a()(),r(28,"div",9),S(29,"br"),r(30,"mat-slide-toggle",13),w("ngModelChange",function(_){return u(t),T(i.dataModel.actionSendSmsToEstateCustomer,_)||(i.dataModel.actionSendSmsToEstateCustomer=_),f(_)}),c(31),g(32,"translate"),a()(),S(33,"hr"),C(34,Fk,11,8,"div",14),S(35,"hr"),r(36,"div",9),c(37),g(38,"translate"),S(39,"br"),r(40,"textarea",15,1),w("ngModelChange",function(_){return u(t),T(i.dataModel.actionSendSmsToContactNumber,_)||(i.dataModel.actionSendSmsToContactNumber=_),f(_)}),a()()(),r(42,"div",16),S(43,"app-cms-form-result-message",17),a(),r(44,"div",18),C(45,Ok,9,7,"div",19),a()()()()}e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(3),y(" ",i.formInfo.formTitle," "),o(2),y(" ",h(7,17,"TITLE.Be_Careful_When_Entering_Information")," "),o(5),y(" ",i.formInfo.formTitle," "),o(4),b("ngModel",i.dataModel.actionSendSmsToMe),o(),y(" ",h(17,19,"ACTION.SEND_TO_ME")," "),o(4),b("ngModel",i.dataModel.actionSendSmsToEstateAgent),o(),y(" ",h(22,21,"ACTION.SEND_TO_ESTATE")," "),o(4),b("ngModel",i.dataModel.actionSendSmsToEstateAgency),o(),y(" ",h(27,23,"ACTION.SEND_TO_AGENCY")," "),o(4),b("ngModel",i.dataModel.actionSendSmsToEstateCustomer),o(),y(" ",h(32,25,"ACTION.SEND_TO_CLIENT")," "),o(3),d("ngIf",i.dataModelCustomerOrder.linkLocationIds&&i.dataModelCustomerOrder.linkLocationIds.length>0),o(3),y(" ",h(38,27,"TITLE.Send_link_message_to_the_special_number")," "),o(3),b("ngModel",i.dataModel.actionSendSmsToContactNumber),o(3),d("formInfo",i.formInfo),o(2),d("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[N,ke,Y,q,we,Pe,me,Re,Q,yt,U,ge,B],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}.text-line[_ngcontent-%COMP%]{background-color:transparent;outline:none;outline-style:none;border-top:none;border-left:none;border-right:none;border-bottom:solid #eeeeee 1px;padding:3px 10px}"]});var ip=Es;var J0=["*","*"];function Nk(n,l){if(n&1&&(r(0,"mat-option",14)(1,"span"),c(2),a()()),n&2){let e=l.$implicit,i=p(2);d("value",e)("disabled",i.optionDisabled),o(2),M(i.displayOption(e))}}function Hk(n,l){n&1&&S(0,"i",15)}function Wk(n,l){n&1&&S(0,"i",16)}function Gk(n,l){if(n&1){let e=E();r(0,"i",17),I("click",function(){u(e);let t=p(2);return f(t.onActionSelectClear())}),a()}}function Uk(n,l){n&1&&(r(0,"em"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.Necessary")," "))}function jk(n,l){if(n&1){let e=E();r(0,"div",3),S(1,"app-progress-spinner",4)(2,"input",5),r(3,"label",6),c(4),a(),r(5,"mat-autocomplete",7,0),I("optionSelected",function(t){u(e);let s=p();return f(s.onActionSelect(t.option.value))}),C(7,Nk,3,3,"mat-option",8),g(8,"async"),a(),C(9,Hk,1,0,"i",9)(10,Wk,1,0,"i",10)(11,Gk,1,0,"i",11),r(12,"i",12),g(13,"translate"),I("click",function(){u(e);let t=p();return f(t.onActionButtonReload())}),a(),C(14,Uk,3,3,"em",13),pi(15),a()}if(n&2){let e=R(6),i=p();o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("placeholder",x(i.optionPlaceholder))("formControl",i.formControl)("matAutocomplete",e)("required",i.optionRequired),vt("disabled",i.optionDisabled?!0:null),o(2),M(i.optionLabel),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",h(8,18,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),K("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),d("title",x(h(13,20,"ACTION.RELOAD"))),o(2),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id.length<=0))}}function qk(n,l){if(n&1){let e=E();r(0,"div",20)(1,"a",21),I("click",function(){let t=u(e).$implicit,s=p(2);return f(s.onActionSelect(t))}),c(2),a()()}if(n&2){let e=l.$implicit,i=p(2);o(),d("ngClass",e.id===(i.dataModelSelect==null?null:i.dataModelSelect.id)?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),vt("disabled",i.optionDisabled?!0:null),o(),M(i.displayOption(e))}}function Qk(n,l){if(n&1&&(r(0,"div",18),C(1,qk,3,3,"div",19),g(2,"async"),pi(3,1),a()),n&2){let e=p();o(),d("ngForOf",h(2,1,e.filteredOptions))}}var Ms=class Ms{constructor(l,e,i,t,s,_,m,k){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.tokenHelper=_;this.cmsStoreService=m;this.categoryService=k;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=new oo;this.formControl=new Et;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionRequired=!1;this.optionChange=new Xe;this.optionTypeView=1;this.typeUsageId="";this.optionReload=()=>this.onActionButtonReload();this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}set optionTypeUsageId(l){this.typeUsageId=l,this.loadOptions()}ngOnInit(){this.loadOptions(),this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(()=>ae(this,null,function*(){this.loadOptions()}))),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(ei(""),$t(1500),xi(),ti(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return ae(this,null,function*(){let e=new pe;e.rowPerPage=20,e.accessLoad=!0;let i=new H,t=new H;l&&l.length>0&&(i.propertyName="title",i.value=l,i.searchType=Fe.Contains,i.clauseType=Be.Or,t.filters.push(i),i=new H,i.propertyName="id",i.value=l,i.searchType=Fe.Equal,i.clauseType=Be.Or,t.filters.push(i),e.filters.push(t)),this.typeUsageId&&this.typeUsageId.length>0&&(i=new H,i.propertyName="PropertyTypes",i.propertyAnyName="LinkPropertyTypeUsageId",i.value=this.typeUsageId,i.searchType=Fe.Equal,i.clauseType=Be.And,e.filters.push(i));let s=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(_=>{this.publicHelper.processService.processStart(s,_,this.constructorInfoAreaId)}),yield wi(this.categoryService.ServiceGetAll(e)).then(_=>(this.dataModelResult=_,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(s),_.listItems))})}onActionSelect(l){this.optionDisabled||(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(Ot(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if((!l||typeof l=="string"&&l.length===0)&&(this.dataModelSelect=new oo),typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof oo){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new oo,this.loadOptions()}};Ms.\u0275fac=function(e){return new(e||Ms)(v(X),v(V),v(O),v(F),v(L),v(Z),v(J),v(nr))},Ms.\u0275cmp=D({type:Ms,selectors:[["app-estate-customer-category-selector"]],inputs:{optionSelectForce:"optionSelectForce",optionTypeUsageId:"optionTypeUsageId",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionRequired:"optionRequired",optionTypeView:"optionTypeView",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:J0,decls:2,vars:2,consts:[["matauto","matAutocomplete"],["class","input-style has-borders has-icon input-style-always-active validate-field mb-4 loader-container",4,"ngIf"],["class","row mb-0",4,"ngIf"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required"],["for","forminput",1,"color-highlight"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"],[1,"row","mb-0"],["class","col-xl-2 col-lg-3 col-md-4 col-sm-12 pe-1",4,"ngFor","ngForOf"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"]],template:function(e,i){e&1&&(vi(J0),C(0,jk,16,22,"div",1)(1,Qk,4,3,"div",2)),e&2&&(d("ngIf",i.optionTypeView===1),o(),d("ngIf",i.optionTypeView===2))},dependencies:[ce,He,N,Y,q,de,zt,ni,ii,oi,Q,U,We,B],encapsulation:2});var bs=Ms;var zk=["vform"];function Yk(n,l){n&1&&S(0,"i",68)}function Kk(n,l){n&1&&S(0,"i",69)}function Zk(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),o(2),M(h(4,2,"MESSAGE.required"))}}function Jk(n,l){n&1&&S(0,"i",68)}function Xk(n,l){n&1&&S(0,"i",69)}function $k(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),y(" ",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle," "),o(2),M(h(4,2,"MESSAGE.required"))}}function eD(n,l){if(n&1){let e=E();r(0,"div",40)(1,"input",70,4),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.caseCode,t)||(s.dataModel.caseCode=t),f(t)}),a(),r(3,"label",71),c(4),a(),C(5,Jk,1,0,"i",43)(6,Xk,1,0,"i",44),S(7,"em"),C(8,$k,5,4,"mat-error",45),a()}if(n&2){let e=R(2),i=p();o(),d("disabled",x(!(i.fieldsInfo.caseCode!=null&&i.fieldsInfo.caseCode.accessEditField)))("placeholder",x(i.fieldsInfo.caseCode==null?null:i.fieldsInfo.caseCode.fieldTitle)),b("ngModel",i.dataModel.caseCode),o(3),M(i.fieldsInfo.caseCode==null?null:i.fieldsInfo.caseCode.fieldTitle),o(),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),d("ngIf",e.errors==null?null:e.errors.required)}}function tD(n,l){if(n&1){let e=E();r(0,"div",40)(1,"label",72),c(2),g(3,"translate"),a(),r(4,"textarea",73,5),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),a(),r(6,"em"),c(7),a()()}if(n&2){let e=R(5),i=p();o(2),M(h(3,5,"TITLE.Description_Hidden")),o(2),d("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",i.dataModel.descriptionHidden),o(3),y("",e.value.length," / 500")}}function iD(n,l){if(n&1){let e=E();r(0,"div")(1,"div",74)(2,"label",75),c(3),g(4,"translate"),a(),S(5,"i",76)(6,"i",77),r(7,"input",78,6),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.scoreRushToBuy,t)||(s.dataModel.scoreRushToBuy=t),f(t)}),a()(),r(9,"div",74)(10,"label",79),c(11),g(12,"translate"),a(),S(13,"i",76)(14,"i",77),r(15,"input",80,7),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.scorePurchaseDecision,t)||(s.dataModel.scorePurchaseDecision=t),f(t)}),a()(),r(17,"div",74)(18,"label",81),c(19),g(20,"translate"),a(),S(21,"i",76)(22,"i",77),r(23,"input",82,8),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.scoreLiquidityPower,t)||(s.dataModel.scoreLiquidityPower=t),f(t)}),a()(),r(25,"div",74)(26,"label",83),c(27),g(28,"translate"),a(),S(29,"i",76)(30,"i",77),r(31,"input",84,9),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.scorePurchasingPower,t)||(s.dataModel.scorePurchasingPower=t),f(t)}),a()()()}if(n&2){let e=p();o(3),M(h(4,20,"MESSAGE.POINT_HURRY")),o(4),d("ngClass",Ie("cms-range-score-",e.dataModel.scoreRushToBuy)),b("ngModel",e.dataModel.scoreRushToBuy),d("disabled",!(e.fieldsInfo.scoreRushToBuy!=null&&e.fieldsInfo.scoreRushToBuy.accessEditField)),o(4),M(h(12,22,"MESSAGE.POINT_DECIDE")),o(4),d("ngClass",Ie("cms-range-score-",e.dataModel.scorePurchaseDecision)),b("ngModel",e.dataModel.scorePurchaseDecision),d("disabled",!(e.fieldsInfo.scorePurchaseDecision!=null&&e.fieldsInfo.scorePurchaseDecision.accessEditField)),o(4),M(h(20,24,"MESSAGE.POINT_Liquidity")),o(4),d("ngClass",Ie("cms-range-score-",e.dataModel.scoreLiquidityPower)),b("ngModel",e.dataModel.scoreLiquidityPower),d("disabled",!(e.fieldsInfo.scoreLiquidityPower!=null&&e.fieldsInfo.scoreLiquidityPower.accessEditField)),o(4),M(h(28,26,"MESSAGE.POINT_BUYING")),o(4),d("ngClass",Ie("cms-range-score-",e.dataModel.scorePurchasingPower)),b("ngModel",e.dataModel.scorePurchasingPower),d("disabled",!(e.fieldsInfo.scorePurchasingPower!=null&&e.fieldsInfo.scorePurchasingPower.accessEditField))}}function nD(n,l){if(n&1){let e=E();r(0,"app-estate-account-agency-selector",85),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorEstateAgency(t))}),a()}if(n&2){let e=p();d("optionDisabled",!(e.fieldsInfo.linkEstateAgencyId!=null&&e.fieldsInfo.linkEstateAgencyId.accessEditField))("optionSelectForce",e.dataModel.linkEstateAgencyId)("optionSelectUserId",e.tokenInfo.access.userId)("optionPlaceholder",h(1,4,"TITLE.Property_agency"))}}function oD(n,l){n&1&&(r(0,"mat-error"),c(1," ContactMobiles is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function rD(n,l){if(n&1){let e=E();r(0,"app-cms-user-selector",51),g(1,"translate"),I("optionChange",function(t){u(e);let s=p(2);return f(s.onActionSelectorCmsUser(t))}),a()}if(n&2){let e=p(2);d("optionDisabled",!(e.fieldsInfo.linkCmsUserId!=null&&e.fieldsInfo.linkCmsUserId.accessAddField))("optionSelectForce",e.dataModel.linkCmsUserId)("optionPlaceholder",h(1,3,"TITLE.user"))}}function aD(n,l){n&1&&S(0,"i",68)}function lD(n,l){n&1&&S(0,"i",69)}function sD(n,l){n&1&&(r(0,"mat-error")(1,"strong"),c(2),g(3,"translate"),a()()),n&2&&(o(2),M(h(3,1,"MESSAGE.required")))}function dD(n,l){if(n&1){let e=E();r(0,"div",40)(1,"label",95),c(2),g(3,"translate"),a(),r(4,"input",96,10),g(6,"translate"),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.actionCreateNewCmsUserFirstName,t)||(s.dataModel.actionCreateNewCmsUserFirstName=t),f(t)}),a(),C(7,aD,1,0,"i",43)(8,lD,1,0,"i",44),r(9,"em"),c(10),a(),C(11,sD,4,3,"mat-error",45),a()}if(n&2){let e=R(5),i=p(2);o(2),M(h(3,8,"TITLE.FIRST_NAME")),o(2),d("placeholder",x(h(6,10,"TITLE.FIRST_NAME"))),b("ngModel",i.dataModel.actionCreateNewCmsUserFirstName),o(3),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 50"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function cD(n,l){n&1&&S(0,"i",68)}function pD(n,l){n&1&&S(0,"i",69)}function mD(n,l){n&1&&(r(0,"mat-error")(1,"strong"),c(2),g(3,"translate"),a()()),n&2&&(o(2),M(h(3,1,"MESSAGE.required")))}function uD(n,l){if(n&1){let e=E();r(0,"div",40)(1,"label",97),c(2),g(3,"translate"),a(),r(4,"input",98,11),g(6,"translate"),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.actionCreateNewCmsUserLastName,t)||(s.dataModel.actionCreateNewCmsUserLastName=t),f(t)}),a(),C(7,cD,1,0,"i",43)(8,pD,1,0,"i",44),r(9,"em"),c(10),a(),C(11,mD,4,3,"mat-error",45),a()}if(n&2){let e=R(5),i=p(2);o(2),M(h(3,8,"TITLE.LAST_NAME")),o(2),d("placeholder",x(h(6,10,"TITLE.LAST_NAME"))),b("ngModel",i.dataModel.actionCreateNewCmsUserLastName),o(3),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 50"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function fD(n,l){n&1&&S(0,"i",68)}function _D(n,l){n&1&&S(0,"i",69)}function gD(n,l){n&1&&(r(0,"mat-error")(1,"strong"),c(2),g(3,"translate"),a()()),n&2&&(o(2),M(h(3,1,"MESSAGE.required")))}function hD(n,l){if(n&1){let e=E();r(0,"div",40)(1,"label",99),c(2),g(3,"translate"),a(),r(4,"input",100,12),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.actionCreateNewCmsUserMobile,t)||(s.dataModel.actionCreateNewCmsUserMobile=t),f(t)}),a(),C(6,fD,1,0,"i",43)(7,_D,1,0,"i",44),r(8,"em"),c(9),a(),C(10,gD,4,3,"mat-error",45),a()}if(n&2){let e=R(5),i=p(2);o(2),M(h(3,6,"TITLE.MOBILE_NUMBER")),o(2),b("ngModel",i.dataModel.actionCreateNewCmsUserMobile),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 20"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function yD(n,l){if(n&1){let e=E();r(0,"div",86)(1,"div",87)(2,"div",88)(3,"h5",89),c(4),g(5,"translate"),a()(),r(6,"div",90)(7,"div",91)(8,"input",92),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.actionCreateNewCmsUser,t)||(s.dataModel.actionCreateNewCmsUser=t),f(t)}),a(),S(9,"label",93),a()()(),C(10,rD,2,5,"app-cms-user-selector",94)(11,dD,12,12,"div",47)(12,uD,12,12,"div",47)(13,hD,11,8,"div",47),a()}if(n&2){let e=p();o(4),y(" ",h(5,6,"TITLE.CREATE_NEW_USER")," "),o(4),b("ngModel",e.dataModel.actionCreateNewCmsUser),o(2),d("ngIf",!e.dataModel.actionCreateNewCmsUser),o(),d("ngIf",e.dataModel.actionCreateNewCmsUser),o(),d("ngIf",e.dataModel.actionCreateNewCmsUser),o(),d("ngIf",e.dataModel.actionCreateNewCmsUser)}}function SD(n,l){if(n&1){let e=E();r(0,"div",87)(1,"div",88)(2,"h5",101),c(3),a()(),r(4,"div",90)(5,"div",91)(6,"input",102),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.includeAllSite,t)||(s.dataModel.includeAllSite=t),f(t)}),a(),S(7,"label",103),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.includeAllSite==null?null:e.fieldsInfo.includeAllSite.fieldTitle," "),o(3),b("ngModel",e.dataModel.includeAllSite)}}function CD(n,l){if(n&1){let e=E();r(0,"div",40)(1,"label",104),c(2),a(),r(3,"textarea",105,13),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.areaAddress,t)||(s.dataModel.areaAddress=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.areaAddress==null?null:i.fieldsInfo.areaAddress.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.areaAddress==null?null:i.fieldsInfo.areaAddress.fieldTitle)),b("ngModel",i.dataModel.areaAddress),o(3),y("",e.value.length," / 500")}}function vD(n,l){if(n&1){let e=E();r(0,"div",40)(1,"label",121),c(2),g(3,"translate"),a(),r(4,"input",122,15),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.salePriceMin,t)||(s.dataModel.salePriceMin=t),f(t)}),a(),S(6,"em"),a()}if(n&2){let e=p(2);o(2),ee("",e.contractTypeSelected.titleSalePriceML," ",h(3,6,"TITLE.Minimum")),o(2),d("placeholder",x(e.fieldsInfo.salePriceMin==null?null:e.fieldsInfo.salePriceMin.fieldTitle)),b("ngModel",e.dataModel.salePriceMin),d("disabled",!(e.fieldsInfo.salePriceMin!=null&&e.fieldsInfo.salePriceMin.accessEditField))}}function ID(n,l){if(n&1){let e=E();r(0,"div",40)(1,"label",123),c(2),g(3,"translate"),a(),r(4,"input",124,16),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.rentPriceMin,t)||(s.dataModel.rentPriceMin=t),f(t)}),a(),S(6,"em"),a()}if(n&2){let e=p(2);o(2),ee("",e.contractTypeSelected.titleRentPriceML," ",h(3,6,"TITLE.Minimum")),o(2),d("placeholder",x(e.fieldsInfo.rentPriceMin==null?null:e.fieldsInfo.rentPriceMin.fieldTitle)),b("ngModel",e.dataModel.rentPriceMin),d("disabled",!(e.fieldsInfo.rentPriceMin!=null&&e.fieldsInfo.rentPriceMin.accessEditField))}}function ED(n,l){if(n&1){let e=E();r(0,"div",40)(1,"label",125),c(2),g(3,"translate"),a(),r(4,"input",126,17),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.depositPriceMin,t)||(s.dataModel.depositPriceMin=t),f(t)}),a(),S(6,"em"),a()}if(n&2){let e=p(2);o(2),ee(" ",e.contractTypeSelected.titleDepositPriceML," ",h(3,6,"TITLE.Minimum")),o(2),d("placeholder",x(e.fieldsInfo.depositPriceMin==null?null:e.fieldsInfo.depositPriceMin.fieldTitle)),b("ngModel",e.dataModel.depositPriceMin),d("disabled",!(e.fieldsInfo.depositPriceMin!=null&&e.fieldsInfo.depositPriceMin.accessEditField))}}function MD(n,l){if(n&1){let e=E();r(0,"div",40)(1,"label",127),c(2),g(3,"translate"),a(),r(4,"input",128,18),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.periodPriceMin,t)||(s.dataModel.periodPriceMin=t),f(t)}),a(),S(6,"em"),a()}if(n&2){let e=p(2);o(2),ee(" ",e.contractTypeSelected.titlePeriodPriceML," ",h(3,6,"TITLE.Minimum")),o(2),d("placeholder",x(e.fieldsInfo.periodPriceMin==null?null:e.fieldsInfo.periodPriceMin.fieldTitle)),b("ngModel",e.dataModel.periodPriceMin),d("disabled",!(e.fieldsInfo.periodPriceMin!=null&&e.fieldsInfo.periodPriceMin.accessEditField))}}function bD(n,l){if(n&1){let e=E();r(0,"div",40)(1,"label",129),c(2),g(3,"translate"),a(),r(4,"input",130,19),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.salePriceMax,t)||(s.dataModel.salePriceMax=t),f(t)}),a(),S(6,"em"),a()}if(n&2){let e=p(2);o(2),ee("",e.contractTypeSelected.titleSalePriceML," ",h(3,6,"TITLE.Maximum")),o(2),d("placeholder",x(e.fieldsInfo.salePriceMax==null?null:e.fieldsInfo.salePriceMax.fieldTitle)),b("ngModel",e.dataModel.salePriceMax),d("disabled",!(e.fieldsInfo.salePriceMax!=null&&e.fieldsInfo.salePriceMax.accessEditField))}}function TD(n,l){if(n&1){let e=E();r(0,"div",40)(1,"label",131),c(2),g(3,"translate"),a(),r(4,"input",132,20),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.rentPriceMax,t)||(s.dataModel.rentPriceMax=t),f(t)}),a(),S(6,"em"),a()}if(n&2){let e=p(2);o(2),ee(" ",e.contractTypeSelected.titleRentPriceML," ",h(3,6,"TITLE.Maximum")),o(2),d("placeholder",x(e.fieldsInfo.rentPriceMax==null?null:e.fieldsInfo.rentPriceMax.fieldTitle)),b("ngModel",e.dataModel.rentPriceMax),d("disabled",!(e.fieldsInfo.rentPriceMax!=null&&e.fieldsInfo.rentPriceMax.accessEditField))}}function wD(n,l){if(n&1){let e=E();r(0,"div",40)(1,"label",133),c(2),g(3,"translate"),a(),r(4,"input",134,21),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.depositPriceMax,t)||(s.dataModel.depositPriceMax=t),f(t)}),a(),S(6,"em"),a()}if(n&2){let e=p(2);o(2),ee(" ",e.contractTypeSelected.titleDepositPriceML," ",h(3,6,"TITLE.Maximum")),o(2),d("placeholder",x(e.fieldsInfo.depositPriceMax==null?null:e.fieldsInfo.depositPriceMax.fieldTitle)),b("ngModel",e.dataModel.depositPriceMax),d("disabled",!(e.fieldsInfo.depositPriceMax!=null&&e.fieldsInfo.depositPriceMax.accessEditField))}}function xD(n,l){if(n&1){let e=E();r(0,"div",40)(1,"label",135),c(2),g(3,"translate"),a(),r(4,"input",136,22),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.periodPriceMax,t)||(s.dataModel.periodPriceMax=t),f(t)}),a(),S(6,"em"),a()}if(n&2){let e=p(2);o(2),ee(" ",e.contractTypeSelected.titlePeriodPriceML," ",h(3,6,"TITLE.Maximum")),o(2),d("placeholder",x(e.fieldsInfo.periodPriceMax==null?null:e.fieldsInfo.periodPriceMax.fieldTitle)),b("ngModel",e.dataModel.periodPriceMax),d("disabled",!(e.fieldsInfo.periodPriceMax!=null&&e.fieldsInfo.periodPriceMax.accessEditField))}}function AD(n,l){if(n&1){let e=E();r(0,"div",40)(1,"label",137),c(2),a(),r(3,"input",138,23),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.createdYaer,t)||(s.dataModel.createdYaer=t),f(t)}),a(),S(5,"em"),a()}if(n&2){let e=p(2);o(2),y(" ",e.PropertyTypeSelected.titleCreatedYaer),o(),d("placeholder",x(e.fieldsInfo.createdYaer==null?null:e.fieldsInfo.createdYaer.fieldTitle)),b("ngModel",e.dataModel.createdYaer)}}function PD(n,l){if(n&1){let e=E();r(0,"div",40)(1,"label",139),c(2),a(),r(3,"input",140,24),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.partition,t)||(s.dataModel.partition=t),f(t)}),a(),S(5,"em"),a()}if(n&2){let e=p(2);o(2),M(e.PropertyTypeSelected.titlePartition),o(),d("placeholder",x(e.PropertyTypeSelected.titlePartition)),b("ngModel",e.dataModel.partition)}}function RD(n,l){if(n&1){let e=E();r(0,"div",40)(1,"label",141),c(2),a(),r(3,"input",142,25),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.area,t)||(s.dataModel.area=t),f(t)}),a(),S(5,"em"),a()}if(n&2){let e=p(2);o(2),M(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle),o(),d("disabled",x(!(e.fieldsInfo.area!=null&&e.fieldsInfo.area.accessEditField)))("placeholder",x(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle)),b("ngModel",e.dataModel.area)}}function kD(n,l){if(n&1){let e=E();r(0,"div",151),S(1,"i",152),c(2,"\xA0 "),r(3,"app-input-string",153),w("modelChange",function(t){u(e);let s=p().$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=p().$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),Nt(Ie("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionRequired",e.required)("optionLabel",e.title)}}function DD(n,l){if(n&1){let e=E();r(0,"div",151),S(1,"i",152),c(2,"\xA0 "),r(3,"app-input-int",154),w("modelChange",function(t){u(e);let s=p().$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=p().$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),Nt(Ie("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionRequired",e.required)("optionLabel",e.title)}}function LD(n,l){if(n&1){let e=E();r(0,"div",151),S(1,"i",152),c(2,"\xA0 "),r(3,"app-input-boolean",155),w("modelChange",function(t){u(e);let s=p().$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),c(4),a()()}if(n&2){let e=p().$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),b("model",i.propertyDetails[e.id]),o(),y("",e.title," ")}}function VD(n,l){if(n&1){let e=E();r(0,"div",151),S(1,"i",152),c(2,"\xA0 "),r(3,"app-input-float",154),w("modelChange",function(t){u(e);let s=p().$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=p().$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),Nt(Ie("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionRequired",e.required)("optionLabel",e.title)}}function BD(n,l){if(n&1){let e=E();r(0,"div",151),S(1,"i",152),c(2,"\xA0 "),r(3,"label"),c(4),a(),r(5,"app-input-date",156),w("modelChange",function(t){u(e);let s=p().$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=p().$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),Nt(Ie("color:'",e.iconColor,"';")),o(),M(e.title),o(),b("model",i.propertyDetails[e.id]),d("optionRequired",e.required)}}function FD(n,l){if(n&1){let e=E();r(0,"div",151),S(1,"i",152),c(2,"\xA0 "),r(3,"app-input-textarea",154),w("modelChange",function(t){u(e);let s=p().$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=p().$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),Nt(Ie("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionRequired",e.required)("optionLabel",e.title)}}function OD(n,l){if(n&1){let e=E();r(0,"div",151),S(1,"i",152),c(2,"\xA0 "),r(3,"app-input-string",153),w("modelChange",function(t){u(e);let s=p().$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=p().$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),Nt(Ie("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionRequired",e.required)("optionLabel",e.title)}}function ND(n,l){if(n&1&&(A(0)(1,148),C(2,kD,4,12,"div",149)(3,DD,4,9,"div",149)(4,LD,5,5,"div",149)(5,VD,4,9,"div",149)(6,BD,6,9,"div",149)(7,FD,4,9,"div",149)(8,OD,4,12,"div",150),P()()),n&2){let e=l.$implicit,i=p(3);o(),d("ngSwitch",e.inputDataType),o(),d("ngSwitchCase",i.enumInputDataType.String),o(),d("ngSwitchCase",i.enumInputDataType.Int),o(),d("ngSwitchCase",i.enumInputDataType.Boolean),o(),d("ngSwitchCase",i.enumInputDataType.Float),o(),d("ngSwitchCase",i.enumInputDataType.Date),o(),d("ngSwitchCase",i.enumInputDataType.TextArea)}}function HD(n,l){if(n&1){let e=E();r(0,"button",157),I("click",function(){u(e);let t=p(3);return f(t.prevStep())}),c(1),g(2,"translate"),a()}n&2&&(o(),y(" ",h(2,1,"ACTION.PREVIOUS")," "))}function WD(n,l){if(n&1){let e=E();r(0,"button",158),I("click",function(){u(e);let t=p(3);return f(t.nextStep())}),c(1),g(2,"translate"),a()}n&2&&(o(),y(" ",h(2,1,"ACTION.NEXT")," "))}function GD(n,l){if(n&1){let e=E();r(0,"button",158),I("click",function(){u(e);let t=p(3);return f(t.nextStep())}),c(1),g(2,"translate"),a()}n&2&&(o(),y(" ",h(2,1,"ACTION.END")," "))}function UD(n,l){if(n&1){let e=E();r(0,"mat-expansion-panel",143),I("opened",function(){let t=u(e).index,s=p(2);return f(s.setStep(t))}),r(1,"mat-expansion-panel-header")(2,"mat-panel-title"),c(3),a(),r(4,"mat-panel-description"),c(5),r(6,"mat-icon",144),c(7),a()()(),C(8,ND,9,7,"ng-container",145),r(9,"mat-action-row"),C(10,HD,3,3,"button",146)(11,WD,3,3,"button",147)(12,GD,3,3,"button",147),a()()}if(n&2){let e=l.$implicit,i=l.index,t=p(2);d("expanded",t.step===i),o(3),y(" ",e.title," "),o(2),y(" ",e.description," "),o(2),M(e.iconFont),o(),d("ngForOf",e.propertyDetails),o(2),d("ngIf",i>0),o(),d("ngIf",i+1<t.dataModel.propertyDetailGroups.length),o(),d("ngIf",i+1===t.dataModel.propertyDetailGroups.length)}}function jD(n,l){if(n&1&&(r(0,"option",159),c(1),a()),n&2){let e=l.$implicit;d("value",e.fieldName),o(),y(" ",e.fieldTitle," ")}}function qD(n,l){if(n&1){let e=E();r(0,"div",160)(1,"a",161),I("click",function(){u(e);let t=p(2);return f(t.onActionSortArrow())}),S(2,"i",162),g(3,"sortTypeIconClass"),a()()}if(n&2){let e=p(2);o(2),d("ngClass",h(3,1,e.dataModel.resultSortType))}}function QD(n,l){if(n&1){let e=E();A(0),r(1,"p"),c(2),g(3,"translate"),a(),r(4,"P"),c(5),g(6,"translate"),a(),S(7,"hr"),r(8,"app-estate-property-type-usage-selector",106),g(9,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorSelectUsage(t))}),a(),S(10,"br")(11,"br")(12,"br"),r(13,"app-estate-property-type-landuse-selector",107),g(14,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorSelectLanduse(t))}),a(),S(15,"br")(16,"br")(17,"br"),r(18,"app-estate-contract-type-selector",108),g(19,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorContarctType(t))}),a(),S(20,"br")(21,"br"),r(22,"app-cms-currency-selector",109),g(23,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectCurrency(t))}),a(),C(24,vD,7,8,"div",47)(25,ID,7,8,"div",47)(26,ED,7,8,"div",47)(27,MD,7,8,"div",47)(28,bD,7,8,"div",47)(29,TD,7,8,"div",47)(30,wD,7,8,"div",47)(31,xD,7,8,"div",47)(32,AD,6,4,"div",47)(33,PD,6,4,"div",47)(34,RD,6,6,"div",47),S(35,"br"),r(36,"app-cms-location-autocomplete",110),g(37,"translate"),g(38,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorLocation(t))}),a(),r(39,"mat-accordion",111),C(40,UD,13,8,"mat-expansion-panel",112),S(41,"br"),a(),r(42,"p"),c(43),g(44,"translate"),a(),r(45,"p"),c(46),g(47,"translate"),S(48,"br"),c(49),g(50,"translate"),a(),r(51,"app-estate-property-autocomplete",56),g(52,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorPropertyIgnored(t))}),a(),r(53,"div"),c(54),g(55,"translate"),S(56,"hr")(57,"br"),a(),r(58,"div",113)(59,"div",114)(60,"div",40)(61,"label",115),c(62),a(),r(63,"select",116,14),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.resultSortColumn,t)||(s.dataModel.resultSortColumn=t),f(t)}),C(65,jD,2,2,"option",117),a(),r(66,"span"),S(67,"i",118),a(),S(68,"em"),a()(),r(69,"div",119),C(70,qD,4,3,"div",120),a()(),P()}if(n&2){let e=p();o(2),M(h(3,48,"MESSAGE.Content_of_your_choice_to_display")),o(3),M(h(6,50,"MESSAGE.Selecting_any_of_the_following_will_make_the_search_results_range_smaller")),o(3),d("optionAllowUnSelect",!0)("optionDisabled",!(e.fieldsInfo.linkPropertyTypeUsageId!=null&&e.fieldsInfo.linkPropertyTypeUsageId.accessEditField))("optionTypeView",2)("optionSelectForce",e.dataModel.linkPropertyTypeUsageId)("optionPlaceholder",h(9,52,"TITLE.Type_Usage")),o(5),d("optionAllowUnSelect",!0)("optionDisabled",!(e.fieldsInfo.linkPropertyTypeLanduseId!=null&&e.fieldsInfo.linkPropertyTypeLanduseId.accessEditField))("optionTypeView",2)("optionSelectForce",e.dataModel.linkPropertyTypeLanduseId)("optionTypeUsageId",e.dataModel.linkPropertyTypeUsageId)("optionPlaceholder",h(14,54,"TITLE.Type_Property")),o(5),d("optionTypeView",2)("optionAllowUnSelect",!0)("optionDisabled",!(e.fieldsInfo.linkContractTypeId!=null&&e.fieldsInfo.linkContractTypeId.accessEditField))("optionSelectForce",e.dataModel.linkContractTypeId)("optionPlaceholder",h(19,56,"TITLE.Type_Transaction")),o(4),d("optionSelectFirstItem",!0)("optionSelectForce",e.dataModel.linkCoreCurrencyId)("optionPlaceholder",h(23,58,"TITLE.Specify_the_transaction_currency")),o(2),d("ngIf",(e.fieldsInfo.salePriceMin==null?null:e.fieldsInfo.salePriceMin.accessWatchField)&&(e.contractTypeSelected==null?null:e.contractTypeSelected.hasSalePrice)),o(),d("ngIf",(e.fieldsInfo.rentPriceMin==null?null:e.fieldsInfo.rentPriceMin.accessWatchField)&&(e.contractTypeSelected==null?null:e.contractTypeSelected.hasRentPrice)),o(),d("ngIf",(e.fieldsInfo.depositPriceMin==null?null:e.fieldsInfo.depositPriceMin.accessWatchField)&&(e.contractTypeSelected==null?null:e.contractTypeSelected.hasDepositPrice)),o(),d("ngIf",(e.fieldsInfo.periodPriceMin==null?null:e.fieldsInfo.periodPriceMin.accessWatchField)&&(e.contractTypeSelected==null?null:e.contractTypeSelected.hasDepositPrice)),o(),d("ngIf",(e.fieldsInfo.salePriceMax==null?null:e.fieldsInfo.salePriceMax.accessWatchField)&&(e.contractTypeSelected==null?null:e.contractTypeSelected.hasSalePrice)),o(),d("ngIf",(e.fieldsInfo.rentPriceMax==null?null:e.fieldsInfo.rentPriceMax.accessWatchField)&&(e.contractTypeSelected==null?null:e.contractTypeSelected.hasRentPrice)),o(),d("ngIf",(e.fieldsInfo.depositPriceMax==null?null:e.fieldsInfo.depositPriceMax.accessWatchField)&&(e.contractTypeSelected==null?null:e.contractTypeSelected.hasDepositPrice)),o(),d("ngIf",(e.fieldsInfo.periodPriceMax==null?null:e.fieldsInfo.periodPriceMax.accessWatchField)&&(e.contractTypeSelected==null?null:e.contractTypeSelected.hasDepositPrice)),o(),d("ngIf",e.dataModel.linkPropertyTypeLanduseId&&(e.PropertyTypeSelected==null||e.PropertyTypeSelected.titleCreatedYaer==null?null:e.PropertyTypeSelected.titleCreatedYaer.length)>1),o(),d("ngIf",e.dataModel.linkPropertyTypeLanduseId&&(e.PropertyTypeSelected==null||e.PropertyTypeSelected.titlePartition==null?null:e.PropertyTypeSelected.titlePartition.length)>1),o(),d("ngIf",e.fieldsInfo.area==null?null:e.fieldsInfo.area.accessWatchField),o(2),d("optionDisabled",!(e.fieldsInfo.linkLocationIds!=null&&e.fieldsInfo.linkLocationIds.accessEditField))("optionSelectForce",e.dataModel.linkLocationIds)("optionPlaceholder",h(37,60,"TITLE.Region"))("optionLabel",h(38,62,"TITLE.Geographical_Areas")),o(4),d("ngForOf",e.dataModel.propertyDetailGroups),o(3),y(" ",h(44,64,"TITLE.ignored_property_list")," "),o(3),y(" ",h(47,66,"TITLE.DESCRIPTION"),": "),o(3),y(" ",h(50,68,"TITLE.ignored_property_list_DESCRIPTION")," "),o(2),d("optionDisabled",!(e.fieldsInfo.linkPropertyIdsIgnored!=null&&e.fieldsInfo.linkPropertyIdsIgnored.accessEditField))("optionPlaceholder",h(52,70,"TITLE.Property"))("optionSelectForce",e.dataModel.linkPropertyIdsIgnored),o(3),y(" ",h(55,72,"ACTION.SEARCH"),": "),o(8),M(e.fieldsInfo.resultSortColumn==null?null:e.fieldsInfo.resultSortColumn.fieldTitle),o(),b("ngModel",e.dataModel.resultSortColumn),o(2),d("ngForOf",e.dataFieldInfoModel),o(5),d("ngIf",(e.dataModel==null||e.dataModel.resultSortColumn==null?null:e.dataModel.resultSortColumn.length)>0)}}function zD(n,l){if(n&1){let e=E();r(0,"div",163)(1,"a",164),S(2,"img",165),g(3,"translate"),a(),r(4,"span",166),I("click",function(){u(e);let t=p();return f(t.onActionCopied())}),S(5,"i",167),a(),r(6,"h5",168),c(7),g(8,"translate"),a(),r(9,"p",169),c(10),g(11,"translate"),a(),r(12,"p",169),c(13),g(14,"translate"),S(15,"br"),c(16),g(17,"translate"),S(18,"br"),c(19),g(20,"translate"),S(21,"br"),c(22),g(23,"translate"),a(),S(24,"hr")(25,"app-cms-qdoc",170),a()}if(n&2){let e=p();o(),d("href",x(e.dataModel.urlViewContent),j),o(),d("alt",x(h(3,13,"TITLE.Scan_the_barcode")))("src",e.dataModel.urlViewContentQRCodeBase64,j),o(2),d("cdkCopyToClipboard",e.dataModel.urlViewContent),o(3),y(" ",h(8,15,"TITLE.DESCRIPTION"),": "),o(3),y(" ",h(11,17,"TITLE.You_can_view_the_output_of_your_billboard")," "),o(3),y(" ",h(14,19,"TITLE.In_the_title_section_you_can_edit_the_title_of_your_screen_and_write_the_address_and_description_for_that_staff")," "),o(3),y(" ",h(17,21,"TITLE.In_the_next_section_you_can_see_your_display_content_for_the_billboard")," "),o(3),y(" ",h(20,23,"TITLE.You_can_narrow_your_search_by_filling_in_any_of_the_fields")," "),o(3),y(" ",h(23,25,"TITLE.Finally_by_clicking_on_the_view_option_you_can_see_the_advertisements_you_want_and_by_clicking_on_the_save_option_you_can_create_your_own_billboard")," "),o(3),d("optionUrl",e.dataModel.urlViewContent)}}function YD(n,l){if(n&1){let e=E();r(0,"div",171)(1,"button",172),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",173),c(3),g(4,"translate"),a(),r(5,"button",174),S(6,"i",175),c(7),g(8,"translate"),a()()}if(n&2){p();let e=R(11);o(3),y(" ",h(4,3,"ACTION.BACK")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",h(8,5,"ACTION.SAVE")," ")}}function KD(n,l){if(n&1){let e=E();r(0,"button",176),I("click",function(){u(e);let t=p();return f(t.onFormLoadEstateResult())}),S(1,"i",173),c(2),g(3,"translate"),a()}n&2&&(o(2),y(" ",h(3,1,"ACTION.VIEW_Estates")," "))}function ZD(n,l){if(n&1){let e=E();r(0,"button",176),I("click",function(){u(e);let t=p();return f(t.onFormLoadEstateHaveHistoryResult())}),S(1,"i",173),c(2),g(3,"translate"),a()}n&2&&(o(2),y(" ",h(3,1,"ACTION.VIEW_Estate_Have_Histories")," "))}function JD(n,l){if(n&1){let e=E();r(0,"button",176),I("click",function(){u(e);let t=p();return f(t.onFormLoadEstateHistoryResult())}),S(1,"i",173),c(2),g(3,"translate"),a()}n&2&&(o(2),y(" ",h(3,1,"ACTION.VIEW_Estate_Histories")," "))}function XD(n,l){if(n&1){let e=E();r(0,"button",176),I("click",function(){u(e);let t=p();return f(t.onFormLoadEstateAgencyResult())}),S(1,"i",173),c(2),g(3,"translate"),a()}n&2&&(o(2),y(" ",h(3,1,"ACTION.VIEW_Estate_Agencys")," "))}function $D(n,l){if(n&1){let e=E();r(0,"button",176),I("click",function(){u(e);let t=p();return f(t.onFormLoadEstateUserResult())}),S(1,"i",173),c(2),g(3,"translate"),a()}n&2&&(o(2),y(" ",h(3,1,"ACTION.VIEW_Estate_Users")," "))}function eL(n,l){if(n&1){let e=E();r(0,"button",176),I("click",function(){u(e);let t=p();return f(t.onFormSendMessage())}),S(1,"i",173),c(2),g(3,"translate"),a()}n&2&&(o(2),y(" ",h(3,1,"ACTION.Send_Message")," "))}function tL(n,l){if(n&1){let e=E();r(0,"button",176),I("click",function(){u(e);let t=p();return f(t.onActionButtonQuickHistoryAddRow())}),S(1,"i",173),c(2),g(3,"translate"),a()}n&2&&(o(2),y(" ",h(3,1,"ACTION.HISTORY_ADD")," "))}function iL(n,l){if(n&1&&(r(0,"div",62),S(1,"app-estate-property-list",177,26),a()),n&2){let e=p();o(),d("optionLinkCustomerOrderId",e.dataModel.id)("optionloadComponent",e.optionloadComponent)("optionsortType",e.dataModel.resultSortType)("optionloadByRoute",!1)}}function nL(n,l){if(n&1&&(r(0,"div",62),S(1,"app-estate-property-list",178,27),a()),n&2){let e=p();o(),d("optionLinkCustomerOrderIdHaveHistory",e.dataModel.id)("optionloadComponent",e.optionloadComponent)("optionsortType",e.dataModel.resultSortType)("optionloadByRoute",!1)}}function oL(n,l){if(n&1&&(r(0,"div",62),S(1,"app-estate-account-agency-list",179,28),a()),n&2){let e=p();o(),d("optionLinkLocationWorkAreaIds",e.dataModel.linkLocationIds)("optionloadComponent",e.optionloadComponent)("optionloadByRoute",!1)}}function rL(n,l){if(n&1&&(r(0,"div",62),S(1,"app-estate-account-expert-list",179,29),a()),n&2){let e=p();o(),d("optionLinkLocationWorkAreaIds",e.dataModel.linkLocationIds)("optionloadComponent",e.optionloadComponent)("optionloadByRoute",!1)}}function aL(n,l){if(n&1&&(r(0,"div",62),S(1,"app-estate-property-history-list",180,30),a()),n&2){let e=p();o(),d("optionLinkCustomerOrderId",e.dataModel.id)("optionloadComponent",!1)("optionloadByRoute",!1)}}var Ts=class Ts extends Ut{constructor(e,i,t,s,_,m,k,z,Se,qe,Ue,ft,jt,Ft,Yt,Oe){super(t,new kn,Se,Yt);this.router=e;this.coreEnumService=i;this.estateCustomerOrderService=t;this.estateContractTypeService=s;this.estatePropertyService=_;this.estatePropertyDetailGroupService=m;this.cmsToastrService=k;this.themeService=z;this.publicHelper=Se;this.cdr=qe;this.activatedRoute=Ue;this.cmsStoreService=ft;this.http=jt;this.tokenHelper=Ft;this.translate=Yt;this.dialog=Oe;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.allowActionSend=!1;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.enumInputDataType=Oi;this.numbers=[0,1,2,3,4,5,6,7,8,9,10];this.appLanguage="fa";this.dataModelResult=new Ht;this.dataModel=new kn;this.dataModelCorCurrencySelector=new Fi;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.propertyDetails=new Map;this.PropertyTypeSelected=new Qt;this.optionloadComponent=!1;this.LinkPropertyIdsInUse=!1;this.areaAddressView=!1;this.step=0;this.hidden=!0;this.optionReload=()=>{this.loadResult=""};this.loadResult="";this.publicHelper.processService.cdr=this.cdr,this.requestId=this.activatedRoute.snapshot.paramMap.get("id"),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),setTimeout(()=>this.router.navigate(["/estate/customer-order"]),1e3);return}this.DataGetOneContent(),this.DataGetAccessEstate()}DataGetAccessEstate(){this.estatePropertyService.ServiceViewModel().subscribe({next:e=>{e.isSuccess?this.dataFieldInfoModel=e.access.fieldsInfo:this.cmsToastrService.typeErrorGetAccess(e.errorMessage),Promise.resolve().then(()=>this.cdr.detectChanges())},error:e=>{this.cmsToastrService.typeErrorGetAccess(e)}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateCustomerOrderService.setAccessLoad(),this.estateCustomerOrderService.setAccessDataType(Ne.Editor),this.estateCustomerOrderService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.lastRecordStatus=i.item.recordStatus,this.dataModel=i.item,i.isSuccess?((!this.dataModel.caseCode||this.dataModel.caseCode.length<=0)&&(this.dataModel.caseCode=this.publicHelper.StringRandomGenerator(5,!0)),this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.dataModel.linkPropertyIds&&this.dataModel.linkPropertyIds.length>0&&(this.LinkPropertyIdsInUse=!0),this.formInfo.submitResultMessage="",this.dataModel.propertyDetailGroups&&this.dataModel.propertyDetailGroups.forEach(t=>{t.propertyDetails.forEach(s=>{if(this.propertyDetails[s.id]=0,this.dataModel.propertyDetailValues){let _=this.dataModel.propertyDetailValues.find(m=>m.linkPropertyDetailId===s.id);_&&(this.propertyDetails[s.id]=_.value)}})}),this.dataModel.linkContractTypeId.length>0&&this.estateContractTypeService.ServiceGetOneById(this.dataModel.linkContractTypeId).subscribe({next:t=>{t.isSuccess?this.contractTypeSelected=t.item:this.cmsToastrService.typeErrorMessage(t.errorMessage)}}),Promise.resolve().then(()=>this.cdr.detectChanges())):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(e=!1){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.estateCustomerOrderService.ServiceEdit(this.dataModel).subscribe({next:t=>{if(this.dataModelResult=t,t.isSuccess){if(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(_=>{this.formInfo.submitResultMessage=_,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.optionReload(),(this.tokenHelper.isAdminSite||this.tokenHelper.isSupportSite||this.tokenInfo.access.userAccessUserType==wr.ResellerCpSite||this.tokenInfo.access.userAccessUserType==wr.ResellerEmployeeCpSite)&&this.dataModel.recordStatus==Qe.Available){var s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(ip,{panelClass:s,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{model:this.dataModel}}).afterClosed().subscribe(m=>{this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(i)})}Promise.resolve().then(()=>this.cdr.detectChanges())}else this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(_=>{this.formInfo.submitResultMessage=_}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage);this.publicHelper.processService.processStop(i),this.formInfo.submitButtonEnabled=!0},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}DataGetPropertyDetailGroup(e){let i=new pe,t=new H;t.propertyName="LinkPropertyTypeLanduseId",t.value=e,i.filters.push(t),this.dataModel.propertyDetailGroups=[];let s=this.constructor.name+"DataGetPropertyDetailGroup";this.translate.get("MESSAGE.Get_detailed_information").subscribe(_=>{this.publicHelper.processService.processStart(s,_,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceGetAll(i).subscribe({next:_=>{_.isSuccess?(this.dataModel.propertyDetailGroups=_.listItems,this.dataModel.propertyDetailGroups&&this.dataModel.propertyDetailGroups.forEach(m=>{m.propertyDetails.forEach(k=>{if(this.propertyDetails[k.id]=0,this.dataModel.propertyDetailValues){let z=this.dataModel.propertyDetailValues.find(Se=>Se.linkPropertyDetailId===k.id);z&&(this.propertyDetails[k.id]=z.value)}})})):this.cmsToastrService.typeErrorGetAccess(_.errorMessage),Promise.resolve().then(()=>this.cdr.detectChanges()),this.publicHelper.processService.processStop(s)},error:_=>{this.cmsToastrService.typeErrorGetAccess(_),this.publicHelper.processService.processStop(s,!1)}})}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onActionSelectorSelectUsage(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.dataModel.linkPropertyTypeUsageId=e.id,Promise.resolve().then(()=>this.cdr.detectChanges())}onActionSelectorSelectLanduse(e){if(this.PropertyTypeSelected=null,this.dataModel.linkPropertyTypeLanduseId=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.PropertyTypeSelected=e,this.dataModel.linkPropertyTypeLanduseId=e.id,this.DataGetPropertyDetailGroup(e.id),Promise.resolve().then(()=>this.cdr.detectChanges())}onActionSelectorContarctType(e){if(this.contractTypeSelected=null,this.dataModel.linkContractTypeId=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.contractTypeSelected=e,this.dataModel.linkContractTypeId=e.id,Promise.resolve().then(()=>this.cdr.detectChanges())}onActionSelectorEstateUser(e){this.dataModel.linkEstateExpertId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateExpertId=e.id)}onActionSelectorEstateAgency(e){this.dataModel.linkEstateAgencyId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateAgencyId=e.id)}onActionSelectorLocation(e){this.dataModel.linkLocationIds=e}onActionSelectorProperty(e){this.dataModel.linkPropertyIds=e,this.dataModel.linkPropertyIds&&this.dataModel.linkPropertyIds.length>0?this.LinkPropertyIdsInUse=!0:this.LinkPropertyIdsInUse=!1}onActionSelectorPropertyIgnored(e){this.dataModel.linkPropertyIdsIgnored=e}setStep(e){this.step=e}nextStep(){this.step++}prevStep(){this.step--}onFormSendMessage(){this.onFormSubmit(!0)}onFormSubmit(e=!1){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.dataModel.propertyDetailValues=[],this.dataModel.propertyDetailGroups&&this.dataModel.propertyDetailGroups.forEach(i=>{i.propertyDetails.forEach(t=>{let s=new wo;s.linkPropertyDetailId=t.id,s.value=this.propertyDetails[t.id],this.dataModel.propertyDetailValues.push(s)})}),this.DataEditContent(e))}onActionSelectorSelect(e){if(!e||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkEstateCustomerCategoryId=e.id}onFormCancel(){this.router.navigate(["/estate/customer-order/"])}onFormLoadEstateResult(){this.loadResult="estatePropertyList",Promise.resolve().then(()=>this.cdr.detectChanges()),this.estatePropertyListComponent.optionloadComponent=!0,this.estatePropertyListComponent.DataGetAll()}onFormLoadEstateHaveHistoryResult(){this.loadResult="estatePropertyHaveHistoryList",Promise.resolve().then(()=>this.cdr.detectChanges()),this.estatePropertyHaveHistoryListComponent.optionloadComponent=!0,this.estatePropertyHaveHistoryListComponent.DataGetAll()}onActionSelectCurrency(e){if(!e||e.id<=0){this.dataModelCorCurrencySelector=null,this.dataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=e,this.dataModel.linkCoreCurrencyId=e.id}onFormLoadEstateAgencyResult(){this.loadResult="estateAccountAgencyList",Promise.resolve().then(()=>this.cdr.detectChanges()),this.estateAccountAgencyListComponent.optionloadComponent=!0,this.estateAccountAgencyListComponent.DataGetAll()}onFormLoadEstateUserResult(){this.loadResult="estateAccountExpertList",Promise.resolve().then(()=>this.cdr.detectChanges()),this.estateAccountExpertListComponent.optionloadComponent=!0,this.estateAccountExpertListComponent.DataGetAll()}onFormLoadEstateHistoryResult(){this.loadResult="estateHistoryList",Promise.resolve().then(()=>this.cdr.detectChanges()),this.estatePropertyHistoryListComponent.optionloadComponent=!0,this.estatePropertyHistoryListComponent.DataGetAll()}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCmsUserId=null;return}this.dataModel.linkCmsUserId=e.id}onActionButtonQuickHistoryAddRow(){var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Co,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{linkActivityTypeId:null,linkPropertyId:null,linkEstateExpertId:null,linkCustomerOrderId:this.dataModel.id,linkEstateAgencyId:null}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionSortArrow(){this.dataModel.resultSortType==$.Ascending?this.dataModel.resultSortType=$.Descending:this.dataModel.resultSortType==$.Descending?this.dataModel.resultSortType=$.Random:this.dataModel.resultSortType==$.Random?this.dataModel.resultSortType=$.Ascending:this.dataModel.resultSortType=$.Ascending}};Ts.\u0275fac=function(i){return new(i||Ts)(v(Ze),v(X),v($i),v(Ai),v(gi),v(Ii),v(V),v(Vt),v(F),v(O),v(Kt),v(J),v(Ea),v(Z),v(L),v(Ae))},Ts.\u0275cmp=D({type:Ts,selectors:[["app-estate-customer-order-edit"]],viewQuery:function(i,t){if(i&1&&(te(zk,5),te(Ti,5),te(Ti,5),te(yo,5),te(So,5),te(pn,5)),i&2){let s;ie(s=ne())&&(t.formGroup=s.first),ie(s=ne())&&(t.estatePropertyListComponent=s.first),ie(s=ne())&&(t.estatePropertyHaveHistoryListComponent=s.first),ie(s=ne())&&(t.estateAccountAgencyListComponent=s.first),ie(s=ne())&&(t.estateAccountExpertListComponent=s.first),ie(s=ne())&&(t.estatePropertyHistoryListComponent=s.first)}},standalone:!1,features:[oe],decls:91,vars:83,consts:[["vform","ngForm"],["Title",""],["Description",""],["ContactMobiles",""],["CaseCode",""],["DescriptionHidden",""],["scoreRushToBuy","ngModel"],["scorePurchaseDecision","ngModel"],["scoreLiquidityPower","ngModel"],["scorePurchasingPower","ngModel"],["actionCreateNewCmsUserFirstName",""],["actionCreateNewCmsUserLastName",""],["actionCreateNewCmsUserMobile",""],["areaAddress",""],["ResultSortColumn","ngModel"],["SalePriceMin",""],["RentPriceMin",""],["DepositPriceMin",""],["PeriodPriceMin",""],["SalePriceMax",""],["RentPriceMax",""],["DepositPriceMax",""],["PeriodPriceMax",""],["CreatedYaer",""],["Partition",""],["Area",""],["estatePropertyListComponent",""],["estatePropertyHaveHistoryListComponent",""],["estateAccountAgencyListComponent",""],["estateAccountExpertListComponent",""],["estatePropertyHistoryListComponent",""],[3,"Key","svg"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"mt-5","mb-3"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","name","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.contactMobiles",1,"color-highlight"],["matInput","","name","dataModel.contactMobiles","type","text","minlength","0","maxlength","100","rows","5","id","dataModel.contactMobiles",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","blockquote",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[3,"optionChange","optionDisabled","optionPlaceholder","optionSelectForce"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[1,"row","alert","alert-custom","alert-shadow","gutter-b"],[1,"row"],[1,"col-md-10","col-sm-10","col-xs-16"],["class","col-md-6 col-sm-6 col-xs-9","style","text-align: center",4,"ngIf"],[1,"col-md-12","col-sm-12","col-xs-18"],["class","form-actions",4,"ngIf"],[1,"ntk-cms-html-card-footer"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],[1,"row","alert","alert-custom","alert-white","alert-shadow","gutter-b"],["class","col-md-12 col-sm-12 col-xs-18",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["matInput","","name","dataModel.caseCode","type","text","minlength","3","maxlength","100","required","","id","dataModel.caseCode",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.caseCode",1,"color-highlight"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"range-slider","bottom-15","range-slider-icons"],["for","dataModel.scoreRushToBuy",1,"color-highlight"],[1,"fa","fa-range-icon-1","fa-angle-down","color-theme"],[1,"fa","fa-range-icon-2","fa-angle-up","color-theme"],["type","range","min","0","max","10","id","dataModel.scoreRushToBuy","name","dataModel.scoreRushToBuy",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],["for","dataModel.scorePurchaseDecision",1,"color-highlight"],["type","range","min","0","max","10","id","dataModel.scorePurchaseDecision","name","dataModel.scorePurchaseDecision",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],["for","dataModel.scoreLiquidityPower",1,"color-highlight"],["type","range","min","0","max","10","id","dataModel.scoreLiquidityPower","name","dataModel.scoreLiquidityPower",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],["for","dataModel.scorePurchasingPower",1,"color-highlight"],["type","range","min","0","max","10","id","dataModel.scorePurchasingPower","name","dataModel.scorePurchasingPower",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],[3,"optionChange","optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder"],[1,"blockquote"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.actionCreateNewCmsUser",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.actionCreateNewCmsUser","name","dataModel.actionCreateNewCmsUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.actionCreateNewCmsUser",1,"custom-control-label"],[3,"optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],["for","dataModel.actionCreateNewCmsUserFirstName",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserFirstName","type","text","minlength","3","maxlength","50","id","dataModel.actionCreateNewCmsUserFirstName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.actionCreateNewCmsUserLastName",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserLastName","type","text","minlength","3","maxlength","50","id","dataModel.actionCreateNewCmsUserLastName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.actionCreateNewCmsUserMobile",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserMobile","type","text","placeholder","0912","minlength","3","maxlength","20","id","dataModel.actionCreateNewCmsUserMobile",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["data-trigger-switch","dataModel.includeAllSite",1,"font-600","font-14"],["type","checkbox","id","dataModel.includeAllSite","name","dataModel.includeAllSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.includeAllSite",1,"custom-control-label"],["for","dataModel.areaAddress",1,"color-highlight"],["matInput","","name","dataModel.areaAddress","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.areaAddress",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionAllowUnSelect","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionAllowUnSelect","optionDisabled","optionTypeView","optionSelectForce","optionTypeUsageId","optionPlaceholder"],[3,"optionChange","optionTypeView","optionAllowUnSelect","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder","optionLabel"],[1,"example-headers-align"],[3,"expanded","opened",4,"ngFor","ngForOf"],[1,"row","mb-0"],[1,"col-10","pe-0"],["for","dataModel.resultSortColumn",1,"color-highlight"],["id","dataModel.resultSortColumn","name","dataModel.resultSortColumn",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"fa","fa-chevron-down"],[1,"col-2","ps-0"],["class","col-md-2 col-sm-2 col-xs-2 resultSortIcon","style","margin: auto",4,"ngIf"],["for","dataModel.salePriceMin",1,"color-highlight"],["matInput","","name","dataModel.salePriceMin","type","text","currencyMask","","id","dataModel.salePriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.rentPriceMin",1,"color-highlight"],["matInput","","name","dataModel.rentPriceMin","type","text","currencyMask","","id","dataModel.rentPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.depositPriceMin",1,"color-highlight"],["matInput","","name","dataModel.depositPriceMin","type","text","currencyMask","","id","dataModel.depositPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.periodPriceMin",1,"color-highlight"],["matInput","","name","dataModel.periodPriceMin","type","text","currencyMask","","id","dataModel.periodPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.salePriceMax",1,"color-highlight"],["matInput","","name","dataModel.salePriceMax","type","text","currencyMask","","id","dataModel.salePriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.rentPriceMax",1,"color-highlight"],["matInput","","name","dataModel.rentPriceMax","type","text","currencyMask","","id","dataModel.rentPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.depositPriceMax",1,"color-highlight"],["matInput","","name","dataModel.depositPriceMax","type","text","currencyMask","","id","dataModel.depositPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.periodPriceMax",1,"color-highlight"],["matInput","","name","dataModel.periodPriceMax","type","text","currencyMask","","id","dataModel.periodPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.createdYaer",1,"color-highlight"],["matInput","","name","dataModel.createdYaer","type","number","id","dataModel.createdYaer",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.partition",1,"color-highlight"],["matInput","","name","dataModel.partition","type","number","id","dataModel.partition",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.area",1,"color-highlight"],["matInput","","name","dataModel.partition","type","text","currencyMask","","id","dataModel.area",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],[3,"opened","expanded"],[2,"width","100px"],[4,"ngFor","ngForOf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue",3,"click",4,"ngIf"],[3,"ngSwitch"],["class","ntk-full-width",4,"ngSwitchCase"],["class","ntk-full-width",4,"ngSwitchDefault"],[1,"ntk-full-width"],["aria-hidden","true",3,"ngClass"],[3,"modelChange","model","optionForceUseDefaultValue","optionMultipleChoice","optionDefaultValue","optionRequired","optionLabel"],[3,"modelChange","model","optionRequired","optionLabel"],[3,"modelChange","model"],[3,"modelChange","model","optionRequired"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[3,"value"],[1,"col-md-2","col-sm-2","col-xs-2","resultSortIcon",2,"margin","auto"],[3,"click"],[2,"color","black",3,"ngClass"],[1,"col-md-6","col-sm-6","col-xs-9",2,"text-align","center"],["target","_blank",3,"href"],["height","300px","width","300px",3,"src","alt"],[1,"navi-icon",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[2,"text-align","right"],["dir","rtl",2,"font-size","17px"],[3,"optionUrl"],[1,"form-actions"],["type","button",1,"btn","font-13","btn-s","font-600","m-1","rounded-s","border-0","shadow-xl","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-angle-left"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"optionLinkCustomerOrderId","optionloadComponent","optionsortType","optionloadByRoute"],[3,"optionLinkCustomerOrderIdHaveHistory","optionloadComponent","optionsortType","optionloadByRoute"],[3,"optionLinkLocationWorkAreaIds","optionloadComponent","optionloadByRoute"],[3,"optionLinkCustomerOrderId","optionloadComponent","optionloadByRoute"]],template:function(i,t){if(i&1){let s=E();S(0,"app-cms-guide-notice",31),r(1,"div",32),S(2,"app-progress-spinner",33),r(3,"div",34)(4,"p",35),c(5),a(),r(6,"p"),c(7),g(8,"translate"),a(),S(9,"app-cms-form-result-message",36),r(10,"form",37,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(12,"div",38)(13,"app-cms-enum-record-status-selector",39),w("modelChange",function(m){return u(s),T(t.dataModel.recordStatus,m)||(t.dataModel.recordStatus=m),f(m)}),a(),r(14,"div",40)(15,"label",41),c(16),a(),r(17,"input",42,1),w("ngModelChange",function(m){return u(s),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),C(19,Yk,1,0,"i",43)(20,Kk,1,0,"i",44),S(21,"em"),C(22,Zk,5,4,"mat-error",45),a(),r(23,"app-estate-customer-category-selector",46),g(24,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorSelect(m))}),a(),C(25,eD,9,9,"div",47),r(26,"div",40)(27,"label",48),c(28),a(),r(29,"textarea",49,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),a(),r(31,"em"),c(32),a()(),C(33,tD,8,7,"div",47)(34,iD,33,28,"div",45)(35,nD,2,6,"app-estate-account-agency-selector",50),r(36,"app-estate-account-expert-selector",51),g(37,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorEstateUser(m))}),a(),r(38,"div",40)(39,"label",52),c(40),g(41,"translate"),a(),r(42,"textarea",53,3),g(44,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.contactMobiles,m)||(t.dataModel.contactMobiles=m),f(m)}),a(),r(45,"em"),c(46),a(),C(47,oD,5,3,"mat-error",45),a(),C(48,yD,14,8,"div",54)(49,SD,8,2,"div",55)(50,CD,7,5,"div",47),S(51,"br"),r(52,"p"),c(53),g(54,"translate"),a(),r(55,"p"),c(56),g(57,"translate"),S(58,"br"),c(59),g(60,"translate"),a(),r(61,"p"),c(62),g(63,"translate"),a(),r(64,"app-estate-property-autocomplete",56),g(65,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorProperty(m))}),a(),S(66,"br"),C(67,QD,71,74,"ng-container",45),r(68,"div",57)(69,"div",58)(70,"div")(71,"div",59),S(72,"div",60),a()()()(),C(73,zD,26,27,"div",61),r(74,"div",59)(75,"div",62),C(76,YD,9,7,"div",63),a()(),r(77,"div",64),C(78,KD,4,3,"button",65)(79,ZD,4,3,"button",65)(80,JD,4,3,"button",65)(81,XD,4,3,"button",65)(82,$D,4,3,"button",65)(83,eL,4,3,"button",65)(84,tL,4,3,"button",65),a()()()()(),r(85,"div",66),C(86,iL,3,4,"div",67)(87,nL,3,4,"div",67)(88,oL,3,3,"div",67)(89,rL,3,3,"div",67)(90,aL,3,3,"div",67),a()}if(i&2){let s=R(18),_=R(30),m=R(43);d("Key","customerorder.content.list.edit")("svg","assets/media/svg/icons/General/Notifications1.svg"),o(2),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(8,63,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(4),b("model",t.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0),o(3),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),d("ngIf",s.errors==null?null:s.errors.required),o(),d("optionSelectForce",t.dataModel.linkEstateCustomerCategoryId)("optionPlaceholder",h(24,65,"TITLE.Category")),o(2),d("ngIf",t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.accessWatchField),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(3),y("",_.value.length," / 500"),o(),d("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite),o(),d("optionDisabled",!(t.fieldsInfo.linkEstateExpertId!=null&&t.fieldsInfo.linkEstateExpertId.accessEditField))("optionSelectForce",t.dataModel.linkEstateExpertId)("optionPlaceholder",h(37,67,"TITLE.Real_estate_customer_personnel")),o(4),M(h(41,69,"TITLE.Mobile_customer")),o(2),d("placeholder",x(h(44,71,"TITLE.Mobile_customer"))),b("ngModel",t.dataModel.contactMobiles),o(4),y("",m.value.length," / 100"),o(),d("ngIf",m.errors==null?null:m.errors.required),o(),d("ngIf",t.fieldsInfo.actionCreateNewCmsUser==null?null:t.fieldsInfo.actionCreateNewCmsUser.accessWatchField),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.areaAddressView),o(3),M(h(54,73,"TITLE.specific_property_list")),o(3),y(" ",h(57,75,"TITLE.DESCRIPTION"),":"),o(3),y("",h(60,77,"TITLE.The_specific_property_section_allows_you_to_search_for_registered_property")," "),o(3),y(" ",h(63,79,"MESSAGE.Selecting_specific_property_will_remove_all_search_fields")," "),o(2),d("optionDisabled",!(t.fieldsInfo.linkPropertyIds!=null&&t.fieldsInfo.linkPropertyIds.accessEditField))("optionPlaceholder",h(65,81,"TITLE.Property"))("optionSelectForce",t.dataModel.linkPropertyIds),o(3),d("ngIf",!t.LinkPropertyIdsInUse),o(6),d("ngIf",(t.dataModel==null||t.dataModel.urlViewContentQRCodeBase64==null?null:t.dataModel.urlViewContentQRCodeBase64.length)>0&&(t.dataModel==null||t.dataModel.urlViewContent==null?null:t.dataModel.urlViewContent.length)>0),o(3),d("ngIf",t.formInfo.submitButtonEnabled),o(2),d("ngIf",(t.dataModel==null||t.dataModel.id==null?null:t.dataModel.id.length)>0),o(),d("ngIf",(t.dataModel==null||t.dataModel.id==null?null:t.dataModel.id.length)>0),o(),d("ngIf",(t.dataModel==null||t.dataModel.id==null?null:t.dataModel.id.length)>0),o(),d("ngIf",(t.dataModel==null||t.dataModel.id==null?null:t.dataModel.id.length)>0&&(t.dataModel==null?null:t.dataModel.linkLocationIds)&&(t.dataModel==null?null:t.dataModel.linkLocationIds.length)>0),o(),d("ngIf",(t.dataModel==null||t.dataModel.id==null?null:t.dataModel.id.length)>0&&(t.dataModel==null?null:t.dataModel.linkLocationIds)&&(t.dataModel==null?null:t.dataModel.linkLocationIds.length)>0),o(),d("ngIf",(t.dataModel==null||t.dataModel.id==null?null:t.dataModel.id.length)>0&&t.tokenHelper.isAdminSite),o(),d("ngIf",(t.dataModel==null||t.dataModel.id==null?null:t.dataModel.id.length)>0),o(2),d("ngIf",t.loadResult==="estatePropertyList"),o(),d("ngIf",t.loadResult==="estatePropertyHaveHistoryList"),o(),d("ngIf",t.loadResult==="estateAccountAgencyList"),o(),d("ngIf",t.loadResult==="estateAccountExpertList"),o(),d("ngIf",t.loadResult==="estateHistoryList")}},dependencies:[ce,He,N,Io,Eo,Mo,ke,Va,Ba,Y,Wt,Da,qt,La,q,we,de,De,Pe,me,Re,_i,Lo,Ao,Po,Ro,Do,ko,xe,Ee,Q,fi,Wi,rn,Jt,ln,Zl,U,jo,ge,lo,so,co,po,mo,uo,Gt,Go,Ci,dn,Ti,la,pn,cn,So,xn,yo,ao,bs,B,sa],encapsulation:2});var np=Ts;var lL=["vform"];function sL(n,l){n&1&&S(0,"i",30)}function dL(n,l){n&1&&S(0,"i",31)}function cL(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),o(2),M(h(4,2,"MESSAGE.required"))}}function pL(n,l){if(n&1){let e=E();r(0,"div",15)(1,"label",32),c(2),g(3,"translate"),a(),r(4,"textarea",33,4),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),a(),r(6,"em"),c(7),a()()}if(n&2){let e=R(5),i=p();o(2),M(h(3,5,"TITLE.Description_Hidden")),o(2),d("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",i.dataModel.descriptionHidden),o(3),y("",e.value.length," / 500")}}function mL(n,l){if(n&1){let e=E();r(0,"app-estate-account-agency-selector",34),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorEstateAgency(t))}),a()}if(n&2){let e=p();d("optionDisabled",!(e.fieldsInfo.linkEstateAgencyId!=null&&e.fieldsInfo.linkEstateAgencyId.accessAddField))("optionSelectForce",e.dataModel.linkEstateAgencyId)("optionSelectUserId",e.tokenInfo.access.userId)("optionPlaceholder",h(1,4,"TITLE.Property_agency"))}}function uL(n,l){n&1&&(r(0,"mat-error"),c(1," ContactMobiles is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function fL(n,l){if(n&1){let e=E();r(0,"app-cms-user-selector",25),g(1,"translate"),I("optionChange",function(t){u(e);let s=p(2);return f(s.onActionSelectorCmsUser(t))}),a()}if(n&2){let e=p(2);d("optionDisabled",!(e.fieldsInfo.linkCmsUserId!=null&&e.fieldsInfo.linkCmsUserId.accessAddField))("optionSelectForce",e.dataModel.linkCmsUserId)("optionPlaceholder",h(1,3,"TITLE.user"))}}function _L(n,l){n&1&&S(0,"i",30)}function gL(n,l){n&1&&S(0,"i",31)}function hL(n,l){n&1&&(r(0,"mat-error")(1,"strong"),c(2),g(3,"translate"),a()()),n&2&&(o(2),M(h(3,1,"MESSAGE.required")))}function yL(n,l){if(n&1){let e=E();r(0,"div",15)(1,"label",44),c(2),g(3,"translate"),a(),r(4,"input",45,5),g(6,"translate"),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.actionCreateNewCmsUserFirstName,t)||(s.dataModel.actionCreateNewCmsUserFirstName=t),f(t)}),a(),C(7,_L,1,0,"i",18)(8,gL,1,0,"i",19),r(9,"em"),c(10),a(),C(11,hL,4,3,"mat-error",20),a()}if(n&2){let e=R(5),i=p(2);o(2),M(h(3,8,"TITLE.FIRST_NAME")),o(2),d("placeholder",x(h(6,10,"TITLE.FIRST_NAME"))),b("ngModel",i.dataModel.actionCreateNewCmsUserFirstName),o(3),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 50"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function SL(n,l){n&1&&S(0,"i",30)}function CL(n,l){n&1&&S(0,"i",31)}function vL(n,l){n&1&&(r(0,"mat-error")(1,"strong"),c(2),g(3,"translate"),a()()),n&2&&(o(2),M(h(3,1,"MESSAGE.required")))}function IL(n,l){if(n&1){let e=E();r(0,"div",15)(1,"label",46),c(2),g(3,"translate"),a(),r(4,"input",47,6),g(6,"translate"),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.actionCreateNewCmsUserLastName,t)||(s.dataModel.actionCreateNewCmsUserLastName=t),f(t)}),a(),C(7,SL,1,0,"i",18)(8,CL,1,0,"i",19),r(9,"em"),c(10),a(),C(11,vL,4,3,"mat-error",20),a()}if(n&2){let e=R(5),i=p(2);o(2),M(h(3,8,"TITLE.LAST_NAME")),o(2),d("placeholder",x(h(6,10,"TITLE.LAST_NAME"))),b("ngModel",i.dataModel.actionCreateNewCmsUserLastName),o(3),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 50"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function EL(n,l){n&1&&S(0,"i",30)}function ML(n,l){n&1&&S(0,"i",31)}function bL(n,l){n&1&&(r(0,"mat-error")(1,"strong"),c(2),g(3,"translate"),a()()),n&2&&(o(2),M(h(3,1,"MESSAGE.required")))}function TL(n,l){if(n&1){let e=E();r(0,"div",15)(1,"label",48),c(2),g(3,"translate"),a(),r(4,"input",49,7),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.actionCreateNewCmsUserMobile,t)||(s.dataModel.actionCreateNewCmsUserMobile=t),f(t)}),a(),C(6,EL,1,0,"i",18)(7,ML,1,0,"i",19),r(8,"em"),c(9),a(),C(10,bL,4,3,"mat-error",20),a()}if(n&2){let e=R(5),i=p(2);o(2),M(h(3,6,"TITLE.MOBILE_NUMBER")),o(2),b("ngModel",i.dataModel.actionCreateNewCmsUserMobile),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 20"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function wL(n,l){if(n&1){let e=E();r(0,"div",35)(1,"div",36)(2,"div",37)(3,"h5",38),c(4),g(5,"translate"),a()(),r(6,"div",39)(7,"div",40)(8,"input",41),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.actionCreateNewCmsUser,t)||(s.dataModel.actionCreateNewCmsUser=t),f(t)}),a(),S(9,"label",42),a()()(),C(10,fL,2,5,"app-cms-user-selector",43)(11,yL,12,12,"div",23)(12,IL,12,12,"div",23)(13,TL,11,8,"div",23),a()}if(n&2){let e=p();o(4),y(" ",h(5,6,"TITLE.CREATE_NEW_USER")," "),o(4),b("ngModel",e.dataModel.actionCreateNewCmsUser),o(2),d("ngIf",!e.dataModel.actionCreateNewCmsUser),o(),d("ngIf",e.dataModel.actionCreateNewCmsUser),o(),d("ngIf",e.dataModel.actionCreateNewCmsUser),o(),d("ngIf",e.dataModel.actionCreateNewCmsUser)}}function xL(n,l){if(n&1){let e=E();r(0,"div",50)(1,"button",51),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",52),c(3),g(4,"translate"),a(),r(5,"button",53),S(6,"i",54),c(7),g(8,"translate"),a()()}if(n&2){p();let e=R(10);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",h(8,5,"ACTION.SAVE")," ")}}var ws=class ws extends Bt{constructor(e,i,t,s,_,m,k,z,Se,qe){super(s,new kn,k,Se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateCustomerOrderService=s;this.cmsToastrService=_;this.cmsStoreService=m;this.publicHelper=k;this.cdr=z;this.translate=Se;this.tokenHelper=qe;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModel=new kn;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,e&&e.linkEstateCustomerCategoryId?.length>0&&(this.dataModel.linkEstateCustomerCategoryId=e.linkEstateCustomerCategoryId),e&&e.copyId?.length>0&&this.DataGetOneContent(e.copyId),this.dataModel.caseCode=this.publicHelper.StringRandomGenerator(5,!0)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataGetOneContent(e){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.estateCustomerOrderService.setAccessLoad(),this.estateCustomerOrderService.setAccessDataType(Ne.Editor),this.estateCustomerOrderService.ServiceGetOneById(e).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,this.dataModel.title="Copy of "+this.dataModel.title,t.isSuccess?Promise.resolve().then(()=>this.cdr.detectChanges()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataModel.scoreLiquidityPower=5,this.dataModel.scorePurchaseDecision=5,this.dataModel.scorePurchasingPower=5,this.dataModel.scoreRushToBuy=5,this.estateCustomerOrderService.ServiceAdd(this.dataModel).subscribe({next:i=>{i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({id:i.item.id,dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorSelect(e){if(!e||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkEstateCustomerCategoryId=e.id}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCmsUserId=null;return}this.dataModel.linkCmsUserId=e.id}onActionSelectorEstateAgency(e){this.dataModel.linkEstateAgencyId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateAgencyId=e.id)}onActionSelectorEstateUser(e){this.dataModel.linkEstateExpertId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateExpertId=e.id)}};ws.\u0275fac=function(i){return new(i||ws)(v(Te),v(be),v(X),v($i),v(V),v(J),v(F),v(O),v(L),v(Z))},ws.\u0275cmp=D({type:ws,selectors:[["app-estate-customer-order-add-to-edit"]],viewQuery:function(i,t){if(i&1&&te(lL,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:46,vars:41,consts:[["vform","ngForm"],["Title",""],["Description",""],["ContactMobiles",""],["DescriptionHidden",""],["actionCreateNewCmsUserFirstName",""],["actionCreateNewCmsUserLastName",""],["actionCreateNewCmsUserMobile",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.contactMobiles",1,"color-highlight"],["matInput","","name","dataModel.contactMobiles","type","text","minlength","0","maxlength","100","rows","5","id","dataModel.contactMobiles",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","blockquote",4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder"],[1,"blockquote"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.actionCreateNewCmsUser",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.actionCreateNewCmsUser","name","dataModel.actionCreateNewCmsUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.actionCreateNewCmsUser",1,"custom-control-label"],[3,"optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],["for","dataModel.actionCreateNewCmsUserFirstName",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserFirstName","type","text","minlength","3","maxlength","50","id","dataModel.actionCreateNewCmsUserFirstName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.actionCreateNewCmsUserLastName",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserLastName","type","text","minlength","3","maxlength","50","id","dataModel.actionCreateNewCmsUserLastName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.actionCreateNewCmsUserMobile",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserMobile","type","text","placeholder","0912","minlength","3","maxlength","20","id","dataModel.actionCreateNewCmsUserMobile",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",8),S(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",12),r(9,"form",13,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"app-estate-customer-category-selector",14),g(12,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorSelect(m))}),a(),r(13,"div",15)(14,"label",16),c(15),a(),r(16,"input",17,1),w("ngModelChange",function(m){return u(s),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),C(18,sL,1,0,"i",18)(19,dL,1,0,"i",19),S(20,"em"),C(21,cL,5,4,"mat-error",20),a(),r(22,"div",15)(23,"label",21),c(24),a(),r(25,"textarea",22,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),a(),r(27,"em"),c(28),a()(),C(29,pL,8,7,"div",23),S(30,"hr"),C(31,mL,2,6,"app-estate-account-agency-selector",24),r(32,"app-estate-account-expert-selector",25),g(33,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorEstateUser(m))}),a(),r(34,"div",15)(35,"label",26),c(36),g(37,"translate"),a(),r(38,"textarea",27,3),g(40,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.contactMobiles,m)||(t.dataModel.contactMobiles=m),f(m)}),a(),r(41,"em"),c(42),a(),C(43,uL,5,3,"mat-error",20),a(),C(44,wL,14,8,"div",28)(45,xL,9,7,"div",29),a()()()}if(i&2){let s=R(17),_=R(26),m=R(39);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,31,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(3),d("optionSelectForce",t.dataModel.linkEstateCustomerCategoryId)("optionPlaceholder",h(12,33,"TITLE.Category")),o(4),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),d("ngIf",s.errors==null?null:s.errors.required),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(3),y("",_.value.length," / 500"),o(),d("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),o(2),d("ngIf",t.tokenHelper.isAdminSite),o(),d("optionDisabled",!(t.fieldsInfo.linkEstateExpertId!=null&&t.fieldsInfo.linkEstateExpertId.accessAddField))("optionSelectForce",t.dataModel.linkEstateExpertId)("optionPlaceholder",h(33,35,"TITLE.Real_estate_customer_personnel")),o(4),M(h(37,37,"TITLE.Mobile_customer")),o(2),d("placeholder",x(h(40,39,"TITLE.Mobile_customer"))),b("ngModel",t.dataModel.contactMobiles),o(4),y("",m.value.length," / 100"),o(),d("ngIf",m.errors==null?null:m.errors.required),o(),d("ngIf",t.fieldsInfo.actionCreateNewCmsUser==null?null:t.fieldsInfo.actionCreateNewCmsUser.accessWatchField),o(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[N,ke,Y,qt,q,we,de,De,Pe,me,Re,xe,Q,ln,U,ge,xn,ao,bs,B],encapsulation:2});var jd=ws;var AL=()=>["expandedTitle"],PL=()=>["expandedDetail"],RL=()=>[5,10,20,100],$0=n=>({display:n});function kL(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.MENU")," "))}function DL(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"button",56),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelectActionMenu(t))}),S(2,"i",57),a()()}}function LL(n,l){n&1&&(r(0,"mat-header-cell",58),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.PICTURE")," "))}function VL(n,l){if(n&1&&(S(0,"img",60),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function BL(n,l){if(n&1&&(r(0,"mat-cell"),C(1,VL,2,4,"img",59),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function FL(n,l){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function OL(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function NL(n,l){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function HL(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"cmssiteinfo"),g(3,"async"),a()),n&2){let e=l.$implicit;o(),y(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function WL(n,l){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function GL(n,l){if(n&1&&S(0,"select",63),n&2){let e=p().$implicit,i=p();d("contentService",i.contentService)("row",e)("ngStyle",ze(3,$0,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function UL(n,l){if(n&1&&(r(0,"mat-cell",61),g(1,"statusCellClass"),S(2,"i",61),g(3,"statusIconClass"),C(4,GL,1,5,"select",62),a()),n&2){let e=l.$implicit,i=p();d("ngClass",h(1,3,e.recordStatus)),o(2),d("ngClass",h(3,5,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function jL(n,l){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.name==null?null:e.fieldsInfo.name.fieldTitle," ")}}function qL(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.name," ")}}function QL(n,l){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.lastName==null?null:e.fieldsInfo.lastName.fieldTitle," ")}}function zL(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.lastName," ")}}function YL(n,l){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.companyName==null?null:e.fieldsInfo.companyName.fieldTitle," ")}}function KL(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.companyName," ")}}function ZL(n,l){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.email==null?null:e.fieldsInfo.email.fieldTitle," ")}}function JL(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.email," ")}}function XL(n,l){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.mobile==null?null:e.fieldsInfo.mobile.fieldTitle," ")}}function $L(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.mobile," ")}}function e5(n,l){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function t5(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),y(" ",h(2,1,e.createdDate)," ")}}function i5(n,l){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function n5(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),y(" ",h(2,1,e.updatedDate)," ")}}function o5(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.OPTION")," "))}function r5(n,l){if(n&1&&(r(0,"mat-cell",64)(1,"button",65)(2,"mat-icon"),c(3,"more_vert"),a()(),S(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),d("matMenuTriggerFor",e)}}function a5(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"translate"),g(3,"localeDate"),a()),n&2){let e=l.$implicit;o(),ee(" ",h(2,2,"TITLE.CreationDate")," : ",h(3,4,e.createdDate)," ")}}function l5(n,l){if(n&1&&(S(0,"img",69),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function s5(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),C(5,l5,2,4,"img",66),a(),r(6,"th")(7,"span",67),I("click",function(){u(e);let t=p();return f(t.onActionCopied())}),S(8,"i",68),a(),c(9),a()(),r(10,"tr"),S(11,"td"),r(12,"td"),c(13),a()(),r(14,"tr"),S(15,"td"),r(16,"td"),c(17),a()(),r(18,"tr"),S(19,"td"),r(20,"td"),c(21),a()(),r(22,"tr"),S(23,"td"),r(24,"td"),c(25),a()(),r(26,"tr"),S(27,"td"),r(28,"td"),c(29),a()(),r(30,"tr"),S(31,"td"),r(32,"td"),c(33),a()(),r(34,"tr"),S(35,"td")(36,"td"),a()()()()}if(n&2){let e=l.$implicit,i=p();o(5),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),o(2),d("cdkCopyToClipboard",e.id),o(2),y(" ",e.id," "),o(4),ee(" ",i.fieldsInfo.username==null?null:i.fieldsInfo.username.fieldTitle," : ",e.username," "),o(4),ee(" ",i.fieldsInfo.name==null?null:i.fieldsInfo.name.fieldTitle," : ",e.name," "),o(4),ee(" ",i.fieldsInfo.lastName==null?null:i.fieldsInfo.lastName.fieldTitle," : ",e.lastName," "),o(4),ee(" ",i.fieldsInfo.mobile==null?null:i.fieldsInfo.mobile.fieldTitle," : ",e.mobile," "),o(4),ee(" ",i.fieldsInfo.email==null?null:i.fieldsInfo.email.fieldTitle," : ",e.email," "),o(4),ee(" ",i.fieldsInfo.companyName==null?null:i.fieldsInfo.companyName.fieldTitle," : ",e.companyName," ")}}function d5(n,l){n&1&&S(0,"mat-header-row")}function c5(n,l){if(n&1){let e=E();r(0,"mat-row",70),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=p();K("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function p5(n,l){if(n&1){let e=E();r(0,"mat-row",71),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=p();K("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function m5(n,l){if(n&1){let e=E();r(0,"mat-row",72),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=p();K("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),d("ngStyle",ze(7,$0,e.expanded===!0?"":"none"))}}function u5(n,l){if(n&1){let e=E();r(0,"div",73)(1,"button",74),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",75),c(3),g(4,"translate"),a()()}n&2&&(o(3),y(" ",h(4,1,"ACTION.CANCEL")," "))}var xs=class xs extends xt{constructor(e,i,t,s,_,m,k,z,Se,qe,Ue,ft){super(t,new xr,Ue,_,Se);this.data=e;this.dialogRef=i;this.contentService=t;this.cmsToastrService=s;this.tokenHelper=_;this.router=m;this.cdr=k;this.cmsStoreService=z;this.translate=Se;this.pageInfo=qe;this.publicHelper=Ue;this.dialog=ft;this.requestTitle="";this.requestPropertyId="";this.constructorInfoAreaId=this.constructor.name;this.tablePropertySelected=[];this.filteModelContent=new pe;this.filterDataModelQueryBuilder=[];this.formInfo=new ue;this.optionsSearch=new cr;this.optionsStatist=new pr;this.tokenInfo=new It;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","Name","LastName","CompanyName","email","mobile","action_menu"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","Name","LastName","action_menu"];this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(e.title&&(this.requestTitle=e.title+""),e.id&&(this.requestPropertyId=e.id+"")),this.optionsSearch.parentMethods={onSubmit:jt=>this.onSubmitOptionsSearch(jt)}}ngOnInit(){this.translate.get("TITLE.QUICK_VIEW").subscribe(e=>{this.formInfo.formTitle=e}),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new xr);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllResponsibleUserId(this.requestPropertyId,i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems):this.cmsToastrService.typeErrorGetAll(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=$.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};xs.\u0275fac=function(i){return new(i||xs)(v(Te),v(be),v($i),v(V),v(Z),v(Ze),v(O),v(J),v(L),v(St),v(F),v(Ae))},xs.\u0275cmp=D({type:xs,selectors:[["app-estate-customer-order-responsible-user-list"]],standalone:!1,features:[oe],decls:83,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[1,"card","card-style","loader-container"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],["cms-action-main",""],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Name"],["matColumnDef","LastName"],["matColumnDef","CompanyName"],["matColumnDef","email"],["matColumnDef","mobile"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){if(i&1){let s=E();r(0,"div",3)(1,"div",4),c(2),a(),r(3,"div",5),S(4,"app-progress-spinner",6),r(5,"app-cms-html-list",7),w("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),I("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),$e(6,8)(7,9)(8,10),A(9,11),r(10,"a",12),I("click",function(){return u(s),f(t.onActionButtonReload())}),S(11,"i",13),a(),r(12,"a",14),I("click",function(){return u(s),f(t.onActionGridExpandRows(!0))}),S(13,"i",15),a(),r(14,"a",14),I("click",function(){return u(s),f(t.onActionGridExpandRows(!1))}),S(15,"i",16),a(),P(),A(16,17),r(17,"a",18)(18,"mat-slide-toggle",19),w("ngModelChange",function(m){return u(s),T(t.optionsSearch.data.show,m)||(t.optionsSearch.data.show=m),f(m)}),a(),c(19),g(20,"translate"),a(),P(),$e(21,20)(22,21),A(23,22),r(24,"app-cms-search-list",23),w("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),a(),r(25,"app-cms-statist-list",23),w("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),P(),A(26,24),r(27,"mat-table",25,0),I("matSortChange",function(){u(s);let m=R(28);return f(t.onTableSortData(m))}),A(29,26),C(30,kL,3,3,"mat-header-cell",27)(31,DL,3,0,"mat-cell",28),P(),A(32,29),C(33,LL,3,3,"mat-header-cell",30)(34,BL,2,1,"mat-cell",28),P(),A(35,31),C(36,FL,2,1,"mat-header-cell",30)(37,OL,2,1,"mat-cell",28),P(),A(38,32),C(39,NL,2,1,"mat-header-cell",30)(40,HL,4,5,"mat-cell",28),P(),A(41,33),C(42,WL,2,1,"mat-header-cell",30)(43,UL,5,7,"mat-cell",34),P(),A(44,35),C(45,jL,2,1,"mat-header-cell",30)(46,qL,2,1,"mat-cell",28),P(),A(47,36),C(48,QL,2,1,"mat-header-cell",30)(49,zL,2,1,"mat-cell",28),P(),A(50,37),C(51,YL,2,1,"mat-header-cell",30)(52,KL,2,1,"mat-cell",28),P(),A(53,38),C(54,ZL,2,1,"mat-header-cell",30)(55,JL,2,1,"mat-cell",28),P(),A(56,39),C(57,XL,2,1,"mat-header-cell",30)(58,$L,2,1,"mat-cell",28),P(),A(59,40),C(60,e5,2,1,"mat-header-cell",30)(61,t5,3,3,"mat-cell",28),P(),A(62,41),C(63,i5,2,1,"mat-header-cell",30)(64,n5,3,3,"mat-cell",28),P(),A(65,42),C(66,o5,3,3,"mat-header-cell",27)(67,r5,6,1,"mat-cell",43),P(),A(68,44),C(69,a5,4,6,"mat-cell",28),P(),A(70,45),C(71,s5,37,15,"mat-cell",28),P(),C(72,d5,1,0,"mat-header-row",46)(73,c5,1,6,"mat-row",47)(74,p5,1,6,"mat-row",48)(75,m5,1,9,"mat-row",49),a(),P(),A(76,50),r(77,"mat-paginator",51,1),I("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),P(),a()(),r(79,"div",52),S(80,"app-cms-form-result-message",53),a(),r(81,"div",54),C(82,u5,5,3,"div",55),a()()}i&2&&(o(2),y(" ",t.formInfo.formTitle," "),o(2),d("optionsInfoAreaId",t.constructorInfoAreaId),o(),d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.username==null?null:t.tableRowSelected.username.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.username:t.tableRowSelected==null?null:t.tableRowSelected.id),o(13),b("ngModel",t.optionsSearch.data.show),o(),y("",h(20,25,"ACTION.SEARCH")," "),o(5),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(45),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",se(27,AL)),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(),d("matRowDefColumns",se(28,PL)),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(29,RL)),o(3),d("formInfo",t.formInfo),o(2),d("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[ce,N,it,q,me,Je,Ee,Q,Dt,Lt,Mt,yt,bt,Tt,nt,rt,dt,at,ot,ct,lt,st,pt,mt,fi,At,Pt,U,ge,Rt,kt,Hi,We,B,sn,Me,jn,Zt,qn],encapsulation:2});var op=xs;var f5=["vform"],_5=()=>["fa"];function g5(n,l){if(n&1&&(S(0,"img",30),g(1,"cmsthumbnail")),n&2){let e=p();d("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function h5(n,l){n&1&&S(0,"i",31)}function y5(n,l){n&1&&S(0,"i",32)}function S5(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function C5(n,l){if(n&1){let e=E();r(0,"div",16)(1,"label",33),c(2),a(),r(3,"input",34,4),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),I("iconPickerSelect",function(t){u(e);let s=p();return f(s.onIconPickerSelect(t))}),a(),r(5,"span",35),S(6,"i",36),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",se(9,_5))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),o(3),d("ngClass",e.dataModel.iconFont)}}function v5(n,l){if(n&1){let e=E();r(0,"div",37)(1,"label",38),c(2),a(),r(3,"div",39)(4,"div",40)(5,"input",41,5),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),a()(),r(7,"div",42),S(8,"ngx-mat-color-toggle",43)(9,"ngx-mat-color-picker",44,6),a()()()}if(n&2){let e=R(10),i=p();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ve("background",i.dataModel.iconColor),d("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),d("for",e),o(),d("touchUi",!0)("color","primary")}}function I5(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function E5(n,l){if(n&1){let e=E();r(0,"div",45)(1,"button",46),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",47),c(3),g(4,"translate"),a(),r(5,"button",48),S(6,"i",49),c(7),g(8,"translate"),a()()}if(n&2){p();let e=R(10);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",h(8,5,"ACTION.SAVE")," ")}}var As=class As extends Bt{constructor(e,i,t,s,_,m,k,z){super(s,new oo,m,z);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateCustomerCategoryService=s;this.cmsToastrService=_;this.publicHelper=m;this.cdr=k;this.translate=z;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new G;this.dataModel=new oo;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateCustomerCategoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};As.\u0275fac=function(i){return new(i||As)(v(Te),v(be),v(X),v(nr),v(V),v(F),v(O),v(L))},As.\u0275cmp=D({type:As,selectors:[["app-estate-customer-category-add"]],viewQuery:function(i,t){if(i&1&&te(f5,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:45,vars:44,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",7),S(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",11),r(9,"form",12,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"div",13)(12,"a",14),g(13,"cmsthumbnail"),C(14,g5,2,4,"img",15),a()(),r(15,"div",16)(16,"label",17),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(17),g(18,"translate"),a(),r(19,"input",18,1),g(21,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(22,"cms-file-manager",19),I("itemSelected",function(m){return u(s),f(t.onActionFileSelected(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),a()(),r(23,"div",16)(24,"label",20),c(25),a(),r(26,"input",21,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),C(28,h5,1,0,"i",22)(29,y5,1,0,"i",23),r(30,"em"),c(31),a(),C(32,S5,5,3,"mat-error",24),a(),C(33,C5,7,10,"div",25)(34,v5,11,11,"div",26),r(35,"div",16)(36,"label",27),c(37),a(),r(38,"textarea",28,3),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(40,"        "),a(),r(41,"em"),c(42),a(),C(43,I5,5,3,"mat-error",24),a(),C(44,E5,9,7,"div",29),a()()()}if(i&2){let s=R(27),_=R(39);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,36,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(4),d("href",x(h(13,38,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(h(18,40,"TITLE.PICTURE")),o(2),d("placeholder",x(h(21,42,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(3),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.accessWatchField),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",_.value.length," / 500"),o(),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[ce,N,ke,Y,q,we,de,De,Pe,me,Re,xe,tt,Q,U,ge,si,li,ai,ri,_t,B,Me],encapsulation:2});var rp=As;var M5=["vform"],b5=()=>["fa"];function T5(n,l){if(n&1&&(S(0,"img",30),g(1,"cmsthumbnail")),n&2){let e=p();d("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function w5(n,l){n&1&&S(0,"i",31)}function x5(n,l){n&1&&S(0,"i",32)}function A5(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),M(h(4,2,"MESSAGE.required"))}}function P5(n,l){if(n&1){let e=E();r(0,"div",16)(1,"label",33),c(2),a(),r(3,"input",34,4),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),I("iconPickerSelect",function(t){u(e);let s=p();return f(s.onIconPickerSelect(t))}),a(),r(5,"span",35),S(6,"i",36),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",se(9,b5))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessEditField)),o(3),d("ngClass",e.dataModel.iconFont)}}function R5(n,l){if(n&1){let e=E();r(0,"div",37)(1,"label",38),c(2),a(),r(3,"div",39)(4,"div",40)(5,"input",41,5),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),a()(),r(7,"div",42),S(8,"ngx-mat-color-toggle",43)(9,"ngx-mat-color-picker",44,6),a()()()}if(n&2){let e=R(10),i=p();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ve("background",i.dataModel.iconColor),d("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),o(3),d("for",e),o(),d("touchUi",!0)("color","primary")}}function k5(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function D5(n,l){if(n&1){let e=E();r(0,"div",45)(1,"button",46),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",47),c(3),g(4,"translate"),a(),r(5,"button",48),S(6,"i",49),c(7),g(8,"translate"),a()()}if(n&2){p();let e=R(10);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",h(8,5,"ACTION.SAVE")," ")}}var Ps=class Ps extends Ut{constructor(e,i,t,s,_,m,k,z,Se){super(s,new oo,k,Se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateCustomerCategoryService=s;this.estatePropertyTypeService=_;this.cmsToastrService=m;this.publicHelper=k;this.cdr=z;this.translate=Se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ht;this.dataModel=new oo;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.dataEstatePropertyTypeUsageIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateCustomerCategoryService.setAccessLoad(),this.estateCustomerCategoryService.setAccessDataType(Ne.Editor),this.estateCustomerCategoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new pe,t=new H;t.propertyName="LinkCustomerCategoryId",t.value=this.requestId,i.filters.push(t),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:s=>{this.dataEstatePropertyTypeModel=s.listItems;let _=[];this.dataEstatePropertyTypeModel.forEach(m=>{_.push(m.linkPropertyTypeUsageId)}),this.dataEstatePropertyTypeUsageIds=_,s.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.submitResultMessage=m}),this.formInfo.submitResultMessage=s.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateCustomerCategoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorUserCategorySelect(e){this.dataEstatePropertyTypeUsageModel=e}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ps.\u0275fac=function(i){return new(i||Ps)(v(Te),v(be),v(X),v(nr),v(_n),v(V),v(F),v(O),v(L))},Ps.\u0275cmp=D({type:Ps,selectors:[["app-estate-customer-category-edit"]],viewQuery:function(i,t){if(i&1&&te(M5,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:45,vars:44,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",7),S(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",11),r(9,"form",12,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"div",13)(12,"a",14),g(13,"cmsthumbnail"),C(14,T5,2,4,"img",15),a()(),r(15,"div",16)(16,"label",17),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(17),g(18,"translate"),a(),r(19,"input",18,1),g(21,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(22,"cms-file-manager",19),I("itemSelected",function(m){return u(s),f(t.onActionFileSelected(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),a()(),r(23,"div",16)(24,"label",20),c(25),a(),r(26,"input",21,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),C(28,w5,1,0,"i",22)(29,x5,1,0,"i",23),r(30,"em"),c(31),a(),C(32,A5,5,4,"mat-error",24),a(),C(33,P5,7,10,"div",25)(34,R5,11,11,"div",26),r(35,"div",16)(36,"label",27),c(37),a(),r(38,"textarea",28,3),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(40,"        "),a(),r(41,"em"),c(42),a(),C(43,k5,5,3,"mat-error",24),a(),C(44,D5,9,7,"div",29),a()()()}if(i&2){let s=R(27),_=R(39);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,36,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(4),d("href",x(h(13,38,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(h(18,40,"TITLE.PICTURE")),o(2),d("placeholder",x(h(21,42,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(3),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.accessWatchField),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",_.value.length," / 500"),o(),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[ce,N,ke,Y,q,we,de,De,Pe,me,Re,xe,tt,Q,U,ge,si,li,ai,ri,_t,B,Me],encapsulation:2});var ap=Ps;function L5(n,l){if(n&1){let e=E();r(0,"button",15),I("click",function(){u(e);let t=p();return f(t.onActionAdd())}),c(1),g(2,"translate"),a()}n&2&&(o(),y(" ",h(2,1,"ACTION.ADD")," "))}function V5(n,l){if(n&1){let e=E();r(0,"button",16),I("click",function(){u(e);let t=p();return f(t.onActionEdit())}),c(1),g(2,"translate"),a()}n&2&&(o(),y(" ",h(2,1,"ACTION.EDIT")," "))}function B5(n,l){if(n&1){let e=E();r(0,"button",17),I("click",function(){u(e);let t=p();return f(t.onActionDelete())}),c(1),g(2,"translate"),a()}n&2&&(o(),y(" ",h(2,1,"ACTION.DELETE")," "))}function F5(n,l){if(n&1){let e=E();r(0,"mat-tree-node",18),S(1,"button",19),r(2,"span",20),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionSelect(t))}),S(3,"img",21)(4,"i",22),c(5),a()()}if(n&2){let e=l.$implicit,i=p();K("ntk-tree-selected",(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&i.dataModelSelect.id===e.id),o(3),d("src",x(e.linkMainImageIdSrc),j),o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(),y("\xA0",e.title)}}function O5(n,l){if(n&1){let e=E();r(0,"mat-tree-node",23)(1,"button",24)(2,"mat-icon",25),c(3),a()(),r(4,"span",20),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionSelect(t))}),S(5,"img",21)(6,"i",22),c(7),a()()}if(n&2){let e=l.$implicit,i=p(),t=R(13);K("ntk-tree-selected",(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&i.dataModelSelect.id===e.id),d("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),vt("type","button")("aria-label","Toggle "+e.title),o(2),y(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),d("src",x(e.linkMainImageIdSrc),j),o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(),y("\xA0",e.title)}}var Rs=class Rs{constructor(l,e,i,t,s,_,m,k,z,Se,qe){this.cmsToastrService=l;this.coreEnumService=e;this.categoryService=i;this.cmsConfirmationDialogService=t;this.dialog=s;this.cdr=_;this.publicHelper=m;this.themeService=k;this.translate=z;this.tokenHelper=Se;this.cmsStoreService=qe;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new oo;this.dataModelResult=new G;this.filterModel=new pe;this.dataSource=new Ho;this.optionChange=new Xe;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(l,e)=>!1;this.childrenAccessor=l=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(()=>ae(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new oo,this.DataGetAll()}onActionSelectForce(l){}onActionAdd(){var l="";this.publicHelper.isMobile?l="dialog-fullscreen":l="dialog-min",this.dialog.open(rp,{height:"90%",panelClass:l,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let l="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(l=this.dataModelSelect.id),l===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(ap,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let l="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(l=this.dataModelSelect.id),l===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="",i="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(t=>{e=t["MESSAGE.Please_Confirm"],i=t["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.dataModelSelect.title+" ) "}),this.cmsConfirmationDialogService.confirm(e,i).then(t=>{if(t){let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(_=>{this.publicHelper.processService.processStart(s,_,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.dataModelSelect.id).subscribe({next:_=>{_.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(s)},error:_=>{this.cmsToastrService.typeError(_),this.publicHelper.processService.processStop(s,!1)}})}}).catch(()=>{})}};Rs.\u0275fac=function(e){return new(e||Rs)(v(V),v(X),v(nr),v(wt),v(Ae),v(O),v(F),v(Vt),v(L),v(Z),v(J))},Rs.\u0275cmp=D({type:Rs,selectors:[["app-estate-customer-category-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:17,vars:15,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){if(e&1){let t=E();r(0,"app-cms-html-tree",1),A(1,2),c(2),g(3,"translate"),P(),A(4,3),C(5,L5,3,3,"button",4)(6,V5,3,3,"button",5)(7,B5,3,3,"button",6),r(8,"a",7),I("click",function(){return u(t),f(i.onActionButtonReload())}),S(9,"i",8),a(),P(),A(10,9),S(11,"app-progress-spinner",10),r(12,"mat-tree",11,0),C(14,F5,6,8,"mat-tree-node",12)(15,O5,8,13,"mat-tree-node",13),a(),P(),$e(16,14),a()}e&2&&(d("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),y(" ",h(3,13,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),o(),d("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)&&i.dataModelSelect.id&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessDeleteRow)&&i.dataModelSelect.id&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(2),K("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),o(2),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),d("matTreeNodeDefWhen",i.hasChild))},dependencies:[ce,N,Je,Ee,Bo,Fo,No,Oo,Vo,U,qo,B],encapsulation:2});var lp=Rs;var H5=()=>["expandedTitle"],W5=()=>["expandedDetail"],G5=()=>[5,10,20,100],eu=n=>({display:n});function U5(n,l){if(n&1){let e=E();r(0,"a",28),I("click",function(){u(e);let t=p();return f(t.onActionButtonInResponsible(!t.searchInResponsibleChecked))}),S(1,"mat-slide-toggle",29),c(2),g(3,"translate"),a()}if(n&2){let e=p();o(),d("checked",e.searchInResponsibleChecked),o(),y(" ",h(3,2,"ACTION.InResponsible")," ")}}function j5(n,l){if(n&1){let e=E();r(0,"div",34)(1,"a",82),I("click",function(t){u(e);let s=p();return f(s.onActionButtonNewRow(t))}),S(2,"i",83)(3,"br"),a(),r(4,"p",36),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.ADD")," "))}function q5(n,l){if(n&1){let e=E();r(0,"div",34)(1,"a",84),I("click",function(t){u(e);let s=p();return f(s.onActionButtonEditRow(s.tableRowSelected,t))}),S(2,"i",85)(3,"br"),a(),r(4,"p",36),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.EDIT")," "))}function Q5(n,l){if(n&1){let e=E();r(0,"div",34)(1,"a",86),I("click",function(t){u(e);let s=p();return f(s.onActionButtonCopyNewRow(s.tableRowSelected,t))}),S(2,"i",87)(3,"br"),a(),r(4,"p",36),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.COPY")," "))}function z5(n,l){if(n&1){let e=E();r(0,"div",34)(1,"a",88),I("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",89)(3,"br"),a(),r(4,"p",36),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.DELETE")," "))}function Y5(n,l){if(n&1){let e=E();r(0,"mat-icon",90),I("click",function(){u(e);let t=p();return f(t.filteModelContent.caseCode="")}),c(1," close"),a()}}function K5(n,l){if(n&1){let e=E();r(0,"app-cms-user-selector",92),g(1,"translate"),I("optionChange",function(t){u(e);let s=p(2);return f(s.filteModelContent.linkResponsibleUserId=t==null?null:t.id)}),a()}n&2&&d("optionPlaceholder",h(1,1,"TITLE.InResponsibleTo"))}function Z5(n,l){if(n&1){let e=E();r(0,"div",100)(1,"label",101),c(2),a(),r(3,"input",102,3),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.filteModelContent.createdYaer,t)||(s.filteModelContent.createdYaer=t),f(t)}),a()()}if(n&2){let e=p(2);o(2),M(e.PropertyTypeSelected.titleCreatedYaer),o(),d("placeholder",x(e.fieldsInfo.createdYaer==null?null:e.fieldsInfo.createdYaer.fieldTitle)),b("ngModel",e.filteModelContent.createdYaer)}}function J5(n,l){if(n&1){let e=E();r(0,"div",100)(1,"label",103),c(2),a(),r(3,"input",104,4),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.filteModelContent.partition,t)||(s.filteModelContent.partition=t),f(t)}),a()()}if(n&2){let e=p(2);o(2),M(e.PropertyTypeSelected.titlePartition),o(),d("placeholder",x(e.PropertyTypeSelected.titlePartition)),b("ngModel",e.filteModelContent.partition)}}function X5(n,l){if(n&1){let e=E();r(0,"div",100)(1,"label",105),c(2),a(),r(3,"input",106,5),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.filteModelContent.area,t)||(s.filteModelContent.area=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=p(2);o(2),M(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle)),b("ngModel",e.filteModelContent.area),o(3),M(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldDescription)}}function $5(n,l){if(n&1){let e=E();r(0,"div",100)(1,"label",107),c(2),g(3,"translate"),a(),r(4,"input",108,6),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.filteModelContent.salePriceMin,t)||(s.filteModelContent.salePriceMin=t),f(t)}),a()()}if(n&2){let e=p(2);o(2),y("",h(3,2,"TITLE.SalePriceMin")," "),o(2),b("ngModel",e.filteModelContent.salePriceMin)}}function eV(n,l){if(n&1){let e=E();r(0,"div",100)(1,"label",109),c(2),g(3,"translate"),a(),r(4,"input",110,7),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.filteModelContent.rentPriceMin,t)||(s.filteModelContent.rentPriceMin=t),f(t)}),a()()}if(n&2){let e=p(2);o(2),M(h(3,2,"TITLE.RentPriceMin")),o(2),b("ngModel",e.filteModelContent.rentPriceMin)}}function tV(n,l){if(n&1){let e=E();r(0,"div",100)(1,"label",111),c(2,"ImageThumbnailSizeHeight"),a(),r(3,"input",112,8),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.filteModelContent.depositPriceMin,t)||(s.filteModelContent.depositPriceMin=t),f(t)}),a()()}if(n&2){let e=p(2);o(3),b("ngModel",e.filteModelContent.depositPriceMin)}}function iV(n,l){if(n&1){let e=E();r(0,"div",100)(1,"label",113),c(2),g(3,"translate"),a(),r(4,"input",114,9),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.filteModelContent.periodPriceMin,t)||(s.filteModelContent.periodPriceMin=t),f(t)}),a()()}if(n&2){let e=p(2);o(2),y("",h(3,2,"TITLE.PeriodPriceMin")," "),o(2),b("ngModel",e.filteModelContent.periodPriceMin)}}function nV(n,l){if(n&1){let e=E();r(0,"div",100)(1,"label",115),c(2),g(3,"translate"),a(),r(4,"input",116,10),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.filteModelContent.salePriceMax,t)||(s.filteModelContent.salePriceMax=t),f(t)}),a()()}if(n&2){let e=p(2);o(2),y(" ",h(3,2,"TITLE.SalePriceMax")),o(2),b("ngModel",e.filteModelContent.salePriceMax)}}function oV(n,l){if(n&1){let e=E();r(0,"div",100)(1,"label",117),c(2),g(3,"translate"),a(),r(4,"input",118,11),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.filteModelContent.rentPriceMax,t)||(s.filteModelContent.rentPriceMax=t),f(t)}),a()()}if(n&2){let e=p(2);o(2),y("",h(3,2,"TITLE.RentPriceMax")," "),o(2),b("ngModel",e.filteModelContent.rentPriceMax)}}function rV(n,l){if(n&1){let e=E();r(0,"div",100)(1,"label",119),c(2),g(3,"translate"),a(),r(4,"input",120,12),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.filteModelContent.depositPriceMax,t)||(s.filteModelContent.depositPriceMax=t),f(t)}),a()()}if(n&2){let e=p(2);o(2),M(h(3,2,"TITLE.DepositPriceMax")),o(2),b("ngModel",e.filteModelContent.depositPriceMax)}}function aV(n,l){if(n&1){let e=E();r(0,"div",100)(1,"label",121),c(2),g(3,"translate"),a(),r(4,"input",122,13),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.filteModelContent.periodPriceMax,t)||(s.filteModelContent.periodPriceMax=t),f(t)}),a()()}if(n&2){let e=p(2);o(2),y("",h(3,2,"TITLE.PeriodPriceMax")," "),o(2),b("ngModel",e.filteModelContent.periodPriceMax)}}function lV(n,l){if(n&1){let e=E();r(0,"div",43),S(1,"i",131),c(2,"\xA0 "),r(3,"app-input-string",132),w("modelChange",function(t){u(e);let s=p().$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=p().$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),Nt(Ie("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionRequired",e.required)("optionLabel",e.title)}}function sV(n,l){if(n&1){let e=E();r(0,"div",43),S(1,"i",131),c(2,"\xA0 "),r(3,"app-input-int",133),w("modelChange",function(t){u(e);let s=p().$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=p().$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),Nt(Ie("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionRequired",e.required)("optionLabel",e.title)}}function dV(n,l){if(n&1){let e=E();r(0,"div",43),S(1,"i",131),c(2,"\xA0 "),r(3,"app-input-boolean",134),w("modelChange",function(t){u(e);let s=p().$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),c(4),a()()}if(n&2){let e=p().$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),b("model",i.propertyDetails[e.id]),o(),y("",e.title," ")}}function cV(n,l){if(n&1){let e=E();r(0,"div",43),S(1,"i",131),c(2,"\xA0 "),r(3,"app-input-float",133),w("modelChange",function(t){u(e);let s=p().$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=p().$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),Nt(Ie("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionRequired",e.required)("optionLabel",e.title)}}function pV(n,l){if(n&1){let e=E();r(0,"div",43),S(1,"i",131),c(2,"\xA0 "),r(3,"label"),c(4),a(),r(5,"app-input-date",135),w("modelChange",function(t){u(e);let s=p().$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=p().$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),Nt(Ie("color:'",e.iconColor,"';")),o(),M(e.title),o(),b("model",i.propertyDetails[e.id]),d("optionRequired",e.required)}}function mV(n,l){if(n&1){let e=E();r(0,"div",43),S(1,"i",131),c(2,"\xA0 "),r(3,"app-input-textarea",133),w("modelChange",function(t){u(e);let s=p().$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=p().$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),Nt(Ie("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionRequired",e.required)("optionLabel",e.title)}}function uV(n,l){if(n&1){let e=E();r(0,"div",43),S(1,"i",131),c(2,"\xA0 "),r(3,"app-input-string",132),w("modelChange",function(t){u(e);let s=p().$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=p().$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),Nt(Ie("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionRequired",e.required)("optionLabel",e.title)}}function fV(n,l){if(n&1&&(A(0)(1,128),C(2,lV,4,12,"div",129)(3,sV,4,9,"div",129)(4,dV,5,5,"div",129)(5,cV,4,9,"div",129)(6,pV,6,9,"div",129)(7,mV,4,9,"div",129)(8,uV,4,12,"div",130),P()()),n&2){let e=l.$implicit,i=p(3);o(),d("ngSwitch",e.inputDataType),o(),d("ngSwitchCase",i.enumInputDataType.String),o(),d("ngSwitchCase",i.enumInputDataType.Int),o(),d("ngSwitchCase",i.enumInputDataType.Boolean),o(),d("ngSwitchCase",i.enumInputDataType.Float),o(),d("ngSwitchCase",i.enumInputDataType.Date),o(),d("ngSwitchCase",i.enumInputDataType.TextArea)}}function _V(n,l){if(n&1){let e=E();r(0,"button",136),I("click",function(){u(e);let t=p(3);return f(t.prevStep())}),c(1),g(2,"translate"),a()}n&2&&(o(),y(" ",h(2,1,"ACTION.PREVIOUS")," "))}function gV(n,l){if(n&1){let e=E();r(0,"button",137),I("click",function(){u(e);let t=p(3);return f(t.nextStep())}),c(1),g(2,"translate"),a()}n&2&&(o(),y(" ",h(2,1,"ACTION.NEXT")," "))}function hV(n,l){if(n&1){let e=E();r(0,"button",137),I("click",function(){u(e);let t=p(3);return f(t.nextStep())}),c(1),g(2,"translate"),a()}n&2&&(o(),y(" ",h(2,1,"ACTION.END")," "))}function yV(n,l){if(n&1){let e=E();r(0,"mat-expansion-panel",123),I("opened",function(){let t=u(e).index,s=p(2);return f(s.setStep(t))}),r(1,"mat-expansion-panel-header")(2,"mat-panel-title"),c(3),a(),r(4,"mat-panel-description"),c(5),r(6,"mat-icon",124),c(7),a()()(),C(8,fV,9,7,"ng-container",125),r(9,"mat-action-row"),C(10,_V,3,3,"button",126)(11,gV,3,3,"button",127)(12,hV,3,3,"button",127),a()()}if(n&2){let e=l.$implicit,i=l.index,t=p(2);d("expanded",t.step===i),o(3),y(" ",e.title," "),o(2),y(" ",e.description," "),o(2),M(e.iconFont),o(),d("ngForOf",e.propertyDetails),o(2),d("ngIf",i>0),o(),d("ngIf",i+1<t.dataModelPropertyDetailGroups.length),o(),d("ngIf",i+1===t.dataModelPropertyDetailGroups.length)}}function SV(n,l){if(n&1){let e=E();r(0,"div")(1,"P"),c(2),g(3,"translate"),a(),C(4,K5,2,3,"app-cms-user-selector",91),r(5,"app-cms-location-autocomplete",92),g(6,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorLocation(t))}),a(),S(7,"hr"),r(8,"app-estate-property-type-usage-selector",93),g(9,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorSelectUsage(t))}),a(),S(10,"br")(11,"br")(12,"br"),r(13,"app-estate-property-type-landuse-selector",93),g(14,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorSelectLanduse(t))}),a(),S(15,"br")(16,"br")(17,"br"),r(18,"app-estate-contract-type-selector",93),g(19,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorContarctType(t))}),a(),S(20,"br")(21,"br")(22,"br"),C(23,Z5,5,4,"div",94)(24,J5,5,4,"div",94)(25,X5,7,5,"div",94),S(26,"hr"),r(27,"app-cms-currency-selector",95),g(28,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectCurrency(t))}),a(),r(29,"div",96)(30,"div",97),C(31,$5,6,4,"div",94)(32,eV,6,4,"div",94)(33,tV,5,1,"div",94)(34,iV,6,4,"div",94),a(),r(35,"div",97),C(36,nV,6,4,"div",94)(37,oV,6,4,"div",94)(38,rV,6,4,"div",94)(39,aV,6,4,"div",94),a(),r(40,"mat-accordion",98),C(41,yV,13,8,"mat-expansion-panel",99),S(42,"br"),a()()()}if(n&2){let e=p();o(2),y("",h(3,24,"MESSAGE.Selecting_any_of_the_following_will_make_the_search_results_range_smaller")," "),o(2),d("ngIf",e.tokenHelper.isAdminSite),o(),d("optionPlaceholder",h(6,26,"TITLE.Region")),o(3),d("optionTypeView",2)("optionPlaceholder",h(9,28,"TITLE.Type_Usage")),o(5),d("optionTypeView",2)("optionPlaceholder",h(14,30,"TITLE.Property_Type")),o(5),d("optionTypeView",2)("optionPlaceholder",h(19,32,"TITLE.Transaction_type")),o(5),d("ngIf",e.filteModelContent.linkPropertyTypeLanduseId&&(e.PropertyTypeSelected==null||e.PropertyTypeSelected.titleCreatedYaer==null?null:e.PropertyTypeSelected.titleCreatedYaer.length)>1),o(),d("ngIf",e.filteModelContent.linkPropertyTypeLanduseId&&(e.PropertyTypeSelected==null||e.PropertyTypeSelected.titlePartition==null?null:e.PropertyTypeSelected.titlePartition.length)>1),o(),d("ngIf",e.fieldsInfo.area==null?null:e.fieldsInfo.area.accessWatchField),o(2),d("optionSelectFirstItem",!1)("optionSelectForce",e.filteModelContent.linkCoreCurrencyId)("optionPlaceholder",h(28,34,"TITLE.Specify_the_transaction_currency")),o(4),d("ngIf",e.contractTypeSelected==null?null:e.contractTypeSelected.hasSalePrice),o(),d("ngIf",e.contractTypeSelected==null?null:e.contractTypeSelected.hasRentPrice),o(),d("ngIf",e.contractTypeSelected==null?null:e.contractTypeSelected.hasDepositPrice),o(),d("ngIf",e.contractTypeSelected==null?null:e.contractTypeSelected.hasDepositPrice),o(2),d("ngIf",e.contractTypeSelected==null?null:e.contractTypeSelected.hasSalePrice),o(),d("ngIf",e.contractTypeSelected==null?null:e.contractTypeSelected.hasRentPrice),o(),d("ngIf",e.contractTypeSelected==null?null:e.contractTypeSelected.hasDepositPrice),o(),d("ngIf",e.contractTypeSelected==null?null:e.contractTypeSelected.hasDepositPrice),o(2),d("ngForOf",e.dataModelPropertyDetailGroups)}}function CV(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.MENU")," "))}function vV(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"button",138),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelectActionMenu(t))}),S(2,"i",139),a()()}}function IV(n,l){if(n&1&&(r(0,"mat-header-cell",140),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function EV(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function MV(n,l){if(n&1&&(r(0,"mat-header-cell",140),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function bV(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"cmssiteinfo"),g(3,"async"),a()),n&2){let e=l.$implicit;o(),y(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function TV(n,l){if(n&1&&(r(0,"mat-header-cell",140),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function wV(n,l){if(n&1&&S(0,"select",143),n&2){let e=p().$implicit,i=p();d("contentService",i.contentService)("row",e)("ngStyle",ze(3,eu,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function xV(n,l){if(n&1&&(r(0,"mat-cell",141),g(1,"statusCellClass"),S(2,"i",141),g(3,"statusIconClass"),C(4,wV,1,5,"select",142),a()),n&2){let e=l.$implicit,i=p();d("ngClass",h(1,3,e.recordStatus)),o(2),d("ngClass",h(3,5,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function AV(n,l){if(n&1&&(r(0,"mat-header-cell",140),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function PV(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function RV(n,l){if(n&1&&(r(0,"mat-header-cell",140),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function kV(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"localeDateTime"),a()),n&2){let e=l.$implicit;o(),y(" ",h(2,1,e.createdDate)," ")}}function DV(n,l){if(n&1&&(r(0,"mat-header-cell",140),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.scoreRushToBuy==null?null:e.fieldsInfo.scoreRushToBuy.fieldTitle," ")}}function LV(n,l){if(n&1&&(r(0,"mat-cell",141),c(1),a()),n&2){let e=l.$implicit;d("ngClass","cms-cell-score-"+e.scoreRushToBuy),o(),y(" ",e.scoreRushToBuy," ")}}function VV(n,l){if(n&1&&(r(0,"mat-header-cell",140),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.scorePurchaseDecision==null?null:e.fieldsInfo.scorePurchaseDecision.fieldTitle," ")}}function BV(n,l){if(n&1&&(r(0,"mat-cell",141),c(1),a()),n&2){let e=l.$implicit;d("ngClass","cms-cell-score-"+e.scorePurchaseDecision),o(),y(" ",e.scorePurchaseDecision," ")}}function FV(n,l){if(n&1&&(r(0,"mat-header-cell",140),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.scoreLiquidityPower==null?null:e.fieldsInfo.scoreLiquidityPower.fieldTitle," ")}}function OV(n,l){if(n&1&&(r(0,"mat-cell",141),c(1),a()),n&2){let e=l.$implicit;d("ngClass","cms-cell-score-"+e.scoreLiquidityPower),o(),y(" ",e.scoreLiquidityPower," ")}}function NV(n,l){if(n&1&&(r(0,"mat-header-cell",140),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.scorePurchasingPower==null?null:e.fieldsInfo.scorePurchasingPower.fieldTitle," ")}}function HV(n,l){if(n&1&&(r(0,"mat-cell",141),c(1),a()),n&2){let e=l.$implicit;d("ngClass","cms-cell-score-"+e.scorePurchasingPower),o(),y(" ",e.scorePurchasingPower," ")}}function WV(n,l){if(n&1&&(r(0,"mat-header-cell",140),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function GV(n,l){if(n&1&&(r(0,"mat-cell",144),c(1),g(2,"localeDateTime"),a()),n&2){let e=l.$implicit;o(),y(" ",h(2,1,e.updatedDate)," ")}}function UV(n,l){if(n&1&&(r(0,"mat-header-cell",140),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle," ")}}function jV(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.caseCode," ")}}function qV(n,l){n&1&&(r(0,"mat-header-cell",145),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.OPTION")," "))}function QV(n,l){if(n&1&&(r(0,"mat-cell",146)(1,"button",147)(2,"mat-icon"),c(3,"more_vert"),a()(),S(4,"mat-menu",null,14),a()),n&2){let e=R(5);o(),d("matMenuTriggerFor",e)}}function zV(n,l){n&1&&(r(0,"mat-header-cell",140),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.LINKTO")," "))}function YV(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"button",148),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionButtonLinkTo(t))}),r(2,"mat-icon",149),c(3,"\u2197"),a()()()}}function KV(n,l){n&1&&(r(0,"mat-header-cell",140),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.QUICK_VIEW")," "))}function ZV(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"button",150),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionButtonQuickViewRow(t))}),r(2,"mat-icon",149),c(3,"visibility"),a()()()}}function JV(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function XV(n,l){if(n&1&&(S(0,"img",156),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function $V(n,l){if(n&1&&(r(0,"tr"),S(1,"td"),r(2,"td"),c(3),a()()),n&2){let e=p().$implicit,i=p();o(3),ee(" ",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle," : ",e.description," ")}}function e6(n,l){if(n&1&&(r(0,"tr"),S(1,"td"),r(2,"td"),c(3),g(4,"translate"),a()()),n&2){let e=p().$implicit;o(3),ee(" ",h(4,2,"TITLE.Description_Hidden")," : ",e.descriptionHidden," ")}}function t6(n,l){if(n&1&&(r(0,"tr"),S(1,"td"),r(2,"td"),c(3),g(4,"translate"),a()()),n&2){let e=p().$implicit;o(3),ee(" ",h(4,2,"TITLE.Contact_Mobiles")," : ",e.contactMobiles," ")}}function i6(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),C(5,XV,2,4,"img",151),a(),r(6,"th")(7,"span",152),I("click",function(){u(e);let t=p();return f(t.onActionCopied())}),S(8,"i",153),a(),c(9),a()(),r(10,"tr"),S(11,"td"),r(12,"td"),c(13),a()(),C(14,$V,4,2,"tr",49)(15,e6,5,4,"tr",49)(16,t6,5,4,"tr",49),r(17,"tr"),S(18,"td"),r(19,"td",154),c(20),g(21,"cmsuserinfo"),g(22,"async"),a()(),r(23,"tr")(24,"td",155),c(25),g(26,"translate"),a(),r(27,"td",155),c(28),a()(),r(29,"tr"),S(30,"td")(31,"td"),a()()()()}if(n&2){let e=l.$implicit,i=p();o(5),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),o(2),d("cdkCopyToClipboard",e.id),o(2),y(" ",e.id," "),o(4),ee("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : ",e.title),o(),d("ngIf",e.description),o(),d("ngIf",i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.accessWatchField),o(),d("ngIf",i.fieldsInfo.contactMobiles==null?null:i.fieldsInfo.contactMobiles.accessWatchField),o(4),y(" ",h(22,13,h(21,11,e.createdBy))," "),o(5),y(" ",h(26,15,"TITLE.HISTORY")," : "),o(3),M(e.historyTotalCount)}}function n6(n,l){n&1&&S(0,"mat-header-row")}function o6(n,l){if(n&1){let e=E();r(0,"mat-row",157),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function r6(n,l){if(n&1){let e=E();r(0,"mat-row",158),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function a6(n,l){if(n&1){let e=E();r(0,"mat-row",159),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),d("ngStyle",ze(3,eu,e.expanded===!0?"":"none"))}}var ks=class ks extends xt{constructor(e,i,t,s,_,m,k,z,Se,qe,Ue,ft,jt,Ft){super(e,new kn,jt,_,z);this.contentService=e;this.cmsConfirmationDialogService=i;this.estatePropertyDetailGroupService=t;this.cmsToastrService=s;this.tokenHelper=_;this.router=m;this.cdr=k;this.translate=z;this.activatedRoute=Se;this.cmsStoreService=qe;this.themeService=Ue;this.pageInfo=ft;this.publicHelper=jt;this.dialog=Ft;this.constructorInfoAreaId=this.constructor.name;this.responsibleUserId=0;this.searchInResponsibleChecked=!1;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new or;this.dataModelPropertyDetailGroups=[];this.enumInputDataType=Oi;this.tabledisplayedColumns=[];this.step=0;this.tabledisplayedColumnsSource=["id","linkSiteId","recordStatus","createdDate","updatedDate","scoreRushToBuy","scorePurchaseDecision","scoreLiquidityPower","scorePurchasingPower","CaseCode","LinkTo","QuickView","action_menu"];this.tabledisplayedColumnsMobileSource=["recordStatus","title","CaseCode","LinkTo","QuickView","action_menu"];this.unsubscribe=[];this.propertyDetails=new Map;this.optionloadComponent=!0;this.optionloadByRoute=!0;this.PropertyTypeSelected=new Qt;this.dataModelCorCurrencySelector=new Fi;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Yt=>this.onSubmitOptionsSearch(Yt)},this.responsibleUserId=+this.activatedRoute.snapshot.paramMap.get("ResponsibleUserId"),this.requestRecordStatus=Qe[this.activatedRoute.snapshot.paramMap.get("recordStatus")+""],this.requestRecordStatus&&(this.optionsSearch.data.show=!0,this.optionsSearch.data.defaultQuery='{"condition":"and","rules":[{"field":"recordStatus","type":"select","operator":"equal","value":"'+this.requestRecordStatus+'"}]}',this.requestRecordStatus=null),this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=$.Descending}set optionLinkPropertyId(e){e&&e.length>0&&(this.requestLinkPropertyId=e)}set optionLinkPropertyIdHaveHistory(e){e&&e.length>0&&(this.requestLinkPropertyIdHaveHistory=e)}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&(!this.tokenHelper.isAdminSite&&!this.tokenHelper.isSupportSite&&(this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreRushToBuy"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scorePurchaseDecision"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreLiquidityPower"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scorePurchasingPower")),this.DataGetAll()),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,!this.tokenHelper.isAdminSite&&this.tokenHelper.isSupportSite&&(this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreRushToBuy"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scorePurchaseDecision"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreLiquidityPower"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scorePurchasingPower")),this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){if(this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),!this.optionloadComponent)return;this.tableRowsSelected=[],this.onActionTableRowSelect(new kn);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(_=>{this.publicHelper.processService.processStart(e,_,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let _=new H;_.propertyName="linkEstateCustomerCategoryId",_.value=this.categoryModelSelected.id,i.filters.push(_)}var t=0;if(this.searchInResponsibleChecked?t=this.tokenInfo.access.userId:this.responsibleUserId>0&&(t=this.responsibleUserId),this.requestLinkPropertyId&&this.requestLinkPropertyId.length>0)this.contentService.ServiceGetAllWithCoverPropertyId(this.requestLinkPropertyId,i).subscribe({next:_=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(_.access),_.isSuccess?(this.dataModelResult=_,this.tableSource.data=_.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(_.access)},1e3)):this.cmsToastrService.typeErrorMessage(_.errorMessage),this.publicHelper.processService.processStop(e)},error:_=>{this.cmsToastrService.typeError(_),this.publicHelper.processService.processStop(e,!1)}});else if(this.requestLinkPropertyIdHaveHistory&&this.requestLinkPropertyIdHaveHistory.length>0)this.contentService.ServiceGetAllWithCoverPropertyIdHaveHistory(this.requestLinkPropertyIdHaveHistory,i).subscribe({next:_=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(_.access),_.isSuccess?(this.dataModelResult=_,this.tableSource.data=_.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(_.access)},1e3)):this.cmsToastrService.typeErrorMessage(_.errorMessage),this.publicHelper.processService.processStop(e)},error:_=>{this.cmsToastrService.typeError(_),this.publicHelper.processService.processStop(e,!1)}});else if(t>0)this.contentService.ServiceGetAllWithResponsibleUserId(t,i).subscribe({next:_=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(_.access),_.isSuccess?(this.dataModelResult=_,this.tableSource.data=_.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(_.access)},1e3)):this.cmsToastrService.typeErrorMessage(_.errorMessage),this.publicHelper.processService.processStop(e)},error:_=>{this.cmsToastrService.typeError(_),this.publicHelper.processService.processStop(e,!1)}});else{var s=[];this.dataModelPropertyDetailGroups&&this.dataModelPropertyDetailGroups.forEach(_=>{_.propertyDetails.forEach(m=>{let k=new wo;k.linkPropertyDetailId=m.id,k.value=this.propertyDetails[m.id],s.push(k)})}),i.propertyDetailValues=s,this.contentService.setAccessDataType(Ne.Editor),this.contentService.ServiceGetAll(i).subscribe({next:_=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(_.access),_.isSuccess?(this.dataModelResult=_,this.tableSource.data=_.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(_.access)},1e3)):this.cmsToastrService.typeErrorMessage(_.errorMessage),this.publicHelper.processService.processStop(e)},error:_=>{this.cmsToastrService.typeError(_),this.publicHelper.processService.processStop(e,!1)}})}}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=$.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(e){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(jd,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{linkEstateCustomerCategoryId:this.categoryModelSelected?.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.router.navigate(["/estate/customer-order/edit/",s.id])})}onActionButtonCopyNewRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.onActionTableRowSelect(e);var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(jd,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{copyId:e.id,linkEstateCustomerCategoryId:this.categoryModelSelected?.id}}).afterClosed().subscribe(_=>{_&&_.dialogChangedDate&&this.router.navigate(["/estate/customer-order/edit/",_.id])})}onActionButtonEditRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/customer-order/edit/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/customer-order/edit",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(e.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_,!1)}})}}).catch(()=>{})}onActionButtonHistoryRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-history/LinkCustomerOrderId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-history/LinkCustomerOrderId",this.tableRowSelected.id])}onActionButtonOpenCustomerOrder(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),window.open(this.tableRowSelected.urlViewContent,"_blank")}onActionButtonContentList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/estate/property/LinkCustomerOrderId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkCustomerOrderId/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.property_list").subscribe(mn=>{this.publicHelper.processService.processStart(this.constructor.name+"All",mn,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Ne.Editor);let t=JSON.parse(JSON.stringify(this.filteModelContent)),s=this.contentService.ServiceGetCount(t),_=JSON.parse(JSON.stringify(this.filteModelContent)),m=new H;m.propertyName="recordStatus",m.value=Qe.Available,_.filters.push(m);let k=this.contentService.ServiceGetCount(_),z=JSON.parse(JSON.stringify(this.filteModelContent)),Se=new H;Se.propertyName="recordStatus",Se.value=Qe.Archive,z.filters.push(Se);let qe=this.contentService.ServiceGetCount(z),Ue=JSON.parse(JSON.stringify(this.filteModelContent)),ft=new H;ft.propertyName="recordStatus",ft.value=Qe.Pending,Ue.filters.push(ft);let jt=this.contentService.ServiceGetCount(Ue),Ft=JSON.parse(JSON.stringify(this.filteModelContent)),Yt=new H;Yt.propertyName="recordStatus",Yt.value=Qe.Disable,Ft.filters.push(Yt);let Oe=this.contentService.ServiceGetCount(Ft);Jd([s,k,qe,jt,Oe]).subscribe(mn=>{var Yi=mn[0];Yi.isSuccess&&this.translate.get("MESSAGE.customer_order_list").subscribe(Tr=>{i.set(Tr,Yi.totalRowCount)});var Yi=mn[1];Yi.isSuccess&&this.translate.get("MESSAGE.customer_order_list_active").subscribe(Tr=>{i.set(Tr,Yi.totalRowCount)}),Yi=mn[2],Yi.isSuccess?this.translate.get("MESSAGE.customer_order_list_close").subscribe(Tr=>{i.set(Tr,Yi.totalRowCount)}):this.cmsToastrService.typeErrorMessage(Yi.errorMessage),Yi=mn[3],Yi.isSuccess?this.translate.get("MESSAGE.customer_order_needs_approval").subscribe(Tr=>{i.set(Tr,Yi.totalRowCount)}):this.cmsToastrService.typeErrorMessage(Yi.errorMessage),Yi=mn[4],Yi.isSuccess?this.translate.get("MESSAGE.customer_order_list_disable").subscribe(Tr=>{i.set(Tr,Yi.totalRowCount)}):this.cmsToastrService.typeErrorMessage(Yi.errorMessage),this.publicHelper.processService.processStop(this.constructor.name+"All"),this.optionsStatist.childMethods.setStatistValue(i)})}onActionButtonInResponsible(e){this.searchInResponsibleChecked=e,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType,i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new or,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonReload(){this.optionloadComponent=!0,this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionButtonLinkTo(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(e.recordStatus!=Qe.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.tableRowSelected=e;let i=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_customer_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.ServiceGetOneById(e.id).subscribe({next:t=>{if(t.isSuccess){var s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(yn,{height:"90%",panelClass:s,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{title:t.item.title,urlViewContentQRCodeBase64:t.item.urlViewContentQRCodeBase64,urlViewContent:t.item.urlViewContent}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(t.errorMessage);this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionSelectorLocation(e){this.filteModelContent.linkLocationIds=e}onActionSelectorSelectUsage(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.filteModelContent.linkPropertyTypeUsageId=e.id}onSearchCaseCodeChange(e){e&&e.length>0&&(this.filteModelContent=new or,this.filteModelContent.caseCode=e,this.dataModelPropertyDetailGroups=[])}onActionSelectorSelectLanduse(e){if(this.dataModelPropertyDetailGroups=[],this.PropertyTypeSelected=null,this.filteModelContent.linkPropertyTypeLanduseId=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.DataGetPropertyDetailGroup(e.id),this.PropertyTypeSelected=e,this.filteModelContent.linkPropertyTypeLanduseId=e.id}DataGetPropertyDetailGroup(e){let i=new pe,t=new H;t.propertyName="LinkPropertyTypeLanduseId",t.value=e,i.filters.push(t),this.dataModelPropertyDetailGroups=[];let s=this.constructor.name+"DataGetPropertyDetailGroup";this.translate.get("MESSAGE.Get_detailed_information").subscribe(_=>{this.publicHelper.processService.processStart(s,_,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceGetAllFastSearch(i).subscribe({next:_=>{_.isSuccess?(this.dataModelPropertyDetailGroups=_.listItems,this.dataModelPropertyDetailGroups&&this.dataModelPropertyDetailGroups.forEach(m=>{m.propertyDetails.forEach(k=>{this.propertyDetails[k.id]=0})})):this.cmsToastrService.typeErrorGetAccess(_.errorMessage),this.publicHelper.processService.processStop(s)},error:_=>{this.cmsToastrService.typeErrorGetAccess(_),this.publicHelper.processService.processStop(s,!1)}})}onActionSelectorContarctType(e){if(this.contractTypeSelected=null,this.filteModelContent.linkContractTypeId=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.contractTypeSelected=e,this.filteModelContent.linkContractTypeId=e.id}onActionSelectCurrency(e){if(!e||e.id<=0){this.dataModelCorCurrencySelector=null,this.filteModelContent.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=e,this.filteModelContent.linkCoreCurrencyId=e.id}onActionButtonQuickHistoryAddRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.onActionTableRowSelect(e);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Co,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{linkActivityTypeId:this.categoryModelSelected?.id,linkPropertyId:null,linkEstateExpertId:null,linkCustomerOrderId:e.id,linkEstateAgencyId:null}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}onActionButtonQuickViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i=this.publicHelper.InfoNextRowInList(this.dataModelResult.listItems,this.tableRowSelected),t=this.publicHelper.InfoPerviousRowInList(this.dataModelResult.listItems,this.tableRowSelected),s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(Er,{height:"90%",panelClass:s,data:{id:this.tableRowSelected.id,perviousItem:t,nextItem:i}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&m.onActionOpenItem&&m.onActionOpenItem.id.length>0&&this.onActionButtonQuickViewRow(m.onActionOpenItem)})}onActionButtonResponsibleUserlistView(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.tableRowSelected=e;var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(op,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{title:this.tableRowSelected.title,id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}setStep(e){this.step=e}nextStep(){this.step++}prevStep(){this.step--}};ks.\u0275fac=function(i){return new(i||ks)(v($i),v(wt),v(Ii),v(V),v(Z),v(Ze),v(O),v(L),v(Kt),v(J),v(Vt),v(St),v(F),v(Ae))},ks.\u0275cmp=D({type:ks,selectors:[["app-estate-customer-order-list"]],inputs:{optionloadComponent:"optionloadComponent",optionloadByRoute:"optionloadByRoute",optionLinkPropertyId:"optionLinkPropertyId",optionLinkPropertyIdHaveHistory:"optionLinkPropertyIdHaveHistory"},standalone:!1,features:[oe],decls:160,vars:71,consts:[["caseCode",""],["tableSort","matSort"],["paginator",""],["CreatedYaer",""],["Partition",""],["Area",""],["SalePriceMin",""],["RentPriceMin",""],["DepositPriceMin",""],["PeriodPriceMin",""],["SalePriceMax",""],["RentPriceMax",""],["DepositPriceMax",""],["PeriodPriceMax",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-clock-rotate-left","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-buildings","font-18",2,"color","#ffffff"],[1,"fa-light","fa-clapperboard-play","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],[1,"ntk-full-width"],["matInput","","name","filteModelContent.caseCode","type","text","step","1",3,"input","ngModelChange","ngModel","placeholder"],["matPrefix","","matPrefix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matPrefix",""],["matSuffix","",1,"info-field-icon"],[1,"info-field-text"],[4,"ngIf"],["cms-body",""],["matSort","","multiTemplateDataRows","",1,"ntk-cms-html-table",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","createdDate"],["matColumnDef","scoreRushToBuy"],["matColumnDef","scorePurchaseDecision"],["matColumnDef","scoreLiquidityPower"],["matColumnDef","scorePurchasingPower"],["matColumnDef","updatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","CaseCode"],["matColumnDef","Action"],["class","form-label",4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],["matColumnDef","QuickView"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-copy","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["matPrefix","","matPrefix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"optionPlaceholder","optionChange",4,"ngIf"],[3,"optionChange","optionPlaceholder"],[3,"optionChange","optionTypeView","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[1,"row",2,"direction","rtl"],[1,"col-md-6","col-sm-6","col-xs-9"],[1,"example-headers-align"],[3,"expanded","opened",4,"ngFor","ngForOf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","filteModelContent.createdYaer",1,"color-highlight"],["matInput","","name","filteModelContent.createdYaer","type","number","id","filteModelContent.createdYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","filteModelContent.partition",1,"color-highlight"],["matInput","","name","filteModelContent.partition","type","number","id","filteModelContent.partition",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","filteModelContent.area",1,"color-highlight"],["matInput","","name","filteModelContent.area","type","text","currencyMask","","pattern","(d{3})","step","10","id","filteModelContent.area",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","placeholder"],["for","filteModelContent.salePriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.salePriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.salePriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.rentPriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.rentPriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.rentPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.depositPriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.depositPriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.depositPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.periodPriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.periodPriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.periodPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.salePriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.salePriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.salePriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.rentPriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.rentPriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.rentPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.depositPriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.depositPriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.depositPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.periodPriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.periodPriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.periodPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],[3,"opened","expanded"],[2,"width","100px"],[4,"ngFor","ngForOf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue",3,"click",4,"ngIf"],[3,"ngSwitch"],["class","ntk-full-width",4,"ngSwitchCase"],["class","ntk-full-width",4,"ngSwitchDefault"],["aria-hidden","true",3,"ngClass"],[3,"modelChange","model","optionForceUseDefaultValue","optionMultipleChoice","optionDefaultValue","optionRequired","optionLabel"],[3,"modelChange","model","optionRequired","optionLabel"],[3,"modelChange","model"],[3,"modelChange","model","optionRequired"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header","",1,"form-label"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"form-label"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["type","button","mat-icon-button","",3,"click"],[2,"color","#ff671f"],["type","button","mat-icon-button","",1,"text-dark",3,"click"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"input-Mobile"],[1,"col-form-label"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=E();r(0,"app-cms-html-list",15),w("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),I("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())}),A(1,16),r(2,"app-estate-customer-category-tree",17),I("optionChange",function(m){return u(s),f(t.onActionSelectorSelect(m))}),a(),P(),$e(3,18)(4,19),A(5,20),r(6,"a",21),I("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(7,"i",22),a(),r(8,"a",21),I("click",function(){return u(s),f(t.onActionButtonReload())}),S(9,"i",23),a(),r(10,"a",24),I("click",function(){return u(s),f(t.onActionGridExpandRows(!0))}),S(11,"i",25),a(),r(12,"a",24),I("click",function(){return u(s),f(t.onActionGridExpandRows(!1))}),S(13,"i",26),a(),P(),A(14,27),r(15,"a",28),I("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(16,"mat-slide-toggle",29),c(17),g(18,"translate"),a(),r(19,"a",28),I("click",function(){return u(s),f(t.onActionButtonStatist())}),S(20,"mat-slide-toggle",29),c(21),g(22,"translate"),a(),C(23,U5,4,4,"a",30),P(),A(24,31),C(25,j5,7,3,"div",32),P(),A(26,33),r(27,"div",34)(28,"a",21),I("click",function(){return u(s),f(t.onActionButtonQuickViewRow(t.tableRowSelected))}),S(29,"i",35)(30,"br"),a(),r(31,"p",36),c(32),g(33,"translate"),a()(),C(34,q5,7,3,"div",32)(35,Q5,7,3,"div",32)(36,z5,7,3,"div",32),r(37,"div",34)(38,"a",24),I("click",function(){return u(s),f(t.onActionButtonQuickHistoryAddRow(t.tableRowSelected))}),S(39,"i",37)(40,"br"),a(),r(41,"p",36),c(42),g(43,"translate"),a()(),r(44,"div",34)(45,"a",24),I("click",function(m){return u(s),f(t.onActionButtonHistoryRow(t.tableRowSelected,m))}),S(46,"i",37)(47,"br"),a(),r(48,"p",36),c(49),g(50,"translate"),a()(),r(51,"div",34)(52,"a",24),I("click",function(m){return u(s),f(t.onActionButtonContentList(t.tableRowSelected,m))}),S(53,"i",38)(54,"br"),a(),r(55,"p",36),c(56),g(57,"translate"),a()(),r(58,"div",34)(59,"a",24),I("click",function(){return u(s),f(t.onActionButtonOpenCustomerOrder(t.tableRowSelected))}),S(60,"i",39)(61,"br"),a(),r(62,"p",36),c(63),g(64,"translate"),a()(),r(65,"div",34)(66,"a",21),I("click",function(){return u(s),f(t.onActionButtonLinkTo(t.tableRowSelected))}),S(67,"i",40)(68,"br"),a(),r(69,"p",36),c(70),g(71,"translate"),a()(),r(72,"div",34)(73,"a",21),I("click",function(){return u(s),f(t.onActionButtonResponsibleUserlistView(t.tableRowSelected))}),S(74,"i",40)(75,"br"),a(),r(76,"p",36),c(77),g(78,"translate"),a()(),P(),A(79,41),r(80,"app-cms-search-list",42),w("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),S(81,"hr"),r(82,"p"),c(83),g(84,"translate"),a(),r(85,"mat-form-field",43)(86,"mat-label"),c(87),a(),r(88,"input",44,0),I("input",function(m){return u(s),f(t.onSearchCaseCodeChange(m.target.value))}),w("ngModelChange",function(m){return u(s),T(t.filteModelContent.caseCode,m)||(t.filteModelContent.caseCode=m),f(m)}),a(),C(90,Y5,2,0,"mat-icon",45),r(91,"mat-icon",46),c(92," mode_edit"),a(),r(93,"mat-hint")(94,"mat-icon",47),c(95),g(96,"translate"),a(),r(97,"strong",48),c(98),a()()(),C(99,SV,43,36,"div",49),a(),r(100,"app-cms-statist-list",42),w("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),P(),A(101,50),r(102,"mat-table",51,1),I("matSortChange",function(){u(s);let m=R(103);return f(t.onTableSortData(m))}),A(104,52),C(105,CV,3,3,"mat-header-cell",53)(106,vV,3,0,"mat-cell",54),P(),A(107,55),C(108,IV,2,1,"mat-header-cell",56)(109,EV,2,1,"mat-cell",54),P(),A(110,57),C(111,MV,2,1,"mat-header-cell",56)(112,bV,4,5,"mat-cell",54),P(),A(113,58),C(114,TV,2,1,"mat-header-cell",56)(115,xV,5,7,"mat-cell",59),P(),A(116,60),C(117,AV,2,1,"mat-header-cell",56)(118,PV,2,1,"mat-cell",54),P(),A(119,61),C(120,RV,2,1,"mat-header-cell",56)(121,kV,3,3,"mat-cell",54),P(),A(122,62),C(123,DV,2,1,"mat-header-cell",56)(124,LV,2,2,"mat-cell",59),P(),A(125,63),C(126,VV,2,1,"mat-header-cell",56)(127,BV,2,2,"mat-cell",59),P(),A(128,64),C(129,FV,2,1,"mat-header-cell",56)(130,OV,2,2,"mat-cell",59),P(),A(131,65),C(132,NV,2,1,"mat-header-cell",56)(133,HV,2,2,"mat-cell",59),P(),A(134,66),C(135,WV,2,1,"mat-header-cell",56)(136,GV,3,3,"mat-cell",67),P(),A(137,68),C(138,UV,2,1,"mat-header-cell",56)(139,jV,2,1,"mat-cell",54),P(),A(140,69),C(141,qV,3,3,"mat-header-cell",70)(142,QV,6,1,"mat-cell",71),P(),A(143,72),C(144,zV,3,3,"mat-header-cell",56)(145,YV,4,0,"mat-cell",54),P(),A(146,73),C(147,KV,3,3,"mat-header-cell",56)(148,ZV,4,0,"mat-cell",54),P(),A(149,74),C(150,JV,2,1,"mat-cell",54),P(),A(151,75),C(152,i6,32,17,"mat-cell",54),P(),C(153,n6,1,0,"mat-header-row",76)(154,o6,1,2,"mat-row",77)(155,r6,1,2,"mat-row",78)(156,a6,1,5,"mat-row",79),a(),P(),A(157,80),r(158,"mat-paginator",81,2),I("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),P(),a()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","customerorder.content.list"),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",t.tokenHelper.isAdminSite&&t.optionloadByRoute)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(9),K("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),d("checked",t.optionsSearch.data.show),o(),y("",h(18,46,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",h(22,48,"ACTION.STATIST")," "),o(2),d("ngIf",!t.requestLinkPropertyId||t.requestLinkPropertyId.length===0),o(2),d("ngIf",t.optionloadByRoute&&t.dataModelResult.access.accessAddRow),o(7),y(" ",h(33,50,"ACTION.QUICK_VIEW")," "),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow)&&(t.tableRowSelected==null?null:t.tableRowSelected.id)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),y(" ",h(43,52,"ACTION.HISTORY_ADD")," "),o(7),y(" ",h(50,54,"ACTION.HISTORY_LIST")," "),o(7),y(" ",h(57,56,"ACTION.THEPROPERTY_INCLUDESVIEWS")," "),o(7),y(" ",h(64,58,"ACTION.DISPLAYCLIENTPAGE")," "),o(7),y(" ",h(71,60,"TITLE.LINKTO")," "),o(7),y(" ",h(78,62,"TITLE.ResponsibleUsers")," "),o(3),b("options",t.optionsSearch),o(3),M(h(84,64,"MESSAGE.Content_of_your_choice_to_display")),o(4),M(t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldTitle)),b("ngModel",t.filteModelContent.caseCode),o(2),d("ngIf",t.filteModelContent.caseCode),o(5),M(h(96,66,"TITLE.info")),o(3),M(t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldDescription),o(),d("ngIf",!t.filteModelContent.caseCode||t.filteModelContent.caseCode.length===0),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(51),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",se(68,H5)),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(),d("matRowDefColumns",se(69,W5)),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(70,G5)))},dependencies:[ce,He,N,it,Io,Eo,Mo,Y,Wt,q,Nm,me,Je,Lo,Ao,Po,Ro,Do,ko,yi,hi,fc,en,tt,Ee,Q,Dt,Lt,Mt,yt,bt,Tt,nt,rt,dt,at,ot,ct,lt,st,pt,mt,fi,At,Pt,Wi,Jt,ln,Rt,lo,so,co,po,mo,uo,kt,Hi,Gt,Go,Ci,dn,cn,lp,We,B,Li,sn,Me,ro,Zt,qn],encapsulation:2});var Jo=ks;var Ds=class Ds{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};Ds.\u0275fac=function(e){return new(e||Ds)},Ds.\u0275cmp=D({type:Ds,selectors:[["app-estate"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&S(0,"router-outlet")},dependencies:[fm],encapsulation:2});var sp=Ds;var s6=["vform"];function d6(n,l){if(n&1){let e=E();r(0,"button",18),I("click",function(){u(e);let t=p(3);return f(t.onActionNext())}),S(1,"i",19),c(2," < "),a()}}function c6(n,l){if(n&1){let e=E();r(0,"button",18),I("click",function(){u(e);let t=p(3);return f(t.onActionPervious())}),S(1,"i",19),c(2," > "),a()}}function p6(n,l){if(n&1){let e=E();r(0,"div",17)(1,"button",18),I("click",function(){u(e);let t=p(2);return f(t.onFormCancel())}),S(2,"i",19),c(3),g(4,"translate"),a(),C(5,d6,3,0,"button",20)(6,c6,3,0,"button",20),a()}if(n&2){let e=p(2);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("ngIf",e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0),o(),d("ngIf",e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0)}}function m6(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td"),c(4),g(5,"cmsuserinfo"),g(6,"async"),a()()),n&2){let e=p(2);o(2),y("",e.fieldsInfo.updatedBy==null?null:e.fieldsInfo.updatedBy.fieldTitle,":"),o(2),M(h(6,4,h(5,2,e.dataModel.updatedBy)))}}function u6(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td"),c(4),g(5,"cmsuserinfo"),g(6,"async"),a()()),n&2){let e=p(2);o(2),y("",e.fieldsInfo.linkCmsUserId==null?null:e.fieldsInfo.linkCmsUserId.fieldTitle,":"),o(2),M(h(6,4,h(5,2,e.dataModel.linkCmsUserId)))}}function f6(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),g(3,"translate"),a(),r(4,"td"),c(5),a()()),n&2){let e=p(2);o(2),y("",h(3,2,"TITLE.General_Description"),":"),o(3),M(e.dataModel.description)}}function _6(n,l){if(n&1){let e=E();r(0,"button",18),I("click",function(){u(e);let t=p(3);return f(t.onActionNext())}),S(1,"i",19),c(2," < "),a()}}function g6(n,l){if(n&1){let e=E();r(0,"button",18),I("click",function(){u(e);let t=p(3);return f(t.onActionPervious())}),S(1,"i",19),c(2," > "),a()}}function h6(n,l){if(n&1){let e=E();r(0,"div",17)(1,"button",18),I("click",function(){u(e);let t=p(2);return f(t.onFormCancel())}),S(2,"i",19),c(3),g(4,"translate"),a(),C(5,_6,3,0,"button",20)(6,g6,3,0,"button",20),a()}if(n&2){let e=p(2);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("ngIf",e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0),o(),d("ngIf",e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0)}}function y6(n,l){if(n&1&&(A(0),r(1,"div",9),C(2,p6,7,5,"div",10),a(),r(3,"div",11)(4,"table",12)(5,"tbody")(6,"tr")(7,"td"),c(8),a(),r(9,"td"),S(10,"i",13),g(11,"statusIconClass"),a()(),r(12,"tr")(13,"td"),c(14),a(),r(15,"td"),c(16),a()(),r(17,"tr")(18,"td"),c(19),a(),r(20,"td"),c(21),g(22,"cmsuserinfo"),g(23,"async"),a()(),C(24,m6,7,6,"tr",8)(25,u6,7,6,"tr",8)(26,f6,6,4,"tr",8),a()()(),r(27,"div",14),S(28,"app-cms-form-result-message",15),a(),r(29,"div",16),C(30,h6,7,5,"div",10),a(),P()),n&2){let e=p();o(2),d("ngIf",e.formInfo.submitButtonEnabled),o(6),y("",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle,":"),o(2),d("ngClass",h(11,12,e.dataModel.recordStatus)),o(4),y("",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle,":"),o(2),M(e.dataModel.title),o(3),y("",e.fieldsInfo.createdBy==null?null:e.fieldsInfo.createdBy.fieldTitle,":"),o(2),M(h(23,16,h(22,14,e.dataModel.createdBy))),o(3),d("ngIf",e.dataModel.updatedBy),o(),d("ngIf",e.dataModel.linkCmsUserId>0),o(),d("ngIf",(e.dataModel.description==null?null:e.dataModel.description.length)>0),o(2),d("formInfo",e.formInfo),o(2),d("ngIf",e.formInfo.submitButtonEnabled)}}var Ls=class Ls{constructor(l,e,i,t,s,_,m,k,z,Se){this.data=l;this.dialogRef=e;this.coreEnumService=i;this.estatePropertyCompanyService=t;this.cmsToastrService=s;this.tokenHelper=_;this.cmsStoreService=m;this.cdr=k;this.publicHelper=z;this.translate=Se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new It;this.dataModelResult=new G;this.dataModelEstateContractTypeResult=new G;this.dataModel=new Nn;this.formInfo=new ue;this.fieldsInfo=new Map;this.optionTabledataSource=new mi;this.optionTabledisplayedColumns=["LinkEstateContractTypeId","Price"];this.fileManagerOpenForm=!1;this.errorMessage="";this.enumInputDataType=Oi;this.unsubscribe=[];this.step=0;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=l.id+"",this.requestPerviousItem=l.perviousItem,this.requestNextItem=l.nextItem)}ngOnInit(){if(this.translate.get("TITLE.QUICK_VIEW").subscribe(l=>{this.formInfo.formTitle=l}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>ae(this,null,function*(){this.tokenInfo=l})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.estatePropertyCompanyService.setAccessLoad(),this.estatePropertyCompanyService.setAccessDataType(Ne.Editor),this.estatePropertyCompanyService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.errorMessage=e.errorMessage+"<br> ( "+e.errorTypeTitle+" ) ",this.cmsToastrService.typeErrorMessage(this.errorMessage)),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}setStep(l){this.step=l}nextStep(){this.step++}prevStep(){this.step--}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionNext(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestNextItem})}onActionPervious(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestPerviousItem})}};Ls.\u0275fac=function(e){return new(e||Ls)(v(Te),v(be),v(X),v(vn),v(V),v(Z),v(J),v(O),v(F),v(L))},Ls.\u0275cmp=D({type:Ls,selectors:[["app-estate-property-company-quick-view"]],viewQuery:function(e,i){if(e&1&&te(s6,5),e&2){let t;ie(t=ne())&&(i.formGroup=t.first)}},standalone:!1,decls:12,vars:4,consts:[[1,"card","card-style","loader-container",2,"height","100vh","overflow-y","auto"],[3,"optionsInfoAreaId"],[1,"menu-title"],[1,"color-highlight"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],[1,"ntk-cms-html-card-header"],["class","form-actions",4,"ngIf"],["dir","rtl",1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[1,"table","table-striped"],[3,"ngClass"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray",3,"click",4,"ngIf"]],template:function(e,i){e&1&&(r(0,"div",0),S(1,"app-progress-spinner",1),r(2,"div",2)(3,"p",3),c(4),a(),r(5,"a",4),I("click",function(){return i.onFormCancel()}),S(6,"i",5),a(),S(7,"hr"),a(),r(8,"div",6)(9,"p",7),c(10),a(),C(11,y6,31,18,"ng-container",8),a()()),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(3),M(i.formInfo.formTitle),o(6),y(" ",i.formInfo.formDescription," "),o(),d("ngIf",!i.publicHelper.processService.process.inRunAll))},dependencies:[ce,N,_i,U,ge,We,B,Li,Zt],encapsulation:2});var dp=Ls;var S6=["vform"];function C6(n,l){if(n&1){let e=E();r(0,"button",18),I("click",function(){u(e);let t=p(2);return f(t.onActionNext())}),S(1,"i",19),c(2," < "),a()}}function v6(n,l){if(n&1){let e=E();r(0,"button",18),I("click",function(){u(e);let t=p(2);return f(t.onActionPervious())}),S(1,"i",19),c(2," > "),a()}}function I6(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td"),c(4),g(5,"cmsuserinfo"),g(6,"async"),a()()),n&2){let e=p(2);o(2),y("",e.fieldsInfo.updatedBy==null?null:e.fieldsInfo.updatedBy.fieldTitle,":"),o(2),M(h(6,4,h(5,2,e.dataModel.updatedBy)))}}function E6(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td"),c(4),g(5,"cmsuserinfo"),g(6,"async"),a()()),n&2){let e=p(2);o(2),y("",e.fieldsInfo.linkCmsUserId==null?null:e.fieldsInfo.linkCmsUserId.fieldTitle,":"),o(2),M(h(6,4,h(5,2,e.dataModel.linkCmsUserId)))}}function M6(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),g(3,"translate"),a(),r(4,"td"),c(5),a()()),n&2){let e=p(2);o(2),y("",h(3,2,"TITLE.General_Description"),":"),o(3),M(e.dataModel.description)}}function b6(n,l){if(n&1){let e=E();r(0,"button",18),I("click",function(){u(e);let t=p(3);return f(t.onActionNext())}),S(1,"i",19),c(2," < "),a()}}function T6(n,l){if(n&1){let e=E();r(0,"button",18),I("click",function(){u(e);let t=p(3);return f(t.onActionPervious())}),S(1,"i",19),c(2," > "),a()}}function w6(n,l){if(n&1){let e=E();r(0,"div",20)(1,"button",18),I("click",function(){u(e);let t=p(2);return f(t.onFormCancel())}),S(2,"i",19),c(3),g(4,"translate"),a(),C(5,b6,3,0,"button",10)(6,T6,3,0,"button",10),a()}if(n&2){let e=p(2);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("ngIf",e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0),o(),d("ngIf",e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0)}}function x6(n,l){if(n&1&&(A(0),r(1,"div",9),C(2,C6,3,0,"button",10)(3,v6,3,0,"button",10),S(4,"hr"),a(),r(5,"div",11)(6,"table",12)(7,"tbody")(8,"tr")(9,"td"),c(10),a(),r(11,"td"),S(12,"i",13),g(13,"statusIconClass"),a()(),r(14,"tr")(15,"td"),c(16),a(),r(17,"td"),c(18),a()(),r(19,"tr")(20,"td"),c(21),a(),r(22,"td"),c(23),g(24,"cmsuserinfo"),g(25,"async"),a()(),C(26,I6,7,6,"tr",8)(27,E6,7,6,"tr",8)(28,M6,6,4,"tr",8),a()()(),r(29,"div",14),S(30,"app-cms-form-result-message",15),a(),r(31,"div",16),C(32,w6,7,5,"div",17),a(),P()),n&2){let e=p();o(2),d("ngIf",e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0),o(),d("ngIf",e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0),o(7),y("",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle,":"),o(2),d("ngClass",h(13,13,e.dataModel.recordStatus)),o(4),y("",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle,":"),o(2),M(e.dataModel.title),o(3),y("",e.fieldsInfo.createdBy==null?null:e.fieldsInfo.createdBy.fieldTitle,":"),o(2),M(h(25,17,h(24,15,e.dataModel.createdBy))),o(3),d("ngIf",e.dataModel.updatedBy),o(),d("ngIf",e.dataModel.linkCmsUserId>0),o(),d("ngIf",(e.dataModel.description==null?null:e.dataModel.description.length)>0),o(2),d("formInfo",e.formInfo),o(2),d("ngIf",e.formInfo.submitButtonEnabled&&!e.publicHelper.processService.process.inRunAll)}}var Vs=class Vs{constructor(l,e,i,t,s,_,m,k,z,Se){this.data=l;this.dialogRef=e;this.coreEnumService=i;this.estatePropertyProjectService=t;this.cmsToastrService=s;this.tokenHelper=_;this.cmsStoreService=m;this.cdr=k;this.publicHelper=z;this.translate=Se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new It;this.dataModelResult=new G;this.dataModelEstateContractTypeResult=new G;this.dataModel=new Wn;this.formInfo=new ue;this.fieldsInfo=new Map;this.optionTabledataSource=new mi;this.optionTabledisplayedColumns=["LinkEstateContractTypeId","Price"];this.fileManagerOpenForm=!1;this.errorMessage="";this.enumInputDataType=Oi;this.unsubscribe=[];this.step=0;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=l.id+"",this.requestPerviousItem=l.perviousItem,this.requestNextItem=l.nextItem)}ngOnInit(){if(this.translate.get("TITLE.QUICK_VIEW").subscribe(l=>{this.formInfo.formTitle=l}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>ae(this,null,function*(){this.tokenInfo=l})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.estatePropertyProjectService.setAccessLoad(),this.estatePropertyProjectService.setAccessDataType(Ne.Editor),this.estatePropertyProjectService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.errorMessage=e.errorMessage+"<br> ( "+e.errorTypeTitle+" ) ",this.cmsToastrService.typeErrorMessage(this.errorMessage)),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}setStep(l){this.step=l}nextStep(){this.step++}prevStep(){this.step--}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionNext(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestNextItem})}onActionPervious(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestPerviousItem})}};Vs.\u0275fac=function(e){return new(e||Vs)(v(Te),v(be),v(X),v(In),v(V),v(Z),v(J),v(O),v(F),v(L))},Vs.\u0275cmp=D({type:Vs,selectors:[["app-estate-property-project-quick-view"]],viewQuery:function(e,i){if(e&1&&te(S6,5),e&2){let t;ie(t=ne())&&(i.formGroup=t.first)}},standalone:!1,decls:12,vars:4,consts:[[1,"card","card-style","loader-container",2,"height","100vh","overflow-y","auto"],[3,"optionsInfoAreaId"],[1,"menu-title"],[1,"color-highlight"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],[1,"ntk-cms-html-card-header"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray",3,"click",4,"ngIf"],["dir","rtl",1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[1,"table","table-striped"],[3,"ngClass"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],[1,"form-actions"]],template:function(e,i){e&1&&(r(0,"div",0),S(1,"app-progress-spinner",1),r(2,"div",2)(3,"p",3),c(4),a(),r(5,"a",4),I("click",function(){return i.onFormCancel()}),S(6,"i",5),a(),S(7,"hr"),a(),r(8,"div",6)(9,"p",7),c(10),a(),C(11,x6,33,19,"ng-container",8),a()()),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(3),M(i.formInfo.formTitle),o(6),y(" ",i.formInfo.formDescription," "),o(),d("ngIf",!i.publicHelper.processService.process.inRunAll))},dependencies:[ce,N,_i,U,ge,We,B,Li,Zt],encapsulation:2});var cp=Vs;var A6=["vform"];function P6(n,l){if(n&1){let e=E();r(0,"button",18),I("click",function(){u(e);let t=p(3);return f(t.onActionNext())}),S(1,"i",19),c(2," < "),a()}}function R6(n,l){if(n&1){let e=E();r(0,"button",18),I("click",function(){u(e);let t=p(3);return f(t.onActionPervious())}),S(1,"i",19),c(2," > "),a()}}function k6(n,l){if(n&1){let e=E();r(0,"div",17)(1,"button",18),I("click",function(){u(e);let t=p(2);return f(t.onFormCancel())}),S(2,"i",19),c(3),g(4,"translate"),a(),C(5,P6,3,0,"button",20)(6,R6,3,0,"button",20),a()}if(n&2){let e=p(2);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("ngIf",e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0),o(),d("ngIf",e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0)}}function D6(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td"),c(4),g(5,"cmsuserinfo"),g(6,"async"),a()()),n&2){let e=p(2);o(2),y("",e.fieldsInfo.updatedBy==null?null:e.fieldsInfo.updatedBy.fieldTitle,":"),o(2),M(h(6,4,h(5,2,e.dataModel.updatedBy)))}}function L6(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td"),c(4),g(5,"cmsuserinfo"),g(6,"async"),a()()),n&2){let e=p(2);o(2),y("",e.fieldsInfo.linkCmsUserId==null?null:e.fieldsInfo.linkCmsUserId.fieldTitle,":"),o(2),M(h(6,4,h(5,2,e.dataModel.linkCmsUserId)))}}function V6(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),g(3,"translate"),a(),r(4,"td"),c(5),a()()),n&2){let e=p(2);o(2),y("",h(3,2,"TITLE.General_Description"),":"),o(3),M(e.dataModel.description)}}function B6(n,l){if(n&1){let e=E();r(0,"button",18),I("click",function(){u(e);let t=p(3);return f(t.onActionNext())}),S(1,"i",19),c(2," < "),a()}}function F6(n,l){if(n&1){let e=E();r(0,"button",18),I("click",function(){u(e);let t=p(3);return f(t.onActionPervious())}),S(1,"i",19),c(2," > "),a()}}function O6(n,l){if(n&1){let e=E();r(0,"div",17)(1,"button",18),I("click",function(){u(e);let t=p(2);return f(t.onFormCancel())}),S(2,"i",19),c(3),g(4,"translate"),a(),C(5,B6,3,0,"button",20)(6,F6,3,0,"button",20),a()}if(n&2){let e=p(2);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("ngIf",e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0),o(),d("ngIf",e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0)}}function N6(n,l){if(n&1&&(A(0),r(1,"div",9),C(2,k6,7,5,"div",10),a(),r(3,"div",11)(4,"table",12)(5,"tbody")(6,"tr")(7,"td"),c(8),a(),r(9,"td"),S(10,"i",13),g(11,"statusIconClass"),a()(),r(12,"tr")(13,"td"),c(14),a(),r(15,"td"),c(16),a()(),r(17,"tr")(18,"td"),c(19),a(),r(20,"td"),c(21),g(22,"cmsuserinfo"),g(23,"async"),a()(),C(24,D6,7,6,"tr",8)(25,L6,7,6,"tr",8)(26,V6,6,4,"tr",8),a()()(),r(27,"div",14),S(28,"app-cms-form-result-message",15),a(),r(29,"div",16),C(30,O6,7,5,"div",10),a(),P()),n&2){let e=p();o(2),d("ngIf",e.formInfo.submitButtonEnabled),o(6),y("",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle,":"),o(2),d("ngClass",h(11,12,e.dataModel.recordStatus)),o(4),y("",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle,":"),o(2),M(e.dataModel.title),o(3),y("",e.fieldsInfo.createdBy==null?null:e.fieldsInfo.createdBy.fieldTitle,":"),o(2),M(h(23,16,h(22,14,e.dataModel.createdBy))),o(3),d("ngIf",e.dataModel.updatedBy),o(),d("ngIf",e.dataModel.linkCmsUserId>0),o(),d("ngIf",(e.dataModel.description==null?null:e.dataModel.description.length)>0),o(2),d("formInfo",e.formInfo),o(2),d("ngIf",e.formInfo.submitButtonEnabled)}}var Bs=class Bs{constructor(l,e,i,t,s,_,m,k,z,Se){this.data=l;this.dialogRef=e;this.coreEnumService=i;this.estatePropertySupplierService=t;this.cmsToastrService=s;this.tokenHelper=_;this.cmsStoreService=m;this.cdr=k;this.publicHelper=z;this.translate=Se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new It;this.dataModelResult=new G;this.dataModelEstateContractTypeResult=new G;this.dataModel=new xo;this.formInfo=new ue;this.fieldsInfo=new Map;this.optionTabledataSource=new mi;this.optionTabledisplayedColumns=["LinkEstateContractTypeId","Price"];this.fileManagerOpenForm=!1;this.errorMessage="";this.enumInputDataType=Oi;this.unsubscribe=[];this.step=0;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=l.id+"",this.requestPerviousItem=l.perviousItem,this.requestNextItem=l.nextItem)}ngOnInit(){if(this.translate.get("TITLE.QUICK_VIEW").subscribe(l=>{this.formInfo.formTitle=l}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>ae(this,null,function*(){this.tokenInfo=l})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.estatePropertySupplierService.setAccessLoad(),this.estatePropertySupplierService.setAccessDataType(Ne.Editor),this.estatePropertySupplierService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.errorMessage=e.errorMessage+"<br> ( "+e.errorTypeTitle+" ) ",this.cmsToastrService.typeErrorMessage(this.errorMessage)),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}setStep(l){this.step=l}nextStep(){this.step++}prevStep(){this.step--}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionNext(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestNextItem})}onActionPervious(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestPerviousItem})}};Bs.\u0275fac=function(e){return new(e||Bs)(v(Te),v(be),v(X),v(io),v(V),v(Z),v(J),v(O),v(F),v(L))},Bs.\u0275cmp=D({type:Bs,selectors:[["app-estate-property-supplier-quick-view"]],viewQuery:function(e,i){if(e&1&&te(A6,5),e&2){let t;ie(t=ne())&&(i.formGroup=t.first)}},standalone:!1,decls:12,vars:4,consts:[[1,"card","card-style","loader-container",2,"height","100vh","overflow-y","auto"],[3,"optionsInfoAreaId"],[1,"menu-title"],[1,"color-highlight"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],[1,"ntk-cms-html-card-header"],["class","form-actions",4,"ngIf"],["dir","rtl",1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[1,"table","table-striped"],[3,"ngClass"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray",3,"click",4,"ngIf"]],template:function(e,i){e&1&&(r(0,"div",0),S(1,"app-progress-spinner",1),r(2,"div",2)(3,"p",3),c(4),a(),r(5,"a",4),I("click",function(){return i.onFormCancel()}),S(6,"i",5),a(),S(7,"hr"),a(),r(8,"div",6)(9,"p",7),c(10),a(),C(11,N6,31,18,"ng-container",8),a()()),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(3),M(i.formInfo.formTitle),o(6),y(" ",i.formInfo.formDescription," "),o(),d("ngIf",!i.publicHelper.processService.process.inRunAll))},dependencies:[ce,N,_i,U,ge,We,B,Li,Zt],encapsulation:2});var pp=Bs;function H6(n,l){n&1&&(r(0,"mat-error"),c(1),g(2,"translate"),a()),n&2&&(o(),M(h(2,1,"MESSAGE.InvalidStartDate")))}function W6(n,l){n&1&&(r(0,"mat-error"),c(1),g(2,"translate"),a()),n&2&&(o(),M(h(2,1,"MESSAGE.InvalidEndDate")))}function G6(n,l){if(n&1){let e=E();r(0,"button",20),I("click",function(){u(e);let t=p();return f(t.onActionNext())}),S(1,"i",21),c(2," < "),a()}}function U6(n,l){if(n&1){let e=E();r(0,"button",20),I("click",function(){u(e);let t=p();return f(t.onActionPervious())}),S(1,"i",21),c(2," > "),a()}}function j6(n,l){if(n&1){let e=E();r(0,"button",20),I("click",function(){u(e);let t=p();return f(t.onActionToDay())}),S(1,"i",21),c(2),g(3,"translate"),a()}n&2&&(o(2),y(" ",h(3,1,"TITLE.Today")," "))}function q6(n,l){if(n&1){let e=E();r(0,"app-cms-user-selector",22),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorUser(t))}),a()}if(n&2){let e=p();d("optionSelectForce",e.linkCmsUserId)("optionPlaceholder",h(1,2,"TITLE.USER"))}}function Q6(n,l){if(n&1){let e=E();r(0,"a",23),I("click",function(){u(e);let t=p();return f(t.onActionButtonOnDateSearch())}),c(1),g(2,"translate"),a()}n&2&&(o(),M(h(2,1,"ACTION.SEARCH")))}function z6(n,l){if(n&1&&(r(0,"div",14),c(1),g(2,"translate"),g(3,"localeDateTime"),g(4,"translate"),g(5,"localeDateTime"),a()),n&2){let e=p();o(),dm(" ",h(2,4,"TITLE.From_Date")," ",h(3,6,e.checkingOnDayRange.controls.start.value)," - ",h(4,8,"TITLE.To_Date")," ",h(5,10,e.checkingOnDayRange.controls.end.value)," ")}}function Y6(n,l){if(n&1&&(r(0,"div",14),c(1),g(2,"cmsuserinfo"),g(3,"async"),a()),n&2){let e=p();o(),y(" ",h(3,3,h(2,1,e.linkCmsUserId))," ")}}function K6(n,l){n&1&&S(0,"i",34)}function Z6(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=p(2).$implicit,i=p(3);o(),y("",i.publicHelper.LocaleDate(e.createdDate)," ")}}function J6(n,l){if(n&1&&(r(0,"p",5),c(1),g(2,"translate"),C(3,Z6,2,1,"b",13),c(4),a()),n&2){let e=p().$implicit,i=p(3);o(),y(" ",h(2,3,"TITLE.ADD"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.createdDate)," ")}}function X6(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=p(2).$implicit,i=p(3);o(),y("",i.publicHelper.LocaleDate(e.updatedDate)," ")}}function $6(n,l){if(n&1&&(r(0,"p",5),c(1),g(2,"translate"),C(3,X6,2,1,"b",13),c(4),a()),n&2){let e=p().$implicit,i=p(3);o(),y(" ",h(2,3,"TITLE.Edit"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.updatedDate)," ")}}function e7(n,l){if(n&1&&(r(0,"p"),c(1),g(2,"translate"),r(3,"b",39),c(4),g(5,"cmsuserinfo"),g(6,"async"),a()()),n&2){let e=p().$implicit;o(),y(" ",h(2,2,"TITLE.Edit"),": "),o(3),y(" ",h(6,6,h(5,4,e.updatedBy))," ")}}function t7(n,l){if(n&1){let e=E();A(0),S(1,"div",35),C(2,J6,5,5,"p",36)(3,$6,5,5,"p",36),r(4,"h4",37),I("click",function(t){let s=u(e).$implicit,_=p(3);return f(_.onActionButtonProperty(s,_.dataModelPropertyResult.listItems,t))}),c(5),r(6,"i",38),g(7,"statusIconClass"),I("click",function(t){let s=u(e).$implicit,_=p(3);return f(_.onActionButtonProperty(s,_.dataModelPropertyResult.listItems,t))}),a()(),r(8,"p"),c(9),a(),r(10,"p"),c(11),g(12,"translate"),r(13,"b",39),c(14),g(15,"cmsuserinfo"),g(16,"async"),a()(),C(17,e7,7,8,"p",13),P()}if(n&2){let e=l.$implicit;o(2),d("ngIf",!e.updatedBy||e.updatedBy<=0),o(),d("ngIf",e.updatedBy>0),o(2),y(" ",e.title),o(),d("ngClass",h(7,8,e.recordStatus)),o(3),y(" ",e.description," "),o(2),y(" ",h(12,10,"TITLE.USER"),": "),o(3),y(" ",h(16,14,h(15,12,e.createdBy))," "),o(3),d("ngIf",e.updatedBy>0&&e.createdBy!==e.updatedBy)}}function i7(n,l){if(n&1&&(r(0,"div",7)(1,"div",2),S(2,"app-progress-spinner",3),r(3,"div",25)(4,"div",26)(5,"div",27)(6,"button",28),S(7,"i",29),c(8),g(9,"translate"),r(10,"span",30),c(11),a(),c(12),g(13,"translate"),C(14,K6,1,0,"i",31),a(),r(15,"div",32),C(16,t7,18,16,"ng-container",33),a()()()()()()),n&2){let e=p(2);o(2),d("optionsInfoAreaId","dataModelPropertyResult"),o(6),y(" ",h(9,6,"TITLE.Property")," "),o(3),M(e.dataModelPropertyResult.totalRowCount),o(),y(" ",h(13,8,"TITLE.Number")," "),o(2),d("ngIf",e.dataModelPropertyResult.totalRowCount>0),o(2),d("ngForOf",e.dataModelPropertyResult.listItems)}}function n7(n,l){n&1&&S(0,"i",34)}function o7(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=p(2).$implicit,i=p(3);o(),y("",i.publicHelper.LocaleDate(e.createdDate)," ")}}function r7(n,l){if(n&1&&(r(0,"p",5),c(1),g(2,"translate"),C(3,o7,2,1,"b",13),c(4),a()),n&2){let e=p().$implicit,i=p(3);o(),y(" ",h(2,3,"TITLE.ADD"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.createdDate)," ")}}function a7(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=p(2).$implicit,i=p(3);o(),y("",i.publicHelper.LocaleDate(e.updatedDate)," ")}}function l7(n,l){if(n&1&&(r(0,"p",5),c(1),g(2,"translate"),C(3,a7,2,1,"b",13),c(4),a()),n&2){let e=p().$implicit,i=p(3);o(),y(" ",h(2,3,"TITLE.Edit"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.updatedDate)," ")}}function s7(n,l){if(n&1&&(r(0,"p"),c(1),g(2,"translate"),r(3,"b",39),c(4),g(5,"cmsuserinfo"),g(6,"async"),a()()),n&2){let e=p().$implicit;o(),y(" ",h(2,2,"TITLE.Edit"),": "),o(3),y(" ",h(6,6,h(5,4,e.updatedBy))," ")}}function d7(n,l){if(n&1){let e=E();A(0),S(1,"div",35),C(2,r7,5,5,"p",36)(3,l7,5,5,"p",36),r(4,"h4",37),I("click",function(t){let s=u(e).$implicit,_=p(3);return f(_.onActionButtonProperty(s,_.dataModelPropertyResultAvailable.listItems,t))}),c(5),r(6,"i",38),g(7,"statusIconClass"),I("click",function(t){let s=u(e).$implicit,_=p(3);return f(_.onActionButtonProperty(s,_.dataModelPropertyResultAvailable.listItems,t))}),a()(),r(8,"p"),c(9),a(),r(10,"p"),c(11),g(12,"translate"),r(13,"b",39),c(14),g(15,"cmsuserinfo"),g(16,"async"),a()(),C(17,s7,7,8,"p",13),P()}if(n&2){let e=l.$implicit;o(2),d("ngIf",!e.updatedBy||e.updatedBy<=0),o(),d("ngIf",e.updatedBy>0),o(2),y(" ",e.title),o(),d("ngClass",h(7,8,e.recordStatus)),o(3),y(" ",e.description," "),o(2),y(" ",h(12,10,"TITLE.USER"),": "),o(3),y(" ",h(16,14,h(15,12,e.createdBy))," "),o(3),d("ngIf",e.updatedBy>0&&e.createdBy!==e.updatedBy)}}function c7(n,l){if(n&1&&(r(0,"div",7)(1,"div",2),S(2,"app-progress-spinner",3),r(3,"div",25)(4,"div",40)(5,"div",27)(6,"button",41),S(7,"i",29),c(8),g(9,"translate"),r(10,"span",30),c(11),a(),c(12),g(13,"translate"),C(14,n7,1,0,"i",31),a(),r(15,"div",42),C(16,d7,18,16,"ng-container",33),a()()()()()()),n&2){let e=p(2);o(2),d("optionsInfoAreaId","dataModelPropertyResultAvailable"),o(6),y(" ",h(9,6,"TITLE.Property_Available")," "),o(3),M(e.dataModelPropertyResultAvailable.totalRowCount),o(),y(" ",h(13,8,"TITLE.Number")," "),o(2),d("ngIf",e.dataModelPropertyResultAvailable.totalRowCount>0),o(2),d("ngForOf",e.dataModelPropertyResultAvailable.listItems)}}function p7(n,l){n&1&&S(0,"i",34)}function m7(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=p(2).$implicit,i=p(3);o(),y("",i.publicHelper.LocaleDate(e.createdDate)," ")}}function u7(n,l){if(n&1&&(r(0,"p",5),c(1),g(2,"translate"),C(3,m7,2,1,"b",13),c(4),a()),n&2){let e=p().$implicit,i=p(3);o(),y(" ",h(2,3,"TITLE.ADD"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.createdDate)," ")}}function f7(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=p(2).$implicit,i=p(3);o(),y("",i.publicHelper.LocaleDate(e.updatedDate)," ")}}function _7(n,l){if(n&1&&(r(0,"p",5),c(1),g(2,"translate"),C(3,f7,2,1,"b",13),c(4),a()),n&2){let e=p().$implicit,i=p(3);o(),y(" ",h(2,3,"TITLE.Edit"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.updatedDate)," ")}}function g7(n,l){if(n&1&&(r(0,"p"),c(1),g(2,"translate"),r(3,"b",39),c(4),g(5,"cmsuserinfo"),g(6,"async"),a()()),n&2){let e=p().$implicit;o(),y(" ",h(2,2,"TITLE.Edit"),": "),o(3),y(" ",h(6,6,h(5,4,e.updatedBy))," ")}}function h7(n,l){if(n&1){let e=E();A(0),S(1,"div",35),C(2,u7,5,5,"p",36)(3,_7,5,5,"p",36),r(4,"h4",37),I("click",function(t){let s=u(e).$implicit,_=p(3);return f(_.onActionButtonProperty(s,_.dataModelPropertyResultNotAvailable.listItems,t))}),c(5),r(6,"i",38),g(7,"statusIconClass"),I("click",function(t){let s=u(e).$implicit,_=p(3);return f(_.onActionButtonProperty(s,_.dataModelPropertyResultNotAvailable.listItems,t))}),a()(),r(8,"p"),c(9),a(),r(10,"p"),c(11),g(12,"translate"),r(13,"b",39),c(14),g(15,"cmsuserinfo"),g(16,"async"),a()(),C(17,g7,7,8,"p",13),P()}if(n&2){let e=l.$implicit;o(2),d("ngIf",!e.updatedBy||e.updatedBy<=0),o(),d("ngIf",e.updatedBy>0),o(2),y(" ",e.title),o(),d("ngClass",h(7,8,e.recordStatus)),o(3),y(" ",e.description," "),o(2),y(" ",h(12,10,"TITLE.USER"),": "),o(3),y(" ",h(16,14,h(15,12,e.createdBy))," "),o(3),d("ngIf",e.updatedBy>0&&e.createdBy!==e.updatedBy)}}function y7(n,l){if(n&1&&(r(0,"div",7)(1,"div",2),S(2,"app-progress-spinner",3),r(3,"div",25)(4,"div",43)(5,"div",27)(6,"button",44),S(7,"i",29),c(8),g(9,"translate"),r(10,"span",30),c(11),a(),c(12),g(13,"translate"),C(14,p7,1,0,"i",31),a(),r(15,"div",45),C(16,h7,18,16,"ng-container",33),a()()()()()()),n&2){let e=p(2);o(2),d("optionsInfoAreaId","dataModelPropertyResultNotAvailable"),o(6),y(" ",h(9,6,"TITLE.Property_NotAvailable")," "),o(3),M(e.dataModelPropertyResultNotAvailable.totalRowCount),o(),y(" ",h(13,8,"TITLE.Number")," "),o(2),d("ngIf",e.dataModelPropertyResultNotAvailable.totalRowCount>0),o(2),d("ngForOf",e.dataModelPropertyResultNotAvailable.listItems)}}function S7(n,l){n&1&&S(0,"i",34)}function C7(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=p(2).$implicit,i=p(3);o(),y("",i.publicHelper.LocaleDate(e.createdDate)," ")}}function v7(n,l){if(n&1&&(r(0,"p",5),c(1),g(2,"translate"),C(3,C7,2,1,"b",13),c(4),a()),n&2){let e=p().$implicit,i=p(3);o(),y(" ",h(2,3,"TITLE.ADD"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.createdDate)," ")}}function I7(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=p(2).$implicit,i=p(3);o(),y("",i.publicHelper.LocaleDate(e.updatedDate)," ")}}function E7(n,l){if(n&1&&(r(0,"p",5),c(1),g(2,"translate"),C(3,I7,2,1,"b",13),c(4),a()),n&2){let e=p().$implicit,i=p(3);o(),y(" ",h(2,3,"TITLE.Edit"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.updatedDate)," ")}}function M7(n,l){if(n&1&&(r(0,"p"),c(1),g(2,"translate"),r(3,"b",39),c(4),g(5,"cmsuserinfo"),g(6,"async"),a()()),n&2){let e=p().$implicit;o(),y(" ",h(2,2,"TITLE.Edit"),": "),o(3),y(" ",h(6,6,h(5,4,e.updatedBy))," ")}}function b7(n,l){if(n&1){let e=E();A(0),S(1,"div",35),C(2,v7,5,5,"p",36)(3,E7,5,5,"p",36),r(4,"h4",37),I("click",function(t){let s=u(e).$implicit,_=p(3);return f(_.onActionButtonCustomerOrder(s,_.dataModelCustomerOrderResult.listItems,t))}),c(5),r(6,"i",38),g(7,"statusIconClass"),I("click",function(t){let s=u(e).$implicit,_=p(3);return f(_.onActionButtonCustomerOrder(s,_.dataModelCustomerOrderResult.listItems,t))}),a()(),r(8,"p"),c(9),a(),r(10,"p"),c(11),g(12,"translate"),r(13,"b",39),c(14),g(15,"cmsuserinfo"),g(16,"async"),a()(),C(17,M7,7,8,"p",13),P()}if(n&2){let e=l.$implicit;o(2),d("ngIf",!e.updatedBy||e.updatedBy<=0),o(),d("ngIf",e.updatedBy>0),o(2),y(" ",e.title),o(),d("ngClass",h(7,8,e.recordStatus)),o(3),y(" ",e.description," "),o(2),y(" ",h(12,10,"TITLE.USER"),": "),o(3),y(" ",h(16,14,h(15,12,e.createdBy))," "),o(3),d("ngIf",e.updatedBy>0&&e.createdBy!==e.updatedBy)}}function T7(n,l){if(n&1&&(r(0,"div",7)(1,"div",2),S(2,"app-progress-spinner",3),r(3,"div",25)(4,"div",46)(5,"div",27)(6,"button",47),S(7,"i",29),c(8),g(9,"translate"),r(10,"span",30),c(11),a(),c(12),g(13,"translate"),C(14,S7,1,0,"i",31),a(),r(15,"div",48),C(16,b7,18,16,"ng-container",33),a()()()()()()),n&2){let e=p(2);o(2),d("optionsInfoAreaId","dataModelCustomerOrderResult"),o(6),y(" ",h(9,6,"TITLE.Customer_Order")," "),o(3),M(e.dataModelCustomerOrderResult.totalRowCount),o(),y(" ",h(13,8,"TITLE.Number")," "),o(2),d("ngIf",e.dataModelCustomerOrderResult.totalRowCount>0),o(2),d("ngForOf",e.dataModelCustomerOrderResult.listItems)}}function w7(n,l){n&1&&S(0,"i",34)}function x7(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=p(2).$implicit,i=p(3);o(),y("",i.publicHelper.LocaleDate(e.createdDate)," ")}}function A7(n,l){if(n&1&&(r(0,"p",5),c(1),g(2,"translate"),C(3,x7,2,1,"b",13),c(4),a()),n&2){let e=p().$implicit,i=p(3);o(),y(" ",h(2,3,"TITLE.ADD"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.createdDate)," ")}}function P7(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=p(2).$implicit,i=p(3);o(),y("",i.publicHelper.LocaleDate(e.updatedDate)," ")}}function R7(n,l){if(n&1&&(r(0,"p",5),c(1),g(2,"translate"),C(3,P7,2,1,"b",13),c(4),a()),n&2){let e=p().$implicit,i=p(3);o(),y(" ",h(2,3,"TITLE.Edit"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.updatedDate)," ")}}function k7(n,l){if(n&1&&(r(0,"p"),c(1),g(2,"translate"),r(3,"b",39),c(4),g(5,"cmsuserinfo"),g(6,"async"),a()()),n&2){let e=p().$implicit;o(),y(" ",h(2,2,"TITLE.Edit"),": "),o(3),y(" ",h(6,6,h(5,4,e.updatedBy))," ")}}function D7(n,l){if(n&1){let e=E();A(0),S(1,"div",35),C(2,A7,5,5,"p",36)(3,R7,5,5,"p",36),r(4,"h4",37),I("click",function(t){let s=u(e).$implicit,_=p(3);return f(_.onActionButtonCustomerOrder(s,_.dataModelCustomerOrderResultAvailable.listItems,t))}),c(5),r(6,"i",38),g(7,"statusIconClass"),I("click",function(t){let s=u(e).$implicit,_=p(3);return f(_.onActionButtonCustomerOrder(s,_.dataModelCustomerOrderResultAvailable.listItems,t))}),a()(),r(8,"p"),c(9),a(),r(10,"p"),c(11),g(12,"translate"),r(13,"b",39),c(14),g(15,"cmsuserinfo"),g(16,"async"),a()(),C(17,k7,7,8,"p",13),P()}if(n&2){let e=l.$implicit;o(2),d("ngIf",!e.updatedBy||e.updatedBy<=0),o(),d("ngIf",e.updatedBy>0),o(2),y(" ",e.title),o(),d("ngClass",h(7,8,e.recordStatus)),o(3),y(" ",e.description," "),o(2),y(" ",h(12,10,"TITLE.USER"),": "),o(3),y(" ",h(16,14,h(15,12,e.createdBy))," "),o(3),d("ngIf",e.updatedBy>0&&e.createdBy!==e.updatedBy)}}function L7(n,l){if(n&1&&(r(0,"div",7)(1,"div",2),S(2,"app-progress-spinner",3),r(3,"div",25)(4,"div",49)(5,"div",27)(6,"button",50),S(7,"i",29),c(8),g(9,"translate"),r(10,"span",30),c(11),a(),c(12),g(13,"translate"),C(14,w7,1,0,"i",31),a(),r(15,"div",51),C(16,D7,18,16,"ng-container",33),a()()()()()()),n&2){let e=p(2);o(2),d("optionsInfoAreaId","dataModelCustomerOrderResultAvailable"),o(6),y(" ",h(9,6,"TITLE.Customer_Order_Available")," "),o(3),M(e.dataModelCustomerOrderResultAvailable.totalRowCount),o(),y(" ",h(13,8,"TITLE.Number")," "),o(2),d("ngIf",e.dataModelCustomerOrderResultAvailable.totalRowCount>0),o(2),d("ngForOf",e.dataModelCustomerOrderResultAvailable.listItems)}}function V7(n,l){n&1&&S(0,"i",34)}function B7(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=p(2).$implicit,i=p(3);o(),y("",i.publicHelper.LocaleDate(e.createdDate)," ")}}function F7(n,l){if(n&1&&(r(0,"p",5),c(1),g(2,"translate"),C(3,B7,2,1,"b",13),c(4),a()),n&2){let e=p().$implicit,i=p(3);o(),y(" ",h(2,3,"TITLE.ADD"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.createdDate)," ")}}function O7(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=p(2).$implicit,i=p(3);o(),y("",i.publicHelper.LocaleDate(e.updatedDate)," ")}}function N7(n,l){if(n&1&&(r(0,"p",5),c(1),g(2,"translate"),C(3,O7,2,1,"b",13),c(4),a()),n&2){let e=p().$implicit,i=p(3);o(),y(" ",h(2,3,"TITLE.Edit"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.updatedDate)," ")}}function H7(n,l){if(n&1&&(r(0,"p"),c(1),g(2,"translate"),r(3,"b",39),c(4),g(5,"cmsuserinfo"),g(6,"async"),a()()),n&2){let e=p().$implicit;o(),y(" ",h(2,2,"TITLE.Edit"),": "),o(3),y(" ",h(6,6,h(5,4,e.updatedBy))," ")}}function W7(n,l){if(n&1){let e=E();A(0),S(1,"div",35),C(2,F7,5,5,"p",36)(3,N7,5,5,"p",36),r(4,"h4",37),I("click",function(t){let s=u(e).$implicit,_=p(3);return f(_.onActionButtonCustomerOrder(s,_.dataModelCustomerOrderResultNotAvailable.listItems,t))}),c(5),r(6,"i",38),g(7,"statusIconClass"),I("click",function(t){let s=u(e).$implicit,_=p(3);return f(_.onActionButtonCustomerOrder(s,_.dataModelCustomerOrderResultNotAvailable.listItems,t))}),a()(),r(8,"p"),c(9),a(),r(10,"p"),c(11),g(12,"translate"),r(13,"b",39),c(14),g(15,"cmsuserinfo"),g(16,"async"),a()(),C(17,H7,7,8,"p",13),P()}if(n&2){let e=l.$implicit;o(2),d("ngIf",!e.updatedBy||e.updatedBy<=0),o(),d("ngIf",e.updatedBy>0),o(2),y(" ",e.title),o(),d("ngClass",h(7,8,e.recordStatus)),o(3),y(" ",e.description," "),o(2),y(" ",h(12,10,"TITLE.USER"),": "),o(3),y(" ",h(16,14,h(15,12,e.createdBy))," "),o(3),d("ngIf",e.updatedBy>0&&e.createdBy!==e.updatedBy)}}function G7(n,l){if(n&1&&(r(0,"div",7)(1,"div",2),S(2,"app-progress-spinner",3),r(3,"div",25)(4,"div",52)(5,"div",27)(6,"button",53),S(7,"i",29),c(8),g(9,"translate"),r(10,"span",30),c(11),a(),c(12),g(13,"translate"),C(14,V7,1,0,"i",31),a(),r(15,"div",54),C(16,W7,18,16,"ng-container",33),a()()()()()()),n&2){let e=p(2);o(2),d("optionsInfoAreaId","dataModelCustomerOrderResultNotAvailable"),o(6),y(" ",h(9,6,"TITLE.Customer_Order_NotAvailable")," "),o(3),M(e.dataModelCustomerOrderResultNotAvailable.totalRowCount),o(),y(" ",h(13,8,"TITLE.Number")," "),o(2),d("ngIf",e.dataModelCustomerOrderResultNotAvailable.totalRowCount>0),o(2),d("ngForOf",e.dataModelCustomerOrderResultNotAvailable.listItems)}}function U7(n,l){n&1&&S(0,"i",34)}function j7(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=p(2).$implicit,i=p(3);o(),y("",i.publicHelper.LocaleDate(e.createdDate)," ")}}function q7(n,l){if(n&1&&(r(0,"p",5),c(1),g(2,"translate"),C(3,j7,2,1,"b",13),c(4),a()),n&2){let e=p().$implicit,i=p(3);o(),y(" ",h(2,3,"TITLE.ADD"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.createdDate)," ")}}function Q7(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=p(2).$implicit,i=p(3);o(),y("",i.publicHelper.LocaleDate(e.updatedDate)," ")}}function z7(n,l){if(n&1&&(r(0,"p",5),c(1),g(2,"translate"),C(3,Q7,2,1,"b",13),c(4),a()),n&2){let e=p().$implicit,i=p(3);o(),y(" ",h(2,3,"TITLE.Edit"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.updatedDate)," ")}}function Y7(n,l){if(n&1&&(r(0,"p"),c(1),g(2,"translate"),r(3,"b",39),c(4),g(5,"cmsuserinfo"),g(6,"async"),a()()),n&2){let e=p().$implicit;o(),y(" ",h(2,2,"TITLE.Edit"),": "),o(3),y(" ",h(6,6,h(5,4,e.updatedBy))," ")}}function K7(n,l){if(n&1){let e=E();A(0),S(1,"div",35),C(2,q7,5,5,"p",36)(3,z7,5,5,"p",36),r(4,"h4",37),I("click",function(t){let s=u(e).$implicit,_=p(3);return f(_.onActionButtonHistory(s,t))}),c(5),r(6,"i",38),g(7,"statusIconClass"),I("click",function(t){let s=u(e).$implicit,_=p(3);return f(_.onActionButtonHistory(s,t))}),a()(),r(8,"p"),c(9),a(),r(10,"p"),c(11),g(12,"translate"),r(13,"b",39),c(14),g(15,"cmsuserinfo"),g(16,"async"),a()(),C(17,Y7,7,8,"p",13),P()}if(n&2){let e=l.$implicit;o(2),d("ngIf",!e.updatedBy||e.updatedBy<=0),o(),d("ngIf",e.updatedBy>0),o(2),y(" ",e.title),o(),d("ngClass",h(7,8,e.recordStatus)),o(3),y(" ",e.description," "),o(2),y(" ",h(12,10,"TITLE.USER"),": "),o(3),y(" ",h(16,14,h(15,12,e.createdBy))," "),o(3),d("ngIf",e.updatedBy>0&&e.createdBy!==e.updatedBy)}}function Z7(n,l){if(n&1&&(r(0,"div",7)(1,"div",2),S(2,"app-progress-spinner",3),r(3,"div",25)(4,"div",55)(5,"div",27)(6,"button",56),S(7,"i",29),c(8),g(9,"translate"),r(10,"span",30),c(11),a(),c(12),g(13,"translate"),C(14,U7,1,0,"i",31),a(),r(15,"div",57),C(16,K7,18,16,"ng-container",33),a()()()()()()),n&2){let e=p(2);o(2),d("optionsInfoAreaId","dataModelHistoryResult"),o(6),y(" ",h(9,6,"TITLE.History")," "),o(3),M(e.dataModelHistoryResult.totalRowCount),o(),y(" ",h(13,8,"TITLE.Number")," "),o(2),d("ngIf",e.dataModelHistoryResult.totalRowCount>0),o(2),d("ngForOf",e.dataModelHistoryResult.listItems)}}function J7(n,l){n&1&&S(0,"i",34)}function X7(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=p(2).$implicit,i=p(3);o(),y("",i.publicHelper.LocaleDate(e.createdDate)," ")}}function $7(n,l){if(n&1&&(r(0,"p",5),c(1),g(2,"translate"),C(3,X7,2,1,"b",13),c(4),a()),n&2){let e=p().$implicit,i=p(3);o(),y(" ",h(2,3,"TITLE.ADD"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.createdDate)," ")}}function eB(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=p(2).$implicit,i=p(3);o(),y("",i.publicHelper.LocaleDate(e.updatedDate)," ")}}function tB(n,l){if(n&1&&(r(0,"p",5),c(1),g(2,"translate"),C(3,eB,2,1,"b",13),c(4),a()),n&2){let e=p().$implicit,i=p(3);o(),y(" ",h(2,3,"TITLE.Edit"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.updatedDate)," ")}}function iB(n,l){if(n&1&&(r(0,"p"),c(1),g(2,"translate"),r(3,"b",39),c(4),g(5,"cmsuserinfo"),g(6,"async"),a()()),n&2){let e=p().$implicit;o(),y(" ",h(2,2,"TITLE.Edit"),": "),o(3),y(" ",h(6,6,h(5,4,e.updatedBy))," ")}}function nB(n,l){if(n&1){let e=E();A(0),S(1,"div",35),C(2,$7,5,5,"p",36)(3,tB,5,5,"p",36),r(4,"h4",37),I("click",function(t){let s=u(e).$implicit,_=p(3);return f(_.onActionButtonAccountAgency(s,t))}),c(5),r(6,"i",38),g(7,"statusIconClass"),I("click",function(t){let s=u(e).$implicit,_=p(3);return f(_.onActionButtonAccountAgency(s,t))}),a()(),r(8,"p"),c(9),a(),r(10,"p"),c(11),g(12,"translate"),r(13,"b",39),c(14),g(15,"cmsuserinfo"),g(16,"async"),a()(),C(17,iB,7,8,"p",13),P()}if(n&2){let e=l.$implicit;o(2),d("ngIf",!e.updatedBy||e.updatedBy<=0),o(),d("ngIf",e.updatedBy>0),o(2),y(" ",e.title),o(),d("ngClass",h(7,8,e.recordStatus)),o(3),y(" ",e.description," "),o(2),y(" ",h(12,10,"TITLE.USER"),": "),o(3),y(" ",h(16,14,h(15,12,e.createdBy))," "),o(3),d("ngIf",e.updatedBy>0&&e.createdBy!==e.updatedBy)}}function oB(n,l){if(n&1&&(r(0,"div",7)(1,"div",2),S(2,"app-progress-spinner",3),r(3,"div",25)(4,"div",58)(5,"div",27)(6,"button",59),S(7,"i",29),c(8),g(9,"translate"),r(10,"span",30),c(11),a(),c(12),g(13,"translate"),C(14,J7,1,0,"i",31),a(),r(15,"div",60),C(16,nB,18,16,"ng-container",33),a()()()()()()),n&2){let e=p(2);o(2),d("optionsInfoAreaId","dataModelAccountAgencyResult"),o(6),y(" ",h(9,6,"TITLE.Property_agency")," "),o(3),M(e.dataModelAccountAgencyResult.totalRowCount),o(),y(" ",h(13,8,"TITLE.Number")," "),o(2),d("ngIf",e.dataModelAccountAgencyResult.totalRowCount>0),o(2),d("ngForOf",e.dataModelAccountAgencyResult.listItems)}}function rB(n,l){n&1&&S(0,"i",34)}function aB(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=p(2).$implicit,i=p(3);o(),y("",i.publicHelper.LocaleDate(e.createdDate)," ")}}function lB(n,l){if(n&1&&(r(0,"p",5),c(1),g(2,"translate"),C(3,aB,2,1,"b",13),c(4),a()),n&2){let e=p().$implicit,i=p(3);o(),y(" ",h(2,3,"TITLE.ADD"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.createdDate)," ")}}function sB(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=p(2).$implicit,i=p(3);o(),y("",i.publicHelper.LocaleDate(e.updatedDate)," ")}}function dB(n,l){if(n&1&&(r(0,"p",5),c(1),g(2,"translate"),C(3,sB,2,1,"b",13),c(4),a()),n&2){let e=p().$implicit,i=p(3);o(),y(" ",h(2,3,"TITLE.Edit"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.updatedDate)," ")}}function cB(n,l){if(n&1&&(r(0,"p"),c(1),g(2,"translate"),r(3,"b",39),c(4),g(5,"cmsuserinfo"),g(6,"async"),a()()),n&2){let e=p().$implicit;o(),y(" ",h(2,2,"TITLE.Edit"),": "),o(3),y(" ",h(6,6,h(5,4,e.updatedBy))," ")}}function pB(n,l){if(n&1){let e=E();A(0),S(1,"div",35),C(2,lB,5,5,"p",36)(3,dB,5,5,"p",36),r(4,"h4",37),I("click",function(t){let s=u(e).$implicit,_=p(3);return f(_.onActionButtonAccountUser(s,t))}),c(5),r(6,"i",38),g(7,"statusIconClass"),I("click",function(t){let s=u(e).$implicit,_=p(3);return f(_.onActionButtonAccountUser(s,t))}),a()(),r(8,"p"),c(9),a(),r(10,"p"),c(11),g(12,"translate"),r(13,"b",39),c(14),g(15,"cmsuserinfo"),g(16,"async"),a()(),C(17,cB,7,8,"p",13),P()}if(n&2){let e=l.$implicit;o(2),d("ngIf",!e.updatedBy||e.updatedBy<=0),o(),d("ngIf",e.updatedBy>0),o(2),y(" ",e.title),o(),d("ngClass",h(7,8,e.recordStatus)),o(3),y(" ",e.description," "),o(2),y(" ",h(12,10,"TITLE.USER"),": "),o(3),y(" ",h(16,14,h(15,12,e.createdBy))," "),o(3),d("ngIf",e.updatedBy>0&&e.createdBy!==e.updatedBy)}}function mB(n,l){if(n&1&&(r(0,"div",7)(1,"div",2),S(2,"app-progress-spinner",3),r(3,"div",25)(4,"div",61)(5,"div",27)(6,"button",62),S(7,"i",29),c(8),g(9,"translate"),r(10,"span",30),c(11),a(),c(12),g(13,"translate"),C(14,rB,1,0,"i",31),a(),r(15,"div",63),C(16,pB,18,16,"ng-container",33),a()()()()()()),n&2){let e=p(2);o(2),d("optionsInfoAreaId","dataModelAccountUserResult"),o(6),y(" ",h(9,6,"TITLE.Property_expert")," "),o(3),M(e.dataModelAccountUserResult.totalRowCount),o(),y(" ",h(13,8,"TITLE.Number")," "),o(2),d("ngIf",e.dataModelAccountUserResult.totalRowCount>0),o(2),d("ngForOf",e.dataModelAccountUserResult.listItems)}}function uB(n,l){n&1&&S(0,"i",34)}function fB(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=p(2).$implicit,i=p(3);o(),y("",i.publicHelper.LocaleDate(e.createdDate)," ")}}function _B(n,l){if(n&1&&(r(0,"p",5),c(1),g(2,"translate"),C(3,fB,2,1,"b",13),c(4),a()),n&2){let e=p().$implicit,i=p(3);o(),y(" ",h(2,3,"TITLE.ADD"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.createdDate)," ")}}function gB(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=p(2).$implicit,i=p(3);o(),y("",i.publicHelper.LocaleDate(e.updatedDate)," ")}}function hB(n,l){if(n&1&&(r(0,"p",5),c(1),g(2,"translate"),C(3,gB,2,1,"b",13),c(4),a()),n&2){let e=p().$implicit,i=p(3);o(),y(" ",h(2,3,"TITLE.Edit"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.updatedDate)," ")}}function yB(n,l){if(n&1&&(r(0,"p"),c(1),g(2,"translate"),r(3,"b",39),c(4),g(5,"cmsuserinfo"),g(6,"async"),a()()),n&2){let e=p().$implicit;o(),y(" ",h(2,2,"TITLE.Edit"),": "),o(3),y(" ",h(6,6,h(5,4,e.updatedBy))," ")}}function SB(n,l){if(n&1){let e=E();A(0),S(1,"div",35),C(2,_B,5,5,"p",36)(3,hB,5,5,"p",36),r(4,"h4",37),I("click",function(t){let s=u(e).$implicit,_=p(3);return f(_.onActionButtonPropertyCompany(s,t))}),c(5),r(6,"i",38),g(7,"statusIconClass"),I("click",function(t){let s=u(e).$implicit,_=p(3);return f(_.onActionButtonPropertyCompany(s,t))}),a()(),r(8,"p"),c(9),a(),r(10,"p"),c(11),g(12,"translate"),r(13,"b",39),c(14),g(15,"cmsuserinfo"),g(16,"async"),a()(),C(17,yB,7,8,"p",13),P()}if(n&2){let e=l.$implicit;o(2),d("ngIf",!e.updatedBy||e.updatedBy<=0),o(),d("ngIf",e.updatedBy>0),o(2),y(" ",e.title),o(),d("ngClass",h(7,8,e.recordStatus)),o(3),y(" ",e.description," "),o(2),y(" ",h(12,10,"TITLE.USER"),": "),o(3),y(" ",h(16,14,h(15,12,e.createdBy))," "),o(3),d("ngIf",e.updatedBy>0&&e.createdBy!==e.updatedBy)}}function CB(n,l){if(n&1&&(r(0,"div",7)(1,"div",2),S(2,"app-progress-spinner",3),r(3,"div",25)(4,"div",64)(5,"div",27)(6,"button",65),S(7,"i",29),c(8),g(9,"translate"),r(10,"span",30),c(11),a(),c(12),g(13,"translate"),C(14,uB,1,0,"i",31),a(),r(15,"div",66),C(16,SB,18,16,"ng-container",33),a()()()()()()),n&2){let e=p(2);o(2),d("optionsInfoAreaId","dataModelPropertyCompanyResult"),o(6),y(" ",h(9,6,"TITLE.Property_Company")," "),o(3),M(e.dataModelPropertyCompanyResult.totalRowCount),o(),y(" ",h(13,8,"TITLE.Number")," "),o(2),d("ngIf",e.dataModelPropertyCompanyResult.totalRowCount>0),o(2),d("ngForOf",e.dataModelPropertyCompanyResult.listItems)}}function vB(n,l){n&1&&S(0,"i",34)}function IB(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=p(2).$implicit,i=p(3);o(),y("",i.publicHelper.LocaleDate(e.createdDate)," ")}}function EB(n,l){if(n&1&&(r(0,"p",5),c(1),g(2,"translate"),C(3,IB,2,1,"b",13),c(4),a()),n&2){let e=p().$implicit,i=p(3);o(),y(" ",h(2,3,"TITLE.ADD"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.createdDate)," ")}}function MB(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=p(2).$implicit,i=p(3);o(),y("",i.publicHelper.LocaleDate(e.updatedDate)," ")}}function bB(n,l){if(n&1&&(r(0,"p",5),c(1),g(2,"translate"),C(3,MB,2,1,"b",13),c(4),a()),n&2){let e=p().$implicit,i=p(3);o(),y(" ",h(2,3,"TITLE.Edit"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.updatedDate)," ")}}function TB(n,l){if(n&1&&(r(0,"p"),c(1),g(2,"translate"),r(3,"b",39),c(4),g(5,"cmsuserinfo"),g(6,"async"),a()()),n&2){let e=p().$implicit;o(),y(" ",h(2,2,"TITLE.Edit"),": "),o(3),y(" ",h(6,6,h(5,4,e.updatedBy))," ")}}function wB(n,l){if(n&1){let e=E();A(0),S(1,"div",35),C(2,EB,5,5,"p",36)(3,bB,5,5,"p",36),r(4,"h4",37),I("click",function(t){let s=u(e).$implicit,_=p(3);return f(_.onActionButtonPropertySupplier(s,t))}),c(5),r(6,"i",38),g(7,"statusIconClass"),I("click",function(t){let s=u(e).$implicit,_=p(3);return f(_.onActionButtonPropertySupplier(s,t))}),a()(),r(8,"p"),c(9),a(),r(10,"p"),c(11),g(12,"translate"),r(13,"b",39),c(14),g(15,"cmsuserinfo"),g(16,"async"),a()(),C(17,TB,7,8,"p",13),P()}if(n&2){let e=l.$implicit;o(2),d("ngIf",!e.updatedBy||e.updatedBy<=0),o(),d("ngIf",e.updatedBy>0),o(2),y(" ",e.title),o(),d("ngClass",h(7,8,e.recordStatus)),o(3),y(" ",e.description," "),o(2),y(" ",h(12,10,"TITLE.USER"),": "),o(3),y(" ",h(16,14,h(15,12,e.createdBy))," "),o(3),d("ngIf",e.updatedBy>0&&e.createdBy!==e.updatedBy)}}function xB(n,l){if(n&1&&(r(0,"div",7)(1,"div",2),S(2,"app-progress-spinner",3),r(3,"div",25)(4,"div",67)(5,"div",27)(6,"button",68),S(7,"i",29),c(8),g(9,"translate"),r(10,"span",30),c(11),a(),c(12),g(13,"translate"),C(14,vB,1,0,"i",31),a(),r(15,"div",69),C(16,wB,18,16,"ng-container",33),a()()()()()()),n&2){let e=p(2);o(2),d("optionsInfoAreaId","dataModelPropertySupplierResult"),o(6),y(" ",h(9,6,"TITLE.Property_Supplier")," "),o(3),M(e.dataModelPropertySupplierResult.totalRowCount),o(),y(" ",h(13,8,"TITLE.Number")," "),o(2),d("ngIf",e.dataModelPropertySupplierResult.totalRowCount>0),o(2),d("ngForOf",e.dataModelPropertySupplierResult.listItems)}}function AB(n,l){n&1&&S(0,"i",34)}function PB(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=p(2).$implicit,i=p(3);o(),y("",i.publicHelper.LocaleDate(e.createdDate)," ")}}function RB(n,l){if(n&1&&(r(0,"p",5),c(1),g(2,"translate"),C(3,PB,2,1,"b",13),c(4),a()),n&2){let e=p().$implicit,i=p(3);o(),y(" ",h(2,3,"TITLE.ADD"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.createdDate)," ")}}function kB(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=p(2).$implicit,i=p(3);o(),y("",i.publicHelper.LocaleDate(e.updatedDate)," ")}}function DB(n,l){if(n&1&&(r(0,"p",5),c(1),g(2,"translate"),C(3,kB,2,1,"b",13),c(4),a()),n&2){let e=p().$implicit,i=p(3);o(),y(" ",h(2,3,"TITLE.Edit"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.updatedDate)," ")}}function LB(n,l){if(n&1&&(r(0,"p"),c(1),g(2,"translate"),r(3,"b",39),c(4),g(5,"cmsuserinfo"),g(6,"async"),a()()),n&2){let e=p().$implicit;o(),y(" ",h(2,2,"TITLE.Edit"),": "),o(3),y(" ",h(6,6,h(5,4,e.updatedBy))," ")}}function VB(n,l){if(n&1){let e=E();A(0),S(1,"div",35),C(2,RB,5,5,"p",36)(3,DB,5,5,"p",36),r(4,"h4",37),I("click",function(t){let s=u(e).$implicit,_=p(3);return f(_.onActionButtonPropertyProject(s,t))}),c(5),r(6,"i",38),g(7,"statusIconClass"),I("click",function(t){let s=u(e).$implicit,_=p(3);return f(_.onActionButtonPropertyProject(s,t))}),a()(),r(8,"p"),c(9),a(),r(10,"p"),c(11),g(12,"translate"),r(13,"b",39),c(14),g(15,"cmsuserinfo"),g(16,"async"),a()(),C(17,LB,7,8,"p",13),P()}if(n&2){let e=l.$implicit;o(2),d("ngIf",!e.updatedBy||e.updatedBy<=0),o(),d("ngIf",e.updatedBy>0),o(2),y(" ",e.title),o(),d("ngClass",h(7,8,e.recordStatus)),o(3),y(" ",e.description," "),o(2),y(" ",h(12,10,"TITLE.USER"),": "),o(3),y(" ",h(16,14,h(15,12,e.createdBy))," "),o(3),d("ngIf",e.updatedBy>0&&e.createdBy!==e.updatedBy)}}function BB(n,l){if(n&1&&(r(0,"div",7)(1,"div",2),S(2,"app-progress-spinner",3),r(3,"div",25)(4,"div",70)(5,"div",27)(6,"button",71),S(7,"i",29),c(8),g(9,"translate"),r(10,"span",30),c(11),a(),c(12),g(13,"translate"),C(14,AB,1,0,"i",31),a(),r(15,"div",72),C(16,VB,18,16,"ng-container",33),a()()()()()()),n&2){let e=p(2);o(2),d("optionsInfoAreaId","dataModelPropertyProjectResult"),o(6),y(" ",h(9,6,"TITLE.Property_Project")," "),o(3),M(e.dataModelPropertyProjectResult.totalRowCount),o(),y(" ",h(13,8,"TITLE.Number")," "),o(2),d("ngIf",e.dataModelPropertyProjectResult.totalRowCount>0),o(2),d("ngForOf",e.dataModelPropertyProjectResult.listItems)}}function FB(n,l){if(n&1&&(r(0,"div",6),C(1,i7,17,10,"div",24)(2,c7,17,10,"div",24)(3,y7,17,10,"div",24)(4,T7,17,10,"div",24)(5,L7,17,10,"div",24)(6,G7,17,10,"div",24)(7,Z7,17,10,"div",24)(8,oB,17,10,"div",24)(9,mB,17,10,"div",24)(10,CB,17,10,"div",24)(11,xB,17,10,"div",24)(12,BB,17,10,"div",24),a()),n&2){let e=p();o(),d("ngIf",e.dataModelPropertyResult.totalRowCount>0),o(),d("ngIf",e.dataModelPropertyResultAvailable.totalRowCount>0),o(),d("ngIf",e.dataModelPropertyResultNotAvailable.totalRowCount>0),o(),d("ngIf",e.dataModelCustomerOrderResult.totalRowCount>0),o(),d("ngIf",e.dataModelCustomerOrderResultAvailable.totalRowCount>0),o(),d("ngIf",e.dataModelCustomerOrderResultNotAvailable.totalRowCount>0),o(),d("ngIf",e.dataModelHistoryResult.totalRowCount>0),o(),d("ngIf",e.dataModelAccountAgencyResult.totalRowCount>0),o(),d("ngIf",e.dataModelAccountUserResult.totalRowCount>0),o(),d("ngIf",e.dataModelPropertyCompanyResult.totalRowCount>0),o(),d("ngIf",e.dataModelPropertySupplierResult.totalRowCount>0),o(),d("ngIf",e.dataModelPropertyProjectResult.totalRowCount>0)}}function OB(n,l){n&1&&(r(0,"div",6)(1,"div",73)(2,"div",2),S(3,"app-progress-spinner",3),r(4,"div",25)(5,"div",43)(6,"div",27),c(7),g(8,"translate"),a()()()()()()),n&2&&(o(3),d("optionsInfoAreaId","dataModelPropertyResultNotAvailable"),o(4),y(" ",h(8,2,"MESSAGE.NO_STATISTICAL_DATA_FOUND")," "))}var Fs=class Fs{constructor(l,e,i,t,s,_,m,k,z,Se,qe,Ue,ft,jt,Ft,Yt,Oe){this.estatePropertyService=l;this.estatePropertyHistoryService=e;this.estatePropertyCompanyService=i;this.estatePropertySupplierService=t;this.estatePropertyProjectService=s;this.estateCustomerOrderService=_;this.estateAccountExpertService=m;this.estateAccountAgencyService=k;this.publicHelper=z;this.cdr=Se;this.cmsToastrService=qe;this.themeService=Ue;this.router=ft;this.dialog=jt;this.translate=Ft;this.tokenHelper=Yt;this.cmsStoreService=Oe;this.constructorInfoAreaId=this.constructor.name;this.unsubscribe=[];this.tokenInfo=new It;this.dataModelPropertyResult=new G;this.dataModelCustomerOrderResult=new G;this.dataModelHistoryResult=new G;this.dataModelAccountUserResult=new G;this.dataModelAccountAgencyResult=new G;this.dataModelPropertyCompanyResult=new G;this.dataModelPropertySupplierResult=new G;this.dataModelPropertyProjectResult=new G;this.dataModelPropertyResultAvailable=new G;this.dataModelCustomerOrderResultAvailable=new G;this.dataModelPropertyResultNotAvailable=new G;this.dataModelCustomerOrderResultNotAvailable=new G;this.fieldsInfo=new Map;this.checkingOnDayRange=new dc({start:new Et(null),end:new Et(null)});this.todayStart=new Date(new Date().setHours(0,0,0,0));this.todayEnd=new Date(new Date().setHours(23,59,59,999));this.viewOnlyTime=!1;this.linkCmsUserId=0;this.publicHelper.processService.cdr=this.cdr,this.filterChildrecordStatus=new H,this.filterChildrecordStatusAvailable=new H,this.filterChildrecordStatusAvailable.propertyName="recordStatus",this.filterChildrecordStatusAvailable.value=Qe.Available,this.filterChildrecordStatusAvailable.searchType=Fe.Equal,this.filterChildrecordStatusNotAvailable=new H,this.filterChildrecordStatusNotAvailable.propertyName="recordStatus",this.filterChildrecordStatusNotAvailable.value=Qe.Available,this.filterChildrecordStatusNotAvailable.searchType=Fe.NotEqual,this.tokenInfo=Oe.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(mn=>mn.tokenInfoStore).subscribe(mn=>ae(this,null,function*(){this.tokenInfo=mn})))}ngOnInit(){this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd);var l=this.publicHelper.getComponentLocalStorageMap(this.constructor.name,"linkCmsUserId");this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.linkCmsUserId=e.access.userId,Number.isFinite(l)&&+l>=0&&(this.linkCmsUserId=+l),this.onActionButtonOnDateSearch()}))),this.tokenInfo?.access?.userId>0&&(this.linkCmsUserId=this.tokenInfo.access.userId),Number.isFinite(l)&&+l>=0&&(this.linkCmsUserId=+l),this.onActionButtonOnDateSearch()}DataGetAllProperty(){let l=this.constructor.name+"DataGetAllProperty",e=new _o;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,e.countLoad=!0,this.linkCmsUserId>0&&(e.linkResponsibleUserId=this.linkCmsUserId),e.filters.push(this.filterChildrecordStatus),this.publicHelper.processService.processStart(l,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0627\u0645\u0644\u0627\u06A9","dataModelPropertyResult"),this.estatePropertyService.ServiceGetAll(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess&&(this.dataModelPropertyResult=i,this.publicHelper.processService.processStop(l))}})}DataGetAllPropertyAvailable(){let l=this.constructor.name+"DataGetAllPropertyAvailable",e=new _o;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,e.countLoad=!0,this.linkCmsUserId>0&&(e.linkResponsibleUserId=this.linkCmsUserId),e.filters.push(this.filterChildrecordStatusAvailable),this.publicHelper.processService.processStart(l,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0627\u0645\u0644\u0627\u06A9","dataModelPropertyResultAvailable"),this.estatePropertyService.ServiceGetAll(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess&&(this.dataModelPropertyResultAvailable=i,this.publicHelper.processService.processStop(l))}})}DataGetAllPropertyNotAvailable(){let l=this.constructor.name+"DataGetAllPropertyNotAvailable",e=new _o;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,e.countLoad=!0,this.linkCmsUserId>0&&(e.linkResponsibleUserId=this.linkCmsUserId),e.filters.push(this.filterChildrecordStatusNotAvailable),this.publicHelper.processService.processStart(l,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0627\u0645\u0644\u0627\u06A9","dataModelPropertyResultNotAvailable"),this.estatePropertyService.ServiceGetAll(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess&&(this.dataModelPropertyResultNotAvailable=i,this.publicHelper.processService.processStop(l))}})}DataGetAllCustomerOrder(){let l=this.constructor.name+"DataGetAllCustomerOrder",e=new or;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,e.countLoad=!0,this.linkCmsUserId>0&&(e.linkResponsibleUserId=this.linkCmsUserId),e.filters.push(this.filterChildrecordStatus),this.publicHelper.processService.processStart(l,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0633\u0641\u0627\u0631\u0634\u0627\u062A","dataModelCustomerOrderResult"),this.estateCustomerOrderService.ServiceGetAll(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess&&(this.dataModelCustomerOrderResult=i,this.publicHelper.processService.processStop(l))}})}DataGetAllCustomerOrderAvailable(){let l=this.constructor.name+"DataGetAllCustomerOrderAvailable",e=new or;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,e.countLoad=!0,this.linkCmsUserId>0&&(e.linkResponsibleUserId=this.linkCmsUserId),e.filters.push(this.filterChildrecordStatusAvailable),this.publicHelper.processService.processStart(l,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0633\u0641\u0627\u0631\u0634\u0627\u062A","dataModelCustomerOrderResultAvailable"),this.estateCustomerOrderService.ServiceGetAll(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess&&(this.dataModelCustomerOrderResultAvailable=i,this.publicHelper.processService.processStop(l))}})}DataGetAllCustomerOrderNotAvailable(){let l=this.constructor.name+"DataGetAllCustomerOrderNotAvailable",e=new or;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,e.countLoad=!0,this.linkCmsUserId>0&&(e.linkResponsibleUserId=this.linkCmsUserId),e.filters.push(this.filterChildrecordStatusNotAvailable),this.publicHelper.processService.processStart(l,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0633\u0641\u0627\u0631\u0634\u0627\u062A","dataModelCustomerOrderResultNotAvailable"),this.estateCustomerOrderService.ServiceGetAll(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess&&(this.dataModelCustomerOrderResultNotAvailable=i,this.publicHelper.processService.processStop(l))}})}DataGetAllPropertyHistory(){let l=this.constructor.name+"DataGetAllPropertyHistory",e=new Ra;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,e.countLoad=!0,this.linkCmsUserId>0&&(e.linkResponsibleUserId=this.linkCmsUserId),e.filters.push(this.filterChildrecordStatus),this.publicHelper.processService.processStart(l,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u062A\u0627\u0631\u06CC\u062E\u0686\u0647","dataModelHistoryResult"),this.estatePropertyHistoryService.ServiceGetAll(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess&&(this.dataModelHistoryResult=i,this.publicHelper.processService.processStop(l))}})}DataGetAllPropertyCompany(){let l=this.constructor.name+"DataGetAllPropertyCompany",e=new Pa;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,e.countLoad=!0,this.linkCmsUserId>0&&(e.linkResponsibleUserId=this.linkCmsUserId),e.filters.push(this.filterChildrecordStatus),this.publicHelper.processService.processStart(l,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0634\u0631\u06A9\u062A \u0647\u0627\u06CC \u0633\u0627\u062E\u062A\u0645\u0627\u0646\u06CC","dataModelPropertyCompanyResult"),this.estatePropertyCompanyService.ServiceGetAll(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess&&(this.dataModelPropertyCompanyResult=i,this.publicHelper.processService.processStop(l))}})}DataGetAllPropertySupplier(){let l=this.constructor.name+"DataGetAllPropertySupplier",e=new rc;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,e.countLoad=!0,this.linkCmsUserId>0&&(e.linkResponsibleUserId=this.linkCmsUserId),e.filters.push(this.filterChildrecordStatus),this.publicHelper.processService.processStart(l,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u062A\u0627\u0645\u06CC\u0646 \u06A9\u0646\u0646\u062F","dataModelPropertySupplierResult"),this.estatePropertySupplierService.ServiceGetAll(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess&&(this.dataModelPropertySupplierResult=i,this.publicHelper.processService.processStop(l))}})}DataGetAllPropertyProject(){let l=this.constructor.name+"DataGetAllPropertyProject",e=new ka;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,e.countLoad=!0,this.linkCmsUserId>0&&(e.linkResponsibleUserId=this.linkCmsUserId),e.filters.push(this.filterChildrecordStatus),this.publicHelper.processService.processStart(l,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u067E\u0631\u0648\u0698\u0647 \u0647\u0627","dataModelPropertyProjectResult"),this.estatePropertyProjectService.ServiceGetAll(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess&&(this.dataModelPropertyProjectResult=i,this.publicHelper.processService.processStop(l))}})}DataGetAllAccountUser(){let l=this.constructor.name+"DataGetAllAccountUser",e=new _a;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,e.countLoad=!0,this.linkCmsUserId>0&&(e.linkResponsibleUserId=this.linkCmsUserId),e.filters.push(this.filterChildrecordStatus),this.publicHelper.processService.processStart(l,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u062D\u0633\u0627\u0628 \u06A9\u0627\u0631\u0628\u0631\u06CC","dataModelAccountUserResult"),this.estateAccountExpertService.ServiceGetAll(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess&&(this.dataModelAccountUserResult=i,this.publicHelper.processService.processStop(l))}})}DataGetAllAccountAgency(){let l=this.constructor.name+"DataGetAllAccountAgency",e=new Aa;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,e.countLoad=!0,this.linkCmsUserId>0&&(e.linkResponsibleUserId=this.linkCmsUserId),e.filters.push(this.filterChildrecordStatus),this.publicHelper.processService.processStart(l,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u06A9\u0627\u0631\u0634\u0646\u0627\u0633","dataModelAccountAgencyResult"),this.estateAccountAgencyService.ServiceGetAll(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess&&(this.dataModelAccountAgencyResult=i,this.publicHelper.processService.processStop(l))}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}onActionButtonOnDateSearch(){this.viewOnlyTime=!1,this.checkingOnDayRange.controls.start?.value&&this.checkingOnDayRange.controls.end?.value&&this.checkingOnDayRange.controls.start.value?.toISOString()===this.checkingOnDayRange.controls.end.value?.toISOString()&&(this.viewOnlyTime=!0),this.DataGetAllProperty(),this.DataGetAllPropertyAvailable(),this.DataGetAllPropertyNotAvailable(),this.DataGetAllCustomerOrder(),this.DataGetAllCustomerOrderAvailable(),this.DataGetAllCustomerOrderNotAvailable(),this.DataGetAllPropertyHistory(),this.DataGetAllAccountUser(),this.DataGetAllAccountAgency(),this.DataGetAllPropertyCompany(),this.DataGetAllPropertySupplier(),this.DataGetAllPropertyProject()}onActionSelectorUser(l){this.linkCmsUserId=0,l&&l.id>0&&(this.linkCmsUserId=l.id),this.publicHelper.setComponentLocalStorageMap(this.constructor.name,"linkCmsUserId",this.linkCmsUserId),this.onActionButtonOnDateSearch()}onActionToDay(){this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end.setValue(this.todayEnd),this.onActionButtonOnDateSearch()}onActionNext(){this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),this.checkingOnDayRange.controls.start.setValue(this.addDays(this.checkingOnDayRange.controls.start.value,1)),this.checkingOnDayRange.controls.end.setValue(this.addDays(this.checkingOnDayRange.controls.end.value,1)),this.onActionButtonOnDateSearch()}onActionPervious(){this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),this.checkingOnDayRange.controls.start.setValue(this.addDays(this.checkingOnDayRange.controls.start.value,-1)),this.checkingOnDayRange.controls.end.setValue(this.addDays(this.checkingOnDayRange.controls.end.value,-1)),this.onActionButtonOnDateSearch()}addDays(l,e){let i=new Date(l);return i.setDate(i.getDate()+e),i}onActionButtonProperty(l,e,i){if(!l||!l.id||l.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(k=>{this.cmsToastrService.typeErrorSelected(k)});return}var t=this.publicHelper.InfoNextRowInList(e,l),s=this.publicHelper.InfoPerviousRowInList(e,l),_="";this.publicHelper.isMobile?_="dialog-fullscreen":_="dialog-min",this.dialog.open(Zo,{height:"90%",panelClass:_,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:l.id,perviousItem:s,nextItem:t}}).afterClosed().subscribe(k=>{k&&k.dialogChangedDate&&k.onActionOpenItem&&k.onActionOpenItem.id.length>0&&this.onActionButtonProperty(k.onActionOpenItem,e)})}onActionButtonCustomerOrder(l,e,i){if(!l||!l.id||l.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(k=>{this.cmsToastrService.typeErrorSelected(k)});return}var t=this.publicHelper.InfoNextRowInList(e,l),s=this.publicHelper.InfoPerviousRowInList(e,l),_="";this.publicHelper.isMobile?_="dialog-fullscreen":_="dialog-min",this.dialog.open(Er,{height:"90%",panelClass:_,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:l.id,perviousItem:s,nextItem:t}}).afterClosed().subscribe(k=>{k&&k.dialogChangedDate&&k.onActionOpenItem&&k.onActionOpenItem.id.length>0&&this.onActionButtonCustomerOrder(k.onActionOpenItem,e)})}onActionButtonHistory(l,e){if(!l||!l.id||l.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}var i=this.publicHelper.InfoNextRowInList(this.dataModelHistoryResult.listItems,l),t=this.publicHelper.InfoPerviousRowInList(this.dataModelHistoryResult.listItems,l),s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(hs,{height:"90%",panelClass:s,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:l.id,perviousItem:t,nextItem:i}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&m.onActionOpenItem&&m.onActionOpenItem.id.length>0&&this.onActionButtonHistory(m.onActionOpenItem)})}onActionButtonAccountAgency(l,e){if(!l||!l.id||l.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(e?.ctrlKey){var i="/#/estate/account-agency/LinkCustomerOrderId/"+l.id;window.open(i,"_blank")}else this.router.navigate(["/estate/account-agency/LinkCustomerOrderId/",l.id])}onActionButtonAccountUser(l,e){if(!l||!l.id||l.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(e?.ctrlKey){var i="/#/estate/account-user/LinkCustomerOrderId/"+l.id;window.open(i,"_blank")}else this.router.navigate(["/estate/account-user/LinkCustomerOrderId/",l.id])}onActionButtonPropertyProject(l,e){if(!l||!l.id||l.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}var i=this.publicHelper.InfoNextRowInList(this.dataModelPropertyProjectResult.listItems,l),t=this.publicHelper.InfoPerviousRowInList(this.dataModelPropertyProjectResult.listItems,l),s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(cp,{height:"90%",panelClass:s,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:l.id,perviousItem:t,nextItem:i}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&m.onActionOpenItem&&m.onActionOpenItem.id.length>0&&this.onActionButtonPropertyProject(m.onActionOpenItem)})}onActionButtonPropertySupplier(l,e){if(!l||!l.id||l.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}var i=this.publicHelper.InfoNextRowInList(this.dataModelPropertySupplierResult.listItems,l),t=this.publicHelper.InfoPerviousRowInList(this.dataModelPropertySupplierResult.listItems,l),s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(pp,{height:"90%",panelClass:s,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:l.id,perviousItem:t,nextItem:i}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&m.onActionOpenItem&&m.onActionOpenItem.id.length>0&&this.onActionButtonPropertySupplier(m.onActionOpenItem)})}onActionButtonPropertyCompany(l,e){if(!l||!l.id||l.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}var i=this.publicHelper.InfoNextRowInList(this.dataModelPropertyCompanyResult.listItems,l),t=this.publicHelper.InfoPerviousRowInList(this.dataModelPropertyCompanyResult.listItems,l),s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(dp,{height:"90%",panelClass:s,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:l.id,perviousItem:t,nextItem:i}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&m.onActionOpenItem&&m.onActionOpenItem.id.length>0&&this.onActionButtonPropertyCompany(m.onActionOpenItem)})}};Fs.\u0275fac=function(e){return new(e||Fs)(v(gi),v(to),v(vn),v(io),v(In),v($i),v(Cn),v(On),v(F),v(O),v(V),v(Vt),v(Ze),v(Ae),v(L),v(Z),v(J))},Fs.\u0275cmp=D({type:Fs,selectors:[["app-estate-overview-events"]],standalone:!1,decls:35,vars:29,consts:[["picker",""],["other_content",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"row"],[1,"col-12","col-sm-12","col-md-6","col-lg-6"],["appearance","fill"],[3,"formGroup","rangePicker"],["matStartDate","","formControlName","start",3,"placeholder"],["matEndDate","","formControlName","end",3,"placeholder"],["matIconSuffix","",3,"for"],[4,"ngIf"],[1,"col-12","col-sm-12","col-md-6","col-lg-6","loader-container"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray",3,"click",4,"ngIf"],[3,"optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],["href","javascript:void(0)","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["class","col-12 col-sm-12 col-md-6 col-lg-6 loader-container",4,"ngIf"],["class","row",4,"ngIf","ngIfElse"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["href","javascript:void(0)",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["class","col-12 col-sm-12 col-md-6 col-lg-6",4,"ngIf"],[1,"content"],["id","accordion-1A",1,"accordion"],[1,"mb-2"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse1A",1,"btn","accordion-btn","no-effect","color-theme"],[1,"fa","fa-cloud","color-blue-dark","me-2"],[1,"text-muted","fw-bold","fs-7"],["class","fa fa-arrow-down font-10 accordion-icon",4,"ngIf"],["id","collapse1A","data-bs-parent","#accordion-1",1,"collapse"],[4,"ngFor","ngForOf"],[1,"fa","fa-arrow-down","font-10","accordion-icon"],[1,"divider","divider-margins","bg-highlight"],["class","mb-0 color-highlight font-600 font-12",4,"ngIf"],[2,"cursor","pointer",3,"click"],[1,"float-end",3,"click","ngClass"],["dir","ltr"],["id","accordion-1B",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse1B",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse1B","data-bs-parent","#accordion-1",1,"collapse"],["id","accordion-1C",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse1C",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse1C","data-bs-parent","#accordion-1",1,"collapse"],["id","accordion-2A",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse2A",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse2A","data-bs-parent","#accordion-2",1,"collapse"],["id","accordion-2B",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse2B",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse2B","data-bs-parent","#accordion-2",1,"collapse"],["id","accordion-2C",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse2C",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse2C","data-bs-parent","#accordion-2",1,"collapse"],["id","accordion-3",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse3",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse3","data-bs-parent","#accordion-3",1,"collapse"],["id","accordion-4",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse4",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse4","data-bs-parent","#accordion-4",1,"collapse"],["id","accordion-5",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse5",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse5","data-bs-parent","#accordion-5",1,"collapse"],["id","accordion-6",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse6",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse6","data-bs-parent","#accordion-6",1,"collapse"],["id","accordion-7",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse7",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse7","data-bs-parent","#accordion-7",1,"collapse"],["id","accordion-8",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse8",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse8","data-bs-parent","#accordion-8",1,"collapse"],[1,"col-12","col-sm-12"]],template:function(e,i){if(e&1&&(r(0,"div",2),S(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),c(4),g(5,"translate"),a(),r(6,"div",6)(7,"div",7)(8,"mat-form-field",8)(9,"mat-label"),c(10),g(11,"translate"),a(),r(12,"mat-date-range-input",9),S(13,"input",10),g(14,"translate"),S(15,"input",11),g(16,"translate"),a(),S(17,"mat-datepicker-toggle",12)(18,"mat-date-range-picker",null,0),C(20,H6,3,3,"mat-error",13)(21,W6,3,3,"mat-error",13),a()(),r(22,"div",14),C(23,G6,3,0,"button",15)(24,U6,3,0,"button",15)(25,j6,4,3,"button",15),a(),r(26,"div",14),C(27,q6,2,4,"app-cms-user-selector",16),a(),r(28,"div",14),C(29,Q6,3,3,"a",17),a()(),C(30,z6,6,12,"div",18)(31,Y6,4,5,"div",18),a()(),C(32,FB,13,12,"div",19)(33,OB,9,4,"ng-template",null,1,cm)),e&2){let t=R(19),s=R(34);o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(3),y(" ",h(5,21,"TITLE.Event_Review")," "),o(6),M(h(11,23,"TITLE.Enter_a_date_range")),o(2),d("formGroup",i.checkingOnDayRange)("rangePicker",t),o(),d("placeholder",x(h(14,25,"TITLE.Start_Date"))),o(2),d("placeholder",x(h(16,27,"TITLE.Start_Date"))),o(2),d("for",t),o(3),d("ngIf",i.checkingOnDayRange.controls.start.hasError("matStartDateInvalid")),o(),d("ngIf",i.checkingOnDayRange.controls.end.hasError("matEndDateInvalid")),o(2),d("ngIf",!i.publicHelper.processService.process.inRunAll),o(),d("ngIf",!i.publicHelper.processService.process.inRunAll),o(),d("ngIf",!i.publicHelper.processService.process.inRunAll),o(2),d("ngIf",i.tokenHelper.isAdminSite),o(2),d("ngIf",!i.publicHelper.processService.process.inRunAll),o(),d("ngIf",i.checkingOnDayRange==null||i.checkingOnDayRange.controls==null||i.checkingOnDayRange.controls.start==null?null:i.checkingOnDayRange.controls.start.value),o(),d("ngIf",i.linkCmsUserId>0),o(),d("ngIf",i.dataModelPropertyProjectResult.totalRowCount>0||i.dataModelPropertySupplierResult.totalRowCount>0||i.dataModelPropertyCompanyResult.totalRowCount>0||i.dataModelAccountUserResult.totalRowCount>0||i.dataModelAccountAgencyResult.totalRowCount>0||i.dataModelHistoryResult.totalRowCount>0||i.dataModelCustomerOrderResultNotAvailable.totalRowCount>0||i.dataModelCustomerOrderResultAvailable.totalRowCount>0||i.dataModelCustomerOrderResult.totalRowCount>0||i.dataModelPropertyResultNotAvailable.totalRowCount>0||i.dataModelPropertyResultAvailable.totalRowCount>0||i.dataModelPropertyResult.totalRowCount>0)("ngIfElse",s)}},dependencies:[ce,He,N,Y,q,we,cc,pc,_i,gn,_c,gc,hc,yc,yi,hi,xe,tt,ln,U,We,B,Li,ro,Zt],styles:["table[_ngcontent-%COMP%]{border:2px solid black}th[_ngcontent-%COMP%]{text-align:center}.timeline-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:none}.timeline-content[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{display:inline-block}.card-body-3d[_ngcontent-%COMP%]{transform:perspective(750px) translateZ(-250px) rotateX(27deg) scale(.9);border-radius:20px;border:5px solid #e6e6e6;box-shadow:0 70px 40px -20px #0003;transition:.4s ease-in-out transform}.card-body-3d[_ngcontent-%COMP%]:hover{transform:translateZ(-250px)}"]});var mp=Fs;var Os=class Os{constructor(l,e,i,t,s,_){this.publicHelper=l;this.cdr=e;this.cmsToastrService=i;this.dialog=t;this.translate=s;this.tokenHelper=_;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}};Os.\u0275fac=function(e){return new(e||Os)(v(F),v(O),v(V),v(Ae),v(L),v(Z))},Os.\u0275cmp=D({type:Os,selectors:[["app-estate-overview-summary"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&c(0,`summary.componentsummary.componentsummary.componentsummary.componentsummary.componentsummary.componentsummary.component
`)},encapsulation:2});var up=Os;var NB=["*"];function HB(n,l){if(n&1&&(r(0,"label",14),c(1),a()),n&2){let e=p();d("for",Ie("app-cms-site-selector-",e.id)),o(),M(e.optionLabel)}}function WB(n,l){if(n&1&&(S(0,"img",15),g(1,"cmsthumbnail")),n&2){let e=p();d("src",x(h(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),j)}}function GB(n,l){if(n&1&&(S(0,"img",15),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function UB(n,l){if(n&1&&(r(0,"mat-option",16),C(1,GB,2,4,"img",5),r(2,"span"),c(3),a()()),n&2){let e=l.$implicit,i=p();d("value",e)("disabled",i.optionDisabled),o(),d("ngIf",e.linkMainImageIdSrc),o(2),M(i.displayOption(e))}}function jB(n,l){n&1&&S(0,"i",17)}function qB(n,l){n&1&&S(0,"i",18)}function QB(n,l){if(n&1){let e=E();r(0,"i",19),I("click",function(){u(e);let t=p();return f(t.onActionSelectClear())}),a()}}function zB(n,l){n&1&&(r(0,"em"),c(1),g(2,"translate"),a()),n&2&&(o(),y("(",h(2,1,"TITLE.Necessary"),")"))}var ca=class ca{constructor(l,e,i,t,s,_){this.coreEnumService=l;this.cmsToastrService=e;this.translate=i;this.cdr=t;this.publicHelper=s;this.categoryService=_;this.id=++ca.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=new Rn;this.formControl=new Et;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new Xe;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(ei(""),$t(1500),xi(),ti(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return ae(this,null,function*(){let e=new pe;e.rowPerPage=20,e.accessLoad=!0;let i=new H;l&&l.length>0&&(i.propertyName="title",i.value=l,i.searchType=Fe.Contains,e.filters.push(i),i=new H,i.propertyName="id",i.value=l,i.searchType=Fe.Equal,i.clauseType=Be.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield wi(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.optionDisabled||(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(Ot(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof Rn){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Rn,this.loadOptions()}};ca.nextId=0,ca.\u0275fac=function(e){return new(e||ca)(v(X),v(V),v(L),v(O),v(F),v(eo))},ca.\u0275cmp=D({type:ca,selectors:[["app-estate-ads-type-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:NB,decls:18,vars:25,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=E();vi(),r(0,"div",1),S(1,"app-progress-spinner",2),C(2,HB,2,3,"label",3),r(3,"span",4),C(4,WB,2,4,"img",5),c(5," \xA0"),a(),S(6,"input",6),r(7,"mat-autocomplete",7,0),I("optionSelected",function(_){return u(t),f(i.onActionSelect(_.option.value))}),C(9,UB,4,4,"mat-option",8),g(10,"async"),a(),C(11,jB,1,0,"i",9)(12,qB,1,0,"i",10)(13,QB,1,0,"i",11),r(14,"i",12),g(15,"translate"),I("click",function(){return u(t),f(i.onActionButtonReload())}),a(),C(16,zB,3,3,"em",13),pi(17),a()}if(e&2){let t=R(8);o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(2),d("ngIf",i.dataModelSelect&&(i.dataModelSelect==null?null:i.dataModelSelect.linkMainImageIdSrc)),o(2),d("placeholder",x(i.optionPlaceholder))("id",Ie("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),vt("disabled",i.optionDisabled?!0:null),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",h(10,21,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),K("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),d("title",x(h(15,23,"ACTION.RELOAD"))),o(2),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0))}},dependencies:[He,N,Y,q,de,zt,ni,ii,oi,en,Q,U,We,B,Me],encapsulation:2});var Ns=ca;var YB=["vform"];function KB(n,l){n&1&&S(0,"i",30)}function ZB(n,l){n&1&&S(0,"i",31)}function JB(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function XB(n,l){if(n&1){let e=E();r(0,"div",13)(1,"label",32),c(2),a(),r(3,"input",33,4),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.stationLevel,t)||(s.dataModel.stationLevel=t),f(t)}),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.stationLevel==null?null:e.fieldsInfo.stationLevel.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.stationLevel==null?null:e.fieldsInfo.stationLevel.fieldTitle)),b("ngModel",e.dataModel.stationLevel),d("disabled",!(e.fieldsInfo.stationLevel!=null&&e.fieldsInfo.stationLevel.accessEditField))}}function $B(n,l){if(n&1){let e=E();r(0,"div",13)(1,"label",34),c(2),a(),r(3,"input",35,5),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.viewLevel,t)||(s.dataModel.viewLevel=t),f(t)}),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.viewLevel==null?null:e.fieldsInfo.viewLevel.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.viewLevel==null?null:e.fieldsInfo.viewLevel.fieldTitle)),b("ngModel",e.dataModel.viewLevel),d("disabled",!(e.fieldsInfo.viewLevel!=null&&e.fieldsInfo.viewLevel.accessEditField))}}function eF(n,l){if(n&1){let e=E();r(0,"div",21)(1,"label",36),c(2),a(),r(3,"input",37),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.expireDate,t)||(s.dataModel.expireDate=t),f(t)}),a(),S(4,"mat-datepicker-toggle",24)(5,"mat-datepicker",25,6),a()}if(n&2){let e=R(6),i=p();o(2),M(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),d("matDatepicker",e),b("ngModel",i.dataModel.expireDate),o(),d("for",e)}}function tF(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function iF(n,l){if(n&1){let e=E();r(0,"div",38)(1,"button",39),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",40),c(3),g(4,"translate"),a(),r(5,"button",41),S(6,"i",42),c(7),g(8,"translate"),a()()}if(n&2){p();let e=R(10);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",h(8,5,"ACTION.SAVE")," ")}}var Hs=class Hs extends Bt{constructor(e,i,t,s,_,m,k,z){super(s,new kr,m,z);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyAdsService=s;this.cmsToastrService=_;this.publicHelper=m;this.cdr=k;this.translate=z;this.requestLinkPropertyId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new G;this.dataModel=new kr;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.AdsTypeTitle="";this.PropertyTitle="";this.publicHelper.processService.cdr=this.cdr,e&&e.linkPropertyId&&(this.requestLinkPropertyId=e.linkPropertyId),this.requestLinkPropertyId.length>0&&(this.dataModel.linkPropertyId=this.requestLinkPropertyId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyAdsService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelectLinkPropertyId(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Property_ID_is_unknown").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyId=e.id,this.PropertyTitle=e.title,this.dataModel.title=e.title+"_"+this.AdsTypeTitle}onActionSelectorSelectLinkAdsTypeId(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Advertisement_ID_is_unknown").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkAdsTypeId=e.id,this.AdsTypeTitle=e.title,this.dataModel.title=this.PropertyTitle+"_"+e.title}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Hs.\u0275fac=function(i){return new(i||Hs)(v(Te),v(be),v(X),v(rr),v(V),v(F),v(O),v(L))},Hs.\u0275cmp=D({type:Hs,selectors:[["app-estate-property-ads-add"]],viewQuery:function(i,t){if(i&1&&te(YB,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:45,vars:38,consts:[["vform","ngForm"],["Title",""],["FromDate",""],["Description",""],["StationLevel",""],["ViewLevel",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.stationLevel",1,"color-highlight"],["matInput","","name","dataModel.stationLevel","type","number","id","dataModel.stationLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.viewLevel",1,"color-highlight"],["matInput","","name","dataModel.viewLevel","type","number","id","dataModel.viewLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",7),S(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",11),r(9,"form",12,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"div",13)(12,"label",14),c(13),a(),r(14,"input",15,1),w("ngModelChange",function(m){return u(s),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),C(16,KB,1,0,"i",16)(17,ZB,1,0,"i",17),r(18,"em"),c(19),a(),C(20,JB,5,3,"mat-error",18),a(),r(21,"app-estate-ads-type-selector",19),g(22,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorSelectLinkAdsTypeId(m))}),a(),r(23,"app-estate-property-selector",19),g(24,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorSelectLinkPropertyId(m))}),a(),C(25,XB,5,5,"div",20)(26,$B,5,5,"div",20),r(27,"div",21)(28,"label",22),c(29),a(),r(30,"input",23),w("ngModelChange",function(m){return u(s),T(t.dataModel.fromDate,m)||(t.dataModel.fromDate=m),f(m)}),a(),S(31,"mat-datepicker-toggle",24)(32,"mat-datepicker",25,2),a(),C(34,eF,7,4,"div",26),r(35,"div",13)(36,"label",27),c(37),a(),r(38,"textarea",28,3),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(40,"        "),a(),r(41,"em"),c(42),a(),C(43,tF,5,3,"mat-error",18),a(),C(44,iF,9,7,"div",29),a()()()}if(i&2){let s=R(15),_=R(33),m=R(39);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,32,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(5),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("optionDisabled",!(t.fieldsInfo.linkAdsTypeId!=null&&t.fieldsInfo.linkAdsTypeId.accessAddField))("optionSelectForce",t.dataModel.linkAdsTypeId)("optionPlaceholder",h(22,34,"TITLE.Ad_type_ID")),o(2),d("optionDisabled",!(t.fieldsInfo.linkPropertyId!=null&&t.fieldsInfo.linkPropertyId.accessAddField))("optionSelectForce",t.dataModel.linkPropertyId)("optionPlaceholder",h(24,36,"TITLE.Property_ID")),o(2),d("ngIf",t.fieldsInfo.stationLevel==null?null:t.fieldsInfo.stationLevel.accessWatchField),o(),d("ngIf",t.fieldsInfo.viewLevel==null?null:t.fieldsInfo.viewLevel.accessWatchField),o(3),M(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),d("matDatepicker",_),b("ngModel",t.dataModel.fromDate),o(),d("for",_),o(3),d("ngIf",t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.accessWatchField),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",m.value.length," / 500"),o(),d("ngIf",m.errors==null?null:m.errors.required),o(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[N,ke,Y,Wt,q,we,de,De,Pe,me,Re,Gn,Un,gn,xe,tt,Q,U,ge,Gt,yr,Ns,B],encapsulation:2});var fp=Hs;var nF=["vform"];function oF(n,l){n&1&&S(0,"i",30)}function rF(n,l){n&1&&S(0,"i",31)}function aF(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function lF(n,l){if(n&1){let e=E();r(0,"div",13)(1,"label",32),c(2),a(),r(3,"input",33,4),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.stationLevel,t)||(s.dataModel.stationLevel=t),f(t)}),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.stationLevel==null?null:e.fieldsInfo.stationLevel.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.stationLevel==null?null:e.fieldsInfo.stationLevel.fieldTitle)),b("ngModel",e.dataModel.stationLevel),d("disabled",!(e.fieldsInfo.stationLevel!=null&&e.fieldsInfo.stationLevel.accessEditField))}}function sF(n,l){if(n&1){let e=E();r(0,"div",13)(1,"label",34),c(2),a(),r(3,"input",35,5),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.viewLevel,t)||(s.dataModel.viewLevel=t),f(t)}),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.viewLevel==null?null:e.fieldsInfo.viewLevel.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.viewLevel==null?null:e.fieldsInfo.viewLevel.fieldTitle)),b("ngModel",e.dataModel.viewLevel),d("disabled",!(e.fieldsInfo.viewLevel!=null&&e.fieldsInfo.viewLevel.accessEditField))}}function dF(n,l){if(n&1){let e=E();r(0,"div",21)(1,"label",36),c(2),a(),r(3,"input",37),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.expireDate,t)||(s.dataModel.expireDate=t),f(t)}),a(),S(4,"mat-datepicker-toggle",24)(5,"mat-datepicker",25,6),a()}if(n&2){let e=R(6),i=p();o(2),M(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),d("matDatepicker",e),b("ngModel",i.dataModel.expireDate),o(),d("for",e)}}function cF(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function pF(n,l){if(n&1){let e=E();r(0,"div",38)(1,"button",39),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",40),c(3),g(4,"translate"),a(),r(5,"button",41),S(6,"i",42),c(7),g(8,"translate"),a()()}if(n&2){p();let e=R(10);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",h(8,5,"ACTION.SAVE")," ")}}var Ws=class Ws extends Ut{constructor(e,i,t,s,_,m,k,z){super(s,new kr,m,z);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyAdsService=s;this.cmsToastrService=_;this.publicHelper=m;this.cdr=k;this.translate=z;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ht;this.dataModel=new kr;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.AdsTypeTitle="";this.PropertyTitle="";this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyAdsService.setAccessLoad(),this.estatePropertyAdsService.setAccessDataType(Ne.Editor),this.estatePropertyAdsService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyAdsService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelectLinkPropertyId(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Property_ID_is_unknown").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyId=e.id,this.PropertyTitle=e.title,this.dataModel.title=e.title+"_"+this.AdsTypeTitle}onActionSelectorSelectLinkAdsTypeId(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Advertisement_ID_is_unknown").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkAdsTypeId=e.id,this.AdsTypeTitle=e.title,this.dataModel.title=this.PropertyTitle+"_"+e.title}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ws.\u0275fac=function(i){return new(i||Ws)(v(Te),v(be),v(X),v(rr),v(V),v(F),v(O),v(L))},Ws.\u0275cmp=D({type:Ws,selectors:[["app-estate-property-ads-edit"]],viewQuery:function(i,t){if(i&1&&te(nF,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:45,vars:38,consts:[["vform","ngForm"],["Title",""],["FromDate",""],["Description",""],["StationLevel",""],["ViewLevel",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.stationLevel",1,"color-highlight"],["matInput","","name","dataModel.stationLevel","type","number","id","dataModel.stationLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.viewLevel",1,"color-highlight"],["matInput","","name","dataModel.viewLevel","type","number","id","dataModel.viewLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",7),S(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",11),r(9,"form",12,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"div",13)(12,"label",14),c(13),a(),r(14,"input",15,1),w("ngModelChange",function(m){return u(s),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),C(16,oF,1,0,"i",16)(17,rF,1,0,"i",17),r(18,"em"),c(19),a(),C(20,aF,5,3,"mat-error",18),a(),r(21,"app-estate-ads-type-selector",19),g(22,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorSelectLinkAdsTypeId(m))}),a(),r(23,"app-estate-property-selector",19),g(24,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorSelectLinkPropertyId(m))}),a(),C(25,lF,5,5,"div",20)(26,sF,5,5,"div",20),r(27,"div",21)(28,"label",22),c(29),a(),r(30,"input",23),w("ngModelChange",function(m){return u(s),T(t.dataModel.fromDate,m)||(t.dataModel.fromDate=m),f(m)}),a(),S(31,"mat-datepicker-toggle",24)(32,"mat-datepicker",25,2),a(),C(34,dF,7,4,"div",26),r(35,"div",13)(36,"label",27),c(37),a(),r(38,"textarea",28,3),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(40,"        "),a(),r(41,"em"),c(42),a(),C(43,cF,5,3,"mat-error",18),a(),C(44,pF,9,7,"div",29),a()()()}if(i&2){let s=R(15),_=R(33),m=R(39);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,32,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(5),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("optionDisabled",!(t.fieldsInfo.linkAdsTypeId!=null&&t.fieldsInfo.linkAdsTypeId.accessAddField))("optionSelectForce",t.dataModel.linkAdsTypeId)("optionPlaceholder",h(22,34,"TITLE.Ad_type_ID")),o(2),d("optionDisabled",!(t.fieldsInfo.linkPropertyId!=null&&t.fieldsInfo.linkPropertyId.accessAddField))("optionSelectForce",t.dataModel.linkPropertyId)("optionPlaceholder",h(24,36,"TITLE.Property_ID")),o(2),d("ngIf",t.fieldsInfo.stationLevel==null?null:t.fieldsInfo.stationLevel.accessWatchField),o(),d("ngIf",t.fieldsInfo.viewLevel==null?null:t.fieldsInfo.viewLevel.accessWatchField),o(3),M(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),d("matDatepicker",_),b("ngModel",t.dataModel.fromDate),o(),d("for",_),o(3),d("ngIf",t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.accessWatchField),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",m.value.length," / 500"),o(),d("ngIf",m.errors==null?null:m.errors.required),o(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[N,ke,Y,Wt,q,we,de,De,Pe,me,Re,Gn,Un,gn,xe,tt,Q,U,ge,Gt,yr,Ns,B],encapsulation:2});var _p=Ws;var mF=()=>[5,10,20,100],uF=n=>({background:n});function fF(n,l){if(n&1&&S(0,"app-estate-property-header",45),n&2){let e=p();d("optionId",e.requestLinkPropertyId)}}function _F(n,l){if(n&1){let e=E();r(0,"div",20)(1,"a",46),I("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),S(2,"i",47)(3,"br"),a(),r(4,"p",23),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.ADD")," "))}function gF(n,l){if(n&1){let e=E();r(0,"div",20)(1,"a",48),I("click",function(){u(e);let t=p();return f(t.onActionButtonBuy())}),S(2,"i",49)(3,"br"),a(),r(4,"p",23),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.BUY")," "))}function hF(n,l){if(n&1){let e=E();r(0,"div",20)(1,"a",50),I("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",51)(3,"br"),a(),r(4,"p",23),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.EDIT")," "))}function yF(n,l){if(n&1){let e=E();r(0,"div",20)(1,"a",52),I("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",53)(3,"br"),a(),r(4,"p",23),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.DELETE")," "))}function SF(n,l){if(n&1&&(r(0,"mat-header-cell",54),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function CF(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function vF(n,l){if(n&1&&(r(0,"mat-header-cell",54),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.linkPropertyId==null?null:e.fieldsInfo.linkPropertyId.fieldTitle," ")}}function IF(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.linkPropertyId," ")}}function EF(n,l){if(n&1&&(r(0,"mat-header-cell",54),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function MF(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function bF(n,l){if(n&1&&(r(0,"mat-header-cell",54),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.stationLevel==null?null:e.fieldsInfo.stationLevel.fieldTitle," ")}}function TF(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.stationLevel," ")}}function wF(n,l){if(n&1&&(r(0,"mat-header-cell",54),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.viewLevel==null?null:e.fieldsInfo.viewLevel.fieldTitle," ")}}function xF(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.viewLevel," ")}}function AF(n,l){if(n&1&&(r(0,"mat-header-cell",54),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.fromDate==null?null:e.fieldsInfo.fromDate.fieldTitle," ")}}function PF(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"persianDate"),a()),n&2){let e=l.$implicit;o(),y(" ",h(2,1,e.fromDate)," ")}}function RF(n,l){if(n&1&&(r(0,"mat-header-cell",54),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function kF(n,l){if(n&1&&(r(0,"mat-cell",55),c(1),g(2,"persianDate"),a()),n&2){let e=l.$implicit,i=p();d("ngStyle",ze(4,uF,i.publicHelper.RowStyleExpireDate(e.expireDate))),o(),y(" ",h(2,2,e.expireDate)," ")}}function DF(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.OPTION")," "))}function LF(n,l){if(n&1&&(r(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),c(3,"more_vert"),a()(),S(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),d("matMenuTriggerFor",e)}}function VF(n,l){n&1&&S(0,"mat-header-row")}function BF(n,l){if(n&1){let e=E();r(0,"mat-row",58),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Gs=class Gs extends xt{constructor(e,i,t,s,_,m,k,z,Se,qe,Ue,ft,jt){super(e,new kr,ft,m,Se);this.contentService=e;this.cmsConfirmationDialogService=i;this.activatedRoute=t;this.cmsToastrService=s;this.themeService=_;this.tokenHelper=m;this.router=k;this.cdr=z;this.translate=Se;this.cmsStoreService=qe;this.pageInfo=Ue;this.publicHelper=ft;this.dialog=jt;this.requestLinkPropertyId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new pe;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["StationLevel","ViewLevel","LinkPropertyId","FromDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["StationLevel","ViewLevel","LinkPropertyId","FromDate","ExpireDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkPropertyId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyId"),this.optionsSearch.parentMethods={onSubmit:Ft=>this.onSubmitOptionsSearch(Ft)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=$.Descending,this.requestLinkPropertyId&&this.requestLinkPropertyId.length>0){let Ft=new H;Ft.propertyName="LinkPropertyId",Ft.value=this.requestLinkPropertyId,this.filteModelContent.filters.push(Ft)}}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new kr);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=$.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(fp,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{linkPropertyId:this.requestLinkPropertyId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(_p,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_,!1)}})}}).catch(()=>{})}onActionButtonContentList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/estate/property/LinkPropertyAdsId/",this.tableRowSelected.id])}onActionButtonBuy(){this.router.navigate(["/estate/property-ads/sale/",this.requestLinkPropertyId])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new H;_.propertyName="recordStatus",_.value=Qe.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/estate/property/"])}};Gs.\u0275fac=function(i){return new(i||Gs)(v(rr),v(wt),v(Kt),v(V),v(Vt),v(Z),v(Ze),v(O),v(L),v(J),v(St),v(F),v(Ae))},Gs.\u0275cmp=D({type:Gs,selectors:[["app-estate-property-ads-list"]],standalone:!1,features:[oe],decls:70,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkPropertyId"],["matColumnDef","title"],["matColumnDef","StationLevel"],["matColumnDef","ViewLevel"],["matColumnDef","FromDate"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-cart-shopping","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=E();C(0,fF,1,1,"app-estate-property-header",3),r(1,"app-cms-html-list",4),w("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),I("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(2,5),c(3," -------------------------------------- "),P(),$e(4,6)(5,7),A(6,8),r(7,"a",9),I("click",function(){return u(s),f(t.onActionBackToParent())}),S(8,"i",10),a(),r(9,"a",11),I("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(10,"i",12),a(),r(11,"a",11),I("click",function(){return u(s),f(t.onActionButtonReload())}),S(12,"i",13),a(),P(),A(13,14),r(14,"a",15),I("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(15,"mat-slide-toggle",16),c(16),g(17,"translate"),a(),r(18,"a",15),I("click",function(){return u(s),f(t.onActionButtonStatist())}),S(19,"mat-slide-toggle",16),c(20),g(21,"translate"),a(),P(),A(22,17),C(23,_F,7,3,"div",18)(24,gF,7,3,"div",18),P(),A(25,19),C(26,hF,7,3,"div",18)(27,yF,7,3,"div",18),r(28,"div",20)(29,"a",21),I("click",function(){return u(s),f(t.onActionButtonContentList(t.tableRowSelected))}),S(30,"i",22)(31,"br"),a(),r(32,"p",23),c(33),g(34,"translate"),a()(),P(),A(35,24),r(36,"app-cms-search-list",25),w("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),a(),r(37,"app-cms-statist-list",25),w("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),P(),A(38,26),r(39,"mat-table",27,0),I("matSortChange",function(){u(s);let m=R(40);return f(t.onTableSortData(m))}),A(41,28),C(42,SF,2,1,"mat-header-cell",29)(43,CF,2,1,"mat-cell",30),P(),A(44,31),C(45,vF,2,1,"mat-header-cell",29)(46,IF,2,1,"mat-cell",30),P(),A(47,32),C(48,EF,2,1,"mat-header-cell",29)(49,MF,2,1,"mat-cell",30),P(),A(50,33),C(51,bF,2,1,"mat-header-cell",29)(52,TF,2,1,"mat-cell",30),P(),A(53,34),C(54,wF,2,1,"mat-header-cell",29)(55,xF,2,1,"mat-cell",30),P(),A(56,35),C(57,AF,2,1,"mat-header-cell",29)(58,PF,3,3,"mat-cell",30),P(),A(59,36),C(60,RF,2,1,"mat-header-cell",29)(61,kF,3,6,"mat-cell",37),P(),A(62,38),C(63,DF,3,3,"mat-header-cell",39)(64,LF,6,1,"mat-cell",40),P(),C(65,VF,1,0,"mat-header-row",41)(66,BF,1,2,"mat-row",42),a(),P(),A(67,43),r(68,"mat-paginator",44,1),I("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),P(),a()}i&2&&(d("ngIf",(t.requestLinkPropertyId==null?null:t.requestLinkPropertyId.length)>0),o(),d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(11),K("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),d("checked",t.optionsSearch.data.show),o(),y("",h(17,28,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",h(21,30,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(),d("ngIf",t.requestLinkPropertyId&&t.requestLinkPropertyId.length>0),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),y(" ",h(34,32,"ACTION.Property_to_be_traded")," "),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(26),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(34,mF)))},dependencies:[N,it,Je,Ee,Dt,Lt,Mt,yt,bt,Tt,nt,rt,dt,at,ot,ct,lt,st,pt,mt,At,Pt,Rt,kt,vs,B,p0],encapsulation:2});var qd=Gs;function FF(n,l){if(n&1&&(r(0,"div"),c(1),g(2,"translate"),g(3,"currency"),a()),n&2){let e=p(2);o(),ee(" ",h(2,2,"TITLE.FEETAX"),": ",di(3,4,e.dataModelCalculateResult.item==null?null:e.dataModelCalculateResult.item.feeTax," "+(e.dataModelCalculateResult.item==null?null:e.dataModelCalculateResult.item.currency)+" ")," ")}}function OF(n,l){if(n&1&&(r(0,"div"),c(1),g(2,"translate"),g(3,"currency"),a()),n&2){let e=p(2);o(),ee(" ",h(2,2,"TITLE.Amount_pure"),": ",di(3,4,e.dataModelCalculateResult.item==null?null:e.dataModelCalculateResult.item.amountPure," "+(e.dataModelCalculateResult.item==null?null:e.dataModelCalculateResult.item.currency)+" ")," ")}}function NF(n,l){if(n&1&&(r(0,"div"),c(1),g(2,"translate"),g(3,"currency"),a()),n&2){let e=p(2);o(),ee(" ",h(2,2,"TITLE.Fee_transport"),": ",di(3,4,e.dataModelCalculateResult.item==null?null:e.dataModelCalculateResult.item.feeTransport," "+(e.dataModelCalculateResult.item==null?null:e.dataModelCalculateResult.item.currency)+" ")," ")}}function HF(n,l){if(n&1&&(r(0,"div"),c(1),g(2,"translate"),g(3,"currency"),a()),n&2){let e=p(2);o(),ee(" ",h(2,2,"TITLE.Final_Amount"),": ",di(3,4,e.dataModelCalculateResult.item==null?null:e.dataModelCalculateResult.item.amount," "+(e.dataModelCalculateResult.item==null?null:e.dataModelCalculateResult.item.currency)+" ")," ")}}function WF(n,l){if(n&1&&(r(0,"div"),C(1,FF,4,7,"div",9),S(2,"br"),C(3,OF,4,7,"div",9),S(4,"br"),C(5,NF,4,7,"div",9),S(6,"hr"),C(7,HF,4,7,"div",9),a()),n&2){let e=p();o(),d("ngIf",(e.dataModelCalculateResult.item==null?null:e.dataModelCalculateResult.item.feeTax)>0),o(2),d("ngIf",(e.dataModelCalculateResult.item==null?null:e.dataModelCalculateResult.item.amountPure)>0),o(2),d("ngIf",(e.dataModelCalculateResult.item==null?null:e.dataModelCalculateResult.item.feeTransport)>0),o(2),d("ngIf",(e.dataModelCalculateResult.item==null?null:e.dataModelCalculateResult.item.amount)>0)}}function GF(n,l){if(n&1){let e=E();r(0,"div",14)(1,"button",15),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",16),c(3),g(4,"translate"),a(),r(5,"button",17),I("click",function(){u(e);let t=p();return f(t.onActionSelectBankPayment())}),S(6,"i",18),c(7),g(8,"translate"),a()()}if(n&2){let e=p();o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.viewCalculate),o(2),y(" ",h(8,5,"ACTION.PAYMENT")," ")}}var Us=class Us{constructor(l,e,i,t,s,_,m,k,z){this.data=l;this.document=e;this.dialogRef=i;this.estateAdsTypeService=t;this.estatePropertyAdsService=s;this.cmsToastrService=_;this.translate=m;this.cdr=k;this.publicHelper=z;this.requestLinkPropertyId="";this.requestLinkAdsTypeId="";this.requestBankPrivateMaster=!1;this.constructorInfoAreaId=this.constructor.name;this.viewCalculate=!1;this.dataModelResult=new G;this.dataModelCalculateResult=new G;this.dataModelPaymentResult=new G;this.dataModelCalculate=new Am;this.dataModelPayment=new Pm;this.formInfo=new ue;if(this.publicHelper.processService.cdr=this.cdr,l&&(l.linkPropertyId&&l.linkPropertyId.length>0&&(this.requestLinkPropertyId=l.linkPropertyId),l.linkAdsTypeId&&l.linkAdsTypeId.length>0&&(this.requestLinkAdsTypeId=l.linkAdsTypeId),l.bankPrivateMaster&&l.bankPrivateMaster===!0&&(this.requestBankPrivateMaster=!0)),this.requestLinkPropertyId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}if(this.requestLinkAdsTypeId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.dataModelCalculate.linkAdsTypeId=this.requestLinkAdsTypeId,this.dataModelCalculate.linkPropertyId=this.requestLinkPropertyId,this.dataModelPayment.linkAdsTypeId=this.requestLinkAdsTypeId,this.dataModelPayment.linkPropertyId=this.requestLinkPropertyId,this.dataModelPayment.lastUrlAddressInUse=this.document.location.href}ngOnInit(){this.translate.get("TITLE.Select_Payment_Gateway").subscribe(l=>{this.formInfo.formTitle=l})}DataCalculate(){this.viewCalculate=!1;let l=this.constructor.name+"ServiceOrderCalculate";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.estatePropertyAdsService.ServiceOrderCalculate(this.dataModelCalculate).subscribe({next:e=>{e.isSuccess?(this.dataModelCalculateResult=e,this.viewCalculate=!0):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}DataPayment(){let l=this.constructor.name+"ServiceOrderPayment";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.estatePropertyAdsService.ServiceOrderPayment(this.dataModelPayment).subscribe({next:e=>{e.isSuccess?(this.dataModelPaymentResult=e,this.translate.get("MESSAGE.Transferring_to_the_payment_gateway").subscribe(i=>{this.cmsToastrService.typeSuccessMessage(i)}),localStorage.setItem(r0,e.item.transactionId.toString()),this.document.location.href=this.dataModelPaymentResult.item.urlToPay):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelectCalculate(l){this.dataModelCalculate.bankPaymentPrivateId=l.id,this.dataModelPayment.bankPaymentPrivateId=l.id,this.DataCalculate()}onActionSelectBankPayment(){this.DataPayment()}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Us.\u0275fac=function(e){return new(e||Us)(v(Te),v(am),v(be),v(eo),v(rr),v(V),v(L),v(O),v(F))},Us.\u0275cmp=D({type:Us,selectors:[["app-estate-property-ads-salepayment"]],standalone:!1,decls:18,vars:7,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"menu-title"],[1,"color-highlight"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionChange","optionMasterItem"],[4,"ngIf"],[2,"text-align","left"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"click","disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){e&1&&(r(0,"div",0),S(1,"app-progress-spinner",1),r(2,"div",2)(3,"p",3),c(4),a(),r(5,"a",4),I("click",function(){return i.onFormCancel()}),S(6,"i",5),a(),S(7,"hr"),a(),r(8,"div",6)(9,"p",7),c(10),a(),r(11,"mat-dialog-content")(12,"app-cms-bankpayment-grid",8),I("optionChange",function(s){return i.onActionSelectCalculate(s)}),a(),C(13,WF,8,4,"div",9),a(),r(14,"mat-dialog-actions",10)(15,"div",11),S(16,"app-cms-form-result-message",12),a(),C(17,GF,9,7,"div",13),a()()()),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(3),M(i.formInfo.formTitle),o(6),y(" ",i.formInfo.formDescription," "),o(2),d("optionMasterItem",i.requestBankPrivateMaster),o(),d("ngIf",i.viewCalculate),o(3),d("formInfo",i.formInfo),o(),d("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[N,Jm,Zm,U,ge,h0,ec,B],styles:[".example-card[_ngcontent-%COMP%]{max-width:200px}"]});var gp=Us;function UF(n,l){if(n&1){let e=E();r(0,"div",7)(1,"mat-card",8)(2,"mat-card-header")(3,"mat-card-title"),c(4),a(),r(5,"mat-card-subtitle"),c(6),g(7,"currency"),a()(),S(8,"img",9),r(9,"mat-card-content")(10,"p"),c(11),a()(),r(12,"mat-card-actions")(13,"button",10),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionButtonBuy(t))}),c(14),g(15,"translate"),a()()()()}if(n&2){let e=l.$implicit,i=p();o(4),M(e.title),o(2),M(di(7,6,e.salePrice," "+i.currency+" ")),o(2),d("src",x(e.linkMainImageIdSrc),j),o(3),y(" ",e.description," "),o(3),y(" ",h(15,9,"ACTION.BUY")," ")}}var js=class js{constructor(l,e,i,t,s,_,m,k,z,Se,qe,Ue,ft){this.estateAdsTypeService=l;this.publicHelper=e;this.cmsToastrService=i;this.coreEnumService=t;this.coreSiteService=s;this.cmsStoreService=_;this.tokenHelper=m;this.router=k;this.themeService=z;this.translate=Se;this.cdr=qe;this.activatedRoute=Ue;this.dialog=ft;this.requestLinkPropertyId="";this.constructorInfoAreaId=this.constructor.name;this.showBuy=!1;this.flag=!1;this.tableContentSelected=[];this.dataModelResult=new G;this.tokenInfo=new It;this.tableRowSelected=new Rn;this.categoryModelSelected=new Rn;this.dataModelEnumCmsModuleSaleItemTypeResult=new G;this.tabledisplayedColumns=["LinkModuleId","EnumCmsModuleSaleItemType","FromDate","ExpireDate"];this.unsubscribe=[];this.currency="";this.publicHelper.processService.cdr=this.cdr,this.requestLinkPropertyId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyId")}ngOnInit(){if(!this.requestLinkPropertyId||this.requestLinkPropertyId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.router.navigate(["/estate/property"]);return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>ae(this,null,function*(){this.tokenInfo=i,this.DataGetAll()}))),this.DataGetCurrency();let l=+localStorage.getItem("TransactionId");if(l>0){var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(g0,{panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&localStorage.removeItem("TransactionId")})}}DataGetCurrency(){this.coreSiteService.ServiceGetCurrencyMaster().subscribe({next:l=>{l.isSuccess?this.currency=l.item:this.cmsToastrService.typeErrorMessage(l.errorMessage)},error:l=>{this.cmsToastrService.typeError(l)}})}getEnumCmsModuleSaleItemType(){this.coreEnumService.ServiceCmsModuleSaleItemTypeEnum().subscribe({next:l=>{this.dataModelEnumCmsModuleSaleItemTypeResult=l}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetAll(){this.tableRowSelected=new Rn;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(l,i,this.constructorInfoAreaId)}),this.showBuy=!1;let e=new pe;this.estateAdsTypeService.ServiceGetAllSale(e).subscribe({next:i=>{i.isSuccess?(this.showBuy=!0,this.dataModelResult=i):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(l)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(l,!1)}})}onActionButtonBuy(l){this.tableRowSelected=l;var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(gp,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{linkPropertyId:this.requestLinkPropertyId,linkAdsTypeId:l.id,bankPrivateMaster:l.paymentForMainSite}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionBackToParent(){this.router.navigate(["/estate/property-ads/LinkPropertyId/"+this.requestLinkPropertyId])}};js.\u0275fac=function(e){return new(e||js)(v(eo),v(F),v(V),v(X),v(Sm),v(J),v(Z),v(Ze),v(Vt),v(L),v(O),v(Kt),v(Ae))},js.\u0275cmp=D({type:js,selectors:[["app-estate-property-ads-salelist"]],standalone:!1,decls:16,vars:12,consts:[[3,"svg"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],[1,"row"],["Class","col-xl-12"],[3,"optionsInfoAreaId"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"example-card"],["mat-card-image","",3,"src"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"click"]],template:function(e,i){e&1&&(r(0,"app-cms-html-notice",0)(1,"h4"),c(2),g(3,"translate"),a(),c(4),g(5,"translate"),S(6,"br"),r(7,"button",1),I("click",function(){return i.onActionBackToParent()}),S(8,"i",2),c(9),g(10,"translate"),a()(),r(11,"div",3)(12,"div",4),S(13,"app-progress-spinner",5),r(14,"div",3),C(15,UF,16,11,"div",6),a()()()),e&2&&(d("svg","assets/media/svg/icons/Shopping/Sale2.svg"),o(2),M(h(3,6,"MESSAGE.ADS")),o(2),y(" ",h(5,8,"MESSAGE.Make_purchases_according_to_your_needs_and_duration")," "),o(5),y(" ",h(10,10,"ACTION.BACK")," "),o(4),d("optionsInfoAreaId",i.constructorInfoAreaId),o(2),d("ngForOf",i.dataModelResult.listItems))},dependencies:[He,Um,zm,qm,Ym,Km,Qm,jm,U,d0,ec,B],styles:[".example-card[_ngcontent-%COMP%]{max-width:200px}"]});var hp=js;var iu=vo(Wo());var jF=["vform"];function qF(n,l){if(n&1){let e=E();r(0,"app-cms-enum-record-status-selector",63),w("modelChange",function(t){u(e);let s=p();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();b("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function QF(n,l){if(n&1){let e=E();r(0,"app-cms-enum-record-admin-status-selector",63),w("modelChange",function(t){u(e);let s=p();return T(s.dataModel.mainAdminRecordStatus,t)||(s.dataModel.mainAdminRecordStatus=t),f(t)}),a()}if(n&2){let e=p();b("model",e.dataModel.mainAdminRecordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function zF(n,l){n&1&&S(0,"i",66)}function YF(n,l){n&1&&S(0,"i",67)}function KF(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),o(2),M(h(4,2,"MESSAGE.required"))}}function ZF(n,l){if(n&1){let e=E();r(0,"div",25)(1,"label",64),c(2),a(),r(3,"input",65,10),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),a(),C(5,zF,1,0,"i",32)(6,YF,1,0,"i",33),r(7,"em"),c(8),a(),C(9,KF,5,4,"mat-error",34),a()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle))("disabled",x(!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField))),b("ngModel",i.dataModel.title),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function JF(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),y(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," "),o(2),M(h(4,2,"MESSAGE.required"))}}function XF(n,l){if(n&1){let e=E();r(0,"div",25)(1,"label",68),c(2),a(),r(3,"textarea",69,11),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),a(),r(5,"em"),c(6),a(),C(7,JF,5,4,"mat-error",34),a()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle))("disabled",x(!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessAddField))),b("ngModel",i.dataModel.description),o(3),y("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function $F(n,l){if(n&1){let e=E();r(0,"div",25)(1,"label",70),c(2),g(3,"translate"),a(),r(4,"textarea",71,12),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),a(),r(6,"em"),c(7),a()()}if(n&2){let e=R(5),i=p();o(2),M(h(3,5,"TITLE.Description_Hidden")),o(2),d("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",i.dataModel.descriptionHidden),o(3),y("",e.value.length," / 500")}}function e8(n,l){n&1&&S(0,"i",66)}function t8(n,l){n&1&&S(0,"i",67)}function i8(n,l){n&1&&(r(0,"mat-error"),c(1," Address is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function n8(n,l){if(n&1){let e=E();r(0,"div",72)(1,"button",73),I("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),c(2),g(3,"translate"),a(),r(4,"button",74),c(5),g(6,"translate"),a()()}if(n&2){p();let e=R(10);o(2),y(" ",h(3,3,"ACTION.BACK")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",h(6,5,"ACTION.NEXT")," ")}}function o8(n,l){if(n&1){let e=E();r(0,"div",25)(1,"label",75),c(2),g(3,"translate"),a(),r(4,"input",76,13),g(6,"translate"),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.source,t)||(s.dataModel.source=t),f(t)}),a(),r(7,"em"),c(8),a()()}if(n&2){let e=R(5),i=p();o(2),M(h(3,7,"TITLE.Source_page_address")),o(2),d("placeholder",x(h(6,9,"TITLE.Content_reference_website_link")))("disabled",x(!(i.fieldsInfo.source!=null&&i.fieldsInfo.source.accessAddField))),b("ngModel",i.dataModel.source),o(4),y("",e.value.length," / 500")}}function r8(n,l){if(n&1){let e=E();r(0,"mat-chip",77),I("removed",function(){let t=u(e).$implicit,s=p();return f(s.removeTag(t))}),c(1),r(2,"button",78)(3,"mat-icon"),c(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),y(" ",e," ")}}function a8(n,l){if(n&1&&(r(0,"div",72)(1,"button",79),c(2),g(3,"translate"),a(),r(4,"button",74),c(5),g(6,"translate"),a()()),n&2){p();let e=R(10);o(2),y(" ",h(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",h(6,5,"ACTION.NEXT")," ")}}function l8(n,l){if(n&1&&(S(0,"img",80),g(1,"cmsthumbnail")),n&2){let e=p();d("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function s8(n,l){n&1&&(r(0,"p"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.List_of_attached_photos")," "))}function d8(n,l){if(n&1&&(r(0,"audio",81),S(1,"source",82),g(2,"cmsthumbnail"),c(3," Your browser does not support the audio tag. "),a()),n&2){let e=p();o(),d("src",x(h(2,2,e.dataModel.linkFilePodcastIdSrc)),j)}}function c8(n,l){if(n&1&&(r(0,"video",81),S(1,"source",83),c(2," Your browser does not support the video tag. "),a()),n&2){let e=p();o(),d("src",x(e.dataModel.linkFileMovieIdSrc),j)}}function p8(n,l){if(n&1&&(r(0,"div",72)(1,"button",79),c(2),g(3,"translate"),a(),r(4,"button",74),c(5),g(6,"translate"),a()()),n&2){p();let e=R(10);o(2),y(" ",h(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",h(6,5,"ACTION.NEXT")," ")}}function m8(n,l){if(n&1&&(r(0,"div",72)(1,"button",79),c(2),g(3,"translate"),a(),r(4,"button",84),c(5),g(6,"translate"),a()()),n&2){p();let e=R(10);o(2),y(" ",h(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",h(6,5,"ACTION.SAVE")," ")}}function u8(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function f8(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function _8(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}function g8(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}var qs=class qs extends Bt{constructor(e,i,t,s,_,m,k){super(t,new Nn,i,k);this.coreEnumService=e;this.publicHelper=i;this.contentService=t;this.cmsToastrService=s;this.router=_;this.cdr=m;this.translate=k;this.constructorInfoAreaId=this.constructor.name;this.dataModel=new Nn;this.dataModelResult=new G;this.dataFileModelImgaes=new Map;this.dataFileModelFiles=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypePodcast=["mp3"];this.selectFileTypeMovie=["mp4","webm"];this.formInfo=new ue;this.fileManagerOpenForm=!1;this.fileManagerOpenFormPodcast=!1;this.fileManagerOpenFormMovie=!1;this.fieldsInfo=new Map;this.keywordDataModel=[];this.tagDataModel=[];this.similarDataModel=new Array;this.otherInfoTabledisplayedColumns=["title","TypeId","Action"];this.similarTabledisplayedColumns=["linkMainImageIdSrc","id","recordStatus","title","Action"];this.similarTabledataSource=new mi;this.appLanguage="fa";this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Ni;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.DataGetAccess()}onActionTagChange(e){this.tagDataModel=e}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionFileSelectedLinkFilePodcastId(e){this.dataModel.linkFilePodcastId=e.id,this.dataModel.linkFilePodcastIdSrc=e.downloadLinksrc}onActionFileSelectedLinkFileMovieId(e){this.dataModel.linkFileMovieId=e.id,this.dataModel.linkFileMovieIdSrc=e.downloadLinksrc}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapModel.on("click",i=>{let t=i.latlng.lat,s=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&s===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=iu.marker([t,s]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=s}))}receiveZoom(e){}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}if(this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let e=[];this.keywordDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.keyword=e.join(","))}this.DataAddContent()}DataAddContent(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";if(this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}if(this.dataFileModelImgaes){let i=Array.from(this.dataFileModelImgaes.keys());i&&i.length>0&&(this.dataModel.linkExtraImageIds=i.join(","))}this.contentService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessAdd(),setTimeout(()=>this.router.navigate(["/estate/property-company/"]),1e3)):this.cmsToastrService.typeErrorAdd(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorAdd(i),this.publicHelper.processService.processStop(e)}})}onActionContentSimilarRemoveFromLIst(e){if(!e||e.id.length<=0||!this.similarDataModel||this.similarDataModel.length===0)return;let i=new Array;this.similarDataModel.forEach(t=>{t.id!==e.id&&i.push(t)}),this.similarDataModel=i,this.similarTabledataSource.data=this.similarDataModel}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/estate/property-company/"])}onActionSelectorLocation(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=e.id}onActionSelectorLocationWorkArea(e){this.dataModel.linkLocationIds=e}addTag(e){let i=(e.value||"").trim();i&&this.keywordDataModel.push(i),e.chipInput.clear()}removeTag(e){let i=this.keywordDataModel.indexOf(e);i>=0&&this.keywordDataModel.splice(i,1)}};qs.\u0275fac=function(i){return new(i||qs)(v(X),v(F),v(vn),v(V),v(Ze),v(O),v(L))},qs.\u0275cmp=D({type:qs,selectors:[["app-estate-property-company-add"]],viewQuery:function(i,t){if(i&1&&te(jF,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:135,vars:159,consts:[["vform","ngForm"],["stepper",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["chipList",""],["tagInput",""],["LinkMainImageId",""],["LinkFilePodcastId",""],["LinkFileMovieId",""],["Title",""],["Description",""],["DescriptionHidden",""],["Source",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.mobileNumber","type","text","minlength","3","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","required","","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"pb-5"],["id","main","name","dataModel.body",3,"ngModelChange","placeholder","config","ngModel"],["class","ntk-button-row",4,"ngIf"],["state","seo",3,"label"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView","optionFileType"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["controls","",4,"ngIf"],["matInput","","type","text","name","dataModel.linkFilePodcastId","id","dataModel.linkFilePodcastId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],["matInput","","type","text","name","dataModel.linkFileMovieId","id","dataModel.linkFileMovieId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"dataModelChange","dataModel"],[3,"dataModelChange","dataModel","dataImageModel"],["state","loaction",3,"label"],["id","main-map",3,"map$","zoom$","optonCenter"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"ntk-button-row"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["for","dataModel.source",1,"color-highlight"],["matInput","","type","text","name","dataModel.source","type","text","dir","ltr","minlength","3","maxlength","500","id","dataModel.source",1,"form-control","validate-name","input-ltr",2,"text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["controls",""],["type","audio/mp3",3,"src"],["type","video/mp4",3,"src"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=E();r(0,"div",14),S(1,"app-progress-spinner",15),r(2,"div",16)(3,"p",17),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",18),r(9,"form",19,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"mat-vertical-stepper",20,1),I("selectionChange",function(m){u(s);let k=R(12);return f(t.onStepClick(m,k))}),r(13,"mat-step",21),g(14,"translate"),C(15,qF,1,5,"app-cms-enum-record-status-selector",22)(16,QF,1,5,"app-cms-enum-record-admin-status-selector",22)(17,ZF,10,10,"div",23)(18,XF,8,8,"div",23)(19,$F,8,7,"div",23),r(20,"app-cms-location-selector",24),g(21,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorLocation(m))}),a(),c(22),g(23,"translate"),r(24,"app-cms-location-autocomplete",24),g(25,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorLocationWorkArea(m))}),a(),r(26,"div",25)(27,"label",26),c(28),a(),r(29,"input",27,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.phoneNumber,m)||(t.dataModel.phoneNumber=m),f(m)}),a(),r(31,"em"),c(32),a()(),r(33,"div",25)(34,"label",28),c(35),a(),r(36,"input",29,3),w("ngModelChange",function(m){return u(s),T(t.dataModel.mobileNumber,m)||(t.dataModel.mobileNumber=m),f(m)}),a(),r(38,"em"),c(39),a()(),r(40,"div",25)(41,"label",30),c(42),a(),r(43,"textarea",31,4),w("ngModelChange",function(m){return u(s),T(t.dataModel.address,m)||(t.dataModel.address=m),f(m)}),a(),r(45,"em"),c(46),a(),C(47,e8,1,0,"i",32)(48,t8,1,0,"i",33)(49,i8,5,3,"mat-error",34),a(),S(50,"hr",35),r(51,"label"),c(52),a(),r(53,"angular-editor",36),g(54,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.body,m)||(t.dataModel.body=m),f(m)}),a(),C(55,n8,7,7,"div",37),a(),r(56,"mat-step",38),g(57,"translate"),r(58,"p"),c(59),g(60,"translate"),a(),C(61,o8,9,11,"div",23),r(62,"mat-form-field",39)(63,"mat-label"),c(64),g(65,"translate"),a(),r(66,"mat-chip-grid",40,5),C(68,r8,5,1,"mat-chip",41),r(69,"input",42,6),g(71,"translate"),I("matChipInputTokenEnd",function(m){return u(s),f(t.addTag(m))}),a()()(),C(72,a8,7,7,"div",37),a(),r(73,"mat-step",43),g(74,"translate"),r(75,"p"),c(76),g(77,"translate"),a(),r(78,"div",44)(79,"a",45),g(80,"cmsthumbnail"),C(81,l8,2,4,"img",46),a()(),r(82,"div",25)(83,"label",47),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(84),g(85,"translate"),a(),r(86,"input",48,7),g(88,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(89,"cms-file-manager",49),I("itemSelected",function(m){return u(s),f(t.onActionFileSelectedLinkMainImageId(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),a()(),S(90,"hr"),C(91,s8,3,3,"p",34),r(92,"app-cms-files-selector",50),w("dataFileModelChange",function(m){return u(s),T(t.dataFileModelImgaes,m)||(t.dataFileModelImgaes=m),f(m)}),a(),S(93,"hr"),r(94,"div")(95,"p"),c(96),g(97,"translate"),a(),r(98,"app-cms-files-selector",51),w("dataFileModelChange",function(m){return u(s),T(t.dataFileModelFiles,m)||(t.dataFileModelFiles=m),f(m)}),a(),S(99,"br"),a(),r(100,"div",44),C(101,d8,4,4,"audio",52),a(),r(102,"div",25)(103,"input",53,8),g(105,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkFilePodcastId,m)||(t.dataModel.linkFilePodcastId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenFormPodcast=!0)}),a(),r(106,"cms-file-manager",49),I("itemSelected",function(m){return u(s),f(t.onActionFileSelectedLinkFilePodcastId(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenFormPodcast,m)||(t.fileManagerOpenFormPodcast=m),f(m)}),a()(),r(107,"div",44),C(108,c8,3,2,"video",52),a(),r(109,"div",25)(110,"input",54,9),g(112,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkFileMovieId,m)||(t.dataModel.linkFileMovieId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenFormMovie=!0)}),a(),r(113,"cms-file-manager",49),I("itemSelected",function(m){return u(s),f(t.onActionFileSelectedLinkFileMovieId(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenFormMovie,m)||(t.fileManagerOpenFormMovie=m),f(m)}),a()(),r(114,"h3"),c(115),g(116,"translate"),a(),r(117,"app-cms-360-image-list",55),w("dataModelChange",function(m){return u(s),T(t.dataModel.file360Views,m)||(t.dataModel.file360Views=m),f(m)}),a(),S(118,"br"),r(119,"h3"),c(120),g(121,"translate"),a(),r(122,"app-cms-360-tour-list",56),w("dataModelChange",function(m){return u(s),T(t.dataModel.file360Tour,m)||(t.dataModel.file360Tour=m),f(m)}),a(),C(123,p8,7,7,"div",37),a(),r(124,"mat-step",57),g(125,"translate"),r(126,"p"),c(127),g(128,"translate"),a(),r(129,"app-cms-map",58),I("map$",function(m){return u(s),f(t.receiveMap(m))})("zoom$",function(m){return u(s),f(t.receiveZoom(m))}),a(),C(130,m8,7,7,"div",37),a(),C(131,u8,2,0,"ng-template",59)(132,f8,2,0,"ng-template",60)(133,_8,2,0,"ng-template",61)(134,g8,2,0,"ng-template",62),a()()()()}if(i&2){let s=R(30),_=R(37),m=R(44),k=R(67);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,115,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(5),d("label",x(h(14,117,"TITLE.REQUIRED_INFORMATION"))),o(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.mainAdminRecordStatus==null?null:t.fieldsInfo.mainAdminRecordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),d("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),o(),d("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessAddField))("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",h(21,119,"TITLE.Region")),o(2),y(" ",h(23,121,"TITLE.Geographical_Areas")," : "),o(2),d("optionDisabled",!(t.fieldsInfo.linkLocationIds!=null&&t.fieldsInfo.linkLocationIds.accessAddField))("optionSelectForce",t.dataModel.linkLocationIds)("optionPlaceholder",h(25,123,"TITLE.Region")),o(4),M(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle)),b("ngModel",t.dataModel.phoneNumber),d("disabled",!(t.fieldsInfo.phoneNumber!=null&&t.fieldsInfo.phoneNumber.accessAddField)),o(3),y("",s.value.length," / 64"),o(3),M(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle)),b("ngModel",t.dataModel.mobileNumber),d("disabled",!(t.fieldsInfo.mobileNumber!=null&&t.fieldsInfo.mobileNumber.accessAddField)),o(3),y("",_.value.length," / 64"),o(3),M(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle)),b("ngModel",t.dataModel.address),d("disabled",!(t.fieldsInfo.address!=null&&t.fieldsInfo.address.accessAddField)),o(3),y("",m.value.length," / 500"),o(),d("ngIf",!m.value),o(),d("ngIf",m.value),o(),d("ngIf",m.errors==null?null:m.errors.required),o(3),y(" ",t.fieldsInfo.body==null?null:t.fieldsInfo.body.fieldTitle," "),o(),d("placeholder",h(54,125,"TITLE.Enter_Text"))("config",t.publicHelper.editorConfig),b("ngModel",t.dataModel.body),o(2),d("ngIf",t.formInfo.submitButtonEnabled),o(),d("label",x(h(57,127,"TITLE.Search_Engines"))),o(3),y(" ",h(60,129,"TITLE.This_section_helps_search_engines_better_index_content")," "),o(2),d("ngIf",t.fieldsInfo.source==null?null:t.fieldsInfo.source.accessWatchField),o(3),M(h(65,131,"TITLE.Choose_keywords_relative_to_the_content")),o(4),d("ngForOf",t.keywordDataModel),o(),d("placeholder",h(71,133,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",k)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(3),d("ngIf",t.formInfo.submitButtonEnabled),o(),d("label",x(h(74,135,"TITLE.ATTACH_FILES"))),o(3),M(h(77,137,"TITLE.CONTENT_ATTACH_FILES")),o(3),d("href",x(h(80,139,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(h(85,141,"TITLE.Original_Photo")),o(2),d("placeholder",x(h(88,143,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(2),d("ngIf",t.dataFileModelImgaes&&t.dataFileModelImgaes.size>0),o(),b("dataFileModel",t.dataFileModelImgaes),d("openDirectUploadView",!0)("optionFileType",t.selectFileTypeMainImage),o(4),M(h(97,145,"TITLE.List_of_attached_files")),o(2),b("dataFileModel",t.dataFileModelFiles),d("openDirectUploadView",!0),o(3),d("ngIf",(t.dataModel==null||t.dataModel.linkFilePodcastIdSrc==null?null:t.dataModel.linkFilePodcastIdSrc.length)>0),o(2),d("placeholder",x(h(105,147,"TITLE.Audio_File_ID"))),b("ngModel",t.dataModel.linkFilePodcastId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenFormPodcast),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypePodcast)("openFilemanagerButtonView",!1),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkFileMovieIdSrc==null?null:t.dataModel.linkFileMovieIdSrc.length)>0),o(2),d("placeholder",x(h(112,149,"TITLE.Video_File_ID"))),b("ngModel",t.dataModel.linkFileMovieId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenFormMovie),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMovie)("openFilemanagerButtonView",!1),o(2),M(h(116,151,"TITLE.image_360")),o(2),b("dataModel",t.dataModel.file360Views),o(3),M(h(121,153,"TITLE.virtual_tour")),o(2),b("dataModel",t.dataModel.file360Tour),d("dataImageModel",t.dataModel.file360Views),o(),d("ngIf",t.formInfo.submitButtonEnabled),o(),d("label",Ie("",h(125,155,"TITLE.Location")," ")),o(3),y(" ",h(128,157,"TITLE.Click_on_the_map_to_specify_the_location")," "),o(2),d("optonCenter",t.mapOptonCenter),o(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[He,N,ke,Y,q,we,de,De,Pe,me,Re,_i,Ri,ki,Di,Pi,yi,hi,xe,Ee,Q,nn,on,Mn,bn,tn,rn,Tn,ui,Jt,zn,Yn,Mi,U,ge,Sn,an,Uo,_t,B,Me],encapsulation:2});var yp=qs;var tm=vo(Wo());var h8=["vform"];function y8(n,l){if(n&1){let e=E();r(0,"app-cms-enum-record-status-selector",63),w("modelChange",function(t){u(e);let s=p();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();b("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function S8(n,l){if(n&1){let e=E();r(0,"app-cms-enum-record-admin-status-selector",63),w("modelChange",function(t){u(e);let s=p();return T(s.dataModel.mainAdminRecordStatus,t)||(s.dataModel.mainAdminRecordStatus=t),f(t)}),a()}if(n&2){let e=p();b("model",e.dataModel.mainAdminRecordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function C8(n,l){n&1&&S(0,"i",66)}function v8(n,l){n&1&&S(0,"i",67)}function I8(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),o(2),M(h(4,2,"MESSAGE.required"))}}function E8(n,l){if(n&1){let e=E();r(0,"div",25)(1,"label",64),c(2),a(),r(3,"input",65,10),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),a(),C(5,C8,1,0,"i",32)(6,v8,1,0,"i",33),r(7,"em"),c(8),a(),C(9,I8,5,4,"mat-error",34),a()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle))("disabled",x(!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField))),b("ngModel",i.dataModel.title),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function M8(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),y(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," "),o(2),M(h(4,2,"MESSAGE.required"))}}function b8(n,l){if(n&1){let e=E();r(0,"div",25)(1,"label",68),c(2),a(),r(3,"textarea",69,11),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),a(),r(5,"em"),c(6),a(),C(7,M8,5,4,"mat-error",34),a()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle))("disabled",x(!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessEditField))),b("ngModel",i.dataModel.description),o(3),y("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function T8(n,l){if(n&1){let e=E();r(0,"div",25)(1,"label",70),c(2),g(3,"translate"),a(),r(4,"textarea",71,12),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),a(),r(6,"em"),c(7),a()()}if(n&2){let e=R(5),i=p();o(2),M(h(3,7,"TITLE.Description_Hidden")),o(2),d("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle))("disabled",x(!(i.fieldsInfo.descriptionHidden!=null&&i.fieldsInfo.descriptionHidden.accessEditField))),b("ngModel",i.dataModel.descriptionHidden),o(3),y("",e.value.length," / 500")}}function w8(n,l){n&1&&S(0,"i",66)}function x8(n,l){n&1&&S(0,"i",67)}function A8(n,l){n&1&&(r(0,"mat-error"),c(1," Address is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function P8(n,l){if(n&1&&(r(0,"button",76),c(1),g(2,"translate"),a()),n&2){p(2);let e=R(10);d("disabled",!e.form.valid),o(),y(" ",h(2,2,"ACTION.SAVE")," ")}}function R8(n,l){if(n&1){let e=E();r(0,"div",72)(1,"button",73),I("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),c(2),g(3,"translate"),a(),r(4,"button",74),c(5),g(6,"translate"),a(),C(7,P8,3,4,"button",75),a()}if(n&2){let e=p(),i=R(10);o(2),y(" ",h(3,4,"ACTION.BACK")," "),o(2),d("disabled",!i.form.valid),o(),y(" ",h(6,6,"ACTION.NEXT")," "),o(2),d("ngIf",e.formInfo.submitButtonEnabled)}}function k8(n,l){if(n&1){let e=E();r(0,"div",25)(1,"label",77),c(2),a(),r(3,"input",78,13),g(5,"translate"),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.source,t)||(s.dataModel.source=t),f(t)}),a(),r(6,"em"),c(7),a()()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.source==null?null:i.fieldsInfo.source.fieldTitle),o(),d("placeholder",x(h(5,7,"TITLE.Content_reference_website_link")))("disabled",x(!(i.fieldsInfo.source!=null&&i.fieldsInfo.source.accessEditField))),b("ngModel",i.dataModel.source),o(4),y("",e.value.length," / 500")}}function D8(n,l){if(n&1){let e=E();r(0,"mat-chip",79),I("removed",function(){let t=u(e).$implicit,s=p();return f(s.removeTag(t))}),c(1),r(2,"button",80)(3,"mat-icon"),c(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),y(" ",e," ")}}function L8(n,l){if(n&1&&(r(0,"div",72)(1,"button",81),c(2),g(3,"translate"),a(),r(4,"button",74),c(5),g(6,"translate"),a()()),n&2){p();let e=R(10);o(2),y(" ",h(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",h(6,5,"ACTION.NEXT")," ")}}function V8(n,l){if(n&1&&(S(0,"img",82),g(1,"cmsthumbnail")),n&2){let e=p();d("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function B8(n,l){n&1&&(r(0,"p"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.List_of_attached_photos")," "))}function F8(n,l){if(n&1&&(r(0,"audio",83),S(1,"source",84),g(2,"cmsthumbnail"),c(3," Your browser does not support the audio tag. "),a()),n&2){let e=p();o(),d("src",x(h(2,2,e.dataModel.linkFilePodcastIdSrc)),j)}}function O8(n,l){if(n&1&&(r(0,"video",83),S(1,"source",85),c(2," Your browser does not support the video tag. "),a()),n&2){let e=p();o(),d("src",x(e.dataModel.linkFileMovieIdSrc),j)}}function N8(n,l){if(n&1&&(r(0,"div",72)(1,"button",81),c(2),g(3,"translate"),a(),r(4,"button",74),c(5),g(6,"translate"),a()()),n&2){p();let e=R(10);o(2),y(" ",h(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",h(6,5,"ACTION.NEXT")," ")}}function H8(n,l){if(n&1&&(r(0,"button",76),c(1),g(2,"translate"),a()),n&2){p(2);let e=R(10);d("disabled",!e.form.valid),o(),y(" ",h(2,2,"ACTION.SAVE")," ")}}function W8(n,l){if(n&1){let e=E();r(0,"div",72)(1,"button",73),I("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),c(2),g(3,"translate"),a(),r(4,"button",81),c(5),g(6,"translate"),a(),C(7,H8,3,4,"button",75),a()}if(n&2){let e=p();o(2),y(" ",h(3,3,"ACTION.BACK")," "),o(3),y(" ",h(6,5,"ACTION.BEFOR")," "),o(2),d("ngIf",e.formInfo.submitButtonEnabled)}}function G8(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function U8(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function j8(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}function q8(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}var Qs=class Qs extends Ut{constructor(e,i,t,s,_,m,k){super(t,new Nn,i,k);this.activatedRoute=e;this.publicHelper=i;this.contentService=t;this.cmsToastrService=s;this.router=_;this.cdr=m;this.translate=k;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModel=new Nn;this.dataModelResult=new Ht;this.dataContentCategoryModel=[];this.dataFileModelImgaes=new Map;this.dataFileModelFiles=new Map;this.similarDataModel=new Array;this.contentSimilarSelected=new Nn;this.otherInfoTabledisplayedColumns=["id","title","TypeId","Action"];this.similarTabledisplayedColumns=["linkMainImageIdSrc","id","recordStatus","title","Action"];this.similarTabledataSource=new mi;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypePodcast=["mp3"];this.selectFileTypeMovie=["mp4","webm"];this.formInfo=new ue;this.fileManagerOpenForm=!1;this.fileManagerOpenFormPodcast=!1;this.fileManagerOpenFormMovie=!1;this.keywordDataModel=[];this.appLanguage="fa";this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Ni;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.requestId=this.activatedRoute.snapshot.paramMap.get("id")}ngOnInit(){if(this.requestId?.length===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.DataGetOne()}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionFileSelectedLinkFilePodcastId(e){this.dataModel.linkFilePodcastId=e.id,this.dataModel.linkFilePodcastIdSrc=e.downloadLinksrc}onActionFileSelectedLinkFileMovieId(e){this.dataModel.linkFileMovieId=e.id,this.dataModel.linkFileMovieIdSrc=e.downloadLinksrc}onFormSubmit(){if(this.requestId?.length<=0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}if(this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let e=[];this.keywordDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.keyword=e.join(","))}this.DataEditContent()}DataGetOne(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contentService.setAccessLoad(),this.contentService.setAccessDataType(Ne.Editor),this.contentService.ServiceGetOneById(this.requestId).subscribe({next:i=>{if(this.dataAccessModel=i.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.publicHelper.processService.processStop(e),this.dataModelResult=i,this.formInfo.submitButtonEnabled=!0,i.isSuccess){this.dataModel=i.item;let t=this.dataModel.geolocationlatitude,s=this.dataModel.geolocationlongitude;t>0&&s>0&&(this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:t,lon:s}),this.receiveMap()),this.dataModel.keyword=this.dataModel.keyword+"",this.keywordDataModel=this.dataModel.keyword.split(","),this.dataModel.linkFileIds&&this.dataModel.linkFileIds.length>0&&this.dataModel.linkFileIds.split(",").forEach((_,m)=>{let k="";this.dataModel.linkFileIdsSrc.length>=this.dataModel.linkFileIdsSrc.length&&(k=this.dataModel.linkFileIdsSrc[m]),this.dataFileModelFiles.set(+_,k)}),this.dataModel.linkExtraImageIdsSrc&&this.dataModel.linkExtraImageIdsSrc.length>0&&this.dataModel.linkExtraImageIds.split(",").forEach((_,m)=>{let k="";this.dataModel.linkExtraImageIdsSrc.length>=this.dataModel.linkExtraImageIdsSrc.length&&(k=this.dataModel.linkExtraImageIdsSrc[m]),this.dataFileModelImgaes.set(+_,k)})}else this.cmsToastrService.typeErrorGetOne(i.errorMessage);this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetOne(i),this.publicHelper.processService.processStop(e,!1)}})}DataSimilarGetAll(e){if(!e||e.length===0)return;this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_other_information_from_the_server").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_other_information_from_the_server").subscribe(s=>{this.publicHelper.processService.processStart(i,s,this.constructorInfoAreaId)});let t=new Pa;e.forEach(s=>{if(s>0){let _=new H;_.propertyName="id",_.value=s,_.clauseType=Be.Or,t.filters.push(_)}}),this.contentService.ServiceGetAll(t).subscribe({next:s=>{this.formInfo.submitButtonEnabled=!0,s.isSuccess?(this.similarDataModel=s.listItems,this.similarTabledataSource.data=s.listItems):this.cmsToastrService.typeErrorGetAll(s.errorMessage),this.publicHelper.processService.processStop(i)},error:s=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetAll(s),this.publicHelper.processService.processStop(i)}})}DataEditContent(){if(this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="",this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}if(this.dataFileModelImgaes){let i=Array.from(this.dataFileModelImgaes.keys());i&&i.length>0&&(this.dataModel.linkExtraImageIds=i.join(","))}let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contentService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/estate/property-company"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorEdit(i),this.publicHelper.processService.processStop(e)}})}onActionTagChange(e){this.tagIdsData=e}onActionContentSimilarSelect(e){!e||e.id.length<=0||(this.contentSimilarSelected=e)}onActionContentSimilarAddToLIst(){if(!(!this.contentSimilarSelected||this.contentSimilarSelected.id.length<=0)){if(this.similarDataModel.find(e=>e.id===this.contentSimilarSelected.id)){this.cmsToastrService.typeErrorAddDuplicate();return}this.similarDataModel.push(this.contentSimilarSelected),this.similarTabledataSource.data=this.similarDataModel}}onActionContentSimilarRemoveFromLIst(e){if(!e||e.id.length<=0||!this.similarDataModel||this.similarDataModel.length===0)return;let i=new Array;this.similarDataModel.forEach(t=>{t.id!==e.id&&i.push(t)}),this.similarDataModel=i,this.similarTabledataSource.data=this.similarDataModel}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/estate/property-company/"])}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(i=>{this.mapMarker=tm.marker([i.lat,i.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",i=>{let t=i.latlng.lat,s=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&s===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=tm.marker([t,s]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=s}))}receiveZoom(e){}onActionSelectorLocation(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=e.id}onActionSelectorLocationWorkArea(e){this.dataModel.linkLocationIds=e}addTag(e){let i=(e.value||"").trim();i&&this.keywordDataModel.push(i),e.chipInput.clear()}removeTag(e){let i=this.keywordDataModel.indexOf(e);i>=0&&this.keywordDataModel.splice(i,1)}};Qs.\u0275fac=function(i){return new(i||Qs)(v(Kt),v(F),v(vn),v(V),v(Ze),v(O),v(L))},Qs.\u0275cmp=D({type:Qs,selectors:[["app-estate-property-company-edit"]],viewQuery:function(i,t){if(i&1&&te(h8,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:133,vars:159,consts:[["vform","ngForm"],["stepper",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["chipList",""],["tagInput",""],["LinkMainImageId",""],["LinkFilePodcastId",""],["LinkFileMovieId",""],["Title",""],["Description",""],["DescriptionHidden",""],["Source",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.mobileNumber","type","text","minlength","0","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","required","","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"pb-5"],["id","main","name","dataModel.body",3,"ngModelChange","placeholder","config","ngModel"],["class","ntk-button-row",4,"ngIf"],["state","seo",3,"label"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView","optionFileType"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["controls","",4,"ngIf"],["matInput","","type","text","name","dataModel.linkFilePodcastId","id","dataModel.linkFilePodcastId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],["matInput","","type","text","name","dataModel.linkFileMovieId","id","dataModel.linkFileMovieId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"dataModelChange","dataModel"],[3,"dataModelChange","dataModel","dataImageModel"],["state","loaction",3,"label"],["id","main-map",3,"map$","zoom$","optonCenter"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"ntk-button-row"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],["for","dataModel.source",1,"color-highlight"],["matInput","","type","text","name","dataModel.source","type","text","dir","ltr","minlength","3","maxlength","500","id","dataModel.source",1,"form-control","validate-name","input-ltr",2,"text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["controls",""],["type","audio/mp3",3,"src"],["type","video/mp4",3,"src"]],template:function(i,t){if(i&1){let s=E();r(0,"div",14),S(1,"app-progress-spinner",15),r(2,"div",16)(3,"p",17),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",18),r(9,"form",19,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"mat-vertical-stepper",20,1),I("selectionChange",function(m){u(s);let k=R(12);return f(t.onStepClick(m,k))}),r(13,"mat-step",21),g(14,"translate"),C(15,y8,1,5,"app-cms-enum-record-status-selector",22)(16,S8,1,5,"app-cms-enum-record-admin-status-selector",22)(17,E8,10,10,"div",23)(18,b8,8,8,"div",23)(19,T8,8,9,"div",23),r(20,"app-cms-location-selector",24),g(21,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorLocation(m))}),a(),c(22),g(23,"translate"),r(24,"app-cms-location-autocomplete",24),g(25,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorLocationWorkArea(m))}),a(),r(26,"div",25)(27,"label",26),c(28),a(),r(29,"input",27,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.phoneNumber,m)||(t.dataModel.phoneNumber=m),f(m)}),a(),r(31,"em"),c(32),a()(),r(33,"div",25)(34,"label",28),c(35),a(),r(36,"input",29,3),w("ngModelChange",function(m){return u(s),T(t.dataModel.mobileNumber,m)||(t.dataModel.mobileNumber=m),f(m)}),a(),r(38,"em"),c(39),a()(),r(40,"div",25)(41,"label",30),c(42),a(),r(43,"textarea",31,4),w("ngModelChange",function(m){return u(s),T(t.dataModel.address,m)||(t.dataModel.address=m),f(m)}),a(),r(45,"em"),c(46),a(),C(47,w8,1,0,"i",32)(48,x8,1,0,"i",33)(49,A8,5,3,"mat-error",34),a(),S(50,"hr",35),r(51,"label"),c(52),a(),r(53,"angular-editor",36),g(54,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.body,m)||(t.dataModel.body=m),f(m)}),a(),C(55,R8,8,8,"div",37),a(),r(56,"mat-step",38),g(57,"translate"),r(58,"p"),c(59),g(60,"translate"),a(),C(61,k8,8,9,"div",23),r(62,"mat-form-field",39)(63,"mat-label"),c(64),g(65,"translate"),a(),r(66,"mat-chip-grid",40,5),C(68,D8,5,1,"mat-chip",41),r(69,"input",42,6),g(71,"translate"),I("matChipInputTokenEnd",function(m){return u(s),f(t.addTag(m))}),a()()(),C(72,L8,7,7,"div",37),a(),r(73,"mat-step",43),g(74,"translate"),r(75,"p"),c(76),g(77,"translate"),a(),r(78,"div",44)(79,"a",45),g(80,"cmsthumbnail"),C(81,V8,2,4,"img",46),a()(),r(82,"div",25)(83,"label",47),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(84),g(85,"translate"),a(),r(86,"input",48,7),g(88,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(89,"cms-file-manager",49),I("itemSelected",function(m){return u(s),f(t.onActionFileSelectedLinkMainImageId(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),a()(),C(90,B8,3,3,"p",34),r(91,"app-cms-files-selector",50),w("dataFileModelChange",function(m){return u(s),T(t.dataFileModelImgaes,m)||(t.dataFileModelImgaes=m),f(m)}),a(),S(92,"br"),r(93,"div")(94,"p"),c(95),g(96,"translate"),a(),r(97,"app-cms-files-selector",51),w("dataFileModelChange",function(m){return u(s),T(t.dataFileModelFiles,m)||(t.dataFileModelFiles=m),f(m)}),a()(),r(98,"div",44),C(99,F8,4,4,"audio",52),a(),r(100,"div",25)(101,"input",53,8),g(103,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkFilePodcastId,m)||(t.dataModel.linkFilePodcastId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenFormPodcast=!0)}),a(),r(104,"cms-file-manager",49),I("itemSelected",function(m){return u(s),f(t.onActionFileSelectedLinkFilePodcastId(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenFormPodcast,m)||(t.fileManagerOpenFormPodcast=m),f(m)}),a()(),r(105,"div",44),C(106,O8,3,2,"video",52),a(),r(107,"div",25)(108,"input",54,9),g(110,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkFileMovieId,m)||(t.dataModel.linkFileMovieId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenFormMovie=!0)}),a(),r(111,"cms-file-manager",49),I("itemSelected",function(m){return u(s),f(t.onActionFileSelectedLinkFileMovieId(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenFormMovie,m)||(t.fileManagerOpenFormMovie=m),f(m)}),a()(),r(112,"h3"),c(113),g(114,"translate"),a(),r(115,"app-cms-360-image-list",55),w("dataModelChange",function(m){return u(s),T(t.dataModel.file360Views,m)||(t.dataModel.file360Views=m),f(m)}),a(),S(116,"br"),r(117,"h3"),c(118),g(119,"translate"),a(),r(120,"app-cms-360-tour-list",56),w("dataModelChange",function(m){return u(s),T(t.dataModel.file360Tour,m)||(t.dataModel.file360Tour=m),f(m)}),a(),C(121,N8,7,7,"div",37),a(),r(122,"mat-step",57),g(123,"translate"),r(124,"p"),c(125),g(126,"translate"),a(),r(127,"app-cms-map",58),I("map$",function(m){return u(s),f(t.receiveMap(m))})("zoom$",function(m){return u(s),f(t.receiveZoom(m))}),a(),C(128,W8,8,7,"div",37),a(),C(129,G8,2,0,"ng-template",59)(130,U8,2,0,"ng-template",60)(131,j8,2,0,"ng-template",61)(132,q8,2,0,"ng-template",62),a()()()()}if(i&2){let s=R(30),_=R(37),m=R(44),k=R(67);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,115,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(5),d("label",x(h(14,117,"TITLE.REQUIRED_INFORMATION"))),o(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.mainAdminRecordStatus==null?null:t.fieldsInfo.mainAdminRecordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),d("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),o(),d("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessEditField))("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",h(21,119,"TITLE.Region")),o(2),y(" ",h(23,121,"TITLE.Geographical_Areas")," : "),o(2),d("optionDisabled",!(t.fieldsInfo.linkLocationIds!=null&&t.fieldsInfo.linkLocationIds.accessEditField))("optionSelectForce",t.dataModel.linkLocationIds)("optionPlaceholder",h(25,123,"TITLE.Region")),o(4),M(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle)),b("ngModel",t.dataModel.phoneNumber),d("disabled",!(t.fieldsInfo.phoneNumber!=null&&t.fieldsInfo.phoneNumber.accessEditField)),o(3),y("",s.value.length," / 64"),o(3),M(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle)),b("ngModel",t.dataModel.mobileNumber),d("disabled",!(t.fieldsInfo.mobileNumber!=null&&t.fieldsInfo.mobileNumber.accessEditField)),o(3),y("",_.value.length," / 64"),o(3),M(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle)),b("ngModel",t.dataModel.address),d("disabled",!(t.fieldsInfo.address!=null&&t.fieldsInfo.address.accessEditField)),o(3),y("",m.value.length," / 500"),o(),d("ngIf",!m.value),o(),d("ngIf",m.value),o(),d("ngIf",m.errors==null?null:m.errors.required),o(3),y(" ",t.fieldsInfo.body==null?null:t.fieldsInfo.body.fieldTitle," "),o(),d("placeholder",h(54,125,"TITLE.Enter_Text"))("config",t.publicHelper.editorConfig),b("ngModel",t.dataModel.body),o(2),d("ngIf",!t.publicHelper.processService.process.inRunAll),o(),d("label",x(h(57,127,"TITLE.Search_Engines"))),o(3),y(" ",h(60,129,"TITLE.This_section_helps_search_engines_better_index_content")," "),o(2),d("ngIf",t.fieldsInfo.source==null?null:t.fieldsInfo.source.accessWatchField),o(3),M(h(65,131,"TITLE.Choose_keywords_relative_to_the_content")),o(4),d("ngForOf",t.keywordDataModel),o(),d("placeholder",h(71,133,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",k)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(3),d("ngIf",t.formInfo.submitButtonEnabled),o(),d("label",x(h(74,135,"TITLE.ATTACH_FILES"))),o(3),M(h(77,137,"TITLE.CONTENT_ATTACH_FILES")),o(3),d("href",x(h(80,139,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(h(85,141,"TITLE.Original_Photo")),o(2),d("placeholder",x(h(88,143,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),d("ngIf",t.dataFileModelImgaes&&t.dataFileModelImgaes.size>0),o(),b("dataFileModel",t.dataFileModelImgaes),d("openDirectUploadView",!0)("optionFileType",t.selectFileTypeMainImage),o(4),M(h(96,145,"TITLE.List_of_attached_files")),o(2),b("dataFileModel",t.dataFileModelFiles),d("openDirectUploadView",!0),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkFilePodcastIdSrc==null?null:t.dataModel.linkFilePodcastIdSrc.length)>0),o(2),d("placeholder",x(h(103,147,"TITLE.Audio_File_ID"))),b("ngModel",t.dataModel.linkFilePodcastId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenFormPodcast),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypePodcast)("openFilemanagerButtonView",!1),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkFileMovieIdSrc==null?null:t.dataModel.linkFileMovieIdSrc.length)>0),o(2),d("placeholder",x(h(110,149,"TITLE.Video_File_ID"))),b("ngModel",t.dataModel.linkFileMovieId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenFormMovie),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMovie)("openFilemanagerButtonView",!1),o(2),M(h(114,151,"TITLE.image_360")),o(2),b("dataModel",t.dataModel.file360Views),o(3),M(h(119,153,"TITLE.virtual_tour")),o(2),b("dataModel",t.dataModel.file360Tour),d("dataImageModel",t.dataModel.file360Views),o(),d("ngIf",t.formInfo.submitButtonEnabled),o(),d("label",Ie("",h(123,155,"TITLE.Location")," ")),o(3),y(" ",h(126,157,"TITLE.Click_on_the_map_to_specify_the_location")," "),o(2),d("optonCenter",t.mapOptonCenter),o(),d("ngIf",!t.publicHelper.processService.process.inRunAll)}},dependencies:[He,N,ke,Y,q,we,de,De,Pe,me,Re,_i,Ri,ki,Di,Pi,yi,hi,xe,Ee,Q,nn,on,Mn,bn,tn,rn,Tn,ui,Jt,zn,Yn,Mi,U,ge,Sn,an,Uo,_t,B,Me],encapsulation:2});var Sp=Qs;var Q8=["vform"];function z8(n,l){if(n&1){let e=E();A(0),r(1,"div",8)(2,"label",9),c(3),a(),r(4,"input",10,0),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModelResultContent.item.title,t)||(s.dataModelResultContent.item.title=t),f(t)}),a()(),r(6,"div",8)(7,"label",11),c(8),a(),r(9,"textarea",12,1),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModelResultContent.item.description,t)||(s.dataModelResultContent.item.description=t),f(t)}),c(11,"        "),a()(),P()}if(n&2){let e=p();o(3),M(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),b("ngModel",e.dataModelResultContent.item.title),o(4),M(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),b("ngModel",e.dataModelResultContent.item.description)}}function Y8(n,l){if(n&1){let e=E();r(0,"div",13)(1,"button",14),I("click",function(){u(e);let t=p();return f(t.onFormDelete())}),S(2,"i",15),c(3),g(4,"translate"),a(),r(5,"button",16),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(6,"i",17),c(7),g(8,"translate"),a()()}if(n&2){let e=p();o(),d("disabled",!e.formInfo.submitButtonEnabled),o(2),y(" ",h(4,3,"ACTION.DELETE")," "),o(4),y(" ",h(8,5,"ACTION.CANCEL")," ")}}var zs=class zs{constructor(l,e,i,t,s,_,m){this.data=l;this.dialogRef=e;this.publicHelper=i;this.contentService=t;this.cdr=s;this.cmsToastrService=_;this.translate=m;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new G;this.formInfo=new ue;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=l.id)}ngOnInit(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let l=this.constructor.name+"fieldInfoConvertor";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.contentService.setAccessLoad(),this.contentService.setAccessDataType(Ne.Editor),this.contentService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onFormDelete(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};zs.\u0275fac=function(e){return new(e||zs)(v(Te),v(be),v(F),v(vn),v(O),v(V),v(L))},zs.\u0275cmp=D({type:zs,selectors:[["app-estate-property-company-delete"]],viewQuery:function(e,i){if(e&1&&te(Q8,5),e&2){let t;ie(t=ne())&&(i.formGroup=t.first)}},standalone:!1,decls:10,vars:7,consts:[["Writer",""],["Content",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.title",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.title","type","text","required","","readonly","","id","dataModelResultContent.item.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModelResultContent.item.description",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.description","type","text","minlength","1","maxlength","100","readonly","","required","","rows","5","id","dataModelResultContent.item.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(r(0,"div",2),S(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),C(8,z8,12,8,"ng-container",6)(9,Y8,9,7,"div",7),a()()),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(3),y(" ",i.formInfo.formTitle," "),o(2),y(" ",h(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("ngIf",i.dataModelResultContent==null?null:i.dataModelResultContent.item),o(),d("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[N,Y,q,de,De,Pe,me,Q,U,B],encapsulation:2});var Cp=zs;var K8=()=>["expandedTitle"],Z8=()=>["expandedDetail"],J8=()=>[5,10,20,100],nu=n=>({display:n});function X8(n,l){if(n&1){let e=E();r(0,"div",20)(1,"a",51),I("click",function(t){u(e);let s=p();return f(s.onActionButtonNewRow(t))}),S(2,"i",52)(3,"br"),a(),r(4,"p",22),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.ADD")," "))}function $8(n,l){if(n&1){let e=E();r(0,"div",20)(1,"a",53),I("click",function(){u(e);let t=p();return f(t.onActionButtonWithHierarchy())}),S(2,"i",54)(3,"br"),a(),r(4,"p",22),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.BATCHVIEW")," "))}function eO(n,l){if(n&1){let e=E();r(0,"div",20)(1,"a",55),I("click",function(t){u(e);let s=p();return f(s.onActionButtonEditRow(s.tableRowSelected,t))}),S(2,"i",56)(3,"br"),a(),r(4,"p",22),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.EDIT")," "))}function tO(n,l){if(n&1){let e=E();r(0,"div",20)(1,"a",57),I("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",58)(3,"br"),a(),r(4,"p",22),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.DELETE")," "))}function iO(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.MENU")," "))}function nO(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"button",59),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelectActionMenu(t))}),S(2,"i",60),a()()}}function oO(n,l){n&1&&(r(0,"mat-header-cell",61),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.PICTURE")," "))}function rO(n,l){if(n&1&&(S(0,"img",63),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function aO(n,l){if(n&1&&(r(0,"mat-cell"),C(1,rO,2,4,"img",62),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function lO(n,l){if(n&1&&(r(0,"mat-header-cell",61),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function sO(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function dO(n,l){if(n&1&&(r(0,"mat-header-cell",61),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function cO(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"cmssiteinfo"),g(3,"async"),a()),n&2){let e=l.$implicit;o(),y(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function pO(n,l){if(n&1&&(r(0,"mat-header-cell",61),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function mO(n,l){if(n&1&&S(0,"select",66),n&2){let e=p().$implicit,i=p();d("contentService",i.contentService)("row",e)("ngStyle",ze(3,nu,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function uO(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",64),g(2,"statusIconClass"),C(3,mO,1,5,"select",65),a()),n&2){let e=l.$implicit,i=p();o(),d("ngClass",h(2,2,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function fO(n,l){if(n&1&&(r(0,"mat-header-cell",61),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle," ")}}function _O(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",64),g(2,"adminStatusIconClass"),a()),n&2){let e=l.$implicit;o(),d("ngClass",h(2,1,e.mainAdminRecordStatus))}}function gO(n,l){if(n&1&&(r(0,"mat-header-cell",61),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function hO(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function yO(n,l){if(n&1&&(r(0,"mat-header-cell",61),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function SO(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),y(" ",h(2,1,e.createdDate)," ")}}function CO(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.OPTION")," "))}function vO(n,l){if(n&1&&(r(0,"mat-cell",67)(1,"button",68)(2,"mat-icon"),c(3,"more_vert"),a()(),S(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),d("matMenuTriggerFor",e)}}function IO(n,l){n&1&&(r(0,"mat-header-cell",69),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.LINKTO")," "))}function EO(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"button",70),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionButtonLinkTo(t))}),r(2,"mat-icon",71),c(3,"\u2197"),a()()()}}function MO(n,l){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"br"),c(3),g(4,"translate"),g(5,"localeDate"),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," "),o(2),ee(" ",h(4,3,"TITLE.CreationDate")," : ",h(5,5,e.createdDate)," ")}}function bO(n,l){if(n&1&&(S(0,"img",76),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function TO(n,l){if(n&1&&(r(0,"tr"),S(1,"td"),r(2,"td"),c(3),g(4,"localeDate"),a()()),n&2){let e=p().$implicit,i=p();o(3),ee(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle," : ",h(4,2,e.updatedDate)," ")}}function wO(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),C(5,bO,2,4,"img",72),a(),r(6,"th")(7,"span",73),I("click",function(){u(e);let t=p();return f(t.onActionCopied())}),S(8,"i",74),a(),c(9),a()(),C(10,TO,5,4,"tr",75),r(11,"tr"),S(12,"td"),r(13,"td"),c(14),a()(),r(15,"tr"),S(16,"td"),r(17,"td"),c(18),a()(),r(19,"tr"),S(20,"td")(21,"td"),a()()()()}if(n&2){let e=l.$implicit;o(5),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),o(2),d("cdkCopyToClipboard",e.id),o(2),y(" ",e.id," "),o(),d("ngIf",e.updatedDate),o(4),M(e.title),o(4),M(e.description)}}function xO(n,l){n&1&&S(0,"mat-header-row")}function AO(n,l){if(n&1){let e=E();r(0,"mat-row",77),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function PO(n,l){if(n&1){let e=E();r(0,"mat-row",78),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function RO(n,l){if(n&1){let e=E();r(0,"mat-row",79),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),d("ngStyle",ze(3,nu,e.expanded===!0?"":"none"))}}var Ys=class Ys extends xt{constructor(e,i,t,s,_,m,k,z,Se,qe){super(e,new Nn,Se,s,m);this.contentService=e;this.cmsToastrService=i;this.router=t;this.tokenHelper=s;this.cdr=_;this.translate=m;this.cmsStoreService=k;this.pageInfo=z;this.publicHelper=Se;this.dialog=qe;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new pe;this.filterDataModelQueryBuilder=[];this.optionsSearch=new cr;this.optionsStatist=new pr;this.tokenInfo=new It;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","mainAdminRecordStatus","LinkTo","action_menu"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","id","recordStatus","mainAdminRecordStatus","LinkTo","action_menu"];this.fieldsInfo=new Map;this.unsubscribe=[];this.GetAllWithHierarchyCategoryId=!1;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ue=>this.onSubmitOptionsSearch(Ue)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=$.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Nn);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new H;t.propertyName="linkEstateCompanyCategoryId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=$.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(e){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}e?.ctrlKey?(this.link="/#/estate/property-company/add/",window.open(this.link,"_blank")):this.router.navigate(["/estate/property-company/add"])}onActionButtonEditRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-company/edit/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-company/edit",this.tableRowSelected.id])}onActionButtonProperty(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property/LinkCompanyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkCompanyId",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Cp,{panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;let e=new Map;this.translate.get("MESSAGE.Active").subscribe(_=>{e.set(_,0)}),this.translate.get("MESSAGE.All").subscribe(_=>{e.set(_,0)});let i=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(_=>{this.publicHelper.processService.processStart(i,_,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:_=>{_.isSuccess?(this.translate.get("MESSAGE.All").subscribe(m=>{e.set(m,_.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(e)):this.cmsToastrService.typeErrorMessage(_.errorMessage),this.publicHelper.processService.processStop(i)},error:_=>{this.cmsToastrService.typeError(_),this.publicHelper.processService.processStop(i,!1)}});let t=JSON.parse(JSON.stringify(this.filteModelContent)),s=new H;s.propertyName="recordStatus",s.value=Qe.Available,t.filters.push(s),this.contentService.ServiceGetCount(t).subscribe({next:_=>{_.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(m=>{e.set(m,_.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(e)):this.cmsToastrService.typeErrorMessage(_.errorMessage),this.publicHelper.processService.processStop(i)},error:_=>{this.cmsToastrService.typeError(_),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonWithHierarchy(){this.GetAllWithHierarchyCategoryId=!this.GetAllWithHierarchyCategoryId,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new pe,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionButtonLinkTo(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(e.recordStatus!=Qe.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.onActionTableRowSelect(e);let i=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_state_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Ne.Editor),this.contentService.ServiceGetOneById(e.id).subscribe({next:t=>{if(t.isSuccess){var s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(yn,{height:"90%",enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,panelClass:s,data:{title:t.item.title,urlViewContentQRCodeBase64:t.item.urlViewContentQRCodeBase64,urlViewContent:t.item.urlViewContent}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(t.errorMessage);this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}};Ys.\u0275fac=function(i){return new(i||Ys)(v(vn),v(V),v(Ze),v(Z),v(O),v(L),v(J),v(St),v(F),v(Ae))},Ys.\u0275cmp=D({type:Ys,selectors:[["app-estate-property-company-list"]],standalone:!1,features:[oe],decls:89,vars:42,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],[1,"fa-solid","fa-apartment","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","mainAdminRecordStatus"],["matColumnDef","title"],["matColumnDef","createdDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-layer-group","font-18",2,"color","#ffffff"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["mat-sort-header","",1,"form-label"],["type","button","mat-icon-button","",1,"text-dark",3,"click"],[2,"color","#ff671f"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=E();r(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),I("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),$e(1,4)(2,5)(3,6),A(4,7),r(5,"a",8),I("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(6,"i",9),a(),r(7,"a",8),I("click",function(){return u(s),f(t.onActionButtonReload())}),S(8,"i",10),a(),r(9,"a",11),I("click",function(){return u(s),f(t.onActionGridExpandRows(!0))}),S(10,"i",12),a(),r(11,"a",11),I("click",function(){return u(s),f(t.onActionGridExpandRows(!1))}),S(12,"i",13),a(),P(),A(13,14),r(14,"a",15),I("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(15,"mat-slide-toggle",16),c(16),g(17,"translate"),a(),r(18,"a",15),I("click",function(){return u(s),f(t.onActionButtonStatist())}),S(19,"mat-slide-toggle",16),c(20),g(21,"translate"),a(),P(),A(22,17),C(23,X8,7,3,"div",18)(24,$8,7,3,"div",18),P(),A(25,19),C(26,eO,7,3,"div",18)(27,tO,7,3,"div",18),r(28,"div",20)(29,"a",15),I("click",function(m){return u(s),f(t.onActionButtonProperty(t.tableRowSelected,m))}),S(30,"i",21)(31,"br"),a(),r(32,"p",22),c(33),g(34,"translate"),a()(),r(35,"div",20)(36,"a",8),I("click",function(){return u(s),f(t.onActionButtonLinkTo(t.tableRowSelected))}),S(37,"i",23)(38,"br"),a(),r(39,"p",22),c(40),g(41,"translate"),a()(),P(),A(42,24),r(43,"app-cms-search-list",25),w("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),a(),r(44,"app-cms-statist-list",25),w("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),P(),A(45,26),r(46,"mat-table",27,0),I("matSortChange",function(){u(s);let m=R(47);return f(t.onTableSortData(m))}),A(48,28),C(49,iO,3,3,"mat-header-cell",29)(50,nO,3,0,"mat-cell",30),P(),A(51,31),C(52,oO,3,3,"mat-header-cell",32)(53,aO,2,1,"mat-cell",30),P(),A(54,33),C(55,lO,2,1,"mat-header-cell",32)(56,sO,2,1,"mat-cell",30),P(),A(57,34),C(58,dO,2,1,"mat-header-cell",32)(59,cO,4,5,"mat-cell",30),P(),A(60,35),C(61,pO,2,1,"mat-header-cell",32)(62,uO,4,4,"mat-cell",30),P(),A(63,36),C(64,fO,2,1,"mat-header-cell",32)(65,_O,3,3,"mat-cell",30),P(),A(66,37),C(67,gO,2,1,"mat-header-cell",32)(68,hO,2,1,"mat-cell",30),P(),A(69,38),C(70,yO,2,1,"mat-header-cell",32)(71,SO,3,3,"mat-cell",30),P(),A(72,39),C(73,CO,3,3,"mat-header-cell",29)(74,vO,6,1,"mat-cell",40),P(),A(75,41),C(76,IO,3,3,"mat-header-cell",42)(77,EO,4,0,"mat-cell",30),P(),A(78,43),C(79,MO,6,7,"mat-cell",30),P(),A(80,44),C(81,wO,22,6,"mat-cell",30),P(),C(82,xO,1,0,"mat-header-row",45)(83,AO,1,2,"mat-row",46)(84,PO,1,2,"mat-row",47)(85,RO,1,5,"mat-row",48),a(),P(),A(86,49),r(87,"mat-paginator",50,1),I("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),P(),a()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","estate.propertycompany.list"),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(8),K("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),d("checked",t.optionsSearch.data.show),o(),y("",h(17,31,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",h(21,33,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(),d("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),y(" ",h(34,35,"ACTION.PROPERTY")," "),o(7),y(" ",h(41,37,"TITLE.LINKTO")," "),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(36),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",se(39,K8)),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(),d("matRowDefColumns",se(40,Z8)),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(41,J8)))},dependencies:[ce,N,it,Je,Ee,Q,Dt,Lt,Mt,yt,bt,Tt,nt,rt,dt,at,ot,ct,lt,st,pt,mt,fi,At,Pt,Rt,kt,Hi,We,B,sn,Me,jn,Zt,mr],encapsulation:2});var zd=Ys;var kO=["vform"],DO=()=>["fa"];function LO(n,l){n&1&&S(0,"i",25)}function VO(n,l){n&1&&S(0,"i",26)}function BO(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function FO(n,l){if(n&1){let e=E();r(0,"div",13)(1,"label",27),c(2),a(),r(3,"input",28,3),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),I("iconPickerSelect",function(t){u(e);let s=p();return f(s.onIconPickerSelect(t))}),a(),r(5,"span",29),S(6,"i",30),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",se(9,DO))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),o(3),d("ngClass",e.dataModel.iconFont)}}function OO(n,l){if(n&1){let e=E();r(0,"div",31)(1,"label",32),c(2),a(),r(3,"div",33)(4,"div",34)(5,"input",35,4),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),a()(),r(7,"div",36),S(8,"ngx-mat-color-toggle",37)(9,"ngx-mat-color-picker",38,5),a()()()}if(n&2){let e=R(10),i=p();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ve("background",i.dataModel.iconColor),d("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),d("for",e),o(),d("touchUi",!0)("color","primary")}}function NO(n,l){if(n&1){let e=E();r(0,"div",13)(1,"label",39),c(2),a(),r(3,"input",40,6),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.showInFormOrder,t)||(s.dataModel.showInFormOrder=t),f(t)}),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle)),b("ngModel",e.dataModel.showInFormOrder)}}function HO(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function WO(n,l){if(n&1){let e=E();r(0,"div",41)(1,"button",42),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",43),c(3),g(4,"translate"),a(),r(5,"button",44),S(6,"i",45),c(7),g(8,"translate"),a()()}if(n&2){p();let e=R(10);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",h(8,5,"ACTION.SAVE")," ")}}var Ks=class Ks extends Bt{constructor(e,i,t,s,_,m,k,z){super(s,new Hn,m,z);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyDetailGroupService=s;this.cmsToastrService=_;this.publicHelper=m;this.cdr=k;this.translate=z;this.requestLinkPropertyTypeLanduseId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new G;this.dataModel=new Hn;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&(this.requestLinkPropertyTypeLanduseId=e.linkPropertyTypeLanduseId),this.requestLinkPropertyTypeLanduseId.length>0&&(this.dataModel.linkPropertyTypeLanduseId=this.requestLinkPropertyTypeLanduseId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeLanduseId=e.id}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ks.\u0275fac=function(i){return new(i||Ks)(v(Te),v(be),v(X),v(Ii),v(V),v(F),v(O),v(L))},Ks.\u0275cmp=D({type:Ks,selectors:[["app-estate-property-detail-group-add"]],viewQuery:function(i,t){if(i&1&&te(kO,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:36,vars:28,consts:[["vform","ngForm"],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],["ShowInFormOrder",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.showInFormOrder",1,"color-highlight"],["type","number","name","dataModel.showInFormOrder","id","dataModel.showInFormOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",7),S(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",11),r(9,"form",12,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"div",13)(12,"label",14),c(13),a(),r(14,"input",15,1),w("ngModelChange",function(m){return u(s),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),C(16,LO,1,0,"i",16)(17,VO,1,0,"i",17),r(18,"em"),c(19),a(),C(20,BO,5,3,"mat-error",18),a(),r(21,"app-estate-property-type-landuse-selector",19),g(22,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorSelect(m))}),a(),C(23,FO,7,10,"div",20)(24,OO,11,11,"div",21)(25,NO,5,4,"div",20),r(26,"div",13)(27,"label",22),c(28),a(),r(29,"textarea",23,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(31,"        "),a(),r(32,"em"),c(33),a(),C(34,HO,5,3,"mat-error",18),a(),C(35,WO,9,7,"div",24),a()()()}if(i&2){let s=R(15),_=R(30);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,24,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(5),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("optionSelectForce",t.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",h(22,26,"TITLE.Category")),o(2),d("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.accessWatchField),o(),d("ngIf",t.fieldsInfo.showInFormOrder==null?null:t.fieldsInfo.showInFormOrder.accessWatchField),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",_.value.length," / 500"),o(),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[ce,N,ke,Y,Wt,q,we,de,De,Pe,me,Re,xe,tt,Q,U,ge,Gt,si,li,ai,ri,Ci,B],encapsulation:2});var Zs=Ks;var GO=["vform"],UO=()=>["fa"];function jO(n,l){n&1&&S(0,"i",25)}function qO(n,l){n&1&&S(0,"i",26)}function QO(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function zO(n,l){if(n&1){let e=E();r(0,"div",13)(1,"label",27),c(2),a(),r(3,"input",28,3),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),I("iconPickerSelect",function(t){u(e);let s=p();return f(s.onIconPickerSelect(t))}),a(),r(5,"span",29),S(6,"i",30),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",se(9,UO))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessEditField)),o(3),d("ngClass",e.dataModel.iconFont)}}function YO(n,l){if(n&1){let e=E();r(0,"div",31)(1,"label",32),c(2),a(),r(3,"div",33)(4,"div",34)(5,"input",35,4),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),a()(),r(7,"div",36),S(8,"ngx-mat-color-toggle",37)(9,"ngx-mat-color-picker",38,5),a()()()}if(n&2){let e=R(10),i=p();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ve("background",i.dataModel.iconColor),d("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),o(3),d("for",e),o(),d("touchUi",!0)("color","primary")}}function KO(n,l){if(n&1){let e=E();r(0,"div",13)(1,"label",14),c(2),a(),r(3,"input",39,6),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.showInFormOrder,t)||(s.dataModel.showInFormOrder=t),f(t)}),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle)),b("ngModel",e.dataModel.showInFormOrder),d("disabled",!(e.fieldsInfo.showInFormOrder!=null&&e.fieldsInfo.showInFormOrder.accessEditField))}}function ZO(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function JO(n,l){if(n&1){let e=E();r(0,"div",40)(1,"button",41),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",42),c(3),g(4,"translate"),a(),r(5,"button",43),S(6,"i",44),c(7),g(8,"translate"),a()()}if(n&2){p();let e=R(10);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",h(8,5,"ACTION.SAVE")," ")}}var Js=class Js extends Ut{constructor(e,i,t,s,_,m,k,z){super(s,new Hn,m,z);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyDetailGroupService=s;this.cmsToastrService=_;this.publicHelper=m;this.cdr=k;this.translate=z;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ht;this.dataModel=new Hn;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.setAccessLoad(),this.estatePropertyDetailGroupService.setAccessDataType(Ne.Editor),this.estatePropertyDetailGroupService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeLanduseId=e.id}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Js.\u0275fac=function(i){return new(i||Js)(v(Te),v(be),v(X),v(Ii),v(V),v(F),v(O),v(L))},Js.\u0275cmp=D({type:Js,selectors:[["app-estate-property-detail-group-edit"]],viewQuery:function(i,t){if(i&1&&te(GO,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:36,vars:29,consts:[["vform","ngForm"],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],["ShowInFormOrder",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","number","name","dataModel.showInFormOrder","id","dataModel.showInFormOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",7),S(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",11),r(9,"form",12,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"div",13)(12,"label",14),c(13),a(),r(14,"input",15,1),w("ngModelChange",function(m){return u(s),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),C(16,jO,1,0,"i",16)(17,qO,1,0,"i",17),r(18,"em"),c(19),a(),C(20,QO,5,3,"mat-error",18),a(),r(21,"app-estate-property-type-landuse-selector",19),g(22,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorSelect(m))}),a(),C(23,zO,7,10,"div",20)(24,YO,11,11,"div",21)(25,KO,5,5,"div",20),r(26,"div",13)(27,"label",22),c(28),a(),r(29,"textarea",23,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(31,"        "),a(),r(32,"em"),c(33),a(),C(34,ZO,5,3,"mat-error",18),a(),C(35,JO,9,7,"div",24),a()()()}if(i&2){let s=R(15),_=R(30);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,25,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(5),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("optionSelectForce",t.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",h(22,27,"TITLE.Category"))("optionDisabled",!(t.fieldsInfo.linkPropertyTypeLanduseId!=null&&t.fieldsInfo.linkPropertyTypeLanduseId.accessEditField)),o(2),d("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.accessWatchField),o(),d("ngIf",t.fieldsInfo.showInFormOrder==null?null:t.fieldsInfo.showInFormOrder.accessWatchField),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",_.value.length," / 500"),o(),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[ce,N,ke,Y,Wt,q,we,de,De,Pe,me,Re,xe,tt,Q,U,ge,Gt,si,li,ai,ri,Ci,B],encapsulation:2});var Xs=Js;var $O=()=>[5,10,20,100];function e9(n,l){if(n&1){let e=E();r(0,"div",20)(1,"a",43),I("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),S(2,"i",44)(3,"br"),a(),r(4,"p",23),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.ADD")," "))}function t9(n,l){if(n&1){let e=E();r(0,"div",20)(1,"a",45),I("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",46)(3,"br"),a(),r(4,"p",23),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.EDIT")," "))}function i9(n,l){if(n&1){let e=E();r(0,"div",20)(1,"a",47),I("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",48)(3,"br"),a(),r(4,"p",23),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.DELETE")," "))}function n9(n,l){if(n&1&&(r(0,"mat-header-cell",49),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function o9(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function r9(n,l){if(n&1&&(r(0,"mat-header-cell",49),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle," ")}}function a9(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",50),a()),n&2){let e=l.$implicit;o(),ve("color",e.iconColor),d("ngClass",e.iconFont)}}function l9(n,l){if(n&1&&(r(0,"mat-header-cell",49),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function s9(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function d9(n,l){if(n&1&&(r(0,"mat-header-cell",49),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle," ")}}function c9(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.showInFormOrder," ")}}function p9(n,l){if(n&1&&(r(0,"mat-header-cell",49),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.linkPropertyTypeLanduseId==null?null:e.fieldsInfo.linkPropertyTypeLanduseId.fieldTitle," ")}}function m9(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"cmstitle"),a()),n&2){let e=l.$implicit,i=p();o(),y(" ",di(2,1,e.linkPropertyTypeLanduseId,i.dataModelEstatePropertyTypeLanduseResult.listItems)," ")}}function u9(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.OPTION")," "))}function f9(n,l){if(n&1&&(r(0,"mat-cell",51)(1,"button",52)(2,"mat-icon"),c(3,"more_vert"),a()(),S(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),d("matMenuTriggerFor",e)}}function _9(n,l){n&1&&(r(0,"mat-header-cell",49),c(1,". "),a())}function g9(n,l){n&1&&(r(0,"mat-cell")(1,"mat-icon",53),c(2,"reorder"),a()())}function h9(n,l){n&1&&S(0,"mat-header-row")}function y9(n,l){if(n&1){let e=E();r(0,"mat-row",54),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var $s=class $s extends xt{constructor(e,i,t,s,_,m,k,z,Se,qe,Ue,ft){super(e,new Hn,Ue,_,z);this.contentService=e;this.estatePropertyTypeLanduseService=i;this.cmsConfirmationDialogService=t;this.cmsToastrService=s;this.tokenHelper=_;this.router=m;this.cdr=k;this.translate=z;this.cmsStoreService=Se;this.pageInfo=qe;this.publicHelper=Ue;this.dialog=ft;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new pe;this.filterDataModelQueryBuilder=[];this.dataModelEstatePropertyTypeLanduseResult=new G;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["IconFont","ShowInFormOrder","LinkPropertyTypeLanduseId"];this.tabledisplayedColumnsMobileSource=["IconFont","ShowInFormOrder","LinkPropertyTypeLanduseId"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:jt=>this.onSubmitOptionsSearch(jt)},this.filteModelContent.sortColumn="ShowInFormOrder",this.filteModelContent.sortType=$.Ascending}ngOnInit(){this.filteModelContent.sortColumn="ShowInFormOrder",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getPropertyType()}getPropertyType(){let e=new pe;e.rowPerPage=100,this.estatePropertyTypeLanduseService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelEstatePropertyTypeLanduseResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Hn);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=$.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onTableDropRow(e){let i=this.tableSource.data.findIndex(s=>s===e.item.data),t=new tc;t.id=this.tableSource.data[i].id,t.centerId=this.tableSource.data[e.currentIndex].id,i>e.currentIndex?t.actionGo=Ma.GoUp:t.actionGo=Ma.GoDown,this.contentService.ServiceEditStep(t).subscribe({next:s=>{s.isSuccess?(ac(this.tableSource.data,i,e.currentIndex),this.tableSource.data=this.tableSource.data.slice()):this.cmsToastrService.typeErrorMessage(s.errorMessage)},error:s=>{this.cmsToastrService.typeError(s)}})}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Zs,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Xs,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_,!1)}})}}).catch(()=>{})}onActionButtonContentList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/hypershop/content/PareintId/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new H;_.propertyName="recordStatus",_.value=Qe.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};$s.\u0275fac=function(i){return new(i||$s)(v(Ii),v(Ei),v(wt),v(V),v(Z),v(Ze),v(O),v(L),v(J),v(St),v(F),v(Ae))},$s.\u0275cmp=D({type:$s,selectors:[["app-estate-property-detail-group-list"]],standalone:!1,features:[oe],decls:66,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"justify-content-start"],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-cubes","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","cdkDropList","",3,"matSortChange","cdkDropListDropped","dataSource","cdkDropListData"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","title"],["matColumnDef","ShowInFormOrder"],["matColumnDef","LinkPropertyTypeLanduseId"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=E();r(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),I("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),$e(1,4)(2,5),A(3,6),r(4,"div",7),S(5,"div",8)(6,"div",9),a(),P(),$e(7,6),A(8,10),r(9,"a",11),I("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(10,"i",12),a(),r(11,"a",11),I("click",function(){return u(s),f(t.onActionButtonReload())}),S(12,"i",13),a(),P(),A(13,14),r(14,"a",15),I("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(15,"mat-slide-toggle",16),c(16),g(17,"translate"),a(),r(18,"a",15),I("click",function(){return u(s),f(t.onActionButtonStatist())}),S(19,"mat-slide-toggle",16),c(20),g(21,"translate"),a(),P(),A(22,17),C(23,e9,7,3,"div",18),P(),A(24,19),C(25,t9,7,3,"div",18)(26,i9,7,3,"div",18),r(27,"div",20)(28,"a",21),I("click",function(){return u(s),f(t.onActionButtonContentList(t.tableRowSelected))}),S(29,"i",22)(30,"br"),a(),r(31,"p",23),c(32),g(33,"translate"),a()(),P(),A(34,24),r(35,"app-cms-search-list",25),w("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),a(),r(36,"app-cms-statist-list",25),w("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),P(),A(37,26),r(38,"mat-table",27,0),I("matSortChange",function(){u(s);let m=R(39);return f(t.onTableSortData(m))})("cdkDropListDropped",function(m){return u(s),f(t.onTableDropRow(m))}),A(40,28),C(41,n9,2,1,"mat-header-cell",29)(42,o9,2,1,"mat-cell",30),P(),A(43,31),C(44,r9,2,1,"mat-header-cell",29)(45,a9,2,3,"mat-cell",30),P(),A(46,32),C(47,l9,2,1,"mat-header-cell",29)(48,s9,2,1,"mat-cell",30),P(),A(49,33),C(50,d9,2,1,"mat-header-cell",29)(51,c9,2,1,"mat-cell",30),P(),A(52,34),C(53,p9,2,1,"mat-header-cell",29)(54,m9,3,4,"mat-cell",30),P(),A(55,35),C(56,u9,3,3,"mat-header-cell",36)(57,f9,6,1,"mat-cell",37),P(),A(58,38),C(59,_9,2,0,"mat-header-cell",29)(60,g9,3,0,"mat-cell",30),P(),C(61,h9,1,0,"mat-header-row",39)(62,y9,1,2,"mat-row",40),a(),P(),A(63,41),r(64,"mat-paginator",42,1),I("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),P(),a()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(12),K("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),d("checked",t.optionsSearch.data.show),o(),y("",h(17,27,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",h(21,29,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),y(" ",h(33,31,"ACTION.PRODUCTS")," "),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource)("cdkDropListData",t.tableSource),o(23),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(33,$O)))},dependencies:[ce,N,Je,Ee,Dt,Lt,Mt,yt,bt,Tt,nt,rt,dt,at,ot,ct,lt,st,pt,mt,At,Pt,Rt,kt,sc,lc,B,Qn],encapsulation:2});var vp=$s;var ou=["*","*"];function S9(n,l){if(n&1&&(r(0,"label",14),c(1),a()),n&2){let e=p(2);d("for",Ie("app-cms-site-selector-",e.id)),o(),M(e.optionLabel)}}function C9(n,l){if(n&1&&(r(0,"mat-option",15)(1,"span"),c(2),a()()),n&2){let e=l.$implicit,i=p(2);d("value",e)("disabled",i.optionDisabled),o(2),M(i.displayOption(e))}}function v9(n,l){n&1&&S(0,"i",16)}function I9(n,l){n&1&&S(0,"i",17)}function E9(n,l){if(n&1){let e=E();r(0,"i",18),I("click",function(){u(e);let t=p(2);return f(t.onActionSelectClear())}),a()}}function M9(n,l){n&1&&(r(0,"em"),c(1),g(2,"translate"),a()),n&2&&(o(),y("(",h(2,1,"TITLE.Necessary"),")"))}function b9(n,l){if(n&1){let e=E();r(0,"div",3),S(1,"app-progress-spinner",4),C(2,S9,2,3,"label",5),S(3,"input",6),r(4,"mat-autocomplete",7,0),I("optionSelected",function(t){u(e);let s=p();return f(s.onActionSelect(t.option.value))}),C(6,C9,3,3,"mat-option",8),g(7,"async"),a(),C(8,v9,1,0,"i",9)(9,I9,1,0,"i",10)(10,E9,1,0,"i",11),r(11,"i",12),g(12,"translate"),I("click",function(){u(e);let t=p();return f(t.onActionButtonReload())}),a(),C(13,M9,3,3,"em",13),pi(14),a()}if(n&2){let e=R(5),i=p();o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(),d("placeholder",x(i.optionPlaceholder))("id",Ie("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",e)("required",i.optionRequired),vt("disabled",i.optionDisabled?!0:null),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",h(7,20,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),K("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),d("title",x(h(12,22,"ACTION.RELOAD"))),o(2),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)==0))}}function T9(n,l){if(n&1){let e=E();r(0,"div",21)(1,"a",22),I("click",function(){let t=u(e).$implicit,s=p(2);return f(s.onActionSelect(t))}),c(2),a()()}if(n&2){let e=l.$implicit,i=p(2);o(),d("ngClass",e.id===(i.dataModelSelect==null?null:i.dataModelSelect.id)?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),vt("disabled",i.optionDisabled?!0:null),o(),M(i.displayOption(e))}}function w9(n,l){if(n&1&&(r(0,"div",19),C(1,T9,3,3,"div",20),g(2,"async"),pi(3,1),a()),n&2){let e=p();o(),d("ngForOf",h(2,1,e.filteredOptions))}}var pa=class pa{constructor(l,e,i,t,s,_){this.coreEnumService=l;this.cmsToastrService=e;this.translate=i;this.cdr=t;this.publicHelper=s;this.categoryService=_;this.id=++pa.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=new Hn;this.formControl=new Et;this.optionTypeView=1;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new Xe;this.optionReload=()=>this.onActionButtonReload();this.linkPropertyTypeLanduseId="";this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}set optionSelectParentForce(l){this.linkPropertyTypeLanduseId=l,this.loadOptions()}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(ei(""),$t(1500),xi(),ti(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return ae(this,null,function*(){let e=new pe;if(e.rowPerPage=20,e.accessLoad=!0,typeof l=="string"&&l.length>0){let s=new H;s.propertyName="Name",s.value=l,s.searchType=Fe.Contains,e.filters.push(s)}if(this.linkPropertyTypeLanduseId&&this.linkPropertyTypeLanduseId.length>0){var i=new H;i.propertyName="linkPropertyTypeLanduseId",i.value=this.linkPropertyTypeLanduseId,i.searchType=Fe.Equal,e.filters.push(i)}let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield wi(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.optionDisabled||(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(Ot(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof Hn){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Hn,this.loadOptions()}};pa.nextId=0,pa.\u0275fac=function(e){return new(e||pa)(v(X),v(V),v(L),v(O),v(F),v(Ii))},pa.\u0275cmp=D({type:pa,selectors:[["app-estate-property-detail-group-selector"]],inputs:{optionTypeView:"optionTypeView",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce",optionSelectParentForce:"optionSelectParentForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:ou,decls:2,vars:2,consts:[["matauto","matAutocomplete"],["class","input-style has-borders has-icon input-style-always-active validate-field mb-4 loader-container",4,"ngIf"],["class","row mb-0",4,"ngIf"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"],[1,"row","mb-0"],["class","col-xl-2 col-lg-3 col-md-4 col-sm-12 pe-1",4,"ngFor","ngForOf"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"]],template:function(e,i){e&1&&(vi(ou),C(0,b9,15,24,"div",1)(1,w9,4,3,"div",2)),e&2&&(d("ngIf",i.optionTypeView===1),o(),d("ngIf",i.optionTypeView===2))},dependencies:[ce,He,N,Y,q,de,zt,ni,ii,oi,Q,U,We,B],encapsulation:2});var ed=pa;var x9=["vform"],A9=()=>["fa"];function P9(n,l){n&1&&S(0,"i",37)}function R9(n,l){n&1&&S(0,"i",38)}function k9(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function D9(n,l){if(n&1){let e=E();r(0,"div",16)(1,"label",39),c(2),a(),r(3,"input",40,5),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),I("iconPickerSelect",function(t){u(e);let s=p();return f(s.onIconPickerSelect(t))}),a(),r(5,"span",41),S(6,"i",42),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",se(9,A9))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),o(3),d("ngClass",e.dataModel.iconFont)}}function L9(n,l){if(n&1){let e=E();r(0,"div",43)(1,"label",44),c(2),a(),r(3,"div",45)(4,"div",46)(5,"input",47,6),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),a()(),r(7,"div",48),S(8,"ngx-mat-color-toggle",49)(9,"ngx-mat-color-picker",50,7),a()()()}if(n&2){let e=R(10),i=p();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ve("background",i.dataModel.iconColor),d("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),d("for",e),o(),d("touchUi",!0)("color","primary")}}function V9(n,l){if(n&1){let e=E();r(0,"div",16)(1,"label",51),c(2),a(),r(3,"input",52,8),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.showInFormOrder,t)||(s.dataModel.showInFormOrder=t),f(t)}),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle)),b("ngModel",e.dataModel.showInFormOrder),d("disabled",!(e.fieldsInfo.showInFormOrder!=null&&e.fieldsInfo.showInFormOrder.accessAddField))}}function B9(n,l){if(n&1){let e=E();r(0,"app-cms-enum-x-selector",53),w("modelChange",function(t){u(e);let s=p();return T(s.dataModel.inputDataType,t)||(s.dataModel.inputDataType=t),f(t)}),a()}if(n&2){let e=p();d("optionDataListResult",e.dataModelInputDataTypeEnumResult),b("model",e.dataModel.inputDataType),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.inputDataType==null?null:e.fieldsInfo.inputDataType.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function F9(n,l){if(n&1){let e=E();r(0,"div",16)(1,"label",54),c(2),a(),r(3,"input",55,9),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.configValueIntValueMin,t)||(s.dataModel.configValueIntValueMin=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=p(),i=R(33);o(2),M(e.fieldsInfo.configValueIntValueMin==null?null:e.fieldsInfo.configValueIntValueMin.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.configValueIntValueMin==null?null:e.fieldsInfo.configValueIntValueMin.fieldTitle)),b("ngModel",e.dataModel.configValueIntValueMin),o(3),y("",i.value.length," / 64")}}function O9(n,l){if(n&1){let e=E();r(0,"div",16)(1,"label",56),c(2),a(),r(3,"input",57,9),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.configValueIntValueMax,t)||(s.dataModel.configValueIntValueMax=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=p(),i=R(33);o(2),M(e.fieldsInfo.configValueIntValueMax==null?null:e.fieldsInfo.configValueIntValueMax.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.configValueIntValueMax==null?null:e.fieldsInfo.configValueIntValueMax.fieldTitle)),b("ngModel",e.dataModel.configValueIntValueMax),o(3),y("",i.value.length," / 64")}}function N9(n,l){if(n&1){let e=E();r(0,"app-cms-enum-x-selector",53),w("modelChange",function(t){u(e);let s=p(2);return T(s.dataModel.inputDataType,t)||(s.dataModel.inputDataType=t),f(t)}),a()}if(n&2){let e=p(2);d("optionDataListResult",e.dataModelInputDataTypeEnumResult),b("model",e.dataModel.inputDataType),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.inputDataType==null?null:e.fieldsInfo.inputDataType.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function H9(n,l){if(n&1){let e=E();r(0,"div",16)(1,"label",54),c(2),a(),r(3,"input",55,9),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.configValueIntValueMin,t)||(s.dataModel.configValueIntValueMin=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){p();let e=R(9),i=p();o(2),M(i.fieldsInfo.configValueIntValueMin==null?null:i.fieldsInfo.configValueIntValueMin.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.configValueIntValueMin==null?null:i.fieldsInfo.configValueIntValueMin.fieldTitle)),b("ngModel",i.dataModel.configValueIntValueMin),o(3),y("",e.value.length," / 64")}}function W9(n,l){if(n&1){let e=E();r(0,"div",16)(1,"label",56),c(2),a(),r(3,"input",57,9),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.configValueIntValueMax,t)||(s.dataModel.configValueIntValueMax=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){p();let e=R(9),i=p();o(2),M(i.fieldsInfo.configValueIntValueMax==null?null:i.fieldsInfo.configValueIntValueMax.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.configValueIntValueMax==null?null:i.fieldsInfo.configValueIntValueMax.fieldTitle)),b("ngModel",i.dataModel.configValueIntValueMax),o(3),y("",e.value.length," / 64")}}function G9(n,l){if(n&1){let e=E();r(0,"div",58)(1,"div",59)(2,"h5",60),c(3),a()(),r(4,"div",61)(5,"div",62)(6,"input",63),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.invisibleForEndUser,t)||(s.dataModel.invisibleForEndUser=t),f(t)}),a(),S(7,"label",64),a()()()}if(n&2){let e=p(2);o(3),y(" ",e.fieldsInfo.invisibleForEndUser==null?null:e.fieldsInfo.invisibleForEndUser.fieldTitle," "),o(3),b("ngModel",e.dataModel.invisibleForEndUser)}}function U9(n,l){if(n&1){let e=E();r(0,"div",58)(1,"div",59)(2,"h5",60),c(3),a()(),C(4,N9,1,6,"app-cms-enum-x-selector",25),r(5,"div",16)(6,"label",26),c(7),a(),r(8,"input",27,2),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.unit,t)||(s.dataModel.unit=t),f(t)}),a(),r(10,"em"),c(11),a()(),C(12,H9,7,5,"div",23)(13,W9,7,5,"div",23)(14,G9,8,2,"div",28),a()}if(n&2){let e=R(9),i=p();o(3),y(" ",i.fieldsInfo.invisibleForEndUser==null?null:i.fieldsInfo.invisibleForEndUser.fieldTitle," "),o(),d("ngIf",i.fieldsInfo.inputDataType==null?null:i.fieldsInfo.inputDataType.accessWatchField),o(3),M(i.fieldsInfo.unit==null?null:i.fieldsInfo.unit.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.unit==null?null:i.fieldsInfo.unit.fieldTitle)),b("ngModel",i.dataModel.unit),o(3),y("",e.value.length," / 64"),o(),d("ngIf",i.dataModel.inputDataType===1||i.dataModel.inputDataType===3),o(),d("ngIf",i.dataModel.inputDataType===1||i.dataModel.inputDataType===3),o(),d("ngIf",i.fieldsInfo.invisibleForEndUser==null?null:i.fieldsInfo.invisibleForEndUser.accessWatchField)}}function j9(n,l){if(n&1){let e=E();r(0,"div",58)(1,"div",59)(2,"h5",65),c(3),a()(),r(4,"div",61)(5,"div",62)(6,"input",66),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.invisibleForSubmiter,t)||(s.dataModel.invisibleForSubmiter=t),f(t)}),a(),S(7,"label",67),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.invisibleForSubmiter==null?null:e.fieldsInfo.invisibleForSubmiter.fieldTitle," "),o(3),b("ngModel",e.dataModel.invisibleForSubmiter)}}function q9(n,l){if(n&1){let e=E();r(0,"div",58)(1,"div",59)(2,"h5",68),c(3),a()(),r(4,"div",61)(5,"div",62)(6,"input",69),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.required,t)||(s.dataModel.required=t),f(t)}),a(),S(7,"label",70),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.required==null?null:e.fieldsInfo.required.fieldTitle," "),o(3),b("ngModel",e.dataModel.required)}}function Q9(n,l){if(n&1){let e=E();r(0,"div",58)(1,"div",59)(2,"h5",71),c(3),a()(),r(4,"div",61)(5,"div",62)(6,"input",72),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.isHistoryable,t)||(s.dataModel.isHistoryable=t),f(t)}),a(),S(7,"label",73),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.isHistoryable==null?null:e.fieldsInfo.isHistoryable.fieldTitle," "),o(3),b("ngModel",e.dataModel.isHistoryable)}}function z9(n,l){if(n&1){let e=E();r(0,"div",58)(1,"div",59)(2,"h5",74),c(3),a()(),r(4,"div",61)(5,"div",62)(6,"input",75),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.showInFastSearch,t)||(s.dataModel.showInFastSearch=t),f(t)}),a(),S(7,"label",76),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.showInFastSearch==null?null:e.fieldsInfo.showInFastSearch.fieldTitle," "),o(3),b("ngModel",e.dataModel.showInFastSearch)}}function Y9(n,l){if(n&1){let e=E();r(0,"div",58)(1,"div",59)(2,"h5",77),c(3),a()(),r(4,"div",61)(5,"div",62)(6,"input",78),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.configValueForceUseDefaultValue,t)||(s.dataModel.configValueForceUseDefaultValue=t),f(t)}),a(),S(7,"label",79),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.configValueForceUseDefaultValue==null?null:e.fieldsInfo.configValueForceUseDefaultValue.fieldTitle," "),o(3),b("ngModel",e.dataModel.configValueForceUseDefaultValue)}}function K9(n,l){if(n&1){let e=E();r(0,"div",58)(1,"div",59)(2,"h5",80),c(3),a()(),r(4,"div",61)(5,"div",62)(6,"input",81),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.configValueMultipleChoice,t)||(s.dataModel.configValueMultipleChoice=t),f(t)}),a(),S(7,"label",82),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.configValueMultipleChoice==null?null:e.fieldsInfo.configValueMultipleChoice.fieldTitle," "),o(3),b("ngModel",e.dataModel.configValueMultipleChoice)}}function Z9(n,l){if(n&1){let e=E();r(0,"mat-chip",83),I("removed",function(){let t=u(e).$implicit,s=p();return f(s.removeTagDefault(t))}),c(1),r(2,"button",84)(3,"mat-icon"),c(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),y(" ",e," ")}}function J9(n,l){if(n&1){let e=E();r(0,"mat-chip",83),I("removed",function(){let t=u(e).$implicit,s=p();return f(s.removeTagNull(t))}),c(1),r(2,"button",84)(3,"mat-icon"),c(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),y(" ",e," ")}}function X9(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function $9(n,l){if(n&1&&(r(0,"button",89),S(1,"i",90),c(2),g(3,"translate"),a()),n&2){p(2);let e=R(10);d("disabled",!e.form.valid),o(2),y(" ",h(3,2,"ACTION.SAVE")," ")}}function eN(n,l){if(n&1){let e=E();r(0,"div",85)(1,"button",86),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",87),c(3),g(4,"translate"),a(),C(5,$9,4,4,"button",88),a()}if(n&2){let e=p();o(3),y(" ",h(4,2,"ACTION.CANCEL")," "),o(2),d("ngIf",e.formInfo.submitButtonEnabled)}}var td=class td extends Bt{constructor(e,i,t,s,_,m,k,z,Se){super(s,new Dr,k,Se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyDetailService=s;this.cmsToastrService=_;this.estateEnumService=m;this.publicHelper=k;this.cdr=z;this.translate=Se;this.requestLinkPropertyTypeLanduseId="";this.requestLinkPropertyDetailGroupId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new G;this.dataModel=new Dr;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.dataModelInputDataTypeEnumResult=new G;this.keywordDefaultDataModel=[];this.keywordNullDataModel=[];this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestLinkPropertyTypeLanduseId=e.linkPropertyTypeLanduseId,this.requestLinkPropertyDetailGroupId=e.linkPropertyDetailGroupId),this.requestLinkPropertyTypeLanduseId&&this.requestLinkPropertyTypeLanduseId.length>0&&(this.dataModel.linkPropertyTypeLanduseId=this.requestLinkPropertyTypeLanduseId),this.requestLinkPropertyDetailGroupId&&this.requestLinkPropertyDetailGroupId.length>0&&(this.dataModel.linkPropertyDetailGroupId=this.requestLinkPropertyDetailGroupId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.getInputDataTypeEnum()}getInputDataTypeEnum(){this.coreEnumService.ServiceInputDataTypeEnum().subscribe({next:e=>{this.dataModelInputDataTypeEnumResult=e}})}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyDetailService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeLanduseId=e.id}onActionSelectorDetailGroup(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyDetailGroupId=e.id}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.submitButtonEnabled=!1,this.dataModel.configValueDefaultValueJson="",this.keywordDefaultDataModel&&this.keywordDefaultDataModel.length>0){let e=[];this.keywordDefaultDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.configValueDefaultValueJson=e.join(","))}if(this.dataModel.configValueNullValueJson="",this.keywordNullDataModel&&this.keywordNullDataModel.length>0){let e=[];this.keywordNullDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.configValueNullValueJson=e.join(","))}this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}addTagDefault(e){let i=(e.value||"").trim();i&&this.keywordDefaultDataModel.push(i),e.chipInput.clear()}removeTagDefault(e){let i=this.keywordDefaultDataModel.indexOf(e);i>=0&&this.keywordDefaultDataModel.splice(i,1)}addTagNull(e){let i=(e.value||"").trim();i&&this.keywordNullDataModel.push(i),e.chipInput.clear()}removeTagNull(e){let i=this.keywordNullDataModel.indexOf(e);i>=0&&this.keywordNullDataModel.splice(i,1)}};td.\u0275fac=function(i){return new(i||td)(v(Te),v(be),v(X),v(Gr),v(V),v(fn),v(F),v(O),v(L))},td.\u0275cmp=D({type:td,selectors:[["app-estate-property-detail-add"]],viewQuery:function(i,t){if(i&1&&te(x9,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:72,vars:69,consts:[["vform","ngForm"],["Title",""],["Unit",""],["chipList",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],["ShowInFormOrder",""],["ConfigValueIntValueMax",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["for","dataModel.unit",1,"color-highlight"],["matInput","","type","text","name","dataModel.unit","minlength","1","maxlength","64","id","dataModel.unit",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","d-flex mb-3",4,"ngIf"],["appearance","fill",1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4",2,"width","100%"],[1,"color-highlight"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.showInFormOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInFormOrder","id","dataModel.showInFormOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.configValueIntValueMin",1,"color-highlight"],["matInput","","type","number","name","dataModel.configValueIntValueMin","id","dataModel.configValueIntValueMin",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.configValueIntValueMax",1,"color-highlight"],["matInput","","type","number","name","dataModel.configValueIntValueMax","id","dataModel.configValueIntValueMax",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.invisibleForEndUser",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.invisibleForEndUser","name","dataModel.invisibleForEndUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.invisibleForEndUser",1,"custom-control-label"],["data-trigger-switch","dataModel.invisibleForSubmiter",1,"font-600","font-14"],["type","checkbox","id","dataModel.invisibleForSubmiter","name","dataModel.invisibleForSubmiter",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.invisibleForSubmiter",1,"custom-control-label"],["data-trigger-switch","dataModel.required",1,"font-600","font-14"],["type","checkbox","id","dataModel.required","name","dataModel.required",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.required",1,"custom-control-label"],["data-trigger-switch","dataModel.isHistoryable",1,"font-600","font-14"],["type","checkbox","id","dataModel.isHistoryable","name","dataModel.isHistoryable",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isHistoryable",1,"custom-control-label"],["data-trigger-switch","dataModel.showInFastSearch",1,"font-600","font-14"],["type","checkbox","id","dataModel.showInFastSearch","name","dataModel.showInFastSearch",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.showInFastSearch",1,"custom-control-label"],["data-trigger-switch","dataModel.configValueForceUseDefaultValue",1,"font-600","font-14"],["type","checkbox","id","dataModel.configValueForceUseDefaultValue","name","dataModel.configValueForceUseDefaultValue",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.configValueForceUseDefaultValue",1,"custom-control-label"],["data-trigger-switch","dataModel.configValueMultipleChoice",1,"font-600","font-14"],["type","checkbox","id","dataModel.configValueMultipleChoice","name","dataModel.configValueMultipleChoice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.configValueMultipleChoice",1,"custom-control-label"],[3,"removed"],["type","button","matChipRemove",""],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",10),S(1,"app-progress-spinner",11),r(2,"div",12)(3,"p",13),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",14),r(9,"form",15,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"div",16)(12,"label",17),c(13),a(),r(14,"input",18,1),w("ngModelChange",function(m){return u(s),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),C(16,P9,1,0,"i",19)(17,R9,1,0,"i",20),r(18,"em"),c(19),a(),C(20,k9,5,3,"mat-error",21),a(),r(21,"app-estate-property-type-landuse-selector",22),g(22,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorSelect(m))}),a(),r(23,"app-estate-property-detail-group-selector",22),g(24,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorDetailGroup(m))}),a(),C(25,D9,7,10,"div",23)(26,L9,11,11,"div",24)(27,V9,5,5,"div",23)(28,B9,1,6,"app-cms-enum-x-selector",25),r(29,"div",16)(30,"label",26),c(31),a(),r(32,"input",27,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.unit,m)||(t.dataModel.unit=m),f(m)}),a(),r(34,"em"),c(35),a()(),C(36,F9,7,5,"div",23)(37,O9,7,5,"div",23)(38,U9,15,10,"div",28)(39,j9,8,2,"div",28)(40,q9,8,2,"div",28)(41,Q9,8,2,"div",28)(42,z9,8,2,"div",28)(43,Y9,8,2,"div",28)(44,K9,8,2,"div",28),r(45,"div",29)(46,"label",30),c(47),g(48,"translate"),a(),r(49,"mat-chip-grid",31,3),C(51,Z9,5,1,"mat-chip",32),r(52,"input",33),g(53,"translate"),I("matChipInputTokenEnd",function(m){return u(s),f(t.addTagDefault(m))}),a()()(),r(54,"div",29)(55,"label",30),c(56),g(57,"translate"),a(),r(58,"mat-chip-grid",31,3),C(60,J9,5,1,"mat-chip",32),r(61,"input",33),g(62,"translate"),I("matChipInputTokenEnd",function(m){return u(s),f(t.addTagNull(m))}),a()()(),r(63,"div",16)(64,"label",34),c(65),a(),r(66,"textarea",35,4),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),a(),r(68,"em"),c(69),a(),C(70,X9,5,3,"mat-error",21),a(),C(71,eN,6,4,"div",36),a()()()}if(i&2){let s=R(15),_=R(33),m=R(50),k=R(67);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,55,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(5),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("optionSelectForce",t.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",h(22,57,"TITLE.USER")),o(2),d("optionSelectForce",t.dataModel.linkPropertyDetailGroupId)("optionPlaceholder",h(24,59,"TITLE.Category")),o(2),d("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.accessWatchField),o(),d("ngIf",t.fieldsInfo.showInFormOrder==null?null:t.fieldsInfo.showInFormOrder.accessWatchField),o(),d("ngIf",t.fieldsInfo.inputDataType==null?null:t.fieldsInfo.inputDataType.accessWatchField),o(3),M(t.fieldsInfo.unit==null?null:t.fieldsInfo.unit.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.unit==null?null:t.fieldsInfo.unit.fieldTitle)),b("ngModel",t.dataModel.unit),o(3),y("",_.value.length," / 64"),o(),d("ngIf",t.dataModel.inputDataType===1||t.dataModel.inputDataType===3),o(),d("ngIf",t.dataModel.inputDataType===1||t.dataModel.inputDataType===3),o(),d("ngIf",t.fieldsInfo.invisibleForEndUser==null?null:t.fieldsInfo.invisibleForEndUser.accessWatchField),o(),d("ngIf",t.fieldsInfo.invisibleForSubmiter==null?null:t.fieldsInfo.invisibleForSubmiter.accessWatchField),o(),d("ngIf",t.fieldsInfo.required==null?null:t.fieldsInfo.required.accessWatchField),o(),d("ngIf",t.fieldsInfo.isHistoryable==null?null:t.fieldsInfo.isHistoryable.accessWatchField),o(),d("ngIf",t.fieldsInfo.showInFastSearch==null?null:t.fieldsInfo.showInFastSearch.accessWatchField),o(),d("ngIf",t.fieldsInfo.configValueForceUseDefaultValue==null?null:t.fieldsInfo.configValueForceUseDefaultValue.accessWatchField),o(),d("ngIf",t.dataModel.configValueForceUseDefaultValue&&(t.fieldsInfo.configValueMultipleChoice==null?null:t.fieldsInfo.configValueMultipleChoice.accessWatchField)),o(3),M(h(48,61,"TITLE.Choose_keywords_relative_to_the_content")),o(4),d("ngForOf",t.keywordDefaultDataModel),o(),d("placeholder",Ie("",h(53,63,"TITLE.key_word"),"+"))("matChipInputFor",m)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes)("matChipInputAddOnBlur",t.addOnBlurTag),o(4),M(h(57,65,"TITLE.Choose_keywords_relative_to_null_content")),o(4),d("ngForOf",t.keywordNullDataModel),o(),d("placeholder",Ie("",h(62,67,"TITLE.key_word"),"+"))("matChipInputFor",m)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes)("matChipInputAddOnBlur",t.addOnBlurTag),o(4),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(3),y("",k.value.length," / 500"),o(),d("ngIf",k.errors==null?null:k.errors.required),o(),d("ngIf",!t.publicHelper.processService.process.inRunAll)}},dependencies:[ce,He,N,ke,Y,Wt,qt,q,we,de,De,Pe,me,Re,Ri,ki,Di,Pi,xe,tt,Ee,Q,Qo,U,ge,Gt,si,li,ai,ri,Ci,ed,B],encapsulation:2});var Ip=td;var tN=["vform"],iN=()=>["fa"];function nN(n,l){n&1&&S(0,"i",38)}function oN(n,l){n&1&&S(0,"i",39)}function rN(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function aN(n,l){if(n&1){let e=E();r(0,"div",16)(1,"label",40),c(2),a(),r(3,"input",41,5),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),I("iconPickerSelect",function(t){u(e);let s=p();return f(s.onIconPickerSelect(t))}),a(),r(5,"span",42),S(6,"i",43),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",se(9,iN))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessEditField)),o(3),d("ngClass",e.dataModel.iconFont)}}function lN(n,l){if(n&1){let e=E();r(0,"div",44)(1,"label",45),c(2),a(),r(3,"div",46)(4,"div",47)(5,"input",48,6),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),a()(),r(7,"div",49),S(8,"ngx-mat-color-toggle",50)(9,"ngx-mat-color-picker",51,7),a()()()}if(n&2){let e=R(10),i=p();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ve("background",i.dataModel.iconColor),d("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),o(3),d("for",e),o(),d("touchUi",!0)("color","primary")}}function sN(n,l){if(n&1){let e=E();r(0,"div",16)(1,"label",52),c(2),a(),r(3,"input",53,8),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.showInFormOrder,t)||(s.dataModel.showInFormOrder=t),f(t)}),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle)),b("ngModel",e.dataModel.showInFormOrder),d("disabled",!(e.fieldsInfo.showInFormOrder!=null&&e.fieldsInfo.showInFormOrder.accessEditField))}}function dN(n,l){if(n&1){let e=E();r(0,"app-cms-enum-x-selector",54),w("modelChange",function(t){u(e);let s=p();return T(s.dataModel.inputDataType,t)||(s.dataModel.inputDataType=t),f(t)}),a()}if(n&2){let e=p();d("optionDataListResult",e.dataModelInputDataTypeEnumResult),b("model",e.dataModel.inputDataType),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.inputDataType==null?null:e.fieldsInfo.inputDataType.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function cN(n,l){if(n&1){let e=E();r(0,"div",16)(1,"label",55),c(2),a(),r(3,"input",56,9),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.configValueIntValueMin,t)||(s.dataModel.configValueIntValueMin=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=p(),i=R(34);o(2),M(e.fieldsInfo.configValueIntValueMin==null?null:e.fieldsInfo.configValueIntValueMin.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.configValueIntValueMin==null?null:e.fieldsInfo.configValueIntValueMin.fieldTitle)),b("ngModel",e.dataModel.configValueIntValueMin),o(3),y("",i.value.length," / 64")}}function pN(n,l){if(n&1){let e=E();r(0,"div",16)(1,"label",57),c(2),a(),r(3,"input",58,9),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.configValueIntValueMax,t)||(s.dataModel.configValueIntValueMax=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=p(),i=R(34);o(2),M(e.fieldsInfo.configValueIntValueMax==null?null:e.fieldsInfo.configValueIntValueMax.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.configValueIntValueMax==null?null:e.fieldsInfo.configValueIntValueMax.fieldTitle)),b("ngModel",e.dataModel.configValueIntValueMax),o(3),y("",i.value.length," / 64")}}function mN(n,l){if(n&1){let e=E();r(0,"div",59)(1,"div",60)(2,"h5",61),c(3),a()(),r(4,"div",62)(5,"div",63)(6,"input",64),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.invisibleForEndUser,t)||(s.dataModel.invisibleForEndUser=t),f(t)}),a(),S(7,"label",65),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.invisibleForEndUser==null?null:e.fieldsInfo.invisibleForEndUser.fieldTitle," "),o(3),b("ngModel",e.dataModel.invisibleForEndUser)}}function uN(n,l){if(n&1){let e=E();r(0,"div",59)(1,"div",60)(2,"h5",66),c(3),a()(),r(4,"div",62)(5,"div",63)(6,"input",67),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.invisibleForSubmiter,t)||(s.dataModel.invisibleForSubmiter=t),f(t)}),a(),S(7,"label",68),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.invisibleForSubmiter==null?null:e.fieldsInfo.invisibleForSubmiter.fieldTitle," "),o(3),b("ngModel",e.dataModel.invisibleForSubmiter)}}function fN(n,l){if(n&1){let e=E();r(0,"div",59)(1,"div",60)(2,"h5",69),c(3),a()(),r(4,"div",62)(5,"div",63)(6,"input",70),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.required,t)||(s.dataModel.required=t),f(t)}),a(),S(7,"label",71),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.required==null?null:e.fieldsInfo.required.fieldTitle," "),o(3),b("ngModel",e.dataModel.required)}}function _N(n,l){if(n&1){let e=E();r(0,"div",59)(1,"div",60)(2,"h5",72),c(3),a()(),r(4,"div",62)(5,"div",63)(6,"input",73),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.isHistoryable,t)||(s.dataModel.isHistoryable=t),f(t)}),a(),S(7,"label",74),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.isHistoryable==null?null:e.fieldsInfo.isHistoryable.fieldTitle," "),o(3),b("ngModel",e.dataModel.isHistoryable)}}function gN(n,l){if(n&1){let e=E();r(0,"div",59)(1,"div",60)(2,"h5",75),c(3),a()(),r(4,"div",62)(5,"div",63)(6,"input",76),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.showInFastSearch,t)||(s.dataModel.showInFastSearch=t),f(t)}),a(),S(7,"label",77),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.showInFastSearch==null?null:e.fieldsInfo.showInFastSearch.fieldTitle," "),o(3),b("ngModel",e.dataModel.showInFastSearch)}}function hN(n,l){if(n&1){let e=E();r(0,"div",59)(1,"div",60)(2,"h5",78),c(3),a()(),r(4,"div",62)(5,"div",63)(6,"input",79),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.configValueForceUseDefaultValue,t)||(s.dataModel.configValueForceUseDefaultValue=t),f(t)}),a(),S(7,"label",80),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.configValueForceUseDefaultValue==null?null:e.fieldsInfo.configValueForceUseDefaultValue.fieldTitle," "),o(3),b("ngModel",e.dataModel.configValueForceUseDefaultValue)}}function yN(n,l){if(n&1){let e=E();r(0,"div",59)(1,"div",60)(2,"h5",81),c(3),a()(),r(4,"div",62)(5,"div",63)(6,"input",82),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.configValueMultipleChoice,t)||(s.dataModel.configValueMultipleChoice=t),f(t)}),a(),S(7,"label",83),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.configValueMultipleChoice==null?null:e.fieldsInfo.configValueMultipleChoice.fieldTitle," "),o(3),b("ngModel",e.dataModel.configValueMultipleChoice)}}function SN(n,l){if(n&1){let e=E();r(0,"mat-chip",84),I("removed",function(){let t=u(e).$implicit,s=p();return f(s.removeTagDefault(t))}),c(1),r(2,"button",85)(3,"mat-icon"),c(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),y(" ",e," ")}}function CN(n,l){if(n&1){let e=E();r(0,"mat-chip",84),I("removed",function(){let t=u(e).$implicit,s=p();return f(s.removeTagNull(t))}),c(1),r(2,"button",85)(3,"mat-icon"),c(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),y(" ",e," ")}}function vN(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function IN(n,l){if(n&1){let e=E();r(0,"div",86)(1,"button",87),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",88),c(3),g(4,"translate"),a(),r(5,"button",89),S(6,"i",90),c(7),g(8,"translate"),a()()}if(n&2){p();let e=R(10);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",h(8,5,"ACTION.SAVE")," ")}}var id=class id extends Ut{constructor(e,i,t,s,_,m,k,z){super(s,new Dr,m,z);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyDetailService=s;this.cmsToastrService=_;this.publicHelper=m;this.cdr=k;this.translate=z;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ht;this.dataModel=new Dr;this.formInfo=new ue;this.dataModelInputDataTypeEnumResult=new G;this.keywordDefaultDataModel=[];this.keywordNullDataModel=[];this.fileManagerOpenForm=!1;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getInputDataTypeEnum()}getInputDataTypeEnum(){this.coreEnumService.ServiceInputDataTypeEnum().subscribe({next:e=>{this.dataModelInputDataTypeEnumResult=e}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyDetailService.setAccessLoad(),this.estatePropertyDetailService.setAccessDataType(Ne.Editor),this.estatePropertyDetailService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.dataModel.configValueDefaultValueJson=this.dataModel.configValueDefaultValueJson+"",this.dataModel.configValueNullValueJson=this.dataModel.configValueNullValueJson+"",this.keywordDefaultDataModel=this.dataModel.configValueDefaultValueJson.split(","),this.keywordNullDataModel=this.dataModel.configValueNullValueJson.split(","),this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyDetailService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeLanduseId=e.id}onActionSelectorDetailGroup(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyDetailGroupId=e.id}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){if(this.formGroup.valid){if(this.dataModel.configValueDefaultValueJson="",this.keywordDefaultDataModel&&this.keywordDefaultDataModel.length>0){let e=[];this.keywordDefaultDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.configValueDefaultValueJson=e.join(","))}if(this.dataModel.configValueNullValueJson="",this.keywordNullDataModel&&this.keywordNullDataModel.length>0){let e=[];this.keywordNullDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.configValueNullValueJson=e.join(","))}this.formInfo.submitButtonEnabled=!1,this.DataEditContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}addTagDefault(e){let i=(e.value||"").trim();i&&this.keywordDefaultDataModel.push(i),e.chipInput.clear()}removeTagDefault(e){let i=this.keywordDefaultDataModel.indexOf(e);i>=0&&this.keywordDefaultDataModel.splice(i,1)}addTagNull(e){let i=(e.value||"").trim();i&&this.keywordNullDataModel.push(i),e.chipInput.clear()}removeTagNull(e){let i=this.keywordNullDataModel.indexOf(e);i>=0&&this.keywordNullDataModel.splice(i,1)}};id.\u0275fac=function(i){return new(i||id)(v(Te),v(be),v(X),v(Gr),v(V),v(F),v(O),v(L))},id.\u0275cmp=D({type:id,selectors:[["app-estate-property-detail-edit"]],viewQuery:function(i,t){if(i&1&&te(tN,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:73,vars:72,consts:[["vform","ngForm"],["Title",""],["Unit",""],["chipList",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],["ShowInFormOrder",""],["ConfigValueIntValueMax",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectForce","optionSelectParentForce","optionPlaceholder","optionDisabled"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["for","dataModel.unit",1,"color-highlight"],["matInput","","type","text","name","dataModel.unit","minlength","1","maxlength","64","id","dataModel.unit",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","d-flex mb-3",4,"ngIf"],["appearance","fill",1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4",2,"width","100%"],[1,"color-highlight"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.showInFormOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInFormOrder","id","dataModel.showInFormOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.configValueIntValueMin",1,"color-highlight"],["matInput","","type","number","name","dataModel.configValueIntValueMin","id","dataModel.configValueIntValueMin",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.configValueIntValueMax",1,"color-highlight"],["matInput","","type","number","name","dataModel.configValueIntValueMax","id","dataModel.configValueIntValueMax",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.invisibleForEndUser",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.invisibleForEndUser","name","dataModel.invisibleForEndUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.invisibleForEndUser",1,"custom-control-label"],["data-trigger-switch","dataModel.invisibleForSubmiter",1,"font-600","font-14"],["type","checkbox","id","dataModel.invisibleForSubmiter","name","dataModel.invisibleForSubmiter",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.invisibleForSubmiter",1,"custom-control-label"],["data-trigger-switch","dataModel.required",1,"font-600","font-14"],["type","checkbox","id","dataModel.required","name","dataModel.required",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.required",1,"custom-control-label"],["data-trigger-switch","dataModel.isHistoryable",1,"font-600","font-14"],["type","checkbox","id","dataModel.isHistoryable","name","dataModel.isHistoryable",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isHistoryable",1,"custom-control-label"],["data-trigger-switch","dataModel.showInFastSearch",1,"font-600","font-14"],["type","checkbox","id","dataModel.showInFastSearch","name","dataModel.showInFastSearch",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.showInFastSearch",1,"custom-control-label"],["data-trigger-switch","dataModel.configValueForceUseDefaultValue",1,"font-600","font-14"],["type","checkbox","id","dataModel.configValueForceUseDefaultValue","name","dataModel.configValueForceUseDefaultValue",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.configValueForceUseDefaultValue",1,"custom-control-label"],["data-trigger-switch","dataModel.configValueMultipleChoice",1,"font-600","font-14"],["type","checkbox","id","dataModel.configValueMultipleChoice","name","dataModel.configValueMultipleChoice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.configValueMultipleChoice",1,"custom-control-label"],[3,"removed"],["type","button","matChipRemove",""],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",10),S(1,"app-progress-spinner",11),r(2,"div",12)(3,"p",13),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",14),r(9,"form",15,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"div",16)(12,"label",17),c(13),a(),r(14,"input",18,1),w("ngModelChange",function(m){return u(s),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),C(16,nN,1,0,"i",19)(17,oN,1,0,"i",20),r(18,"em"),c(19),a(),C(20,rN,5,3,"mat-error",21),a(),r(21,"app-estate-property-type-landuse-selector",22),g(22,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorSelect(m))}),S(23,"br"),a(),r(24,"app-estate-property-detail-group-selector",23),g(25,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorDetailGroup(m))}),a(),C(26,aN,7,10,"div",24)(27,lN,11,11,"div",25)(28,sN,5,5,"div",24)(29,dN,1,6,"app-cms-enum-x-selector",26),r(30,"div",16)(31,"label",27),c(32),a(),r(33,"input",28,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.unit,m)||(t.dataModel.unit=m),f(m)}),a(),r(35,"em"),c(36),a()(),C(37,cN,7,5,"div",24)(38,pN,7,5,"div",24)(39,mN,8,2,"div",29)(40,uN,8,2,"div",29)(41,fN,8,2,"div",29)(42,_N,8,2,"div",29)(43,gN,8,2,"div",29)(44,hN,8,2,"div",29)(45,yN,8,2,"div",29),r(46,"div",30)(47,"label",31),c(48),g(49,"translate"),a(),r(50,"mat-chip-grid",32,3),C(52,SN,5,1,"mat-chip",33),r(53,"input",34),g(54,"translate"),I("matChipInputTokenEnd",function(m){return u(s),f(t.addTagDefault(m))}),a()()(),r(55,"div",30)(56,"label",31),c(57),g(58,"translate"),a(),r(59,"mat-chip-grid",32,3),C(61,CN,5,1,"mat-chip",33),r(62,"input",34),g(63,"translate"),I("matChipInputTokenEnd",function(m){return u(s),f(t.addTagNull(m))}),a()()(),r(64,"div",16)(65,"label",35),c(66),a(),r(67,"textarea",36,4),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),a(),r(69,"em"),c(70),a(),C(71,vN,5,3,"mat-error",21),a(),C(72,IN,9,7,"div",37),a()()()}if(i&2){let s=R(15),_=R(34),m=R(51),k=R(68);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,58,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(5),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("optionSelectForce",t.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",h(22,60,"TITLE.USER"))("optionDisabled",!(t.fieldsInfo.linkPropertyTypeLanduseId!=null&&t.fieldsInfo.linkPropertyTypeLanduseId.accessEditField)),o(3),d("optionSelectForce",t.dataModel.linkPropertyDetailGroupId)("optionSelectParentForce",t.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",h(25,62,"TITLE.Category"))("optionDisabled",!(t.fieldsInfo.linkPropertyDetailGroupId!=null&&t.fieldsInfo.linkPropertyDetailGroupId.accessEditField)),o(2),d("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.accessWatchField),o(),d("ngIf",t.fieldsInfo.showInFormOrder==null?null:t.fieldsInfo.showInFormOrder.accessWatchField),o(),d("ngIf",t.fieldsInfo.inputDataType==null?null:t.fieldsInfo.inputDataType.accessWatchField),o(3),M(t.fieldsInfo.unit==null?null:t.fieldsInfo.unit.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.unit==null?null:t.fieldsInfo.unit.fieldTitle)),b("ngModel",t.dataModel.unit),o(3),y("",_.value.length," / 64"),o(),d("ngIf",t.dataModel.inputDataType===1||t.dataModel.inputDataType===3),o(),d("ngIf",t.dataModel.inputDataType===1||t.dataModel.inputDataType===3),o(),d("ngIf",t.fieldsInfo.invisibleForEndUser==null?null:t.fieldsInfo.invisibleForEndUser.accessWatchField),o(),d("ngIf",t.fieldsInfo.invisibleForSubmiter==null?null:t.fieldsInfo.invisibleForSubmiter.accessWatchField),o(),d("ngIf",t.fieldsInfo.required==null?null:t.fieldsInfo.required.accessWatchField),o(),d("ngIf",t.fieldsInfo.isHistoryable==null?null:t.fieldsInfo.isHistoryable.accessWatchField),o(),d("ngIf",t.fieldsInfo.showInFastSearch==null?null:t.fieldsInfo.showInFastSearch.accessWatchField),o(),d("ngIf",t.fieldsInfo.configValueForceUseDefaultValue==null?null:t.fieldsInfo.configValueForceUseDefaultValue.accessWatchField),o(),d("ngIf",t.dataModel.configValueForceUseDefaultValue&&(t.fieldsInfo.configValueMultipleChoice==null?null:t.fieldsInfo.configValueMultipleChoice.accessWatchField)),o(3),M(h(49,64,"TITLE.Choose_keywords_relative_to_the_content")),o(4),d("ngForOf",t.keywordDefaultDataModel),o(),d("placeholder",Ie("",h(54,66,"TITLE.key_word"),"+"))("matChipInputFor",m)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes)("matChipInputAddOnBlur",t.addOnBlurTag),o(4),M(h(58,68,"TITLE.Choose_keywords_relative_to_null_content")),o(4),d("ngForOf",t.keywordNullDataModel),o(),d("placeholder",Ie("",h(63,70,"TITLE.key_word"),"+"))("matChipInputFor",m)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes)("matChipInputAddOnBlur",t.addOnBlurTag),o(4),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(3),y("",k.value.length," / 500"),o(),d("ngIf",k.errors==null?null:k.errors.required),o(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[ce,He,N,ke,Y,Wt,qt,q,we,de,De,Pe,me,Re,Ri,ki,Di,Pi,xe,tt,Ee,Q,Qo,U,ge,Gt,si,li,ai,ri,Ci,ed,B],encapsulation:2});var Ep=id;function EN(n,l){if(n&1){let e=E();r(0,"button",14),I("click",function(){u(e);let t=p();return f(t.onActionAdd())}),c(1),g(2,"translate"),a()}n&2&&(o(),y(" ",h(2,1,"ACTION.ADD")," "))}function MN(n,l){if(n&1){let e=E();r(0,"button",15),I("click",function(){u(e);let t=p();return f(t.onActionEdit())}),c(1),g(2,"translate"),a()}n&2&&(o(),y(" ",h(2,1,"ACTION.EDIT")," "))}function bN(n,l){if(n&1){let e=E();r(0,"button",16),I("click",function(){u(e);let t=p();return f(t.onActionDelete())}),c(1),g(2,"translate"),a()}n&2&&(o(),y(" ",h(2,1,"ACTION.DELETE")," "))}function TN(n,l){if(n&1){let e=E();r(0,"button",17),I("click",function(){u(e);let t=p();return f(t.onActionButtonReload())}),r(1,"mat-icon",18),g(2,"translate"),c(3,"refresh"),a()()}if(n&2){let e=p();o(),K("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),d("title",x(h(2,4,"ACTION.RELOAD")))}}function wN(n,l){if(n&1){let e=E();r(0,"mat-tree-node",19),S(1,"button",20),r(2,"span",21),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionSelect(t))}),S(3,"i",22),c(4),a()()}if(n&2){let e=l.$implicit,i=p();K("ntk-tree-selected",(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&i.dataModelSelect.id===e.id),o(3),ve("color",e.IconColor),d("ngClass",e.IconFont),o(),y("\xA0",e.title)}}function xN(n,l){if(n&1){let e=E();r(0,"mat-tree-node",23)(1,"button",24)(2,"mat-icon",25),c(3),a()(),r(4,"span",21),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionSelect(t))}),S(5,"i",22),c(6),a()()}if(n&2){let e=l.$implicit,i=p(),t=R(12);K("ntk-tree-selected",(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&i.dataModelSelect.id===e.id),d("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),vt("type","button")("aria-label","Toggle "+e.title),o(2),y(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),ve("color",e.IconColor),d("ngClass",e.IconFont),o(),y("\xA0",e.title)}}var nd=class nd{constructor(l,e,i,t,s,_,m,k,z,Se){this.cmsToastrService=l;this.coreEnumService=e;this.categoryService=i;this.cmsConfirmationDialogService=t;this.dialog=s;this.cdr=_;this.publicHelper=m;this.translate=k;this.tokenHelper=z;this.cmsStoreService=Se;this.requestLinkPropertyTypeLanduseId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new Hn;this.dataModelResult=new G;this.filterModel=new pe;this.dataSource=new Ho;this.optionChange=new Xe;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(l,e)=>!1;this.childrenAccessor=l=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}set optionLinkPropertyTypeLanduseId(l){if(this.requestLinkPropertyTypeLanduseId=l,this.filterModel=new pe,l&&l.length>0){let e=new H;e.propertyName="LinkPropertyTypeLanduseId",e.value=l,this.filterModel.filters.push(e)}}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(()=>ae(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Hn,this.DataGetAll()}onActionSelectForce(l){}onActionAdd(){var l="";this.publicHelper.isMobile?l="dialog-fullscreen":l="dialog-min",this.dialog.open(Zs,{height:"90%",panelClass:l,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{linkPropertyTypeLanduseId:this.requestLinkPropertyTypeLanduseId}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let l="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(l=this.dataModelSelect.id),l===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Xs,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let l="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(l=this.dataModelSelect.id),l===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="",i="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(t=>{e=t["MESSAGE.Please_Confirm"],i=t["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.dataModelSelect.title+" ) "}),this.cmsConfirmationDialogService.confirm(e,i).then(t=>{if(t){let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(_=>{this.publicHelper.processService.processStart(s,_,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.dataModelSelect.id).subscribe({next:_=>{_.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(s)},error:_=>{this.cmsToastrService.typeError(_),this.publicHelper.processService.processStop(s,!1)}})}}).catch(()=>{})}};nd.\u0275fac=function(e){return new(e||nd)(v(V),v(X),v(Ii),v(wt),v(Ae),v(O),v(F),v(L),v(Z),v(J))},nd.\u0275cmp=D({type:nd,selectors:[["app-estate-property-detail-group-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionLinkPropertyTypeLanduseId:"optionLinkPropertyTypeLanduseId",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:16,vars:14,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["aria-hidden","true",3,"ngClass"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(r(0,"app-cms-html-tree",1),A(1,2),c(2),g(3,"translate"),P(),A(4,3),C(5,EN,3,3,"button",4)(6,MN,3,3,"button",5)(7,bN,3,3,"button",6)(8,TN,4,6,"button",7),P(),A(9,8),S(10,"app-progress-spinner",9),r(11,"mat-tree",10,0),C(13,wN,5,6,"mat-tree-node",11)(14,xN,7,11,"mat-tree-node",12),a(),P(),$e(15,13),a()),e&2&&(d("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),y(" ",h(3,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),o(),d("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)&&(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessDeleteRow)&&(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessWatchRow),o(2),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),d("matTreeNodeDefWhen",i.hasChild))},dependencies:[ce,N,Je,Ee,Bo,Fo,No,Oo,Vo,U,qo,B],encapsulation:2});var Mp=nd;var PN=()=>[5,10,20,100];function RN(n,l){if(n&1){let e=E();r(0,"a",40),I("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),S(1,"i",41),a()}}function kN(n,l){if(n&1){let e=E();r(0,"div",42)(1,"a",43),I("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),S(2,"i",44)(3,"br"),a(),r(4,"p",45),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.ADD")," "))}function DN(n,l){if(n&1){let e=E();r(0,"div",42)(1,"a",46),I("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",47)(3,"br"),a(),r(4,"p",45),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.EDIT")," "))}function LN(n,l){if(n&1){let e=E();r(0,"div",42)(1,"a",48),I("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",49)(3,"br"),a(),r(4,"p",45),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.DELETE")," "))}function VN(n,l){if(n&1&&(r(0,"mat-header-cell",50),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function BN(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function FN(n,l){if(n&1&&(r(0,"mat-header-cell",50),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle," ")}}function ON(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",51),a()),n&2){let e=l.$implicit;o(),ve("color",e.iconColor),d("ngClass",e.iconFont)}}function NN(n,l){if(n&1&&(r(0,"mat-header-cell",50),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function HN(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function WN(n,l){if(n&1&&(r(0,"mat-header-cell",50),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.unit==null?null:e.fieldsInfo.unit.fieldTitle," ")}}function GN(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.unit," ")}}function UN(n,l){if(n&1&&(r(0,"mat-header-cell",50),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle," ")}}function jN(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.showInFormOrder," ")}}function qN(n,l){if(n&1&&(r(0,"mat-header-cell",50),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.linkPropertyTypeLanduseId==null?null:e.fieldsInfo.linkPropertyTypeLanduseId.fieldTitle," ")}}function QN(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"cmstitle"),a()),n&2){let e=l.$implicit,i=p();o(),y(" ",di(2,1,e.linkPropertyTypeLanduseId,i.dataModelEstatePropertyTypeLanduseResult.listItems)," ")}}function zN(n,l){if(n&1&&(r(0,"mat-header-cell",50),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.linkPropertyDetailGroupId==null?null:e.fieldsInfo.linkPropertyDetailGroupId.fieldTitle," ")}}function YN(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"cmstitle"),a()),n&2){let e=l.$implicit,i=p();o(),y(" ",di(2,1,e.linkPropertyDetailGroupId,i.dataModelEstatePropertyDetailGroupResult.listItems)," ")}}function KN(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.OPTION")," "))}function ZN(n,l){if(n&1&&(r(0,"mat-cell",52)(1,"button",53)(2,"mat-icon"),c(3,"more_vert"),a()(),S(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),d("matMenuTriggerFor",e)}}function JN(n,l){n&1&&(r(0,"mat-header-cell",50),c(1,". "),a())}function XN(n,l){n&1&&(r(0,"mat-cell")(1,"mat-icon",54),c(2,"reorder"),a()())}function $N(n,l){n&1&&S(0,"mat-header-row")}function eH(n,l){if(n&1){let e=E();r(0,"mat-row",55),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var od=class od extends xt{constructor(e,i,t,s,_,m,k,z,Se,qe,Ue,ft,jt,Ft){super(e,new Dr,jt,k,Ue);this.contentService=e;this.estatePropertyDetailGroupService=i;this.estatePropertyTypeLanduseService=t;this.cmsConfirmationDialogService=s;this.activatedRoute=_;this.cmsToastrService=m;this.tokenHelper=k;this.cmsStoreService=z;this.router=Se;this.cdr=qe;this.translate=Ue;this.pageInfo=ft;this.publicHelper=jt;this.dialog=Ft;this.requestLinkPropertyTypeLanduseId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new pe;this.filterDataModelQueryBuilder=[];this.dataModelEstatePropertyTypeLanduseResult=new G;this.dataModelEstatePropertyDetailGroupResult=new G;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["IconFont","title","Unit","ShowInFormOrder","LinkPropertyTypeLanduseId","LinkPropertyDetailGroupId"];this.tabledisplayedColumnsMobileSource=["IconFont","title","Unit","ShowInFormOrder","LinkPropertyTypeLanduseId","LinkPropertyDetailGroupId"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.requestLinkPropertyTypeLanduseId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeLanduseId"),this.optionsSearch.parentMethods={onSubmit:Oe=>this.onSubmitOptionsSearch(Oe)},this.filteModelContent.sortColumn="ShowInFormOrder",this.filteModelContent.sortType=$.Ascending;let Yt=new H;this.requestLinkPropertyTypeLanduseId&&this.requestLinkPropertyTypeLanduseId.length>0&&(Yt.propertyName="LinkPropertyTypeLanduseId",Yt.value=this.requestLinkPropertyTypeLanduseId,this.filteModelContent.filters.push(Yt))}ngOnInit(){this.filteModelContent.sortColumn="ShowInFormOrder",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getPropertyType(),this.getPropertyDetailGroup()}getPropertyType(){let e=new pe;e.rowPerPage=100,this.estatePropertyTypeLanduseService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelEstatePropertyTypeLanduseResult=i}})}getPropertyDetailGroup(){let e=new pe;e.rowPerPage=100,this.estatePropertyDetailGroupService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelEstatePropertyDetailGroupResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Dr);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new H;t.propertyName="LinkPropertyDetailGroupId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=$.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onTableDropRow(e){let i=this.tableSource.data.findIndex(s=>s===e.item.data),t=new tc;t.id=this.tableSource.data[i].id,t.centerId=this.tableSource.data[e.currentIndex].id,i>e.currentIndex?t.actionGo=Ma.GoUp:t.actionGo=Ma.GoDown,this.contentService.ServiceEditStep(t).subscribe({next:s=>{s.isSuccess?(ac(this.tableSource.data,i,e.currentIndex),this.tableSource.data=this.tableSource.data.slice()):this.cmsToastrService.typeErrorMessage(s.errorMessage)},error:s=>{this.cmsToastrService.typeError(s)}})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new pe,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ip,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{linkPropertyTypeLanduseId:this.requestLinkPropertyTypeLanduseId,linkPropertyDetailGroupId:this.categoryModelSelected.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ep,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new H;_.propertyName="recordStatus",_.value=Qe.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/estate/property-type-landuse/"])}};od.\u0275fac=function(i){return new(i||od)(v(Gr),v(Ii),v(Ei),v(wt),v(Kt),v(V),v(Z),v(J),v(Ze),v(O),v(L),v(St),v(F),v(Ae))},od.\u0275cmp=D({type:od,selectors:[["app-estate-property-detail-list"]],standalone:!1,features:[oe],decls:63,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange","optionLinkPropertyTypeLanduseId"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","cdkDropList","",3,"matSortChange","cdkDropListDropped","dataSource","cdkDropListData"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","title"],["matColumnDef","Unit"],["matColumnDef","ShowInFormOrder"],["matColumnDef","LinkPropertyTypeLanduseId"],["matColumnDef","LinkPropertyDetailGroupId"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=E();r(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),I("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(1,4),r(2,"app-estate-property-detail-group-tree",5),I("optionChange",function(m){return u(s),f(t.onActionSelectorSelect(m))}),a(),P(),$e(3,6)(4,7),A(5,8),C(6,RN,2,0,"a",9),r(7,"a",10),I("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(8,"i",11),a(),r(9,"a",10),I("click",function(){return u(s),f(t.onActionButtonReload())}),S(10,"i",12),a(),P(),A(11,13),r(12,"a",14),I("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(13,"mat-slide-toggle",15),c(14),g(15,"translate"),a(),r(16,"a",14),I("click",function(){return u(s),f(t.onActionButtonStatist())}),S(17,"mat-slide-toggle",15),c(18),g(19,"translate"),a(),P(),A(20,16),C(21,kN,7,3,"div",17),P(),A(22,18),C(23,DN,7,3,"div",17)(24,LN,7,3,"div",17),P(),A(25,19),r(26,"app-cms-search-list",20),w("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),a(),r(27,"app-cms-statist-list",20),w("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),P(),A(28,21),r(29,"mat-table",22,0),I("matSortChange",function(){u(s);let m=R(30);return f(t.onTableSortData(m))})("cdkDropListDropped",function(m){return u(s),f(t.onTableDropRow(m))}),A(31,23),C(32,VN,2,1,"mat-header-cell",24)(33,BN,2,1,"mat-cell",25),P(),A(34,26),C(35,FN,2,1,"mat-header-cell",24)(36,ON,2,3,"mat-cell",25),P(),A(37,27),C(38,NN,2,1,"mat-header-cell",24)(39,HN,2,1,"mat-cell",25),P(),A(40,28),C(41,WN,2,1,"mat-header-cell",24)(42,GN,2,1,"mat-cell",25),P(),A(43,29),C(44,UN,2,1,"mat-header-cell",24)(45,jN,2,1,"mat-cell",25),P(),A(46,30),C(47,qN,2,1,"mat-header-cell",24)(48,QN,3,4,"mat-cell",25),P(),A(49,31),C(50,zN,2,1,"mat-header-cell",24)(51,YN,3,4,"mat-cell",25),P(),A(52,32),C(53,KN,3,3,"mat-header-cell",33)(54,ZN,6,1,"mat-cell",34),P(),A(55,35),C(56,JN,2,0,"mat-header-cell",24)(57,XN,3,0,"mat-cell",25),P(),C(58,$N,1,0,"mat-header-row",36)(59,eH,1,2,"mat-row",37),a(),P(),A(60,38),r(61,"mat-paginator",39,1),I("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),P(),a()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(2),d("optionLinkPropertyTypeLanduseId",t.requestLinkPropertyTypeLanduseId),o(4),d("ngIf",(t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)>0),o(4),K("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),d("checked",t.optionsSearch.data.show),o(),y("",h(15,28,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",h(19,30,"ACTION.STATIST")," "),o(3),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow)&&(t.categoryModelSelected==null?null:t.categoryModelSelected.id.length)>0),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(2),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource)("cdkDropListData",t.tableSource),o(29),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(32,PN)))},dependencies:[ce,N,Je,Ee,Dt,Lt,Mt,yt,bt,Tt,nt,rt,dt,at,ot,ct,lt,st,pt,mt,At,Pt,Rt,kt,sc,lc,Mp,B,Qn],encapsulation:2});var Yd=od;var tH=["vform"],iH=n=>({direction:n});function nH(n,l){if(n&1){let e=E();r(0,"app-cms-enum-record-status-selector",35),w("modelChange",function(t){u(e);let s=p();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();b("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function oH(n,l){if(n&1){let e=E();r(0,"app-cms-enum-x-selector",36),w("modelChange",function(t){u(e);let s=p();return T(s.dataModel.expertPriceType,t)||(s.dataModel.expertPriceType=t),f(t)}),a()}if(n&2){let e=p();d("optionDataListResult",e.dataModelEstatePropertyExpertPriceTypeEnumResult),b("model",e.dataModel.expertPriceType),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.expertPriceType==null?null:e.fieldsInfo.expertPriceType.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function rH(n,l){if(n&1){let e=E();r(0,"mat-icon",37),I("click",function(){u(e);let t=p();return f(t.dataModel.linkContractTypeId=null)}),c(1,"close "),a()}}function aH(n,l){if(n&1){let e=E();r(0,"mat-icon",37),I("click",function(){u(e);let t=p();return f(t.dataModel.linkPropertyTypeUsageId=null)}),c(1,"close "),a()}}function lH(n,l){if(n&1){let e=E();r(0,"mat-icon",37),I("click",function(){u(e);let t=p();return f(t.onActionSelectorSelectLanduse(null))}),c(1,"close "),a()}}function sH(n,l){if(n&1){let e=E();r(0,"tr")(1,"td")(2,"div",24)(3,"label",39),c(4),a(),r(5,"input",40,3),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.salePriceMin,t)||(s.dataModel.salePriceMin=t),f(t)}),a()()(),r(7,"td")(8,"div",24)(9,"label",41),c(10),a(),r(11,"input",42,4),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.salePriceMax,t)||(s.dataModel.salePriceMax=t),f(t)}),a()()(),r(13,"td")(14,"div",24)(15,"label",43),c(16),a(),r(17,"input",44,5),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.salePriceAverage,t)||(s.dataModel.salePriceAverage=t),f(t)}),a()()()()}if(n&2){let e=p(2);o(4),M(e.fieldsInfo.salePriceMin==null?null:e.fieldsInfo.salePriceMin.fieldTitle),o(),b("ngModel",e.dataModel.salePriceMin),o(5),M(e.fieldsInfo.salePriceMax==null?null:e.fieldsInfo.salePriceMax.fieldTitle),o(),b("ngModel",e.dataModel.salePriceMax),o(5),M(e.fieldsInfo.salePriceAverage==null?null:e.fieldsInfo.salePriceAverage.fieldTitle),o(),b("ngModel",e.dataModel.salePriceAverage)}}function dH(n,l){if(n&1){let e=E();r(0,"tr")(1,"td")(2,"div",24)(3,"label",45),c(4),a(),r(5,"input",46,6),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.rentPriceMin,t)||(s.dataModel.rentPriceMin=t),f(t)}),a()()(),r(7,"td")(8,"div",24)(9,"label",47),c(10),a(),r(11,"input",48,7),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.rentPriceMax,t)||(s.dataModel.rentPriceMax=t),f(t)}),a()()(),r(13,"td")(14,"div",24)(15,"label",49),c(16),a(),r(17,"input",50,8),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.rentPriceAverage,t)||(s.dataModel.rentPriceAverage=t),f(t)}),a()()()()}if(n&2){let e=p(2);o(4),M(e.fieldsInfo.rentPriceMin==null?null:e.fieldsInfo.rentPriceMin.fieldTitle),o(),b("ngModel",e.dataModel.rentPriceMin),o(5),M(e.fieldsInfo.rentPriceMax==null?null:e.fieldsInfo.rentPriceMax.fieldTitle),o(),b("ngModel",e.dataModel.rentPriceMax),o(5),M(e.fieldsInfo.rentPriceAverage==null?null:e.fieldsInfo.rentPriceAverage.fieldTitle),o(),b("ngModel",e.dataModel.rentPriceAverage)}}function cH(n,l){if(n&1){let e=E();r(0,"tr")(1,"td")(2,"div",24)(3,"label",51),c(4),a(),r(5,"input",52,9),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.depositPriceMin,t)||(s.dataModel.depositPriceMin=t),f(t)}),a()()(),r(7,"td")(8,"div",24)(9,"label",53),c(10),a(),r(11,"input",54,10),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.depositPriceMax,t)||(s.dataModel.depositPriceMax=t),f(t)}),a()()(),r(13,"td")(14,"div",24)(15,"label",55),c(16),a(),r(17,"input",56,11),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.depositPriceAverage,t)||(s.dataModel.depositPriceAverage=t),f(t)}),a()()()()}if(n&2){let e=p(2);o(4),M(e.fieldsInfo.depositPriceMin==null?null:e.fieldsInfo.depositPriceMin.fieldTitle),o(),b("ngModel",e.dataModel.depositPriceMin),o(5),M(e.fieldsInfo.depositPriceMax==null?null:e.fieldsInfo.depositPriceMax.fieldTitle),o(),b("ngModel",e.dataModel.depositPriceMax),o(5),M(e.fieldsInfo.depositPriceAverage==null?null:e.fieldsInfo.depositPriceAverage.fieldTitle),o(),b("ngModel",e.dataModel.depositPriceAverage)}}function pH(n,l){if(n&1){let e=E();r(0,"tr")(1,"td")(2,"div",24)(3,"label",57),c(4),a(),r(5,"input",58,12),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.periodPriceMin,t)||(s.dataModel.periodPriceMin=t),f(t)}),a()()(),r(7,"td")(8,"div",24)(9,"label",59),c(10),a(),r(11,"input",60,13),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.periodPriceMax,t)||(s.dataModel.periodPriceMax=t),f(t)}),a()()(),r(13,"td")(14,"div",24)(15,"label",61),c(16),g(17,"translate"),a(),r(18,"input",62,14),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.periodPriceAverage,t)||(s.dataModel.periodPriceAverage=t),f(t)}),a()()()()}if(n&2){let e=p(2);o(4),M(e.fieldsInfo.periodPriceMin==null?null:e.fieldsInfo.periodPriceMin.fieldTitle),o(),b("ngModel",e.dataModel.periodPriceMin),o(5),M(e.fieldsInfo.periodPriceMax==null?null:e.fieldsInfo.periodPriceMax.fieldTitle),o(),b("ngModel",e.dataModel.periodPriceMax),o(5),M(h(17,6,"TITLE.Period_Price_Average")),o(2),b("ngModel",e.dataModel.periodPriceAverage)}}function mH(n,l){if(n&1&&(r(0,"div")(1,"table",38),C(2,sH,19,6,"tr",31)(3,dH,19,6,"tr",31)(4,cH,19,6,"tr",31)(5,pH,20,8,"tr",31),a()()),n&2){let e=p();o(2),d("ngIf",e.contractTypeSelected.hasSalePrice),o(),d("ngIf",e.contractTypeSelected.hasRentPrice),o(),d("ngIf",e.contractTypeSelected.hasDepositPrice),o(),d("ngIf",e.contractTypeSelected.hasPeriodPrice)}}function uH(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function fH(n,l){if(n&1){let e=E();r(0,"div",63)(1,"button",64),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",65),c(3),g(4,"translate"),a(),r(5,"button",66),S(6,"i",67),c(7),g(8,"translate"),a()()}if(n&2){p();let e=R(10);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",h(8,5,"ACTION.SAVE")," ")}}var rd=class rd extends Bt{constructor(e,i,t,s,_,m,k,z,Se,qe,Ue){super(s,new Lr,m,Ue);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyExpertPriceService=s;this.cmsToastrService=_;this.publicHelper=m;this.cdr=k;this.estateEnumService=z;this.cmsStoreService=Se;this.tokenHelper=qe;this.translate=Ue;this.requestTargetCategoryId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new It;this.dataModelResult=new G;this.dataModel=new Lr;this.dataModelEstatePropertyExpertPriceTypeEnumResult=new G;this.formInfo=new ue;this.PropertyTypeSelected=new Qt;this.dataModelCorCurrencySelector=new Fi;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.getEstatePropertyExpertPriceTypeEnum(),this.DataGetAccess()}getEstatePropertyExpertPriceTypeEnum(){this.estateEnumService.ServiceEstatePropertyExpertPriceTypeEnum().subscribe({next:e=>{this.dataModelEstatePropertyExpertPriceTypeEnumResult=e}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyExpertPriceService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelectUsage(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.dataModel.linkPropertyTypeUsageId=e.id}onActionSelectorSelectLanduse(e){if(this.PropertyTypeSelected=null,this.dataModel.linkPropertyTypeLanduseId=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.PropertyTypeSelected=e,this.dataModel.linkPropertyTypeLanduseId=e.id}onActionSelectorContarctType(e){if(this.dataModel.linkContractTypeId=null,this.contractTypeSelected=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.contractTypeSelected=e,this.dataModel.linkContractTypeId=e.id,this.dataModel.rentPriceMin=0,this.dataModel.rentPriceMax=0,this.dataModel.rentPriceAverage=0,this.dataModel.salePriceMin=0,this.dataModel.salePriceMax=0,this.dataModel.salePriceAverage=0,this.dataModel.depositPriceMin=0,this.dataModel.depositPriceMax=0,this.dataModel.depositPriceAverage=0,this.dataModel.periodPriceMin=0,this.dataModel.periodPriceMax=0,this.dataModel.periodPriceAverage=0}onActionSelectorLocation(e){this.dataModel.linkLocationId=null,e&&e.id>0&&(this.dataModel.linkLocationId=e.id)}onActionSelectCurrency(e){if(!e||e.id<=0){this.dataModelCorCurrencySelector=null,this.dataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=e,this.dataModel.linkCoreCurrencyId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};rd.\u0275fac=function(i){return new(i||rd)(v(Te),v(be),v(X),v(To),v(V),v(F),v(O),v(fn),v(J),v(Z),v(L))},rd.\u0275cmp=D({type:rd,selectors:[["app-estate-property-expert-price-add"]],viewQuery:function(i,t){if(i&1&&te(tH,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:47,vars:54,consts:[["vform","ngForm"],["CreatedYaer",""],["Description",""],["SalePriceMin",""],["SalePriceMax",""],["SalePriceAverage",""],["RentPriceMin",""],["RentPriceMax",""],["RentPriceAverage",""],["DepositPriceMin",""],["DepositPriceMax",""],["DepositPriceAverage",""],["PeriodPriceMin",""],["PeriodPriceMax",""],["PeriodPriceAverage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.CreatedYaer",1,"color-highlight"],["type","number","name","dataModel.CreatedYaer","placeholder","0","id","dataModel.createdYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionTypeView","optionDisabled","optionSelectForce","optionPlaceholder"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","1000","rows","5","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["cellspacing","0",1,"ntk-full-width"],["for","dataModel.salePriceMin",1,"color-highlight"],["matInput","","name","dataModel.salePriceMin","type","number","placeholder","0","id","dataModel.salePriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.salePriceMax",1,"color-highlight"],["matInput","","name","dataModel.salePriceMax","type","number","placeholder","0","id","dataModel.salePriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.salePriceAverage",1,"color-highlight"],["matInput","","name","dataModel.salePriceAverage","type","number","placeholder","0","id","dataModel.salePriceAverage",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.rentPriceMin",1,"color-highlight"],["matInput","","name","dataModel.rentPriceMin","type","number","placeholder","0","id","dataModel.rentPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.rentPriceMax",1,"color-highlight"],["matInput","","name","dataModel.rentPriceMax","type","number","placeholder","0","id","dataModel.rentPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.rentPriceAverage",1,"color-highlight"],["matInput","","name","dataModel.rentPriceAverage","type","number","placeholder","0","id","dataModel.rentPriceAverage",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.depositPriceMin",1,"color-highlight"],["matInput","","name","dataModel.depositPriceMin","type","number","placeholder","0","id","dataModel.depositPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.depositPriceMax",1,"color-highlight"],["matInput","","name","dataModel.depositPriceMax","type","number","placeholder","0","id","dataModel.depositPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.depositPriceAverage",1,"color-highlight"],["matInput","","name","dataModel.depositPriceAverage","type","number","placeholder","0","id","dataModel.depositPriceAverage",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.periodPriceMin",1,"color-highlight"],["matInput","","name","dataModel.periodPriceMin","type","number","placeholder","0","id","dataModel.periodPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.periodPriceMax",1,"color-highlight"],["matInput","","name","dataModel.periodPriceMax","type","number","placeholder","0","id","dataModel.periodPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.periodPriceAverage",1,"color-highlight"],["matInput","","name","dataModel.periodPriceAverage","type","number","placeholder","0","id","dataModel.periodPriceAverage",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",15),S(1,"app-progress-spinner",16),r(2,"div",17)(3,"p",18),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",19),r(9,"form",20,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),C(11,nH,1,5,"app-cms-enum-record-status-selector",21)(12,oH,1,6,"app-cms-enum-x-selector",22),r(13,"app-cms-location-selector",23),g(14,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorLocation(m))}),a(),r(15,"div",24)(16,"label",25),c(17),g(18,"translate"),a(),r(19,"input",26,1),w("ngModelChange",function(m){return u(s),T(t.dataModel.createdYaer,m)||(t.dataModel.createdYaer=m),f(m)}),a()(),S(21,"br"),r(22,"app-cms-currency-selector",27),g(23,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectCurrency(m))}),a(),S(24,"br"),r(25,"app-estate-contract-type-selector",28),g(26,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorContarctType(m))}),C(27,rH,2,0,"mat-icon",29),a(),r(28,"app-estate-property-type-usage-selector",30),g(29,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorSelectUsage(m))}),C(30,aH,2,0,"mat-icon",29),a(),r(31,"app-estate-property-type-landuse-selector",30),g(32,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorSelectLanduse(m))}),C(33,lH,2,0,"mat-icon",29),a(),S(34,"hr"),C(35,mH,6,4,"div",31),S(36,"hr"),r(37,"div",24)(38,"label",32),c(39),a(),r(40,"textarea",33,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(42,"        "),a(),r(43,"em"),c(44),a(),C(45,uH,5,3,"mat-error",31),a(),C(46,fH,9,7,"div",34),a()()()}if(i&2){let s=R(41);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,38,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(),d("ngStyle",ze(52,iH,t.tokenInfo.access.direction)),o(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.expertPriceType==null?null:t.fieldsInfo.expertPriceType.accessWatchField),o(),d("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",h(14,40,"TITLE.Geographical_Region"))("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessAddField)),o(4),M(h(18,42,"TITLE.CreatedYaer")),o(2),b("ngModel",t.dataModel.createdYaer),o(3),d("optionSelectFirstItem",!0)("optionSelectForce",t.dataModel.linkCoreCurrencyId)("optionPlaceholder",h(23,44,"TITLE.Specify_the_transaction_currency")),o(3),d("optionTypeView",1)("optionDisabled",!(t.fieldsInfo.linkContractTypeId!=null&&t.fieldsInfo.linkContractTypeId.accessAddField))("optionSelectForce",t.dataModel.linkContractTypeId)("optionPlaceholder",h(26,46,"TITLE.Transaction_type")),o(2),d("ngIf",t.dataModel.linkContractTypeId&&(t.dataModel.linkContractTypeId==null?null:t.dataModel.linkContractTypeId.length)>0),o(),d("optionDisabled",!(t.fieldsInfo.linkPropertyTypeUsageId!=null&&t.fieldsInfo.linkPropertyTypeUsageId.accessEditField))("optionTypeView",1)("optionSelectForce",t.dataModel.linkPropertyTypeUsageId)("optionPlaceholder",h(29,48,"TITLE.Type_Usage")),o(2),d("ngIf",t.dataModel.linkPropertyTypeUsageId&&(t.dataModel.linkPropertyTypeUsageId==null?null:t.dataModel.linkPropertyTypeUsageId.length)>0),o(),d("optionDisabled",!(t.fieldsInfo.linkPropertyTypeLanduseId!=null&&t.fieldsInfo.linkPropertyTypeLanduseId.accessEditField))("optionTypeView",1)("optionSelectForce",t.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",h(32,50,"TITLE.Property_Type")),o(2),d("ngIf",t.dataModel.linkPropertyTypeLanduseId&&(t.dataModel.linkPropertyTypeLanduseId==null?null:t.dataModel.linkPropertyTypeLanduseId.length)>0),o(2),d("ngIf",t.contractTypeSelected&&t.contractTypeSelected.id.length>0),o(4),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",s.value.length," / 1000"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[N,it,ke,Y,Wt,q,we,de,De,Pe,me,Re,xe,tt,Ee,Q,Wi,rn,Qo,ui,U,ge,Gt,Ci,dn,cn,B],encapsulation:2});var bp=rd;var _H=["vform"],gH=n=>({direction:n});function hH(n,l){if(n&1){let e=E();r(0,"app-cms-enum-record-status-selector",61),w("modelChange",function(t){u(e);let s=p();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();b("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function yH(n,l){if(n&1){let e=E();r(0,"app-cms-enum-x-selector",62),w("modelChange",function(t){u(e);let s=p();return T(s.dataModel.expertPriceType,t)||(s.dataModel.expertPriceType=t),f(t)}),a()}if(n&2){let e=p();d("optionDataListResult",e.dataModelEstatePropertyExpertPriceTypeEnumResult),b("model",e.dataModel.expertPriceType),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.expertPriceType==null?null:e.fieldsInfo.expertPriceType.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function SH(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function CH(n,l){if(n&1&&(r(0,"button",67),S(1,"i",68),c(2),g(3,"translate"),a()),n&2){p(2);let e=R(9);d("disabled",!e.form.valid),o(2),y(" ",h(3,2,"ACTION.SAVE")," ")}}function vH(n,l){if(n&1){let e=E();r(0,"div",63)(1,"button",64),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",65),c(3),g(4,"translate"),a(),C(5,CH,4,4,"button",66),a()}if(n&2){let e=p();o(3),y(" ",h(4,2,"ACTION.CANCEL")," "),o(2),d("ngIf",e.formInfo.submitButtonEnabled)}}var ad=class ad extends Ut{constructor(e,i,t,s,_,m,k,z,Se,qe,Ue){super(s,new Lr,z,Ue);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyExpertPriceService=s;this.cmsToastrService=_;this.estateEnumService=m;this.cmsStoreService=k;this.publicHelper=z;this.cdr=Se;this.tokenHelper=qe;this.translate=Ue;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ht;this.dataModel=new Lr;this.dataModelEstatePropertyExpertPriceTypeEnumResult=new G;this.formInfo=new ue;this.dataModelCorCurrencySelector=new Fi;this.PropertyTypeSelected=new Qt;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEstatePropertyExpertPriceTypeEnum()}getEstatePropertyExpertPriceTypeEnum(){this.estateEnumService.ServiceEstatePropertyExpertPriceTypeEnum().subscribe({next:e=>{this.dataModelEstatePropertyExpertPriceTypeEnumResult=e}})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyExpertPriceService.setAccessLoad(),this.estatePropertyExpertPriceService.setAccessDataType(Ne.Editor),this.estatePropertyExpertPriceService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyExpertPriceService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelectUsage(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.dataModel.linkPropertyTypeUsageId=e.id}onActionSelectorSelectLanduse(e){if(this.PropertyTypeSelected=null,this.dataModel.linkPropertyTypeLanduseId=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.PropertyTypeSelected=e,this.dataModel.linkPropertyTypeLanduseId=e.id}onActionSelectorContarctType(e){if(this.dataModel.linkContractTypeId=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.dataModel.linkContractTypeId=e.id}onActionSelectorLocation(e){this.dataModel.linkLocationId=null,e&&e.id>0&&(this.dataModel.linkLocationId=e.id)}onActionSelectCurrency(e){if(!e||e.id<=0){this.dataModelCorCurrencySelector=null,this.dataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=e,this.dataModel.linkCoreCurrencyId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ad.\u0275fac=function(i){return new(i||ad)(v(Te),v(be),v(X),v(To),v(V),v(fn),v(J),v(F),v(O),v(Z),v(L))},ad.\u0275cmp=D({type:ad,selectors:[["app-estate-property-expert-price-edit"]],viewQuery:function(i,t){if(i&1&&te(_H,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:126,vars:76,consts:[["vform","ngForm"],["CreatedYaer",""],["SalePriceMin",""],["SalePriceMax",""],["SalePriceAverage",""],["RentPriceMin",""],["RentPriceMax",""],["RentPriceAverage",""],["DepositPriceMin",""],["DepositPriceMax",""],["DepositPriceAverage",""],["PeriodPriceMin",""],["PeriodPriceMax",""],["PeriodPriceAverage",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit","ngStyle"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.CreatedYaer",1,"color-highlight"],["type","number","name","dataModel.CreatedYaer","placeholder","0","id","dataModel.createdYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionTypeView","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder"],["cellspacing","0",1,"ntk-full-width"],["for","dataModel.salePriceMin",1,"color-highlight"],["matInput","","name","dataModel.salePriceMin","type","number","placeholder","0","id","dataModel.salePriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.salePriceMax",1,"color-highlight"],["matInput","","name","dataModel.salePriceMax","type","number","placeholder","0","id","dataModel.salePriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.salePriceAverage",1,"color-highlight"],["matInput","","name","dataModel.salePriceAverage","type","number","placeholder","0","id","dataModel.salePriceAverage",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.rentPriceMin",1,"color-highlight"],["matInput","","name","dataModel.rentPriceMin","type","number","placeholder","0","id","dataModel.rentPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.rentPriceMax",1,"color-highlight"],["matInput","","name","dataModel.rentPriceMax","type","number","placeholder","0","id","dataModel.rentPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.rentPriceAverage",1,"color-highlight"],["matInput","","name","dataModel.rentPriceAverage","type","number","placeholder","0","id","dataModel.rentPriceAverage",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.depositPriceMin",1,"color-highlight"],["matInput","","name","dataModel.depositPriceMin","type","number","placeholder","0","id","dataModel.depositPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.depositPriceMax",1,"color-highlight"],["matInput","","name","dataModel.depositPriceMax","type","number","placeholder","0","id","dataModel.depositPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.depositPriceAverage",1,"color-highlight"],["matInput","","name","dataModel.depositPriceAverage","type","number","placeholder","0","id","dataModel.depositPriceAverage",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.periodPriceMin",1,"color-highlight"],["matInput","","name","dataModel.periodPriceMin","type","number","placeholder","0","id","dataModel.periodPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.periodPriceMax",1,"color-highlight"],["matInput","","name","dataModel.periodPriceMax","type","number","placeholder","0","id","dataModel.periodPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.periodPriceAverage",1,"color-highlight"],["matInput","","name","dataModel.periodPriceAverage","type","number","placeholder","0","id","dataModel.periodPriceAverage",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","1000","rows","5","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",15),S(1,"app-progress-spinner",16),r(2,"div",17)(3,"p",18),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),r(8,"form",19,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),C(10,hH,1,5,"app-cms-enum-record-status-selector",20)(11,yH,1,6,"app-cms-enum-x-selector",21),r(12,"app-cms-location-selector",22),g(13,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorLocation(m))}),a(),S(14,"br"),r(15,"div",23)(16,"label",24),c(17),g(18,"translate"),a(),r(19,"input",25,1),w("ngModelChange",function(m){return u(s),T(t.dataModel.createdYaer,m)||(t.dataModel.createdYaer=m),f(m)}),a()(),S(21,"br"),r(22,"app-cms-currency-selector",26),g(23,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectCurrency(m))}),a(),S(24,"br"),r(25,"app-estate-contract-type-selector",27),g(26,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorContarctType(m))}),a(),r(27,"app-estate-property-type-usage-selector",28),g(28,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorSelectUsage(m))}),a(),S(29,"br")(30,"br"),r(31,"app-estate-property-type-landuse-selector",28),g(32,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorSelectLanduse(m))}),a(),S(33,"hr"),r(34,"table",29)(35,"tr")(36,"td")(37,"div",23)(38,"label",30),c(39),a(),r(40,"input",31,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.salePriceMin,m)||(t.dataModel.salePriceMin=m),f(m)}),a()()(),r(42,"td")(43,"div",23)(44,"label",32),c(45),a(),r(46,"input",33,3),w("ngModelChange",function(m){return u(s),T(t.dataModel.salePriceMax,m)||(t.dataModel.salePriceMax=m),f(m)}),a()()(),r(48,"td")(49,"div",23)(50,"label",34),c(51),a(),r(52,"input",35,4),w("ngModelChange",function(m){return u(s),T(t.dataModel.salePriceAverage,m)||(t.dataModel.salePriceAverage=m),f(m)}),a()()()(),r(54,"tr")(55,"td")(56,"div",23)(57,"label",36),c(58),a(),r(59,"input",37,5),w("ngModelChange",function(m){return u(s),T(t.dataModel.rentPriceMin,m)||(t.dataModel.rentPriceMin=m),f(m)}),a()()(),r(61,"td")(62,"div",23)(63,"label",38),c(64),a(),r(65,"input",39,6),w("ngModelChange",function(m){return u(s),T(t.dataModel.rentPriceMax,m)||(t.dataModel.rentPriceMax=m),f(m)}),a()()(),r(67,"td")(68,"div",23)(69,"label",40),c(70),a(),r(71,"input",41,7),w("ngModelChange",function(m){return u(s),T(t.dataModel.rentPriceAverage,m)||(t.dataModel.rentPriceAverage=m),f(m)}),a()()()(),r(73,"tr")(74,"td")(75,"div",23)(76,"label",42),c(77),a(),r(78,"input",43,8),w("ngModelChange",function(m){return u(s),T(t.dataModel.depositPriceMin,m)||(t.dataModel.depositPriceMin=m),f(m)}),a()()(),r(80,"td")(81,"div",23)(82,"label",44),c(83),a(),r(84,"input",45,9),w("ngModelChange",function(m){return u(s),T(t.dataModel.depositPriceMax,m)||(t.dataModel.depositPriceMax=m),f(m)}),a()()(),r(86,"td")(87,"div",23)(88,"label",46),c(89),a(),r(90,"input",47,10),w("ngModelChange",function(m){return u(s),T(t.dataModel.depositPriceAverage,m)||(t.dataModel.depositPriceAverage=m),f(m)}),a()()()(),r(92,"tr")(93,"td")(94,"div",23)(95,"label",48),c(96),a(),r(97,"input",49,11),w("ngModelChange",function(m){return u(s),T(t.dataModel.periodPriceMin,m)||(t.dataModel.periodPriceMin=m),f(m)}),a()()(),r(99,"td")(100,"div",23)(101,"label",50),c(102),a(),r(103,"input",51,12),w("ngModelChange",function(m){return u(s),T(t.dataModel.periodPriceMax,m)||(t.dataModel.periodPriceMax=m),f(m)}),a()()(),r(105,"td")(106,"div",23)(107,"label",52),c(108),g(109,"translate"),a(),r(110,"input",53,13),w("ngModelChange",function(m){return u(s),T(t.dataModel.periodPriceAverage,m)||(t.dataModel.periodPriceAverage=m),f(m)}),a()()()()(),S(112,"hr"),r(113,"div",23)(114,"label",54),c(115),a(),r(116,"textarea",55,14),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(118,"        "),a(),r(119,"em"),c(120),a(),C(121,SH,5,3,"mat-error",56),a()()(),r(122,"div",57),S(123,"app-cms-form-result-message",58),a(),r(124,"div",59),C(125,vH,6,4,"div",60),a()()}if(i&2){let s=R(117);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,58,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("ngStyle",ze(74,gH,t.tokenInfo.access.direction)),o(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.expertPriceType==null?null:t.fieldsInfo.expertPriceType.accessWatchField),o(),d("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",h(13,60,"TITLE.Geographical_Region"))("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessEditField)),o(5),M(h(18,62,"TITLE.CreatedYaer")),o(2),b("ngModel",t.dataModel.createdYaer),o(3),d("optionSelectFirstItem",!0)("optionSelectForce",t.dataModel.linkCoreCurrencyId)("optionPlaceholder",h(23,64,"TITLE.Specify_the_transaction_currency")),o(3),d("optionTypeView",2)("optionDisabled",!(t.fieldsInfo.linkContractTypeId!=null&&t.fieldsInfo.linkContractTypeId.accessEditField))("optionSelectForce",t.dataModel.linkContractTypeId)("optionPlaceholder",h(26,66,"TITLE.Transaction_type")),o(2),d("optionDisabled",!(t.fieldsInfo.linkPropertyTypeUsageId!=null&&t.fieldsInfo.linkPropertyTypeUsageId.accessEditField))("optionTypeView",2)("optionSelectForce",t.dataModel.linkPropertyTypeUsageId)("optionPlaceholder",h(28,68,"TITLE.Type_Usage")),o(4),d("optionDisabled",!(t.fieldsInfo.linkPropertyTypeLanduseId!=null&&t.fieldsInfo.linkPropertyTypeLanduseId.accessEditField))("optionTypeView",2)("optionSelectForce",t.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",h(32,70,"TITLE.Property_Type")),o(8),M(t.fieldsInfo.salePriceMin==null?null:t.fieldsInfo.salePriceMin.fieldTitle),o(),b("ngModel",t.dataModel.salePriceMin),o(5),M(t.fieldsInfo.salePriceMax==null?null:t.fieldsInfo.salePriceMax.fieldTitle),o(),b("ngModel",t.dataModel.salePriceMax),o(5),M(t.fieldsInfo.salePriceAverage==null?null:t.fieldsInfo.salePriceAverage.fieldTitle),o(),b("ngModel",t.dataModel.salePriceAverage),o(6),M(t.fieldsInfo.rentPriceMin==null?null:t.fieldsInfo.rentPriceMin.fieldTitle),o(),b("ngModel",t.dataModel.rentPriceMin),o(5),M(t.fieldsInfo.rentPriceMax==null?null:t.fieldsInfo.rentPriceMax.fieldTitle),o(),b("ngModel",t.dataModel.rentPriceMax),o(5),M(t.fieldsInfo.rentPriceAverage==null?null:t.fieldsInfo.rentPriceAverage.fieldTitle),o(),b("ngModel",t.dataModel.rentPriceAverage),o(6),M(t.fieldsInfo.depositPriceMin==null?null:t.fieldsInfo.depositPriceMin.fieldTitle),o(),b("ngModel",t.dataModel.depositPriceMin),o(5),M(t.fieldsInfo.depositPriceMax==null?null:t.fieldsInfo.depositPriceMax.fieldTitle),o(),b("ngModel",t.dataModel.depositPriceMax),o(5),M(t.fieldsInfo.depositPriceAverage==null?null:t.fieldsInfo.depositPriceAverage.fieldTitle),o(),b("ngModel",t.dataModel.depositPriceAverage),o(6),M(t.fieldsInfo.periodPriceMin==null?null:t.fieldsInfo.periodPriceMin.fieldTitle),o(),b("ngModel",t.dataModel.periodPriceMin),o(5),M(t.fieldsInfo.periodPriceMax==null?null:t.fieldsInfo.periodPriceMax.fieldTitle),o(),b("ngModel",t.dataModel.periodPriceMax),o(5),M(h(109,72,"TITLE.Period_Price_Average")),o(2),b("ngModel",t.dataModel.periodPriceAverage),o(5),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",s.value.length," / 1000"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(2),d("formInfo",t.formInfo),o(2),d("ngIf",!t.publicHelper.processService.process.inRunAll)}},dependencies:[N,it,ke,Y,Wt,q,we,de,De,Pe,me,Re,xe,Q,Wi,rn,Qo,ui,U,ge,Gt,Ci,dn,cn,B],encapsulation:2});var Tp=ad;var IH=["vform"];function EH(n,l){if(n&1){let e=E();r(0,"mat-icon",23),I("click",function(){u(e);let t=p(2);return f(t.dataModel.linkContractTypeId=null)}),c(1,"close "),a()}}function MH(n,l){if(n&1){let e=E();r(0,"app-estate-contract-type-selector",22),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorContarctType(t))}),C(2,EH,2,0,"mat-icon",17),a()}if(n&2){let e=p();d("optionTypeView",1)("optionDisabled",!1)("optionSelectForce",e.dataModel.linkContractTypeId)("optionPlaceholder",h(1,5,"TITLE.Transaction_type")),o(2),d("ngIf",e.dataModel.linkContractTypeId&&(e.dataModel.linkContractTypeId==null?null:e.dataModel.linkContractTypeId.length)>0)}}function bH(n,l){if(n&1){let e=E();r(0,"mat-icon",23),I("click",function(){u(e);let t=p(2);return f(t.dataModel.linkPropertyTypeUsageId=null)}),c(1,"close "),a()}}function TH(n,l){if(n&1){let e=E();r(0,"app-estate-property-type-usage-selector",16),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorSelectUsage(t))}),C(2,bH,2,0,"mat-icon",17),a()}if(n&2){let e=p();d("optionDisabled",!1)("optionTypeView",1)("optionSelectForce",e.dataModel.linkPropertyTypeUsageId)("optionPlaceholder",h(1,5,"TITLE.Type_Usage")),o(2),d("ngIf",e.dataModel.linkPropertyTypeUsageId&&(e.dataModel.linkPropertyTypeUsageId==null?null:e.dataModel.linkPropertyTypeUsageId.length)>0)}}function wH(n,l){if(n&1){let e=E();r(0,"mat-icon",23),I("click",function(){u(e);let t=p();return f(t.onActionSelectorSelectLanduse(null))}),c(1,"close "),a()}}function xH(n,l){if(n&1){let e=E();r(0,"div",24)(1,"button",25),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",26),c(3),g(4,"translate"),a(),r(5,"button",27),S(6,"i",28),c(7),g(8,"translate"),a()()}if(n&2){p();let e=R(9);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",h(8,5,"ACTION.SAVE")," ")}}var ld=class ld{constructor(l,e,i,t,s,_,m,k,z){this.data=l;this.dialogRef=e;this.coreEnumService=i;this.estatePropertyExpertPriceService=t;this.cmsToastrService=s;this.estateEnumService=_;this.publicHelper=m;this.cdr=k;this.translate=z;this.constructorInfoAreaId=this.constructor.name;this.appLanguage="fa";this.dataModelResult=new Ht;this.dataModel=new wa;this.dataModelEstatePropertyExpertPriceTypeEnumResult=new G;this.formInfo=new ue;this.PropertyTypeSelected=new Qt;this.dataModelCorCurrencySelector=new Fi;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,l&&(this.dataModel.linkLocationId=+l.linkLocationId|0,this.dataModel.linkCoreCurrencyId=+l.linkCoreCurrencyId|0,this.dataModel.createdYaer=+l.createdYaer|0,this.dataModel.linkContractTypeId=l.linkContractTypeId,this.dataModel.linkPropertyTypeLanduseId=l.linkPropertyTypeLanduseId,this.dataModel.linkPropertyTypeUsageId=l.linkPropertyTypeUsageId)}ngOnInit(){this.translate.get("TITLE.PriceInquiryCalculate").subscribe(l=>{this.formInfo.formTitle=l}),this.getEstatePropertyExpertPriceTypeEnum()}getEstatePropertyExpertPriceTypeEnum(){this.estateEnumService.ServiceEstatePropertyExpertPriceTypeEnum().subscribe({next:l=>{this.dataModelEstatePropertyExpertPriceTypeEnumResult=l}})}DataGetAll(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.estatePropertyExpertPriceService.ServicePriceInquiryCalculate(this.dataModel).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=e,e.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(i=>{this.formInfo.submitResultMessage=i,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(l)},error:e=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelectorSelectUsage(l){if(!l||!l.id||l.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(e=>{this.cmsToastrService.typeWarningSelected(e)});return}this.dataModel.linkPropertyTypeUsageId=l.id}onActionSelectorSelectLanduse(l){if(this.PropertyTypeSelected=null,this.dataModel.linkPropertyTypeLanduseId=null,!l||!l.id||l.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(e=>{this.cmsToastrService.typeWarningSelected(e)});return}this.PropertyTypeSelected=l,this.dataModel.linkPropertyTypeLanduseId=l.id}onActionSelectorContarctType(l){if(this.dataModel.linkContractTypeId=null,!l||!l.id||l.id.length<=0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(e=>{this.cmsToastrService.typeWarningSelected(e)});return}this.dataModel.linkContractTypeId=l.id}onActionSelectorLocation(l){this.dataModel.linkLocationId=null,l&&l.id>0&&(this.dataModel.linkLocationId=l.id)}onActionSelectCurrency(l){if(!l||l.id<=0){this.dataModelCorCurrencySelector=null,this.dataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=l,this.dataModel.linkCoreCurrencyId=l.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataGetAll())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ld.\u0275fac=function(e){return new(e||ld)(v(Te),v(be),v(X),v(To),v(V),v(fn),v(F),v(O),v(L))},ld.\u0275cmp=D({type:ld,selectors:[["app-estate-property-expert-price-inquiry-calculate"]],viewQuery:function(e,i){if(e&1&&te(IH,5),e&2){let t;ie(t=ne())&&(i.formGroup=t.first)}},standalone:!1,decls:36,vars:30,consts:[["vform","ngForm"],["CreatedYaer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.createdYaer",1,"color-highlight"],["matInput","","name","dataModel.CreatedYaer","type","number","placeholder","0","id","dataModel.createdYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionTypeView","optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"optionChange","optionTypeView","optionDisabled","optionSelectForce","optionPlaceholder"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){if(e&1){let t=E();r(0,"div",2),S(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),r(8,"form",6,0),I("ngSubmit",function(){return u(t),f(i.onFormSubmit())}),S(10,"div",7),r(11,"div",8)(12,"app-cms-location-selector",9),g(13,"translate"),I("optionChange",function(_){return u(t),f(i.onActionSelectorLocation(_))}),S(14,"br"),a(),r(15,"app-cms-currency-selector",10),g(16,"translate"),I("optionChange",function(_){return u(t),f(i.onActionSelectCurrency(_))}),a(),S(17,"br"),r(18,"div",11)(19,"label",12),c(20),g(21,"translate"),a(),r(22,"input",13,1),w("ngModelChange",function(_){return u(t),T(i.dataModel.createdYaer,_)||(i.dataModel.createdYaer=_),f(_)}),a()(),S(24,"br"),C(25,MH,3,7,"app-estate-contract-type-selector",14),S(26,"br"),C(27,TH,3,7,"app-estate-property-type-usage-selector",15),S(28,"br"),r(29,"app-estate-property-type-landuse-selector",16),g(30,"translate"),I("optionChange",function(_){return u(t),f(i.onActionSelectorSelectLanduse(_))}),C(31,wH,2,0,"mat-icon",17),a()(),r(32,"div",18),S(33,"app-cms-form-result-message",19),a(),r(34,"div",20),C(35,xH,9,7,"div",21),a()()()()}e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(3),y(" ",i.formInfo.formTitle," "),o(2),y(" ",h(7,20,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),d("optionSelectForce",i.dataModel.linkLocationId)("optionPlaceholder",h(13,22,"TITLE.Geographical_Region"))("optionDisabled",!1),o(3),d("optionSelectFirstItem",!0)("optionSelectForce",i.dataModel.linkCoreCurrencyId)("optionPlaceholder",h(16,24,"TITLE.Specify_the_transaction_currency")),o(5),M(h(21,26,"TITLE.CreatedYaer")),o(2),b("ngModel",i.dataModel.createdYaer),o(3),d("ngIf",i.dataModel.linkCoreCurrencyId&&i.dataModel.linkCoreCurrencyId>0),o(2),d("ngIf",i.dataModel.linkCoreCurrencyId&&i.dataModel.linkCoreCurrencyId>0),o(2),d("optionDisabled",!1)("optionTypeView",1)("optionSelectForce",i.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",h(30,28,"TITLE.Property_Type")),o(2),d("ngIf",i.dataModel.linkPropertyTypeLanduseId&&(i.dataModel.linkPropertyTypeLanduseId==null?null:i.dataModel.linkPropertyTypeLanduseId.length)>0),o(2),d("formInfo",i.formInfo),o(2),d("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[N,ke,Y,Wt,q,we,me,Re,tt,Ee,Q,Wi,ui,U,ge,Gt,Ci,dn,cn,B],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}.leaflet-pane[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute!important}.fs-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}@media (min-width: 1400px){.col-xxl-7[_ngcontent-%COMP%]{max-width:100%!important;flex:0 0 100%}}.heroes[_ngcontent-%COMP%]{margin:0 0 2em;list-style-type:none;padding:0;width:15em}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;position:relative;left:0;background-color:#eee;margin:.5em;padding:.3em 0;height:1.6em;border-radius:4px}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#607d8b;background-color:#ddd;left:.1em}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#cfd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#bbd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#405061;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;margin-right:.8em;border-radius:4px 0 0 4px}"]});var wp=ld;var AH=["vform"];function PH(n,l){if(n&1){let e=E();r(0,"mat-icon",20),I("click",function(){u(e);let t=p(2);return f(t.dataModel.linkContractTypeId=null)}),c(1,"close "),a()}}function RH(n,l){if(n&1){let e=E();r(0,"app-estate-contract-type-selector",19),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorContarctType(t))}),C(2,PH,2,0,"mat-icon",16),a()}if(n&2){let e=p();d("optionTypeView",1)("optionDisabled",!1)("optionSelectForce",e.dataModel.linkContractTypeId)("optionPlaceholder",h(1,5,"TITLE.Transaction_type")),o(2),d("ngIf",e.dataModel.linkContractTypeId&&(e.dataModel.linkContractTypeId==null?null:e.dataModel.linkContractTypeId.length)>0)}}function kH(n,l){if(n&1){let e=E();r(0,"mat-icon",20),I("click",function(){u(e);let t=p(2);return f(t.dataModel.linkPropertyTypeUsageId=null)}),c(1,"close "),a()}}function DH(n,l){if(n&1){let e=E();r(0,"app-estate-property-type-usage-selector",15),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorSelectUsage(t))}),C(2,kH,2,0,"mat-icon",16),a()}if(n&2){let e=p();d("optionDisabled",!1)("optionTypeView",1)("optionSelectForce",e.dataModel.linkPropertyTypeUsageId)("optionPlaceholder",h(1,5,"TITLE.Type_Usage")),o(2),d("ngIf",e.dataModel.linkPropertyTypeUsageId&&(e.dataModel.linkPropertyTypeUsageId==null?null:e.dataModel.linkPropertyTypeUsageId.length)>0)}}function LH(n,l){if(n&1){let e=E();r(0,"mat-icon",20),I("click",function(){u(e);let t=p();return f(t.onActionSelectorSelectLanduse(null))}),c(1,"close "),a()}}function VH(n,l){if(n&1&&(r(0,"div"),c(1),g(2,"translate"),g(3,"number"),a()),n&2){let e=p().$implicit;o(),ee(" ",h(2,2,"TITLE.SalePrice")," : ",h(3,4,e.salePriceMin)," ")}}function BH(n,l){if(n&1&&(r(0,"div"),c(1),g(2,"translate"),g(3,"number"),a()),n&2){let e=p().$implicit;o(),ee(" ",h(2,2,"TITLE.RentPrice")," : ",h(3,4,e.rentPriceMin)," ")}}function FH(n,l){if(n&1&&(r(0,"div"),c(1),g(2,"translate"),g(3,"number"),a()),n&2){let e=p().$implicit;o(),ee(" ",h(2,2,"TITLE.DepositPrice")," : ",h(3,4,e.depositPriceMin)," ")}}function OH(n,l){if(n&1&&(r(0,"div"),c(1),g(2,"translate"),g(3,"number"),a()),n&2){let e=p().$implicit;o(),ee(" ",h(2,2,"TITLE.PeriodPrice"),": ",h(3,4,e.periodPriceMin)," ")}}function NH(n,l){if(n&1&&(r(0,"div"),c(1),g(2,"translate"),g(3,"number"),a()),n&2){let e=p().$implicit;o(),ee(" ",h(2,2,"TITLE.SalePrice")," : ",h(3,4,e.salePriceAverage)," ")}}function HH(n,l){if(n&1&&(r(0,"div"),c(1),g(2,"translate"),g(3,"number"),a()),n&2){let e=p().$implicit;o(),ee(" ",h(2,2,"TITLE.RentPrice")," : ",h(3,4,e.rentPriceAverage)," ")}}function WH(n,l){if(n&1&&(r(0,"div"),c(1),g(2,"translate"),g(3,"number"),a()),n&2){let e=p().$implicit;o(),ee(" ",h(2,2,"TITLE.DepositPrice")," : ",h(3,4,e.depositPriceAverage)," ")}}function GH(n,l){if(n&1&&(r(0,"div"),c(1),g(2,"translate"),g(3,"number"),a()),n&2){let e=p().$implicit;o(),ee(" ",h(2,2,"TITLE.PeriodPrice"),": ",h(3,4,e.periodPriceAverage)," ")}}function UH(n,l){if(n&1&&(r(0,"div"),c(1),g(2,"translate"),g(3,"number"),a()),n&2){let e=p().$implicit;o(),ee(" ",h(2,2,"TITLE.SalePrice")," : ",h(3,4,e.salePriceMax)," ")}}function jH(n,l){if(n&1&&(r(0,"div"),c(1),g(2,"translate"),g(3,"number"),a()),n&2){let e=p().$implicit;o(),ee(" ",h(2,2,"TITLE.RentPrice")," : ",h(3,4,e.rentPriceMax)," ")}}function qH(n,l){if(n&1&&(r(0,"div"),c(1),g(2,"translate"),g(3,"number"),a()),n&2){let e=p().$implicit;o(),ee(" ",h(2,2,"TITLE.DepositPrice")," : ",h(3,4,e.depositPriceMax)," ")}}function QH(n,l){if(n&1&&(r(0,"div"),c(1),g(2,"translate"),g(3,"number"),a()),n&2){let e=p().$implicit;o(),ee(" ",h(2,2,"TITLE.PeriodPrice"),": ",h(3,4,e.periodPriceMax)," ")}}function zH(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),g(3,"enums"),a(),r(4,"td"),c(5),a(),r(6,"td"),C(7,VH,4,6,"div",21)(8,BH,4,6,"div",21)(9,FH,4,6,"div",21)(10,OH,4,6,"div",21),a(),r(11,"td"),C(12,NH,4,6,"div",21)(13,HH,4,6,"div",21)(14,WH,4,6,"div",21)(15,GH,4,6,"div",21),a(),r(16,"td"),C(17,UH,4,6,"div",21)(18,jH,4,6,"div",21)(19,qH,4,6,"div",21)(20,QH,4,6,"div",21),a()()),n&2){let e=l.$implicit,i=p();o(2),y(" ",di(3,14,e.expertPriceType,i.dataModelEstatePropertyExpertPriceTypeEnumResult.listItems)," "),o(3),M(e.createdYaer),o(2),d("ngIf",e.salePriceMin&&e.salePriceMin>0),o(),d("ngIf",e.rentPriceMin&&e.rentPriceMin>0),o(),d("ngIf",e.depositPriceMin&&e.depositPriceMin>0),o(),d("ngIf",e.periodPriceMin&&e.periodPriceMin>0),o(2),d("ngIf",e.salePriceAverage&&e.salePriceAverage>0),o(),d("ngIf",e.rentPriceAverage&&e.rentPriceAverage>0),o(),d("ngIf",e.depositPriceAverage&&e.depositPriceAverage>0),o(),d("ngIf",e.periodPriceAverage&&e.periodPriceAverage>0),o(2),d("ngIf",e.salePriceMax&&e.salePriceMax>0),o(),d("ngIf",e.rentPriceMax&&e.rentPriceMax>0),o(),d("ngIf",e.depositPriceMax&&e.depositPriceMax>0),o(),d("ngIf",e.periodPriceMax&&e.periodPriceMax>0)}}function YH(n,l){if(n&1&&(r(0,"button",26),S(1,"i",27),c(2),g(3,"translate"),a()),n&2){p(2);let e=R(10);d("disabled",!e.form.valid),o(2),y(" ",h(3,2,"ACTION.Inquiry")," ")}}function KH(n,l){if(n&1){let e=E();r(0,"div",22)(1,"button",23),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",24),c(3),g(4,"translate"),a(),C(5,YH,4,4,"button",25),a()}if(n&2){let e=p();o(3),y(" ",h(4,2,"ACTION.CANCEL")," "),o(2),d("ngIf",e.formInfo.submitButtonEnabled)}}var sd=class sd{constructor(l,e,i,t,s,_,m,k,z){this.data=l;this.dialogRef=e;this.coreEnumService=i;this.estatePropertyExpertPriceService=t;this.estateEnumService=s;this.cmsToastrService=_;this.publicHelper=m;this.cdr=k;this.translate=z;this.constructorInfoAreaId=this.constructor.name;this.appLanguage="fa";this.dataModel=new wa;this.dataModelResult=new G;this.dataModelEstatePropertyExpertPriceTypeEnumResult=new G;this.formInfo=new ue;this.PropertyTypeSelected=new Qt;this.dataModelCorCurrencySelector=new Fi;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,l&&(this.dataModel.linkLocationId=+l.linkLocationId|0,this.dataModel.linkCoreCurrencyId=+l.linkCoreCurrencyId|0,this.dataModel.createdYaer=+l.createdYaer|0,this.dataModel.linkContractTypeId=l.linkContractTypeId,this.dataModel.linkPropertyTypeLanduseId=l.linkPropertyTypeLanduseId,this.dataModel.linkPropertyTypeUsageId=l.linkPropertyTypeUsageId)}ngOnInit(){this.translate.get("TITLE.Expert_Price_Inquiry").subscribe(l=>{this.formInfo.formTitle=l}),this.getEstatePropertyExpertPriceTypeEnum(),this.dataModel.linkLocationId>0&&this.dataModel.linkCoreCurrencyId>0&&this.dataModel.createdYaer>0&&this.dataModel.linkContractTypeId&&this.dataModel.linkContractTypeId.length>0&&this.dataModel.linkPropertyTypeLanduseId&&this.dataModel.linkPropertyTypeLanduseId.length>0&&this.dataModel.linkPropertyTypeUsageId&&this.dataModel.linkPropertyTypeUsageId.length>0&&this.DataActionContent()}getEstatePropertyExpertPriceTypeEnum(){this.estateEnumService.ServiceEstatePropertyExpertPriceTypeEnum().subscribe({next:l=>{this.dataModelEstatePropertyExpertPriceTypeEnumResult=l}})}DataActionContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.dataModelResult=new G,this.estatePropertyExpertPriceService.ServicePriceInquiryList(this.dataModel).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!0,e.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(i=>{this.formInfo.submitResultMessage=i,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),e.listItems&&e.listItems.length>0?this.dataModelResult=e:(this.translate.get("MESSAGE.PriceInquiryCalculateNotFind").subscribe(i=>{this.cmsToastrService.typeWarningMessage(i)}),this.dialogRef.close({dialogChangedDate:!0}))):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(l)},error:e=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelectorSelectUsage(l){if(!l||!l.id||l.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(e=>{this.cmsToastrService.typeWarningSelected(e)});return}this.dataModel.linkPropertyTypeUsageId=l.id}onActionSelectorSelectLanduse(l){if(this.PropertyTypeSelected=null,this.dataModel.linkPropertyTypeLanduseId=null,!l||!l.id||l.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(e=>{this.cmsToastrService.typeWarningSelected(e)});return}this.PropertyTypeSelected=l,this.dataModel.linkPropertyTypeLanduseId=l.id}onActionSelectorContarctType(l){if(this.dataModel.linkContractTypeId=null,!l||!l.id||l.id.length<=0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(e=>{this.cmsToastrService.typeWarningSelected(e)});return}this.dataModel.linkContractTypeId=l.id}onActionSelectorLocation(l){this.dataModel.linkLocationId=null,l&&l.id>0&&(this.dataModel.linkLocationId=l.id)}onActionSelectCurrency(l){if(!l||l.id<=0){this.dataModelCorCurrencySelector=null,this.dataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=l,this.dataModel.linkCoreCurrencyId=l.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataActionContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};sd.\u0275fac=function(e){return new(e||sd)(v(Te),v(be),v(X),v(To),v(fn),v(V),v(F),v(O),v(L))},sd.\u0275cmp=D({type:sd,selectors:[["app-estate-property-expert-price-inquiry-list"]],viewQuery:function(e,i){if(e&1&&te(AH,5),e&2){let t;ie(t=ne())&&(i.formGroup=t.first)}},standalone:!1,decls:51,vars:46,consts:[["vform","ngForm"],["CreatedYaer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.createdYaer",1,"color-highlight"],["matInput","","name","dataModel.SalePriceAverage","type","number","id","dataModel.createdYaer","placeholder","0",3,"ngModelChange","ngModel"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[3,"optionTypeView","optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder"],["class","margin-top","matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["class","form-actions",4,"ngIf"],[3,"optionChange","optionTypeView","optionDisabled","optionSelectForce","optionPlaceholder"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",1,"margin-top",3,"click"],[4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){if(e&1){let t=E();r(0,"div",2),S(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",6),r(9,"form",7,0),I("ngSubmit",function(){return u(t),f(i.onFormSubmit())}),r(11,"div",8)(12,"label",9),c(13),g(14,"translate"),a(),r(15,"input",10,1),w("ngModelChange",function(_){return u(t),T(i.dataModel.createdYaer,_)||(i.dataModel.createdYaer=_),f(_)}),a()(),S(17,"br"),r(18,"app-cms-location-selector",11),g(19,"translate"),I("optionChange",function(_){return u(t),f(i.onActionSelectorLocation(_))}),S(20,"br"),a(),r(21,"app-cms-currency-selector",12),g(22,"translate"),I("optionChange",function(_){return u(t),f(i.onActionSelectCurrency(_))}),a(),S(23,"br"),C(24,RH,3,7,"app-estate-contract-type-selector",13),S(25,"br"),C(26,DH,3,7,"app-estate-property-type-usage-selector",14),S(27,"br"),r(28,"app-estate-property-type-landuse-selector",15),g(29,"translate"),I("optionChange",function(_){return u(t),f(i.onActionSelectorSelectLanduse(_))}),C(30,LH,2,0,"mat-icon",16),a(),S(31,"hr"),r(32,"table")(33,"tr")(34,"td"),c(35),g(36,"translate"),a(),r(37,"td"),c(38),g(39,"translate"),a(),r(40,"td"),c(41),g(42,"translate"),a(),r(43,"td"),c(44),g(45,"translate"),a(),r(46,"td"),c(47),g(48,"translate"),a()(),C(49,zH,21,17,"tr",17),a(),C(50,KH,6,4,"div",18),a()()()}e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(3),y(" ",i.formInfo.formTitle," "),o(2),y(" ",h(7,26,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",i.formInfo),o(5),M(h(14,28,"TITLE.CreatedYaer")),o(2),b("ngModel",i.dataModel.createdYaer),o(3),d("optionSelectForce",i.dataModel.linkLocationId)("optionPlaceholder",h(19,30,"TITLE.Geographical_Region"))("optionDisabled",!1),o(3),d("optionSelectFirstItem",!1)("optionSelectForce",i.dataModel.linkCoreCurrencyId)("optionPlaceholder",h(22,32,"TITLE.Specify_the_transaction_currency")),o(3),d("ngIf",i.dataModel.linkCoreCurrencyId&&i.dataModel.linkCoreCurrencyId>0),o(2),d("ngIf",i.dataModel.linkCoreCurrencyId&&i.dataModel.linkCoreCurrencyId>0),o(2),d("optionDisabled",!1)("optionTypeView",1)("optionSelectForce",i.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",h(29,34,"TITLE.Property_Type")),o(2),d("ngIf",i.dataModel.linkPropertyTypeLanduseId&&(i.dataModel.linkPropertyTypeLanduseId==null?null:i.dataModel.linkPropertyTypeLanduseId.length)>0),o(5),M(h(36,36,"TITLE.Expert_Type")),o(3),M(h(39,38,"TITLE.CreatedYaer")),o(3),M(h(42,40,"TITLE.Minimum")),o(3),M(h(45,42,"TITLE.Average")),o(3),M(h(48,44,"TITLE.Maximum")),o(2),d("ngForOf",i.dataModelResult.listItems),o(),d("ngIf",!i.publicHelper.processService.process.inRunAll))},dependencies:[He,N,ke,Y,Wt,q,we,me,Re,tt,Ee,Q,Wi,ui,U,ge,Gt,Ci,dn,cn,bo,B,Oa],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}.leaflet-pane[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute!important}.fs-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}@media (min-width: 1400px){.col-xxl-7[_ngcontent-%COMP%]{max-width:100%!important;flex:0 0 100%}}.heroes[_ngcontent-%COMP%]{margin:0 0 2em;list-style-type:none;padding:0;width:15em}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;position:relative;left:0;background-color:#eee;margin:.5em;padding:.3em 0;height:1.6em;border-radius:4px}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#607d8b;background-color:#ddd;left:.1em}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#cfd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#bbd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#405061;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;margin-right:.8em;border-radius:4px 0 0 4px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:2px solid black;padding:15px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:2px solid black;padding:15px;text-align:center}.margin-top[_ngcontent-%COMP%]{margin-top:10px}"]});var ma=sd;var ZH=()=>["expandedTitle"],JH=()=>["expandedDetail"],XH=()=>[5,10,20,100],au=n=>({display:n});function $H(n,l){if(n&1){let e=E();r(0,"div",19)(1,"a",55),I("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),S(2,"i",56)(3,"br"),a(),r(4,"p",22),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.ADD")," "))}function eW(n,l){if(n&1){let e=E();r(0,"div",19)(1,"a",57),I("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",58)(3,"br"),a(),r(4,"p",22),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.EDIT")," "))}function tW(n,l){if(n&1){let e=E();r(0,"div",19)(1,"a",59),I("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",60)(3,"br"),a(),r(4,"p",22),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.DELETE")," "))}function iW(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.MENU")," "))}function nW(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"button",61),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelectActionMenu(t))}),S(2,"i",62),a()()}}function oW(n,l){n&1&&(r(0,"mat-header-cell",63),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.PICTURE")," "))}function rW(n,l){if(n&1&&(S(0,"img",65),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function aW(n,l){if(n&1&&(r(0,"mat-cell"),C(1,rW,2,4,"img",64),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function lW(n,l){if(n&1&&(r(0,"mat-header-cell",63),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function sW(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function dW(n,l){if(n&1&&(r(0,"mat-header-cell",63),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function cW(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"cmssiteinfo"),g(3,"async"),a()),n&2){let e=l.$implicit;o(),y(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function pW(n,l){if(n&1&&(r(0,"mat-header-cell",63),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function mW(n,l){if(n&1&&S(0,"select",68),n&2){let e=p().$implicit,i=p();d("contentService",i.contentService)("row",e)("ngStyle",ze(3,au,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function uW(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",66),g(2,"statusIconClass"),C(3,mW,1,5,"select",67),a()),n&2){let e=l.$implicit,i=p();o(),d("ngClass",h(2,2,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function fW(n,l){if(n&1&&(r(0,"mat-header-cell",63),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.expertPriceType==null?null:e.fieldsInfo.expertPriceType.fieldTitle," ")}}function _W(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"enums"),a()),n&2){let e=l.$implicit,i=p();o(),y(" ",di(2,1,e.expertPriceType,i.dataModelEstatePropertyExpertPriceTypeEnumResult.listItems)," ")}}function gW(n,l){if(n&1&&(r(0,"mat-header-cell",63),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.createdYaer==null?null:e.fieldsInfo.createdYaer.fieldTitle," ")}}function hW(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.createdYaer," ")}}function yW(n,l){if(n&1&&(r(0,"mat-header-cell",63),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.linkLocationId==null?null:e.fieldsInfo.linkLocationId.fieldTitle," ")}}function SW(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),ee(" ",e.linkLocationIdTitle," / ",e.linkLocationIdParentTitle)}}function CW(n,l){if(n&1&&(r(0,"mat-header-cell",63),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.linkPropertyTypeUsageId==null?null:e.fieldsInfo.linkPropertyTypeUsageId.fieldTitle," ")}}function vW(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"cmstitle"),a()),n&2){let e=l.$implicit,i=p();o(),y(" ",di(2,1,e.linkPropertyTypeUsageId,i.dataModelEstatePropertyTypeUsageResult.listItems)," ")}}function IW(n,l){if(n&1&&(r(0,"mat-header-cell",63),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.linkPropertyTypeLanduseId==null?null:e.fieldsInfo.linkPropertyTypeLanduseId.fieldTitle," ")}}function EW(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"cmstitle"),a()),n&2){let e=l.$implicit,i=p();o(),y(" ",di(2,1,e.linkPropertyTypeLanduseId,i.dataModelEstatePropertyTypeLanduseResult.listItems)," ")}}function MW(n,l){if(n&1&&(r(0,"mat-header-cell",63),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.linkContractTypeId==null?null:e.fieldsInfo.linkContractTypeId.fieldTitle," ")}}function bW(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"cmstitle"),a()),n&2){let e=l.$implicit,i=p();o(),y(" ",di(2,1,e.linkContractTypeId,i.dataModelEstateContractTypeResult.listItems)," ")}}function TW(n,l){if(n&1&&(r(0,"mat-header-cell",63),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.linkCoreCurrencyId==null?null:e.fieldsInfo.linkCoreCurrencyId.fieldTitle," ")}}function wW(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"cmstitle"),a()),n&2){let e=l.$implicit,i=p();o(),y(" ",di(2,1,e.linkCoreCurrencyId,i.dataModelCoreCurrencyResult.listItems)," ")}}function xW(n,l){if(n&1&&(r(0,"mat-header-cell",63),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function AW(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),y(" ",h(2,1,e.createdDate)," ")}}function PW(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.OPTION")," "))}function RW(n,l){if(n&1&&(r(0,"mat-cell",69)(1,"button",70)(2,"mat-icon"),c(3,"more_vert"),a()(),S(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),d("matMenuTriggerFor",e)}}function kW(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"translate"),S(3,"br"),c(4),g(5,"translate"),g(6,"localeDate"),S(7,"br"),c(8),g(9,"translate"),g(10,"cmstitle"),S(11,"br"),a()),n&2){let e=l.$implicit,i=p();o(),sm(" ",h(2,7,"TITLE.LocationId")," : ",e.linkLocationIdTitle," / ",e.linkLocationIdParentTitle," "),o(3),ee(" ",h(5,9,"TITLE.CreationDate")," : ",h(6,11,e.createdDate)," "),o(4),ee(" ",h(9,13,"TITLE.LinkAgreementTypeIdentifier")," : ",di(10,15,e.linkContractTypeId,i.dataModelEstateContractTypeResult.listItems)," ")}}function DW(n,l){if(n&1&&(r(0,"div"),c(1),g(2,"translate"),g(3,"number"),a()),n&2){let e=p().$implicit;o(),ee(" ",h(2,2,"TITLE.SalePrice")," : ",h(3,4,e.salePriceMin)," ")}}function LW(n,l){if(n&1&&(r(0,"div"),c(1),g(2,"translate"),g(3,"number"),a()),n&2){let e=p().$implicit;o(),ee(" ",h(2,2,"TITLE.RentPrice")," : ",h(3,4,e.rentPriceMin)," ")}}function VW(n,l){if(n&1&&(r(0,"div"),c(1),g(2,"translate"),g(3,"number"),a()),n&2){let e=p().$implicit;o(),ee(" ",h(2,2,"TITLE.DepositPrice")," : ",h(3,4,e.depositPriceMin)," ")}}function BW(n,l){if(n&1&&(r(0,"div"),c(1),g(2,"translate"),g(3,"number"),a()),n&2){let e=p().$implicit;o(),ee(" ",h(2,2,"TITLE.PeriodPrice"),": ",h(3,4,e.periodPriceMin)," ")}}function FW(n,l){if(n&1&&(r(0,"div"),c(1),g(2,"translate"),g(3,"number"),a()),n&2){let e=p().$implicit;o(),ee(" ",h(2,2,"TITLE.SalePrice")," : ",h(3,4,e.salePriceAverage)," ")}}function OW(n,l){if(n&1&&(r(0,"div"),c(1),g(2,"translate"),g(3,"number"),a()),n&2){let e=p().$implicit;o(),ee(" ",h(2,2,"TITLE.RentPrice")," : ",h(3,4,e.rentPriceAverage)," ")}}function NW(n,l){if(n&1&&(r(0,"div"),c(1),g(2,"translate"),g(3,"number"),a()),n&2){let e=p().$implicit;o(),ee(" ",h(2,2,"TITLE.DepositPrice")," : ",h(3,4,e.depositPriceAverage)," ")}}function HW(n,l){if(n&1&&(r(0,"div"),c(1),g(2,"translate"),g(3,"number"),a()),n&2){let e=p().$implicit;o(),ee(" ",h(2,2,"TITLE.PeriodPrice"),": ",h(3,4,e.periodPriceAverage)," ")}}function WW(n,l){if(n&1&&(r(0,"div"),c(1),g(2,"translate"),g(3,"number"),a()),n&2){let e=p().$implicit;o(),ee(" ",h(2,2,"TITLE.SalePrice")," : ",h(3,4,e.salePriceMax)," ")}}function GW(n,l){if(n&1&&(r(0,"div"),c(1),g(2,"translate"),g(3,"number"),a()),n&2){let e=p().$implicit;o(),ee(" ",h(2,2,"TITLE.RentPrice")," : ",h(3,4,e.rentPriceMax)," ")}}function UW(n,l){if(n&1&&(r(0,"div"),c(1),g(2,"translate"),g(3,"number"),a()),n&2){let e=p().$implicit;o(),ee(" ",h(2,2,"TITLE.DepositPrice")," : ",h(3,4,e.depositPriceMax)," ")}}function jW(n,l){if(n&1&&(r(0,"div"),c(1),g(2,"translate"),g(3,"number"),a()),n&2){let e=p().$implicit;o(),ee(" ",h(2,2,"TITLE.PeriodPrice"),": ",h(3,4,e.periodPriceMax)," ")}}function qW(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"div")(2,"table",71)(3,"tr")(4,"td"),c(5),g(6,"translate"),a(),r(7,"td"),c(8),g(9,"translate"),a(),r(10,"td"),c(11),g(12,"translate"),a()(),r(13,"tr")(14,"td"),C(15,DW,4,6,"div",72)(16,LW,4,6,"div",72)(17,VW,4,6,"div",72)(18,BW,4,6,"div",72),a(),r(19,"td"),C(20,FW,4,6,"div",72)(21,OW,4,6,"div",72)(22,NW,4,6,"div",72)(23,HW,4,6,"div",72),a(),r(24,"td"),C(25,WW,4,6,"div",72)(26,GW,4,6,"div",72)(27,UW,4,6,"div",72)(28,jW,4,6,"div",72),a()()(),S(29,"br"),r(30,"div")(31,"span",73),I("click",function(){u(e);let t=p();return f(t.onActionCopied())}),S(32,"i",74),a(),c(33),a(),r(34,"div"),c(35),g(36,"translate"),g(37,"enums"),a(),r(38,"div"),c(39),g(40,"translate"),g(41,"cmstitle"),a(),S(42,"br"),a()()}if(n&2){let e=l.$implicit,i=p();o(5),M(h(6,21,"TITLE.Minimum")),o(3),M(h(9,23,"TITLE.Average")),o(3),M(h(12,25,"TITLE.Maximum")),o(4),d("ngIf",e.salePriceMin&&e.salePriceMin>0),o(),d("ngIf",e.rentPriceMin&&e.rentPriceMin>0),o(),d("ngIf",e.depositPriceMin&&e.depositPriceMin>0),o(),d("ngIf",e.periodPriceMin&&e.periodPriceMin>0),o(2),d("ngIf",e.salePriceAverage&&e.salePriceAverage>0),o(),d("ngIf",e.rentPriceAverage&&e.rentPriceAverage>0),o(),d("ngIf",e.depositPriceAverage&&e.depositPriceAverage>0),o(),d("ngIf",e.periodPriceAverage&&e.periodPriceAverage>0),o(2),d("ngIf",e.salePriceMax&&e.salePriceMax>0),o(),d("ngIf",e.rentPriceMax&&e.rentPriceMax>0),o(),d("ngIf",e.depositPriceMax&&e.depositPriceMax>0),o(),d("ngIf",e.periodPriceMax&&e.periodPriceMax>0),o(3),d("cdkCopyToClipboard",e.id),o(2),y(" ",e.id," "),o(2),ee(" ",h(36,27,"TITLE.ExpertPriceType")," : ",di(37,29,e.expertPriceType,i.dataModelEstatePropertyExpertPriceTypeEnumResult.listItems)," "),o(4),ee(" ",h(40,32,"TITLE.TheUsageIdentifierOfTheLinkAssetType")," : ",di(41,34,e.linkPropertyTypeUsageId,i.dataModelEstatePropertyTypeUsageResult.listItems)," ")}}function QW(n,l){n&1&&S(0,"mat-header-row")}function zW(n,l){if(n&1){let e=E();r(0,"mat-row",75),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function YW(n,l){if(n&1){let e=E();r(0,"mat-row",76),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function KW(n,l){if(n&1){let e=E();r(0,"mat-row",77),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),d("ngStyle",ze(3,au,e.expanded===!0?"":"none"))}}var dd=class dd extends xt{constructor(e,i,t,s,_,m,k,z,Se,qe,Ue,ft,jt,Ft,Yt){super(e,new Lr,Ft,Se,Ue);this.contentService=e;this.cmsToastrService=i;this.estateEnumService=t;this.cmsConfirmationDialogService=s;this.coreCurrencyService=_;this.estateContractTypeService=m;this.estatePropertyTypeUsageService=k;this.estatePropertyTypeLanduseService=z;this.tokenHelper=Se;this.cdr=qe;this.translate=Ue;this.cmsStoreService=ft;this.pageInfo=jt;this.publicHelper=Ft;this.dialog=Yt;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new Fm;this.dataModelEstatePropertyExpertPriceTypeEnumResult=new G;this.dataModelEstatePropertyTypeUsageResult=new G;this.dataModelEstatePropertyTypeLanduseResult=new G;this.dataModelEstateContractTypeResult=new G;this.dataModelCoreCurrencyResult=new G;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","ExpertPriceType","CreatedYaer","LinkPropertyTypeUsageId","LinkPropertyTypeLanduseId","LinkContractTypeId","action_menu"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","id","recordStatus","CreatedYaer","LinkPropertyTypeLanduseId","action_menu"];this.dataModelInquiry=new wa;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Oe=>this.onSubmitOptionsSearch(Oe)},this.filteModelContent.sortColumn="CreatedYaer",this.filteModelContent.sortType=$.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEstatePropertyExpertPriceTypeEnum(),this.getEstatePropertyTypeUsages(),this.getEstatePropertyTypeLanduses(),this.getEstateContractTypes(),this.getCoreCurrency()}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}getEstatePropertyExpertPriceTypeEnum(){this.estateEnumService.ServiceEstatePropertyExpertPriceTypeEnum().subscribe({next:e=>{this.dataModelEstatePropertyExpertPriceTypeEnumResult=e}})}getEstatePropertyTypeUsages(){let e=this.constructor.name+"getCoreCurrency",i=new pe;i.rowPerPage=100,this.estatePropertyTypeUsageService.setAccessLoad(),this.estatePropertyTypeUsageService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?this.dataModelEstatePropertyTypeUsageResult=t:this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}getEstatePropertyTypeLanduses(){let e=this.constructor.name+"getCoreCurrency",i=new pe;i.rowPerPage=100,this.estatePropertyTypeLanduseService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?this.dataModelEstatePropertyTypeLanduseResult=t:this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}getEstateContractTypes(){let e=this.constructor.name+"getCoreCurrency",i=new pe;i.rowPerPage=100,this.estateContractTypeService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?this.dataModelEstateContractTypeResult=t:this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}getCoreCurrency(){let e=this.constructor.name+"getCoreCurrency",i=new pe;i.rowPerPage=100,this.coreCurrencyService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?this.dataModelCoreCurrencyResult=t:this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Lr);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=$.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=new Ur;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={};var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(bp,e).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}let i=new Ur;i.disableClose=!0,i.autoFocus=!0,i.height="90%",i.data={id:this.tableRowSelected.id};var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Tp,i).afterClosed().subscribe(_=>{_&&_.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new H;_.propertyName="recordStatus",_.value=Qe.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorLocation(e){this.filteModelContent.linkLocationIds=e}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionPriceInquiryCalculate(){if(this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(wp,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionPriceInquiryList(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=new Ur;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={id:this.tableRowSelected.id};var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ma,e).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}};dd.\u0275fac=function(i){return new(i||dd)(v(To),v(V),v(fn),v(wt),v(gm),v(Ai),v(En),v(Ei),v(Z),v(O),v(L),v(J),v(St),v(F),v(Ae))},dd.\u0275cmp=D({type:dd,selectors:[["app-estate-property-expert-price-list"]],standalone:!1,features:[oe],decls:97,vars:45,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],[1,"col-4"],["type","button","target","_blank","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-calculator","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","ExpertPriceType"],["matColumnDef","CreatedYaer"],["matColumnDef","LinkLocationId"],["matColumnDef","LinkPropertyTypeUsageId"],["matColumnDef","LinkPropertyTypeLanduseId"],["matColumnDef","LinkContractTypeId"],["matColumnDef","LinkCoreCurrencyId"],["matColumnDef","createdDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["id","table1",2,"border-collapse","collapse"],[4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=E();r(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),I("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),$e(1,4)(2,5)(3,6),A(4,7),r(5,"a",8),I("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(6,"i",9),a(),r(7,"a",8),I("click",function(){return u(s),f(t.onActionButtonReload())}),S(8,"i",10),a(),r(9,"a",11),I("click",function(){return u(s),f(t.onActionGridExpandRows(!0))}),S(10,"i",12),a(),r(11,"a",11),I("click",function(){return u(s),f(t.onActionGridExpandRows(!1))}),S(12,"i",13),a(),P(),A(13,14),r(14,"a",15),I("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(15,"mat-slide-toggle",16),c(16),g(17,"translate"),a(),r(18,"a",15),I("click",function(){return u(s),f(t.onActionButtonStatist())}),S(19,"mat-slide-toggle",16),c(20),g(21,"translate"),a(),P(),A(22,17),C(23,$H,7,3,"div",18),r(24,"div",19)(25,"a",20),I("click",function(){return u(s),f(t.onActionPriceInquiryCalculate())}),S(26,"i",21)(27,"br"),a(),r(28,"p",22),c(29),g(30,"translate"),a()(),P(),A(31,23),C(32,eW,7,3,"div",18)(33,tW,7,3,"div",18),P(),A(34,24),r(35,"app-cms-search-list",25),w("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),c(36),g(37,"translate"),r(38,"app-cms-location-autocomplete",26),g(39,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorLocation(m))}),a()(),r(40,"app-cms-statist-list",25),w("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),P(),A(41,27),r(42,"mat-table",28,0),I("matSortChange",function(){u(s);let m=R(43);return f(t.onTableSortData(m))}),A(44,29),C(45,iW,3,3,"mat-header-cell",30)(46,nW,3,0,"mat-cell",31),P(),A(47,32),C(48,oW,3,3,"mat-header-cell",33)(49,aW,2,1,"mat-cell",31),P(),A(50,34),C(51,lW,2,1,"mat-header-cell",33)(52,sW,2,1,"mat-cell",31),P(),A(53,35),C(54,dW,2,1,"mat-header-cell",33)(55,cW,4,5,"mat-cell",31),P(),A(56,36),C(57,pW,2,1,"mat-header-cell",33)(58,uW,4,4,"mat-cell",31),P(),A(59,37),C(60,fW,2,1,"mat-header-cell",33)(61,_W,3,4,"mat-cell",31),P(),A(62,38),C(63,gW,2,1,"mat-header-cell",33)(64,hW,2,1,"mat-cell",31),P(),A(65,39),C(66,yW,2,1,"mat-header-cell",33)(67,SW,2,2,"mat-cell",31),P(),A(68,40),C(69,CW,2,1,"mat-header-cell",33)(70,vW,3,4,"mat-cell",31),P(),A(71,41),C(72,IW,2,1,"mat-header-cell",33)(73,EW,3,4,"mat-cell",31),P(),A(74,42),C(75,MW,2,1,"mat-header-cell",33)(76,bW,3,4,"mat-cell",31),P(),A(77,43),C(78,TW,2,1,"mat-header-cell",33)(79,wW,3,4,"mat-cell",31),P(),A(80,44),C(81,xW,2,1,"mat-header-cell",33)(82,AW,3,3,"mat-cell",31),P(),A(83,45),C(84,PW,3,3,"mat-header-cell",30)(85,RW,6,1,"mat-cell",46),P(),A(86,47),C(87,kW,12,18,"mat-cell",31),P(),A(88,48),C(89,qW,43,37,"mat-cell",31),P(),C(90,QW,1,0,"mat-header-row",49)(91,zW,1,2,"mat-row",50)(92,YW,1,2,"mat-row",51)(93,KW,1,5,"mat-row",52),a(),P(),A(94,53),r(95,"mat-paginator",54,1),I("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),P(),a()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","estate.propertyexpertprice.list"),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(8),K("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),d("checked",t.optionsSearch.data.show),o(),y("",h(17,32,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",h(21,34,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(6),y(" ",h(30,36,"ACTION.PriceInquiryCalculate")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(2),b("options",t.optionsSearch),o(),y(" ",h(37,38,"ACTION.LOCATION")," "),o(2),d("optionSelectForce",t.filteModelContent.linkLocationIds)("optionPlaceholder",h(39,40,"TITLE.Region")),o(2),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(48),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",se(42,ZH)),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(),d("matRowDefColumns",se(43,JH)),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(44,XH)))},dependencies:[ce,N,it,Je,Ee,Q,Dt,Lt,Mt,yt,bt,Tt,nt,rt,dt,at,ot,ct,lt,st,pt,mt,fi,At,Pt,Jt,Rt,kt,Hi,We,bo,B,Oa,Qn,sn,Me,jn,Zt],styles:[".float-left[_ngcontent-%COMP%]{float:left!important}.pointer[_ngcontent-%COMP%]{cursor:pointer}#table1[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:2px solid black;padding:15px}#table1[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:2px solid black;padding:15px;text-align:center}"]});var xp=dd;var lu=vo(Wo());var ZW=["*"];function JW(n,l){if(n&1&&(r(0,"label",14),c(1),a()),n&2){let e=p();d("for",Ie("app-cms-site-selector-",e.id)),o(),M(e.optionLabel)}}function XW(n,l){if(n&1&&(S(0,"img",15),g(1,"cmsthumbnail")),n&2){let e=p();d("src",x(h(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),j)}}function $W(n,l){if(n&1&&(S(0,"img",15),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function eG(n,l){if(n&1&&(r(0,"mat-option",16),C(1,$W,2,4,"img",5),r(2,"span"),c(3),a()()),n&2){let e=l.$implicit,i=p();d("value",e)("disabled",i.optionDisabled),o(),d("ngIf",e.linkMainImageIdSrc),o(2),M(i.displayOption(e))}}function tG(n,l){n&1&&S(0,"i",17)}function iG(n,l){n&1&&S(0,"i",18)}function nG(n,l){if(n&1){let e=E();r(0,"i",19),I("click",function(){u(e);let t=p();return f(t.onActionSelectClear())}),a()}}function oG(n,l){n&1&&(r(0,"em"),c(1),g(2,"translate"),a()),n&2&&(o(),y("(",h(2,1,"TITLE.Necessary"),")"))}var ua=class ua{constructor(l,e,i,t,s,_){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.contentService=_;this.id=++ua.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=new Nn;this.formControl=new Et;this.optionPlaceholder="";this.optionLabel="";this.optionSelectFirstItem=!1;this.optionDisabled=!1;this.optionRequired=!1;this.optionChange=new Xe;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(ei(""),$t(1500),xi(),ti(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return ae(this,null,function*(){let e=new Pa;e.rowPerPage=20,e.accessLoad=!0;let i=new H;i.propertyName="title",i.value=l,i.searchType=Fe.Contains,i.clauseType=Be.Or,e.filters.push(i),l&&typeof l=="string"&&l.length>0&&(i=new H,i.propertyName="id",i.value=l,i.searchType=Fe.Equal,i.clauseType=Be.Or,e.filters.push(i)),l?.length>0&&(i=new H,i.propertyName="LinkCmsUserId",i.value=l,i.searchType=Fe.Equal,i.clauseType=Be.Or,e.filters.push(i),i=new H,i.propertyName="mobileNumber",i.value=l,i.searchType=Fe.Contains,i.clauseType=Be.Or,e.filters.push(i),i=new H,i.propertyName="phoneNumber",i.value=l,i.searchType=Fe.Contains,i.clauseType=Be.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),wi(this.contentService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect.linkMainImageIdSrc="",this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(l){return this.filteredOptions.pipe(Ot(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){this.contentService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof Nn){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Nn,this.loadOptions()}};ua.nextId=0,ua.\u0275fac=function(e){return new(e||ua)(v(X),v(V),v(O),v(F),v(L),v(vn))},ua.\u0275cmp=D({type:ua,selectors:[["app-estate-property-company-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:ZW,decls:18,vars:25,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=E();vi(),r(0,"div",1),S(1,"app-progress-spinner",2),C(2,JW,2,3,"label",3),r(3,"span",4),C(4,XW,2,4,"img",5),c(5," \xA0"),a(),S(6,"input",6),r(7,"mat-autocomplete",7,0),I("optionSelected",function(_){return u(t),f(i.onActionSelect(_.option.value))}),C(9,eG,4,4,"mat-option",8),g(10,"async"),a(),C(11,tG,1,0,"i",9)(12,iG,1,0,"i",10)(13,nG,1,0,"i",11),r(14,"i",12),g(15,"translate"),I("click",function(){return u(t),f(i.onActionButtonReload())}),a(),C(16,oG,3,3,"em",13),pi(17),a()}if(e&2){let t=R(8);o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(2),d("ngIf",i.dataModelSelect&&(i.dataModelSelect==null?null:i.dataModelSelect.linkMainImageIdSrc)),o(2),d("placeholder",x(i.optionPlaceholder))("id",Ie("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),vt("disabled",i.optionDisabled?!0:null),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",h(10,21,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),K("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),d("title",x(h(15,23,"ACTION.RELOAD"))),o(2),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0))}},dependencies:[He,N,Y,q,de,zt,ni,ii,oi,en,Q,U,We,B,Me],encapsulation:2});var br=ua;var rG=["vform"];function aG(n,l){if(n&1){let e=E();r(0,"app-cms-enum-record-status-selector",58),w("modelChange",function(t){u(e);let s=p();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();b("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function lG(n,l){if(n&1){let e=E();r(0,"app-cms-enum-record-admin-status-selector",58),w("modelChange",function(t){u(e);let s=p();return T(s.dataModel.mainAdminRecordStatus,t)||(s.dataModel.mainAdminRecordStatus=t),f(t)}),a()}if(n&2){let e=p();b("model",e.dataModel.mainAdminRecordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function sG(n,l){n&1&&S(0,"i",63)}function dG(n,l){n&1&&S(0,"i",64)}function cG(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),o(2),M(h(4,2,"MESSAGE.required"))}}function pG(n,l){if(n&1){let e=E();r(0,"div",24)(1,"label",59),c(2),a(),r(3,"input",60,8),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),a(),C(5,sG,1,0,"i",61)(6,dG,1,0,"i",62),r(7,"em"),c(8),a(),C(9,cG,5,4,"mat-error",27),a()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle))("disabled",x(!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField))),b("ngModel",i.dataModel.title),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function mG(n,l){if(n&1){let e=E();r(0,"app-estate-property-company-selector",65),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorCompany(t))}),a()}if(n&2){let e=p();d("optionSelectForce",e.dataModel.linkPropertyCompanyId)("optionPlaceholder",h(1,2,"TITLE.Company"))}}function uG(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p();o(),y(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," "),o(2),M(h(4,2,"MESSAGE.required"))}}function fG(n,l){if(n&1){let e=E();r(0,"div",24)(1,"label",66),c(2),g(3,"translate"),a(),r(4,"textarea",67,9),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),a(),r(6,"em"),c(7),a()()}if(n&2){let e=R(5),i=p();o(2),M(h(3,5,"TITLE.Description_Hidden")),o(2),d("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",i.dataModel.descriptionHidden),o(3),y("",e.value.length," / 500")}}function _G(n,l){if(n&1){let e=E();r(0,"div",68)(1,"label",69),c(2),a(),r(3,"input",70),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.fromDate,t)||(s.dataModel.fromDate=t),f(t)}),a(),S(4,"mat-datepicker-toggle",71)(5,"mat-datepicker",72,10),a()}if(n&2){let e=R(6),i=p();o(2),M(i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle))("disabled",x(!(i.fieldsInfo.fromDate!=null&&i.fieldsInfo.fromDate.accessAddField)))("matDatepicker",e),b("ngModel",i.dataModel.fromDate),o(),d("for",e)}}function gG(n,l){if(n&1){let e=E();r(0,"div",68)(1,"label",73),c(2),a(),r(3,"input",74,11),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.expireDate,t)||(s.dataModel.expireDate=t),f(t)}),a(),S(5,"mat-datepicker-toggle",71),a()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle))("disabled",x(!(i.fieldsInfo.expireDate!=null&&i.fieldsInfo.expireDate.accessAddField)))("matDatepicker",e),b("ngModel",i.dataModel.expireDate),o(2),d("for",e)}}function hG(n,l){if(n&1){let e=E();r(0,"div",75)(1,"button",76),I("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),c(2),g(3,"translate"),a(),r(4,"button",77),c(5),g(6,"translate"),a()()}if(n&2){p();let e=R(10);o(2),y(" ",h(3,3,"ACTION.BACK")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",h(6,5,"ACTION.NEXT")," ")}}function yG(n,l){if(n&1){let e=E();r(0,"div",24)(1,"label",78),c(2),g(3,"translate"),a(),r(4,"input",79,12),g(6,"translate"),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.source,t)||(s.dataModel.source=t),f(t)}),a(),r(7,"em"),c(8),a()()}if(n&2){let e=R(5),i=p();o(2),M(h(3,7,"TITLE.Source_page_address")),o(2),d("placeholder",x(h(6,9,"TITLE.Content_reference_website_link")))("disabled",x(!(i.fieldsInfo.source!=null&&i.fieldsInfo.source.accessAddField))),b("ngModel",i.dataModel.source),o(4),y("",e.value.length," / 500")}}function SG(n,l){if(n&1){let e=E();r(0,"mat-chip",80),I("removed",function(){let t=u(e).$implicit,s=p();return f(s.removeTag(t))}),c(1),r(2,"button",81)(3,"mat-icon"),c(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),y(" ",e," ")}}function CG(n,l){if(n&1&&(r(0,"div",75)(1,"button",82),c(2),g(3,"translate"),a(),r(4,"button",77),c(5),g(6,"translate"),a()()),n&2){p();let e=R(10);o(2),y(" ",h(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",h(6,5,"ACTION.NEXT")," ")}}function vG(n,l){if(n&1&&(S(0,"img",83),g(1,"cmsthumbnail")),n&2){let e=p();d("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function IG(n,l){n&1&&(r(0,"p"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.List_of_attached_photos")," "))}function EG(n,l){if(n&1&&(r(0,"audio",84),S(1,"source",85),g(2,"cmsthumbnail"),c(3," Your browser does not support the audio tag. "),a()),n&2){let e=p();o(),d("src",x(h(2,2,e.dataModel.linkFilePodcastIdSrc)),j)}}function MG(n,l){if(n&1&&(r(0,"video",84),S(1,"source",86),c(2," Your browser does not support the video tag. "),a()),n&2){let e=p();o(),d("src",x(e.dataModel.linkFileMovieIdSrc),j)}}function bG(n,l){if(n&1&&(r(0,"div",75)(1,"button",82),c(2),g(3,"translate"),a(),r(4,"button",77),c(5),g(6,"translate"),a()()),n&2){p();let e=R(10);o(2),y(" ",h(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",h(6,5,"ACTION.NEXT")," ")}}function TG(n,l){if(n&1&&(r(0,"button",88),c(1),g(2,"translate"),a()),n&2){p(2);let e=R(10);d("disabled",!e.form.valid),o(),y(" ",h(2,2,"ACTION.SAVE")," ")}}function wG(n,l){if(n&1&&(r(0,"div",75)(1,"button",82),c(2),g(3,"translate"),a(),C(4,TG,3,4,"button",87),a()),n&2){let e=p();o(2),y(" ",h(3,2,"ACTION.BEFOR")," "),o(2),d("ngIf",e.formInfo.submitButtonEnabled)}}function xG(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function AG(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function PG(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}function RG(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}var cd=class cd extends Bt{constructor(e,i,t,s,_,m,k,z,Se){super(t,new Wn,i,Se);this.coreEnumService=e;this.publicHelper=i;this.contentService=t;this.cmsToastrService=s;this.cmsStoreService=_;this.tokenHelper=m;this.router=k;this.cdr=z;this.translate=Se;this.constructorInfoAreaId=this.constructor.name;this.dataModel=new Wn;this.dataModelResult=new G;this.dataFileModelImgaes=new Map;this.dataFileModelFiles=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypePodcast=["mp3"];this.selectFileTypeMovie=["mp4","webm"];this.formInfo=new ue;this.fileManagerOpenForm=!1;this.fileManagerOpenFormPodcast=!1;this.fileManagerOpenFormMovie=!1;this.fieldsInfo=new Map;this.keywordDataModel=[];this.tagDataModel=[];this.similarDataModel=new Array;this.otherInfoTabledisplayedColumns=["title","TypeId","Action"];this.similarTabledisplayedColumns=["linkMainImageIdSrc","id","recordStatus","title","Action"];this.similarTabledataSource=new mi;this.appLanguage="fa";this.tokenInfo=new It;this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Ni;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.DataGetAccess()}onActionTagChange(e){this.tagDataModel=e}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionFileSelectedLinkFilePodcastId(e){this.dataModel.linkFilePodcastId=e.id,this.dataModel.linkFilePodcastIdSrc=e.downloadLinksrc}onActionFileSelectedLinkFileMovieId(e){this.dataModel.linkFileMovieId=e.id,this.dataModel.linkFileMovieIdSrc=e.downloadLinksrc}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapModel.on("click",i=>{let t=i.latlng.lat,s=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&s===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=lu.marker([t,s]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=s}))}receiveZoom(e){}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}if(this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let e=[];this.keywordDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.keyword=e.join(","))}this.DataAddContent()}DataAddContent(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";if(this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}if(this.dataFileModelImgaes){let i=Array.from(this.dataFileModelImgaes.keys());i&&i.length>0&&(this.dataModel.linkExtraImageIds=i.join(","))}this.contentService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessAdd(),setTimeout(()=>this.router.navigate(["/estate/property-project/"]),1e3)):this.cmsToastrService.typeErrorAdd(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorAdd(i),this.publicHelper.processService.processStop(e)}})}onActionSelectorCompany(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.information_area_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkPropertyCompanyId=null;return}this.dataModel.linkPropertyCompanyId=e.id}onActionContentSimilarRemoveFromLIst(e){if(!e||e.id.length<=0||!this.similarDataModel||this.similarDataModel.length===0)return;let i=new Array;this.similarDataModel.forEach(t=>{t.id!==e.id&&i.push(t)}),this.similarDataModel=i,this.similarTabledataSource.data=this.similarDataModel}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/estate/property-project/"])}onActionSelectorLocation(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=e.id}addTag(e){let i=(e.value||"").trim();i&&this.keywordDataModel.push(i),e.chipInput.clear()}removeTag(e){let i=this.keywordDataModel.indexOf(e);i>=0&&this.keywordDataModel.splice(i,1)}};cd.\u0275fac=function(i){return new(i||cd)(v(X),v(F),v(In),v(V),v(J),v(Z),v(Ze),v(O),v(L))},cd.\u0275cmp=D({type:cd,selectors:[["app-estate-property-project-add"]],viewQuery:function(i,t){if(i&1&&te(rG,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:117,vars:140,consts:[["vform","ngForm"],["stepper",""],["Description",""],["chipList",""],["tagInput",""],["LinkMainImageId",""],["LinkFilePodcastId",""],["LinkFileMovieId",""],["Title",""],["DescriptionHidden",""],["FromDate",""],["ExpireDate",""],["Source",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],[1,"pb-5"],["id","main","name","dataModel.body",3,"ngModelChange","placeholder","config","ngModel"],["class","ntk-button-row",4,"ngIf"],["state","seo",3,"label"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView","optionFileType"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["controls","",4,"ngIf"],["matInput","","type","text","name","dataModel.linkFilePodcastId","id","dataModel.linkFilePodcastId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],["matInput","","type","text","name","dataModel.linkFileMovieId","id","dataModel.linkFileMovieId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"dataModelChange","dataModel"],[3,"dataModelChange","dataModel","dataImageModel"],["state","loaction",3,"label"],["id","main-map",3,"map$","zoom$","optonCenter"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],["touchUi",""],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],[1,"ntk-button-row"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["for","dataModel.source",1,"color-highlight"],["matInput","","type","text","name","dataModel.source","type","text","dir","ltr","minlength","3","maxlength","500","id","dataModel.source",1,"form-control","validate-name","input-ltr",2,"text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["controls",""],["type","audio/mp3",3,"src"],["type","video/mp4",3,"src"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=E();r(0,"div",13),S(1,"app-progress-spinner",14),r(2,"div",15)(3,"p",16),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",17),r(9,"form",18,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"mat-vertical-stepper",19,1),I("selectionChange",function(m){u(s);let k=R(12);return f(t.onStepClick(m,k))}),r(13,"mat-step",20),g(14,"translate"),C(15,aG,1,5,"app-cms-enum-record-status-selector",21)(16,lG,1,5,"app-cms-enum-record-admin-status-selector",21)(17,pG,10,10,"div",22)(18,mG,2,4,"app-estate-property-company-selector",23),r(19,"div",24)(20,"label",25),c(21),a(),r(22,"textarea",26,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),a(),r(24,"em"),c(25),a(),C(26,uG,5,4,"mat-error",27),a(),C(27,fG,8,7,"div",22),r(28,"app-cms-location-selector",28),g(29,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorLocation(m))}),a(),C(30,_G,7,8,"div",29)(31,gG,6,8,"div",29),S(32,"hr",30),r(33,"label"),c(34),a(),r(35,"angular-editor",31),g(36,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.body,m)||(t.dataModel.body=m),f(m)}),a(),C(37,hG,7,7,"div",32),a(),r(38,"mat-step",33),g(39,"translate"),r(40,"p"),c(41),g(42,"translate"),a(),C(43,yG,9,11,"div",22),r(44,"mat-form-field",34)(45,"mat-label"),c(46),g(47,"translate"),a(),r(48,"mat-chip-grid",35,3),C(50,SG,5,1,"mat-chip",36),r(51,"input",37,4),g(53,"translate"),I("matChipInputTokenEnd",function(m){return u(s),f(t.addTag(m))}),a()()(),C(54,CG,7,7,"div",32),a(),r(55,"mat-step",38),g(56,"translate"),r(57,"p"),c(58),g(59,"translate"),a(),r(60,"div",39)(61,"a",40),g(62,"cmsthumbnail"),C(63,vG,2,4,"img",41),a()(),r(64,"div",24)(65,"label",42),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(66),g(67,"translate"),a(),r(68,"input",43,5),g(70,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(71,"cms-file-manager",44),I("itemSelected",function(m){return u(s),f(t.onActionFileSelectedLinkMainImageId(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),a()(),S(72,"hr"),C(73,IG,3,3,"p",27),r(74,"app-cms-files-selector",45),w("dataFileModelChange",function(m){return u(s),T(t.dataFileModelImgaes,m)||(t.dataFileModelImgaes=m),f(m)}),a(),S(75,"hr"),r(76,"div")(77,"p"),c(78),g(79,"translate"),a(),r(80,"app-cms-files-selector",46),w("dataFileModelChange",function(m){return u(s),T(t.dataFileModelFiles,m)||(t.dataFileModelFiles=m),f(m)}),a(),S(81,"br"),a(),r(82,"div",39),C(83,EG,4,4,"audio",47),a(),r(84,"div",24)(85,"input",48,6),g(87,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkFilePodcastId,m)||(t.dataModel.linkFilePodcastId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenFormPodcast=!0)}),a(),r(88,"cms-file-manager",44),I("itemSelected",function(m){return u(s),f(t.onActionFileSelectedLinkFilePodcastId(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenFormPodcast,m)||(t.fileManagerOpenFormPodcast=m),f(m)}),a()(),r(89,"div",39),C(90,MG,3,2,"video",47),a(),r(91,"div",24)(92,"input",49,7),g(94,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkFileMovieId,m)||(t.dataModel.linkFileMovieId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenFormMovie=!0)}),a(),r(95,"cms-file-manager",44),I("itemSelected",function(m){return u(s),f(t.onActionFileSelectedLinkFileMovieId(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenFormMovie,m)||(t.fileManagerOpenFormMovie=m),f(m)}),a()(),r(96,"h3"),c(97),g(98,"translate"),a(),r(99,"app-cms-360-image-list",50),w("dataModelChange",function(m){return u(s),T(t.dataModel.file360Views,m)||(t.dataModel.file360Views=m),f(m)}),a(),S(100,"br"),r(101,"h3"),c(102),g(103,"translate"),a(),r(104,"app-cms-360-tour-list",51),w("dataModelChange",function(m){return u(s),T(t.dataModel.file360Tour,m)||(t.dataModel.file360Tour=m),f(m)}),a(),C(105,bG,7,7,"div",32),a(),r(106,"mat-step",52),g(107,"translate"),r(108,"p"),c(109),g(110,"translate"),a(),r(111,"app-cms-map",53),I("map$",function(m){return u(s),f(t.receiveMap(m))})("zoom$",function(m){return u(s),f(t.receiveZoom(m))}),a(),C(112,wG,5,4,"div",32),a(),C(113,xG,2,0,"ng-template",54)(114,AG,2,0,"ng-template",55)(115,PG,2,0,"ng-template",56)(116,RG,2,0,"ng-template",57),a()()()()}if(i&2){let s=R(23),_=R(49);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,100,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(5),d("label",x(h(14,102,"TITLE.REQUIRED_INFORMATION"))),o(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.mainAdminRecordStatus==null?null:t.fieldsInfo.mainAdminRecordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),d("ngIf",t.tokenHelper.isAdminSite),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle))("disabled",x(!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessAddField))),b("ngModel",t.dataModel.description),o(3),y("",s.value.length," / 500"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),o(),d("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessEditField))("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",h(29,104,"TITLE.Region")),o(2),d("ngIf",t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.accessWatchField),o(),d("ngIf",t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.accessWatchField),o(3),y(" ",t.fieldsInfo.body==null?null:t.fieldsInfo.body.fieldTitle," "),o(),d("placeholder",h(36,106,"TITLE.Enter_Text"))("config",t.publicHelper.editorConfig),b("ngModel",t.dataModel.body),o(2),d("ngIf",t.formInfo.submitButtonEnabled),o(),d("label",x(h(39,108,"TITLE.Search_Engines"))),o(3),y(" ",h(42,110,"TITLE.This_section_helps_search_engines_better_index_content")," "),o(2),d("ngIf",t.fieldsInfo.source==null?null:t.fieldsInfo.source.accessWatchField),o(3),M(h(47,112,"TITLE.Choose_keywords_relative_to_the_content")),o(4),d("ngForOf",t.keywordDataModel),o(),d("placeholder",h(53,114,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",_)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(3),d("ngIf",t.formInfo.submitButtonEnabled),o(),d("label",x(h(56,116,"TITLE.ATTACH_FILES"))),o(3),M(h(59,118,"TITLE.CONTENT_ATTACH_FILES")),o(3),d("href",x(h(62,120,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(h(67,122,"TITLE.Original_Photo")),o(2),d("placeholder",x(h(70,124,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(2),d("ngIf",t.dataFileModelImgaes&&t.dataFileModelImgaes.size>0),o(),b("dataFileModel",t.dataFileModelImgaes),d("openDirectUploadView",!0)("optionFileType",t.selectFileTypeMainImage),o(4),M(h(79,126,"TITLE.List_of_attached_files")),o(2),b("dataFileModel",t.dataFileModelFiles),d("openDirectUploadView",!0),o(3),d("ngIf",(t.dataModel==null||t.dataModel.linkFilePodcastIdSrc==null?null:t.dataModel.linkFilePodcastIdSrc.length)>0),o(2),d("placeholder",x(h(87,128,"TITLE.Audio_File_ID"))),b("ngModel",t.dataModel.linkFilePodcastId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenFormPodcast),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypePodcast)("openFilemanagerButtonView",!1),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkFileMovieIdSrc==null?null:t.dataModel.linkFileMovieIdSrc.length)>0),o(2),d("placeholder",x(h(94,130,"TITLE.Video_File_ID"))),b("ngModel",t.dataModel.linkFileMovieId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenFormMovie),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMovie)("openFilemanagerButtonView",!1),o(2),M(h(98,132,"TITLE.image_360")),o(2),b("dataModel",t.dataModel.file360Views),o(3),M(h(103,134,"TITLE.virtual_tour")),o(2),b("dataModel",t.dataModel.file360Tour),d("dataImageModel",t.dataModel.file360Views),o(),d("ngIf",t.formInfo.submitButtonEnabled),o(),d("label",Ie("",h(107,136,"TITLE.Location")," ")),o(3),y(" ",h(110,138,"TITLE.Click_on_the_map_to_specify_the_location")," "),o(2),d("optonCenter",t.mapOptonCenter),o(),d("ngIf",!t.publicHelper.processService.process.inRunAll)}},dependencies:[He,N,ke,Y,q,we,de,De,Pe,me,Re,_i,Ri,ki,Di,Pi,Gn,Un,gn,yi,hi,xe,tt,Ee,Q,nn,on,Mn,bn,tn,rn,Tn,ui,zn,Yn,Mi,U,ge,Sn,an,Uo,_t,br,B,Me],encapsulation:2});var Pp=cd;var im=vo(Wo());var kG=["vform"];function DG(n,l){if(n&1){let e=E();r(0,"app-cms-enum-record-status-selector",58),w("modelChange",function(t){u(e);let s=p();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();b("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function LG(n,l){if(n&1){let e=E();r(0,"app-cms-enum-record-admin-status-selector",58),w("modelChange",function(t){u(e);let s=p();return T(s.dataModel.mainAdminRecordStatus,t)||(s.dataModel.mainAdminRecordStatus=t),f(t)}),a()}if(n&2){let e=p();b("model",e.dataModel.mainAdminRecordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function VG(n,l){n&1&&S(0,"i",63)}function BG(n,l){n&1&&S(0,"i",64)}function FG(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),o(2),M(h(4,2,"MESSAGE.required"))}}function OG(n,l){if(n&1){let e=E();r(0,"div",23)(1,"label",59),c(2),a(),r(3,"input",60,8),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),a(),C(5,VG,1,0,"i",61)(6,BG,1,0,"i",62),r(7,"em"),c(8),a(),C(9,FG,5,4,"mat-error",26),a()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle))("disabled",x(!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField))),b("ngModel",i.dataModel.title),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function NG(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p();o(),y(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," "),o(2),M(h(4,2,"MESSAGE.required"))}}function HG(n,l){if(n&1){let e=E();r(0,"div",23)(1,"label",65),c(2),g(3,"translate"),a(),r(4,"textarea",66,9),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),a(),r(6,"em"),c(7),a()()}if(n&2){let e=R(5),i=p();o(2),M(h(3,7,"TITLE.Description_Hidden")),o(2),d("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle))("disabled",x(!(i.fieldsInfo.descriptionHidden!=null&&i.fieldsInfo.descriptionHidden.accessEditField))),b("ngModel",i.dataModel.descriptionHidden),o(3),y("",e.value.length," / 500")}}function WG(n,l){if(n&1){let e=E();r(0,"app-estate-property-company-selector",67),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorCompany(t))}),a()}if(n&2){let e=p();d("optionSelectForce",e.dataModel.linkPropertyCompanyId)("optionPlaceholder",h(1,2,"TITLE.Company"))}}function GG(n,l){if(n&1){let e=E();r(0,"div",68)(1,"label",69),c(2),a(),r(3,"input",70),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.fromDate,t)||(s.dataModel.fromDate=t),f(t)}),a(),S(4,"mat-datepicker-toggle",71)(5,"mat-datepicker",72,10),a()}if(n&2){let e=R(6),i=p();o(2),M(i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle))("disabled",x(!(i.fieldsInfo.fromDate!=null&&i.fieldsInfo.fromDate.accessEditField)))("matDatepicker",e),b("ngModel",i.dataModel.fromDate),o(),d("for",e)}}function UG(n,l){if(n&1){let e=E();r(0,"div",68)(1,"label",73),c(2),a(),r(3,"input",74),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.expireDate,t)||(s.dataModel.expireDate=t),f(t)}),a(),S(4,"mat-datepicker-toggle",71)(5,"mat-datepicker",72,11),a()}if(n&2){let e=R(6),i=p();o(2),M(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle))("disabled",x(!(i.fieldsInfo.expireDate!=null&&i.fieldsInfo.expireDate.accessEditField)))("matDatepicker",e),b("ngModel",i.dataModel.expireDate),o(),d("for",e)}}function jG(n,l){if(n&1){let e=E();r(0,"div",75)(1,"button",76),I("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),c(2),g(3,"translate"),a(),r(4,"button",77),c(5),g(6,"translate"),a(),r(7,"button",78),c(8),g(9,"translate"),a()()}if(n&2){p();let e=R(10);o(2),y(" ",h(3,5,"ACTION.BACK")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",h(6,7,"ACTION.NEXT")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",h(9,9,"ACTION.SAVE")," ")}}function qG(n,l){if(n&1){let e=E();r(0,"div",23)(1,"label",79),c(2),g(3,"translate"),a(),r(4,"input",80,12),g(6,"translate"),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.source,t)||(s.dataModel.source=t),f(t)}),a(),r(7,"em"),c(8),a()()}if(n&2){let e=R(5),i=p();o(2),M(h(3,7,"TITLE.Source_page_address")),o(2),d("placeholder",x(h(6,9,"TITLE.Content_reference_website_link")))("disabled",x(!(i.fieldsInfo.source!=null&&i.fieldsInfo.source.accesseEditField))),b("ngModel",i.dataModel.source),o(4),y("",e.value.length," / 500")}}function QG(n,l){if(n&1){let e=E();r(0,"mat-chip",81),I("removed",function(){let t=u(e).$implicit,s=p();return f(s.removeTag(t))}),c(1),r(2,"button",82)(3,"mat-icon"),c(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),y(" ",e," ")}}function zG(n,l){if(n&1&&(r(0,"div",75)(1,"button",83),c(2),g(3,"translate"),a(),r(4,"button",77),c(5),g(6,"translate"),a()()),n&2){p();let e=R(10);o(2),y(" ",h(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",h(6,5,"ACTION.NEXT")," ")}}function YG(n,l){if(n&1&&(S(0,"img",84),g(1,"cmsthumbnail")),n&2){let e=p();d("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function KG(n,l){n&1&&(r(0,"p"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.List_of_attached_photos")," "))}function ZG(n,l){if(n&1&&(r(0,"audio",85),S(1,"source",86),g(2,"cmsthumbnail"),c(3," Your browser does not support the audio tag. "),a()),n&2){let e=p();o(),d("src",x(h(2,2,e.dataModel.linkFilePodcastIdSrc)),j)}}function JG(n,l){if(n&1&&(r(0,"video",85),S(1,"source",87),c(2," Your browser does not support the video tag. "),a()),n&2){let e=p();o(),d("src",x(e.dataModel.linkFileMovieIdSrc),j)}}function XG(n,l){if(n&1&&(r(0,"div",75)(1,"button",83),c(2),g(3,"translate"),a(),r(4,"button",77),c(5),g(6,"translate"),a()()),n&2){p();let e=R(10);o(2),y(" ",h(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",h(6,5,"ACTION.NEXT")," ")}}function $G(n,l){if(n&1&&(r(0,"button",78),c(1),g(2,"translate"),a()),n&2){p(2);let e=R(10);d("disabled",!e.form.valid),o(),y(" ",h(2,2,"ACTION.SAVE")," ")}}function eU(n,l){if(n&1){let e=E();r(0,"div",75)(1,"button",76),I("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),c(2),g(3,"translate"),a(),r(4,"button",83),c(5),g(6,"translate"),a(),C(7,$G,3,4,"button",88),a()}if(n&2){let e=p();o(2),y(" ",h(3,3,"ACTION.BACK")," "),o(3),y(" ",h(6,5,"ACTION.BEFOR")," "),o(2),d("ngIf",e.formInfo.submitButtonEnabled)}}function tU(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function iU(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function nU(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}function oU(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}var pd=class pd extends Ut{constructor(e,i,t,s,_,m,k,z,Se){super(t,new Wn,i,Se);this.activatedRoute=e;this.publicHelper=i;this.contentService=t;this.cmsToastrService=s;this.cmsStoreService=_;this.router=m;this.cdr=k;this.tokenHelper=z;this.translate=Se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModel=new Wn;this.dataModelResult=new Ht;this.dataContentCategoryModel=[];this.dataFileModelImgaes=new Map;this.dataFileModelFiles=new Map;this.similarDataModel=new Array;this.contentSimilarSelected=new Wn;this.otherInfoTabledisplayedColumns=["id","title","TypeId","Action"];this.similarTabledisplayedColumns=["linkMainImageIdSrc","id","recordStatus","title","Action"];this.similarTabledataSource=new mi;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypePodcast=["mp3"];this.selectFileTypeMovie=["mp4","webm"];this.formInfo=new ue;this.fileManagerOpenForm=!1;this.fileManagerOpenFormPodcast=!1;this.fileManagerOpenFormMovie=!1;this.keywordDataModel=[];this.appLanguage="fa";this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Ni;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.requestId=this.activatedRoute.snapshot.paramMap.get("id"),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.requestId?.length===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.DataGetOne()}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionFileSelectedLinkFilePodcastId(e){this.dataModel.linkFilePodcastId=e.id,this.dataModel.linkFilePodcastIdSrc=e.downloadLinksrc}onActionFileSelectedLinkFileMovieId(e){this.dataModel.linkFileMovieId=e.id,this.dataModel.linkFileMovieIdSrc=e.downloadLinksrc}onFormSubmit(){if(this.requestId?.length<=0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}if(this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let e=[];this.keywordDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.keyword=e.join(","))}this.DataEditContent()}DataGetOne(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contentService.setAccessLoad(),this.contentService.setAccessDataType(Ne.Editor),this.contentService.ServiceGetOneById(this.requestId).subscribe({next:i=>{if(this.dataAccessModel=i.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.publicHelper.processService.processStop(e),this.dataModelResult=i,this.formInfo.submitButtonEnabled=!0,i.isSuccess){this.dataModel=i.item;let t=this.dataModel.geolocationlatitude,s=this.dataModel.geolocationlongitude;t>0&&s>0&&(this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:t,lon:s}),this.receiveMap()),this.dataModel.keyword=this.dataModel.keyword+"",this.keywordDataModel=this.dataModel.keyword.split(","),this.dataModel.linkFileIds&&this.dataModel.linkFileIds.length>0&&this.dataModel.linkFileIds.split(",").forEach((_,m)=>{let k="";this.dataModel.linkFileIdsSrc.length>=this.dataModel.linkFileIdsSrc.length&&(k=this.dataModel.linkFileIdsSrc[m]),this.dataFileModelFiles.set(+_,k)}),this.dataModel.linkExtraImageIdsSrc&&this.dataModel.linkExtraImageIdsSrc.length>0&&this.dataModel.linkExtraImageIds.split(",").forEach((_,m)=>{let k="";this.dataModel.linkExtraImageIdsSrc.length>=this.dataModel.linkExtraImageIdsSrc.length&&(k=this.dataModel.linkExtraImageIdsSrc[m]),this.dataFileModelImgaes.set(+_,k)})}else this.cmsToastrService.typeErrorGetOne(i.errorMessage);this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetOne(i),this.publicHelper.processService.processStop(e,!1)}})}DataSimilarGetAll(e){if(!e||e.length===0)return;this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_other_information_from_the_server").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_other_information_from_the_server").subscribe(s=>{this.publicHelper.processService.processStart(i,s,this.constructorInfoAreaId)});let t=new ka;e.forEach(s=>{if(s>0){let _=new H;_.propertyName="id",_.value=s,_.clauseType=Be.Or,t.filters.push(_)}}),this.contentService.ServiceGetAll(t).subscribe({next:s=>{this.formInfo.submitButtonEnabled=!0,s.isSuccess?(this.similarDataModel=s.listItems,this.similarTabledataSource.data=s.listItems):this.cmsToastrService.typeErrorGetAll(s.errorMessage),this.publicHelper.processService.processStop(i)},error:s=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetAll(s),this.publicHelper.processService.processStop(i)}})}DataEditContent(){if(this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="",this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}if(this.dataFileModelImgaes){let i=Array.from(this.dataFileModelImgaes.keys());i&&i.length>0&&(this.dataModel.linkExtraImageIds=i.join(","))}let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contentService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/estate/property-project"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorEdit(i),this.publicHelper.processService.processStop(e)}})}onActionTagChange(e){this.tagIdsData=e}onActionContentSimilarSelect(e){!e||e.id.length<=0||(this.contentSimilarSelected=e)}onActionContentSimilarAddToLIst(){if(!(!this.contentSimilarSelected||this.contentSimilarSelected.id.length<=0)){if(this.similarDataModel.find(e=>e.id===this.contentSimilarSelected.id)){this.cmsToastrService.typeErrorAddDuplicate();return}this.similarDataModel.push(this.contentSimilarSelected),this.similarTabledataSource.data=this.similarDataModel}}onActionContentSimilarRemoveFromLIst(e){if(!e||e.id.length<=0||!this.similarDataModel||this.similarDataModel.length===0)return;let i=new Array;this.similarDataModel.forEach(t=>{t.id!==e.id&&i.push(t)}),this.similarDataModel=i,this.similarTabledataSource.data=this.similarDataModel}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/estate/property-project/"])}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(i=>{this.mapMarker=im.marker([i.lat,i.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",i=>{let t=i.latlng.lat,s=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&s===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=im.marker([t,s]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=s}))}receiveZoom(e){}onActionSelectorCompany(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.information_area_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkPropertyCompanyId=null;return}this.dataModel.linkPropertyCompanyId=e.id}onActionSelectorLocation(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=e.id}addTag(e){let i=(e.value||"").trim();i&&this.keywordDataModel.push(i),e.chipInput.clear()}removeTag(e){let i=this.keywordDataModel.indexOf(e);i>=0&&this.keywordDataModel.splice(i,1)}};pd.\u0275fac=function(i){return new(i||pd)(v(Kt),v(F),v(In),v(V),v(J),v(Ze),v(O),v(Z),v(L))},pd.\u0275cmp=D({type:pd,selectors:[["app-estate-property-project-edit"]],viewQuery:function(i,t){if(i&1&&te(kG,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:115,vars:140,consts:[["vform","ngForm"],["stepper",""],["Description",""],["chipList",""],["tagInput",""],["LinkMainImageId",""],["LinkFilePodcastId",""],["LinkFileMovieId",""],["Title",""],["DescriptionHidden",""],["FromDate",""],["ExpireDate",""],["Source",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[4,"ngIf"],[3,"optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],[1,"pb-5"],["id","main","name","dataModel.body",3,"ngModelChange","placeholder","config","ngModel"],["class","ntk-button-row",4,"ngIf"],["state","seo",3,"label"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView","optionFileType"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["controls","",4,"ngIf"],["matInput","","type","text","name","dataModel.linkFilePodcastId","id","dataModel.linkFilePodcastId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],["matInput","","type","text","name","dataModel.linkFileMovieId","id","dataModel.linkFileMovieId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"dataModelChange","dataModel"],[3,"dataModelChange","dataModel","dataImageModel"],["state","loaction",3,"label"],["id","main-map",3,"map$","zoom$","optonCenter"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],["touchUi",""],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],[1,"ntk-button-row"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],["for","dataModel.source",1,"color-highlight"],["matInput","","type","text","name","dataModel.source","type","text","dir","ltr","minlength","3","maxlength","500","id","dataModel.source",1,"form-control","validate-name","input-ltr",2,"text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["controls",""],["type","audio/mp3",3,"src"],["type","video/mp4",3,"src"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"]],template:function(i,t){if(i&1){let s=E();r(0,"div",13),S(1,"app-progress-spinner",14),r(2,"div",15)(3,"p",16),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",17),r(9,"form",18,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"mat-vertical-stepper",19,1),I("selectionChange",function(m){u(s);let k=R(12);return f(t.onStepClick(m,k))}),r(13,"mat-step",20),g(14,"translate"),C(15,DG,1,5,"app-cms-enum-record-status-selector",21)(16,LG,1,5,"app-cms-enum-record-admin-status-selector",21)(17,OG,10,10,"div",22),r(18,"div",23)(19,"label",24),c(20),a(),r(21,"textarea",25,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),a(),r(23,"em"),c(24),a(),C(25,NG,5,4,"mat-error",26),a(),C(26,HG,8,9,"div",22)(27,WG,2,4,"app-estate-property-company-selector",27),r(28,"app-cms-location-selector",28),g(29,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorLocation(m))}),a(),C(30,GG,7,8,"div",29)(31,UG,7,8,"div",29),S(32,"hr",30),r(33,"label"),c(34),a(),r(35,"angular-editor",31),g(36,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.body,m)||(t.dataModel.body=m),f(m)}),a(),C(37,jG,10,11,"div",32),a(),r(38,"mat-step",33),g(39,"translate"),r(40,"p"),c(41),g(42,"translate"),a(),C(43,qG,9,11,"div",22),r(44,"mat-form-field",34)(45,"mat-label"),c(46),g(47,"translate"),a(),r(48,"mat-chip-grid",35,3),C(50,QG,5,1,"mat-chip",36),r(51,"input",37,4),g(53,"translate"),I("matChipInputTokenEnd",function(m){return u(s),f(t.addTag(m))}),a()()(),C(54,zG,7,7,"div",32),a(),r(55,"mat-step",38),g(56,"translate"),r(57,"p"),c(58),g(59,"translate"),a(),r(60,"div",39)(61,"a",40),g(62,"cmsthumbnail"),C(63,YG,2,4,"img",41),a()(),r(64,"div",23)(65,"label",42),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(66),g(67,"translate"),a(),r(68,"input",43,5),g(70,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(71,"cms-file-manager",44),I("itemSelected",function(m){return u(s),f(t.onActionFileSelectedLinkMainImageId(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),a()(),C(72,KG,3,3,"p",26),r(73,"app-cms-files-selector",45),w("dataFileModelChange",function(m){return u(s),T(t.dataFileModelImgaes,m)||(t.dataFileModelImgaes=m),f(m)}),a(),S(74,"br"),r(75,"div")(76,"p"),c(77),g(78,"translate"),a(),r(79,"app-cms-files-selector",46),w("dataFileModelChange",function(m){return u(s),T(t.dataFileModelFiles,m)||(t.dataFileModelFiles=m),f(m)}),a()(),r(80,"div",39),C(81,ZG,4,4,"audio",47),a(),r(82,"div",23)(83,"input",48,6),g(85,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkFilePodcastId,m)||(t.dataModel.linkFilePodcastId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenFormPodcast=!0)}),a(),r(86,"cms-file-manager",44),I("itemSelected",function(m){return u(s),f(t.onActionFileSelectedLinkFilePodcastId(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenFormPodcast,m)||(t.fileManagerOpenFormPodcast=m),f(m)}),a()(),r(87,"div",39),C(88,JG,3,2,"video",47),a(),r(89,"div",23)(90,"input",49,7),g(92,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkFileMovieId,m)||(t.dataModel.linkFileMovieId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenFormMovie=!0)}),a(),r(93,"cms-file-manager",44),I("itemSelected",function(m){return u(s),f(t.onActionFileSelectedLinkFileMovieId(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenFormMovie,m)||(t.fileManagerOpenFormMovie=m),f(m)}),a()(),r(94,"h3"),c(95),g(96,"translate"),a(),r(97,"app-cms-360-image-list",50),w("dataModelChange",function(m){return u(s),T(t.dataModel.file360Views,m)||(t.dataModel.file360Views=m),f(m)}),a(),S(98,"br"),r(99,"h3"),c(100),g(101,"translate"),a(),r(102,"app-cms-360-tour-list",51),w("dataModelChange",function(m){return u(s),T(t.dataModel.file360Tour,m)||(t.dataModel.file360Tour=m),f(m)}),a(),C(103,XG,7,7,"div",32),a(),r(104,"mat-step",52),g(105,"translate"),r(106,"p"),c(107),g(108,"translate"),a(),r(109,"app-cms-map",53),I("map$",function(m){return u(s),f(t.receiveMap(m))})("zoom$",function(m){return u(s),f(t.receiveZoom(m))}),a(),C(110,eU,8,7,"div",32),a(),C(111,tU,2,0,"ng-template",54)(112,iU,2,0,"ng-template",55)(113,nU,2,0,"ng-template",56)(114,oU,2,0,"ng-template",57),a()()()()}if(i&2){let s=R(22),_=R(49);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,100,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(5),d("label",x(h(14,102,"TITLE.REQUIRED_INFORMATION"))),o(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.mainAdminRecordStatus==null?null:t.fieldsInfo.mainAdminRecordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle))("disabled",x(!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessEditField))),b("ngModel",t.dataModel.description),o(3),y("",s.value.length," / 500"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),o(),d("ngIf",t.tokenHelper.isAdminSite),o(),d("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessEditField))("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",h(29,104,"TITLE.Region")),o(2),d("ngIf",t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.accessWatchField),o(),d("ngIf",t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.accessWatchField),o(3),y(" ",t.fieldsInfo.body==null?null:t.fieldsInfo.body.fieldTitle," "),o(),d("placeholder",h(36,106,"TITLE.Enter_Text"))("config",t.publicHelper.editorConfig),b("ngModel",t.dataModel.body),o(2),d("ngIf",t.formInfo.submitButtonEnabled),o(),d("label",x(h(39,108,"TITLE.Search_Engines"))),o(3),y(" ",h(42,110,"TITLE.This_section_helps_search_engines_better_index_content")," "),o(2),d("ngIf",t.fieldsInfo.source==null?null:t.fieldsInfo.source.accessWatchField),o(3),M(h(47,112,"TITLE.Choose_keywords_relative_to_the_content")),o(4),d("ngForOf",t.keywordDataModel),o(),d("placeholder",h(53,114,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",_)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(3),d("ngIf",t.formInfo.submitButtonEnabled),o(),d("label",x(h(56,116,"TITLE.ATTACH_FILES"))),o(3),M(h(59,118,"TITLE.CONTENT_ATTACH_FILES")),o(3),d("href",x(h(62,120,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(h(67,122,"TITLE.Original_Photo")),o(2),d("placeholder",x(h(70,124,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),d("ngIf",t.dataFileModelImgaes&&t.dataFileModelImgaes.size>0),o(),b("dataFileModel",t.dataFileModelImgaes),d("openDirectUploadView",!0)("optionFileType",t.selectFileTypeMainImage),o(4),M(h(78,126,"TITLE.List_of_attached_files")),o(2),b("dataFileModel",t.dataFileModelFiles),d("openDirectUploadView",!0),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkFilePodcastIdSrc==null?null:t.dataModel.linkFilePodcastIdSrc.length)>0),o(2),d("placeholder",x(h(85,128,"TITLE.Audio_File_ID"))),b("ngModel",t.dataModel.linkFilePodcastId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenFormPodcast),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypePodcast)("openFilemanagerButtonView",!1),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkFileMovieIdSrc==null?null:t.dataModel.linkFileMovieIdSrc.length)>0),o(2),d("placeholder",x(h(92,130,"TITLE.Video_File_ID"))),b("ngModel",t.dataModel.linkFileMovieId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenFormMovie),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMovie)("openFilemanagerButtonView",!1),o(2),M(h(96,132,"TITLE.image_360")),o(2),b("dataModel",t.dataModel.file360Views),o(3),M(h(101,134,"TITLE.virtual_tour")),o(2),b("dataModel",t.dataModel.file360Tour),d("dataImageModel",t.dataModel.file360Views),o(),d("ngIf",t.formInfo.submitButtonEnabled),o(),d("label",Ie("",h(105,136,"TITLE.Location")," ")),o(3),y(" ",h(108,138,"TITLE.Click_on_the_map_to_specify_the_location")," "),o(2),d("optonCenter",t.mapOptonCenter),o(),d("ngIf",!t.publicHelper.processService.process.inRunAll)}},dependencies:[He,N,ke,Y,q,we,de,De,Pe,me,Re,_i,Ri,ki,Di,Pi,Gn,Un,gn,yi,hi,xe,tt,Ee,Q,nn,on,Mn,bn,tn,rn,Tn,ui,zn,Yn,Mi,U,ge,Sn,an,Uo,_t,br,B,Me],encapsulation:2});var Rp=pd;var rU=["vform"];function aU(n,l){if(n&1){let e=E();A(0),r(1,"div",8)(2,"label",9),c(3),a(),r(4,"input",10,0),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModelResultContent.item.title,t)||(s.dataModelResultContent.item.title=t),f(t)}),a()(),r(6,"div",8)(7,"label",11),c(8),a(),r(9,"textarea",12,1),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModelResultContent.item.description,t)||(s.dataModelResultContent.item.description=t),f(t)}),a()(),P()}if(n&2){let e=p();o(3),M(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),b("ngModel",e.dataModelResultContent.item.title),o(4),M(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),b("ngModel",e.dataModelResultContent.item.description)}}function lU(n,l){if(n&1){let e=E();r(0,"div",13)(1,"button",14),I("click",function(){u(e);let t=p();return f(t.onFormDelete())}),S(2,"i",15),c(3),g(4,"translate"),a(),r(5,"button",16),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(6,"i",17),c(7),g(8,"translate"),a()()}if(n&2){let e=p();o(),d("disabled",!e.formInfo.submitButtonEnabled),o(2),y(" ",h(4,3,"ACTION.DELETE")," "),o(4),y(" ",h(8,5,"ACTION.CANCEL")," ")}}var md=class md{constructor(l,e,i,t,s,_,m,k,z){this.data=l;this.dialogRef=e;this.publicHelper=i;this.contentService=t;this.cdr=s;this.cmsToastrService=_;this.cmsStoreService=m;this.tokenHelper=k;this.translate=z;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.tokenInfo=new It;this.dataModelResultContent=new G;this.formInfo=new ue;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=l.id),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let l=this.constructor.name+"fieldInfoConvertor";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.contentService.setAccessLoad(),this.contentService.setAccessDataType(Ne.Editor),this.contentService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onFormDelete(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};md.\u0275fac=function(e){return new(e||md)(v(Te),v(be),v(F),v(In),v(O),v(V),v(J),v(Z),v(L))},md.\u0275cmp=D({type:md,selectors:[["app-estate-property-project-delete"]],viewQuery:function(e,i){if(e&1&&te(rU,5),e&2){let t;ie(t=ne())&&(i.formGroup=t.first)}},standalone:!1,decls:10,vars:7,consts:[["Writer",""],["Content",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.title",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.title","type","text","required","","readonly","","id","dataModelResultContent.item.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModelResultContent.item.description",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.description","type","text","minlength","1","maxlength","100","readonly","","required","","rows","5","id","dataModelResultContent.item.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(r(0,"div",2),S(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),C(8,aU,11,8,"ng-container",6)(9,lU,9,7,"div",7),a()()),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(3),y(" ",i.formInfo.formTitle," "),o(2),y(" ",h(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("ngIf",i.dataModelResultContent==null?null:i.dataModelResultContent.item),o(),d("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[N,Y,q,de,De,Pe,me,Q,U,B],encapsulation:2});var kp=md;var sU=()=>["expandedTitle"],dU=()=>["expandedDetail"],cU=()=>[5,10,20,100],su=n=>({display:n});function pU(n,l){if(n&1){let e=E();r(0,"a",53)(1,"mat-slide-toggle",54),I("click",function(){u(e);let t=p();return f(t.onActionButtonWithHierarchy())}),a(),c(2),g(3,"translate"),a()}n&2&&(o(2),y("",h(3,1,"ACTION.BATCHVIEW")," "))}function mU(n,l){if(n&1){let e=E();r(0,"div",21)(1,"a",55),I("click",function(t){u(e);let s=p();return f(s.onActionButtonNewRow(t))}),S(2,"i",56)(3,"br"),a(),r(4,"p",23),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.ADD")," "))}function uU(n,l){if(n&1){let e=E();r(0,"div",21)(1,"a",57),I("click",function(t){u(e);let s=p();return f(s.onActionButtonEditRow(s.tableRowSelected,t))}),S(2,"i",58)(3,"br"),a(),r(4,"p",23),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.EDIT")," "))}function fU(n,l){if(n&1){let e=E();r(0,"div",21)(1,"a",59),I("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",60)(3,"br"),a(),r(4,"p",23),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.DELETE")," "))}function _U(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.MENU")," "))}function gU(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"button",61),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelectActionMenu(t))}),S(2,"i",62),a()()}}function hU(n,l){n&1&&(r(0,"mat-header-cell",63),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.PICTURE")," "))}function yU(n,l){if(n&1&&(S(0,"img",65),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function SU(n,l){if(n&1&&(r(0,"mat-cell"),C(1,yU,2,4,"img",64),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function CU(n,l){if(n&1&&(r(0,"mat-header-cell",63),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function vU(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function IU(n,l){if(n&1&&(r(0,"mat-header-cell",63),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function EU(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"cmssiteinfo"),g(3,"async"),a()),n&2){let e=l.$implicit;o(),y(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function MU(n,l){if(n&1&&(r(0,"mat-header-cell",63),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function bU(n,l){if(n&1&&S(0,"select",68),n&2){let e=p().$implicit,i=p();d("contentService",i.contentService)("row",e)("ngStyle",ze(3,su,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function TU(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",66),g(2,"statusIconClass"),C(3,bU,1,5,"select",67),a()),n&2){let e=l.$implicit,i=p();o(),d("ngClass",h(2,2,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function wU(n,l){if(n&1&&(r(0,"mat-header-cell",63),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle," ")}}function xU(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",66),g(2,"adminStatusIconClass"),a()),n&2){let e=l.$implicit;o(),d("ngClass",h(2,1,e.mainAdminRecordStatus))}}function AU(n,l){if(n&1&&(r(0,"mat-header-cell",63),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function PU(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function RU(n,l){if(n&1&&(r(0,"mat-header-cell",63),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function kU(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),y(" ",h(2,1,e.createdDate)," ")}}function DU(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.OPTION")," "))}function LU(n,l){if(n&1&&(r(0,"mat-cell",69)(1,"button",70)(2,"mat-icon"),c(3,"more_vert"),a()(),S(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),d("matMenuTriggerFor",e)}}function VU(n,l){n&1&&(r(0,"mat-header-cell",71),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.LINKTO")," "))}function BU(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"button",72),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionButtonLinkTo(t))}),r(2,"mat-icon",73),c(3,"\u2197"),a()()()}}function FU(n,l){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"br"),c(3),g(4,"translate"),g(5,"localeDate"),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," "),o(2),ee(" ",h(4,3,"TITLE.CreationDate")," : ",h(5,5,e.createdDate)," ")}}function OU(n,l){if(n&1&&(S(0,"img",78),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function NU(n,l){if(n&1&&(r(0,"tr"),S(1,"td"),r(2,"td"),c(3),g(4,"localeDate"),a()()),n&2){let e=p().$implicit,i=p();o(3),ee(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle," : ",h(4,2,e.updatedDate)," ")}}function HU(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),C(5,OU,2,4,"img",74),a(),r(6,"th")(7,"span",75),I("click",function(){u(e);let t=p();return f(t.onActionCopied())}),S(8,"i",76),a(),c(9),a()(),C(10,NU,5,4,"tr",77),r(11,"tr"),S(12,"td"),r(13,"td"),c(14),a()(),r(15,"tr"),S(16,"td"),r(17,"td"),c(18),a()(),r(19,"tr"),S(20,"td")(21,"td"),a()()()()}if(n&2){let e=l.$implicit;o(5),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),o(2),d("cdkCopyToClipboard",e.id),o(2),y(" ",e.id," "),o(),d("ngIf",e.updatedDate),o(4),M(e.title),o(4),M(e.description)}}function WU(n,l){n&1&&S(0,"mat-header-row")}function GU(n,l){if(n&1){let e=E();r(0,"mat-row",79),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function UU(n,l){if(n&1){let e=E();r(0,"mat-row",80),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function jU(n,l){if(n&1){let e=E();r(0,"mat-row",81),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),d("ngStyle",ze(3,su,e.expanded===!0?"":"none"))}}var ud=class ud extends xt{constructor(e,i,t,s,_,m,k,z,Se,qe){super(e,new Wn,Se,s,m);this.contentService=e;this.cmsToastrService=i;this.router=t;this.tokenHelper=s;this.cdr=_;this.translate=m;this.cmsStoreService=k;this.pageInfo=z;this.publicHelper=Se;this.dialog=qe;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new pe;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","mainAdminRecordStatus","LinkTo","action_menu"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","id","recordStatus","mainAdminRecordStatus","LinkTo","action_menu"];this.unsubscribe=[];this.GetAllWithHierarchyCategoryId=!1;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ue=>this.onSubmitOptionsSearch(Ue)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=$.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Wn);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new H;t.propertyName="linkEstateProjectCategoryId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=$.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(e){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}e?.ctrlKey?(this.link="/#/estate/property-project/add/",window.open(this.link,"_blank")):this.router.navigate(["/estate/property-project/add"])}onActionButtonEditRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-project/edit/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-project/edit",this.tableRowSelected.id])}onActionButtonProperty(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property/LinkProjectId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkProjectId",this.tableRowSelected.id])}onActionButtonPropertyCompany(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-company/LinkProjectId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-company/LinkProjectId",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(kp,{panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new H;_.propertyName="recordStatus",_.value=Qe.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonWithHierarchy(){this.GetAllWithHierarchyCategoryId=!this.GetAllWithHierarchyCategoryId,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new pe,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionButtonLinkTo(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(e.recordStatus!=Qe.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.onActionTableRowSelect(e);let i=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_state_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Ne.Editor),this.contentService.ServiceGetOneById(e.id).subscribe({next:t=>{if(t.isSuccess){var s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(yn,{height:"90%",panelClass:s,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{title:t.item.title,urlViewContentQRCodeBase64:t.item.urlViewContentQRCodeBase64,urlViewContent:t.item.urlViewContent}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(t.errorMessage);this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}};ud.\u0275fac=function(i){return new(i||ud)(v(In),v(V),v(Ze),v(Z),v(O),v(L),v(J),v(St),v(F),v(Ae))},ud.\u0275cmp=D({type:ud,selectors:[["app-estate-property-project-list"]],standalone:!1,features:[oe],decls:96,vars:45,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight","target","_blank",4,"ngIf"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],[1,"fa-solid","fa-apartment","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-building","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","mainAdminRecordStatus"],["matColumnDef","title"],["matColumnDef","createdDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["mat-sort-header","",1,"form-label"],["type","button","mat-icon-button","",1,"text-dark",3,"click"],[2,"color","#ff671f"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=E();r(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),I("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),$e(1,4)(2,5)(3,6),A(4,7),r(5,"a",8),I("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(6,"i",9),a(),r(7,"a",8),I("click",function(){return u(s),f(t.onActionButtonReload())}),S(8,"i",10),a(),r(9,"a",11),I("click",function(){return u(s),f(t.onActionGridExpandRows(!0))}),S(10,"i",12),a(),r(11,"a",11),I("click",function(){return u(s),f(t.onActionGridExpandRows(!1))}),S(12,"i",13),a(),P(),A(13,14),r(14,"a",15),I("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(15,"mat-slide-toggle",16),c(16),g(17,"translate"),a(),r(18,"a",15),I("click",function(){return u(s),f(t.onActionButtonStatist())}),S(19,"mat-slide-toggle",16),c(20),g(21,"translate"),a(),C(22,pU,4,3,"a",17),P(),A(23,18),C(24,mU,7,3,"div",19),P(),A(25,20),C(26,uU,7,3,"div",19)(27,fU,7,3,"div",19),r(28,"div",21)(29,"a",11),I("click",function(m){return u(s),f(t.onActionButtonProperty(t.tableRowSelected,m))}),S(30,"i",22)(31,"br"),a(),r(32,"p",23),c(33),g(34,"translate"),a()(),r(35,"div",21)(36,"a",11),I("click",function(m){return u(s),f(t.onActionButtonPropertyCompany(t.tableRowSelected,m))}),S(37,"i",24)(38,"br"),a(),r(39,"p",23),c(40),g(41,"translate"),a()(),r(42,"div",21)(43,"a",8),I("click",function(){return u(s),f(t.onActionButtonLinkTo(t.tableRowSelected))}),S(44,"i",25)(45,"br"),a(),r(46,"p",23),c(47),g(48,"translate"),a()(),P(),A(49,26),r(50,"app-cms-search-list",27),w("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),a(),r(51,"app-cms-statist-list",27),w("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),P(),A(52,28),r(53,"mat-table",29,0),I("matSortChange",function(){u(s);let m=R(54);return f(t.onTableSortData(m))}),A(55,30),C(56,_U,3,3,"mat-header-cell",31)(57,gU,3,0,"mat-cell",32),P(),A(58,33),C(59,hU,3,3,"mat-header-cell",34)(60,SU,2,1,"mat-cell",32),P(),A(61,35),C(62,CU,2,1,"mat-header-cell",34)(63,vU,2,1,"mat-cell",32),P(),A(64,36),C(65,IU,2,1,"mat-header-cell",34)(66,EU,4,5,"mat-cell",32),P(),A(67,37),C(68,MU,2,1,"mat-header-cell",34)(69,TU,4,4,"mat-cell",32),P(),A(70,38),C(71,wU,2,1,"mat-header-cell",34)(72,xU,3,3,"mat-cell",32),P(),A(73,39),C(74,AU,2,1,"mat-header-cell",34)(75,PU,2,1,"mat-cell",32),P(),A(76,40),C(77,RU,2,1,"mat-header-cell",34)(78,kU,3,3,"mat-cell",32),P(),A(79,41),C(80,DU,3,3,"mat-header-cell",31)(81,LU,6,1,"mat-cell",42),P(),A(82,43),C(83,VU,3,3,"mat-header-cell",44)(84,BU,4,0,"mat-cell",32),P(),A(85,45),C(86,FU,6,7,"mat-cell",32),P(),A(87,46),C(88,HU,22,6,"mat-cell",32),P(),C(89,WU,1,0,"mat-header-row",47)(90,GU,1,2,"mat-row",48)(91,UU,1,2,"mat-row",49)(92,jU,1,5,"mat-row",50),a(),P(),A(93,51),r(94,"mat-paginator",52,1),I("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),P(),a()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","estate.propertyproject.list"),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(8),K("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),d("checked",t.optionsSearch.data.show),o(),y("",h(17,32,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",h(21,34,"ACTION.STATIST")," "),o(2),d("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),y(" ",h(34,36,"ACTION.PROPERTY")," "),o(7),y(" ",h(41,38,"ACTION.COMPANY")," "),o(7),y(" ",h(48,40,"TITLE.LINKTO")," "),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(36),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",se(42,sU)),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(),d("matRowDefColumns",se(43,dU)),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(44,cU)))},dependencies:[ce,N,it,Je,Ee,Q,Dt,Lt,Mt,yt,bt,Tt,nt,rt,dt,at,ot,ct,lt,st,pt,mt,fi,At,Pt,Rt,kt,Hi,We,B,sn,Me,jn,Zt,mr],encapsulation:2});var Dp=ud;var cu=vo(Wo());function qU(n,l){if(n&1){let e=E();r(0,"mat-tree-node",10),S(1,"button",11),r(2,"mat-checkbox",12),I("change",function(){let t=u(e).$implicit,s=p();return f(s.todoItemSelectionToggle(t))}),c(3),a()()}if(n&2){let e=l.$implicit,i=p();o(2),d("checked",i.checklistSelection.isSelected(e))("indeterminate",i.descendantsPartiallySelected(e)),o(),M(e.title)}}function QU(n,l){if(n&1){let e=E();r(0,"mat-tree-node",13)(1,"button",14)(2,"mat-icon",15),c(3),a()(),r(4,"mat-checkbox",16),I("change",function(){let t=u(e).$implicit,s=p();return f(s.checklistSelection.toggle(t))}),c(5),a()()}if(n&2){let e=l.$implicit,i=p(),t=R(8);d("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),vt("type","button")("aria-label","Toggle "+e.title),o(2),y(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(),d("checked",i.checklistSelection.isSelected(e)),o(),M(e.title)}}var fd=class fd{constructor(l,e,i,t,s,_,m,k,z){this.cmsToastrService=l;this.coreEnumService=e;this.categoryService=i;this.cdr=t;this.publicHelper=s;this.tokenHelper=_;this.cmsStoreService=m;this.dialog=k;this.translate=z;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=[];this.dataModelResult=new G;this.filterModel=new pe;this.dataSource=new Ho;this.runComplate=!1;this.optionSelectChecked=new Xe;this.optionSelectDisChecked=new Xe;this.optionModelChange=new Xe;this.unsubscribe=[];this.checklistSelection=new Gm(!0);this.hasChild=(l,e)=>!!e.children&&e.children.length>0;this.childrenAccessor=l=>l.children??[];this.hasNoContent=(l,e)=>e.children;this.treeControl=new i0(l=>l.children);this.publicHelper.processService.cdr=this.cdr,this.checklistSelection.changed.subscribe(Se=>{if(!this.runComplate)return;let qe=[];this.checklistSelection.selected.forEach(Ue=>{qe.push(Ue.id)}),this.optionModelChange.emit(qe),Se.added&&Se.added.length>0&&Se.added.forEach(Ue=>{this.optionSelectChecked.emit(Ue.id)}),Se.removed&&Se.removed.length>0&&Se.removed.forEach(Ue=>{this.optionSelectDisChecked.emit(Ue.id)})})}set optionModel(l){this.dataModelSelect=l,this.loadCheked()}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(()=>ae(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}loadCheked(){this.runComplate=!1,this.CompileDataByCheked(this.dataModelResult.listItems,this.dataModelSelect),this.runComplate=!0}CompileDataByCheked(l,e){if(!(l?.length>0))return!1;let i=!1;for(let t of l){let s=!1;e?.includes(t.id)?(this.checklistSelection.select(t),i=!0):this.checklistSelection.deselect(t),t.children?.length>0&&(s=this.CompileDataByCheked(t.children,e),s&&(i=!0,t.isExpanded=!0))}return i}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems,this.loadCheked()):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.publicHelper.processService.processStop(l),this.cmsToastrService.typeError(e)}})}descendantsAllSelected(l){return this.treeControl.getDescendants(l).every(i=>this.checklistSelection.isSelected(i))}descendantsPartiallySelected(l){return this.treeControl.getDescendants(l).some(t=>this.checklistSelection.isSelected(t))&&!this.descendantsAllSelected(l)}todoItemSelectionToggle(l){this.checklistSelection.toggle(l);let e=this.treeControl.getDescendants(l);this.checklistSelection.isSelected(l)?this.checklistSelection.select(...e):this.checklistSelection.deselect(...e)}};fd.\u0275fac=function(e){return new(e||fd)(v(V),v(X),v(ar),v(O),v(F),v(Z),v(J),v(Ae),v(L))},fd.\u0275cmp=D({type:fd,selectors:[["app-estate-property-supplier-category-treeselector"]],inputs:{optionModel:"optionModel"},outputs:{optionSelectChecked:"optionSelectChecked",optionSelectDisChecked:"optionSelectDisChecked",optionModelChange:"optionModelChange"},standalone:!1,decls:12,vars:10,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"change","checked","indeterminate"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],[1,"checklist-leaf-node",3,"change","checked"]],template:function(e,i){e&1&&(r(0,"app-cms-html-tree",1),A(1,2),c(2),g(3,"translate"),P(),$e(4,3),A(5,4),S(6,"app-progress-spinner",5),r(7,"mat-tree",6,0),C(9,qU,4,3,"mat-tree-node",7)(10,QU,6,7,"mat-tree-node",8),a(),P(),$e(11,9),a()),e&2&&(d("optionHeaderDisplay",!0)("optionActionMainDisplay",!1)("optionFooterDisplay",!1),o(2),y(" ",h(3,8,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(4),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),d("matTreeNodeDefWhen",i.hasChild))},dependencies:[Je,Fa,Ee,Bo,Fo,No,Oo,Vo,U,qo,B],encapsulation:2});var _d=fd;var zU=["vform"];function YU(n,l){if(n&1){let e=E();r(0,"app-cms-enum-record-status-selector",68),w("modelChange",function(t){u(e);let s=p();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();b("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function KU(n,l){if(n&1){let e=E();r(0,"app-cms-enum-record-admin-status-selector",68),w("modelChange",function(t){u(e);let s=p();return T(s.dataModel.mainAdminRecordStatus,t)||(s.dataModel.mainAdminRecordStatus=t),f(t)}),a()}if(n&2){let e=p();b("model",e.dataModel.mainAdminRecordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ZU(n,l){n&1&&S(0,"i",69)}function JU(n,l){n&1&&S(0,"i",70)}function XU(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),o(2),M(h(4,2,"MESSAGE.required"))}}function $U(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p();o(),y(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," "),o(2),M(h(4,2,"MESSAGE.required"))}}function ej(n,l){if(n&1){let e=E();r(0,"div",23)(1,"label",71),c(2),g(3,"translate"),a(),r(4,"textarea",72,12),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),a(),r(6,"em"),c(7),a()()}if(n&2){let e=R(5),i=p();o(2),M(h(3,5,"TITLE.Description_Hidden")),o(2),d("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",i.dataModel.descriptionHidden),o(3),y("",e.value.length," / 500")}}function tj(n,l){n&1&&S(0,"i",69)}function ij(n,l){n&1&&S(0,"i",70)}function nj(n,l){n&1&&(r(0,"mat-error"),c(1," Address is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function oj(n,l){if(n&1){let e=E();r(0,"div",73)(1,"button",74),I("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),c(2),g(3,"translate"),a(),r(4,"button",75),c(5),g(6,"translate"),a()()}if(n&2){p();let e=R(10);o(2),y(" ",h(3,3,"ACTION.BACK")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",h(6,5,"ACTION.NEXT")," ")}}function rj(n,l){if(n&1&&(r(0,"div",73)(1,"button",76),c(2),g(3,"translate"),a(),r(4,"button",75),c(5),g(6,"translate"),a()()),n&2){p();let e=R(10);o(2),y(" ",h(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",h(6,5,"ACTION.NEXT")," ")}}function aj(n,l){if(n&1){let e=E();r(0,"div",23)(1,"label",77),c(2),g(3,"translate"),a(),r(4,"input",78,13),g(6,"translate"),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.source,t)||(s.dataModel.source=t),f(t)}),a(),r(7,"em"),c(8),a()()}if(n&2){let e=R(5),i=p();o(2),M(h(3,7,"TITLE.Source_page_address")),o(2),d("placeholder",x(h(6,9,"TITLE.Content_reference_website_link")))("disabled",x(!(i.fieldsInfo.source!=null&&i.fieldsInfo.source.accessAddField))),b("ngModel",i.dataModel.source),o(4),y("",e.value.length," / 500")}}function lj(n,l){if(n&1){let e=E();r(0,"mat-chip",79),I("removed",function(){let t=u(e).$implicit,s=p();return f(s.removeTag(t))}),c(1),r(2,"button",80)(3,"mat-icon"),c(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),y(" ",e," ")}}function sj(n,l){if(n&1&&(r(0,"div",73)(1,"button",76),c(2),g(3,"translate"),a(),r(4,"button",75),c(5),g(6,"translate"),a()()),n&2){p();let e=R(10);o(2),y(" ",h(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",h(6,5,"ACTION.NEXT")," ")}}function dj(n,l){if(n&1&&(S(0,"img",81),g(1,"cmsthumbnail")),n&2){let e=p();d("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function cj(n,l){n&1&&(r(0,"p"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.List_of_attached_photos")," "))}function pj(n,l){if(n&1&&(r(0,"audio",82),S(1,"source",83),g(2,"cmsthumbnail"),c(3," Your browser does not support the audio tag. "),a()),n&2){let e=p();o(),d("src",x(h(2,2,e.dataModel.linkFilePodcastIdSrc)),j)}}function mj(n,l){if(n&1&&(r(0,"video",82),S(1,"source",84),c(2," Your browser does not support the video tag. "),a()),n&2){let e=p();o(),d("src",x(e.dataModel.linkFileMovieIdSrc),j)}}function uj(n,l){if(n&1&&(r(0,"div",73)(1,"button",76),c(2),g(3,"translate"),a(),r(4,"button",75),c(5),g(6,"translate"),a()()),n&2){p();let e=R(10);o(2),y(" ",h(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",h(6,5,"ACTION.NEXT")," ")}}function fj(n,l){if(n&1&&(r(0,"button",86),c(1),g(2,"translate"),a()),n&2){p(2);let e=R(10);d("disabled",!e.form.valid),o(),y(" ",h(2,2,"ACTION.SAVE")," ")}}function _j(n,l){if(n&1&&(r(0,"div",73)(1,"button",76),c(2),g(3,"translate"),a(),C(4,fj,3,4,"button",85),a()),n&2){let e=p();o(2),y(" ",h(3,2,"ACTION.BEFOR")," "),o(2),d("ngIf",e.formInfo.submitButtonEnabled)}}function gj(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function hj(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function yj(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}function Sj(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}var gd=class gd extends Bt{constructor(e,i,t,s,_,m,k){super(t,new xo,i,k);this.coreEnumService=e;this.publicHelper=i;this.contentService=t;this.cmsToastrService=s;this.router=_;this.cdr=m;this.translate=k;this.constructorInfoAreaId=this.constructor.name;this.dataModel=new xo;this.dataModelResult=new G;this.dataFileModelImgaes=new Map;this.dataFileModelFiles=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypePodcast=["mp3"];this.selectFileTypeMovie=["mp4","webm"];this.formInfo=new ue;this.fileManagerOpenForm=!1;this.fileManagerOpenFormPodcast=!1;this.fileManagerOpenFormMovie=!1;this.fieldsInfo=new Map;this.keywordDataModel=[];this.tagDataModel=[];this.similarDataModel=new Array;this.otherInfoTabledisplayedColumns=["title","TypeId","Action"];this.similarTabledisplayedColumns=["linkMainImageIdSrc","id","recordStatus","title","Action"];this.similarTabledataSource=new mi;this.appLanguage="fa";this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Ni;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.DataGetAccess()}onActionTagChange(e){this.tagDataModel=e}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionFileSelectedLinkFilePodcastId(e){this.dataModel.linkFilePodcastId=e.id,this.dataModel.linkFilePodcastIdSrc=e.downloadLinksrc}onActionFileSelectedLinkFileMovieId(e){this.dataModel.linkFileMovieId=e.id,this.dataModel.linkFileMovieIdSrc=e.downloadLinksrc}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapModel.on("click",i=>{let t=i.latlng.lat,s=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&s===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=cu.marker([t,s]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=s}))}receiveZoom(e){}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}if(this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let e=[];this.keywordDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.keyword=e.join(","))}this.DataAddContent()}DataAddContent(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";if(this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}if(this.dataFileModelImgaes){let i=Array.from(this.dataFileModelImgaes.keys());i&&i.length>0&&(this.dataModel.linkExtraImageIds=i.join(","))}this.contentService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessAdd(),setTimeout(()=>this.router.navigate(["/estate/property-supplier/"]),1e3)):this.cmsToastrService.typeErrorAdd(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorAdd(i),this.publicHelper.processService.processStop(e)}})}onActionContentSimilarRemoveFromLIst(e){if(!e||e.id.length<=0||!this.similarDataModel||this.similarDataModel.length===0)return;let i=new Array;this.similarDataModel.forEach(t=>{t.id!==e.id&&i.push(t)}),this.similarDataModel=i,this.similarTabledataSource.data=this.similarDataModel}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/estate/property-supplier/"])}onActionSelectorLocation(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=e.id}onActionSelectorLocationWorkArea(e){this.dataModel.linkLocationIds=e}addTag(e){let i=(e.value||"").trim();i&&this.keywordDataModel.push(i),e.chipInput.clear()}removeTag(e){let i=this.keywordDataModel.indexOf(e);i>=0&&this.keywordDataModel.splice(i,1)}};gd.\u0275fac=function(i){return new(i||gd)(v(X),v(F),v(io),v(V),v(Ze),v(O),v(L))},gd.\u0275cmp=D({type:gd,selectors:[["app-estate-property-supplier-add"]],viewQuery:function(i,t){if(i&1&&te(zU,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:156,vars:179,consts:[["vform","ngForm"],["stepper",""],["Title",""],["Description",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["chipList",""],["tagInput",""],["LinkMainImageId",""],["LinkFilePodcastId",""],["LinkFileMovieId",""],["DescriptionHidden",""],["Source",""],[3,"optionsInfoAreaId"],[1,"card","card-style","loader-container"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.mobileNumber","type","text","minlength","3","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","required","","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"pb-5"],["id","main","name","dataModel.body",3,"ngModelChange","placeholder","config","ngModel"],["class","ntk-button-row",4,"ngIf"],["state","seo",3,"label"],[3,"optionModelChange","optionModel"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView","optionFileType"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["controls","",4,"ngIf"],["matInput","","type","text","name","dataModel.linkFilePodcastId","id","dataModel.linkFilePodcastId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],["matInput","","type","text","name","dataModel.linkFileMovieId","id","dataModel.linkFileMovieId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"dataModelChange","dataModel"],[3,"dataModelChange","dataModel","dataImageModel"],["state","loaction",3,"label"],["id","main-map",3,"map$","zoom$","optonCenter"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"ntk-button-row"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["for","dataModel.source",1,"color-highlight"],["matInput","","type","text","name","dataModel.source","type","text","dir","ltr","minlength","3","maxlength","500","id","dataModel.source",1,"form-control","validate-name","input-ltr",2,"text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["controls",""],["type","audio/mp3",3,"src"],["type","video/mp4",3,"src"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=E();S(0,"app-progress-spinner",14),r(1,"div",15)(2,"div",16)(3,"p",17),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",18),r(9,"form",19,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"mat-vertical-stepper",20,1),I("selectionChange",function(m){u(s);let k=R(12);return f(t.onStepClick(m,k))}),r(13,"mat-step",21),g(14,"translate"),C(15,YU,1,5,"app-cms-enum-record-status-selector",22)(16,KU,1,5,"app-cms-enum-record-admin-status-selector",22),r(17,"div",23)(18,"label",24),c(19),a(),r(20,"input",25,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),C(22,ZU,1,0,"i",26)(23,JU,1,0,"i",27),r(24,"em"),c(25),a(),C(26,XU,5,4,"mat-error",28),a(),r(27,"div",23)(28,"label",29),c(29),a(),r(30,"textarea",30,3),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),a(),r(32,"em"),c(33),a(),C(34,$U,5,4,"mat-error",28),a(),C(35,ej,8,7,"div",31),r(36,"app-cms-location-selector",32),g(37,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorLocation(m))}),a(),c(38),g(39,"translate"),r(40,"app-cms-location-autocomplete",32),g(41,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorLocationWorkArea(m))}),a(),r(42,"div",23)(43,"label",33),c(44),a(),r(45,"input",34,4),w("ngModelChange",function(m){return u(s),T(t.dataModel.phoneNumber,m)||(t.dataModel.phoneNumber=m),f(m)}),a(),r(47,"em"),c(48),a()(),r(49,"div",23)(50,"label",35),c(51),a(),r(52,"input",36,5),w("ngModelChange",function(m){return u(s),T(t.dataModel.mobileNumber,m)||(t.dataModel.mobileNumber=m),f(m)}),a(),r(54,"em"),c(55),a()(),r(56,"div",23)(57,"label",37),c(58),a(),r(59,"textarea",38,6),w("ngModelChange",function(m){return u(s),T(t.dataModel.address,m)||(t.dataModel.address=m),f(m)}),a(),r(61,"em"),c(62),a(),C(63,tj,1,0,"i",26)(64,ij,1,0,"i",27)(65,nj,5,3,"mat-error",28),a(),S(66,"hr",39),r(67,"label"),c(68),a(),r(69,"angular-editor",40),g(70,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.body,m)||(t.dataModel.body=m),f(m)}),a(),C(71,oj,7,7,"div",41),a(),r(72,"mat-step",42),g(73,"translate"),r(74,"app-estate-property-supplier-category-treeselector",43),w("optionModelChange",function(m){return u(s),T(t.dataModel.linkEstatePropertySupplierCategoryIds,m)||(t.dataModel.linkEstatePropertySupplierCategoryIds=m),f(m)}),a(),S(75,"br"),C(76,rj,7,7,"div",41),a(),r(77,"mat-step",42),g(78,"translate"),r(79,"p"),c(80),g(81,"translate"),a(),C(82,aj,9,11,"div",31),r(83,"mat-form-field",44)(84,"mat-label"),c(85),g(86,"translate"),a(),r(87,"mat-chip-grid",45,7),C(89,lj,5,1,"mat-chip",46),r(90,"input",47,8),g(92,"translate"),I("matChipInputTokenEnd",function(m){return u(s),f(t.addTag(m))}),a()()(),C(93,sj,7,7,"div",41),a(),r(94,"mat-step",48),g(95,"translate"),r(96,"p"),c(97),g(98,"translate"),a(),r(99,"div",49)(100,"a",50),g(101,"cmsthumbnail"),C(102,dj,2,4,"img",51),a()(),r(103,"div",23)(104,"label",52),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(105),g(106,"translate"),a(),r(107,"input",53,9),g(109,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(110,"cms-file-manager",54),I("itemSelected",function(m){return u(s),f(t.onActionFileSelectedLinkMainImageId(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),a()(),S(111,"hr"),C(112,cj,3,3,"p",28),r(113,"app-cms-files-selector",55),w("dataFileModelChange",function(m){return u(s),T(t.dataFileModelImgaes,m)||(t.dataFileModelImgaes=m),f(m)}),a(),S(114,"hr"),r(115,"div")(116,"p"),c(117),g(118,"translate"),a(),r(119,"app-cms-files-selector",56),w("dataFileModelChange",function(m){return u(s),T(t.dataFileModelFiles,m)||(t.dataFileModelFiles=m),f(m)}),a(),S(120,"br"),a(),r(121,"div",49),C(122,pj,4,4,"audio",57),a(),r(123,"div",23)(124,"input",58,10),g(126,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkFilePodcastId,m)||(t.dataModel.linkFilePodcastId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenFormPodcast=!0)}),a(),r(127,"cms-file-manager",54),I("itemSelected",function(m){return u(s),f(t.onActionFileSelectedLinkFilePodcastId(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenFormPodcast,m)||(t.fileManagerOpenFormPodcast=m),f(m)}),a()(),r(128,"div",49),C(129,mj,3,2,"video",57),a(),r(130,"div",23)(131,"input",59,11),g(133,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkFileMovieId,m)||(t.dataModel.linkFileMovieId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenFormMovie=!0)}),a(),r(134,"cms-file-manager",54),I("itemSelected",function(m){return u(s),f(t.onActionFileSelectedLinkFileMovieId(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenFormMovie,m)||(t.fileManagerOpenFormMovie=m),f(m)}),a()(),r(135,"h3"),c(136),g(137,"translate"),a(),r(138,"app-cms-360-image-list",60),w("dataModelChange",function(m){return u(s),T(t.dataModel.file360Views,m)||(t.dataModel.file360Views=m),f(m)}),a(),S(139,"br"),r(140,"h3"),c(141),g(142,"translate"),a(),r(143,"app-cms-360-tour-list",61),w("dataModelChange",function(m){return u(s),T(t.dataModel.file360Tour,m)||(t.dataModel.file360Tour=m),f(m)}),a(),C(144,uj,7,7,"div",41),a(),r(145,"mat-step",62),g(146,"translate"),r(147,"p"),c(148),g(149,"translate"),a(),r(150,"app-cms-map",63),I("map$",function(m){return u(s),f(t.receiveMap(m))})("zoom$",function(m){return u(s),f(t.receiveZoom(m))}),a(),C(151,_j,5,4,"div",41),a(),C(152,gj,2,0,"ng-template",64)(153,hj,2,0,"ng-template",65)(154,yj,2,0,"ng-template",66)(155,Sj,2,0,"ng-template",67),a()()()()}if(i&2){let s=R(21),_=R(31),m=R(46),k=R(53),z=R(60),Se=R(88);d("optionsInfoAreaId",t.constructorInfoAreaId),o(4),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,133,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(5),d("label",x(h(14,135,"TITLE.REQUIRED_INFORMATION"))),o(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.mainAdminRecordStatus==null?null:t.fieldsInfo.mainAdminRecordStatus.accessWatchField),o(3),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle))("disabled",x(!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessAddField))),b("ngModel",t.dataModel.description),o(3),y("",_.value.length," / 500"),o(),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),o(),d("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessAddField))("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",h(37,137,"TITLE.Region")),o(2),y(" ",h(39,139,"TITLE.Geographical_Areas")," : "),o(2),d("optionDisabled",!(t.fieldsInfo.linkLocationIds!=null&&t.fieldsInfo.linkLocationIds.accessAddField))("optionSelectForce",t.dataModel.linkLocationIds)("optionPlaceholder",h(41,141,"TITLE.Region")),o(4),M(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle)),b("ngModel",t.dataModel.phoneNumber),d("disabled",!(t.fieldsInfo.phoneNumber!=null&&t.fieldsInfo.phoneNumber.accessAddField)),o(3),y("",m.value.length," / 64"),o(3),M(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle)),b("ngModel",t.dataModel.mobileNumber),d("disabled",!(t.fieldsInfo.mobileNumber!=null&&t.fieldsInfo.mobileNumber.accessAddField)),o(3),y("",k.value.length," / 64"),o(3),M(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle)),b("ngModel",t.dataModel.address),d("disabled",!(t.fieldsInfo.address!=null&&t.fieldsInfo.address.accessAddField)),o(3),y("",z.value.length," / 500"),o(),d("ngIf",!z.value),o(),d("ngIf",z.value),o(),d("ngIf",z.errors==null?null:z.errors.required),o(3),y(" ",t.fieldsInfo.body==null?null:t.fieldsInfo.body.fieldTitle," "),o(),d("placeholder",h(70,143,"TITLE.Enter_Text"))("config",t.publicHelper.editorConfig),b("ngModel",t.dataModel.body),o(2),d("ngIf",t.formInfo.submitButtonEnabled),o(),d("label",x(h(73,145,"TITLE.Categories"))),o(2),b("optionModel",t.dataModel.linkEstatePropertySupplierCategoryIds),o(2),d("ngIf",t.formInfo.submitButtonEnabled),o(),d("label",x(h(78,147,"TITLE.Search_Engines"))),o(3),y(" ",h(81,149,"TITLE.This_section_helps_search_engines_better_index_content")," "),o(2),d("ngIf",t.fieldsInfo.source==null?null:t.fieldsInfo.source.accessWatchField),o(3),M(h(86,151,"TITLE.Choose_keywords_relative_to_the_content")),o(4),d("ngForOf",t.keywordDataModel),o(),d("placeholder",h(92,153,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",Se)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(3),d("ngIf",t.formInfo.submitButtonEnabled),o(),d("label",x(h(95,155,"TITLE.ATTACH_FILES"))),o(3),M(h(98,157,"TITLE.CONTENT_ATTACH_FILES")),o(3),d("href",x(h(101,159,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(h(106,161,"TITLE.Original_Photo")),o(2),d("placeholder",x(h(109,163,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(2),d("ngIf",t.dataFileModelImgaes&&t.dataFileModelImgaes.size>0),o(),b("dataFileModel",t.dataFileModelImgaes),d("openDirectUploadView",!0)("optionFileType",t.selectFileTypeMainImage),o(4),M(h(118,165,"TITLE.List_of_attached_files")),o(2),b("dataFileModel",t.dataFileModelFiles),d("openDirectUploadView",!0),o(3),d("ngIf",(t.dataModel==null||t.dataModel.linkFilePodcastIdSrc==null?null:t.dataModel.linkFilePodcastIdSrc.length)>0),o(2),d("placeholder",x(h(126,167,"TITLE.Audio_File_ID"))),b("ngModel",t.dataModel.linkFilePodcastId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenFormPodcast),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypePodcast)("openFilemanagerButtonView",!1),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkFileMovieIdSrc==null?null:t.dataModel.linkFileMovieIdSrc.length)>0),o(2),d("placeholder",x(h(133,169,"TITLE.Video_File_ID"))),b("ngModel",t.dataModel.linkFileMovieId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenFormMovie),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMovie)("openFilemanagerButtonView",!1),o(2),M(h(137,171,"TITLE.image_360")),o(2),b("dataModel",t.dataModel.file360Views),o(3),M(h(142,173,"TITLE.virtual_tour")),o(2),b("dataModel",t.dataModel.file360Tour),d("dataImageModel",t.dataModel.file360Views),o(),d("ngIf",t.formInfo.submitButtonEnabled),o(),d("label",Ie("",h(146,175,"TITLE.Location")," ")),o(3),y(" ",h(149,177,"TITLE.Click_on_the_map_to_specify_the_location")," "),o(2),d("optonCenter",t.mapOptonCenter),o(),d("ngIf",!t.publicHelper.processService.process.inRunAll)}},dependencies:[He,N,ke,Y,q,we,de,De,Pe,me,Re,_i,Ri,ki,Di,Pi,yi,hi,xe,Ee,Q,nn,on,Mn,bn,tn,rn,Tn,ui,Jt,zn,Yn,Mi,U,ge,Sn,an,Uo,_t,_d,B,Me],encapsulation:2});var Lp=gd;var nm=vo(Wo());var Cj=["vform"];function vj(n,l){if(n&1){let e=E();r(0,"app-cms-enum-record-status-selector",64),w("modelChange",function(t){u(e);let s=p();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();b("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ij(n,l){if(n&1){let e=E();r(0,"app-cms-enum-record-admin-status-selector",64),w("modelChange",function(t){u(e);let s=p();return T(s.dataModel.mainAdminRecordStatus,t)||(s.dataModel.mainAdminRecordStatus=t),f(t)}),a()}if(n&2){let e=p();b("model",e.dataModel.mainAdminRecordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ej(n,l){n&1&&S(0,"i",67)}function Mj(n,l){n&1&&S(0,"i",68)}function bj(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),o(2),M(h(4,2,"MESSAGE.required"))}}function Tj(n,l){if(n&1){let e=E();r(0,"div",25)(1,"label",65),c(2),a(),r(3,"input",66,10),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),a(),C(5,Ej,1,0,"i",32)(6,Mj,1,0,"i",33),r(7,"em"),c(8),a(),C(9,bj,5,4,"mat-error",34),a()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle))("disabled",x(!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField))),b("ngModel",i.dataModel.title),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function wj(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),y(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," "),o(2),M(h(4,2,"MESSAGE.required"))}}function xj(n,l){if(n&1){let e=E();r(0,"div",25)(1,"label",69),c(2),a(),r(3,"textarea",70,11),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),a(),r(5,"em"),c(6),a(),C(7,wj,5,4,"mat-error",34),a()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle))("disabled",x(!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessEditField))),b("ngModel",i.dataModel.description),o(3),y("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Aj(n,l){if(n&1){let e=E();r(0,"div",25)(1,"label",71),c(2),g(3,"translate"),a(),r(4,"textarea",72,12),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),a(),r(6,"em"),c(7),a()()}if(n&2){let e=R(5),i=p();o(2),M(h(3,7,"TITLE.Description_Hidden")),o(2),d("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle))("disabled",x(!(i.fieldsInfo.descriptionHidden!=null&&i.fieldsInfo.descriptionHidden.accessEditField))),b("ngModel",i.dataModel.descriptionHidden),o(3),y("",e.value.length," / 500")}}function Pj(n,l){n&1&&S(0,"i",67)}function Rj(n,l){n&1&&S(0,"i",68)}function kj(n,l){n&1&&(r(0,"mat-error"),c(1," Address is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function Dj(n,l){if(n&1&&(r(0,"button",77),c(1),g(2,"translate"),a()),n&2){p(2);let e=R(10);d("disabled",!e.form.valid),o(),y(" ",h(2,2,"ACTION.SAVE")," ")}}function Lj(n,l){if(n&1){let e=E();r(0,"div",73)(1,"button",74),I("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),c(2),g(3,"translate"),a(),r(4,"button",75),c(5),g(6,"translate"),a(),C(7,Dj,3,4,"button",76),a()}if(n&2){let e=p(),i=R(10);o(2),y(" ",h(3,4,"ACTION.BACK")," "),o(2),d("disabled",!i.form.valid),o(),y(" ",h(6,6,"ACTION.NEXT")," "),o(2),d("ngIf",e.formInfo.submitButtonEnabled)}}function Vj(n,l){if(n&1&&(r(0,"div",73)(1,"button",78),c(2),g(3,"translate"),a(),r(4,"button",75),c(5),g(6,"translate"),a()()),n&2){p();let e=R(10);o(2),y(" ",h(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",h(6,5,"ACTION.NEXT")," ")}}function Bj(n,l){if(n&1){let e=E();r(0,"div",25)(1,"label",79),c(2),a(),r(3,"input",80,13),g(5,"translate"),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.source,t)||(s.dataModel.source=t),f(t)}),a(),r(6,"em"),c(7),a()()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.source==null?null:i.fieldsInfo.source.fieldTitle),o(),d("placeholder",x(h(5,7,"TITLE.Content_reference_website_link")))("disabled",x(!(i.fieldsInfo.source!=null&&i.fieldsInfo.source.accessEditField))),b("ngModel",i.dataModel.source),o(4),y("",e.value.length," / 500")}}function Fj(n,l){if(n&1){let e=E();r(0,"mat-chip",81),I("removed",function(){let t=u(e).$implicit,s=p();return f(s.removeTag(t))}),c(1),r(2,"button",82)(3,"mat-icon"),c(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),y(" ",e," ")}}function Oj(n,l){if(n&1&&(r(0,"div",73)(1,"button",78),c(2),g(3,"translate"),a(),r(4,"button",75),c(5),g(6,"translate"),a()()),n&2){p();let e=R(10);o(2),y(" ",h(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",h(6,5,"ACTION.NEXT")," ")}}function Nj(n,l){if(n&1&&(S(0,"img",83),g(1,"cmsthumbnail")),n&2){let e=p();d("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function Hj(n,l){n&1&&(r(0,"p"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.List_of_attached_photos")," "))}function Wj(n,l){if(n&1&&(r(0,"audio",84),S(1,"source",85),g(2,"cmsthumbnail"),c(3," Your browser does not support the audio tag. "),a()),n&2){let e=p();o(),d("src",x(h(2,2,e.dataModel.linkFilePodcastIdSrc)),j)}}function Gj(n,l){if(n&1&&(r(0,"video",84),S(1,"source",86),c(2," Your browser does not support the video tag. "),a()),n&2){let e=p();o(),d("src",x(e.dataModel.linkFileMovieIdSrc),j)}}function Uj(n,l){if(n&1&&(r(0,"div",73)(1,"button",78),c(2),g(3,"translate"),a(),r(4,"button",75),c(5),g(6,"translate"),a()()),n&2){p();let e=R(10);o(2),y(" ",h(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",h(6,5,"ACTION.NEXT")," ")}}function jj(n,l){if(n&1&&(r(0,"button",77),c(1),g(2,"translate"),a()),n&2){p(2);let e=R(10);d("disabled",!e.form.valid),o(),y(" ",h(2,2,"ACTION.SAVE")," ")}}function qj(n,l){if(n&1){let e=E();r(0,"div",73)(1,"button",74),I("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),c(2),g(3,"translate"),a(),r(4,"button",78),c(5),g(6,"translate"),a(),C(7,jj,3,4,"button",76),a()}if(n&2){let e=p();o(2),y(" ",h(3,3,"ACTION.BACK")," "),o(3),y(" ",h(6,5,"ACTION.BEFOR")," "),o(2),d("ngIf",e.formInfo.submitButtonEnabled)}}function Qj(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function zj(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function Yj(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}function Kj(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}var hd=class hd extends Ut{constructor(e,i,t,s,_,m,k){super(t,new xo,i,k);this.activatedRoute=e;this.publicHelper=i;this.contentService=t;this.cmsToastrService=s;this.router=_;this.cdr=m;this.translate=k;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModel=new xo;this.dataModelResult=new Ht;this.dataContentCategoryModel=[];this.dataFileModelImgaes=new Map;this.dataFileModelFiles=new Map;this.similarDataModel=new Array;this.contentSimilarSelected=new xo;this.otherInfoTabledisplayedColumns=["id","title","TypeId","Action"];this.similarTabledisplayedColumns=["linkMainImageIdSrc","id","recordStatus","title","Action"];this.similarTabledataSource=new mi;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypePodcast=["mp3"];this.selectFileTypeMovie=["mp4","webm"];this.formInfo=new ue;this.fileManagerOpenForm=!1;this.fileManagerOpenFormPodcast=!1;this.fileManagerOpenFormMovie=!1;this.keywordDataModel=[];this.appLanguage="fa";this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Ni;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.requestId=this.activatedRoute.snapshot.paramMap.get("id")}ngOnInit(){if(this.requestId?.length===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.DataGetOne()}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionFileSelectedLinkFilePodcastId(e){this.dataModel.linkFilePodcastId=e.id,this.dataModel.linkFilePodcastIdSrc=e.downloadLinksrc}onActionFileSelectedLinkFileMovieId(e){this.dataModel.linkFileMovieId=e.id,this.dataModel.linkFileMovieIdSrc=e.downloadLinksrc}onFormSubmit(){if(this.requestId?.length<=0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}if(this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let e=[];this.keywordDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.keyword=e.join(","))}this.DataEditContent()}DataGetOne(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contentService.setAccessLoad(),this.contentService.setAccessDataType(Ne.Editor),this.contentService.ServiceGetOneById(this.requestId).subscribe({next:i=>{if(this.dataAccessModel=i.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.publicHelper.processService.processStop(e),this.dataModelResult=i,this.formInfo.submitButtonEnabled=!0,i.isSuccess){this.dataModel=i.item;let t=this.dataModel.geolocationlatitude,s=this.dataModel.geolocationlongitude;t>0&&s>0&&(this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:t,lon:s}),this.receiveMap()),this.dataModel.keyword=this.dataModel.keyword+"",this.keywordDataModel=this.dataModel.keyword.split(","),this.dataModel.linkFileIds&&this.dataModel.linkFileIds.length>0&&this.dataModel.linkFileIds.split(",").forEach((_,m)=>{let k="";this.dataModel.linkFileIdsSrc.length>=this.dataModel.linkFileIdsSrc.length&&(k=this.dataModel.linkFileIdsSrc[m]),this.dataFileModelFiles.set(+_,k)}),this.dataModel.linkExtraImageIdsSrc&&this.dataModel.linkExtraImageIdsSrc.length>0&&this.dataModel.linkExtraImageIds.split(",").forEach((_,m)=>{let k="";this.dataModel.linkExtraImageIdsSrc.length>=this.dataModel.linkExtraImageIdsSrc.length&&(k=this.dataModel.linkExtraImageIdsSrc[m]),this.dataFileModelImgaes.set(+_,k)})}else this.cmsToastrService.typeErrorGetOne(i.errorMessage);this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetOne(i),this.publicHelper.processService.processStop(e,!1)}})}DataSimilarGetAll(e){if(!e||e.length===0)return;this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_other_information_from_the_server").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_other_information_from_the_server").subscribe(s=>{this.publicHelper.processService.processStart(i,s,this.constructorInfoAreaId)});let t=new rc;e.forEach(s=>{if(s>0){let _=new H;_.propertyName="id",_.value=s,_.clauseType=Be.Or,t.filters.push(_)}}),this.contentService.ServiceGetAll(t).subscribe({next:s=>{this.formInfo.submitButtonEnabled=!0,s.isSuccess?(this.similarDataModel=s.listItems,this.similarTabledataSource.data=s.listItems):this.cmsToastrService.typeErrorGetAll(s.errorMessage),this.publicHelper.processService.processStop(i)},error:s=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetAll(s),this.publicHelper.processService.processStop(i)}})}DataEditContent(){if(this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="",this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}if(this.dataFileModelImgaes){let i=Array.from(this.dataFileModelImgaes.keys());i&&i.length>0&&(this.dataModel.linkExtraImageIds=i.join(","))}let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contentService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/estate/property-supplier"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorEdit(i),this.publicHelper.processService.processStop(e)}})}onActionTagChange(e){this.tagIdsData=e}onActionContentSimilarSelect(e){!e||e.id.length<=0||(this.contentSimilarSelected=e)}onActionContentSimilarAddToLIst(){if(!(!this.contentSimilarSelected||this.contentSimilarSelected.id.length<=0)){if(this.similarDataModel.find(e=>e.id===this.contentSimilarSelected.id)){this.cmsToastrService.typeErrorAddDuplicate();return}this.similarDataModel.push(this.contentSimilarSelected),this.similarTabledataSource.data=this.similarDataModel}}onActionContentSimilarRemoveFromLIst(e){if(!e||e.id.length<=0||!this.similarDataModel||this.similarDataModel.length===0)return;let i=new Array;this.similarDataModel.forEach(t=>{t.id!==e.id&&i.push(t)}),this.similarDataModel=i,this.similarTabledataSource.data=this.similarDataModel}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/estate/property-supplier/"])}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(i=>{this.mapMarker=nm.marker([i.lat,i.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",i=>{let t=i.latlng.lat,s=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&s===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=nm.marker([t,s]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=s}))}receiveZoom(e){}onActionSelectorLocation(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=e.id}onActionSelectorLocationWorkArea(e){this.dataModel.linkLocationIds=e}addTag(e){let i=(e.value||"").trim();i&&this.keywordDataModel.push(i),e.chipInput.clear()}removeTag(e){let i=this.keywordDataModel.indexOf(e);i>=0&&this.keywordDataModel.splice(i,1)}};hd.\u0275fac=function(i){return new(i||hd)(v(Kt),v(F),v(io),v(V),v(Ze),v(O),v(L))},hd.\u0275cmp=D({type:hd,selectors:[["app-estate-property-supplier-edit"]],viewQuery:function(i,t){if(i&1&&te(Cj,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:138,vars:165,consts:[["vform","ngForm"],["stepper",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["chipList",""],["tagInput",""],["LinkMainImageId",""],["LinkFilePodcastId",""],["LinkFileMovieId",""],["Title",""],["Description",""],["DescriptionHidden",""],["Source",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.mobileNumber","type","text","minlength","3","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","required","","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"pb-5"],["id","main","name","dataModel.body",3,"ngModelChange","placeholder","config","ngModel"],["class","ntk-button-row",4,"ngIf"],["state","seo",3,"label"],[3,"optionModelChange","optionModel"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView","optionFileType"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["controls","",4,"ngIf"],["matInput","","type","text","name","dataModel.linkFilePodcastId","id","dataModel.linkFilePodcastId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],["matInput","","type","text","name","dataModel.linkFileMovieId","id","dataModel.linkFileMovieId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"dataModelChange","dataModel"],[3,"dataModelChange","dataModel","dataImageModel"],["state","loaction",3,"label"],["id","main-map",3,"map$","zoom$","optonCenter"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"ntk-button-row"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["for","dataModel.source",1,"color-highlight"],["matInput","","type","text","name","dataModel.source","type","text","dir","ltr","minlength","3","maxlength","500","id","dataModel.source",1,"form-control","validate-name","input-ltr",2,"text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["controls",""],["type","audio/mp3",3,"src"],["type","video/mp4",3,"src"]],template:function(i,t){if(i&1){let s=E();r(0,"div",14),S(1,"app-progress-spinner",15),r(2,"div",16)(3,"p",17),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",18),r(9,"form",19,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"mat-vertical-stepper",20,1),I("selectionChange",function(m){u(s);let k=R(12);return f(t.onStepClick(m,k))}),r(13,"mat-step",21),g(14,"translate"),C(15,vj,1,5,"app-cms-enum-record-status-selector",22)(16,Ij,1,5,"app-cms-enum-record-admin-status-selector",22)(17,Tj,10,10,"div",23)(18,xj,8,8,"div",23)(19,Aj,8,9,"div",23),r(20,"app-cms-location-selector",24),g(21,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorLocation(m))}),a(),c(22),g(23,"translate"),r(24,"app-cms-location-autocomplete",24),g(25,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorLocationWorkArea(m))}),a(),r(26,"div",25)(27,"label",26),c(28),a(),r(29,"input",27,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.phoneNumber,m)||(t.dataModel.phoneNumber=m),f(m)}),a(),r(31,"em"),c(32),a()(),r(33,"div",25)(34,"label",28),c(35),a(),r(36,"input",29,3),w("ngModelChange",function(m){return u(s),T(t.dataModel.mobileNumber,m)||(t.dataModel.mobileNumber=m),f(m)}),a(),r(38,"em"),c(39),a()(),r(40,"div",25)(41,"label",30),c(42),a(),r(43,"textarea",31,4),w("ngModelChange",function(m){return u(s),T(t.dataModel.address,m)||(t.dataModel.address=m),f(m)}),a(),r(45,"em"),c(46),a(),C(47,Pj,1,0,"i",32)(48,Rj,1,0,"i",33)(49,kj,5,3,"mat-error",34),a(),S(50,"hr",35),r(51,"label"),c(52),a(),r(53,"angular-editor",36),g(54,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.body,m)||(t.dataModel.body=m),f(m)}),a(),C(55,Lj,8,8,"div",37),a(),r(56,"mat-step",38),g(57,"translate"),r(58,"app-estate-property-supplier-category-treeselector",39),w("optionModelChange",function(m){return u(s),T(t.dataModel.linkEstatePropertySupplierCategoryIds,m)||(t.dataModel.linkEstatePropertySupplierCategoryIds=m),f(m)}),a(),S(59,"br"),C(60,Vj,7,7,"div",37),a(),r(61,"mat-step",38),g(62,"translate"),r(63,"p"),c(64),g(65,"translate"),a(),C(66,Bj,8,9,"div",23),r(67,"mat-form-field",40)(68,"mat-label"),c(69),g(70,"translate"),a(),r(71,"mat-chip-grid",41,5),C(73,Fj,5,1,"mat-chip",42),r(74,"input",43,6),g(76,"translate"),I("matChipInputTokenEnd",function(m){return u(s),f(t.addTag(m))}),a()()(),C(77,Oj,7,7,"div",37),a(),r(78,"mat-step",44),g(79,"translate"),r(80,"p"),c(81),g(82,"translate"),a(),r(83,"div",45)(84,"a",46),g(85,"cmsthumbnail"),C(86,Nj,2,4,"img",47),a()(),r(87,"div",25)(88,"label",48),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(89),g(90,"translate"),a(),r(91,"input",49,7),g(93,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(94,"cms-file-manager",50),I("itemSelected",function(m){return u(s),f(t.onActionFileSelectedLinkMainImageId(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),a()(),C(95,Hj,3,3,"p",34),r(96,"app-cms-files-selector",51),w("dataFileModelChange",function(m){return u(s),T(t.dataFileModelImgaes,m)||(t.dataFileModelImgaes=m),f(m)}),a(),S(97,"br"),r(98,"div")(99,"p"),c(100),g(101,"translate"),a(),r(102,"app-cms-files-selector",52),w("dataFileModelChange",function(m){return u(s),T(t.dataFileModelFiles,m)||(t.dataFileModelFiles=m),f(m)}),a()(),r(103,"div",45),C(104,Wj,4,4,"audio",53),a(),r(105,"div",25)(106,"input",54,8),g(108,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkFilePodcastId,m)||(t.dataModel.linkFilePodcastId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenFormPodcast=!0)}),a(),r(109,"cms-file-manager",50),I("itemSelected",function(m){return u(s),f(t.onActionFileSelectedLinkFilePodcastId(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenFormPodcast,m)||(t.fileManagerOpenFormPodcast=m),f(m)}),a()(),r(110,"div",45),C(111,Gj,3,2,"video",53),a(),r(112,"div",25)(113,"input",55,9),g(115,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkFileMovieId,m)||(t.dataModel.linkFileMovieId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenFormMovie=!0)}),a(),r(116,"cms-file-manager",50),I("itemSelected",function(m){return u(s),f(t.onActionFileSelectedLinkFileMovieId(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenFormMovie,m)||(t.fileManagerOpenFormMovie=m),f(m)}),a()(),r(117,"h3"),c(118),g(119,"translate"),a(),r(120,"app-cms-360-image-list",56),w("dataModelChange",function(m){return u(s),T(t.dataModel.file360Views,m)||(t.dataModel.file360Views=m),f(m)}),a(),S(121,"br"),r(122,"h3"),c(123),g(124,"translate"),a(),r(125,"app-cms-360-tour-list",57),w("dataModelChange",function(m){return u(s),T(t.dataModel.file360Tour,m)||(t.dataModel.file360Tour=m),f(m)}),a(),C(126,Uj,7,7,"div",37),a(),r(127,"mat-step",58),g(128,"translate"),r(129,"p"),c(130),g(131,"translate"),a(),r(132,"app-cms-map",59),I("map$",function(m){return u(s),f(t.receiveMap(m))})("zoom$",function(m){return u(s),f(t.receiveZoom(m))}),a(),C(133,qj,8,7,"div",37),a(),C(134,Qj,2,0,"ng-template",60)(135,zj,2,0,"ng-template",61)(136,Yj,2,0,"ng-template",62)(137,Kj,2,0,"ng-template",63),a()()()()}if(i&2){let s=R(30),_=R(37),m=R(44),k=R(72);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,119,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(5),d("label",x(h(14,121,"TITLE.REQUIRED_INFORMATION"))),o(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.mainAdminRecordStatus==null?null:t.fieldsInfo.mainAdminRecordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),d("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),o(),d("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessEditField))("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",h(21,123,"TITLE.Region")),o(2),y(" ",h(23,125,"TITLE.Geographical_Areas")," : "),o(2),d("optionDisabled",!(t.fieldsInfo.linkLocationIds!=null&&t.fieldsInfo.linkLocationIds.accessEditField))("optionSelectForce",t.dataModel.linkLocationIds)("optionPlaceholder",h(25,127,"TITLE.Region")),o(4),M(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle)),b("ngModel",t.dataModel.phoneNumber),d("disabled",!(t.fieldsInfo.phoneNumber!=null&&t.fieldsInfo.phoneNumber.accessEditField)),o(3),y("",s.value.length," / 64"),o(3),M(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle)),b("ngModel",t.dataModel.mobileNumber),d("disabled",!(t.fieldsInfo.mobileNumber!=null&&t.fieldsInfo.mobileNumber.accessEditField)),o(3),y("",_.value.length," / 64"),o(3),M(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle)),b("ngModel",t.dataModel.address),d("disabled",!(t.fieldsInfo.address!=null&&t.fieldsInfo.address.accessEditField)),o(3),y("",m.value.length," / 500"),o(),d("ngIf",!m.value),o(),d("ngIf",m.value),o(),d("ngIf",m.errors==null?null:m.errors.required),o(3),y(" ",t.fieldsInfo.body==null?null:t.fieldsInfo.body.fieldTitle," "),o(),d("placeholder",h(54,129,"TITLE.Enter_Text"))("config",t.publicHelper.editorConfig),b("ngModel",t.dataModel.body),o(2),d("ngIf",!t.publicHelper.processService.process.inRunAll),o(),d("label",x(h(57,131,"TITLE.Categories"))),o(2),b("optionModel",t.dataModel.linkEstatePropertySupplierCategoryIds),o(2),d("ngIf",t.formInfo.submitButtonEnabled),o(),d("label",x(h(62,133,"TITLE.Search_Engines"))),o(3),y(" ",h(65,135,"TITLE.This_section_helps_search_engines_better_index_content")," "),o(2),d("ngIf",t.fieldsInfo.source==null?null:t.fieldsInfo.source.accessWatchField),o(3),M(h(70,137,"TITLE.Choose_keywords_relative_to_the_content")),o(4),d("ngForOf",t.keywordDataModel),o(),d("placeholder",h(76,139,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",k)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(3),d("ngIf",t.formInfo.submitButtonEnabled),o(),d("label",x(h(79,141,"TITLE.ATTACH_FILES"))),o(3),M(h(82,143,"TITLE.CONTENT_ATTACH_FILES")),o(3),d("href",x(h(85,145,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(h(90,147,"TITLE.Original_Photo")),o(2),d("placeholder",x(h(93,149,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),d("ngIf",t.dataFileModelImgaes&&t.dataFileModelImgaes.size>0),o(),b("dataFileModel",t.dataFileModelImgaes),d("openDirectUploadView",!0)("optionFileType",t.selectFileTypeMainImage),o(4),M(h(101,151,"TITLE.List_of_attached_files")),o(2),b("dataFileModel",t.dataFileModelFiles),d("openDirectUploadView",!0),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkFilePodcastIdSrc==null?null:t.dataModel.linkFilePodcastIdSrc.length)>0),o(2),d("placeholder",x(h(108,153,"TITLE.Audio_File_ID"))),b("ngModel",t.dataModel.linkFilePodcastId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenFormPodcast),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypePodcast)("openFilemanagerButtonView",!1),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkFileMovieIdSrc==null?null:t.dataModel.linkFileMovieIdSrc.length)>0),o(2),d("placeholder",x(h(115,155,"TITLE.Video_File_ID"))),b("ngModel",t.dataModel.linkFileMovieId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenFormMovie),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMovie)("openFilemanagerButtonView",!1),o(2),M(h(119,157,"TITLE.image_360")),o(2),b("dataModel",t.dataModel.file360Views),o(3),M(h(124,159,"TITLE.virtual_tour")),o(2),b("dataModel",t.dataModel.file360Tour),d("dataImageModel",t.dataModel.file360Views),o(),d("ngIf",t.formInfo.submitButtonEnabled),o(),d("label",Ie("",h(128,161,"TITLE.Location")," ")),o(3),y(" ",h(131,163,"TITLE.Click_on_the_map_to_specify_the_location")," "),o(2),d("optonCenter",t.mapOptonCenter),o(),d("ngIf",!t.publicHelper.processService.process.inRunAll)}},dependencies:[He,N,ke,Y,q,we,de,De,Pe,me,Re,_i,Ri,ki,Di,Pi,yi,hi,xe,Ee,Q,nn,on,Mn,bn,tn,rn,Tn,ui,Jt,zn,Yn,Mi,U,ge,Sn,an,Uo,_t,_d,B,Me],encapsulation:2});var Vp=hd;var Zj=["vform"];function Jj(n,l){if(n&1){let e=E();A(0),r(1,"div",10)(2,"label",11),c(3),a(),r(4,"input",12,0),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModelResultContent.item.title,t)||(s.dataModelResultContent.item.title=t),f(t)}),a()(),r(6,"div",10)(7,"label",13),c(8),a(),r(9,"textarea",14,1),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModelResultContent.item.description,t)||(s.dataModelResultContent.item.description=t),f(t)}),a()(),P()}if(n&2){let e=p();o(3),M(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),b("ngModel",e.dataModelResultContent.item.title),o(4),M(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),b("ngModel",e.dataModelResultContent.item.description)}}function Xj(n,l){if(n&1){let e=E();r(0,"div",15)(1,"button",16),I("click",function(){u(e);let t=p();return f(t.onFormDelete())}),S(2,"i",17),c(3),g(4,"translate"),a(),r(5,"button",18),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(6,"i",19),c(7),g(8,"translate"),a()()}if(n&2){let e=p();o(),d("disabled",!e.formInfo.submitButtonEnabled),o(2),y(" ",h(4,3,"ACTION.DELETE")," "),o(4),y(" ",h(8,5,"ACTION.CANCEL")," ")}}var yd=class yd{constructor(l,e,i,t,s,_,m){this.data=l;this.dialogRef=e;this.publicHelper=i;this.contentService=t;this.cdr=s;this.cmsToastrService=_;this.translate=m;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new G;this.formInfo=new ue;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=l.id)}ngOnInit(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let l=this.constructor.name+"fieldInfoConvertor";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.contentService.setAccessLoad(),this.contentService.setAccessDataType(Ne.Editor),this.contentService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onFormDelete(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};yd.\u0275fac=function(e){return new(e||yd)(v(Te),v(be),v(F),v(io),v(O),v(V),v(L))},yd.\u0275cmp=D({type:yd,selectors:[["app-estate-property-supplier-delete"]],viewQuery:function(e,i){if(e&1&&te(Zj,5),e&2){let t;ie(t=ne())&&(i.formGroup=t.first)}},standalone:!1,decls:12,vars:8,consts:[["Writer",""],["Content",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.title",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.title","type","text","required","","readonly","","id","dataModelResultContent.item.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModelResultContent.item.description",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.description","type","text","minlength","1","maxlength","100","readonly","","required","","rows","5","id","dataModelResultContent.item.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(r(0,"div",2),S(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),C(8,Jj,11,8,"ng-container",6),r(9,"div",7),S(10,"app-cms-form-result-message",8),a(),C(11,Xj,9,7,"div",9),a()()),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(3),y(" ",i.formInfo.formTitle," "),o(2),y(" ",h(7,6,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("ngIf",i.dataModelResultContent==null?null:i.dataModelResultContent.item),o(2),d("formInfo",i.formInfo),o(),d("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[N,Y,q,de,De,Pe,me,Q,U,ge,B],encapsulation:2});var Bp=yd;var $j=["vform"],eq=()=>["fa"];function tq(n,l){if(n&1&&(S(0,"img",30),g(1,"cmsthumbnail")),n&2){let e=p();d("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function iq(n,l){n&1&&S(0,"i",31)}function nq(n,l){n&1&&S(0,"i",32)}function oq(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function rq(n,l){if(n&1){let e=E();r(0,"div",16)(1,"label",33),c(2),a(),r(3,"input",34,4),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),I("iconPickerSelect",function(t){u(e);let s=p();return f(s.onIconPickerSelect(t))}),a(),r(5,"span",35),S(6,"i",36),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",se(9,eq))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),o(3),d("ngClass",e.dataModel.iconFont)}}function aq(n,l){if(n&1){let e=E();r(0,"div",37)(1,"label",38),c(2),a(),r(3,"div",39)(4,"div",40)(5,"input",41,5),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),a()(),r(7,"div",42),S(8,"ngx-mat-color-toggle",43)(9,"ngx-mat-color-picker",44,6),a()()()}if(n&2){let e=R(10),i=p();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ve("background",i.dataModel.iconColor),d("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),d("for",e),o(),d("touchUi",!0)("color","primary")}}function lq(n,l){n&1&&S(0,"i",31)}function sq(n,l){n&1&&S(0,"i",32)}function dq(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function cq(n,l){if(n&1){let e=E();r(0,"div",45)(1,"button",46),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",47),c(3),g(4,"translate"),a(),r(5,"button",48),S(6,"i",49),c(7),g(8,"translate"),a()()}if(n&2){p();let e=R(10);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",h(8,5,"ACTION.SAVE")," ")}}var Sd=class Sd extends Bt{constructor(e,i,t,s,_,m,k,z){super(s,new Vr,m,z);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertySupplierCategoryService=s;this.cmsToastrService=_;this.publicHelper=m;this.cdr=k;this.translate=z;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new G;this.dataModel=new Vr;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertySupplierCategoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Sd.\u0275fac=function(i){return new(i||Sd)(v(Te),v(be),v(X),v(ar),v(V),v(F),v(O),v(L))},Sd.\u0275cmp=D({type:Sd,selectors:[["app-estate-property-supplier-category-add"]],viewQuery:function(i,t){if(i&1&&te($j,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:48,vars:50,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",7),S(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",11),r(9,"form",12,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"div",13)(12,"a",14),g(13,"cmsthumbnail"),C(14,tq,2,4,"img",15),a()(),r(15,"div",16)(16,"label",17),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(17),g(18,"translate"),a(),r(19,"input",18,1),g(21,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(22,"cms-file-manager",19),I("itemSelected",function(m){return u(s),f(t.onActionFileSelected(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),a()(),r(23,"div",16)(24,"label",20),c(25),a(),r(26,"input",21,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),C(28,iq,1,0,"i",22)(29,nq,1,0,"i",23),r(30,"em"),c(31),a(),C(32,oq,5,3,"mat-error",24),a(),C(33,rq,7,10,"div",25)(34,aq,11,11,"div",26),r(35,"div",16)(36,"label",27),c(37),g(38,"translate"),a(),r(39,"textarea",28,3),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(41,"        "),a(),r(42,"em"),c(43),a(),C(44,lq,1,0,"i",22)(45,sq,1,0,"i",23)(46,dq,5,3,"mat-error",24),a(),C(47,cq,9,7,"div",29),a()()()}if(i&2){let s=R(27),_=R(40);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,40,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(4),d("href",x(h(13,42,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(h(18,44,"TITLE.PICTURE")),o(2),d("placeholder",x(h(21,46,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(3),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle))("disabled",x(!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessAddField))),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.accessWatchField),o(3),M(h(38,48,"TITLE.General_Description")),o(2),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",_.value.length," / 500"),o(),d("ngIf",!_.value),o(),d("ngIf",_.value),o(),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[ce,N,ke,Y,q,we,de,De,Pe,me,Re,xe,tt,Q,U,ge,si,li,ai,ri,_t,B,Me],encapsulation:2});var Fp=Sd;var pq=["vform"],mq=()=>["fa"];function uq(n,l){if(n&1&&(S(0,"img",30),g(1,"cmsthumbnail")),n&2){let e=p();d("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function fq(n,l){n&1&&S(0,"i",31)}function _q(n,l){n&1&&S(0,"i",32)}function gq(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),M(h(4,2,"MESSAGE.required"))}}function hq(n,l){if(n&1){let e=E();r(0,"div",16)(1,"label",33),c(2),a(),r(3,"input",34,4),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),I("iconPickerSelect",function(t){u(e);let s=p();return f(s.onIconPickerSelect(t))}),a(),r(5,"span",35),S(6,"i",36),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",se(9,mq))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessEditField)),o(3),d("ngClass",e.dataModel.iconFont)}}function yq(n,l){if(n&1){let e=E();r(0,"div",37)(1,"label",38),c(2),a(),r(3,"div",39)(4,"div",40)(5,"input",41,5),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),a()(),r(7,"div",42),S(8,"ngx-mat-color-toggle",43)(9,"ngx-mat-color-picker",44,6),a()()()}if(n&2){let e=R(10),i=p();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ve("background",i.dataModel.iconColor),d("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),o(3),d("for",e),o(),d("touchUi",!0)("color","primary")}}function Sq(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function Cq(n,l){if(n&1){let e=E();r(0,"div",45)(1,"button",46),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",47),c(3),g(4,"translate"),a(),r(5,"button",48),S(6,"i",49),c(7),g(8,"translate"),a()()}if(n&2){p();let e=R(10);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",h(8,5,"ACTION.SAVE")," ")}}var Cd=class Cd extends Ut{constructor(e,i,t,s,_,m,k,z,Se){super(s,new Vr,k,Se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertySupplierCategoryService=s;this.estatePropertyTypeService=_;this.cmsToastrService=m;this.publicHelper=k;this.cdr=z;this.translate=Se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ht;this.dataModel=new Vr;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.dataEstatePropertyTypeUsageIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertySupplierCategoryService.setAccessLoad(),this.estatePropertySupplierCategoryService.setAccessDataType(Ne.Editor),this.estatePropertySupplierCategoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new pe,t=new H;t.propertyName="LinkPropertySupplierCategoryId",t.value=this.requestId,i.filters.push(t),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:s=>{this.dataEstatePropertyTypeModel=s.listItems;let _=[];this.dataEstatePropertyTypeModel.forEach(m=>{_.push(m.linkPropertyTypeUsageId)}),this.dataEstatePropertyTypeUsageIds=_,s.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.submitResultMessage=m}),this.formInfo.submitResultMessage=s.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertySupplierCategoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorUserCategorySelect(e){this.dataEstatePropertyTypeUsageModel=e}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Cd.\u0275fac=function(i){return new(i||Cd)(v(Te),v(be),v(X),v(ar),v(_n),v(V),v(F),v(O),v(L))},Cd.\u0275cmp=D({type:Cd,selectors:[["app-estate-property-supplier-category-edit"]],viewQuery:function(i,t){if(i&1&&te(pq,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:46,vars:46,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",7),S(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",11),r(9,"form",12,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"div",13)(12,"a",14),g(13,"cmsthumbnail"),C(14,uq,2,4,"img",15),a()(),r(15,"div",16)(16,"label",17),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(17),g(18,"translate"),a(),r(19,"input",18,1),g(21,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(22,"cms-file-manager",19),I("itemSelected",function(m){return u(s),f(t.onActionFileSelected(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),a()(),r(23,"div",16)(24,"label",20),c(25),a(),r(26,"input",21,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),C(28,fq,1,0,"i",22)(29,_q,1,0,"i",23),r(30,"em"),c(31),a(),C(32,gq,5,4,"mat-error",24),a(),C(33,hq,7,10,"div",25)(34,yq,11,11,"div",26),r(35,"div",16)(36,"label",27),c(37),g(38,"translate"),a(),r(39,"textarea",28,3),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(41,"        "),a(),r(42,"em"),c(43),a(),C(44,Sq,5,3,"mat-error",24),a(),C(45,Cq,9,7,"div",29),a()()()}if(i&2){let s=R(27),_=R(40);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,36,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(4),d("href",x(h(13,38,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(h(18,40,"TITLE.PICTURE")),o(2),d("placeholder",x(h(21,42,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0)("openDirectUploadView",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(3),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.accessWatchField),o(3),M(h(38,44,"TITLE.General_Description")),o(2),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",_.value.length," / 500"),o(),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[ce,N,ke,Y,q,we,de,De,Pe,me,Re,xe,tt,Q,U,ge,si,li,ai,ri,_t,B,Me],encapsulation:2});var Op=Cd;function vq(n,l){if(n&1){let e=E();r(0,"button",14),I("click",function(){u(e);let t=p();return f(t.onActionAdd())}),c(1),g(2,"translate"),a()}n&2&&(o(),y(" ",h(2,1,"ACTION.ADD")," "))}function Iq(n,l){if(n&1){let e=E();r(0,"button",15),I("click",function(){u(e);let t=p();return f(t.onActionEdit())}),c(1),g(2,"translate"),a()}n&2&&(o(),y(" ",h(2,1,"ACTION.EDIT")," "))}function Eq(n,l){if(n&1){let e=E();r(0,"button",16),I("click",function(){u(e);let t=p();return f(t.onActionDelete())}),c(1),g(2,"translate"),a()}n&2&&(o(),y(" ",h(2,1,"ACTION.DELETE")," "))}function Mq(n,l){if(n&1){let e=E();r(0,"button",17),I("click",function(){u(e);let t=p();return f(t.onActionButtonReload())}),r(1,"mat-icon",18),g(2,"translate"),c(3,"refresh"),a()()}n&2&&(o(),d("title",x(h(2,2,"ACTION.RELOAD"))))}function bq(n,l){if(n&1){let e=E();r(0,"mat-tree-node",19),S(1,"button",20),r(2,"span",21),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionSelect(t))}),S(3,"img",22)(4,"i",23),c(5),a()()}if(n&2){let e=l.$implicit,i=p();K("ntk-tree-selected",(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&i.dataModelSelect.id===e.id),o(3),d("src",x(e.linkMainImageIdSrc),j),o(),ve("color",e.IconColor),d("ngClass",e.IconFont),o(),y("\xA0",e.title)}}function Tq(n,l){if(n&1){let e=E();r(0,"mat-tree-node",24)(1,"button",25)(2,"mat-icon",26),c(3),a()(),r(4,"span",21),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionSelect(t))}),S(5,"img",22)(6,"i",23),c(7),a()()}if(n&2){let e=l.$implicit,i=p(),t=R(12);K("ntk-tree-selected",(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&i.dataModelSelect.id===e.id),d("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),vt("type","button")("aria-label","Toggle "+e.title),o(2),y(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),d("src",x(e.linkMainImageIdSrc),j),o(),ve("color",e.IconColor),d("ngClass",e.IconFont),o(),y("\xA0",e.title)}}var vd=class vd{constructor(l,e,i,t,s,_,m,k,z,Se){this.cmsToastrService=l;this.coreEnumService=e;this.categoryService=i;this.cmsConfirmationDialogService=t;this.dialog=s;this.cdr=_;this.publicHelper=m;this.translate=k;this.tokenHelper=z;this.cmsStoreService=Se;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new Vr;this.dataModelResult=new G;this.filterModel=new pe;this.dataSource=new Ho;this.optionChange=new Xe;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(l,e)=>!1;this.childrenAccessor=l=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(()=>ae(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Vr,this.DataGetAll()}onActionSelectForce(l){}onActionAdd(){var l="";this.publicHelper.isMobile?l="dialog-fullscreen":l="dialog-min",this.dialog.open(Fp,{height:"90%",panelClass:l,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let l="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(l=this.dataModelSelect.id),l===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Op,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let l="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(l=this.dataModelSelect.id),l===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="",i="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(t=>{e=t["MESSAGE.Please_Confirm"],i=t["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.dataModelSelect.title+" ) ",this.cmsConfirmationDialogService.confirm(e,i).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.dataModelSelect.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_,!1)}})}}).catch(()=>{})})}};vd.\u0275fac=function(e){return new(e||vd)(v(V),v(X),v(ar),v(wt),v(Ae),v(O),v(F),v(L),v(Z),v(J))},vd.\u0275cmp=D({type:vd,selectors:[["app-estate-property-supplier-category-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:16,vars:14,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(r(0,"app-cms-html-tree",1),A(1,2),c(2),g(3,"translate"),P(),A(4,3),C(5,vq,3,3,"button",4)(6,Iq,3,3,"button",5)(7,Eq,3,3,"button",6)(8,Mq,4,4,"button",7),P(),A(9,8),S(10,"app-progress-spinner",9),r(11,"mat-tree",10,0),C(13,bq,6,8,"mat-tree-node",11)(14,Tq,8,13,"mat-tree-node",12),a(),P(),$e(15,13),a()),e&2&&(d("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),y(" ",h(3,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),o(),d("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),o(),d("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessDeleteRow)&&i.dataModelSelect.id&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessWatchRow),o(2),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),d("matTreeNodeDefWhen",i.hasChild))},dependencies:[ce,N,Je,Ee,Bo,Fo,No,Oo,Vo,U,qo,B],encapsulation:2});var Np=vd;var xq=()=>["expandedTitle"],Aq=()=>["expandedDetail"],Pq=()=>[5,10,20,100],pu=n=>({display:n});function Rq(n,l){if(n&1&&S(0,"app-estate-property-project-header",54),n&2){let e=p();d("optionId",e.requestLinkProjectId)}}function kq(n,l){if(n&1){let e=E();r(0,"a",55)(1,"mat-slide-toggle",56),I("click",function(){u(e);let t=p();return f(t.onActionButtonWithHierarchy())}),a(),c(2),g(3,"translate"),a()}n&2&&(o(2),y("",h(3,1,"ACTION.BATCHVIEW")," "))}function Dq(n,l){if(n&1){let e=E();r(0,"div",23)(1,"a",57),I("click",function(t){u(e);let s=p();return f(s.onActionButtonNewRow(t))}),S(2,"i",58)(3,"br"),a(),r(4,"p",25),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.ADD")," "))}function Lq(n,l){if(n&1){let e=E();r(0,"div",23)(1,"a",59),I("click",function(t){u(e);let s=p();return f(s.onActionButtonEditRow(s.tableRowSelected,t))}),S(2,"i",60)(3,"br"),a(),r(4,"p",25),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.EDIT")," "))}function Vq(n,l){if(n&1){let e=E();r(0,"div",23)(1,"a",61),I("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",62)(3,"br"),a(),r(4,"p",25),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.DELETE")," "))}function Bq(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.MENU")," "))}function Fq(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"button",63),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelectActionMenu(t))}),S(2,"i",64),a()()}}function Oq(n,l){n&1&&(r(0,"mat-header-cell",65),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.PICTURE")," "))}function Nq(n,l){if(n&1&&(S(0,"img",67),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function Hq(n,l){if(n&1&&(r(0,"mat-cell"),C(1,Nq,2,4,"img",66),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function Wq(n,l){if(n&1&&(r(0,"mat-header-cell",65),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Gq(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function Uq(n,l){if(n&1&&(r(0,"mat-header-cell",65),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function jq(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"cmssiteinfo"),g(3,"async"),a()),n&2){let e=l.$implicit;o(),y(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function qq(n,l){if(n&1&&(r(0,"mat-header-cell",65),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Qq(n,l){if(n&1&&S(0,"select",70),n&2){let e=p().$implicit,i=p();d("contentService",i.contentService)("row",e)("ngStyle",ze(3,pu,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function zq(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",68),g(2,"statusIconClass"),C(3,Qq,1,5,"select",69),a()),n&2){let e=l.$implicit,i=p();o(),d("ngClass",h(2,2,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Yq(n,l){if(n&1&&(r(0,"mat-header-cell",65),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle," ")}}function Kq(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",68),g(2,"adminStatusIconClass"),a()),n&2){let e=l.$implicit;o(),d("ngClass",h(2,1,e.mainAdminRecordStatus))}}function Zq(n,l){if(n&1&&(r(0,"mat-header-cell",65),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Jq(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function Xq(n,l){if(n&1&&(r(0,"mat-header-cell",65),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function $q(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),y(" ",h(2,1,e.createdDate)," ")}}function eQ(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.OPTION")," "))}function tQ(n,l){if(n&1&&(r(0,"mat-cell",71)(1,"button",72)(2,"mat-icon"),c(3,"more_vert"),a()(),S(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),d("matMenuTriggerFor",e)}}function iQ(n,l){n&1&&(r(0,"mat-header-cell",73),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.LINKTO")," "))}function nQ(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"button",74),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionButtonLinkTo(t))}),r(2,"mat-icon",75),c(3,"\u2197"),a()()()}}function oQ(n,l){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"br"),c(3),g(4,"translate"),g(5,"localeDate"),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," "),o(2),ee(" ",h(4,3,"TITLE.CreationDate")," : ",h(5,5,e.createdDate)," ")}}function rQ(n,l){if(n&1&&(S(0,"img",80),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function aQ(n,l){if(n&1&&(r(0,"tr"),S(1,"td"),r(2,"td"),c(3),g(4,"localeDate"),a()()),n&2){let e=p().$implicit,i=p();o(3),ee(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle," : ",h(4,2,e.updatedDate)," ")}}function lQ(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),C(5,rQ,2,4,"img",76),a(),r(6,"th")(7,"span",77),I("click",function(){u(e);let t=p();return f(t.onActionCopied())}),S(8,"i",78),a(),c(9),a()(),C(10,aQ,5,4,"tr",79),r(11,"tr"),S(12,"td"),r(13,"td"),c(14),a()(),r(15,"tr"),S(16,"td"),r(17,"td"),c(18),a()(),r(19,"tr"),S(20,"td")(21,"td"),a()()()()}if(n&2){let e=l.$implicit;o(5),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),o(2),d("cdkCopyToClipboard",e.id),o(2),y(" ",e.id," "),o(),d("ngIf",e.updatedDate),o(4),M(e.title),o(4),M(e.description)}}function sQ(n,l){n&1&&S(0,"mat-header-row")}function dQ(n,l){if(n&1){let e=E();r(0,"mat-row",81),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function cQ(n,l){if(n&1){let e=E();r(0,"mat-row",82),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function pQ(n,l){if(n&1){let e=E();r(0,"mat-row",83),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),d("ngStyle",ze(3,pu,e.expanded===!0?"":"none"))}}var Id=class Id extends xt{constructor(e,i,t,s,_,m,k,z,Se,qe,Ue){super(e,new xo,qe,_,k);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.router=s;this.tokenHelper=_;this.cdr=m;this.translate=k;this.cmsStoreService=z;this.pageInfo=Se;this.publicHelper=qe;this.dialog=Ue;this.requestLinkProjectId="";this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new pe;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","mainAdminRecordStatus","LinkTo","action_menu"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","id","recordStatus","mainAdminRecordStatus","LinkTo","action_menu"];this.unsubscribe=[];this.GetAllWithHierarchyCategoryId=!1;if(this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ft=>this.onSubmitOptionsSearch(ft)},this.requestLinkProjectId=this.activatedRoute.snapshot.paramMap.get("LinkProjectId"),this.requestLinkProjectId&&this.requestLinkProjectId.length>0){let ft=new H;ft.propertyName="linkPropertyProjectId",ft.value=this.requestLinkProjectId,this.filteModelContent.filters.push(ft)}this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=$.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new xo);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new H;t.propertyName="linkEstatePropertySupplierCategoryIds",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=$.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(e){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}e?.ctrlKey?(this.link="/#/estate/property-supplier/add/",window.open(this.link,"_blank")):this.router.navigate(["/estate/property-supplier/add"])}onActionButtonEditRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-supplier/edit/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-supplier/edit",this.tableRowSelected.id])}onActionButtonProperty(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property/LinkSupplierId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkSupplierId",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Bp,{panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new H;_.propertyName="recordStatus",_.value=Qe.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonWithHierarchy(){this.GetAllWithHierarchyCategoryId=!this.GetAllWithHierarchyCategoryId,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new pe,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionButtonLinkTo(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(e.recordStatus!=Qe.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.onActionTableRowSelect(e);let i=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_state_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Ne.Editor),this.contentService.ServiceGetOneById(e.id).subscribe({next:t=>{if(t.isSuccess){var s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(yn,{height:"90%",panelClass:s,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{title:t.item.title,urlViewContentQRCodeBase64:t.item.urlViewContentQRCodeBase64,urlViewContent:t.item.urlViewContent}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(t.errorMessage);this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}};Id.\u0275fac=function(i){return new(i||Id)(v(io),v(V),v(Kt),v(Ze),v(Z),v(O),v(L),v(J),v(St),v(F),v(Ae))},Id.\u0275cmp=D({type:Id,selectors:[["app-estate-property-supplier-list"]],standalone:!1,features:[oe],decls:91,vars:43,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight","target","_blank",4,"ngIf"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],[1,"fa-solid","fa-apartment","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","mainAdminRecordStatus"],["matColumnDef","title"],["matColumnDef","createdDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","type","button","aria-label","Action Menu",3,"matMenuTriggerFor"],["mat-sort-header","",1,"form-label"],["type","button","mat-icon-button","",1,"text-dark",3,"click"],[2,"color","#ff671f"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=E();C(0,Rq,1,1,"app-estate-property-project-header",3),r(1,"app-cms-html-list",4),w("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),I("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(2,5),r(3,"app-estate-property-supplier-category-tree",6),I("optionChange",function(m){return u(s),f(t.onActionSelectorSelect(m))}),a(),P(),$e(4,7)(5,8),A(6,9),r(7,"a",10),I("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(8,"i",11),a(),r(9,"a",10),I("click",function(){return u(s),f(t.onActionButtonReload())}),S(10,"i",12),a(),r(11,"a",13),I("click",function(){return u(s),f(t.onActionGridExpandRows(!0))}),S(12,"i",14),a(),r(13,"a",13),I("click",function(){return u(s),f(t.onActionGridExpandRows(!1))}),S(14,"i",15),a(),P(),A(15,16),r(16,"a",17),I("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(17,"mat-slide-toggle",18),c(18),g(19,"translate"),a(),r(20,"a",17),I("click",function(){return u(s),f(t.onActionButtonStatist())}),S(21,"mat-slide-toggle",18),c(22),g(23,"translate"),a(),C(24,kq,4,3,"a",19),P(),A(25,20),C(26,Dq,7,3,"div",21),P(),A(27,22),C(28,Lq,7,3,"div",21)(29,Vq,7,3,"div",21),r(30,"div",23)(31,"a",13),I("click",function(m){return u(s),f(t.onActionButtonProperty(t.tableRowSelected,m))}),S(32,"i",24)(33,"br"),a(),r(34,"p",25),c(35),g(36,"translate"),a()(),r(37,"div",23)(38,"a",10),I("click",function(){return u(s),f(t.onActionButtonLinkTo(t.tableRowSelected))}),S(39,"i",26)(40,"br"),a(),r(41,"p",25),c(42),g(43,"translate"),a()(),P(),A(44,27),r(45,"app-cms-search-list",28),w("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),a(),r(46,"app-cms-statist-list",28),w("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),P(),A(47,29),r(48,"mat-table",30,0),I("matSortChange",function(){u(s);let m=R(49);return f(t.onTableSortData(m))}),A(50,31),C(51,Bq,3,3,"mat-header-cell",32)(52,Fq,3,0,"mat-cell",33),P(),A(53,34),C(54,Oq,3,3,"mat-header-cell",35)(55,Hq,2,1,"mat-cell",33),P(),A(56,36),C(57,Wq,2,1,"mat-header-cell",35)(58,Gq,2,1,"mat-cell",33),P(),A(59,37),C(60,Uq,2,1,"mat-header-cell",35)(61,jq,4,5,"mat-cell",33),P(),A(62,38),C(63,qq,2,1,"mat-header-cell",35)(64,zq,4,4,"mat-cell",33),P(),A(65,39),C(66,Yq,2,1,"mat-header-cell",35)(67,Kq,3,3,"mat-cell",33),P(),A(68,40),C(69,Zq,2,1,"mat-header-cell",35)(70,Jq,2,1,"mat-cell",33),P(),A(71,41),C(72,Xq,2,1,"mat-header-cell",35)(73,$q,3,3,"mat-cell",33),P(),A(74,42),C(75,eQ,3,3,"mat-header-cell",32)(76,tQ,6,1,"mat-cell",43),P(),A(77,44),C(78,iQ,3,3,"mat-header-cell",45)(79,nQ,4,0,"mat-cell",33),P(),A(80,46),C(81,oQ,6,7,"mat-cell",33),P(),A(82,47),C(83,lQ,22,6,"mat-cell",33),P(),C(84,sQ,1,0,"mat-header-row",48)(85,dQ,1,2,"mat-row",49)(86,cQ,1,2,"mat-row",50)(87,pQ,1,5,"mat-row",51),a(),P(),A(88,52),r(89,"mat-paginator",53,1),I("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),P(),a()}i&2&&(d("ngIf",(t.requestLinkProjectId==null?null:t.requestLinkProjectId.length)>0),o(),d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","estate.propertysupplier.list"),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(9),K("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),d("checked",t.optionsSearch.data.show),o(),y("",h(19,32,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",h(23,34,"ACTION.STATIST")," "),o(2),d("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),y(" ",h(36,36,"ACTION.PROPERTY")," "),o(7),y(" ",h(43,38,"TITLE.LINKTO")," "),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(36),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",se(40,xq)),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(),d("matRowDefColumns",se(41,Aq)),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(42,Pq)))},dependencies:[ce,N,it,Je,Ee,Q,Dt,Lt,Mt,yt,bt,Tt,nt,rt,dt,at,ot,ct,lt,st,pt,mt,fi,At,Pt,Rt,kt,Hi,ta,Np,We,B,sn,Me,jn,Zt,mr],encapsulation:2});var Kd=Id;var mQ=()=>[5,10,20,100];function uQ(n,l){if(n&1){let e=E();r(0,"div",17)(1,"a",40),I("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),S(2,"i",41)(3,"br"),a(),r(4,"p",20),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.ADD")," "))}function fQ(n,l){if(n&1){let e=E();r(0,"div",17)(1,"a",42),I("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",43)(3,"br"),a(),r(4,"p",20),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.EDIT")," "))}function _Q(n,l){if(n&1){let e=E();r(0,"div",17)(1,"a",44),I("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",45)(3,"br"),a(),r(4,"p",20),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.DELETE")," "))}function gQ(n,l){n&1&&(r(0,"mat-header-cell",46),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.PICTURE")," "))}function hQ(n,l){if(n&1&&(S(0,"img",48),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function yQ(n,l){if(n&1&&(r(0,"mat-cell"),C(1,hQ,2,4,"img",47),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function SQ(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle," ")}}function CQ(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",49),a()),n&2){let e=l.$implicit;o(),ve("color",e.iconColor),d("ngClass",e.iconFont)}}function vQ(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function IQ(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",49),a()),n&2){let e=l.$implicit;o(),ve("color",e.iconColor),d("ngClass",e.iconFont)}}function EQ(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function MQ(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function bQ(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function TQ(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.description," ")}}function wQ(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.OPTION")," "))}function xQ(n,l){if(n&1&&(r(0,"mat-cell",50)(1,"button",51)(2,"mat-icon"),c(3,"more_vert"),a()(),S(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),d("matMenuTriggerFor",e)}}function AQ(n,l){n&1&&S(0,"mat-header-row")}function PQ(n,l){if(n&1){let e=E();r(0,"mat-row",52),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ed=class Ed extends xt{constructor(e,i,t,s,_,m,k,z,Se,qe,Ue){super(e,new Qt,qe,_,k);this.contentService=e;this.cmsConfirmationDialogService=i;this.cmsToastrService=t;this.router=s;this.tokenHelper=_;this.cdr=m;this.translate=k;this.cmsStoreService=z;this.pageInfo=Se;this.publicHelper=qe;this.dialog=Ue;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new pe;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","IconFont","title","Description"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","IconFont","title","Description"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ft=>this.onSubmitOptionsSearch(ft)},this.filteModelContent.sortColumn="title",this.filteModelContent.sortType=$.Ascending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Qt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=$.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(vl,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ml,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_,!1)}})}}).catch(()=>{})}onActionButtonContentDetailList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/estate/property-detail/LinkPropertyTypeLanduseId/",this.tableRowSelected.id])}onActionButtonContentList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/estate/property/LinkPropertyTypeLanduseId/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new H;_.propertyName="recordStatus",_.value=Qe.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Ed.\u0275fac=function(i){return new(i||Ed)(v(Ei),v(wt),v(V),v(Ze),v(Z),v(O),v(L),v(J),v(St),v(F),v(Ae))},Ed.\u0275cmp=D({type:Ed,selectors:[["app-estate-property-type-landuse-list"]],standalone:!1,features:[oe],decls:67,vars:36,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-buildings","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","id"],["matColumnDef","title"],["matColumnDef","Description"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=E();r(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),I("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(1,4),c(2," -------------------------------------- "),P(),$e(3,5)(4,6),A(5,7),r(6,"a",8),I("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(7,"i",9),a(),r(8,"a",8),I("click",function(){return u(s),f(t.onActionButtonReload())}),S(9,"i",10),a(),P(),A(10,11),r(11,"a",12),I("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(12,"mat-slide-toggle",13),c(13),g(14,"translate"),a(),r(15,"a",12),I("click",function(){return u(s),f(t.onActionButtonStatist())}),S(16,"mat-slide-toggle",13),c(17),g(18,"translate"),a(),P(),A(19,14),C(20,uQ,7,3,"div",15),P(),A(21,16),C(22,fQ,7,3,"div",15)(23,_Q,7,3,"div",15),r(24,"div",17)(25,"a",18),I("click",function(){return u(s),f(t.onActionButtonContentDetailList(t.tableRowSelected))}),S(26,"i",19)(27,"br"),a(),r(28,"p",20),c(29),g(30,"translate"),a()(),r(31,"div",17)(32,"a",18),I("click",function(){return u(s),f(t.onActionButtonContentList(t.tableRowSelected))}),S(33,"i",21)(34,"br"),a(),r(35,"p",20),c(36),g(37,"translate"),a()(),P(),A(38,22),r(39,"app-cms-search-list",23),w("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),a(),r(40,"app-cms-statist-list",23),w("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),P(),A(41,24),r(42,"mat-table",25,0),I("matSortChange",function(){u(s);let m=R(43);return f(t.onTableSortData(m))}),A(44,26),C(45,gQ,3,3,"mat-header-cell",27)(46,yQ,2,1,"mat-cell",28),P(),A(47,29),C(48,SQ,2,1,"mat-header-cell",27)(49,CQ,2,3,"mat-cell",28),P(),A(50,30),C(51,vQ,2,1,"mat-header-cell",27)(52,IQ,2,3,"mat-cell",28),P(),A(53,31),C(54,EQ,2,1,"mat-header-cell",27)(55,MQ,2,1,"mat-cell",28),P(),A(56,32),C(57,bQ,2,1,"mat-header-cell",27)(58,TQ,2,1,"mat-cell",28),P(),A(59,33),C(60,wQ,3,3,"mat-header-cell",34)(61,xQ,6,1,"mat-cell",35),P(),C(62,AQ,1,0,"mat-header-row",36)(63,PQ,1,2,"mat-row",37),a(),P(),A(64,38),r(65,"mat-paginator",39,1),I("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),P(),a()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),K("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),d("checked",t.optionsSearch.data.show),o(),y("",h(14,27,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",h(18,29,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),y(" ",h(30,31,"ACTION.DETAIL")," "),o(7),y(" ",h(37,33,"ACTION.PROPERTYLIST")," "),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(20),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(35,mQ)))},dependencies:[ce,N,Je,Ee,Dt,Lt,Mt,yt,bt,Tt,nt,rt,dt,at,ot,ct,lt,st,pt,mt,At,Pt,Rt,kt,B,Me],encapsulation:2});var Hp=Ed;var RQ=["vform"],kQ=n=>({direction:n}),DQ=()=>["fa"];function LQ(n,l){n&1&&S(0,"i",30)}function VQ(n,l){n&1&&S(0,"i",31)}function BQ(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function FQ(n,l){if(n&1){let e=E();r(0,"div",13)(1,"label",32),c(2),a(),r(3,"input",33,4),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),I("iconPickerSelect",function(t){u(e);let s=p();return f(s.onIconPickerSelect(t))}),a(),r(5,"span",34),S(6,"i",35),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",se(9,DQ))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),o(3),d("ngClass",e.dataModel.iconFont)}}function OQ(n,l){if(n&1){let e=E();r(0,"div",36)(1,"label",37),c(2),a(),r(3,"div",38)(4,"div",39)(5,"input",40,5),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),a()(),r(7,"div",41),S(8,"ngx-mat-color-toggle",42)(9,"ngx-mat-color-picker",43,6),a()()()}if(n&2){let e=R(10),i=p();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ve("background",i.dataModel.iconColor),d("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),d("for",e),o(),d("touchUi",!0)("color","primary")}}function NQ(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function HQ(n,l){if(n&1&&(S(0,"img",44),g(1,"cmsthumbnail")),n&2){let e=p();d("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function WQ(n,l){if(n&1){let e=E();r(0,"div",45)(1,"button",46),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",47),c(3),g(4,"translate"),a(),r(5,"button",48),S(6,"i",49),c(7),g(8,"translate"),a()()}if(n&2){p();let e=R(10);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",h(8,5,"ACTION.SAVE")," ")}}var Md=class Md extends Bt{constructor(e,i,t,s,_,m,k,z,Se,qe){super(s,new Dn,k,qe);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyTypeUsageService=s;this.cmsToastrService=_;this.cmsStoreService=m;this.publicHelper=k;this.cdr=z;this.tokenHelper=Se;this.translate=qe;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new It;this.dataModelResult=new G;this.dataModel=new Dn;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyTypeUsageService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Md.\u0275fac=function(i){return new(i||Md)(v(Te),v(be),v(X),v(En),v(V),v(J),v(F),v(O),v(Z),v(L))},Md.\u0275cmp=D({type:Md,selectors:[["app-estate-property-type-usage-add"]],viewQuery:function(i,t){if(i&1&&te(RQ,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:45,vars:47,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",7),S(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",11),r(9,"form",12,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"div",13)(12,"label",14),c(13),a(),r(14,"input",15,1),w("ngModelChange",function(m){return u(s),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),C(16,LQ,1,0,"i",16)(17,VQ,1,0,"i",17),r(18,"em"),c(19),a(),C(20,BQ,5,3,"mat-error",18),a(),C(21,FQ,7,10,"div",19)(22,OQ,11,11,"div",20),r(23,"div",13)(24,"label",21),c(25),a(),r(26,"textarea",22,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(28,"        "),a(),r(29,"em"),c(30),a(),C(31,NQ,5,3,"mat-error",18),a(),r(32,"div",23)(33,"a",24),g(34,"cmsthumbnail"),C(35,HQ,2,4,"img",25),a()(),r(36,"div",13)(37,"label",26),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(38),g(39,"translate"),a(),r(40,"input",27,3),g(42,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(43,"cms-file-manager",28),I("itemSelected",function(m){return u(s),f(t.onActionFileSelected(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),a()(),C(44,WQ,9,7,"div",29),a()()()}if(i&2){let s=R(15),_=R(27);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,37,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(),d("ngStyle",ze(45,kQ,t.tokenInfo.access.direction)),o(4),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.accessWatchField),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",_.value.length," / 500"),o(),d("ngIf",_.errors==null?null:_.errors.required),o(2),d("href",x(h(34,39,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(h(39,41,"TITLE.PICTURE")),o(2),d("placeholder",x(h(42,43,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0)("openDirectUploadView",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[ce,N,it,ke,Y,q,we,de,De,Pe,me,Re,xe,tt,Q,U,ge,si,li,ai,ri,_t,B,Me],encapsulation:2});var Wp=Md;function GQ(n,l){if(n&1){let e=E();r(0,"li")(1,"mat-checkbox",1),I("change",function(){let t=u(e).$implicit,s=p();return f(s.onActionSelect(t))}),c(2),a()()}if(n&2){let e=l.$implicit,i=p();o(),d("checked",i.fieldsStatus.get(e.id))("disabled",i.optionDisabled),o(),y(" ",e.titleML," ")}}var bd=class bd{constructor(l,e,i,t,s,_,m,k){this.coreEnumService=l;this.categoryService=e;this.cdr=i;this.publicHelper=t;this.tokenHelper=s;this.translate=_;this.cmsStoreService=m;this.cmsToastrService=k;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=[];this.dataIdsSelect=[];this.formControl=new Et;this.fieldsStatus=new Map;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionChange=new Xe;this.optionSelectAdded=new Xe;this.optionSelectRemoved=new Xe;this.optionReload=()=>this.onActionButtonReload();this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(()=>ae(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetAll(){let l=new pe;l.rowPerPage=50,l.accessLoad=!0;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(l).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataModelResult.listItems.forEach(t=>this.fieldsStatus.set(t.id,!1)),this.dataIdsSelect.forEach(t=>this.fieldsStatus.set(t,!0)),this.dataModelResult.listItems.forEach(t=>{this.fieldsStatus.get(t.id)&&this.dataModelSelect.push(t)})):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelect(l){this.fieldsStatus.get(l.id)?(this.fieldsStatus.set(l.id,!1),this.optionSelectRemoved.emit(l),this.dataModelSelect.splice(this.dataModelSelect.indexOf(l),1)):(this.fieldsStatus.set(l.id,!0),this.optionSelectAdded.emit(l),this.dataModelSelect.push(l)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(l){typeof l==typeof Array(String)?l.forEach(e=>{this.dataIdsSelect.push(e)}):typeof l==typeof Array(Qt)&&l.forEach(e=>{this.dataIdsSelect.push(e.id)}),this.dataIdsSelect.forEach(e=>this.fieldsStatus.set(e,!0))}onActionButtonReload(){this.DataGetAll()}};bd.\u0275fac=function(e){return new(e||bd)(v(X),v(Ei),v(O),v(F),v(Z),v(L),v(J),v(V))},bd.\u0275cmp=D({type:bd,selectors:[["app-estate-property-type-landuse-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},standalone:!1,decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"change","checked","disabled"]],template:function(e,i){e&1&&(r(0,"ul"),C(1,GQ,3,3,"li",0),a()),e&2&&(o(),d("ngForOf",i.dataModelResult.listItems))},dependencies:[He,Fa],encapsulation:2});var Gp=bd;var jQ=["vform"],qQ=n=>({direction:n}),QQ=()=>["fa"];function zQ(n,l){n&1&&S(0,"i",31)}function YQ(n,l){n&1&&S(0,"i",32)}function KQ(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function ZQ(n,l){if(n&1){let e=E();r(0,"div",13)(1,"label",33),c(2),a(),r(3,"input",34,4),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),I("iconPickerSelect",function(t){u(e);let s=p();return f(s.onIconPickerSelect(t))}),a(),r(5,"span",35),S(6,"i",36),a()()}if(n&2){let e=p();o(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",se(9,QQ))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessEditField)),o(3),d("ngClass",e.dataModel.iconFont)}}function JQ(n,l){if(n&1){let e=E();r(0,"div",37)(1,"label",38),c(2),a(),r(3,"div",39)(4,"div",40)(5,"input",41,5),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),a()(),r(7,"div",42),S(8,"ngx-mat-color-toggle",43)(9,"ngx-mat-color-picker",44,6),a()()()}if(n&2){let e=R(10),i=p();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ve("background",i.dataModel.iconColor),d("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),o(3),d("for",e),o(),d("touchUi",!0)("color","primary")}}function XQ(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function $Q(n,l){if(n&1&&(S(0,"img",45),g(1,"cmsthumbnail")),n&2){let e=p();d("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function ez(n,l){if(n&1){let e=E();r(0,"div",46)(1,"button",47),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",48),c(3),g(4,"translate"),a(),r(5,"button",49),S(6,"i",50),c(7),g(8,"translate"),a()()}if(n&2){p();let e=R(10);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",h(8,5,"ACTION.SAVE")," ")}}var Td=class Td extends Ut{constructor(e,i,t,s,_,m,k,z,Se,qe,Ue){super(s,new Dn,z,Ue);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyTypeUsageService=s;this.estatePropertyTypeService=_;this.cmsToastrService=m;this.cmsStoreService=k;this.publicHelper=z;this.cdr=Se;this.tokenHelper=qe;this.translate=Ue;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ht;this.dataModel=new Dn;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.dataEstatePropertyTypeLandUseIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyTypeUsageService.setAccessLoad(),this.estatePropertyTypeUsageService.setAccessDataType(Ne.Editor),this.estatePropertyTypeUsageService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyTypeUsageService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new pe,t=new H;t.propertyName="LinkPropertyTypeUsageId",t.value=this.requestId,i.filters.push(t),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:s=>{this.dataEstatePropertyTypeModel=s.listItems;let _=[];this.dataEstatePropertyTypeModel.forEach(m=>{_.push(m.linkPropertyTypeLanduseId)}),this.dataEstatePropertyTypeLandUseIds=_,s.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.submitResultMessage=m}),this.formInfo.submitResultMessage=s.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorUserCategorySelect(e){this.dataEstatePropertyTypeLanduseModel=e}onActionSelectorUserCategorySelectAdded(e){let i=new xa;i.linkPropertyTypeUsageId=this.dataModel.id,i.linkPropertyTypeLanduseId=e.id,this.estatePropertyTypeService.ServiceAdd(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onActionSelectorUserCategorySelectRemoved(e){let i=new xa;i.linkPropertyTypeUsageId=this.dataModel.id,i.linkPropertyTypeLanduseId=e.id,this.estatePropertyTypeService.ServiceDeleteEntity(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Td.\u0275fac=function(i){return new(i||Td)(v(Te),v(be),v(X),v(En),v(_n),v(V),v(J),v(F),v(O),v(Z),v(L))},Td.\u0275cmp=D({type:Td,selectors:[["app-estate-property-type-usage-edit"]],viewQuery:function(i,t){if(i&1&&te(jQ,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[oe],decls:46,vars:49,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",7),S(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",11),r(9,"form",12,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"div",13)(12,"label",14),c(13),a(),r(14,"input",15,1),w("ngModelChange",function(m){return u(s),T(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),C(16,zQ,1,0,"i",16)(17,YQ,1,0,"i",17),r(18,"em"),c(19),a(),C(20,KQ,5,3,"mat-error",18),a(),C(21,ZQ,7,10,"div",19)(22,JQ,11,11,"div",20),r(23,"div",13)(24,"label",21),c(25),a(),r(26,"textarea",22,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(28,"        "),a(),r(29,"em"),c(30),a(),C(31,XQ,5,3,"mat-error",18),a(),r(32,"div",23)(33,"a",24),g(34,"cmsthumbnail"),C(35,$Q,2,4,"img",25),a()(),r(36,"div",13)(37,"label",26),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(38),g(39,"translate"),a(),r(40,"input",27,3),g(42,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(43,"cms-file-manager",28),I("itemSelected",function(m){return u(s),f(t.onActionFileSelected(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),a()(),r(44,"app-estate-property-type-landuse-selectionlist",29),I("optionChange",function(m){return u(s),f(t.onActionSelectorUserCategorySelect(m))})("optionSelectAdded",function(m){return u(s),f(t.onActionSelectorUserCategorySelectAdded(m))})("optionSelectRemoved",function(m){return u(s),f(t.onActionSelectorUserCategorySelectRemoved(m))}),a(),C(45,ez,9,7,"div",30),a()()()}if(i&2){let s=R(15),_=R(27);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(7,39,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(),d("ngStyle",ze(47,qQ,t.tokenInfo.access.direction)),o(4),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.accessWatchField),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",_.value.length," / 500"),o(),d("ngIf",_.errors==null?null:_.errors.required),o(2),d("href",x(h(34,41,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(h(39,43,"TITLE.PICTURE")),o(2),d("placeholder",x(h(42,45,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),d("optionSelectForce",t.dataEstatePropertyTypeLandUseIds)("optionDisabled",!1),o(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[ce,N,it,ke,Y,q,we,de,De,Pe,me,Re,xe,tt,Q,U,ge,si,li,ai,ri,_t,Gp,B,Me],encapsulation:2});var Up=Td;var tz=()=>[5,10,20,100];function iz(n,l){if(n&1){let e=E();r(0,"div",17)(1,"a",39),I("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),S(2,"i",40)(3,"br"),a(),r(4,"p",20),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.ADD")," "))}function nz(n,l){if(n&1){let e=E();r(0,"div",17)(1,"a",41),I("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",42)(3,"br"),a(),r(4,"p",20),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.EDIT")," "))}function oz(n,l){if(n&1){let e=E();r(0,"div",17)(1,"a",43),I("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",44)(3,"br"),a(),r(4,"p",20),c(5),g(6,"translate"),a()()}n&2&&(o(5),y(" ",h(6,1,"ACTION.DELETE")," "))}function rz(n,l){n&1&&(r(0,"mat-header-cell",45),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.PICTURE")," "))}function az(n,l){if(n&1&&(S(0,"img",47),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function lz(n,l){if(n&1&&(r(0,"mat-cell"),C(1,az,2,4,"img",46),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function sz(n,l){if(n&1&&(r(0,"mat-header-cell",45),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle," ")}}function dz(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",48),a()),n&2){let e=l.$implicit;o(),ve("color",e.iconColor),d("ngClass",e.iconFont)}}function cz(n,l){if(n&1&&(r(0,"mat-header-cell",45),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function pz(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function mz(n,l){if(n&1&&(r(0,"mat-header-cell",45),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function uz(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function fz(n,l){if(n&1&&(r(0,"mat-header-cell",45),c(1),a()),n&2){let e=p();o(),y(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function _z(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.description," ")}}function gz(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.OPTION")," "))}function hz(n,l){if(n&1&&(r(0,"mat-cell",49)(1,"button",50)(2,"mat-icon"),c(3,"more_vert"),a()(),S(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),d("matMenuTriggerFor",e)}}function yz(n,l){n&1&&S(0,"mat-header-row")}function Sz(n,l){if(n&1){let e=E();r(0,"mat-row",51),I("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))}),a()}if(n&2){let e=l.$implicit,i=p();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var wd=class wd extends xt{constructor(e,i,t,s,_,m,k,z,Se,qe,Ue){super(e,new Dn,qe,m,z);this.contentService=e;this.cmsConfirmationDialogService=i;this.router=t;this.cmsToastrService=s;this.cmsStoreService=_;this.tokenHelper=m;this.cdr=k;this.translate=z;this.pageInfo=Se;this.publicHelper=qe;this.dialog=Ue;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new pe;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","IconFont","title","Description"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","IconFont","title","Description"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ft=>this.onSubmitOptionsSearch(ft)},this.filteModelContent.sortColumn="title",this.filteModelContent.sortType=$.Ascending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Dn);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=$.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=$.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Wp,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Up,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new H;_.propertyName="recordStatus",_.value=Qe.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionButtonContentDetailList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/estate/property/LinkPropertyTypeUsageId/",this.tableRowSelected.id])}};wd.\u0275fac=function(i){return new(i||wd)(v(En),v(wt),v(Ze),v(V),v(J),v(Z),v(O),v(L),v(St),v(F),v(Ae))},wd.\u0275cmp=D({type:wd,selectors:[["app-hstate-propertytypeusage-list"]],standalone:!1,features:[oe],decls:60,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","id"],["matColumnDef","title"],["matColumnDef","Description"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=E();r(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),I("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(1,4),c(2," -------------------------------------- "),P(),$e(3,5),A(4,6),r(5,"a",7),I("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(6,"mat-slide-toggle",8),c(7),g(8,"translate"),a(),r(9,"a",7),I("click",function(){return u(s),f(t.onActionButtonStatist())}),S(10,"mat-slide-toggle",8),c(11),g(12,"translate"),a(),P(),A(13,9),r(14,"a",10),I("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(15,"i",11),a(),r(16,"a",10),I("click",function(){return u(s),f(t.onActionButtonReload())}),S(17,"i",12),a(),P(),$e(18,13),A(19,14),C(20,iz,7,3,"div",15),P(),A(21,16),C(22,nz,7,3,"div",15)(23,oz,7,3,"div",15),r(24,"div",17)(25,"a",18),I("click",function(){return u(s),f(t.onActionButtonContentDetailList(t.tableRowSelected))}),S(26,"i",19)(27,"br"),a(),r(28,"p",20),c(29),g(30,"translate"),a()(),P(),A(31,21),r(32,"app-cms-search-list",22),w("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),a(),r(33,"app-cms-statist-list",22),w("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),P(),A(34,23),r(35,"mat-table",24,0),I("matSortChange",function(){u(s);let m=R(36);return f(t.onTableSortData(m))}),A(37,25),C(38,rz,3,3,"mat-header-cell",26)(39,lz,2,1,"mat-cell",27),P(),A(40,28),C(41,sz,2,1,"mat-header-cell",26)(42,dz,2,3,"mat-cell",27),P(),A(43,29),C(44,cz,2,1,"mat-header-cell",26)(45,pz,2,1,"mat-cell",27),P(),A(46,30),C(47,mz,2,1,"mat-header-cell",26)(48,uz,2,1,"mat-cell",27),P(),A(49,31),C(50,fz,2,1,"mat-header-cell",26)(51,_z,2,1,"mat-cell",27),P(),A(52,32),C(53,gz,3,3,"mat-header-cell",33)(54,hz,6,1,"mat-cell",34),P(),C(55,yz,1,0,"mat-header-row",35)(56,Sz,1,2,"mat-row",36),a(),P(),A(57,37),r(58,"mat-paginator",38,1),I("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),P(),a()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(6),d("checked",t.optionsSearch.data.show),o(),y("",h(8,26,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",h(12,28,"ACTION.STATIST")," "),o(6),K("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),y(" ",h(30,30,"ACTION.DETAIL")," "),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(20),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(32,tz)))},dependencies:[ce,N,Je,Ee,Dt,Lt,Mt,yt,bt,Tt,nt,rt,dt,at,ot,ct,lt,st,pt,mt,At,Pt,Rt,kt,B,Me],encapsulation:2});var jp=wd;var om=vo(Wo());var Cz=["vform"];function vz(n,l){if(n&1){let e=E();r(0,"div")(1,"div",8),S(2,"br"),r(3,"mat-slide-toggle",20),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.actionSendSmsToAreaEstateAgency,t)||(s.dataModel.actionSendSmsToAreaEstateAgency=t),f(t)}),c(4),g(5,"translate"),a()(),r(6,"div",8),S(7,"br"),r(8,"mat-slide-toggle",21),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.actionSendSmsToAreaEstateAgent,t)||(s.dataModel.actionSendSmsToAreaEstateAgent=t),f(t)}),c(9),g(10,"translate"),a()()()}if(n&2){let e=p();o(3),b("ngModel",e.dataModel.actionSendSmsToAreaEstateAgency),o(),y(" ",h(5,4,"ACTION.SEND_TO_NEAR_AGENCY")," "),o(4),b("ngModel",e.dataModel.actionSendSmsToAreaEstateAgent),o(),y(" ",h(10,6,"ACTION.SEND_TO_NEAR_EMPLOYE_AGENCY")," ")}}function Iz(n,l){if(n&1){let e=E();r(0,"div",22)(1,"button",23),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",24),c(3),g(4,"translate"),a(),r(5,"button",25),S(6,"i",26),c(7),g(8,"translate"),a()()}if(n&2){p();let e=R(9);o(3),y(" ",h(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",h(8,5,"ACTION.Send_Message")," ")}}var xd=class xd{constructor(l,e,i,t,s,_,m){this.data=l;this.dialogRef=e;this.service=i;this.publicHelper=t;this.translate=s;this.cmsToastrService=_;this.cdr=m;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelProperty=new Ki;this.dataModel=new Vm;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,l&&(this.dataModelProperty=l.model,this.dataModel.id=this.dataModelProperty.id)}ngOnInit(){this.translate.get("TITLE.Activities").subscribe(l=>{this.formInfo.formTitle=l}),(!this.dataModel||!this.dataModel.id||this.dataModel.id.length==0)&&(this.cmsToastrService.typeErrorMessage("\u0634\u0646\u0627\u0633\u0647 \u0645\u0634\u062E\u0635 \u0646\u0645\u06CC \u0628\u0627\u0634\u062F"),this.dialogRef.close({dialogChangedDate:!1}))}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataSend())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}DataSend(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.service.ServiceActionSendSms(this.dataModel).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(i=>{this.formInfo.submitResultMessage=i,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(l),this.formInfo.submitButtonEnabled=!0,this.dialogRef.close({dialogChangedDate:!0})},error:e=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}};xd.\u0275fac=function(e){return new(e||xd)(v(Te),v(be),v(gi),v(F),v(L),v(V),v(O))},xd.\u0275cmp=D({type:xd,selectors:[["app-estate-property-action"]],viewQuery:function(e,i){if(e&1&&te(Cz,5),e&2){let t;ie(t=ne())&&(i.formGroup=t.first)}},standalone:!1,decls:48,vars:32,consts:[["vform","ngForm"],["ActionSendSmsToContactNumber",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[1,"ntk-full-width"],["name","dataModel.actionSendSmsToMe",3,"ngModelChange","ngModel"],["name","dataModel.actionSendSmsToEstateAgent",3,"ngModelChange","ngModel"],["name","dataModel.actionSendSmsToEstateAgency",3,"ngModelChange","ngModel"],["name","dataModel.actionSendSmsToEstateCustomer",3,"ngModelChange","ngModel"],[4,"ngIf"],["name","dataModel.actionSendSmsToCustomerOrder",3,"ngModelChange","ngModel"],["matInput","","name","dataModel.actionSendSmsToContactNumber","type","text","rows","5","maxlength","100","placeholder","09123456789",1,"text-line",3,"ngModelChange","ngModel"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["name","dataModel.actionSendSmsToAreaEstateAgency",3,"ngModelChange","ngModel"],["name","dataModel.actionSendSmsToAreaEstateAgent",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){if(e&1){let t=E();r(0,"div",2),S(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),c(4),a(),r(5,"p"),c(6),g(7,"translate"),a(),r(8,"form",6,0),I("ngSubmit",function(){return u(t),f(i.onFormSubmit())}),r(10,"div",7)(11,"div",8),S(12,"br"),r(13,"mat-slide-toggle",9),w("ngModelChange",function(_){return u(t),T(i.dataModel.actionSendSmsToMe,_)||(i.dataModel.actionSendSmsToMe=_),f(_)}),c(14),g(15,"translate"),a()(),r(16,"div",8),S(17,"br"),r(18,"mat-slide-toggle",10),w("ngModelChange",function(_){return u(t),T(i.dataModel.actionSendSmsToEstateAgent,_)||(i.dataModel.actionSendSmsToEstateAgent=_),f(_)}),c(19),g(20,"translate"),a()(),r(21,"div",8),S(22,"br"),r(23,"mat-slide-toggle",11),w("ngModelChange",function(_){return u(t),T(i.dataModel.actionSendSmsToEstateAgency,_)||(i.dataModel.actionSendSmsToEstateAgency=_),f(_)}),c(24),g(25,"translate"),a()(),r(26,"div",8),S(27,"br"),r(28,"mat-slide-toggle",12),w("ngModelChange",function(_){return u(t),T(i.dataModel.actionSendSmsToEstateCustomer,_)||(i.dataModel.actionSendSmsToEstateCustomer=_),f(_)}),c(29),g(30,"translate"),a()(),S(31,"hr"),C(32,vz,11,8,"div",13),r(33,"div",8),S(34,"br"),r(35,"mat-slide-toggle",14),w("ngModelChange",function(_){return u(t),T(i.dataModel.actionSendSmsToCustomerOrder,_)||(i.dataModel.actionSendSmsToCustomerOrder=_),f(_)}),c(36),g(37,"translate"),a()(),r(38,"div",8),c(39),g(40,"translate"),S(41,"br"),r(42,"textarea",15,1),w("ngModelChange",function(_){return u(t),T(i.dataModel.actionSendSmsToContactNumber,_)||(i.dataModel.actionSendSmsToContactNumber=_),f(_)}),a()()(),r(44,"div",16),S(45,"app-cms-form-result-message",17),a(),r(46,"div",18),C(47,Iz,9,7,"div",19),a()()()()}e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(3),y(" ",i.formInfo.formTitle," "),o(2),y(" ",h(7,18,"TITLE.Be_Careful_When_Entering_Information")," "),o(7),b("ngModel",i.dataModel.actionSendSmsToMe),o(),y(" ",h(15,20,"ACTION.SEND_TO_ME")," "),o(4),b("ngModel",i.dataModel.actionSendSmsToEstateAgent),o(),y(" ",h(20,22,"ACTION.SEND_TO_ESTATE")," "),o(4),b("ngModel",i.dataModel.actionSendSmsToEstateAgency),o(),y(" ",h(25,24,"ACTION.SEND_TO_AGENCY")," "),o(4),b("ngModel",i.dataModel.actionSendSmsToEstateCustomer),o(),y(" ",h(30,26,"ACTION.SEND_TO_CLIENT")," "),o(3),d("ngIf",i.dataModelProperty.linkLocationId&&i.dataModelProperty.linkLocationId>0),o(3),b("ngModel",i.dataModel.actionSendSmsToCustomerOrder),o(),y(" ",h(37,28,"TITLE.SMS_to_the_list_of_applicants_for_this_property")," "),o(3),y(" ",h(40,30,"TITLE.Send_link_message_to_the_special_number")," "),o(3),b("ngModel",i.dataModel.actionSendSmsToContactNumber),o(3),d("formInfo",i.formInfo),o(2),d("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[N,ke,Y,q,we,Pe,me,Re,Q,yt,U,ge,B],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}.text-line[_ngcontent-%COMP%]{background-color:transparent;outline:none;outline-style:none;border-top:none;border-left:none;border-right:none;border-bottom:solid #eeeeee 1px;padding:3px 10px}"]});var Ad=xd;var Ez=["*"];function Mz(n,l){if(n&1&&(r(0,"label",14),c(1),a()),n&2){let e=p();d("for",Ie("app-cms-site-selector-",e.id)),o(),M(e.optionLabel)}}function bz(n,l){if(n&1&&(S(0,"img",15),g(1,"cmsthumbnail")),n&2){let e=p();d("src",x(h(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),j)}}function Tz(n,l){if(n&1&&(S(0,"img",15),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",x(h(1,2,e.linkMainImageIdSrc)),j)}}function wz(n,l){if(n&1&&(r(0,"mat-option",16),C(1,Tz,2,4,"img",5),r(2,"span"),c(3),a()()),n&2){let e=l.$implicit,i=p();d("value",e)("disabled",i.optionDisabled),o(),d("ngIf",e.linkMainImageIdSrc),o(2),M(i.displayOption(e))}}function xz(n,l){n&1&&S(0,"i",17)}function Az(n,l){n&1&&S(0,"i",18)}function Pz(n,l){if(n&1){let e=E();r(0,"i",19),I("click",function(){u(e);let t=p();return f(t.onActionSelectClear())}),a()}}function Rz(n,l){n&1&&(r(0,"em"),c(1),g(2,"translate"),a()),n&2&&(o(),y("(",h(2,1,"TITLE.Necessary"),")"))}var fa=class fa{constructor(l,e,i,t,s,_){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.contentService=_;this.id=++fa.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=new Wn;this.formControl=new Et;this.optionPlaceholder="";this.optionLabel="";this.optionSelectFirstItem=!1;this.optionDisabled=!1;this.optionRequired=!1;this.optionChange=new Xe;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(ei(""),$t(1500),xi(),ti(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return ae(this,null,function*(){let e=new ka;e.rowPerPage=20,e.accessLoad=!0;let i=new H;i.propertyName="title",i.value=l,i.searchType=Fe.Contains,i.clauseType=Be.Or,e.filters.push(i),l&&typeof l=="string"&&l.length>0&&(i=new H,i.propertyName="id",i.value=l,i.searchType=Fe.Equal,i.clauseType=Be.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),wi(this.contentService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect.linkMainImageIdSrc="",this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(l){return this.filteredOptions.pipe(Ot(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){this.contentService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof Wn){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Wn,this.loadOptions()}};fa.nextId=0,fa.\u0275fac=function(e){return new(e||fa)(v(X),v(V),v(O),v(F),v(L),v(In))},fa.\u0275cmp=D({type:fa,selectors:[["app-estate-property-project-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Ez,decls:18,vars:25,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=E();vi(),r(0,"div",1),S(1,"app-progress-spinner",2),C(2,Mz,2,3,"label",3),r(3,"span",4),C(4,bz,2,4,"img",5),c(5," \xA0"),a(),S(6,"input",6),r(7,"mat-autocomplete",7,0),I("optionSelected",function(_){return u(t),f(i.onActionSelect(_.option.value))}),C(9,wz,4,4,"mat-option",8),g(10,"async"),a(),C(11,xz,1,0,"i",9)(12,Az,1,0,"i",10)(13,Pz,1,0,"i",11),r(14,"i",12),g(15,"translate"),I("click",function(){return u(t),f(i.onActionButtonReload())}),a(),C(16,Rz,3,3,"em",13),pi(17),a()}if(e&2){let t=R(8);o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(2),d("ngIf",i.dataModelSelect&&(i.dataModelSelect==null?null:i.dataModelSelect.linkMainImageIdSrc)),o(2),d("placeholder",x(i.optionPlaceholder))("id",Ie("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),vt("disabled",i.optionDisabled?!0:null),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",h(10,21,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),K("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),d("title",x(h(15,23,"ACTION.RELOAD"))),o(2),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0))}},dependencies:[He,N,Y,q,de,zt,ni,ii,oi,en,Q,U,We,B,Me],encapsulation:2});var Pd=fa;var kz=["vform"],Dz=()=>["descriptionDetail"];function Lz(n,l){n&1&&(r(0,"p"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.Property_Type")," "))}function Vz(n,l){if(n&1){let e=E();r(0,"div",70)(1,"a",71),I("click",function(){let t=u(e).$implicit,s=p(2);return f(s.onActionSelectorSelectLanduse(t))}),c(2),a()()}if(n&2){let e=l.$implicit,i=p(2);o(),d("ngClass",e.id===i.dataModel.linkPropertyTypeLanduseId?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),vt("disabled",i.fieldsInfo.linkPropertyTypeLanduseId!=null&&i.fieldsInfo.linkPropertyTypeLanduseId.accessAddField?null:!0),o(),M(e.titleML)}}function Bz(n,l){if(n&1&&(r(0,"div",68),C(1,Vz,3,3,"div",69),a()),n&2){let e=p();o(),d("ngForOf",e.listTypeLanduse)}}function Fz(n,l){if(n&1){let e=E();r(0,"app-estate-property-type-landuse-selector",72),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorSelectLanduse(t))}),a()}if(n&2){let e=p();d("optionDisabled",!(e.fieldsInfo.linkPropertyTypeLanduseId!=null&&e.fieldsInfo.linkPropertyTypeLanduseId.accessAddField))("optionTypeView",2)("optionSelectForce",e.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",h(1,5,"TITLE.Property_Type"))("optionTypeUsageId",e.dataModel.linkPropertyTypeUsageId)}}function Oz(n,l){if(n&1){let e=E();r(0,"div",80)(1,"div",81)(2,"h5",82),c(3),g(4,"translate"),a()(),r(5,"div",83)(6,"div",84)(7,"input",85),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataProfessional,t)||(s.dataProfessional=t),f(t)}),a(),S(8,"label",86),a()()()}if(n&2){let e=p(2);o(3),y(" ",h(4,2,"TITLE.Would_you_like_to_complete_your_information")," "),o(4),b("ngModel",e.dataProfessional)}}function Nz(n,l){if(n&1){let e=E();r(0,"app-cms-enum-record-status-selector",87),w("modelChange",function(t){u(e);let s=p(2);return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p(2);b("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Hz(n,l){n&1&&S(0,"i",91)}function Wz(n,l){n&1&&S(0,"i",92)}function Gz(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p(3);o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),o(2),M(h(4,2,"MESSAGE.required"))}}function Uz(n,l){if(n&1){let e=E();r(0,"mat-icon",93),I("click",function(){u(e);let t=p(3);return f(t.onActionButtonQuickListSearchTitle())}),c(1,"find_replace"),a()}}function jz(n,l){if(n&1){let e=E();r(0,"div",53)(1,"label",88),c(2),a(),r(3,"input",89,4),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),a(),C(5,Hz,1,0,"i",78)(6,Wz,1,0,"i",79),r(7,"em"),c(8),a(),C(9,Gz,5,4,"mat-error",34)(10,Uz,2,0,"mat-icon",90),a()}if(n&2){let e=R(4),i=p(2);o(2),M(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle))("disabled",x(!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField))),b("ngModel",i.dataModel.title),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required),o(),d("ngIf",i.dataModel.title)}}function qz(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p(3);o(),y(" ",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle," "),o(2),M(h(4,2,"MESSAGE.required"))}}function Qz(n,l){if(n&1){let e=E();r(0,"div",53)(1,"label",94),c(2),a(),r(3,"input",95,5),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.caseCode,t)||(s.dataModel.caseCode=t),f(t)}),a(),r(5,"em"),c(6),a(),C(7,qz,5,4,"mat-error",34),a()}if(n&2){let e=R(4),i=p(2);o(2),M(i.fieldsInfo.caseCode==null?null:i.fieldsInfo.caseCode.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.caseCode==null?null:i.fieldsInfo.caseCode.fieldTitle))("disabled",x(!(i.fieldsInfo.caseCode!=null&&i.fieldsInfo.caseCode.accessAddField))),b("ngModel",i.dataModel.caseCode),o(3),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function zz(n,l){if(n&1){let e=E();r(0,"div",80)(1,"div",81)(2,"h5",96),c(3),a()(),r(4,"div",83)(5,"div",84)(6,"input",97),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.viewConfigHiddenInList,t)||(s.dataModel.viewConfigHiddenInList=t),f(t)}),a(),S(7,"label",98),a()()()}if(n&2){let e=p(2);o(3),y(" ",e.fieldsInfo.viewConfigHiddenInList==null?null:e.fieldsInfo.viewConfigHiddenInList.fieldTitle," "),o(3),b("ngModel",e.dataModel.viewConfigHiddenInList)}}function Yz(n,l){if(n&1){let e=E();r(0,"div",53)(1,"label",99),c(2),a(),r(3,"input",100,6),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.createdYaer,t)||(s.dataModel.createdYaer=t),f(t)}),a()()}if(n&2){let e=p(2);o(2),y(" ",e.PropertyTypeSelected.titleCreatedYaer),o(),d("placeholder",x(e.fieldsInfo.createdYaer==null?null:e.fieldsInfo.createdYaer.fieldTitle)),b("ngModel",e.dataModel.createdYaer)}}function Kz(n,l){if(n&1){let e=E();r(0,"div",53)(1,"label",101),c(2),a(),r(3,"input",102,7),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.partition,t)||(s.dataModel.partition=t),f(t)}),a()()}if(n&2){let e=p(2);o(2),y("",e.PropertyTypeSelected.titlePartition," "),o(),d("placeholder",x(e.PropertyTypeSelected.titlePartition)),b("ngModel",e.dataModel.partition)}}function Zz(n,l){if(n&1){let e=E();r(0,"div",53)(1,"label",103),c(2),a(),r(3,"input",104,8),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.area,t)||(s.dataModel.area=t),f(t)}),a()()}if(n&2){let e=p(2);o(2),y("",e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle," "),o(),d("disabled",x(!(e.fieldsInfo.area!=null&&e.fieldsInfo.area.accessAddField)))("placeholder",x(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle)),b("ngModel",e.dataModel.area)}}function Jz(n,l){if(n&1){let e=E();r(0,"div",53)(1,"label",105),c(2),a(),r(3,"textarea",106,9),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.address,t)||(s.dataModel.address=t),f(t)}),c(5,"              "),a(),r(6,"em"),c(7),a()()}if(n&2){let e=R(4),i=p(2);o(2),M(i.fieldsInfo.address==null?null:i.fieldsInfo.address.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.address==null?null:i.fieldsInfo.address.fieldTitle)),b("ngModel",i.dataModel.address),d("disabled",!(i.fieldsInfo.address!=null&&i.fieldsInfo.address.accessAddField)),o(4),y("",e.value.length," / 500")}}function Xz(n,l){n&1&&S(0,"i",91)}function $z(n,l){n&1&&S(0,"i",92)}function eY(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),y(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," "),o(2),M(h(4,2,"MESSAGE.required"))}}function tY(n,l){if(n&1&&(r(0,"button",110),c(1),g(2,"translate"),a()),n&2){p(3);let e=R(11);d("disabled",!e.form.valid),o(),y(" ",h(2,2,"ACTION.NEXT")," ")}}function iY(n,l){if(n&1){let e=E();r(0,"div",107)(1,"button",108),I("click",function(){u(e);let t=p(2);return f(t.onActionBackToParent())}),c(2),g(3,"translate"),a(),C(4,tY,3,4,"button",109),a()}if(n&2){let e=p(2);o(2),y(" ",h(3,2,"ACTION.CANCEL")," "),o(2),d("ngIf",e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0)}}function nY(n,l){if(n&1){let e=E();r(0,"div"),C(1,Oz,9,4,"div",73),S(2,"br"),C(3,Nz,1,5,"app-cms-enum-record-status-selector",74)(4,jz,11,11,"div",40)(5,Qz,8,8,"div",40)(6,zz,8,2,"div",73)(7,Yz,5,4,"div",40)(8,Kz,5,4,"div",40)(9,Zz,5,6,"div",40),r(10,"app-cms-location-selector",75),g(11,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorLocation(t))}),a(),C(12,Jz,8,6,"div",40),r(13,"div",53)(14,"label",76),c(15),g(16,"translate"),a(),r(17,"textarea",77,3),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),c(19,"              "),a(),r(20,"em"),c(21),a(),C(22,Xz,1,0,"i",78)(23,$z,1,0,"i",79)(24,eY,5,4,"mat-error",34),a(),C(25,iY,5,4,"div",42),a()}if(n&2){let e=R(18),i=p();o(),d("ngIf",i.tokenHelper.isAdminSite||i.tokenHelper.isSupportSite),o(2),d("ngIf",i.dataProfessional&&(i.fieldsInfo.recordStatus==null?null:i.fieldsInfo.recordStatus.accessWatchField)),o(),d("ngIf",i.fieldsInfo.title==null?null:i.fieldsInfo.title.accessWatchField),o(),d("ngIf",i.fieldsInfo.caseCode==null?null:i.fieldsInfo.caseCode.accessWatchField),o(),d("ngIf",i.tokenHelper.isAdminSite||i.tokenHelper.isSupportSite),o(),d("ngIf",i.dataModel.linkPropertyTypeLanduseId&&i.PropertyTypeSelected.titleCreatedYaer.length>1&&i.PropertyTypeSelected.titleCreatedYaer!=="---"),o(),d("ngIf",i.dataModel.linkPropertyTypeLanduseId&&i.PropertyTypeSelected.titlePartition.length>1&&i.PropertyTypeSelected.titlePartition!=="---"),o(),d("ngIf",i.fieldsInfo.area==null?null:i.fieldsInfo.area.accessWatchField),o(),d("optionDisabled",!(i.fieldsInfo.linkLocationId!=null&&i.fieldsInfo.linkLocationId.accessAddField))("optionSelectForce",i.dataModel.linkLocationId)("optionPlaceholder",h(11,21,"TITLE.Region")),o(2),d("ngIf",i.fieldsInfo.address==null?null:i.fieldsInfo.address.accessWatchField),o(3),M(h(16,23,"TITLE.General_Description")),o(2),d("placeholder",x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),b("ngModel",i.dataModel.description),o(4),y("",e.value.length," / 2000"),o(),d("ngIf",!e.value),o(),d("ngIf",e.value),o(),d("ngIf",e.errors==null?null:e.errors.required),o(),d("ngIf",i.formInfo.submitButtonEnabled)}}function oY(n,l){if(n&1){let e=E();r(0,"div",53)(1,"label",88),c(2),a(),r(3,"input",111,10),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.linkSiteId,t)||(s.dataModel.linkSiteId=t),f(t)}),a()()}if(n&2){let e=p(2);o(2),M(e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle))("disabled",x(!(e.fieldsInfo.linkSiteId!=null&&e.fieldsInfo.linkSiteId.accessAddField))),b("ngModel",e.dataModel.linkSiteId)}}function rY(n,l){if(n&1){let e=E();r(0,"div",80)(1,"div",81)(2,"h5",112),c(3),a()(),r(4,"div",83)(5,"div",84)(6,"input",113),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.viewContentHidden,t)||(s.dataModel.viewContentHidden=t),f(t)}),a(),S(7,"label",114),a()()()}if(n&2){let e=p(2);o(3),y(" ",e.fieldsInfo.viewContentHidden==null?null:e.fieldsInfo.viewContentHidden.fieldTitle," "),o(3),b("ngModel",e.dataModel.viewContentHidden)}}function aY(n,l){if(n&1){let e=E();r(0,"div",80)(1,"div",81)(2,"h5",115),c(3),a()(),r(4,"div",83)(5,"div",84)(6,"input",116),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.siteAdminViewContentHidden,t)||(s.dataModel.siteAdminViewContentHidden=t),f(t)}),a(),S(7,"label",117),a()()()}if(n&2){let e=p(2);o(3),y(" ",e.fieldsInfo.siteAdminViewContentHidden==null?null:e.fieldsInfo.siteAdminViewContentHidden.fieldTitle," "),o(3),b("ngModel",e.dataModel.siteAdminViewContentHidden)}}function lY(n,l){if(n&1){let e=E();r(0,"app-cms-enum-record-admin-status-selector",87),w("modelChange",function(t){u(e);let s=p(2);return T(s.dataModel.mainAdminRecordStatus,t)||(s.dataModel.mainAdminRecordStatus=t),f(t)}),a()}if(n&2){let e=p(2);b("model",e.dataModel.mainAdminRecordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!1)("optionSelectFirstItem",!0)}}function sY(n,l){if(n&1){let e=E();r(0,"div")(1,"div",118)(2,"label",119),c(3),a(),S(4,"i",120)(5,"i",121),r(6,"input",122,11),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.scoreEstateLocation,t)||(s.dataModel.scoreEstateLocation=t),f(t)}),a()(),r(8,"div",118)(9,"label",123),c(10),a(),S(11,"i",120)(12,"i",121),r(13,"input",124,12),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.scoreEstateBuild,t)||(s.dataModel.scoreEstateBuild=t),f(t)}),a()(),r(15,"div",118)(16,"label",125),c(17),a(),S(18,"i",120)(19,"i",121),r(20,"input",126,13),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.scoreEstatePrice,t)||(s.dataModel.scoreEstatePrice=t),f(t)}),a()()()}if(n&2){let e=p(2);o(3),M(e.fieldsInfo.scoreEstateLocation==null?null:e.fieldsInfo.scoreEstateLocation.fieldTitle),o(3),d("ngClass",Ie("cms-range-score-",e.dataModel.scoreEstateLocation)),b("ngModel",e.dataModel.scoreEstateLocation),d("disabled",!(e.fieldsInfo.scoreEstateLocation!=null&&e.fieldsInfo.scoreEstateLocation.accessEditField)),o(4),M(e.fieldsInfo.scoreEstateBuild==null?null:e.fieldsInfo.scoreEstateBuild.fieldTitle),o(3),d("ngClass",Ie("cms-range-score-",e.dataModel.scoreEstateBuild)),b("ngModel",e.dataModel.scoreEstateBuild),d("disabled",!(e.fieldsInfo.scoreEstateBuild!=null&&e.fieldsInfo.scoreEstateBuild.accessEditField)),o(4),M(e.fieldsInfo.scoreEstatePrice==null?null:e.fieldsInfo.scoreEstatePrice.fieldTitle),o(3),d("ngClass",Ie("cms-range-score-",e.dataModel.scoreEstatePrice)),b("ngModel",e.dataModel.scoreEstatePrice),d("disabled",!(e.fieldsInfo.scoreEstatePrice!=null&&e.fieldsInfo.scoreEstatePrice.accessEditField))}}function dY(n,l){if(n&1&&(r(0,"button",110),c(1),g(2,"translate"),a()),n&2){p(3);let e=R(11);d("disabled",!e.form.valid),o(),y(" ",h(2,2,"ACTION.NEXT")," ")}}function cY(n,l){if(n&1&&(r(0,"div",107)(1,"button",127),c(2),g(3,"translate"),a(),C(4,dY,3,4,"button",109),a()),n&2){let e=p(2);o(2),y(" ",h(3,2,"ACTION.BEFOR")," "),o(2),d("ngIf",e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0)}}function pY(n,l){if(n&1&&(r(0,"mat-step",32),g(1,"translate"),C(2,oY,5,6,"div",40)(3,rY,8,2,"div",73)(4,aY,8,2,"div",73)(5,lY,1,5,"app-cms-enum-record-admin-status-selector",74)(6,sY,22,15,"div",34)(7,cY,5,4,"div",42),a()),n&2){let e=p();d("label",x(h(1,8,"TITLE.Admin_Config"))),o(2),d("ngIf",(e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.accessWatchField)&&e.tokenHelper.isAdminSite),o(),d("ngIf",e.fieldsInfo.viewContentHidden==null?null:e.fieldsInfo.viewContentHidden.accessWatchField),o(),d("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),o(),d("ngIf",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.accessWatchField),o(),d("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),o(),d("ngIf",e.formInfo.submitButtonEnabled)}}function mY(n,l){if(n&1){let e=E();r(0,"app-estate-account-agency-selector",128),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorEstateAgency(t))}),a()}if(n&2){let e=p();d("optionDisabled",!(e.fieldsInfo.linkEstateAgencyId!=null&&e.fieldsInfo.linkEstateAgencyId.accessAddField))("optionSelectForce",e.dataModel.linkEstateAgencyId)("optionSelectUserId",e.tokenInfo.access.userId)("optionPlaceholder",h(1,4,"TITLE.Property_agency"))}}function uY(n,l){if(n&1){let e=E();r(0,"app-estate-account-expert-selector",75),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorEstateUser(t))}),a()}if(n&2){let e=p();d("optionDisabled",!(e.fieldsInfo.linkEstateExpertId!=null&&e.fieldsInfo.linkEstateExpertId.accessAddField))("optionSelectForce",e.dataModel.linkEstateExpertId)("optionPlaceholder",h(1,3,"TITLE.Property_personnel"))}}function fY(n,l){if(n&1){let e=E();r(0,"div",53)(1,"label",129),c(2),a(),r(3,"input",130,14),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.aboutAgentMobile,t)||(s.dataModel.aboutAgentMobile=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.aboutAgentMobile==null?null:i.fieldsInfo.aboutAgentMobile.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.aboutAgentMobile==null?null:i.fieldsInfo.aboutAgentMobile.fieldTitle))("disabled",x(!(i.fieldsInfo.aboutAgentMobile!=null&&i.fieldsInfo.aboutAgentMobile.accessAddField))),b("ngModel",i.dataModel.aboutAgentMobile),o(3),y("",e.value.length," / 100")}}function _Y(n,l){if(n&1){let e=E();r(0,"div",53)(1,"label",131),c(2),a(),r(3,"input",132,15),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.aboutAgentTel,t)||(s.dataModel.aboutAgentTel=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.aboutAgentTel==null?null:i.fieldsInfo.aboutAgentTel.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.aboutAgentTel==null?null:i.fieldsInfo.aboutAgentTel.fieldTitle))("disabled",x(!(i.fieldsInfo.aboutAgentTel!=null&&i.fieldsInfo.aboutAgentTel.accessAddField))),b("ngModel",i.dataModel.aboutAgentTel),o(3),y("",e.value.length," / 100")}}function gY(n,l){if(n&1){let e=E();r(0,"mat-icon",93),I("click",function(){u(e);let t=p(2);return f(t.onActionButtonQuickListSearchCustomerMobile())}),c(1,"find_replace"),a()}}function hY(n,l){if(n&1){let e=E();r(0,"div",53)(1,"label",133),c(2),a(),r(3,"input",134,16),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.aboutCustomerMobile,t)||(s.dataModel.aboutCustomerMobile=t),f(t)}),a(),r(5,"em"),c(6),a(),C(7,gY,2,0,"mat-icon",90),a()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.aboutCustomerMobile==null?null:i.fieldsInfo.aboutCustomerMobile.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.aboutCustomerMobile==null?null:i.fieldsInfo.aboutCustomerMobile.fieldTitle))("disabled",x(!(i.fieldsInfo.aboutCustomerMobile!=null&&i.fieldsInfo.aboutCustomerMobile.accessAddField))),b("ngModel",i.dataModel.aboutCustomerMobile),o(3),y("",e.value.length," / 100"),o(),d("ngIf",i.dataModel.aboutCustomerMobile)}}function yY(n,l){if(n&1){let e=E();r(0,"mat-icon",93),I("click",function(){u(e);let t=p(2);return f(t.onActionButtonQuickListSearchCustomerTel())}),c(1,"find_replace"),a()}}function SY(n,l){if(n&1){let e=E();r(0,"div",53)(1,"label",135),c(2),a(),r(3,"input",136,17),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.aboutCustomerTel,t)||(s.dataModel.aboutCustomerTel=t),f(t)}),a(),r(5,"em"),c(6),a(),C(7,yY,2,0,"mat-icon",90),a()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.aboutCustomerTel==null?null:i.fieldsInfo.aboutCustomerTel.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.aboutCustomerTel==null?null:i.fieldsInfo.aboutCustomerTel.fieldTitle))("disabled",x(!(i.fieldsInfo.aboutCustomerTel!=null&&i.fieldsInfo.aboutCustomerTel.accessAddField))),b("ngModel",i.dataModel.aboutCustomerTel),o(3),y("",e.value.length," / 100"),o(),d("ngIf",i.dataModel.aboutCustomerTel)}}function CY(n,l){if(n&1){let e=E();r(0,"app-cms-user-selector",75),g(1,"translate"),I("optionChange",function(t){u(e);let s=p(2);return f(s.onActionSelectorCmsUser(t))}),a()}if(n&2){let e=p(2);d("optionDisabled",!(e.fieldsInfo.linkCmsUserId!=null&&e.fieldsInfo.linkCmsUserId.accessAddField))("optionSelectForce",e.dataModel.linkCmsUserId)("optionPlaceholder",h(1,3,"TITLE.user"))}}function vY(n,l){n&1&&S(0,"i",91)}function IY(n,l){n&1&&S(0,"i",92)}function EY(n,l){n&1&&(r(0,"mat-error")(1,"strong"),c(2),g(3,"translate"),a()()),n&2&&(o(2),M(h(3,1,"MESSAGE.required")))}function MY(n,l){if(n&1){let e=E();r(0,"div",53)(1,"label",142),c(2),g(3,"translate"),a(),r(4,"input",143,18),g(6,"translate"),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.actionCreateNewCmsUserFirstName,t)||(s.dataModel.actionCreateNewCmsUserFirstName=t),f(t)}),a(),C(7,vY,1,0,"i",78)(8,IY,1,0,"i",79),r(9,"em"),c(10),a(),C(11,EY,4,3,"mat-error",34),a()}if(n&2){let e=R(5),i=p(2);o(2),M(h(3,8,"TITLE.FIRST_NAME")),o(2),d("placeholder",x(h(6,10,"TITLE.FIRST_NAME"))),b("ngModel",i.dataModel.actionCreateNewCmsUserFirstName),o(3),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 50"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function bY(n,l){n&1&&S(0,"i",91)}function TY(n,l){n&1&&S(0,"i",92)}function wY(n,l){n&1&&(r(0,"mat-error")(1,"strong"),c(2),g(3,"translate"),a()()),n&2&&(o(2),M(h(3,1,"MESSAGE.required")))}function xY(n,l){if(n&1){let e=E();r(0,"div",53)(1,"label",144),c(2),g(3,"translate"),a(),r(4,"input",145,19),g(6,"translate"),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.actionCreateNewCmsUserLastName,t)||(s.dataModel.actionCreateNewCmsUserLastName=t),f(t)}),a(),C(7,bY,1,0,"i",78)(8,TY,1,0,"i",79),r(9,"em"),c(10),a(),C(11,wY,4,3,"mat-error",34),a()}if(n&2){let e=R(5),i=p(2);o(2),M(h(3,8,"TITLE.LAST_NAME")),o(2),d("placeholder",x(h(6,10,"TITLE.LAST_NAME"))),b("ngModel",i.dataModel.actionCreateNewCmsUserLastName),o(3),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 50"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function AY(n,l){n&1&&S(0,"i",91)}function PY(n,l){n&1&&S(0,"i",92)}function RY(n,l){n&1&&(r(0,"mat-error")(1,"strong"),c(2),g(3,"translate"),a()()),n&2&&(o(2),M(h(3,1,"MESSAGE.required")))}function kY(n,l){if(n&1){let e=E();r(0,"div",53)(1,"label",146),c(2),g(3,"translate"),a(),r(4,"input",147,20),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.actionCreateNewCmsUserMobile,t)||(s.dataModel.actionCreateNewCmsUserMobile=t),f(t)}),a(),C(6,AY,1,0,"i",78)(7,PY,1,0,"i",79),r(8,"em"),c(9),a(),C(10,RY,4,3,"mat-error",34),a()}if(n&2){let e=R(5),i=p(2);o(2),M(h(3,6,"TITLE.MOBILE_NUMBER")),o(2),b("ngModel",i.dataModel.actionCreateNewCmsUserMobile),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 20"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function DY(n,l){if(n&1){let e=E();r(0,"div",137)(1,"div",80)(2,"div",81)(3,"h5",138),c(4),g(5,"translate"),a()(),r(6,"div",139)(7,"div",84)(8,"input",140),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.actionCreateNewCmsUser,t)||(s.dataModel.actionCreateNewCmsUser=t),f(t)}),a(),S(9,"label",141),a()()(),C(10,CY,2,5,"app-cms-user-selector",39)(11,MY,12,12,"div",40)(12,xY,12,12,"div",40)(13,kY,11,8,"div",40),a()}if(n&2){let e=p();o(4),y(" ",h(5,6,"TITLE.CREATE_NEW_USER")," "),o(4),b("ngModel",e.dataModel.actionCreateNewCmsUser),o(2),d("ngIf",!e.dataModel.actionCreateNewCmsUser),o(),d("ngIf",e.dataModel.actionCreateNewCmsUser),o(),d("ngIf",e.dataModel.actionCreateNewCmsUser),o(),d("ngIf",e.dataModel.actionCreateNewCmsUser)}}function LY(n,l){if(n&1&&(r(0,"button",110),c(1),g(2,"translate"),a()),n&2){p(2);let e=R(11);d("disabled",!e.form.valid),o(),y(" ",h(2,2,"ACTION.NEXT")," ")}}function VY(n,l){if(n&1&&(r(0,"div",107)(1,"button",127),c(2),g(3,"translate"),a(),C(4,LY,3,4,"button",109),a()),n&2){let e=p();o(2),y(" ",h(3,2,"ACTION.BEFOR")," "),o(2),d("ngIf",e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0)}}function BY(n,l){if(n&1){let e=E();r(0,"app-estate-property-company-selector",152),g(1,"translate"),I("optionChange",function(t){u(e);let s=p(2);return f(s.onActionSelectorCompany(t))}),a()}if(n&2){let e=p(2);d("optionSelectForce",e.dataModel.linkPropertyCompanyId)("optionPlaceholder",h(1,2,"TITLE.Company"))}}function FY(n,l){if(n&1){let e=E();r(0,"app-estate-property-project-selector",152),g(1,"translate"),I("optionChange",function(t){u(e);let s=p(2);return f(s.onActionSelectorProject(t))}),a()}if(n&2){let e=p(2);d("optionSelectForce",e.dataModel.linkPropertyProjectId)("optionPlaceholder",h(1,2,"TITLE.Project"))}}function OY(n,l){if(n&1){let e=E();r(0,"div",159),S(1,"i",160),c(2,"\xA0\xA0 "),r(3,"app-input-string",161),w("modelChange",function(t){u(e);let s=p().$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=p().$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),Nt(Ie("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionLabel",e.title)}}function NY(n,l){if(n&1){let e=E();r(0,"div",159),S(1,"i",160),c(2,"\xA0\xA0 "),r(3,"app-input-int",162),w("modelChange",function(t){u(e);let s=p().$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=p().$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),Nt(Ie("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionLabel",e.title)}}function HY(n,l){if(n&1){let e=E();r(0,"div",159),S(1,"i",160),c(2,"\xA0\xA0 "),r(3,"app-input-boolean",163),w("modelChange",function(t){u(e);let s=p().$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),c(4),a()()}if(n&2){let e=p().$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),b("model",i.propertyDetails[e.id]),o(),y("",e.title," ")}}function WY(n,l){if(n&1){let e=E();r(0,"div",159),S(1,"i",160),c(2,"\xA0\xA0 "),r(3,"app-input-float",162),w("modelChange",function(t){u(e);let s=p().$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=p().$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),Nt(Ie("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionLabel",e.title)}}function GY(n,l){if(n&1){let e=E();r(0,"div",159),S(1,"i",160),c(2,"\xA0\xA0 "),r(3,"label"),c(4),a(),r(5,"app-input-date",163),w("modelChange",function(t){u(e);let s=p().$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=p().$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),Nt(Ie("color:'",e.iconColor,"';")),o(),M(e.title),o(),b("model",i.propertyDetails[e.id])}}function UY(n,l){if(n&1){let e=E();r(0,"div",159),S(1,"i",160),c(2,"\xA0\xA0 "),r(3,"app-input-textarea",162),w("modelChange",function(t){u(e);let s=p().$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=p().$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),Nt(Ie("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionLabel",e.title)}}function jY(n,l){if(n&1){let e=E();r(0,"div"),S(1,"i",160),c(2,"\xA0\xA0 "),r(3,"app-input-string",162),w("modelChange",function(t){u(e);let s=p().$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=p().$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),Nt(Ie("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionLabel",e.title)}}function qY(n,l){if(n&1&&(A(0)(1,156),C(2,OY,4,11,"div",157)(3,NY,4,8,"div",157)(4,HY,5,5,"div",157),S(5,"br"),C(6,WY,4,8,"div",157)(7,GY,6,8,"div",157)(8,UY,4,8,"div",157)(9,jY,4,8,"div",158),P()()),n&2){let e=l.$implicit,i=p(3);o(),d("ngSwitch",e.inputDataType),o(),d("ngSwitchCase",i.enumInputDataType.String),o(),d("ngSwitchCase",i.enumInputDataType.Int),o(),d("ngSwitchCase",i.enumInputDataType.Boolean),o(2),d("ngSwitchCase",i.enumInputDataType.Float),o(),d("ngSwitchCase",i.enumInputDataType.Date),o(),d("ngSwitchCase",i.enumInputDataType.TextArea)}}function QY(n,l){if(n&1){let e=E();r(0,"button",164),I("click",function(){u(e);let t=p(3);return f(t.prevStep())}),c(1),g(2,"translate"),a()}n&2&&(o(),y(" ",h(2,1,"ACTION.BEFOR")," "))}function zY(n,l){if(n&1){let e=E();r(0,"button",164),I("click",function(){u(e);let t=p(3);return f(t.nextStep())}),c(1),g(2,"translate"),a()}n&2&&(o(),y(" ",h(2,1,"ACTION.NEXT")," "))}function YY(n,l){if(n&1){let e=E();r(0,"button",164),I("click",function(){u(e);let t=p(3);return f(t.nextStep())}),c(1),g(2,"translate"),a()}n&2&&(o(),y(" ",h(2,1,"ACTION.END")," "))}function KY(n,l){if(n&1){let e=E();r(0,"mat-expansion-panel",153),I("opened",function(){let t=u(e).index,s=p(2);return f(s.setStep(t))}),r(1,"mat-expansion-panel-header")(2,"mat-panel-title"),c(3),a(),r(4,"mat-panel-description"),c(5),r(6,"mat-icon"),c(7),a()()(),C(8,qY,10,7,"ng-container",154),r(9,"mat-action-row"),C(10,QY,3,3,"button",155)(11,zY,3,3,"button",155)(12,YY,3,3,"button",155),a()()}if(n&2){let e=l.$implicit,i=l.index,t=p(2);d("expanded",t.step===i),o(3),M(e.title),o(2),y(" ",e.description," "),o(2),M(e.iconFont),o(),d("ngForOf",e.propertyDetails),o(2),d("ngIf",i>0),o(),d("ngIf",i+1<t.dataModel.propertyDetailGroups.length),o(),d("ngIf",i+1===t.dataModel.propertyDetailGroups.length)}}function ZY(n,l){if(n&1&&(r(0,"div",107)(1,"button",127),c(2),g(3,"translate"),a(),r(4,"button",110),c(5),g(6,"translate"),a()()),n&2){p(2);let e=R(11);o(2),y(" ",h(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",h(6,5,"ACTION.NEXT")," ")}}function JY(n,l){if(n&1&&(r(0,"mat-step",148),g(1,"translate"),r(2,"p"),c(3),g(4,"translate"),a(),C(5,BY,2,4,"app-estate-property-company-selector",149)(6,FY,2,4,"app-estate-property-project-selector",149),S(7,"hr"),r(8,"mat-accordion",150),C(9,KY,13,8,"mat-expansion-panel",151),S(10,"br"),a(),C(11,ZY,7,7,"div",42),a()),n&2){let e=p();d("label",x(h(1,7,"TITLE.Details"))),o(3),y(" ",h(4,9,"TITLE.Property_details_according_to_the_type_of_property")," "),o(2),d("ngIf",e.tokenHelper.isAdminSite),o(),d("ngIf",e.tokenHelper.isAdminSite),o(3),d("ngForOf",e.dataModel.propertyDetailGroups),o(2),d("ngIf",e.formInfo.submitButtonEnabled)}}function XY(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),y(" ",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.fieldTitle," "),o(2),M(h(4,2,"MESSAGE.required"))}}function $Y(n,l){if(n&1){let e=E();r(0,"div",53)(1,"label",165),c(2),g(3,"translate"),a(),r(4,"textarea",166,21),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),c(6,"            "),a(),r(7,"em"),c(8),a(),C(9,XY,5,4,"mat-error",34),a()}if(n&2){let e=R(5),i=p();o(2),y("",h(3,6,"TITLE.Description_Hidden")," "),o(2),d("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",i.dataModel.descriptionHidden),o(4),y("",e.value.length," / 2000"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function eK(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),y(" ",e.fieldsInfo.addressHidden==null?null:e.fieldsInfo.addressHidden.fieldTitle," "),o(2),M(h(4,2,"MESSAGE.required"))}}function tK(n,l){if(n&1){let e=E();r(0,"div",53)(1,"label",167),c(2),g(3,"translate"),a(),r(4,"textarea",168,22),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.addressHidden,t)||(s.dataModel.addressHidden=t),f(t)}),c(6,"            "),a(),r(7,"em"),c(8),a(),C(9,eK,5,4,"mat-error",34),a()}if(n&2){let e=R(5),i=p();o(2),y(" ",h(3,6,"TITLE.Address_Hidden")," "),o(2),d("placeholder",x(i.fieldsInfo.addressHidden==null?null:i.fieldsInfo.addressHidden.fieldTitle)),b("ngModel",i.dataModel.addressHidden),o(4),y("",e.value.length," / 2000"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function iK(n,l){if(n&1&&(r(0,"div",107)(1,"button",127),c(2),g(3,"translate"),a(),r(4,"button",110),c(5),g(6,"translate"),a()()),n&2){p();let e=R(11);o(2),y(" ",h(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",h(6,5,"ACTION.NEXT")," ")}}function nK(n,l){if(n&1){let e=E();r(0,"div",80)(1,"div",81)(2,"h5",179),c(3),g(4,"translate"),a()(),r(5,"div",139)(6,"div",84)(7,"input",180),w("ngModelChange",function(t){u(e);let s=p(4);return T(s.contractDataModel.salePriceByAgreement,t)||(s.contractDataModel.salePriceByAgreement=t),f(t)}),I("change",function(){u(e);let t=p(4);return f(t.onActionClickSalePriceAllowAgreement())}),a(),S(8,"label",181),a()()()}if(n&2){let e=p(4);o(3),y(" ",h(4,2,"TITLE.Agreement")," "),o(4),b("ngModel",e.contractDataModel.salePriceByAgreement)}}function oK(n,l){if(n&1){let e=E();r(0,"div",174)(1,"div",175)(2,"label",176),c(3,"contractTypeSelected.titleSalePriceML"),a(),r(4,"input",177),w("ngModelChange",function(t){u(e);let s=p(3);return T(s.contractDataModel.salePrice,t)||(s.contractDataModel.salePrice=t),f(t)}),a()(),r(5,"div",178),C(6,nK,9,4,"div",73),a()()}if(n&2){let e=p(3);o(4),b("ngModel",e.contractDataModel.salePrice),d("disabled",e.contractDataModel.salePriceByAgreement),o(2),d("ngIf",e.contractTypeSelected.salePriceAllowAgreement)}}function rK(n,l){if(n&1){let e=E();r(0,"div",80)(1,"div",81)(2,"h5",184),c(3),g(4,"translate"),a()(),r(5,"div",139)(6,"div",84)(7,"input",185),w("ngModelChange",function(t){u(e);let s=p(4);return T(s.contractDataModel.depositPriceByAgreement,t)||(s.contractDataModel.depositPriceByAgreement=t),f(t)}),I("change",function(){u(e);let t=p(4);return f(t.onActionClickDepositPriceByAgreement())}),a(),S(8,"label",186),a()()()}if(n&2){let e=p(4);o(3),y(" ",h(4,2,"TITLE.Agreement")," "),o(4),b("ngModel",e.contractDataModel.depositPriceByAgreement)}}function aK(n,l){if(n&1){let e=E();r(0,"div",174)(1,"div",175)(2,"label",182),c(3),a(),r(4,"input",183),w("ngModelChange",function(t){u(e);let s=p(3);return T(s.contractDataModel.depositPrice,t)||(s.contractDataModel.depositPrice=t),f(t)}),a()(),r(5,"div",178),C(6,rK,9,4,"div",73),a()()}if(n&2){let e=p(3);o(3),M(e.contractTypeSelected.titleDepositPriceML),o(),b("ngModel",e.contractDataModel.depositPrice),d("disabled",e.contractDataModel.depositPriceByAgreement),o(2),d("ngIf",e.contractTypeSelected.depositPriceAllowAgreement)}}function lK(n,l){if(n&1){let e=E();r(0,"div",80)(1,"div",81)(2,"h5",189),c(3),g(4,"translate"),a()(),r(5,"div",139)(6,"div",84)(7,"input",190),w("ngModelChange",function(t){u(e);let s=p(4);return T(s.contractDataModel.rentPriceByAgreement,t)||(s.contractDataModel.rentPriceByAgreement=t),f(t)}),I("change",function(){u(e);let t=p(4);return f(t.onActionClickRentPriceAllowAgreement())}),a(),S(8,"label",191),a()()()}if(n&2){let e=p(4);o(3),y(" ",h(4,2,"TITLE.Agreement")," "),o(4),b("ngModel",e.contractDataModel.rentPriceByAgreement)}}function sK(n,l){if(n&1){let e=E();r(0,"div",174)(1,"div",175)(2,"label",187),c(3,"contractTypeSelected.titleRentPriceML"),a(),r(4,"input",188),w("ngModelChange",function(t){u(e);let s=p(3);return T(s.contractDataModel.rentPrice,t)||(s.contractDataModel.rentPrice=t),f(t)}),a()(),r(5,"div",178),C(6,lK,9,4,"div",73),a()()}if(n&2){let e=p(3);o(4),b("ngModel",e.contractDataModel.rentPrice),d("disabled",e.contractDataModel.rentPriceByAgreement),o(2),d("ngIf",e.contractTypeSelected.rentPriceAllowAgreement)}}function dK(n,l){if(n&1){let e=E();r(0,"div",80)(1,"div",81)(2,"h5",194),c(3),g(4,"translate"),a()(),r(5,"div",139)(6,"div",84)(7,"input",195),w("ngModelChange",function(t){u(e);let s=p(4);return T(s.contractDataModel.periodPriceByAgreement,t)||(s.contractDataModel.periodPriceByAgreement=t),f(t)}),I("change",function(){u(e);let t=p(4);return f(t.onActionClickPeriodPriceAllowAgreement())}),a(),S(8,"label",196),a()()()}if(n&2){let e=p(4);o(3),y(" ",h(4,2,"TITLE.Agreement")," "),o(4),b("ngModel",e.contractDataModel.periodPriceByAgreement)}}function cK(n,l){if(n&1){let e=E();r(0,"div",174)(1,"div",175)(2,"label",192),c(3,"contractTypeSelected.titlePeriodPriceML"),a(),r(4,"input",193),w("ngModelChange",function(t){u(e);let s=p(3);return T(s.contractDataModel.periodPrice,t)||(s.contractDataModel.periodPrice=t),f(t)}),a()(),r(5,"div",178),C(6,dK,9,4,"div",73),a()()}if(n&2){let e=p(3);o(4),b("ngModel",e.contractDataModel.periodPrice),d("disabled",e.contractDataModel.periodPriceByAgreement),o(2),d("ngIf",e.contractTypeSelected.hasPeriodPrice&&e.contractTypeSelected.periodPriceAllowAgreement)}}function pK(n,l){if(n&1){let e=E();r(0,"div"),C(1,oK,7,3,"div",171)(2,aK,7,4,"div",171)(3,sK,7,3,"div",171)(4,cK,7,3,"div",171),S(5,"hr"),r(6,"div",53)(7,"label",172),c(8),a(),r(9,"textarea",173,23),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.contractDataModel.description,t)||(s.contractDataModel.description=t),f(t)}),c(11,"                "),a(),r(12,"em"),c(13),a()()()}if(n&2){let e=R(10),i=p(2);o(),d("ngIf",i.contractTypeSelected.hasSalePrice),o(),d("ngIf",i.contractTypeSelected.hasDepositPrice),o(),d("ngIf",i.contractTypeSelected.hasRentPrice),o(),d("ngIf",i.contractTypeSelected.hasPeriodPrice),o(4),M(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),b("ngModel",i.contractDataModel.description),o(4),y("",e.value.length," / 500")}}function mK(n,l){if(n&1){let e=E();r(0,"div",169),S(1,"br")(2,"br"),r(3,"app-cms-currency-selector",170),g(4,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectCurrency(t))}),a(),C(5,pK,14,9,"div",34),S(6,"br")(7,"br"),a()}if(n&2){let e=p();o(3),d("optionSelectFirstItem",e.currencyOptionSelectFirstItem)("optionSelectForce",e.contractDataModel.linkCoreCurrencyId)("optionPlaceholder",h(4,4,"TITLE.Specify_the_transaction_currency")),o(2),d("ngIf",e.contractDataModel.linkCoreCurrencyId>0)}}function uK(n,l){if(n&1){let e=E();r(0,"button",63),I("click",function(){u(e);let t=p();return f(t.onActionOptionAddToList())}),c(1),g(2,"translate"),a()}n&2&&(o(),y(" ",h(2,1,"ACTION.Add_To_List")," ... "))}function fK(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.Contract")," "))}function _K(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"cmstitle"),a()),n&2){let e=l.$implicit,i=p(2);o(),y(" ",di(2,1,e.linkEstateContractTypeId,i.dataModelEstateContractTypeResult.listItems)," ")}}function gK(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.SalePrice")," "))}function hK(n,l){if(n&1&&(A(0),c(1),g(2,"number"),S(3,"br"),c(4),P()),n&2){let e=p().$implicit;o(),y(" ",h(2,3,e.salePrice)," "),o(3),ee(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function yK(n,l){n&1&&(A(0),c(1),g(2,"translate"),P()),n&2&&(o(),y(" ",h(2,1,"TITLE.PriceByAgreement")," "))}function SK(n,l){if(n&1&&(r(0,"mat-cell"),C(1,hK,5,5,"ng-container",34)(2,yK,3,3,"ng-container",34),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.salePrice>0),o(),d("ngIf",e.salePriceByAgreement)}}function CK(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.DepositPrice")," "))}function vK(n,l){if(n&1&&(A(0),c(1),g(2,"number"),S(3,"br"),c(4),P()),n&2){let e=p().$implicit;o(),y(" ",h(2,3,e.depositPrice)," "),o(3),ee(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function IK(n,l){n&1&&(A(0),c(1),g(2,"translate"),P()),n&2&&(o(),y(" ",h(2,1,"TITLE.PriceByAgreement")," "))}function EK(n,l){if(n&1&&(r(0,"mat-cell"),C(1,vK,5,5,"ng-container",34)(2,IK,3,3,"ng-container",34),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.depositPrice>0),o(),d("ngIf",e.depositPriceByAgreement)}}function MK(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.RentPrice")," "))}function bK(n,l){if(n&1&&(A(0),c(1),g(2,"number"),S(3,"br"),c(4),P()),n&2){let e=p().$implicit;o(),y(" ",h(2,3,e.rentPrice)," "),o(3),ee(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function TK(n,l){n&1&&(A(0),c(1),g(2,"translate"),P()),n&2&&(o(),y(" ",h(2,1,"TITLE.PriceByAgreement")," "))}function wK(n,l){if(n&1&&(r(0,"mat-cell"),C(1,bK,5,5,"ng-container",34)(2,TK,3,3,"ng-container",34),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.rentPrice>0),o(),d("ngIf",e.rentPriceByAgreement)}}function xK(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.PeriodPrice")," "))}function AK(n,l){if(n&1&&(A(0),c(1),g(2,"number"),S(3,"br"),c(4),P()),n&2){let e=p().$implicit;o(),y(" ",h(2,3,e.periodPrice)," "),o(3),ee(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function PK(n,l){n&1&&(A(0),c(1),g(2,"translate"),P()),n&2&&(o(),y(" ",h(2,1,"TITLE.PriceByAgreement")," "))}function RK(n,l){if(n&1&&(r(0,"mat-cell"),C(1,AK,5,5,"ng-container",34)(2,PK,3,3,"ng-container",34),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.periodPrice>0),o(),d("ngIf",e.periodPriceByAgreement)}}function kK(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.OPTION")," "))}function DK(n,l){if(n&1){let e=E();r(0,"mat-cell",212)(1,"button",213),I("click",function(){let t=u(e).index,s=p(2);return f(s.onActionOptionRemoveFromList(t))}),r(2,"small")(3,"mat-icon",214),g(4,"translate"),c(5,"delete"),a()()()()}n&2&&(o(3),d("matTooltip",x(h(4,2,"ACTION.DELETE"))))}function LK(n,l){if(n&1&&(A(0),c(1),P()),n&2){let e=p().$implicit;o(),y(" ",e.description," ")}}function VK(n,l){if(n&1&&(r(0,"mat-cell",215),c(1),g(2,"translate"),C(3,LK,2,1,"ng-container",34),a()),n&2){let e=l.$implicit;o(),y(" ",h(2,2,"TITLE.DESCRIPTION")," : "),o(2),d("ngIf",e.description)}}function BK(n,l){n&1&&S(0,"mat-header-row")}function FK(n,l){if(n&1&&S(0,"mat-row"),n&2){let e=l.dataIndex;K("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}function OK(n,l){if(n&1&&S(0,"mat-row"),n&2){let e=l.dataIndex;K("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}function NK(n,l){if(n&1&&(r(0,"div",197)(1,"mat-table",198),A(2,199),C(3,fK,3,3,"mat-header-cell",200)(4,_K,3,4,"mat-cell",201),P(),A(5,202),C(6,gK,3,3,"mat-header-cell",200)(7,SK,3,2,"mat-cell",201),P(),A(8,203),C(9,CK,3,3,"mat-header-cell",200)(10,EK,3,2,"mat-cell",201),P(),A(11,204),C(12,MK,3,3,"mat-header-cell",200)(13,wK,3,2,"mat-cell",201),P(),A(14,205),C(15,xK,3,3,"mat-header-cell",200)(16,RK,3,2,"mat-cell",201),P(),A(17,206),C(18,kK,3,3,"mat-header-cell",200)(19,DK,6,4,"mat-cell",207),P(),A(20,208),C(21,VK,4,4,"mat-cell",209),P(),C(22,BK,1,0,"mat-header-row",210)(23,FK,1,4,"mat-row",211)(24,OK,1,4,"mat-row",211),a()()),n&2){let e=p();o(),d("dataSource",e.optionTabledataSource),o(21),d("matHeaderRowDef",e.optionTabledisplayedColumns),o(),d("matRowDefColumns",e.optionTabledisplayedColumns),o(),d("matRowDefColumns",se(4,Dz))}}function HK(n,l){if(n&1&&(r(0,"button",110),c(1),g(2,"translate"),a()),n&2){p(2);let e=R(11);d("disabled",!e.form.valid),o(),y(" ",h(2,2,"ACTION.NEXT")," ")}}function WK(n,l){if(n&1&&(r(0,"div",107)(1,"button",127),c(2),g(3,"translate"),a(),C(4,HK,3,4,"button",109),a()),n&2){let e=p();o(2),y(" ",h(3,2,"ACTION.BEFOR")," "),o(2),d("ngIf",e.dataModel.contracts&&e.dataModel.contracts.length>0)}}function GK(n,l){if(n&1&&(S(0,"img",216),g(1,"cmsthumbnail")),n&2){let e=p();d("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function UK(n,l){n&1&&(r(0,"p"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.List_of_attached_photos")," "))}function jK(n,l){if(n&1){let e=E();r(0,"div")(1,"p"),c(2),g(3,"translate"),a(),r(4,"app-cms-files-selector",217),w("dataFileModelChange",function(t){u(e);let s=p();return T(s.dataFileModelFiles,t)||(s.dataFileModelFiles=t),f(t)}),a(),S(5,"br"),a()}if(n&2){let e=p();o(2),M(h(3,3,"TITLE.List_of_attached_files")),o(2),b("dataFileModel",e.dataFileModelFiles),d("openDirectUploadView",!0)}}function qK(n,l){if(n&1&&(r(0,"div",218)(1,"button",127),c(2),g(3,"translate"),a(),r(4,"button",110),c(5),g(6,"translate"),a(),r(7,"button",219),c(8),g(9,"translate"),a()()),n&2){let e=p(),i=R(11);o(2),y(" ",h(3,5,"ACTION.BEFOR")," "),o(2),d("disabled",!i.form.valid),o(),y(" ",h(6,7,"ACTION.NEXT")," "),o(2),d("disabled",!i.form.valid||!e.connectionStatus.internetConnection),o(),y(" ",h(9,9,"ACTION.SAVE")," ")}}function QK(n,l){if(n&1&&(r(0,"button",221),c(1),g(2,"translate"),a()),n&2){let e=p(2),i=R(11);d("disabled",!i.form.valid||!e.connectionStatus.internetConnection),o(),y(" ",h(2,2,"ACTION.SAVE")," ")}}function zK(n,l){if(n&1&&(r(0,"div",107)(1,"button",127),c(2),g(3,"translate"),a(),C(4,QK,3,4,"button",220),a()),n&2){let e=p();o(2),y(" ",h(3,2,"ACTION.BEFOR")," "),o(2),d("ngIf",e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0)}}function YK(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function KK(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function ZK(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}function JK(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}var Rd=class Rd extends Bt{constructor(e,i,t,s,_,m,k,z,Se,qe,Ue,ft,jt,Ft,Yt,Oe){super(s,new Ki,ft,Oe);this.activatedRoute=e;this.coreEnumService=i;this.estateContractTypeService=t;this.estatePropertyService=s;this.estatePropertyDetailGroupService=_;this.estatePropertyTypeService=m;this.estatePropertyTypeLanduseService=k;this.cmsToastrService=z;this.cmsStoreService=Se;this.themeService=qe;this.router=Ue;this.publicHelper=ft;this.cdr=jt;this.dialog=Ft;this.tokenHelper=Yt;this.translate=Oe;this.requestLinkPropertyTypeLanduseId="";this.requestLinkPropertyTypeUsageId="";this.constructorInfoAreaId=this.constructor.name;this.connectionStatus=new vc;this.unsubscribe=[];this.currencyOptionSelectFirstItem=!0;this.enumInputDataType=Oi;this.tokenInfo=new It;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.formMatcher=new Na;this.dataModelResult=new G;this.dataModelEstateContractTypeResult=new G;this.dataModelEstatePropertyTypeResult=new G;this.dataModelEstatePropertyTypeLanduseResult=new G;this.dataModel=new Ki;this.dataFileModelImgaes=new Map;this.dataFileModelFiles=new Map;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.dataModelCorCurrencySelector=new Fi;this.PropertyTypeSelected=new Qt;this.contractDataModel=new no;this.optionActionTitle="";this.optionTabledataSource=new mi;this.optionTabledisplayedColumns=["LinkEstateContractTypeId","SalePrice","RentPrice","DepositPrice","PeriodPrice","Action"];this.propertyDetails=new Map;this.step=0;this.numbers=[1,2,3,4,5,6,7,8,9,10];this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Ni;this.listTypeLanduse=[];this.dataProfessional=!1;this.hidden=!0;this.publicHelper.processService.cdr=this.cdr,this.requestLinkPropertyTypeLanduseId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeLanduseId"),this.requestLinkPropertyTypeLanduseId&&this.requestLinkPropertyTypeLanduseId.length>0&&(this.dataModel.linkPropertyTypeLanduseId=this.requestLinkPropertyTypeLanduseId),this.requestLinkPropertyTypeUsageId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeUsageId"),this.requestLinkPropertyTypeUsageId&&this.requestLinkPropertyTypeUsageId.length>0&&(this.dataModel.linkPropertyTypeUsageId=this.requestLinkPropertyTypeUsageId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(mn=>mn.connectionStatusStore).subscribe(mn=>ae(this,null,function*(){this.connectionStatus=mn})))}ngOnInit(){this.translate.get("TITLE.Submit_New_Content").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.getEstateContractType(),this.getEstatePropertyType(),this.getEstatePropertyTypeLanduse(),this.dataModel.caseCode=this.publicHelper.StringRandomGenerator(5,!0),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.DataGetAccess(),this.getEstateContractType(),this.getEstatePropertyType(),this.getEstatePropertyTypeLanduse(),this.translate.get("ACTION.Add_To_List").subscribe(i=>{this.optionActionTitle=i}),this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}getEstateContractType(){let e=this.constructor.name+"getEstateContractType";this.translate.get("TITLE.Get_Estate_Contract_Type").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateContractTypeService.ServiceGetAll(null).subscribe({next:i=>{this.dataModelEstateContractTypeResult=i,this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e)}})}getEstatePropertyType(){let e=this.constructor.name+"getEstatePropertyType";this.translate.get("TITLE.Get_Estate_property_Type").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyTypeService.ServiceGetAll(null).subscribe({next:i=>{this.dataModelEstatePropertyTypeResult=i,this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e)}})}getEstatePropertyTypeLanduse(){let e=this.constructor.name+"getEstatePropertyType";this.translate.get("TITLE.Get_Estate_user_Type").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyTypeLanduseService.ServiceGetAll(null).subscribe({next:i=>{this.dataModelEstatePropertyTypeLanduseResult=i,this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e)}})}DataGetPropertyDetailGroup(e){let i=new pe,t=new H;t.propertyName="LinkPropertyTypeLanduseId",t.value=e,i.filters.push(t),this.dataModel.propertyDetailGroups=[];let s=this.constructor.name+"DataGetPropertyDetailGroup";this.translate.get("TITLE.Get_Details").subscribe(_=>{this.publicHelper.processService.processStart(s,_,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceGetAll(i).subscribe({next:_=>{_.isSuccess?this.dataModel.propertyDetailGroups=_.listItems:this.cmsToastrService.typeErrorGetAccess(_.errorMessage),this.publicHelper.processService.processStop(s)},error:_=>{this.cmsToastrService.typeErrorGetAccess(_),this.publicHelper.processService.processStop(s,!1)}})}DataAdd(){if(this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="",this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}if(this.dataFileModelImgaes){let i=Array.from(this.dataFileModelImgaes.keys());i&&i.length>0&&(this.dataModel.linkExtraImageIds=i.join(","))}let e=this.constructor.name+"ServiceAdd";this.translate.get("TITLE.Property_registration").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyService.ServiceAdd(this.dataModel).subscribe({next:i=>{if(this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess)if(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(s=>{this.formInfo.submitResultMessage=s,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessAdd(),(this.tokenHelper.isAdminSite||this.tokenHelper.isSupportSite||this.tokenInfo.access.userAccessUserType==wr.ResellerCpSite||this.tokenInfo.access.userAccessUserType==wr.ResellerEmployeeCpSite)&&this.dataModel.recordStatus==Qe.Available){var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Ad,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{model:this.dataModelResult.item}}).afterClosed().subscribe(_=>{setTimeout(()=>this.router.navigate(["/estate/property"]),1e3)})}else setTimeout(()=>this.router.navigate(["/estate/property"]),1e3);else this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage);this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(i=>{this.mapMarker=om.marker([i.lat,i.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",i=>{let t=i.latlng.lat,s=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&s===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=om.marker([t,s]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=s}))}receiveZoom(e){}onActionSelectorSelectUsage(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeUsageId=e.id,this.dataModelEstatePropertyTypeResult.isSuccess&&this.dataModelEstatePropertyTypeLanduseResult.isSuccess&&(this.listTypeLanduse=[],this.dataModelEstatePropertyTypeResult.listItems.forEach(i=>{i.linkPropertyTypeUsageId===e.id&&this.dataModelEstatePropertyTypeLanduseResult.listItems.forEach(t=>{t.id===i.linkPropertyTypeLanduseId&&this.listTypeLanduse.push(t)})}))}onActionSelectorSelectLanduse(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.PropertyTypeSelected=e,this.dataModel.linkPropertyTypeLanduseId=e.id,this.DataGetPropertyDetailGroup(e.id)}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCmsUserId=null;return}this.dataModel.linkCmsUserId=e.id}onActionSelectorLocation(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.information_area_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=e.id}onActionSelectorProject(e){if(!e||!e.id||e.id.length<=0){this.dataModel.linkPropertyProjectId=null;return}this.dataModel.linkPropertyProjectId=e.id}onActionSelectorCompany(e){if(!e||!e.id||e.id.length<=0){this.dataModel.linkPropertyCompanyId=null;return}this.dataModel.linkPropertyCompanyId=e.id}onActionSelectorEstateUser(e){this.dataModel.linkEstateExpertId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateExpertId=e.id)}onActionSelectorEstateAgency(e){this.dataModel.linkEstateAgencyId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateAgencyId=e.id)}onActionSelectorContractType(e){if(this.contractTypeSelected=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.currencyOptionSelectFirstItem=!0,this.contractTypeSelected=e,this.contractDataModel=new no,this.contractDataModel.contractType=this.contractTypeSelected,this.contractDataModel.linkEstateContractTypeId=this.contractTypeSelected.id}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.submitButtonEnabled=!1,this.dataModel.propertyDetailValues=[],this.dataModel.propertyDetailGroups&&this.dataModel.propertyDetailGroups.forEach(e=>{e.propertyDetails.forEach(i=>{let t=new wo;t.linkPropertyDetailId=i.id,t.value=this.propertyDetails[i.id],this.dataModel.propertyDetailValues.push(t)})}),(!this.dataModel.contracts||this.dataModel.contracts.length===0)&&this.onActionOptionAddToList(!1),!this.dataModel.contracts||this.dataModel.contracts.length===0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)}),this.formInfo.submitButtonEnabled=!0;return}this.DataAdd()}}onFormCancel(){this.router.navigate(["/estate/property"])}onActionOptionAddToList(e=!0){if(!this.contractTypeSelected||this.contractTypeSelected.id.length===0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(t=>{e&&this.cmsToastrService.typeErrorSelected(t)});return}this.dataModel.contracts||(this.dataModel.contracts=[]);var i=!1;if(this.contractTypeSelected.hasSalePrice&&(this.contractDataModel.salePrice&&this.contractDataModel.salePrice>0&&(i=!0),this.contractTypeSelected.salePriceAllowAgreement&&this.contractDataModel.salePriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Sales_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i=!1,this.contractTypeSelected.hasRentPrice&&(this.contractDataModel.rentPrice&&this.contractDataModel.rentPrice>0&&(i=!0),this.contractTypeSelected.rentPriceAllowAgreement&&this.contractDataModel.rentPriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Rent_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i=!1,this.contractTypeSelected.hasPeriodPrice&&(this.contractDataModel.periodPrice&&this.contractDataModel.periodPrice>0&&(i=!0),this.contractTypeSelected.periodPriceAllowAgreement&&this.contractDataModel.periodPriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Period_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i=!1,this.contractTypeSelected.hasDepositPrice&&(this.contractDataModel.depositPrice&&this.contractDataModel.depositPrice>0&&(i=!0),this.contractTypeSelected.depositPriceAllowAgreement&&this.contractDataModel.depositPriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Deposit_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.dataModel.contracts.push(this.contractDataModel),this.contractDataModel=new no,this.optionTabledataSource.data=this.dataModel.contracts,this.contractTypeSelected=null}onActionOptionRemoveFromList(e){e<0||!this.dataModel.contracts||this.dataModel.contracts.length===0||(this.contractDataModel=this.dataModel.contracts[e],this.dataModel.contracts.splice(e,1),this.contractDataModel=new no,this.optionTabledataSource.data=this.dataModel.contracts)}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&((!this.dataModel.linkPropertyTypeUsageId||this.dataModel.linkPropertyTypeUsageId.length===0)&&(this.translate.get("TITLE.Select_the_Property_Type_Usage").subscribe(t=>{this.cmsToastrService.typeErrorFormInvalid(t)}),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)),(!this.dataModel.linkPropertyTypeLanduseId||this.dataModel.linkPropertyTypeLanduseId.length===0)&&(this.translate.get("TITLE.Select_the_Property_Type_Landuse").subscribe(t=>{this.cmsToastrService.typeErrorFormInvalid(t)}),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)),this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10))),(!this.dataModel.contracts||this.dataModel.contracts.length==0)&&e.previouslySelectedStep.state=="contract"&&e.previouslySelectedIndex<e.selectedIndex&&(this.translate.get("TITLE.Select_the_transaction_type").subscribe(t=>{this.cmsToastrService.typeErrorFormInvalid(t)}),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10))}onActionBackToParent(){this.router.navigate(["/estate/property/"])}setStep(e){this.step=e}nextStep(){this.step++}prevStep(){this.step--}onActionClickSalePriceAllowAgreement(){this.contractDataModel.salePriceByAgreement&&(this.contractDataModel.salePrice=0)}onActionClickRentPriceAllowAgreement(){this.contractDataModel.rentPriceByAgreement&&(this.contractDataModel.rentPrice=0)}onActionClickPeriodPriceAllowAgreement(){this.contractDataModel.periodPriceByAgreement&&(this.contractDataModel.periodPrice=0)}onActionClickDepositPriceByAgreement(){this.contractDataModel.depositPriceByAgreement&&(this.contractDataModel.depositPrice=0)}ActionCurrentPoint(){this.childMap.getPosition().then(e=>{let i=e.lat,t=e.lon;i>0&&t>0&&(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:i,lon:t}),this.dataModel.geolocationlatitude=i,this.dataModel.geolocationlongitude=t,this.receiveMap())})}onActionSelectCurrency(e){if(!e||e.id<=0){this.cmsToastrService.typeErrorSelected(),this.dataModelCorCurrencySelector=null,this.contractDataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=e,this.contractDataModel.linkCoreCurrencyId=e.id,this.tokenHelper.isAdminSite&&this.contractTypeSelected.allowPriceInquiryCalculate&&this.onActionPriceInquiryList()}onActionPriceInquiryList(){let e=new Ur;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={linkLocationId:this.dataModel.linkLocationId,linkCoreCurrencyId:this.contractDataModel.linkCoreCurrencyId,createdYaer:this.dataModel.createdYaer,linkPropertyTypeUsageId:this.dataModel.linkPropertyTypeUsageId,linkPropertyTypeLanduseId:this.dataModel.linkPropertyTypeLanduseId,linkContractTypeId:this.contractDataModel.linkEstateContractTypeId};var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ma,e).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}onActionButtonQuickListSearchTitle(){if(!this.dataModel||!this.dataModel.title||this.dataModel.title.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Fn,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{searchTitle:this.dataModel.title}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionButtonQuickListSearchCustomerTel(){if(!this.dataModel||!this.dataModel.aboutCustomerTel||this.dataModel.aboutCustomerTel.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Fn,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{searchCustomerTel:this.dataModel.aboutCustomerTel}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionButtonQuickListSearchCustomerMobile(){if(!this.dataModel||!this.dataModel.aboutCustomerMobile||this.dataModel.aboutCustomerMobile.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Fn,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{searchCustomerTel:this.dataModel.aboutCustomerMobile}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionButtonQuickListSearchCaseCode(){if(!this.dataModel||!this.dataModel.caseCode||this.dataModel.caseCode.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Fn,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{searchCaseCode:this.dataModel.caseCode}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}};Rd.\u0275fac=function(i){return new(i||Rd)(v(Kt),v(X),v(Ai),v(gi),v(Ii),v(_n),v(Ei),v(V),v(J),v(Vt),v(Ze),v(F),v(O),v(Ae),v(Z),v(L))},Rd.\u0275cmp=D({type:Rd,selectors:[["app-estate-property-add"]],viewQuery:function(i,t){if(i&1&&(te(kz,5),te(Mi,5)),i&2){let s;ie(s=ne())&&(t.formGroup=s.first),ie(s=ne())&&(t.childMap=s.first)}},standalone:!1,features:[oe],decls:106,vars:122,consts:[["vform","ngForm"],["stepper",""],["LinkMainImageId",""],["Description",""],["Title",""],["CaseCode",""],["CreatedYaer",""],["Partition",""],["Area",""],["Address",""],["LinkSiteId",""],["scoreEstateLocation","ngModel"],["scoreEstateBuild","ngModel"],["scoreEstatePrice","ngModel"],["AboutAgentMobile",""],["AboutAgentTel",""],["AboutCustomerMobile",""],["AboutCustomerTel",""],["actionCreateNewCmsUserFirstName",""],["actionCreateNewCmsUserLastName",""],["actionCreateNewCmsUserMobile",""],["DescriptionHidden",""],["AddressHidden",""],["contractDataModel_Description",""],[3,"Key","svg"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"optionChange","optionDisabled","optionAllowUnSelect","optionTypeView","optionSelectForce","optionPlaceholder"],[4,"ngIf"],["class","row mb-0",4,"ngIf"],[3,"optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder","optionTypeUsageId","optionChange",4,"ngIf"],["state","main",3,"label",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","blockquote",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","seo",3,"label",4,"ngIf"],["state","contract",3,"label"],[3,"optionChange","optionTypeView","optionDisabled","optionPlaceholder","optionSelectForce"],["class","container",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["class","example-container mat-elevation-z8",4,"ngIf"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","openDirectUploadView","isPopup","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"dataFileModelChange","dataFileModel","optionFileType","openDirectUploadView"],[3,"dataModelChange","dataModel"],[3,"dataModelChange","dataModel","dataImageModel"],["class","ntk-button-row",4,"ngIf"],["state","loaction",3,"label"],["id","main-map",3,"map$","zoom$","optonCenter"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[1,"row","mb-0"],["class","col-xl-2 col-lg-3 col-md-4 col-sm-12 pe-1",4,"ngFor","ngForOf"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder","optionTypeUsageId"],["class","d-flex mb-3",4,"ngIf"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","2000","rows","5","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataProfessional",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2",2,"position","inherit"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataProfessional","name","dataProfessional",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataProfessional",1,"custom-control-label"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["matSuffix","","class","pointer",3,"click",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["matSuffix","",1,"pointer",3,"click"],["for","dataModel.caseCode",1,"color-highlight"],["matInput","","type","text","name","dataModel.caseCode","type","text","minlength","3","maxlength","100","id","dataModel.caseCode",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["data-trigger-switch","dataModel.viewConfigHiddenInList",1,"font-600","font-14"],["type","checkbox","id","dataModel.viewConfigHiddenInList","name","dataModel.viewConfigHiddenInList",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.viewConfigHiddenInList",1,"custom-control-label"],["for","dataModel.createdYaer",1,"color-highlight"],["matInput","","name","dataModel.createdYaer","type","number","id","dataModel.createdYaer",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.partition",1,"color-highlight"],["matInput","","name","dataModel.partition","type","number","id","dataModel.partition",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.area",1,"color-highlight"],["matInput","","name","dataModel.area","type","text","currencyMask","","id","dataModel.area",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue","matStepperNext","",3,"disabled",4,"ngIf"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","text","name","dataModel.linkSiteId","minlength","3","maxlength","100","id","dataModel.linkSiteId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["data-trigger-switch","dataModel.viewContentHidden",1,"font-600","font-14"],["type","checkbox","id","dataModel.viewContentHidden","name","dataModel.viewContentHidden",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.viewContentHidden",1,"custom-control-label"],["data-trigger-switch","dataModel.siteAdminViewContentHidden",1,"font-600","font-14"],["type","checkbox","id","dataModel.siteAdminViewContentHidden","name","dataModel.siteAdminViewContentHidden",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.siteAdminViewContentHidden",1,"custom-control-label"],[1,"range-slider","bottom-15","range-slider-icons"],["for","dataModel.scoreEstateLocation",1,"color-highlight"],[1,"fa","fa-range-icon-1","fa-angle-down","color-theme"],[1,"fa","fa-range-icon-2","fa-angle-up","color-theme"],["type","range","min","0","max","10","id","dataModel.scoreEstateLocation","name","dataModel.scoreEstateLocation",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],["for","dataModel.scoreEstateBuild",1,"color-highlight"],["type","range","min","0","max","10","id","dataModel.scoreEstateBuild","name","dataModel.scoreEstateBuild",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],["for","dataModel.scoreEstatePrice",1,"color-highlight"],["type","range","min","0","max","10","id","dataModel.scoreEstatePrice","name","dataModel.scoreEstatePrice",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],[3,"optionChange","optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder"],["for","dataModel.aboutAgentMobile",1,"color-highlight"],["matInput","","type","text","name","dataModel.aboutAgentMobile","type","text","minlength","0","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.aboutAgentTel",1,"color-highlight"],["matInput","","type","text","name","dataModel.aboutAgentTel","type","text","minlength","0","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.aboutCustomerMobile",1,"color-highlight"],["matInput","","type","text","name","dataModel.aboutCustomerMobile","type","text","minlength","0","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.aboutCustomerTel",1,"color-highlight"],["matInput","","type","text","name","dataModel.aboutCustomerTel","type","text","minlength","0","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"blockquote"],["data-trigger-switch","dataModel.actionCreateNewCmsUser",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],["type","checkbox","id","dataModel.actionCreateNewCmsUser","name","dataModel.actionCreateNewCmsUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.actionCreateNewCmsUser",1,"custom-control-label"],["for","dataModel.actionCreateNewCmsUserFirstName",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserFirstName","type","text","minlength","3","maxlength","50","id","dataModel.actionCreateNewCmsUserFirstName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.actionCreateNewCmsUserLastName",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserLastName","type","text","minlength","3","maxlength","50","id","dataModel.actionCreateNewCmsUserLastName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.actionCreateNewCmsUserMobile",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserMobile","type","text","placeholder","0912","minlength","3","maxlength","20","id","dataModel.actionCreateNewCmsUserMobile",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["state","seo",3,"label"],[3,"optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[1,"example-headers-align"],[3,"expanded","opened",4,"ngFor","ngForOf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"opened","expanded"],[4,"ngFor","ngForOf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue",3,"click",4,"ngIf"],[3,"ngSwitch"],["class","ntk-full-width",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"ntk-full-width"],["aria-hidden","true",3,"ngClass"],[3,"modelChange","model","optionForceUseDefaultValue","optionMultipleChoice","optionDefaultValue","optionLabel"],[3,"modelChange","model","optionLabel"],[3,"modelChange","model"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","2000","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.addressHidden",1,"color-highlight"],["matInput","","name","dataModel.addressHidden","type","text","minlength","0","maxlength","2000","rows","5","id","dataModel.addressHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"container"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],["class","row",4,"ngIf"],["for","contractDataModel.description",1,"color-highlight"],["matInput","","name","contractDataModel. description","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"row"],[1,"col-6","input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","contractDataModel.salePrice",1,"color-highlight"],["matInput","","type","text","name","contractDataModel.salePrice","currencyMask","","placeholder","0","id","contractDataModel.salePrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],[1,"col-3"],["data-trigger-switch","contractDataModel.salePriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.salePriceAllowAgreement","name","contractDataModel.salePriceAllowAgreement",1,"ios-input",3,"ngModelChange","change","ngModel"],["for","contractDataModel.salePriceAllowAgreement",1,"custom-control-label"],["for","contractDataModel.depositPrice",1,"color-highlight"],["matInput","","type","text","name","contractDataModel.depositPrice","currencyMask","","placeholder","0","id","contractDataModel.depositPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.depositPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.depositPriceByAgreement","name","contractDataModel.depositPriceByAgreement",1,"ios-input",3,"ngModelChange","change","ngModel"],["for","contractDataModel.depositPriceByAgreement",1,"custom-control-label"],["for","contractDataModel.rentPrice",1,"color-highlight"],["matInput","","type","text","name","contractDataModel.rentPrice","currencyMask","","placeholder","0","id","contractDataModel.rentPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.rentPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.rentPriceByAgreement","name","contractDataModel.rentPriceByAgreement",1,"ios-input",3,"ngModelChange","change","ngModel"],["for","contractDataModel.rentPriceByAgreement",1,"custom-control-label"],["for","contractDataModel.periodPrice",1,"color-highlight"],["matInput","","type","text","name","contractDataModel.periodPrice","currencyMask","","placeholder","0","id","contractDataModel.periodPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.periodPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.periodPriceByAgreement","name","contractDataModel.periodPriceByAgreement",1,"ios-input",3,"ngModelChange","change","ngModel"],["for","contractDataModel.periodPriceByAgreement",1,"custom-control-label"],[1,"example-container","mat-elevation-z8"],["multiTemplateDataRows","",3,"dataSource"],["matColumnDef","LinkEstateContractTypeId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","SalePrice"],["matColumnDef","DepositPrice"],["matColumnDef","RentPrice"],["matColumnDef","PeriodPrice"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","descriptionDetail"],["colspan","6",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even",4,"matRowDef","matRowDefColumns"],[1,"Action"],["type","button","mat-icon-button","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["matTooltipPosition","before","aria-hidden","false",2,"color","red",3,"matTooltip"],["colspan","6"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],[1,"ntk-button-row"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],["type","submit","matStepperNext","","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=E();S(0,"app-cms-guide-notice",24),r(1,"div",25),S(2,"app-progress-spinner",26),r(3,"div",27)(4,"p",28),c(5),a(),r(6,"p"),c(7),g(8,"translate"),a(),S(9,"app-cms-form-result-message",29),r(10,"form",30,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(12,"mat-vertical-stepper",31,1),I("selectionChange",function(m){u(s);let k=R(13);return f(t.onStepClick(m,k))}),r(14,"mat-step",32),g(15,"translate"),r(16,"p"),c(17),g(18,"translate"),a(),r(19,"app-estate-property-type-usage-selector",33),g(20,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorSelectUsage(m))}),a(),C(21,Lz,3,3,"p",34)(22,Bz,2,1,"div",35)(23,Fz,2,7,"app-estate-property-type-landuse-selector",36),S(24,"br")(25,"br")(26,"br"),C(27,nY,26,25,"div",34),a(),C(28,pY,8,10,"mat-step",37),r(29,"mat-step",32),g(30,"translate"),C(31,mY,2,6,"app-estate-account-agency-selector",38)(32,uY,2,5,"app-estate-account-expert-selector",39)(33,fY,7,7,"div",40)(34,_Y,7,7,"div",40)(35,hY,8,8,"div",40)(36,SY,8,8,"div",40)(37,DY,14,8,"div",41)(38,VY,5,4,"div",42),a(),C(39,JY,12,11,"mat-step",43),r(40,"mat-step",32),g(41,"translate"),C(42,$Y,10,8,"div",40)(43,tK,10,8,"div",40)(44,iK,7,7,"div",42),a(),r(45,"mat-step",44),g(46,"translate"),r(47,"p"),c(48),g(49,"translate"),a(),r(50,"app-estate-contract-type-selector",45),g(51,"async"),I("optionChange",function(m){return u(s),f(t.onActionSelectorContractType(m))}),a(),C(52,mK,8,6,"div",46)(53,uK,3,3,"button",47),S(54,"hr"),r(55,"p"),c(56),g(57,"translate"),a(),C(58,NK,25,5,"div",48)(59,WK,5,4,"div",42),a(),r(60,"mat-step",49),g(61,"translate"),r(62,"p"),c(63),g(64,"translate"),a(),r(65,"div",50)(66,"a",51),g(67,"cmsthumbnail"),C(68,GK,2,4,"img",52),a()(),r(69,"div",53)(70,"label",54),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(71),g(72,"translate"),a(),r(73,"input",55,2),g(75,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(76,"cms-file-manager",56),I("itemSelected",function(m){return u(s),f(t.onActionFileSelectedLinkMainImageId(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),a()(),S(77,"hr"),C(78,UK,3,3,"p",34),r(79,"app-cms-files-selector",57),w("dataFileModelChange",function(m){return u(s),T(t.dataFileModelImgaes,m)||(t.dataFileModelImgaes=m),f(m)}),a(),S(80,"hr"),C(81,jK,6,5,"div",34),r(82,"h3"),c(83),g(84,"translate"),a(),r(85,"app-cms-360-image-list",58),w("dataModelChange",function(m){return u(s),T(t.dataModel.file360Views,m)||(t.dataModel.file360Views=m),f(m)}),a(),S(86,"br"),r(87,"h3"),c(88),g(89,"translate"),a(),r(90,"app-cms-360-tour-list",59),w("dataModelChange",function(m){return u(s),T(t.dataModel.file360Tour,m)||(t.dataModel.file360Tour=m),f(m)}),a(),C(91,qK,10,11,"div",60),a(),r(92,"mat-step",61),g(93,"translate"),r(94,"p"),c(95),g(96,"translate"),a(),r(97,"app-cms-map",62),I("map$",function(m){return u(s),f(t.receiveMap(m))})("zoom$",function(m){return u(s),f(t.receiveZoom(m))}),a(),r(98,"button",63),I("click",function(){return u(s),f(t.ActionCurrentPoint())}),c(99),g(100,"translate"),a(),C(101,zK,5,4,"div",42),a(),C(102,YK,2,0,"ng-template",64)(103,KK,2,0,"ng-template",65)(104,ZK,2,0,"ng-template",66)(105,JK,2,0,"ng-template",67),a()()()()}i&2&&(d("Key","estate.property.list.add")("svg","assets/media/svg/icons/General/Notifications1.svg"),o(2),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(8,82,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("formInfo",t.formInfo),o(5),d("label",x(h(15,84,"TITLE.REQUIRED_INFORMATION"))),o(3),M(h(18,86,"TITLE.Type_Usage")),o(2),d("optionDisabled",!(t.fieldsInfo.linkPropertyTypeUsageId!=null&&t.fieldsInfo.linkPropertyTypeUsageId.accessAddField))("optionAllowUnSelect",!1)("optionTypeView",2)("optionSelectForce",t.dataModel.linkPropertyTypeUsageId)("optionPlaceholder",h(20,88,"TITLE.Type_Usage")),o(2),d("ngIf",t.dataModel.linkPropertyTypeUsageId&&t.dataModel.linkPropertyTypeUsageId.length>0&&t.listTypeLanduse&&t.listTypeLanduse.length>0),o(),d("ngIf",t.dataModel.linkPropertyTypeUsageId&&t.dataModel.linkPropertyTypeUsageId.length>0&&t.listTypeLanduse&&t.listTypeLanduse.length>0),o(),d("ngIf",(!t.listTypeLanduse||t.listTypeLanduse.length===0)&&t.dataModel.linkPropertyTypeUsageId&&t.dataModel.linkPropertyTypeUsageId.length>0),o(4),d("ngIf",t.dataModel.linkPropertyTypeLanduseId&&t.dataModel.linkPropertyTypeLanduseId.length>0),o(),d("ngIf",t.tokenHelper.isAdminSite),o(),d("label",x(h(30,90,"TITLE.Personal_Information"))),o(2),d("ngIf",t.tokenHelper.isAdminSite),o(),d("ngIf",t.tokenHelper.isAdminSite),o(),d("ngIf",t.fieldsInfo.aboutAgentMobile==null?null:t.fieldsInfo.aboutAgentMobile.accessWatchField),o(),d("ngIf",t.fieldsInfo.aboutAgentTel==null?null:t.fieldsInfo.aboutAgentTel.accessWatchField),o(),d("ngIf",t.fieldsInfo.aboutCustomerMobile==null?null:t.fieldsInfo.aboutCustomerMobile.accessWatchField),o(),d("ngIf",t.fieldsInfo.aboutCustomerTel==null?null:t.fieldsInfo.aboutCustomerTel.accessWatchField),o(),d("ngIf",t.fieldsInfo.actionCreateNewCmsUser==null?null:t.fieldsInfo.actionCreateNewCmsUser.accessWatchField),o(),d("ngIf",t.formInfo.submitButtonEnabled),o(),d("ngIf",t.dataModel.propertyDetailGroups&&t.dataModel.propertyDetailGroups.length>0),o(),d("label",x(h(41,92,"TITLE.SECRET_INFORMATION"))),o(2),d("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),o(),d("ngIf",t.fieldsInfo.addressHidden==null?null:t.fieldsInfo.addressHidden.accessWatchField),o(),d("ngIf",t.formInfo.submitButtonEnabled),o(),d("label",x(h(46,94,"TITLE.Transaction"))),o(3),y(" ",h(49,96,"TITLE.Specify_the_type_of_transaction_for_this_property")," "),o(2),d("optionTypeView",2)("optionDisabled",!1)("optionPlaceholder",h(51,98,t.translate.get("TITLE.Type_Of_Transaction")))("optionSelectForce",t.contractDataModel.linkEstateContractTypeId),o(2),d("ngIf",t.contractTypeSelected&&t.contractTypeSelected.id.length>0),o(),d("ngIf",t.contractTypeSelected&&t.contractTypeSelected.id.length>0),o(3),y(" ",h(57,100,"TITLE.List_Of_Transaction_Details_Of_This_Property")," "),o(2),d("ngIf",!t.publicHelper.processService.process.inRunAll),o(),d("ngIf",t.formInfo.submitButtonEnabled),o(),d("label",x(h(61,102,"TITLE.ATTACH_FILES"))),o(3),M(h(64,104,"TITLE.CONTENT_ATTACH_FILES")),o(3),d("href",x(h(67,106,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(h(72,108,"TITLE.Original_Photo")),o(2),d("placeholder",x(h(75,110,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("openDirectUploadView",!0)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(2),d("ngIf",t.dataFileModelImgaes&&t.dataFileModelImgaes.size>0),o(),b("dataFileModel",t.dataFileModelImgaes),d("optionFileType",t.selectFileTypeMainImage)("openDirectUploadView",!0),o(2),d("ngIf",!t.hidden),o(2),M(h(84,112,"TITLE.image_360")),o(2),b("dataModel",t.dataModel.file360Views),o(3),M(h(89,114,"TITLE.virtual_tour")),o(2),b("dataModel",t.dataModel.file360Tour),d("dataImageModel",t.dataModel.file360Views),o(),d("ngIf",t.formInfo.submitButtonEnabled),o(),d("label",x(h(93,116,"TITLE.Location"))),o(3),y(" ",h(96,118,"TITLE.Click_on_the_map_to_specify_the_location")," "),o(2),d("optonCenter",t.mapOptonCenter),o(2),y(" ",h(100,120,"ACTION.MY_LOCATION")," "),o(2),d("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[ce,He,N,Io,Eo,Mo,ke,Y,Wt,Da,qt,q,we,de,De,Pe,me,Re,Je,Lo,Ao,Po,Ro,Do,ko,xe,tt,Ee,Q,nn,on,Mn,bn,tn,nt,rt,dt,at,ot,ct,lt,st,pt,mt,sr,Wi,rn,Tn,ui,ln,zn,Yn,Mi,U,jo,ge,Sn,lo,so,co,po,mo,uo,an,Gt,Go,_t,Ci,Pd,br,dn,cn,xn,ao,We,bo,B,Qn,Me],encapsulation:2});var Zd=Rd;var rm=vo(Wo());var XK=["vform"],$K=()=>["descriptionDetail"];function eZ(n,l){if(n&1){let e=E();r(0,"app-estate-property-type-landuse-selector",87),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorSelectLanduse(t))}),a()}if(n&2){let e=p();d("optionDisabled",!(e.fieldsInfo.linkPropertyTypeLanduseId!=null&&e.fieldsInfo.linkPropertyTypeLanduseId.accessEditField))("optionTypeView",2)("optionSelectForce",e.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",h(1,5,"TITLE.Property_Type"))("optionTypeUsageId",e.dataModel.linkPropertyTypeUsageId)}}function tZ(n,l){if(n&1){let e=E();r(0,"app-cms-enum-record-status-selector",88),w("modelChange",function(t){u(e);let s=p();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();b("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function iZ(n,l){n&1&&S(0,"i",91)}function nZ(n,l){n&1&&S(0,"i",92)}function oZ(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),o(2),M(h(4,2,"MESSAGE.required"))}}function rZ(n,l){if(n&1){let e=E();r(0,"div",45)(1,"label",89),c(2),a(),r(3,"input",90,4),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),a(),C(5,iZ,1,0,"i",48)(6,nZ,1,0,"i",49),r(7,"em"),c(8),a(),C(9,oZ,5,4,"mat-error",50),a()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle))("disabled",x(!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField))),b("ngModel",i.dataModel.title),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function aZ(n,l){n&1&&S(0,"i",91)}function lZ(n,l){n&1&&S(0,"i",92)}function sZ(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),y(" ",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle," "),o(2),M(h(4,2,"MESSAGE.required"))}}function dZ(n,l){if(n&1){let e=E();r(0,"div",45)(1,"label",93),c(2),a(),r(3,"input",94,5),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.caseCode,t)||(s.dataModel.caseCode=t),f(t)}),a(),C(5,aZ,1,0,"i",48)(6,lZ,1,0,"i",49),r(7,"em"),c(8),a(),C(9,sZ,5,4,"mat-error",50),a()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.caseCode==null?null:i.fieldsInfo.caseCode.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.caseCode==null?null:i.fieldsInfo.caseCode.fieldTitle))("disabled",x(!(i.fieldsInfo.caseCode!=null&&i.fieldsInfo.caseCode.accessEditField))),b("ngModel",i.dataModel.caseCode),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function cZ(n,l){n&1&&S(0,"i",91)}function pZ(n,l){n&1&&S(0,"i",92)}function mZ(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),y(" ",e.fieldsInfo.sharingKey==null?null:e.fieldsInfo.sharingKey.fieldTitle," "),o(2),M(h(4,2,"MESSAGE.required"))}}function uZ(n,l){if(n&1){let e=E();r(0,"div",45)(1,"label",95),c(2),a(),r(3,"input",96,6),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.sharingKey,t)||(s.dataModel.sharingKey=t),f(t)}),a(),C(5,cZ,1,0,"i",48)(6,pZ,1,0,"i",49)(7,mZ,5,4,"mat-error",50),a()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.sharingKey==null?null:i.fieldsInfo.sharingKey.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.sharingKey==null?null:i.fieldsInfo.sharingKey.fieldTitle))("disabled",x(!(i.fieldsInfo.sharingKey!=null&&i.fieldsInfo.sharingKey.accessEditField))),b("ngModel",i.dataModel.sharingKey),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function fZ(n,l){if(n&1){let e=E();r(0,"div",97)(1,"div",98)(2,"h5",99),c(3),a()(),r(4,"div",100)(5,"div",101)(6,"input",102),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.viewConfigHiddenInList,t)||(s.dataModel.viewConfigHiddenInList=t),f(t)}),a(),S(7,"label",103),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.viewConfigHiddenInList==null?null:e.fieldsInfo.viewConfigHiddenInList.fieldTitle," "),o(3),b("ngModel",e.dataModel.viewConfigHiddenInList)}}function _Z(n,l){if(n&1){let e=E();r(0,"div",45)(1,"label",104),c(2),a(),r(3,"input",105,7),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.createdYaer,t)||(s.dataModel.createdYaer=t),f(t)}),a()()}if(n&2){let e=p();o(2),y(" ",e.PropertyTypeSelected.titleCreatedYaer),o(),d("placeholder",x(e.fieldsInfo.createdYaer==null?null:e.fieldsInfo.createdYaer.fieldTitle))("disabled",x(!(e.fieldsInfo.createdYaer!=null&&e.fieldsInfo.createdYaer.accessEditField))),b("ngModel",e.dataModel.createdYaer)}}function gZ(n,l){if(n&1){let e=E();r(0,"div",45)(1,"label",106),c(2),a(),r(3,"input",107,8),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.partition,t)||(s.dataModel.partition=t),f(t)}),a()()}if(n&2){let e=p();o(2),y("",e.PropertyTypeSelected.titlePartition," "),o(),d("placeholder",x(e.PropertyTypeSelected.titlePartition))("disabled",x(!(e.fieldsInfo.partition!=null&&e.fieldsInfo.partition.accessEditField))),b("ngModel",e.dataModel.partition)}}function hZ(n,l){if(n&1){let e=E();r(0,"div",45)(1,"label",108),c(2),a(),r(3,"input",109,9),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.area,t)||(s.dataModel.area=t),f(t)}),a()()}if(n&2){let e=p();o(2),y("",e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle," "),o(),d("disabled",x(!(e.fieldsInfo.area!=null&&e.fieldsInfo.area.accessEditField)))("placeholder",x(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle)),b("ngModel",e.dataModel.area)}}function yZ(n,l){if(n&1){let e=E();r(0,"div",45)(1,"label",110),c(2),a(),r(3,"textarea",111,10),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.address,t)||(s.dataModel.address=t),f(t)}),c(5,"            "),a(),r(6,"em"),c(7),a()()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.address==null?null:i.fieldsInfo.address.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.address==null?null:i.fieldsInfo.address.fieldTitle)),b("ngModel",i.dataModel.address),d("disabled",!(i.fieldsInfo.address!=null&&i.fieldsInfo.address.accessEditField)),o(4),y("",e.value.length," / 500")}}function SZ(n,l){n&1&&S(0,"i",91)}function CZ(n,l){n&1&&S(0,"i",92)}function vZ(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2&&(o(3),M(h(4,1,"MESSAGE.required")))}function IZ(n,l){if(n&1){let e=E();r(0,"div",112)(1,"button",83),I("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),c(2),g(3,"translate"),a(),r(4,"button",113),c(5),g(6,"translate"),a(),r(7,"button",114),c(8),g(9,"translate"),a()()}if(n&2){let e=p(),i=R(10);o(2),y(" ",h(3,5,"ACTION.BACK_TO_PROPERTY_LIST")," "),o(2),d("disabled",!i.form.valid),o(),y(" ",h(6,7,"ACTION.NEXT")," "),o(2),d("disabled",!i.form.valid||!e.connectionStatus.internetConnection),o(),y(" ",h(9,9,"ACTION.SAVE")," ")}}function EZ(n,l){if(n&1){let e=E();r(0,"div",45)(1,"label",89),c(2),a(),r(3,"input",115,11),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.linkSiteId,t)||(s.dataModel.linkSiteId=t),f(t)}),a()()}if(n&2){let e=p(2);o(2),M(e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle))("disabled",x(!(e.fieldsInfo.linkSiteId!=null&&e.fieldsInfo.linkSiteId.accessEitField))),b("ngModel",e.dataModel.linkSiteId)}}function MZ(n,l){if(n&1){let e=E();r(0,"div",97)(1,"div",98)(2,"h5",116),c(3),a()(),r(4,"div",100)(5,"div",101)(6,"input",117),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.viewContentHidden,t)||(s.dataModel.viewContentHidden=t),f(t)}),a(),S(7,"label",118),a()()()}if(n&2){let e=p(2);o(3),y(" ",e.fieldsInfo.viewContentHidden==null?null:e.fieldsInfo.viewContentHidden.fieldTitle," "),o(3),b("ngModel",e.dataModel.viewContentHidden)}}function bZ(n,l){if(n&1){let e=E();r(0,"app-cms-enum-record-admin-status-selector",88),w("modelChange",function(t){u(e);let s=p(2);return T(s.dataModel.mainAdminRecordStatus,t)||(s.dataModel.mainAdminRecordStatus=t),f(t)}),a()}if(n&2){let e=p(2);b("model",e.dataModel.mainAdminRecordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function TZ(n,l){if(n&1){let e=E();r(0,"div")(1,"div",119)(2,"label",120),c(3),a(),S(4,"i",121)(5,"i",122),r(6,"input",123,12),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.scoreEstateLocation,t)||(s.dataModel.scoreEstateLocation=t),f(t)}),a()(),r(8,"div",119)(9,"label",124),c(10),a(),S(11,"i",121)(12,"i",122),r(13,"input",125,13),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.scoreEstateBuild,t)||(s.dataModel.scoreEstateBuild=t),f(t)}),a()(),r(15,"div",119)(16,"label",126),c(17),a(),S(18,"i",121)(19,"i",122),r(20,"input",127,14),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.scoreEstatePrice,t)||(s.dataModel.scoreEstatePrice=t),f(t)}),a()()()}if(n&2){let e=p(2);o(3),M(e.fieldsInfo.scoreEstateLocation==null?null:e.fieldsInfo.scoreEstateLocation.fieldTitle),o(3),d("ngClass",Ie("cms-range-score-",e.dataModel.scoreEstateLocation)),b("ngModel",e.dataModel.scoreEstateLocation),d("disabled",!(e.fieldsInfo.scoreEstateLocation!=null&&e.fieldsInfo.scoreEstateLocation.accessEditField)),o(4),M(e.fieldsInfo.scoreEstateBuild==null?null:e.fieldsInfo.scoreEstateBuild.fieldTitle),o(3),d("ngClass",Ie("cms-range-score-",e.dataModel.scoreEstateBuild)),b("ngModel",e.dataModel.scoreEstateBuild),d("disabled",!(e.fieldsInfo.scoreEstateBuild!=null&&e.fieldsInfo.scoreEstateBuild.accessEditField)),o(4),M(e.fieldsInfo.scoreEstatePrice==null?null:e.fieldsInfo.scoreEstatePrice.fieldTitle),o(3),d("ngClass",Ie("cms-range-score-",e.dataModel.scoreEstatePrice)),b("ngModel",e.dataModel.scoreEstatePrice),d("disabled",!(e.fieldsInfo.scoreEstatePrice!=null&&e.fieldsInfo.scoreEstatePrice.accessEditField))}}function wZ(n,l){if(n&1&&(r(0,"button",113),c(1),g(2,"translate"),a()),n&2){p(3);let e=R(10);d("disabled",!e.form.valid),o(),y(" ",h(2,2,"ACTION.NEXT")," ")}}function xZ(n,l){if(n&1&&(r(0,"div",112)(1,"button",128),c(2),g(3,"translate"),a(),C(4,wZ,3,4,"button",129),a()),n&2){let e=p(2);o(2),y(" ",h(3,2,"ACTION.BEFOR")," "),o(2),d("ngIf",e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0)}}function AZ(n,l){if(n&1&&(r(0,"mat-step",38),g(1,"translate"),C(2,EZ,5,6,"div",42)(3,MZ,8,2,"div",43)(4,bZ,1,5,"app-cms-enum-record-admin-status-selector",41)(5,TZ,22,15,"div",50)(6,xZ,5,4,"div",51),a()),n&2){let e=p();d("label",x(h(1,7,"TITLE.Admin_Config"))),o(2),d("ngIf",(e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.accessWatchField)&&e.tokenHelper.isAdminSite),o(),d("ngIf",e.fieldsInfo.viewContentHidden==null?null:e.fieldsInfo.viewContentHidden.accessWatchField),o(),d("ngIf",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.accessWatchField),o(),d("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),o(),d("ngIf",e.formInfo.submitButtonEnabled)}}function PZ(n,l){if(n&1){let e=E();r(0,"app-estate-account-agency-selector",130),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorEstateAgency(t))}),a()}if(n&2){let e=p();d("optionDisabled",!(e.fieldsInfo.linkEstateAgencyId!=null&&e.fieldsInfo.linkEstateAgencyId.accessEditField))("optionSelectForce",e.dataModel.linkEstateAgencyId)("optionSelectUserId",e.tokenInfo.access.userId)("optionPlaceholder",h(1,4,"TITLE.Property_agency"))}}function RZ(n,l){if(n&1){let e=E();r(0,"app-estate-account-expert-selector",44),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorEstateUser(t))}),a()}if(n&2){let e=p();d("optionDisabled",!(e.fieldsInfo.linkEstateExpertId!=null&&e.fieldsInfo.linkEstateExpertId.accessEditField))("optionSelectForce",e.dataModel.linkEstateExpertId)("optionPlaceholder",h(1,3,"TITLE.Property_personnel"))}}function kZ(n,l){if(n&1){let e=E();r(0,"div",45)(1,"label",131),c(2),a(),r(3,"input",132,15),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.aboutAgentMobile,t)||(s.dataModel.aboutAgentMobile=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.aboutAgentMobile==null?null:i.fieldsInfo.aboutAgentMobile.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.aboutAgentMobile==null?null:i.fieldsInfo.aboutAgentMobile.fieldTitle))("disabled",x(!(i.fieldsInfo.aboutAgentMobile!=null&&i.fieldsInfo.aboutAgentMobile.accessEditField))),b("ngModel",i.dataModel.aboutAgentMobile),o(3),y("",e.value.length," / 100")}}function DZ(n,l){if(n&1){let e=E();r(0,"div",45)(1,"label",133),c(2),a(),r(3,"input",134,16),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.aboutAgentTel,t)||(s.dataModel.aboutAgentTel=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.aboutAgentTel==null?null:i.fieldsInfo.aboutAgentTel.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.aboutAgentTel==null?null:i.fieldsInfo.aboutAgentTel.fieldTitle))("disabled",x(!(i.fieldsInfo.aboutAgentTel!=null&&i.fieldsInfo.aboutAgentTel.accessEditField))),b("ngModel",i.dataModel.aboutAgentTel),o(3),y("",e.value.length," / 100")}}function LZ(n,l){if(n&1){let e=E();r(0,"div",45)(1,"label",135),c(2),a(),r(3,"input",136,17),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.aboutCustomerMobile,t)||(s.dataModel.aboutCustomerMobile=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.aboutCustomerMobile==null?null:i.fieldsInfo.aboutCustomerMobile.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.aboutCustomerMobile==null?null:i.fieldsInfo.aboutCustomerMobile.fieldTitle))("disabled",x(!(i.fieldsInfo.aboutCustomerMobile!=null&&i.fieldsInfo.aboutCustomerMobile.accessEditField))),b("ngModel",i.dataModel.aboutCustomerMobile),o(3),y("",e.value.length," / 100")}}function VZ(n,l){if(n&1){let e=E();r(0,"div",45)(1,"label",137),c(2),a(),r(3,"input",138,18),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.aboutCustomerTel,t)||(s.dataModel.aboutCustomerTel=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=R(4),i=p();o(2),M(i.fieldsInfo.aboutCustomerTel==null?null:i.fieldsInfo.aboutCustomerTel.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.aboutCustomerTel==null?null:i.fieldsInfo.aboutCustomerTel.fieldTitle))("disabled",x(!(i.fieldsInfo.aboutCustomerTel!=null&&i.fieldsInfo.aboutCustomerTel.accessEditField))),b("ngModel",i.dataModel.aboutCustomerTel),o(3),y("",e.value.length," / 100")}}function BZ(n,l){if(n&1){let e=E();r(0,"app-cms-user-selector",44),g(1,"translate"),I("optionChange",function(t){u(e);let s=p(2);return f(s.onActionSelectorCmsUser(t))}),a()}if(n&2){let e=p(2);d("optionDisabled",!(e.fieldsInfo.linkCmsUserId!=null&&e.fieldsInfo.linkCmsUserId.accessAddField))("optionSelectForce",e.dataModel.linkCmsUserId)("optionPlaceholder",h(1,3,"TITLE.user"))}}function FZ(n,l){n&1&&S(0,"i",91)}function OZ(n,l){n&1&&S(0,"i",92)}function NZ(n,l){n&1&&(r(0,"mat-error")(1,"strong"),c(2),g(3,"translate"),a()()),n&2&&(o(2),M(h(3,1,"MESSAGE.required")))}function HZ(n,l){if(n&1){let e=E();r(0,"div",45)(1,"label",144),c(2),g(3,"translate"),a(),r(4,"input",145,19),g(6,"translate"),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.actionCreateNewCmsUserFirstName,t)||(s.dataModel.actionCreateNewCmsUserFirstName=t),f(t)}),a(),C(7,FZ,1,0,"i",48)(8,OZ,1,0,"i",49),r(9,"em"),c(10),a(),C(11,NZ,4,3,"mat-error",50),a()}if(n&2){let e=R(5),i=p(2);o(2),M(h(3,8,"TITLE.FIRST_NAME")),o(2),d("placeholder",x(h(6,10,"TITLE.FIRST_NAME"))),b("ngModel",i.dataModel.actionCreateNewCmsUserFirstName),o(3),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 50"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function WZ(n,l){n&1&&S(0,"i",91)}function GZ(n,l){n&1&&S(0,"i",92)}function UZ(n,l){n&1&&(r(0,"mat-error")(1,"strong"),c(2),g(3,"translate"),a()()),n&2&&(o(2),M(h(3,1,"MESSAGE.required")))}function jZ(n,l){if(n&1){let e=E();r(0,"div",45)(1,"label",146),c(2),g(3,"translate"),a(),r(4,"input",147,20),g(6,"translate"),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.actionCreateNewCmsUserLastName,t)||(s.dataModel.actionCreateNewCmsUserLastName=t),f(t)}),a(),C(7,WZ,1,0,"i",48)(8,GZ,1,0,"i",49),r(9,"em"),c(10),a(),C(11,UZ,4,3,"mat-error",50),a()}if(n&2){let e=R(5),i=p(2);o(2),M(h(3,8,"TITLE.LAST_NAME")),o(2),d("placeholder",x(h(6,10,"TITLE.LAST_NAME"))),b("ngModel",i.dataModel.actionCreateNewCmsUserLastName),o(3),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 50"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function qZ(n,l){n&1&&S(0,"i",91)}function QZ(n,l){n&1&&S(0,"i",92)}function zZ(n,l){n&1&&(r(0,"mat-error")(1,"strong"),c(2),g(3,"translate"),a()()),n&2&&(o(2),M(h(3,1,"MESSAGE.required")))}function YZ(n,l){if(n&1){let e=E();r(0,"div",45)(1,"label",148),c(2),g(3,"translate"),a(),r(4,"input",149,21),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.dataModel.actionCreateNewCmsUserMobile,t)||(s.dataModel.actionCreateNewCmsUserMobile=t),f(t)}),a(),C(6,qZ,1,0,"i",48)(7,QZ,1,0,"i",49),r(8,"em"),c(9),a(),C(10,zZ,4,3,"mat-error",50),a()}if(n&2){let e=R(5),i=p(2);o(2),M(h(3,6,"TITLE.MOBILE_NUMBER")),o(2),b("ngModel",i.dataModel.actionCreateNewCmsUserMobile),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 20"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function KZ(n,l){if(n&1){let e=E();r(0,"div",139)(1,"div",97)(2,"div",98)(3,"h5",140),c(4),g(5,"translate"),a()(),r(6,"div",141)(7,"div",101)(8,"input",142),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.actionCreateNewCmsUser,t)||(s.dataModel.actionCreateNewCmsUser=t),f(t)}),a(),S(9,"label",143),a()()(),C(10,BZ,2,5,"app-cms-user-selector",54)(11,HZ,12,12,"div",42)(12,jZ,12,12,"div",42)(13,YZ,11,8,"div",42),a()}if(n&2){let e=p();o(4),y(" ",h(5,6,"TITLE.CREATE_NEW_USER")," "),o(4),b("ngModel",e.dataModel.actionCreateNewCmsUser),o(2),d("ngIf",!e.dataModel.actionCreateNewCmsUser),o(),d("ngIf",e.dataModel.actionCreateNewCmsUser),o(),d("ngIf",e.dataModel.actionCreateNewCmsUser),o(),d("ngIf",e.dataModel.actionCreateNewCmsUser)}}function ZZ(n,l){if(n&1&&(r(0,"button",113),c(1),g(2,"translate"),a()),n&2){p(2);let e=R(10);d("disabled",!e.form.valid),o(),y(" ",h(2,2,"ACTION.NEXT")," ")}}function JZ(n,l){if(n&1&&(r(0,"div",150)(1,"button",128),c(2),g(3,"translate"),a(),C(4,ZZ,3,4,"button",129),a()),n&2){let e=p();o(2),y(" ",h(3,2,"ACTION.BEFOR")," "),o(2),d("ngIf",e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0)}}function XZ(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),y(" ",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.fieldTitle," "),o(2),M(h(4,2,"MESSAGE.required"))}}function $Z(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),y(" ",e.fieldsInfo.addressHidden==null?null:e.fieldsInfo.addressHidden.fieldTitle," "),o(2),M(h(4,2,"MESSAGE.required"))}}function eJ(n,l){if(n&1&&(r(0,"div",150)(1,"button",128),c(2),g(3,"translate"),a(),r(4,"button",113),c(5),g(6,"translate"),a()()),n&2){p(2);let e=R(10);o(2),y(" ",h(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",h(6,5,"ACTION.NEXT")," ")}}function tJ(n,l){if(n&1){let e=E();r(0,"mat-step",38),g(1,"translate"),r(2,"div",45)(3,"label",151),c(4),g(5,"translate"),a(),r(6,"textarea",152,22),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),c(8,"            "),a(),r(9,"em"),c(10),a(),C(11,XZ,5,4,"mat-error",50),a(),r(12,"div",45)(13,"label",153),c(14),g(15,"translate"),a(),r(16,"textarea",154,23),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.addressHidden,t)||(s.dataModel.addressHidden=t),f(t)}),c(18,"            "),a(),r(19,"em"),c(20),a(),C(21,$Z,5,4,"mat-error",50),a(),C(22,eJ,7,7,"div",56),a()}if(n&2){let e=R(7),i=R(17),t=p();d("label",x(h(1,15,"TITLE.SECRET_INFORMATION"))),o(4),y("",h(5,17,"TITLE.Description_Hidden")," "),o(2),d("placeholder",x(t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",t.dataModel.descriptionHidden),o(4),y("",e.value.length," / 2000"),o(),d("ngIf",e.errors==null?null:e.errors.required),o(3),y(" ",h(15,19,"TITLE.Address_Hidden")," "),o(2),d("placeholder",x(t.fieldsInfo.addressHidden==null?null:t.fieldsInfo.addressHidden.fieldTitle)),b("ngModel",t.dataModel.addressHidden),o(4),y("",i.value.length," / 2000"),o(),d("ngIf",i.errors==null?null:i.errors.required),o(),d("ngIf",t.formInfo.submitButtonEnabled)}}function iJ(n,l){if(n&1){let e=E();r(0,"app-estate-property-company-selector",158),g(1,"translate"),I("optionChange",function(t){u(e);let s=p(2);return f(s.onActionSelectorCompany(t))}),a()}if(n&2){let e=p(2);d("optionSelectForce",e.dataModel.linkPropertyCompanyId)("optionPlaceholder",h(1,2,"TITLE.Company"))}}function nJ(n,l){if(n&1){let e=E();r(0,"app-estate-property-project-selector",158),g(1,"translate"),I("optionChange",function(t){u(e);let s=p(2);return f(s.onActionSelectorProject(t))}),a()}if(n&2){let e=p(2);d("optionSelectForce",e.dataModel.linkPropertyProjectId)("optionPlaceholder",h(1,2,"TITLE.Project"))}}function oJ(n,l){if(n&1){let e=E();r(0,"div",166),S(1,"i",167),c(2,"\xA0\xA0 "),r(3,"app-input-string",168),w("modelChange",function(t){u(e);let s=p().$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=p().$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),Nt(Ie("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionRequired",e.required)("optionLabel",e.title)}}function rJ(n,l){if(n&1){let e=E();r(0,"div",166),S(1,"i",167),c(2,"\xA0\xA0 "),r(3,"app-input-int",169),w("modelChange",function(t){u(e);let s=p().$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=p().$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),Nt(Ie("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionRequired",e.required)("optionLabel",e.title)}}function aJ(n,l){if(n&1){let e=E();r(0,"div",166),S(1,"i",167),c(2,"\xA0\xA0 "),r(3,"app-input-boolean",170),w("modelChange",function(t){u(e);let s=p().$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),c(4),a()()}if(n&2){let e=p().$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),b("model",i.propertyDetails[e.id]),o(),y("",e.title," ")}}function lJ(n,l){if(n&1){let e=E();r(0,"div",166),S(1,"i",167),c(2,"\xA0\xA0 "),r(3,"app-input-float",169),w("modelChange",function(t){u(e);let s=p().$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=p().$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),Nt(Ie("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionRequired",e.required)("optionLabel",e.title)}}function sJ(n,l){if(n&1){let e=E();r(0,"div",166),S(1,"i",167),c(2,"\xA0\xA0 "),r(3,"label"),c(4),a(),r(5,"app-input-date",171),w("modelChange",function(t){u(e);let s=p().$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=p().$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),Nt(Ie("color:'",e.iconColor,"';")),o(),M(e.title),o(),b("model",i.propertyDetails[e.id]),d("optionRequired",e.required)}}function dJ(n,l){if(n&1){let e=E();r(0,"div",166),S(1,"i",167),c(2,"\xA0\xA0 "),r(3,"app-input-textarea",169),w("modelChange",function(t){u(e);let s=p().$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=p().$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),Nt(Ie("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionRequired",e.required)("optionLabel",e.title)}}function cJ(n,l){if(n&1){let e=E();r(0,"div",166),S(1,"i",167),c(2,"\xA0\xA0 "),r(3,"app-input-string",168),w("modelChange",function(t){u(e);let s=p().$implicit,_=p(3);return T(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=p().$implicit,i=p(3);o(),ve("color",e.iconColor),d("ngClass",e.iconFont),o(2),Nt(Ie("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionRequired",e.required)("optionLabel",e.title)}}function pJ(n,l){if(n&1&&(A(0)(1,163),C(2,oJ,4,12,"div",164)(3,rJ,4,9,"div",164)(4,aJ,5,5,"div",164)(5,lJ,4,9,"div",164)(6,sJ,6,9,"div",164)(7,dJ,4,9,"div",164)(8,cJ,4,12,"div",165),P()()),n&2){let e=l.$implicit,i=p(3);o(),d("ngSwitch",e.inputDataType),o(),d("ngSwitchCase",i.enumInputDataType.String),o(),d("ngSwitchCase",i.enumInputDataType.Int),o(),d("ngSwitchCase",i.enumInputDataType.Boolean),o(),d("ngSwitchCase",i.enumInputDataType.Float),o(),d("ngSwitchCase",i.enumInputDataType.Date),o(),d("ngSwitchCase",i.enumInputDataType.TextArea)}}function mJ(n,l){if(n&1){let e=E();r(0,"button",172),I("click",function(){u(e);let t=p(3);return f(t.prevStep())}),c(1),g(2,"translate"),a()}n&2&&(o(),y(" ",h(2,1,"ACTION.PREVIOUS")," "))}function uJ(n,l){if(n&1){let e=E();r(0,"button",173),I("click",function(){u(e);let t=p(3);return f(t.nextStep())}),c(1),g(2,"translate"),a()}n&2&&(o(),y(" ",h(2,1,"ACTION.NEXT")," "))}function fJ(n,l){if(n&1){let e=E();r(0,"button",173),I("click",function(){u(e);let t=p(3);return f(t.nextStep())}),c(1),g(2,"translate"),a()}n&2&&(o(),y(" ",h(2,1,"ACTION.END")," "))}function _J(n,l){if(n&1){let e=E();r(0,"mat-expansion-panel",159),I("opened",function(){let t=u(e).index,s=p(2);return f(s.setStep(t))}),r(1,"mat-expansion-panel-header")(2,"mat-panel-title"),c(3),a(),r(4,"mat-panel-description"),c(5),r(6,"mat-icon"),c(7),a()()(),C(8,pJ,9,7,"ng-container",160),r(9,"mat-action-row"),C(10,mJ,3,3,"button",161)(11,uJ,3,3,"button",162)(12,fJ,3,3,"button",162),a()()}if(n&2){let e=l.$implicit,i=l.index,t=p(2);d("expanded",t.step===i),o(3),y(" ",e.title," "),o(2),y(" ",e.description," "),o(2),M(e.iconFont),o(),d("ngForOf",e.propertyDetails),o(2),d("ngIf",i>0),o(),d("ngIf",i+1<t.dataModel.propertyDetailGroups.length),o(),d("ngIf",i+1===t.dataModel.propertyDetailGroups.length)}}function gJ(n,l){if(n&1&&(r(0,"div",150)(1,"button",128),c(2),g(3,"translate"),a(),r(4,"button",113),c(5),g(6,"translate"),a()()),n&2){p(2);let e=R(10);o(2),y(" ",h(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",h(6,5,"ACTION.NEXT")," ")}}function hJ(n,l){if(n&1&&(r(0,"mat-step",58),g(1,"translate"),r(2,"p"),c(3),g(4,"translate"),a(),C(5,iJ,2,4,"app-estate-property-company-selector",155)(6,nJ,2,4,"app-estate-property-project-selector",155),S(7,"hr"),r(8,"mat-accordion",156),C(9,_J,13,8,"mat-expansion-panel",157),S(10,"br"),a(),C(11,gJ,7,7,"div",56),a()),n&2){let e=p();d("label",x(h(1,7,"TITLE.Details"))),o(3),y(" ",h(4,9,"TITLE.Property_details_according_to_the_type_of_property")," "),o(2),d("ngIf",e.tokenHelper.isAdminSite),o(),d("ngIf",e.tokenHelper.isAdminSite),o(3),d("ngForOf",e.dataModel.propertyDetailGroups),o(2),d("ngIf",e.formInfo.submitButtonEnabled)}}function yJ(n,l){if(n&1){let e=E();r(0,"div",97)(1,"div",98)(2,"h5",174),c(3),a()(),r(4,"div",100)(5,"div",101)(6,"input",175),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.isSoldIt,t)||(s.dataModel.isSoldIt=t),f(t)}),a(),S(7,"label",176),a()()()}if(n&2){let e=p();o(3),y(" ",e.fieldsInfo.isSoldIt==null?null:e.fieldsInfo.isSoldIt.fieldTitle," "),o(3),b("ngModel",e.dataModel.isSoldIt)}}function SJ(n,l){if(n&1){let e=E();r(0,"div",177)(1,"label",178),c(2),a(),r(3,"input",179,4),w("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.reviewDataAfterSoldIt,t)||(s.dataModel.reviewDataAfterSoldIt=t),f(t)}),a(),S(5,"mat-datepicker-toggle",180)(6,"mat-datepicker",181,24),a()}if(n&2){let e=R(7),i=p();o(2),M(i.fieldsInfo.reviewDataAfterSoldIt==null?null:i.fieldsInfo.reviewDataAfterSoldIt.fieldTitle),o(),d("matDatepicker",e),b("ngModel",i.dataModel.reviewDataAfterSoldIt),o(2),d("for",e)}}function CJ(n,l){if(n&1){let e=E();r(0,"div",97)(1,"div",98)(2,"h5",192),c(3),g(4,"translate"),a()(),r(5,"div",141)(6,"div",101)(7,"input",193),w("ngModelChange",function(t){u(e);let s=p(4);return T(s.contractDataModel.salePriceByAgreement,t)||(s.contractDataModel.salePriceByAgreement=t),f(t)}),I("change",function(){u(e);let t=p(4);return f(t.onActionClickSalePriceAllowAgreement())}),a(),S(8,"label",194),a()()()}if(n&2){let e=p(4);o(3),y(" ",h(4,2,"TITLE.Agreement")," "),o(4),b("ngModel",e.contractDataModel.salePriceByAgreement)}}function vJ(n,l){if(n&1){let e=E();r(0,"div",187)(1,"div",188)(2,"label",189),c(3,"contractTypeSelected.titleSalePriceML"),a(),r(4,"input",190),w("ngModelChange",function(t){u(e);let s=p(3);return T(s.contractDataModel.salePrice,t)||(s.contractDataModel.salePrice=t),f(t)}),a()(),r(5,"div",191),C(6,CJ,9,4,"div",43),a()()}if(n&2){let e=p(3);o(4),b("ngModel",e.contractDataModel.salePrice),d("disabled",e.contractDataModel.salePriceByAgreement),o(2),d("ngIf",e.contractTypeSelected.salePriceAllowAgreement)}}function IJ(n,l){if(n&1){let e=E();r(0,"div",97)(1,"div",98)(2,"h5",197),c(3),g(4,"translate"),a()(),r(5,"div",141)(6,"div",101)(7,"input",198),w("ngModelChange",function(t){u(e);let s=p(4);return T(s.contractDataModel.depositPriceByAgreement,t)||(s.contractDataModel.depositPriceByAgreement=t),f(t)}),I("change",function(){u(e);let t=p(4);return f(t.onActionClickDepositPriceByAgreement())}),a(),S(8,"label",199),a()()()}if(n&2){let e=p(4);o(3),y(" ",h(4,2,"TITLE.Agreement")," "),o(4),b("ngModel",e.contractDataModel.depositPriceByAgreement)}}function EJ(n,l){if(n&1){let e=E();r(0,"div",187)(1,"div",188)(2,"label",195),c(3),a(),r(4,"input",196),w("ngModelChange",function(t){u(e);let s=p(3);return T(s.contractDataModel.depositPrice,t)||(s.contractDataModel.depositPrice=t),f(t)}),a()(),r(5,"div",191),C(6,IJ,9,4,"div",43),a()()}if(n&2){let e=p(3);o(3),M(e.contractTypeSelected.titleDepositPriceML),o(),b("ngModel",e.contractDataModel.depositPrice),d("disabled",e.contractDataModel.depositPriceByAgreement),o(2),d("ngIf",e.contractTypeSelected.depositPriceAllowAgreement)}}function MJ(n,l){if(n&1){let e=E();r(0,"div",97)(1,"div",98)(2,"h5",202),c(3),g(4,"translate"),a()(),r(5,"div",141)(6,"div",101)(7,"input",203),w("ngModelChange",function(t){u(e);let s=p(4);return T(s.contractDataModel.rentPriceByAgreement,t)||(s.contractDataModel.rentPriceByAgreement=t),f(t)}),I("change",function(){u(e);let t=p(4);return f(t.onActionClickRentPriceAllowAgreement())}),a(),S(8,"label",204),a()()()}if(n&2){let e=p(4);o(3),y(" ",h(4,2,"TITLE.Agreement")," "),o(4),b("ngModel",e.contractDataModel.rentPriceByAgreement)}}function bJ(n,l){if(n&1){let e=E();r(0,"div",187)(1,"div",188)(2,"label",200),c(3,"contractTypeSelected.titleRentPriceML"),a(),r(4,"input",201),w("ngModelChange",function(t){u(e);let s=p(3);return T(s.contractDataModel.rentPrice,t)||(s.contractDataModel.rentPrice=t),f(t)}),a()(),r(5,"div",191),C(6,MJ,9,4,"div",43),a()()}if(n&2){let e=p(3);o(4),b("ngModel",e.contractDataModel.rentPrice),d("disabled",e.contractDataModel.rentPriceByAgreement),o(2),d("ngIf",e.contractTypeSelected.rentPriceAllowAgreement)}}function TJ(n,l){if(n&1){let e=E();r(0,"div",97)(1,"div",98)(2,"h5",207),c(3),g(4,"translate"),a()(),r(5,"div",141)(6,"div",101)(7,"input",208),w("ngModelChange",function(t){u(e);let s=p(4);return T(s.contractDataModel.periodPriceByAgreement,t)||(s.contractDataModel.periodPriceByAgreement=t),f(t)}),I("change",function(){u(e);let t=p(4);return f(t.onActionClickPeriodPriceAllowAgreement())}),a(),S(8,"label",209),a()()()}if(n&2){let e=p(4);o(3),y(" ",h(4,2,"TITLE.Agreement")," "),o(4),b("ngModel",e.contractDataModel.periodPriceByAgreement)}}function wJ(n,l){if(n&1){let e=E();r(0,"div",187)(1,"div",188)(2,"label",205),c(3,"contractTypeSelected.titlePeriodPriceML"),a(),r(4,"input",206),w("ngModelChange",function(t){u(e);let s=p(3);return T(s.contractDataModel.periodPrice,t)||(s.contractDataModel.periodPrice=t),f(t)}),a()(),r(5,"div",191),C(6,TJ,9,4,"div",43),a()()}if(n&2){let e=p(3);o(4),b("ngModel",e.contractDataModel.periodPrice),d("disabled",e.contractDataModel.periodPriceByAgreement),o(2),d("ngIf",e.contractTypeSelected.hasPeriodPrice&&e.contractTypeSelected.periodPriceAllowAgreement)}}function xJ(n,l){if(n&1){let e=E();r(0,"div"),C(1,vJ,7,3,"div",184)(2,EJ,7,4,"div",184)(3,bJ,7,3,"div",184)(4,wJ,7,3,"div",184),S(5,"hr"),r(6,"div",45)(7,"label",185),c(8),a(),r(9,"textarea",186,25),w("ngModelChange",function(t){u(e);let s=p(2);return T(s.contractDataModel.description,t)||(s.contractDataModel.description=t),f(t)}),c(11,"                "),a(),r(12,"em"),c(13),a()()()}if(n&2){let e=R(10),i=p(2);o(),d("ngIf",i.contractTypeSelected.hasSalePrice),o(),d("ngIf",i.contractTypeSelected.hasDepositPrice),o(),d("ngIf",i.contractTypeSelected.hasRentPrice),o(),d("ngIf",i.contractTypeSelected.hasPeriodPrice),o(4),M(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),b("ngModel",i.contractDataModel.description),o(4),y("",e.value.length," / 500")}}function AJ(n,l){if(n&1){let e=E();r(0,"button",75),I("click",function(){u(e);let t=p(2);return f(t.onActionOptionAddToList())}),c(1),g(2,"translate"),a()}n&2&&(o(),y(" ",h(2,1,"ACTION.Add_To_List")," ... "))}function PJ(n,l){if(n&1){let e=E();r(0,"div",182),S(1,"br")(2,"br"),r(3,"app-cms-currency-selector",183),g(4,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectCurrency(t))}),a(),C(5,xJ,14,9,"div",50),S(6,"br")(7,"br"),C(8,AJ,3,3,"button",84),a()}if(n&2){let e=p();o(3),d("optionSelectFirstItem",e.currencyOptionSelectFirstItem)("optionSelectForce",e.contractDataModel.linkCoreCurrencyId)("optionPlaceholder",h(4,5,"TITLE.Specify_the_transaction_currency")),o(2),d("ngIf",e.contractDataModel.linkCoreCurrencyId>0),o(3),d("ngIf",e.contractTypeSelected&&e.contractTypeSelected.id.length>0)}}function RJ(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.Contract")," "))}function kJ(n,l){if(n&1&&(r(0,"mat-cell"),c(1),g(2,"cmstitle"),a()),n&2){let e=l.$implicit,i=p(2);o(),y(" ",di(2,1,e.linkEstateContractTypeId,i.dataModelEstateContractTypeResult.listItems)," ")}}function DJ(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.SalePrice")," "))}function LJ(n,l){if(n&1&&(A(0),c(1),g(2,"number"),S(3,"br"),c(4),P()),n&2){let e=p().$implicit;o(),y(" ",h(2,3,e.salePrice)," "),o(3),ee("( ",e.currencyTitle," ",e.currencySymbol," ) ")}}function VJ(n,l){n&1&&(A(0),c(1),g(2,"translate"),P()),n&2&&(o(),y(" ",h(2,1,"TITLE.PriceByAgreement")," "))}function BJ(n,l){if(n&1&&(A(0),c(1),g(2,"translate"),g(3,"number"),P()),n&2){let e=p().$implicit,i=p(2);o(),ee(" (",h(2,2,"TITLE.SQUARE_METERS")," :",h(3,4,e.salePrice/i.dataModel.area),") ")}}function FJ(n,l){if(n&1&&(r(0,"mat-cell"),C(1,LJ,5,5,"ng-container",50)(2,VJ,3,3,"ng-container",50)(3,BJ,4,6,"ng-container",50),a()),n&2){let e=l.$implicit,i=p(2);o(),d("ngIf",e.salePrice>0),o(),d("ngIf",e.salePriceByAgreement),o(),d("ngIf",e.salePrice>0&&i.dataModel.area>0)}}function OJ(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.DepositPrice")," "))}function NJ(n,l){if(n&1&&(A(0),c(1),g(2,"number"),S(3,"br"),c(4),P()),n&2){let e=p().$implicit;o(),y(" ",h(2,3,e.depositPrice)),o(3),ee(" ( ",e.currencyTitle," ",e.currencySymbol," ) ")}}function HJ(n,l){n&1&&(A(0),c(1),g(2,"translate"),P()),n&2&&(o(),y(" ",h(2,1,"TITLE.PriceByAgreement")," "))}function WJ(n,l){if(n&1&&(r(0,"mat-cell"),C(1,NJ,5,5,"ng-container",50)(2,HJ,3,3,"ng-container",50),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.depositPrice>0),o(),d("ngIf",e.depositPriceByAgreement)}}function GJ(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.RentPrice")," "))}function UJ(n,l){if(n&1&&(A(0),c(1),g(2,"number"),S(3,"br"),c(4),P()),n&2){let e=p().$implicit;o(),y(" ",h(2,3,e.rentPrice)),o(3),ee(" ( ",e.currencyTitle," ",e.currencySymbol," ) ")}}function jJ(n,l){n&1&&(A(0),c(1),g(2,"translate"),P()),n&2&&(o(),y(" ",h(2,1,"TITLE.PriceByAgreement")," "))}function qJ(n,l){if(n&1&&(r(0,"mat-cell"),C(1,UJ,5,5,"ng-container",50)(2,jJ,3,3,"ng-container",50),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.rentPrice>0),o(),d("ngIf",e.rentPriceByAgreement)}}function QJ(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.PeriodPrice")," "))}function zJ(n,l){if(n&1&&(A(0),c(1),g(2,"number"),S(3,"br"),c(4),P()),n&2){let e=p().$implicit;o(),y(" ",h(2,3,e.periodPrice)," "),o(3),ee(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function YJ(n,l){n&1&&(A(0),c(1),g(2,"translate"),P()),n&2&&(o(),y(" ",h(2,1,"TITLE.PriceByAgreement")," "))}function KJ(n,l){if(n&1&&(r(0,"mat-cell"),C(1,zJ,5,5,"ng-container",50)(2,YJ,3,3,"ng-container",50),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.periodPrice>0),o(),d("ngIf",e.periodPriceByAgreement)}}function ZJ(n,l){n&1&&(r(0,"mat-header-cell"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.OPTION")," "))}function JJ(n,l){if(n&1){let e=E();r(0,"mat-cell",225)(1,"button",226),I("click",function(){let t=u(e).index,s=p(2);return f(s.onActionOptionRemoveFromList(t))}),r(2,"small")(3,"mat-icon",227),g(4,"translate"),c(5,"delete"),a()()()()}n&2&&(o(3),d("matTooltip",x(h(4,2,"ACTION.DELETE"))))}function XJ(n,l){if(n&1&&(A(0),c(1),P()),n&2){let e=p().$implicit;o(),y(" ",e.description," ")}}function $J(n,l){if(n&1&&(r(0,"mat-cell",228),c(1),g(2,"translate"),C(3,XJ,2,1,"ng-container",50),a()),n&2){let e=l.$implicit;o(),y(" ",h(2,2,"TITLE.DESCRIPTION")," : "),o(2),d("ngIf",e.description)}}function eX(n,l){n&1&&S(0,"mat-header-row")}function tX(n,l){if(n&1&&S(0,"mat-row"),n&2){let e=l.dataIndex;K("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}function iX(n,l){if(n&1&&S(0,"mat-row"),n&2){let e=l.dataIndex;K("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}function nX(n,l){if(n&1&&(r(0,"div",210)(1,"mat-table",211),A(2,212),C(3,RJ,3,3,"mat-header-cell",213)(4,kJ,3,4,"mat-cell",214),P(),A(5,215),C(6,DJ,3,3,"mat-header-cell",213)(7,FJ,4,3,"mat-cell",214),P(),A(8,216),C(9,OJ,3,3,"mat-header-cell",213)(10,WJ,3,2,"mat-cell",214),P(),A(11,217),C(12,GJ,3,3,"mat-header-cell",213)(13,qJ,3,2,"mat-cell",214),P(),A(14,218),C(15,QJ,3,3,"mat-header-cell",213)(16,KJ,3,2,"mat-cell",214),P(),A(17,219),C(18,ZJ,3,3,"mat-header-cell",213)(19,JJ,6,4,"mat-cell",220),P(),A(20,221),C(21,$J,4,4,"mat-cell",222),P(),C(22,eX,1,0,"mat-header-row",223)(23,tX,1,4,"mat-row",224)(24,iX,1,4,"mat-row",224),a()()),n&2){let e=p();o(),d("dataSource",e.optionTabledataSource),o(21),d("matHeaderRowDef",e.optionTabledisplayedColumns),o(),d("matRowDefColumns",e.optionTabledisplayedColumns),o(),d("matRowDefColumns",se(4,$K))}}function oX(n,l){if(n&1&&(r(0,"button",113),c(1),g(2,"translate"),a()),n&2){p(2);let e=R(10);d("disabled",!e.form.valid),o(),y(" ",h(2,2,"ACTION.NEXT")," ")}}function rX(n,l){if(n&1&&(r(0,"div",150)(1,"button",128),c(2),g(3,"translate"),a(),C(4,oX,3,4,"button",129),a()),n&2){let e=p();o(2),y(" ",h(3,2,"ACTION.BEFOR")," "),o(2),d("ngIf",e.dataModel.contracts&&e.dataModel.contracts.length>0)}}function aX(n,l){if(n&1&&(S(0,"img",229),g(1,"cmsthumbnail")),n&2){let e=p();d("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function lX(n,l){n&1&&(r(0,"p"),c(1),g(2,"translate"),a()),n&2&&(o(),y(" ",h(2,1,"TITLE.List_of_attached_photos")," "))}function sX(n,l){if(n&1){let e=E();r(0,"div")(1,"p"),c(2),g(3,"translate"),a(),r(4,"app-cms-files-selector",230),w("dataFileModelChange",function(t){u(e);let s=p();return T(s.dataFileModelFiles,t)||(s.dataFileModelFiles=t),f(t)}),a()()}if(n&2){let e=p();o(2),M(h(3,3,"TITLE.List_of_attached_files")),o(2),b("dataFileModel",e.dataFileModelFiles),d("openDirectUploadView",!0)}}function dX(n,l){if(n&1&&(r(0,"div",112)(1,"button",128),c(2),g(3,"translate"),a(),r(4,"button",113),c(5),g(6,"translate"),a(),r(7,"button",114),c(8),g(9,"translate"),a()()),n&2){let e=p(),i=R(10);o(2),y(" ",h(3,5,"ACTION.BEFOR")," "),o(2),d("disabled",!i.form.valid),o(),y(" ",h(6,7,"ACTION.NEXT")," "),o(2),d("disabled",!i.form.valid||!e.connectionStatus.internetConnection),o(),y(" ",h(9,9,"ACTION.SAVE")," ")}}function cX(n,l){if(n&1){let e=E();r(0,"button",232),I("click",function(){u(e);let t=p(2);return f(t.onFormSubmitAndMessage())}),c(1),g(2,"translate"),a()}if(n&2){p(2);let e=R(10);d("disabled",!e.form.valid),o(),y(" ",h(2,2,"ACTION.Send_Message")," ")}}function pX(n,l){if(n&1){let e=E();r(0,"div",112)(1,"button",83),I("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),c(2),g(3,"translate"),a(),r(4,"button",128),c(5),g(6,"translate"),a(),r(7,"button",114),c(8),g(9,"translate"),a(),C(10,cX,3,4,"button",231),a()}if(n&2){let e=p(),i=R(10);o(2),y(" ",h(3,5,"ACTION.BACK")," "),o(3),y(" ",h(6,7,"ACTION.BEFOR")," "),o(2),d("disabled",!i.form.valid||!e.connectionStatus.internetConnection),o(),y(" ",h(9,9,"ACTION.SAVE")," "),o(2),d("ngIf",e.tokenHelper.isAdminSite)}}function mX(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function uX(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function fX(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}function _X(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}function gX(n,l){if(n&1){let e=E();r(0,"button",75),I("click",function(){u(e);let t=p();return f(t.onFormLoadEstateCustomerOrderResult())}),S(1,"i",233),c(2),g(3,"translate"),a()}n&2&&(o(2),y(" ",h(3,1,"ACTION.VIEW_Estate_Customer_Orders")," "))}function hX(n,l){if(n&1){let e=E();r(0,"button",75),I("click",function(){u(e);let t=p();return f(t.onFormLoadEstateHaveHistoryResult())}),S(1,"i",233),c(2),g(3,"translate"),a()}n&2&&(o(2),y(" ",h(3,1,"ACTION.VIEW_Estate_Customer_Have_Histories")," "))}function yX(n,l){if(n&1){let e=E();r(0,"button",75),I("click",function(){u(e);let t=p();return f(t.onFormLoadEstateHistoryResult())}),S(1,"i",233),c(2),g(3,"translate"),a()}n&2&&(o(2),y(" ",h(3,1,"ACTION.VIEW_Estate_Histories")," "))}function SX(n,l){if(n&1){let e=E();r(0,"button",75),I("click",function(){u(e);let t=p();return f(t.onFormLoadEstateAgencyResult())}),S(1,"i",233),c(2),g(3,"translate"),a()}n&2&&(o(2),y(" ",h(3,1,"ACTION.VIEW_Estate_Agencys")," "))}function CX(n,l){if(n&1){let e=E();r(0,"button",75),I("click",function(){u(e);let t=p();return f(t.onFormLoadEstateUserResult())}),S(1,"i",233),c(2),g(3,"translate"),a()}n&2&&(o(2),y(" ",h(3,1,"ACTION.VIEW_Estate_Users")," "))}function vX(n,l){if(n&1){let e=E();r(0,"button",75),I("click",function(){u(e);let t=p();return f(t.onFormSubmitAndMessage())}),S(1,"i",233),c(2),g(3,"translate"),a()}n&2&&(o(2),y(" ",h(3,1,"ACTION.Send_Message")," "))}function IX(n,l){if(n&1){let e=E();r(0,"button",75),I("click",function(){u(e);let t=p();return f(t.onActionButtonQuickHistoryAddRow())}),S(1,"i",233),c(2),g(3,"translate"),a()}n&2&&(o(2),y(" ",h(3,1,"ACTION.HISTORY_ADD")," "))}function EX(n,l){if(n&1&&(r(0,"div",234),S(1,"app-estate-account-agency-list",235,26),a()),n&2){let e=p();o(),d("optionLinkLocationWorkAreaId",e.dataModel.linkLocationId)("optionloadComponent",!1)("optionloadByRoute",!1)}}function MX(n,l){if(n&1&&(r(0,"div",234),S(1,"app-estate-account-expert-list",235,27),a()),n&2){let e=p();o(),d("optionLinkLocationWorkAreaId",e.dataModel.linkLocationId)("optionloadComponent",!1)("optionloadByRoute",!1)}}function bX(n,l){if(n&1&&(r(0,"div",234),S(1,"app-estate-customer-order-list",236,28),a()),n&2){let e=p();o(),d("optionLinkPropertyId",e.dataModel.id)("optionloadComponent",!1)("optionloadByRoute",!1)}}function TX(n,l){if(n&1&&(r(0,"div",234),S(1,"app-estate-customer-order-list",237,29),a()),n&2){let e=p();o(),d("optionLinkPropertyIdHaveHistory",e.dataModel.id)("optionloadComponent",!1)("optionloadByRoute",!1)}}function wX(n,l){if(n&1&&(r(0,"div",234),S(1,"app-estate-property-history-list",236,30),a()),n&2){let e=p();o(),d("optionLinkPropertyId",e.dataModel.id)("optionloadComponent",!1)("optionloadByRoute",!1)}}var kd=class kd extends Ut{constructor(e,i,t,s,_,m,k,z,Se,qe,Ue,ft,jt,Ft){super(s,new Ki,Se,jt);this.activatedRoute=e;this.coreEnumService=i;this.estateContractTypeService=t;this.estatePropertyService=s;this.estatePropertyDetailGroupService=_;this.cmsToastrService=m;this.cmsStoreService=k;this.router=z;this.publicHelper=Se;this.cdr=qe;this.themeService=Ue;this.tokenHelper=ft;this.translate=jt;this.dialog=Ft;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.connectionStatus=new vc;this.enumInputDataType=Oi;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.formMatcher=new Na;this.dataModelResult=new Ht;this.dataModelEstateContractTypeResult=new G;this.dataModel=new Ki;this.dataModelCorCurrencySelector=new Fi;this.dataFileModelImgaes=new Map;this.dataFileModelFiles=new Map;this.formInfo=new ue;this.fileManagerOpenForm=!1;this.currencyOptionSelectFirstItem=!0;this.PropertyTypeSelected=new Qt;this.contractDataModel=new no;this.optionTabledataSource=new mi;this.optionTabledisplayedColumns=["LinkEstateContractTypeId","SalePrice","DepositPrice","RentPrice","PeriodPrice","Action"];this.propertyDetails=new Map;this.numbers=[0,1,2,3,4,5,6,7,8,9,10];this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Ni;this.step=0;this.hidden=!0;this.unsubscribe=[];this.optionReload=()=>{this.loadResult=""};this.loadResult="";this.publicHelper.processService.cdr=this.cdr,this.requestId=this.activatedRoute.snapshot.paramMap.get("id"),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(Yt=>Yt.connectionStatusStore).subscribe(Yt=>ae(this,null,function*(){this.connectionStatus=Yt})))}ngOnInit(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorComponentAction(),this.router.navigate(["/estate/property"]);return}this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOne(),this.getEstateContractType(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(()=>ae(this,null,function*(){this.DataGetOne(),this.getEstateContractType()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}getEstateContractType(){let e=this.constructor.name+"getEstateContractType";this.translate.get("TITLE.Get_Estate_Contract_Type").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateContractTypeService.ServiceGetAll(null).subscribe({next:i=>{this.dataModelEstateContractTypeResult=i,this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e)}})}DataGetOne(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_state_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyService.setAccessLoad(),this.estatePropertyService.setAccessDataType(Ne.Editor),this.estatePropertyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{if(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.lastRecordStatus=i.item.recordStatus,this.dataModel=i.item,i.isSuccess){(!this.dataModel.caseCode||this.dataModel.caseCode.length<=0)&&(this.dataModel.caseCode=this.publicHelper.StringRandomGenerator(5,!0)),this.optionTabledataSource.data=this.dataModel.contracts,this.DataGetPropertyDetailGroup(this.dataModel.linkPropertyTypeLanduseId);let t=this.dataModel.geolocationlatitude,s=this.dataModel.geolocationlongitude;t>0&&s>0&&(this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:t,lon:s}),this.receiveMap()),this.formInfo.formTitle=i.item.title,this.formInfo.submitResultMessage="",this.dataModel.linkFileIds&&this.dataModel.linkFileIds.length>0&&this.dataModel.linkFileIds.split(",").forEach((_,m)=>{let k="";this.dataModel.linkFileIdsSrc.length>=this.dataModel.linkFileIdsSrc.length&&(k=this.dataModel.linkFileIdsSrc[m]),this.dataFileModelFiles.set(+_,k)}),this.dataModel.linkExtraImageIdsSrc&&this.dataModel.linkExtraImageIdsSrc.length>0&&this.dataModel.linkExtraImageIds.split(",").forEach((_,m)=>{let k="";this.dataModel.linkExtraImageIdsSrc.length>=this.dataModel.linkExtraImageIdsSrc.length&&(k=this.dataModel.linkExtraImageIdsSrc[m]),this.dataFileModelImgaes.set(+_,k)}),this.formInfo.submitResultMessageType=1}else this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage);this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataGetPropertyDetailGroup(e){let i=new pe,t=new H;t.propertyName="LinkPropertyTypeLanduseId",t.value=e,i.filters.push(t),this.dataModel.propertyDetailGroups=[];let s=this.constructor.name+"DataGetPropertyDetailGroup";this.translate.get("MESSAGE.Get_detailed_information").subscribe(_=>{this.publicHelper.processService.processStart(s,_,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceGetAll(i).subscribe({next:_=>{_.isSuccess?(this.dataModel.propertyDetailGroups=_.listItems,this.dataModel.propertyDetailGroups&&this.dataModel.propertyDetailGroups.forEach(m=>{m.propertyDetails.forEach(k=>{if(this.propertyDetails[k.id]=0,this.dataModel.propertyDetailValues){let z=this.dataModel.propertyDetailValues.find(Se=>Se.linkPropertyDetailId===k.id);z&&(this.propertyDetails[k.id]=z.value)}})})):this.cmsToastrService.typeErrorGetAccess(_.errorMessage),this.publicHelper.processService.processStop(s)},error:_=>{this.cmsToastrService.typeErrorGetAccess(_),this.publicHelper.processService.processStop(s,!1)}})}DataEditContent(e=!1){if(this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage="",this.dataFileModelFiles){let t=Array.from(this.dataFileModelFiles.keys());t&&t.length>0&&(this.dataModel.linkFileIds=t.join(","))}if(this.dataFileModelImgaes){let t=Array.from(this.dataFileModelImgaes.keys());t&&t.length>0&&(this.dataModel.linkExtraImageIds=t.join(","))}let i=this.constructor.name+"ServiceEdit";this.translate.get("MESSAGE.registration_chaneges_in_property_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.estatePropertyService.ServiceEdit(this.dataModel).subscribe({next:t=>{if(this.formInfo.submitButtonEnabled=!0,this.dataModelResult=t,t.isSuccess){if(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(_=>{this.formInfo.submitResultMessage=_,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.formInfo.submitResultMessageType=1,(this.tokenHelper.isAdminSite||this.tokenHelper.isSupportSite||this.tokenInfo.access.userAccessUserType==wr.ResellerCpSite||this.tokenInfo.access.userAccessUserType==wr.ResellerEmployeeCpSite)&&(e||this.dataModel.recordStatus==Qe.Available&&this.dataModel.recordStatus!=this.lastRecordStatus)){var s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(Ad,{height:"90%",panelClass:s,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{model:this.dataModel}}).afterClosed().subscribe(m=>{})}}else this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(_=>{this.formInfo.submitResultMessage=_}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage);this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(i=>{this.mapMarker=rm.marker([i.lat,i.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",i=>{let t=i.latlng.lat,s=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&s===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=rm.marker([t,s]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=s}))}receiveZoom(e){}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onActionSelectorSelectUsage(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeUsageId=e.id}onActionSelectorSelectLanduse(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.PropertyTypeSelected=e,this.dataModel.linkPropertyTypeLanduseId=e.id,this.DataGetPropertyDetailGroup(e.id)}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCmsUserId=null;return}this.dataModel.linkCmsUserId=e.id}onActionSelectorLocation(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=e.id}onActionSelectorProject(e){if(!e||!e.id||e.id.length<=0){this.dataModel.linkPropertyProjectId=null;return}this.dataModel.linkPropertyProjectId=e.id}onActionSelectorCompany(e){if(!e||!e.id||e.id.length<=0){this.dataModel.linkPropertyCompanyId=null;return}this.dataModel.linkPropertyCompanyId=e.id}onActionSelectorEstateUser(e){this.dataModel.linkEstateExpertId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateExpertId=e.id)}onActionSelectorEstateAgency(e){this.dataModel.linkEstateAgencyId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateAgencyId=e.id)}onActionSelectorContractType(e){if(this.contractTypeSelected=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.currencyOptionSelectFirstItem=!0,this.contractTypeSelected=e,this.contractDataModel=new no,this.contractDataModel.contractType=this.contractTypeSelected,this.contractDataModel.linkEstateContractTypeId=this.contractTypeSelected.id}onFormSubmitAndMessage(){this.onFormSubmit(!0)}onFormSubmit(e=!1){if(this.formGroup.valid){if(this.formInfo.submitButtonEnabled=!1,this.dataModel.propertyDetailValues=[],this.dataModel.propertyDetailGroups&&this.dataModel.propertyDetailGroups.forEach(i=>{i.propertyDetails.forEach(t=>{let s=new wo;s.linkPropertyDetailId=t.id,s.value=this.propertyDetails[t.id],this.dataModel.propertyDetailValues.push(s)})}),(!this.dataModel.contracts||this.dataModel.contracts.length===0)&&this.onActionOptionAddToList(),!this.dataModel.contracts||this.dataModel.contracts.length===0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)}),this.formInfo.submitButtonEnabled=!0;return}this.DataEditContent(e)}}onFormCancel(){this.router.navigate(["/estate/property"])}onActionOptionAddToList(e=!0){if(!this.contractTypeSelected||this.contractTypeSelected.id.length===0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(t=>{e&&this.cmsToastrService.typeErrorSelected(t)});return}this.dataModel.contracts||(this.dataModel.contracts=[]);let i=!1;if(this.contractTypeSelected.hasSalePrice&&(this.contractDataModel.salePrice&&this.contractDataModel.salePrice>0&&(i=!0),this.contractTypeSelected.salePriceAllowAgreement&&this.contractDataModel.salePriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Sales_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i=!1,this.contractTypeSelected.hasRentPrice&&(this.contractDataModel.rentPrice&&this.contractDataModel.rentPrice>0&&(i=!0),this.contractTypeSelected.rentPriceAllowAgreement&&this.contractDataModel.rentPriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Rent_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i=!1,this.contractTypeSelected.hasPeriodPrice&&(this.contractDataModel.periodPrice&&this.contractDataModel.periodPrice>0&&(i=!0),this.contractTypeSelected.periodPriceAllowAgreement&&this.contractDataModel.periodPriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Period_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i=!1,this.contractTypeSelected.hasDepositPrice&&(this.contractDataModel.depositPrice&&this.contractDataModel.depositPrice>0&&(i=!0),this.contractTypeSelected.depositPriceAllowAgreement&&this.contractDataModel.depositPriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Deposit_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.dataModel.contracts.push(this.contractDataModel),this.contractDataModel=new no,this.optionTabledataSource.data=this.dataModel.contracts,this.contractTypeSelected=null}onActionOptionRemoveFromList(e){if(!(e<0)&&!(!this.dataModel.contracts||this.dataModel.contracts.length===0)){var i;this.contractDataModel=this.dataModel.contracts[e],i=this.dataModel.contracts.splice(e,1),this.contractDataModel=i,this.optionTabledataSource.data=this.dataModel.contracts}}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&((!this.dataModel.linkPropertyTypeUsageId||this.dataModel.linkPropertyTypeUsageId.length===0)&&(this.translate.get("TITLE.Select_the_Property_Type_Usage").subscribe(t=>{this.cmsToastrService.typeErrorFormInvalid(t)}),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)),(!this.dataModel.linkPropertyTypeLanduseId||this.dataModel.linkPropertyTypeLanduseId.length===0)&&(this.translate.get("TITLE.Select_the_Property_Type_Landuse").subscribe(t=>{this.cmsToastrService.typeErrorFormInvalid(t)}),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)),this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/estate/property/"])}setStep(e){this.step=e}nextStep(){this.step++}prevStep(){this.step--}onActionClickSalePriceAllowAgreement(){this.contractDataModel.salePriceByAgreement&&(this.contractDataModel.salePrice=0)}onActionClickRentPriceAllowAgreement(){this.contractDataModel.rentPriceByAgreement&&(this.contractDataModel.rentPrice=0)}onActionClickPeriodPriceAllowAgreement(){this.contractDataModel.periodPriceByAgreement&&(this.contractDataModel.periodPrice=0)}onActionClickDepositPriceByAgreement(){this.contractDataModel.depositPriceByAgreement&&(this.contractDataModel.depositPrice=0)}ActionCurrentPoint(){this.childMap.getPosition().then(e=>{let i=e.lat,t=e.lon;i>0&&t>0&&(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:i,lon:t}),this.dataModel.geolocationlatitude=i,this.dataModel.geolocationlongitude=t,this.receiveMap())})}onActionSelectCurrency(e){if(!e||e.id<=0){this.cmsToastrService.typeErrorSelected(),this.dataModelCorCurrencySelector=null,this.contractDataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=e,this.contractDataModel.linkCoreCurrencyId=e.id,this.tokenHelper.isAdminSite&&this.contractTypeSelected.allowPriceInquiryCalculate&&this.onActionPriceInquiryList()}onActionPriceInquiryList(){let e=new Ur;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={linkLocationId:this.dataModel.linkLocationId,linkCoreCurrencyId:this.contractDataModel.linkCoreCurrencyId,createdYaer:this.dataModel.createdYaer,linkPropertyTypeUsageId:this.dataModel.linkPropertyTypeUsageId,linkPropertyTypeLanduseId:this.dataModel.linkPropertyTypeLanduseId,linkContractTypeId:this.contractDataModel.linkEstateContractTypeId};var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ma,e).afterClosed().subscribe(s=>{})}onActionButtonQuickListSearchTitle(){if(!this.dataModel||!this.dataModel.title||this.dataModel.title.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Fn,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{searchTitle:this.dataModel.title}}).afterClosed().subscribe(t=>{})}onActionButtonQuickListSearchCustomerTel(){if(!this.dataModel||!this.dataModel.aboutCustomerTel||this.dataModel.aboutCustomerTel.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Fn,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{searchCustomerTel:this.dataModel.aboutCustomerTel}}).afterClosed().subscribe(t=>{})}onActionButtonQuickListSearchCustomerMobile(){if(!this.dataModel||!this.dataModel.aboutCustomerMobile||this.dataModel.aboutCustomerMobile.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Fn,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{searchCustomerTel:this.dataModel.aboutCustomerMobile}}).afterClosed().subscribe(t=>{})}onActionButtonQuickListSearchCaseCode(){if(!this.dataModel||!this.dataModel.caseCode||this.dataModel.caseCode.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Fn,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{searchCaseCode:this.dataModel.caseCode}}).afterClosed().subscribe(t=>{})}onFormLoadEstateAgencyResult(){this.loadResult="estateAccountAgencyList",Promise.resolve().then(()=>this.cdr.detectChanges()),this.estateAccountAgencyListComponent.optionloadComponent=!0,this.estateAccountAgencyListComponent.DataGetAll()}onFormLoadEstateUserResult(){this.loadResult="estateAccountExpertList",Promise.resolve().then(()=>this.cdr.detectChanges()),this.estateAccountExpertListComponent.optionloadComponent=!0,this.estateAccountExpertListComponent.DataGetAll()}onFormLoadEstateCustomerOrderResult(){this.loadResult="estateCustomerOrderList",Promise.resolve().then(()=>this.cdr.detectChanges()),this.estateCustomerOrderListComponent.optionloadComponent=!0,this.estateCustomerOrderListComponent.DataGetAll()}onFormLoadEstateHaveHistoryResult(){this.loadResult="estateCustomerOrderHaveHistoryList",Promise.resolve().then(()=>this.cdr.detectChanges()),this.estateCustomerOrderHaveHistoryListComponent.optionloadComponent=!0,this.estateCustomerOrderHaveHistoryListComponent.DataGetAll()}onFormLoadEstateHistoryResult(){this.loadResult="estateHistoryList",Promise.resolve().then(()=>this.cdr.detectChanges()),this.estatePropertyHistoryListComponent.optionloadComponent=!0,this.estatePropertyHistoryListComponent.DataGetAll()}onActionButtonQuickHistoryAddRow(){var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Co,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{linkActivityTypeId:null,linkPropertyId:this.dataModel.id,linkEstateExpertId:null,linkCustomerOrderId:null,linkEstateAgencyId:null}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}};kd.\u0275fac=function(i){return new(i||kd)(v(Kt),v(X),v(Ai),v(gi),v(Ii),v(V),v(J),v(Ze),v(F),v(O),v(Vt),v(Z),v(L),v(Ae))},kd.\u0275cmp=D({type:kd,selectors:[["app-estate-property-edit"]],viewQuery:function(i,t){if(i&1&&(te(XK,5),te(Mi,5),te(yo,5),te(So,5),te(Jo,5),te(Jo,5),te(pn,5)),i&2){let s;ie(s=ne())&&(t.formGroup=s.first),ie(s=ne())&&(t.childMap=s.first),ie(s=ne())&&(t.estateAccountAgencyListComponent=s.first),ie(s=ne())&&(t.estateAccountExpertListComponent=s.first),ie(s=ne())&&(t.estateCustomerOrderListComponent=s.first),ie(s=ne())&&(t.estateCustomerOrderHaveHistoryListComponent=s.first),ie(s=ne())&&(t.estatePropertyHistoryListComponent=s.first)}},standalone:!1,features:[oe],decls:145,vars:155,consts:[["vform","ngForm"],["stepper",""],["Description",""],["LinkMainImageId",""],["Title",""],["CaseCode",""],["SharingKey",""],["CreatedYaer",""],["Partition",""],["Area",""],["Address",""],["LinkSiteId",""],["scoreEstateLocation","ngModel"],["scoreEstateBuild","ngModel"],["scoreEstatePrice","ngModel"],["AboutAgentMobile",""],["AboutAgentTel",""],["AboutCustomerMobile",""],["AboutCustomerTel",""],["actionCreateNewCmsUserFirstName",""],["actionCreateNewCmsUserLastName",""],["actionCreateNewCmsUserMobile",""],["DescriptionHidden",""],["AddressHidden",""],["ReviewDataAfterSoldIt",""],["contractDataModel_Description",""],["estateAccountAgencyListComponent",""],["estateAccountExpertListComponent",""],["estateCustomerOrderListComponent",""],["estateCustomerOrderHaveHistoryListComponent",""],["estatePropertyHistoryListComponent",""],[3,"Key","svg"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder"],[3,"optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder","optionTypeUsageId","optionChange",4,"ngIf"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","2000","rows","5","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","ntk-button-row",4,"ngIf"],["state","main",3,"label",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],["class","blockquote",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","seo",3,"label",4,"ngIf"],["state","seo",3,"label"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],[3,"optionChange","optionDisabled","optionTypeView","optionPlaceholder","optionSelectForce"],["class","container",4,"ngIf"],["class","example-container mat-elevation-z8",4,"ngIf"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView","optionFileType"],[3,"dataModelChange","dataModel"],[3,"dataModelChange","dataModel","dataImageModel"],["state","loaction",3,"label"],["id","main-map",3,"map$","zoom$","optonCenter"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],[1,"row","alert","alert-custom","alert-white","alert-shadow","gutter-b"],["class","col-md-12 col-sm-12 col-xs-18",4,"ngIf"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder","optionTypeUsageId"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.caseCode",1,"color-highlight"],["matInput","","type","text","name","dataModel.caseCode","type","text","minlength","3","maxlength","100","required","","id","dataModel.caseCode",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.sharingKey",1,"color-highlight"],["matInput","","type","text","name","dataModel.sharingKey","type","text","id","dataModel.sharingKey",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.viewConfigHiddenInList",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2",2,"position","inherit"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.viewConfigHiddenInList","name","dataModel.viewConfigHiddenInList",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.viewConfigHiddenInList",1,"custom-control-label"],["for","dataModel.createdYaer",1,"color-highlight"],["matInput","","name","dataModel.createdYaer","type","number","id","dataModel.createdYaer",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.partition",1,"color-highlight"],["matInput","","name","dataModel.partition","type","number","id","dataModel.partition",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.area",1,"color-highlight"],["matInput","","name","dataModel.area","type","text","currencyMask","","id","dataModel.area",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"ntk-button-row"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],["type","text","name","dataModel.linkSiteId","minlength","3","maxlength","100","id","dataModel.linkSiteId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["data-trigger-switch","dataModel.viewContentHidden",1,"font-600","font-14"],["type","checkbox","id","dataModel.viewContentHidden","name","dataModel.viewContentHidden",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.viewContentHidden",1,"custom-control-label"],[1,"range-slider","bottom-15","range-slider-icons"],["for","dataModel.scoreEstateLocation",1,"color-highlight"],[1,"fa","fa-range-icon-1","fa-angle-down","color-theme"],[1,"fa","fa-range-icon-2","fa-angle-up","color-theme"],["type","range","min","0","max","10","id","dataModel.scoreEstateLocation","name","dataModel.scoreEstateLocation",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],["for","dataModel.scoreEstateBuild",1,"color-highlight"],["type","range","min","0","max","10","id","dataModel.scoreEstateBuild","name","dataModel.scoreEstateBuild",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],["for","dataModel.scoreEstatePrice",1,"color-highlight"],["type","range","min","0","max","10","id","dataModel.scoreEstatePrice","name","dataModel.scoreEstatePrice",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue","matStepperNext","",3,"disabled",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder"],["for","dataModel.aboutAgentMobile",1,"color-highlight"],["matInput","","type","text","name","dataModel.aboutAgentMobile","type","text","minlength","0","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.aboutAgentTel",1,"color-highlight"],["matInput","","type","text","name","dataModel.  aboutAgentTel","type","text","minlength","0","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.aboutCustomerMobile",1,"color-highlight"],["matInput","","type","text","name","dataModel.aboutCustomerMobile","type","text","minlength","0","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.aboutCustomerTel",1,"color-highlight"],["matInput","","type","text","name","dataModel. aboutCustomerTel","type","text","minlength","0","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"blockquote"],["data-trigger-switch","dataModel.actionCreateNewCmsUser",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],["type","checkbox","id","dataModel.actionCreateNewCmsUser","name","dataModel.actionCreateNewCmsUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.actionCreateNewCmsUser",1,"custom-control-label"],["for","dataModel.actionCreateNewCmsUserFirstName",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserFirstName","type","text","minlength","3","maxlength","50","id","dataModel.actionCreateNewCmsUserFirstName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.actionCreateNewCmsUserLastName",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserLastName","type","text","minlength","3","maxlength","50","id","dataModel.actionCreateNewCmsUserLastName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.actionCreateNewCmsUserMobile",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserMobile","type","text","placeholder","0912","minlength","3","maxlength","20","id","dataModel.actionCreateNewCmsUserMobile",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","2000","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.addressHidden",1,"color-highlight"],["matInput","","name","dataModel.addressHidden","type","text","minlength","0","maxlength","2000","rows","5","id","dataModel.addressHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[1,"example-headers-align"],[3,"expanded","opened",4,"ngFor","ngForOf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"opened","expanded"],[4,"ngFor","ngForOf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue",3,"click",4,"ngIf"],[3,"ngSwitch"],["class","ntk-full-width",4,"ngSwitchCase"],["class","ntk-full-width",4,"ngSwitchDefault"],[1,"ntk-full-width"],["aria-hidden","true",3,"ngClass"],[3,"modelChange","model","optionForceUseDefaultValue","optionMultipleChoice","optionDefaultValue","optionRequired","optionLabel"],[3,"modelChange","model","optionRequired","optionLabel"],[3,"modelChange","model"],[3,"modelChange","model","optionRequired"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],["data-trigger-switch","dataModel.isSoldIt",1,"font-600","font-14"],["type","checkbox","id","dataModel.isSoldIt","name","dataModel.isSoldIt",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isSoldIt",1,"custom-control-label"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.reviewDataAfterSoldIt",1,"color-highlight"],["matInput","","type","text","name","dataModel.reviewDataAfterSoldIt","type","text","id","dataModel.reviewDataAfterSoldIt",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],[1,"container"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],["class","row",4,"ngIf"],["for","contractDataModel.description",1,"color-highlight"],["matInput","","name","contractDataModel. description","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"row"],[1,"col-6","input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","contractDataModel.salePrice",1,"color-highlight"],["matInput","","type","text","name","contractDataModel.salePrice","currencyMask","","type","text","placeholder","0","id","contractDataModel.salePrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],[1,"col-3"],["data-trigger-switch","contractDataModel.salePriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.salePriceAllowAgreement","name","contractDataModel.salePriceAllowAgreement",1,"ios-input",3,"ngModelChange","change","ngModel"],["for","contractDataModel.salePriceAllowAgreement",1,"custom-control-label"],["for","contractDataModel.depositPrice",1,"color-highlight"],["matInput","","type","text","name","contractDataModel.depositPrice","currencyMask","","type","text","placeholder","0","id","contractDataModel.depositPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.depositPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.depositPriceByAgreement","name","contractDataModel.depositPriceByAgreement",1,"ios-input",3,"ngModelChange","change","ngModel"],["for","contractDataModel.depositPriceByAgreement",1,"custom-control-label"],["for","contractDataModel.rentPrice",1,"color-highlight"],["matInput","","type","text","name","contractDataModel.rentPrice","currencyMask","","type","text","placeholder","0","id","contractDataModel.rentPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.rentPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.rentPriceByAgreement","name","contractDataModel.rentPriceByAgreement",1,"ios-input",3,"ngModelChange","change","ngModel"],["for","contractDataModel.rentPriceByAgreement",1,"custom-control-label"],["for","contractDataModel.periodPrice",1,"color-highlight"],["matInput","","type","text","name","contractDataModel.periodPrice","currencyMask","","type","text","placeholder","0","id","contractDataModel.periodPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.periodPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.periodPriceByAgreement","name","contractDataModel.periodPriceByAgreement",1,"ios-input",3,"ngModelChange","change","ngModel"],["for","contractDataModel.periodPriceByAgreement",1,"custom-control-label"],[1,"example-container","mat-elevation-z8"],["multiTemplateDataRows","",3,"dataSource"],["matColumnDef","LinkEstateContractTypeId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","SalePrice"],["matColumnDef","DepositPrice"],["matColumnDef","RentPrice"],["matColumnDef","PeriodPrice"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","descriptionDetail"],["colspan","6",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even",4,"matRowDef","matRowDefColumns"],[1,"Action"],["type","button","mat-icon-button","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0",3,"click"],["matTooltipPosition","before","aria-hidden","false",2,"color","red",3,"matTooltip"],["colspan","6"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click","disabled"],[1,"ft-x"],[1,"col-md-12","col-sm-12","col-xs-18"],[3,"optionLinkLocationWorkAreaId","optionloadComponent","optionloadByRoute"],[3,"optionLinkPropertyId","optionloadComponent","optionloadByRoute"],[3,"optionLinkPropertyIdHaveHistory","optionloadComponent","optionloadByRoute"]],template:function(i,t){if(i&1){let s=E();S(0,"app-cms-guide-notice",31),r(1,"div",32),S(2,"app-progress-spinner",33),r(3,"div",34)(4,"p",35),c(5),a(),r(6,"p"),c(7),g(8,"translate"),a(),r(9,"form",36,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"mat-vertical-stepper",37,1),I("selectionChange",function(m){u(s);let k=R(12);return f(t.onStepClick(m,k))}),r(13,"mat-step",38),g(14,"translate"),r(15,"app-estate-property-type-usage-selector",39),g(16,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorSelectUsage(m))}),a(),S(17,"br"),C(18,eZ,2,7,"app-estate-property-type-landuse-selector",40),S(19,"br"),C(20,tZ,1,5,"app-cms-enum-record-status-selector",41)(21,rZ,10,10,"div",42)(22,dZ,10,10,"div",42)(23,uZ,8,9,"div",42)(24,fZ,8,2,"div",43)(25,_Z,5,6,"div",42)(26,gZ,5,6,"div",42)(27,hZ,5,6,"div",42),r(28,"app-cms-location-selector",44),g(29,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorLocation(m))}),a(),C(30,yZ,8,6,"div",42),r(31,"div",45)(32,"label",46),c(33),g(34,"translate"),a(),r(35,"textarea",47,2),w("ngModelChange",function(m){return u(s),T(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(37,"            "),a(),r(38,"em"),c(39),a(),C(40,SZ,1,0,"i",48)(41,CZ,1,0,"i",49)(42,vZ,5,3,"mat-error",50),a(),C(43,IZ,10,11,"div",51),a(),C(44,AZ,7,9,"mat-step",52),r(45,"mat-step",38),g(46,"translate"),C(47,PZ,2,6,"app-estate-account-agency-selector",53)(48,RZ,2,5,"app-estate-account-expert-selector",54)(49,kZ,7,7,"div",42)(50,DZ,7,7,"div",42)(51,LZ,7,7,"div",42)(52,VZ,7,7,"div",42)(53,KZ,14,8,"div",55)(54,JZ,5,4,"div",56),a(),C(55,tJ,23,21,"mat-step",52)(56,hJ,12,11,"mat-step",57),r(57,"mat-step",58),g(58,"translate"),r(59,"p"),c(60),g(61,"translate"),a(),C(62,yJ,8,2,"div",43)(63,SJ,8,4,"div",59),S(64,"hr"),r(65,"p"),c(66),g(67,"translate"),a(),r(68,"app-estate-contract-type-selector",60),g(69,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorContractType(m))}),a(),C(70,PJ,9,7,"div",61),S(71,"hr"),r(72,"p"),c(73),g(74,"translate"),a(),C(75,nX,25,5,"div",62),S(76,"br"),C(77,rX,5,4,"div",56),a(),r(78,"mat-step",63),g(79,"translate"),r(80,"p"),c(81),g(82,"translate"),a(),r(83,"div",64)(84,"a",65),g(85,"cmsthumbnail"),C(86,aX,2,4,"img",66),a()(),r(87,"div",45)(88,"label",67),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(89),g(90,"translate"),a(),r(91,"input",68,3),g(93,"translate"),w("ngModelChange",function(m){return u(s),T(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),I("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(94,"cms-file-manager",69),I("itemSelected",function(m){return u(s),f(t.onActionFileSelectedLinkMainImageId(m))}),w("openFormChange",function(m){return u(s),T(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),a()(),S(95,"hr"),C(96,lX,3,3,"p",50),r(97,"app-cms-files-selector",70),w("dataFileModelChange",function(m){return u(s),T(t.dataFileModelImgaes,m)||(t.dataFileModelImgaes=m),f(m)}),a(),C(98,sX,5,5,"div",50),S(99,"br")(100,"hr")(101,"br"),r(102,"h3"),c(103),g(104,"translate"),a(),r(105,"app-cms-360-image-list",71),w("dataModelChange",function(m){return u(s),T(t.dataModel.file360Views,m)||(t.dataModel.file360Views=m),f(m)}),a(),S(106,"br"),r(107,"h3"),c(108),g(109,"translate"),a(),r(110,"app-cms-360-tour-list",72),w("dataModelChange",function(m){return u(s),T(t.dataModel.file360Tour,m)||(t.dataModel.file360Tour=m),f(m)}),a(),C(111,dX,10,11,"div",51),a(),r(112,"mat-step",73),g(113,"translate"),r(114,"p"),c(115),g(116,"translate"),a(),r(117,"app-cms-map",74),I("map$",function(m){return u(s),f(t.receiveMap(m))})("zoom$",function(m){return u(s),f(t.receiveZoom(m))}),a(),r(118,"button",75),I("click",function(){return u(s),f(t.ActionCurrentPoint())}),c(119),g(120,"translate"),a(),C(121,pX,11,11,"div",51),a(),C(122,mX,2,0,"ng-template",76)(123,uX,2,0,"ng-template",77)(124,fX,2,0,"ng-template",78)(125,_X,2,0,"ng-template",79),a()()(),r(126,"div",80),S(127,"app-cms-form-result-message",81),a(),r(128,"div",82)(129,"button",83),I("click",function(){return u(s),f(t.onActionBackToParent())}),c(130),g(131,"translate"),a(),C(132,gX,4,3,"button",84)(133,hX,4,3,"button",84)(134,yX,4,3,"button",84)(135,SX,4,3,"button",84)(136,CX,4,3,"button",84)(137,vX,4,3,"button",84)(138,IX,4,3,"button",84),a()(),r(139,"div",85),C(140,EX,3,3,"div",86)(141,MX,3,3,"div",86)(142,bX,3,3,"div",86)(143,TX,3,3,"div",86)(144,wX,3,3,"div",86),a()}if(i&2){let s=R(36);d("Key","estate.property.list.edit")("svg","assets/media/svg/icons/General/Notifications1.svg"),o(2),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",h(8,111,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),d("label",x(h(14,113,"TITLE.REQUIRED_INFORMATION"))),o(2),d("optionDisabled",!(t.fieldsInfo.linkPropertyTypeUsageId!=null&&t.fieldsInfo.linkPropertyTypeUsageId.accessEditField))("optionTypeView",2)("optionSelectForce",t.dataModel.linkPropertyTypeUsageId)("optionPlaceholder",h(16,115,"TITLE.Type_Usage")),o(3),d("ngIf",t.dataModel.linkPropertyTypeUsageId&&t.dataModel.linkPropertyTypeUsageId.length>0),o(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),d("ngIf",t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.accessWatchField),o(),d("ngIf",t.fieldsInfo.sharingKey==null?null:t.fieldsInfo.sharingKey.accessWatchField),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.dataModel.linkPropertyTypeLanduseId&&t.dataModel.linkPropertyTypeLanduseId&&(t.PropertyTypeSelected.titleCreatedYaer==null?null:t.PropertyTypeSelected.titleCreatedYaer.length)>1&&t.PropertyTypeSelected.titleCreatedYaer!=="---"),o(),d("ngIf",t.dataModel.linkPropertyTypeLanduseId&&t.dataModel.linkPropertyTypeLanduseId&&(t.PropertyTypeSelected.titlePartition==null?null:t.PropertyTypeSelected.titlePartition.length)>1&&t.PropertyTypeSelected.titlePartition!=="---"),o(),d("ngIf",t.dataModel.linkPropertyTypeLanduseId),o(),d("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessEditField))("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",h(29,117,"TITLE.Region")),o(2),d("ngIf",t.fieldsInfo.address==null?null:t.fieldsInfo.address.accessWatchField),o(3),M(h(34,119,"TITLE.General_Description")),o(2),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle))("disabled",x(!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessEditField))),b("ngModel",t.dataModel.description),o(4),y("",s.value.length," / 2000"),o(),d("ngIf",!s.value),o(),d("ngIf",s.value),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.formInfo.submitButtonEnabled),o(),d("ngIf",t.tokenHelper.isAdminSite),o(),d("label",x(h(46,121,"TITLE.Personal_Information"))),o(2),d("ngIf",t.tokenHelper.isAdminSite),o(),d("ngIf",t.tokenHelper.isAdminSite),o(),d("ngIf",t.fieldsInfo.aboutAgentMobile==null?null:t.fieldsInfo.aboutAgentMobile.accessWatchField),o(),d("ngIf",t.fieldsInfo.aboutAgentTel==null?null:t.fieldsInfo.aboutAgentTel.accessWatchField),o(),d("ngIf",t.fieldsInfo.aboutCustomerMobile==null?null:t.fieldsInfo.aboutCustomerMobile.accessWatchField),o(),d("ngIf",t.fieldsInfo.aboutCustomerTel==null?null:t.fieldsInfo.aboutCustomerTel.accessWatchField),o(),d("ngIf",t.fieldsInfo.actionCreateNewCmsUser==null?null:t.fieldsInfo.actionCreateNewCmsUser.accessWatchField),o(),d("ngIf",t.formInfo.submitButtonEnabled),o(),d("ngIf",(t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField)&&(t.fieldsInfo.addressHidden==null?null:t.fieldsInfo.addressHidden.accessWatchField)),o(),d("ngIf",t.dataModel.propertyDetailGroups&&t.dataModel.propertyDetailGroups.length>0),o(),d("label",x(h(58,123,"TITLE.Contract"))),o(3),y(" ",h(61,125,"TITLE.If_you_sell_your_property_activate_the_option_below")," "),o(2),d("ngIf",t.fieldsInfo.isSoldIt==null?null:t.fieldsInfo.isSoldIt.accessWatchField),o(),d("ngIf",(t.fieldsInfo.reviewDataAfterSoldIt==null?null:t.fieldsInfo.reviewDataAfterSoldIt.accessWatchField)&&t.dataModel.isSoldIt),o(3),y(" ",h(67,127,"TITLE.Specify_the_type_of_transaction_for_this_property")," "),o(2),d("optionDisabled",!1)("optionTypeView",2)("optionPlaceholder",h(69,129,"TITLE.Type_Of_Transaction"))("optionSelectForce",t.contractDataModel.linkEstateContractTypeId),o(2),d("ngIf",t.contractTypeSelected&&t.contractTypeSelected.id.length>0),o(3),y(" ",h(74,131,"TITLE.List_Of_Transaction_Details_Of_This_Property")," "),o(2),d("ngIf",!t.publicHelper.processService.process.inRunAll),o(2),d("ngIf",t.formInfo.submitButtonEnabled),o(),d("label",x(h(79,133,"TITLE.ATTACH_FILES"))),o(3),M(h(82,135,"TITLE.CONTENT_ATTACH_FILES")),o(3),d("href",x(h(85,137,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(h(90,139,"TITLE.Original_Photo")),o(2),d("placeholder",x(h(93,141,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(2),d("ngIf",t.dataFileModelImgaes&&t.dataFileModelImgaes.size>0),o(),b("dataFileModel",t.dataFileModelImgaes),d("openDirectUploadView",!0)("optionFileType",t.selectFileTypeMainImage),o(),d("ngIf",!t.hidden),o(5),M(h(104,143,"TITLE.image_360")),o(2),b("dataModel",t.dataModel.file360Views),o(3),M(h(109,145,"TITLE.virtual_tour")),o(2),b("dataModel",t.dataModel.file360Tour),d("dataImageModel",t.dataModel.file360Views),o(),d("ngIf",t.formInfo.submitButtonEnabled),o(),d("label",x(h(113,147,"TITLE.Location"))),o(3),y(" ",h(116,149,"TITLE.Click_on_the_map_to_specify_the_location")," "),o(2),d("optonCenter",t.mapOptonCenter),o(2),y(" ",h(120,151,"ACTION.MY_LOCATION")," "),o(2),d("ngIf",t.formInfo.submitButtonEnabled),o(6),d("formInfo",t.formInfo),o(3),y(" ",h(131,153,"ACTION.BACK_TO_PROPERTY_LIST")," "),o(2),d("ngIf",(t.dataModel==null||t.dataModel.id==null?null:t.dataModel.id.length)>0&&(t.dataModel==null?null:t.dataModel.linkLocationId)&&(t.dataModel==null?null:t.dataModel.linkLocationId)>0),o(),d("ngIf",(t.dataModel==null||t.dataModel.id==null?null:t.dataModel.id.length)>0),o(),d("ngIf",(t.dataModel==null||t.dataModel.id==null?null:t.dataModel.id.length)>0),o(),d("ngIf",(t.dataModel==null||t.dataModel.id==null?null:t.dataModel.id.length)>0&&(t.dataModel==null?null:t.dataModel.linkLocationId)&&(t.dataModel==null?null:t.dataModel.linkLocationId)>0),o(),d("ngIf",(t.dataModel==null||t.dataModel.id==null?null:t.dataModel.id.length)>0&&(t.dataModel==null?null:t.dataModel.linkLocationId)&&(t.dataModel==null?null:t.dataModel.linkLocationId)>0),o(),d("ngIf",(t.dataModel==null||t.dataModel.id==null?null:t.dataModel.id.length)>0&&t.tokenHelper.isAdminSite),o(),d("ngIf",(t.dataModel==null||t.dataModel.id==null?null:t.dataModel.id.length)>0),o(2),d("ngIf",t.loadResult==="estateAccountAgencyList"),o(),d("ngIf",t.loadResult==="estateAccountExpertList"),o(),d("ngIf",t.loadResult==="estateCustomerOrderList"),o(),d("ngIf",t.loadResult==="estateCustomerOrderHaveHistoryList"),o(),d("ngIf",t.loadResult==="estateHistoryList")}},dependencies:[ce,He,N,Io,Eo,Mo,ke,Y,Wt,Da,qt,q,we,de,De,Pe,me,Re,Je,Gn,Un,gn,Lo,Ao,Po,Ro,Do,ko,xe,tt,Ee,Q,nn,on,Mn,bn,tn,nt,rt,dt,at,ot,ct,lt,st,pt,mt,sr,Wi,rn,Tn,ui,ln,zn,Yn,Mi,U,jo,ge,Sn,lo,so,co,po,mo,uo,an,Gt,Go,_t,Ci,Pd,br,dn,pn,cn,Jo,So,xn,yo,ao,bo,B,Qn,Me],encapsulation:2});var qp=kd;var uu=[{path:"",component:sp,data:{title:"ROUTE.ESTATE"},children:[{path:"config",loadChildren:()=>import("./chunk-TQQERG7F.js").then(n=>n.EstateConfigModule),data:{title:"ROUTE.ESTATE"}},{path:"overview-events",component:mp,data:{title:"ROUTE.ESTATE.EVENTS"}},{path:"overview-summary",component:up,data:{title:"ROUTE.ESTATE.SUMMARY"}},{path:"property",component:Ti,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/Action/:Action",component:Ti,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkPropertyTypeLanduseId/:LinkPropertyTypeLanduseId",component:Ti,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkPropertyTypeUsageId/:LinkPropertyTypeUsageId",component:Ti,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkContractTypeId/:LinkContractTypeId",component:Ti,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkBillboardId/:LinkBillboardId",component:Ti,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkCustomerOrderId/:LinkCustomerOrderId",component:Ti,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkUserId/:LinkUserId",component:Ti,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkProjectId/:LinkProjectId",component:Ti,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkCompanyId/:LinkCompanyId",component:Ti,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkEstateExpertId/:LinkEstateExpertId",component:Ti,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkEstateAgencyId/:LinkEstateAgencyId",component:Ti,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/InChecking/:InChecking",component:Ti,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/recordstatus/:RecordStatus",component:Ti,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/add",component:Zd,data:{title:"ROUTE.ESTATE.PROPERTYADD"}},{path:"property/add/LinkPropertyTypeLanduseId/:LinkPropertyTypeLanduseId",component:Zd,data:{title:"ROUTE.ESTATE.PROPERTYADD"}},{path:"property/edit/:id",component:qp,data:{title:"ROUTE.ESTATE.PROPERTYEDIT"}},{path:"property-type-usage",component:jp,data:{title:"ROUTE.ESTATE.TYPEUSAGE"}},{path:"property-type-landuse",component:Hp,data:{title:"ROUTE.ESTATE.LANDUSE"}},{path:"property-ads/LinkPropertyId/:LinkPropertyId",component:qd,data:{title:"ROUTE.ESTATE.PROPERTYADS"}},{path:"property-ads",component:qd,data:{title:"ROUTE.ESTATE.PROPERTYADS"}},{path:"property-ads/sale/:LinkPropertyId",component:hp,data:{title:"ROUTE.ESTATE.PROPERTYADS"}},{path:"activity-type",component:Rc,data:{title:"ROUTE.ESTATE.ACTIVITYTYPE"}},{path:"property-company",component:zd,data:{title:"ROUTE.ESTATE.COMPANY"}},{path:"property-company/LinkProjectId/:LinkProjectId",component:zd,data:{title:"ROUTE.ESTATE.COMPANY"}},{path:"property-company/add",component:yp,data:{title:"ROUTE.ESTATE.COMPANY"}},{path:"property-company/edit/:id",component:Sp,data:{title:"ROUTE.ESTATE.COMPANY"}},{path:"property-supplier",component:Kd,data:{title:"ROUTE.ESTATE.SUPPLIER"}},{path:"property-supplier/LinkProjectId/:LinkProjectId",component:Kd,data:{title:"ROUTE.ESTATE.SUPPLIER"}},{path:"property-supplier/add",component:Lp,data:{title:"ROUTE.ESTATE.SUPPLIER"}},{path:"property-supplier/edit/:id",component:Vp,data:{title:"ROUTE.ESTATE.SUPPLIER"}},{path:"property-history",component:pn,data:{title:"ROUTE.ESTATE.HISTORY"}},{path:"property-history/InCheckingOnDay/:InCheckingOnDay",component:pn,data:{title:"ROUTE.ESTATE.HISTORY"}},{path:"property-history/InCheckingPlanedToDay/:InCheckingPlanedToDay",component:pn,data:{title:"ROUTE.ESTATE.HISTORY"}},{path:"property-history/LinkPropertyId/:LinkPropertyId",component:pn,data:{title:"ROUTE.ESTATE.HISTORY"}},{path:"property-history/LinkEstateExpertId/:LinkEstateExpertId",component:pn,data:{title:"ROUTE.ESTATE.HISTORY"}},{path:"property-history/LinkCustomerOrderId/:LinkCustomerOrderId",component:pn,data:{title:"ROUTE.ESTATE.HISTORY"}},{path:"property-history/LinkEstateAgencyId/:LinkEstateAgencyId",component:pn,data:{title:"ROUTE.ESTATE.HISTORY"}},{path:"property-history/recordstatus/:RecordStatus",component:pn,data:{title:"ROUTE.ESTATE.HISTORY"}},{path:"property-history/responsibleUserId/:ResponsibleUserId",component:pn,data:{title:"ROUTE.ESTATE.HISTORY"}},{path:"property-history/activitystatus/:ActivityStatus",component:pn,data:{title:"ROUTE.ESTATE.HISTORY"}},{path:"property-history/action/:Action",component:pn,data:{title:"ROUTE.ESTATE.HISTORY"}},{path:"expert-price",component:xp,data:{title:"ROUTE.EXPERT.PRICE"}},{path:"ads-type",component:Lc,data:{title:"ROUTE.ESTATE.ADSTYPE"}},{path:"account-agency",component:yo,data:{title:"ROUTE.ESTATE.ACCOUNTAGENCY"}},{path:"account-agency/LinkAccountUserId/:LinkAccountUserId",component:yo,data:{title:"ROUTE.ESTATE.ACCOUNTAGENCY"}},{path:"account-user",component:So,data:{title:"ROUTE.ESTATE.ACCOUNTUSER"}},{path:"account-user/LinkAccountAgencyId/:LinkAccountAgencyId",component:So,data:{title:"ROUTE.ESTATE.ACCOUNTUSER"}},{path:"contract-type",component:Xc,data:{title:"ROUTE.ESTATE.CONTRACTTYPE"}},{path:"billboard",component:Uc,data:{title:"ROUTE.ESTATE.BILLBOARD"}},{path:"billboard/add",component:Wd,data:{title:"ROUTE.ESTATE.BILLBOARD"}},{path:"billboard/add-copy/:id",component:Wd,data:{title:"ROUTE.ESTATE.BILLBOARD"}},{path:"billboard/edit/:id",component:Gc,data:{title:"ROUTE.ESTATE.BILLBOARD"}},{path:"property-project",component:Dp,data:{title:"ROUTE.ESTATE.PROJECT"}},{path:"property-project/add",component:Pp,data:{title:"ROUTE.ESTATE.PROJECT"}},{path:"property-project/edit/:id",component:Rp,data:{title:"ROUTE.ESTATE.PROJECT"}},{path:"category-zone",component:Kc,data:{title:"ROUTE.ESTATE.CATEGORY.ZONE"}},{path:"category-rack",component:Qc,data:{title:"ROUTE.ESTATE.CATEGORY.RACK"}},{path:"customer-order",component:Jo,data:{title:"ROUTE.ESTATE.CUSTOMER.ORDER"}},{path:"customer-order/recordstatus/:RecordStatus",component:Jo,data:{title:"ROUTE.ESTATE.CUSTOMER.ORDER"}},{path:"customer-order/recordstatus/:RecordStatus/:ResponsibleUserId",component:Jo,data:{title:"ROUTE.ESTATE.CUSTOMER.ORDER"}},{path:"customer-order/responsibleUserId/:ResponsibleUserId",component:Jo,data:{title:"ROUTE.ESTATE.CUSTOMER.ORDER"}},{path:"customer-order/edit/:id",component:np,data:{title:"ROUTE.ESTATE.CUSTOMER.ORDER"}},{path:"customer-order-result/LinkCustomerOrder/:LinkCustomerOrder",component:Gd,data:{title:"ROUTE.ESTATE.CUSTOMER.ORDERRESULT"}},{path:"customer-order-result/LinkProperty/:LinkProperty",component:Gd,data:{title:"ROUTE.ESTATE.CUSTOMER.ORDERRESULT"}},{path:"property-detail-group",component:vp,data:{title:"ROUTE.ESTATE.DETAIL.GROUP"}},{path:"property-detail",component:Yd,data:{title:"ROUTE.ESTATE.PROPERTYDETAIL"}},{path:"property-detail/LinkPropertyTypeLanduseId/:LinkPropertyTypeLanduseId",component:Yd,data:{title:"ROUTE.ESTATE.PROPERTYDETAIL"}}]}];var va=class va{};va.\u0275fac=function(e){return new(e||va)},va.\u0275mod=$d({type:va}),va.\u0275inj=Xd({imports:[zp.forChild(uu),zp]});var Qp=va;var Ia=class Ia{};Ia.\u0275fac=function(e){return new(e||Ia)},Ia.\u0275mod=$d({type:Ia}),Ia.\u0275inj=Xd({providers:[ym,Im,X,Cm,ic,On,ba,bm,Tm,Cn,wm,Ai,fn,ir,nr,Wr,Hr,$i,Ta,gi,xm,Ii,Gr,To,to,Rm,km,Dm,In,vn,io,ar,Ei,$n,En,_n,rr,eo,Mm,wt,vm,Em],imports:[pm,Qp,Hm,Wm.withConfig({warnOnNgModelWithFormControl:"never"}),a0,m0,s0,n0,$m,Xm,t0,_0,Om,f0,o0]});var fu=Ia;export{fu as EstateModule};
