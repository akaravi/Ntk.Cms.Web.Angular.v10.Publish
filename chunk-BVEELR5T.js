import{a as Jt}from"./chunk-4UY6S5YY.js";import{a as ot}from"./chunk-2EOZX3IH.js";import{a as Mt}from"./chunk-FD64HRSW.js";import{a as St}from"./chunk-VSYY4AIL.js";import{a as Zo}from"./chunk-H7RMGDGN.js";import{a as bi}from"./chunk-VQOTVPND.js";import{a as Xo}from"./chunk-JG7RDSX7.js";import{a as dt}from"./chunk-RYDDYEWA.js";import{a as st}from"./chunk-JVJGBAWS.js";import{a as ct}from"./chunk-QUBI22PC.js";import{c as it,d as nt,e as rt,g as at,h as lt}from"./chunk-44ANJLTO.js";import{a as tt,b as zt}from"./chunk-7CBKBXFK.js";import{b as ft,c as It,e as et}from"./chunk-OWDIM4AP.js";import{b as Yo}from"./chunk-IRSRD4AH.js";import"./chunk-IP2K5E25.js";import"./chunk-HTBUGXYF.js";import{a as Ie}from"./chunk-XSO7DJFU.js";import{a as ie}from"./chunk-JI72DBZ7.js";import{e as Ze,f as q}from"./chunk-HXH5Z4PQ.js";import{$a as ne,Ab as Je,Ba as Ko,Bb as $e,Ca as Qo,Cb as Ye,Da as zo,Db as Xe,Fc as U,Ic as F,K as Kt,Ka as ee,Kc as j,L as Qt,La as te,Ma as Ne,N as jo,Nc as $o,O as qo,Qb as P,Rb as H,W as io,Z as Wo,Za as Ge,ba as Ve,cc as Jo,eb as Oe,fb as Pe,hb as He,lb as ut,mb as Ue,n as gt,nb as Fe,q as _t,r as xe,t as De,ub as je,v as vt,vb as qe,w as Be,wb as We,xb as Ke,yb as Qe,zb as ze}from"./chunk-OXCCWIF2.js";import{$b as Ee,Bq as xo,Cb as $,Cd as be,Cq as K,Db as Y,Dg as Uo,Eb as X,Fa as a,Fd as bt,Gd as Q,Ib as oe,Ic as ye,Kb as me,Kc as N,Kd as A,Ld as Me,Md as Z,Mg as Gt,Nb as d,Ng as Ot,Oa as m,Ob as D,Oc as Re,Og as Pt,Pb as u,Pg as Ht,Qc as pt,Qg as Ut,Rg as Ft,Sa as x,Sg as jt,Ta as to,Tb as R,Tc as Mi,Tg as qt,Ub as T,Ud as O,Uf as Le,Ug as Wt,Vb as L,Wa as J,Wb as fi,Wc as Vo,Y as eo,Ya as M,Yd as Rt,_b as we,cc as _,da as h,dc as v,ea as C,eb as ce,ec as vi,fb as de,fg as No,gg as Go,jb as f,kb as r,kg as Oo,lb as l,mb as g,og as Po,pg as Tt,qb as I,qg as Lt,rb as w,rg as kt,sb as se,sg as At,tb as E,tq as ke,ug as xt,uq as Fo,vc as V,vd as Te,vg as Ho,vq as Ae,wb as b,wg as Dt,xg as Bt,yb as p,yd as G,yg as Vt,zg as Nt}from"./chunk-SG3IEC2T.js";import{i as B}from"./chunk-SEDBTTTN.js";var Ii=class Ii{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};Ii.\u0275fac=function(e){return new(e||Ii)},Ii.\u0275cmp=x({type:Ii,selectors:[["app-coremodulelog"]],standalone:!1,decls:1,vars:0,template:function(e,o){e&1&&g(0,"router-outlet")},dependencies:[Fo],encapsulation:2});var oo=Ii;var nn=["vform"];function rn(i,n){if(i&1){let e=E();r(0,"div",18)(1,"button",19),b("click",function(){h(e);let t=p();return C(t.onFormCancel())}),g(2,"i",20),d(3),_(4,"translate"),l(),r(5,"button",21),g(6,"i",20),d(7),_(8,"translate"),l()()}i&2&&(a(3),u(" ",v(4,2,"ACTION.CANCEL")," "),a(4),u(" ",v(8,4,"ACTION.SAVE")," "))}var wi=class wi extends tt{constructor(e,o,t,c,S,s,k,re,z,le){super(c,new Gt,z,le);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreModuleLogFavoriteService=c;this.cmsToastrService=S;this.tokenHelper=s;this.cmsStoreService=k;this.cdr=re;this.publicHelper=z;this.translate=le;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new bt;this.dataModel=new Gt;this.formInfo=new Z;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreModuleLogFavoriteService.setAccessLoad(),this.coreModuleLogFavoriteService.setAccessDataType(be.Editor),this.coreModuleLogFavoriteService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreModuleLogFavoriteService.ServiceEdit(this.dataModel).subscribe({next:o=>{this.dataModelResult=o,o.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:o=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};wi.\u0275fac=function(o){return new(o||wi)(m(te),m(ee),m(O),m(kt),m(j),m(F),m(U),m(V),m(q),m(P))},wi.\u0275cmp=x({type:wi,selectors:[["app-coremodulelog-favorite-edit"]],viewQuery:function(o,t){if(o&1&&$(nn,5),o&2){let c;Y(c=X())&&(t.formGroup=c.first)}},standalone:!1,features:[J],decls:32,vars:24,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(o,t){if(o&1){let c=E();r(0,"div",4),g(1,"app-progress-spinner",5),r(2,"div",6)(3,"p",7),d(4),l(),r(5,"p"),d(6),_(7,"translate"),l(),r(8,"form",8,0),b("ngSubmit",function(){return h(c),C(t.onFormSubmit())}),g(10,"app-cms-site-selector",9),_(11,"translate"),g(12,"app-cms-user-selector",9),_(13,"translate"),g(14,"app-cms-member-selector",9),_(15,"translate"),r(16,"div",10)(17,"label",11),d(18,"ModuleName"),l(),r(19,"input",12,1),L("ngModelChange",function(s){return h(c),T(t.dataModel.moduleName,s)||(t.dataModel.moduleName=s),C(s)}),l()(),r(21,"div",10)(22,"label",13),d(23,"ModuleEntityName"),l(),r(24,"input",14,2),L("ngModelChange",function(s){return h(c),T(t.dataModel.moduleEntityName,s)||(t.dataModel.moduleEntityName=s),C(s)}),l()(),r(26,"div",10)(27,"label",15),d(28,"ModuleEntityId"),l(),r(29,"input",16,3),L("ngModelChange",function(s){return h(c),T(t.dataModel.moduleEntityId,s)||(t.dataModel.moduleEntityId=s),C(s)}),l()(),M(31,rn,9,6,"div",17),l()()()}o&2&&(a(),f("optionsInfoAreaId",t.constructorInfoAreaId),a(3),u(" ",t.formInfo.formTitle," "),a(2),u(" ",v(7,16,"TITLE.Be_Careful_When_Entering_Information")," "),a(4),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(11,18,"TITLE.SITE")),a(2),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(13,20,"TITLE.USER")),a(2),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",v(15,22,"TITLE.Member")),a(5),R("ngModel",t.dataModel.moduleName),a(5),R("ngModel",t.dataModel.moduleEntityName),a(5),R("ngModel",t.dataModel.moduleEntityId),a(2),f("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[N,Be,gt,_t,xe,vt,De,ne,ft,zt,Jt,ie,H],encapsulation:2});var no=wi;var an=["vform"];function ln(i,n){if(i&1&&(r(0,"div",7),g(1,"i",11),r(2,"span",12),d(3),l()()),i&2){let e=p(2);a(3),D(e.formInfo.submitResultMessage)}}function sn(i,n){if(i&1&&(r(0,"div",8),g(1,"i",13),r(2,"span",12),d(3),l()()),i&2){let e=p(2);a(3),D(e.formInfo.submitResultMessage)}}function cn(i,n){if(i&1&&(r(0,"div",9),g(1,"i",14),r(2,"span",12),d(3),l()()),i&2){let e=p(2);a(3),D(e.formInfo.submitResultMessage)}}function dn(i,n){if(i&1&&(r(0,"div",10),g(1,"i",15),r(2,"span",12),d(3),l()()),i&2){let e=p(2);a(3),D(e.formInfo.submitResultMessage)}}function mn(i,n){if(i&1&&ce(0,ln,4,1,"div",7)(1,sn,4,1,"div",8)(2,cn,4,1,"div",9)(3,dn,4,1,"div",10),i&2){let e,o=p();de((e=o.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function pn(i,n){if(i&1){let e=E();r(0,"div",16)(1,"button",17),b("click",function(){h(e);let t=p();return C(t.onFormCancel())}),g(2,"i",18),d(3),_(4,"translate"),l()()}i&2&&(a(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var Ei=class Ei{constructor(n,e,o,t,c,S,s,k,re,z){this.data=n;this.dialogRef=e;this.coreEnumService=o;this.coreModuleLogFavoriteService=t;this.cmsToastrService=c;this.tokenHelper=S;this.cmsStoreService=s;this.cdr=k;this.publicHelper=re;this.translate=z;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Le;this.dataModelResult=new Q;this.dataModel=new Gt;this.formInfo=new Z;this.dataModelEnumSendSmsStatusTypeResult=new Q;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=n.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(n=>{this.formInfo.formTitle=n}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(n=>n.tokenInfoStore).subscribe(n=>B(this,null,function*(){this.tokenInfo=n}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:n=>{this.dataModelEnumSendSmsStatusTypeResult=n}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(n=>n.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.coreModuleLogFavoriteService.setAccessLoad(),this.coreModuleLogFavoriteService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ei.\u0275fac=function(e){return new(e||Ei)(m(te),m(ee),m(O),m(kt),m(j),m(F),m(U),m(V),m(q),m(P))},Ei.\u0275cmp=x({type:Ei,selectors:[["app-coremodulelog-favorite-view"]],viewQuery:function(e,o){if(e&1&&$(an,5),e&2){let t;Y(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(r(0,"div",0),d(1),l(),r(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),l(),r(5,"div",4),ce(6,mn,4,1),l(),r(7,"div",5),M(8,pn,5,3,"div",6),l()),e&2&&(a(),u(" ",o.formInfo.formTitle," "),a(2),f("optionsInfoAreaId",o.constructorInfoAreaId),a(),f("dataModel",o.dataModel)("optionMethod",1),a(2),de((o.formInfo==null||o.formInfo.submitResultMessage==null?null:o.formInfo.submitResultMessage.length)>0?6:-1),a(2),f("ngIf",o.formInfo.submitButtonEnabled))},dependencies:[N,ie,ot,H],encapsulation:2});var ro=Ei;var un=()=>[5,10,20,100],fn=i=>({display:i});function Sn(i,n){if(i&1&&g(0,"app-core-user-header",44),i&2){let e=p();f("optionId",e.requestLinkUserId)}}function hn(i,n){if(i&1){let e=E();r(0,"a",45),b("click",function(){h(e);let t=p();return C(t.onActionBackToParent())}),g(1,"i",46),l()}}function Cn(i,n){if(i&1){let e=E();r(0,"div",47)(1,"a",48),b("click",function(){h(e);let t=p();return C(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",49)(3,"br"),l(),r(4,"p",50),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.VIEW")," "))}function gn(i,n){if(i&1){let e=E();r(0,"div",47)(1,"a",51),b("click",function(){h(e);let t=p();return C(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",52)(3,"br"),l(),r(4,"p",50),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.EDIT")," "))}function _n(i,n){if(i&1){let e=E();r(0,"div",47)(1,"a",53),b("click",function(){h(e);let t=p();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",54)(3,"br"),l(),r(4,"p",50),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.DELETE")," "))}function vn(i,n){if(i&1){let e=E();r(0,"div",47)(1,"a",48),b("click",function(){h(e);let t=p();return C(t.onActionButtonViewContent(t.tableRowSelected))}),g(2,"i",55)(3,"br"),l(),r(4,"p",50),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.CONTENT")," "))}function Mn(i,n){if(i&1){let e=E();r(0,"div",47)(1,"a",48),b("click",function(){h(e);let t=p();return C(t.onActionButtonViewUserRow(t.tableRowSelected))}),g(2,"i",56)(3,"br"),l(),r(4,"p",50),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.USER")," "))}function bn(i,n){if(i&1&&(r(0,"mat-header-cell",57),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function In(i,n){if(i&1&&(r(0,"mat-cell"),d(1),l()),i&2){let e=n.$implicit;a(),u(" ",e.id," ")}}function wn(i,n){if(i&1&&(r(0,"mat-header-cell",57),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function En(i,n){if(i&1&&g(0,"select",60),i&2){let e=p().$implicit,o=p();f("contentService",o.contentService)("row",e)("ngStyle",Ee(3,fn,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function yn(i,n){if(i&1&&(r(0,"mat-cell",58),_(1,"statusCellClass"),g(2,"i",58),_(3,"statusIconClass"),M(4,En,1,5,"select",59),l()),i&2){let e=n.$implicit,o=p();f("ngClass",v(1,3,e.recordStatus)),a(2),f("ngClass",v(3,5,e.recordStatus)),a(2),f("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function Rn(i,n){if(i&1&&(r(0,"mat-header-cell",57),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Tn(i,n){if(i&1&&(r(0,"mat-cell"),d(1),_(2,"cmssiteinfo"),_(3,"async"),l()),i&2){let e=n.$implicit;a(),u(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function Ln(i,n){if(i&1&&(r(0,"mat-header-cell",57),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function kn(i,n){if(i&1&&(r(0,"mat-cell"),d(1),_(2,"cmsuserinfo"),_(3,"async"),l()),i&2){let e=n.$implicit;a(),u(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function An(i,n){if(i&1&&(r(0,"mat-header-cell",57),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function xn(i,n){if(i&1&&(r(0,"mat-cell"),d(1),l()),i&2){let e=n.$implicit;a(),u(" ",e.linkMemberId," ")}}function Dn(i,n){if(i&1&&(r(0,"mat-header-cell",57),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.moduleName==null?null:e.fieldsInfo.moduleName.fieldTitle," ")}}function Bn(i,n){if(i&1&&(r(0,"mat-cell"),d(1),l()),i&2){let e=n.$implicit;a(),u(" ",e.moduleName," ")}}function Vn(i,n){if(i&1&&(r(0,"mat-header-cell",57),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.moduleEntityName==null?null:e.fieldsInfo.moduleEntityName.fieldTitle," ")}}function Nn(i,n){if(i&1&&(r(0,"mat-cell"),d(1),l()),i&2){let e=n.$implicit;a(),u(" ",e.moduleEntityName," ")}}function Gn(i,n){if(i&1&&(r(0,"mat-header-cell",57),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.moduleEntityId==null?null:e.fieldsInfo.moduleEntityId.fieldTitle," ")}}function On(i,n){if(i&1&&(r(0,"mat-cell"),d(1),l()),i&2){let e=n.$implicit;a(),u(" ",e.moduleEntityId," ")}}function Pn(i,n){if(i&1&&(r(0,"mat-header-cell",57),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Hn(i,n){if(i&1&&(r(0,"mat-cell",61),d(1),_(2,"localeDateTime"),l()),i&2){let e=n.$implicit;a(),u(" ",v(2,1,e.createdDate)," ")}}function Un(i,n){i&1&&(r(0,"mat-header-cell"),d(1),_(2,"translate"),l()),i&2&&(a(),u(" ",v(2,1,"TITLE.OPTION")," "))}function Fn(i,n){if(i&1&&(r(0,"mat-cell",62)(1,"button",63)(2,"mat-icon"),d(3,"more_vert"),l()(),g(4,"mat-menu",null,2),l()),i&2){let e=oe(5);a(),f("matMenuTriggerFor",e)}}function jn(i,n){i&1&&g(0,"mat-header-row")}function qn(i,n){if(i&1){let e=E();r(0,"mat-row",64),b("click",function(t){let c=h(e).$implicit,S=p();return C(S.onActionTableRowSelect(c,t))})("rtclick",function(t){let c=h(e).$implicit,S=p();return C(S.onActionTableRowSelect(c,t))}),l()}if(i&2){let e=n.$implicit,o=p();me("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var yi=class yi extends it{constructor(e,o,t,c,S,s,k,re,z,le,yt,Ct,wt){super(o,new Gt,Ct,s,re);this.coreEnumService=e;this.contentService=o;this.cmsToastrService=t;this.cmsConfirmationDialogService=c;this.activatedRoute=S;this.tokenHelper=s;this.cdr=k;this.translate=re;this.router=z;this.cmsStoreService=le;this.pageInfo=yt;this.publicHelper=Ct;this.dialog=wt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestlinkMemberId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Me;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkUserId","linkSiteId","linkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkUserId","linkSiteId","linkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","createdDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberId")),this.requestLinkSiteId>0){let y=new A;y.propertyName="LinkCmsSiteId",y.value=this.requestLinkSiteId,this.filteModelContent.filters.push(y)}if(this.requestLinkUserId>0){let y=new A;y.propertyName="linkUserId",y.value=this.requestLinkUserId,this.filteModelContent.filters.push(y)}if(this.requestlinkMemberId>0){let y=new A;y.propertyName="linkMemberId",y.value=this.requestlinkMemberId,this.filteModelContent.filters.push(y)}this.optionsSearch.parentMethods={onSubmit:y=>this.onSubmitOptionsSearch(y)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=G.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=G.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Gt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new A;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new A;t.propertyAnyName="linkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new A;t.propertyAnyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=G.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=G.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=G.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(ro,{height:"90%",panelClass:o,enterAnimationDuration:K.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:K.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(no,{height:"90%",panelClass:o,enterAnimationDuration:K.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:K.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{o=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(c=>{if(c){let S=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(S,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(S)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(S,!1)}})}}).catch(()=>{})}onActionButtonViewContent(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e);let o="/"+e.moduleName+"/"+e.moduleEntityName.substring(e.moduleName.length)+"/edit/"+e.moduleEntityId;e.moduleEntityName.indexOf(e.moduleName)>=0?this.router.navigate([o.toLowerCase()]):this.router.navigate([o.toLowerCase()])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{o.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{o.set(s,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{o.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),S=new A;S.propertyName="recordStatus",S.value=Te.Available,c.filters.push(S),this.contentService.ServiceGetCount(c).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{o.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.translate.get("MESSAGE.content_does_not_include_member_informations").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};yi.\u0275fac=function(o){return new(o||yi)(m(O),m(kt),m(j),m(Ie),m(ke),m(F),m(V),m(P),m(Ae),m(U),m(Ze),m(q),m(Ne))},yi.\u0275cmp=x({type:yi,selectors:[["app-coremodulelog-favorite-list"]],standalone:!1,features:[J],decls:65,vars:26,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"justify-content-start"],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","linkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-folder-grid","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let c=E();M(0,Sn,1,1,"app-core-user-header",3),r(1,"app-cms-html-list",4),L("optionActionGuideNoticeDisplayChange",function(s){return h(c),T(t.viewGuideNotice,s)||(t.viewGuideNotice=s),C(s)}),b("optionOnActionButtonMemoRow",function(){return h(c),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(c),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(c),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(c),C(t.onActionButtonPrintRow())}),I(2,5),d(3," -------------------------------------- "),w(),se(4,6),I(5,7),r(6,"div",8),g(7,"div",9)(8,"div",10),l(),w(),se(9,7),I(10,11),M(11,hn,2,0,"a",12),r(12,"a",13),b("click",function(){return h(c),C(t.viewGuideNotice=!t.viewGuideNotice)}),g(13,"i",14),l(),r(14,"a",13),b("click",function(){return h(c),C(t.onActionButtonReload())}),g(15,"i",15),l(),w(),se(16,16)(17,17),I(18,18),M(19,Cn,7,3,"div",19)(20,gn,7,3,"div",19)(21,_n,7,3,"div",19)(22,vn,7,3,"div",19)(23,Mn,7,3,"div",19),w(),I(24,20),r(25,"app-cms-search-list",21),L("optionsChange",function(s){return h(c),T(t.optionsSearch,s)||(t.optionsSearch=s),C(s)}),l(),r(26,"app-cms-statist-list",21),L("optionsChange",function(s){return h(c),T(t.optionsStatist,s)||(t.optionsStatist=s),C(s)}),l(),w(),I(27,22),r(28,"mat-table",23,0),b("matSortChange",function(){h(c);let s=oe(29);return C(t.onTableSortData(s))}),I(30,24),M(31,bn,2,1,"mat-header-cell",25)(32,In,2,1,"mat-cell",26),w(),I(33,27),M(34,wn,2,1,"mat-header-cell",25)(35,yn,5,7,"mat-cell",28),w(),I(36,29),M(37,Rn,2,1,"mat-header-cell",25)(38,Tn,4,5,"mat-cell",26),w(),I(39,30),M(40,Ln,2,1,"mat-header-cell",25)(41,kn,4,5,"mat-cell",26),w(),I(42,31),M(43,An,2,1,"mat-header-cell",25)(44,xn,2,1,"mat-cell",26),w(),I(45,32),M(46,Dn,2,1,"mat-header-cell",25)(47,Bn,2,1,"mat-cell",26),w(),I(48,33),M(49,Vn,2,1,"mat-header-cell",25)(50,Nn,2,1,"mat-cell",26),w(),I(51,34),M(52,Gn,2,1,"mat-header-cell",25)(53,On,2,1,"mat-cell",26),w(),I(54,35),M(55,Pn,2,1,"mat-header-cell",25)(56,Hn,3,3,"mat-cell",36),w(),I(57,37),M(58,Un,3,3,"mat-header-cell",38)(59,Fn,6,1,"mat-cell",39),w(),M(60,jn,1,0,"mat-header-row",40)(61,qn,1,2,"mat-row",41),l(),w(),I(62,42),r(63,"mat-paginator",43,1),b("page",function(s){return h(c),C(t.onTablePageingData(s))}),l(),w(),l()}o&2&&(f("ngIf",t.requestLinkUserId>0),a(),f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),a(10),f("ngIf",t.requestLinkSiteId>0),a(4),me("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),a(4),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),a(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),a(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),a(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),a(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),a(2),R("options",t.optionsSearch),a(),R("options",t.optionsStatist),a(2),f("dataSource",t.tableSource),a(32),f("matHeaderRowDef",t.tabledisplayedColumns),a(),f("matRowDefColumns",t.tabledisplayedColumns),a(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",we(25,un)))},dependencies:[ye,N,Re,Ve,Ge,ne,Oe,Pe,He,Ue,Fe,je,We,Je,Ke,qe,$e,Qe,ze,Ye,Xe,nt,rt,at,lt,st,Mt,pt,H,It,St,et,ct,dt],encapsulation:2});var ao=yi;var Wn=["vform"];function Kn(i,n){if(i&1){let e=E();r(0,"div",18)(1,"button",19),b("click",function(){h(e);let t=p();return C(t.onFormCancel())}),g(2,"i",20),d(3),_(4,"translate"),l(),r(5,"button",21),g(6,"i",20),d(7),_(8,"translate"),l()()}i&2&&(a(3),u(" ",v(4,2,"ACTION.CANCEL")," "),a(4),u(" ",v(8,4,"ACTION.SAVE")," "))}var Ti=class Ti extends tt{constructor(e,o,t,c,S,s,k,re,z,le){super(c,new Ot,z,le);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreModuleLogLikeService=c;this.cmsToastrService=S;this.tokenHelper=s;this.cmsStoreService=k;this.cdr=re;this.publicHelper=z;this.translate=le;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new bt;this.dataModel=new Ot;this.formInfo=new Z;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreModuleLogLikeService.setAccessLoad(),this.coreModuleLogLikeService.setAccessDataType(be.Editor),this.coreModuleLogLikeService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreModuleLogLikeService.ServiceEdit(this.dataModel).subscribe({next:o=>{this.dataModelResult=o,o.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:o=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ti.\u0275fac=function(o){return new(o||Ti)(m(te),m(ee),m(O),m(Lt),m(j),m(F),m(U),m(V),m(q),m(P))},Ti.\u0275cmp=x({type:Ti,selectors:[["app-coremodulelog-like-edit"]],viewQuery:function(o,t){if(o&1&&$(Wn,5),o&2){let c;Y(c=X())&&(t.formGroup=c.first)}},standalone:!1,features:[J],decls:32,vars:24,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(o,t){if(o&1){let c=E();r(0,"div",4),g(1,"app-progress-spinner",5),r(2,"div",6)(3,"p",7),d(4),l(),r(5,"p"),d(6),_(7,"translate"),l(),r(8,"form",8,0),b("ngSubmit",function(){return h(c),C(t.onFormSubmit())}),g(10,"app-cms-site-selector",9),_(11,"translate"),g(12,"app-cms-user-selector",9),_(13,"translate"),g(14,"app-cms-member-selector",9),_(15,"translate"),r(16,"div",10)(17,"label",11),d(18,"ModuleName"),l(),r(19,"input",12,1),L("ngModelChange",function(s){return h(c),T(t.dataModel.moduleName,s)||(t.dataModel.moduleName=s),C(s)}),l()(),r(21,"div",10)(22,"label",13),d(23,"ModuleEntityName"),l(),r(24,"input",14,2),L("ngModelChange",function(s){return h(c),T(t.dataModel.moduleEntityName,s)||(t.dataModel.moduleEntityName=s),C(s)}),l()(),r(26,"div",10)(27,"label",15),d(28,"ModuleEntityId"),l(),r(29,"input",16,3),L("ngModelChange",function(s){return h(c),T(t.dataModel.moduleEntityId,s)||(t.dataModel.moduleEntityId=s),C(s)}),l()(),M(31,Kn,9,6,"div",17),l()()()}o&2&&(a(),f("optionsInfoAreaId",t.constructorInfoAreaId),a(3),u(" ",t.formInfo.formTitle," "),a(2),u(" ",v(7,16,"TITLE.Be_Careful_When_Entering_Information")," "),a(4),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(11,18,"TITLE.SITE")),a(2),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(13,20,"TITLE.USER")),a(2),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",v(15,22,"TITLE.Member")),a(5),R("ngModel",t.dataModel.moduleName),a(5),R("ngModel",t.dataModel.moduleEntityName),a(5),R("ngModel",t.dataModel.moduleEntityId),a(2),f("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[N,Be,gt,_t,xe,vt,De,ne,ft,zt,Jt,ie,H],encapsulation:2});var lo=Ti;var Qn=["vform"];function zn(i,n){if(i&1&&(r(0,"div",9),g(1,"i",13),r(2,"span",14),d(3),l()()),i&2){let e=p(2);a(3),D(e.formInfo.submitResultMessage)}}function Jn(i,n){if(i&1&&(r(0,"div",10),g(1,"i",15),r(2,"span",14),d(3),l()()),i&2){let e=p(2);a(3),D(e.formInfo.submitResultMessage)}}function $n(i,n){if(i&1&&(r(0,"div",11),g(1,"i",16),r(2,"span",14),d(3),l()()),i&2){let e=p(2);a(3),D(e.formInfo.submitResultMessage)}}function Yn(i,n){if(i&1&&(r(0,"div",12),g(1,"i",17),r(2,"span",14),d(3),l()()),i&2){let e=p(2);a(3),D(e.formInfo.submitResultMessage)}}function Xn(i,n){if(i&1&&ce(0,zn,4,1,"div",9)(1,Jn,4,1,"div",10)(2,$n,4,1,"div",11)(3,Yn,4,1,"div",12),i&2){let e,o=p();de((e=o.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function Zn(i,n){if(i&1){let e=E();r(0,"div",18)(1,"button",19),b("click",function(){h(e);let t=p();return C(t.onFormCancel())}),g(2,"i",20),d(3),_(4,"translate"),l()()}i&2&&(a(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var Li=class Li{constructor(n,e,o,t,c,S,s,k,re,z){this.data=n;this.dialogRef=e;this.coreEnumService=o;this.coreModuleLogLikeService=t;this.cmsToastrService=c;this.tokenHelper=S;this.cmsStoreService=s;this.cdr=k;this.publicHelper=re;this.translate=z;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Le;this.dataModelResult=new Q;this.dataModel=new Ot;this.formInfo=new Z;this.dataModelEnumSendSmsStatusTypeResult=new Q;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=n.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(n=>{this.formInfo.formTitle=n}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(n=>n.tokenInfoStore).subscribe(n=>B(this,null,function*(){this.tokenInfo=n}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:n=>{this.dataModelEnumSendSmsStatusTypeResult=n}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(n=>n.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.coreModuleLogLikeService.setAccessLoad(),this.coreModuleLogLikeService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Li.\u0275fac=function(e){return new(e||Li)(m(te),m(ee),m(O),m(Lt),m(j),m(F),m(U),m(V),m(q),m(P))},Li.\u0275cmp=x({type:Li,selectors:[["app-coremodulelog-report-abuse-view"]],viewQuery:function(e,o){if(e&1&&$(Qn,5),e&2){let t;Y(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:14,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(r(0,"div",0),g(1,"app-progress-spinner",1),r(2,"div",2)(3,"p",3),d(4),l(),r(5,"p"),d(6),_(7,"translate"),l(),r(8,"div",4),g(9,"app-cms-json-list",5),l(),r(10,"div",6),ce(11,Xn,4,1),l(),r(12,"div",7),M(13,Zn,5,3,"div",8),l()()()),e&2&&(a(),f("optionsInfoAreaId",o.constructorInfoAreaId),a(3),u(" ",o.formInfo.formTitle," "),a(2),u(" ",v(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),a(3),f("dataModel",o.dataModel)("optionMethod",1),a(2),de((o.formInfo==null||o.formInfo.submitResultMessage==null?null:o.formInfo.submitResultMessage.length)>0?11:-1),a(2),f("ngIf",o.formInfo.submitButtonEnabled))},dependencies:[N,ie,ot,H],encapsulation:2});var so=Li;var er=()=>[5,10,20,100],tr=i=>({display:i});function ir(i,n){if(i&1&&g(0,"app-core-user-header",43),i&2){let e=p();f("optionId",e.requestLinkUserId)}}function or(i,n){if(i&1){let e=E();r(0,"a",44),b("click",function(){h(e);let t=p();return C(t.onActionBackToParent())}),g(1,"i",45),l()}}function nr(i,n){if(i&1){let e=E();r(0,"div",46)(1,"a",47),b("click",function(){h(e);let t=p();return C(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",48)(3,"br"),l(),r(4,"p",49),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.VIEW")," "))}function rr(i,n){if(i&1){let e=E();r(0,"div",46)(1,"a",50),b("click",function(){h(e);let t=p();return C(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",51)(3,"br"),l(),r(4,"p",49),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.EDIT")," "))}function ar(i,n){if(i&1){let e=E();r(0,"div",46)(1,"a",52),b("click",function(){h(e);let t=p();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",53)(3,"br"),l(),r(4,"p",49),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.DELETE")," "))}function lr(i,n){if(i&1){let e=E();r(0,"div",46)(1,"a",47),b("click",function(){h(e);let t=p();return C(t.onActionButtonViewUserRow(t.tableRowSelected))}),g(2,"i",54)(3,"br"),l(),r(4,"p",49),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.USER")," "))}function sr(i,n){if(i&1){let e=E();r(0,"div",46)(1,"a",47),b("click",function(){h(e);let t=p();return C(t.onActionButtonViewMemberRow(t.tableRowSelected))}),g(2,"i",55)(3,"br"),l(),r(4,"p",49),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.MEMBER")," "))}function cr(i,n){if(i&1&&(r(0,"mat-header-cell",56),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function dr(i,n){if(i&1&&(r(0,"mat-cell"),d(1),l()),i&2){let e=n.$implicit;a(),u(" ",e.id," ")}}function mr(i,n){if(i&1&&(r(0,"mat-header-cell",56),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function pr(i,n){if(i&1&&g(0,"select",59),i&2){let e=p().$implicit,o=p();f("contentService",o.contentService)("row",e)("ngStyle",Ee(3,tr,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function ur(i,n){if(i&1&&(r(0,"mat-cell",57),_(1,"statusCellClass"),g(2,"i",57),_(3,"statusIconClass"),M(4,pr,1,5,"select",58),l()),i&2){let e=n.$implicit,o=p();f("ngClass",v(1,3,e.recordStatus)),a(2),f("ngClass",v(3,5,e.recordStatus)),a(2),f("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function fr(i,n){if(i&1&&(r(0,"mat-header-cell",56),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Sr(i,n){if(i&1&&(r(0,"mat-cell"),d(1),_(2,"cmssiteinfo"),_(3,"async"),l()),i&2){let e=n.$implicit;a(),u(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function hr(i,n){if(i&1&&(r(0,"mat-header-cell",56),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Cr(i,n){if(i&1&&(r(0,"mat-cell"),d(1),_(2,"cmsuserinfo"),_(3,"async"),l()),i&2){let e=n.$implicit;a(),u(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function gr(i,n){if(i&1&&(r(0,"mat-header-cell",56),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function _r(i,n){if(i&1&&(r(0,"mat-cell"),d(1),l()),i&2){let e=n.$implicit;a(),u(" ",e.linkMemberId," ")}}function vr(i,n){if(i&1&&(r(0,"mat-header-cell",56),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.moduleName==null?null:e.fieldsInfo.moduleName.fieldTitle," ")}}function Mr(i,n){if(i&1&&(r(0,"mat-cell"),d(1),l()),i&2){let e=n.$implicit;a(),u(" ",e.moduleName," ")}}function br(i,n){if(i&1&&(r(0,"mat-header-cell",56),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.moduleEntityName==null?null:e.fieldsInfo.moduleEntityName.fieldTitle," ")}}function Ir(i,n){if(i&1&&(r(0,"mat-cell"),d(1),l()),i&2){let e=n.$implicit;a(),u(" ",e.moduleEntityName," ")}}function wr(i,n){if(i&1&&(r(0,"mat-header-cell",56),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.moduleEntityId==null?null:e.fieldsInfo.moduleEntityId.fieldTitle," ")}}function Er(i,n){if(i&1&&(r(0,"mat-cell"),d(1),l()),i&2){let e=n.$implicit;a(),u(" ",e.moduleEntityId," ")}}function yr(i,n){if(i&1&&(r(0,"mat-header-cell",56),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Rr(i,n){if(i&1&&(r(0,"mat-cell",60),d(1),_(2,"localeDateTime"),l()),i&2){let e=n.$implicit;a(),u(" ",v(2,1,e.createdDate)," ")}}function Tr(i,n){i&1&&(r(0,"mat-header-cell"),d(1),_(2,"translate"),l()),i&2&&(a(),u(" ",v(2,1,"TITLE.OPTION")," "))}function Lr(i,n){if(i&1&&(r(0,"mat-cell",61)(1,"button",62)(2,"mat-icon"),d(3,"more_vert"),l()(),g(4,"mat-menu",null,2),l()),i&2){let e=oe(5);a(),f("matMenuTriggerFor",e)}}function kr(i,n){i&1&&g(0,"mat-header-row")}function Ar(i,n){if(i&1){let e=E();r(0,"mat-row",63),b("click",function(t){let c=h(e).$implicit,S=p();return C(S.onActionTableRowSelect(c,t))})("rtclick",function(t){let c=h(e).$implicit,S=p();return C(S.onActionTableRowSelect(c,t))}),l()}if(i&2){let e=n.$implicit,o=p();me("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var ki=class ki extends it{constructor(e,o,t,c,S,s,k,re,z,le,yt,Ct,wt){super(o,new Ot,Ct,s,z);this.coreEnumService=e;this.contentService=o;this.cmsToastrService=t;this.cmsConfirmationDialogService=c;this.activatedRoute=S;this.tokenHelper=s;this.cmsStoreService=k;this.cdr=re;this.translate=z;this.router=le;this.pageInfo=yt;this.publicHelper=Ct;this.dialog=wt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestlinkMemberId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Me;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkUserId","linkSiteId","linkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkUserId","linkSiteId","linkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","createdDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberId")),this.requestLinkSiteId>0){let y=new A;y.propertyName="LinkCmsSiteId",y.value=this.requestLinkSiteId,this.filteModelContent.filters.push(y)}if(this.requestLinkUserId>0){let y=new A;y.propertyName="linkUserId",y.value=this.requestLinkUserId,this.filteModelContent.filters.push(y)}if(this.requestlinkMemberId>0){let y=new A;y.propertyName="linkMemberId",y.value=this.requestlinkMemberId,this.filteModelContent.filters.push(y)}this.optionsSearch.parentMethods={onSubmit:y=>this.onSubmitOptionsSearch(y)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=G.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=G.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ot);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new A;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new A;t.propertyAnyName="linkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new A;t.propertyAnyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=G.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=G.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=G.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(so,{height:"90%",panelClass:o,enterAnimationDuration:K.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:K.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(lo,{height:"90%",panelClass:o,enterAnimationDuration:K.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:K.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{o=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(c=>{if(c){let S=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(S,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(S)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(S,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{o.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{o.set(s,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{o.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),S=new A;S.propertyName="recordStatus",S.value=Te.Available,c.filters.push(S),this.contentService.ServiceGetCount(c).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{o.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.translate.get("MESSAGE.content_does_not_include_member_informations").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};ki.\u0275fac=function(o){return new(o||ki)(m(O),m(Lt),m(j),m(Ie),m(ke),m(F),m(U),m(V),m(P),m(Ae),m(Ze),m(q),m(Ne))},ki.\u0275cmp=x({type:ki,selectors:[["app-coremodulelog-like-list"]],standalone:!1,features:[J],decls:69,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","linkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let c=E();M(0,ir,1,1,"app-core-user-header",3),r(1,"app-cms-html-list",4),L("optionActionGuideNoticeDisplayChange",function(s){return h(c),T(t.viewGuideNotice,s)||(t.viewGuideNotice=s),C(s)}),b("optionOnActionButtonMemoRow",function(){return h(c),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(c),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(c),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(c),C(t.onActionButtonPrintRow())}),I(2,5),d(3," -------------------------------------- "),w(),se(4,6)(5,7),I(6,8),M(7,or,2,0,"a",9),r(8,"a",10),b("click",function(){return h(c),C(t.viewGuideNotice=!t.viewGuideNotice)}),g(9,"i",11),l(),r(10,"a",10),b("click",function(){return h(c),C(t.onActionButtonReload())}),g(11,"i",12),l(),w(),I(12,13),r(13,"a",14),b("click",function(){return h(c),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(14,"mat-slide-toggle",15),d(15),_(16,"translate"),l(),r(17,"a",14),b("click",function(){return h(c),C(t.onActionButtonStatist())}),g(18,"mat-slide-toggle",15),d(19),_(20,"translate"),l(),w(),se(21,16),I(22,17),M(23,nr,7,3,"div",18)(24,rr,7,3,"div",18)(25,ar,7,3,"div",18)(26,lr,7,3,"div",18)(27,sr,7,3,"div",18),w(),I(28,19),r(29,"app-cms-search-list",20),L("optionsChange",function(s){return h(c),T(t.optionsSearch,s)||(t.optionsSearch=s),C(s)}),l(),r(30,"app-cms-statist-list",20),L("optionsChange",function(s){return h(c),T(t.optionsStatist,s)||(t.optionsStatist=s),C(s)}),l(),w(),I(31,21),r(32,"mat-table",22,0),b("matSortChange",function(){h(c);let s=oe(33);return C(t.onTableSortData(s))}),I(34,23),M(35,cr,2,1,"mat-header-cell",24)(36,dr,2,1,"mat-cell",25),w(),I(37,26),M(38,mr,2,1,"mat-header-cell",24)(39,ur,5,7,"mat-cell",27),w(),I(40,28),M(41,fr,2,1,"mat-header-cell",24)(42,Sr,4,5,"mat-cell",25),w(),I(43,29),M(44,hr,2,1,"mat-header-cell",24)(45,Cr,4,5,"mat-cell",25),w(),I(46,30),M(47,gr,2,1,"mat-header-cell",24)(48,_r,2,1,"mat-cell",25),w(),I(49,31),M(50,vr,2,1,"mat-header-cell",24)(51,Mr,2,1,"mat-cell",25),w(),I(52,32),M(53,br,2,1,"mat-header-cell",24)(54,Ir,2,1,"mat-cell",25),w(),I(55,33),M(56,wr,2,1,"mat-header-cell",24)(57,Er,2,1,"mat-cell",25),w(),I(58,34),M(59,yr,2,1,"mat-header-cell",24)(60,Rr,3,3,"mat-cell",35),w(),I(61,36),M(62,Tr,3,3,"mat-header-cell",37)(63,Lr,6,1,"mat-cell",38),w(),M(64,kr,1,0,"mat-header-row",39)(65,Ar,1,2,"mat-row",40),l(),w(),I(66,41),r(67,"mat-paginator",42,1),b("page",function(s){return h(c),C(t.onTablePageingData(s))}),l(),w(),l()}o&2&&(f("ngIf",t.requestLinkUserId>0),a(),f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),a(6),f("ngIf",t.requestLinkSiteId>0),a(4),me("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),a(3),f("checked",t.optionsSearch.data.show),a(),u("",v(16,29,"ACTION.SEARCH")," "),a(3),f("checked",t.optionsStatist.data.show),a(),u("",v(20,31,"ACTION.STATIST")," "),a(4),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),a(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),a(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),a(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),a(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkMemberId)>0),a(2),R("options",t.optionsSearch),a(),R("options",t.optionsStatist),a(2),f("dataSource",t.tableSource),a(32),f("matHeaderRowDef",t.tabledisplayedColumns),a(),f("matRowDefColumns",t.tabledisplayedColumns),a(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",we(33,er)))},dependencies:[ye,N,Re,Ve,Ge,ne,Oe,Pe,He,ut,Ue,Fe,je,We,Je,Ke,qe,$e,Qe,ze,Ye,Xe,nt,rt,at,lt,st,Mt,pt,H,It,St,et,ct,dt],encapsulation:2});var co=ki;var xr=["vform"];function Dr(i,n){if(i&1){let e=E();r(0,"div",27)(1,"button",28),b("click",function(){h(e);let t=p();return C(t.onFormCancel())}),g(2,"i",29),d(3),_(4,"translate"),l(),r(5,"button",30),g(6,"i",29),d(7),_(8,"translate"),l()()}i&2&&(a(3),u(" ",v(4,2,"ACTION.CANCEL")," "),a(4),u(" ",v(8,4,"ACTION.SAVE")," "))}var Ai=class Ai extends tt{constructor(e,o,t,c,S,s,k,re,z,le){super(c,new Ht,z,le);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreModuleLogReportAbuseService=c;this.cmsToastrService=S;this.tokenHelper=s;this.cmsStoreService=k;this.cdr=re;this.publicHelper=z;this.translate=le;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new bt;this.dataModel=new Ht;this.formInfo=new Z;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreModuleLogReportAbuseService.setAccessLoad(),this.coreModuleLogReportAbuseService.setAccessDataType(be.Editor),this.coreModuleLogReportAbuseService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreModuleLogReportAbuseService.ServiceEdit(this.dataModel).subscribe({next:o=>{this.dataModelResult=o,o.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:o=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ai.\u0275fac=function(o){return new(o||Ai)(m(te),m(ee),m(O),m(At),m(j),m(F),m(U),m(V),m(q),m(P))},Ai.\u0275cmp=x({type:Ai,selectors:[["app-coremodulelog-report-abuse-edit"]],viewQuery:function(o,t){if(o&1&&$(xr,5),o&2){let c;Y(c=X())&&(t.formGroup=c.first)}},standalone:!1,features:[J],decls:49,vars:27,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],["SubjectBody",""],["AdminResultProcess",""],["SubjectUrl",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.subjectBody",1,"color-highlight"],["matInput","","type","text","name","dataModel.subjectBody","placeholder","SubjectBody","id","dataModel.subjectBody",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.adminResultProcess",1,"color-highlight"],["matInput","","name","dataModel.adminResultProcess","type","text","placeholder","AdminResultProcess","minlength","1","maxlength","500","rows","5","id","dataModel.adminResultProcess",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.subjectUrl",1,"color-highlight"],["matInput","","name","dataModel.subjectUrl","type","text","placeholder","SubjectUrl","minlength","1","maxlength","500","rows","5","id","dataModel.subjectUrl",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(o,t){if(o&1){let c=E();r(0,"div",7),g(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),d(4),l(),r(5,"p"),d(6),_(7,"translate"),l(),r(8,"form",11,0),b("ngSubmit",function(){return h(c),C(t.onFormSubmit())}),g(10,"app-cms-site-selector",12),_(11,"translate"),g(12,"app-cms-user-selector",12),_(13,"translate"),g(14,"app-cms-member-selector",12),_(15,"translate"),r(16,"div",13)(17,"label",14),d(18,"ModuleName"),l(),r(19,"input",15,1),L("ngModelChange",function(s){return h(c),T(t.dataModel.moduleName,s)||(t.dataModel.moduleName=s),C(s)}),l()(),r(21,"div",13)(22,"label",16),d(23,"ModuleEntityName"),l(),r(24,"input",17,2),L("ngModelChange",function(s){return h(c),T(t.dataModel.moduleEntityName,s)||(t.dataModel.moduleEntityName=s),C(s)}),l()(),r(26,"div",13)(27,"label",18),d(28,"ModuleEntityId"),l(),r(29,"input",19,3),L("ngModelChange",function(s){return h(c),T(t.dataModel.moduleEntityId,s)||(t.dataModel.moduleEntityId=s),C(s)}),l()(),r(31,"div",13)(32,"label",20),d(33,"SubjectBody"),l(),r(34,"input",21,4),L("ngModelChange",function(s){return h(c),T(t.dataModel.subjectBody,s)||(t.dataModel.subjectBody=s),C(s)}),l()(),r(36,"div",13)(37,"label",22),d(38,"AdminResultProcess"),l(),r(39,"textarea",23,5),L("ngModelChange",function(s){return h(c),T(t.dataModel.adminResultProcess,s)||(t.dataModel.adminResultProcess=s),C(s)}),d(41,"        "),l()(),r(42,"div",13)(43,"label",24),d(44,"SubjectUrl"),l(),r(45,"textarea",25,6),L("ngModelChange",function(s){return h(c),T(t.dataModel.subjectUrl,s)||(t.dataModel.subjectUrl=s),C(s)}),d(47,"        "),l()(),M(48,Dr,9,6,"div",26),l()()()}o&2&&(a(),f("optionsInfoAreaId",t.constructorInfoAreaId),a(3),u(" ",t.formInfo.formTitle," "),a(2),u(" ",v(7,19,"TITLE.Be_Careful_When_Entering_Information")," "),a(4),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(11,21,"TITLE.SITE")),a(2),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(13,23,"TITLE.USER")),a(2),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",v(15,25,"TITLE.Member")),a(5),R("ngModel",t.dataModel.moduleName),a(5),R("ngModel",t.dataModel.moduleEntityName),a(5),R("ngModel",t.dataModel.moduleEntityId),a(5),R("ngModel",t.dataModel.subjectBody),a(5),R("ngModel",t.dataModel.adminResultProcess),a(6),R("ngModel",t.dataModel.subjectUrl),a(3),f("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[N,Be,gt,_t,xe,Kt,Qt,vt,De,ne,ft,zt,Jt,ie,H],encapsulation:2});var mo=Ai;var Br=["vform"];function Vr(i,n){if(i&1&&(r(0,"div",7),g(1,"i",11),r(2,"span",12),d(3),l()()),i&2){let e=p(2);a(3),D(e.formInfo.submitResultMessage)}}function Nr(i,n){if(i&1&&(r(0,"div",8),g(1,"i",13),r(2,"span",12),d(3),l()()),i&2){let e=p(2);a(3),D(e.formInfo.submitResultMessage)}}function Gr(i,n){if(i&1&&(r(0,"div",9),g(1,"i",14),r(2,"span",12),d(3),l()()),i&2){let e=p(2);a(3),D(e.formInfo.submitResultMessage)}}function Or(i,n){if(i&1&&(r(0,"div",10),g(1,"i",15),r(2,"span",12),d(3),l()()),i&2){let e=p(2);a(3),D(e.formInfo.submitResultMessage)}}function Pr(i,n){if(i&1&&ce(0,Vr,4,1,"div",7)(1,Nr,4,1,"div",8)(2,Gr,4,1,"div",9)(3,Or,4,1,"div",10),i&2){let e,o=p();de((e=o.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function Hr(i,n){if(i&1){let e=E();r(0,"div",16)(1,"button",17),b("click",function(){h(e);let t=p();return C(t.onFormCancel())}),g(2,"i",18),d(3),_(4,"translate"),l()()}i&2&&(a(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var xi=class xi{constructor(n,e,o,t,c,S,s,k,re,z){this.data=n;this.dialogRef=e;this.coreEnumService=o;this.coreModuleLogReportAbuseService=t;this.cmsToastrService=c;this.tokenHelper=S;this.cmsStoreService=s;this.cdr=k;this.publicHelper=re;this.translate=z;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Le;this.dataModelResult=new Q;this.dataModel=new Ht;this.formInfo=new Z;this.dataModelEnumSendSmsStatusTypeResult=new Q;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=n.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(n=>{this.formInfo.formTitle=n}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(n=>n.tokenInfoStore).subscribe(n=>B(this,null,function*(){this.tokenInfo=n}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:n=>{this.dataModelEnumSendSmsStatusTypeResult=n}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(n=>n.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.coreModuleLogReportAbuseService.setAccessLoad(),this.coreModuleLogReportAbuseService.setAccessDataType(be.Editor),this.coreModuleLogReportAbuseService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};xi.\u0275fac=function(e){return new(e||xi)(m(te),m(ee),m(O),m(At),m(j),m(F),m(U),m(V),m(q),m(P))},xi.\u0275cmp=x({type:xi,selectors:[["app-coremodulelog-report-abuse-view"]],viewQuery:function(e,o){if(e&1&&$(Br,5),e&2){let t;Y(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(r(0,"div",0),d(1),l(),r(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),l(),r(5,"div",4),ce(6,Pr,4,1),l(),r(7,"div",5),M(8,Hr,5,3,"div",6),l()),e&2&&(a(),u(" ",o.formInfo.formTitle," "),a(2),f("optionsInfoAreaId",o.constructorInfoAreaId),a(),f("dataModel",o.dataModel)("optionMethod",1),a(2),de((o.formInfo==null||o.formInfo.submitResultMessage==null?null:o.formInfo.submitResultMessage.length)>0?6:-1),a(2),f("ngIf",o.formInfo.submitButtonEnabled))},dependencies:[N,ie,ot,H],encapsulation:2});var po=xi;var Ur=()=>[5,10,20,100],Fr=i=>({display:i});function jr(i,n){if(i&1&&g(0,"app-core-user-header",45),i&2){let e=p();f("optionId",e.requestLinkUserId)}}function qr(i,n){if(i&1){let e=E();r(0,"a",46),b("click",function(){h(e);let t=p();return C(t.onActionBackToParent())}),g(1,"i",47),l()}}function Wr(i,n){if(i&1){let e=E();r(0,"div",48)(1,"a",49),b("click",function(){h(e);let t=p();return C(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",50)(3,"br"),l(),r(4,"p",51),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.VIEW")," "))}function Kr(i,n){if(i&1){let e=E();r(0,"div",48)(1,"a",52),b("click",function(){h(e);let t=p();return C(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",53)(3,"br"),l(),r(4,"p",51),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.EDIT")," "))}function Qr(i,n){if(i&1){let e=E();r(0,"div",48)(1,"a",54),b("click",function(){h(e);let t=p();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",55)(3,"br"),l(),r(4,"p",51),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.DELETE")," "))}function zr(i,n){if(i&1){let e=E();r(0,"div",48)(1,"a",49),b("click",function(){h(e);let t=p();return C(t.onActionButtonViewUserRow(t.tableRowSelected))}),g(2,"i",56)(3,"br"),l(),r(4,"p",51),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.USER")," "))}function Jr(i,n){if(i&1){let e=E();r(0,"div",48)(1,"a",49),b("click",function(){h(e);let t=p();return C(t.onActionButtonViewMemberRow(t.tableRowSelected))}),g(2,"i",57)(3,"br"),l(),r(4,"p",51),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.MEMBER")," "))}function $r(i,n){if(i&1&&(r(0,"mat-header-cell",58),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Yr(i,n){if(i&1&&(r(0,"mat-cell"),d(1),l()),i&2){let e=n.$implicit;a(),u(" ",e.id," ")}}function Xr(i,n){if(i&1&&(r(0,"mat-header-cell",58),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Zr(i,n){if(i&1&&g(0,"select",61),i&2){let e=p().$implicit,o=p();f("contentService",o.contentService)("row",e)("ngStyle",Ee(3,Fr,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function ea(i,n){if(i&1&&(r(0,"mat-cell",59),_(1,"statusCellClass"),g(2,"i",59),_(3,"statusIconClass"),M(4,Zr,1,5,"select",60),l()),i&2){let e=n.$implicit,o=p();f("ngClass",v(1,3,e.recordStatus)),a(2),f("ngClass",v(3,5,e.recordStatus)),a(2),f("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function ta(i,n){if(i&1&&(r(0,"mat-header-cell",58),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function ia(i,n){if(i&1&&(r(0,"mat-cell"),d(1),_(2,"cmssiteinfo"),_(3,"async"),l()),i&2){let e=n.$implicit;a(),u(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function oa(i,n){if(i&1&&(r(0,"mat-header-cell",58),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function na(i,n){if(i&1&&(r(0,"mat-cell"),d(1),_(2,"cmsuserinfo"),_(3,"async"),l()),i&2){let e=n.$implicit;a(),u(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function ra(i,n){if(i&1&&(r(0,"mat-header-cell",58),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function aa(i,n){if(i&1&&(r(0,"mat-cell"),d(1),l()),i&2){let e=n.$implicit;a(),u(" ",e.linkMemberId," ")}}function la(i,n){if(i&1&&(r(0,"mat-header-cell",58),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.moduleName==null?null:e.fieldsInfo.moduleName.fieldTitle," ")}}function sa(i,n){if(i&1&&(r(0,"mat-cell"),d(1),l()),i&2){let e=n.$implicit;a(),u(" ",e.moduleName," ")}}function ca(i,n){if(i&1&&(r(0,"mat-header-cell",58),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.moduleEntityName==null?null:e.fieldsInfo.moduleEntityName.fieldTitle," ")}}function da(i,n){if(i&1&&(r(0,"mat-cell"),d(1),l()),i&2){let e=n.$implicit;a(),u(" ",e.moduleEntityName," ")}}function ma(i,n){if(i&1&&(r(0,"mat-header-cell",58),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.moduleEntityId==null?null:e.fieldsInfo.moduleEntityId.fieldTitle," ")}}function pa(i,n){if(i&1&&(r(0,"mat-cell"),d(1),l()),i&2){let e=n.$implicit;a(),u(" ",e.moduleEntityId," ")}}function ua(i,n){if(i&1&&(r(0,"mat-header-cell",58),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.subjectBody==null?null:e.fieldsInfo.subjectBody.fieldTitle," ")}}function fa(i,n){if(i&1&&(r(0,"mat-cell"),d(1),l()),i&2){let e=n.$implicit;a(),u(" ",e.subjectBody," ")}}function Sa(i,n){if(i&1&&(r(0,"mat-header-cell",58),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.adminResultProcess==null?null:e.fieldsInfo.adminResultProcess.fieldTitle," ")}}function ha(i,n){if(i&1&&(r(0,"mat-cell"),d(1),l()),i&2){let e=n.$implicit;a(),u(" ",e.adminResultProcess," ")}}function Ca(i,n){if(i&1&&(r(0,"mat-header-cell",58),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function ga(i,n){if(i&1&&(r(0,"mat-cell",62),d(1),_(2,"localeDateTime"),l()),i&2){let e=n.$implicit;a(),u(" ",v(2,1,e.createdDate)," ")}}function _a(i,n){i&1&&(r(0,"mat-header-cell"),d(1),_(2,"translate"),l()),i&2&&(a(),u(" ",v(2,1,"TITLE.OPTION")," "))}function va(i,n){if(i&1&&(r(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),d(3,"more_vert"),l()(),g(4,"mat-menu",null,2),l()),i&2){let e=oe(5);a(),f("matMenuTriggerFor",e)}}function Ma(i,n){i&1&&g(0,"mat-header-row")}function ba(i,n){if(i&1){let e=E();r(0,"mat-row",65),b("click",function(t){let c=h(e).$implicit,S=p();return C(S.onActionTableRowSelect(c,t))})("rtclick",function(t){let c=h(e).$implicit,S=p();return C(S.onActionTableRowSelect(c,t))}),l()}if(i&2){let e=n.$implicit,o=p();me("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Di=class Di extends it{constructor(e,o,t,c,S,s,k,re,z,le,yt,Ct,wt){super(o,new Ht,Ct,s,re);this.coreEnumService=e;this.contentService=o;this.cmsToastrService=t;this.cmsConfirmationDialogService=c;this.activatedRoute=S;this.tokenHelper=s;this.cdr=k;this.translate=re;this.cmsStoreService=z;this.router=le;this.pageInfo=yt;this.publicHelper=Ct;this.dialog=wt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestlinkMemberId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Me;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkUserId","linkSiteId","linkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","SubjectBody","AdminResultProcess","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkUserId","linkSiteId","linkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","SubjectBody","AdminResultProcess","createdDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberId")),this.requestLinkSiteId>0){let y=new A;y.propertyName="LinkCmsSiteId",y.value=this.requestLinkSiteId,this.filteModelContent.filters.push(y)}if(this.requestLinkUserId>0){let y=new A;y.propertyName="linkUserId",y.value=this.requestLinkUserId,this.filteModelContent.filters.push(y)}if(this.requestlinkMemberId>0){let y=new A;y.propertyName="linkMemberId",y.value=this.requestlinkMemberId,this.filteModelContent.filters.push(y)}this.optionsSearch.parentMethods={onSubmit:y=>this.onSubmitOptionsSearch(y)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=G.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=G.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ht);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new A;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new A;t.propertyAnyName="linkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new A;t.propertyAnyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=G.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=G.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=G.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(po,{height:"90%",panelClass:o,enterAnimationDuration:K.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:K.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(mo,{height:"90%",panelClass:o,enterAnimationDuration:K.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:K.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{o=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(c=>{if(c){let S=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(S,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(S)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(S,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{o.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{o.set(s,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{o.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),S=new A;S.propertyName="recordStatus",S.value=Te.Available,c.filters.push(S),this.contentService.ServiceGetCount(c).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{o.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.translate.get("MESSAGE.content_does_not_include_member_informations").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Di.\u0275fac=function(o){return new(o||Di)(m(O),m(At),m(j),m(Ie),m(ke),m(F),m(V),m(P),m(U),m(Ae),m(Ze),m(q),m(Ne))},Di.\u0275cmp=x({type:Di,selectors:[["app-coremodulelog-report-abuse-list"]],standalone:!1,features:[J],decls:75,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","linkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","SubjectBody"],["matColumnDef","AdminResultProcess"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let c=E();M(0,jr,1,1,"app-core-user-header",3),r(1,"app-cms-html-list",4),L("optionActionGuideNoticeDisplayChange",function(s){return h(c),T(t.viewGuideNotice,s)||(t.viewGuideNotice=s),C(s)}),b("optionOnActionButtonMemoRow",function(){return h(c),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(c),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(c),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(c),C(t.onActionButtonPrintRow())}),I(2,5),d(3," -------------------------------------- "),w(),se(4,6)(5,7),I(6,8),M(7,qr,2,0,"a",9),r(8,"a",10),b("click",function(){return h(c),C(t.viewGuideNotice=!t.viewGuideNotice)}),g(9,"i",11),l(),r(10,"a",10),b("click",function(){return h(c),C(t.onActionButtonReload())}),g(11,"i",12),l(),w(),I(12,13),r(13,"a",14),b("click",function(){return h(c),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(14,"mat-slide-toggle",15),d(15),_(16,"translate"),l(),r(17,"a",14),b("click",function(){return h(c),C(t.onActionButtonStatist())}),g(18,"mat-slide-toggle",15),d(19),_(20,"translate"),l(),w(),se(21,16),I(22,17),M(23,Wr,7,3,"div",18)(24,Kr,7,3,"div",18)(25,Qr,7,3,"div",18)(26,zr,7,3,"div",18)(27,Jr,7,3,"div",18),w(),I(28,19),r(29,"app-cms-search-list",20),L("optionsChange",function(s){return h(c),T(t.optionsSearch,s)||(t.optionsSearch=s),C(s)}),l(),r(30,"app-cms-statist-list",20),L("optionsChange",function(s){return h(c),T(t.optionsStatist,s)||(t.optionsStatist=s),C(s)}),l(),w(),I(31,21),r(32,"mat-table",22,0),b("matSortChange",function(){h(c);let s=oe(33);return C(t.onTableSortData(s))}),I(34,23),M(35,$r,2,1,"mat-header-cell",24)(36,Yr,2,1,"mat-cell",25),w(),I(37,26),M(38,Xr,2,1,"mat-header-cell",24)(39,ea,5,7,"mat-cell",27),w(),I(40,28),M(41,ta,2,1,"mat-header-cell",24)(42,ia,4,5,"mat-cell",25),w(),I(43,29),M(44,oa,2,1,"mat-header-cell",24)(45,na,4,5,"mat-cell",25),w(),I(46,30),M(47,ra,2,1,"mat-header-cell",24)(48,aa,2,1,"mat-cell",25),w(),I(49,31),M(50,la,2,1,"mat-header-cell",24)(51,sa,2,1,"mat-cell",25),w(),I(52,32),M(53,ca,2,1,"mat-header-cell",24)(54,da,2,1,"mat-cell",25),w(),I(55,33),M(56,ma,2,1,"mat-header-cell",24)(57,pa,2,1,"mat-cell",25),w(),I(58,34),M(59,ua,2,1,"mat-header-cell",24)(60,fa,2,1,"mat-cell",25),w(),I(61,35),M(62,Sa,2,1,"mat-header-cell",24)(63,ha,2,1,"mat-cell",25),w(),I(64,36),M(65,Ca,2,1,"mat-header-cell",24)(66,ga,3,3,"mat-cell",37),w(),I(67,38),M(68,_a,3,3,"mat-header-cell",39)(69,va,6,1,"mat-cell",40),w(),M(70,Ma,1,0,"mat-header-row",41)(71,ba,1,2,"mat-row",42),l(),w(),I(72,43),r(73,"mat-paginator",44,1),b("page",function(s){return h(c),C(t.onTablePageingData(s))}),l(),w(),l()}o&2&&(f("ngIf",t.requestLinkUserId>0),a(),f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),a(6),f("ngIf",t.requestLinkSiteId>0),a(4),me("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),a(3),f("checked",t.optionsSearch.data.show),a(),u("",v(16,29,"ACTION.SEARCH")," "),a(3),f("checked",t.optionsStatist.data.show),a(),u("",v(20,31,"ACTION.STATIST")," "),a(4),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),a(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),a(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),a(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),a(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkMemberId)>0),a(2),R("options",t.optionsSearch),a(),R("options",t.optionsStatist),a(2),f("dataSource",t.tableSource),a(38),f("matHeaderRowDef",t.tabledisplayedColumns),a(),f("matRowDefColumns",t.tabledisplayedColumns),a(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",we(33,Ur)))},dependencies:[ye,N,Re,Ve,Ge,ne,Oe,Pe,He,ut,Ue,Fe,je,We,Je,Ke,qe,$e,Qe,ze,Ye,Xe,nt,rt,at,lt,st,Mt,pt,H,It,St,et,ct,dt],encapsulation:2});var uo=Di;var Ia=["vform"];function wa(i,n){if(i&1){let e=E();r(0,"div",17)(1,"button",18),b("click",function(){h(e);let t=p();return C(t.onFormCancel())}),g(2,"i",19),d(3),_(4,"translate"),l()()}i&2&&(a(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var Bi=class Bi extends tt{constructor(e,o,t,c,S,s,k,re,z,le){super(c,new Pt,z,le);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreModuleLogScoreService=c;this.cmsToastrService=S;this.tokenHelper=s;this.cmsStoreService=k;this.cdr=re;this.publicHelper=z;this.translate=le;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Q;this.dataModel=new Pt;this.formInfo=new Z;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreModuleLogScoreService.setAccessLoad(),this.coreModuleLogScoreService.setAccessDataType(be.Editor),this.coreModuleLogScoreService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Bi.\u0275fac=function(o){return new(o||Bi)(m(te),m(ee),m(O),m(Tt),m(j),m(F),m(U),m(V),m(q),m(P))},Bi.\u0275cmp=x({type:Bi,selectors:[["app-coremodulelog-score-edit"]],viewQuery:function(o,t){if(o&1&&$(Ia,5),o&2){let c;Y(c=X())&&(t.formGroup=c.first)}},standalone:!1,features:[J],decls:32,vars:24,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){if(o&1){let c=E();r(0,"div",4),g(1,"app-progress-spinner",5),r(2,"div",6)(3,"p",7),d(4),l(),r(5,"p"),d(6),_(7,"translate"),l(),r(8,"form",null,0),g(10,"app-cms-site-selector",8),_(11,"translate"),g(12,"app-cms-user-selector",8),_(13,"translate"),g(14,"app-cms-member-selector",8),_(15,"translate"),r(16,"div",9)(17,"label",10),d(18,"ModuleName"),l(),r(19,"input",11,1),L("ngModelChange",function(s){return h(c),T(t.dataModel.moduleName,s)||(t.dataModel.moduleName=s),C(s)}),l()(),r(21,"div",9)(22,"label",12),d(23,"ModuleEntityName"),l(),r(24,"input",13,2),L("ngModelChange",function(s){return h(c),T(t.dataModel.moduleEntityName,s)||(t.dataModel.moduleEntityName=s),C(s)}),l()(),r(26,"div",9)(27,"label",14),d(28,"ModuleEntityId"),l(),r(29,"input",15,3),L("ngModelChange",function(s){return h(c),T(t.dataModel.moduleEntityId,s)||(t.dataModel.moduleEntityId=s),C(s)}),l()(),M(31,wa,5,3,"div",16),l()()()}o&2&&(a(),f("optionsInfoAreaId",t.constructorInfoAreaId),a(3),u(" ",t.formInfo.formTitle," "),a(2),u(" ",v(7,16,"TITLE.Be_Careful_When_Entering_Information")," "),a(4),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(11,18,"TITLE.SITE")),a(2),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(13,20,"TITLE.USER")),a(2),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",v(15,22,"TITLE.Member")),a(5),R("ngModel",t.dataModel.moduleName),a(5),R("ngModel",t.dataModel.moduleEntityName),a(5),R("ngModel",t.dataModel.moduleEntityId),a(2),f("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[N,Be,gt,_t,xe,vt,De,ne,ft,zt,Jt,ie,H],encapsulation:2});var fo=Bi;var Ea=["vform"];function ya(i,n){if(i&1&&(r(0,"div",7),g(1,"i",11),r(2,"span",12),d(3),l()()),i&2){let e=p(2);a(3),D(e.formInfo.submitResultMessage)}}function Ra(i,n){if(i&1&&(r(0,"div",8),g(1,"i",13),r(2,"span",12),d(3),l()()),i&2){let e=p(2);a(3),D(e.formInfo.submitResultMessage)}}function Ta(i,n){if(i&1&&(r(0,"div",9),g(1,"i",14),r(2,"span",12),d(3),l()()),i&2){let e=p(2);a(3),D(e.formInfo.submitResultMessage)}}function La(i,n){if(i&1&&(r(0,"div",10),g(1,"i",15),r(2,"span",12),d(3),l()()),i&2){let e=p(2);a(3),D(e.formInfo.submitResultMessage)}}function ka(i,n){if(i&1&&ce(0,ya,4,1,"div",7)(1,Ra,4,1,"div",8)(2,Ta,4,1,"div",9)(3,La,4,1,"div",10),i&2){let e,o=p();de((e=o.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function Aa(i,n){if(i&1){let e=E();r(0,"div",16)(1,"button",17),b("click",function(){h(e);let t=p();return C(t.onFormCancel())}),g(2,"i",18),d(3),_(4,"translate"),l()()}i&2&&(a(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var Vi=class Vi{constructor(n,e,o,t,c,S,s,k,re,z){this.data=n;this.dialogRef=e;this.coreEnumService=o;this.coreModuleLogScoreService=t;this.cmsToastrService=c;this.tokenHelper=S;this.cmsStoreService=s;this.cdr=k;this.publicHelper=re;this.translate=z;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Le;this.dataModelResult=new Q;this.dataModel=new Pt;this.formInfo=new Z;this.dataModelEnumSendSmsStatusTypeResult=new Q;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=n.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(n=>{this.formInfo.formTitle=n}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(n=>n.tokenInfoStore).subscribe(n=>B(this,null,function*(){this.tokenInfo=n}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:n=>{this.dataModelEnumSendSmsStatusTypeResult=n}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(n=>n.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.coreModuleLogScoreService.setAccessLoad(),this.coreModuleLogScoreService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Vi.\u0275fac=function(e){return new(e||Vi)(m(te),m(ee),m(O),m(Tt),m(j),m(F),m(U),m(V),m(q),m(P))},Vi.\u0275cmp=x({type:Vi,selectors:[["app-coremodulelog-score-view"]],viewQuery:function(e,o){if(e&1&&$(Ea,5),e&2){let t;Y(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(r(0,"div",0),d(1),l(),r(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),l(),r(5,"div",4),ce(6,ka,4,1),l(),r(7,"div",5),M(8,Aa,5,3,"div",6),l()),e&2&&(a(),u(" ",o.formInfo.formTitle," "),a(2),f("optionsInfoAreaId",o.constructorInfoAreaId),a(),f("dataModel",o.dataModel)("optionMethod",1),a(2),de((o.formInfo==null||o.formInfo.submitResultMessage==null?null:o.formInfo.submitResultMessage.length)>0?6:-1),a(2),f("ngIf",o.formInfo.submitButtonEnabled))},dependencies:[N,ie,ot,H],encapsulation:2});var So=Vi;var xa=()=>[5,10,20,100],Da=i=>({display:i});function Ba(i,n){if(i&1&&g(0,"app-core-user-header",43),i&2){let e=p();f("optionId",e.requestLinkUserId)}}function Va(i,n){if(i&1){let e=E();r(0,"a",44),b("click",function(){h(e);let t=p();return C(t.onActionBackToParent())}),g(1,"i",45),l()}}function Na(i,n){if(i&1){let e=E();r(0,"div",46)(1,"a",47),b("click",function(){h(e);let t=p();return C(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",48)(3,"br"),l(),r(4,"p",49),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.VIEW")," "))}function Ga(i,n){if(i&1){let e=E();r(0,"div",46)(1,"a",50),b("click",function(){h(e);let t=p();return C(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",51)(3,"br"),l(),r(4,"p",49),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.EDIT")," "))}function Oa(i,n){if(i&1){let e=E();r(0,"div",46)(1,"a",52),b("click",function(){h(e);let t=p();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",53)(3,"br"),l(),r(4,"p",49),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.DELETE")," "))}function Pa(i,n){if(i&1){let e=E();r(0,"div",46)(1,"a",47),b("click",function(){h(e);let t=p();return C(t.onActionButtonViewUserRow(t.tableRowSelected))}),g(2,"i",54)(3,"br"),l(),r(4,"p",49),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.USER")," "))}function Ha(i,n){if(i&1){let e=E();r(0,"div",46)(1,"a",47),b("click",function(){h(e);let t=p();return C(t.onActionButtonViewMemberRow(t.tableRowSelected))}),g(2,"i",55)(3,"br"),l(),r(4,"p",49),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.MEMBER")," "))}function Ua(i,n){if(i&1&&(r(0,"mat-header-cell",56),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Fa(i,n){if(i&1&&(r(0,"mat-cell"),d(1),l()),i&2){let e=n.$implicit;a(),u(" ",e.id," ")}}function ja(i,n){if(i&1&&(r(0,"mat-header-cell",56),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function qa(i,n){if(i&1&&g(0,"select",59),i&2){let e=p().$implicit,o=p();f("contentService",o.contentService)("row",e)("ngStyle",Ee(3,Da,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function Wa(i,n){if(i&1&&(r(0,"mat-cell",57),_(1,"statusCellClass"),g(2,"i",57),_(3,"statusIconClass"),M(4,qa,1,5,"select",58),l()),i&2){let e=n.$implicit,o=p();f("ngClass",v(1,3,e.recordStatus)),a(2),f("ngClass",v(3,5,e.recordStatus)),a(2),f("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function Ka(i,n){if(i&1&&(r(0,"mat-header-cell",56),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Qa(i,n){if(i&1&&(r(0,"mat-cell"),d(1),_(2,"cmssiteinfo"),_(3,"async"),l()),i&2){let e=n.$implicit;a(),u(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function za(i,n){if(i&1&&(r(0,"mat-header-cell",56),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Ja(i,n){if(i&1&&(r(0,"mat-cell"),d(1),_(2,"cmsuserinfo"),_(3,"async"),l()),i&2){let e=n.$implicit;a(),u(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function $a(i,n){if(i&1&&(r(0,"mat-header-cell",56),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function Ya(i,n){if(i&1&&(r(0,"mat-cell"),d(1),l()),i&2){let e=n.$implicit;a(),u(" ",e.linkMemberId," ")}}function Xa(i,n){if(i&1&&(r(0,"mat-header-cell",56),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.moduleName==null?null:e.fieldsInfo.moduleName.fieldTitle," ")}}function Za(i,n){if(i&1&&(r(0,"mat-cell"),d(1),l()),i&2){let e=n.$implicit;a(),u(" ",e.moduleName," ")}}function el(i,n){if(i&1&&(r(0,"mat-header-cell",56),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.moduleEntityName==null?null:e.fieldsInfo.moduleEntityName.fieldTitle," ")}}function tl(i,n){if(i&1&&(r(0,"mat-cell"),d(1),l()),i&2){let e=n.$implicit;a(),u(" ",e.moduleEntityName," ")}}function il(i,n){if(i&1&&(r(0,"mat-header-cell",56),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.moduleEntityId==null?null:e.fieldsInfo.moduleEntityId.fieldTitle," ")}}function ol(i,n){if(i&1&&(r(0,"mat-cell"),d(1),l()),i&2){let e=n.$implicit;a(),u(" ",e.moduleEntityId," ")}}function nl(i,n){if(i&1&&(r(0,"mat-header-cell",56),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function rl(i,n){if(i&1&&(r(0,"mat-cell",60),d(1),_(2,"localeDateTime"),l()),i&2){let e=n.$implicit;a(),u(" ",v(2,1,e.createdDate)," ")}}function al(i,n){i&1&&(r(0,"mat-header-cell"),d(1),_(2,"translate"),l()),i&2&&(a(),u(" ",v(2,1,"TITLE.OPTION")," "))}function ll(i,n){if(i&1&&(r(0,"mat-cell",61)(1,"button",62)(2,"mat-icon"),d(3,"more_vert"),l()(),g(4,"mat-menu",null,2),l()),i&2){let e=oe(5);a(),f("matMenuTriggerFor",e)}}function sl(i,n){i&1&&g(0,"mat-header-row")}function cl(i,n){if(i&1){let e=E();r(0,"mat-row",63),b("click",function(t){let c=h(e).$implicit,S=p();return C(S.onActionTableRowSelect(c,t))})("rtclick",function(t){let c=h(e).$implicit,S=p();return C(S.onActionTableRowSelect(c,t))}),l()}if(i&2){let e=n.$implicit,o=p();me("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Ni=class Ni extends it{constructor(e,o,t,c,S,s,k,re,z,le,yt,Ct,wt){super(o,new Pt,Ct,k,z);this.coreEnumService=e;this.contentService=o;this.cmsToastrService=t;this.cmsConfirmationDialogService=c;this.activatedRoute=S;this.cmsStoreService=s;this.tokenHelper=k;this.cdr=re;this.translate=z;this.router=le;this.pageInfo=yt;this.publicHelper=Ct;this.dialog=wt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestlinkMemberId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Me;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkUserId","linkSiteId","linkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkUserId","linkSiteId","linkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","createdDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberId")),this.requestLinkSiteId>0){let y=new A;y.propertyName="LinkCmsSiteId",y.value=this.requestLinkSiteId,this.filteModelContent.filters.push(y)}if(this.requestLinkUserId>0){let y=new A;y.propertyName="linkUserId",y.value=this.requestLinkUserId,this.filteModelContent.filters.push(y)}if(this.requestlinkMemberId>0){let y=new A;y.propertyName="linkMemberId",y.value=this.requestlinkMemberId,this.filteModelContent.filters.push(y)}this.optionsSearch.parentMethods={onSubmit:y=>this.onSubmitOptionsSearch(y)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=G.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=G.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Pt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new A;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new A;t.propertyAnyName="linkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new A;t.propertyAnyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=G.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=G.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=G.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(So,{height:"90%",panelClass:o,enterAnimationDuration:K.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:K.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(fo,{height:"90%",panelClass:o,enterAnimationDuration:K.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:K.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{o=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(c=>{if(c){let S=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(S,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(S)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(S,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{o.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{o.set(s,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{o.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),S=new A;S.propertyName="recordStatus",S.value=Te.Available,c.filters.push(S),this.contentService.ServiceGetCount(c).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{o.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.translate.get("MESSAGE.content_does_not_include_member_informations").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Ni.\u0275fac=function(o){return new(o||Ni)(m(O),m(Tt),m(j),m(Ie),m(ke),m(U),m(F),m(V),m(P),m(Ae),m(Ze),m(q),m(Ne))},Ni.\u0275cmp=x({type:Ni,selectors:[["app-coremodulelog-score-list"]],standalone:!1,features:[J],decls:69,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","linkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let c=E();M(0,Ba,1,1,"app-core-user-header",3),r(1,"app-cms-html-list",4),L("optionActionGuideNoticeDisplayChange",function(s){return h(c),T(t.viewGuideNotice,s)||(t.viewGuideNotice=s),C(s)}),b("optionOnActionButtonMemoRow",function(){return h(c),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(c),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(c),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(c),C(t.onActionButtonPrintRow())}),I(2,5),d(3," -------------------------------------- "),w(),se(4,6)(5,7),I(6,8),M(7,Va,2,0,"a",9),r(8,"a",10),b("click",function(){return h(c),C(t.viewGuideNotice=!t.viewGuideNotice)}),g(9,"i",11),l(),r(10,"a",10),b("click",function(){return h(c),C(t.onActionButtonReload())}),g(11,"i",12),l(),w(),I(12,13),r(13,"a",14),b("click",function(){return h(c),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(14,"mat-slide-toggle",15),d(15),_(16,"translate"),l(),r(17,"a",14),b("click",function(){return h(c),C(t.onActionButtonStatist())}),g(18,"mat-slide-toggle",15),d(19),_(20,"translate"),l(),w(),se(21,16),I(22,17),M(23,Na,7,3,"div",18)(24,Ga,7,3,"div",18)(25,Oa,7,3,"div",18)(26,Pa,7,3,"div",18)(27,Ha,7,3,"div",18),w(),I(28,19),r(29,"app-cms-search-list",20),L("optionsChange",function(s){return h(c),T(t.optionsSearch,s)||(t.optionsSearch=s),C(s)}),l(),r(30,"app-cms-statist-list",20),L("optionsChange",function(s){return h(c),T(t.optionsStatist,s)||(t.optionsStatist=s),C(s)}),l(),w(),I(31,21),r(32,"mat-table",22,0),b("matSortChange",function(){h(c);let s=oe(33);return C(t.onTableSortData(s))}),I(34,23),M(35,Ua,2,1,"mat-header-cell",24)(36,Fa,2,1,"mat-cell",25),w(),I(37,26),M(38,ja,2,1,"mat-header-cell",24)(39,Wa,5,7,"mat-cell",27),w(),I(40,28),M(41,Ka,2,1,"mat-header-cell",24)(42,Qa,4,5,"mat-cell",25),w(),I(43,29),M(44,za,2,1,"mat-header-cell",24)(45,Ja,4,5,"mat-cell",25),w(),I(46,30),M(47,$a,2,1,"mat-header-cell",24)(48,Ya,2,1,"mat-cell",25),w(),I(49,31),M(50,Xa,2,1,"mat-header-cell",24)(51,Za,2,1,"mat-cell",25),w(),I(52,32),M(53,el,2,1,"mat-header-cell",24)(54,tl,2,1,"mat-cell",25),w(),I(55,33),M(56,il,2,1,"mat-header-cell",24)(57,ol,2,1,"mat-cell",25),w(),I(58,34),M(59,nl,2,1,"mat-header-cell",24)(60,rl,3,3,"mat-cell",35),w(),I(61,36),M(62,al,3,3,"mat-header-cell",37)(63,ll,6,1,"mat-cell",38),w(),M(64,sl,1,0,"mat-header-row",39)(65,cl,1,2,"mat-row",40),l(),w(),I(66,41),r(67,"mat-paginator",42,1),b("page",function(s){return h(c),C(t.onTablePageingData(s))}),l(),w(),l()}o&2&&(f("ngIf",t.requestLinkUserId>0),a(),f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),a(6),f("ngIf",t.requestLinkSiteId>0),a(4),me("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),a(3),f("checked",t.optionsSearch.data.show),a(),u("",v(16,29,"ACTION.SEARCH")," "),a(3),f("checked",t.optionsStatist.data.show),a(),u("",v(20,31,"ACTION.STATIST")," "),a(4),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),a(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),a(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),a(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),a(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkMemberId)>0),a(2),R("options",t.optionsSearch),a(),R("options",t.optionsStatist),a(2),f("dataSource",t.tableSource),a(32),f("matHeaderRowDef",t.tabledisplayedColumns),a(),f("matRowDefColumns",t.tabledisplayedColumns),a(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",we(33,xa)))},dependencies:[ye,N,Re,Ve,Ge,ne,Oe,Pe,He,ut,Ue,Fe,je,We,Je,Ke,qe,$e,Qe,ze,Ye,Xe,nt,rt,at,lt,st,Mt,pt,H,It,St,et,ct,dt],encapsulation:2});var ho=Ni;var dl=["vform"];function ml(i,n){if(i&1){let e=E();r(0,"div",25)(1,"label",26),d(2),l(),r(3,"input",27),L("ngModelChange",function(t){h(e);let c=p();return T(c.dataModel.expireDateTime,t)||(c.dataModel.expireDateTime=t),C(t)}),l(),g(4,"mat-datepicker-toggle",28)(5,"mat-datepicker",29,6),l()}if(i&2){let e=oe(6),o=p();a(2),D(o.fieldsInfo.expireDateTime==null?null:o.fieldsInfo.expireDateTime.fieldTitle),a(),f("placeholder",fi(o.fieldsInfo.expireDateTime==null?null:o.fieldsInfo.expireDateTime.fieldTitle))("disabled",fi(!(o.fieldsInfo.expireDateTime!=null&&o.fieldsInfo.expireDateTime.accessEditField)))("matDatepicker",e),R("ngModel",o.dataModel.expireDateTime),a(),f("for",e)}}function pl(i,n){if(i&1){let e=E();r(0,"div",30)(1,"button",31),b("click",function(){h(e);let t=p();return C(t.onFormCancel())}),g(2,"i",32),d(3),_(4,"translate"),l(),r(5,"button",33),g(6,"i",32),d(7),_(8,"translate"),l()()}i&2&&(a(3),u(" ",v(4,2,"ACTION.CANCEL")," "),a(4),u(" ",v(8,4,"ACTION.SAVE")," "))}var Gi=class Gi extends tt{constructor(e,o,t,c,S,s,k,re,z,le){super(c,new Ut,z,le);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreModuleLogShowKeyService=c;this.cmsToastrService=S;this.tokenHelper=s;this.cmsStoreService=k;this.cdr=re;this.publicHelper=z;this.translate=le;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new bt;this.dataModel=new Ut;this.formInfo=new Z;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreModuleLogShowKeyService.setAccessLoad(),this.coreModuleLogShowKeyService.setAccessDataType(be.Editor),this.coreModuleLogShowKeyService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreModuleLogShowKeyService.ServiceEdit(this.dataModel).subscribe({next:o=>{this.dataModelResult=o,o.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:o=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Gi.\u0275fac=function(o){return new(o||Gi)(m(te),m(ee),m(O),m(xt),m(j),m(F),m(U),m(V),m(q),m(P))},Gi.\u0275cmp=x({type:Gi,selectors:[["app-coremodule-data-memo-edit"]],viewQuery:function(o,t){if(o&1&&$(dl,5),o&2){let c;Y(c=X())&&(t.formGroup=c.first)}},standalone:!1,features:[J],decls:37,vars:12,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],["showKey",""],["SubjectTitle",""],["expireDateTime",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","name","dataModel.moduleName","type","text","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","name","dataModel.moduleEntityName","type","text","placeholder","ModuleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","name","dataModel.moduleEntityId","type","text","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.showKey",1,"color-highlight"],["matInput","","name","dataModel.showKey","type","text","placeholder","showKey","id","dataModel.showKey",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.subjectTitle",1,"color-highlight"],["matInput","","name","dataModel.subjectTitle","type","text","placeholder","SubjectTitle","id","dataModel.subjectTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.expireDateTime",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDateTime","minlength","3","maxlength","100","id","dataModel.expireDateTime",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],["touchUi",""],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(o,t){if(o&1){let c=E();r(0,"div",7),g(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),d(4),l(),r(5,"p"),d(6),_(7,"translate"),l(),r(8,"form",11,0),b("ngSubmit",function(){return h(c),C(t.onFormSubmit())}),r(10,"div",12)(11,"label",13),d(12,"ModuleName"),l(),r(13,"input",14,1),L("ngModelChange",function(s){return h(c),T(t.dataModel.moduleName,s)||(t.dataModel.moduleName=s),C(s)}),l()(),r(15,"div",12)(16,"label",15),d(17,"ModuleEntityName"),l(),r(18,"input",16,2),L("ngModelChange",function(s){return h(c),T(t.dataModel.moduleEntityName,s)||(t.dataModel.moduleEntityName=s),C(s)}),l()(),r(20,"div",12)(21,"label",17),d(22,"ModuleEntityId"),l(),r(23,"input",18,3),L("ngModelChange",function(s){return h(c),T(t.dataModel.moduleEntityId,s)||(t.dataModel.moduleEntityId=s),C(s)}),l()(),r(25,"div",12)(26,"label",19),d(27,"showKey"),l(),r(28,"textarea",20,4),L("ngModelChange",function(s){return h(c),T(t.dataModel.showKey,s)||(t.dataModel.showKey=s),C(s)}),l()(),r(30,"div",12)(31,"label",21),d(32,"SubjectTitle"),l(),r(33,"textarea",22,5),L("ngModelChange",function(s){return h(c),T(t.dataModel.subjectTitle,s)||(t.dataModel.subjectTitle=s),C(s)}),l()(),M(35,ml,7,8,"div",23)(36,pl,9,6,"div",24),l()()()}o&2&&(a(),f("optionsInfoAreaId",t.constructorInfoAreaId),a(3),u(" ",t.formInfo.formTitle," "),a(2),u(" ",v(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),a(7),R("ngModel",t.dataModel.moduleName),a(5),R("ngModel",t.dataModel.moduleEntityName),a(5),R("ngModel",t.dataModel.moduleEntityId),a(5),R("ngModel",t.dataModel.showKey),a(5),R("ngModel",t.dataModel.subjectTitle),a(2),f("ngIf",t.fieldsInfo.expireDateTime==null?null:t.fieldsInfo.expireDateTime.accessWatchField),a(),f("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[N,Be,gt,_t,xe,Kt,Qt,vt,De,Ko,Qo,zo,Wo,ne,ie,H],encapsulation:2});var Co=Gi;var ul=["vform"];function fl(i,n){if(i&1&&(r(0,"div",7),g(1,"i",11),r(2,"span",12),d(3),l()()),i&2){let e=p(2);a(3),D(e.formInfo.submitResultMessage)}}function Sl(i,n){if(i&1&&(r(0,"div",8),g(1,"i",13),r(2,"span",12),d(3),l()()),i&2){let e=p(2);a(3),D(e.formInfo.submitResultMessage)}}function hl(i,n){if(i&1&&(r(0,"div",9),g(1,"i",14),r(2,"span",12),d(3),l()()),i&2){let e=p(2);a(3),D(e.formInfo.submitResultMessage)}}function Cl(i,n){if(i&1&&(r(0,"div",10),g(1,"i",15),r(2,"span",12),d(3),l()()),i&2){let e=p(2);a(3),D(e.formInfo.submitResultMessage)}}function gl(i,n){if(i&1&&ce(0,fl,4,1,"div",7)(1,Sl,4,1,"div",8)(2,hl,4,1,"div",9)(3,Cl,4,1,"div",10),i&2){let e,o=p();de((e=o.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function _l(i,n){if(i&1){let e=E();r(0,"div",16)(1,"button",17),b("click",function(){h(e);let t=p();return C(t.onFormCancel())}),g(2,"i",18),d(3),_(4,"translate"),l()()}i&2&&(a(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var Oi=class Oi{constructor(n,e,o,t,c,S,s,k,re,z){this.data=n;this.dialogRef=e;this.coreEnumService=o;this.coreModuleLogShowKeyService=t;this.cmsToastrService=c;this.tokenHelper=S;this.cmsStoreService=s;this.cdr=k;this.publicHelper=re;this.translate=z;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Le;this.dataModelResult=new Q;this.dataModel=new Ut;this.formInfo=new Z;this.dataModelEnumSendSmsStatusTypeResult=new Q;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=n.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(n=>{this.formInfo.formTitle=n}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(n=>n.tokenInfoStore).subscribe(n=>B(this,null,function*(){this.tokenInfo=n}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:n=>{this.dataModelEnumSendSmsStatusTypeResult=n}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(n=>n.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.coreModuleLogShowKeyService.setAccessLoad(),this.coreModuleLogShowKeyService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Oi.\u0275fac=function(e){return new(e||Oi)(m(te),m(ee),m(O),m(xt),m(j),m(F),m(U),m(V),m(q),m(P))},Oi.\u0275cmp=x({type:Oi,selectors:[["app-coremodule-data-memo-view"]],viewQuery:function(e,o){if(e&1&&$(ul,5),e&2){let t;Y(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(r(0,"div",0),d(1),l(),r(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),l(),r(5,"div",4),ce(6,gl,4,1),l(),r(7,"div",5),M(8,_l,5,3,"div",6),l()),e&2&&(a(),u(" ",o.formInfo.formTitle," "),a(2),f("optionsInfoAreaId",o.constructorInfoAreaId),a(),f("dataModel",o.dataModel)("optionMethod",1),a(2),de((o.formInfo==null||o.formInfo.submitResultMessage==null?null:o.formInfo.submitResultMessage.length)>0?6:-1),a(2),f("ngIf",o.formInfo.submitButtonEnabled))},dependencies:[N,ie,ot,H],encapsulation:2});var go=Oi;var vl=()=>[5,10,20,100],Ml=i=>({display:i});function bl(i,n){if(i&1){let e=E();r(0,"a",41),b("click",function(){h(e);let t=p();return C(t.onActionBackToParent())}),g(1,"i",42),l()}}function Il(i,n){if(i&1){let e=E();r(0,"div",43)(1,"a",44),b("click",function(){h(e);let t=p();return C(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",45)(3,"br"),l(),r(4,"p",46),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.VIEW")," "))}function wl(i,n){if(i&1){let e=E();r(0,"div",43)(1,"a",47),b("click",function(){h(e);let t=p();return C(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",48)(3,"br"),l(),r(4,"p",46),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.EDIT")," "))}function El(i,n){if(i&1){let e=E();r(0,"div",43)(1,"a",49),b("click",function(){h(e);let t=p();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",50)(3,"br"),l(),r(4,"p",46),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.DELETE")," "))}function yl(i,n){if(i&1&&(r(0,"mat-header-cell",51),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Rl(i,n){if(i&1&&(r(0,"mat-cell"),d(1),l()),i&2){let e=n.$implicit;a(),u(" ",e.id," ")}}function Tl(i,n){if(i&1&&(r(0,"mat-header-cell",51),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ll(i,n){if(i&1&&g(0,"select",54),i&2){let e=p().$implicit,o=p();f("contentService",o.contentService)("row",e)("ngStyle",Ee(3,Ml,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function kl(i,n){if(i&1&&(r(0,"mat-cell",52),_(1,"statusCellClass"),g(2,"i",52),_(3,"statusIconClass"),M(4,Ll,1,5,"select",53),l()),i&2){let e=n.$implicit,o=p();f("ngClass",v(1,3,e.recordStatus)),a(2),f("ngClass",v(3,5,e.recordStatus)),a(2),f("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function Al(i,n){if(i&1&&(r(0,"mat-header-cell",51),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.moduleName==null?null:e.fieldsInfo.moduleName.fieldTitle," ")}}function xl(i,n){if(i&1&&(r(0,"mat-cell"),d(1),l()),i&2){let e=n.$implicit;a(),u(" ",e.moduleName," ")}}function Dl(i,n){if(i&1&&(r(0,"mat-header-cell",51),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.moduleEntityName==null?null:e.fieldsInfo.moduleEntityName.fieldTitle," ")}}function Bl(i,n){if(i&1&&(r(0,"mat-cell"),d(1),l()),i&2){let e=n.$implicit;a(),u(" ",e.moduleEntityName," ")}}function Vl(i,n){if(i&1&&(r(0,"mat-header-cell",51),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.moduleEntityId==null?null:e.fieldsInfo.moduleEntityId.fieldTitle," ")}}function Nl(i,n){if(i&1&&(r(0,"mat-cell"),d(1),l()),i&2){let e=n.$implicit;a(),u(" ",e.moduleEntityId," ")}}function Gl(i,n){if(i&1&&(r(0,"mat-header-cell",51),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.showKey==null?null:e.fieldsInfo.showKey.fieldTitle," ")}}function Ol(i,n){if(i&1&&(r(0,"mat-cell"),d(1),l()),i&2){let e=n.$implicit;a(),u(" ",e.showKey," ")}}function Pl(i,n){if(i&1&&(r(0,"mat-header-cell",51),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Hl(i,n){if(i&1&&(r(0,"mat-cell",55),d(1),_(2,"localeDateTime"),l()),i&2){let e=n.$implicit;a(),u(" ",v(2,1,e.createdDate)," ")}}function Ul(i,n){i&1&&(r(0,"mat-header-cell"),d(1),_(2,"translate"),l()),i&2&&(a(),u(" ",v(2,1,"TITLE.OPTION")," "))}function Fl(i,n){if(i&1&&(r(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),d(3,"more_vert"),l()(),g(4,"mat-menu",null,2),l()),i&2){let e=oe(5);a(),f("matMenuTriggerFor",e)}}function jl(i,n){if(i&1&&(r(0,"mat-cell")(1,"div")(2,"table")(3,"tr"),g(4,"td"),r(5,"td"),d(6),l()()()()()),i&2){let e=n.$implicit;a(6),D(e.subjectTitle)}}function ql(i,n){i&1&&g(0,"mat-header-row")}function Wl(i,n){if(i&1){let e=E();r(0,"mat-row",58),b("click",function(t){let c=h(e).$implicit,S=p();return C(S.onActionTableRowSelect(c,t))})("rtclick",function(t){let c=h(e).$implicit,S=p();return C(S.onActionTableRowSelect(c,t))}),l()}if(i&2){let e=n.$implicit,o=p();me("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Pi=class Pi extends it{constructor(e,o,t,c,S,s,k,re,z,le,yt,Ct,wt){super(o,new Ut,Ct,s,re);this.coreEnumService=e;this.contentService=o;this.cmsToastrService=t;this.cmsConfirmationDialogService=c;this.activatedRoute=S;this.tokenHelper=s;this.cdr=k;this.translate=re;this.cmsStoreService=z;this.router=le;this.pageInfo=yt;this.publicHelper=Ct;this.dialog=wt;this.requestLinkSiteId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Me;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","ModuleName","ModuleEntityName","ModuleEntityId","showKey","createdDate"];this.tabledisplayedColumnsMobileSource=["recordStatus","ModuleName","ModuleEntityName","ModuleEntityId","showKey","createdDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkSiteId>0){let y=new A;y.propertyName="LinkCmsSiteId",y.value=this.requestLinkSiteId,this.filteModelContent.filters.push(y)}this.optionsSearch.parentMethods={onSubmit:y=>this.onSubmitOptionsSearch(y)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=G.Descending}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=G.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ut);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=G.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=G.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=G.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(go,{height:"90%",panelClass:o,enterAnimationDuration:K.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:K.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Co,{height:"90%",panelClass:o,enterAnimationDuration:K.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:K.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{o=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(c=>{if(c){let S=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(S,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(S)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(S,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{o.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{o.set(s,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{o.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),S=new A;S.propertyName="recordStatus",S.value=Te.Available,c.Filters.push(S),this.contentService.ServiceGetCount(c).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{o.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Pi.\u0275fac=function(o){return new(o||Pi)(m(O),m(xt),m(j),m(Ie),m(ke),m(F),m(V),m(P),m(U),m(Ae),m(Ze),m(q),m(Ne))},Pi.\u0275cmp=x({type:Pi,selectors:[["app-coremodule-data-memo-list"]],standalone:!1,features:[J],decls:62,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","showKey"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let c=E();r(0,"app-cms-html-list",3),L("optionActionGuideNoticeDisplayChange",function(s){return h(c),T(t.viewGuideNotice,s)||(t.viewGuideNotice=s),C(s)}),b("optionOnActionButtonMemoRow",function(){return h(c),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(c),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(c),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(c),C(t.onActionButtonPrintRow())}),I(1,4),d(2," -------------------------------------- "),w(),se(3,5)(4,6),I(5,7),M(6,bl,2,0,"a",8),r(7,"a",9),b("click",function(){return h(c),C(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",10),l(),r(9,"a",9),b("click",function(){return h(c),C(t.onActionButtonReload())}),g(10,"i",11),l(),w(),I(11,12),r(12,"a",13),b("click",function(){return h(c),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",14),d(14),_(15,"translate"),l(),r(16,"a",13),b("click",function(){return h(c),C(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",14),d(18),_(19,"translate"),l(),w(),se(20,15),I(21,16),M(22,Il,7,3,"div",17)(23,wl,7,3,"div",17)(24,El,7,3,"div",17),w(),I(25,18),r(26,"app-cms-search-list",19),L("optionsChange",function(s){return h(c),T(t.optionsSearch,s)||(t.optionsSearch=s),C(s)}),l(),r(27,"app-cms-statist-list",19),L("optionsChange",function(s){return h(c),T(t.optionsStatist,s)||(t.optionsStatist=s),C(s)}),l(),w(),I(28,20),r(29,"mat-table",21,0),b("matSortChange",function(){h(c);let s=oe(30);return C(t.onTableSortData(s))}),I(31,22),M(32,yl,2,1,"mat-header-cell",23)(33,Rl,2,1,"mat-cell",24),w(),I(34,25),M(35,Tl,2,1,"mat-header-cell",23)(36,kl,5,7,"mat-cell",26),w(),I(37,27),M(38,Al,2,1,"mat-header-cell",23)(39,xl,2,1,"mat-cell",24),w(),I(40,28),M(41,Dl,2,1,"mat-header-cell",23)(42,Bl,2,1,"mat-cell",24),w(),I(43,29),M(44,Vl,2,1,"mat-header-cell",23)(45,Nl,2,1,"mat-cell",24),w(),I(46,30),M(47,Gl,2,1,"mat-header-cell",23)(48,Ol,2,1,"mat-cell",24),w(),I(49,31),M(50,Pl,2,1,"mat-header-cell",23)(51,Hl,3,3,"mat-cell",32),w(),I(52,33),M(53,Ul,3,3,"mat-header-cell",34)(54,Fl,6,1,"mat-cell",35),w(),I(55,36),M(56,jl,7,1,"mat-cell",24),w(),M(57,ql,1,0,"mat-header-row",37)(58,Wl,1,2,"mat-row",38),l(),w(),I(59,39),r(60,"mat-paginator",40,1),b("page",function(s){return h(c),C(t.onTablePageingData(s))}),l(),w(),l()}o&2&&(f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),a(6),f("ngIf",t.requestLinkSiteId>0),a(4),me("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),a(3),f("checked",t.optionsSearch.data.show),a(),u("",v(15,26,"ACTION.SEARCH")," "),a(3),f("checked",t.optionsStatist.data.show),a(),u("",v(19,28,"ACTION.STATIST")," "),a(4),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),a(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),a(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),a(2),R("options",t.optionsSearch),a(),R("options",t.optionsStatist),a(2),f("dataSource",t.tableSource),a(28),f("matHeaderRowDef",t.tabledisplayedColumns),a(),f("matRowDefColumns",t.tabledisplayedColumns),a(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",we(30,vl)))},dependencies:[ye,N,Re,Ve,Ge,ne,Oe,Pe,He,ut,Ue,Fe,je,We,Je,Ke,qe,$e,Qe,ze,Ye,Xe,nt,rt,at,lt,st,H,et,ct,dt],encapsulation:2});var _o=Pi;var Kl=["vform"];function Ql(i,n){if(i&1){let e=E();r(0,"div",7)(1,"button",8),b("click",function(){h(e);let t=p();return C(t.onFormCancel())}),g(2,"i",9),d(3),_(4,"translate"),l()()}i&2&&(a(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var Hi=class Hi extends tt{constructor(e,o,t,c,S,s,k,re,z,le){super(c,new Ft,z,le);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreModuleLogSiteCreditBlockedService=c;this.cmsToastrService=S;this.tokenHelper=s;this.cmsStoreService=k;this.cdr=re;this.publicHelper=z;this.translate=le;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new bt;this.dataModel=new Ft;this.formInfo=new Z;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreModuleLogSiteCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteCreditBlockedService.setAccessDataType(be.Editor),this.coreModuleLogSiteCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Hi.\u0275fac=function(o){return new(o||Hi)(m(te),m(ee),m(O),m(Dt),m(j),m(F),m(U),m(V),m(q),m(P))},Hi.\u0275cmp=x({type:Hi,selectors:[["app-coremodulelog-site-credit-blocked-edit"]],viewQuery:function(o,t){if(o&1&&$(Kl,5),o&2){let c;Y(c=X())&&(t.formGroup=c.first)}},standalone:!1,features:[J],decls:13,vars:11,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(r(0,"div",1),g(1,"app-progress-spinner",2),r(2,"div",3)(3,"p",4),d(4),l(),r(5,"p"),d(6),_(7,"translate"),l(),r(8,"form",null,0),g(10,"app-cms-site-selector",5),_(11,"translate"),M(12,Ql,5,3,"div",6),l()()()),o&2&&(a(),f("optionsInfoAreaId",t.constructorInfoAreaId),a(3),u(" ",t.formInfo.formTitle," "),a(2),u(" ",v(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),a(4),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(11,9,"TITLE.SITE")),a(2),f("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[N,Be,xe,De,ft,ie,H],encapsulation:2});var vo=Hi;var zl=["vform"];function Jl(i,n){if(i&1&&(r(0,"div",7),g(1,"i",11),r(2,"span",12),d(3),l()()),i&2){let e=p(2);a(3),D(e.formInfo.submitResultMessage)}}function $l(i,n){if(i&1&&(r(0,"div",8),g(1,"i",13),r(2,"span",12),d(3),l()()),i&2){let e=p(2);a(3),D(e.formInfo.submitResultMessage)}}function Yl(i,n){if(i&1&&(r(0,"div",9),g(1,"i",14),r(2,"span",12),d(3),l()()),i&2){let e=p(2);a(3),D(e.formInfo.submitResultMessage)}}function Xl(i,n){if(i&1&&(r(0,"div",10),g(1,"i",15),r(2,"span",12),d(3),l()()),i&2){let e=p(2);a(3),D(e.formInfo.submitResultMessage)}}function Zl(i,n){if(i&1&&ce(0,Jl,4,1,"div",7)(1,$l,4,1,"div",8)(2,Yl,4,1,"div",9)(3,Xl,4,1,"div",10),i&2){let e,o=p();de((e=o.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function es(i,n){if(i&1){let e=E();r(0,"div",16)(1,"button",17),b("click",function(){h(e);let t=p();return C(t.onFormCancel())}),g(2,"i",18),d(3),_(4,"translate"),l()()}i&2&&(a(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var Ui=class Ui{constructor(n,e,o,t,c,S,s,k,re,z){this.data=n;this.dialogRef=e;this.coreEnumService=o;this.coreModuleLogSiteCreditBlockedService=t;this.cmsToastrService=c;this.tokenHelper=S;this.cmsStoreService=s;this.cdr=k;this.publicHelper=re;this.translate=z;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Le;this.dataModelResult=new Q;this.dataModel=new Ft;this.formInfo=new Z;this.dataModelEnumSendSmsStatusTypeResult=new Q;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=n.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(n=>{this.formInfo.formTitle=n}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(n=>n.tokenInfoStore).subscribe(n=>B(this,null,function*(){this.tokenInfo=n}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:n=>{this.dataModelEnumSendSmsStatusTypeResult=n}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(n=>n.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.coreModuleLogSiteCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ui.\u0275fac=function(e){return new(e||Ui)(m(te),m(ee),m(O),m(Dt),m(j),m(F),m(U),m(V),m(q),m(P))},Ui.\u0275cmp=x({type:Ui,selectors:[["app-coremodulelog-site-credit-blocked-view"]],viewQuery:function(e,o){if(e&1&&$(zl,5),e&2){let t;Y(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(r(0,"div",0),d(1),l(),r(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),l(),r(5,"div",4),ce(6,Zl,4,1),l(),r(7,"div",5),M(8,es,5,3,"div",6),l()),e&2&&(a(),u(" ",o.formInfo.formTitle," "),a(2),f("optionsInfoAreaId",o.constructorInfoAreaId),a(),f("dataModel",o.dataModel)("optionMethod",1),a(2),de((o.formInfo==null||o.formInfo.submitResultMessage==null?null:o.formInfo.submitResultMessage.length)>0?6:-1),a(2),f("ngIf",o.formInfo.submitButtonEnabled))},dependencies:[N,ie,ot,H],encapsulation:2});var Mo=Ui;var ts=()=>[5,10,20,100],is=i=>({display:i});function os(i,n){if(i&1&&g(0,"app-core-user-header",41),i&2){let e=p();f("optionId",e.requestLinkUserId)}}function ns(i,n){if(i&1){let e=E();r(0,"a",42),b("click",function(){h(e);let t=p();return C(t.onActionBackToParent())}),g(1,"i",43),l()}}function rs(i,n){if(i&1){let e=E();r(0,"div",44)(1,"a",45),b("click",function(){h(e);let t=p();return C(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",46)(3,"br"),l(),r(4,"p",47),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.VIEW")," "))}function as(i,n){if(i&1){let e=E();r(0,"div",44)(1,"a",48),b("click",function(){h(e);let t=p();return C(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",49)(3,"br"),l(),r(4,"p",47),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.EDIT")," "))}function ls(i,n){if(i&1){let e=E();r(0,"div",44)(1,"a",50),b("click",function(){h(e);let t=p();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",51)(3,"br"),l(),r(4,"p",47),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.DELETE")," "))}function ss(i,n){if(i&1){let e=E();r(0,"div",44)(1,"a",45),b("click",function(){h(e);let t=p();return C(t.onActionButtonViewSiteRow(t.tableRowSelected))}),g(2,"i",52)(3,"br"),l(),r(4,"p",47),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.SITE")," "))}function cs(i,n){if(i&1){let e=E();r(0,"div",44)(1,"a",45),b("click",function(t){h(e);let c=p();return C(c.onActionButtonBankPaymentTransactionRow(c.tableRowSelected,t))}),g(2,"i",53)(3,"br"),l(),r(4,"p",47),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.BANK_PAYMENT_TRANSACTION")," "))}function ds(i,n){if(i&1&&(r(0,"mat-header-cell",54),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function ms(i,n){if(i&1&&(r(0,"mat-cell"),d(1),l()),i&2){let e=n.$implicit;a(),u(" ",e.id," ")}}function ps(i,n){if(i&1&&(r(0,"mat-header-cell",54),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function us(i,n){if(i&1&&g(0,"select",57),i&2){let e=p().$implicit,o=p();f("contentService",o.contentService)("row",e)("ngStyle",Ee(3,is,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function fs(i,n){if(i&1&&(r(0,"mat-cell",55),_(1,"statusCellClass"),g(2,"i",55),_(3,"statusIconClass"),M(4,us,1,5,"select",56),l()),i&2){let e=n.$implicit,o=p();f("ngClass",v(1,3,e.recordStatus)),a(2),f("ngClass",v(3,5,e.recordStatus)),a(2),f("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function Ss(i,n){if(i&1&&(r(0,"mat-header-cell",54),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function hs(i,n){if(i&1&&(r(0,"mat-cell"),d(1),_(2,"cmssiteinfo"),_(3,"async"),l()),i&2){let e=n.$implicit;a(),u(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function Cs(i,n){if(i&1&&(r(0,"mat-header-cell",54),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.linkModuleId==null?null:e.fieldsInfo.linkModuleId.fieldTitle," ")}}function gs(i,n){if(i&1&&(r(0,"mat-cell"),d(1),_(2,"cmstitle"),l()),i&2){let e=n.$implicit,o=p();a(),u(" ",vi(2,1,e.linkModuleId,o.dataModelCoreModuleResult.listItems)," ")}}function _s(i,n){if(i&1&&(r(0,"mat-header-cell",54),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.transactionCredit==null?null:e.fieldsInfo.transactionCredit.fieldTitle," ")}}function vs(i,n){if(i&1&&(r(0,"mat-cell"),d(1),_(2,"number"),l()),i&2){let e=n.$implicit;a(),u(" ",v(2,1,e.transactionCredit)," ")}}function Ms(i,n){if(i&1&&(r(0,"mat-header-cell",54),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.linkModuleBankPaymentTransactionId==null?null:e.fieldsInfo.linkModuleBankPaymentTransactionId.fieldTitle," ")}}function bs(i,n){if(i&1&&(r(0,"mat-cell"),d(1),l()),i&2){let e=n.$implicit;a(),u(" ",e.linkModuleBankPaymentTransactionId," ")}}function Is(i,n){if(i&1&&(r(0,"mat-header-cell",54),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function ws(i,n){if(i&1&&(r(0,"mat-cell",58),d(1),_(2,"localeDateTime"),l()),i&2){let e=n.$implicit;a(),u(" ",v(2,1,e.createdDate)," ")}}function Es(i,n){i&1&&(r(0,"mat-header-cell"),d(1),_(2,"translate"),l()),i&2&&(a(),u(" ",v(2,1,"TITLE.OPTION")," "))}function ys(i,n){if(i&1&&(r(0,"mat-cell",59)(1,"button",60)(2,"mat-icon"),d(3,"more_vert"),l()(),g(4,"mat-menu",null,2),l()),i&2){let e=oe(5);a(),f("matMenuTriggerFor",e)}}function Rs(i,n){i&1&&g(0,"mat-header-row")}function Ts(i,n){if(i&1){let e=E();r(0,"mat-row",61),b("click",function(t){let c=h(e).$implicit,S=p();return C(S.onActionTableRowSelect(c,t))})("rtclick",function(t){let c=h(e).$implicit,S=p();return C(S.onActionTableRowSelect(c,t))}),l()}if(i&2){let e=n.$implicit,o=p();me("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Fi=class Fi extends it{constructor(e,o,t,c,S,s,k,re,z,le,yt,Ct,wt,y){super(t,new Ft,wt,k,le);this.coreEnumService=e;this.coreModuleService=o;this.contentService=t;this.cmsToastrService=c;this.cmsConfirmationDialogService=S;this.activatedRoute=s;this.tokenHelper=k;this.cdr=re;this.cmsStoreService=z;this.translate=le;this.router=yt;this.pageInfo=Ct;this.publicHelper=wt;this.dialog=y;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestlinkMemberUserId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Me;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","linkModuleId","transactionCredit","linkModuleBankPaymentTransactionId","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkModuleId","transactionCredit","createdDate"];this.dataModelCoreModuleResult=new Q;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberUserId")),this.requestLinkSiteId>0){let W=new A;W.propertyName="LinkCmsSiteId",W.value=this.requestLinkSiteId,this.filteModelContent.filters.push(W)}if(this.requestLinkUserId>0){let W=new A;W.propertyName="linkUserId",W.value=this.requestLinkUserId,this.filteModelContent.filters.push(W)}if(this.requestlinkMemberUserId>0){let W=new A;W.propertyName="linkMemberUserId",W.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(W)}this.optionsSearch.parentMethods={onSubmit:W=>this.onSubmitOptionsSearch(W)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=G.Descending}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=G.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getModuleList()}getModuleList(){let e=new Me;e.rowPerPage=100,this.coreModuleService.ServiceGetAllModuleName(e).subscribe({next:o=>{this.dataModelCoreModuleResult=o}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ft);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=G.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=G.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=G.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Mo,{height:"90%",panelClass:o,enterAnimationDuration:K.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:K.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(vo,{height:"90%",panelClass:o,enterAnimationDuration:K.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:K.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{o=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(c=>{if(c){let S=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(S,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(S)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(S,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{o.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{o.set(s,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{o.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),S=new A;S.propertyName="recordStatus",S.value=Te.Available,c.filters.push(S),this.contentService.ServiceGetCount(c).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{o.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonBankPaymentTransactionRow(e=this.tableRowSelected,o){if(!e||!e.linkModuleBankPaymentTransactionId||e.linkModuleBankPaymentTransactionId===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),o?.ctrlKey){let t="/#/bankpayment/transaction/"+this.tableRowSelected.linkModuleBankPaymentTransactionId;window.open(t,"_blank")}else this.router.navigate(["/bankpayment/transaction/",this.tableRowSelected.linkModuleBankPaymentTransactionId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Fi.\u0275fac=function(o){return new(o||Fi)(m(O),m(Rt),m(Dt),m(j),m(Ie),m(ke),m(F),m(V),m(U),m(P),m(Ae),m(Ze),m(q),m(Ne))},Fi.\u0275cmp=x({type:Fi,selectors:[["app-coremodulelog-site-credit-blocked-list"]],standalone:!1,features:[J],decls:63,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkModuleId"],["matColumnDef","transactionCredit"],["matColumnDef","linkModuleBankPaymentTransactionId"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-money-bill","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let c=E();M(0,os,1,1,"app-core-user-header",3),r(1,"app-cms-html-list",4),L("optionActionGuideNoticeDisplayChange",function(s){return h(c),T(t.viewGuideNotice,s)||(t.viewGuideNotice=s),C(s)}),b("optionOnActionButtonMemoRow",function(){return h(c),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(c),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(c),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(c),C(t.onActionButtonPrintRow())}),I(2,5),d(3," -------------------------------------- "),w(),se(4,6)(5,7),I(6,8),M(7,ns,2,0,"a",9),r(8,"a",10),b("click",function(){return h(c),C(t.viewGuideNotice=!t.viewGuideNotice)}),g(9,"i",11),l(),r(10,"a",10),b("click",function(){return h(c),C(t.onActionButtonReload())}),g(11,"i",12),l(),w(),I(12,13),r(13,"a",14),b("click",function(){return h(c),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(14,"mat-slide-toggle",15),d(15),_(16,"translate"),l(),r(17,"a",14),b("click",function(){return h(c),C(t.onActionButtonStatist())}),g(18,"mat-slide-toggle",15),d(19),_(20,"translate"),l(),w(),se(21,16),I(22,17),M(23,rs,7,3,"div",18)(24,as,7,3,"div",18)(25,ls,7,3,"div",18)(26,ss,7,3,"div",18)(27,cs,7,3,"div",18),w(),I(28,19),r(29,"app-cms-search-list",20),L("optionsChange",function(s){return h(c),T(t.optionsSearch,s)||(t.optionsSearch=s),C(s)}),l(),r(30,"app-cms-statist-list",20),L("optionsChange",function(s){return h(c),T(t.optionsStatist,s)||(t.optionsStatist=s),C(s)}),l(),w(),I(31,21),r(32,"mat-table",22,0),b("matSortChange",function(){h(c);let s=oe(33);return C(t.onTableSortData(s))}),I(34,23),M(35,ds,2,1,"mat-header-cell",24)(36,ms,2,1,"mat-cell",25),w(),I(37,26),M(38,ps,2,1,"mat-header-cell",24)(39,fs,5,7,"mat-cell",27),w(),I(40,28),M(41,Ss,2,1,"mat-header-cell",24)(42,hs,4,5,"mat-cell",25),w(),I(43,29),M(44,Cs,2,1,"mat-header-cell",24)(45,gs,3,4,"mat-cell",25),w(),I(46,30),M(47,_s,2,1,"mat-header-cell",24)(48,vs,3,3,"mat-cell",25),w(),I(49,31),M(50,Ms,2,1,"mat-header-cell",24)(51,bs,2,1,"mat-cell",25),w(),I(52,32),M(53,Is,2,1,"mat-header-cell",24)(54,ws,3,3,"mat-cell",33),w(),I(55,34),M(56,Es,3,3,"mat-header-cell",35)(57,ys,6,1,"mat-cell",36),w(),M(58,Rs,1,0,"mat-header-row",37)(59,Ts,1,2,"mat-row",38),l(),w(),I(60,39),r(61,"mat-paginator",40,1),b("page",function(s){return h(c),C(t.onTablePageingData(s))}),l(),w(),l()}o&2&&(f("ngIf",t.requestLinkUserId>0),a(),f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),a(6),f("ngIf",t.requestLinkSiteId>0),a(4),me("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),a(3),f("checked",t.optionsSearch.data.show),a(),u("",v(16,29,"ACTION.SEARCH")," "),a(3),f("checked",t.optionsStatist.data.show),a(),u("",v(20,31,"ACTION.STATIST")," "),a(4),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),a(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),a(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),a(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkSiteId)>0),a(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkModuleBankPaymentTransactionId)>0),a(2),R("options",t.optionsSearch),a(),R("options",t.optionsStatist),a(2),f("dataSource",t.tableSource),a(26),f("matHeaderRowDef",t.tabledisplayedColumns),a(),f("matRowDefColumns",t.tabledisplayedColumns),a(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",we(33,ts)))},dependencies:[ye,N,Re,Ve,Ge,ne,Oe,Pe,He,ut,Ue,Fe,je,We,Je,Ke,qe,$e,Qe,ze,Ye,Xe,nt,rt,at,lt,st,Mt,pt,Mi,H,bi,St,et,ct,dt],encapsulation:2});var bo=Fi;var Ls=["vform"];function ks(i,n){if(i&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),_(4,"translate"),l()()),i&2){let e=p(2);a(),u(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldDescription," is "),a(2),D(v(4,2,"MESSAGE.required"))}}function As(i,n){if(i&1){let e=E();r(0,"div",9)(1,"label",10),d(2),l(),r(3,"textarea",11,1),L("ngModelChange",function(t){h(e);let c=p();return T(c.dataModel.description,t)||(c.dataModel.description=t),C(t)}),d(5,"        "),l(),r(6,"em"),d(7),l(),M(8,ks,5,4,"mat-error",12),l()}if(i&2){let e=oe(4),o=p();a(2),D(o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldDescription),a(),f("placeholder",fi(o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle)),R("ngModel",o.dataModel.description),f("disabled",!(o.fieldsInfo.description!=null&&o.fieldsInfo.description.accessEditField)),a(4),u("",e.value.length," / 500"),a(),f("ngIf",e.errors==null?null:e.errors.required)}}function xs(i,n){if(i&1){let e=E();r(0,"div",13)(1,"button",14),b("click",function(){h(e);let t=p();return C(t.onFormCancel())}),g(2,"i",15),d(3),_(4,"translate"),l()()}i&2&&(a(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var ji=class ji extends tt{constructor(e,o,t,c,S,s,k,re,z,le){super(c,new qt,z,le);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreModuleLogSiteCreditService=c;this.cmsToastrService=S;this.tokenHelper=s;this.cmsStoreService=k;this.cdr=re;this.publicHelper=z;this.translate=le;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Q;this.dataModel=new qt;this.formInfo=new Z;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreModuleLogSiteCreditService.setAccessLoad(),this.coreModuleLogSiteCreditService.setAccessDataType(be.Editor),this.coreModuleLogSiteCreditService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ji.\u0275fac=function(o){return new(o||ji)(m(te),m(ee),m(O),m(Vt),m(j),m(F),m(U),m(V),m(q),m(P))},ji.\u0275cmp=x({type:ji,selectors:[["app-coremodulelog-site-credit--edit"]],viewQuery:function(o,t){if(o&1&&$(Ls,5),o&2){let c;Y(c=X())&&(t.formGroup=c.first)}},standalone:!1,features:[J],decls:14,vars:12,consts:[["vform","ngForm"],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","10","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(r(0,"div",2),g(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),d(4),l(),r(5,"p"),d(6),_(7,"translate"),l(),r(8,"form",null,0),g(10,"app-cms-site-selector",6),_(11,"translate"),M(12,As,9,7,"div",7)(13,xs,5,3,"div",8),l()()()),o&2&&(a(),f("optionsInfoAreaId",t.constructorInfoAreaId),a(3),u(" ",t.formInfo.formTitle," "),a(2),u(" ",v(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),a(4),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(11,10,"TITLE.SITE")),a(2),f("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),a(),f("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[N,Be,gt,_t,xe,Kt,Qt,vt,De,io,ne,ft,ie,H],encapsulation:2});var Io=ji;var Ds=["vform"];function Bs(i,n){if(i&1&&(r(0,"div",7),g(1,"i",11),r(2,"span",12),d(3),l()()),i&2){let e=p(2);a(3),D(e.formInfo.submitResultMessage)}}function Vs(i,n){if(i&1&&(r(0,"div",8),g(1,"i",13),r(2,"span",12),d(3),l()()),i&2){let e=p(2);a(3),D(e.formInfo.submitResultMessage)}}function Ns(i,n){if(i&1&&(r(0,"div",9),g(1,"i",14),r(2,"span",12),d(3),l()()),i&2){let e=p(2);a(3),D(e.formInfo.submitResultMessage)}}function Gs(i,n){if(i&1&&(r(0,"div",10),g(1,"i",15),r(2,"span",12),d(3),l()()),i&2){let e=p(2);a(3),D(e.formInfo.submitResultMessage)}}function Os(i,n){if(i&1&&ce(0,Bs,4,1,"div",7)(1,Vs,4,1,"div",8)(2,Ns,4,1,"div",9)(3,Gs,4,1,"div",10),i&2){let e,o=p();de((e=o.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function Ps(i,n){if(i&1){let e=E();r(0,"div",16)(1,"button",17),b("click",function(){h(e);let t=p();return C(t.onFormCancel())}),g(2,"i",18),d(3),_(4,"translate"),l()()}i&2&&(a(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var qi=class qi{constructor(n,e,o,t,c,S,s,k,re,z){this.data=n;this.dialogRef=e;this.coreEnumService=o;this.coreModuleLogSiteCreditService=t;this.cmsToastrService=c;this.tokenHelper=S;this.cmsStoreService=s;this.cdr=k;this.publicHelper=re;this.translate=z;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Le;this.dataModelResult=new Q;this.dataModel=new qt;this.formInfo=new Z;this.dataModelEnumSendSmsStatusTypeResult=new Q;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=n.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(n=>{this.formInfo.formTitle=n}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(n=>n.tokenInfoStore).subscribe(n=>B(this,null,function*(){this.tokenInfo=n}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:n=>{this.dataModelEnumSendSmsStatusTypeResult=n}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(n=>n.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.coreModuleLogSiteCreditService.setAccessLoad(),this.coreModuleLogSiteCreditService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};qi.\u0275fac=function(e){return new(e||qi)(m(te),m(ee),m(O),m(Vt),m(j),m(F),m(U),m(V),m(q),m(P))},qi.\u0275cmp=x({type:qi,selectors:[["app-coremodulelog-site-credit--view"]],viewQuery:function(e,o){if(e&1&&$(Ds,5),e&2){let t;Y(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(r(0,"div",0),d(1),l(),r(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),l(),r(5,"div",4),ce(6,Os,4,1),l(),r(7,"div",5),M(8,Ps,5,3,"div",6),l()),e&2&&(a(),u(" ",o.formInfo.formTitle," "),a(2),f("optionsInfoAreaId",o.constructorInfoAreaId),a(),f("dataModel",o.dataModel)("optionMethod",1),a(2),de((o.formInfo==null||o.formInfo.submitResultMessage==null?null:o.formInfo.submitResultMessage.length)>0?6:-1),a(2),f("ngIf",o.formInfo.submitButtonEnabled))},dependencies:[N,ie,ot,H],encapsulation:2});var wo=qi;var Hs=()=>[5,10,20,100],Us=i=>({display:i});function Fs(i,n){if(i&1){let e=E();r(0,"a",40),b("click",function(){h(e);let t=p();return C(t.onActionBackToParent())}),g(1,"i",41),l()}}function js(i,n){if(i&1){let e=E();r(0,"div",42)(1,"a",43),b("click",function(){h(e);let t=p();return C(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",44)(3,"br"),l(),r(4,"p",45),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.VIEW")," "))}function qs(i,n){if(i&1){let e=E();r(0,"div",42)(1,"a",46),b("click",function(){h(e);let t=p();return C(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",47)(3,"br"),l(),r(4,"p",45),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.EDIT")," "))}function Ws(i,n){if(i&1){let e=E();r(0,"div",42)(1,"a",48),b("click",function(){h(e);let t=p();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",49)(3,"br"),l(),r(4,"p",45),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.DELETE")," "))}function Ks(i,n){if(i&1){let e=E();r(0,"div",42)(1,"a",43),b("click",function(){h(e);let t=p();return C(t.onActionButtonViewSiteRow(t.tableRowSelected))}),g(2,"i",50)(3,"br"),l(),r(4,"p",45),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.SITE")," "))}function Qs(i,n){if(i&1){let e=E();r(0,"div",42)(1,"a",43),b("click",function(t){h(e);let c=p();return C(c.onActionButtonBankPaymentTransactionRow(c.tableRowSelected,t))}),g(2,"i",51)(3,"br"),l(),r(4,"p",45),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.BANK_PAYMENT_TRANSACTION")," "))}function zs(i,n){if(i&1&&(r(0,"mat-header-cell",52),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Js(i,n){if(i&1&&(r(0,"mat-cell"),d(1),l()),i&2){let e=n.$implicit;a(),u(" ",e.id," ")}}function $s(i,n){if(i&1&&(r(0,"mat-header-cell",52),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ys(i,n){if(i&1&&g(0,"select",55),i&2){let e=p().$implicit,o=p();f("contentService",o.contentService)("row",e)("ngStyle",Ee(3,Us,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function Xs(i,n){if(i&1&&(r(0,"mat-cell",53),_(1,"statusCellClass"),g(2,"i",53),_(3,"statusIconClass"),M(4,Ys,1,5,"select",54),l()),i&2){let e=n.$implicit,o=p();f("ngClass",v(1,3,e.recordStatus)),a(2),f("ngClass",v(3,5,e.recordStatus)),a(2),f("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function Zs(i,n){if(i&1&&(r(0,"mat-header-cell",52),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function ec(i,n){if(i&1&&(r(0,"mat-cell"),d(1),_(2,"cmssiteinfo"),_(3,"async"),l()),i&2){let e=n.$implicit;a(),u(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function tc(i,n){if(i&1&&(r(0,"mat-header-cell",52),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.linkModuleId==null?null:e.fieldsInfo.linkModuleId.fieldTitle," ")}}function ic(i,n){if(i&1&&(r(0,"mat-cell"),d(1),_(2,"cmstitle"),l()),i&2){let e=n.$implicit,o=p();a(),u(" ",vi(2,1,e.linkModuleId,o.dataModelCoreModuleResult.listItems)," ")}}function oc(i,n){if(i&1&&(r(0,"mat-header-cell",52),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.transactionCredit==null?null:e.fieldsInfo.transactionCredit.fieldTitle," ")}}function nc(i,n){if(i&1&&(r(0,"mat-cell"),d(1),_(2,"number"),l()),i&2){let e=n.$implicit;a(),u(" ",v(2,1,e.transactionCredit)," ")}}function rc(i,n){if(i&1&&(r(0,"mat-header-cell",52),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.linkModuleBankPaymentTransactionId==null?null:e.fieldsInfo.linkModuleBankPaymentTransactionId.fieldTitle," ")}}function ac(i,n){if(i&1&&(r(0,"mat-cell"),d(1),l()),i&2){let e=n.$implicit;a(),u(" ",e.linkModuleBankPaymentTransactionId," ")}}function lc(i,n){if(i&1&&(r(0,"mat-header-cell",52),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function sc(i,n){if(i&1&&(r(0,"mat-cell",56),d(1),_(2,"localeDateTime"),l()),i&2){let e=n.$implicit;a(),u(" ",v(2,1,e.createdDate)," ")}}function cc(i,n){i&1&&(r(0,"mat-header-cell"),d(1),_(2,"translate"),l()),i&2&&(a(),u(" ",v(2,1,"TITLE.OPTION")," "))}function dc(i,n){if(i&1&&(r(0,"mat-cell",57)(1,"button",58)(2,"mat-icon"),d(3,"more_vert"),l()(),g(4,"mat-menu",null,2),l()),i&2){let e=oe(5);a(),f("matMenuTriggerFor",e)}}function mc(i,n){i&1&&g(0,"mat-header-row")}function pc(i,n){if(i&1){let e=E();r(0,"mat-row",59),b("click",function(t){let c=h(e).$implicit,S=p();return C(S.onActionTableRowSelect(c,t))})("rtclick",function(t){let c=h(e).$implicit,S=p();return C(S.onActionTableRowSelect(c,t))}),l()}if(i&2){let e=n.$implicit,o=p();me("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Wi=class Wi extends it{constructor(e,o,t,c,S,s,k,re,z,le,yt,Ct,wt,y){super(t,new qt,wt,k,z);this.coreEnumService=e;this.coreModuleService=o;this.contentService=t;this.cmsToastrService=c;this.cmsConfirmationDialogService=S;this.activatedRoute=s;this.tokenHelper=k;this.cdr=re;this.translate=z;this.router=le;this.cmsStoreService=yt;this.pageInfo=Ct;this.publicHelper=wt;this.dialog=y;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestlinkMemberUserId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Me;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","linkModuleId","transactionCredit","linkModuleBankPaymentTransactionId","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkModuleId","transactionCredit","createdDate"];this.dataModelCoreModuleResult=new Q;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberUserId")),this.requestLinkSiteId>0){let W=new A;W.propertyName="LinkCmsSiteId",W.value=this.requestLinkSiteId,this.filteModelContent.filters.push(W)}if(this.requestLinkUserId>0){let W=new A;W.propertyName="linkUserId",W.value=this.requestLinkUserId,this.filteModelContent.filters.push(W)}if(this.requestlinkMemberUserId>0){let W=new A;W.propertyName="linkMemberUserId",W.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(W)}this.optionsSearch.parentMethods={onSubmit:W=>this.onSubmitOptionsSearch(W)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=G.Descending}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=G.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getModuleList()}getModuleList(){let e=new Me;e.rowPerPage=100,this.coreModuleService.ServiceGetAllModuleName(e).subscribe({next:o=>{this.dataModelCoreModuleResult=o}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new qt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=G.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=G.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=G.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(wo,{height:"90%",panelClass:o,enterAnimationDuration:K.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:K.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Io,{height:"90%",panelClass:o,enterAnimationDuration:K.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:K.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{o=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(c=>{if(c){let S=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(S,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(S)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(S,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{o.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{o.set(s,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{o.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),S=new A;S.propertyName="recordStatus",S.value=Te.Available,c.filters.push(S),this.contentService.ServiceGetCount(c).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{o.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonBankPaymentTransactionRow(e=this.tableRowSelected,o){if(!e||!e.linkModuleBankPaymentTransactionId||e.linkModuleBankPaymentTransactionId===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),o?.ctrlKey){let t="/#/bankpayment/transactionlog/LinkTransactionId/"+this.tableRowSelected.linkModuleBankPaymentTransactionId;window.open(t,"_blank")}else this.router.navigate(["/bankpayment/transactionlog/LinkTransactionId/",this.tableRowSelected.linkModuleBankPaymentTransactionId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Wi.\u0275fac=function(o){return new(o||Wi)(m(O),m(Rt),m(Vt),m(j),m(Ie),m(ke),m(F),m(V),m(P),m(Ae),m(U),m(Ze),m(q),m(Ne))},Wi.\u0275cmp=x({type:Wi,selectors:[["app-coremodulelog-site-credit--list"]],standalone:!1,features:[J],decls:62,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkModuleId"],["matColumnDef","transactionCredit"],["matColumnDef","linkModuleBankPaymentTransactionId"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-money-bill","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let c=E();r(0,"app-cms-html-list",3),L("optionActionGuideNoticeDisplayChange",function(s){return h(c),T(t.viewGuideNotice,s)||(t.viewGuideNotice=s),C(s)}),b("optionOnActionButtonMemoRow",function(){return h(c),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(c),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(c),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(c),C(t.onActionButtonPrintRow())}),I(1,4),d(2," -------------------------------------- "),w(),se(3,5)(4,6),I(5,7),M(6,Fs,2,0,"a",8),r(7,"a",9),b("click",function(){return h(c),C(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",10),l(),r(9,"a",9),b("click",function(){return h(c),C(t.onActionButtonReload())}),g(10,"i",11),l(),w(),I(11,12),r(12,"a",13),b("click",function(){return h(c),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",14),d(14),_(15,"translate"),l(),r(16,"a",13),b("click",function(){return h(c),C(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",14),d(18),_(19,"translate"),l(),w(),se(20,15),I(21,16),M(22,js,7,3,"div",17)(23,qs,7,3,"div",17)(24,Ws,7,3,"div",17)(25,Ks,7,3,"div",17)(26,Qs,7,3,"div",17),w(),I(27,18),r(28,"app-cms-search-list",19),L("optionsChange",function(s){return h(c),T(t.optionsSearch,s)||(t.optionsSearch=s),C(s)}),l(),r(29,"app-cms-statist-list",19),L("optionsChange",function(s){return h(c),T(t.optionsStatist,s)||(t.optionsStatist=s),C(s)}),l(),w(),I(30,20),r(31,"mat-table",21,0),b("matSortChange",function(){h(c);let s=oe(32);return C(t.onTableSortData(s))}),I(33,22),M(34,zs,2,1,"mat-header-cell",23)(35,Js,2,1,"mat-cell",24),w(),I(36,25),M(37,$s,2,1,"mat-header-cell",23)(38,Xs,5,7,"mat-cell",26),w(),I(39,27),M(40,Zs,2,1,"mat-header-cell",23)(41,ec,4,5,"mat-cell",24),w(),I(42,28),M(43,tc,2,1,"mat-header-cell",23)(44,ic,3,4,"mat-cell",24),w(),I(45,29),M(46,oc,2,1,"mat-header-cell",23)(47,nc,3,3,"mat-cell",24),w(),I(48,30),M(49,rc,2,1,"mat-header-cell",23)(50,ac,2,1,"mat-cell",24),w(),I(51,31),M(52,lc,2,1,"mat-header-cell",23)(53,sc,3,3,"mat-cell",32),w(),I(54,33),M(55,cc,3,3,"mat-header-cell",34)(56,dc,6,1,"mat-cell",35),w(),M(57,mc,1,0,"mat-header-row",36)(58,pc,1,2,"mat-row",37),l(),w(),I(59,38),r(60,"mat-paginator",39,1),b("page",function(s){return h(c),C(t.onTablePageingData(s))}),l(),w(),l()}o&2&&(f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),a(6),f("ngIf",t.requestLinkSiteId>0),a(4),me("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),a(3),f("checked",t.optionsSearch.data.show),a(),u("",v(15,28,"ACTION.SEARCH")," "),a(3),f("checked",t.optionsStatist.data.show),a(),u("",v(19,30,"ACTION.STATIST")," "),a(4),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),a(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),a(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),a(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkSiteId)>0),a(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkModuleBankPaymentTransactionId)>0),a(2),R("options",t.optionsSearch),a(),R("options",t.optionsStatist),a(2),f("dataSource",t.tableSource),a(26),f("matHeaderRowDef",t.tabledisplayedColumns),a(),f("matRowDefColumns",t.tabledisplayedColumns),a(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",we(32,Hs)))},dependencies:[ye,N,Re,Ve,Ge,ne,Oe,Pe,He,ut,Ue,Fe,je,We,Je,Ke,qe,$e,Qe,ze,Ye,Xe,nt,rt,at,lt,st,pt,Mi,H,bi,St,et,ct,dt],encapsulation:2});var Eo=Wi;var uc=["vform"];function fc(i,n){if(i&1){let e=E();r(0,"div",7)(1,"button",8),b("click",function(){h(e);let t=p();return C(t.onFormCancel())}),g(2,"i",9),d(3),_(4,"translate"),l()()}i&2&&(a(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var Ki=class Ki extends tt{constructor(e,o,t,c,S,s,k,re,z,le){super(c,new jt,z,le);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreModuleLogSiteUserCreditBlockedService=c;this.cmsToastrService=S;this.tokenHelper=s;this.cmsStoreService=k;this.cdr=re;this.publicHelper=z;this.translate=le;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new bt;this.dataModel=new jt;this.formInfo=new Z;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreModuleLogSiteUserCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteUserCreditBlockedService.setAccessDataType(be.Editor),this.coreModuleLogSiteUserCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ki.\u0275fac=function(o){return new(o||Ki)(m(te),m(ee),m(O),m(Bt),m(j),m(F),m(U),m(V),m(q),m(P))},Ki.\u0275cmp=x({type:Ki,selectors:[["app-coremodulelog-site-user-credit-blocked-edit"]],viewQuery:function(o,t){if(o&1&&$(uc,5),o&2){let c;Y(c=X())&&(t.formGroup=c.first)}},standalone:!1,features:[J],decls:13,vars:11,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(r(0,"div",1),g(1,"app-progress-spinner",2),r(2,"div",3)(3,"p",4),d(4),l(),r(5,"p"),d(6),_(7,"translate"),l(),r(8,"form",null,0),g(10,"app-cms-site-selector",5),_(11,"translate"),M(12,fc,5,3,"div",6),l()()()),o&2&&(a(),f("optionsInfoAreaId",t.constructorInfoAreaId),a(3),u(" ",t.formInfo.formTitle," "),a(2),u(" ",v(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),a(4),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(11,9,"TITLE.SITE")),a(2),f("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[N,Be,xe,De,ft,ie,H],encapsulation:2});var yo=Ki;var Sc=["vform"];function hc(i,n){if(i&1&&(r(0,"div",9),g(1,"i",13),r(2,"span",14),d(3),l()()),i&2){let e=p(2);a(3),D(e.formInfo.submitResultMessage)}}function Cc(i,n){if(i&1&&(r(0,"div",10),g(1,"i",15),r(2,"span",14),d(3),l()()),i&2){let e=p(2);a(3),D(e.formInfo.submitResultMessage)}}function gc(i,n){if(i&1&&(r(0,"div",11),g(1,"i",16),r(2,"span",14),d(3),l()()),i&2){let e=p(2);a(3),D(e.formInfo.submitResultMessage)}}function _c(i,n){if(i&1&&(r(0,"div",12),g(1,"i",17),r(2,"span",14),d(3),l()()),i&2){let e=p(2);a(3),D(e.formInfo.submitResultMessage)}}function vc(i,n){if(i&1&&ce(0,hc,4,1,"div",9)(1,Cc,4,1,"div",10)(2,gc,4,1,"div",11)(3,_c,4,1,"div",12),i&2){let e,o=p();de((e=o.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function Mc(i,n){if(i&1){let e=E();r(0,"div",18)(1,"button",19),b("click",function(){h(e);let t=p();return C(t.onFormCancel())}),g(2,"i",20),d(3),_(4,"translate"),l()()}i&2&&(a(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var Qi=class Qi{constructor(n,e,o,t,c,S,s,k,re,z){this.data=n;this.dialogRef=e;this.coreEnumService=o;this.coreModuleLogSiteUserCreditBlockedService=t;this.cmsToastrService=c;this.tokenHelper=S;this.cmsStoreService=s;this.cdr=k;this.publicHelper=re;this.translate=z;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Le;this.dataModelResult=new Q;this.dataModel=new jt;this.formInfo=new Z;this.dataModelEnumSendSmsStatusTypeResult=new Q;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=n.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(n=>{this.formInfo.formTitle=n}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(n=>n.tokenInfoStore).subscribe(n=>B(this,null,function*(){this.tokenInfo=n}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:n=>{this.dataModelEnumSendSmsStatusTypeResult=n}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(n=>n.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.coreModuleLogSiteUserCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteUserCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Qi.\u0275fac=function(e){return new(e||Qi)(m(te),m(ee),m(O),m(Bt),m(j),m(F),m(U),m(V),m(q),m(P))},Qi.\u0275cmp=x({type:Qi,selectors:[["app-coremodulelog-site-user-credit-blocked-view"]],viewQuery:function(e,o){if(e&1&&$(Sc,5),e&2){let t;Y(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:14,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(r(0,"div",0),g(1,"app-progress-spinner",1),r(2,"div",2)(3,"p",3),d(4),l(),r(5,"p"),d(6),_(7,"translate"),l(),r(8,"div",4),g(9,"app-cms-json-list",5),l(),r(10,"div",6),ce(11,vc,4,1),l(),r(12,"div",7),M(13,Mc,5,3,"div",8),l()()()),e&2&&(a(),f("optionsInfoAreaId",o.constructorInfoAreaId),a(3),u(" ",o.formInfo.formTitle," "),a(2),u(" ",v(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),a(3),f("dataModel",o.dataModel)("optionMethod",1),a(2),de((o.formInfo==null||o.formInfo.submitResultMessage==null?null:o.formInfo.submitResultMessage.length)>0?11:-1),a(2),f("ngIf",o.formInfo.submitButtonEnabled))},dependencies:[N,ie,ot,H],encapsulation:2});var Ro=Qi;var bc=()=>[5,10,20,100],Ic=i=>({display:i});function wc(i,n){if(i&1&&g(0,"app-core-user-header",40),i&2){let e=p();f("optionId",e.requestLinkUserId)}}function Ec(i,n){if(i&1){let e=E();r(0,"a",41),b("click",function(){h(e);let t=p();return C(t.onActionBackToParent())}),g(1,"i",42),l()}}function yc(i,n){if(i&1){let e=E();r(0,"div",43)(1,"a",44),b("click",function(){h(e);let t=p();return C(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",45)(3,"br"),l(),r(4,"p",46),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.VIEW")," "))}function Rc(i,n){if(i&1){let e=E();r(0,"div",43)(1,"a",47),b("click",function(){h(e);let t=p();return C(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",48)(3,"br"),l(),r(4,"p",46),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.EDIT")," "))}function Tc(i,n){if(i&1){let e=E();r(0,"div",43)(1,"a",49),b("click",function(){h(e);let t=p();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",50)(3,"br"),l(),r(4,"p",46),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.DELETE")," "))}function Lc(i,n){if(i&1){let e=E();r(0,"div",43)(1,"a",44),b("click",function(){h(e);let t=p();return C(t.onActionButtonViewUserRow(t.tableRowSelected))}),g(2,"i",51)(3,"br"),l(),r(4,"p",46),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.USER")," "))}function kc(i,n){if(i&1){let e=E();r(0,"div",43)(1,"a",44),b("click",function(t){h(e);let c=p();return C(c.onActionButtonBankPaymentTransactionRow(c.tableRowSelected,t))}),g(2,"i",52)(3,"br"),l(),r(4,"p",46),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.BANK_PAYMENT_TRANSACTION")," "))}function Ac(i,n){if(i&1&&(r(0,"mat-header-cell",53),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function xc(i,n){if(i&1&&(r(0,"mat-cell"),d(1),l()),i&2){let e=n.$implicit;a(),u(" ",e.id," ")}}function Dc(i,n){if(i&1&&(r(0,"mat-header-cell",53),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Bc(i,n){if(i&1&&g(0,"select",56),i&2){let e=p().$implicit,o=p();f("contentService",o.contentService)("row",e)("ngStyle",Ee(3,Ic,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function Vc(i,n){if(i&1&&(r(0,"mat-cell",54),_(1,"statusCellClass"),g(2,"i",54),_(3,"statusIconClass"),M(4,Bc,1,5,"select",55),l()),i&2){let e=n.$implicit,o=p();f("ngClass",v(1,3,e.recordStatus)),a(2),f("ngClass",v(3,5,e.recordStatus)),a(2),f("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function Nc(i,n){if(i&1&&(r(0,"mat-header-cell",53),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Gc(i,n){if(i&1&&(r(0,"mat-cell"),d(1),_(2,"cmssiteinfo"),_(3,"async"),l()),i&2){let e=n.$implicit;a(),u(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function Oc(i,n){if(i&1&&(r(0,"mat-header-cell",53),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Pc(i,n){if(i&1&&(r(0,"mat-cell"),d(1),_(2,"cmsuserinfo"),_(3,"async"),l()),i&2){let e=n.$implicit;a(),u(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function Hc(i,n){if(i&1&&(r(0,"mat-header-cell",53),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.linkModuleBankPaymentTransactionId==null?null:e.fieldsInfo.linkModuleBankPaymentTransactionId.fieldTitle," ")}}function Uc(i,n){if(i&1&&(r(0,"mat-cell"),d(1),l()),i&2){let e=n.$implicit;a(),u(" ",e.linkModuleBankPaymentTransactionId," ")}}function Fc(i,n){if(i&1&&(r(0,"mat-header-cell",53),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function jc(i,n){if(i&1&&(r(0,"mat-cell",57),d(1),_(2,"localeDateTime"),l()),i&2){let e=n.$implicit;a(),u(" ",v(2,1,e.createdDate)," ")}}function qc(i,n){i&1&&(r(0,"mat-header-cell"),d(1),_(2,"translate"),l()),i&2&&(a(),u(" ",v(2,1,"TITLE.OPTION")," "))}function Wc(i,n){if(i&1&&(r(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),d(3,"more_vert"),l()(),g(4,"mat-menu",null,2),l()),i&2){let e=oe(5);a(),f("matMenuTriggerFor",e)}}function Kc(i,n){i&1&&g(0,"mat-header-row")}function Qc(i,n){if(i&1){let e=E();r(0,"mat-row",60),b("click",function(t){let c=h(e).$implicit,S=p();return C(S.onActionTableRowSelect(c,t))})("rtclick",function(t){let c=h(e).$implicit,S=p();return C(S.onActionTableRowSelect(c,t))}),l()}if(i&2){let e=n.$implicit,o=p();me("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var zi=class zi extends it{constructor(e,o,t,c,S,s,k,re,z,le,yt,Ct,wt){super(o,new jt,Ct,s,re);this.coreEnumService=e;this.contentService=o;this.cmsToastrService=t;this.cmsConfirmationDialogService=c;this.activatedRoute=S;this.tokenHelper=s;this.cdr=k;this.translate=re;this.cmsStoreService=z;this.router=le;this.pageInfo=yt;this.publicHelper=Ct;this.dialog=wt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestlinkMemberUserId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Me;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkUserId","linkSiteId","linkModuleBankPaymentTransactionId","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkUserId","linkSiteId","createdDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberUserId")),this.requestLinkSiteId>0){let y=new A;y.propertyName="LinkCmsSiteId",y.value=this.requestLinkSiteId,this.filteModelContent.filters.push(y)}if(this.requestLinkUserId>0){let y=new A;y.propertyName="linkUserId",y.value=this.requestLinkUserId,this.filteModelContent.filters.push(y)}if(this.requestlinkMemberUserId>0){let y=new A;y.propertyName="linkMemberUserId",y.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(y)}this.optionsSearch.parentMethods={onSubmit:y=>this.onSubmitOptionsSearch(y)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=G.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=G.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new jt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new A;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new A;t.propertyAnyName="linkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new A;t.propertyAnyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=G.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=G.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=G.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Ro,{height:"90%",panelClass:o,enterAnimationDuration:K.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:K.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(yo,{height:"90%",panelClass:o,enterAnimationDuration:K.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:K.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{o=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(c=>{if(c){let S=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(S,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(S)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(S,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{o.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{o.set(s,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{o.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),S=new A;S.propertyName="recordStatus",S.value=Te.Available,c.filters.push(S),this.contentService.ServiceGetCount(c).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{o.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonBankPaymentTransactionRow(e=this.tableRowSelected,o){if(!e||!e.linkModuleBankPaymentTransactionId||e.linkModuleBankPaymentTransactionId===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),o?.ctrlKey){let t="/#/bankpayment/transaction/"+this.tableRowSelected.linkModuleBankPaymentTransactionId;window.open(t,"_blank")}else this.router.navigate(["/bankpayment/transaction/",this.tableRowSelected.linkModuleBankPaymentTransactionId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};zi.\u0275fac=function(o){return new(o||zi)(m(O),m(Bt),m(j),m(Ie),m(ke),m(F),m(V),m(P),m(U),m(Ae),m(Ze),m(q),m(Ne))},zi.\u0275cmp=x({type:zi,selectors:[["app-coremodulelog-site-user-credit-blocked-list"]],standalone:!1,features:[J],decls:61,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","linkModuleBankPaymentTransactionId"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-money-bill","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let c=E();M(0,wc,1,1,"app-core-user-header",3),r(1,"app-cms-html-list",4),L("optionActionGuideNoticeDisplayChange",function(s){return h(c),T(t.viewGuideNotice,s)||(t.viewGuideNotice=s),C(s)}),b("optionOnActionButtonMemoRow",function(){return h(c),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(c),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(c),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(c),C(t.onActionButtonPrintRow())}),I(2,5),d(3,"id "),d(4," -------------------------------------- "),w(),se(5,6)(6,7),I(7,8),M(8,Ec,2,0,"a",9),r(9,"a",10),b("click",function(){return h(c),C(t.viewGuideNotice=!t.viewGuideNotice)}),g(10,"i",11),l(),r(11,"a",10),b("click",function(){return h(c),C(t.onActionButtonReload())}),g(12,"i",12),l(),w(),I(13,13),r(14,"a",14),b("click",function(){return h(c),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(15,"mat-slide-toggle",15),d(16),_(17,"translate"),l(),r(18,"a",14),b("click",function(){return h(c),C(t.onActionButtonStatist())}),g(19,"mat-slide-toggle",15),d(20),_(21,"translate"),l(),w(),se(22,16),I(23,17),M(24,yc,7,3,"div",18)(25,Rc,7,3,"div",18)(26,Tc,7,3,"div",18)(27,Lc,7,3,"div",18)(28,kc,7,3,"div",18),w(),I(29,19),r(30,"app-cms-search-list",20),L("optionsChange",function(s){return h(c),T(t.optionsSearch,s)||(t.optionsSearch=s),C(s)}),l(),r(31,"app-cms-statist-list",20),L("optionsChange",function(s){return h(c),T(t.optionsStatist,s)||(t.optionsStatist=s),C(s)}),l(),w(),I(32,21),r(33,"mat-table",22,0),b("matSortChange",function(){h(c);let s=oe(34);return C(t.onTableSortData(s))}),I(35,23),M(36,Ac,2,1,"mat-header-cell",24)(37,xc,2,1,"mat-cell",25),w(),I(38,26),M(39,Dc,2,1,"mat-header-cell",24)(40,Vc,5,7,"mat-cell",27),w(),I(41,28),M(42,Nc,2,1,"mat-header-cell",24)(43,Gc,4,5,"mat-cell",25),w(),I(44,29),M(45,Oc,2,1,"mat-header-cell",24)(46,Pc,4,5,"mat-cell",25),w(),I(47,30),M(48,Hc,2,1,"mat-header-cell",24)(49,Uc,2,1,"mat-cell",25),w(),I(50,31),M(51,Fc,2,1,"mat-header-cell",24)(52,jc,3,3,"mat-cell",32),w(),I(53,33),M(54,qc,3,3,"mat-header-cell",34)(55,Wc,6,1,"mat-cell",35),w(),M(56,Kc,1,0,"mat-header-row",36)(57,Qc,1,2,"mat-row",37),l(),w(),I(58,38),r(59,"mat-paginator",39,1),b("page",function(s){return h(c),C(t.onTablePageingData(s))}),l(),w(),l()}o&2&&(f("ngIf",t.requestLinkUserId>0),a(),f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),a(7),f("ngIf",t.requestLinkSiteId>0),a(4),me("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),a(3),f("checked",t.optionsSearch.data.show),a(),u("",v(17,29,"ACTION.SEARCH")," "),a(3),f("checked",t.optionsStatist.data.show),a(),u("",v(21,31,"ACTION.STATIST")," "),a(4),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),a(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),a(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),a(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),a(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkModuleBankPaymentTransactionId)>0),a(2),R("options",t.optionsSearch),a(),R("options",t.optionsStatist),a(2),f("dataSource",t.tableSource),a(23),f("matHeaderRowDef",t.tabledisplayedColumns),a(),f("matRowDefColumns",t.tabledisplayedColumns),a(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",we(33,bc)))},dependencies:[ye,N,Re,Ve,Ge,ne,Oe,Pe,He,ut,Ue,Fe,je,We,Je,Ke,qe,$e,Qe,ze,Ye,Xe,nt,rt,at,lt,st,Mt,pt,H,It,St,et,ct,dt],encapsulation:2});var To=zi;var zc=["vform"];function Jc(i,n){if(i&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),_(4,"translate"),l()()),i&2){let e=p(2);a(),u(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldDescription," is "),a(2),D(v(4,2,"MESSAGE.required"))}}function $c(i,n){if(i&1){let e=E();r(0,"div",9)(1,"label",10),d(2),l(),r(3,"textarea",11,1),L("ngModelChange",function(t){h(e);let c=p();return T(c.dataModel.description,t)||(c.dataModel.description=t),C(t)}),d(5,"        "),l(),r(6,"em"),d(7),l(),M(8,Jc,5,4,"mat-error",12),l()}if(i&2){let e=oe(4),o=p();a(2),D(o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldDescription),a(),f("placeholder",fi(o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle)),R("ngModel",o.dataModel.description),f("disabled",!(o.fieldsInfo.description!=null&&o.fieldsInfo.description.accessEditField)),a(4),u("",e.value.length," / 500"),a(),f("ngIf",e.errors==null?null:e.errors.required)}}function Yc(i,n){if(i&1){let e=E();r(0,"div",13)(1,"button",14),b("click",function(){h(e);let t=p();return C(t.onFormCancel())}),g(2,"i",15),d(3),_(4,"translate"),l()()}i&2&&(a(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var Ji=class Ji extends tt{constructor(e,o,t,c,S,s,k,re,z,le){super(c,new Wt,z,le);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreModuleLogSiteUserCreditService=c;this.cmsToastrService=S;this.tokenHelper=s;this.cmsStoreService=k;this.cdr=re;this.publicHelper=z;this.translate=le;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Q;this.dataModel=new Wt;this.formInfo=new Z;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreModuleLogSiteUserCreditService.setAccessLoad(),this.coreModuleLogSiteUserCreditService.setAccessDataType(be.Editor),this.coreModuleLogSiteUserCreditService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ji.\u0275fac=function(o){return new(o||Ji)(m(te),m(ee),m(O),m(Nt),m(j),m(F),m(U),m(V),m(q),m(P))},Ji.\u0275cmp=x({type:Ji,selectors:[["app-coremodulelog-site-user-credit--edit"]],viewQuery:function(o,t){if(o&1&&$(zc,5),o&2){let c;Y(c=X())&&(t.formGroup=c.first)}},standalone:!1,features:[J],decls:14,vars:12,consts:[["vform","ngForm"],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","10","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(r(0,"div",2),g(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),d(4),l(),r(5,"p"),d(6),_(7,"translate"),l(),r(8,"form",null,0),g(10,"app-cms-site-selector",6),_(11,"translate"),M(12,$c,9,7,"div",7)(13,Yc,5,3,"div",8),l()()()),o&2&&(a(),f("optionsInfoAreaId",t.constructorInfoAreaId),a(3),u(" ",t.formInfo.formTitle," "),a(2),u(" ",v(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),a(4),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(11,10,"TITLE.SITE")),a(2),f("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),a(),f("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[N,Be,gt,_t,xe,Kt,Qt,vt,De,io,ne,ft,ie,H],encapsulation:2});var Lo=Ji;var Xc=["vform"];function Zc(i,n){if(i&1&&(r(0,"div",9),g(1,"i",13),r(2,"span",14),d(3),l()()),i&2){let e=p(2);a(3),D(e.formInfo.submitResultMessage)}}function ed(i,n){if(i&1&&(r(0,"div",10),g(1,"i",15),r(2,"span",14),d(3),l()()),i&2){let e=p(2);a(3),D(e.formInfo.submitResultMessage)}}function td(i,n){if(i&1&&(r(0,"div",11),g(1,"i",16),r(2,"span",14),d(3),l()()),i&2){let e=p(2);a(3),D(e.formInfo.submitResultMessage)}}function id(i,n){if(i&1&&(r(0,"div",12),g(1,"i",17),r(2,"span",14),d(3),l()()),i&2){let e=p(2);a(3),D(e.formInfo.submitResultMessage)}}function od(i,n){if(i&1&&ce(0,Zc,4,1,"div",9)(1,ed,4,1,"div",10)(2,td,4,1,"div",11)(3,id,4,1,"div",12),i&2){let e,o=p();de((e=o.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function nd(i,n){if(i&1){let e=E();r(0,"div",18)(1,"button",19),b("click",function(){h(e);let t=p();return C(t.onFormCancel())}),g(2,"i",20),d(3),_(4,"translate"),l()()}i&2&&(a(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var $i=class $i{constructor(n,e,o,t,c,S,s,k,re,z){this.data=n;this.dialogRef=e;this.coreEnumService=o;this.coreModuleLogSiteUserCreditService=t;this.cmsToastrService=c;this.tokenHelper=S;this.cmsStoreService=s;this.cdr=k;this.publicHelper=re;this.translate=z;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Le;this.dataModelResult=new Q;this.dataModel=new Wt;this.formInfo=new Z;this.dataModelEnumSendSmsStatusTypeResult=new Q;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=n.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(n=>{this.formInfo.formTitle=n}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(n=>n.tokenInfoStore).subscribe(n=>B(this,null,function*(){this.tokenInfo=n}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:n=>{this.dataModelEnumSendSmsStatusTypeResult=n}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(n=>n.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.coreModuleLogSiteUserCreditService.setAccessLoad(),this.coreModuleLogSiteUserCreditService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};$i.\u0275fac=function(e){return new(e||$i)(m(te),m(ee),m(O),m(Nt),m(j),m(F),m(U),m(V),m(q),m(P))},$i.\u0275cmp=x({type:$i,selectors:[["app-coremodulelog-site-user-credit--view"]],viewQuery:function(e,o){if(e&1&&$(Xc,5),e&2){let t;Y(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:14,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(r(0,"div",0),g(1,"app-progress-spinner",1),r(2,"div",2)(3,"p",3),d(4),l(),r(5,"p"),d(6),_(7,"translate"),l(),r(8,"div",4),g(9,"app-cms-json-list",5),l(),r(10,"div",6),ce(11,od,4,1),l(),r(12,"div",7),M(13,nd,5,3,"div",8),l()()()),e&2&&(a(),f("optionsInfoAreaId",o.constructorInfoAreaId),a(3),u(" ",o.formInfo.formTitle," "),a(2),u(" ",v(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),a(3),f("dataModel",o.dataModel)("optionMethod",1),a(2),de((o.formInfo==null||o.formInfo.submitResultMessage==null?null:o.formInfo.submitResultMessage.length)>0?11:-1),a(2),f("ngIf",o.formInfo.submitButtonEnabled))},dependencies:[N,ie,ot,H],encapsulation:2});var ko=$i;var rd=()=>[5,10,20,100],ad=i=>({display:i});function ld(i,n){if(i&1&&g(0,"app-core-user-header",42),i&2){let e=p();f("optionId",e.requestLinkUserId)}}function sd(i,n){if(i&1&&g(0,"app-core-module-header",42),i&2){let e=p();f("optionId",e.requestLinkModuleId)}}function cd(i,n){if(i&1){let e=E();r(0,"a",43),b("click",function(){h(e);let t=p();return C(t.onActionBackToParent())}),g(1,"i",44),l()}}function dd(i,n){if(i&1){let e=E();r(0,"div",45)(1,"a",46),b("click",function(){h(e);let t=p();return C(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",47)(3,"br"),l(),r(4,"p",48),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.VIEW")," "))}function md(i,n){if(i&1){let e=E();r(0,"div",45)(1,"a",49),b("click",function(){h(e);let t=p();return C(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",50)(3,"br"),l(),r(4,"p",48),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.EDIT")," "))}function pd(i,n){if(i&1){let e=E();r(0,"div",45)(1,"a",51),b("click",function(){h(e);let t=p();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",52)(3,"br"),l(),r(4,"p",48),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.DELETE")," "))}function ud(i,n){if(i&1){let e=E();r(0,"div",45)(1,"a",46),b("click",function(t){h(e);let c=p();return C(c.onActionButtonViewUserRow(c.tableRowSelected,t))}),g(2,"i",53)(3,"br"),l(),r(4,"p",48),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.USER")," "))}function fd(i,n){if(i&1){let e=E();r(0,"div",45)(1,"a",46),b("click",function(t){h(e);let c=p();return C(c.onActionButtonViewSiteRow(c.tableRowSelected,t))}),g(2,"i",54)(3,"br"),l(),r(4,"p",48),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.SITE")," "))}function Sd(i,n){if(i&1){let e=E();r(0,"div",45)(1,"a",46),b("click",function(t){h(e);let c=p();return C(c.onActionButtonBankPaymentTransactionRow(c.tableRowSelected,t))}),g(2,"i",55)(3,"br"),l(),r(4,"p",48),d(5),_(6,"translate"),l()()}i&2&&(a(5),u(" ",v(6,1,"ACTION.BANK_PAYMENT_TRANSACTION")," "))}function hd(i,n){if(i&1&&(r(0,"mat-header-cell",56),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Cd(i,n){if(i&1&&(r(0,"mat-cell"),d(1),l()),i&2){let e=n.$implicit;a(),u(" ",e.id," ")}}function gd(i,n){if(i&1&&(r(0,"mat-header-cell",56),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function _d(i,n){if(i&1&&g(0,"select",59),i&2){let e=p().$implicit,o=p();f("contentService",o.contentService)("row",e)("ngStyle",Ee(3,ad,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function vd(i,n){if(i&1&&(r(0,"mat-cell",57),_(1,"statusCellClass"),g(2,"i",57),_(3,"statusIconClass"),M(4,_d,1,5,"select",58),l()),i&2){let e=n.$implicit,o=p();f("ngClass",v(1,3,e.recordStatus)),a(2),f("ngClass",v(3,5,e.recordStatus)),a(2),f("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function Md(i,n){if(i&1&&(r(0,"mat-header-cell",56),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function bd(i,n){if(i&1&&(r(0,"mat-cell"),d(1),_(2,"cmssiteinfo"),_(3,"async"),l()),i&2){let e=n.$implicit;a(),u(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function Id(i,n){if(i&1&&(r(0,"mat-header-cell",56),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function wd(i,n){if(i&1&&(r(0,"mat-cell"),d(1),_(2,"cmsuserinfo"),_(3,"async"),l()),i&2){let e=n.$implicit;a(),u(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function Ed(i,n){if(i&1&&(r(0,"mat-header-cell",56),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.linkModuleId==null?null:e.fieldsInfo.linkModuleId.fieldTitle," ")}}function yd(i,n){if(i&1&&(r(0,"mat-cell"),d(1),_(2,"cmstitle"),l()),i&2){let e=n.$implicit,o=p();a(),u(" ",vi(2,1,e.linkModuleId,o.dataModelCoreModuleResult.listItems)," ")}}function Rd(i,n){if(i&1&&(r(0,"mat-header-cell",56),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.transactionCredit==null?null:e.fieldsInfo.transactionCredit.fieldTitle," ")}}function Td(i,n){if(i&1&&(r(0,"mat-cell"),d(1),_(2,"number"),l()),i&2){let e=n.$implicit;a(),u(" ",v(2,1,e.transactionCredit)," ")}}function Ld(i,n){if(i&1&&(r(0,"mat-header-cell",56),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.linkModuleBankPaymentTransactionId==null?null:e.fieldsInfo.linkModuleBankPaymentTransactionId.fieldTitle," ")}}function kd(i,n){if(i&1&&(r(0,"mat-cell"),d(1),l()),i&2){let e=n.$implicit;a(),u(" ",e.linkModuleBankPaymentTransactionId," ")}}function Ad(i,n){if(i&1&&(r(0,"mat-header-cell",56),d(1),l()),i&2){let e=p();a(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function xd(i,n){if(i&1&&(r(0,"mat-cell",60),d(1),_(2,"localeDateTime"),l()),i&2){let e=n.$implicit;a(),u(" ",v(2,1,e.createdDate)," ")}}function Dd(i,n){i&1&&(r(0,"mat-header-cell"),d(1),_(2,"translate"),l()),i&2&&(a(),u(" ",v(2,1,"TITLE.OPTION")," "))}function Bd(i,n){if(i&1&&(r(0,"mat-cell",61)(1,"button",62)(2,"mat-icon"),d(3,"more_vert"),l()(),g(4,"mat-menu",null,2),l()),i&2){let e=oe(5);a(),f("matMenuTriggerFor",e)}}function Vd(i,n){i&1&&g(0,"mat-header-row")}function Nd(i,n){if(i&1){let e=E();r(0,"mat-row",63),b("click",function(t){let c=h(e).$implicit,S=p();return C(S.onActionTableRowSelect(c,t))})("rtclick",function(t){let c=h(e).$implicit,S=p();return C(S.onActionTableRowSelect(c,t))}),l()}if(i&2){let e=n.$implicit,o=p();me("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Yi=class Yi extends it{constructor(e,o,t,c,S,s,k,re,z,le,yt,Ct,wt,y){super(t,new Wt,wt,re,le);this.coreEnumService=e;this.coreModuleService=o;this.contentService=t;this.cmsToastrService=c;this.cmsConfirmationDialogService=S;this.activatedRoute=s;this.cmsStoreService=k;this.tokenHelper=re;this.cdr=z;this.translate=le;this.router=yt;this.pageInfo=Ct;this.publicHelper=wt;this.dialog=y;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkModuleId=0;this.requestlinkMemberUserId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Me;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkUserId","linkSiteId","linkModuleId","transactionCredit","linkModuleBankPaymentTransactionId","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkUserId","linkSiteId","linkModuleId","transactionCredit","createdDate"];this.dataModelCoreModuleResult=new Q;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkModuleId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkModuleId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberUserId")),this.requestLinkSiteId>0){let W=new A;W.propertyName="LinkCmsSiteId",W.value=this.requestLinkSiteId,this.filteModelContent.filters.push(W)}if(this.requestLinkUserId>0){let W=new A;W.propertyName="linkUserId",W.value=this.requestLinkUserId,this.filteModelContent.filters.push(W)}if(this.requestLinkModuleId>0){let W=new A;W.propertyName="LinkModuleId",W.value=this.requestLinkModuleId,this.filteModelContent.filters.push(W)}if(this.requestlinkMemberUserId>0){let W=new A;W.propertyName="linkMemberUserId",W.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(W)}this.optionsSearch.parentMethods={onSubmit:W=>this.onSubmitOptionsSearch(W)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=G.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=G.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getModuleList()}getModuleList(){let e=new Me;e.rowPerPage=100,this.coreModuleService.ServiceGetAllModuleName(e).subscribe({next:o=>{this.dataModelCoreModuleResult=o}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Wt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new A;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new A;t.propertyAnyName="linkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new A;t.propertyAnyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=G.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=G.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=G.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(ko,{height:"90%",panelClass:o,enterAnimationDuration:K.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:K.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Lo,{height:"90%",panelClass:o,enterAnimationDuration:K.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:K.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{o=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(c=>{if(c){let S=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(S,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(S)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(S,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{o.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{o.set(s,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{o.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),S=new A;S.propertyName="recordStatus",S.value=Te.Available,c.filters.push(S),this.contentService.ServiceGetCount(c).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{o.set(k,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected,o){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(o?.ctrlKey){let t="/#/core/user/edit/"+this.tableRowSelected.linkUserId;window.open(t,"_blank")}else this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected,o){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(o?.ctrlKey){let t="/#/core/site/edit/"+this.tableRowSelected.linkSiteId;window.open(t,"_blank")}else this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonBankPaymentTransactionRow(e=this.tableRowSelected,o){if(!e||!e.linkModuleBankPaymentTransactionId||e.linkModuleBankPaymentTransactionId===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),o?.ctrlKey){let t="/#/bankpayment/transactionlog/LinkTransactionId/"+this.tableRowSelected.linkModuleBankPaymentTransactionId;window.open(t,"_blank")}else this.router.navigate(["/bankpayment/transactionlog/LinkTransactionId/",this.tableRowSelected.linkModuleBankPaymentTransactionId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Yi.\u0275fac=function(o){return new(o||Yi)(m(O),m(Rt),m(Nt),m(j),m(Ie),m(ke),m(U),m(F),m(V),m(P),m(Ae),m(Ze),m(q),m(Ne))},Yi.\u0275cmp=x({type:Yi,selectors:[["app-coremodulelog-site-user-credit--list"]],standalone:!1,features:[J],decls:68,vars:36,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","linkModuleId"],["matColumnDef","transactionCredit"],["matColumnDef","linkModuleBankPaymentTransactionId"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-money-bill","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let c=E();M(0,ld,1,1,"app-core-user-header",3)(1,sd,1,1,"app-core-module-header",3),r(2,"app-cms-html-list",4),L("optionActionGuideNoticeDisplayChange",function(s){return h(c),T(t.viewGuideNotice,s)||(t.viewGuideNotice=s),C(s)}),b("optionOnActionButtonMemoRow",function(){return h(c),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(c),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(c),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(c),C(t.onActionButtonPrintRow())}),I(3,5),d(4," -------------------------------------- "),w(),se(5,6)(6,7),I(7,8),M(8,cd,2,0,"a",9),r(9,"a",10),b("click",function(){return h(c),C(t.viewGuideNotice=!t.viewGuideNotice)}),g(10,"i",11),l(),r(11,"a",10),b("click",function(){return h(c),C(t.onActionButtonReload())}),g(12,"i",12),l(),w(),I(13,13),r(14,"a",14),b("click",function(){return h(c),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(15,"mat-slide-toggle",15),d(16),_(17,"translate"),l(),r(18,"a",14),b("click",function(){return h(c),C(t.onActionButtonStatist())}),g(19,"mat-slide-toggle",15),d(20),_(21,"translate"),l(),w(),se(22,16),I(23,17),M(24,dd,7,3,"div",18)(25,md,7,3,"div",18)(26,pd,7,3,"div",18)(27,ud,7,3,"div",18)(28,fd,7,3,"div",18)(29,Sd,7,3,"div",18),w(),I(30,19),r(31,"app-cms-search-list",20),L("optionsChange",function(s){return h(c),T(t.optionsSearch,s)||(t.optionsSearch=s),C(s)}),l(),r(32,"app-cms-statist-list",20),L("optionsChange",function(s){return h(c),T(t.optionsStatist,s)||(t.optionsStatist=s),C(s)}),l(),w(),I(33,21),r(34,"mat-table",22,0),b("matSortChange",function(){h(c);let s=oe(35);return C(t.onTableSortData(s))}),I(36,23),M(37,hd,2,1,"mat-header-cell",24)(38,Cd,2,1,"mat-cell",25),w(),I(39,26),M(40,gd,2,1,"mat-header-cell",24)(41,vd,5,7,"mat-cell",27),w(),I(42,28),M(43,Md,2,1,"mat-header-cell",24)(44,bd,4,5,"mat-cell",25),w(),I(45,29),M(46,Id,2,1,"mat-header-cell",24)(47,wd,4,5,"mat-cell",25),w(),I(48,30),M(49,Ed,2,1,"mat-header-cell",24)(50,yd,3,4,"mat-cell",25),w(),I(51,31),M(52,Rd,2,1,"mat-header-cell",24)(53,Td,3,3,"mat-cell",25),w(),I(54,32),M(55,Ld,2,1,"mat-header-cell",24)(56,kd,2,1,"mat-cell",25),w(),I(57,33),M(58,Ad,2,1,"mat-header-cell",24)(59,xd,3,3,"mat-cell",34),w(),I(60,35),M(61,Dd,3,3,"mat-header-cell",36)(62,Bd,6,1,"mat-cell",37),w(),M(63,Vd,1,0,"mat-header-row",38)(64,Nd,1,2,"mat-row",39),l(),w(),I(65,40),r(66,"mat-paginator",41,1),b("page",function(s){return h(c),C(t.onTablePageingData(s))}),l(),w(),l()}o&2&&(f("ngIf",t.requestLinkUserId>0),a(),f("ngIf",t.requestLinkModuleId>0),a(),f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),a(6),f("ngIf",t.requestLinkSiteId>0),a(4),me("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),a(3),f("checked",t.optionsSearch.data.show),a(),u("",v(17,31,"ACTION.SEARCH")," "),a(3),f("checked",t.optionsStatist.data.show),a(),u("",v(21,33,"ACTION.STATIST")," "),a(4),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),a(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),a(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),a(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),a(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkSiteId)>0),a(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkModuleBankPaymentTransactionId)>0),a(2),R("options",t.optionsSearch),a(),R("options",t.optionsStatist),a(2),f("dataSource",t.tableSource),a(29),f("matHeaderRowDef",t.tabledisplayedColumns),a(),f("matRowDefColumns",t.tabledisplayedColumns),a(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",we(35,rd)))},dependencies:[ye,N,Re,Ve,Ge,ne,Oe,Pe,He,ut,Ue,Fe,je,We,Je,Ke,qe,$e,Qe,ze,Ye,Xe,nt,rt,at,lt,st,Mt,Zo,pt,Mi,H,bi,It,St,et,ct,dt],encapsulation:2});var Zi=Yi;var Gd=[{path:"",component:oo,data:{title:"ROUTE.COREMODULELOG"},children:[{path:"report-abuse",component:uo,data:{title:"ROUTE.COREMODULELOG"}},{path:"show-key",component:_o,data:{title:"ROUTE.COREMODULELOG"}},{path:"favorite",component:ao,data:{title:"ROUTE.COREMODULELOG.FAVORITE"}},{path:"like",component:co,data:{title:"ROUTE.COREMODULELOG.LIKE"}},{path:"score",component:ho,data:{title:"ROUTE.COREMODULELOG.SCORE"}},{path:"site-credit",component:Eo,data:{title:"ROUTE.COREMODULELOG"}},{path:"site-user-credit",component:Zi,data:{title:"ROUTE.COREMODULELOG"}},{path:"site-user-credit/:LinkSiteId/:LinkUserId/:LinkModuleId",component:Zi,data:{title:"ROUTE.COREMODULELOG"}},{path:"site-credit-blocked",component:bo,data:{title:"ROUTE.COREMODULELOG"}},{path:"site-user-credit-blocked",component:To,data:{title:"ROUTE.COREMODULELOG"}}]}],gi=class gi{};gi.\u0275fac=function(e){return new(e||gi)},gi.\u0275mod=to({type:gi}),gi.\u0275inj=eo({imports:[xo.forChild(Gd),xo]});var Ao=gi;var _i=class _i{};_i.\u0275fac=function(e){return new(e||_i)},_i.\u0275mod=to({type:_i}),_i.\u0275inj=eo({providers:[Rt,No,Go,Oo,Po,kt,Ho,Lt,Uo,xt,At,Tt,Dt,Bt,Vt,Nt,Ie],imports:[Ao,Vo,jo,qo.withConfig({warnOnNgModelWithFormControl:"never"}),$o,Yo,Xo,Jo]});var on=_i;export{on as CoreModuleLogModule};
