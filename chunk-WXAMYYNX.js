import{a as $t}from"./chunk-XOV3OKPM.js";import{a as tt}from"./chunk-3FSPTOHV.js";import{a as bt}from"./chunk-IE2SMWCB.js";import{a as ft}from"./chunk-CQ4LRZY6.js";import{a as tn}from"./chunk-NDPIRXRX.js";import{a as wi}from"./chunk-AXA7EZOH.js";import{a as en}from"./chunk-RYHEC5KY.js";import{a as lt}from"./chunk-KHCYPYQ3.js";import{a as st}from"./chunk-ECYR5XCK.js";import{a as at}from"./chunk-QGQZO7XF.js";import{c as et,d as it,e as ot,g as nt,h as rt}from"./chunk-FCVOEZR2.js";import{a as Ze}from"./chunk-54S5FV75.js";import{a as Jt}from"./chunk-4YRZRDFJ.js";import{a as pt}from"./chunk-R7TPZM3A.js";import{b as _t,d as Xe}from"./chunk-PVCY3OZB.js";import{b as Zo}from"./chunk-4BSRS4L3.js";import"./chunk-4U6I2Z6G.js";import"./chunk-HFRDQGUA.js";import"./chunk-NHABYHOC.js";import{a as be}from"./chunk-GZBNP6Y7.js";import{a as me}from"./chunk-KBQX27H2.js";import{a as te,d as ie}from"./chunk-TX227Y4U.js";import{e as Ye,f as q}from"./chunk-2DIZYDRP.js";import{$a as ne,Ab as Ue,Ba as zo,Bb as je,Ca as Jo,Cb as qe,Da as $o,Db as We,Eb as Ke,Fb as Qe,Gb as ze,Hb as Je,Ib as $e,K as Qt,Ka as Z,L as zt,La as ee,Lc as F,Ma as Be,N as Wo,O as Ko,Oc as U,Qc as j,Tc as Xo,W as no,Wb as P,Xb as H,Z as Qo,Za as Ve,ba as xe,eb as Ne,fb as Ge,ib as Oe,ic as Yo,n as Ct,nb as ut,pb as Pe,q as gt,qb as He,r as ke,t as Ae,v as Mt,w as De,zb as Fe}from"./chunk-PZIDJ2FQ.js";import{$d as _e,Ab as h,Ag as Po,Cd as Bo,Dd as Te,Eb as $,Fa as n,Fb as Y,Fg as Lt,Gb as X,Gd as vt,Gg as kt,Hd as Q,Hg as At,Ig as Dt,Kb as oe,Kg as xt,Lc as we,Ld as x,Lg as Ho,Mb as ce,Md as Me,Mg as Bt,Ng as Vt,Oa as m,Og as Nt,Pb as d,Pg as Gt,Qb as yt,Qg as Fo,Rb as u,Rc as ye,Rg as Uo,Sa as B,Ta as oo,Tc as mt,Vb as L,Vg as jo,Wa as J,Wb as k,Xb as A,Xc as Ii,Y as io,Ya as R,Yb as hi,Yd as G,Zg as qo,_c as Go,ac as ve,bc as Ie,ch as Ot,da as f,dh as Pt,ea as S,eh as Ht,fb as y,fc as g,fh as Ft,gb as E,gc as M,gh as Ut,hc as vi,hh as jt,ih as qt,jh as Wt,kg as Le,kh as Kt,lb as _,mb as s,mr as K,nb as a,ob as C,re as O,sb as v,tb as I,ub as le,ud as Ee,vb as w,vd as Oo,ve as Tt,wd as Re,yb as b,yc as N}from"./chunk-44NLGLKY.js";import{i as V}from"./chunk-SEDBTTTN.js";var yi=class yi{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};yi.\u0275fac=function(e){return new(e||yi)},yi.\u0275cmp=B({type:yi,selectors:[["app-coremodulelog"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&C(0,"router-outlet")},dependencies:[Oo],encapsulation:2});var ro=yi;var sn=["vform"];function an(o,r){if(o&1){let e=w();s(0,"div",18)(1,"button",19),b("click",function(){f(e);let t=h();return S(t.onFormCancel())}),C(2,"i",20),d(3),g(4,"translate"),a(),s(5,"button",21),C(6,"i",20),d(7),g(8,"translate"),a()()}o&2&&(n(3),u(" ",M(4,2,"ACTION.CANCEL")," "),n(4),u(" ",M(8,4,"ACTION.SAVE")," "))}var Ei=class Ei extends Ze{constructor(e,i,t,c,p,l,D,re,z,ae){super(c,new Ot,z,ae);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleLogFavoriteService=c;this.cmsToastrService=p;this.tokenHelper=l;this.cmsStoreService=D;this.cdr=re;this.publicHelper=z;this.translate=ae;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new vt;this.dataModel=new Ot;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>V(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogFavoriteService.setAccessLoad(),this.coreModuleLogFavoriteService.setAccessDataType(_e.Editor),this.coreModuleLogFavoriteService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogFavoriteService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ei.\u0275fac=function(i){return new(i||Ei)(m(ee),m(Z),m(O),m(At),m(j),m(U),m(F),m(N),m(q),m(P))},Ei.\u0275cmp=B({type:Ei,selectors:[["app-coremodulelog-favorite-edit"]],viewQuery:function(i,t){if(i&1&&$(sn,5),i&2){let c;Y(c=X())&&(t.formGroup=c.first)}},standalone:!1,features:[J],decls:33,vars:25,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,t){if(i&1){let c=w();s(0,"div",4),C(1,"app-progress-spinner",5),s(2,"div",6)(3,"p",7),d(4),a(),s(5,"p"),d(6),g(7,"translate"),a(),C(8,"app-cms-form-result-message",8),s(9,"form",9,0),b("ngSubmit",function(){return f(c),S(t.onFormSubmit())}),C(11,"app-cms-site-selector",10),g(12,"translate"),C(13,"app-cms-user-selector",10),g(14,"translate"),C(15,"app-cms-member-selector",10),g(16,"translate"),s(17,"div",11)(18,"label",12),d(19,"ModuleName"),a(),s(20,"input",13,1),A("ngModelChange",function(l){return f(c),k(t.dataModel.moduleName,l)||(t.dataModel.moduleName=l),S(l)}),a()(),s(22,"div",11)(23,"label",14),d(24,"ModuleEntityName"),a(),s(25,"input",15,2),A("ngModelChange",function(l){return f(c),k(t.dataModel.moduleEntityName,l)||(t.dataModel.moduleEntityName=l),S(l)}),a()(),s(27,"div",11)(28,"label",16),d(29,"ModuleEntityId"),a(),s(30,"input",17,3),A("ngModelChange",function(l){return f(c),k(t.dataModel.moduleEntityId,l)||(t.dataModel.moduleEntityId=l),S(l)}),a()(),y(32,an,9,6,"div",18),a()()()}i&2&&(n(),_("optionsInfoAreaId",t.constructorInfoAreaId),n(3),u(" ",t.formInfo.formTitle," "),n(2),u(" ",M(7,17,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),_("formInfo",t.formInfo),n(3),_("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",M(12,19,"TITLE.SITE")),n(2),_("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",M(14,21,"TITLE.USER")),n(2),_("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",M(16,23,"TITLE.Member")),n(5),L("ngModel",t.dataModel.moduleName),n(5),L("ngModel",t.dataModel.moduleEntityName),n(5),L("ngModel",t.dataModel.moduleEntityId),n(2),E(t.formInfo.submitButtonEnabled?32:-1))},dependencies:[De,Ct,gt,ke,Mt,Ae,ne,pt,Jt,$t,te,me,H],encapsulation:2});var so=Ei;var ln=["vform"];function cn(o,r){if(o&1){let e=w();s(0,"div",7)(1,"button",8),b("click",function(){f(e);let t=h();return S(t.onFormCancel())}),C(2,"i",9),d(3),g(4,"translate"),a()()}o&2&&(n(3),u(" ",M(4,1,"ACTION.CANCEL")," "))}var Ri=class Ri{constructor(r,e,i,t,c,p,l,D,re,z){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.coreModuleLogFavoriteService=t;this.cmsToastrService=c;this.tokenHelper=p;this.cmsStoreService=l;this.cdr=D;this.publicHelper=re;this.translate=z;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Le;this.dataModelResult=new Q;this.dataModel=new Ot;this.formInfo=new ie;this.dataModelEnumSendSmsStatusTypeResult=new Q;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>V(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreModuleLogFavoriteService.setAccessLoad(),this.coreModuleLogFavoriteService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ri.\u0275fac=function(e){return new(e||Ri)(m(ee),m(Z),m(O),m(At),m(j),m(U),m(F),m(N),m(q),m(P))},Ri.\u0275cmp=B({type:Ri,selectors:[["app-coremodulelog-favorite-view"]],viewQuery:function(e,i){if(e&1&&$(ln,5),e&2){let t;Y(t=X())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(s(0,"div",0),d(1),a(),s(2,"div",1),C(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),a(),s(5,"div",4),C(6,"app-cms-form-result-message",5),a(),s(7,"div",6),y(8,cn,5,3,"div",7),a()),e&2&&(n(),u(" ",i.formInfo.formTitle," "),n(2),_("optionsInfoAreaId",i.constructorInfoAreaId),n(),_("dataModel",i.dataModel)("optionMethod",1),n(2),_("formInfo",i.formInfo),n(2),E(i.formInfo.submitButtonEnabled?8:-1))},dependencies:[te,tt,me,H],encapsulation:2});var ao=Ri;var dn=()=>[5,10,20,100],mn=o=>({display:o});function un(o,r){if(o&1&&C(0,"app-core-user-header",3),o&2){let e=h();_("optionId",e.requestLinkUserId)}}function pn(o,r){if(o&1){let e=w();s(0,"a",44),b("click",function(){f(e);let t=h();return S(t.onActionBackToParent())}),C(1,"i",45),a()}}function fn(o,r){if(o&1){let e=w();s(0,"div",19)(1,"a",46),b("click",function(){f(e);let t=h();return S(t.onActionButtonViewRow(t.tableRowSelected))}),C(2,"i",47)(3,"br"),a(),s(4,"p",48),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.VIEW")," "))}function Sn(o,r){if(o&1){let e=w();s(0,"div",19)(1,"a",49),b("click",function(){f(e);let t=h();return S(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",50)(3,"br"),a(),s(4,"p",48),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.EDIT")," "))}function hn(o,r){if(o&1){let e=w();s(0,"div",19)(1,"a",51),b("click",function(){f(e);let t=h();return S(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",52)(3,"br"),a(),s(4,"p",48),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.DELETE")," "))}function Cn(o,r){if(o&1){let e=w();s(0,"div",19)(1,"a",46),b("click",function(){f(e);let t=h();return S(t.onActionButtonViewContent(t.tableRowSelected))}),C(2,"i",53)(3,"br"),a(),s(4,"p",48),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.CONTENT")," "))}function gn(o,r){if(o&1){let e=w();s(0,"div",19)(1,"a",46),b("click",function(){f(e);let t=h();return S(t.onActionButtonViewUserRow(t.tableRowSelected))}),C(2,"i",54)(3,"br"),a(),s(4,"p",48),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.USER")," "))}function Mn(o,r){if(o&1&&(s(0,"mat-header-cell",55),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function _n(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.id," ")}}function bn(o,r){if(o&1&&(s(0,"mat-header-cell",55),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function vn(o,r){if(o&1&&C(0,"select",57),o&2){let e=h().$implicit,i=h();_("contentService",i.contentService)("row",e)("ngStyle",Ie(3,mn,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function In(o,r){if(o&1&&(s(0,"mat-cell",56),g(1,"statusCellClass"),C(2,"i",56),g(3,"statusIconClass"),y(4,vn,1,5,"select",57),a()),o&2){let e=r.$implicit,i=h();_("ngClass",M(1,3,e.recordStatus)),n(2),_("ngClass",M(3,5,e.recordStatus)),n(2),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function wn(o,r){if(o&1&&(s(0,"mat-header-cell",55),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function yn(o,r){if(o&1&&(s(0,"mat-cell"),d(1),g(2,"cmssiteinfo"),g(3,"async"),a()),o&2){let e=r.$implicit;n(),u(" ",M(3,3,M(2,1,e.linkSiteId))," ")}}function En(o,r){if(o&1&&(s(0,"mat-header-cell",55),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Rn(o,r){if(o&1&&(s(0,"mat-cell"),d(1),g(2,"cmsuserinfo"),g(3,"async"),a()),o&2){let e=r.$implicit;n(),u(" ",M(3,3,M(2,1,e.linkUserId))," ")}}function Tn(o,r){if(o&1&&(s(0,"mat-header-cell",55),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function Ln(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.linkMemberId," ")}}function kn(o,r){if(o&1&&(s(0,"mat-header-cell",55),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.moduleName==null?null:e.fieldsInfo.moduleName.fieldTitle," ")}}function An(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.moduleName," ")}}function Dn(o,r){if(o&1&&(s(0,"mat-header-cell",55),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.moduleEntityName==null?null:e.fieldsInfo.moduleEntityName.fieldTitle," ")}}function xn(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.moduleEntityName," ")}}function Bn(o,r){if(o&1&&(s(0,"mat-header-cell",55),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.moduleEntityId==null?null:e.fieldsInfo.moduleEntityId.fieldTitle," ")}}function Vn(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.moduleEntityId," ")}}function Nn(o,r){if(o&1&&(s(0,"mat-header-cell",55),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Gn(o,r){if(o&1&&(s(0,"mat-cell",58),d(1),g(2,"localeDateTime"),a()),o&2){let e=r.$implicit;n(),u(" ",M(2,1,e.createdDate)," ")}}function On(o,r){o&1&&(s(0,"mat-header-cell"),d(1),g(2,"translate"),a()),o&2&&(n(),u(" ",M(2,1,"TITLE.OPTION")," "))}function Pn(o,r){if(o&1&&(s(0,"mat-cell",59)(1,"button",60)(2,"mat-icon"),d(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),o&2){let e=oe(5);n(),_("matMenuTriggerFor",e)}}function Hn(o,r){o&1&&C(0,"mat-header-row")}function Fn(o,r){if(o&1){let e=w();s(0,"mat-row",61),b("click",function(t){let c=f(e).$implicit,p=h();return S(p.onActionTableRowSelect(c,t))})("rtclick",function(t){let c=f(e).$implicit,p=h();return S(p.onActionTableRowSelect(c,t))}),a()}if(o&2){let e=r.$implicit,i=h();ce("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ti=class Ti extends et{constructor(e,i,t,c,p,l,D,re,z,ae,Rt,ht,wt){super(i,new Ot,ht,l,re);this.coreEnumService=e;this.contentService=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=c;this.activatedRoute=p;this.tokenHelper=l;this.cdr=D;this.translate=re;this.router=z;this.cmsStoreService=ae;this.pageInfo=Rt;this.publicHelper=ht;this.dialog=wt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestlinkMemberId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Me;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkUserId","linkSiteId","linkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkUserId","linkSiteId","linkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","createdDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberId")),this.requestLinkSiteId>0){let T=new x;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}if(this.requestLinkUserId>0){let T=new x;T.propertyName="linkUserId",T.value=this.requestLinkUserId,this.filteModelContent.filters.push(T)}if(this.requestlinkMemberId>0){let T=new x;T.propertyName="linkMemberId",T.value=this.requestlinkMemberId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=G.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=G.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>V(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ot);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new x;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new x;t.propertyAnyName="linkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new x;t.propertyAnyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=G.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=G.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=G.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ao,{height:"90%",panelClass:i,enterAnimationDuration:K.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:K.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(so,{height:"90%",panelClass:i,enterAnimationDuration:K.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:K.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(c=>{if(c){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(p,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonViewContent(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e);let i="/"+e.moduleName+"/"+e.moduleEntityName.substring(e.moduleName.length)+"/edit/"+e.moduleEntityId;e.moduleEntityName.indexOf(e.moduleName)>=0?this.router.navigate([i.toLowerCase()]):this.router.navigate([i.toLowerCase()])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{i.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{i.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),p=new x;p.propertyName="recordStatus",p.value=Te.Available,c.filters.push(p),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.translate.get("MESSAGE.content_does_not_include_member_informations").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Ti.\u0275fac=function(i){return new(i||Ti)(m(O),m(At),m(j),m(be),m(Ee),m(U),m(N),m(P),m(Re),m(F),m(Ye),m(q),m(Be))},Ti.\u0275cmp=B({type:Ti,selectors:[["app-coremodulelog-favorite-list"]],standalone:!1,features:[J],decls:65,vars:26,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"justify-content-start"],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","linkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-folder-grid","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let c=w();y(0,un,1,1,"app-core-user-header",3),s(1,"app-cms-html-list",4),A("optionActionGuideNoticeDisplayChange",function(l){return f(c),k(t.viewGuideNotice,l)||(t.viewGuideNotice=l),S(l)}),b("optionOnActionButtonMemoRow",function(){return f(c),S(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(c),S(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(c),S(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(c),S(t.onActionButtonPrintRow())}),v(2,5),d(3," -------------------------------------- "),I(),le(4,6),v(5,7),s(6,"div",8),C(7,"div",9)(8,"div",10),a(),I(),le(9,7),v(10,11),y(11,pn,2,0,"a",12),s(12,"a",13),b("click",function(){return f(c),S(t.viewGuideNotice=!t.viewGuideNotice)}),C(13,"i",14),a(),s(14,"a",13),b("click",function(){return f(c),S(t.onActionButtonReload())}),C(15,"i",15),a(),I(),le(16,16)(17,17),v(18,18),y(19,fn,7,3,"div",19),y(20,Sn,7,3,"div",19),y(21,hn,7,3,"div",19),y(22,Cn,7,3,"div",19),y(23,gn,7,3,"div",19),I(),v(24,20),s(25,"app-cms-search-list",21),A("optionsChange",function(l){return f(c),k(t.optionsSearch,l)||(t.optionsSearch=l),S(l)}),a(),s(26,"app-cms-statist-list",21),A("optionsChange",function(l){return f(c),k(t.optionsStatist,l)||(t.optionsStatist=l),S(l)}),a(),I(),v(27,22),s(28,"mat-table",23,0),b("matSortChange",function(){f(c);let l=oe(29);return S(t.onTableSortData(l))}),v(30,24),R(31,Mn,2,1,"mat-header-cell",25)(32,_n,2,1,"mat-cell",26),I(),v(33,27),R(34,bn,2,1,"mat-header-cell",25)(35,In,5,7,"mat-cell",28),I(),v(36,29),R(37,wn,2,1,"mat-header-cell",25)(38,yn,4,5,"mat-cell",26),I(),v(39,30),R(40,En,2,1,"mat-header-cell",25)(41,Rn,4,5,"mat-cell",26),I(),v(42,31),R(43,Tn,2,1,"mat-header-cell",25)(44,Ln,2,1,"mat-cell",26),I(),v(45,32),R(46,kn,2,1,"mat-header-cell",25)(47,An,2,1,"mat-cell",26),I(),v(48,33),R(49,Dn,2,1,"mat-header-cell",25)(50,xn,2,1,"mat-cell",26),I(),v(51,34),R(52,Bn,2,1,"mat-header-cell",25)(53,Vn,2,1,"mat-cell",26),I(),v(54,35),R(55,Nn,2,1,"mat-header-cell",25)(56,Gn,3,3,"mat-cell",36),I(),v(57,37),R(58,On,3,3,"mat-header-cell",38)(59,Pn,6,1,"mat-cell",39),I(),R(60,Hn,1,0,"mat-header-row",40)(61,Fn,1,2,"mat-row",41),a(),I(),v(62,42),s(63,"mat-paginator",43,1),b("page",function(l){return f(c),S(t.onTablePageingData(l))}),a(),I(),a()}i&2&&(E(t.requestLinkUserId>0?0:-1),n(),_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),L("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(10),E(t.requestLinkSiteId>0?11:-1),n(4),ce("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(4),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?19:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?20:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?21:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?22:-1),n(),E((t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0?23:-1),n(2),L("options",t.optionsSearch),n(),L("options",t.optionsStatist),n(2),_("dataSource",t.tableSource),n(32),_("matHeaderRowDef",t.tabledisplayedColumns),n(),_("matRowDefColumns",t.tabledisplayedColumns),n(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(25,dn)))},dependencies:[we,ye,xe,Ve,ne,Ne,Ge,Oe,Pe,He,Fe,je,Qe,qe,Ue,ze,We,Ke,Je,$e,it,ot,nt,rt,st,bt,mt,H,_t,ft,Xe,at,lt],encapsulation:2});var lo=Ti;var Un=["vform"];function jn(o,r){if(o&1){let e=w();s(0,"div",18)(1,"button",19),b("click",function(){f(e);let t=h();return S(t.onFormCancel())}),C(2,"i",20),d(3),g(4,"translate"),a(),s(5,"button",21),C(6,"i",20),d(7),g(8,"translate"),a()()}o&2&&(n(3),u(" ",M(4,2,"ACTION.CANCEL")," "),n(4),u(" ",M(8,4,"ACTION.SAVE")," "))}var Ai=class Ai extends Ze{constructor(e,i,t,c,p,l,D,re,z,ae){super(c,new Pt,z,ae);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleLogLikeService=c;this.cmsToastrService=p;this.tokenHelper=l;this.cmsStoreService=D;this.cdr=re;this.publicHelper=z;this.translate=ae;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new vt;this.dataModel=new Pt;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>V(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogLikeService.setAccessLoad(),this.coreModuleLogLikeService.setAccessDataType(_e.Editor),this.coreModuleLogLikeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogLikeService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ai.\u0275fac=function(i){return new(i||Ai)(m(ee),m(Z),m(O),m(kt),m(j),m(U),m(F),m(N),m(q),m(P))},Ai.\u0275cmp=B({type:Ai,selectors:[["app-coremodulelog-like-edit"]],viewQuery:function(i,t){if(i&1&&$(Un,5),i&2){let c;Y(c=X())&&(t.formGroup=c.first)}},standalone:!1,features:[J],decls:33,vars:25,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,t){if(i&1){let c=w();s(0,"div",4),C(1,"app-progress-spinner",5),s(2,"div",6)(3,"p",7),d(4),a(),s(5,"p"),d(6),g(7,"translate"),a(),C(8,"app-cms-form-result-message",8),s(9,"form",9,0),b("ngSubmit",function(){return f(c),S(t.onFormSubmit())}),C(11,"app-cms-site-selector",10),g(12,"translate"),C(13,"app-cms-user-selector",10),g(14,"translate"),C(15,"app-cms-member-selector",10),g(16,"translate"),s(17,"div",11)(18,"label",12),d(19,"ModuleName"),a(),s(20,"input",13,1),A("ngModelChange",function(l){return f(c),k(t.dataModel.moduleName,l)||(t.dataModel.moduleName=l),S(l)}),a()(),s(22,"div",11)(23,"label",14),d(24,"ModuleEntityName"),a(),s(25,"input",15,2),A("ngModelChange",function(l){return f(c),k(t.dataModel.moduleEntityName,l)||(t.dataModel.moduleEntityName=l),S(l)}),a()(),s(27,"div",11)(28,"label",16),d(29,"ModuleEntityId"),a(),s(30,"input",17,3),A("ngModelChange",function(l){return f(c),k(t.dataModel.moduleEntityId,l)||(t.dataModel.moduleEntityId=l),S(l)}),a()(),y(32,jn,9,6,"div",18),a()()()}i&2&&(n(),_("optionsInfoAreaId",t.constructorInfoAreaId),n(3),u(" ",t.formInfo.formTitle," "),n(2),u(" ",M(7,17,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),_("formInfo",t.formInfo),n(3),_("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",M(12,19,"TITLE.SITE")),n(2),_("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",M(14,21,"TITLE.USER")),n(2),_("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",M(16,23,"TITLE.Member")),n(5),L("ngModel",t.dataModel.moduleName),n(5),L("ngModel",t.dataModel.moduleEntityName),n(5),L("ngModel",t.dataModel.moduleEntityId),n(2),E(t.formInfo.submitButtonEnabled?32:-1))},dependencies:[De,Ct,gt,ke,Mt,Ae,ne,pt,Jt,$t,te,me,H],encapsulation:2});var co=Ai;var qn=["vform"];function Wn(o,r){if(o&1){let e=w();s(0,"div",9)(1,"button",10),b("click",function(){f(e);let t=h();return S(t.onFormCancel())}),C(2,"i",11),d(3),g(4,"translate"),a()()}o&2&&(n(3),u(" ",M(4,1,"ACTION.CANCEL")," "))}var Di=class Di{constructor(r,e,i,t,c,p,l,D,re,z){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.coreModuleLogLikeService=t;this.cmsToastrService=c;this.tokenHelper=p;this.cmsStoreService=l;this.cdr=D;this.publicHelper=re;this.translate=z;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Le;this.dataModelResult=new Q;this.dataModel=new Pt;this.formInfo=new ie;this.dataModelEnumSendSmsStatusTypeResult=new Q;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>V(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreModuleLogLikeService.setAccessLoad(),this.coreModuleLogLikeService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Di.\u0275fac=function(e){return new(e||Di)(m(ee),m(Z),m(O),m(kt),m(j),m(U),m(F),m(N),m(q),m(P))},Di.\u0275cmp=B({type:Di,selectors:[["app-coremodulelog-report-abuse-view"]],viewQuery:function(e,i){if(e&1&&$(qn,5),e&2){let t;Y(t=X())&&(i.formGroup=t.first)}},standalone:!1,decls:14,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(s(0,"div",0),C(1,"app-progress-spinner",1),s(2,"div",2)(3,"p",3),d(4),a(),s(5,"p"),d(6),g(7,"translate"),a(),s(8,"div",4),C(9,"app-cms-json-list",5),a(),s(10,"div",6),C(11,"app-cms-form-result-message",7),a(),s(12,"div",8),y(13,Wn,5,3,"div",9),a()()()),e&2&&(n(),_("optionsInfoAreaId",i.constructorInfoAreaId),n(3),u(" ",i.formInfo.formTitle," "),n(2),u(" ",M(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),n(3),_("dataModel",i.dataModel)("optionMethod",1),n(2),_("formInfo",i.formInfo),n(2),E(i.formInfo.submitButtonEnabled?13:-1))},dependencies:[te,tt,me,H],encapsulation:2});var mo=Di;var Kn=()=>[5,10,20,100],Qn=o=>({display:o});function zn(o,r){if(o&1&&C(0,"app-core-user-header",3),o&2){let e=h();_("optionId",e.requestLinkUserId)}}function Jn(o,r){if(o&1){let e=w();s(0,"a",43),b("click",function(){f(e);let t=h();return S(t.onActionBackToParent())}),C(1,"i",44),a()}}function $n(o,r){if(o&1){let e=w();s(0,"div",18)(1,"a",45),b("click",function(){f(e);let t=h();return S(t.onActionButtonViewRow(t.tableRowSelected))}),C(2,"i",46)(3,"br"),a(),s(4,"p",47),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.VIEW")," "))}function Yn(o,r){if(o&1){let e=w();s(0,"div",18)(1,"a",48),b("click",function(){f(e);let t=h();return S(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",49)(3,"br"),a(),s(4,"p",47),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.EDIT")," "))}function Xn(o,r){if(o&1){let e=w();s(0,"div",18)(1,"a",50),b("click",function(){f(e);let t=h();return S(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",51)(3,"br"),a(),s(4,"p",47),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.DELETE")," "))}function Zn(o,r){if(o&1){let e=w();s(0,"div",18)(1,"a",45),b("click",function(){f(e);let t=h();return S(t.onActionButtonViewUserRow(t.tableRowSelected))}),C(2,"i",52)(3,"br"),a(),s(4,"p",47),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.USER")," "))}function er(o,r){if(o&1){let e=w();s(0,"div",18)(1,"a",45),b("click",function(){f(e);let t=h();return S(t.onActionButtonViewMemberRow(t.tableRowSelected))}),C(2,"i",53)(3,"br"),a(),s(4,"p",47),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.MEMBER")," "))}function tr(o,r){if(o&1&&(s(0,"mat-header-cell",54),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function ir(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.id," ")}}function or(o,r){if(o&1&&(s(0,"mat-header-cell",54),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function nr(o,r){if(o&1&&C(0,"select",56),o&2){let e=h().$implicit,i=h();_("contentService",i.contentService)("row",e)("ngStyle",Ie(3,Qn,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function rr(o,r){if(o&1&&(s(0,"mat-cell",55),g(1,"statusCellClass"),C(2,"i",55),g(3,"statusIconClass"),y(4,nr,1,5,"select",56),a()),o&2){let e=r.$implicit,i=h();_("ngClass",M(1,3,e.recordStatus)),n(2),_("ngClass",M(3,5,e.recordStatus)),n(2),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function sr(o,r){if(o&1&&(s(0,"mat-header-cell",54),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function ar(o,r){if(o&1&&(s(0,"mat-cell"),d(1),g(2,"cmssiteinfo"),g(3,"async"),a()),o&2){let e=r.$implicit;n(),u(" ",M(3,3,M(2,1,e.linkSiteId))," ")}}function lr(o,r){if(o&1&&(s(0,"mat-header-cell",54),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function cr(o,r){if(o&1&&(s(0,"mat-cell"),d(1),g(2,"cmsuserinfo"),g(3,"async"),a()),o&2){let e=r.$implicit;n(),u(" ",M(3,3,M(2,1,e.linkUserId))," ")}}function dr(o,r){if(o&1&&(s(0,"mat-header-cell",54),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function mr(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.linkMemberId," ")}}function ur(o,r){if(o&1&&(s(0,"mat-header-cell",54),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.moduleName==null?null:e.fieldsInfo.moduleName.fieldTitle," ")}}function pr(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.moduleName," ")}}function fr(o,r){if(o&1&&(s(0,"mat-header-cell",54),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.moduleEntityName==null?null:e.fieldsInfo.moduleEntityName.fieldTitle," ")}}function Sr(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.moduleEntityName," ")}}function hr(o,r){if(o&1&&(s(0,"mat-header-cell",54),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.moduleEntityId==null?null:e.fieldsInfo.moduleEntityId.fieldTitle," ")}}function Cr(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.moduleEntityId," ")}}function gr(o,r){if(o&1&&(s(0,"mat-header-cell",54),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Mr(o,r){if(o&1&&(s(0,"mat-cell",57),d(1),g(2,"localeDateTime"),a()),o&2){let e=r.$implicit;n(),u(" ",M(2,1,e.createdDate)," ")}}function _r(o,r){o&1&&(s(0,"mat-header-cell"),d(1),g(2,"translate"),a()),o&2&&(n(),u(" ",M(2,1,"TITLE.OPTION")," "))}function br(o,r){if(o&1&&(s(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),d(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),o&2){let e=oe(5);n(),_("matMenuTriggerFor",e)}}function vr(o,r){o&1&&C(0,"mat-header-row")}function Ir(o,r){if(o&1){let e=w();s(0,"mat-row",60),b("click",function(t){let c=f(e).$implicit,p=h();return S(p.onActionTableRowSelect(c,t))})("rtclick",function(t){let c=f(e).$implicit,p=h();return S(p.onActionTableRowSelect(c,t))}),a()}if(o&2){let e=r.$implicit,i=h();ce("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var xi=class xi extends et{constructor(e,i,t,c,p,l,D,re,z,ae,Rt,ht,wt){super(i,new Pt,ht,l,z);this.coreEnumService=e;this.contentService=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=c;this.activatedRoute=p;this.tokenHelper=l;this.cmsStoreService=D;this.cdr=re;this.translate=z;this.router=ae;this.pageInfo=Rt;this.publicHelper=ht;this.dialog=wt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestlinkMemberId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Me;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkUserId","linkSiteId","linkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkUserId","linkSiteId","linkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","createdDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberId")),this.requestLinkSiteId>0){let T=new x;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}if(this.requestLinkUserId>0){let T=new x;T.propertyName="linkUserId",T.value=this.requestLinkUserId,this.filteModelContent.filters.push(T)}if(this.requestlinkMemberId>0){let T=new x;T.propertyName="linkMemberId",T.value=this.requestlinkMemberId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=G.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=G.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>V(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Pt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new x;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new x;t.propertyAnyName="linkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new x;t.propertyAnyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=G.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=G.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=G.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(mo,{height:"90%",panelClass:i,enterAnimationDuration:K.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:K.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(co,{height:"90%",panelClass:i,enterAnimationDuration:K.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:K.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(c=>{if(c){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(p,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{i.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{i.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),p=new x;p.propertyName="recordStatus",p.value=Te.Available,c.filters.push(p),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.translate.get("MESSAGE.content_does_not_include_member_informations").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};xi.\u0275fac=function(i){return new(i||xi)(m(O),m(kt),m(j),m(be),m(Ee),m(U),m(F),m(N),m(P),m(Re),m(Ye),m(q),m(Be))},xi.\u0275cmp=B({type:xi,selectors:[["app-coremodulelog-like-list"]],standalone:!1,features:[J],decls:69,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","linkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let c=w();y(0,zn,1,1,"app-core-user-header",3),s(1,"app-cms-html-list",4),A("optionActionGuideNoticeDisplayChange",function(l){return f(c),k(t.viewGuideNotice,l)||(t.viewGuideNotice=l),S(l)}),b("optionOnActionButtonMemoRow",function(){return f(c),S(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(c),S(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(c),S(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(c),S(t.onActionButtonPrintRow())}),v(2,5),d(3," -------------------------------------- "),I(),le(4,6)(5,7),v(6,8),y(7,Jn,2,0,"a",9),s(8,"a",10),b("click",function(){return f(c),S(t.viewGuideNotice=!t.viewGuideNotice)}),C(9,"i",11),a(),s(10,"a",10),b("click",function(){return f(c),S(t.onActionButtonReload())}),C(11,"i",12),a(),I(),v(12,13),s(13,"a",14),b("click",function(){return f(c),S(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(14,"mat-slide-toggle",15),d(15),g(16,"translate"),a(),s(17,"a",14),b("click",function(){return f(c),S(t.onActionButtonStatist())}),C(18,"mat-slide-toggle",15),d(19),g(20,"translate"),a(),I(),le(21,16),v(22,17),y(23,$n,7,3,"div",18),y(24,Yn,7,3,"div",18),y(25,Xn,7,3,"div",18),y(26,Zn,7,3,"div",18),y(27,er,7,3,"div",18),I(),v(28,19),s(29,"app-cms-search-list",20),A("optionsChange",function(l){return f(c),k(t.optionsSearch,l)||(t.optionsSearch=l),S(l)}),a(),s(30,"app-cms-statist-list",20),A("optionsChange",function(l){return f(c),k(t.optionsStatist,l)||(t.optionsStatist=l),S(l)}),a(),I(),v(31,21),s(32,"mat-table",22,0),b("matSortChange",function(){f(c);let l=oe(33);return S(t.onTableSortData(l))}),v(34,23),R(35,tr,2,1,"mat-header-cell",24)(36,ir,2,1,"mat-cell",25),I(),v(37,26),R(38,or,2,1,"mat-header-cell",24)(39,rr,5,7,"mat-cell",27),I(),v(40,28),R(41,sr,2,1,"mat-header-cell",24)(42,ar,4,5,"mat-cell",25),I(),v(43,29),R(44,lr,2,1,"mat-header-cell",24)(45,cr,4,5,"mat-cell",25),I(),v(46,30),R(47,dr,2,1,"mat-header-cell",24)(48,mr,2,1,"mat-cell",25),I(),v(49,31),R(50,ur,2,1,"mat-header-cell",24)(51,pr,2,1,"mat-cell",25),I(),v(52,32),R(53,fr,2,1,"mat-header-cell",24)(54,Sr,2,1,"mat-cell",25),I(),v(55,33),R(56,hr,2,1,"mat-header-cell",24)(57,Cr,2,1,"mat-cell",25),I(),v(58,34),R(59,gr,2,1,"mat-header-cell",24)(60,Mr,3,3,"mat-cell",35),I(),v(61,36),R(62,_r,3,3,"mat-header-cell",37)(63,br,6,1,"mat-cell",38),I(),R(64,vr,1,0,"mat-header-row",39)(65,Ir,1,2,"mat-row",40),a(),I(),v(66,41),s(67,"mat-paginator",42,1),b("page",function(l){return f(c),S(t.onTablePageingData(l))}),a(),I(),a()}i&2&&(E(t.requestLinkUserId>0?0:-1),n(),_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),L("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),E(t.requestLinkSiteId>0?7:-1),n(4),ce("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),_("checked",t.optionsSearch.data.show),n(),u("",M(16,29,"ACTION.SEARCH")," "),n(3),_("checked",t.optionsStatist.data.show),n(),u("",M(20,31,"ACTION.STATIST")," "),n(4),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?23:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?24:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?25:-1),n(),E((t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0?26:-1),n(),E((t.tableRowSelected==null?null:t.tableRowSelected.linkMemberId)>0?27:-1),n(2),L("options",t.optionsSearch),n(),L("options",t.optionsStatist),n(2),_("dataSource",t.tableSource),n(32),_("matHeaderRowDef",t.tabledisplayedColumns),n(),_("matRowDefColumns",t.tabledisplayedColumns),n(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(33,Kn)))},dependencies:[we,ye,xe,Ve,ne,Ne,Ge,Oe,ut,Pe,He,Fe,je,Qe,qe,Ue,ze,We,Ke,Je,$e,it,ot,nt,rt,st,bt,mt,H,_t,ft,Xe,at,lt],encapsulation:2});var uo=xi;var wr=["vform"];function yr(o,r){if(o&1){let e=w();s(0,"div",27)(1,"button",28),b("click",function(){f(e);let t=h();return S(t.onFormCancel())}),C(2,"i",29),d(3),g(4,"translate"),a(),s(5,"button",30),C(6,"i",29),d(7),g(8,"translate"),a()()}o&2&&(n(3),u(" ",M(4,2,"ACTION.CANCEL")," "),n(4),u(" ",M(8,4,"ACTION.SAVE")," "))}var Bi=class Bi extends Ze{constructor(e,i,t,c,p,l,D,re,z,ae){super(c,new Ft,z,ae);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleLogReportAbuseService=c;this.cmsToastrService=p;this.tokenHelper=l;this.cmsStoreService=D;this.cdr=re;this.publicHelper=z;this.translate=ae;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new vt;this.dataModel=new Ft;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>V(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogReportAbuseService.setAccessLoad(),this.coreModuleLogReportAbuseService.setAccessDataType(_e.Editor),this.coreModuleLogReportAbuseService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogReportAbuseService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Bi.\u0275fac=function(i){return new(i||Bi)(m(ee),m(Z),m(O),m(Dt),m(j),m(U),m(F),m(N),m(q),m(P))},Bi.\u0275cmp=B({type:Bi,selectors:[["app-coremodulelog-report-abuse-edit"]],viewQuery:function(i,t){if(i&1&&$(wr,5),i&2){let c;Y(c=X())&&(t.formGroup=c.first)}},standalone:!1,features:[J],decls:50,vars:28,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],["SubjectBody",""],["AdminResultProcess",""],["SubjectUrl",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.subjectBody",1,"color-highlight"],["matInput","","type","text","name","dataModel.subjectBody","placeholder","SubjectBody","id","dataModel.subjectBody",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.adminResultProcess",1,"color-highlight"],["matInput","","name","dataModel.adminResultProcess","type","text","placeholder","AdminResultProcess","minlength","1","maxlength","500","rows","5","id","dataModel.adminResultProcess",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.subjectUrl",1,"color-highlight"],["matInput","","name","dataModel.subjectUrl","type","text","placeholder","SubjectUrl","minlength","1","maxlength","500","rows","5","id","dataModel.subjectUrl",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,t){if(i&1){let c=w();s(0,"div",7),C(1,"app-progress-spinner",8),s(2,"div",9)(3,"p",10),d(4),a(),s(5,"p"),d(6),g(7,"translate"),a(),C(8,"app-cms-form-result-message",11),s(9,"form",12,0),b("ngSubmit",function(){return f(c),S(t.onFormSubmit())}),C(11,"app-cms-site-selector",13),g(12,"translate"),C(13,"app-cms-user-selector",13),g(14,"translate"),C(15,"app-cms-member-selector",13),g(16,"translate"),s(17,"div",14)(18,"label",15),d(19,"ModuleName"),a(),s(20,"input",16,1),A("ngModelChange",function(l){return f(c),k(t.dataModel.moduleName,l)||(t.dataModel.moduleName=l),S(l)}),a()(),s(22,"div",14)(23,"label",17),d(24,"ModuleEntityName"),a(),s(25,"input",18,2),A("ngModelChange",function(l){return f(c),k(t.dataModel.moduleEntityName,l)||(t.dataModel.moduleEntityName=l),S(l)}),a()(),s(27,"div",14)(28,"label",19),d(29,"ModuleEntityId"),a(),s(30,"input",20,3),A("ngModelChange",function(l){return f(c),k(t.dataModel.moduleEntityId,l)||(t.dataModel.moduleEntityId=l),S(l)}),a()(),s(32,"div",14)(33,"label",21),d(34,"SubjectBody"),a(),s(35,"input",22,4),A("ngModelChange",function(l){return f(c),k(t.dataModel.subjectBody,l)||(t.dataModel.subjectBody=l),S(l)}),a()(),s(37,"div",14)(38,"label",23),d(39,"AdminResultProcess"),a(),s(40,"textarea",24,5),A("ngModelChange",function(l){return f(c),k(t.dataModel.adminResultProcess,l)||(t.dataModel.adminResultProcess=l),S(l)}),d(42,"                          "),a()(),s(43,"div",14)(44,"label",25),d(45,"SubjectUrl"),a(),s(46,"textarea",26,6),A("ngModelChange",function(l){return f(c),k(t.dataModel.subjectUrl,l)||(t.dataModel.subjectUrl=l),S(l)}),d(48,"                            "),a()(),y(49,yr,9,6,"div",27),a()()()}i&2&&(n(),_("optionsInfoAreaId",t.constructorInfoAreaId),n(3),u(" ",t.formInfo.formTitle," "),n(2),u(" ",M(7,20,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),_("formInfo",t.formInfo),n(3),_("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",M(12,22,"TITLE.SITE")),n(2),_("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",M(14,24,"TITLE.USER")),n(2),_("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",M(16,26,"TITLE.Member")),n(5),L("ngModel",t.dataModel.moduleName),n(5),L("ngModel",t.dataModel.moduleEntityName),n(5),L("ngModel",t.dataModel.moduleEntityId),n(5),L("ngModel",t.dataModel.subjectBody),n(5),L("ngModel",t.dataModel.adminResultProcess),n(6),L("ngModel",t.dataModel.subjectUrl),n(3),E(t.formInfo.submitButtonEnabled?49:-1))},dependencies:[De,Ct,gt,ke,Qt,zt,Mt,Ae,ne,pt,Jt,$t,te,me,H],encapsulation:2});var po=Bi;var Er=["vform"];function Rr(o,r){if(o&1){let e=w();s(0,"div",7)(1,"button",8),b("click",function(){f(e);let t=h();return S(t.onFormCancel())}),C(2,"i",9),d(3),g(4,"translate"),a()()}o&2&&(n(3),u(" ",M(4,1,"ACTION.CANCEL")," "))}var Vi=class Vi{constructor(r,e,i,t,c,p,l,D,re,z){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.coreModuleLogReportAbuseService=t;this.cmsToastrService=c;this.tokenHelper=p;this.cmsStoreService=l;this.cdr=D;this.publicHelper=re;this.translate=z;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Le;this.dataModelResult=new Q;this.dataModel=new Ft;this.formInfo=new ie;this.dataModelEnumSendSmsStatusTypeResult=new Q;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>V(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreModuleLogReportAbuseService.setAccessLoad(),this.coreModuleLogReportAbuseService.setAccessDataType(_e.Editor),this.coreModuleLogReportAbuseService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Vi.\u0275fac=function(e){return new(e||Vi)(m(ee),m(Z),m(O),m(Dt),m(j),m(U),m(F),m(N),m(q),m(P))},Vi.\u0275cmp=B({type:Vi,selectors:[["app-coremodulelog-report-abuse-view"]],viewQuery:function(e,i){if(e&1&&$(Er,5),e&2){let t;Y(t=X())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(s(0,"div",0),d(1),a(),s(2,"div",1),C(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),a(),s(5,"div",4),C(6,"app-cms-form-result-message",5),a(),s(7,"div",6),y(8,Rr,5,3,"div",7),a()),e&2&&(n(),u(" ",i.formInfo.formTitle," "),n(2),_("optionsInfoAreaId",i.constructorInfoAreaId),n(),_("dataModel",i.dataModel)("optionMethod",1),n(2),_("formInfo",i.formInfo),n(2),E(i.formInfo.submitButtonEnabled?8:-1))},dependencies:[te,tt,me,H],encapsulation:2});var fo=Vi;var Tr=()=>[5,10,20,100],Lr=o=>({display:o});function kr(o,r){if(o&1&&C(0,"app-core-user-header",3),o&2){let e=h();_("optionId",e.requestLinkUserId)}}function Ar(o,r){if(o&1){let e=w();s(0,"a",45),b("click",function(){f(e);let t=h();return S(t.onActionBackToParent())}),C(1,"i",46),a()}}function Dr(o,r){if(o&1){let e=w();s(0,"div",18)(1,"a",47),b("click",function(){f(e);let t=h();return S(t.onActionButtonViewRow(t.tableRowSelected))}),C(2,"i",48)(3,"br"),a(),s(4,"p",49),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.VIEW")," "))}function xr(o,r){if(o&1){let e=w();s(0,"div",18)(1,"a",50),b("click",function(){f(e);let t=h();return S(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",51)(3,"br"),a(),s(4,"p",49),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.EDIT")," "))}function Br(o,r){if(o&1){let e=w();s(0,"div",18)(1,"a",52),b("click",function(){f(e);let t=h();return S(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",53)(3,"br"),a(),s(4,"p",49),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.DELETE")," "))}function Vr(o,r){if(o&1){let e=w();s(0,"div",18)(1,"a",47),b("click",function(){f(e);let t=h();return S(t.onActionButtonViewUserRow(t.tableRowSelected))}),C(2,"i",54)(3,"br"),a(),s(4,"p",49),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.USER")," "))}function Nr(o,r){if(o&1){let e=w();s(0,"div",18)(1,"a",47),b("click",function(){f(e);let t=h();return S(t.onActionButtonViewMemberRow(t.tableRowSelected))}),C(2,"i",55)(3,"br"),a(),s(4,"p",49),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.MEMBER")," "))}function Gr(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Or(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.id," ")}}function Pr(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Hr(o,r){if(o&1&&C(0,"select",58),o&2){let e=h().$implicit,i=h();_("contentService",i.contentService)("row",e)("ngStyle",Ie(3,Lr,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Fr(o,r){if(o&1&&(s(0,"mat-cell",57),g(1,"statusCellClass"),C(2,"i",57),g(3,"statusIconClass"),y(4,Hr,1,5,"select",58),a()),o&2){let e=r.$implicit,i=h();_("ngClass",M(1,3,e.recordStatus)),n(2),_("ngClass",M(3,5,e.recordStatus)),n(2),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function Ur(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function jr(o,r){if(o&1&&(s(0,"mat-cell"),d(1),g(2,"cmssiteinfo"),g(3,"async"),a()),o&2){let e=r.$implicit;n(),u(" ",M(3,3,M(2,1,e.linkSiteId))," ")}}function qr(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Wr(o,r){if(o&1&&(s(0,"mat-cell"),d(1),g(2,"cmsuserinfo"),g(3,"async"),a()),o&2){let e=r.$implicit;n(),u(" ",M(3,3,M(2,1,e.linkUserId))," ")}}function Kr(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function Qr(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.linkMemberId," ")}}function zr(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.moduleName==null?null:e.fieldsInfo.moduleName.fieldTitle," ")}}function Jr(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.moduleName," ")}}function $r(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.moduleEntityName==null?null:e.fieldsInfo.moduleEntityName.fieldTitle," ")}}function Yr(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.moduleEntityName," ")}}function Xr(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.moduleEntityId==null?null:e.fieldsInfo.moduleEntityId.fieldTitle," ")}}function Zr(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.moduleEntityId," ")}}function es(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.subjectBody==null?null:e.fieldsInfo.subjectBody.fieldTitle," ")}}function ts(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.subjectBody," ")}}function is(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.adminResultProcess==null?null:e.fieldsInfo.adminResultProcess.fieldTitle," ")}}function os(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.adminResultProcess," ")}}function ns(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function rs(o,r){if(o&1&&(s(0,"mat-cell",59),d(1),g(2,"localeDateTime"),a()),o&2){let e=r.$implicit;n(),u(" ",M(2,1,e.createdDate)," ")}}function ss(o,r){o&1&&(s(0,"mat-header-cell"),d(1),g(2,"translate"),a()),o&2&&(n(),u(" ",M(2,1,"TITLE.OPTION")," "))}function as(o,r){if(o&1&&(s(0,"mat-cell",60)(1,"button",61)(2,"mat-icon"),d(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),o&2){let e=oe(5);n(),_("matMenuTriggerFor",e)}}function ls(o,r){o&1&&C(0,"mat-header-row")}function cs(o,r){if(o&1){let e=w();s(0,"mat-row",62),b("click",function(t){let c=f(e).$implicit,p=h();return S(p.onActionTableRowSelect(c,t))})("rtclick",function(t){let c=f(e).$implicit,p=h();return S(p.onActionTableRowSelect(c,t))}),a()}if(o&2){let e=r.$implicit,i=h();ce("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ni=class Ni extends et{constructor(e,i,t,c,p,l,D,re,z,ae,Rt,ht,wt){super(i,new Ft,ht,l,re);this.coreEnumService=e;this.contentService=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=c;this.activatedRoute=p;this.tokenHelper=l;this.cdr=D;this.translate=re;this.cmsStoreService=z;this.router=ae;this.pageInfo=Rt;this.publicHelper=ht;this.dialog=wt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestlinkMemberId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Me;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkUserId","linkSiteId","linkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","SubjectBody","AdminResultProcess","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkUserId","linkSiteId","linkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","SubjectBody","AdminResultProcess","createdDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberId")),this.requestLinkSiteId>0){let T=new x;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}if(this.requestLinkUserId>0){let T=new x;T.propertyName="linkUserId",T.value=this.requestLinkUserId,this.filteModelContent.filters.push(T)}if(this.requestlinkMemberId>0){let T=new x;T.propertyName="linkMemberId",T.value=this.requestlinkMemberId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=G.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=G.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>V(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ft);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new x;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new x;t.propertyAnyName="linkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new x;t.propertyAnyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=G.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=G.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=G.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(fo,{height:"90%",panelClass:i,enterAnimationDuration:K.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:K.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(po,{height:"90%",panelClass:i,enterAnimationDuration:K.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:K.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(c=>{if(c){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(p,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{i.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{i.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),p=new x;p.propertyName="recordStatus",p.value=Te.Available,c.filters.push(p),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.translate.get("MESSAGE.content_does_not_include_member_informations").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Ni.\u0275fac=function(i){return new(i||Ni)(m(O),m(Dt),m(j),m(be),m(Ee),m(U),m(N),m(P),m(F),m(Re),m(Ye),m(q),m(Be))},Ni.\u0275cmp=B({type:Ni,selectors:[["app-coremodulelog-report-abuse-list"]],standalone:!1,features:[J],decls:75,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","linkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","SubjectBody"],["matColumnDef","AdminResultProcess"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let c=w();y(0,kr,1,1,"app-core-user-header",3),s(1,"app-cms-html-list",4),A("optionActionGuideNoticeDisplayChange",function(l){return f(c),k(t.viewGuideNotice,l)||(t.viewGuideNotice=l),S(l)}),b("optionOnActionButtonMemoRow",function(){return f(c),S(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(c),S(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(c),S(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(c),S(t.onActionButtonPrintRow())}),v(2,5),d(3," -------------------------------------- "),I(),le(4,6)(5,7),v(6,8),y(7,Ar,2,0,"a",9),s(8,"a",10),b("click",function(){return f(c),S(t.viewGuideNotice=!t.viewGuideNotice)}),C(9,"i",11),a(),s(10,"a",10),b("click",function(){return f(c),S(t.onActionButtonReload())}),C(11,"i",12),a(),I(),v(12,13),s(13,"a",14),b("click",function(){return f(c),S(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(14,"mat-slide-toggle",15),d(15),g(16,"translate"),a(),s(17,"a",14),b("click",function(){return f(c),S(t.onActionButtonStatist())}),C(18,"mat-slide-toggle",15),d(19),g(20,"translate"),a(),I(),le(21,16),v(22,17),y(23,Dr,7,3,"div",18),y(24,xr,7,3,"div",18),y(25,Br,7,3,"div",18),y(26,Vr,7,3,"div",18),y(27,Nr,7,3,"div",18),I(),v(28,19),s(29,"app-cms-search-list",20),A("optionsChange",function(l){return f(c),k(t.optionsSearch,l)||(t.optionsSearch=l),S(l)}),a(),s(30,"app-cms-statist-list",20),A("optionsChange",function(l){return f(c),k(t.optionsStatist,l)||(t.optionsStatist=l),S(l)}),a(),I(),v(31,21),s(32,"mat-table",22,0),b("matSortChange",function(){f(c);let l=oe(33);return S(t.onTableSortData(l))}),v(34,23),R(35,Gr,2,1,"mat-header-cell",24)(36,Or,2,1,"mat-cell",25),I(),v(37,26),R(38,Pr,2,1,"mat-header-cell",24)(39,Fr,5,7,"mat-cell",27),I(),v(40,28),R(41,Ur,2,1,"mat-header-cell",24)(42,jr,4,5,"mat-cell",25),I(),v(43,29),R(44,qr,2,1,"mat-header-cell",24)(45,Wr,4,5,"mat-cell",25),I(),v(46,30),R(47,Kr,2,1,"mat-header-cell",24)(48,Qr,2,1,"mat-cell",25),I(),v(49,31),R(50,zr,2,1,"mat-header-cell",24)(51,Jr,2,1,"mat-cell",25),I(),v(52,32),R(53,$r,2,1,"mat-header-cell",24)(54,Yr,2,1,"mat-cell",25),I(),v(55,33),R(56,Xr,2,1,"mat-header-cell",24)(57,Zr,2,1,"mat-cell",25),I(),v(58,34),R(59,es,2,1,"mat-header-cell",24)(60,ts,2,1,"mat-cell",25),I(),v(61,35),R(62,is,2,1,"mat-header-cell",24)(63,os,2,1,"mat-cell",25),I(),v(64,36),R(65,ns,2,1,"mat-header-cell",24)(66,rs,3,3,"mat-cell",37),I(),v(67,38),R(68,ss,3,3,"mat-header-cell",39)(69,as,6,1,"mat-cell",40),I(),R(70,ls,1,0,"mat-header-row",41)(71,cs,1,2,"mat-row",42),a(),I(),v(72,43),s(73,"mat-paginator",44,1),b("page",function(l){return f(c),S(t.onTablePageingData(l))}),a(),I(),a()}i&2&&(E(t.requestLinkUserId>0?0:-1),n(),_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),L("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),E(t.requestLinkSiteId>0?7:-1),n(4),ce("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),_("checked",t.optionsSearch.data.show),n(),u("",M(16,29,"ACTION.SEARCH")," "),n(3),_("checked",t.optionsStatist.data.show),n(),u("",M(20,31,"ACTION.STATIST")," "),n(4),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?23:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?24:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?25:-1),n(),E((t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0?26:-1),n(),E((t.tableRowSelected==null?null:t.tableRowSelected.linkMemberId)>0?27:-1),n(2),L("options",t.optionsSearch),n(),L("options",t.optionsStatist),n(2),_("dataSource",t.tableSource),n(38),_("matHeaderRowDef",t.tabledisplayedColumns),n(),_("matRowDefColumns",t.tabledisplayedColumns),n(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(33,Tr)))},dependencies:[we,ye,xe,Ve,ne,Ne,Ge,Oe,ut,Pe,He,Fe,je,Qe,qe,Ue,ze,We,Ke,Je,$e,it,ot,nt,rt,st,bt,mt,H,_t,ft,Xe,at,lt],encapsulation:2});var So=Ni;var ds=["vform"];function ms(o,r){if(o&1){let e=w();s(0,"div",16)(1,"button",17),b("click",function(){f(e);let t=h();return S(t.onFormCancel())}),C(2,"i",18),d(3),g(4,"translate"),a()()}o&2&&(n(3),u(" ",M(4,1,"ACTION.CANCEL")," "))}var Gi=class Gi extends Ze{constructor(e,i,t,c,p,l,D,re,z,ae){super(c,new Ht,z,ae);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleLogScoreService=c;this.cmsToastrService=p;this.tokenHelper=l;this.cmsStoreService=D;this.cdr=re;this.publicHelper=z;this.translate=ae;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Q;this.dataModel=new Ht;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>V(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogScoreService.setAccessLoad(),this.coreModuleLogScoreService.setAccessDataType(_e.Editor),this.coreModuleLogScoreService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Gi.\u0275fac=function(i){return new(i||Gi)(m(ee),m(Z),m(O),m(Lt),m(j),m(U),m(F),m(N),m(q),m(P))},Gi.\u0275cmp=B({type:Gi,selectors:[["app-coremodulelog-score-edit"]],viewQuery:function(i,t){if(i&1&&$(ds,5),i&2){let c;Y(c=X())&&(t.formGroup=c.first)}},standalone:!1,features:[J],decls:32,vars:24,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){if(i&1){let c=w();s(0,"div",4),C(1,"app-progress-spinner",5),s(2,"div",6)(3,"p",7),d(4),a(),s(5,"p"),d(6),g(7,"translate"),a(),s(8,"form",null,0),C(10,"app-cms-site-selector",8),g(11,"translate"),C(12,"app-cms-user-selector",8),g(13,"translate"),C(14,"app-cms-member-selector",8),g(15,"translate"),s(16,"div",9)(17,"label",10),d(18,"ModuleName"),a(),s(19,"input",11,1),A("ngModelChange",function(l){return f(c),k(t.dataModel.moduleName,l)||(t.dataModel.moduleName=l),S(l)}),a()(),s(21,"div",9)(22,"label",12),d(23,"ModuleEntityName"),a(),s(24,"input",13,2),A("ngModelChange",function(l){return f(c),k(t.dataModel.moduleEntityName,l)||(t.dataModel.moduleEntityName=l),S(l)}),a()(),s(26,"div",9)(27,"label",14),d(28,"ModuleEntityId"),a(),s(29,"input",15,3),A("ngModelChange",function(l){return f(c),k(t.dataModel.moduleEntityId,l)||(t.dataModel.moduleEntityId=l),S(l)}),a()(),y(31,ms,5,3,"div",16),a()()()}i&2&&(n(),_("optionsInfoAreaId",t.constructorInfoAreaId),n(3),u(" ",t.formInfo.formTitle," "),n(2),u(" ",M(7,16,"TITLE.Be_Careful_When_Entering_Information")," "),n(4),_("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",M(11,18,"TITLE.SITE")),n(2),_("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",M(13,20,"TITLE.USER")),n(2),_("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",M(15,22,"TITLE.Member")),n(5),L("ngModel",t.dataModel.moduleName),n(5),L("ngModel",t.dataModel.moduleEntityName),n(5),L("ngModel",t.dataModel.moduleEntityId),n(2),E(t.formInfo.submitButtonEnabled?31:-1))},dependencies:[De,Ct,gt,ke,Mt,Ae,ne,pt,Jt,$t,te,H],encapsulation:2});var ho=Gi;var us=["vform"];function ps(o,r){if(o&1){let e=w();s(0,"div",7)(1,"button",8),b("click",function(){f(e);let t=h();return S(t.onFormCancel())}),C(2,"i",9),d(3),g(4,"translate"),a()()}o&2&&(n(3),u(" ",M(4,1,"ACTION.CANCEL")," "))}var Oi=class Oi{constructor(r,e,i,t,c,p,l,D,re,z){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.coreModuleLogScoreService=t;this.cmsToastrService=c;this.tokenHelper=p;this.cmsStoreService=l;this.cdr=D;this.publicHelper=re;this.translate=z;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Le;this.dataModelResult=new Q;this.dataModel=new Ht;this.formInfo=new ie;this.dataModelEnumSendSmsStatusTypeResult=new Q;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>V(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreModuleLogScoreService.setAccessLoad(),this.coreModuleLogScoreService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Oi.\u0275fac=function(e){return new(e||Oi)(m(ee),m(Z),m(O),m(Lt),m(j),m(U),m(F),m(N),m(q),m(P))},Oi.\u0275cmp=B({type:Oi,selectors:[["app-coremodulelog-score-view"]],viewQuery:function(e,i){if(e&1&&$(us,5),e&2){let t;Y(t=X())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(s(0,"div",0),d(1),a(),s(2,"div",1),C(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),a(),s(5,"div",4),C(6,"app-cms-form-result-message",5),a(),s(7,"div",6),y(8,ps,5,3,"div",7),a()),e&2&&(n(),u(" ",i.formInfo.formTitle," "),n(2),_("optionsInfoAreaId",i.constructorInfoAreaId),n(),_("dataModel",i.dataModel)("optionMethod",1),n(2),_("formInfo",i.formInfo),n(2),E(i.formInfo.submitButtonEnabled?8:-1))},dependencies:[te,tt,me,H],encapsulation:2});var Co=Oi;var fs=()=>[5,10,20,100],Ss=o=>({display:o});function hs(o,r){if(o&1&&C(0,"app-core-user-header",3),o&2){let e=h();_("optionId",e.requestLinkUserId)}}function Cs(o,r){if(o&1){let e=w();s(0,"a",43),b("click",function(){f(e);let t=h();return S(t.onActionBackToParent())}),C(1,"i",44),a()}}function gs(o,r){if(o&1){let e=w();s(0,"div",18)(1,"a",45),b("click",function(){f(e);let t=h();return S(t.onActionButtonViewRow(t.tableRowSelected))}),C(2,"i",46)(3,"br"),a(),s(4,"p",47),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.VIEW")," "))}function Ms(o,r){if(o&1){let e=w();s(0,"div",18)(1,"a",48),b("click",function(){f(e);let t=h();return S(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",49)(3,"br"),a(),s(4,"p",47),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.EDIT")," "))}function _s(o,r){if(o&1){let e=w();s(0,"div",18)(1,"a",50),b("click",function(){f(e);let t=h();return S(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",51)(3,"br"),a(),s(4,"p",47),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.DELETE")," "))}function bs(o,r){if(o&1){let e=w();s(0,"div",18)(1,"a",45),b("click",function(){f(e);let t=h();return S(t.onActionButtonViewUserRow(t.tableRowSelected))}),C(2,"i",52)(3,"br"),a(),s(4,"p",47),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.USER")," "))}function vs(o,r){if(o&1){let e=w();s(0,"div",18)(1,"a",45),b("click",function(){f(e);let t=h();return S(t.onActionButtonViewMemberRow(t.tableRowSelected))}),C(2,"i",53)(3,"br"),a(),s(4,"p",47),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.MEMBER")," "))}function Is(o,r){if(o&1&&(s(0,"mat-header-cell",54),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function ws(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.id," ")}}function ys(o,r){if(o&1&&(s(0,"mat-header-cell",54),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Es(o,r){if(o&1&&C(0,"select",56),o&2){let e=h().$implicit,i=h();_("contentService",i.contentService)("row",e)("ngStyle",Ie(3,Ss,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Rs(o,r){if(o&1&&(s(0,"mat-cell",55),g(1,"statusCellClass"),C(2,"i",55),g(3,"statusIconClass"),y(4,Es,1,5,"select",56),a()),o&2){let e=r.$implicit,i=h();_("ngClass",M(1,3,e.recordStatus)),n(2),_("ngClass",M(3,5,e.recordStatus)),n(2),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function Ts(o,r){if(o&1&&(s(0,"mat-header-cell",54),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ls(o,r){if(o&1&&(s(0,"mat-cell"),d(1),g(2,"cmssiteinfo"),g(3,"async"),a()),o&2){let e=r.$implicit;n(),u(" ",M(3,3,M(2,1,e.linkSiteId))," ")}}function ks(o,r){if(o&1&&(s(0,"mat-header-cell",54),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function As(o,r){if(o&1&&(s(0,"mat-cell"),d(1),g(2,"cmsuserinfo"),g(3,"async"),a()),o&2){let e=r.$implicit;n(),u(" ",M(3,3,M(2,1,e.linkUserId))," ")}}function Ds(o,r){if(o&1&&(s(0,"mat-header-cell",54),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function xs(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.linkMemberId," ")}}function Bs(o,r){if(o&1&&(s(0,"mat-header-cell",54),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.moduleName==null?null:e.fieldsInfo.moduleName.fieldTitle," ")}}function Vs(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.moduleName," ")}}function Ns(o,r){if(o&1&&(s(0,"mat-header-cell",54),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.moduleEntityName==null?null:e.fieldsInfo.moduleEntityName.fieldTitle," ")}}function Gs(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.moduleEntityName," ")}}function Os(o,r){if(o&1&&(s(0,"mat-header-cell",54),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.moduleEntityId==null?null:e.fieldsInfo.moduleEntityId.fieldTitle," ")}}function Ps(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.moduleEntityId," ")}}function Hs(o,r){if(o&1&&(s(0,"mat-header-cell",54),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Fs(o,r){if(o&1&&(s(0,"mat-cell",57),d(1),g(2,"localeDateTime"),a()),o&2){let e=r.$implicit;n(),u(" ",M(2,1,e.createdDate)," ")}}function Us(o,r){o&1&&(s(0,"mat-header-cell"),d(1),g(2,"translate"),a()),o&2&&(n(),u(" ",M(2,1,"TITLE.OPTION")," "))}function js(o,r){if(o&1&&(s(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),d(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),o&2){let e=oe(5);n(),_("matMenuTriggerFor",e)}}function qs(o,r){o&1&&C(0,"mat-header-row")}function Ws(o,r){if(o&1){let e=w();s(0,"mat-row",60),b("click",function(t){let c=f(e).$implicit,p=h();return S(p.onActionTableRowSelect(c,t))})("rtclick",function(t){let c=f(e).$implicit,p=h();return S(p.onActionTableRowSelect(c,t))}),a()}if(o&2){let e=r.$implicit,i=h();ce("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Pi=class Pi extends et{constructor(e,i,t,c,p,l,D,re,z,ae,Rt,ht,wt){super(i,new Ht,ht,D,z);this.coreEnumService=e;this.contentService=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=c;this.activatedRoute=p;this.cmsStoreService=l;this.tokenHelper=D;this.cdr=re;this.translate=z;this.router=ae;this.pageInfo=Rt;this.publicHelper=ht;this.dialog=wt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestlinkMemberId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Me;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkUserId","linkSiteId","linkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkUserId","linkSiteId","linkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","createdDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberId")),this.requestLinkSiteId>0){let T=new x;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}if(this.requestLinkUserId>0){let T=new x;T.propertyName="linkUserId",T.value=this.requestLinkUserId,this.filteModelContent.filters.push(T)}if(this.requestlinkMemberId>0){let T=new x;T.propertyName="linkMemberId",T.value=this.requestlinkMemberId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=G.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=G.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>V(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ht);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new x;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new x;t.propertyAnyName="linkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new x;t.propertyAnyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=G.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=G.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=G.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Co,{height:"90%",panelClass:i,enterAnimationDuration:K.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:K.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ho,{height:"90%",panelClass:i,enterAnimationDuration:K.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:K.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(c=>{if(c){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(p,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{i.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{i.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),p=new x;p.propertyName="recordStatus",p.value=Te.Available,c.filters.push(p),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.translate.get("MESSAGE.content_does_not_include_member_informations").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Pi.\u0275fac=function(i){return new(i||Pi)(m(O),m(Lt),m(j),m(be),m(Ee),m(F),m(U),m(N),m(P),m(Re),m(Ye),m(q),m(Be))},Pi.\u0275cmp=B({type:Pi,selectors:[["app-coremodulelog-score-list"]],standalone:!1,features:[J],decls:69,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","linkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let c=w();y(0,hs,1,1,"app-core-user-header",3),s(1,"app-cms-html-list",4),A("optionActionGuideNoticeDisplayChange",function(l){return f(c),k(t.viewGuideNotice,l)||(t.viewGuideNotice=l),S(l)}),b("optionOnActionButtonMemoRow",function(){return f(c),S(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(c),S(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(c),S(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(c),S(t.onActionButtonPrintRow())}),v(2,5),d(3," -------------------------------------- "),I(),le(4,6)(5,7),v(6,8),y(7,Cs,2,0,"a",9),s(8,"a",10),b("click",function(){return f(c),S(t.viewGuideNotice=!t.viewGuideNotice)}),C(9,"i",11),a(),s(10,"a",10),b("click",function(){return f(c),S(t.onActionButtonReload())}),C(11,"i",12),a(),I(),v(12,13),s(13,"a",14),b("click",function(){return f(c),S(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(14,"mat-slide-toggle",15),d(15),g(16,"translate"),a(),s(17,"a",14),b("click",function(){return f(c),S(t.onActionButtonStatist())}),C(18,"mat-slide-toggle",15),d(19),g(20,"translate"),a(),I(),le(21,16),v(22,17),y(23,gs,7,3,"div",18),y(24,Ms,7,3,"div",18),y(25,_s,7,3,"div",18),y(26,bs,7,3,"div",18),y(27,vs,7,3,"div",18),I(),v(28,19),s(29,"app-cms-search-list",20),A("optionsChange",function(l){return f(c),k(t.optionsSearch,l)||(t.optionsSearch=l),S(l)}),a(),s(30,"app-cms-statist-list",20),A("optionsChange",function(l){return f(c),k(t.optionsStatist,l)||(t.optionsStatist=l),S(l)}),a(),I(),v(31,21),s(32,"mat-table",22,0),b("matSortChange",function(){f(c);let l=oe(33);return S(t.onTableSortData(l))}),v(34,23),R(35,Is,2,1,"mat-header-cell",24)(36,ws,2,1,"mat-cell",25),I(),v(37,26),R(38,ys,2,1,"mat-header-cell",24)(39,Rs,5,7,"mat-cell",27),I(),v(40,28),R(41,Ts,2,1,"mat-header-cell",24)(42,Ls,4,5,"mat-cell",25),I(),v(43,29),R(44,ks,2,1,"mat-header-cell",24)(45,As,4,5,"mat-cell",25),I(),v(46,30),R(47,Ds,2,1,"mat-header-cell",24)(48,xs,2,1,"mat-cell",25),I(),v(49,31),R(50,Bs,2,1,"mat-header-cell",24)(51,Vs,2,1,"mat-cell",25),I(),v(52,32),R(53,Ns,2,1,"mat-header-cell",24)(54,Gs,2,1,"mat-cell",25),I(),v(55,33),R(56,Os,2,1,"mat-header-cell",24)(57,Ps,2,1,"mat-cell",25),I(),v(58,34),R(59,Hs,2,1,"mat-header-cell",24)(60,Fs,3,3,"mat-cell",35),I(),v(61,36),R(62,Us,3,3,"mat-header-cell",37)(63,js,6,1,"mat-cell",38),I(),R(64,qs,1,0,"mat-header-row",39)(65,Ws,1,2,"mat-row",40),a(),I(),v(66,41),s(67,"mat-paginator",42,1),b("page",function(l){return f(c),S(t.onTablePageingData(l))}),a(),I(),a()}i&2&&(E(t.requestLinkUserId>0?0:-1),n(),_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),L("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),E(t.requestLinkSiteId>0?7:-1),n(4),ce("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),_("checked",t.optionsSearch.data.show),n(),u("",M(16,29,"ACTION.SEARCH")," "),n(3),_("checked",t.optionsStatist.data.show),n(),u("",M(20,31,"ACTION.STATIST")," "),n(4),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?23:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?24:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?25:-1),n(),E((t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0?26:-1),n(),E((t.tableRowSelected==null?null:t.tableRowSelected.linkMemberId)>0?27:-1),n(2),L("options",t.optionsSearch),n(),L("options",t.optionsStatist),n(2),_("dataSource",t.tableSource),n(32),_("matHeaderRowDef",t.tabledisplayedColumns),n(),_("matRowDefColumns",t.tabledisplayedColumns),n(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(33,fs)))},dependencies:[we,ye,xe,Ve,ne,Ne,Ge,Oe,ut,Pe,He,Fe,je,Qe,qe,Ue,ze,We,Ke,Je,$e,it,ot,nt,rt,st,bt,mt,H,_t,ft,Xe,at,lt],encapsulation:2});var go=Pi;var Ks=["vform"];function Qs(o,r){if(o&1){let e=w();s(0,"div",24)(1,"label",26),d(2),a(),s(3,"input",27),A("ngModelChange",function(t){f(e);let c=h();return k(c.dataModel.expireDateTime,t)||(c.dataModel.expireDateTime=t),S(t)}),a(),C(4,"mat-datepicker-toggle",28)(5,"mat-datepicker",29,6),a()}if(o&2){let e=oe(6),i=h();n(2),yt(i.fieldsInfo.expireDateTime==null?null:i.fieldsInfo.expireDateTime.fieldTitle),n(),_("placeholder",hi(i.fieldsInfo.expireDateTime==null?null:i.fieldsInfo.expireDateTime.fieldTitle))("disabled",hi(!(i.fieldsInfo.expireDateTime!=null&&i.fieldsInfo.expireDateTime.accessEditField)))("matDatepicker",e),L("ngModel",i.dataModel.expireDateTime),n(),_("for",e)}}function zs(o,r){if(o&1){let e=w();s(0,"div",25)(1,"button",30),b("click",function(){f(e);let t=h();return S(t.onFormCancel())}),C(2,"i",31),d(3),g(4,"translate"),a(),s(5,"button",32),C(6,"i",31),d(7),g(8,"translate"),a()()}o&2&&(n(3),u(" ",M(4,2,"ACTION.CANCEL")," "),n(4),u(" ",M(8,4,"ACTION.SAVE")," "))}var Hi=class Hi extends Ze{constructor(e,i,t,c,p,l,D,re,z,ae){super(c,new Ut,z,ae);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleLogShowKeyService=c;this.cmsToastrService=p;this.tokenHelper=l;this.cmsStoreService=D;this.cdr=re;this.publicHelper=z;this.translate=ae;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new vt;this.dataModel=new Ut;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>V(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogShowKeyService.setAccessLoad(),this.coreModuleLogShowKeyService.setAccessDataType(_e.Editor),this.coreModuleLogShowKeyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogShowKeyService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Hi.\u0275fac=function(i){return new(i||Hi)(m(ee),m(Z),m(O),m(xt),m(j),m(U),m(F),m(N),m(q),m(P))},Hi.\u0275cmp=B({type:Hi,selectors:[["app-coremodule-data-memo-edit"]],viewQuery:function(i,t){if(i&1&&$(Ks,5),i&2){let c;Y(c=X())&&(t.formGroup=c.first)}},standalone:!1,features:[J],decls:38,vars:13,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],["showKey",""],["SubjectTitle",""],["expireDateTime",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","name","dataModel.moduleName","type","text","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","name","dataModel.moduleEntityName","type","text","placeholder","ModuleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","name","dataModel.moduleEntityId","type","text","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.showKey",1,"color-highlight"],["matInput","","name","dataModel.showKey","type","text","placeholder","showKey","id","dataModel.showKey",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.subjectTitle",1,"color-highlight"],["matInput","","name","dataModel.subjectTitle","type","text","placeholder","SubjectTitle","id","dataModel.subjectTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"form-actions"],["for","dataModel.expireDateTime",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDateTime","minlength","3","maxlength","100","id","dataModel.expireDateTime",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],["touchUi",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,t){if(i&1){let c=w();s(0,"div",7),C(1,"app-progress-spinner",8),s(2,"div",9)(3,"p",10),d(4),a(),s(5,"p"),d(6),g(7,"translate"),a(),C(8,"app-cms-form-result-message",11),s(9,"form",12,0),b("ngSubmit",function(){return f(c),S(t.onFormSubmit())}),s(11,"div",13)(12,"label",14),d(13,"ModuleName"),a(),s(14,"input",15,1),A("ngModelChange",function(l){return f(c),k(t.dataModel.moduleName,l)||(t.dataModel.moduleName=l),S(l)}),a()(),s(16,"div",13)(17,"label",16),d(18,"ModuleEntityName"),a(),s(19,"input",17,2),A("ngModelChange",function(l){return f(c),k(t.dataModel.moduleEntityName,l)||(t.dataModel.moduleEntityName=l),S(l)}),a()(),s(21,"div",13)(22,"label",18),d(23,"ModuleEntityId"),a(),s(24,"input",19,3),A("ngModelChange",function(l){return f(c),k(t.dataModel.moduleEntityId,l)||(t.dataModel.moduleEntityId=l),S(l)}),a()(),s(26,"div",13)(27,"label",20),d(28,"showKey"),a(),s(29,"textarea",21,4),A("ngModelChange",function(l){return f(c),k(t.dataModel.showKey,l)||(t.dataModel.showKey=l),S(l)}),a()(),s(31,"div",13)(32,"label",22),d(33,"SubjectTitle"),a(),s(34,"textarea",23,5),A("ngModelChange",function(l){return f(c),k(t.dataModel.subjectTitle,l)||(t.dataModel.subjectTitle=l),S(l)}),a()(),y(36,Qs,7,8,"div",24),y(37,zs,9,6,"div",25),a()()()}i&2&&(n(),_("optionsInfoAreaId",t.constructorInfoAreaId),n(3),u(" ",t.formInfo.formTitle," "),n(2),u(" ",M(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),_("formInfo",t.formInfo),n(6),L("ngModel",t.dataModel.moduleName),n(5),L("ngModel",t.dataModel.moduleEntityName),n(5),L("ngModel",t.dataModel.moduleEntityId),n(5),L("ngModel",t.dataModel.showKey),n(5),L("ngModel",t.dataModel.subjectTitle),n(2),E(t.fieldsInfo.expireDateTime!=null&&t.fieldsInfo.expireDateTime.accessWatchField?36:-1),n(),E(t.formInfo.submitButtonEnabled?37:-1))},dependencies:[De,Ct,gt,ke,Qt,zt,Mt,Ae,zo,Jo,$o,Qo,ne,te,me,H],encapsulation:2});var Mo=Hi;var Js=["vform"];function $s(o,r){if(o&1){let e=w();s(0,"div",7)(1,"button",8),b("click",function(){f(e);let t=h();return S(t.onFormCancel())}),C(2,"i",9),d(3),g(4,"translate"),a()()}o&2&&(n(3),u(" ",M(4,1,"ACTION.CANCEL")," "))}var Fi=class Fi{constructor(r,e,i,t,c,p,l,D,re,z){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.coreModuleLogShowKeyService=t;this.cmsToastrService=c;this.tokenHelper=p;this.cmsStoreService=l;this.cdr=D;this.publicHelper=re;this.translate=z;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Le;this.dataModelResult=new Q;this.dataModel=new Ut;this.formInfo=new ie;this.dataModelEnumSendSmsStatusTypeResult=new Q;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>V(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreModuleLogShowKeyService.setAccessLoad(),this.coreModuleLogShowKeyService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Fi.\u0275fac=function(e){return new(e||Fi)(m(ee),m(Z),m(O),m(xt),m(j),m(U),m(F),m(N),m(q),m(P))},Fi.\u0275cmp=B({type:Fi,selectors:[["app-coremodule-data-memo-view"]],viewQuery:function(e,i){if(e&1&&$(Js,5),e&2){let t;Y(t=X())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(s(0,"div",0),d(1),a(),s(2,"div",1),C(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),a(),s(5,"div",4),C(6,"app-cms-form-result-message",5),a(),s(7,"div",6),y(8,$s,5,3,"div",7),a()),e&2&&(n(),u(" ",i.formInfo.formTitle," "),n(2),_("optionsInfoAreaId",i.constructorInfoAreaId),n(),_("dataModel",i.dataModel)("optionMethod",1),n(2),_("formInfo",i.formInfo),n(2),E(i.formInfo.submitButtonEnabled?8:-1))},dependencies:[te,tt,me,H],encapsulation:2});var _o=Fi;var Ys=()=>[5,10,20,100],Xs=o=>({display:o});function Zs(o,r){if(o&1){let e=w();s(0,"a",41),b("click",function(){f(e);let t=h();return S(t.onActionBackToParent())}),C(1,"i",42),a()}}function ea(o,r){if(o&1){let e=w();s(0,"div",17)(1,"a",43),b("click",function(){f(e);let t=h();return S(t.onActionButtonViewRow(t.tableRowSelected))}),C(2,"i",44)(3,"br"),a(),s(4,"p",45),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.VIEW")," "))}function ta(o,r){if(o&1){let e=w();s(0,"div",17)(1,"a",46),b("click",function(){f(e);let t=h();return S(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",47)(3,"br"),a(),s(4,"p",45),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.EDIT")," "))}function ia(o,r){if(o&1){let e=w();s(0,"div",17)(1,"a",48),b("click",function(){f(e);let t=h();return S(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",49)(3,"br"),a(),s(4,"p",45),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.DELETE")," "))}function oa(o,r){if(o&1&&(s(0,"mat-header-cell",50),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function na(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.id," ")}}function ra(o,r){if(o&1&&(s(0,"mat-header-cell",50),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function sa(o,r){if(o&1&&C(0,"select",52),o&2){let e=h().$implicit,i=h();_("contentService",i.contentService)("row",e)("ngStyle",Ie(3,Xs,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function aa(o,r){if(o&1&&(s(0,"mat-cell",51),g(1,"statusCellClass"),C(2,"i",51),g(3,"statusIconClass"),y(4,sa,1,5,"select",52),a()),o&2){let e=r.$implicit,i=h();_("ngClass",M(1,3,e.recordStatus)),n(2),_("ngClass",M(3,5,e.recordStatus)),n(2),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function la(o,r){if(o&1&&(s(0,"mat-header-cell",50),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.moduleName==null?null:e.fieldsInfo.moduleName.fieldTitle," ")}}function ca(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.moduleName," ")}}function da(o,r){if(o&1&&(s(0,"mat-header-cell",50),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.moduleEntityName==null?null:e.fieldsInfo.moduleEntityName.fieldTitle," ")}}function ma(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.moduleEntityName," ")}}function ua(o,r){if(o&1&&(s(0,"mat-header-cell",50),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.moduleEntityId==null?null:e.fieldsInfo.moduleEntityId.fieldTitle," ")}}function pa(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.moduleEntityId," ")}}function fa(o,r){if(o&1&&(s(0,"mat-header-cell",50),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.showKey==null?null:e.fieldsInfo.showKey.fieldTitle," ")}}function Sa(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.showKey," ")}}function ha(o,r){if(o&1&&(s(0,"mat-header-cell",50),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Ca(o,r){if(o&1&&(s(0,"mat-cell",53),d(1),g(2,"localeDateTime"),a()),o&2){let e=r.$implicit;n(),u(" ",M(2,1,e.createdDate)," ")}}function ga(o,r){o&1&&(s(0,"mat-header-cell"),d(1),g(2,"translate"),a()),o&2&&(n(),u(" ",M(2,1,"TITLE.OPTION")," "))}function Ma(o,r){if(o&1&&(s(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),d(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),o&2){let e=oe(5);n(),_("matMenuTriggerFor",e)}}function _a(o,r){if(o&1&&(s(0,"mat-cell")(1,"div")(2,"table")(3,"tr"),C(4,"td"),s(5,"td"),d(6),a()()()()()),o&2){let e=r.$implicit;n(6),yt(e.subjectTitle)}}function ba(o,r){o&1&&C(0,"mat-header-row")}function va(o,r){if(o&1){let e=w();s(0,"mat-row",56),b("click",function(t){let c=f(e).$implicit,p=h();return S(p.onActionTableRowSelect(c,t))})("rtclick",function(t){let c=f(e).$implicit,p=h();return S(p.onActionTableRowSelect(c,t))}),a()}if(o&2){let e=r.$implicit,i=h();ce("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ui=class Ui extends et{constructor(e,i,t,c,p,l,D,re,z,ae,Rt,ht,wt){super(i,new Ut,ht,l,re);this.coreEnumService=e;this.contentService=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=c;this.activatedRoute=p;this.tokenHelper=l;this.cdr=D;this.translate=re;this.cmsStoreService=z;this.router=ae;this.pageInfo=Rt;this.publicHelper=ht;this.dialog=wt;this.requestLinkSiteId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Me;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","ModuleName","ModuleEntityName","ModuleEntityId","showKey","createdDate"];this.tabledisplayedColumnsMobileSource=["recordStatus","ModuleName","ModuleEntityName","ModuleEntityId","showKey","createdDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkSiteId>0){let T=new x;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=G.Descending}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=G.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>V(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ut);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=G.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=G.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=G.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(_o,{height:"90%",panelClass:i,enterAnimationDuration:K.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:K.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Mo,{height:"90%",panelClass:i,enterAnimationDuration:K.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:K.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(c=>{if(c){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(p,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{i.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{i.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),p=new x;p.propertyName="recordStatus",p.value=Te.Available,c.Filters.push(p),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Ui.\u0275fac=function(i){return new(i||Ui)(m(O),m(xt),m(j),m(be),m(Ee),m(U),m(N),m(P),m(F),m(Re),m(Ye),m(q),m(Be))},Ui.\u0275cmp=B({type:Ui,selectors:[["app-coremodule-data-memo-list"]],standalone:!1,features:[J],decls:62,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","showKey"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let c=w();s(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(l){return f(c),k(t.viewGuideNotice,l)||(t.viewGuideNotice=l),S(l)}),b("optionOnActionButtonMemoRow",function(){return f(c),S(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(c),S(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(c),S(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(c),S(t.onActionButtonPrintRow())}),v(1,4),d(2," -------------------------------------- "),I(),le(3,5)(4,6),v(5,7),y(6,Zs,2,0,"a",8),s(7,"a",9),b("click",function(){return f(c),S(t.viewGuideNotice=!t.viewGuideNotice)}),C(8,"i",10),a(),s(9,"a",9),b("click",function(){return f(c),S(t.onActionButtonReload())}),C(10,"i",11),a(),I(),v(11,12),s(12,"a",13),b("click",function(){return f(c),S(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(13,"mat-slide-toggle",14),d(14),g(15,"translate"),a(),s(16,"a",13),b("click",function(){return f(c),S(t.onActionButtonStatist())}),C(17,"mat-slide-toggle",14),d(18),g(19,"translate"),a(),I(),le(20,15),v(21,16),y(22,ea,7,3,"div",17),y(23,ta,7,3,"div",17),y(24,ia,7,3,"div",17),I(),v(25,18),s(26,"app-cms-search-list",19),A("optionsChange",function(l){return f(c),k(t.optionsSearch,l)||(t.optionsSearch=l),S(l)}),a(),s(27,"app-cms-statist-list",19),A("optionsChange",function(l){return f(c),k(t.optionsStatist,l)||(t.optionsStatist=l),S(l)}),a(),I(),v(28,20),s(29,"mat-table",21,0),b("matSortChange",function(){f(c);let l=oe(30);return S(t.onTableSortData(l))}),v(31,22),R(32,oa,2,1,"mat-header-cell",23)(33,na,2,1,"mat-cell",24),I(),v(34,25),R(35,ra,2,1,"mat-header-cell",23)(36,aa,5,7,"mat-cell",26),I(),v(37,27),R(38,la,2,1,"mat-header-cell",23)(39,ca,2,1,"mat-cell",24),I(),v(40,28),R(41,da,2,1,"mat-header-cell",23)(42,ma,2,1,"mat-cell",24),I(),v(43,29),R(44,ua,2,1,"mat-header-cell",23)(45,pa,2,1,"mat-cell",24),I(),v(46,30),R(47,fa,2,1,"mat-header-cell",23)(48,Sa,2,1,"mat-cell",24),I(),v(49,31),R(50,ha,2,1,"mat-header-cell",23)(51,Ca,3,3,"mat-cell",32),I(),v(52,33),R(53,ga,3,3,"mat-header-cell",34)(54,Ma,6,1,"mat-cell",35),I(),v(55,36),R(56,_a,7,1,"mat-cell",24),I(),R(57,ba,1,0,"mat-header-row",37)(58,va,1,2,"mat-row",38),a(),I(),v(59,39),s(60,"mat-paginator",40,1),b("page",function(l){return f(c),S(t.onTablePageingData(l))}),a(),I(),a()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),L("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),E(t.requestLinkSiteId>0?6:-1),n(4),ce("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),_("checked",t.optionsSearch.data.show),n(),u("",M(15,26,"ACTION.SEARCH")," "),n(3),_("checked",t.optionsStatist.data.show),n(),u("",M(19,28,"ACTION.STATIST")," "),n(4),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?22:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),n(2),L("options",t.optionsSearch),n(),L("options",t.optionsStatist),n(2),_("dataSource",t.tableSource),n(28),_("matHeaderRowDef",t.tabledisplayedColumns),n(),_("matRowDefColumns",t.tabledisplayedColumns),n(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(30,Ys)))},dependencies:[we,ye,xe,Ve,ne,Ne,Ge,Oe,ut,Pe,He,Fe,je,Qe,qe,Ue,ze,We,Ke,Je,$e,it,ot,nt,rt,st,H,Xe,at,lt],encapsulation:2});var bo=Ui;var Ia=["vform"];function wa(o,r){if(o&1){let e=w();s(0,"div",6)(1,"button",7),b("click",function(){f(e);let t=h();return S(t.onFormCancel())}),C(2,"i",8),d(3),g(4,"translate"),a()()}o&2&&(n(3),u(" ",M(4,1,"ACTION.CANCEL")," "))}var ji=class ji extends Ze{constructor(e,i,t,c,p,l,D,re,z,ae){super(c,new jt,z,ae);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleLogSiteCreditBlockedService=c;this.cmsToastrService=p;this.tokenHelper=l;this.cmsStoreService=D;this.cdr=re;this.publicHelper=z;this.translate=ae;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new vt;this.dataModel=new jt;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>V(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteCreditBlockedService.setAccessDataType(_e.Editor),this.coreModuleLogSiteCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ji.\u0275fac=function(i){return new(i||ji)(m(ee),m(Z),m(O),m(Bt),m(j),m(U),m(F),m(N),m(q),m(P))},ji.\u0275cmp=B({type:ji,selectors:[["app-coremodulelog-site-credit-blocked-edit"]],viewQuery:function(i,t){if(i&1&&$(Ia,5),i&2){let c;Y(c=X())&&(t.formGroup=c.first)}},standalone:!1,features:[J],decls:13,vars:11,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(s(0,"div",1),C(1,"app-progress-spinner",2),s(2,"div",3)(3,"p",4),d(4),a(),s(5,"p"),d(6),g(7,"translate"),a(),s(8,"form",null,0),C(10,"app-cms-site-selector",5),g(11,"translate"),y(12,wa,5,3,"div",6),a()()()),i&2&&(n(),_("optionsInfoAreaId",t.constructorInfoAreaId),n(3),u(" ",t.formInfo.formTitle," "),n(2),u(" ",M(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),n(4),_("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",M(11,9,"TITLE.SITE")),n(2),E(t.formInfo.submitButtonEnabled?12:-1))},dependencies:[De,ke,Ae,pt,te,H],encapsulation:2});var vo=ji;var ya=["vform"];function Ea(o,r){if(o&1){let e=w();s(0,"div",7)(1,"button",8),b("click",function(){f(e);let t=h();return S(t.onFormCancel())}),C(2,"i",9),d(3),g(4,"translate"),a()()}o&2&&(n(3),u(" ",M(4,1,"ACTION.CANCEL")," "))}var qi=class qi{constructor(r,e,i,t,c,p,l,D,re,z){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.coreModuleLogSiteCreditBlockedService=t;this.cmsToastrService=c;this.tokenHelper=p;this.cmsStoreService=l;this.cdr=D;this.publicHelper=re;this.translate=z;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Le;this.dataModelResult=new Q;this.dataModel=new jt;this.formInfo=new ie;this.dataModelEnumSendSmsStatusTypeResult=new Q;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>V(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreModuleLogSiteCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};qi.\u0275fac=function(e){return new(e||qi)(m(ee),m(Z),m(O),m(Bt),m(j),m(U),m(F),m(N),m(q),m(P))},qi.\u0275cmp=B({type:qi,selectors:[["app-coremodulelog-site-credit-blocked-view"]],viewQuery:function(e,i){if(e&1&&$(ya,5),e&2){let t;Y(t=X())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(s(0,"div",0),d(1),a(),s(2,"div",1),C(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),a(),s(5,"div",4),C(6,"app-cms-form-result-message",5),a(),s(7,"div",6),y(8,Ea,5,3,"div",7),a()),e&2&&(n(),u(" ",i.formInfo.formTitle," "),n(2),_("optionsInfoAreaId",i.constructorInfoAreaId),n(),_("dataModel",i.dataModel)("optionMethod",1),n(2),_("formInfo",i.formInfo),n(2),E(i.formInfo.submitButtonEnabled?8:-1))},dependencies:[te,tt,me,H],encapsulation:2});var Io=qi;var Ra=()=>[5,10,20,100],Ta=o=>({display:o});function La(o,r){if(o&1&&C(0,"app-core-user-header",3),o&2){let e=h();_("optionId",e.requestLinkUserId)}}function ka(o,r){if(o&1){let e=w();s(0,"a",41),b("click",function(){f(e);let t=h();return S(t.onActionBackToParent())}),C(1,"i",42),a()}}function Aa(o,r){if(o&1){let e=w();s(0,"div",18)(1,"a",43),b("click",function(){f(e);let t=h();return S(t.onActionButtonViewRow(t.tableRowSelected))}),C(2,"i",44)(3,"br"),a(),s(4,"p",45),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.VIEW")," "))}function Da(o,r){if(o&1){let e=w();s(0,"div",18)(1,"a",46),b("click",function(){f(e);let t=h();return S(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",47)(3,"br"),a(),s(4,"p",45),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.EDIT")," "))}function xa(o,r){if(o&1){let e=w();s(0,"div",18)(1,"a",48),b("click",function(){f(e);let t=h();return S(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",49)(3,"br"),a(),s(4,"p",45),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.DELETE")," "))}function Ba(o,r){if(o&1){let e=w();s(0,"div",18)(1,"a",43),b("click",function(){f(e);let t=h();return S(t.onActionButtonViewSiteRow(t.tableRowSelected))}),C(2,"i",50)(3,"br"),a(),s(4,"p",45),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.SITE")," "))}function Va(o,r){if(o&1){let e=w();s(0,"div",18)(1,"a",43),b("click",function(t){f(e);let c=h();return S(c.onActionButtonBankPaymentTransactionRow(c.tableRowSelected,t))}),C(2,"i",51)(3,"br"),a(),s(4,"p",45),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.BANK_PAYMENT_TRANSACTION")," "))}function Na(o,r){if(o&1&&(s(0,"mat-header-cell",52),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Ga(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.id," ")}}function Oa(o,r){if(o&1&&(s(0,"mat-header-cell",52),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Pa(o,r){if(o&1&&C(0,"select",54),o&2){let e=h().$implicit,i=h();_("contentService",i.contentService)("row",e)("ngStyle",Ie(3,Ta,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Ha(o,r){if(o&1&&(s(0,"mat-cell",53),g(1,"statusCellClass"),C(2,"i",53),g(3,"statusIconClass"),y(4,Pa,1,5,"select",54),a()),o&2){let e=r.$implicit,i=h();_("ngClass",M(1,3,e.recordStatus)),n(2),_("ngClass",M(3,5,e.recordStatus)),n(2),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function Fa(o,r){if(o&1&&(s(0,"mat-header-cell",52),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ua(o,r){if(o&1&&(s(0,"mat-cell"),d(1),g(2,"cmssiteinfo"),g(3,"async"),a()),o&2){let e=r.$implicit;n(),u(" ",M(3,3,M(2,1,e.linkSiteId))," ")}}function ja(o,r){if(o&1&&(s(0,"mat-header-cell",52),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.linkModuleId==null?null:e.fieldsInfo.linkModuleId.fieldTitle," ")}}function qa(o,r){if(o&1&&(s(0,"mat-cell"),d(1),g(2,"cmstitle"),a()),o&2){let e=r.$implicit,i=h();n(),u(" ",vi(2,1,e.linkModuleId,i.dataModelCoreModuleResult.listItems)," ")}}function Wa(o,r){if(o&1&&(s(0,"mat-header-cell",52),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.transactionCredit==null?null:e.fieldsInfo.transactionCredit.fieldTitle," ")}}function Ka(o,r){if(o&1&&(s(0,"mat-cell"),d(1),g(2,"number"),a()),o&2){let e=r.$implicit;n(),u(" ",M(2,1,e.transactionCredit)," ")}}function Qa(o,r){if(o&1&&(s(0,"mat-header-cell",52),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.linkModuleBankPaymentTransactionId==null?null:e.fieldsInfo.linkModuleBankPaymentTransactionId.fieldTitle," ")}}function za(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.linkModuleBankPaymentTransactionId," ")}}function Ja(o,r){if(o&1&&(s(0,"mat-header-cell",52),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function $a(o,r){if(o&1&&(s(0,"mat-cell",55),d(1),g(2,"localeDateTime"),a()),o&2){let e=r.$implicit;n(),u(" ",M(2,1,e.createdDate)," ")}}function Ya(o,r){o&1&&(s(0,"mat-header-cell"),d(1),g(2,"translate"),a()),o&2&&(n(),u(" ",M(2,1,"TITLE.OPTION")," "))}function Xa(o,r){if(o&1&&(s(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),d(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),o&2){let e=oe(5);n(),_("matMenuTriggerFor",e)}}function Za(o,r){o&1&&C(0,"mat-header-row")}function el(o,r){if(o&1){let e=w();s(0,"mat-row",58),b("click",function(t){let c=f(e).$implicit,p=h();return S(p.onActionTableRowSelect(c,t))})("rtclick",function(t){let c=f(e).$implicit,p=h();return S(p.onActionTableRowSelect(c,t))}),a()}if(o&2){let e=r.$implicit,i=h();ce("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Wi=class Wi extends et{constructor(e,i,t,c,p,l,D,re,z,ae,Rt,ht,wt,T){super(t,new jt,wt,D,ae);this.coreEnumService=e;this.coreModuleService=i;this.contentService=t;this.cmsToastrService=c;this.cmsConfirmationDialogService=p;this.activatedRoute=l;this.tokenHelper=D;this.cdr=re;this.cmsStoreService=z;this.translate=ae;this.router=Rt;this.pageInfo=ht;this.publicHelper=wt;this.dialog=T;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestlinkMemberUserId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Me;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","linkModuleId","transactionCredit","linkModuleBankPaymentTransactionId","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkModuleId","transactionCredit","createdDate"];this.dataModelCoreModuleResult=new Q;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberUserId")),this.requestLinkSiteId>0){let W=new x;W.propertyName="LinkCmsSiteId",W.value=this.requestLinkSiteId,this.filteModelContent.filters.push(W)}if(this.requestLinkUserId>0){let W=new x;W.propertyName="linkUserId",W.value=this.requestLinkUserId,this.filteModelContent.filters.push(W)}if(this.requestlinkMemberUserId>0){let W=new x;W.propertyName="linkMemberUserId",W.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(W)}this.optionsSearch.parentMethods={onSubmit:W=>this.onSubmitOptionsSearch(W)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=G.Descending}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=G.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>V(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getModuleList()}getModuleList(){let e=new Me;e.rowPerPage=100,this.coreModuleService.ServiceGetAllModuleName(e).subscribe({next:i=>{this.dataModelCoreModuleResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new jt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=G.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=G.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=G.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Io,{height:"90%",panelClass:i,enterAnimationDuration:K.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:K.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(vo,{height:"90%",panelClass:i,enterAnimationDuration:K.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:K.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(c=>{if(c){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(p,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{i.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{i.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),p=new x;p.propertyName="recordStatus",p.value=Te.Available,c.filters.push(p),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonBankPaymentTransactionRow(e=this.tableRowSelected,i){if(!e||!e.linkModuleBankPaymentTransactionId||e.linkModuleBankPaymentTransactionId===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),i?.ctrlKey){let t="/#/bankpayment/transaction/"+this.tableRowSelected.linkModuleBankPaymentTransactionId;window.open(t,"_blank")}else this.router.navigate(["/bankpayment/transaction/",this.tableRowSelected.linkModuleBankPaymentTransactionId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Wi.\u0275fac=function(i){return new(i||Wi)(m(O),m(Tt),m(Bt),m(j),m(be),m(Ee),m(U),m(N),m(F),m(P),m(Re),m(Ye),m(q),m(Be))},Wi.\u0275cmp=B({type:Wi,selectors:[["app-coremodulelog-site-credit-blocked-list"]],standalone:!1,features:[J],decls:63,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkModuleId"],["matColumnDef","transactionCredit"],["matColumnDef","linkModuleBankPaymentTransactionId"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-money-bill","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let c=w();y(0,La,1,1,"app-core-user-header",3),s(1,"app-cms-html-list",4),A("optionActionGuideNoticeDisplayChange",function(l){return f(c),k(t.viewGuideNotice,l)||(t.viewGuideNotice=l),S(l)}),b("optionOnActionButtonMemoRow",function(){return f(c),S(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(c),S(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(c),S(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(c),S(t.onActionButtonPrintRow())}),v(2,5),d(3," -------------------------------------- "),I(),le(4,6)(5,7),v(6,8),y(7,ka,2,0,"a",9),s(8,"a",10),b("click",function(){return f(c),S(t.viewGuideNotice=!t.viewGuideNotice)}),C(9,"i",11),a(),s(10,"a",10),b("click",function(){return f(c),S(t.onActionButtonReload())}),C(11,"i",12),a(),I(),v(12,13),s(13,"a",14),b("click",function(){return f(c),S(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(14,"mat-slide-toggle",15),d(15),g(16,"translate"),a(),s(17,"a",14),b("click",function(){return f(c),S(t.onActionButtonStatist())}),C(18,"mat-slide-toggle",15),d(19),g(20,"translate"),a(),I(),le(21,16),v(22,17),y(23,Aa,7,3,"div",18),y(24,Da,7,3,"div",18),y(25,xa,7,3,"div",18),y(26,Ba,7,3,"div",18),y(27,Va,7,3,"div",18),I(),v(28,19),s(29,"app-cms-search-list",20),A("optionsChange",function(l){return f(c),k(t.optionsSearch,l)||(t.optionsSearch=l),S(l)}),a(),s(30,"app-cms-statist-list",20),A("optionsChange",function(l){return f(c),k(t.optionsStatist,l)||(t.optionsStatist=l),S(l)}),a(),I(),v(31,21),s(32,"mat-table",22,0),b("matSortChange",function(){f(c);let l=oe(33);return S(t.onTableSortData(l))}),v(34,23),R(35,Na,2,1,"mat-header-cell",24)(36,Ga,2,1,"mat-cell",25),I(),v(37,26),R(38,Oa,2,1,"mat-header-cell",24)(39,Ha,5,7,"mat-cell",27),I(),v(40,28),R(41,Fa,2,1,"mat-header-cell",24)(42,Ua,4,5,"mat-cell",25),I(),v(43,29),R(44,ja,2,1,"mat-header-cell",24)(45,qa,3,4,"mat-cell",25),I(),v(46,30),R(47,Wa,2,1,"mat-header-cell",24)(48,Ka,3,3,"mat-cell",25),I(),v(49,31),R(50,Qa,2,1,"mat-header-cell",24)(51,za,2,1,"mat-cell",25),I(),v(52,32),R(53,Ja,2,1,"mat-header-cell",24)(54,$a,3,3,"mat-cell",33),I(),v(55,34),R(56,Ya,3,3,"mat-header-cell",35)(57,Xa,6,1,"mat-cell",36),I(),R(58,Za,1,0,"mat-header-row",37)(59,el,1,2,"mat-row",38),a(),I(),v(60,39),s(61,"mat-paginator",40,1),b("page",function(l){return f(c),S(t.onTablePageingData(l))}),a(),I(),a()}i&2&&(E(t.requestLinkUserId>0?0:-1),n(),_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),L("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),E(t.requestLinkSiteId>0?7:-1),n(4),ce("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),_("checked",t.optionsSearch.data.show),n(),u("",M(16,29,"ACTION.SEARCH")," "),n(3),_("checked",t.optionsStatist.data.show),n(),u("",M(20,31,"ACTION.STATIST")," "),n(4),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?23:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?24:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?25:-1),n(),E((t.tableRowSelected==null?null:t.tableRowSelected.linkSiteId)>0?26:-1),n(),E((t.tableRowSelected==null?null:t.tableRowSelected.linkModuleBankPaymentTransactionId)>0?27:-1),n(2),L("options",t.optionsSearch),n(),L("options",t.optionsStatist),n(2),_("dataSource",t.tableSource),n(26),_("matHeaderRowDef",t.tabledisplayedColumns),n(),_("matRowDefColumns",t.tabledisplayedColumns),n(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(33,Ra)))},dependencies:[we,ye,xe,Ve,ne,Ne,Ge,Oe,ut,Pe,He,Fe,je,Qe,qe,Ue,ze,We,Ke,Je,$e,it,ot,nt,rt,st,bt,mt,Ii,H,wi,ft,Xe,at,lt],encapsulation:2});var wo=Wi;var tl=["vform"];function il(o,r){if(o&1&&(s(0,"mat-error"),d(1),s(2,"strong"),d(3),g(4,"translate"),a()()),o&2){let e=h(2);n(),u(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldDescription," is "),n(2),yt(M(4,2,"MESSAGE.required"))}}function ol(o,r){if(o&1){let e=w();s(0,"div",7)(1,"label",9),d(2),a(),s(3,"textarea",10,1),A("ngModelChange",function(t){f(e);let c=h();return k(c.dataModel.description,t)||(c.dataModel.description=t),S(t)}),d(5,"          "),a(),s(6,"em"),d(7),a(),y(8,il,5,4,"mat-error"),a()}if(o&2){let e=oe(4),i=h();n(2),yt(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldDescription),n(),_("placeholder",hi(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),L("ngModel",i.dataModel.description),_("disabled",!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessEditField)),n(4),u("",e.value.length," / 500"),n(),E(e.errors!=null&&e.errors.required?8:-1)}}function nl(o,r){if(o&1){let e=w();s(0,"div",8)(1,"button",11),b("click",function(){f(e);let t=h();return S(t.onFormCancel())}),C(2,"i",12),d(3),g(4,"translate"),a()()}o&2&&(n(3),u(" ",M(4,1,"ACTION.CANCEL")," "))}var Ki=class Ki extends Ze{constructor(e,i,t,c,p,l,D,re,z,ae){super(c,new Wt,z,ae);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleLogSiteCreditService=c;this.cmsToastrService=p;this.tokenHelper=l;this.cmsStoreService=D;this.cdr=re;this.publicHelper=z;this.translate=ae;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Q;this.dataModel=new Wt;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>V(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteCreditService.setAccessLoad(),this.coreModuleLogSiteCreditService.setAccessDataType(_e.Editor),this.coreModuleLogSiteCreditService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ki.\u0275fac=function(i){return new(i||Ki)(m(ee),m(Z),m(O),m(Nt),m(j),m(U),m(F),m(N),m(q),m(P))},Ki.\u0275cmp=B({type:Ki,selectors:[["app-coremodulelog-site-credit--edit"]],viewQuery:function(i,t){if(i&1&&$(tl,5),i&2){let c;Y(c=X())&&(t.formGroup=c.first)}},standalone:!1,features:[J],decls:14,vars:12,consts:[["vform","ngForm"],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"form-actions"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","10","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(s(0,"div",2),C(1,"app-progress-spinner",3),s(2,"div",4)(3,"p",5),d(4),a(),s(5,"p"),d(6),g(7,"translate"),a(),s(8,"form",null,0),C(10,"app-cms-site-selector",6),g(11,"translate"),y(12,ol,9,7,"div",7),y(13,nl,5,3,"div",8),a()()()),i&2&&(n(),_("optionsInfoAreaId",t.constructorInfoAreaId),n(3),u(" ",t.formInfo.formTitle," "),n(2),u(" ",M(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),n(4),_("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",M(11,10,"TITLE.SITE")),n(2),E(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?12:-1),n(),E(t.formInfo.submitButtonEnabled?13:-1))},dependencies:[De,Ct,gt,ke,Qt,zt,Mt,Ae,no,ne,pt,te,H],encapsulation:2});var yo=Ki;var rl=["vform"];function sl(o,r){if(o&1){let e=w();s(0,"div",7)(1,"button",8),b("click",function(){f(e);let t=h();return S(t.onFormCancel())}),C(2,"i",9),d(3),g(4,"translate"),a()()}o&2&&(n(3),u(" ",M(4,1,"ACTION.CANCEL")," "))}var Qi=class Qi{constructor(r,e,i,t,c,p,l,D,re,z){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.coreModuleLogSiteCreditService=t;this.cmsToastrService=c;this.tokenHelper=p;this.cmsStoreService=l;this.cdr=D;this.publicHelper=re;this.translate=z;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Le;this.dataModelResult=new Q;this.dataModel=new Wt;this.formInfo=new ie;this.dataModelEnumSendSmsStatusTypeResult=new Q;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>V(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreModuleLogSiteCreditService.setAccessLoad(),this.coreModuleLogSiteCreditService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Qi.\u0275fac=function(e){return new(e||Qi)(m(ee),m(Z),m(O),m(Nt),m(j),m(U),m(F),m(N),m(q),m(P))},Qi.\u0275cmp=B({type:Qi,selectors:[["app-coremodulelog-site-credit--view"]],viewQuery:function(e,i){if(e&1&&$(rl,5),e&2){let t;Y(t=X())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(s(0,"div",0),d(1),a(),s(2,"div",1),C(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),a(),s(5,"div",4),C(6,"app-cms-form-result-message",5),a(),s(7,"div",6),y(8,sl,5,3,"div",7),a()),e&2&&(n(),u(" ",i.formInfo.formTitle," "),n(2),_("optionsInfoAreaId",i.constructorInfoAreaId),n(),_("dataModel",i.dataModel)("optionMethod",1),n(2),_("formInfo",i.formInfo),n(2),E(i.formInfo.submitButtonEnabled?8:-1))},dependencies:[te,tt,me,H],encapsulation:2});var Eo=Qi;var al=()=>[5,10,20,100],ll=o=>({display:o});function cl(o,r){if(o&1){let e=w();s(0,"a",41),b("click",function(){f(e);let t=h();return S(t.onActionBackToParent())}),C(1,"i",42),a()}}function dl(o,r){if(o&1){let e=w();s(0,"div",17)(1,"a",43),b("click",function(){f(e);let t=h();return S(t.onActionButtonViewRow(t.tableRowSelected))}),C(2,"i",44)(3,"br"),a(),s(4,"p",45),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.VIEW")," "))}function ml(o,r){if(o&1){let e=w();s(0,"div",17)(1,"a",46),b("click",function(){f(e);let t=h();return S(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",47)(3,"br"),a(),s(4,"p",45),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.EDIT")," "))}function ul(o,r){if(o&1){let e=w();s(0,"div",17)(1,"a",48),b("click",function(){f(e);let t=h();return S(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",49)(3,"br"),a(),s(4,"p",45),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.DELETE")," "))}function pl(o,r){if(o&1){let e=w();s(0,"div",17)(1,"a",43),b("click",function(){f(e);let t=h();return S(t.onActionButtonViewSiteRow(t.tableRowSelected))}),C(2,"i",50)(3,"br"),a(),s(4,"p",45),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.SITE")," "))}function fl(o,r){if(o&1){let e=w();s(0,"div",17)(1,"a",43),b("click",function(t){f(e);let c=h();return S(c.onActionButtonBankPaymentTransactionRow(c.tableRowSelected,t))}),C(2,"i",51)(3,"br"),a(),s(4,"p",45),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.BANK_PAYMENT_TRANSACTION")," "))}function Sl(o,r){if(o&1&&(s(0,"mat-header-cell",52),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function hl(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.id," ")}}function Cl(o,r){if(o&1&&(s(0,"mat-header-cell",52),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function gl(o,r){if(o&1&&C(0,"select",54),o&2){let e=h().$implicit,i=h();_("contentService",i.contentService)("row",e)("ngStyle",Ie(3,ll,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Ml(o,r){if(o&1&&(s(0,"mat-cell",53),g(1,"statusCellClass"),C(2,"i",53),g(3,"statusIconClass"),y(4,gl,1,5,"select",54),a()),o&2){let e=r.$implicit,i=h();_("ngClass",M(1,3,e.recordStatus)),n(2),_("ngClass",M(3,5,e.recordStatus)),n(2),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function _l(o,r){if(o&1&&(s(0,"mat-header-cell",52),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function bl(o,r){if(o&1&&(s(0,"mat-cell"),d(1),g(2,"cmssiteinfo"),g(3,"async"),a()),o&2){let e=r.$implicit;n(),u(" ",M(3,3,M(2,1,e.linkSiteId))," ")}}function vl(o,r){if(o&1&&(s(0,"mat-header-cell",52),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.createdBy==null?null:e.fieldsInfo.createdBy.fieldTitle," ")}}function Il(o,r){if(o&1&&(s(0,"mat-cell"),d(1),g(2,"cmsuserinfo"),g(3,"async"),a()),o&2){let e=r.$implicit;n(),u(" ",M(3,3,M(2,1,e.createdBy))," ")}}function wl(o,r){if(o&1&&(s(0,"mat-header-cell",52),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.linkModuleId==null?null:e.fieldsInfo.linkModuleId.fieldTitle," ")}}function yl(o,r){if(o&1&&(s(0,"mat-cell"),d(1),g(2,"cmstitle"),a()),o&2){let e=r.$implicit,i=h();n(),u(" ",vi(2,1,e.linkModuleId,i.dataModelCoreModuleResult.listItems)," ")}}function El(o,r){if(o&1&&(s(0,"mat-header-cell",52),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.transactionCredit==null?null:e.fieldsInfo.transactionCredit.fieldTitle," ")}}function Rl(o,r){if(o&1&&(s(0,"mat-cell"),d(1),g(2,"number"),a()),o&2){let e=r.$implicit;n(),u(" ",M(2,1,e.transactionCredit)," ")}}function Tl(o,r){if(o&1&&(s(0,"mat-header-cell",52),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.linkModuleBankPaymentTransactionId==null?null:e.fieldsInfo.linkModuleBankPaymentTransactionId.fieldTitle," ")}}function Ll(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.linkModuleBankPaymentTransactionId," ")}}function kl(o,r){if(o&1&&(s(0,"mat-header-cell",52),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Al(o,r){if(o&1&&(s(0,"mat-cell",55),d(1),g(2,"localeDateTime"),a()),o&2){let e=r.$implicit;n(),u(" ",M(2,1,e.createdDate)," ")}}function Dl(o,r){o&1&&(s(0,"mat-header-cell"),d(1),g(2,"translate"),a()),o&2&&(n(),u(" ",M(2,1,"TITLE.OPTION")," "))}function xl(o,r){if(o&1&&(s(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),d(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),o&2){let e=oe(5);n(),_("matMenuTriggerFor",e)}}function Bl(o,r){o&1&&C(0,"mat-header-row")}function Vl(o,r){if(o&1){let e=w();s(0,"mat-row",58),b("click",function(t){let c=f(e).$implicit,p=h();return S(p.onActionTableRowSelect(c,t))})("rtclick",function(t){let c=f(e).$implicit,p=h();return S(p.onActionTableRowSelect(c,t))}),a()}if(o&2){let e=r.$implicit,i=h();ce("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var zi=class zi extends et{constructor(e,i,t,c,p,l,D,re,z,ae,Rt,ht,wt,T){super(t,new Wt,wt,D,z);this.coreEnumService=e;this.coreModuleService=i;this.contentService=t;this.cmsToastrService=c;this.cmsConfirmationDialogService=p;this.activatedRoute=l;this.tokenHelper=D;this.cdr=re;this.translate=z;this.router=ae;this.cmsStoreService=Rt;this.pageInfo=ht;this.publicHelper=wt;this.dialog=T;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestlinkMemberUserId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Me;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","createdBy","linkSiteId","linkModuleId","transactionCredit","linkModuleBankPaymentTransactionId","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkModuleId","transactionCredit","createdDate"];this.dataModelCoreModuleResult=new Q;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberUserId")),this.requestLinkSiteId>0){let W=new x;W.propertyName="LinkCmsSiteId",W.value=this.requestLinkSiteId,this.filteModelContent.filters.push(W)}if(this.requestLinkUserId>0){let W=new x;W.propertyName="linkUserId",W.value=this.requestLinkUserId,this.filteModelContent.filters.push(W)}if(this.requestlinkMemberUserId>0){let W=new x;W.propertyName="linkMemberUserId",W.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(W)}this.optionsSearch.parentMethods={onSubmit:W=>this.onSubmitOptionsSearch(W)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=G.Descending}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=G.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>V(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getModuleList()}getModuleList(){let e=new Me;e.rowPerPage=100,this.coreModuleService.ServiceGetAllModuleName(e).subscribe({next:i=>{this.dataModelCoreModuleResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Wt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=G.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=G.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=G.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Eo,{height:"90%",panelClass:i,enterAnimationDuration:K.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:K.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(yo,{height:"90%",panelClass:i,enterAnimationDuration:K.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:K.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(c=>{if(c){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(p,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{i.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{i.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),p=new x;p.propertyName="recordStatus",p.value=Te.Available,c.filters.push(p),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonBankPaymentTransactionRow(e=this.tableRowSelected,i){if(!e||!e.linkModuleBankPaymentTransactionId||e.linkModuleBankPaymentTransactionId===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),i?.ctrlKey){let t="/#/bankpayment/transactionlog/LinkTransactionId/"+this.tableRowSelected.linkModuleBankPaymentTransactionId;window.open(t,"_blank")}else this.router.navigate(["/bankpayment/transactionlog/LinkTransactionId/",this.tableRowSelected.linkModuleBankPaymentTransactionId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};zi.\u0275fac=function(i){return new(i||zi)(m(O),m(Tt),m(Nt),m(j),m(be),m(Ee),m(U),m(N),m(P),m(Re),m(F),m(Ye),m(q),m(Be))},zi.\u0275cmp=B({type:zi,selectors:[["app-coremodulelog-site-credit--list"]],standalone:!1,features:[J],decls:65,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","createdBy"],["matColumnDef","linkModuleId"],["matColumnDef","transactionCredit"],["matColumnDef","linkModuleBankPaymentTransactionId"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-money-bill","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let c=w();s(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(l){return f(c),k(t.viewGuideNotice,l)||(t.viewGuideNotice=l),S(l)}),b("optionOnActionButtonMemoRow",function(){return f(c),S(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(c),S(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(c),S(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(c),S(t.onActionButtonPrintRow())}),v(1,4),d(2," -------------------------------------- "),I(),le(3,5)(4,6),v(5,7),y(6,cl,2,0,"a",8),s(7,"a",9),b("click",function(){return f(c),S(t.viewGuideNotice=!t.viewGuideNotice)}),C(8,"i",10),a(),s(9,"a",9),b("click",function(){return f(c),S(t.onActionButtonReload())}),C(10,"i",11),a(),I(),v(11,12),s(12,"a",13),b("click",function(){return f(c),S(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(13,"mat-slide-toggle",14),d(14),g(15,"translate"),a(),s(16,"a",13),b("click",function(){return f(c),S(t.onActionButtonStatist())}),C(17,"mat-slide-toggle",14),d(18),g(19,"translate"),a(),I(),le(20,15),v(21,16),y(22,dl,7,3,"div",17),y(23,ml,7,3,"div",17),y(24,ul,7,3,"div",17),y(25,pl,7,3,"div",17),y(26,fl,7,3,"div",17),I(),v(27,18),s(28,"app-cms-search-list",19),A("optionsChange",function(l){return f(c),k(t.optionsSearch,l)||(t.optionsSearch=l),S(l)}),a(),s(29,"app-cms-statist-list",19),A("optionsChange",function(l){return f(c),k(t.optionsStatist,l)||(t.optionsStatist=l),S(l)}),a(),I(),v(30,20),s(31,"mat-table",21,0),b("matSortChange",function(){f(c);let l=oe(32);return S(t.onTableSortData(l))}),v(33,22),R(34,Sl,2,1,"mat-header-cell",23)(35,hl,2,1,"mat-cell",24),I(),v(36,25),R(37,Cl,2,1,"mat-header-cell",23)(38,Ml,5,7,"mat-cell",26),I(),v(39,27),R(40,_l,2,1,"mat-header-cell",23)(41,bl,4,5,"mat-cell",24),I(),v(42,28),R(43,vl,2,1,"mat-header-cell",23)(44,Il,4,5,"mat-cell",24),I(),v(45,29),R(46,wl,2,1,"mat-header-cell",23)(47,yl,3,4,"mat-cell",24),I(),v(48,30),R(49,El,2,1,"mat-header-cell",23)(50,Rl,3,3,"mat-cell",24),I(),v(51,31),R(52,Tl,2,1,"mat-header-cell",23)(53,Ll,2,1,"mat-cell",24),I(),v(54,32),R(55,kl,2,1,"mat-header-cell",23)(56,Al,3,3,"mat-cell",33),I(),v(57,34),R(58,Dl,3,3,"mat-header-cell",35)(59,xl,6,1,"mat-cell",36),I(),R(60,Bl,1,0,"mat-header-row",37)(61,Vl,1,2,"mat-row",38),a(),I(),v(62,39),s(63,"mat-paginator",40,1),b("page",function(l){return f(c),S(t.onTablePageingData(l))}),a(),I(),a()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),L("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),E(t.requestLinkSiteId>0?6:-1),n(4),ce("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),_("checked",t.optionsSearch.data.show),n(),u("",M(15,28,"ACTION.SEARCH")," "),n(3),_("checked",t.optionsStatist.data.show),n(),u("",M(19,30,"ACTION.STATIST")," "),n(4),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?22:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),n(),E((t.tableRowSelected==null?null:t.tableRowSelected.linkSiteId)>0?25:-1),n(),E((t.tableRowSelected==null?null:t.tableRowSelected.linkModuleBankPaymentTransactionId)>0?26:-1),n(2),L("options",t.optionsSearch),n(),L("options",t.optionsStatist),n(2),_("dataSource",t.tableSource),n(29),_("matHeaderRowDef",t.tabledisplayedColumns),n(),_("matRowDefColumns",t.tabledisplayedColumns),n(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(32,al)))},dependencies:[we,ye,xe,Ve,ne,Ne,Ge,Oe,ut,Pe,He,Fe,je,Qe,qe,Ue,ze,We,Ke,Je,$e,it,ot,nt,rt,st,mt,Ii,H,wi,_t,ft,Xe,at,lt],encapsulation:2});var Ro=zi;var Nl=["vform"];function Gl(o,r){if(o&1){let e=w();s(0,"div",6)(1,"button",7),b("click",function(){f(e);let t=h();return S(t.onFormCancel())}),C(2,"i",8),d(3),g(4,"translate"),a()()}o&2&&(n(3),u(" ",M(4,1,"ACTION.CANCEL")," "))}var Ji=class Ji extends Ze{constructor(e,i,t,c,p,l,D,re,z,ae){super(c,new qt,z,ae);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleLogSiteUserCreditBlockedService=c;this.cmsToastrService=p;this.tokenHelper=l;this.cmsStoreService=D;this.cdr=re;this.publicHelper=z;this.translate=ae;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new vt;this.dataModel=new qt;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>V(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteUserCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteUserCreditBlockedService.setAccessDataType(_e.Editor),this.coreModuleLogSiteUserCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ji.\u0275fac=function(i){return new(i||Ji)(m(ee),m(Z),m(O),m(Vt),m(j),m(U),m(F),m(N),m(q),m(P))},Ji.\u0275cmp=B({type:Ji,selectors:[["app-coremodulelog-site-user-credit-blocked-edit"]],viewQuery:function(i,t){if(i&1&&$(Nl,5),i&2){let c;Y(c=X())&&(t.formGroup=c.first)}},standalone:!1,features:[J],decls:13,vars:11,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(s(0,"div",1),C(1,"app-progress-spinner",2),s(2,"div",3)(3,"p",4),d(4),a(),s(5,"p"),d(6),g(7,"translate"),a(),s(8,"form",null,0),C(10,"app-cms-site-selector",5),g(11,"translate"),y(12,Gl,5,3,"div",6),a()()()),i&2&&(n(),_("optionsInfoAreaId",t.constructorInfoAreaId),n(3),u(" ",t.formInfo.formTitle," "),n(2),u(" ",M(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),n(4),_("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",M(11,9,"TITLE.SITE")),n(2),E(t.formInfo.submitButtonEnabled?12:-1))},dependencies:[De,ke,Ae,pt,te,H],encapsulation:2});var To=Ji;var Ol=["vform"];function Pl(o,r){if(o&1){let e=w();s(0,"div",9)(1,"button",10),b("click",function(){f(e);let t=h();return S(t.onFormCancel())}),C(2,"i",11),d(3),g(4,"translate"),a()()}o&2&&(n(3),u(" ",M(4,1,"ACTION.CANCEL")," "))}var $i=class $i{constructor(r,e,i,t,c,p,l,D,re,z){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.coreModuleLogSiteUserCreditBlockedService=t;this.cmsToastrService=c;this.tokenHelper=p;this.cmsStoreService=l;this.cdr=D;this.publicHelper=re;this.translate=z;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Le;this.dataModelResult=new Q;this.dataModel=new qt;this.formInfo=new ie;this.dataModelEnumSendSmsStatusTypeResult=new Q;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>V(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreModuleLogSiteUserCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteUserCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};$i.\u0275fac=function(e){return new(e||$i)(m(ee),m(Z),m(O),m(Vt),m(j),m(U),m(F),m(N),m(q),m(P))},$i.\u0275cmp=B({type:$i,selectors:[["app-coremodulelog-site-user-credit-blocked-view"]],viewQuery:function(e,i){if(e&1&&$(Ol,5),e&2){let t;Y(t=X())&&(i.formGroup=t.first)}},standalone:!1,decls:14,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(s(0,"div",0),C(1,"app-progress-spinner",1),s(2,"div",2)(3,"p",3),d(4),a(),s(5,"p"),d(6),g(7,"translate"),a(),s(8,"div",4),C(9,"app-cms-json-list",5),a(),s(10,"div",6),C(11,"app-cms-form-result-message",7),a(),s(12,"div",8),y(13,Pl,5,3,"div",9),a()()()),e&2&&(n(),_("optionsInfoAreaId",i.constructorInfoAreaId),n(3),u(" ",i.formInfo.formTitle," "),n(2),u(" ",M(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),n(3),_("dataModel",i.dataModel)("optionMethod",1),n(2),_("formInfo",i.formInfo),n(2),E(i.formInfo.submitButtonEnabled?13:-1))},dependencies:[te,tt,me,H],encapsulation:2});var Lo=$i;var Hl=()=>[5,10,20,100],Fl=o=>({display:o});function Ul(o,r){if(o&1&&C(0,"app-core-user-header",3),o&2){let e=h();_("optionId",e.requestLinkUserId)}}function jl(o,r){if(o&1){let e=w();s(0,"a",40),b("click",function(){f(e);let t=h();return S(t.onActionBackToParent())}),C(1,"i",41),a()}}function ql(o,r){if(o&1){let e=w();s(0,"div",18)(1,"a",42),b("click",function(){f(e);let t=h();return S(t.onActionButtonViewRow(t.tableRowSelected))}),C(2,"i",43)(3,"br"),a(),s(4,"p",44),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.VIEW")," "))}function Wl(o,r){if(o&1){let e=w();s(0,"div",18)(1,"a",45),b("click",function(){f(e);let t=h();return S(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",46)(3,"br"),a(),s(4,"p",44),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.EDIT")," "))}function Kl(o,r){if(o&1){let e=w();s(0,"div",18)(1,"a",47),b("click",function(){f(e);let t=h();return S(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",48)(3,"br"),a(),s(4,"p",44),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.DELETE")," "))}function Ql(o,r){if(o&1){let e=w();s(0,"div",18)(1,"a",42),b("click",function(){f(e);let t=h();return S(t.onActionButtonViewUserRow(t.tableRowSelected))}),C(2,"i",49)(3,"br"),a(),s(4,"p",44),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.USER")," "))}function zl(o,r){if(o&1){let e=w();s(0,"div",18)(1,"a",42),b("click",function(t){f(e);let c=h();return S(c.onActionButtonBankPaymentTransactionRow(c.tableRowSelected,t))}),C(2,"i",50)(3,"br"),a(),s(4,"p",44),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.BANK_PAYMENT_TRANSACTION")," "))}function Jl(o,r){if(o&1&&(s(0,"mat-header-cell",51),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function $l(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.id," ")}}function Yl(o,r){if(o&1&&(s(0,"mat-header-cell",51),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Xl(o,r){if(o&1&&C(0,"select",53),o&2){let e=h().$implicit,i=h();_("contentService",i.contentService)("row",e)("ngStyle",Ie(3,Fl,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Zl(o,r){if(o&1&&(s(0,"mat-cell",52),g(1,"statusCellClass"),C(2,"i",52),g(3,"statusIconClass"),y(4,Xl,1,5,"select",53),a()),o&2){let e=r.$implicit,i=h();_("ngClass",M(1,3,e.recordStatus)),n(2),_("ngClass",M(3,5,e.recordStatus)),n(2),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function ec(o,r){if(o&1&&(s(0,"mat-header-cell",51),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function tc(o,r){if(o&1&&(s(0,"mat-cell"),d(1),g(2,"cmssiteinfo"),g(3,"async"),a()),o&2){let e=r.$implicit;n(),u(" ",M(3,3,M(2,1,e.linkSiteId))," ")}}function ic(o,r){if(o&1&&(s(0,"mat-header-cell",51),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function oc(o,r){if(o&1&&(s(0,"mat-cell"),d(1),g(2,"cmsuserinfo"),g(3,"async"),a()),o&2){let e=r.$implicit;n(),u(" ",M(3,3,M(2,1,e.linkUserId))," ")}}function nc(o,r){if(o&1&&(s(0,"mat-header-cell",51),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.linkModuleBankPaymentTransactionId==null?null:e.fieldsInfo.linkModuleBankPaymentTransactionId.fieldTitle," ")}}function rc(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.linkModuleBankPaymentTransactionId," ")}}function sc(o,r){if(o&1&&(s(0,"mat-header-cell",51),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function ac(o,r){if(o&1&&(s(0,"mat-cell",54),d(1),g(2,"localeDateTime"),a()),o&2){let e=r.$implicit;n(),u(" ",M(2,1,e.createdDate)," ")}}function lc(o,r){o&1&&(s(0,"mat-header-cell"),d(1),g(2,"translate"),a()),o&2&&(n(),u(" ",M(2,1,"TITLE.OPTION")," "))}function cc(o,r){if(o&1&&(s(0,"mat-cell",55)(1,"button",56)(2,"mat-icon"),d(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),o&2){let e=oe(5);n(),_("matMenuTriggerFor",e)}}function dc(o,r){o&1&&C(0,"mat-header-row")}function mc(o,r){if(o&1){let e=w();s(0,"mat-row",57),b("click",function(t){let c=f(e).$implicit,p=h();return S(p.onActionTableRowSelect(c,t))})("rtclick",function(t){let c=f(e).$implicit,p=h();return S(p.onActionTableRowSelect(c,t))}),a()}if(o&2){let e=r.$implicit,i=h();ce("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Yi=class Yi extends et{constructor(e,i,t,c,p,l,D,re,z,ae,Rt,ht,wt){super(i,new qt,ht,l,re);this.coreEnumService=e;this.contentService=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=c;this.activatedRoute=p;this.tokenHelper=l;this.cdr=D;this.translate=re;this.cmsStoreService=z;this.router=ae;this.pageInfo=Rt;this.publicHelper=ht;this.dialog=wt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestlinkMemberUserId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Me;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkUserId","linkSiteId","linkModuleBankPaymentTransactionId","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkUserId","linkSiteId","createdDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberUserId")),this.requestLinkSiteId>0){let T=new x;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}if(this.requestLinkUserId>0){let T=new x;T.propertyName="linkUserId",T.value=this.requestLinkUserId,this.filteModelContent.filters.push(T)}if(this.requestlinkMemberUserId>0){let T=new x;T.propertyName="linkMemberUserId",T.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=G.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=G.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>V(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new qt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new x;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new x;t.propertyAnyName="linkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new x;t.propertyAnyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=G.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=G.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=G.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Lo,{height:"90%",panelClass:i,enterAnimationDuration:K.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:K.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(To,{height:"90%",panelClass:i,enterAnimationDuration:K.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:K.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(c=>{if(c){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(p,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{i.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{i.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),p=new x;p.propertyName="recordStatus",p.value=Te.Available,c.filters.push(p),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonBankPaymentTransactionRow(e=this.tableRowSelected,i){if(!e||!e.linkModuleBankPaymentTransactionId||e.linkModuleBankPaymentTransactionId===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),i?.ctrlKey){let t="/#/bankpayment/transaction/"+this.tableRowSelected.linkModuleBankPaymentTransactionId;window.open(t,"_blank")}else this.router.navigate(["/bankpayment/transaction/",this.tableRowSelected.linkModuleBankPaymentTransactionId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Yi.\u0275fac=function(i){return new(i||Yi)(m(O),m(Vt),m(j),m(be),m(Ee),m(U),m(N),m(P),m(F),m(Re),m(Ye),m(q),m(Be))},Yi.\u0275cmp=B({type:Yi,selectors:[["app-coremodulelog-site-user-credit-blocked-list"]],standalone:!1,features:[J],decls:61,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","linkModuleBankPaymentTransactionId"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-money-bill","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let c=w();y(0,Ul,1,1,"app-core-user-header",3),s(1,"app-cms-html-list",4),A("optionActionGuideNoticeDisplayChange",function(l){return f(c),k(t.viewGuideNotice,l)||(t.viewGuideNotice=l),S(l)}),b("optionOnActionButtonMemoRow",function(){return f(c),S(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(c),S(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(c),S(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(c),S(t.onActionButtonPrintRow())}),v(2,5),d(3,"id "),d(4," -------------------------------------- "),I(),le(5,6)(6,7),v(7,8),y(8,jl,2,0,"a",9),s(9,"a",10),b("click",function(){return f(c),S(t.viewGuideNotice=!t.viewGuideNotice)}),C(10,"i",11),a(),s(11,"a",10),b("click",function(){return f(c),S(t.onActionButtonReload())}),C(12,"i",12),a(),I(),v(13,13),s(14,"a",14),b("click",function(){return f(c),S(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(15,"mat-slide-toggle",15),d(16),g(17,"translate"),a(),s(18,"a",14),b("click",function(){return f(c),S(t.onActionButtonStatist())}),C(19,"mat-slide-toggle",15),d(20),g(21,"translate"),a(),I(),le(22,16),v(23,17),y(24,ql,7,3,"div",18),y(25,Wl,7,3,"div",18),y(26,Kl,7,3,"div",18),y(27,Ql,7,3,"div",18),y(28,zl,7,3,"div",18),I(),v(29,19),s(30,"app-cms-search-list",20),A("optionsChange",function(l){return f(c),k(t.optionsSearch,l)||(t.optionsSearch=l),S(l)}),a(),s(31,"app-cms-statist-list",20),A("optionsChange",function(l){return f(c),k(t.optionsStatist,l)||(t.optionsStatist=l),S(l)}),a(),I(),v(32,21),s(33,"mat-table",22,0),b("matSortChange",function(){f(c);let l=oe(34);return S(t.onTableSortData(l))}),v(35,23),R(36,Jl,2,1,"mat-header-cell",24)(37,$l,2,1,"mat-cell",25),I(),v(38,26),R(39,Yl,2,1,"mat-header-cell",24)(40,Zl,5,7,"mat-cell",27),I(),v(41,28),R(42,ec,2,1,"mat-header-cell",24)(43,tc,4,5,"mat-cell",25),I(),v(44,29),R(45,ic,2,1,"mat-header-cell",24)(46,oc,4,5,"mat-cell",25),I(),v(47,30),R(48,nc,2,1,"mat-header-cell",24)(49,rc,2,1,"mat-cell",25),I(),v(50,31),R(51,sc,2,1,"mat-header-cell",24)(52,ac,3,3,"mat-cell",32),I(),v(53,33),R(54,lc,3,3,"mat-header-cell",34)(55,cc,6,1,"mat-cell",35),I(),R(56,dc,1,0,"mat-header-row",36)(57,mc,1,2,"mat-row",37),a(),I(),v(58,38),s(59,"mat-paginator",39,1),b("page",function(l){return f(c),S(t.onTablePageingData(l))}),a(),I(),a()}i&2&&(E(t.requestLinkUserId>0?0:-1),n(),_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),L("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(7),E(t.requestLinkSiteId>0?8:-1),n(4),ce("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),_("checked",t.optionsSearch.data.show),n(),u("",M(17,29,"ACTION.SEARCH")," "),n(3),_("checked",t.optionsStatist.data.show),n(),u("",M(21,31,"ACTION.STATIST")," "),n(4),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?24:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?25:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?26:-1),n(),E((t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0?27:-1),n(),E((t.tableRowSelected==null?null:t.tableRowSelected.linkModuleBankPaymentTransactionId)>0?28:-1),n(2),L("options",t.optionsSearch),n(),L("options",t.optionsStatist),n(2),_("dataSource",t.tableSource),n(23),_("matHeaderRowDef",t.tabledisplayedColumns),n(),_("matRowDefColumns",t.tabledisplayedColumns),n(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(33,Hl)))},dependencies:[we,ye,xe,Ve,ne,Ne,Ge,Oe,ut,Pe,He,Fe,je,Qe,qe,Ue,ze,We,Ke,Je,$e,it,ot,nt,rt,st,bt,mt,H,_t,ft,Xe,at,lt],encapsulation:2});var ko=Yi;var uc=["vform"];function pc(o,r){if(o&1&&(s(0,"mat-error"),d(1),s(2,"strong"),d(3),g(4,"translate"),a()()),o&2){let e=h(2);n(),u(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldDescription," is "),n(2),yt(M(4,2,"MESSAGE.required"))}}function fc(o,r){if(o&1){let e=w();s(0,"div",7)(1,"label",9),d(2),a(),s(3,"textarea",10,1),A("ngModelChange",function(t){f(e);let c=h();return k(c.dataModel.description,t)||(c.dataModel.description=t),S(t)}),d(5,"          "),a(),s(6,"em"),d(7),a(),y(8,pc,5,4,"mat-error"),a()}if(o&2){let e=oe(4),i=h();n(2),yt(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldDescription),n(),_("placeholder",hi(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),L("ngModel",i.dataModel.description),_("disabled",!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessEditField)),n(4),u("",e.value.length," / 500"),n(),E(e.errors!=null&&e.errors.required?8:-1)}}function Sc(o,r){if(o&1){let e=w();s(0,"div",8)(1,"button",11),b("click",function(){f(e);let t=h();return S(t.onFormCancel())}),C(2,"i",12),d(3),g(4,"translate"),a()()}o&2&&(n(3),u(" ",M(4,1,"ACTION.CANCEL")," "))}var Xi=class Xi extends Ze{constructor(e,i,t,c,p,l,D,re,z,ae){super(c,new Kt,z,ae);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleLogSiteUserCreditService=c;this.cmsToastrService=p;this.tokenHelper=l;this.cmsStoreService=D;this.cdr=re;this.publicHelper=z;this.translate=ae;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Q;this.dataModel=new Kt;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>V(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteUserCreditService.setAccessLoad(),this.coreModuleLogSiteUserCreditService.setAccessDataType(_e.Editor),this.coreModuleLogSiteUserCreditService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Xi.\u0275fac=function(i){return new(i||Xi)(m(ee),m(Z),m(O),m(Gt),m(j),m(U),m(F),m(N),m(q),m(P))},Xi.\u0275cmp=B({type:Xi,selectors:[["app-coremodulelog-site-user-credit--edit"]],viewQuery:function(i,t){if(i&1&&$(uc,5),i&2){let c;Y(c=X())&&(t.formGroup=c.first)}},standalone:!1,features:[J],decls:14,vars:12,consts:[["vform","ngForm"],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"form-actions"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","10","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(s(0,"div",2),C(1,"app-progress-spinner",3),s(2,"div",4)(3,"p",5),d(4),a(),s(5,"p"),d(6),g(7,"translate"),a(),s(8,"form",null,0),C(10,"app-cms-site-selector",6),g(11,"translate"),y(12,fc,9,7,"div",7),y(13,Sc,5,3,"div",8),a()()()),i&2&&(n(),_("optionsInfoAreaId",t.constructorInfoAreaId),n(3),u(" ",t.formInfo.formTitle," "),n(2),u(" ",M(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),n(4),_("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",M(11,10,"TITLE.SITE")),n(2),E(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?12:-1),n(),E(t.formInfo.submitButtonEnabled?13:-1))},dependencies:[De,Ct,gt,ke,Qt,zt,Mt,Ae,no,ne,pt,te,H],encapsulation:2});var Ao=Xi;var hc=["vform"];function Cc(o,r){if(o&1){let e=w();s(0,"div",9)(1,"button",10),b("click",function(){f(e);let t=h();return S(t.onFormCancel())}),C(2,"i",11),d(3),g(4,"translate"),a()()}o&2&&(n(3),u(" ",M(4,1,"ACTION.CANCEL")," "))}var Zi=class Zi{constructor(r,e,i,t,c,p,l,D,re,z){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.coreModuleLogSiteUserCreditService=t;this.cmsToastrService=c;this.tokenHelper=p;this.cmsStoreService=l;this.cdr=D;this.publicHelper=re;this.translate=z;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Le;this.dataModelResult=new Q;this.dataModel=new Kt;this.formInfo=new ie;this.dataModelEnumSendSmsStatusTypeResult=new Q;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>V(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreModuleLogSiteUserCreditService.setAccessLoad(),this.coreModuleLogSiteUserCreditService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Zi.\u0275fac=function(e){return new(e||Zi)(m(ee),m(Z),m(O),m(Gt),m(j),m(U),m(F),m(N),m(q),m(P))},Zi.\u0275cmp=B({type:Zi,selectors:[["app-coremodulelog-site-user-credit--view"]],viewQuery:function(e,i){if(e&1&&$(hc,5),e&2){let t;Y(t=X())&&(i.formGroup=t.first)}},standalone:!1,decls:14,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(s(0,"div",0),C(1,"app-progress-spinner",1),s(2,"div",2)(3,"p",3),d(4),a(),s(5,"p"),d(6),g(7,"translate"),a(),s(8,"div",4),C(9,"app-cms-json-list",5),a(),s(10,"div",6),C(11,"app-cms-form-result-message",7),a(),s(12,"div",8),y(13,Cc,5,3,"div",9),a()()()),e&2&&(n(),_("optionsInfoAreaId",i.constructorInfoAreaId),n(3),u(" ",i.formInfo.formTitle," "),n(2),u(" ",M(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),n(3),_("dataModel",i.dataModel)("optionMethod",1),n(2),_("formInfo",i.formInfo),n(2),E(i.formInfo.submitButtonEnabled?13:-1))},dependencies:[te,tt,me,H],encapsulation:2});var Do=Zi;var gc=()=>[5,10,20,100],Mc=o=>({display:o});function _c(o,r){if(o&1&&C(0,"app-core-user-header",3),o&2){let e=h();_("optionId",e.requestLinkUserId)}}function bc(o,r){if(o&1&&C(0,"app-core-module-header",3),o&2){let e=h();_("optionId",e.requestLinkModuleId)}}function vc(o,r){if(o&1){let e=w();s(0,"a",43),b("click",function(){f(e);let t=h();return S(t.onActionBackToParent())}),C(1,"i",44),a()}}function Ic(o,r){if(o&1){let e=w();s(0,"div",18)(1,"a",45),b("click",function(){f(e);let t=h();return S(t.onActionButtonViewRow(t.tableRowSelected))}),C(2,"i",46)(3,"br"),a(),s(4,"p",47),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.VIEW")," "))}function wc(o,r){if(o&1){let e=w();s(0,"div",18)(1,"a",48),b("click",function(){f(e);let t=h();return S(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",49)(3,"br"),a(),s(4,"p",47),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.EDIT")," "))}function yc(o,r){if(o&1){let e=w();s(0,"div",18)(1,"a",50),b("click",function(){f(e);let t=h();return S(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",51)(3,"br"),a(),s(4,"p",47),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.DELETE")," "))}function Ec(o,r){if(o&1){let e=w();s(0,"div",18)(1,"a",45),b("click",function(t){f(e);let c=h();return S(c.onActionButtonViewUserRow(c.tableRowSelected,t))}),C(2,"i",52)(3,"br"),a(),s(4,"p",47),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.USER")," "))}function Rc(o,r){if(o&1){let e=w();s(0,"div",18)(1,"a",45),b("click",function(t){f(e);let c=h();return S(c.onActionButtonViewSiteRow(c.tableRowSelected,t))}),C(2,"i",53)(3,"br"),a(),s(4,"p",47),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.SITE")," "))}function Tc(o,r){if(o&1){let e=w();s(0,"div",18)(1,"a",45),b("click",function(t){f(e);let c=h();return S(c.onActionButtonBankPaymentTransactionRow(c.tableRowSelected,t))}),C(2,"i",54)(3,"br"),a(),s(4,"p",47),d(5),g(6,"translate"),a()()}o&2&&(n(5),u(" ",M(6,1,"ACTION.BANK_PAYMENT_TRANSACTION")," "))}function Lc(o,r){if(o&1&&(s(0,"mat-header-cell",55),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function kc(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.id," ")}}function Ac(o,r){if(o&1&&(s(0,"mat-header-cell",55),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Dc(o,r){if(o&1&&C(0,"select",57),o&2){let e=h().$implicit,i=h();_("contentService",i.contentService)("row",e)("ngStyle",Ie(3,Mc,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function xc(o,r){if(o&1&&(s(0,"mat-cell",56),g(1,"statusCellClass"),C(2,"i",56),g(3,"statusIconClass"),y(4,Dc,1,5,"select",57),a()),o&2){let e=r.$implicit,i=h();_("ngClass",M(1,3,e.recordStatus)),n(2),_("ngClass",M(3,5,e.recordStatus)),n(2),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function Bc(o,r){if(o&1&&(s(0,"mat-header-cell",55),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.createdBy==null?null:e.fieldsInfo.createdBy.fieldTitle," ")}}function Vc(o,r){if(o&1&&(s(0,"mat-cell"),d(1),g(2,"cmsuserinfo"),g(3,"async"),a()),o&2){let e=r.$implicit;n(),u(" ",M(3,3,M(2,1,e.createdBy))," ")}}function Nc(o,r){if(o&1&&(s(0,"mat-header-cell",55),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Gc(o,r){if(o&1&&(s(0,"mat-cell"),d(1),g(2,"cmssiteinfo"),g(3,"async"),a()),o&2){let e=r.$implicit;n(),u(" ",M(3,3,M(2,1,e.linkSiteId))," ")}}function Oc(o,r){if(o&1&&(s(0,"mat-header-cell",55),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Pc(o,r){if(o&1&&(s(0,"mat-cell"),d(1),g(2,"cmsuserinfo"),g(3,"async"),a()),o&2){let e=r.$implicit;n(),u(" ",M(3,3,M(2,1,e.linkUserId))," ")}}function Hc(o,r){if(o&1&&(s(0,"mat-header-cell",55),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.linkModuleId==null?null:e.fieldsInfo.linkModuleId.fieldTitle," ")}}function Fc(o,r){if(o&1&&(s(0,"mat-cell"),d(1),g(2,"cmstitle"),a()),o&2){let e=r.$implicit,i=h();n(),u(" ",vi(2,1,e.linkModuleId,i.dataModelCoreModuleResult.listItems)," ")}}function Uc(o,r){if(o&1&&(s(0,"mat-header-cell",55),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.transactionCredit==null?null:e.fieldsInfo.transactionCredit.fieldTitle," ")}}function jc(o,r){if(o&1&&(s(0,"mat-cell"),d(1),g(2,"number"),a()),o&2){let e=r.$implicit;n(),u(" ",M(2,1,e.transactionCredit)," ")}}function qc(o,r){if(o&1&&(s(0,"mat-header-cell",55),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.linkModuleBankPaymentTransactionId==null?null:e.fieldsInfo.linkModuleBankPaymentTransactionId.fieldTitle," ")}}function Wc(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.linkModuleBankPaymentTransactionId," ")}}function Kc(o,r){if(o&1&&(s(0,"mat-header-cell",55),d(1),a()),o&2){let e=h();n(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Qc(o,r){if(o&1&&(s(0,"mat-cell",58),d(1),g(2,"localeDateTime"),a()),o&2){let e=r.$implicit;n(),u(" ",M(2,1,e.createdDate)," ")}}function zc(o,r){o&1&&(s(0,"mat-header-cell"),d(1),g(2,"translate"),a()),o&2&&(n(),u(" ",M(2,1,"TITLE.OPTION")," "))}function Jc(o,r){if(o&1&&(s(0,"mat-cell",59)(1,"button",60)(2,"mat-icon"),d(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),o&2){let e=oe(5);n(),_("matMenuTriggerFor",e)}}function $c(o,r){o&1&&C(0,"mat-header-row")}function Yc(o,r){if(o&1){let e=w();s(0,"mat-row",61),b("click",function(t){let c=f(e).$implicit,p=h();return S(p.onActionTableRowSelect(c,t))})("rtclick",function(t){let c=f(e).$implicit,p=h();return S(p.onActionTableRowSelect(c,t))}),a()}if(o&2){let e=r.$implicit,i=h();ce("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var eo=class eo extends et{constructor(e,i,t,c,p,l,D,re,z,ae,Rt,ht,wt,T){super(t,new Kt,wt,re,ae);this.coreEnumService=e;this.coreModuleService=i;this.contentService=t;this.cmsToastrService=c;this.cmsConfirmationDialogService=p;this.activatedRoute=l;this.cmsStoreService=D;this.tokenHelper=re;this.cdr=z;this.translate=ae;this.router=Rt;this.pageInfo=ht;this.publicHelper=wt;this.dialog=T;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkModuleId=0;this.requestlinkMemberUserId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Me;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","createdBy","linkUserId","linkSiteId","linkModuleId","transactionCredit","linkModuleBankPaymentTransactionId","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkUserId","linkSiteId","linkModuleId","transactionCredit","createdDate"];this.dataModelCoreModuleResult=new Q;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkModuleId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkModuleId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberUserId")),this.requestLinkSiteId>0){let W=new x;W.propertyName="LinkCmsSiteId",W.value=this.requestLinkSiteId,this.filteModelContent.filters.push(W)}if(this.requestLinkUserId>0){let W=new x;W.propertyName="linkUserId",W.value=this.requestLinkUserId,this.filteModelContent.filters.push(W)}if(this.requestLinkModuleId>0){let W=new x;W.propertyName="LinkModuleId",W.value=this.requestLinkModuleId,this.filteModelContent.filters.push(W)}if(this.requestlinkMemberUserId>0){let W=new x;W.propertyName="linkMemberUserId",W.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(W)}this.optionsSearch.parentMethods={onSubmit:W=>this.onSubmitOptionsSearch(W)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=G.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=G.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>V(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getModuleList()}getModuleList(){let e=new Me;e.rowPerPage=100,this.coreModuleService.ServiceGetAllModuleName(e).subscribe({next:i=>{this.dataModelCoreModuleResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Kt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new x;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new x;t.propertyAnyName="linkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new x;t.propertyAnyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=G.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=G.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=G.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Do,{height:"90%",panelClass:i,enterAnimationDuration:K.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:K.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ao,{height:"90%",panelClass:i,enterAnimationDuration:K.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:K.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(c=>{if(c){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(p,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{i.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{i.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),p=new x;p.propertyName="recordStatus",p.value=Te.Available,c.filters.push(p),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i?.ctrlKey){let t="/#/core/user/edit/"+this.tableRowSelected.linkUserId;window.open(t,"_blank")}else this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i?.ctrlKey){let t="/#/core/site/edit/"+this.tableRowSelected.linkSiteId;window.open(t,"_blank")}else this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonBankPaymentTransactionRow(e=this.tableRowSelected,i){if(!e||!e.linkModuleBankPaymentTransactionId||e.linkModuleBankPaymentTransactionId===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),i?.ctrlKey){let t="/#/bankpayment/transactionlog/LinkTransactionId/"+this.tableRowSelected.linkModuleBankPaymentTransactionId;window.open(t,"_blank")}else this.router.navigate(["/bankpayment/transactionlog/LinkTransactionId/",this.tableRowSelected.linkModuleBankPaymentTransactionId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};eo.\u0275fac=function(i){return new(i||eo)(m(O),m(Tt),m(Gt),m(j),m(be),m(Ee),m(F),m(U),m(N),m(P),m(Re),m(Ye),m(q),m(Be))},eo.\u0275cmp=B({type:eo,selectors:[["app-coremodulelog-site-user-credit--list"]],standalone:!1,features:[J],decls:71,vars:36,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","createdBy"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","linkModuleId"],["matColumnDef","transactionCredit"],["matColumnDef","linkModuleBankPaymentTransactionId"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-money-bill","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let c=w();y(0,_c,1,1,"app-core-user-header",3),y(1,bc,1,1,"app-core-module-header",3),s(2,"app-cms-html-list",4),A("optionActionGuideNoticeDisplayChange",function(l){return f(c),k(t.viewGuideNotice,l)||(t.viewGuideNotice=l),S(l)}),b("optionOnActionButtonMemoRow",function(){return f(c),S(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(c),S(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(c),S(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(c),S(t.onActionButtonPrintRow())}),v(3,5),d(4," -------------------------------------- "),I(),le(5,6)(6,7),v(7,8),y(8,vc,2,0,"a",9),s(9,"a",10),b("click",function(){return f(c),S(t.viewGuideNotice=!t.viewGuideNotice)}),C(10,"i",11),a(),s(11,"a",10),b("click",function(){return f(c),S(t.onActionButtonReload())}),C(12,"i",12),a(),I(),v(13,13),s(14,"a",14),b("click",function(){return f(c),S(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(15,"mat-slide-toggle",15),d(16),g(17,"translate"),a(),s(18,"a",14),b("click",function(){return f(c),S(t.onActionButtonStatist())}),C(19,"mat-slide-toggle",15),d(20),g(21,"translate"),a(),I(),le(22,16),v(23,17),y(24,Ic,7,3,"div",18),y(25,wc,7,3,"div",18),y(26,yc,7,3,"div",18),y(27,Ec,7,3,"div",18),y(28,Rc,7,3,"div",18),y(29,Tc,7,3,"div",18),I(),v(30,19),s(31,"app-cms-search-list",20),A("optionsChange",function(l){return f(c),k(t.optionsSearch,l)||(t.optionsSearch=l),S(l)}),a(),s(32,"app-cms-statist-list",20),A("optionsChange",function(l){return f(c),k(t.optionsStatist,l)||(t.optionsStatist=l),S(l)}),a(),I(),v(33,21),s(34,"mat-table",22,0),b("matSortChange",function(){f(c);let l=oe(35);return S(t.onTableSortData(l))}),v(36,23),R(37,Lc,2,1,"mat-header-cell",24)(38,kc,2,1,"mat-cell",25),I(),v(39,26),R(40,Ac,2,1,"mat-header-cell",24)(41,xc,5,7,"mat-cell",27),I(),v(42,28),R(43,Bc,2,1,"mat-header-cell",24)(44,Vc,4,5,"mat-cell",25),I(),v(45,29),R(46,Nc,2,1,"mat-header-cell",24)(47,Gc,4,5,"mat-cell",25),I(),v(48,30),R(49,Oc,2,1,"mat-header-cell",24)(50,Pc,4,5,"mat-cell",25),I(),v(51,31),R(52,Hc,2,1,"mat-header-cell",24)(53,Fc,3,4,"mat-cell",25),I(),v(54,32),R(55,Uc,2,1,"mat-header-cell",24)(56,jc,3,3,"mat-cell",25),I(),v(57,33),R(58,qc,2,1,"mat-header-cell",24)(59,Wc,2,1,"mat-cell",25),I(),v(60,34),R(61,Kc,2,1,"mat-header-cell",24)(62,Qc,3,3,"mat-cell",35),I(),v(63,36),R(64,zc,3,3,"mat-header-cell",37)(65,Jc,6,1,"mat-cell",38),I(),R(66,$c,1,0,"mat-header-row",39)(67,Yc,1,2,"mat-row",40),a(),I(),v(68,41),s(69,"mat-paginator",42,1),b("page",function(l){return f(c),S(t.onTablePageingData(l))}),a(),I(),a()}i&2&&(E(t.requestLinkUserId>0?0:-1),n(),E(t.requestLinkModuleId>0?1:-1),n(),_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),L("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),E(t.requestLinkSiteId>0?8:-1),n(4),ce("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),_("checked",t.optionsSearch.data.show),n(),u("",M(17,31,"ACTION.SEARCH")," "),n(3),_("checked",t.optionsStatist.data.show),n(),u("",M(21,33,"ACTION.STATIST")," "),n(4),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?24:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?25:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?26:-1),n(),E((t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0?27:-1),n(),E((t.tableRowSelected==null?null:t.tableRowSelected.linkSiteId)>0?28:-1),n(),E((t.tableRowSelected==null?null:t.tableRowSelected.linkModuleBankPaymentTransactionId)>0?29:-1),n(2),L("options",t.optionsSearch),n(),L("options",t.optionsStatist),n(2),_("dataSource",t.tableSource),n(32),_("matHeaderRowDef",t.tabledisplayedColumns),n(),_("matRowDefColumns",t.tabledisplayedColumns),n(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(35,gc)))},dependencies:[we,ye,xe,Ve,ne,Ne,Ge,Oe,ut,Pe,He,Fe,je,Qe,qe,Ue,ze,We,Ke,Je,$e,it,ot,nt,rt,st,bt,tn,mt,Ii,H,wi,_t,ft,Xe,at,lt],encapsulation:2});var to=eo;var Xc=[{path:"",component:ro,data:{title:"ROUTE.COREMODULELOG"},children:[{path:"report-abuse",component:So,data:{title:"ROUTE.COREMODULELOG"}},{path:"show-key",component:bo,data:{title:"ROUTE.COREMODULELOG"}},{path:"favorite",component:lo,data:{title:"ROUTE.COREMODULELOG.FAVORITE"}},{path:"like",component:uo,data:{title:"ROUTE.COREMODULELOG.LIKE"}},{path:"score",component:go,data:{title:"ROUTE.COREMODULELOG.SCORE"}},{path:"site-credit",component:Ro,data:{title:"ROUTE.COREMODULELOG"}},{path:"site-user-credit",component:to,data:{title:"ROUTE.COREMODULELOG"}},{path:"site-user-credit/:LinkSiteId/:LinkUserId/:LinkModuleId",component:to,data:{title:"ROUTE.COREMODULELOG"}},{path:"site-credit-blocked",component:wo,data:{title:"ROUTE.COREMODULELOG"}},{path:"site-user-credit-blocked",component:ko,data:{title:"ROUTE.COREMODULELOG"}}]}],_i=class _i{};_i.\u0275fac=function(e){return new(e||_i)},_i.\u0275mod=oo({type:_i}),_i.\u0275inj=io({imports:[Bo.forChild(Xc),Bo]});var xo=_i;var bi=class bi{};bi.\u0275fac=function(e){return new(e||bi)},bi.\u0275mod=oo({type:bi}),bi.\u0275inj=io({providers:[Tt,Fo,Uo,jo,qo,At,Ho,kt,Po,xt,Dt,Lt,Bt,Vt,Nt,Gt,be],imports:[xo,Go,Wo,Ko.withConfig({warnOnNgModelWithFormControl:"never"}),Xo,Zo,en,Yo]});var rn=bi;export{rn as CoreModuleLogModule};
