import{a as uo,b as yi,c as fo}from"./chunk-OLG4QB6X.js";import{a as mo}from"./chunk-IK5S6L5X.js";import{a as po}from"./chunk-SL7O3HE2.js";import{a as co}from"./chunk-KLQYRBA3.js";import{a as _n}from"./chunk-IH72WVQT.js";import{a as gn}from"./chunk-CLFVUVK4.js";import{a as fn}from"./chunk-EEIJQEQ3.js";import{a as Jt}from"./chunk-2UBVCYDX.js";import{a as so}from"./chunk-ZRJDZEMA.js";import{a as hn}from"./chunk-LVLBUU5Z.js";import{a as Sn}from"./chunk-4SOZPASS.js";import{a as Cn}from"./chunk-EGBMIRON.js";import{a as xt}from"./chunk-3IDV2HIZ.js";import{a as Ut}from"./chunk-6OOUIFP7.js";import{a as Gt}from"./chunk-5PGIHI7G.js";import{a as mn,b as un,c as Et,d as wt,e as Rt,g as At,h as Dt}from"./chunk-35JUN3LB.js";import{a as zt}from"./chunk-7HF25NU4.js";import"./chunk-E5FIWGWV.js";import"./chunk-KNTHX32W.js";import{a as yt,b as dn}from"./chunk-QQASZTWY.js";import{a as Kt}from"./chunk-Q2QA4ZTY.js";import{a as lo}from"./chunk-JHUBPGKZ.js";import{a as Ne}from"./chunk-UQN3BTYH.js";import{b as pn}from"./chunk-GNDDMYF7.js";import"./chunk-HTLJNZF6.js";import"./chunk-2DJLLHEJ.js";import{a as ao}from"./chunk-ABPLGNRY.js";import{a as je}from"./chunk-IPNZEP47.js";import{a as Oe}from"./chunk-WFUYKU73.js";import{a as K,d as Fe}from"./chunk-5K55RFP4.js";import{b as Qt,e as Tt,f as P}from"./chunk-EF7DKNFT.js";import{$ as zi,$a as Z,A as Qi,Ab as Ct,Bb as St,Cb as ht,D as ot,Db as gt,E as nt,Eb as _t,Fb as Mt,G as rt,Gb as bt,Hb as vt,Ib as It,J as xe,K as at,Ka as Le,Kb as ln,L as lt,La as Ve,Lc as _e,Ma as he,N as Jo,O as Yo,Ob as $i,Oc as Me,Pb as eo,Q as Ki,Qb as to,Qc as q,Rb as io,Sb as oo,Tb as no,Tc as cn,W as st,Wb as N,Xb as j,Y as Xo,Za as ge,aa as Ji,ba as ke,eb as ct,fb as dt,hc as ro,ia as Zo,ib as pt,ic as sn,ja as $o,ka as en,la as tn,m as Wi,ma as on,n as Re,na as nn,nb as Be,oa as rn,pb as mt,q as de,qa as an,qb as ut,r as Ae,sa as Yi,t as De,u as it,ub as Xi,v as Ue,vb as Zi,w as Ge,zb as ft}from"./chunk-4ZDW4SNU.js";import{$d as jt,$f as ne,Ab as C,Ae as Wo,Bb as Pi,Ca as Ce,Cb as Hi,Cd as Eo,Dd as $e,Eb as Ie,F as Li,Fa as n,Fb as Te,Gb as ye,Gd as qt,Ha as le,Hd as L,I as Vi,Kb as G,Lc as He,Ld as H,Mb as Q,Md as B,Nb as qo,Oa as S,P as Bi,Pb as d,Pd as et,Q as Fi,Qb as U,Rb as g,Rc as Ze,Sa as F,Sb as Nt,Se as Qo,Ta as Ni,Tc as Pt,Te as Wt,Ud as tt,Ue as se,Vb as R,Ve as we,Wa as J,Wb as A,We as oe,Xb as D,Y as Oi,Ya as k,Yb as x,Yd as Y,Yf as ce,Zb as Xe,Zf as X,_c as jo,_f as wo,ac as Ke,bc as ze,da as m,db as Ye,ea as u,fb as v,fc as h,gb as I,gc as _,gl as ji,hc as Ee,ib as ee,jb as te,kb as ie,kg as Ko,lb as f,mb as a,mr as V,nb as s,ob as b,p as xi,pl as zo,q as ki,re as W,sb as y,sg as Ro,tb as E,ub as ve,ud as Ht,vb as T,ve as qi,wd as qe,yb as M,yc as O}from"./chunk-GC7IBVIU.js";import{i as $}from"./chunk-SEDBTTTN.js";function yn(o,r){if(o&1){let e=T();a(0,"button",10),M("click",function(){m(e);let t=C();return u(t.onActionButtonEditRow())}),d(1),h(2,"translate"),s()}o&2&&(n(),g(" ",_(2,1,"ACTION.EDIT")," "))}function En(o,r){if(o&1){let e=T();a(0,"button",4),M("click",function(){m(e);let t=C();return u(t.onActionBackToParent())}),d(1),h(2,"translate"),s()}o&2&&(n(),g(" ",_(2,1,"ACTION.BACK")," "))}function wn(o,r){if(o&1&&(a(0,"p"),d(1),s()),o&2){let e=C().$implicit;n(),g(" ",e.approvedExpireDate," ")}}function Rn(o,r){if(o&1&&(a(0,"p"),d(1),s()),o&2){let e=C().$implicit;n(),g(" ",e.typeDescription," ")}}function An(o,r){if(o&1&&(a(0,"p"),d(1),s()),o&2){let e=C().$implicit;n(),g(" ",e.approvedResult," ")}}function Dn(o,r){if(o&1){let e=T();a(0,"button",4),M("click",function(){m(e);let t=C().$implicit,l=C();return u(l.onActionButtonEditRow(t))}),d(1),h(2,"translate"),s()}o&2&&(n(),g(" ",_(2,1,"ACTION.SEND_DOCUMENTS")," "))}function Un(o,r){if(o&1&&(a(0,"div",9)(1,"mat-card",11)(2,"mat-card-header"),b(3,"div",12),a(4,"mat-card-title"),b(5,"i",1),h(6,"boolclass"),d(7),h(8,"translate"),s(),a(9,"mat-card-subtitle"),d(10),s()(),b(11,"img",13),a(12,"mat-card-content"),v(13,wn,2,1,"p"),v(14,Rn,2,1,"p"),v(15,An,2,1,"p"),s(),a(16,"mat-card-actions"),v(17,Dn,3,3,"button",6),s()()()),o&2){let e=r.$implicit;n(3),qo(Xe("background-image: url('",e.typeLinkMainImageIdSrc,"'); background-size: cover;")),n(2),f("ngClass",_(6,14,e.isApproved)),n(2),g(" ",_(8,16,"ACTION.STATUS")),n(3),U(e.typeTitle),n(),f("src",x(e.linkFileContentIdSrc),Ce)("alt",x(e.typeTitle)),n(2),I(e.isApproved&&e.approvedExpireDate?13:-1),n(),I(e.isApproved?-1:14),n(),I(e.approvedResult&&e.approvedResult.length>0?15:-1),n(2),I(e.isApproved?-1:17)}}var Yt=class Yt{constructor(r,e,i,t,l,p,c,w,z,be,Gi){this.coreUserClaimContentService=r;this.publicHelper=e;this.cmsToastrService=i;this.coreUserClaimTypeService=t;this.router=l;this.cmsStoreService=p;this.activatedRoute=c;this.tokenHelper=w;this.cdr=z;this.translate=be;this.dialog=Gi;this.requestLinkUserId=0;this.requestLinkSiteId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.dataModelResult=new L;this.optionsSearch=new mn;this.optionsStatist=new un;this.tokenInfo=new Ko;this.tableRowSelected=new Ro;this.tableSource=new ln;this.fieldsInfo=new Map;this.categoryModelSelected=new ne;this.dataModelCoreUserClaimTypeResult=new L;this.tabledisplayedColumns=["TypeTitle","IsApproved","ApprovedResult","ApproveCheckDate","ApprovedExpireDate","Action"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId"))}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>$(this,null,function*(){this.tokenInfo=r,this.DataGetAll()}))),this.getUserClaimType()}getUserClaimType(){let r=new B;r.rowPerPage=100,this.coreUserClaimTypeService.ServiceGetAll(r).subscribe({next:e=>{this.dataModelCoreUserClaimTypeResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetAll(){this.onActionTableRowSelect(new Ro);let r=this.constructor.name+"main";if(this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.requestLinkUserId>0&&this.requestLinkSiteId>0){let e=new Qo;e.userId=this.requestLinkUserId,e.siteId=this.requestLinkSiteId,this.coreUserClaimContentService.setAccessLoad(),this.coreUserClaimContentService.ServiceClaimCheck(e).subscribe({next:i=>{i.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModelResult=i,this.tableSource.data=i.listItems,setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(i.access)},1e3)):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(r)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(r,!1)}})}else this.coreUserClaimContentService.setAccessLoad(),this.coreUserClaimContentService.ServiceClaimCheckCurrent().subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onActionButtonNewRow(){var r="";this.publicHelper.isMobile?r="dialog-fullscreen":r="dialog-min",this.dialog.open(yi,{height:"90%",panelClass:r,enterAnimationDuration:V.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:V.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(r=this.tableRowSelected){if(!r||!r.linkTypeId||r.linkTypeId===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(r),r.linkContentId&&r.linkContentId>0){var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(fo,{height:"90%",panelClass:e,enterAnimationDuration:V.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:V.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.linkContentId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}else{var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(yi,{height:"90%",panelClass:e,enterAnimationDuration:V.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:V.cmsViewConfig.exitAnimationDuration,data:{linkUserClaimTypeId:this.tableRowSelected.linkTypeId}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}}onActionButtonReload(){this.DataGetAll()}onActionTableRowSelect(r){this.tableRowSelected=r,r.expanded||(r.expanded=!1),r.expanded=!r.expanded}onActionBackToParent(){this.router.navigate(["/core/user/"])}};Yt.\u0275fac=function(e){return new(e||Yt)(S(Wt),S(P),S(q),S(oe),S(qe),S(_e),S(Ht),S(Me),S(O),S(N),S(he))},Yt.\u0275cmp=F({type:Yt,selectors:[["app-core-userclaimcontent-checklist"]],standalone:!1,decls:14,vars:8,consts:[[1,"row"],[3,"ngClass"],[1,"ntk-cms-html-list-header"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"title"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"row","loader-container"],[3,"optionsInfoAreaId"],[1,"col-4"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"example-card"],["mat-card-avatar",""],["mat-card-image","",3,"src","alt"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2),v(3,yn,3,3,"button",3),a(4,"button",4),M("click",function(){return i.onActionButtonReload()}),a(5,"mat-icon",5),h(6,"translate"),d(7,"refresh"),s()(),v(8,En,3,3,"button",6),s(),a(9,"div")(10,"div",7),b(11,"app-progress-spinner",8),te(12,Un,18,18,"div",9,ee),s()()()()),e&2&&(n(),f("ngClass","col-xl-12"),n(2),I((i.tableRowSelected==null?null:i.tableRowSelected.linkTypeId)>0?3:-1),n(2),f("title",x(_(6,6,"ACTION.RELOAD"))),n(3),I(i.requestLinkUserId>0?8:-1),n(3),f("optionsInfoAreaId",i.constructorInfoAreaId),n(),ie(i.dataModelResult.listItems))},dependencies:[He,Zo,on,an,en,nn,rn,tn,$o,ge,K,j,Qt],styles:[".width[_ngcontent-%COMP%]{width:100%}"]});var Ei=Yt;var xn=["vform"];function kn(o,r){if(o&1){let e=T();a(0,"app-cms-enum-record-status-selector",38),D("modelChange",function(t){m(e);let l=C();return A(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),s()}if(o&2){let e=C();R("model",e.dataModel.recordStatus),f("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ln(o,r){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),s()()),o&2){let e=C();n(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),n(2),U(_(4,2,"MESSAGE.required"))}}function Vn(o,r){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),s()()),o&2){let e=C();n(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),n(2),U(_(4,2,"MESSAGE.required"))}}function Bn(o,r){if(o&1&&(a(0,"option",20),d(1),s()),o&2){let e=r.$implicit;f("ngValue",e.value),n(),g(" ",e.description," ")}}function Fn(o,r){o&1&&(a(0,"mat-error"),d(1," Kind is "),a(2,"strong"),d(3),h(4,"translate"),s()()),o&2&&(n(3),U(_(4,1,"MESSAGE.required")))}function On(o,r){if(o&1&&(b(0,"img",30),h(1,"cmsthumbnail")),o&2){let e=C();f("src",x(_(1,2,e.dataModel.linkMainImageIdSrc)),Ce)}}function Nn(o,r){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),s()()),o&2){let e=C();n(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),n(2),U(_(4,2,"MESSAGE.required"))}}function Pn(o,r){if(o&1){let e=T();a(0,"div",37)(1,"button",39),M("click",function(){m(e);let t=C();return u(t.onFormCancel())}),b(2,"i",40),d(3),h(4,"translate"),s(),a(5,"button",41),b(6,"i",42),d(7),h(8,"translate"),s()()}if(o&2){C();let e=G(10);n(3),g(" ",_(4,3,"ACTION.CANCEL")," "),n(2),f("disabled",!e.form.valid),n(2),g(" ",_(8,5,"ACTION.SAVE")," ")}}var ti=class ti extends Kt{constructor(e,i,t,l,p,c,w,z){super(l,new ne,p,z);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreUserClaimTypeService=l;this.publicHelper=p;this.cmsToastrService=c;this.cdr=w;this.translate=z;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new L;this.dataModel=new ne;this.formInfo=new Fe;this.dataModelEnumUserClaimKindsResult=new L;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.getEnumUserClaimKinds()}getEnumUserClaimKinds(){this.coreEnumService.ServiceUserClaimKindsEnum().subscribe({next:e=>{this.dataModelEnumUserClaimKindsResult=e}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreUserClaimTypeService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ti.\u0275fac=function(i){return new(i||ti)(S(Ve),S(Le),S(W),S(oe),S(P),S(q),S(O),S(N))},ti.\u0275cmp=F({type:ti,selectors:[["app-core-userclaimtype-add"]],viewQuery:function(i,t){if(i&1&&Ie(xn,5),i&2){let l;Te(l=ye())&&(t.formGroup=l.first)}},standalone:!1,features:[J],decls:67,vars:55,consts:[["vform","ngForm"],["Title",""],["TitleResourceLanguage",""],["Kind","ngModel"],["LinkMainImageId",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.kind","name","dataModel.kind",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.dismissOnEdit",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.dismissOnEdit","name","dataModel.dismissOnEdit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.dismissOnEdit",1,"custom-control-label"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"mb-9"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","name","dataModel.linkMainImageId","type","text","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=T();a(0,"div",6),b(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),d(4),s(),a(5,"p"),d(6),h(7,"translate"),s(),b(8,"app-cms-form-result-message",10),a(9,"form",11,0),M("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(11,kn,1,5,"app-cms-enum-record-status-selector",12),a(12,"div",13)(13,"label",14),d(14),s(),a(15,"input",15,1),D("ngModelChange",function(c){return m(l),A(t.dataModel.title,c)||(t.dataModel.title=c),u(c)}),s(),a(17,"em"),d(18),s(),v(19,Ln,5,4,"mat-error"),s(),a(20,"div",13)(21,"label",16),d(22),s(),a(23,"input",17,2),D("ngModelChange",function(c){return m(l),A(t.dataModel.titleResourceLanguage,c)||(t.dataModel.titleResourceLanguage=c),u(c)}),s(),a(25,"em"),d(26),s(),v(27,Vn,5,4,"mat-error"),s(),a(28,"div",18)(29,"select",19,3),D("ngModelChange",function(c){return m(l),A(t.dataModel.kind,c)||(t.dataModel.kind=c),u(c)}),te(31,Bn,2,2,"option",20,ee),s(),a(33,"em"),d(34),h(35,"translate"),s(),v(36,Fn,5,3,"mat-error"),s(),a(37,"div",21)(38,"div",22)(39,"h5",23),d(40),s()(),a(41,"div",24)(42,"div",25)(43,"input",26),D("ngModelChange",function(c){return m(l),A(t.dataModel.dismissOnEdit,c)||(t.dataModel.dismissOnEdit=c),u(c)}),s(),b(44,"label",27),s()()(),a(45,"div",28)(46,"a",29),h(47,"cmsthumbnail"),v(48,On,2,4,"img",30),s()(),a(49,"div",31)(50,"div",13)(51,"label",32),M("click",function(){return m(l),u(t.fileManagerOpenForm=!0)}),d(52),h(53,"translate"),s(),a(54,"input",33,4),h(56,"translate"),D("ngModelChange",function(c){return m(l),A(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),u(c)}),M("click",function(){return m(l),u(t.fileManagerOpenForm=!0)}),s()(),a(57,"cms-file-manager",34),M("itemSelected",function(c){return m(l),u(t.onActionFileSelected(c))}),D("openFormChange",function(c){return m(l),A(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),u(c)}),s()(),a(58,"div",13)(59,"label",35),d(60),s(),a(61,"textarea",36,5),D("ngModelChange",function(c){return m(l),A(t.dataModel.description,c)||(t.dataModel.description=c),u(c)}),s(),a(63,"em"),d(64),s(),v(65,Nn,5,4,"mat-error"),s(),v(66,Pn,9,7,"div",37),s()()()}if(i&2){let l=G(16),p=G(24),c=G(30),w=G(62);n(),f("optionsInfoAreaId",t.constructorInfoAreaId),n(3),g(" ",t.formInfo.formTitle," "),n(2),g(" ",_(7,45,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),f("formInfo",t.formInfo),n(3),I(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),n(3),U(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),n(),f("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),R("ngModel",t.dataModel.title),n(3),g("",l.value.length," / 100"),n(),I(l.errors!=null&&l.errors.required?19:-1),n(3),U(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),n(),f("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),R("ngModel",t.dataModel.titleResourceLanguage),f("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessAddField)),n(3),g("",p.value.length," / 100"),n(),I(p.errors!=null&&p.errors.required?27:-1),n(2),R("ngModel",t.dataModel.kind),n(2),ie(t.dataModelEnumUserClaimKindsResult.listItems),n(3),U(_(35,47,"TITLE.Select_type_of_content")),n(2),I(c.errors!=null&&c.errors.required?36:-1),n(4),g(" ",t.fieldsInfo.dismissOnEdit==null?null:t.fieldsInfo.dismissOnEdit.fieldTitle," "),n(3),R("ngModel",t.dataModel.dismissOnEdit),n(3),f("href",x(_(47,49,t.dataModel.linkMainImageIdSrc)),Ce),n(2),I((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?48:-1),n(4),g("",_(53,51,"TITLE.Sample_File")," "),n(2),f("placeholder",x(_(56,53,"TITLE.Original_File_ID"))),R("ngModel",t.dataModel.linkMainImageId),n(3),f("language",t.appLanguage)("isPopup",!0),R("openForm",t.fileManagerOpenForm),f("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),n(3),U(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),n(),f("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),R("ngModel",t.dataModel.description),n(3),g("",w.value.length," / 500"),n(),I(w.errors!=null&&w.errors.required?65:-1),n(),I(t.formInfo.submitButtonEnabled?66:-1)}},dependencies:[Ge,nt,rt,Re,Wi,ot,de,Ae,xe,at,lt,Ue,De,st,Z,Ne,K,Oe,ro,j,yt],encapsulation:2});var ii=ti;function qn(o,r){if(o&1){let e=T();a(0,"li")(1,"mat-checkbox",0),M("change",function(){let t=m(e).$implicit,l=C();return u(l.onActionSelect(t))}),d(2),s()()}if(o&2){let e=r.$implicit,i=C();n(),f("checked",i.fieldsStatus.get(e.id))("disabled",i.optionDisabled),n(),g(" ",e.titleML," ")}}var oi=class oi{constructor(r,e,i,t,l,p){this.coreEnumService=r;this.categoryService=e;this.cdr=i;this.publicHelper=t;this.translate=l;this.cmsToastrService=p;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new L;this.dataModelSelect=[];this.dataIdsSelect=[];this.formControl=new it;this.fieldsStatus=new Map;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionChange=new le;this.optionSelectAdded=new le;this.optionSelectRemoved=new le;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(r){this.onActionSelectForce(r)}ngOnInit(){this.DataGetAll()}DataGetAll(){let r=new B;r.rowPerPage=50,r.accessLoad=!0;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(r).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataModelResult.listItems.forEach(t=>this.fieldsStatus.set(t.id,!1)),this.dataIdsSelect.forEach(t=>this.fieldsStatus.set(t,!0)),this.dataModelResult.listItems.forEach(t=>{this.fieldsStatus.get(t.id)&&this.dataModelSelect.push(t)})):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelect(r){this.fieldsStatus.get(r.id)?(this.fieldsStatus.set(r.id,!1),this.optionSelectRemoved.emit(r),this.dataModelSelect.splice(this.dataModelSelect.indexOf(r),1)):(this.fieldsStatus.set(r.id,!0),this.optionSelectAdded.emit(r),this.dataModelSelect.push(r)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(r){typeof r==typeof Array(Number)?r.forEach(e=>{this.dataIdsSelect.push(e)}):typeof r==typeof Array(X)&&r.forEach(e=>{this.dataIdsSelect.push(e.id)}),this.dataIdsSelect.forEach(e=>this.fieldsStatus.set(e,!0))}onActionButtonReload(){this.DataGetAll()}};oi.\u0275fac=function(e){return new(e||oi)(S(W),S(se),S(O),S(P),S(N),S(q))},oi.\u0275cmp=F({type:oi,selectors:[["app-core-userclaimgroup-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},standalone:!1,decls:3,vars:0,consts:[[3,"change","checked","disabled"]],template:function(e,i){e&1&&(a(0,"ul"),te(1,qn,3,3,"li",null,ee),s()),e&2&&(n(),ie(i.dataModelResult.listItems))},dependencies:[Yi],encapsulation:2});var ho=oi;var zn=["vform"];function Jn(o,r){if(o&1){let e=T();a(0,"app-cms-enum-record-status-selector",38),D("modelChange",function(t){m(e);let l=C();return A(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),s()}if(o&2){let e=C();R("model",e.dataModel.recordStatus),f("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Yn(o,r){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),s()()),o&2){let e=C();n(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),n(2),U(_(4,2,"MESSAGE.required"))}}function Xn(o,r){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),s()()),o&2){let e=C();n(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),n(2),U(_(4,2,"MESSAGE.required"))}}function Zn(o,r){if(o&1&&(a(0,"option",25),d(1),s()),o&2){let e=r.$implicit;f("ngValue",e.value),n(),g(" ",e.description," ")}}function $n(o,r){if(o&1){let e=T();a(0,"div",26)(1,"div",39)(2,"h5",40),d(3),s()(),a(4,"div",41)(5,"div",42)(6,"input",43),D("ngModelChange",function(t){m(e);let l=C();return A(l.dataModel.dismissOnEdit,t)||(l.dataModel.dismissOnEdit=t),u(t)}),s(),b(7,"label",44),s()()()}if(o&2){let e=C();n(3),g(" ",e.fieldsInfo.dismissOnEdit==null?null:e.fieldsInfo.dismissOnEdit.fieldTitle," "),n(3),R("ngModel",e.dataModel.dismissOnEdit)}}function er(o,r){if(o&1&&(b(0,"img",29),h(1,"cmsthumbnail")),o&2){let e=C();f("src",x(_(1,2,e.dataModel.linkMainImageIdSrc)),Ce)}}function tr(o,r){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),s()()),o&2){let e=C();n(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),n(2),U(_(4,2,"MESSAGE.required"))}}function ir(o,r){if(o&1){let e=T();a(0,"div",37)(1,"button",45),M("click",function(){m(e);let t=C();return u(t.onFormCancel())}),b(2,"i",46),d(3),h(4,"translate"),s(),a(5,"button",47),b(6,"i",48),d(7),h(8,"translate"),s()()}if(o&2){C();let e=G(10);n(3),g(" ",_(4,3,"ACTION.CANCEL")," "),n(2),f("disabled",!e.form.valid),n(2),g(" ",_(8,5,"ACTION.SAVE")," ")}}var ni=class ni extends zt{constructor(e,i,t,l,p,c,w,z,be){super(l,new ne,c,be);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreUserClaimTypeService=l;this.coreUserClaimGroupDetailService=p;this.publicHelper=c;this.cmsToastrService=w;this.cdr=z;this.translate=be;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new qt;this.dataModel=new ne;this.formInfo=new Fe;this.dataModelEnumUserClaimKindsResult=new L;this.fileManagerOpenForm=!1;this.dataCoreClaimGroupIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetAllCoreUserClaimType(),this.getEnumUserClaimKinds()}getEnumUserClaimKinds(){this.coreEnumService.ServiceUserClaimKindsEnum().subscribe({next:e=>{this.dataModelEnumUserClaimKindsResult=e}})}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreUserClaimTypeService.setAccessLoad(),this.coreUserClaimTypeService.setAccessDataType(jt.Editor),this.coreUserClaimTypeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataGetAllCoreUserClaimType(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"DataGetAllCoreUserClaimType";this.translate.get("MESSAGE.Get_the_list_of_documents").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)});let i=new B,t=new H;t.propertyName="LinkUserClaimTypeId",t.value=this.requestId,i.filters.push(t),this.coreUserClaimGroupDetailService.ServiceGetAll(i).subscribe({next:l=>{this.dataCoreUserClaimGroupDetailModels=l.listItems;let p=[];this.dataCoreUserClaimGroupDetailModels.forEach(c=>{p.push(c.linkUserClaimGroupId)}),this.dataCoreClaimGroupIds=p,l.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.submitResultMessage=c}),this.formInfo.submitResultMessage=l.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(l.errorMessage)),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreUserClaimTypeService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorUserCategorySelect(e){this.dataCoreUserClaimTypeModels=e}onActionSelectorUserCategorySelectAdded(e){let i=new ce;i.linkUserClaimTypeId=e.id,i.linkUserClaimGroupId=this.dataModel.id,i.isRequired=!0,this.coreUserClaimGroupDetailService.ServiceAdd(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onActionSelectorUserCategorySelectRemoved(e){let i=new ce;i.linkUserClaimTypeId=e.id,i.linkUserClaimGroupId=this.dataModel.id,this.coreUserClaimGroupDetailService.ServiceDeleteEntity(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}};ni.\u0275fac=function(i){return new(i||ni)(S(Ve),S(Le),S(W),S(oe),S(we),S(P),S(q),S(O),S(N))},ni.\u0275cmp=F({type:ni,selectors:[["app-core-userclaimtype-edit"]],viewQuery:function(i,t){if(i&1&&Ie(zn,5),i&2){let l;Te(l=ye())&&(t.formGroup=l.first)}},standalone:!1,features:[J],decls:68,vars:65,consts:[["vform","ngForm"],["stepper",""],["Title",""],["TitleResourceLanguage",""],["Kind","ngModel"],["LinkMainImageId",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","cmsKeyboardForce","en","name","dataModel.titleML","type","text","id","dataModel.titleML",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","id","dataModel.titleResourceLanguage","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.kind","name","dataModel.kind",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue"],[1,"d-flex","mb-3"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"mb-9"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","name","dataModel.linkMainImageId","type","text","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"pt-1"],["data-trigger-switch","dataModel.dismissOnEdit",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.dismissOnEdit","name","dataModel.dismissOnEdit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.dismissOnEdit",1,"custom-control-label"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=T();a(0,"div",7),b(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),d(4),s(),a(5,"p"),d(6),h(7,"translate"),s(),b(8,"app-cms-form-result-message",11),a(9,"form",12,0),M("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),a(11,"mat-vertical-stepper",13,1),M("selectionChange",function(c){m(l);let w=G(12);return u(t.onStepClick(c,w))}),a(13,"mat-step",14),h(14,"translate"),v(15,Jn,1,5,"app-cms-enum-record-status-selector",15),a(16,"div",16)(17,"label",17),d(18),s(),a(19,"input",18,2),D("ngModelChange",function(c){return m(l),A(t.dataModel.title,c)||(t.dataModel.title=c),u(c)}),s(),a(21,"em"),d(22),s(),v(23,Yn,5,4,"mat-error"),s(),a(24,"div",16)(25,"label",19),d(26),h(27,"translate"),s(),a(28,"input",20),D("ngModelChange",function(c){return m(l),A(t.dataModel.titleML,c)||(t.dataModel.titleML=c),u(c)}),s()(),a(29,"div",16)(30,"label",21),d(31),s(),a(32,"input",22,3),D("ngModelChange",function(c){return m(l),A(t.dataModel.titleResourceLanguage,c)||(t.dataModel.titleResourceLanguage=c),u(c)}),s(),a(34,"em"),d(35),s(),v(36,Xn,5,4,"mat-error"),s(),a(37,"div",23)(38,"select",24,4),D("ngModelChange",function(c){return m(l),A(t.dataModel.kind,c)||(t.dataModel.kind=c),u(c)}),te(40,Zn,2,2,"option",25,ee),s()(),v(42,$n,8,2,"div",26),a(43,"div",27)(44,"a",28),h(45,"cmsthumbnail"),v(46,er,2,4,"img",29),s()(),a(47,"div",30)(48,"div",16)(49,"label",31),M("click",function(){return m(l),u(t.fileManagerOpenForm=!0)}),d(50),h(51,"translate"),s(),a(52,"input",32,5),h(54,"translate"),D("ngModelChange",function(c){return m(l),A(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),u(c)}),M("click",function(){return m(l),u(t.fileManagerOpenForm=!0)}),s()(),a(55,"cms-file-manager",33),M("itemSelected",function(c){return m(l),u(t.onActionFileSelected(c))}),D("openFormChange",function(c){return m(l),A(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),u(c)}),s()(),a(56,"div",16)(57,"label",34),d(58),s(),a(59,"textarea",35,6),D("ngModelChange",function(c){return m(l),A(t.dataModel.description,c)||(t.dataModel.description=c),u(c)}),s(),a(61,"em"),d(62),s(),v(63,tr,5,4,"mat-error"),s()(),a(64,"mat-step",14),h(65,"translate"),a(66,"app-core-userclaimgroup-selectionlist",36),M("optionChange",function(c){return m(l),u(t.onActionSelectorUserCategorySelect(c))})("optionSelectAdded",function(c){return m(l),u(t.onActionSelectorUserCategorySelectAdded(c))})("optionSelectRemoved",function(c){return m(l),u(t.onActionSelectorUserCategorySelectRemoved(c))}),s()()(),v(67,ir,9,7,"div",37),s()()()}if(i&2){let l=G(20),p=G(33),c=G(60);n(),f("optionsInfoAreaId",t.constructorInfoAreaId),n(3),g(" ",t.formInfo.formTitle," "),n(2),g(" ",_(7,51,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),f("formInfo",t.formInfo),n(5),f("label",x(_(14,53,"TITLE.Details_Claim"))),n(2),I(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?15:-1),n(3),U(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),n(),f("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),R("ngModel",t.dataModel.title),n(3),g("",l.value.length," / 100"),n(),I(l.errors!=null&&l.errors.required?23:-1),n(3),g(" ",_(27,55,"TITLE.TitleML")),n(2),R("ngModel",t.dataModel.titleML),f("disabled",!0),n(3),U(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),n(),f("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),R("ngModel",t.dataModel.titleResourceLanguage),f("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessEditField)),n(3),g("",p.value.length," / 100"),n(),I(p.errors!=null&&p.errors.required?36:-1),n(2),R("ngModel",t.dataModel.kind),n(2),ie(t.dataModelEnumUserClaimKindsResult.listItems),n(2),I(t.fieldsInfo.dismissOnEdit!=null&&t.fieldsInfo.dismissOnEdit.accessWatchField?42:-1),n(2),f("href",x(_(45,57,t.dataModel.linkMainImageIdSrc)),Ce),n(2),I((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?46:-1),n(4),g("",_(51,59,"TITLE.Sample_File")," "),n(2),f("placeholder",x(_(54,61,"TITLE.Original_File_ID"))),R("ngModel",t.dataModel.linkMainImageId),n(3),f("language",t.appLanguage)("isPopup",!0),R("openForm",t.fileManagerOpenForm),f("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),n(3),U(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),n(),f("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),R("ngModel",t.dataModel.description),n(3),g("",c.value.length," / 500"),n(),I(c.errors!=null&&c.errors.required?63:-1),n(),f("label",x(_(65,63,"TITLE.Get_Used"))),n(2),f("optionSelectForce",t.dataCoreClaimGroupIds)("optionDisabled",!1),n(),I(t.formInfo.submitButtonEnabled?67:-1)}},dependencies:[Ge,nt,rt,Re,Wi,ot,de,Ae,xe,at,lt,Ue,De,st,Z,Xi,Zi,Ne,K,Oe,lo,ao,ro,ho,j,yt],encapsulation:2});var ri=ni;function rr(o,r){if(o&1){let e=T();a(0,"button",13),M("click",function(){m(e);let t=C();return u(t.onActionAdd())}),d(1),h(2,"translate"),s()}o&2&&(n(),g(" ",_(2,1,"ACTION.ADD")," "))}function ar(o,r){if(o&1){let e=T();a(0,"button",14),M("click",function(){m(e);let t=C();return u(t.onActionEdit())}),d(1),h(2,"translate"),s()}o&2&&(n(),g(" ",_(2,1,"ACTION.EDIT")," "))}function lr(o,r){if(o&1){let e=T();a(0,"button",15),M("click",function(){m(e);let t=C();return u(t.onActionButtonReload())}),a(1,"mat-icon",16),h(2,"translate"),d(3,"refresh"),s()()}if(o&2){let e=C();n(),Q("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),f("title",x(_(2,4,"ACTION.RELOAD")))}}function sr(o,r){if(o&1){let e=T();a(0,"mat-tree-node",17),b(1,"button",18),a(2,"span",19),M("click",function(){let t=m(e).$implicit,l=C();return u(l.onActionSelect(t))}),d(3),s()()}if(o&2){let e=r.$implicit,i=C();Q("ntk-tree-selected",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),n(3),U(e.titleML)}}function cr(o,r){if(o&1){let e=T();a(0,"mat-tree-node",20)(1,"button",21)(2,"mat-icon",22),d(3),s()(),a(4,"span",19),M("click",function(){let t=m(e).$implicit,l=C();return u(l.onActionSelect(t))}),d(5),s()()}if(o&2){let e=r.$implicit,i=C(),t=G(11);Q("ntk-tree-selected",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),f("cdkTreeNodeTypeaheadLabel",e.titleML)("isExpanded",e.isExpanded??!1),n(),Ye("type","button")("aria-label","Toggle "+e.titleML),n(2),g(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),n(2),U(e.titleML)}}var ai=class ai{constructor(r,e,i,t,l,p,c,w,z){this.cmsToastrService=r;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=l;this.publicHelper=p;this.tokenHelper=c;this.cmsStoreService=w;this.translate=z;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new ne;this.dataModelResult=new L;this.filterModel=new B;this.dataSource=new no;this.optionChange=new le;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(r,e)=>!1;this.childrenAccessor=r=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(r){this.onActionSelectForce(r)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>$(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onActionSelect(r){r&&this.dataModelSelect&&r.id==this.dataModelSelect.id?(this.dataModelSelect=null,this.optionChange.emit(null)):(this.dataModelSelect=r,this.optionChange.emit(this.dataModelSelect))}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new ne,this.DataGetAll()}onActionSelectForce(r){}onActionAdd(){var r="";this.publicHelper.isMobile?r="dialog-fullscreen":r="dialog-min",this.dialog.open(ii,{height:"90%",panelClass:r,enterAnimationDuration:V.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:V.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let r=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(r=this.dataModelSelect.id),r===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(ri,{height:"90%",panelClass:e,enterAnimationDuration:V.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:V.cmsViewConfig.exitAnimationDuration,data:{id:r}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}};ai.\u0275fac=function(e){return new(e||ai)(S(q),S(W),S(oe),S(he),S(O),S(P),S(Me),S(_e),S(N))},ai.\u0275cmp=F({type:ai,selectors:[["app-core-userclaimtype-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:15,vars:13,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(a(0,"app-cms-html-tree",1),y(1,2),d(2),h(3,"translate"),E(),y(4,3),v(5,rr,3,3,"button",4),v(6,ar,3,3,"button",5),v(7,lr,4,6,"button",6),E(),y(8,7),b(9,"app-progress-spinner",8),a(10,"mat-tree",9,0),k(12,sr,4,3,"mat-tree-node",10)(13,cr,6,8,"mat-tree-node",11),s(),E(),ve(14,12),s()),e&2&&(f("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),n(2),g(" ",_(3,11,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),n(3),I(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow?5:-1),n(),I(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0?6:-1),n(),I(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow?7:-1),n(2),f("optionsInfoAreaId",i.constructorInfoAreaId),n(),f("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),n(3),f("matTreeNodeDefWhen",i.hasChild))},dependencies:[ke,ge,eo,to,oo,io,$i,K,so,j],encapsulation:2});var go=ai;var pr=()=>["expandedTitle"],mr=()=>[5,10,20,100],ur=o=>({display:o}),fr=o=>({background:o});function Cr(o,r){if(o&1&&b(0,"app-core-user-header",3),o&2){let e=C();f("optionId",e.requestLinkUserId)}}function Sr(o,r){if(o&1){let e=T();a(0,"a",51),M("click",function(){m(e);let t=C();return u(t.onActionBackToParent())}),b(1,"i",52),s()}}function hr(o,r){if(o&1){let e=T();a(0,"div",18)(1,"a",53),M("click",function(){m(e);let t=C();return u(t.onActionButtonNewRow())}),b(2,"i",54)(3,"br"),s(),a(4,"p",21),d(5),h(6,"translate"),s()()}o&2&&(n(5),g(" ",_(6,1,"ACTION.ADD")," "))}function gr(o,r){if(o&1){let e=T();a(0,"div",18)(1,"a",55),M("click",function(){m(e);let t=C();return u(t.onActionButtonEditRow(t.tableRowSelected))}),b(2,"i",56)(3,"br"),s(),a(4,"p",21),d(5),h(6,"translate"),s()()}o&2&&(n(5),g(" ",_(6,1,"ACTION.EDIT")," "))}function _r(o,r){if(o&1){let e=T();a(0,"div",18)(1,"a",57),M("click",function(){m(e);let t=C();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),b(2,"i",58)(3,"br"),s(),a(4,"p",21),d(5),h(6,"translate"),s()()}o&2&&(n(5),g(" ",_(6,1,"ACTION.DELETE")," "))}function Mr(o,r){if(o&1){let e=T();a(0,"mat-row",59),M("click",function(t){let l=m(e).$implicit,p=C();return u(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,p=C();return u(p.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=C();return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=C();return u(l.onActionTableRowMouseLeave(t))}),s()}if(o&2){let e=r.$implicit,i=C();Q("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function br(o,r){o&1&&(a(0,"mat-header-cell",60),d(1),h(2,"translate"),s()),o&2&&(n(),g(" ",_(2,1,"TITLE.PICTURE")," "))}function vr(o,r){if(o&1&&b(0,"img",61),o&2){let e=C().$implicit;f("src",x(e.linkFileContentId),Ce)}}function Ir(o,r){if(o&1&&(a(0,"mat-cell"),v(1,vr,1,2,"img",61),s()),o&2){let e=r.$implicit;n(),I((e==null||e.linkFileContentId==null?null:e.linkFileContentId.length)>0?1:-1)}}function Tr(o,r){if(o&1&&(a(0,"mat-header-cell",60),d(1),s()),o&2){let e=C();n(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function yr(o,r){if(o&1&&(a(0,"mat-cell"),d(1),s()),o&2){let e=r.$implicit;n(),g(" ",e.id," ")}}function Er(o,r){if(o&1&&(a(0,"mat-header-cell",60),d(1),s()),o&2){let e=C();n(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function wr(o,r){if(o&1&&(a(0,"mat-cell"),d(1),s()),o&2){let e=r.$implicit;n(),g(" ",e.title," ")}}function Rr(o,r){if(o&1&&(a(0,"mat-header-cell",60),d(1),s()),o&2){let e=C();n(),g(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ar(o,r){if(o&1&&(a(0,"mat-cell"),d(1),h(2,"cmssiteinfo"),h(3,"async"),s()),o&2){let e=r.$implicit;n(),g(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function Dr(o,r){if(o&1&&(a(0,"mat-header-cell",60),d(1),s()),o&2){let e=C();n(),g(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Ur(o,r){if(o&1&&(a(0,"mat-cell"),d(1),h(2,"cmsuserinfo"),h(3,"async"),s()),o&2){let e=r.$implicit;n(),g(" ",_(3,3,_(2,1,e.linkUserId))," ")}}function Gr(o,r){if(o&1&&(a(0,"mat-header-cell",60),d(1),s()),o&2){let e=C();n(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function xr(o,r){if(o&1&&b(0,"select",63),o&2){let e=C().$implicit,i=C();f("contentService",i.contentService)("row",e)("ngStyle",ze(3,ur,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function kr(o,r){if(o&1&&(a(0,"mat-cell",62),h(1,"statusCellClass"),b(2,"i",62),h(3,"statusIconClass"),v(4,xr,1,5,"select",63),s()),o&2){let e=r.$implicit,i=C();f("ngClass",_(1,3,e.recordStatus)),n(2),f("ngClass",_(3,5,e.recordStatus)),n(2),I(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function Lr(o,r){if(o&1&&(a(0,"mat-header-cell",60),d(1),s()),o&2){let e=C();n(),g(" ",e.fieldsInfo.linkUserClaimTypeId==null?null:e.fieldsInfo.linkUserClaimTypeId.fieldTitle," ")}}function Vr(o,r){if(o&1&&(a(0,"mat-cell"),d(1),h(2,"cmstitle"),s()),o&2){let e=r.$implicit,i=C();n(),U(Ee(2,1,e.linkUserClaimTypeId,i.dataModelCoreUserClaimTypeResult.listItems))}}function Br(o,r){if(o&1&&(a(0,"mat-header-cell",60),d(1),s()),o&2){let e=C();n(),g(" ",e.fieldsInfo.isApproved==null?null:e.fieldsInfo.isApproved.fieldTitle," ")}}function Fr(o,r){if(o&1&&(a(0,"mat-cell"),b(1,"i",62),h(2,"boolclass"),s()),o&2){let e=r.$implicit;n(),f("ngClass",_(2,1,e.isApproved))}}function Or(o,r){if(o&1&&(a(0,"mat-header-cell",60),d(1),s()),o&2){let e=C();n(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Nr(o,r){if(o&1&&(a(0,"mat-cell"),d(1),h(2,"localeDate"),s()),o&2){let e=r.$implicit;n(),g(" ",_(2,1,e.createdDate)," ")}}function Pr(o,r){if(o&1&&(a(0,"mat-header-cell",60),d(1),s()),o&2){let e=C();n(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Hr(o,r){if(o&1&&(a(0,"mat-cell"),d(1),h(2,"localeDate"),s()),o&2){let e=r.$implicit;n(),g(" ",_(2,1,e.updatedDate)," ")}}function qr(o,r){if(o&1&&(a(0,"mat-header-cell",60),d(1),s()),o&2){let e=C();n(),g(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function jr(o,r){if(o&1&&(a(0,"mat-cell",64),d(1),h(2,"persianDate"),s()),o&2){let e=r.$implicit,i=C();f("ngStyle",ze(4,fr,i.publicHelper.RowStyleExpireDate(e.expireDate))),n(),g(" ",_(2,2,e.expireDate)," ")}}function Wr(o,r){o&1&&(a(0,"mat-header-cell"),d(1),h(2,"translate"),s()),o&2&&(n(),g(" ",_(2,1,"TITLE.OPTION")," "))}function Qr(o,r){if(o&1&&(a(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),d(3,"more_vert"),s()(),b(4,"mat-menu",null,2),s()),o&2){let e=G(5);n(),f("matMenuTriggerFor",e)}}function Kr(o,r){o&1&&b(0,"mat-header-row")}function zr(o,r){if(o&1){let e=T();a(0,"mat-row",67),M("click",function(t){let l=m(e).$implicit,p=C();return u(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,p=C();return u(p.onActionTableRowSelect(l,t))}),s()}if(o&2){let e=r.$implicit,i=C();Q("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Jr(o,r){if(o&1&&(a(0,"mat-cell"),d(1),h(2,"translate"),h(3,"cmsuserinfo"),h(4,"async"),b(5,"br"),d(6),h(7,"translate"),h(8,"cmssiteinfo"),h(9,"async"),b(10,"br"),d(11),h(12,"translate"),h(13,"localeDate"),b(14,"br"),d(15),h(16,"translate"),h(17,"localeDate"),b(18,"br"),d(19),h(20,"translate"),h(21,"localeDate"),s()),o&2){let e=r.$implicit;n(),Nt(" ",_(2,10,"TITLE.User_Id")," : ",_(4,14,_(3,12,e.linkUserId))," "),n(5),Nt(" ",_(7,16,"TITLE.Site_Id")," : ",_(9,20,_(8,18,e.linkSiteId))," "),n(5),Nt(" ",_(12,22,"TITLE.CreationDate")," : ",_(13,24,e.createdDate)," "),n(4),Nt(" ",_(16,26,"TITLE.DateOfUpdate")," : ",_(17,28,e.updatedDate)," "),n(4),Nt(" ",_(20,30,"TITLE.Expire_Date")," : ",_(21,32,e.expireDate)," ")}}var li=class li extends Et{constructor(e,i,t,l,p,c,w,z,be,Gi,vi,Ii,Ti){super(e,new wo,Ii,c,be);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.coreUserClaimTypeService=l;this.router=p;this.tokenHelper=c;this.activatedRoute=w;this.cdr=z;this.translate=be;this.pageInfo=Gi;this.cmsStoreService=vi;this.publicHelper=Ii;this.dialog=Ti;this.requestLinkUserClaimTypeId=0;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new B;this.filterDataModelQueryBuilder=[];this.categoryModelSelected=new ne;this.dataModelCoreUserClaimTypeResult=new L;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkFileContentId","id","recordStatus","LinkUserClaimTypeId","IsApproved"];this.tabledisplayedColumnsMobileSource=["LinkFileContentId","id","recordStatus","LinkUserClaimTypeId","IsApproved"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkUserClaimTypeId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserClaimTypeId")),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.optionsSearch.parentMethods={onSubmit:ae=>this.onSubmitOptionsSearch(ae)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=Y.Descending,this.requestLinkUserClaimTypeId>0){let ae=new H;ae.propertyName="LinkUserClaimTypeId",ae.value=this.requestLinkUserClaimTypeId,this.filteModelContent.filters.push(ae)}if(this.requestLinkSiteId>0){let ae=new H;ae.propertyName="linkSiteId",ae.value=this.requestLinkSiteId,this.filteModelContent.filters.push(ae)}if(this.requestLinkUserId>0){let ae=new H;ae.propertyName="linkUserId",ae.value=this.requestLinkUserId,this.filteModelContent.filters.push(ae)}}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>$(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getUserClaimType()}getUserClaimType(){let e=new B;e.rowPerPage=100,this.coreUserClaimTypeService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCoreUserClaimTypeResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let i=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new wo);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);if(this.categoryModelSelected&&this.categoryModelSelected.id>0){let t=new H;t.propertyName="LinkUserClaimTypeId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Y.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Y.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Y.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(yi,{height:"90%",panelClass:e,enterAnimationDuration:V.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:V.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(fo,{height:"90%",panelClass:i,enterAnimationDuration:V.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:V.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new B,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonGoToUserClaimList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/core/siteUserClaim/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(w=>{i.set(w,0)}),this.translate.get("MESSAGE.All").subscribe(w=>{i.set(w,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(w=>{this.publicHelper.processService.processStart(t,w,this.constructorInfoAreaId)});let l=this.filterModelCompiler(this.filteModelContent);if(this.categoryModelSelected&&this.categoryModelSelected.id>0){let w=new H;w.propertyName="LinkUserClaimTypeId",w.value=this.categoryModelSelected.id,l.filters.push(w)}this.contentService.ServiceGetCount(l).subscribe({next:w=>{w.isSuccess?(this.translate.get("MESSAGE.All").subscribe(z=>{i.set(z,w.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(w.errorMessage),this.publicHelper.processService.processStop(t)},error:w=>{this.cmsToastrService.typeError(w),this.publicHelper.processService.processStop(t,!1)}});let p=this.filterModelCompiler(this.filteModelContent);if(this.categoryModelSelected&&this.categoryModelSelected.id>0){let w=new H;w.propertyName="LinkUserClaimTypeId",w.value=this.categoryModelSelected.id,p.filters.push(w)}let c=new H;c.propertyName="recordStatus",c.value=$e.Available,p.filters.push(c),this.contentService.ServiceGetCount(p).subscribe({next:w=>{w.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(z=>{i.set(z,w.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(w.errorMessage),this.publicHelper.processService.processStop(t)},error:w=>{this.cmsToastrService.typeError(w),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonModuleList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/core/sitecategorymodule/LinkCmsModuleId",this.tableRowSelected.id])}onActionButtonSiteList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/core/site/list/LinkSiteCategoryId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/userclaim/type/"])}};li.\u0275fac=function(i){return new(i||li)(S(Wt),S(q),S(je),S(oe),S(qe),S(Me),S(Ht),S(O),S(N),S(Tt),S(_e),S(P),S(he))},li.\u0275cmp=F({type:li,selectors:[["app-core-userclaimcontent-list"]],standalone:!1,features:[J],decls:89,vars:40,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","LinkFileContentId"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","title"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkUserClaimTypeId"],["matColumnDef","IsApproved"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["matColumnDef","expandedTitle"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=T();v(0,Cr,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),D("optionActionGuideNoticeDisplayChange",function(c){return m(l),A(t.viewGuideNotice,c)||(t.viewGuideNotice=c),u(c)}),M("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionButtonPrintRow())}),y(2,5),a(3,"app-core-userclaimtype-tree",6),M("optionChange",function(c){return m(l),u(t.onActionSelectorSelect(c))}),s(),E(),ve(4,7)(5,8),y(6,9),v(7,Sr,2,0,"a",10),a(8,"a",11),M("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),b(9,"i",12),s(),a(10,"a",11),M("click",function(){return m(l),u(t.onActionButtonReload())}),b(11,"i",13),s(),E(),y(12,14),a(13,"a",15),M("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),b(14,"mat-slide-toggle",16),d(15),h(16,"translate"),s(),a(17,"a",15),M("click",function(){return m(l),u(t.onActionButtonStatist())}),b(18,"mat-slide-toggle",16),d(19),h(20,"translate"),s(),E(),y(21,17),v(22,hr,7,3,"div",18),E(),y(23,19),v(24,gr,7,3,"div",18),v(25,_r,7,3,"div",18),a(26,"div",18)(27,"a",20),M("click",function(){return m(l),u(t.onActionButtonModuleList(t.tableRowSelected))}),a(28,"mat-icon"),d(29,"view_module"),s()(),a(30,"p",21),d(31),h(32,"translate"),s()(),a(33,"div",18)(34,"a",20),M("click",function(){return m(l),u(t.onActionButtonSiteList(t.tableRowSelected))}),b(35,"i",22),s(),a(36,"p",21),d(37),h(38,"translate"),s()(),E(),y(39,23),a(40,"app-cms-search-list",24),D("optionsChange",function(c){return m(l),A(t.optionsSearch,c)||(t.optionsSearch=c),u(c)}),s(),a(41,"app-cms-statist-list",24),D("optionsChange",function(c){return m(l),A(t.optionsStatist,c)||(t.optionsStatist=c),u(c)}),s(),E(),y(42,25),a(43,"mat-table",26,0),M("matSortChange",function(){m(l);let c=G(44);return u(t.onTableSortData(c))}),k(45,Mr,1,2,"mat-row",27),y(46,28),k(47,br,3,3,"mat-header-cell",29)(48,Ir,2,1,"mat-cell",30),E(),y(49,31),k(50,Tr,2,1,"mat-header-cell",29)(51,yr,2,1,"mat-cell",30),E(),y(52,32),k(53,Er,2,1,"mat-header-cell",29)(54,wr,2,1,"mat-cell",30),E(),y(55,33),k(56,Rr,2,1,"mat-header-cell",29)(57,Ar,4,5,"mat-cell",30),E(),y(58,34),k(59,Dr,2,1,"mat-header-cell",29)(60,Ur,4,5,"mat-cell",30),E(),y(61,35),k(62,Gr,2,1,"mat-header-cell",29)(63,kr,5,7,"mat-cell",36),E(),y(64,37),k(65,Lr,2,1,"mat-header-cell",29)(66,Vr,3,4,"mat-cell",30),E(),y(67,38),k(68,Br,2,1,"mat-header-cell",29)(69,Fr,3,3,"mat-cell",30),E(),y(70,39),k(71,Or,2,1,"mat-header-cell",29)(72,Nr,3,3,"mat-cell",30),E(),y(73,40),k(74,Pr,2,1,"mat-header-cell",29)(75,Hr,3,3,"mat-cell",30),E(),y(76,41),k(77,qr,2,1,"mat-header-cell",29)(78,jr,3,6,"mat-cell",42),E(),y(79,43),k(80,Wr,3,3,"mat-header-cell",44)(81,Qr,6,1,"mat-cell",45),E(),k(82,Kr,1,0,"mat-header-row",46)(83,zr,1,2,"mat-row",47),y(84,48),k(85,Jr,22,34,"mat-cell",30),E(),s(),E(),y(86,49),a(87,"mat-paginator",50,1),M("page",function(c){return m(l),u(t.onTablePageingData(c))}),s(),E(),s()}i&2&&(I(t.requestLinkUserId>0?0:-1),n(),f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","userclaim.content.list"),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",t.requestLinkUserClaimTypeId===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),I(t.requestLinkUserClaimTypeId>0?7:-1),n(4),Q("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),f("checked",t.optionsSearch.data.show),n(),g("",_(16,30,"ACTION.SEARCH")," "),n(3),f("checked",t.optionsStatist.data.show),n(),g("",_(20,32,"ACTION.STATIST")," "),n(3),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?22:-1),n(2),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?24:-1),n(),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?25:-1),n(6),g(" ",_(32,34,"ACTION.MODULES")," "),n(6),g(" ",_(38,36,"ACTION.SITES")," "),n(3),R("options",t.optionsSearch),n(),R("options",t.optionsStatist),n(2),f("dataSource",t.tableSource),n(2),f("matRowDefColumns",Ke(38,pr)),n(37),f("matHeaderRowDef",t.tabledisplayedColumns),n(),f("matRowDefColumns",t.tabledisplayedColumns),n(4),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ke(39,mr)))},dependencies:[He,Ze,ke,ge,Z,ct,dt,pt,Be,mt,ut,ft,St,Mt,ht,Ct,bt,gt,_t,vt,It,wt,Rt,At,Dt,Ut,gn,go,Pt,j,Sn,Jt,dn,fn,Cn,Gt,xt,Qt],encapsulation:2});var Bt=li;var Xr=["*"];function Zr(o,r){if(o&1&&(a(0,"label",3),d(1),s()),o&2){let e=C();f("for",Xe("app-cms-site-selector-",e.id)),n(),U(e.optionLabel)}}function $r(o,r){if(o&1&&(a(0,"mat-option",6)(1,"span"),d(2),s()()),o&2){let e=r.$implicit,i=C();f("value",e)("disabled",i.optionDisabled),n(2),U(i.displayOption(e))}}function ea(o,r){o&1&&b(0,"i",7)}function ta(o,r){o&1&&b(0,"i",8)}function ia(o,r){if(o&1){let e=T();a(0,"i",11),M("click",function(){m(e);let t=C();return u(t.onActionSelectClear())}),s()}}function oa(o,r){o&1&&(a(0,"em"),d(1),h(2,"translate"),s()),o&2&&(n(),g("(",_(2,1,"TITLE.Necessary"),")"))}var kt=class kt{constructor(r,e,i,t,l,p){this.coreEnumService=r;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=l;this.categoryService=p;this.id=++kt.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new L;this.dataModelSelect=new X;this.formControl=new it;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new le;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(r){this.onActionSelectForce(r)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Bi(""),Li(1500),Vi(),Fi(r=>typeof r=="string"||typeof r=="number"?this.DataGetAll(r||""):[]))}displayFn(r){return r?r.titleML:void 0}displayOption(r){return r?r.titleML:void 0}DataGetAll(r){return $(this,null,function*(){let e=new B;e.rowPerPage=20,e.accessLoad=!0;let i=new H;i.propertyName="title",i.value=r,i.searchType=tt.Contains,i.clauseType=et.Or,e.filters.push(i),r&&typeof+r=="number"&&+r>0&&(i=new H,i.propertyName="id",i.value=r,i.searchType=tt.Equal,i.clauseType=et.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),yield xi(this.categoryService.ServiceGetAll(e)).then(l=>(this.dataModelResult=l,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),l.listItems))})}onActionSelect(r){this.optionDisabled||(this.dataModelSelect=r,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(r){return this.filteredOptions.pipe(ki(e=>(e.find(i=>i.id===r.id)||e.push(r),e)))}onActionSelectForce(r){if(typeof r=="number"&&r>0){if(this.dataModelSelect&&this.dataModelSelect.id===r)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===r)){let e=this.dataModelResult.listItems.find(i=>i.id===r);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(r).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof r==typeof X){this.filteredOptions=this.push(r),this.dataModelSelect=r,this.formControl.setValue(r);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new X,this.loadOptions()}};kt.nextId=0,kt.\u0275fac=function(e){return new(e||kt)(S(W),S(q),S(O),S(P),S(N),S(se))},kt.\u0275cmp=F({type:kt,selectors:[["app-core-userclaimgroup-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Xr,decls:16,vars:23,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=T();Pi(),a(0,"div",1),b(1,"app-progress-spinner",2),v(2,Zr,2,3,"label",3),b(3,"input",4),a(4,"mat-autocomplete",5,0),M("optionSelected",function(p){return m(t),u(i.onActionSelect(p.option.value))}),te(6,$r,3,3,"mat-option",6,ee),h(8,"async"),s(),v(9,ea,1,0,"i",7),v(10,ta,1,0,"i",8),v(11,ia,1,0,"i",9),a(12,"i",10),h(13,"translate"),M("click",function(){return m(t),u(i.onActionButtonReload())}),s(),v(14,oa,3,3,"em"),Hi(15),s()}if(e&2){let t=G(5);n(),f("optionsInfoAreaId",i.constructorInfoAreaId),n(),I((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),n(),f("placeholder",x(i.optionPlaceholder))("id",Xe("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Ye("disabled",i.optionDisabled?!0:null),n(),f("displayWith",i.displayFn),n(2),ie(_(8,19,i.filteredOptions)),n(3),I(i.formControl.valid?-1:9),n(),I(i.optionRequired&&i.formControl.valid?10:-1),n(),I((i.dataModelSelect==null?null:i.dataModelSelect.id)>0?11:-1),n(),Q("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),f("title",x(_(13,21,"ACTION.RELOAD"))),n(2),I(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id<=0)?14:-1)}},dependencies:[Re,de,xe,Qi,zi,Ki,Ji,Z,K,Pt,j],encapsulation:2});var si=kt;var ra=["vform"];function aa(o,r){if(o&1){let e=T();a(0,"app-cms-enum-record-status-selector",16),D("modelChange",function(t){m(e);let l=C();return A(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),s()}if(o&2){let e=C();R("model",e.dataModel.recordStatus),f("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function la(o,r){if(o&1){let e=T();a(0,"mat-slide-toggle",17),D("ngModelChange",function(t){m(e);let l=C();return A(l.dataModel.isRequired,t)||(l.dataModel.isRequired=t),u(t)}),d(1),s()}if(o&2){let e=C();R("ngModel",e.dataModel.isRequired),f("disabled",!(e.fieldsInfo.isRequired!=null&&e.fieldsInfo.isRequired.accessEditField)),n(),g(" ",e.fieldsInfo.isRequired==null?null:e.fieldsInfo.isRequired.fieldTitle," ")}}function sa(o,r){if(o&1){let e=T();a(0,"div",15)(1,"button",18),M("click",function(){m(e);let t=C();return u(t.onFormCancel())}),b(2,"i",19),d(3),h(4,"translate"),s(),a(5,"button",20),b(6,"i",21),d(7),h(8,"translate"),s()()}if(o&2){C();let e=G(9);n(3),g(" ",_(4,3,"ACTION.CANCEL")," "),n(2),f("disabled",!e.form.valid),n(2),g(" ",_(8,5,"ACTION.SAVE")," ")}}var ci=class ci extends Kt{constructor(e,i,t,l,p,c,w,z){super(l,new ce,p,z);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreUserClaimGroupDetailService=l;this.publicHelper=p;this.cmsToastrService=c;this.cdr=w;this.translate=z;this.requestLinkUserClaimGroupId=0;this.requestLinkUserClaimTypeId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new L;this.dataModel=new ce;this.formInfo=new Fe;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestLinkUserClaimGroupId=+e.linkUserClaimGroupId||0,this.requestLinkUserClaimTypeId=+e.linkUserClaimTypeId||0),this.requestLinkUserClaimGroupId>0&&(this.dataModel.linkUserClaimGroupId=this.requestLinkUserClaimGroupId),this.requestLinkUserClaimTypeId>0&&(this.dataModel.linkUserClaimTypeId=this.requestLinkUserClaimTypeId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreUserClaimGroupDetailService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectClaimGroup(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_category","MESSAGE.group_of_information_documents_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_category"],i["MESSAGE.group_of_information_documents_is_not_clear"])});return}this.dataModel.linkUserClaimGroupId=e.id}onActionSelectClaimType(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_category","MESSAGE.type_of_information_documents_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_category"],i["MESSAGE.type_of_information_documents_is_not_clear"])});return}this.dataModel.linkUserClaimTypeId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ci.\u0275fac=function(i){return new(i||ci)(S(Ve),S(Le),S(W),S(we),S(P),S(q),S(O),S(N))},ci.\u0275cmp=F({type:ci,selectors:[["app-core-userclaimgroupdetail-add"]],viewQuery:function(i,t){if(i&1&&Ie(ra,5),i&2){let l;Te(l=ye())&&(t.formGroup=l.first)}},standalone:!1,features:[J],decls:23,vars:19,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"ntk-full-width"],["name","dataModel.isRequired",3,"ngModel","disabled"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["name","dataModel.isRequired",3,"ngModelChange","ngModel","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=T();a(0,"div",1),b(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),d(4),s(),a(5,"p"),d(6),h(7,"translate"),s(),a(8,"form",5,0),M("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),b(10,"div",6),a(11,"div",7),v(12,aa,1,5,"app-cms-enum-record-status-selector",8),a(13,"app-core-userclaimgroup-selector",9),h(14,"translate"),M("optionChange",function(c){return m(l),u(t.onActionSelectClaimGroup(c))}),s(),a(15,"app-core-userclaimtype-selector",9),h(16,"translate"),M("optionChange",function(c){return m(l),u(t.onActionSelectClaimType(c))}),s(),a(17,"div",10),v(18,la,2,3,"mat-slide-toggle",11),s()(),a(19,"div",12),b(20,"app-cms-form-result-message",13),s(),a(21,"div",14),v(22,sa,9,7,"div",15),s()()()()}i&2&&(n(),f("optionsInfoAreaId",t.constructorInfoAreaId),n(3),g(" ",t.formInfo.formTitle," "),n(2),g(" ",_(7,13,"TITLE.Be_Careful_When_Entering_Information")," "),n(6),I(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?12:-1),n(),f("optionSelectForce",t.dataModel.linkUserClaimGroupId)("optionPlaceholder",_(14,15,"TITLE.DOCUMENT_GROUP"))("optionDisabled",!(t.fieldsInfo.linkUserClaimGroupId!=null&&t.fieldsInfo.linkUserClaimGroupId.accessEditField)),n(2),f("optionSelectForce",t.dataModel.linkUserClaimTypeId)("optionPlaceholder",_(16,17,"TITLE.DOCUMENT_CATEGORY"))("optionDisabled",!(t.fieldsInfo.linkUserClaimTypeId!=null&&t.fieldsInfo.linkUserClaimTypeId.accessEditField)),n(3),I(t.fieldsInfo.isRequired!=null&&t.fieldsInfo.isRequired.accessWatchField?18:-1),n(2),f("formInfo",t.formInfo),n(2),I(t.formInfo.submitButtonEnabled?22:-1))},dependencies:[Ge,de,Ae,Ue,De,Be,Ne,K,Oe,si,uo,j],encapsulation:2});var _o=ci;var ca=["vform"];function da(o,r){if(o&1){let e=T();a(0,"app-cms-enum-record-status-selector",16),D("modelChange",function(t){m(e);let l=C();return A(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),s()}if(o&2){let e=C();R("model",e.dataModel.recordStatus),f("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function pa(o,r){if(o&1){let e=T();a(0,"mat-slide-toggle",17),D("ngModelChange",function(t){m(e);let l=C();return A(l.dataModel.isRequired,t)||(l.dataModel.isRequired=t),u(t)}),d(1),s()}if(o&2){let e=C();R("ngModel",e.dataModel.isRequired),f("disabled",!(e.fieldsInfo.isRequired!=null&&e.fieldsInfo.isRequired.accessEditField)),n(),g(" ",e.fieldsInfo.isRequired==null?null:e.fieldsInfo.isRequired.fieldTitle," ")}}function ma(o,r){if(o&1){let e=T();a(0,"div",15)(1,"button",18),M("click",function(){m(e);let t=C();return u(t.onFormCancel())}),b(2,"i",19),d(3),h(4,"translate"),s(),a(5,"button",20),b(6,"i",21),d(7),h(8,"translate"),s()()}if(o&2){C();let e=G(9);n(3),g(" ",_(4,3,"ACTION.CANCEL")," "),n(2),f("disabled",!e.form.valid),n(2),g(" ",_(8,5,"ACTION.SAVE")," ")}}var di=class di extends zt{constructor(e,i,t,l,p,c,w,z){super(l,new ce,p,z);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreUserClaimGroupDetailService=l;this.publicHelper=p;this.cmsToastrService=c;this.cdr=w;this.translate=z;this.requestModel=new ce;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new qt;this.dataModel=new ce;this.formInfo=new Fe;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestModel=e.model),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestModel&&this.requestModel.linkUserClaimTypeId>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)});let i=new B,t=new H;t.propertyName="LinkUserClaimGroupId",t.value=this.requestModel.linkUserClaimGroupId,i.filters.push(t),t=new H,t.propertyName="LinkUserClaimTypeId",t.value=this.requestModel.linkUserClaimTypeId,i.filters.push(t),this.coreUserClaimGroupDetailService.setAccessLoad(),this.coreUserClaimGroupDetailService.setAccessDataType(jt.Editor),this.coreUserClaimGroupDetailService.ServiceGetAll(i).subscribe({next:l=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),l.isSuccess&&l.listItems.length>0?(this.dataModel=l.listItems[0],this.formInfo.formTitle=this.formInfo.formTitle+" "+this.dataModel.linkUserClaimGroupId+"<-->"+this.dataModel.linkUserClaimTypeId,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(p=>{this.formInfo.submitResultMessage=p}),this.formInfo.submitResultMessage=l.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(l.errorMessage)),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreUserClaimGroupDetailService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectClaimGroup(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_category","MESSAGE.group_of_information_documents_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_category"],i["MESSAGE.group_of_information_documents_is_not_clear"])});return}this.dataModel.linkUserClaimGroupId=e.id}onActionSelectClaimType(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_category","MESSAGE.type_of_information_documents_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_category"],i["MESSAGE.type_of_information_documents_is_not_clear"])});return}this.dataModel.linkUserClaimTypeId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};di.\u0275fac=function(i){return new(i||di)(S(Ve),S(Le),S(W),S(we),S(P),S(q),S(O),S(N))},di.\u0275cmp=F({type:di,selectors:[["app-core-userclaimgroupdetail-edit"]],viewQuery:function(i,t){if(i&1&&Ie(ca,5),i&2){let l;Te(l=ye())&&(t.formGroup=l.first)}},standalone:!1,features:[J],decls:23,vars:19,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"ntk-full-width"],["name","dataModel.isRequired",3,"ngModel","disabled"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["name","dataModel.isRequired",3,"ngModelChange","ngModel","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=T();a(0,"div",1),b(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),d(4),s(),a(5,"p"),d(6),h(7,"translate"),s(),a(8,"form",5,0),M("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),b(10,"div",6),a(11,"div",7),v(12,da,1,5,"app-cms-enum-record-status-selector",8),a(13,"app-core-userclaimgroup-selector",9),h(14,"translate"),M("optionChange",function(c){return m(l),u(t.onActionSelectClaimGroup(c))}),s(),a(15,"app-core-userclaimtype-selector",9),h(16,"translate"),M("optionChange",function(c){return m(l),u(t.onActionSelectClaimType(c))}),s(),a(17,"div",10),v(18,pa,2,3,"mat-slide-toggle",11),s()(),a(19,"div",12),b(20,"app-cms-form-result-message",13),s(),a(21,"div",14),v(22,ma,9,7,"div",15),s()()()()}i&2&&(n(),f("optionsInfoAreaId",t.constructorInfoAreaId),n(3),g(" ",t.formInfo.formTitle," "),n(2),g(" ",_(7,13,"TITLE.Be_Careful_When_Entering_Information")," "),n(6),I(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?12:-1),n(),f("optionSelectForce",t.dataModel.linkUserClaimGroupId)("optionPlaceholder",_(14,15,"TITLE.DOCUMENT_GROUP"))("optionDisabled",!(t.fieldsInfo.linkUserClaimGroupId!=null&&t.fieldsInfo.linkUserClaimGroupId.accessEditField)),n(2),f("optionSelectForce",t.dataModel.linkUserClaimTypeId)("optionPlaceholder",_(16,17,"TITLE.DOCUMENT_CATEGORY"))("optionDisabled",!(t.fieldsInfo.linkUserClaimTypeId!=null&&t.fieldsInfo.linkUserClaimTypeId.accessEditField)),n(3),I(t.fieldsInfo.isRequired!=null&&t.fieldsInfo.isRequired.accessWatchField?18:-1),n(2),f("formInfo",t.formInfo),n(2),I(t.formInfo.submitButtonEnabled?22:-1))},dependencies:[Ge,de,Ae,Ue,De,Be,Ne,K,Oe,si,uo,j],encapsulation:2});var Mo=di;var ua=["*"];function fa(o,r){if(o&1&&(a(0,"label",3),d(1),s()),o&2){let e=C();f("for",Xe("app-cms-site-selector-",e.id)),n(),U(e.optionLabel)}}function Ca(o,r){if(o&1&&(b(0,"img",5),h(1,"cmsthumbnail")),o&2){let e=C();f("src",x(_(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),Ce)}}function Sa(o,r){if(o&1&&(b(0,"img",5),h(1,"cmsthumbnail")),o&2){let e=C().$implicit;f("src",x(_(1,2,e.linkMainImageIdSrc)),Ce)}}function ha(o,r){if(o&1&&(a(0,"mat-option",8),v(1,Sa,2,4,"img",5),a(2,"span"),d(3),s()()),o&2){let e=r.$implicit,i=C();f("value",e)("disabled",i.optionDisabled),n(),I(e.linkMainImageIdSrc?1:-1),n(2),U(i.displayOption(e))}}function ga(o,r){o&1&&b(0,"i",9)}function _a(o,r){o&1&&b(0,"i",10)}function Ma(o,r){if(o&1){let e=T();a(0,"i",13),M("click",function(){m(e);let t=C();return u(t.onActionSelectClear())}),s()}}function ba(o,r){o&1&&(a(0,"em"),d(1),h(2,"translate"),s()),o&2&&(n(),g("(",_(2,1,"TITLE.Necessary"),")"))}var Lt=class Lt{constructor(r,e,i,t,l){this.coreEnumService=r;this.translate=e;this.cdr=i;this.publicHelper=t;this.categoryService=l;this.id=++Lt.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new L;this.dataModelSelect=new ji;this.formControl=new it;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionRequired=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new le;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(r){this.onActionSelectForce(r)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Bi(""),Li(1500),Vi(),Fi(r=>typeof r=="string"||typeof r=="number"?this.DataGetAll(r):this.DataGetAll("")))}displayFn(r){return r?r.title:void 0}displayOption(r){return r?r.title:void 0}DataGetAll(r){return $(this,null,function*(){let e=new B;if(e.rowPerPage=20,e.accessLoad=!0,r&&r.length>0){let t=new H;t=new H,t.propertyName="SubDomain",t.value=r,t.searchType=tt.Contains,t.clauseType=et.Or,e.filters.push(t),t=new H,t.propertyName="Domain",t.value=r,t.searchType=tt.Contains,t.clauseType=et.Or,e.filters.push(t),t=new H,t.propertyName="title",t.value=r,t.searchType=tt.Contains,t.clauseType=et.Or,e.filters.push(t),r&&typeof+r=="number"&&+r>0&&(t=new H,t.propertyName="id",t.value=r,t.searchType=tt.Equal,t.clauseType=et.Or,e.filters.push(t))}let i=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),yield xi(this.categoryService.ServiceGetAll(e)).then(t=>(this.dataModelResult=t,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(i),t.listItems))})}onActionSelect(r){this.optionDisabled||(this.dataModelSelect=r,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(r){return this.filteredOptions.pipe(ki(e=>(e.find(i=>i.id===r.id)||e.push(r),e)))}onActionSelectForce(r){if(typeof r=="number"&&r>0){if(this.dataModelSelect&&this.dataModelSelect.id===r)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===r)){let e=this.dataModelResult.listItems.find(i=>i.id===r);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(r).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof r==typeof ji){this.filteredOptions=this.push(r),this.dataModelSelect=r,this.formControl.setValue(r);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new ji,this.loadOptions()}};Lt.nextId=0,Lt.\u0275fac=function(e){return new(e||Lt)(S(W),S(N),S(O),S(P),S(zo))},Lt.\u0275cmp=F({type:Lt,selectors:[["app-cms-application-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionRequired:"optionRequired",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:ua,decls:18,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=T();Pi(),a(0,"div",1),b(1,"app-progress-spinner",2),v(2,fa,2,3,"label",3),a(3,"span",4),v(4,Ca,2,4,"img",5),s(),b(5,"input",6),a(6,"mat-autocomplete",7,0),M("optionSelected",function(p){return m(t),u(i.onActionSelect(p.option.value))}),te(8,ha,4,4,"mat-option",8,ee),h(10,"async"),s(),v(11,ga,1,0,"i",9),v(12,_a,1,0,"i",10),v(13,Ma,1,0,"i",11),a(14,"i",12),h(15,"translate"),M("click",function(){return m(t),u(i.onActionButtonReload())}),s(),v(16,ba,3,3,"em"),Hi(17),s()}if(e&2){let t=G(7);n(),f("optionsInfoAreaId",i.constructor.name),n(),I((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),n(2),I(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),n(),f("placeholder",x(i.optionPlaceholder))("id",Xe("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Ye("disabled",i.optionDisabled?!0:null),n(),f("displayWith",i.displayFn),n(2),ie(_(10,20,i.filteredOptions)),n(3),I(i.formControl.valid?-1:11),n(),I(i.optionRequired&&i.formControl.valid?12:-1),n(),I((i.dataModelSelect==null?null:i.dataModelSelect.id)>0?13:-1),n(),Q("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),f("title",x(_(15,22,"ACTION.RELOAD"))),n(2),I(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id<=0)?16:-1)}},dependencies:[Re,de,xe,Qi,zi,Ki,Ji,Xo,Z,K,Pt,j,yt],encapsulation:2});var pi=Lt;var ya=["vform"];function Ea(o,r){if(o&1){let e=T();a(0,"app-cms-enum-record-status-selector",23),D("modelChange",function(t){m(e);let l=C();return A(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),s()}if(o&2){let e=C();R("model",e.dataModel.recordStatus),f("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function wa(o,r){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),s()()),o&2){let e=C();n(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),n(2),U(_(4,2,"MESSAGE.required"))}}function Ra(o,r){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),s()()),o&2){let e=C();n(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),n(2),U(_(4,2,"MESSAGE.required"))}}function Aa(o,r){if(o&1&&(a(0,"option",18),d(1),s()),o&2){let e=r.$implicit;f("value",e.value),n(),g(" ",e.description," ")}}function Da(o,r){o&1&&(a(0,"mat-error"),d(1," ActionType is "),a(2,"strong"),d(3),h(4,"translate"),s()()),o&2&&(n(3),U(_(4,1,"MESSAGE.required")))}function Ua(o,r){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),s()()),o&2){let e=C();n(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),n(2),U(_(4,2,"MESSAGE.required"))}}function Ga(o,r){if(o&1){let e=T();a(0,"div",22)(1,"button",24),M("click",function(){m(e);let t=C();return u(t.onFormCancel())}),b(2,"i",25),d(3),h(4,"translate"),s(),a(5,"button",26),b(6,"i",27),d(7),h(8,"translate"),s()()}if(o&2){C();let e=G(10);n(3),g(" ",_(4,3,"ACTION.CANCEL")," "),n(2),f("disabled",!e.form.valid),n(2),g(" ",_(8,5,"ACTION.SAVE")," ")}}var mi=class mi extends Kt{constructor(e,i,t,l,p,c,w,z){super(l,new X,p,z);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreUserClaimGroupService=l;this.publicHelper=p;this.cmsToastrService=c;this.cdr=w;this.translate=z;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new L;this.dataModel=new X;this.formInfo=new Fe;this.dataModelEnumUserClaimGroupActionTypeResult=new L;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.getEnumUserClaimGroupActionType()}getEnumUserClaimGroupActionType(){this.coreEnumService.ServiceUserClaimGroupActionTypeEnum().subscribe({next:e=>{this.dataModelEnumUserClaimGroupActionTypeResult=e}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreUserClaimGroupService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectApplication(e){if(!e||e.id<=0){this.dataModel.linkApplicationId=null;return}this.dataModel.linkApplicationId=e.id}onActionSelectApplicationSource(e){if(!e||e.id<=0){this.dataModel.linkApplicationSourceId=null;return}this.dataModel.linkApplicationSourceId=e.id}onActionSelectUserGroup(e){if(!e||e.id<=0){this.dataModel.linkUserGroupId=null;return}this.dataModel.linkUserGroupId=e.id}onActionSelectSiteCategory(e){if(this.dataModel.linkSiteCategoryId=null,!e||e.id<=0){this.dataModel.linkSiteCategoryId=null;return}this.dataModel.linkSiteCategoryId=e.id}onActionSelectModuleId(e){this.dataModel.linkModuleId=null,!(!e||e.id<=0)&&(this.dataModel.linkModuleId=e.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};mi.\u0275fac=function(i){return new(i||mi)(S(Ve),S(Le),S(W),S(se),S(P),S(q),S(O),S(N))},mi.\u0275cmp=F({type:mi,selectors:[["app-core-userclaimgroup-add"]],viewQuery:function(i,t){if(i&1&&Ie(ya,5),i&2){let l;Te(l=ye())&&(t.formGroup=l.first)}},standalone:!1,features:[J],decls:57,vars:57,consts:[["vform","ngForm"],["Title",""],["TitleResourceLanguage",""],["ActionType","ngModel"],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["id","dataModel.actionType","name","dataModel.actionType","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=T();a(0,"div",5),b(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),d(4),s(),a(5,"p"),d(6),h(7,"translate"),s(),b(8,"app-cms-form-result-message",9),a(9,"form",10,0),M("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(11,Ea,1,5,"app-cms-enum-record-status-selector",11),a(12,"div",12)(13,"label",13),d(14),s(),a(15,"input",14,1),D("ngModelChange",function(c){return m(l),A(t.dataModel.title,c)||(t.dataModel.title=c),u(c)}),s(),a(17,"em"),d(18),s(),v(19,wa,5,4,"mat-error"),s(),a(20,"div",12)(21,"label",15),d(22),s(),a(23,"input",16,2),D("ngModelChange",function(c){return m(l),A(t.dataModel.titleResourceLanguage,c)||(t.dataModel.titleResourceLanguage=c),u(c)}),s(),a(25,"em"),d(26),s(),v(27,Ra,5,4,"mat-error"),s(),a(28,"div",12)(29,"select",17,3),D("ngModelChange",function(c){return m(l),A(t.dataModel.actionType,c)||(t.dataModel.actionType=c),u(c)}),te(31,Aa,2,2,"option",18,ee),s(),a(33,"em"),d(34),h(35,"translate"),s(),v(36,Da,5,3,"mat-error"),s(),b(37,"hr"),a(38,"app-cms-module-selector",19),h(39,"translate"),M("optionChange",function(c){return m(l),u(t.onActionSelectModuleId(c))}),s(),a(40,"app-cms-sitecategory-selector",19),h(41,"translate"),M("optionChange",function(c){return m(l),u(t.onActionSelectSiteCategory(c))}),s(),a(42,"app-cms-usergroup-selector",19),h(43,"translate"),M("optionChange",function(c){return m(l),u(t.onActionSelectUserGroup(c))}),s(),a(44,"app-cms-application-selector",19),h(45,"translate"),M("optionChange",function(c){return m(l),u(t.onActionSelectApplication(c))}),s(),a(46,"app-cms-application-selector",19),h(47,"translate"),M("optionChange",function(c){return m(l),u(t.onActionSelectApplicationSource(c))}),s(),a(48,"div",12)(49,"label",20),d(50),s(),a(51,"textarea",21,4),D("ngModelChange",function(c){return m(l),A(t.dataModel.description,c)||(t.dataModel.description=c),u(c)}),s(),a(53,"em"),d(54),s(),v(55,Ua,5,4,"mat-error"),s(),v(56,Ga,9,7,"div",22),s()()()}if(i&2){let l=G(16),p=G(24),c=G(30),w=G(52);n(),f("optionsInfoAreaId",t.constructorInfoAreaId),n(3),g(" ",t.formInfo.formTitle," "),n(2),g(" ",_(7,43,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),f("formInfo",t.formInfo),n(3),I(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),n(3),U(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),n(),f("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),R("ngModel",t.dataModel.title),n(3),g("",l.value.length," / 100"),n(),I(l.errors!=null&&l.errors.required?19:-1),n(3),U(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),n(),f("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),R("ngModel",t.dataModel.titleResourceLanguage),f("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessAddField)),n(3),g("",p.value.length," / 100"),n(),I(p.errors!=null&&p.errors.required?27:-1),n(2),R("ngModel",t.dataModel.actionType),n(2),ie(t.dataModelEnumUserClaimGroupActionTypeResult.listItems),n(3),U(_(35,45,"TITLE.Select_type_of_content")),n(2),I(c.errors!=null&&c.errors.required?36:-1),n(2),f("optionSelectForce",t.dataModel.linkModuleId)("optionPlaceholder",_(39,47,"TITLE.MODULE"))("optionDisabled",!(t.fieldsInfo.linkModuleId!=null&&t.fieldsInfo.linkModuleId.accessEditField)),n(2),f("optionSelectForce",t.dataModel.linkSiteCategoryId)("optionPlaceholder",_(41,49,"TITLE.SITE_CATEGORY"))("optionDisabled",!(t.fieldsInfo.linkSiteCategoryId!=null&&t.fieldsInfo.linkSiteCategoryId.accessEditField)),n(2),f("optionSelectForce",t.dataModel.linkUserGroupId)("optionPlaceholder",_(43,51,"TITLE.User_Group"))("optionDisabled",!(t.fieldsInfo.linkUserGroupId!=null&&t.fieldsInfo.linkUserGroupId.accessEditField)),n(2),f("optionSelectForce",t.dataModel.linkApplicationId)("optionPlaceholder",_(45,53,"TITLE.Application"))("optionDisabled",!(t.fieldsInfo.linkApplicationId!=null&&t.fieldsInfo.linkApplicationId.accessEditField)),n(2),f("optionSelectForce",t.dataModel.linkApplicationSourceId)("optionPlaceholder",_(47,55,"TITLE.Application_Source"))("optionDisabled",!(t.fieldsInfo.linkApplicationSourceId!=null&&t.fieldsInfo.linkApplicationSourceId.accessEditField)),n(4),U(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),n(),f("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),R("ngModel",t.dataModel.description),n(3),g("",w.value.length," / 500"),n(),I(w.errors!=null&&w.errors.required?55:-1),n(),I(t.formInfo.submitButtonEnabled?56:-1)}},dependencies:[Ge,nt,rt,Re,ot,de,Ae,xe,at,lt,Ue,De,st,Z,Ne,pi,po,mo,co,K,Oe,j],encapsulation:2});var ui=mi;function xa(o,r){if(o&1){let e=T();a(0,"li")(1,"mat-checkbox",0),M("change",function(){let t=m(e).$implicit,l=C();return u(l.onActionSelect(t))}),d(2),s()()}if(o&2){let e=r.$implicit,i=C();n(),f("checked",i.fieldsStatus.get(e.id))("disabled",i.optionDisabled),n(),g(" ",e.titleML," ")}}var fi=class fi{constructor(r,e,i,t,l,p){this.coreEnumService=r;this.categoryService=e;this.cdr=i;this.publicHelper=t;this.translate=l;this.cmsToastrService=p;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new L;this.dataModelSelect=[];this.dataIdsSelect=[];this.formControl=new it;this.fieldsStatus=new Map;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionChange=new le;this.optionSelectAdded=new le;this.optionSelectRemoved=new le;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(r){this.onActionSelectForce(r)}ngOnInit(){this.DataGetAll()}DataGetAll(){let r=new B;r.rowPerPage=50,r.accessLoad=!0;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(r).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataModelResult.listItems.forEach(t=>this.fieldsStatus.set(t.id,!1)),this.dataIdsSelect.forEach(t=>this.fieldsStatus.set(t,!0)),this.dataModelResult.listItems.forEach(t=>{this.fieldsStatus.get(t.id)&&this.dataModelSelect.push(t)})):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelect(r){this.fieldsStatus.get(r.id)?(this.fieldsStatus.set(r.id,!1),this.optionSelectRemoved.emit(r),this.dataModelSelect.splice(this.dataModelSelect.indexOf(r),1)):(this.fieldsStatus.set(r.id,!0),this.optionSelectAdded.emit(r),this.dataModelSelect.push(r)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(r){typeof r==typeof Array(Number)?r.forEach(e=>{this.dataIdsSelect.push(e)}):typeof r==typeof Array(ne)&&r.forEach(e=>{this.dataIdsSelect.push(e.id)}),this.dataIdsSelect.forEach(e=>this.fieldsStatus.set(e,!0))}onActionButtonReload(){this.DataGetAll()}};fi.\u0275fac=function(e){return new(e||fi)(S(W),S(oe),S(O),S(P),S(N),S(q))},fi.\u0275cmp=F({type:fi,selectors:[["app-core-userclaimtype-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},standalone:!1,decls:3,vars:0,consts:[[3,"change","checked","disabled"]],template:function(e,i){e&1&&(a(0,"ul"),te(1,xa,3,3,"li",null,ee),s()),e&2&&(n(),ie(i.dataModelResult.listItems))},dependencies:[Yi],encapsulation:2});var bo=fi;var La=["vform"];function Va(o,r){if(o&1){let e=T();a(0,"app-cms-enum-record-status-selector",30),D("modelChange",function(t){m(e);let l=C();return A(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),s()}if(o&2){let e=C();R("model",e.dataModel.recordStatus),f("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ba(o,r){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),s()()),o&2){let e=C();n(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),n(2),U(_(4,2,"MESSAGE.required"))}}function Fa(o,r){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),s()()),o&2){let e=C();n(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),n(2),U(_(4,2,"MESSAGE.required"))}}function Oa(o,r){if(o&1&&(a(0,"option",24),d(1),s()),o&2){let e=r.$implicit;f("ngValue",e.value),n(),g(" ",e.description," ")}}function Na(o,r){o&1&&(a(0,"mat-error"),d(1," ActionType is "),a(2,"strong"),d(3),h(4,"translate"),s()()),o&2&&(n(3),U(_(4,1,"MESSAGE.required")))}function Pa(o,r){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),s()()),o&2){let e=C();n(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),n(2),U(_(4,2,"MESSAGE.required"))}}function Ha(o,r){if(o&1){let e=T();a(0,"div",29)(1,"button",31),M("click",function(){m(e);let t=C();return u(t.onFormCancel())}),b(2,"i",32),d(3),h(4,"translate"),s(),a(5,"button",33),b(6,"i",34),d(7),h(8,"translate"),s()()}if(o&2){C();let e=G(10);n(3),g(" ",_(4,3,"ACTION.CANCEL")," "),n(2),f("disabled",!e.form.valid),n(2),g(" ",_(8,5,"ACTION.SAVE")," ")}}var Ci=class Ci extends zt{constructor(e,i,t,l,p,c,w,z,be){super(l,new X,c,be);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreUserClaimGroupService=l;this.coreUserClaimGroupDetailService=p;this.publicHelper=c;this.cmsToastrService=w;this.cdr=z;this.translate=be;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new qt;this.dataModel=new X;this.formInfo=new Fe;this.dataModelEnumUserClaimGroupActionTypeResult=new L;this.fileManagerOpenForm=!1;this.dataCoreClaimTypeIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumUserClaimGroupActionType(),this.DataGetAllCoreUserClaimType()}getEnumUserClaimGroupActionType(){this.coreEnumService.ServiceUserClaimGroupActionTypeEnum().subscribe({next:e=>{this.dataModelEnumUserClaimGroupActionTypeResult=e}})}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"DataGetOneContent";this.translate.get("MESSAGE.Receive_categories_of_documents").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreUserClaimGroupService.setAccessLoad(),this.coreUserClaimGroupService.setAccessDataType(jt.Editor),this.coreUserClaimGroupService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Registration_of categories_of_documents").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreUserClaimGroupService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectApplication(e){if(!e||e.id<=0){this.dataModel.linkApplicationId=null;return}this.dataModel.linkApplicationId=e.id}onActionSelectApplicationSource(e){if(!e||e.id<=0){this.dataModel.linkApplicationSourceId=null;return}this.dataModel.linkApplicationSourceId=e.id}onActionSelectUserGroup(e){if(!e||e.id<=0){this.dataModel.linkUserGroupId=null;return}this.dataModel.linkUserGroupId=e.id}onActionSelectSiteCategory(e){if(this.dataModel.linkSiteCategoryId=null,!e||e.id<=0){this.dataModel.linkSiteCategoryId=null;return}this.dataModel.linkSiteCategoryId=e.id}onActionSelectModuleId(e){this.dataModel.linkModuleId=null,!(!e||e.id<=0)&&(this.dataModel.linkModuleId=e.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}DataGetAllCoreUserClaimType(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"DataGetAllCoreUserClaimType";this.translate.get("MESSAGE.Receive_categories_of_documents").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)});let i=new B,t=new H;t.propertyName="LinkUserClaimGroupId",t.value=this.requestId,i.filters.push(t),this.coreUserClaimGroupDetailService.ServiceGetAll(i).subscribe({next:l=>{this.dataCoreUserClaimGroupDetailModels=l.listItems;let p=[];this.dataCoreUserClaimGroupDetailModels.forEach(c=>{p.push(c.linkUserClaimTypeId)}),this.dataCoreClaimTypeIds=p,l.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.submitResultMessage=c}),this.formInfo.submitResultMessage=l.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(l.errorMessage)),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorUserCategorySelect(e){this.dataCoreUserClaimTypeModels=e}onActionSelectorUserCategorySelectAdded(e){let i=new ce;i.linkUserClaimTypeId=e.id,i.linkUserClaimGroupId=this.dataModel.id,i.isRequired=!0,this.coreUserClaimGroupDetailService.ServiceAdd(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onActionSelectorUserCategorySelectRemoved(e){let i=new ce;i.linkUserClaimTypeId=e.id,i.linkUserClaimGroupId=this.dataModel.id,this.coreUserClaimGroupDetailService.ServiceDeleteEntity(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}};Ci.\u0275fac=function(i){return new(i||Ci)(S(Ve),S(Le),S(W),S(se),S(we),S(P),S(q),S(O),S(N))},Ci.\u0275cmp=F({type:Ci,selectors:[["app-core-userclaimgroup-edit"]],viewQuery:function(i,t){if(i&1&&Ie(La,5),i&2){let l;Te(l=ye())&&(t.formGroup=l.first)}},standalone:!1,features:[J],decls:69,vars:72,consts:[["vform","ngForm"],["stepper",""],["Title",""],["TitleResourceLanguage",""],["ActionType","ngModel"],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","cmsKeyboardForce","en","name","dataModel.titleML","type","text","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.actionType","name","dataModel.actionType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=T();a(0,"div",6),b(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),d(4),s(),a(5,"p"),d(6),h(7,"translate"),s(),b(8,"app-cms-form-result-message",10),a(9,"form",11,0),M("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),a(11,"mat-vertical-stepper",12,1),M("selectionChange",function(c){m(l);let w=G(12);return u(t.onStepClick(c,w))}),a(13,"mat-step",13),h(14,"translate"),v(15,Va,1,5,"app-cms-enum-record-status-selector",14),a(16,"div",15)(17,"label",16),d(18),s(),a(19,"input",17,2),D("ngModelChange",function(c){return m(l),A(t.dataModel.title,c)||(t.dataModel.title=c),u(c)}),s(),a(21,"em"),d(22),s(),v(23,Ba,5,4,"mat-error"),s(),a(24,"div",15)(25,"label",18),d(26),h(27,"translate"),s(),a(28,"input",19),D("ngModelChange",function(c){return m(l),A(t.dataModel.titleML,c)||(t.dataModel.titleML=c),u(c)}),s()(),a(29,"div",15)(30,"label",20),d(31),s(),a(32,"input",21,3),D("ngModelChange",function(c){return m(l),A(t.dataModel.titleResourceLanguage,c)||(t.dataModel.titleResourceLanguage=c),u(c)}),s(),a(34,"em"),d(35),s(),v(36,Fa,5,4,"mat-error"),s(),a(37,"div",22)(38,"select",23,4),D("ngModelChange",function(c){return m(l),A(t.dataModel.actionType,c)||(t.dataModel.actionType=c),u(c)}),te(40,Oa,2,2,"option",24,ee),s(),a(42,"em"),d(43),h(44,"translate"),s(),v(45,Na,5,3,"mat-error"),s(),b(46,"hr"),a(47,"app-cms-module-selector",25),h(48,"translate"),M("optionChange",function(c){return m(l),u(t.onActionSelectModuleId(c))}),s(),a(49,"app-cms-sitecategory-selector",25),h(50,"translate"),M("optionChange",function(c){return m(l),u(t.onActionSelectSiteCategory(c))}),s(),a(51,"app-cms-usergroup-selector",25),h(52,"translate"),M("optionChange",function(c){return m(l),u(t.onActionSelectUserGroup(c))}),s(),a(53,"app-cms-application-selector",25),h(54,"translate"),M("optionChange",function(c){return m(l),u(t.onActionSelectApplication(c))}),s(),a(55,"app-cms-application-selector",25),h(56,"translate"),M("optionChange",function(c){return m(l),u(t.onActionSelectApplicationSource(c))}),s(),a(57,"div",15)(58,"label",26),d(59),s(),a(60,"textarea",27,5),D("ngModelChange",function(c){return m(l),A(t.dataModel.description,c)||(t.dataModel.description=c),u(c)}),s(),a(62,"em"),d(63),s(),v(64,Pa,5,4,"mat-error"),s()(),a(65,"mat-step",13),h(66,"translate"),a(67,"app-core-userclaimtype-selectionlist",28),M("optionChange",function(c){return m(l),u(t.onActionSelectorUserCategorySelect(c))})("optionSelectAdded",function(c){return m(l),u(t.onActionSelectorUserCategorySelectAdded(c))})("optionSelectRemoved",function(c){return m(l),u(t.onActionSelectorUserCategorySelectRemoved(c))}),s()()(),v(68,Ha,9,7,"div",29),s()()()}if(i&2){let l=G(20),p=G(33),c=G(39),w=G(61);n(),f("optionsInfoAreaId",t.constructorInfoAreaId),n(3),g(" ",t.formInfo.formTitle," "),n(2),g(" ",_(7,52,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),f("formInfo",t.formInfo),n(5),f("label",x(_(14,54,"TITLE.Details_Claim"))),n(2),I(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?15:-1),n(3),U(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),n(),f("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),R("ngModel",t.dataModel.title),n(3),g("",l.value.length," / 100"),n(),I(l.errors!=null&&l.errors.required?23:-1),n(3),g(" ",_(27,56,"TITLE.TitleML")),n(2),R("ngModel",t.dataModel.titleML),f("disabled",!0),n(3),U(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),n(),f("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),R("ngModel",t.dataModel.titleResourceLanguage),f("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessEditField)),n(3),g("",p.value.length," / 100"),n(),I(p.errors!=null&&p.errors.required?36:-1),n(2),R("ngModel",t.dataModel.actionType),n(2),ie(t.dataModelEnumUserClaimGroupActionTypeResult.listItems),n(3),U(_(44,58,"TITLE.Select_type_of_content")),n(2),I(c.errors!=null&&c.errors.required?45:-1),n(2),f("optionSelectForce",t.dataModel.linkModuleId)("optionPlaceholder",_(48,60,"TITLE.MODULE"))("optionDisabled",!(t.fieldsInfo.linkModuleId!=null&&t.fieldsInfo.linkModuleId.accessEditField)),n(2),f("optionSelectForce",t.dataModel.linkSiteCategoryId)("optionPlaceholder",_(50,62,"TITLE.SITE_CATEGORY"))("optionDisabled",!(t.fieldsInfo.linkSiteCategoryId!=null&&t.fieldsInfo.linkSiteCategoryId.accessEditField)),n(2),f("optionSelectForce",t.dataModel.linkUserGroupId)("optionPlaceholder",_(52,64,"TITLE.User_Group"))("optionDisabled",!(t.fieldsInfo.linkUserGroupId!=null&&t.fieldsInfo.linkUserGroupId.accessEditField)),n(2),f("optionSelectForce",t.dataModel.linkApplicationId)("optionPlaceholder",_(54,66,"TITLE.Application"))("optionDisabled",!(t.fieldsInfo.linkApplicationId!=null&&t.fieldsInfo.linkApplicationId.accessEditField)),n(2),f("optionSelectForce",t.dataModel.linkApplicationSourceId)("optionPlaceholder",_(56,68,"TITLE.Application_Source"))("optionDisabled",!(t.fieldsInfo.linkApplicationSourceId!=null&&t.fieldsInfo.linkApplicationSourceId.accessEditField)),n(4),U(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),n(),f("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),R("ngModel",t.dataModel.description),n(3),g("",w.value.length," / 500"),n(),I(w.errors!=null&&w.errors.required?64:-1),n(),f("label",x(_(66,70,"TITLE.Required_Documents"))),n(2),f("optionSelectForce",t.dataCoreClaimTypeIds)("optionDisabled",!1),n(),I(t.formInfo.submitButtonEnabled?68:-1)}},dependencies:[Ge,nt,rt,Re,ot,de,Ae,xe,at,lt,Ue,De,st,Z,Xi,Zi,Ne,pi,po,mo,co,K,Oe,lo,ao,bo,j],encapsulation:2});var Si=Ci;function qa(o,r){if(o&1){let e=T();a(0,"button",13),M("click",function(){m(e);let t=C();return u(t.onActionAdd())}),d(1),h(2,"translate"),s()}o&2&&(n(),g(" ",_(2,1,"ACTION.ADD")," "))}function ja(o,r){if(o&1){let e=T();a(0,"button",14),M("click",function(){m(e);let t=C();return u(t.onActionEdit())}),d(1),h(2,"translate"),s()}o&2&&(n(),g(" ",_(2,1,"ACTION.EDIT")," "))}function Wa(o,r){if(o&1){let e=T();a(0,"button",15),M("click",function(){m(e);let t=C();return u(t.onActionButtonReload())}),a(1,"mat-icon",16),h(2,"translate"),d(3,"refresh"),s()()}if(o&2){let e=C();n(),Q("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),f("title",x(_(2,4,"ACTION.RELOAD")))}}function Qa(o,r){if(o&1){let e=T();a(0,"mat-tree-node",17),b(1,"button",18),a(2,"span",19),M("click",function(){let t=m(e).$implicit,l=C();return u(l.onActionSelect(t))}),d(3),s()()}if(o&2){let e=r.$implicit,i=C();Q("ntk-tree-selected",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),n(3),U(e.title)}}function Ka(o,r){if(o&1){let e=T();a(0,"mat-tree-node",20)(1,"button",21)(2,"mat-icon",22),d(3),s()(),a(4,"span",19),M("click",function(){let t=m(e).$implicit,l=C();return u(l.onActionSelect(t))}),d(5),s()()}if(o&2){let e=r.$implicit,i=C(),t=G(11);Q("ntk-tree-selected",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),f("cdkTreeNodeTypeaheadLabel",e.titleML)("isExpanded",e.isExpanded??!1),n(),Ye("type","button")("aria-label","Toggle "+e.titleML),n(2),g(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),n(2),U(e.titleML)}}var hi=class hi{constructor(r,e,i,t,l,p,c,w,z){this.cmsToastrService=r;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=l;this.publicHelper=p;this.tokenHelper=c;this.cmsStoreService=w;this.translate=z;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new X;this.dataModelResult=new L;this.filterModel=new B;this.dataSource=new no;this.optionChange=new le;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(r,e)=>!1;this.childrenAccessor=r=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(r){this.onActionSelectForce(r)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>$(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onActionSelect(r){r&&this.dataModelSelect&&r.id==this.dataModelSelect.id?(this.dataModelSelect=null,this.optionChange.emit(null)):(this.dataModelSelect=r,this.optionChange.emit(this.dataModelSelect))}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new X,this.DataGetAll()}onActionSelectForce(r){}onActionAdd(){var r="";this.publicHelper.isMobile?r="dialog-fullscreen":r="dialog-min",this.dialog.open(ui,{height:"90%",panelClass:r,enterAnimationDuration:V.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:V.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let r=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(r=this.dataModelSelect.id),r===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Si,{height:"90%",panelClass:e,enterAnimationDuration:V.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:V.cmsViewConfig.exitAnimationDuration,data:{id:r}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}};hi.\u0275fac=function(e){return new(e||hi)(S(q),S(W),S(se),S(he),S(O),S(P),S(Me),S(_e),S(N))},hi.\u0275cmp=F({type:hi,selectors:[["app-core-userclaimgroup-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:15,vars:13,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(a(0,"app-cms-html-tree",1),y(1,2),d(2),h(3,"translate"),E(),y(4,3),v(5,qa,3,3,"button",4),v(6,ja,3,3,"button",5),v(7,Wa,4,6,"button",6),E(),y(8,7),b(9,"app-progress-spinner",8),a(10,"mat-tree",9,0),k(12,Qa,4,3,"mat-tree-node",10)(13,Ka,6,8,"mat-tree-node",11),s(),E(),ve(14,12),s()),e&2&&(f("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),n(2),g(" ",_(3,11,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),n(3),I(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow?5:-1),n(),I(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0?6:-1),n(),I(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow?7:-1),n(2),f("optionsInfoAreaId",i.constructorInfoAreaId),n(),f("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),n(3),f("matTreeNodeDefWhen",i.hasChild))},dependencies:[ke,ge,eo,to,oo,io,$i,K,so,j],encapsulation:2});var vo=hi;var Ja=()=>[5,10,20,100],Ya=o=>({display:o});function Xa(o,r){if(o&1){let e=T();a(0,"a",37),M("click",function(){m(e);let t=C();return u(t.onActionBackToParentGroup())}),b(1,"i",38),s()}}function Za(o,r){if(o&1){let e=T();a(0,"a",37),M("click",function(){m(e);let t=C();return u(t.onActionBackToParentType())}),b(1,"i",38),s()}}function $a(o,r){if(o&1){let e=T();a(0,"div",17)(1,"a",39),M("click",function(){m(e);let t=C();return u(t.onActionButtonNewRow())}),b(2,"i",40)(3,"br"),s(),a(4,"p",41),d(5),h(6,"translate"),s()()}o&2&&(n(5),g(" ",_(6,1,"ACTION.ADD")," "))}function el(o,r){if(o&1){let e=T();a(0,"div",17)(1,"a",42),M("click",function(){m(e);let t=C();return u(t.onActionButtonEditRow(t.tableRowSelected))}),b(2,"i",43)(3,"br"),s(),a(4,"p",41),d(5),h(6,"translate"),s()()}o&2&&(n(5),g(" ",_(6,1,"ACTION.EDIT")," "))}function tl(o,r){if(o&1){let e=T();a(0,"div",17)(1,"a",44),M("click",function(){m(e);let t=C();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),b(2,"i",45)(3,"br"),s(),a(4,"p",41),d(5),h(6,"translate"),s()()}o&2&&(n(5),g(" ",_(6,1,"ACTION.DELETE")," "))}function il(o,r){if(o&1&&(a(0,"mat-header-cell",46),d(1),s()),o&2){let e=C();n(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function ol(o,r){if(o&1&&b(0,"select",48),o&2){let e=C().$implicit,i=C();f("contentService",i.contentService)("row",e)("ngStyle",ze(3,Ya,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function nl(o,r){if(o&1&&(a(0,"mat-cell",47),h(1,"statusCellClass"),b(2,"i",47),h(3,"statusIconClass"),v(4,ol,1,5,"select",48),s()),o&2){let e=r.$implicit,i=C();f("ngClass",_(1,3,e.recordStatus)),n(2),f("ngClass",_(3,5,e.recordStatus)),n(2),I(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function rl(o,r){if(o&1&&(a(0,"mat-header-cell",46),d(1),s()),o&2){let e=C();n(),g(" ",e.fieldsInfo.linkUserClaimGroupId==null?null:e.fieldsInfo.linkUserClaimGroupId.fieldTitle," ")}}function al(o,r){if(o&1&&(a(0,"mat-cell"),d(1),h(2,"cmstitle"),s()),o&2){let e=r.$implicit,i=C();n(),g(" ",Ee(2,1,e.linkUserClaimGroupId,i.dataModelCoreUserClaimGroupResult.listItems)," ")}}function ll(o,r){if(o&1&&(a(0,"mat-header-cell",46),d(1),s()),o&2){let e=C();n(),g(" ",e.fieldsInfo.linkUserClaimTypeId==null?null:e.fieldsInfo.linkUserClaimTypeId.fieldTitle," ")}}function sl(o,r){if(o&1&&(a(0,"mat-cell"),d(1),h(2,"cmstitle"),s()),o&2){let e=r.$implicit,i=C();n(),g(" ",Ee(2,1,e.linkUserClaimTypeId,i.dataModelCoreUserClaimTypeResult.listItems)," ")}}function cl(o,r){if(o&1&&(a(0,"mat-header-cell",46),d(1),s()),o&2){let e=C();n(),g(" ",e.fieldsInfo.isRequired==null?null:e.fieldsInfo.isRequired.fieldTitle," ")}}function dl(o,r){if(o&1&&(a(0,"mat-cell"),b(1,"i",47),h(2,"boolclass"),s()),o&2){let e=r.$implicit;n(),f("ngClass",_(2,1,e.isRequired))}}function pl(o,r){o&1&&(a(0,"mat-header-cell"),d(1),h(2,"translate"),s()),o&2&&(n(),g(" ",_(2,1,"TITLE.OPTION")," "))}function ml(o,r){if(o&1&&(a(0,"mat-cell",49)(1,"button",50)(2,"mat-icon"),d(3,"more_vert"),s()(),b(4,"mat-menu",null,2),s()),o&2){let e=G(5);n(),f("matMenuTriggerFor",e)}}function ul(o,r){o&1&&b(0,"mat-header-row")}function fl(o,r){if(o&1){let e=T();a(0,"mat-row",51),M("click",function(t){let l=m(e).$implicit,p=C();return u(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,p=C();return u(p.onActionTableRowSelect(l,t))}),s()}if(o&2){let e=r.$implicit,i=C();Q("ntk-row-selected",e.linkUserClaimGroupId===(i.tableRowSelected==null?null:i.tableRowSelected.linkUserClaimGroupId)&&e.linkUserClaimTypeId===(i.tableRowSelected==null?null:i.tableRowSelected.linkUserClaimTypeId))}}var gi=class gi extends Et{constructor(e,i,t,l,p,c,w,z,be,Gi,vi,Ii,Ti,ae){super(e,new ce,Ti,be,vi);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.coreUserClaimTypeService=p;this.coreUserClaimGroupService=c;this.router=w;this.cmsStoreService=z;this.tokenHelper=be;this.cdr=Gi;this.translate=vi;this.pageInfo=Ii;this.publicHelper=Ti;this.dialog=ae;this.requestLinkUserClaimGroupId=0;this.requestLinkUserClaimTypeId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new B;this.filterDataModelQueryBuilder=[];this.categoryModelSelected=new X;this.dataModelCoreUserClaimTypeResult=new L;this.dataModelCoreUserClaimGroupResult=new L;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","LinkUserClaimGroupId","LinkUserClaimTypeId","IsRequired"];this.tabledisplayedColumnsMobileSource=["recordStatus","LinkUserClaimGroupId","LinkUserClaimTypeId","IsRequired"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkUserClaimTypeId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserClaimTypeId")),this.requestLinkUserClaimGroupId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserClaimGroupId")),this.optionsSearch.parentMethods={onSubmit:Qe=>this.onSubmitOptionsSearch(Qe)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=Y.Descending,this.requestLinkUserClaimTypeId>0){let Qe=new H;Qe.propertyName="LinkUserClaimTypeId",Qe.value=this.requestLinkUserClaimTypeId,this.filteModelContent.filters.push(Qe)}if(this.requestLinkUserClaimGroupId>0){let Qe=new H;Qe.propertyName="LinkUserClaimGroupId",Qe.value=this.requestLinkUserClaimGroupId,this.filteModelContent.filters.push(Qe)}}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>$(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getUserClaimType(),this.getUserClaimGroup()}getUserClaimType(){let e=new B;e.rowPerPage=100,this.coreUserClaimTypeService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCoreUserClaimTypeResult=i}})}getUserClaimGroup(){let e=new B;e.rowPerPage=100,this.coreUserClaimGroupService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCoreUserClaimGroupResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ce);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id>0){let t=new H;t.propertyName="LinkUserClaimHeaderId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Y.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Y.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Y.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(_o,{height:"90%",panelClass:e,enterAnimationDuration:V.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:V.cmsViewConfig.exitAnimationDuration,data:{linkUserClaimGroupId:this.requestLinkUserClaimGroupId,linkUserClaimTypeId:this.requestLinkUserClaimTypeId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.linkUserClaimGroupId||e.linkUserClaimGroupId===0||!e.linkUserClaimTypeId||e.linkUserClaimTypeId===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Mo,{height:"90%",panelClass:i,enterAnimationDuration:V.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:V.cmsViewConfig.exitAnimationDuration,data:{model:this.tableRowSelected}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new B,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDeleteEntity(this.tableRowSelected).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(w=>{i.set(w,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),p=new H;p.propertyName="recordStatus",p.value=$e.Available,l.filters.push(p),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(w=>{i.set(w,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParentType(){this.router.navigate(["/core/userclaim/type/"])}onActionBackToParentGroup(){this.router.navigate(["/core/userclaim/group/"])}};gi.\u0275fac=function(i){return new(i||gi)(S(we),S(q),S(je),S(Ht),S(oe),S(se),S(qe),S(_e),S(Me),S(O),S(N),S(Tt),S(P),S(he))},gi.\u0275cmp=F({type:gi,selectors:[["app-core-userclaimgroupdetail-list"]],standalone:!1,features:[J],decls:54,vars:38,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","recordStatus"],["mat-sort-header","",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkUserClaimGroupId"],[4,"matCellDef"],["matColumnDef","LinkUserClaimTypeId"],["matColumnDef","IsRequired"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=T();a(0,"app-cms-html-list",3),h(1,"cmstitle"),h(2,"cmstitle"),D("optionActionGuideNoticeDisplayChange",function(c){return m(l),A(t.viewGuideNotice,c)||(t.viewGuideNotice=c),u(c)}),M("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionButtonPrintRow())}),y(3,4),a(4,"app-core-userclaimgroup-tree",5),M("optionChange",function(c){return m(l),u(t.onActionSelectorSelect(c))}),s(),E(),ve(5,6)(6,7),y(7,8),v(8,Xa,2,0,"a",9),v(9,Za,2,0,"a",9),a(10,"a",10),M("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),b(11,"i",11),s(),a(12,"a",10),M("click",function(){return m(l),u(t.onActionButtonReload())}),b(13,"i",12),s(),E(),y(14,13),a(15,"a",14),M("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),b(16,"mat-slide-toggle",15),d(17),h(18,"translate"),s(),a(19,"a",14),M("click",function(){return m(l),u(t.onActionButtonStatist())}),b(20,"mat-slide-toggle",15),d(21),h(22,"translate"),s(),E(),y(23,16),v(24,$a,7,3,"div",17),E(),y(25,18),v(26,el,7,3,"div",17),v(27,tl,7,3,"div",17),E(),y(28,19),a(29,"app-cms-search-list",20),D("optionsChange",function(c){return m(l),A(t.optionsSearch,c)||(t.optionsSearch=c),u(c)}),s(),a(30,"app-cms-statist-list",20),D("optionsChange",function(c){return m(l),A(t.optionsStatist,c)||(t.optionsStatist=c),u(c)}),s(),E(),y(31,21),a(32,"mat-table",22,0),M("matSortChange",function(){m(l);let c=G(33);return u(t.onTableSortData(c))}),y(34,23),k(35,il,2,1,"mat-header-cell",24)(36,nl,5,7,"mat-cell",25),E(),y(37,26),k(38,rl,2,1,"mat-header-cell",24)(39,al,3,4,"mat-cell",27),E(),y(40,28),k(41,ll,2,1,"mat-header-cell",24)(42,sl,3,4,"mat-cell",27),E(),y(43,29),k(44,cl,2,1,"mat-header-cell",24)(45,dl,3,3,"mat-cell",27),E(),y(46,30),k(47,pl,3,3,"mat-header-cell",31)(48,ml,6,1,"mat-cell",32),E(),k(49,ul,1,0,"mat-header-row",33)(50,fl,1,2,"mat-row",34),s(),E(),y(51,35),a(52,"mat-paginator",36,1),M("page",function(c){return m(l),u(t.onTablePageingData(c))}),s(),E(),s()}i&2&&(f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",t.requestLinkUserClaimGroupId===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.linkUserClaimGroupId)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",Ee(1,27,t.tableRowSelected==null?null:t.tableRowSelected.linkUserClaimTypeId,t.dataModelCoreUserClaimTypeResult.listItems)+"-"+Ee(2,30,t.tableRowSelected==null?null:t.tableRowSelected.linkUserClaimGroupId,t.dataModelCoreUserClaimGroupResult.listItems)),n(8),I(t.requestLinkUserClaimGroupId>0?8:-1),n(),I(t.requestLinkUserClaimTypeId>0?9:-1),n(4),Q("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),f("checked",t.optionsSearch.data.show),n(),g("",_(18,33,"ACTION.SEARCH")," "),n(3),f("checked",t.optionsStatist.data.show),n(),g("",_(22,35,"ACTION.STATIST")," "),n(3),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?24:-1),n(2),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?26:-1),n(),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?27:-1),n(2),R("options",t.optionsSearch),n(),R("options",t.optionsStatist),n(2),f("dataSource",t.tableSource),n(17),f("matHeaderRowDef",t.tabledisplayedColumns),n(),f("matRowDefColumns",t.tabledisplayedColumns),n(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ke(37,Ja)))},dependencies:[He,Ze,ke,ge,Z,ct,dt,pt,Be,mt,ut,ft,St,Mt,ht,Ct,bt,gt,_t,vt,It,wt,Rt,At,Dt,Ut,vo,j,Jt,Gt,xt,Qt],encapsulation:2});var _i=gi;var Cl=()=>[5,10,20,100],Sl=o=>({display:o});function hl(o,r){if(o&1){let e=T();a(0,"div",15)(1,"a",38),M("click",function(){m(e);let t=C();return u(t.onActionButtonNewRow())}),b(2,"i",39)(3,"br"),s(),a(4,"p",18),d(5),h(6,"translate"),s()()}o&2&&(n(5),g(" ",_(6,1,"ACTION.ADD")," "))}function gl(o,r){if(o&1){let e=T();a(0,"div",15)(1,"a",40),M("click",function(){m(e);let t=C();return u(t.onActionButtonEditRow(t.tableRowSelected))}),b(2,"i",41)(3,"br"),s(),a(4,"p",18),d(5),h(6,"translate"),s()()}o&2&&(n(5),g(" ",_(6,1,"ACTION.EDIT")," "))}function _l(o,r){if(o&1){let e=T();a(0,"div",15)(1,"a",42),M("click",function(){m(e);let t=C();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),b(2,"i",43)(3,"br"),s(),a(4,"p",18),d(5),h(6,"translate"),s()()}o&2&&(n(5),g(" ",_(6,1,"ACTION.DELETE")," "))}function Ml(o,r){if(o&1&&(a(0,"mat-header-cell",44),d(1),s()),o&2){let e=C();n(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function bl(o,r){if(o&1&&(a(0,"mat-cell"),d(1),s()),o&2){let e=r.$implicit;n(),g(" ",e.id," ")}}function vl(o,r){if(o&1&&(a(0,"mat-header-cell",44),d(1),s()),o&2){let e=C();n(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Il(o,r){if(o&1&&b(0,"select",46),o&2){let e=C().$implicit,i=C();f("contentService",i.contentService)("row",e)("ngStyle",ze(3,Sl,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Tl(o,r){if(o&1&&(a(0,"mat-cell",45),h(1,"statusCellClass"),b(2,"i",45),h(3,"statusIconClass"),v(4,Il,1,5,"select",46),s()),o&2){let e=r.$implicit,i=C();f("ngClass",_(1,3,e.recordStatus)),n(2),f("ngClass",_(3,5,e.recordStatus)),n(2),I(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function yl(o,r){if(o&1&&(a(0,"mat-header-cell",44),d(1),s()),o&2){let e=C();n(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function El(o,r){if(o&1&&(a(0,"mat-cell"),d(1),s()),o&2){let e=r.$implicit;n(),g(" ",e.titleML," ")}}function wl(o,r){if(o&1&&(a(0,"mat-header-cell",44),d(1),s()),o&2){let e=C();n(),g(" ",e.fieldsInfo.linkSiteCategoryId==null?null:e.fieldsInfo.linkSiteCategoryId.fieldTitle," ")}}function Rl(o,r){if(o&1&&(a(0,"mat-cell"),d(1),h(2,"cmstitle"),s()),o&2){let e=r.$implicit,i=C();n(),g(" ",Ee(2,1,e.linkSiteCategoryId,i.dataModelCoreSiteCategoryResult.listItems)," ")}}function Al(o,r){if(o&1&&(a(0,"mat-header-cell",44),d(1),s()),o&2){let e=C();n(),g(" ",e.fieldsInfo.linkModuleId==null?null:e.fieldsInfo.linkModuleId.fieldTitle," ")}}function Dl(o,r){if(o&1&&(a(0,"mat-cell"),d(1),h(2,"cmstitle"),s()),o&2){let e=r.$implicit,i=C();n(),g(" ",Ee(2,1,e.linkModuleId,i.dataModelCoreModuleResult.listItems)," ")}}function Ul(o,r){o&1&&(a(0,"mat-header-cell"),d(1),h(2,"translate"),s()),o&2&&(n(),g(" ",_(2,1,"TITLE.OPTION")," "))}function Gl(o,r){if(o&1&&(a(0,"mat-cell",47)(1,"button",48)(2,"mat-icon"),d(3,"more_vert"),s()(),b(4,"mat-menu",null,2),s()),o&2){let e=G(5);n(),f("matMenuTriggerFor",e)}}function xl(o,r){o&1&&b(0,"mat-header-row")}function kl(o,r){if(o&1){let e=T();a(0,"mat-row",49),M("click",function(t){let l=m(e).$implicit,p=C();return u(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,p=C();return u(p.onActionTableRowSelect(l,t))}),s()}if(o&2){let e=r.$implicit,i=C();Q("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Mi=class Mi extends Et{constructor(e,i,t,l,p,c,w,z,be,Gi,vi,Ii,Ti){super(e,new X,Ii,w,be);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.coreModuleService=l;this.coreSiteCategoryService=p;this.router=c;this.tokenHelper=w;this.cdr=z;this.translate=be;this.cmsStoreService=Gi;this.pageInfo=vi;this.publicHelper=Ii;this.dialog=Ti;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new B;this.filterDataModelQueryBuilder=[];this.dataModelCoreModuleResult=new L;this.dataModelCoreSiteCategoryResult=new L;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","title","LinkModuleId","LinkSiteCategoryId"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","title","LinkModuleId","LinkSiteCategoryId"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ae=>this.onSubmitOptionsSearch(ae)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=Y.Ascending}ngOnInit(){this.filteModelContent.sortColumn="id",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>$(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getModule(),this.getSiteCategory()}getModule(){let e=new B;e.rowPerPage=100,this.coreModuleService.ServiceGetAllModuleName(e).subscribe({next:i=>{this.dataModelCoreModuleResult=i}})}getSiteCategory(){let e=new B;e.rowPerPage=100,this.coreSiteCategoryService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCoreSiteCategoryResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new X);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Y.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Y.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Y.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(ui,{height:"90%",panelClass:e,enterAnimationDuration:V.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:V.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Si,{height:"90%",panelClass:i,enterAnimationDuration:V.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:V.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonDetailList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/core/userclaim/groupdetail/LinkUserClaimGroupId",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(w=>{i.set(w,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),p=new H;p.propertyName="recordStatus",p.value=$e.Available,l.filters.push(p),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(w=>{i.set(w,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonSiteList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/core/site/list/LinkUserClaimGroupId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Mi.\u0275fac=function(i){return new(i||Mi)(S(se),S(q),S(je),S(qi),S(Wo),S(qe),S(Me),S(O),S(N),S(_e),S(Tt),S(P),S(he))},Mi.\u0275cmp=F({type:Mi,selectors:[["app-core-userclaimgroup-list"]],standalone:!1,features:[J],decls:60,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","LinkSiteCategoryId"],["matColumnDef","LinkModuleId"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=T();a(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(c){return m(l),A(t.viewGuideNotice,c)||(t.viewGuideNotice=c),u(c)}),M("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionButtonPrintRow())}),y(1,4),d(2," -------------------------------------- "),E(),ve(3,5)(4,6),y(5,7),a(6,"a",8),M("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),b(7,"i",9),s(),a(8,"a",8),M("click",function(){return m(l),u(t.onActionButtonReload())}),b(9,"i",10),s(),E(),y(10,11),a(11,"a",12),M("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),b(12,"mat-slide-toggle",13),d(13),h(14,"translate"),s(),a(15,"a",12),M("click",function(){return m(l),u(t.onActionButtonStatist())}),b(16,"mat-slide-toggle",13),d(17),h(18,"translate"),s(),E(),y(19,14),v(20,hl,7,3,"div",15),E(),y(21,16),v(22,gl,7,3,"div",15),v(23,_l,7,3,"div",15),a(24,"div",15)(25,"a",17),M("click",function(){return m(l),u(t.onActionButtonDetailList(t.tableRowSelected))}),a(26,"mat-icon"),d(27,"view_module"),s()(),a(28,"p",18),d(29),h(30,"translate"),s()(),E(),y(31,19),a(32,"app-cms-search-list",20),D("optionsChange",function(c){return m(l),A(t.optionsSearch,c)||(t.optionsSearch=c),u(c)}),s(),a(33,"app-cms-statist-list",20),D("optionsChange",function(c){return m(l),A(t.optionsStatist,c)||(t.optionsStatist=c),u(c)}),s(),E(),y(34,21),a(35,"mat-table",22,0),M("matSortChange",function(){m(l);let c=G(36);return u(t.onTableSortData(c))}),y(37,23),k(38,Ml,2,1,"mat-header-cell",24)(39,bl,2,1,"mat-cell",25),E(),y(40,26),k(41,vl,2,1,"mat-header-cell",24)(42,Tl,5,7,"mat-cell",27),E(),y(43,28),k(44,yl,2,1,"mat-header-cell",24)(45,El,2,1,"mat-cell",25),E(),y(46,29),k(47,wl,2,1,"mat-header-cell",24)(48,Rl,3,4,"mat-cell",25),E(),y(49,30),k(50,Al,2,1,"mat-header-cell",24)(51,Dl,3,4,"mat-cell",25),E(),y(52,31),k(53,Ul,3,3,"mat-header-cell",32)(54,Gl,6,1,"mat-cell",33),E(),k(55,xl,1,0,"mat-header-row",34)(56,kl,1,2,"mat-row",35),s(),E(),y(57,36),a(58,"mat-paginator",37,1),M("page",function(c){return m(l),u(t.onTablePageingData(c))}),s(),E(),s()}i&2&&(f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),n(9),Q("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),f("checked",t.optionsSearch.data.show),n(),g("",_(14,26,"ACTION.SEARCH")," "),n(3),f("checked",t.optionsStatist.data.show),n(),g("",_(18,28,"ACTION.STATIST")," "),n(3),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),n(2),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),n(),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),n(6),g(" ",_(30,30,"ACTION.Components")," "),n(3),R("options",t.optionsSearch),n(),R("options",t.optionsStatist),n(2),f("dataSource",t.tableSource),n(20),f("matHeaderRowDef",t.tabledisplayedColumns),n(),f("matRowDefColumns",t.tabledisplayedColumns),n(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ke(32,Cl)))},dependencies:[He,Ze,ke,ge,Z,ct,dt,pt,Be,mt,ut,ft,St,Mt,ht,Ct,bt,gt,_t,vt,It,wt,Rt,At,Dt,Ut,j,Jt,Gt,xt],encapsulation:2});var Io=Mi;var Ll=()=>[5,10,20,100],Vl=o=>({display:o});function Bl(o,r){if(o&1){let e=T();a(0,"div",15)(1,"a",38),M("click",function(){m(e);let t=C();return u(t.onActionButtonNewRow())}),b(2,"i",39)(3,"br"),s(),a(4,"p",18),d(5),h(6,"translate"),s()()}o&2&&(n(5),g(" ",_(6,1,"ACTION.ADD")," "))}function Fl(o,r){if(o&1){let e=T();a(0,"div",15)(1,"a",40),M("click",function(){m(e);let t=C();return u(t.onActionButtonEditRow(t.tableRowSelected))}),b(2,"i",41)(3,"br"),s(),a(4,"p",18),d(5),h(6,"translate"),s()()}o&2&&(n(5),g(" ",_(6,1,"ACTION.EDIT")," "))}function Ol(o,r){if(o&1){let e=T();a(0,"div",15)(1,"a",42),M("click",function(){m(e);let t=C();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),b(2,"i",43)(3,"br"),s(),a(4,"p",18),d(5),h(6,"translate"),s()()}o&2&&(n(5),g(" ",_(6,1,"ACTION.DELETE")," "))}function Nl(o,r){o&1&&(a(0,"mat-header-cell",44),d(1),h(2,"translate"),s()),o&2&&(n(),g(" ",_(2,1,"TITLE.PICTURE")," "))}function Pl(o,r){if(o&1&&(b(0,"img",45),h(1,"cmsthumbnail")),o&2){let e=C().$implicit;f("src",x(_(1,2,e.linkMainImageIdSrc)),Ce)}}function Hl(o,r){if(o&1&&(a(0,"mat-cell"),v(1,Pl,2,4,"img",45),s()),o&2){let e=r.$implicit;n(),I((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function ql(o,r){if(o&1&&(a(0,"mat-header-cell",44),d(1),s()),o&2){let e=C();n(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function jl(o,r){if(o&1&&(a(0,"mat-cell"),d(1),s()),o&2){let e=r.$implicit;n(),g(" ",e.id," ")}}function Wl(o,r){if(o&1&&(a(0,"mat-header-cell",44),d(1),s()),o&2){let e=C();n(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ql(o,r){if(o&1&&b(0,"select",47),o&2){let e=C().$implicit,i=C();f("contentService",i.contentService)("row",e)("ngStyle",ze(3,Vl,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Kl(o,r){if(o&1&&(a(0,"mat-cell",46),h(1,"statusCellClass"),b(2,"i",46),h(3,"statusIconClass"),v(4,Ql,1,5,"select",47),s()),o&2){let e=r.$implicit,i=C();f("ngClass",_(1,3,e.recordStatus)),n(2),f("ngClass",_(3,5,e.recordStatus)),n(2),I(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function zl(o,r){if(o&1&&(a(0,"mat-header-cell",44),d(1),s()),o&2){let e=C();n(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Jl(o,r){if(o&1&&(a(0,"mat-cell"),d(1),s()),o&2){let e=r.$implicit;n(),g(" ",e.titleML," ")}}function Yl(o,r){if(o&1&&(a(0,"mat-header-cell",44),d(1),s()),o&2){let e=C();n(),g(" ",e.fieldsInfo.kind==null?null:e.fieldsInfo.kind.fieldTitle," ")}}function Xl(o,r){if(o&1&&(a(0,"mat-cell"),d(1),h(2,"enums"),s()),o&2){let e=r.$implicit,i=C();n(),g(" ",Ee(2,1,e.kind,i.dataModelEnumUserClaimKindsResult.listItems)," ")}}function Zl(o,r){o&1&&(a(0,"mat-header-cell"),d(1),h(2,"translate"),s()),o&2&&(n(),g(" ",_(2,1,"TITLE.OPTION")," "))}function $l(o,r){if(o&1&&(a(0,"mat-cell",48)(1,"button",49)(2,"mat-icon"),d(3,"more_vert"),s()(),b(4,"mat-menu",null,2),s()),o&2){let e=G(5);n(),f("matMenuTriggerFor",e)}}function es(o,r){o&1&&b(0,"mat-header-row")}function ts(o,r){if(o&1){let e=T();a(0,"mat-row",50),M("click",function(t){let l=m(e).$implicit,p=C();return u(p.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,p=C();return u(p.onActionTableRowSelect(l,t))}),s()}if(o&2){let e=r.$implicit,i=C();Q("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var bi=class bi extends Et{constructor(e,i,t,l,p,c,w,z,be,Gi,vi,Ii){super(e,new ne,vi,c,be);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.coreEnumService=l;this.router=p;this.tokenHelper=c;this.cdr=w;this.cmsStoreService=z;this.translate=be;this.pageInfo=Gi;this.publicHelper=vi;this.dialog=Ii;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new B;this.filterDataModelQueryBuilder=[];this.dataModelCoreUserGroupResult=new L;this.dataModelCoreSiteCategoryResult=new L;this.dataModelEnumUserClaimKindsResult=new L;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","Kind"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","id","recordStatus","Kind"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ti=>this.onSubmitOptionsSearch(Ti)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=Y.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>$(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEnumUserClaimKinds()}getEnumUserClaimKinds(){this.coreEnumService.ServiceUserClaimKindsEnum().subscribe({next:e=>{this.dataModelEnumUserClaimKindsResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ne);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Y.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Y.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Y.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(ii,{height:"90%",panelClass:e,enterAnimationDuration:V.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:V.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ri,{height:"90%",panelClass:i,enterAnimationDuration:V.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:V.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonDetailList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/core/userclaim/groupdetail/LinkUserClaimTypeId",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(w=>{i.set(w,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),p=new H;p.propertyName="recordStatus",p.value=$e.Available,l.filters.push(p),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(w=>{i.set(w,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonModuleList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/core/sitecategorymodule/LinkCmsUserClaimTypeId",this.tableRowSelected.id])}onActionButtonSiteList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/core/site/list/LinkUserClaimTypeId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};bi.\u0275fac=function(i){return new(i||bi)(S(oe),S(q),S(je),S(W),S(qe),S(Me),S(O),S(_e),S(N),S(Tt),S(P),S(he))},bi.\u0275cmp=F({type:bi,selectors:[["app-core-userclaimtype-list"]],standalone:!1,features:[J],decls:60,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","Kind"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=T();a(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(c){return m(l),A(t.viewGuideNotice,c)||(t.viewGuideNotice=c),u(c)}),M("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionButtonPrintRow())}),y(1,4),d(2," -------------------------------------- "),E(),ve(3,5)(4,6),y(5,7),a(6,"a",8),M("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),b(7,"i",9),s(),a(8,"a",8),M("click",function(){return m(l),u(t.onActionButtonReload())}),b(9,"i",10),s(),E(),y(10,11),a(11,"a",12),M("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),b(12,"mat-slide-toggle",13),d(13),h(14,"translate"),s(),a(15,"a",12),M("click",function(){return m(l),u(t.onActionButtonStatist())}),b(16,"mat-slide-toggle",13),d(17),h(18,"translate"),s(),E(),y(19,14),v(20,Bl,7,3,"div",15),E(),y(21,16),v(22,Fl,7,3,"div",15),v(23,Ol,7,3,"div",15),a(24,"div",15)(25,"a",17),M("click",function(){return m(l),u(t.onActionButtonDetailList(t.tableRowSelected))}),a(26,"mat-icon"),d(27,"view_module"),s()(),a(28,"p",18),d(29),h(30,"translate"),s()(),E(),y(31,19),a(32,"app-cms-search-list",20),D("optionsChange",function(c){return m(l),A(t.optionsSearch,c)||(t.optionsSearch=c),u(c)}),s(),a(33,"app-cms-statist-list",20),D("optionsChange",function(c){return m(l),A(t.optionsStatist,c)||(t.optionsStatist=c),u(c)}),s(),E(),y(34,21),a(35,"mat-table",22,0),M("matSortChange",function(){m(l);let c=G(36);return u(t.onTableSortData(c))}),y(37,23),k(38,Nl,3,3,"mat-header-cell",24)(39,Hl,2,1,"mat-cell",25),E(),y(40,26),k(41,ql,2,1,"mat-header-cell",24)(42,jl,2,1,"mat-cell",25),E(),y(43,27),k(44,Wl,2,1,"mat-header-cell",24)(45,Kl,5,7,"mat-cell",28),E(),y(46,29),k(47,zl,2,1,"mat-header-cell",24)(48,Jl,2,1,"mat-cell",25),E(),y(49,30),k(50,Yl,2,1,"mat-header-cell",24)(51,Xl,3,4,"mat-cell",25),E(),y(52,31),k(53,Zl,3,3,"mat-header-cell",32)(54,$l,6,1,"mat-cell",33),E(),k(55,es,1,0,"mat-header-row",34)(56,ts,1,2,"mat-row",35),s(),E(),y(57,36),a(58,"mat-paginator",37,1),M("page",function(c){return m(l),u(t.onTablePageingData(c))}),s(),E(),s()}i&2&&(f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),n(9),Q("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),f("checked",t.optionsSearch.data.show),n(),g("",_(14,26,"ACTION.SEARCH")," "),n(3),f("checked",t.optionsStatist.data.show),n(),g("",_(18,28,"ACTION.STATIST")," "),n(3),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),n(2),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),n(),I(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),n(6),g(" ",_(30,30,"ACTION.USED_ITEMS")," "),n(3),R("options",t.optionsSearch),n(),R("options",t.optionsStatist),n(2),f("dataSource",t.tableSource),n(20),f("matHeaderRowDef",t.tabledisplayedColumns),n(),f("matRowDefColumns",t.tabledisplayedColumns),n(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ke(32,Ll)))},dependencies:[He,Ze,ke,ge,Z,ct,dt,pt,Be,mt,ut,ft,St,Mt,ht,Ct,bt,gt,_t,vt,It,wt,Rt,At,Dt,Ut,j,_n,yt,Gt,xt],encapsulation:2});var To=bi;var is=[{path:"",data:{title:"ROUTE.CORE.USERCLAIM"},children:[{path:"group",component:Io,data:{title:"ROUTE.CORE.USERCLAIM"}},{path:"groupdetail",component:_i,data:{title:"ROUTE.CORE.USERCLAIM"}},{path:"groupdetail/LinkUserClaimTypeId/:LinkUserClaimTypeId",component:_i,data:{title:"ROUTE.CORE.USERCLAIM"}},{path:"groupdetail/LinkUserClaimGroupId/:LinkUserClaimGroupId",component:_i,data:{title:"ROUTE.CORE.USERCLAIM"}},{path:"type",component:To,data:{title:"ROUTE.CORE.USERCLAIM"}},{path:"content",component:Bt,data:{title:"ROUTE.CORE.USERCLAIM"}},{path:"content/LinkUserClaimTypeId/:LinkUserClaimTypeId",component:Bt,data:{title:"ROUTE.CORE.USERCLAIM"}},{path:"content/LinkSiteId/:LinkSiteId",component:Bt,data:{title:"ROUTE.CORE.USERCLAIM"}},{path:"content/LinkUserId/:LinkUserId",component:Bt,data:{title:"ROUTE.CORE.USERCLAIM"}},{path:"checklist",component:Ei,data:{title:"ROUTE.CORE.USERCLAIM"}},{path:"checklist/:LinkSiteId/:LinkUserId",component:Ei,data:{title:"ROUTE.CORE.USERCLAIM"}}]}],Ft=class Ft{};Ft.\u0275fac=function(e){return new(e||Ft)},Ft.\u0275mod=Ni({type:Ft}),Ft.\u0275inj=Oi({imports:[Eo.forChild(is),Eo]});var yo=Ft;var Ot=class Ot{};Ot.\u0275fac=function(e){return new(e||Ot)},Ot.\u0275mod=Ni({type:Ot}),Ot.\u0275inj=Oi({providers:[qi,W,Wt,oe,se,we,je],imports:[jo,Jo,yo,Yo.withConfig({warnOnNgModelWithFormControl:"never"}),cn,hn,pn,sn]});var Tn=Ot;export{Tn as CoreUserClaimModule};
