import{a as no,b as Gl}from"./chunk-OAQSH2MP.js";import{a as Xa}from"./chunk-WZGID7VJ.js";import{a as Nl}from"./chunk-K2ZGWDZO.js";import{a as kt}from"./chunk-L4NLSG5C.js";import{a as Fl}from"./chunk-O3I5ODV6.js";import"./chunk-DGYJYHEF.js";import{a as Ol}from"./chunk-GICCFFZ7.js";import{a as Bl}from"./chunk-27UU5UIN.js";import"./chunk-XWFZ3L2H.js";import{a as st}from"./chunk-AUVF6KFZ.js";import{a as Ja}from"./chunk-H56PQPV2.js";import{a as io}from"./chunk-GSBDZZET.js";import{a as Vl}from"./chunk-L7JR6HXJ.js";import{a as ti}from"./chunk-H4DUMXUG.js";import{a as en}from"./chunk-K33TURJC.js";import{a as lt}from"./chunk-B3F7GQYV.js";import{a as Le}from"./chunk-MBNOGREB.js";import{a as ke}from"./chunk-JEF4OJ24.js";import{a as St}from"./chunk-O7TBDUAL.js";import{a as Ll,d as Ct,e as Ae,f as Re,i as Tt}from"./chunk-VPCV3QWM.js";import{a as Ka}from"./chunk-SVQRGLTD.js";import{a as Qt}from"./chunk-MJISGRY5.js";import{a as Al}from"./chunk-MDLZCPQF.js";import{a as Pe,b as za}from"./chunk-XX2R74IE.js";import{b as Rl}from"./chunk-7SVXILIE.js";import{a as _t}from"./chunk-EONWWHCB.js";import{a as kl}from"./chunk-TH2MDZWJ.js";import{a as ve}from"./chunk-SPPVAAD5.js";import{b as xl}from"./chunk-3RHHJRHJ.js";import{a as ei}from"./chunk-7DUNEHBM.js";import"./chunk-T2SWGMVG.js";import{a as to}from"./chunk-R5BPOJMN.js";import{a as Se}from"./chunk-4YFMZS2T.js";import"./chunk-HGNWVODT.js";import{a as j,d as $t}from"./chunk-EBEN3A5Q.js";import{b as yl,d as Tl,e as ft,f as G}from"./chunk-T5H3DDPU.js";import{$a as _l,A as Ze,Aa as cl,Ab as O,Ba as Je,Bb as B,Ca as pl,Da as q,H as Ha,Ha as Qa,I as Wa,Ia as Mt,J as qa,Ja as It,K as ll,L as ja,M as Ua,Ma as pe,Nb as Ht,O as sl,Ob as bl,R as Kn,Sa as Te,Ua as Ue,Va as tt,Ya as ml,Za as ul,_a as fl,a as Xe,ab as Sl,ac as Ml,bb as Cl,bc as Il,cb as Pt,cc as Pl,d as Na,da as Yi,db as it,dc as wl,ea as Zi,eb as nt,f as Zr,fa as $i,fb as ot,g as $r,gb as at,hb as rt,i as el,ib as wt,j as tl,jb as Et,k as il,kb as Dt,la as ut,lb as yt,m as Bi,ma as re,na as le,oa as je,ob as hl,pa as dl,pb as gl,pc as Qe,r as al,rb as Jn,s as qe,sb as Xn,sc as ze,tb as Yn,u as Xi,ub as Zn,uc as N,v as Oi,vb as $n,w as rl,wb as vl,x as Fi,xb as eo,xc as Dl,y as Ni}from"./chunk-DMLQRPQG.js";import{A as Ee,B as De,C as ye,F as nl,G as ol,b as ki,c as $,h as ee,i as Ce,k as he,l as pi,m as ce,n as ge,o as Li,r as Vi,s as Ga}from"./chunk-QRBNL5ZA.js";import{$ as ie,$m as Yr,A as Qn,Am as yi,Bm as Xt,Cm as ln,D as qt,Dm as ai,Em as Kr,Fm as sn,Gm as Ti,H as oe,Hm as Jr,Ja as Ur,Jn as se,K as Ne,Km as Xr,Om as Ui,Pm as Ai,Qm as Ri,Rm as Yt,Sm as Qi,Tm as xi,Um as zi,Un as El,Vm as Zt,Wm as di,Xm as ci,Y as Oa,Ym as cn,Zm as Ki,_m as Ji,d as jt,da as jr,e as qr,f as Ye,ha as zn,km as Fa,l as Lr,lm as zr,m as ct,mm as ui,nm as fi,om as an,p as pt,q as Y,u as J,v as ae,wm as _i,xm as Di,y as Ut,ym as mt,zc as Qr,zm as rn}from"./chunk-IWWHFWKR.js";import{Ab as b,Ad as Wr,Bb as Ba,Cb as Ei,Db as Be,Dc as S,Eb as Oe,Ec as C,Fb as _,Fc as si,Ga as Rt,Gb as a,Hb as r,Ib as g,K as Mi,Mb as w,Nb as E,O as Ii,Ob as be,Pb as P,Ra as K,Sb as M,Ua as bt,Ub as d,Va as o,Vb as qi,Wb as ji,Xa as xt,Xc as F,Yb as U,Z as Pi,Zb as Q,_ as wi,_b as z,cb as I,cc as x,dc as kr,ec as H,ga as ka,gc as Vr,hc as c,ib as L,ic as A,jb as Va,jc as h,kc as de,lc as Br,ld as xe,mb as W,md as Nr,nc as D,ob as V,oc as y,pa as m,pc as T,qa as u,qc as Or,rc as Fr,rd as Jt,s as vi,sc as In,t as bi,tc as R,td as Fe,ua as La,uc as Wt,ud as Gr,xb as He,xc as _e,xd as Un,yc as Gt,yd as Hr,zb as v}from"./chunk-2AL2II5Z.js";import{i as Ie}from"./chunk-SEDBTTTN.js";var as=["*"];function rs(n,s){if(n&1&&(a(0,"label",3),c(1),r()),n&2){let e=d();_("for",Wt("app-cms-site-selector-",e.id)),o(),A(e.optionLabel)}}function ls(n,s){if(n&1&&(g(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=d();_("src",R(C(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),K)}}function ss(n,s){if(n&1&&(g(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;_("src",R(C(1,2,e.linkMainImageIdSrc)),K)}}function ds(n,s){if(n&1&&(a(0,"mat-option",8),v(1,ss,2,4,"img",5),a(2,"span"),c(3),r()()),n&2){let e=s.$implicit,i=d();_("value",e)("disabled",i.optionDisabled),o(),b(e.linkMainImageIdSrc?1:-1),o(2),A(i.displayOption(e))}}function cs(n,s){n&1&&g(0,"i",9)}function ps(n,s){n&1&&g(0,"i",10)}function ms(n,s){if(n&1){let e=P();a(0,"i",13),M("click",function(){m(e);let t=d();return u(t.onActionSelectClear())}),r()}}function us(n,s){n&1&&(a(0,"em"),c(1),S(2,"translate"),r()),n&2&&(o(),h("(",C(2,1,"TITLE.Necessary"),")"))}var pn=class pn{constructor(s,e,i,t,l,f){this.coreEnumService=s;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=l;this.categoryService=f;this.id=++pn.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Y;this.dataModelSelect=new ai;this.formControl=new pi;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionSelectForSendMessage=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new xt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Pi(""),Mi(1500),Ii(),wi(s=>typeof s=="string"||typeof s=="number"?this.DataGetAll(s||""):[]))}displayFn(s){return s?s.title:void 0}displayOption(s){return s?s.title:void 0}DataGetAll(s){return Ie(this,null,function*(){let e=new ae;e.rowPerPage=20,e.accessLoad=!0;let i=new J;i.propertyName="title",i.value=s,i.searchType=qt.Contains,i.clauseType=Ut.Or,e.filters.push(i),s&&typeof+s=="number"&&+s>0&&(i=new J,i.propertyName="id",i.value=s,i.searchType=qt.Equal,i.clauseType=Ut.Or,e.filters.push(i)),this.optionSelectForSendMessage&&(i=new J,i.propertyName="recordStatus",i.value=ct.Available,i.searchType=qt.Equal,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.get_information_list").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),e.sortColumn="priority",e.sortType=oe.Ascending,this.optionAccessDataType&&this.categoryService.setAccessDataType(this.optionAccessDataType),yield vi(this.categoryService.ServiceGetAll(e)).then(l=>(this.dataModelResult=l,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,this.formControl.setValue(this.dataModelResult.listItems[0]),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),l.listItems))})}onActionSelect(s){this.optionDisabled||(this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(s){return this.filteredOptions.pipe(bi(e=>(e.find(i=>i.id===s.id)||e.push(s),e)))}onActionSelectForce(s){if(typeof s=="string"&&s.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===s)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===s)){let e=this.dataModelResult.listItems.find(i=>i.id===s);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(s).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof s==typeof ai){this.filteredOptions=this.push(s),this.dataModelSelect=s,this.formControl.setValue(s);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new ai,this.onActionSelectClear(),this.loadOptions()}};pn.nextId=0,pn.\u0275fac=function(e){return new(e||pn)(I(ie),I(N),I(F),I(G),I(O),I(ci))},pn.\u0275cmp=L({type:pn,selectors:[["app-data-provider-source-path-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionSelectForSendMessage:"optionSelectForSendMessage",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionAccessDataType:"optionAccessDataType",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:as,decls:18,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=P();qi(),a(0,"div",1),g(1,"app-progress-spinner",2),v(2,rs,2,3,"label",3),a(3,"span",4),v(4,ls,2,4,"img",5),r(),g(5,"input",6),a(6,"mat-autocomplete",7,0),M("optionSelected",function(f){return m(t),u(i.onActionSelect(f.option.value))}),Be(8,ds,4,4,"mat-option",8,Ei),S(10,"async"),r(),v(11,cs,1,0,"i",9),v(12,ps,1,0,"i",10),v(13,ms,1,0,"i",11),a(14,"i",12),S(15,"translate"),M("click",function(){return m(t),u(i.onActionButtonReload())}),r(),v(16,us,3,3,"em"),ji(17),r()}if(e&2){let t=x(7);o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(),b((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),b(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),_("placeholder",R(i.optionPlaceholder))("id",Wt("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),He("disabled",i.optionDisabled?!0:null),o(),_("displayWith",i.displayFn),o(2),Oe(C(10,20,i.filteredOptions)),o(3),b(i.formControl.valid?-1:11),o(),b(i.optionRequired&&i.formControl.valid?12:-1),o(),b((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?13:-1),o(),H("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),_("title",R(C(15,22,"ACTION.RELOAD"))),o(2),b(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id.length<=0)?16:-1)}},dependencies:[$,ee,Ee,Vi,Fi,Bi,Ni,Xi,q,j,Fe,B,Pe],encapsulation:2});var tn=pn;function fs(n,s){if(n&1&&(a(0,"mat-option",6),c(1),r()),n&2){let e=s.$implicit,i=d();_("value",e),o(),h(" ",i.displayOption(e)," ")}}var oo=class oo{constructor(s,e,i,t,l,f){this.coreEnumService=s;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=l;this.categoryService=f;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Y;this.dataModelSelect=new ui;this.formControl=new pi;this.optionPlaceholder="";this.optionSelectFirstItem=!1;this.optionDisabled=!1;this.optionRequired=!1;this.optionLabel="";this.optionChange=new xt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Pi(""),Mi(1500),Ii(),wi(s=>typeof s=="string"||typeof s=="number"?this.DataGetAll(s||""):[]))}displayFn(s){return s?s.title:void 0}displayOption(s){return s?s.title:void 0}DataGetAll(s){return Ie(this,null,function*(){let e=new ae;e.rowPerPage=20,e.accessLoad=!0;let i=new J;i.propertyName="title",i.value=s,i.searchType=qt.Contains,i.clauseType=Ut.Or,e.filters.push(i),s&&typeof+s=="number"&&+s>0&&(i=new J,i.propertyName="id",i.value=s,i.searchType=qt.Equal,i.clauseType=Ut.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),yield vi(this.categoryService.ServiceGetAll(e)).then(l=>(this.dataModelResult=l,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||(typeof this.dataModelSelect.id=="string"?this.dataModelSelect.id.length===0:this.dataModelSelect.id<=0))&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),l.listItems))})}onActionSelect(s){this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(s){return this.filteredOptions.pipe(bi(e=>(e.find(i=>i.id===s.id)||e.push(s),e)))}onActionSelectForce(s){if(typeof s=="string"&&s.length>0||typeof s=="number"&&s>0){let e=typeof s=="string"?s:String(s);if(this.dataModelSelect&&String(this.dataModelSelect.id)===e)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>String(i.id)===e)){let i=this.dataModelResult.listItems.find(t=>String(t.id)===e);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(e).subscribe({next:i=>{i.isSuccess?(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item)):this.cmsToastrService.typeErrorMessage(i.errorMessage)}});return}if(typeof s==typeof ui){this.filteredOptions=this.push(s),this.dataModelSelect=s,this.formControl.setValue(s);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new ui,this.loadOptions()}};oo.\u0275fac=function(e){return new(e||oo)(I(ie),I(N),I(F),I(G),I(O),I(Ki))},oo.\u0275cmp=L({type:oo,selectors:[["app-data-provider-client-application-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,decls:10,vars:10,consts:[["auto","matAutocomplete"],[1,"w-100",3,"appearance"],["type","text","matInput","",3,"formControl","matAutocomplete","disabled","required"],[3,"optionSelected","displayWith"],[3,"value",4,"ngFor","ngForOf"],["matSuffix",""],[3,"value"]],template:function(e,i){if(e&1){let t=P();a(0,"mat-form-field",1)(1,"mat-label"),c(2),r(),g(3,"input",2),a(4,"mat-autocomplete",3,0),M("optionSelected",function(f){return m(t),u(i.onActionSelect(f.option.value))}),V(6,fs,2,2,"mat-option",4),S(7,"async"),r(),a(8,"mat-icon",5),c(9,"search"),r()()}if(e&2){let t=x(5);_("appearance","outline"),o(2),A(i.optionLabel||i.optionPlaceholder),o(),_("formControl",i.formControl)("matAutocomplete",t)("disabled",i.optionDisabled)("required",i.optionRequired),o(),_("displayWith",i.displayFn),o(2),_("ngForOf",C(7,8,i.filteredOptions))}},dependencies:[Nr,$,ee,Ee,Vi,Fi,Bi,Ni,rl,al,Oi,Je,q,Fe],encapsulation:2});var ao=oo;var _s=["vform"];function Ss(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",15),T("modelChange",function(t){m(e);let l=d();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=d();D("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Cs(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",16),c(2),r(),a(3,"mat-checkbox",17),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.isRequested,t)||(l.dataModel.isRequested=t),u(t)}),c(4),S(5,"translate"),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.isRequested==null?null:e.fieldsInfo.isRequested.fieldTitle),o(),D("ngModel",e.dataModel.isRequested),_("disabled",!(e.fieldsInfo.isRequested!=null&&e.fieldsInfo.isRequested.accessAddField)),o(),h(" ",C(5,4,"MESSAGE.Requested")," ")}}function hs(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",16),c(2),r(),a(3,"mat-checkbox",18),M("change",function(){m(e);let t=d();return u(t.onToggleIsApproved())}),c(4),S(5,"translate"),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.isApproved==null?null:e.fieldsInfo.isApproved.fieldTitle),o(),_("checked",e.dataModel.isApproved===!0)("disabled",!(e.fieldsInfo.isApproved!=null&&e.fieldsInfo.isApproved.accessAddField))("indeterminate",e.dataModel.isApproved===null),o(),h(" ",C(5,5,"MESSAGE.Approved")," ")}}function gs(n,s){if(n&1){let e=P();a(0,"div",13)(1,"label",19),c(2),r(),a(3,"input",20),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.fromDate,t)||(l.dataModel.fromDate=t),u(t)}),r(),g(4,"mat-datepicker-toggle",21)(5,"mat-datepicker",22,1),r()}if(n&2){let e=x(6),i=d();o(2),A(i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle),o(),D("ngModel",i.dataModel.fromDate),_("matDatepicker",e),o(),_("for",e),o(),_("calendarHeaderComponent",i.datapickerHeader)}}function vs(n,s){if(n&1){let e=P();a(0,"div",13)(1,"label",23),c(2),S(3,"translate"),r(),a(4,"input",24),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.expireDate,t)||(l.dataModel.expireDate=t),u(t)}),r(),g(5,"mat-datepicker-toggle",21)(6,"mat-datepicker",22,2),r()}if(n&2){let e=x(7),i=d();o(2),A(C(3,5,"TITLE.Expire_Date")),o(2),D("ngModel",i.dataModel.expireDate),_("matDatepicker",e),o(),_("for",e),o(),_("calendarHeaderComponent",i.datapickerHeader)}}function bs(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",25),c(2),r(),a(3,"textarea",26,3),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.description,t)||(l.dataModel.description=t),u(t)}),r(),a(5,"em"),c(6),r()()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),D("ngModel",i.dataModel.description),o(3),h("",e.value.length," / 500")}}function Ms(n,s){if(n&1){let e=P();a(0,"div",14)(1,"button",27),M("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",28),c(3),S(4,"translate"),r(),a(5,"button",29),g(6,"i",30),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),h(" ",C(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var ro=class ro extends _t{constructor(e,i,t,l,f,p,k){super(t,new fi,f,k);this.data=e;this.dialogRef=i;this.dataProviderClientApplicationPermissionService=t;this.cmsToastrService=l;this.publicHelper=f;this.cdr=p;this.translate=k;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Y;this.dataModel=new fi;this.fileManagerOpenForm=!1;this.datapickerHeader=to;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&(e.LinkClientApplicationId&&(this.dataModel.linkClientApplicationId=e.LinkClientApplicationId),e.LinkSourcePathId&&(this.dataModel.linkSourcePathId=e.LinkSourcePathId))}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderClientApplicationPermissionService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorClientApplication(e){if(!e||!e.id||e.id.length==0){this.dataModel.linkClientApplicationId=null;return}this.dataModel.linkClientApplicationId=e.id}onActionSelectorSourcePath(e){if(!e||!e.id||e.id.length==0){this.dataModel.linkSourcePathId=null;return}this.dataModel.linkSourcePathId=e.id}onToggleIsApproved(){this.dataModel.isApproved===null?this.dataModel.isApproved=!0:this.dataModel.isApproved===!0?this.dataModel.isApproved=!1:this.dataModel.isApproved=null}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ro.\u0275fac=function(i){return new(i||ro)(I(le),I(re),I(Ji),I(N),I(G),I(F),I(O))},ro.\u0275cmp=L({type:ro,selectors:[["app-data-provider-client-application-permission-add"]],viewQuery:function(i,t){if(i&1&&U(_s,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[W],decls:22,vars:23,consts:[["vform","ngForm"],["FromDate",""],["ExpireDate",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"color-highlight"],["name","dataModel.isRequested",3,"ngModelChange","ngModel","disabled"],["name","dataModel.isApproved",3,"change","checked","disabled","indeterminate"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",4),g(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),g(8,"app-cms-form-result-message",8),a(9,"form",9,0),M("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(11,Ss,1,5,"app-cms-enum-record-status-selector",10),a(12,"app-data-provider-client-application-selector",11),S(13,"translate"),M("optionChange",function(p){return m(l),u(t.onActionSelectorClientApplication(p))}),r(),a(14,"app-data-provider-source-path-selector",11),S(15,"translate"),M("optionChange",function(p){return m(l),u(t.onActionSelectorSourcePath(p))}),r(),v(16,Cs,6,6,"div",12),v(17,hs,6,7,"div",12),v(18,gs,7,5,"div",13),v(19,vs,8,7,"div",13),v(20,bs,7,5,"div",12),v(21,Ms,9,7,"div",14),r()()()}i&2&&(o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",C(7,17,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),_("optionDisabled",!((t.fieldsInfo.linkClientApplicationId==null?null:t.fieldsInfo.linkClientApplicationId.accessAddField)??!1))("optionSelectForce",t.dataModel.linkClientApplicationId)("optionPlaceholder",C(13,19,"TITLE.CLIENTAPPLICATION")),o(2),_("optionDisabled",!((t.fieldsInfo.linkSourcePathId==null?null:t.fieldsInfo.linkSourcePathId.accessAddField)??!1))("optionSelectForce",t.dataModel.linkSourcePathId)("optionPlaceholder",C(15,21,"TITLE.SOURCEPATH")),o(2),b(t.fieldsInfo.isRequested!=null&&t.fieldsInfo.isRequested.accessWatchField?16:-1),o(),b(t.fieldsInfo.isApproved!=null&&t.fieldsInfo.isApproved.accessWatchField?17:-1),o(),b(t.fieldsInfo.fromDate!=null&&t.fieldsInfo.fromDate.accessWatchField?18:-1),o(),b(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessWatchField?19:-1),o(),b(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?20:-1),o(),b(t.formInfo.submitButtonEnabled?21:-1))},dependencies:[ge,$,ee,Ce,De,ye,ce,he,Kn,Yi,Zi,$i,Oi,q,ve,j,Se,tn,ao,B],encapsulation:2});var lo=ro;var Is=["vform"];function Ps(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",15),T("modelChange",function(t){m(e);let l=d();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=d();D("model",e.dataModel.recordStatus),_("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ws(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",16),c(2),r(),a(3,"mat-checkbox",17),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.isRequested,t)||(l.dataModel.isRequested=t),u(t)}),c(4),S(5,"translate"),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.isRequested==null?null:e.fieldsInfo.isRequested.fieldTitle),o(),D("ngModel",e.dataModel.isRequested),_("disabled",!(e.fieldsInfo.isRequested!=null&&e.fieldsInfo.isRequested.accessEditField)),o(),h(" ",C(5,4,"MESSAGE.Requested")," ")}}function Es(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",16),c(2),r(),a(3,"mat-checkbox",18),M("change",function(){m(e);let t=d();return u(t.onToggleIsApproved())}),c(4),S(5,"translate"),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.isApproved==null?null:e.fieldsInfo.isApproved.fieldTitle),o(),_("checked",e.dataModel.isApproved===!0)("disabled",!(e.fieldsInfo.isApproved!=null&&e.fieldsInfo.isApproved.accessEditField))("indeterminate",e.dataModel.isApproved===null),o(),h(" ",C(5,5,"MESSAGE.Approved")," ")}}function Ds(n,s){if(n&1){let e=P();a(0,"div",13)(1,"label",19),c(2),r(),a(3,"input",20),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.fromDate,t)||(l.dataModel.fromDate=t),u(t)}),r(),g(4,"mat-datepicker-toggle",21)(5,"mat-datepicker",22,1),r()}if(n&2){let e=x(6),i=d();o(2),A(i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle),o(),D("ngModel",i.dataModel.fromDate),_("matDatepicker",e)("disabled",!(i.fieldsInfo.fromDate!=null&&i.fieldsInfo.fromDate.accessEditField)),o(),_("for",e),o(),_("calendarHeaderComponent",i.datapickerHeader)}}function ys(n,s){if(n&1){let e=P();a(0,"div",13)(1,"label",23),c(2),S(3,"translate"),r(),a(4,"input",24),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.expireDate,t)||(l.dataModel.expireDate=t),u(t)}),r(),g(5,"mat-datepicker-toggle",21)(6,"mat-datepicker",22,2),r()}if(n&2){let e=x(7),i=d();o(2),A(C(3,6,"TITLE.Expire_Date")),o(2),D("ngModel",i.dataModel.expireDate),_("matDatepicker",e)("disabled",!(i.fieldsInfo.expireDate!=null&&i.fieldsInfo.expireDate.accessEditField)),o(),_("for",e),o(),_("calendarHeaderComponent",i.datapickerHeader)}}function Ts(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",25),c(2),r(),a(3,"textarea",26,3),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.description,t)||(l.dataModel.description=t),u(t)}),r(),a(5,"em"),c(6),r()()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),D("ngModel",i.dataModel.description),_("disabled",!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessEditField)),o(3),h("",e.value.length," / 500")}}function As(n,s){if(n&1){let e=P();a(0,"div",14)(1,"button",27),M("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",28),c(3),S(4,"translate"),r(),a(5,"button",29),g(6,"i",30),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),h(" ",C(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var so=class so extends St{constructor(e,i,t,l,f,p,k){super(t,new fi,f,k);this.data=e;this.dialogRef=i;this.dataProviderClientApplicationPermissionService=t;this.cmsToastrService=l;this.publicHelper=f;this.cdr=p;this.translate=k;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new pt;this.dataModel=new fi;this.fileManagerOpenForm=!1;this.datapickerHeader=to;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderClientApplicationPermissionService.setAccessLoad(),this.dataProviderClientApplicationPermissionService.setAccessDataType(Ne.Editor),this.dataProviderClientApplicationPermissionService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderClientApplicationPermissionService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorClientApplication(e){if(!e||!e.id||e.id.length==0){this.dataModel.linkClientApplicationId=null;return}this.dataModel.linkClientApplicationId=e.id}onActionSelectorSourcePath(e){if(!e||!e.id||e.id.length==0){this.dataModel.linkSourcePathId=null;return}this.dataModel.linkSourcePathId=e.id}onToggleIsApproved(){this.dataModel.isApproved===null?this.dataModel.isApproved=!0:this.dataModel.isApproved===!0?this.dataModel.isApproved=!1:this.dataModel.isApproved=null}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};so.\u0275fac=function(i){return new(i||so)(I(le),I(re),I(Ji),I(N),I(G),I(F),I(O))},so.\u0275cmp=L({type:so,selectors:[["app-data-provider-client-application-permission-edit"]],viewQuery:function(i,t){if(i&1&&U(Is,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[W],decls:22,vars:23,consts:[["vform","ngForm"],["FromDate",""],["ExpireDate",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"color-highlight"],["name","dataModel.isRequested",3,"ngModelChange","ngModel","disabled"],["name","dataModel.isApproved",3,"change","checked","disabled","indeterminate"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker","disabled"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",4),g(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),g(8,"app-cms-form-result-message",8),a(9,"form",9,0),M("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(11,Ps,1,5,"app-cms-enum-record-status-selector",10),a(12,"app-data-provider-client-application-selector",11),S(13,"translate"),M("optionChange",function(p){return m(l),u(t.onActionSelectorClientApplication(p))}),r(),a(14,"app-data-provider-source-path-selector",11),S(15,"translate"),M("optionChange",function(p){return m(l),u(t.onActionSelectorSourcePath(p))}),r(),v(16,ws,6,6,"div",12),v(17,Es,6,7,"div",12),v(18,Ds,7,6,"div",13),v(19,ys,8,8,"div",13),v(20,Ts,7,6,"div",12),v(21,As,9,7,"div",14),r()()()}i&2&&(o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",C(7,17,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),_("optionDisabled",!((t.fieldsInfo.linkClientApplicationId==null?null:t.fieldsInfo.linkClientApplicationId.accessEditField)??!1))("optionSelectForce",t.dataModel.linkClientApplicationId)("optionPlaceholder",C(13,19,"TITLE.CLIENTAPPLICATION")),o(2),_("optionDisabled",!((t.fieldsInfo.linkSourcePathId==null?null:t.fieldsInfo.linkSourcePathId.accessEditField)??!1))("optionSelectForce",t.dataModel.linkSourcePathId)("optionPlaceholder",C(15,21,"TITLE.SOURCEPATH")),o(2),b(t.fieldsInfo.isRequested!=null&&t.fieldsInfo.isRequested.accessWatchField?16:-1),o(),b(t.fieldsInfo.isApproved!=null&&t.fieldsInfo.isApproved.accessWatchField?17:-1),o(),b(t.fieldsInfo.fromDate!=null&&t.fieldsInfo.fromDate.accessWatchField?18:-1),o(),b(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessWatchField?19:-1),o(),b(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?20:-1),o(),b(t.formInfo.submitButtonEnabled?21:-1))},dependencies:[ge,$,ee,Ce,De,ye,ce,he,Kn,Yi,Zi,$i,Oi,q,ve,j,Se,tn,ao,B],encapsulation:2});var co=so;var Rs=()=>["expandedDetail"],xs=()=>[5,10,20,100],ks=n=>({display:n});function Ls(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",44),M("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",45)(3,"br"),r(),a(4,"p",46),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.ADD")," "))}function Vs(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",47),M("click",function(){m(e);let t=d();return u(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",48)(3,"br"),r(),a(4,"p",46),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.EDIT")," "))}function Bs(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",49),M("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",50)(3,"br"),r(),a(4,"p",46),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.DELETE")," "))}function Os(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Fs(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.id," ")}}function Ns(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Gs(n,s){if(n&1&&(a(0,"mat-cell",52),S(1,"statusCellClass"),g(2,"i",52),S(3,"statusIconClass"),r()),n&2){let e=s.$implicit;_("ngClass",C(1,2,e.recordStatus)),o(2),_("ngClass",C(3,4,e.recordStatus))}}function Hs(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.linkClientApplicationId==null?null:e.fieldsInfo.linkClientApplicationId.fieldTitle," ")}}function Ws(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.linkClientApplicationId," ")}}function qs(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.linkSourcePathId==null?null:e.fieldsInfo.linkSourcePathId.fieldTitle," ")}}function js(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.linkSourcePathId," ")}}function Us(n,s){if(n&1&&(a(0,"mat-header-cell",53),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.isRequested==null?null:e.fieldsInfo.isRequested.fieldTitle," ")}}function Qs(n,s){if(n&1&&(a(0,"mat-cell"),g(1,"i",52),S(2,"boolclass"),r()),n&2){let e=s.$implicit;o(),_("ngClass",C(2,1,e.isRequested))}}function zs(n,s){if(n&1&&(a(0,"mat-header-cell",53),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.isApproved==null?null:e.fieldsInfo.isApproved.fieldTitle," ")}}function Ks(n,s){n&1&&g(0,"i",54)}function Js(n,s){if(n&1&&(g(0,"i",52),S(1,"boolclass")),n&2){let e=d().$implicit;_("ngClass",C(1,1,e.isApproved))}}function Xs(n,s){if(n&1&&(a(0,"mat-cell"),v(1,Ks,1,0,"i",54)(2,Js,2,3,"i",52),r()),n&2){let e=s.$implicit;o(),b(e.isApproved===null?1:2)}}function Ys(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.fromDate==null?null:e.fieldsInfo.fromDate.fieldTitle," ")}}function Zs(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"localeDate"),r()),n&2){let e=s.$implicit;o(),h(" ",C(2,1,e.fromDate)," ")}}function $s(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function ed(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"localeDate"),r()),n&2){let e=s.$implicit;o(),h(" ",C(2,1,e.expireDate)," ")}}function td(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function id(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"localeDate"),r()),n&2){let e=s.$implicit;o(),h(" ",C(2,1,e.createdDate)," ")}}function nd(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function od(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"localeDate"),r()),n&2){let e=s.$implicit;o(),h(" ",C(2,1,e.updatedDate)," ")}}function ad(n,s){n&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"TITLE.OPTION")," "))}function rd(n,s){if(n&1){let e=P();a(0,"button",58),M("click",function(){m(e);let t=d().$implicit,l=d();return u(l.onActionButtonEditRow(t))}),a(1,"mat-icon"),c(2,"edit"),r(),a(3,"span"),c(4),S(5,"translate"),r()()}n&2&&(o(4),A(C(5,1,"ACTION.EDIT")))}function ld(n,s){if(n&1){let e=P();a(0,"button",58),M("click",function(){m(e);let t=d().$implicit,l=d();return u(l.onActionButtonDeleteRow(t))}),a(1,"mat-icon"),c(2,"delete"),r(),a(3,"span"),c(4),S(5,"translate"),r()()}n&2&&(o(4),A(C(5,1,"ACTION.DELETE")))}function sd(n,s){if(n&1&&(a(0,"mat-cell",55)(1,"button",56)(2,"mat-icon"),c(3,"more_vert"),r()(),a(4,"mat-menu",null,2),v(6,rd,6,3,"button",57),v(7,ld,6,3,"button",57),r()()),n&2){let e=x(5),i=d();o(),_("matMenuTriggerFor",e),o(5),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?6:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow?7:-1)}}function dd(n,s){if(n&1&&(a(0,"tr"),g(1,"td"),a(2,"td"),c(3),r()()),n&2){let e=d().$implicit,i=d();o(3),de(" ",i.fieldsInfo.linkClientApplicationId==null?null:i.fieldsInfo.linkClientApplicationId.fieldTitle," : ",e.linkClientApplicationId," ")}}function cd(n,s){if(n&1&&(a(0,"tr"),g(1,"td"),a(2,"td"),c(3),r()()),n&2){let e=d().$implicit,i=d();o(3),de(" ",i.fieldsInfo.linkSourcePathId==null?null:i.fieldsInfo.linkSourcePathId.fieldTitle," : ",e.linkSourcePathId," ")}}function pd(n,s){if(n&1&&(a(0,"tr"),g(1,"td"),a(2,"td"),c(3),g(4,"i",52),S(5,"boolclass"),r()()),n&2){let e=d().$implicit,i=d();o(3),h(" ",i.fieldsInfo.isRequested==null?null:i.fieldsInfo.isRequested.fieldTitle," : "),o(),_("ngClass",C(5,2,e.isRequested))}}function md(n,s){n&1&&g(0,"i",54)}function ud(n,s){if(n&1&&(g(0,"i",52),S(1,"boolclass")),n&2){let e=d(2).$implicit;_("ngClass",C(1,1,e.isApproved))}}function fd(n,s){if(n&1&&(a(0,"tr"),g(1,"td"),a(2,"td"),c(3),v(4,md,1,0,"i",54)(5,ud,2,3,"i",52),r()()),n&2){let e=d().$implicit,i=d();o(3),h(" ",i.fieldsInfo.isApproved==null?null:i.fieldsInfo.isApproved.fieldTitle," : "),o(),b(e.isApproved===null?4:5)}}function _d(n,s){if(n&1&&(a(0,"tr"),g(1,"td"),a(2,"td"),c(3),S(4,"localeDate"),r()()),n&2){let e=d().$implicit,i=d();o(3),de(" ",i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle," : ",C(4,2,e.fromDate)," ")}}function Sd(n,s){if(n&1&&(a(0,"tr"),g(1,"td"),a(2,"td"),c(3),S(4,"localeDate"),r()()),n&2){let e=d().$implicit,i=d();o(3),de(" ",i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle," : ",C(4,2,e.expireDate)," ")}}function Cd(n,s){if(n&1&&(a(0,"tr"),g(1,"td"),a(2,"td"),c(3),S(4,"localeDate"),r()()),n&2){let e=d().$implicit,i=d();o(3),de(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle," : ",C(4,2,e.createdDate)," ")}}function hd(n,s){if(n&1&&(a(0,"tr"),g(1,"td"),a(2,"td"),c(3),S(4,"localeDate"),r()()),n&2){let e=d().$implicit,i=d();o(3),de(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle," : ",C(4,2,e.updatedDate)," ")}}function gd(n,s){if(n&1&&(a(0,"mat-cell")(1,"div")(2,"table"),v(3,dd,4,2,"tr"),v(4,cd,4,2,"tr"),v(5,pd,6,4,"tr"),v(6,fd,6,2,"tr"),v(7,_d,5,4,"tr"),v(8,Sd,5,4,"tr"),v(9,Cd,5,4,"tr"),v(10,hd,5,4,"tr"),a(11,"tr"),g(12,"td")(13,"td"),r()()()()),n&2){let e=s.$implicit;o(3),b(e.linkClientApplicationId?3:-1),o(),b(e.linkSourcePathId?4:-1),o(),b(e.isRequested!==null&&e.isRequested!==void 0?5:-1),o(),b(e.isApproved!==null&&e.isApproved!==void 0?6:-1),o(),b(e.fromDate?7:-1),o(),b(e.expireDate?8:-1),o(),b(e.createdDate?9:-1),o(),b(e.updatedDate?10:-1)}}function vd(n,s){n&1&&g(0,"mat-header-row")}function bd(n,s){if(n&1){let e=P();a(0,"mat-row",59),M("click",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Md(n,s){if(n&1){let e=P();a(0,"mat-row",60),M("click",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),_("ngStyle",Gt(3,ks,e.expanded===!0?"":"none"))}}var po=class po extends Ct{constructor(e,i,t,l,f,p,k,X,Ge,$e,Ke,dt){super(e,new fi,Ke,p,X);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=l;this.router=f;this.tokenHelper=p;this.cdr=k;this.translate=X;this.cmsStoreService=Ge;this.pageInfo=$e;this.publicHelper=Ke;this.dialog=dt;this.tableData=[];this.requestLinkClientApplicationId="";this.requestLinkSourcePathId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ae;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","linkClientApplicationId","linkSourcePathId","isRequested","isApproved","fromDate","expireDate","Action"];this.tabledisplayedColumnsMobileSource=["recordStatus","linkClientApplicationId","linkSourcePathId","isRequested","isApproved","fromDate","expireDate","Action"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:oi=>this.onSubmitOptionsSearch(oi)},this.requestLinkClientApplicationId=this.activatedRoute.snapshot.paramMap.get("LinkClientApplicationId")||"",this.requestLinkClientApplicationId&&this.requestLinkClientApplicationId.length>0){let oi=new J;oi.propertyName="LinkClientApplicationId",oi.value=this.requestLinkClientApplicationId,this.filteModelContent.filters.push(oi)}if(this.requestLinkSourcePathId=this.activatedRoute.snapshot.paramMap.get("LinkSourcePathId")||"",this.requestLinkSourcePathId&&this.requestLinkSourcePathId.length>0){let oi=new J;oi.propertyName="LinkSourcePathId",oi.value=this.requestLinkSourcePathId,this.filteModelContent.filters.push(oi)}this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=oe.Descending}ngOnInit(){if(this.requestLinkClientApplicationId=this.activatedRoute.snapshot.paramMap.get("LinkClientApplicationId")||"",this.requestLinkSourcePathId=this.activatedRoute.snapshot.paramMap.get("LinkSourcePathId")||"",this.filteModelContent.filters=this.filteModelContent.filters.filter(e=>e.propertyName!=="LinkClientApplicationId"&&e.propertyName!=="LinkSourcePathId"),this.requestLinkClientApplicationId&&this.requestLinkClientApplicationId.length>0){let e=new J;e.propertyName="LinkClientApplicationId",e.value=this.requestLinkClientApplicationId,this.filteModelContent.filters.push(e)}if(this.requestLinkSourcePathId&&this.requestLinkSourcePathId.length>0){let e=new J;e.propertyName="LinkSourcePathId",e.value=this.requestLinkSourcePathId,this.filteModelContent.filters.push(e)}this.unsubscribe.push(this.activatedRoute.paramMap.subscribe(e=>{let i=e.get("LinkClientApplicationId")||"",t=e.get("LinkSourcePathId")||"";if(i!==this.requestLinkClientApplicationId||t!==this.requestLinkSourcePathId){if(this.requestLinkClientApplicationId=i,this.requestLinkSourcePathId=t,this.filteModelContent.filters=this.filteModelContent.filters.filter(l=>l.propertyName!=="LinkClientApplicationId"&&l.propertyName!=="LinkSourcePathId"),this.requestLinkClientApplicationId&&this.requestLinkClientApplicationId.length>0){let l=new J;l.propertyName="LinkClientApplicationId",l.value=this.requestLinkClientApplicationId,this.filteModelContent.filters.push(l)}if(this.requestLinkSourcePathId&&this.requestLinkSourcePathId.length>0){let l=new J;l.propertyName="LinkSourcePathId",l.value=this.requestLinkSourcePathId,this.filteModelContent.filters.push(l)}this.filteModelContent.currentPageNumber=0,this.tokenInfo&&this.DataGetAll()}})),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Ie(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new fi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,t.isSuccess?(this.tableData=t.listItems,this.tableSource.data=t.listItems,this.sort&&(this.tableSource.sort=this.sort),this.paginator&&(this.tableSource.paginator=this.paginator),this.tableSource.filter="",this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.direction==="asc"?(e.direction="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=oe.Descending):this.tableSource.sort.direction==="desc"?(e.direction="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=oe.Ascending):e.direction="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=oe.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(lo,{height:"90%",panelClass:e,enterAnimationDuration:se.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:se.cmsViewConfig.exitAnimationDuration,data:{LinkClientApplicationId:this.requestLinkClientApplicationId,LinkSourcePathId:this.requestLinkSourcePathId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(co,{height:"90%",panelClass:i,enterAnimationDuration:se.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:se.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(f,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new J;f.propertyName="recordStatus",f.value=ct.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonDataRow(e,i){this.onActionButtonEditRow(e)}onActionbuttonExport(){var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ll,{height:"50%",enterAnimationDuration:se.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:se.cmsViewConfig.exitAnimationDuration,panelClass:e,data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(t=>{})}onActionbuttonPrintRow(e=this.tableRowSelected){if(this.tableRowSelected=e,!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){let i=this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow");this.cmsToastrService.typeErrorSelected(i);return}this.onActionTableRowSelect(e)}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionTableRowSelect(e,i=null){if(i&&i.preventDefault(),this.tableRowSelected=e,this.publicHelper.pageInfo.updateContentInfo(new Tl(e.id,e.title,e.viewContentHidden,"",e.urlViewContent)),this.tableRowSelected.id===e.id?e.expanded==!0?e.expanded=!1:e.expanded=!0:e.expanded=!1,i?.button===2){this.tableRowSelect2Click=!1,this.tableRowSelect3Click=!1,setTimeout(()=>{this.tableRowSelect2Click=!0,this.tableRowSelect3Click=!1},100);return}this.clickCount++,setTimeout(()=>{this.clickCount===1?(this.tableRowSelect2Click=!1,this.tableRowSelect3Click=!1):this.clickCount===2?(this.tableRowSelect2Click=!0,this.tableRowSelect3Click=!1):this.clickCount===3&&(this.tableRowSelect2Click=!1,this.tableRowSelect3Click=!0),this.clickCount=0},500)}onActionButtonMemo(e=this.tableRowSelected){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.cmsToastrService.typeErrorSelectedRow();return}this.onActionTableRowSelect(e)}onActionButtonMemoRow(e=this.tableRowSelected){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.cmsToastrService.typeErrorSelectedRow();return}this.onActionTableRowSelect(e)}};po.\u0275fac=function(i){return new(i||po)(I(Ji),I(N),I(jt),I(Qt),I(Ye),I(ze),I(F),I(O),I(Qe),I(ft),I(G),I(je))},po.\u0275cmp=L({type:po,selectors:[["app-data-provider-client-application-permission-list"]],viewQuery:function(i,t){if(i&1&&(U(Ue,5),U(pe,5)),i&2){let l;Q(l=z())&&(t.sort=l.first),Q(l=z())&&(t.paginator=l.first)}},standalone:!1,features:[W],decls:71,vars:32,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowDisplay","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkClientApplicationId"],["matColumnDef","linkSourcePathId"],["matColumnDef","isRequested"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","isApproved"],["matColumnDef","fromDate"],["matColumnDef","expireDate"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["mat-sort-header","",1,"form-label"],[1,"fa","fa-question-circle","text-warning"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["mat-menu-item",""],["mat-menu-item","",3,"click"],[1,"ntk-row-mainfild",3,"click","rtclick"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list",3),T("optionActionGuideNoticeDisplayChange",function(p){return m(l),y(t.viewGuideNotice,p)||(t.viewGuideNotice=p),u(p)}),M("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionbuttonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionbuttonPrintRow())}),w(1,4),c(2," -------------------------------------- "),E(),be(3,5)(4,6),w(5,7),a(6,"a",8),M("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),g(7,"i",9),r(),a(8,"a",8),M("click",function(){return m(l),u(t.onActionButtonReload())}),g(9,"i",10),r(),E(),w(10,11),a(11,"a",12),M("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(12,"mat-slide-toggle",13),c(13),S(14,"translate"),r(),a(15,"a",12),M("click",function(){return m(l),u(t.onActionButtonStatist())}),g(16,"mat-slide-toggle",13),c(17),S(18,"translate"),r(),E(),w(19,14),v(20,Ls,7,3,"div",15),E(),w(21,16),v(22,Vs,7,3,"div",15),v(23,Bs,7,3,"div",15),E(),w(24,17),a(25,"app-cms-search-list",18),T("optionsChange",function(p){return m(l),y(t.optionsSearch,p)||(t.optionsSearch=p),u(p)}),r(),a(26,"app-cms-statist-list",18),T("optionsChange",function(p){return m(l),y(t.optionsStatist,p)||(t.optionsStatist=p),u(p)}),r(),E(),w(27,19),a(28,"mat-table",20,0),M("matSortChange",function(){m(l);let p=x(29);return u(t.onTableSortData(p))}),w(30,21),V(31,Os,2,1,"mat-header-cell",22)(32,Fs,2,1,"mat-cell",23),E(),w(33,24),V(34,Ns,2,1,"mat-header-cell",22)(35,Gs,4,6,"mat-cell",25),E(),w(36,26),V(37,Hs,2,1,"mat-header-cell",22)(38,Ws,2,1,"mat-cell",23),E(),w(39,27),V(40,qs,2,1,"mat-header-cell",22)(41,js,2,1,"mat-cell",23),E(),w(42,28),V(43,Us,2,1,"mat-header-cell",29)(44,Qs,3,3,"mat-cell",23),E(),w(45,30),V(46,zs,2,1,"mat-header-cell",29)(47,Xs,3,1,"mat-cell",23),E(),w(48,31),V(49,Ys,2,1,"mat-header-cell",22)(50,Zs,3,3,"mat-cell",23),E(),w(51,32),V(52,$s,2,1,"mat-header-cell",22)(53,ed,3,3,"mat-cell",23),E(),w(54,33),V(55,td,2,1,"mat-header-cell",22)(56,id,3,3,"mat-cell",23),E(),w(57,34),V(58,nd,2,1,"mat-header-cell",22)(59,od,3,3,"mat-cell",23),E(),w(60,35),V(61,ad,3,3,"mat-header-cell",36)(62,sd,8,3,"mat-cell",37),E(),w(63,38),V(64,gd,14,8,"mat-cell",23),E(),V(65,vd,1,0,"mat-header-row",39)(66,bd,1,2,"mat-row",40)(67,Md,1,5,"mat-row",41),r(),E(),w(68,42),a(69,"mat-paginator",43,1),M("page",function(p){return m(l),u(t.onTablePageingData(p))}),r(),E(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowDisplay",(t.tableRowSelected==null||t.tableRowSelected.linkSourcePathId==null?null:t.tableRowSelected.linkSourcePathId.length)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null?null:t.tableRowSelected.linkSourcePathId)+" - "+(t.tableRowSelected==null?null:t.tableRowSelected.linkClientApplicationId)),o(9),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),h("",C(14,26,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),h("",C(18,28,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(2),D("options",t.optionsSearch),o(),D("options",t.optionsStatist),o(2),_("dataSource",t.tableSource),o(37),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(),_("matRowDefColumns",_e(30,Rs)),o(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(31,xs)))},dependencies:[xe,Jt,Ze,Je,Mt,Qa,It,pe,Te,Ue,tt,Pt,nt,wt,ot,it,Et,at,rt,Dt,yt,Ae,Re,Tt,ke,B,ti,Le,en,yl],encapsulation:2});var mn=po;var Id=()=>[5,10,20,100],Pd=(n,s)=>s.id;function wd(n,s){if(n&1){let e=P();a(0,"div",13)(1,"a",22),M("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",23)(3,"br"),r(),a(4,"p",24),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.ADD")," "))}function Ed(n,s){if(n&1){let e=P();a(0,"div",13)(1,"a",25),M("click",function(){m(e);let t=d();return u(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",26)(3,"br"),r(),a(4,"p",24),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.EDIT")," "))}function Dd(n,s){if(n&1){let e=P();a(0,"div",13)(1,"a",27),M("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",28)(3,"br"),r(),a(4,"p",24),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.DELETE")," "))}function yd(n,s){n&1&&(a(0,"span"),g(1,"i",37),c(2),S(3,"translate"),r()),n&2&&(o(2),h(" ",C(3,1,"MESSAGE.Requested")))}function Td(n,s){if(n&1&&(a(0,"span"),g(1,"i",38),c(2),S(3,"translate"),S(4,"translate"),r()),n&2){let e=d().$implicit;o(),Vr(Wt("fa-solid fa-",e.isApproved?"check":"xmark")),o(),h(" ",e.isApproved?C(3,4,"MESSAGE.Approved"):C(4,6,"MESSAGE.Rejected")," ")}}function Ad(n,s){if(n&1&&(a(0,"div",35),g(1,"i",39),c(2),S(3,"localeDate"),r()),n&2){let e=d().$implicit,i=d(2);o(2),de(" ",i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle,": ",C(3,2,e.fromDate)," ")}}function Rd(n,s){if(n&1&&(a(0,"div",35),g(1,"i",40),c(2),S(3,"localeDate"),r()),n&2){let e=d().$implicit,i=d(2);o(2),de(" ",i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle,": ",C(3,2,e.expireDate)," ")}}function xd(n,s){if(n&1&&(a(0,"div",36)(1,"div",35)(2,"span",41),g(3,"i",42),r(),c(4),r()()),n&2){let e=d().$implicit;o(2),_("cdkCopyToClipboard",e.id==null?null:e.id.toString()),o(2),h(" ID: ",e.id," ")}}function kd(n,s){if(n&1){let e=P();a(0,"div",30),M("click",function(t){let l=m(e).$implicit,f=d(2);return u(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d(2);return u(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d(2);return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d(2);return u(l.onActionTableRowMouseLeave(t))}),a(1,"div",31),g(2,"i",32),r(),a(3,"div",33)(4,"div",34),c(5),r(),a(6,"div",35),v(7,yd,4,3,"span"),v(8,Td,5,8,"span"),r(),v(9,Ad,4,4,"div",35),v(10,Rd,4,4,"div",35),v(11,xd,5,2,"div",36),r()()}if(n&2){let e=s.$implicit,i=d(2);H("selected",(i.tableRowSelected==null?null:i.tableRowSelected.id)===e.id),He("aria-label",e.linkClientApplicationId+" - "+e.linkSourcePathId),o(5),de(" ",e.linkClientApplicationId," - ",e.linkSourcePathId," "),o(2),b(e.isRequested?7:-1),o(),b(e.isApproved!==null?8:-1),o(),b(e.fromDate?9:-1),o(),b(e.expireDate?10:-1),o(),b(i.getRowExpanded(e)?11:-1)}}function Ld(n,s){if(n&1&&(a(0,"div",18),Be(1,kd,12,10,"div",29,Pd),r()),n&2){let e=d();o(),Oe(e.tableData)}}function Vd(n,s){n&1&&(a(0,"div",19),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"MESSAGE.No_Data")," "))}var En=class En extends mn{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(e){return e.expanded===!0}};En.\u0275fac=(()=>{let e;return function(t){return(e||(e=Rt(En)))(t||En)}})(),En.\u0275cmp=L({type:En,selectors:[["app-data-provider-client-application-permission-list-mobile"]],hostBindings:function(i,t){i&1&&M("click",function(f){return t.onDocumentClick(f)},bt)},standalone:!1,features:[W],decls:32,vars:30,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item",3,"selected"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",1,"fa-solid","fa-key"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hourglass-half"],["aria-hidden","true"],["aria-hidden","true",1,"fa-solid","fa-calendar"],["aria-hidden","true",1,"fa-solid","fa-calendar-times"],[1,"navi-icon","pointer",3,"cdkCopyToClipboard"],[1,"flaticon2-copy"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list-mobile",1),T("optionActionGuideNoticeDisplayChange",function(p){return m(l),y(t.viewGuideNotice,p)||(t.viewGuideNotice=p),u(p)}),M("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionButtonPrintRow())}),be(1,2)(2,3)(3,4),w(4,5),a(5,"a",6),M("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),g(6,"i",7),r(),a(7,"a",6),M("click",function(){return m(l),u(t.onActionButtonReload())}),g(8,"i",8),r(),E(),w(9,9),a(10,"a",10),M("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(11,"mat-slide-toggle",11),c(12),S(13,"translate"),r(),a(14,"a",10),M("click",function(){return m(l),u(t.onActionButtonStatist())}),g(15,"mat-slide-toggle",11),c(16),S(17,"translate"),r(),E(),w(18,12),v(19,wd,7,3,"div",13),E(),w(20,14),v(21,Ed,7,3,"div",13),v(22,Dd,7,3,"div",13),E(),w(23,15),a(24,"app-cms-search-list",16),T("optionsChange",function(p){return m(l),y(t.optionsSearch,p)||(t.optionsSearch=p),u(p)}),r(),a(25,"app-cms-statist-list",16),T("optionsChange",function(p){return m(l),y(t.optionsStatist,p)||(t.optionsStatist=p),u(p)}),r(),E(),w(26,17),v(27,Ld,3,0,"div",18)(28,Vd,3,3,"div",19),E(),w(29,20),a(30,"mat-paginator",21,0),M("page",function(p){return m(l),u(t.onTablePageingData(p))}),r(),E(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null||t.tableRowSelected.linkSourcePathId==null?null:t.tableRowSelected.linkSourcePathId.length)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null?null:t.tableRowSelected.linkSourcePathId)+" - "+(t.tableRowSelected==null?null:t.tableRowSelected.linkClientApplicationId)),o(8),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),h("",C(13,25,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),h("",C(17,27,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?19:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null||t.tableRowSelected.linkSourcePathId==null?null:t.tableRowSelected.linkSourcePathId.length)>0?21:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null||t.tableRowSelected.linkSourcePathId==null?null:t.tableRowSelected.linkSourcePathId.length)>0?22:-1),o(2),D("options",t.optionsSearch),o(),D("options",t.optionsStatist),o(2),b(t.tableData&&t.tableData.length>0?27:28),o(3),_("length",(t.dataModelResult==null?null:t.dataModelResult.totalRowCount)||0)("pageIndex",((t.dataModelResult==null?null:t.dataModelResult.currentPageNumber)||1)-1)("pageSize",(t.dataModelResult==null?null:t.dataModelResult.rowPerPage)||10)("pageSizeOptions",_e(29,Id)))},dependencies:[pe,Te,Xe,Ae,Re,kt,ke,B,ti],styles:[".cms-m-body[_ngcontent-%COMP%]{min-height:100vh;background:var(--cms-m-bg, #0f172a);color:var(--cms-m-fg, #e2e8f0)}.cms-m-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2;background:var(--cms-m-header-bg, #0f172a);border-bottom:1px solid rgba(255,255,255,.08)}.cms-m-header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 16px}.cms-m-header-title[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:var(--cms-m-accent, #38bdf8)}.cms-m-header-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-left:auto}.cms-m-header-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:#ffffff0d;color:#e2e8f0;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.cms-m-header-action-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.cms-m-header-action-btn.active[_ngcontent-%COMP%]{background:#38bdf833;border-color:#38bdf866}.cms-m-header-action-btn[_ngcontent-%COMP%]   i.rotation360[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotation360 1s linear infinite}@keyframes _ngcontent-%COMP%_rotation360{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.cms-m-search-area[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px 16px}.cms-m-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.cms-m-list-item[_ngcontent-%COMP%]{display:flex;gap:12px;padding:12px;border-radius:14px;background:#ffffff0a;border:1px solid rgba(255,255,255,.06);cursor:pointer;transition:all .2s ease}.cms-m-list-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.cms-m-list-item.selected[_ngcontent-%COMP%]{border-color:var(--cms-m-accent, #38bdf8);box-shadow:0 0 0 1px #38bdf84d}.cms-m-list-item-content[_ngcontent-%COMP%]{flex:1;min-width:0}.cms-m-list-item-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:4px;font-size:14px}.cms-m-list-item-subtitle[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8}.cms-m-list-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0;gap:8px}.cms-m-empty[_ngcontent-%COMP%]{padding:24px;text-align:center;color:#94a3b8}.cms-m-fab[_ngcontent-%COMP%]{position:fixed;bottom:24px;right:24px;z-index:10}.cms-m-fab-button[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:50%;background:var(--cms-m-accent, #38bdf8);color:#fff;border:none;box-shadow:0 4px 12px #0000004d;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.cms-m-fab-button[_ngcontent-%COMP%]:active{transform:scale(.95)}.cms-m-fab-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px}"]});var mo=En;var Od=["vform"];function Fd(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",23),T("modelChange",function(t){m(e);let l=d();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=d();D("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Nd(n,s){n&1&&g(0,"i",17)}function Gd(n,s){n&1&&g(0,"i",18)}function Hd(n,s){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.required")))}function Wd(n,s){if(n&1){let e=P();a(0,"app-cms-user-selector",24),S(1,"translate"),M("optionChange",function(t){m(e);let l=d();return u(l.onActionSelectorUser(t))}),r()}if(n&2){let e=d();_("optionSelectForce",e.dataModel.linkCoreUserId)("optionPlaceholder",C(1,4,"TITLE.USER"))("optionDisabled",!((e.fieldsInfo.linkCoreUserId==null?null:e.fieldsInfo.linkCoreUserId.accessEditField)??!1))("optionLabel",e.fieldsInfo.linkCoreUserId==null?null:e.fieldsInfo.linkCoreUserId.fieldTitle)}}function qd(n,s){if(n&1){let e=P();a(0,"div",20)(1,"label",25),c(2),r(),a(3,"input",26),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.fromDate,t)||(l.dataModel.fromDate=t),u(t)}),r(),g(4,"mat-datepicker-toggle",27)(5,"mat-datepicker",28,2),r()}if(n&2){let e=x(6),i=d();o(2),A(i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle),o(),_("matDatepicker",e),D("ngModel",i.dataModel.fromDate),_("disabled",!(i.fieldsInfo.fromDate!=null&&i.fieldsInfo.fromDate.accessEditField)),o(),_("for",e),o(),_("calendarHeaderComponent",i.datapickerHeader)}}function jd(n,s){if(n&1){let e=P();a(0,"div",20)(1,"label",29),c(2),r(),a(3,"input",30),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.expireDate,t)||(l.dataModel.expireDate=t),u(t)}),r(),g(4,"mat-datepicker-toggle",27)(5,"mat-datepicker",28,3),r()}if(n&2){let e=x(6),i=d();o(2),A(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),_("matDatepicker",e),D("ngModel",i.dataModel.expireDate),_("disabled",!(i.fieldsInfo.expireDate!=null&&i.fieldsInfo.expireDate.accessEditField)),o(),_("for",e),o(),_("calendarHeaderComponent",i.datapickerHeader)}}function Ud(n,s){if(n&1){let e=P();a(0,"div",14)(1,"label",31),c(2),r(),a(3,"textarea",32,4),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.description,t)||(l.dataModel.description=t),u(t)}),r(),a(5,"em"),c(6),r()()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),D("ngModel",i.dataModel.description),_("disabled",!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessEditField)),o(3),h("",(e.value==null?null:e.value.length)||0," / 500")}}function Qd(n,s){if(n&1){let e=P();a(0,"div",14)(1,"label",33),c(2),r(),a(3,"input",34,5),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.apiKey,t)||(l.dataModel.apiKey=t),u(t)}),r(),a(5,"em"),c(6),r()()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.apiKey==null?null:i.fieldsInfo.apiKey.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.apiKey==null?null:i.fieldsInfo.apiKey.fieldTitle)),D("ngModel",i.dataModel.apiKey),_("disabled",!(i.fieldsInfo.apiKey!=null&&i.fieldsInfo.apiKey.accessEditField)),o(3),h("",(e.value==null?null:e.value.length)||0," / 500")}}function zd(n,s){if(n&1){let e=P();a(0,"span",42),c(1),a(2,"i",43),M("click",function(){let t=m(e).$implicit,l=d(3);return u(l.onActionRemoveFirewallIP(t))}),r()()}if(n&2){let e=s.$implicit;o(),h(" ",e," ")}}function Kd(n,s){if(n&1&&(a(0,"div",41),Be(1,zd,3,1,"span",42,Ba),r()),n&2){let e=d(2);o(),Oe(e.dataModel.firewallAllowIPList)}}function Jd(n,s){if(n&1){let e=P();a(0,"div",21)(1,"div",35)(2,"label",36),c(3),r(),a(4,"div",37)(5,"input",38,6),T("ngModelChange",function(t){m(e);let l=d();return y(l.firewallAllowIPInput,t)||(l.firewallAllowIPInput=t),u(t)}),r(),a(7,"button",39),M("click",function(){m(e);let t=d();return u(t.onActionAddFirewallIP())}),g(8,"i",40),r()()(),v(9,Kd,3,0,"div",41),r()}if(n&2){let e=d();o(3),A(e.fieldsInfo.firewallAllowIP==null?null:e.fieldsInfo.firewallAllowIP.fieldTitle),o(2),_("placeholder",R(e.fieldsInfo.firewallAllowIP==null?null:e.fieldsInfo.firewallAllowIP.fieldTitle)),D("ngModel",e.firewallAllowIPInput),_("disabled",!(e.fieldsInfo.firewallAllowIP!=null&&e.fieldsInfo.firewallAllowIP.accessEditField)),o(2),_("disabled",!e.firewallAllowIPInput||e.firewallAllowIPInput.length===0),o(2),b(e.dataModel.firewallAllowIPList&&e.dataModel.firewallAllowIPList.length>0?9:-1)}}function Xd(n,s){if(n&1){let e=P();a(0,"div",22)(1,"button",44),M("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",45),c(3),S(4,"translate"),r(),a(5,"button",46),g(6,"i",47),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),h(" ",C(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var uo=class uo extends _t{constructor(e,i,t,l,f,p,k,X){super(l,new ui,p,X);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderClientApplicationService=l;this.cmsToastrService=f;this.publicHelper=p;this.cdr=k;this.translate=X;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Y;this.dataModel=new ui;this.fileManagerOpenForm=!1;this.firewallAllowIPInput="";this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&e.linkUserId&&+e.linkUserId>0&&(this.dataModel.linkCoreUserId=+e.linkUserId)}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderClientApplicationService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0,Id:i.item.id})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorUser(e){if(!e||!e.id){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorSite(e){if(!e||!e.id){this.dataModel.linkSiteId=null;return}this.dataModel.linkSiteId=e.id}validateIPFormat(e){if(!e||e.trim().length===0)return!1;let i=/^(\d{1,3}\.){3}\d{1,3}$/,t=/^(\d{1,3}\.){3}\d{1,3}\/\d{1,2}$/,l=/^(\d{1,3}\.){3}\d{1,3}-(\d{1,3}\.){3}\d{1,3}$/;if(i.test(e))return e.split(".").every(p=>parseInt(p,10)>=0&&parseInt(p,10)<=255);if(t.test(e)){let[f,p]=e.split("/"),k=parseInt(p,10);return k<0||k>32?!1:f.split(".").every(Ge=>parseInt(Ge,10)>=0&&parseInt(Ge,10)<=255)}if(l.test(e)){let[f,p]=e.split("-"),k=f.split("."),X=p.split("."),Ge=k.every(Ke=>parseInt(Ke,10)>=0&&parseInt(Ke,10)<=255),$e=X.every(Ke=>parseInt(Ke,10)>=0&&parseInt(Ke,10)<=255);return Ge&&$e}return!1}onActionAddFirewallIP(){if(!this.firewallAllowIPInput||this.firewallAllowIPInput.trim().length===0)return;let e=this.firewallAllowIPInput.trim();if(!this.validateIPFormat(e)){this.translate.get("ERRORMESSAGE.MESSAGE.Invalid_IP_Format").subscribe(i=>{this.cmsToastrService.typeErrorMessage(i||"Invalid IP format")});return}this.dataModel.firewallAllowIPList||(this.dataModel.firewallAllowIPList=[]),this.dataModel.firewallAllowIPList.includes(e)||(this.dataModel.firewallAllowIPList=[...this.dataModel.firewallAllowIPList,e]),this.firewallAllowIPInput=""}onActionRemoveFirewallIP(e){if(!this.dataModel.firewallAllowIPList)return;this.dataModel.firewallAllowIPList.indexOf(e)>-1&&(this.dataModel.firewallAllowIPList=this.dataModel.firewallAllowIPList.filter(t=>t!==e))}};uo.\u0275fac=function(i){return new(i||uo)(I(le),I(re),I(ie),I(Ki),I(N),I(G),I(F),I(O))},uo.\u0275cmp=L({type:uo,selectors:[["app-data-provider-client-application-add"]],viewQuery:function(i,t){if(i&1&&U(Od,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[W],decls:29,vars:22,consts:[["vform","ngForm"],["Title",""],["FromDate",""],["ExpireDate",""],["Description",""],["ApiKey",""],["FirewallAllowIPInput",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionSelectForce","optionPlaceholder","optionDisabled","optionLabel"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"mb-4"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled","optionLabel"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","disabled"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.apiKey",1,"color-highlight"],["matInput","","type","text","name","dataModel.apiKey","id","dataModel.apiKey",1,"form-control","validate-name","input-ltr",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field"],["for","firewallAllowIPInput",1,"color-highlight"],[1,"d-flex"],["matInput","","type","text","name","firewallAllowIPInput","id","firewallAllowIPInput",1,"form-control","validate-name","input-ltr",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"click","disabled"],[1,"fa","fa-plus"],[1,"d-flex","flex-wrap","mt-2",2,"gap","0.5rem"],[1,"badge","bg-info","d-inline-flex","align-items-center","font-13"],[1,"fa","fa-times","ms-2",2,"cursor","pointer",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",7),g(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),g(8,"app-cms-form-result-message",11),a(9,"form",12,0),M("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(11,Fd,1,5,"app-cms-enum-record-status-selector",13),a(12,"div",14)(13,"label",15),c(14),r(),a(15,"input",16,1),T("ngModelChange",function(p){return m(l),y(t.dataModel.title,p)||(t.dataModel.title=p),u(p)}),r(),v(17,Nd,1,0,"i",17),v(18,Gd,1,0,"i",18),a(19,"em"),c(20),r(),v(21,Hd,5,3,"mat-error"),r(),v(22,Wd,2,6,"app-cms-user-selector",19),v(23,qd,7,6,"div",20),v(24,jd,7,6,"div",20),v(25,Ud,7,6,"div",14),v(26,Qd,7,6,"div",14),v(27,Jd,10,7,"div",21),v(28,Xd,9,7,"div",22),r()()()}if(i&2){let l=x(16);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",C(7,20,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(3),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),D("ngModel",t.dataModel.title),o(2),b(l.value?-1:17),o(),b(l.value?18:-1),o(2),h("",l.value.length," / 100"),o(),b(l.errors!=null&&l.errors.required?21:-1),o(),b(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessWatchField?22:-1),o(),b(t.fieldsInfo.fromDate!=null&&t.fieldsInfo.fromDate.accessWatchField?23:-1),o(),b(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessWatchField?24:-1),o(),b(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?25:-1),o(),b(t.fieldsInfo.apiKey!=null&&t.fieldsInfo.apiKey.accessWatchField?26:-1),o(),b(t.fieldsInfo.firewallAllowIP!=null&&t.fieldsInfo.firewallAllowIP.accessWatchField?27:-1),o(),b(t.formInfo.submitButtonEnabled?28:-1)}},dependencies:[ge,$,ee,Ce,Ee,De,ye,ce,he,Yi,Zi,$i,qe,Oi,q,ve,Ka,j,Se,B],encapsulation:2});var er=uo;var Yd=["vform"],Zd=(n,s)=>s.id;function $d(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",30),T("modelChange",function(t){m(e);let l=d();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=d();D("model",e.dataModel.recordStatus),_("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ec(n,s){n&1&&g(0,"i",33)}function tc(n,s){n&1&&g(0,"i",34)}function ic(n,s){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.required")))}function nc(n,s){if(n&1){let e=P();a(0,"div",15)(1,"label",31),c(2),r(),a(3,"input",32,1),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.title,t)||(l.dataModel.title=t),u(t)}),r(),v(5,ec,1,0,"i",33),v(6,tc,1,0,"i",34),a(7,"em"),c(8),r(),v(9,ic,5,3,"mat-error"),r()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),D("ngModel",i.dataModel.title),_("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),b(e.value?-1:5),o(),b(e.value?6:-1),o(2),h("",e.value.length," / 100"),o(),b(e.errors!=null&&e.errors.required?9:-1)}}function oc(n,s){if(n&1){let e=P();a(0,"app-cms-user-selector",35),S(1,"translate"),M("optionChange",function(t){m(e);let l=d();return u(l.onActionSelectorUser(t))}),r()}if(n&2){let e=d();_("optionSelectForce",e.dataModel.linkCoreUserId)("optionPlaceholder",C(1,4,"TITLE.USER"))("optionDisabled",!((e.fieldsInfo.linkCoreUserId==null?null:e.fieldsInfo.linkCoreUserId.accessEditField)??!1))("optionLabel",e.fieldsInfo.linkCoreUserId==null?null:e.fieldsInfo.linkCoreUserId.fieldTitle)}}function ac(n,s){if(n&1){let e=P();a(0,"app-cms-site-selector",35),S(1,"translate"),M("optionChange",function(t){m(e);let l=d();return u(l.onActionSelectorSite(t))}),r()}if(n&2){let e=d();_("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",C(1,4,"TITLE.SITE"))("optionDisabled",!((e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.accessEditField)??!1))("optionLabel",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle)}}function rc(n,s){if(n&1){let e=P();a(0,"div",17)(1,"label",36),c(2),r(),a(3,"input",37),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.fromDate,t)||(l.dataModel.fromDate=t),u(t)}),r(),g(4,"mat-datepicker-toggle",38)(5,"mat-datepicker",39,2),r()}if(n&2){let e=x(6),i=d();o(2),A(i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle),o(),_("matDatepicker",e),D("ngModel",i.dataModel.fromDate),_("disabled",!(i.fieldsInfo.fromDate!=null&&i.fieldsInfo.fromDate.accessEditField)),o(),_("for",e),o(),_("calendarHeaderComponent",i.datapickerHeader)}}function lc(n,s){if(n&1){let e=P();a(0,"div",17)(1,"label",40),c(2),r(),a(3,"input",41),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.expireDate,t)||(l.dataModel.expireDate=t),u(t)}),r(),g(4,"mat-datepicker-toggle",38)(5,"mat-datepicker",39,3),r()}if(n&2){let e=x(6),i=d();o(2),A(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),_("matDatepicker",e),D("ngModel",i.dataModel.expireDate),_("disabled",!(i.fieldsInfo.expireDate!=null&&i.fieldsInfo.expireDate.accessEditField)),o(),_("for",e),o(),_("calendarHeaderComponent",i.datapickerHeader)}}function sc(n,s){if(n&1){let e=P();a(0,"div",15)(1,"label",42),c(2),r(),a(3,"textarea",43,4),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.description,t)||(l.dataModel.description=t),u(t)}),r(),a(5,"em"),c(6),r()()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),D("ngModel",i.dataModel.description),_("disabled",!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessEditField)),o(3),h("",(e.value==null?null:e.value.length)||0," / 500")}}function dc(n,s){if(n&1){let e=P();a(0,"div",15)(1,"label",44),c(2),r(),a(3,"input",45,5),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.apiKey,t)||(l.dataModel.apiKey=t),u(t)}),r(),a(5,"em"),c(6),r()()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.apiKey==null?null:i.fieldsInfo.apiKey.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.apiKey==null?null:i.fieldsInfo.apiKey.fieldTitle)),D("ngModel",i.dataModel.apiKey),_("disabled",!(i.fieldsInfo.apiKey!=null&&i.fieldsInfo.apiKey.accessEditField)),o(3),h("",(e.value==null?null:e.value.length)||0," / 500")}}function cc(n,s){if(n&1){let e=P();a(0,"span",53),c(1),a(2,"i",54),M("click",function(){let t=m(e).$implicit,l=d(3);return u(l.onActionRemoveFirewallIP(t))}),r()()}if(n&2){let e=s.$implicit;o(),h(" ",e," ")}}function pc(n,s){if(n&1&&(a(0,"div",52),Be(1,cc,3,1,"span",53,Ba),r()),n&2){let e=d(2);o(),Oe(e.dataModel.firewallAllowIPList)}}function mc(n,s){if(n&1){let e=P();a(0,"div",18)(1,"div",46)(2,"label",47),c(3),r(),a(4,"div",48)(5,"input",49,6),T("ngModelChange",function(t){m(e);let l=d();return y(l.firewallAllowIPInput,t)||(l.firewallAllowIPInput=t),u(t)}),r(),a(7,"button",50),M("click",function(){m(e);let t=d();return u(t.onActionAddFirewallIP())}),g(8,"i",51),r()()(),v(9,pc,3,0,"div",52),r()}if(n&2){let e=d();o(3),A(e.fieldsInfo.firewallAllowIP==null?null:e.fieldsInfo.firewallAllowIP.fieldTitle),o(2),_("placeholder",R(e.fieldsInfo.firewallAllowIP==null?null:e.fieldsInfo.firewallAllowIP.fieldTitle)),D("ngModel",e.firewallAllowIPInput),_("disabled",!(e.fieldsInfo.firewallAllowIP!=null&&e.fieldsInfo.firewallAllowIP.accessEditField)),o(2),_("disabled",!e.firewallAllowIPInput||e.firewallAllowIPInput.length===0),o(2),b(e.dataModel.firewallAllowIPList&&e.dataModel.firewallAllowIPList.length>0?9:-1)}}function uc(n,s){if(n&1&&(a(0,"small",22),c(1),S(2,"translate"),r()),n&2){let e=d();o(),de(" ",e.sourcePathList.length," ",C(2,2,"MESSAGE.Item")," ")}}function fc(n,s){n&1&&(a(0,"div",27),g(1,"i",55),a(2,"p",56),c(3),S(4,"translate"),r()()),n&2&&(o(3),h(" ",C(4,1,"MESSAGE.Receiving_information")," "))}function _c(n,s){n&1&&(a(0,"th",60),c(1),S(2,"translate"),r(),a(3,"th"),c(4),S(5,"translate"),r(),a(6,"th"),c(7),S(8,"translate"),r(),a(9,"th"),c(10),S(11,"translate"),r()),n&2&&(o(),h(" ",C(2,4,"TITLE.IsApproved")," "),o(3),A(C(5,6,"TITLE.FromDate")),o(3),A(C(8,8,"TITLE.ExpireDate")),o(3),A(C(11,10,"TITLE.Description")))}function Sc(n,s){if(n&1&&(g(0,"br"),a(1,"small",22),c(2),r()),n&2){let e=d().$implicit;o(2),A(e.title)}}function Cc(n,s){if(n&1){let e=P();a(0,"td",60)(1,"input",64),M("change",function(){m(e),d();let t=In(0),l=d(2);return u(l.onToggleIsApproved(t))}),r()(),a(2,"td")(3,"div",17)(4,"app-input-date",65),T("modelChange",function(t){m(e),d();let l=In(0);return y(l.fromDate,t)||(l.fromDate=t),u(t)}),c(5),S(6,"translate"),r()()(),a(7,"td")(8,"div",17)(9,"app-input-date",65),T("modelChange",function(t){m(e),d();let l=In(0);return y(l.expireDate,t)||(l.expireDate=t),u(t)}),c(10),S(11,"translate"),r()()(),a(12,"td")(13,"textarea",66),S(14,"translate"),T("ngModelChange",function(t){m(e),d();let l=In(0);return y(l.description,t)||(l.description=t),u(t)}),r()()}if(n&2){let e=d().$implicit,i=In(0);o(),_("checked",i.isApproved===!0)("name","isApproved_"+e.id)("indeterminate",i.isApproved===null),o(3),D("model",i.fromDate),_("optionDisabled",!1)("optionRequired",!1),o(),h(" ",C(6,15,"TITLE.FromDate")," "),o(4),D("model",i.expireDate),_("optionDisabled",!1)("optionRequired",!1),o(),h(" ",C(11,17,"TITLE.ExpireDate")," "),o(3),_("placeholder",R(C(14,19,"TITLE.Description"))),D("ngModel",i.description),_("name","description_"+e.id)}}function hc(n,s){if(n&1){let e=P();Or(0),a(1,"tr")(2,"td")(3,"code"),c(4),r(),v(5,Sc,3,1),r(),a(6,"td",60)(7,"input",63),T("ngModelChange",function(t){m(e);let l=In(0);return y(l.isRequested,t)||(l.isRequested=t),u(t)}),r()(),v(8,Cc,15,21),r()}if(n&2){let e=s.$implicit,i=d(2),t=Fr(i.getPermissionForSourcePath(e.id));o(4),A(e.id),o(),b(e.title?5:-1),o(2),D("ngModel",t.isRequested),_("name","isRequested_"+e.id),o(),b(i.tokenHelper.isAdminSite?8:-1)}}function gc(n,s){if(n&1){let e=P();a(0,"div",57)(1,"table",58)(2,"thead",59)(3,"tr")(4,"th"),c(5),S(6,"translate"),r(),a(7,"th",60),c(8),S(9,"translate"),r(),v(10,_c,12,12),r()(),a(11,"tbody"),Be(12,hc,9,6,"tr",null,Zd),r()()(),a(14,"div",61)(15,"button",62),M("click",function(){m(e);let t=d();return u(t.onActionSavePermissionChanges())}),g(16,"i",26),c(17),S(18,"translate"),r()()}if(n&2){let e=d();o(5),A(C(6,4,"TITLE.SourcePath")),o(3),h(" ",C(9,6,"TITLE.IsRequested")," "),o(2),b(e.tokenHelper.isAdminSite?10:-1),o(2),Oe(e.sourcePathList),o(5),h(" ",C(18,8,"ACTION.SAVE")," ")}}function vc(n,s){n&1&&(a(0,"div",28),g(1,"i",67),a(2,"p",21),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.no_information")))}function bc(n,s){if(n&1){let e=P();a(0,"div",29)(1,"button",68),M("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",69),c(3),S(4,"translate"),r(),a(5,"button",70),g(6,"i",71),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),h(" ",C(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var fo=class fo extends St{constructor(e,i,t,l,f,p,k,X,Ge,$e,Ke,dt,oi,jn){super(l,new ui,Ge,dt);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderClientApplicationService=l;this.dataProviderSourcePathService=f;this.dataProviderClientApplicationPermissionService=p;this.cmsToastrService=k;this.cmsConfirmationDialogService=X;this.publicHelper=Ge;this.cdr=$e;this.cmsStoreService=Ke;this.translate=dt;this.tokenHelper=oi;this.dialog=jn;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.unsubscribe=[];this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new pt;this.dataModel=new ui;this.fileManagerOpenForm=!1;this.firewallAllowIPInput="";this.datapickerHeader=to;this.permissionDataModelResult=new Y;this.permissionTableData=[];this.permissionTableRowSelected=new fi;this.permissionFilterModel=new ae;this.permissionLoading=!1;this.sourcePathList=[];this.sourcePathListLoading=!1;this.sourcePathPermissionMap=new Map;this.permissionChanges=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id||""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(Mn=>Mn.tokenInfoStore).subscribe(Mn=>Ie(this,null,function*(){this.tokenInfo=Mn})))}ngOnInit(){if(this.requestId?.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(this.requestId?.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderClientApplicationService.setAccessLoad(),this.dataProviderClientApplicationService.setAccessDataType(Ne.Editor),this.dataProviderClientApplicationService.ServiceGetOneById(this.requestId).subscribe({next:i=>{if(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,this.dataModel.firewallAllowIPList=[],this.dataModel.firewallAllowIP&&this.dataModel.firewallAllowIP.length>0){let t=this.dataModel.firewallAllowIP.split(",").map(l=>l.trim()).filter(l=>l.length>0);this.dataModel.firewallAllowIPList=[...t]}i.isSuccess?(this.DataGetAllSourcePaths(),this.DataGetAllPermission(),this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}syncFirewallAllowIPFromList(){this.dataModel.firewallAllowIPList&&this.dataModel.firewallAllowIPList.length>0?this.dataModel.firewallAllowIP=this.dataModel.firewallAllowIPList.join(","):this.dataModel.firewallAllowIP=""}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.syncFirewallAllowIPFromList(),this.dataProviderClientApplicationService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorUser(e){if(!e||!e.id){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorSite(e){if(!e||!e.id){this.dataModel.linkSiteId=null;return}this.dataModel.linkSiteId=e.id}validateIPFormat(e){if(!e||e.trim().length===0)return!1;let i=/^(\d{1,3}\.){3}\d{1,3}$/,t=/^(\d{1,3}\.){3}\d{1,3}\/\d{1,2}$/,l=/^(\d{1,3}\.){3}\d{1,3}-(\d{1,3}\.){3}\d{1,3}$/;if(i.test(e))return e.split(".").every(p=>parseInt(p,10)>=0&&parseInt(p,10)<=255);if(t.test(e)){let[f,p]=e.split("/"),k=parseInt(p,10);return k<0||k>32?!1:f.split(".").every(Ge=>parseInt(Ge,10)>=0&&parseInt(Ge,10)<=255)}if(l.test(e)){let[f,p]=e.split("-"),k=f.split("."),X=p.split("."),Ge=k.every(Ke=>parseInt(Ke,10)>=0&&parseInt(Ke,10)<=255),$e=X.every(Ke=>parseInt(Ke,10)>=0&&parseInt(Ke,10)<=255);return Ge&&$e}return!1}onActionAddFirewallIP(){if(!this.firewallAllowIPInput||this.firewallAllowIPInput.trim().length===0)return;let e=this.firewallAllowIPInput.trim();if(!this.validateIPFormat(e)){this.translate.get("ERRORMESSAGE.MESSAGE.Invalid_IP_Format").subscribe(i=>{this.cmsToastrService.typeErrorMessage(i||"Invalid IP format")});return}this.dataModel.firewallAllowIPList||(this.dataModel.firewallAllowIPList=[]),this.dataModel.firewallAllowIPList.includes(e)||(this.dataModel.firewallAllowIPList=[...this.dataModel.firewallAllowIPList,e]),this.dataModel.firewallAllowIPList.length>0&&(this.dataModel.firewallAllowIP=this.dataModel.firewallAllowIPList.join(",")),this.firewallAllowIPInput=""}onActionRemoveFirewallIP(e){if(!this.dataModel.firewallAllowIPList)return;this.dataModel.firewallAllowIPList.indexOf(e)>-1&&(this.dataModel.firewallAllowIPList=this.dataModel.firewallAllowIPList.filter(t=>t!==e)),this.dataModel.firewallAllowIPList.length>0?this.dataModel.firewallAllowIP=this.dataModel.firewallAllowIPList.join(","):this.dataModel.firewallAllowIP=""}DataGetAllPermission(){if(!this.requestId||this.requestId.length===0)return;this.permissionLoading=!0,this.permissionFilterModel.filters=[];let e=new J;e.propertyName="LinkClientApplicationId",e.value=this.requestId,this.permissionFilterModel.filters.push(e),this.permissionFilterModel.sortColumn="id",this.permissionFilterModel.sortType=oe.Descending,this.dataProviderClientApplicationPermissionService.ServiceGetAll(this.permissionFilterModel).subscribe({next:i=>{this.permissionLoading=!1,this.permissionDataModelResult=i,i.isSuccess?(this.permissionTableData=i.listItems||[],this.syncSourcePathsWithPermissions()):this.cmsToastrService.typeErrorMessage(i.errorMessage)},error:i=>{this.permissionLoading=!1,this.cmsToastrService.typeError(i)}})}DataGetAllSourcePaths(){this.sourcePathListLoading=!0;let e=new ae;e.rowPerPage=1e3,e.accessLoad=!0,this.dataProviderSourcePathService.ServiceGetAllEditor(e).subscribe({next:i=>{this.sourcePathListLoading=!1,i.isSuccess?(this.sourcePathList=i.listItems||[],this.syncSourcePathsWithPermissions()):this.cmsToastrService.typeErrorMessage(i.errorMessage)},error:i=>{this.sourcePathListLoading=!1,this.cmsToastrService.typeError(i)}})}syncSourcePathsWithPermissions(){this.sourcePathPermissionMap.clear(),this.permissionTableData.forEach(e=>{e.linkSourcePathId&&this.sourcePathPermissionMap.set(e.linkSourcePathId,e)}),this.sourcePathList.forEach(e=>{if(!this.sourcePathPermissionMap.has(e.id)){let i=new fi;i.linkClientApplicationId=this.requestId,i.linkSourcePathId=e.id,i.isRequested=!1,i.isApproved=null,this.sourcePathPermissionMap.set(e.id,i)}})}getPermissionForSourcePath(e){return this.sourcePathPermissionMap.get(e)||new fi}onToggleIsApproved(e){e.isApproved===null?e.isApproved=!0:e.isApproved===!0?e.isApproved=!1:e.isApproved=null}onActionSavePermissionChanges(){if(!this.requestId||this.requestId.length===0)return;let e=[];if(this.sourcePathPermissionMap.forEach(p=>{p.linkSourcePathId&&e.push(p)}),e.length===0){this.translate.get("MESSAGE.no_information").subscribe(p=>{this.cmsToastrService.typeWarningMessage(p)});return}let i=this.constructor.name+"onActionSavePermissionChanges";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(p=>{this.publicHelper.processService.processStart(i,p,this.constructorInfoAreaId)});let t=0,l=0,f=e.length;e.forEach(p=>{p.id&&p.id.length>0?this.dataProviderClientApplicationPermissionService.ServiceEdit(p).subscribe({next:k=>{t++,t+l===f&&(this.publicHelper.processService.processStop(i),l===0&&(this.cmsToastrService.typeSuccessEdit(),this.DataGetAllPermission()))},error:k=>{l++,this.cmsToastrService.typeError(k),t+l===f&&this.publicHelper.processService.processStop(i,!1)}}):p.isRequested?this.dataProviderClientApplicationPermissionService.ServiceAdd(p).subscribe({next:k=>{t++,t+l===f&&(this.publicHelper.processService.processStop(i),l===0&&(this.cmsToastrService.typeSuccessAdd(),this.DataGetAllPermission()))},error:k=>{l++,this.cmsToastrService.typeError(k),t+l===f&&this.publicHelper.processService.processStop(i,!1)}}):(t++,t+l===f&&(this.publicHelper.processService.processStop(i),l===0&&this.DataGetAllPermission()))})}onActionPermissionButtonNewRow(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(lo,{height:"90%",panelClass:e,enterAnimationDuration:se.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:se.cmsViewConfig.exitAnimationDuration,data:{LinkClientApplicationId:this.requestId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAllPermission()})}onActionPermissionButtonEditRow(e){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.cmsToastrService.typeErrorSelectedRow();return}this.permissionTableRowSelected=e;var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(co,{height:"90%",panelClass:i,enterAnimationDuration:se.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:se.cmsViewConfig.exitAnimationDuration,data:{id:this.permissionTableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAllPermission()})}onActionPermissionButtonDeleteRow(e){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.cmsToastrService.typeErrorSelectedRow();return}this.permissionTableRowSelected=e;let i="",t="";this.translate.get("MESSAGE.Delete").subscribe(l=>{i=l}),this.translate.get("MESSAGE.Do_you_want_to_delete_this_content").subscribe(l=>{t=l+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{l&&this.dataProviderClientApplicationPermissionService.ServiceDelete(this.permissionTableRowSelected.id).subscribe({next:f=>{f.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAllPermission()):this.cmsToastrService.typeErrorRemove()},error:f=>{this.cmsToastrService.typeError(f)}})}).catch(()=>{})}};fo.\u0275fac=function(i){return new(i||fo)(I(le),I(re),I(ie),I(Ki),I(ci),I(Ji),I(N),I(Qt),I(G),I(F),I(Qe),I(O),I(ze),I(je))},fo.\u0275cmp=L({type:fo,selectors:[["app-data-provider-client-application-edit"]],viewQuery:function(i,t){if(i&1&&U(Yd,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[W],decls:44,vars:40,consts:[["vform","ngForm"],["Title",""],["FromDate",""],["ExpireDate",""],["Description",""],["ApiKey",""],["FirewallAllowIPInput",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[3,"optionSelectForce","optionPlaceholder","optionDisabled","optionLabel"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"mb-4"],[1,"mt-3"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"mb-0"],[1,"text-muted"],["type","button",1,"btn","font-13","font-600","btn-s","rounded-s","shadow-xl","border-0","gradient-gray","me-2",3,"click","disabled","title"],[1,"fa","fa-refresh"],["type","button",1,"btn","font-13","font-600","btn-s","rounded-s","shadow-xl","border-0","gradient-green",3,"click","disabled"],[1,"fa","fa-save"],[1,"text-center","py-4"],[1,"alert","alert-info","mt-3","text-center","py-4"],[1,"form-actions","mt-3"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled","optionLabel"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","disabled"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.apiKey",1,"color-highlight"],["matInput","","type","text","name","dataModel.apiKey","id","dataModel.apiKey",1,"form-control","validate-name","input-ltr",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field"],["for","firewallAllowIPInput",1,"color-highlight"],[1,"d-flex"],["matInput","","type","text","name","firewallAllowIPInput","id","firewallAllowIPInput",1,"form-control","validate-name","input-ltr",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"click","disabled"],[1,"fa","fa-plus"],[1,"d-flex","flex-wrap","mt-2",2,"gap","0.5rem"],[1,"badge","bg-info","d-inline-flex","align-items-center","font-13"],[1,"fa","fa-times","ms-2",2,"cursor","pointer",3,"click"],[1,"fa","fa-spinner","fa-spin","fa-2x","text-primary"],[1,"mt-2"],[1,"table-responsive"],[1,"table","table-hover","table-striped"],[1,"table-dark"],[1,"text-center"],[1,"mt-3","text-center"],["type","button",1,"btn","font-13","font-600","btn-s","rounded-s","shadow-xl","border-0","gradient-green",3,"click"],["type","checkbox",1,"form-check-input",3,"ngModelChange","ngModel","name"],["type","checkbox",1,"form-check-input",3,"change","checked","name","indeterminate"],[3,"modelChange","model","optionDisabled","optionRequired"],["rows","2",1,"form-control",3,"ngModelChange","ngModel","name","placeholder"],[1,"fa","fa-info-circle","fa-2x","mb-2"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",7),g(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),g(8,"app-cms-form-result-message",11),a(9,"form",12,0),M("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),a(11,"mat-tab-group")(12,"mat-tab",13),S(13,"translate"),v(14,$d,1,5,"app-cms-enum-record-status-selector",14),v(15,nc,10,9,"div",15),v(16,oc,2,6,"app-cms-user-selector",16),v(17,ac,2,6,"app-cms-site-selector",16),v(18,rc,7,6,"div",17),v(19,lc,7,6,"div",17),v(20,sc,7,6,"div",15),v(21,dc,7,6,"div",15),v(22,mc,10,7,"div",18),r(),a(23,"mat-tab",13),S(24,"translate"),a(25,"div",19)(26,"div",20)(27,"div")(28,"h5",21),c(29),S(30,"translate"),r(),v(31,uc,3,4,"small",22),r(),a(32,"div")(33,"button",23),S(34,"translate"),M("click",function(){return m(l),t.DataGetAllSourcePaths(),u(t.DataGetAllPermission())}),g(35,"i",24),r(),a(36,"button",25),M("click",function(){return m(l),u(t.onActionSavePermissionChanges())}),g(37,"i",26),c(38),S(39,"translate"),r()()(),v(40,fc,5,3,"div",27),v(41,gc,19,10)(42,vc,5,3,"div",28),r()()(),v(43,bc,9,7,"div",29),r()()()}i&2&&(o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",C(7,28,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(4),_("label",R(C(13,30,"TITLE.REQUIRED_INFORMATION"))),o(2),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?14:-1),o(),b(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?15:-1),o(),b(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessWatchField?16:-1),o(),b(t.fieldsInfo.linkSiteId!=null&&t.fieldsInfo.linkSiteId.accessWatchField?17:-1),o(),b(t.fieldsInfo.fromDate!=null&&t.fieldsInfo.fromDate.accessWatchField?18:-1),o(),b(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessWatchField?19:-1),o(),b(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?20:-1),o(),b(t.fieldsInfo.apiKey!=null&&t.fieldsInfo.apiKey.accessWatchField?21:-1),o(),b(t.fieldsInfo.firewallAllowIP!=null&&t.fieldsInfo.firewallAllowIP.accessWatchField?22:-1),o(),_("label",R(C(24,32,"TITLE.PERMISSION"))),o(6),A(C(30,34,"TITLE.PERMISSION")),o(2),b(!t.sourcePathListLoading&&!t.permissionLoading&&t.sourcePathList?31:-1),o(2),_("disabled",t.sourcePathListLoading||t.permissionLoading)("title",C(34,36,"ACTION.REFRESH")),o(2),H("fa-spin",t.sourcePathListLoading||t.permissionLoading),o(),_("disabled",t.sourcePathListLoading||t.permissionLoading),o(2),h(" ",C(39,38,"ACTION.SAVE")," "),o(2),b(t.sourcePathListLoading||t.permissionLoading?40:-1),o(),b(!t.sourcePathListLoading&&!t.permissionLoading&&t.sourcePathList&&t.sourcePathList.length>0?41:!t.sourcePathListLoading&&!t.permissionLoading?42:-1),o(2),b(t.formInfo.submitButtonEnabled?43:-1))},dependencies:[ge,$,ki,ee,Ce,Ee,De,ye,ce,he,Yi,Zi,$i,qe,Oi,q,hl,gl,Al,ve,Ka,j,Se,Fl,B],encapsulation:2});var _o=fo;var Ic=()=>["expandedDetail"],Pc=()=>[5,10,20,100],ql=n=>({display:n});function wc(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",39),M("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",40)(3,"br"),r(),a(4,"p",41),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.ADD")," "))}function Ec(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",42),M("click",function(){m(e);let t=d();return u(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",43)(3,"br"),r(),a(4,"p",41),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.EDIT")," "))}function Dc(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",44),M("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",45)(3,"br"),r(),a(4,"p",41),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.DELETE")," "))}function yc(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",46),M("click",function(){m(e);let t=d();return u(t.onActionButtonPermissionList(t.tableRowSelected))}),g(2,"i",47)(3,"br"),r(),a(4,"p",41),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.PERMISSION")," "))}function Tc(n,s){n&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"TITLE.MENU")," "))}function Ac(n,s){if(n&1){let e=P();a(0,"mat-cell")(1,"button",48),M("click",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowSelectActionMenu(t))}),g(2,"i",49),r()()}}function Rc(n,s){if(n&1&&(a(0,"mat-header-cell",50),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function xc(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.title," ")}}function kc(n,s){if(n&1&&(a(0,"mat-header-cell",50),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Lc(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),r()),n&2){let e=s.$implicit;o(),h(" ",C(3,3,C(2,1,e.linkSiteId))," ")}}function Vc(n,s){if(n&1&&(a(0,"mat-header-cell",50),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Bc(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"cmsuserinfo"),S(3,"async"),r()),n&2){let e=s.$implicit;o(),h(" ",C(3,3,C(2,1,e.linkUserId))," ")}}function Oc(n,s){if(n&1&&(a(0,"mat-header-cell",50),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Fc(n,s){if(n&1&&g(0,"select",52),n&2){let e=d().$implicit,i=d();_("contentService",i.contentService)("row",e)("ngStyle",Gt(3,ql,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Nc(n,s){if(n&1&&(a(0,"mat-cell"),g(1,"i",51),S(2,"statusIconClass"),v(3,Fc,1,5,"select",52),r()),n&2){let e=s.$implicit,i=d();o(),_("ngClass",C(2,2,e.recordStatus)),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?3:-1)}}function Gc(n,s){if(n&1&&(a(0,"mat-header-cell",50),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Hc(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"date"),r()),n&2){let e=s.$implicit;o(),h(" ",si(2,1,e.createdDate,"yyyy-MM-dd HH:mm")," ")}}function Wc(n,s){if(n&1&&(a(0,"mat-header-cell",50),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function qc(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"date"),r()),n&2){let e=s.$implicit;o(),h(" ",si(2,1,e.updatedDate,"yyyy-MM-dd HH:mm")," ")}}function jc(n,s){n&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"TITLE.OPTION")," "))}function Uc(n,s){if(n&1&&(a(0,"mat-cell",53)(1,"button",54)(2,"mat-icon"),c(3,"more_vert"),r()(),g(4,"mat-menu",null,2),r()),n&2){let e=x(5);o(),_("matMenuTriggerFor",e)}}function Qc(n,s){if(n&1){let e=P();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),c(5),a(6,"span",55),M("click",function(){m(e);let t=d();return u(t.onActionCopied())}),g(7,"i",56),r()()(),a(8,"tr")(9,"td"),c(10),r(),a(11,"td"),c(12),S(13,"cmsuserinfo"),S(14,"async"),r()(),a(15,"tr")(16,"td"),c(17),r(),a(18,"td"),c(19),S(20,"cmssiteinfo"),S(21,"async"),r()()()()()}if(n&2){let e=s.$implicit,i=d();o(5),h(" ",e.id," "),o(),_("cdkCopyToClipboard",e.id),o(4),h("",i.fieldsInfo.linkUserId==null?null:i.fieldsInfo.linkUserId.fieldTitle,":"),o(2),A(C(14,8,C(13,6,e.linkUserId))),o(5),h("",i.fieldsInfo.linkSiteId==null?null:i.fieldsInfo.linkSiteId.fieldTitle,":"),o(2),A(C(21,12,C(20,10,e.linkSiteId)))}}function zc(n,s){n&1&&g(0,"mat-header-row")}function Kc(n,s){if(n&1){let e=P();a(0,"mat-row",57),M("click",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Jc(n,s){if(n&1){let e=P();a(0,"mat-row",58),M("click",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),_("ngStyle",Gt(3,ql,e.expanded===!0?"":"none"))}}var So=class So extends Ct{constructor(e,i,t,l,f,p,k,X,Ge,$e,Ke){super(e,new ui,$e,f,k);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.router=l;this.tokenHelper=f;this.cdr=p;this.translate=k;this.cmsStoreService=X;this.pageInfo=Ge;this.publicHelper=$e;this.dialog=Ke;this.tableData=[];this.requestLinkUserId="";this.requestLinkSiteId=0;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new ae;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","title","linkUserId","linkSiteId","createdDate","updatedDate","action_menu"];this.tabledisplayedColumnsMobileSource=["recordStatus","title","linkUserId","createdDate","action_menu"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:dt=>this.onSubmitOptionsSearch(dt)},this.activatedRoute.snapshot.paramMap.get("LinkUserId")&&(this.requestLinkUserId=this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.activatedRoute.snapshot.paramMap.get("LinkSiteId")&&(this.requestLinkSiteId=+this.activatedRoute.snapshot.paramMap.get("LinkSiteId")||0),this.requestLinkUserId?.length>0){let dt=new J;dt.propertyName="LinkUserId",dt.value=this.requestLinkUserId,this.filteModelContent.filters.push(dt)}if(this.requestLinkSiteId>0){let dt=new J;dt.propertyName="linkSiteId",dt.value=this.requestLinkSiteId,this.filteModelContent.filters.push(dt)}this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=oe.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Ie(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ui);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.tableData=t.listItems,this.tableSource.data=t.listItems,this.sort&&(this.tableSource.sort=this.sort),this.paginator&&(this.tableSource.paginator=this.paginator),this.tableSource.filter="",this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.dataModelResult=t,this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=oe.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=oe.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=oe.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=this.requestLinkUserId;var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(er,{height:"90%",width:"60%",panelClass:i,enterAnimationDuration:se.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:se.cmsViewConfig.exitAnimationDuration,data:{linkUserId:e}}).afterClosed().subscribe(l=>{if(l&&l.dialogChangedDate)if(l.id&&l.id>0){let f=new ut;f.disableClose=!0,f.autoFocus=!0,f.height="90%",f.data={id:l.id},this.dialog.open(_o,f).afterClosed().subscribe(k=>{k&&k.dialogChangedDate&&this.DataGetAll()})}else this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(_o,{height:"90%",panelClass:i,enterAnimationDuration:se.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:se.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(_o,{height:"40%",panelClass:i,enterAnimationDuration:se.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:se.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new J;f.propertyName="recordStatus",f.value=ct.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonPermissionList(e=this.tableRowSelected,i){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/data-provider/client-application-permission/LinkClientApplicationId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/client-application-permission/LinkClientApplicationId/",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};So.\u0275fac=function(i){return new(i||So)(I(Ki),I(N),I(jt),I(Ye),I(ze),I(F),I(O),I(Qe),I(ft),I(G),I(je))},So.\u0275cmp=L({type:So,selectors:[["app-data-provider-client-application-list"]],viewQuery:function(i,t){if(i&1&&(U(Ue,5),U(pe,5)),i&2){let l;Q(l=z())&&(t.sort=l.first),Q(l=z())&&(t.paginator=l.first)}},standalone:!1,features:[W],decls:62,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","title"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","recordStatus"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-key","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list",3),T("optionActionGuideNoticeDisplayChange",function(p){return m(l),y(t.viewGuideNotice,p)||(t.viewGuideNotice=p),u(p)}),M("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionButtonPrintRow())}),be(1,4)(2,5)(3,6),w(4,7),a(5,"a",8),M("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),g(6,"i",9),r(),a(7,"a",8),M("click",function(){return m(l),u(t.onActionButtonReload())}),g(8,"i",10),r(),E(),w(9,11),a(10,"a",12),M("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(11,"mat-slide-toggle",13),c(12),S(13,"translate"),r(),a(14,"a",12),M("click",function(){return m(l),u(t.onActionButtonStatist())}),g(15,"mat-slide-toggle",13),c(16),S(17,"translate"),r(),E(),w(18,14),v(19,wc,7,3,"div",15),E(),w(20,16),v(21,Ec,7,3,"div",15),v(22,Dc,7,3,"div",15),v(23,yc,7,3,"div",15),E(),w(24,17),a(25,"app-cms-search-list",18),T("optionsChange",function(p){return m(l),y(t.optionsSearch,p)||(t.optionsSearch=p),u(p)}),r(),a(26,"app-cms-statist-list",18),T("optionsChange",function(p){return m(l),y(t.optionsStatist,p)||(t.optionsStatist=p),u(p)}),r(),E(),w(27,19),a(28,"mat-table",20,0),M("matSortChange",function(){m(l);let p=x(29);return u(t.onTableSortData(p))}),w(30,21),V(31,Tc,3,3,"mat-header-cell",22)(32,Ac,3,0,"mat-cell",23),E(),w(33,24),V(34,Rc,2,1,"mat-header-cell",25)(35,xc,2,1,"mat-cell",23),E(),w(36,26),V(37,kc,2,1,"mat-header-cell",25)(38,Lc,4,5,"mat-cell",23),E(),w(39,27),V(40,Vc,2,1,"mat-header-cell",25)(41,Bc,4,5,"mat-cell",23),E(),w(42,28),V(43,Oc,2,1,"mat-header-cell",25)(44,Nc,4,4,"mat-cell",23),E(),w(45,29),V(46,Gc,2,1,"mat-header-cell",25)(47,Hc,3,4,"mat-cell",23),E(),w(48,30),V(49,Wc,2,1,"mat-header-cell",25)(50,qc,3,4,"mat-cell",23),E(),w(51,31),V(52,jc,3,3,"mat-header-cell",22)(53,Uc,6,1,"mat-cell",32),E(),w(54,33),V(55,Qc,22,14,"mat-cell",23),E(),V(56,zc,1,0,"mat-header-row",34)(57,Kc,1,2,"mat-row",35)(58,Jc,1,5,"mat-row",36),r(),E(),w(59,37),a(60,"mat-paginator",38,1),M("page",function(p){return m(l),u(t.onTablePageingData(p))}),r(),E(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","dataprovider.client-application.list"),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(8),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),h("",C(13,27,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),h("",C(17,29,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?19:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?21:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?22:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?23:-1),o(2),D("options",t.optionsSearch),o(),D("options",t.optionsStatist),o(2),_("dataSource",t.tableSource),o(28),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(),_("matRowDefColumns",_e(31,Ic)),o(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(32,Pc)))},dependencies:[xe,Jt,Ze,Je,q,Mt,It,pe,Te,Ue,tt,Pt,nt,wt,ot,it,Et,at,rt,Dt,yt,Xe,Ae,Re,Tt,ke,lt,Fe,Gr,B,za,st,Le],encapsulation:2});var un=So;var Xc=()=>[5,10,20,100],Yc=(n,s)=>s.id;function Zc(n,s){if(n&1){let e=P();a(0,"div",13)(1,"a",22),M("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",23)(3,"br"),r(),a(4,"p",24),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.ADD")," "))}function $c(n,s){if(n&1){let e=P();a(0,"div",13)(1,"a",25),M("click",function(){m(e);let t=d();return u(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",26)(3,"br"),r(),a(4,"p",24),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.EDIT")," "))}function ep(n,s){if(n&1){let e=P();a(0,"div",13)(1,"a",27),M("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",28)(3,"br"),r(),a(4,"p",24),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.DELETE")," "))}function tp(n,s){if(n&1){let e=P();a(0,"div",13)(1,"a",6),M("click",function(){m(e);let t=d();return u(t.onActionButtonPermissionList(t.tableRowSelected))}),g(2,"i",29)(3,"br"),r(),a(4,"p",24),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.PERMISSION")," "))}function ip(n,s){if(n&1&&(a(0,"div",34),g(1,"i",36),c(2),r()),n&2){let e=d().$implicit,i=d(2);o(2),de(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",e.id," ")}}function np(n,s){if(n&1&&(a(0,"div",34),g(1,"i",37),c(2),S(3,"cmsuserinfo"),S(4,"async"),r()),n&2){let e=d().$implicit,i=d(2);o(2),de(" ",i.fieldsInfo.linkUserId==null?null:i.fieldsInfo.linkUserId.fieldTitle,": ",C(4,4,C(3,2,e.linkUserId))," ")}}function op(n,s){if(n&1&&(a(0,"div",34),g(1,"i",38),c(2),S(3,"cmssiteinfo"),S(4,"async"),r()),n&2){let e=d().$implicit,i=d(2);o(2),de(" ",i.fieldsInfo.linkSiteId==null?null:i.fieldsInfo.linkSiteId.fieldTitle,": ",C(4,4,C(3,2,e.linkSiteId))," ")}}function ap(n,s){if(n&1&&(a(0,"div",34),g(1,"i",39),c(2),S(3,"localeDate"),r()),n&2){let e=d().$implicit;o(2),h(" ",C(3,1,e.createdDate)," ")}}function rp(n,s){if(n&1&&g(0,"select",41),n&2){let e=d(2).$implicit,i=d(2);_("contentService",i.contentService)("row",e)}}function lp(n,s){if(n&1&&(a(0,"div",34),g(1,"i",40),S(2,"statusIconClass"),v(3,rp,1,2,"select",41),r()),n&2){let e=d().$implicit,i=d(2);o(),_("ngClass",C(2,2,e.recordStatus)),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function sp(n,s){if(n&1&&(a(0,"div",34),g(1,"i",44),c(2),S(3,"localeDate"),r()),n&2){let e=d(2).$implicit,i=d(2);o(2),de(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",C(3,2,e.updatedDate)," ")}}function dp(n,s){if(n&1){let e=P();a(0,"div",35),v(1,sp,4,4,"div",34),a(2,"div",34)(3,"span",42),M("click",function(t){return m(e),d(3).onActionCopied(),u(t.stopPropagation())}),g(4,"i",43),r(),c(5),r()()}if(n&2){let e=d().$implicit;o(),b(e.updatedDate?1:-1),o(2),_("cdkCopyToClipboard",e.id.toString()),o(2),h(" ID: ",e.id," ")}}function cp(n,s){if(n&1){let e=P();a(0,"div",31),M("click",function(t){let l=m(e).$implicit,f=d(2);return u(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d(2);return u(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d(2);return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d(2);return u(l.onActionTableRowMouseLeave(t))}),a(1,"div",32)(2,"div",33),c(3),r(),v(4,ip,3,2,"div",34),v(5,np,5,6,"div",34),v(6,op,5,6,"div",34),v(7,ap,4,3,"div",34),v(8,lp,4,4,"div",34),v(9,dp,6,3,"div",35),r()()}if(n&2){let e=s.$implicit,i=d(2);H("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),He("aria-label",e.title||e.id),o(3),h(" ",e.title||"ID: "+e.id," "),o(),b(e.id?4:-1),o(),b(e.linkUserId?5:-1),o(),b(e.linkSiteId?6:-1),o(),b(e.createdDate?7:-1),o(),b(e.recordStatus!==void 0?8:-1),o(),b(i.getRowExpanded(e)?9:-1)}}function pp(n,s){if(n&1&&(a(0,"div",18),Be(1,cp,10,10,"div",30,Yc),r()),n&2){let e=d();o(),Oe(e.dataModelResult.listItems)}}function mp(n,s){n&1&&(a(0,"div",19),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"MESSAGE.NoRecord")," "))}var Dn=class Dn extends un{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(e){return e.expanded===!0}};Dn.\u0275fac=(()=>{let e;return function(t){return(e||(e=Rt(Dn)))(t||Dn)}})(),Dn.\u0275cmp=L({type:Dn,selectors:[["app-data-provider-client-application-list-mobile"]],hostBindings:function(i,t){i&1&&M("click",function(f){return t.onDocumentClick(f)},bt)},standalone:!1,features:[W],decls:33,vars:31,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-key","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item",3,"selected"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-user"],["aria-hidden","true",1,"fa-solid","fa-globe"],["aria-hidden","true",1,"fa-solid","fa-calendar"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list-mobile",1),T("optionActionGuideNoticeDisplayChange",function(p){return m(l),y(t.viewGuideNotice,p)||(t.viewGuideNotice=p),u(p)}),M("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionButtonPrintRow())}),be(1,2)(2,3)(3,4),w(4,5),a(5,"a",6),M("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),g(6,"i",7),r(),a(7,"a",6),M("click",function(){return m(l),u(t.onActionButtonReload())}),g(8,"i",8),r(),E(),w(9,9),a(10,"a",10),M("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(11,"mat-slide-toggle",11),c(12),S(13,"translate"),r(),a(14,"a",10),M("click",function(){return m(l),u(t.onActionButtonStatist())}),g(15,"mat-slide-toggle",11),c(16),S(17,"translate"),r(),E(),w(18,12),v(19,Zc,7,3,"div",13),E(),w(20,14),v(21,$c,7,3,"div",13),v(22,ep,7,3,"div",13),v(23,tp,7,3,"div",13),E(),w(24,15),a(25,"app-cms-search-list",16),T("optionsChange",function(p){return m(l),y(t.optionsSearch,p)||(t.optionsSearch=p),u(p)}),r(),a(26,"app-cms-statist-list",16),T("optionsChange",function(p){return m(l),y(t.optionsStatist,p)||(t.optionsStatist=p),u(p)}),r(),E(),w(27,17),v(28,pp,3,0,"div",18)(29,mp,3,3,"div",19),E(),w(30,20),a(31,"mat-paginator",21,0),M("page",function(p){return m(l),u(t.onTablePageingData(p))}),r(),E(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","dataprovider.client-application.list"),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(8),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),h("",C(13,26,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),h("",C(17,28,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?19:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?21:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?22:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?23:-1),o(2),D("options",t.optionsSearch),o(),D("options",t.optionsStatist),o(2),b(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?28:29),o(3),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(30,Xc)))},dependencies:[xe,q,pe,Te,Xe,Ae,Re,kt,ke,lt,Fe,B,za,st,ti,Le],styles:[".cms-m-body[_ngcontent-%COMP%]{min-height:100vh;background:var(--cms-m-bg, #0f172a);color:var(--cms-m-fg, #e2e8f0)}.cms-m-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2;background:var(--cms-m-header-bg, #0f172a);border-bottom:1px solid rgba(255,255,255,.08)}.cms-m-header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 16px}.cms-m-header-title[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:var(--cms-m-accent, #38bdf8)}.cms-m-header-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-left:auto}.cms-m-header-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:#ffffff0d;color:#e2e8f0;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.cms-m-header-action-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.cms-m-header-action-btn.active[_ngcontent-%COMP%]{background:#38bdf833;border-color:#38bdf866}.cms-m-header-action-btn[_ngcontent-%COMP%]   i.rotation360[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotation360 1s linear infinite}@keyframes _ngcontent-%COMP%_rotation360{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.cms-m-search-area[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px 16px}.cms-m-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.cms-m-list-item[_ngcontent-%COMP%]{display:flex;gap:12px;padding:12px;border-radius:14px;background:#ffffff0a;border:1px solid rgba(255,255,255,.06);cursor:pointer;transition:all .2s ease}.cms-m-list-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.cms-m-list-item.selected[_ngcontent-%COMP%]{border-color:var(--cms-m-accent, #38bdf8);box-shadow:0 0 0 1px #38bdf84d}.cms-m-list-item-content[_ngcontent-%COMP%]{flex:1;min-width:0}.cms-m-list-item-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:4px;font-size:14px}.cms-m-list-item-subtitle[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8}.cms-m-list-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0}.cms-m-empty[_ngcontent-%COMP%]{padding:24px;text-align:center;color:#94a3b8}"]});var Co=Dn;var up=["vform"];function fp(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",13),T("modelChange",function(t){m(e);let l=d();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=d();D("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function _p(n,s){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.required")))}function Sp(n,s){if(n&1){let e=P();a(0,"div",12)(1,"button",14),M("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",15),c(3),S(4,"translate"),r(),a(5,"button",16),g(6,"i",17),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),h(" ",C(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var ho=class ho extends _t{constructor(e,i,t,l,f,p,k,X){super(l,new an,p,X);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderClientService=l;this.cmsToastrService=f;this.publicHelper=p;this.cdr=k;this.translate=X;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Y;this.dataModel=new an;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderClientService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0,Id:i.item.id})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ho.\u0275fac=function(i){return new(i||ho)(I(le),I(re),I(ie),I(Ui),I(N),I(G),I(F),I(O))},ho.\u0275cmp=L({type:ho,selectors:[["app-data-provider-client-add"]],viewQuery:function(i,t){if(i&1&&U(up,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[W],decls:21,vars:14,consts:[["vform","ngForm"],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",2),g(1,"app-progress-spinner",3),a(2,"div",4)(3,"p",5),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),g(8,"app-cms-form-result-message",6),a(9,"form",7,0),M("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(11,fp,1,5,"app-cms-enum-record-status-selector",8),a(12,"div",9)(13,"label",10),c(14),r(),a(15,"input",11,1),T("ngModelChange",function(p){return m(l),y(t.dataModel.title,p)||(t.dataModel.title=p),u(p)}),r(),a(17,"em"),c(18),r(),v(19,_p,5,3,"mat-error"),r(),v(20,Sp,9,7,"div",12),r()()()}if(i&2){let l=x(16);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",C(7,12,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(3),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),D("ngModel",t.dataModel.title),o(3),h("",l.value.length," / 100"),o(),b(l.errors!=null&&l.errors.required?19:-1),o(),b(t.formInfo.submitButtonEnabled?20:-1)}},dependencies:[ge,$,ee,Ce,De,ye,ce,he,qe,q,ve,j,Se,B],encapsulation:2});var tr=ho;var Cp=["vform"];function hp(n,s){if(n&1){let e=P();a(0,"div",8)(1,"button",9),M("click",function(){m(e);let t=d();return u(t.onFormDelete())}),g(2,"i",10),c(3),S(4,"translate"),r(),a(5,"button",11),M("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(6,"i",12),c(7),S(8,"translate"),r()()}if(n&2){let e=d();o(),_("disabled",!e.formInfo.submitButtonEnabled),o(2),h(" ",C(4,3,"ACTION.DELETE")," "),o(4),h(" ",C(8,5,"ACTION.CANCEL")," ")}}var go=class go{constructor(s,e,i,t,l,f,p){this.data=s;this.dialogRef=e;this.publicHelper=i;this.dataProviderClientService=t;this.cdr=l;this.translate=f;this.cmsToastrService=p;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new Y;this.formInfo=new $t;this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=s.id||"")}ngOnInit(){if(this.requestId?.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId?.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderClientService.setAccessLoad(),this.dataProviderClientService.setAccessDataType(Ne.Editor),this.dataProviderClientService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onFormDelete(){if(this.requestId?.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderClientService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};go.\u0275fac=function(e){return new(e||go)(I(le),I(re),I(G),I(Ui),I(F),I(O),I(N))},go.\u0275cmp=L({type:go,selectors:[["app-data-provider-client-delete"]],viewQuery:function(e,i){if(e&1&&U(Cp,5),e&2){let t;Q(t=z())&&(i.formGroup=t.first)}},standalone:!1,decls:14,vars:10,consts:[["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","title",1,"color-highlight"],["matInput","","name","title","type","text","required","","readonly","","id","title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){if(e&1){let t=P();a(0,"div",1),g(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),a(8,"div",5)(9,"label",6),c(10),r(),a(11,"input",7,0),T("ngModelChange",function(f){return m(t),y(i.dataModelResultContent.item.title,f)||(i.dataModelResultContent.item.title=f),u(f)}),r()(),v(13,hp,9,7,"div",8),r()()}e&2&&(o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(3),h(" ",i.formInfo.formTitle," "),o(2),h(" ",C(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),D("ngModel",i.dataModelResultContent.item.title),o(2),b(i.formInfo.submitButtonEnabled?13:-1))},dependencies:[$,ee,Ee,ce,q,j,B],encapsulation:2});var ir=go;function gp(n,s){if(n&1){let e=P();a(0,"li")(1,"mat-checkbox",0),M("change",function(){let t=m(e).$implicit,l=d();return u(l.onActionSelect(t))}),c(2),r()()}if(n&2){let e=s.$implicit,i=d();o(),_("checked",i.fieldsStatus.get(e.id))("disabled",i.optionDisabled),o(),h(" ",e.title," ")}}var vo=class vo{constructor(s,e,i,t,l,f){this.coreEnumService=s;this.categoryService=e;this.cdr=i;this.publicHelper=t;this.translate=l;this.cmsToastrService=f;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Y;this.dataModelSelect=[];this.dataIdsSelect=[];this.formControl=new pi;this.fieldsStatus=new Map;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionChange=new xt;this.optionSelectAdded=new xt;this.optionSelectRemoved=new xt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s),this.onActionReSelect()}ngOnInit(){this.DataGetAll()}DataGetAll(){let s=new ae;s.rowPerPage=50,s.accessLoad=!0;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(s).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataModelResult.listItems.forEach(t=>this.fieldsStatus.set(t.id,!1)),this.dataIdsSelect.forEach(t=>this.fieldsStatus.set(t,!0)),this.dataModelResult.listItems.forEach(t=>{this.fieldsStatus.get(t.id)&&this.dataModelSelect.push(t)})):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelect(s){this.fieldsStatus.get(s.id)?(this.fieldsStatus.set(s.id,!1),this.optionSelectRemoved.emit(s),this.dataModelSelect.splice(this.dataModelSelect.indexOf(s),1)):(this.fieldsStatus.set(s.id,!0),this.optionSelectAdded.emit(s),this.dataModelSelect.push(s)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(s){Array.isArray(s)&&s.length>0&&(typeof s[0]=="string"||typeof s[0]=="number"?s.forEach(e=>{this.dataIdsSelect.push(e.toString())}):s[0]instanceof mt&&s.forEach(e=>{this.dataIdsSelect.push(String(e.id))})),this.dataIdsSelect.forEach(e=>this.fieldsStatus.set(e,!0))}onActionButtonReload(){this.DataGetAll()}onActionReSelect(){this.dataModelResult.listItems.forEach(s=>this.fieldsStatus.set(s.id,!1)),this.dataIdsSelect.forEach(s=>this.fieldsStatus.set(s,!0)),this.dataModelResult.listItems.forEach(s=>{this.fieldsStatus.get(s.id)&&this.dataModelSelect.push(s)})}};vo.\u0275fac=function(e){return new(e||vo)(I(ie),I(Yt),I(F),I(G),I(O),I(N))},vo.\u0275cmp=L({type:vo,selectors:[["app-data-provider-plan-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},standalone:!1,decls:3,vars:0,consts:[[3,"change","checked","disabled"]],template:function(e,i){e&1&&(a(0,"ul"),Be(1,gp,3,3,"li",null,Ei),r()),e&2&&(o(),Oe(i.dataModelResult.listItems))},dependencies:[Kn],encapsulation:2});var bo=vo;var vp=["vform"];function bp(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",17),T("modelChange",function(t){m(e);let l=d();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=d();D("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Mp(n,s){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.required")))}function Ip(n,s){if(n&1){let e=P();a(0,"div",16)(1,"button",18),M("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",19),c(3),S(4,"translate"),r(),a(5,"button",20),g(6,"i",21),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),h(" ",C(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var Mo=class Mo extends St{constructor(e,i,t,l,f,p,k,X,Ge,$e,Ke,dt,oi){super(l,new an,p,dt);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderClientService=l;this.cmsToastrService=f;this.publicHelper=p;this.cdr=k;this.cmsStoreService=X;this.router=Ge;this.cmsConfirmationDialogService=$e;this.dataProviderPlanClientService=Ke;this.translate=dt;this.tokenHelper=oi;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.unsubscribe=[];this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new pt;this.dataModel=new an;this.fileManagerOpenForm=!1;this.dataCoreCpMainMenuIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id||""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(jn=>jn.tokenInfoStore).subscribe(jn=>Ie(this,null,function*(){this.tokenInfo=jn})))}ngOnInit(){if(this.requestId?.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(this.requestId?.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderClientService.setAccessLoad(),this.dataProviderClientService.setAccessDataType(Ne.Editor),this.dataProviderClientService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.DataGetAllPlanClient()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderClientService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}DataGetAllPlanClient(){if(this.requestId?.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Getting_access_category_from_the_server").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)});let i=new ae,t=new J;t.propertyName="LinkClientId",t.value=this.requestId,i.filters.push(t),this.dataProviderPlanClientService.ServiceGetAll(i).subscribe({next:l=>{this.dataCoreCpMainMenuCmsUserGroupModel=l.listItems;let f=[];this.dataCoreCpMainMenuCmsUserGroupModel.forEach(p=>{f.push(p.linkPlanId.toString())}),this.dataCoreCpMainMenuIds=f,l.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(p=>{this.formInfo.submitResultMessage=p}),this.formInfo.submitResultMessage=l.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(l.errorMessage)),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorPlanSelect(e){this.dataCoreCpMainMenuModel=e}onActionSelectorPlanSelectAdded(e){if(!this.tokenInfo.access.userAccessAdminAllowToProfessionalData){let f=[];this.dataCoreCpMainMenuIds.forEach(p=>{p!=e.id&&f.push(p)}),setTimeout(()=>this.dataCoreCpMainMenuIds=f,1e3);var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Would_you_like_to_buy_this_content"]).subscribe(p=>{i=p["MESSAGE.Please_Confirm"],t=p["MESSAGE.Would_you_like_to_buy_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(p=>{if(p){let k=this.constructor.name+"main";this.router.navigate(["/data-provider/client-charge/",e.id]),this.dialogRef.close({dialogChangedDate:!1})}});return}let l=new Di;l.linkPlanId=e.id,l.linkClientId=this.dataModel.id,this.dataProviderPlanClientService.ServiceAdd(l).subscribe({next:f=>{if(f.isSuccess)this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(p=>{this.formInfo.submitResultMessage=p}),this.cmsToastrService.typeSuccessEdit();else{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(k=>{this.formInfo.submitResultMessage=k}),this.formInfo.submitResultMessage=f.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(f.errorMessage);let p=[];this.dataCoreCpMainMenuIds.forEach(k=>{k!=e.id&&p.push(k)}),setTimeout(()=>this.dataCoreCpMainMenuIds=p,1e3)}},error:f=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(f)}})}onActionSelectorPlanSelectRemoved(e){if(!this.tokenInfo.access.userAccessAdminAllowToProfessionalData){let t=[];this.dataCoreCpMainMenuIds.forEach(l=>{t.push(l)}),t.indexOf(e.id)<0&&t.push(e.id),setTimeout(()=>this.dataCoreCpMainMenuIds=t,1e3),this.cmsToastrService.typeErrorAccessDelete();return}let i=new Di;i.linkPlanId=e.id,i.linkClientId=this.dataModel.id,this.dataProviderPlanClientService.ServiceDeleteEntity(i).subscribe({next:t=>{if(t.isSuccess)this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.cmsToastrService.typeSuccessEdit();else{let l=[];this.dataCoreCpMainMenuIds.forEach(f=>{l.push(f)}),l.indexOf(e.id)<0&&l.push(e.id),setTimeout(()=>this.dataCoreCpMainMenuIds=l,1e3),this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(f=>{this.formInfo.submitResultMessage=f}),this.formInfo.submitResultMessage=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)}},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}};Mo.\u0275fac=function(i){return new(i||Mo)(I(le),I(re),I(ie),I(Ui),I(N),I(G),I(F),I(Qe),I(Ye),I(Qt),I(Ri),I(O),I(ze))},Mo.\u0275cmp=L({type:Mo,selectors:[["app-data-provider-client-edit"]],viewQuery:function(i,t){if(i&1&&U(vp,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[W],decls:27,vars:20,consts:[["vform","ngForm"],["Id",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.id",1,"color-highlight"],["matInput","","type","id","name","dataModel.Id","type","text","id","dataModel.id",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",3),g(1,"app-progress-spinner",4),a(2,"div",5)(3,"p",6),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),g(8,"app-cms-form-result-message",7),a(9,"form",8,0),M("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(11,bp,1,5,"app-cms-enum-record-status-selector",9),a(12,"div",10)(13,"label",11),c(14),r(),a(15,"input",12,1),T("ngModelChange",function(p){return m(l),y(t.dataModel.id,p)||(t.dataModel.id=p),u(p)}),r()(),a(17,"div",10)(18,"label",13),c(19),r(),a(20,"input",14,2),T("ngModelChange",function(p){return m(l),y(t.dataModel.title,p)||(t.dataModel.title=p),u(p)}),r(),a(22,"em"),c(23),r(),v(24,Mp,5,3,"mat-error"),r(),a(25,"app-data-provider-plan-selectionlist",15),M("optionChange",function(p){return m(l),u(t.onActionSelectorPlanSelect(p))})("optionSelectAdded",function(p){return m(l),u(t.onActionSelectorPlanSelectAdded(p))})("optionSelectRemoved",function(p){return m(l),u(t.onActionSelectorPlanSelectRemoved(p))}),r(),v(26,Ip,9,7,"div",16),r()()()}if(i&2){let l=x(21);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",C(7,18,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(3),A(t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle)),D("ngModel",t.dataModel.id),o(4),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),D("ngModel",t.dataModel.title),o(3),h("",l.value.length," / 100"),o(),b(l.errors!=null&&l.errors.required?24:-1),o(),_("optionSelectForce",t.dataCoreCpMainMenuIds)("optionDisabled",!1),o(),b(t.formInfo.submitButtonEnabled?26:-1)}},dependencies:[ge,$,ee,Ce,De,ye,ce,he,qe,q,ve,j,Se,bo,B],encapsulation:2});var ya=Mo;var Pp=["*"];function wp(n,s){if(n&1&&(a(0,"label",3),c(1),r()),n&2){let e=d();_("for",Wt("app-cms-site-selector-",e.id)),o(),A(e.optionLabel)}}function Ep(n,s){if(n&1&&(g(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=d();_("src",R(C(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),K)}}function Dp(n,s){if(n&1&&(g(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;_("src",R(C(1,2,e.linkMainImageIdSrc)),K)}}function yp(n,s){if(n&1&&(a(0,"mat-option",8),v(1,Dp,2,4,"img",5),a(2,"span"),c(3),r()()),n&2){let e=s.$implicit,i=d();_("value",e)("disabled",i.optionDisabled),o(),b(e.linkMainImageIdSrc?1:-1),o(2),A(i.displayOption(e))}}function Tp(n,s){n&1&&g(0,"i",9)}function Ap(n,s){n&1&&g(0,"i",10)}function Rp(n,s){if(n&1){let e=P();a(0,"i",13),M("click",function(){m(e);let t=d();return u(t.onActionSelectClear())}),r()}}function xp(n,s){n&1&&(a(0,"em"),c(1),S(2,"translate"),r()),n&2&&(o(),h("(",C(2,1,"TITLE.Necessary"),")"))}var fn=class fn{constructor(s,e,i,t,l){this.coreEnumService=s;this.cdr=e;this.publicHelper=i;this.translate=t;this.categoryService=l;this.id=++fn.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Y;this.dataModelSelect=new _i;this.formControl=new pi;this.optionPlaceholder="";this.optionSelectFirstItem=!1;this.optionDisabled=!1;this.optionRequired=!1;this.optionLabel="";this.optionChange=new xt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Pi(""),Mi(1500),Ii(),wi(s=>typeof s=="string"||typeof s=="number"?this.DataGetAll(s||""):[]))}displayFn(s){return s?s.title:void 0}displayOption(s){return s?s.title:void 0}DataGetAll(s){return Ie(this,null,function*(){let e=new ae;e.rowPerPage=20,e.accessLoad=!0;let i=new J;i.propertyName="title",i.value=s,i.searchType=qt.Contains,i.clauseType=Ut.Or,e.filters.push(i),s&&typeof+s=="number"&&+s>0&&(i=new J,i.propertyName="id",i.value=s,i.searchType=qt.Equal,i.clauseType=Ut.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),yield vi(this.categoryService.ServiceGetAll(e)).then(l=>(this.dataModelResult=l,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||(typeof this.dataModelSelect.id=="string"?this.dataModelSelect.id.length===0:this.dataModelSelect.id<=0))&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),l.listItems))})}onActionSelect(s){this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(s){return this.filteredOptions.pipe(bi(e=>(e.find(i=>i.id===s.id)||e.push(s),e)))}onActionSelectForce(s){if(typeof s=="string"&&s.length>0||typeof s=="number"&&s>0){let e=typeof s=="string"?s:String(s);if(this.dataModelSelect&&String(this.dataModelSelect.id)===e)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>String(i.id)===e)){let i=this.dataModelResult.listItems.find(t=>String(t.id)===e);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(e).subscribe({next:i=>{i.isSuccess&&(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item))}});return}if(typeof s==typeof _i){this.filteredOptions=this.push(s),this.dataModelSelect=s,this.formControl.setValue(s);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new _i,this.loadOptions()}};fn.nextId=0,fn.\u0275fac=function(e){return new(e||fn)(I(ie),I(F),I(G),I(O),I(Ai))},fn.\u0275cmp=L({type:fn,selectors:[["app-data-provider-plan-category-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Pp,decls:18,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=P();qi(),a(0,"div",1),g(1,"app-progress-spinner",2),v(2,wp,2,3,"label",3),a(3,"span",4),v(4,Ep,2,4,"img",5),r(),g(5,"input",6),a(6,"mat-autocomplete",7,0),M("optionSelected",function(f){return m(t),u(i.onActionSelect(f.option.value))}),Be(8,yp,4,4,"mat-option",8,Ei),S(10,"async"),r(),v(11,Tp,1,0,"i",9),v(12,Ap,1,0,"i",10),v(13,Rp,1,0,"i",11),a(14,"i",12),S(15,"translate"),M("click",function(){return m(t),u(i.onActionButtonReload())}),r(),v(16,xp,3,3,"em"),ji(17),r()}if(e&2){let t=x(7);o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(),b((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),b(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),_("placeholder",R(i.optionPlaceholder))("id",Wt("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),He("disabled",i.optionDisabled?!0:null),o(),_("displayWith",i.displayFn),o(2),Oe(C(10,20,i.filteredOptions)),o(3),b(i.formControl.valid?-1:11),o(),b(i.optionRequired&&i.formControl.valid?12:-1),o(),b((i.dataModelSelect==null?null:i.dataModelSelect.id)>0?13:-1),o(),H("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),_("title",R(C(15,22,"ACTION.RELOAD"))),o(2),b(i.optionRequired&&!((i.dataModelSelect==null?null:i.dataModelSelect.id)>0)?16:-1)}},dependencies:[$,ee,Ee,Vi,Fi,Bi,Ni,Xi,q,j,Fe,B,Pe],encapsulation:2});var ni=fn;var kp=["vform"];function Lp(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",21),T("modelChange",function(t){m(e);let l=d();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=d();D("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Vp(n,s){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.required")))}function Bp(n,s){n&1&&(a(0,"mat-error"),c(1," Description is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.required")))}function Op(n,s){if(n&1&&(g(0,"img",19),S(1,"cmsthumbnail")),n&2){let e=d();_("src",R(C(1,2,e.dataModel.linkMainImageIdSrc)),K)}}function Fp(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",22),M("click",function(){m(e);let t=d();return u(t.fileManagerOpenForm=!0)}),c(2),S(3,"translate"),r(),a(4,"input",23,3),S(6,"translate"),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),u(t)}),M("click",function(){m(e);let t=d();return u(t.fileManagerOpenForm=!0)}),r(),a(7,"cms-file-manager",24),M("itemSelected",function(t){m(e);let l=d();return u(l.onActionFileSelected(t))}),T("openFormChange",function(t){m(e);let l=d();return y(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),u(t)}),r()()}if(n&2){let e=d();o(2),A(C(3,12,"TITLE.Icon_File")),o(2),_("placeholder",R(C(6,14,"TITLE.Original_File_ID"))),D("ngModel",e.dataModel.linkMainImageId),o(3),_("language",e.appLanguage)("isPopup",!0),D("openForm",e.fileManagerOpenForm),_("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Np(n,s){if(n&1){let e=P();a(0,"div",20)(1,"button",25),M("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",26),c(3),S(4,"translate"),r(),a(5,"button",27),g(6,"i",28),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),h(" ",C(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var Io=class Io extends _t{constructor(e,i,t,l,f,p,k,X){super(l,new mt,p,X);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderPlanService=l;this.cmsToastrService=f;this.publicHelper=p;this.cdr=k;this.translate=X;this.requestLinkPlanCategoryId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Y;this.dataModel=new mt;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestLinkPlanCategoryId=e.linkPlanCategoryId||""),this.requestLinkPlanCategoryId&&this.requestLinkPlanCategoryId.length>0&&(this.dataModel.linkPlanCategoryId=this.requestLinkPlanCategoryId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPlanCategoryId=String(e.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Io.\u0275fac=function(i){return new(i||Io)(I(le),I(re),I(ie),I(Yt),I(N),I(G),I(F),I(O))},Io.\u0275cmp=L({type:Io,selectors:[["app-data-provider-plan-add"]],viewQuery:function(i,t){if(i&1&&U(kp,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[W],decls:37,vars:30,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",4),g(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),g(8,"app-cms-form-result-message",8),a(9,"form",9,0),M("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(11,Lp,1,5,"app-cms-enum-record-status-selector",10),a(12,"app-data-provider-plan-category-selector",11),S(13,"translate"),M("optionChange",function(p){return m(l),u(t.onActionSelectorSelect(p))}),r(),a(14,"div",12)(15,"label",13),c(16),r(),a(17,"input",14,1),T("ngModelChange",function(p){return m(l),y(t.dataModel.title,p)||(t.dataModel.title=p),u(p)}),r(),a(19,"em"),c(20),r(),v(21,Vp,5,3,"mat-error"),r(),a(22,"div",12)(23,"label",15),c(24),r(),a(25,"textarea",16,2),T("ngModelChange",function(p){return m(l),y(t.dataModel.description,p)||(t.dataModel.description=p),u(p)}),c(27,"          "),r(),a(28,"em"),c(29),r(),v(30,Bp,5,3,"mat-error"),r(),a(31,"div",17)(32,"a",18),S(33,"cmsthumbnail"),v(34,Op,2,4,"img",19),r()(),v(35,Fp,8,16,"div",12),v(36,Np,9,7,"div",20),r()()()}if(i&2){let l=x(18),f=x(26);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",C(7,24,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),_("optionSelectForce",t.dataModel.linkPlanCategoryId)("optionPlaceholder",C(13,26,"TITLE.Category")),o(4),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),D("ngModel",t.dataModel.title),o(3),h("",l.value.length," / 100"),o(),b(l.errors!=null&&l.errors.required?21:-1),o(3),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),D("ngModel",t.dataModel.description),o(4),h("",f.value.length," / 500"),o(),b(f.errors!=null&&f.errors.required?30:-1),o(2),_("href",R(C(33,28,t.dataModel.linkMainImageIdSrc)),K),o(2),b((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?34:-1),o(),b(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?35:-1),o(),b(t.formInfo.submitButtonEnabled?36:-1)}},dependencies:[ge,$,ee,Ce,De,ye,ce,he,qe,q,ve,j,Se,ni,Ht,B,Pe],encapsulation:2});var Po=Io;var Gp=["vform"];function Hp(n,s){if(n&1){let e=P();a(0,"div",8)(1,"button",9),M("click",function(){m(e);let t=d();return u(t.onFormDelete())}),g(2,"i",10),c(3),S(4,"translate"),r(),a(5,"button",11),M("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(6,"i",12),c(7),S(8,"translate"),r()()}if(n&2){let e=d();o(),_("disabled",!e.formInfo.submitButtonEnabled),o(2),h(" ",C(4,3,"ACTION.DELETE")," "),o(4),h(" ",C(8,5,"ACTION.CANCEL")," ")}}var wo=class wo{constructor(s,e,i,t,l,f,p){this.data=s;this.dialogRef=e;this.publicHelper=i;this.dataProviderPlanService=t;this.cdr=l;this.translate=f;this.cmsToastrService=p;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new Y;this.formInfo=new $t;this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=s.id||"")}ngOnInit(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderPlanService.setAccessLoad(),this.dataProviderPlanService.setAccessDataType(Ne.Editor),this.dataProviderPlanService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onFormDelete(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderPlanService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};wo.\u0275fac=function(e){return new(e||wo)(I(le),I(re),I(G),I(Yt),I(F),I(O),I(N))},wo.\u0275cmp=L({type:wo,selectors:[["app-data-provider-plan-delete"]],viewQuery:function(e,i){if(e&1&&U(Gp,5),e&2){let t;Q(t=z())&&(i.formGroup=t.first)}},standalone:!1,decls:14,vars:10,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.title",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.title","type","text","required","","readonly","","id","dataModelResultContent.item.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){if(e&1){let t=P();a(0,"div",1),g(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),a(8,"div",5)(9,"label",6),c(10),r(),a(11,"input",7,0),T("ngModelChange",function(f){return m(t),y(i.dataModelResultContent.item.title,f)||(i.dataModelResultContent.item.title=f),u(f)}),r()(),v(13,Hp,9,7,"div",8),r()()}e&2&&(o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(3),h(" ",i.formInfo.formTitle," "),o(2),h(" ",C(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),D("ngModel",i.dataModelResultContent.item.title),o(2),b(i.formInfo.submitButtonEnabled?13:-1))},dependencies:[$,ee,Ee,ce,q,j,B],encapsulation:2});var Eo=wo;var Wp=["vform"];function qp(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",21),T("modelChange",function(t){m(e);let l=d();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=d();D("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function jp(n,s){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.required")))}function Up(n,s){n&1&&(a(0,"mat-error"),c(1," Description is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.required")))}function Qp(n,s){if(n&1&&(g(0,"img",19),S(1,"cmsthumbnail")),n&2){let e=d();_("src",R(C(1,2,e.dataModel.linkMainImageIdSrc)),K)}}function zp(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",22),M("click",function(){m(e);let t=d();return u(t.fileManagerOpenForm=!0)}),c(2),S(3,"translate"),r(),a(4,"input",23,3),S(6,"translate"),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),u(t)}),M("click",function(){m(e);let t=d();return u(t.fileManagerOpenForm=!0)}),r(),a(7,"cms-file-manager",24),M("itemSelected",function(t){m(e);let l=d();return u(l.onActionFileSelected(t))}),T("openFormChange",function(t){m(e);let l=d();return y(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),u(t)}),r()()}if(n&2){let e=d();o(2),A(C(3,12,"TITLE.Icon_File")),o(2),_("placeholder",R(C(6,14,"TITLE.Original_File_ID"))),D("ngModel",e.dataModel.linkMainImageId),o(3),_("language",e.appLanguage)("isPopup",!0),D("openForm",e.fileManagerOpenForm),_("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Kp(n,s){if(n&1){let e=P();a(0,"div",20)(1,"button",25),M("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",26),c(3),S(4,"translate"),r(),a(5,"button",27),g(6,"i",28),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),h(" ",C(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var Do=class Do extends St{constructor(e,i,t,l,f,p,k,X){super(l,new mt,p,X);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderPlanService=l;this.cmsToastrService=f;this.publicHelper=p;this.cdr=k;this.translate=X;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new pt;this.dataModel=new mt;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id||""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanService.setAccessLoad(),this.dataProviderPlanService.setAccessDataType(Ne.Editor),this.dataProviderPlanService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPlanCategoryId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Do.\u0275fac=function(i){return new(i||Do)(I(le),I(re),I(ie),I(Yt),I(N),I(G),I(F),I(O))},Do.\u0275cmp=L({type:Do,selectors:[["app-data-provider-plan-edit"]],viewQuery:function(i,t){if(i&1&&U(Wp,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[W],decls:37,vars:30,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",4),g(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),g(8,"app-cms-form-result-message",8),a(9,"form",9,0),M("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(11,qp,1,5,"app-cms-enum-record-status-selector",10),a(12,"app-data-provider-plan-category-selector",11),S(13,"translate"),M("optionChange",function(p){return m(l),u(t.onActionSelectorSelect(p))}),r(),a(14,"div",12)(15,"label",13),c(16),r(),a(17,"input",14,1),T("ngModelChange",function(p){return m(l),y(t.dataModel.title,p)||(t.dataModel.title=p),u(p)}),r(),a(19,"em"),c(20),r(),v(21,jp,5,3,"mat-error"),r(),a(22,"div",12)(23,"label",15),c(24),r(),a(25,"textarea",16,2),T("ngModelChange",function(p){return m(l),y(t.dataModel.description,p)||(t.dataModel.description=p),u(p)}),c(27,"          "),r(),a(28,"em"),c(29),r(),v(30,Up,5,3,"mat-error"),r(),a(31,"div",17)(32,"a",18),S(33,"cmsthumbnail"),v(34,Qp,2,4,"img",19),r()(),v(35,zp,8,16,"div",12),v(36,Kp,9,7,"div",20),r()()()}if(i&2){let l=x(18),f=x(26);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",C(7,24,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),_("optionSelectForce",t.dataModel.linkPlanCategoryId)("optionPlaceholder",C(13,26,"TITLE.Category")),o(4),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),D("ngModel",t.dataModel.title),o(3),h("",l.value.length," / 100"),o(),b(l.errors!=null&&l.errors.required?21:-1),o(3),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),D("ngModel",t.dataModel.description),o(4),h("",f.value.length," / 500"),o(),b(f.errors!=null&&f.errors.required?30:-1),o(2),_("href",R(C(33,28,t.dataModel.linkMainImageIdSrc)),K),o(2),b((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?34:-1),o(),b(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?35:-1),o(),b(t.formInfo.submitButtonEnabled?36:-1)}},dependencies:[ge,$,ee,Ce,De,ye,ce,he,qe,q,ve,j,Se,ni,Ht,B,Pe],encapsulation:2});var yo=Do;function Jp(n,s){if(n&1){let e=P();a(0,"button",14),M("click",function(){m(e);let t=d();return u(t.onActionAdd())}),c(1),S(2,"translate"),r()}n&2&&(o(),h(" ",C(2,1,"ACTION.ADD")," "))}function Xp(n,s){if(n&1){let e=P();a(0,"button",15),M("click",function(){m(e);let t=d();return u(t.onActionEdit())}),c(1),S(2,"translate"),r()}n&2&&(o(),h(" ",C(2,1,"ACTION.EDIT")," "))}function Yp(n,s){if(n&1){let e=P();a(0,"button",16),M("click",function(){m(e);let t=d();return u(t.onActionDelete())}),c(1),S(2,"translate"),r()}n&2&&(o(),h(" ",C(2,1,"ACTION.DELETE")," "))}function Zp(n,s){if(n&1){let e=P();a(0,"button",17),M("click",function(){m(e);let t=d();return u(t.onActionButtonReload())}),a(1,"mat-icon",18),S(2,"translate"),c(3,"refresh"),r()()}if(n&2){let e=d();o(),H("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),_("title",R(C(2,4,"ACTION.RELOAD")))}}function $p(n,s){if(n&1){let e=P();a(0,"mat-tree-node",19),g(1,"button",20),a(2,"span",21),M("click",function(){let t=m(e).$implicit,l=d();return u(l.onActionSelect(t))}),c(3),r()()}if(n&2){let e=s.$implicit,i=d();H("ntk-tree-selected",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),o(3),A(e.title)}}function em(n,s){if(n&1){let e=P();a(0,"mat-tree-node",22)(1,"button",23)(2,"mat-icon",24),c(3),r()(),a(4,"span",21),M("click",function(){let t=m(e).$implicit,l=d();return u(l.onActionSelect(t))}),c(5),r()()}if(n&2){let e=s.$implicit,i=d(),t=x(12);H("ntk-tree-selected",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),_("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),He("type","button")("aria-label","Toggle "+e.title),o(2),h(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),A(e.title)}}var To=class To{constructor(s,e,i,t,l,f,p,k,X){this.cmsToastrService=s;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=l;this.publicHelper=f;this.tokenHelper=p;this.cmsStoreService=k;this.translate=X;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new mt;this.dataModelResult=new Y;this.filterModel=new ae;this.dataSource=new eo;this.optionChange=new xt;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(s,e)=>null;this.childrenAccessor=s=>null;this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(()=>Ie(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onActionSelect(s){s&&this.dataModelSelect&&s.id==this.dataModelSelect.id?(this.dataModelSelect=null,this.optionChange.emit(null)):(this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect))}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new mt,this.DataGetAll()}onActionSelectForce(s){}onActionAdd(){let s=0;this.dataModelSelect&&this.dataModelSelect.id&&(typeof this.dataModelSelect.id=="string"?this.dataModelSelect.id.length>0:this.dataModelSelect.id>0)&&(s=this.dataModelSelect.id);let e=new ut;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={parentId:s},this.dialog.open(Po,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let s=0;if(this.dataModelSelect&&this.dataModelSelect.id&&(typeof this.dataModelSelect.id=="string"?this.dataModelSelect.id.length>0:this.dataModelSelect.id>0)&&(s=this.dataModelSelect.id),typeof s=="string"?s.length===0:s===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(yo,{height:"90%",panelClass:e,enterAnimationDuration:se.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:se.cmsViewConfig.exitAnimationDuration,data:{id:s}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let s;if(this.dataModelSelect&&this.dataModelSelect.id&&(typeof this.dataModelSelect.id=="string"?this.dataModelSelect.id.length>0:this.dataModelSelect.id>0)&&(s=this.dataModelSelect.id),typeof s=="string"?s.length===0:s===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Eo,{height:"90%",panelClass:e,enterAnimationDuration:se.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:se.cmsViewConfig.exitAnimationDuration,data:{id:s}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}};To.\u0275fac=function(e){return new(e||To)(I(N),I(ie),I(Yt),I(je),I(F),I(G),I(ze),I(Qe),I(O))},To.\u0275cmp=L({type:To,selectors:[["app-data-provider-plan-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:16,vars:14,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(a(0,"app-cms-html-tree",1),w(1,2),c(2),S(3,"translate"),E(),w(4,3),v(5,Jp,3,3,"button",4),v(6,Xp,3,3,"button",5),v(7,Yp,3,3,"button",6),v(8,Zp,4,6,"button",7),E(),w(9,8),g(10,"app-progress-spinner",9),a(11,"mat-tree",10,0),V(13,$p,4,3,"mat-tree-node",11)(14,em,6,8,"mat-tree-node",12),r(),E(),be(15,13),r()),e&2&&(_("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),h(" ",C(3,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow?5:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0?6:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0?7:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow?8:-1),o(2),_("optionsInfoAreaId",i.constructorInfoAreaId),o(),_("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),_("matTreeNodeDefWhen",i.hasChild))},dependencies:[Ze,Je,Xn,Yn,$n,Zn,Jn,j,io,B],encapsulation:2});var on=To;var tm=()=>["expandedTitle"],im=()=>["expandedDetail"],nm=()=>[5,10,20,100],zl=n=>({display:n});function om(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",44),M("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",45)(3,"br"),r(),a(4,"p",20),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.ADD")," "))}function am(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",46),M("click",function(){m(e);let t=d();return u(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",47)(3,"br"),r(),a(4,"p",20),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.EDIT")," "))}function rm(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",48),M("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",49)(3,"br"),r(),a(4,"p",20),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.DELETE")," "))}function lm(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",18),M("click",function(){m(e);let t=d();return u(t.onActionButtonTransactionList(t.tableRowSelected))}),g(2,"i",50)(3,"br"),r(),a(4,"p",20),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.TRANSACTIONS")," "))}function sm(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",18),M("click",function(){m(e);let t=d();return u(t.onActionButtonDataRow(t.tableRowSelected))}),g(2,"i",51)(3,"br"),r(),a(4,"p",20),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.DATA")," "))}function dm(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",18),M("click",function(){m(e);let t=d();return u(t.onActionButtonClientList(t.tableRowSelected))}),g(2,"i",52)(3,"br"),r(),a(4,"p",20),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.CLIENT")," "))}function cm(n,s){n&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"TITLE.MENU")," "))}function pm(n,s){if(n&1){let e=P();a(0,"mat-cell")(1,"button",53),M("click",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowSelectActionMenu(t))}),g(2,"i",54),r()()}}function mm(n,s){n&1&&(a(0,"mat-header-cell",55),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"TITLE.PICTURE")," "))}function um(n,s){if(n&1&&(g(0,"img",56),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;_("src",R(C(1,2,e.linkMainImageIdSrc)),K)}}function fm(n,s){if(n&1&&(a(0,"mat-cell"),v(1,um,2,4,"img",56),r()),n&2){let e=s.$implicit;o(),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function _m(n,s){if(n&1&&(a(0,"mat-header-cell",55),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Sm(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.id," ")}}function Cm(n,s){if(n&1&&(a(0,"mat-header-cell",55),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function hm(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),r()),n&2){let e=s.$implicit;o(),h(" ",C(3,3,C(2,1,e.linkSiteId))," ")}}function gm(n,s){if(n&1&&(a(0,"mat-header-cell",55),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function vm(n,s){if(n&1&&g(0,"select",58),n&2){let e=d().$implicit,i=d();_("contentService",i.contentService)("row",e)("ngStyle",Gt(3,zl,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function bm(n,s){if(n&1&&(a(0,"mat-cell"),g(1,"i",57),S(2,"statusIconClass"),v(3,vm,1,5,"select",58),r()),n&2){let e=s.$implicit,i=d();o(),_("ngClass",C(2,2,e.recordStatus)),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?3:-1)}}function Mm(n,s){if(n&1&&(a(0,"mat-header-cell",55),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Im(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.title," ")}}function Pm(n,s){n&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"TITLE.OPTION")," "))}function wm(n,s){if(n&1&&(a(0,"mat-cell",59)(1,"button",60)(2,"mat-icon"),c(3,"more_vert"),r()(),g(4,"mat-menu",null,2),r()),n&2){let e=x(5);o(),_("matMenuTriggerFor",e)}}function Em(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.title," ")}}function Dm(n,s){if(n&1&&(g(0,"img",61),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;_("src",R(C(1,2,e.linkMainImageIdSrc)),K)}}function ym(n,s){if(n&1){let e=P();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),v(5,Dm,2,4,"img",61),r(),a(6,"th"),c(7),a(8,"span",62),M("click",function(){m(e);let t=d();return u(t.onActionCopied())}),g(9,"i",63),r()()(),a(10,"tr"),g(11,"td"),a(12,"td"),c(13),r()(),a(14,"tr"),g(15,"td")(16,"td"),r()()()()}if(n&2){let e=s.$implicit;o(5),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),h(" ",e.id," "),o(),_("cdkCopyToClipboard",e.id),o(5),A(e.title)}}function Tm(n,s){n&1&&g(0,"mat-header-row")}function Am(n,s){if(n&1){let e=P();a(0,"mat-row",64),M("click",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Rm(n,s){if(n&1){let e=P();a(0,"mat-row",65),M("click",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function xm(n,s){if(n&1){let e=P();a(0,"mat-row",66),M("click",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),_("ngStyle",Gt(3,zl,e.expanded===!0?"":"none"))}}var Ao=class Ao extends Ct{constructor(e,i,t,l,f,p,k,X,Ge,$e){super(e,new an,Ge,l,p);this.contentService=e;this.cmsToastrService=i;this.router=t;this.tokenHelper=l;this.cdr=f;this.translate=p;this.cmsStoreService=k;this.pageInfo=X;this.publicHelper=Ge;this.dialog=$e;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new ae;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","action_menu"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","id","recordStatus","action_menu"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ke=>this.onSubmitOptionsSearch(Ke)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=oe.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Ie(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new an);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&(typeof this.categoryModelSelected.id=="string"?this.categoryModelSelected.id.length>0:this.categoryModelSelected.id>0)){let t=new J;t.propertyName="PlanClients",t.propertyAnyName="LinkPlanId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=oe.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=oe.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=oe.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new ae,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=new ut;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={},this.dialog.open(tr,e).afterClosed().subscribe(t=>{if(t&&t.dialogChangedDate)if(t.id&&t.id>0){let l=new ut;l.disableClose=!0,l.autoFocus=!0,l.height="90%",l.data={id:t.id},this.dialog.open(ya,l).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&(this.categoryModelSelected=new mt,this.DataGetAll())})}else this.categoryModelSelected=new mt,this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}let i=new ut;i.disableClose=!0,i.autoFocus=!0,i.height="90%",i.data={id:this.tableRowSelected.id},this.dialog.open(ya,i).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&(this.categoryModelSelected=new mt,this.DataGetAll())})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ir,{height:"40%",panelClass:i,enterAnimationDuration:se.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:se.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new J;f.propertyName="recordStatus",f.value=ct.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonClientCreditAccountRow(e=this.tableRowSelected,i){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)||!e.linkSiteId||e.linkSiteId<=0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/data-provider/client-charge/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/client-charge/",e.id])}onActionButtonClientList(e=this.tableRowSelected,i){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/data-provider/plan-client/LinkClientId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/plan-client/LinkClientId/"+e.id])}onActionButtonDataRow(e=this.tableRowSelected,i){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("MESSAGE.No_row_selected_for_viewing").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorAccessDelete();return}i?.ctrlKey?(this.link="/#/data-provider/log-client/LinkClientId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/log-client/LinkClientId/"+e.id])}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionButtonTransactionList(e=this.tableRowSelected,i){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/data-provider/transaction/LinkClientId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/transaction/LinkClientId/"+e.id])}};Ao.\u0275fac=function(i){return new(i||Ao)(I(Ui),I(N),I(Ye),I(ze),I(F),I(O),I(Qe),I(ft),I(G),I(je))},Ao.\u0275cmp=L({type:Ao,selectors:[["app-data-provider-client-list"]],standalone:!1,features:[W],decls:71,vars:37,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["mat-menu-item","","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-cart-shopping","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","title"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["mat-menu-item","","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-circle-dollar","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-database","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-people","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list",3),T("optionActionGuideNoticeDisplayChange",function(p){return m(l),y(t.viewGuideNotice,p)||(t.viewGuideNotice=p),u(p)}),M("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionButtonPrintRow())}),w(1,4),a(2,"app-data-provider-plan-tree",5),M("optionChange",function(p){return m(l),u(t.onActionSelectorSelect(p))}),r(),E(),be(3,6)(4,7),w(5,8),a(6,"a",9),M("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),g(7,"i",10),r(),a(8,"a",9),M("click",function(){return m(l),u(t.onActionButtonReload())}),g(9,"i",11),r(),E(),w(10,12),a(11,"a",13),M("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(12,"mat-slide-toggle",14),c(13),S(14,"translate"),r(),a(15,"a",13),M("click",function(){return m(l),u(t.onActionButtonStatist())}),g(16,"mat-slide-toggle",14),c(17),S(18,"translate"),r(),E(),w(19,15),v(20,om,7,3,"div",16),E(),w(21,17),v(22,am,7,3,"div",16),v(23,rm,7,3,"div",16),v(24,lm,7,3,"div",16),a(25,"div",16)(26,"a",18),M("click",function(){return m(l),u(t.onActionButtonClientCreditAccountRow(t.tableRowSelected))}),g(27,"i",19)(28,"br"),r(),a(29,"p",20),c(30,"client charge"),r()(),v(31,sm,7,3,"div",16),v(32,dm,7,3,"div",16),E(),w(33,21),a(34,"app-cms-search-list",22),T("optionsChange",function(p){return m(l),y(t.optionsSearch,p)||(t.optionsSearch=p),u(p)}),r(),a(35,"app-cms-statist-list",22),T("optionsChange",function(p){return m(l),y(t.optionsStatist,p)||(t.optionsStatist=p),u(p)}),r(),E(),w(36,23),a(37,"mat-table",24,0),M("matSortChange",function(){m(l);let p=x(38);return u(t.onTableSortData(p))}),w(39,25),V(40,cm,3,3,"mat-header-cell",26)(41,pm,3,0,"mat-cell",27),E(),w(42,28),V(43,mm,3,3,"mat-header-cell",29)(44,fm,2,1,"mat-cell",27),E(),w(45,30),V(46,_m,2,1,"mat-header-cell",29)(47,Sm,2,1,"mat-cell",27),E(),w(48,31),V(49,Cm,2,1,"mat-header-cell",29)(50,hm,4,5,"mat-cell",27),E(),w(51,32),V(52,gm,2,1,"mat-header-cell",29)(53,bm,4,4,"mat-cell",27),E(),w(54,33),V(55,Mm,2,1,"mat-header-cell",29)(56,Im,2,1,"mat-cell",27),E(),w(57,34),V(58,Pm,3,3,"mat-header-cell",26)(59,wm,6,1,"mat-cell",35),E(),w(60,36),V(61,Em,2,1,"mat-cell",27),E(),w(62,37),V(63,ym,17,4,"mat-cell",27),E(),V(64,Tm,1,0,"mat-header-row",38)(65,Am,1,2,"mat-row",39)(66,Rm,1,2,"mat-row",40)(67,xm,1,5,"mat-row",41),r(),E(),w(68,42),a(69,"mat-paginator",43,1),M("page",function(p){return m(l),u(t.onTablePageingData(p))}),r(),E(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","dataprovider.client.list"),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),h("",C(14,30,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),h("",C(18,32,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?24:-1),o(7),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?31:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?32:-1),o(2),D("options",t.optionsSearch),o(),D("options",t.optionsStatist),o(2),_("dataSource",t.tableSource),o(27),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",_e(34,tm)),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(),_("matRowDefColumns",_e(35,im)),o(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(36,nm)))},dependencies:[xe,Jt,Ze,Je,q,Mt,Qa,It,pe,Te,Ue,tt,Pt,nt,wt,ot,it,Et,at,rt,Dt,yt,Xe,Ae,Re,Tt,ke,lt,on,Fe,B,st,Pe,Le],encapsulation:2});var Ro=Ao;var km=()=>[5,10,20,100],Lm=(n,s)=>s.id;function Vm(n,s){if(n&1){let e=P();a(0,"div",14)(1,"a",23),M("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",24)(3,"br"),r(),a(4,"p",25),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.ADD")," "))}function Bm(n,s){if(n&1){let e=P();a(0,"div",14)(1,"a",26),M("click",function(){m(e);let t=d();return u(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",27)(3,"br"),r(),a(4,"p",25),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.EDIT")," "))}function Om(n,s){if(n&1){let e=P();a(0,"div",14)(1,"a",28),M("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",29)(3,"br"),r(),a(4,"p",25),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.DELETE")," "))}function Fm(n,s){if(n&1){let e=P();a(0,"div",14)(1,"a",7),M("click",function(){m(e);let t=d();return u(t.onActionButtonTransactionList(t.tableRowSelected))}),g(2,"i",30)(3,"br"),r(),a(4,"p",25),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.TRANSACTIONS")," "))}function Nm(n,s){if(n&1){let e=P();a(0,"div",14)(1,"a",7),M("click",function(){m(e);let t=d();return u(t.onActionButtonClientCreditAccountRow(t.tableRowSelected))}),g(2,"i",31)(3,"br"),r(),a(4,"p",25),c(5," client charge "),r()()}}function Gm(n,s){if(n&1){let e=P();a(0,"div",14)(1,"a",7),M("click",function(){m(e);let t=d();return u(t.onActionButtonDataRow(t.tableRowSelected))}),g(2,"i",32)(3,"br"),r(),a(4,"p",25),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.DATA")," "))}function Hm(n,s){if(n&1){let e=P();a(0,"div",14)(1,"a",7),M("click",function(){m(e);let t=d();return u(t.onActionButtonClientList(t.tableRowSelected))}),g(2,"i",33)(3,"br"),r(),a(4,"p",25),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.CLIENT")," "))}function Wm(n,s){if(n&1&&(a(0,"div",40),g(1,"i",42),c(2),r()),n&2){let e=d().$implicit,i=d(2);o(2),de(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",e.id," ")}}function qm(n,s){if(n&1&&(a(0,"div",40),g(1,"i",43),c(2),S(3,"cmssiteinfo"),S(4,"async"),r()),n&2){let e=d().$implicit,i=d(2);o(2),de(" ",i.fieldsInfo.linkSiteId==null?null:i.fieldsInfo.linkSiteId.fieldTitle,": ",C(4,4,C(3,2,e.linkSiteId))," ")}}function jm(n,s){if(n&1&&g(0,"select",45),n&2){let e=d(2).$implicit,i=d(2);_("contentService",i.contentService)("row",e)}}function Um(n,s){if(n&1&&(a(0,"div",40),g(1,"i",44),S(2,"statusIconClass"),v(3,jm,1,2,"select",45),r()),n&2){let e=d().$implicit,i=d(2);o(),_("ngClass",C(2,2,e.recordStatus)),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function Qm(n,s){if(n&1){let e=P();a(0,"div",41)(1,"div",40)(2,"span",46),M("click",function(t){return m(e),d(3).onActionCopied(),u(t.stopPropagation())}),g(3,"i",47),r(),c(4),r()()}if(n&2){let e=d().$implicit;o(2),_("cdkCopyToClipboard",e.id.toString()),o(2),h(" ID: ",e.id," ")}}function zm(n,s){if(n&1){let e=P();a(0,"div",35),M("click",function(t){let l=m(e).$implicit,f=d(2);return u(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d(2);return u(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d(2);return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d(2);return u(l.onActionTableRowMouseLeave(t))}),a(1,"div",36),g(2,"i",37),r(),a(3,"div",38)(4,"div",39),c(5),r(),v(6,Wm,3,2,"div",40),v(7,qm,5,6,"div",40),v(8,Um,4,4,"div",40),v(9,Qm,5,2,"div",41),r()()}if(n&2){let e=s.$implicit,i=d(2);H("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),He("aria-label",e.title||e.id),o(5),h(" ",e.title||"ID: "+e.id," "),o(),b(e.id?6:-1),o(),b(e.linkSiteId?7:-1),o(),b(e.recordStatus!==void 0?8:-1),o(),b(i.getRowExpanded(e)?9:-1)}}function Km(n,s){if(n&1&&(a(0,"div",19),Be(1,zm,10,8,"div",34,Lm),r()),n&2){let e=d();o(),Oe(e.dataModelResult.listItems)}}function Jm(n,s){n&1&&(a(0,"div",20),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"MESSAGE.NoRecord")," "))}var Tn=class Tn extends Ro{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(e){return e.expanded===!0}};Tn.\u0275fac=(()=>{let e;return function(t){return(e||(e=Rt(Tn)))(t||Tn)}})(),Tn.\u0275cmp=L({type:Tn,selectors:[["app-data-provider-client-list-mobile"]],hostBindings:function(i,t){i&1&&M("click",function(f){return t.onDocumentClick(f)},bt)},standalone:!1,features:[W],decls:37,vars:34,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-circle-dollar","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-cart-shopping","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-database","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-people","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item",3,"selected"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",1,"fa-solid","fa-user"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-globe"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list-mobile",1),T("optionActionGuideNoticeDisplayChange",function(p){return m(l),y(t.viewGuideNotice,p)||(t.viewGuideNotice=p),u(p)}),M("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionButtonPrintRow())}),w(1,2),a(2,"app-data-provider-plan-tree",3),M("optionChange",function(p){return m(l),u(t.onActionSelectorSelect(p))}),r(),E(),be(3,4)(4,5),w(5,6),a(6,"a",7),M("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),g(7,"i",8),r(),a(8,"a",7),M("click",function(){return m(l),u(t.onActionButtonReload())}),g(9,"i",9),r(),E(),w(10,10),a(11,"a",11),M("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(12,"mat-slide-toggle",12),c(13),S(14,"translate"),r(),a(15,"a",11),M("click",function(){return m(l),u(t.onActionButtonStatist())}),g(16,"mat-slide-toggle",12),c(17),S(18,"translate"),r(),E(),w(19,13),v(20,Vm,7,3,"div",14),E(),w(21,15),v(22,Bm,7,3,"div",14),v(23,Om,7,3,"div",14),v(24,Fm,7,3,"div",14),v(25,Nm,6,0,"div",14),v(26,Gm,7,3,"div",14),v(27,Hm,7,3,"div",14),E(),w(28,16),a(29,"app-cms-search-list",17),T("optionsChange",function(p){return m(l),y(t.optionsSearch,p)||(t.optionsSearch=p),u(p)}),r(),a(30,"app-cms-statist-list",17),T("optionsChange",function(p){return m(l),y(t.optionsStatist,p)||(t.optionsStatist=p),u(p)}),r(),E(),w(31,18),v(32,Km,3,0,"div",19)(33,Jm,3,3,"div",20),E(),w(34,21),a(35,"mat-paginator",22,0),M("page",function(p){return m(l),u(t.onTablePageingData(p))}),r(),E(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","dataprovider.client.list"),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),h("",C(14,29,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),h("",C(18,31,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?22:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?23:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?24:-1),o(),b((t.tableRowSelected==null?null:t.tableRowSelected.id)>0?25:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?26:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?27:-1),o(2),D("options",t.optionsSearch),o(),D("options",t.optionsStatist),o(2),b(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?32:33),o(3),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(33,km)))},dependencies:[xe,q,pe,Te,Xe,Ae,Re,kt,ke,lt,on,Fe,B,st,Le],styles:[".cms-m-body[_ngcontent-%COMP%]{min-height:100vh;background:var(--cms-m-bg, #0f172a);color:var(--cms-m-fg, #e2e8f0)}.cms-m-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2;background:var(--cms-m-header-bg, #0f172a);border-bottom:1px solid rgba(255,255,255,.08)}.cms-m-header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 16px}.cms-m-header-title[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:var(--cms-m-accent, #38bdf8)}.cms-m-header-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-left:auto}.cms-m-header-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:#ffffff0d;color:#e2e8f0;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.cms-m-header-action-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.cms-m-header-action-btn.active[_ngcontent-%COMP%]{background:#38bdf833;border-color:#38bdf866}.cms-m-header-action-btn[_ngcontent-%COMP%]   i.rotation360[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotation360 1s linear infinite}@keyframes _ngcontent-%COMP%_rotation360{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.cms-m-search-area[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px 16px}.cms-m-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.cms-m-list-item[_ngcontent-%COMP%]{display:flex;gap:12px;padding:12px;border-radius:14px;background:#ffffff0a;border:1px solid rgba(255,255,255,.06);cursor:pointer;transition:all .2s ease}.cms-m-list-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.cms-m-list-item.selected[_ngcontent-%COMP%]{border-color:var(--cms-m-accent, #38bdf8);box-shadow:0 0 0 1px #38bdf84d}.cms-m-list-item-image[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;overflow:hidden;flex-shrink:0}.cms-m-list-item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:grid;place-items:center;background:#38bdf81f;color:#38bdf8;flex-shrink:0}.cms-m-list-item-content[_ngcontent-%COMP%]{flex:1;min-width:0}.cms-m-list-item-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:4px;font-size:14px}.cms-m-list-item-subtitle[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8}.cms-m-list-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0}.cms-m-empty[_ngcontent-%COMP%]{padding:24px;text-align:center;color:#94a3b8}"]});var or=Tn;var xo=class xo{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};xo.\u0275fac=function(e){return new(e||xo)},xo.\u0275cmp=L({type:xo,selectors:[["app-data-provider-main"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&g(0,"router-outlet")},dependencies:[qr],encapsulation:2});var ko=xo;var Xm=["vform"];function Ym(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",10),T("modelChange",function(t){m(e);let l=d();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=d();D("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Zm(n,s){if(n&1){let e=P();a(0,"div",9)(1,"button",11),M("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",12),c(3),S(4,"translate"),r(),a(5,"button",13),g(6,"i",14),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),h(" ",C(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var Lo=class Lo extends _t{constructor(e,i,t,l,f,p,k,X){super(l,new Di,p,X);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderPlanClientService=l;this.cmsToastrService=f;this.publicHelper=p;this.cdr=k;this.translate=X;this.requestPlanId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Y;this.dataModel=new Di;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestPlanId=e.parentId||""),this.requestPlanId&&this.requestPlanId.length>0&&(this.dataModel.linkPlanId=this.requestPlanId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanClientService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPlanId=String(e.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Lo.\u0275fac=function(i){return new(i||Lo)(I(le),I(re),I(ie),I(Ri),I(N),I(G),I(F),I(O))},Lo.\u0275cmp=L({type:Lo,selectors:[["app-data-provider-plan-client-add"]],viewQuery:function(i,t){if(i&1&&U(Xm,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[W],decls:17,vars:16,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",1),g(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),g(8,"app-cms-form-result-message",5),a(9,"form",6,0),M("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(11,Ym,1,5,"app-cms-enum-record-status-selector",7),a(12,"app-data-provider-plan-category-selector",8),S(13,"translate"),M("optionChange",function(p){return m(l),u(t.onActionSelectorSelect(p))}),r(),a(14,"app-data-provider-plan-category-selector",8),S(15,"translate"),M("optionChange",function(p){return m(l),u(t.onActionSelectorSelect(p))}),r(),v(16,Zm,9,7,"div",9),r()()()}i&2&&(o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",C(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),_("optionSelectForce",t.dataModel.linkPlanId||"")("optionPlaceholder",C(13,12,"TITLE.Category")),o(2),_("optionSelectForce",t.dataModel.linkClientId)("optionPlaceholder",C(15,14,"TITLE.Category")),o(2),b(t.formInfo.submitButtonEnabled?16:-1))},dependencies:[ge,Ce,he,ve,j,Se,ni,B],encapsulation:2});var ar=Lo;var $m=["vform"];function e0(n,s){if(n&1){let e=P();a(0,"div",8)(1,"button",9),M("click",function(){m(e);let t=d();return u(t.onFormDelete())}),g(2,"i",10),c(3),S(4,"translate"),r(),a(5,"button",11),M("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(6,"i",12),c(7),S(8,"translate"),r()()}if(n&2){let e=d();o(),_("disabled",!e.formInfo.submitButtonEnabled),o(2),h(" ",C(4,3,"ACTION.DELETE")," "),o(4),h(" ",C(8,5,"ACTION.CANCEL")," ")}}var Vo=class Vo{constructor(s,e,i,t,l,f,p){this.data=s;this.dialogRef=e;this.publicHelper=i;this.dataProviderPlanClientService=t;this.cdr=l;this.translate=f;this.cmsToastrService=p;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new Y;this.formInfo=new $t;this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=s.id||"")}ngOnInit(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderPlanClientService.setAccessLoad(),this.dataProviderPlanClientService.setAccessDataType(Ne.Editor),this.dataProviderPlanClientService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onFormDelete(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderPlanClientService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Vo.\u0275fac=function(e){return new(e||Vo)(I(le),I(re),I(G),I(Ri),I(F),I(O),I(N))},Vo.\u0275cmp=L({type:Vo,selectors:[["app-data-provider-plan-client-delete"]],viewQuery:function(e,i){if(e&1&&U($m,5),e&2){let t;Q(t=z())&&(i.formGroup=t.first)}},standalone:!1,decls:15,vars:11,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.linkPlanId",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.linkPlanId","type","text","required","","readonly","","id","dataModelResultContent.item.linkPlanId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){if(e&1){let t=P();a(0,"div",1),g(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),c(8),a(9,"div",5)(10,"label",6),c(11),r(),a(12,"input",7,0),T("ngModelChange",function(f){return m(t),y(i.dataModelResultContent.item.linkPlanId,f)||(i.dataModelResultContent.item.linkPlanId=f),u(f)}),r()(),v(14,e0,9,7,"div",8),r()()}e&2&&(o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(3),h(" ",i.formInfo.formTitle," "),o(2),h(" ",C(7,9,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),h(" ",i.formInfo.formTitle," "),o(3),A(i.fieldsInfo.linkPlanId==null?null:i.fieldsInfo.linkPlanId.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.linkPlanId==null?null:i.fieldsInfo.linkPlanId.fieldTitle)),D("ngModel",i.dataModelResultContent.item.linkPlanId),o(2),b(i.formInfo.submitButtonEnabled?14:-1))},dependencies:[$,ee,Ee,ce,q,j,B],encapsulation:2});var rr=Vo;var t0=["vform"];function i0(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",10),T("modelChange",function(t){m(e);let l=d();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=d();D("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function n0(n,s){if(n&1){let e=P();a(0,"div",9)(1,"button",11),M("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",12),c(3),S(4,"translate"),r(),a(5,"button",13),g(6,"i",14),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),h(" ",C(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var Bo=class Bo extends St{constructor(e,i,t,l,f,p,k,X){super(l,new Di,p,X);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.DataProviderPlanClientService=l;this.cmsToastrService=f;this.publicHelper=p;this.cdr=k;this.translate=X;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new pt;this.dataModel=new Di;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id||""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.DataProviderPlanClientService.setAccessLoad(),this.DataProviderPlanClientService.setAccessDataType(Ne.Editor),this.DataProviderPlanClientService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.DataProviderPlanClientService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPlanId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Bo.\u0275fac=function(i){return new(i||Bo)(I(le),I(re),I(ie),I(Ri),I(N),I(G),I(F),I(O))},Bo.\u0275cmp=L({type:Bo,selectors:[["app-data-provider-plan-client-edit"]],viewQuery:function(i,t){if(i&1&&U(t0,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[W],decls:17,vars:16,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",1),g(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),g(8,"app-cms-form-result-message",5),a(9,"form",6,0),M("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(11,i0,1,5,"app-cms-enum-record-status-selector",7),a(12,"app-data-provider-plan-category-selector",8),S(13,"translate"),M("optionChange",function(p){return m(l),u(t.onActionSelectorSelect(p))}),r(),a(14,"app-data-provider-plan-category-selector",8),S(15,"translate"),M("optionChange",function(p){return m(l),u(t.onActionSelectorSelect(p))}),r(),v(16,n0,9,7,"div",9),r()()()}i&2&&(o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",C(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),_("optionSelectForce",t.dataModel.linkPlanId)("optionPlaceholder",C(13,12,"TITLE.Category")),o(2),_("optionSelectForce",t.dataModel.linkClientId)("optionPlaceholder",C(15,14,"TITLE.Category")),o(2),b(t.formInfo.submitButtonEnabled?16:-1))},dependencies:[ge,Ce,he,ve,j,Se,ni,B],encapsulation:2});var lr=Bo;var o0=()=>[5,10,20,100],a0=n=>({display:n});function r0(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",34),M("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",35)(3,"br"),r(),a(4,"p",36),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.ADD")," "))}function l0(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",37),M("click",function(){m(e);let t=d();return u(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",38)(3,"br"),r(),a(4,"p",36),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.EDIT")," "))}function s0(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",39),M("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",40)(3,"br"),r(),a(4,"p",36),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.DELETE")," "))}function d0(n,s){if(n&1&&(a(0,"mat-header-cell",41),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function c0(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.id," ")}}function p0(n,s){if(n&1&&(a(0,"mat-header-cell",41),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function m0(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),r()),n&2){let e=s.$implicit;o(),h(" ",C(3,3,C(2,1,e.linkSiteId))," ")}}function u0(n,s){if(n&1&&(a(0,"mat-header-cell",41),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function f0(n,s){if(n&1&&g(0,"select",43),n&2){let e=d().$implicit,i=d();_("contentService",i.contentService)("row",e)("ngStyle",Gt(3,a0,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function _0(n,s){if(n&1&&(a(0,"mat-cell"),g(1,"i",42),S(2,"statusIconClass"),v(3,f0,1,5,"select",43),r()),n&2){let e=s.$implicit,i=d();o(),_("ngClass",C(2,2,e.recordStatus)),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?3:-1)}}function S0(n,s){if(n&1&&(a(0,"mat-header-cell",41),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function C0(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.expireDate," ")}}function h0(n,s){n&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"TITLE.OPTION")," "))}function g0(n,s){if(n&1&&(a(0,"mat-cell",44)(1,"button",45)(2,"mat-icon"),c(3,"more_vert"),r()(),g(4,"mat-menu",null,2),r()),n&2){let e=x(5);o(),_("matMenuTriggerFor",e)}}function v0(n,s){n&1&&g(0,"mat-header-row")}function b0(n,s){if(n&1){let e=P();a(0,"mat-row",46),M("click",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Oo=class Oo extends Ct{constructor(e,i,t,l,f,p,k,X,Ge,$e,Ke){super(e,new Di,$e,f,X);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.router=l;this.tokenHelper=f;this.cmsStoreService=p;this.cdr=k;this.translate=X;this.pageInfo=Ge;this.publicHelper=$e;this.dialog=Ke;this.requestLinkPlanId="";this.requestLinkClientId="";this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new ae;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","ExpireDate"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","ExpireDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:dt=>this.onSubmitOptionsSearch(dt)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=oe.Descending}ngOnInit(){if(this.requestLinkPlanId=this.activatedRoute.snapshot.paramMap.get("LinkPlanId")||"",this.requestLinkPlanId&&this.requestLinkPlanId.length>0){let e=new J;e.propertyName="LinkPlanId",e.value=this.requestLinkPlanId,this.filteModelContent.filters.push(e)}if(this.requestLinkClientId&&this.requestLinkClientId.length>0){let e=new J;e.propertyName="LinkClientId",e.value=this.requestLinkClientId,this.filteModelContent.filters.push(e)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Ie(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Di);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&(typeof this.categoryModelSelected.id=="string"?this.categoryModelSelected.id.length>0:this.categoryModelSelected.id>0)){let t=new J;t.propertyName="LinkCategoryId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=oe.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=oe.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=oe.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new ae,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryModelSelected==null||(typeof this.categoryModelSelected.id=="string"?this.categoryModelSelected.id.length===0:this.categoryModelSelected.id===0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=new ut;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={parentId:this.categoryModelSelected.id},this.dialog.open(ar,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}let i=new ut;i.disableClose=!0,i.autoFocus=!0,i.data={id:this.tableRowSelected.id},this.dialog.open(lr,i).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(rr,{height:"40%",panelClass:i,enterAnimationDuration:se.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:se.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new J;f.propertyName="recordStatus",f.value=ct.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Oo.\u0275fac=function(i){return new(i||Oo)(I(Ri),I(jt),I(N),I(Ye),I(ze),I(Qe),I(F),I(O),I(ft),I(G),I(je))},Oo.\u0275cmp=L({type:Oo,selectors:[["app-data-provider-plan-client-list"]],standalone:!1,features:[W],decls:50,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list",3),T("optionActionGuideNoticeDisplayChange",function(p){return m(l),y(t.viewGuideNotice,p)||(t.viewGuideNotice=p),u(p)}),M("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionButtonPrintRow())}),w(1,4),c(2," -------------------------------------- "),E(),be(3,5)(4,6),w(5,7),a(6,"a",8),M("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),g(7,"i",9),r(),a(8,"a",8),M("click",function(){return m(l),u(t.onActionButtonReload())}),g(9,"i",10),r(),E(),w(10,11),a(11,"a",12),M("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(12,"mat-slide-toggle",13),c(13),S(14,"translate"),r(),a(15,"a",12),M("click",function(){return m(l),u(t.onActionButtonStatist())}),g(16,"mat-slide-toggle",13),c(17),S(18,"translate"),r(),E(),w(19,14),v(20,r0,7,3,"div",15),E(),w(21,16),v(22,l0,7,3,"div",15),v(23,s0,7,3,"div",15),E(),w(24,17),a(25,"app-cms-search-list",18),T("optionsChange",function(p){return m(l),y(t.optionsSearch,p)||(t.optionsSearch=p),u(p)}),r(),a(26,"app-cms-statist-list",18),T("optionsChange",function(p){return m(l),y(t.optionsStatist,p)||(t.optionsStatist=p),u(p)}),r(),E(),w(27,19),a(28,"mat-table",20,0),M("matSortChange",function(){m(l);let p=x(29);return u(t.onTableSortData(p))}),w(30,21),V(31,d0,2,1,"mat-header-cell",22)(32,c0,2,1,"mat-cell",23),E(),w(33,24),V(34,p0,2,1,"mat-header-cell",22)(35,m0,4,5,"mat-cell",23),E(),w(36,25),V(37,u0,2,1,"mat-header-cell",22)(38,_0,4,4,"mat-cell",23),E(),w(39,26),V(40,S0,2,1,"mat-header-cell",22)(41,C0,2,1,"mat-cell",23),E(),w(42,27),V(43,h0,3,3,"mat-header-cell",28)(44,g0,6,1,"mat-cell",29),E(),V(45,v0,1,0,"mat-header-row",30)(46,b0,1,2,"mat-row",31),r(),E(),w(47,32),a(48,"mat-paginator",33,1),M("page",function(p){return m(l),u(t.onTablePageingData(p))}),r(),E(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),h("",C(14,25,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),h("",C(18,27,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow&&(t.categoryModelSelected==null?null:t.categoryModelSelected.id)>0?20:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(2),D("options",t.optionsSearch),o(),D("options",t.optionsStatist),o(2),_("dataSource",t.tableSource),o(17),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(29,o0)))},dependencies:[xe,Jt,Ze,Je,q,Mt,It,pe,Te,Ue,tt,Pt,nt,wt,ot,it,Et,at,rt,Dt,yt,Ae,Re,Tt,ke,lt,Fe,B,st,Le],encapsulation:2});var _n=Oo;var M0=()=>[5,10,20,100],I0=(n,s)=>s.id;function P0(n,s){if(n&1){let e=P();a(0,"div",13)(1,"a",22),M("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",23)(3,"br"),r(),a(4,"p",24),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.ADD")," "))}function w0(n,s){if(n&1){let e=P();a(0,"div",13)(1,"a",25),M("click",function(){m(e);let t=d();return u(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",26)(3,"br"),r(),a(4,"p",24),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.EDIT")," "))}function E0(n,s){if(n&1){let e=P();a(0,"div",13)(1,"a",27),M("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",28)(3,"br"),r(),a(4,"p",24),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.DELETE")," "))}function D0(n,s){if(n&1&&(a(0,"div",35),g(1,"i",37),c(2),S(3,"localeDate"),r()),n&2){let e=d().$implicit,i=d(2);o(2),de(" ",i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle,": ",C(3,2,e.expireDate)," ")}}function y0(n,s){if(n&1&&(a(0,"div",35),g(1,"i",38),c(2),S(3,"cmssiteinfo"),S(4,"async"),r()),n&2){let e=d().$implicit,i=d(2);o(2),de(" ",i.fieldsInfo.linkSiteId==null?null:i.fieldsInfo.linkSiteId.fieldTitle,": ",C(4,4,C(3,2,e.linkSiteId))," ")}}function T0(n,s){if(n&1&&g(0,"select",40),n&2){let e=d(2).$implicit,i=d(2);_("contentService",i.contentService)("row",e)}}function A0(n,s){if(n&1&&(a(0,"div",35),g(1,"i",39),S(2,"statusIconClass"),v(3,T0,1,2,"select",40),r()),n&2){let e=d().$implicit,i=d(2);o(),_("ngClass",C(2,2,e.recordStatus)),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function R0(n,s){if(n&1&&(a(0,"div",36)(1,"div",35)(2,"span",41),g(3,"i",42),r(),c(4),r()()),n&2){let e=d().$implicit;o(2),_("cdkCopyToClipboard",e.id.toString()),o(2),h(" ID: ",e.id," ")}}function x0(n,s){if(n&1){let e=P();a(0,"div",30),M("click",function(t){let l=m(e).$implicit,f=d(2);return u(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d(2);return u(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d(2);return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d(2);return u(l.onActionTableRowMouseLeave(t))}),a(1,"div",31),g(2,"i",32),r(),a(3,"div",33)(4,"div",34),c(5),r(),v(6,D0,4,4,"div",35),v(7,y0,5,6,"div",35),v(8,A0,4,4,"div",35),v(9,R0,5,2,"div",36),r()()}if(n&2){let e=s.$implicit,i=d(2);H("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),He("aria-label",e.id||e.id),o(5),h(" ID: ",e.id," "),o(),b(e.expireDate?6:-1),o(),b(e.linkSiteId?7:-1),o(),b(e.recordStatus!==void 0?8:-1),o(),b(i.getRowExpanded(e)?9:-1)}}function k0(n,s){if(n&1&&(a(0,"div",18),Be(1,x0,10,8,"div",29,I0),r()),n&2){let e=d();o(),Oe(e.dataModelResult.listItems)}}function L0(n,s){n&1&&(a(0,"div",19),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"MESSAGE.NoRecord")," "))}var An=class An extends _n{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(e){return e.expanded===!0}};An.\u0275fac=(()=>{let e;return function(t){return(e||(e=Rt(An)))(t||An)}})(),An.\u0275cmp=L({type:An,selectors:[["app-data-provider-plan-client-list-mobile"]],hostBindings:function(i,t){i&1&&M("click",function(f){return t.onDocumentClick(f)},bt)},standalone:!1,features:[W],decls:32,vars:30,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item",3,"selected"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",1,"fa-solid","fa-link"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-calendar-times"],["aria-hidden","true",1,"fa-solid","fa-globe"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"cdkCopyToClipboard"],[1,"flaticon2-copy"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list-mobile",1),T("optionActionGuideNoticeDisplayChange",function(p){return m(l),y(t.viewGuideNotice,p)||(t.viewGuideNotice=p),u(p)}),M("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionButtonPrintRow())}),be(1,2)(2,3)(3,4),w(4,5),a(5,"a",6),M("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),g(6,"i",7),r(),a(7,"a",6),M("click",function(){return m(l),u(t.onActionButtonReload())}),g(8,"i",8),r(),E(),w(9,9),a(10,"a",10),M("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(11,"mat-slide-toggle",11),c(12),S(13,"translate"),r(),a(14,"a",10),M("click",function(){return m(l),u(t.onActionButtonStatist())}),g(15,"mat-slide-toggle",11),c(16),S(17,"translate"),r(),E(),w(18,12),v(19,P0,7,3,"div",13),E(),w(20,14),v(21,w0,7,3,"div",13),v(22,E0,7,3,"div",13),E(),w(23,15),a(24,"app-cms-search-list",16),T("optionsChange",function(p){return m(l),y(t.optionsSearch,p)||(t.optionsSearch=p),u(p)}),r(),a(25,"app-cms-statist-list",16),T("optionsChange",function(p){return m(l),y(t.optionsStatist,p)||(t.optionsStatist=p),u(p)}),r(),E(),w(26,17),v(27,k0,3,0,"div",18)(28,L0,3,3,"div",19),E(),w(29,20),a(30,"mat-paginator",21,0),M("page",function(p){return m(l),u(t.onTablePageingData(p))}),r(),E(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(8),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),h("",C(13,25,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),h("",C(17,27,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow&&(t.categoryModelSelected==null?null:t.categoryModelSelected.id)>0?19:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?21:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?22:-1),o(2),D("options",t.optionsSearch),o(),D("options",t.optionsStatist),o(2),b(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?27:28),o(3),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(29,M0)))},dependencies:[xe,q,pe,Te,Xe,Ae,Re,kt,ke,lt,Fe,B,st,ti,Le],styles:[".cms-m-body[_ngcontent-%COMP%]{min-height:100vh;background:var(--cms-m-bg, #0f172a);color:var(--cms-m-fg, #e2e8f0)}.cms-m-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2;background:var(--cms-m-header-bg, #0f172a);border-bottom:1px solid rgba(255,255,255,.08)}.cms-m-header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 16px}.cms-m-header-title[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:var(--cms-m-accent, #38bdf8)}.cms-m-header-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-left:auto}.cms-m-header-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:#ffffff0d;color:#e2e8f0;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.cms-m-header-action-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.cms-m-header-action-btn.active[_ngcontent-%COMP%]{background:#38bdf833;border-color:#38bdf866}.cms-m-header-action-btn[_ngcontent-%COMP%]   i.rotation360[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotation360 1s linear infinite}@keyframes _ngcontent-%COMP%_rotation360{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.cms-m-search-area[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px 16px}.cms-m-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.cms-m-list-item[_ngcontent-%COMP%]{display:flex;gap:12px;padding:12px;border-radius:14px;background:#ffffff0a;border:1px solid rgba(255,255,255,.06);cursor:pointer;transition:all .2s ease}.cms-m-list-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.cms-m-list-item.selected[_ngcontent-%COMP%]{border-color:var(--cms-m-accent, #38bdf8);box-shadow:0 0 0 1px #38bdf84d}.cms-m-list-item-image[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;overflow:hidden;flex-shrink:0}.cms-m-list-item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:grid;place-items:center;background:#38bdf81f;color:#38bdf8;flex-shrink:0}.cms-m-list-item-content[_ngcontent-%COMP%]{flex:1;min-width:0}.cms-m-list-item-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:4px;font-size:14px}.cms-m-list-item-subtitle[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8}.cms-m-list-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0}.cms-m-empty[_ngcontent-%COMP%]{padding:24px;text-align:center;color:#94a3b8}"]});var Fo=An;var V0=["*"];function B0(n,s){if(n&1&&(a(0,"label",3),c(1),r()),n&2){let e=d();_("for",Wt("app-cms-site-selector-",e.id)),o(),A(e.optionLabel)}}function O0(n,s){if(n&1&&(g(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=d();_("src",R(C(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),K)}}function F0(n,s){if(n&1&&(g(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;_("src",R(C(1,2,e.linkMainImageIdSrc)),K)}}function N0(n,s){if(n&1&&(a(0,"mat-option",8),v(1,F0,2,4,"img",5),a(2,"span"),c(3),r()()),n&2){let e=s.$implicit,i=d();_("value",e)("disabled",i.optionDisabled),o(),b(e.linkMainImageIdSrc?1:-1),o(2),A(i.displayOption(e))}}function G0(n,s){n&1&&g(0,"i",9)}function H0(n,s){n&1&&g(0,"i",10)}function W0(n,s){if(n&1){let e=P();a(0,"i",13),M("click",function(){m(e);let t=d();return u(t.onActionSelectClear())}),r()}}function q0(n,s){n&1&&(a(0,"em"),c(1),S(2,"translate"),r()),n&2&&(o(),h("(",C(2,1,"TITLE.Necessary"),")"))}var Sn=class Sn{constructor(s,e,i,t,l,f){this.coreEnumService=s;this.cmsToastrService=e;this.translate=i;this.cdr=t;this.publicHelper=l;this.categoryService=f;this.id=++Sn.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Y;this.dataModelSelect=new mt;this.formControl=new pi;this.optionPlaceholder="";this.optionSelectFirstItem=!1;this.optionDisabled=!1;this.optionRequired=!1;this.optionLabel="";this.optionChange=new xt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Pi(""),Mi(1500),Ii(),wi(s=>typeof s=="string"||typeof s=="number"?this.DataGetAll(s||""):[]))}displayFn(s){return s?s.title:void 0}displayOption(s){return s?s.title:void 0}DataGetAll(s){return Ie(this,null,function*(){let e=new ae;e.rowPerPage=20,e.accessLoad=!0;let i=new J;i.propertyName="title",i.value=s,i.searchType=qt.Contains,i.clauseType=Ut.Or,e.filters.push(i),s&&typeof+s=="number"&&+s>0&&(i=new J,i.propertyName="id",i.value=s,i.searchType=qt.Equal,i.clauseType=Ut.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),yield vi(this.categoryService.ServiceGetAll(e)).then(l=>(this.dataModelResult=l,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||(typeof this.dataModelSelect.id=="string"?this.dataModelSelect.id.length===0:this.dataModelSelect.id<=0))&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),l.listItems))})}onActionSelect(s){this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(s){return this.filteredOptions.pipe(bi(e=>(e.find(i=>i.id===s.id)||e.push(s),e)))}onActionSelectForce(s){if(typeof s=="string"&&s.length>0||typeof s=="number"&&s>0){let e=typeof s=="string"?s:String(s);if(this.dataModelSelect&&String(this.dataModelSelect.id)===e)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>String(i.id)===e)){let i=this.dataModelResult.listItems.find(t=>String(t.id)===e);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(e).subscribe({next:i=>{i.isSuccess?(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item)):this.cmsToastrService.typeErrorMessage(i.errorMessage)}});return}if(typeof s==typeof mt){this.filteredOptions=this.push(s),this.dataModelSelect=s,this.formControl.setValue(s);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new mt,this.loadOptions()}};Sn.nextId=0,Sn.\u0275fac=function(e){return new(e||Sn)(I(ie),I(N),I(O),I(F),I(G),I(Yt))},Sn.\u0275cmp=L({type:Sn,selectors:[["app-data-provider-plan-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:V0,decls:18,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=P();qi(),a(0,"div",1),g(1,"app-progress-spinner",2),v(2,B0,2,3,"label",3),a(3,"span",4),v(4,O0,2,4,"img",5),r(),g(5,"input",6),a(6,"mat-autocomplete",7,0),M("optionSelected",function(f){return m(t),u(i.onActionSelect(f.option.value))}),Be(8,N0,4,4,"mat-option",8,Ei),S(10,"async"),r(),v(11,G0,1,0,"i",9),v(12,H0,1,0,"i",10),v(13,W0,1,0,"i",11),a(14,"i",12),S(15,"translate"),M("click",function(){return m(t),u(i.onActionButtonReload())}),r(),v(16,q0,3,3,"em"),ji(17),r()}if(e&2){let t=x(7);o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(),b((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),b(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),_("placeholder",R(i.optionPlaceholder))("id",Wt("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),He("disabled",i.optionDisabled?!0:null),o(),_("displayWith",i.displayFn),o(2),Oe(C(10,20,i.filteredOptions)),o(3),b(i.formControl.valid?-1:11),o(),b(i.optionRequired&&i.formControl.valid?12:-1),o(),b((i.dataModelSelect==null?null:i.dataModelSelect.id)>0?13:-1),o(),H("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),_("title",R(C(15,22,"ACTION.RELOAD"))),o(2),b(i.optionRequired&&!((i.dataModelSelect==null?null:i.dataModelSelect.id)>0)?16:-1)}},dependencies:[$,ee,Ee,Vi,Fi,Bi,Ni,Xi,q,j,Fe,B,Pe],encapsulation:2});var No=Sn;var j0=["vform"];function U0(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",27),T("modelChange",function(t){m(e);let l=d();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=d();D("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Q0(n,s){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.required")))}function z0(n,s){n&1&&(a(0,"mat-error"),c(1," Description is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.required")))}function K0(n,s){if(n&1&&(g(0,"img",21),S(1,"cmsthumbnail")),n&2){let e=d();_("src",R(C(1,2,e.dataModel.linkMainImageIdSrc)),K)}}function J0(n,s){if(n&1){let e=P();a(0,"div",14)(1,"label",28),M("click",function(){m(e);let t=d();return u(t.fileManagerOpenForm=!0)}),c(2),S(3,"translate"),r(),a(4,"input",29,5),S(6,"translate"),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),u(t)}),M("click",function(){m(e);let t=d();return u(t.fileManagerOpenForm=!0)}),r(),a(7,"cms-file-manager",30),M("itemSelected",function(t){m(e);let l=d();return u(l.onActionFileSelected(t))}),T("openFormChange",function(t){m(e);let l=d();return y(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),u(t)}),r()()}if(n&2){let e=d();o(2),A(C(3,12,"TITLE.Icon_File")),o(2),_("placeholder",R(C(6,14,"TITLE.Original_File_ID"))),D("ngModel",e.dataModel.linkMainImageId),o(3),_("language",e.appLanguage)("isPopup",!0),D("openForm",e.fileManagerOpenForm),_("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function X0(n,s){if(n&1){let e=P();a(0,"div",26)(1,"button",31),M("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",32),c(3),S(4,"translate"),r(),a(5,"button",33),g(6,"i",34),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),h(" ",C(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var Go=class Go extends _t{constructor(e,i,t,l,f,p,k,X,Ge){super(l,new rn,k,Ge);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataproviderplanpriceservice=l;this.cmsToastrService=f;this.coreSiteService=p;this.publicHelper=k;this.cdr=X;this.translate=Ge;this.requestLinkPlanId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.currency="";this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Y;this.dataModel=new rn;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestLinkPlanId=e.linkPlanId||""),this.requestLinkPlanId&&this.requestLinkPlanId.length>0&&(this.dataModel.linkPlanId=this.requestLinkPlanId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.DataGetCurrency()}DataGetCurrency(){this.coreSiteService.ServiceGetCurrencyMaster().subscribe({next:e=>{e.isSuccess?this.currency=e.item:this.cmsToastrService.typeErrorMessage(e.errorMessage)},error:e=>{this.cmsToastrService.typeError(e)}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataproviderplanpriceservice.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("MESSAGE.Information_plan_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPlanId=String(e.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Go.\u0275fac=function(i){return new(i||Go)(I(le),I(re),I(ie),I(Qi),I(N),I(zn),I(G),I(F),I(O))},Go.\u0275cmp=L({type:Go,selectors:[["app-data-provider-plan-price-add"]],viewQuery:function(i,t){if(i&1&&U(j0,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[W],decls:47,vars:34,consts:[["vform","ngForm"],["Title",""],["Description",""],["PeriodDay",""],["Price",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.periodDay",1,"color-highlight"],["matInput","","type","number","name","dataModel.periodDay","placeholder","0","id","dataModel.periodDay",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.price",1,"color-highlight"],["matInput","","type","number","name","dataModel.price","placeholder","0","id","dataModel.price",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",6),g(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),g(8,"app-cms-form-result-message",10),a(9,"form",11,0),M("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(11,U0,1,5,"app-cms-enum-record-status-selector",12),a(12,"app-data-provider-plan-selector",13),S(13,"translate"),M("optionChange",function(p){return m(l),u(t.onActionSelectorSelect(p))}),r(),a(14,"div",14)(15,"label",15),c(16),r(),a(17,"input",16,1),T("ngModelChange",function(p){return m(l),y(t.dataModel.title,p)||(t.dataModel.title=p),u(p)}),r(),a(19,"em"),c(20),r(),v(21,Q0,5,3,"mat-error"),r(),a(22,"div",14)(23,"label",17),c(24),r(),a(25,"textarea",18,2),T("ngModelChange",function(p){return m(l),y(t.dataModel.description,p)||(t.dataModel.description=p),u(p)}),c(27,"          "),r(),a(28,"em"),c(29),r(),v(30,z0,5,3,"mat-error"),r(),a(31,"div",19)(32,"a",20),S(33,"cmsthumbnail"),v(34,K0,2,4,"img",21),r()(),v(35,J0,8,16,"div",14),a(36,"div",14)(37,"label",22),c(38),r(),a(39,"input",23,3),T("ngModelChange",function(p){return m(l),y(t.dataModel.periodDay,p)||(t.dataModel.periodDay=p),u(p)}),r()(),a(41,"div",14)(42,"label",24),c(43),r(),a(44,"input",25,4),T("ngModelChange",function(p){return m(l),y(t.dataModel.price,p)||(t.dataModel.price=p),u(p)}),r()(),v(46,X0,9,7,"div",26),r()()()}if(i&2){let l=x(18),f=x(26);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",C(7,28,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),_("optionSelectForce",t.dataModel.linkPlanId||"")("optionPlaceholder",C(13,30,"TITLE.Information_Plan")),o(4),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),D("ngModel",t.dataModel.title),o(3),h("",l.value.length," / 100"),o(),b(l.errors!=null&&l.errors.required?21:-1),o(3),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),D("ngModel",t.dataModel.description),o(4),h("",f.value.length," / 500"),o(),b(f.errors!=null&&f.errors.required?30:-1),o(2),_("href",R(C(33,32,t.dataModel.linkMainImageIdSrc)),K),o(2),b((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?34:-1),o(),b(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?35:-1),o(3),A(t.fieldsInfo.periodDay==null?null:t.fieldsInfo.periodDay.fieldTitle),o(),D("ngModel",t.dataModel.periodDay),o(4),A(t.fieldsInfo.price==null?null:t.fieldsInfo.price.fieldTitle),o(),D("ngModel",t.dataModel.price),o(2),b(t.formInfo.submitButtonEnabled?46:-1)}},dependencies:[ge,$,Li,ee,Ce,De,ye,ce,he,qe,q,ve,j,Se,ei,Ht,No,B,Pe],encapsulation:2});var sr=Go;var Y0=["vform"];function Z0(n,s){if(n&1){let e=P();a(0,"div",8)(1,"button",9),M("click",function(){m(e);let t=d();return u(t.onFormDelete())}),g(2,"i",10),c(3),S(4,"translate"),r(),a(5,"button",11),M("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(6,"i",12),c(7),S(8,"translate"),r()()}if(n&2){let e=d();o(),_("disabled",!e.formInfo.submitButtonEnabled),o(2),h(" ",C(4,3,"ACTION.DELETE")," "),o(4),h(" ",C(8,5,"ACTION.CANCEL")," ")}}var Ho=class Ho{constructor(s,e,i,t,l,f,p){this.data=s;this.dialogRef=e;this.publicHelper=i;this.dataproviderplanservice=t;this.cdr=l;this.translate=f;this.cmsToastrService=p;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new Y;this.formInfo=new $t;this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=s.id||"")}ngOnInit(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataproviderplanservice.setAccessLoad(),this.dataproviderplanservice.setAccessDataType(Ne.Editor),this.dataproviderplanservice.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onFormDelete(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataproviderplanservice.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ho.\u0275fac=function(e){return new(e||Ho)(I(le),I(re),I(G),I(Qi),I(F),I(O),I(N))},Ho.\u0275cmp=L({type:Ho,selectors:[["app-data-provider-plan-price-delete"]],viewQuery:function(e,i){if(e&1&&U(Y0,5),e&2){let t;Q(t=z())&&(i.formGroup=t.first)}},standalone:!1,decls:14,vars:10,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.title",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.title","type","text","required","","readonly","","id","dataModelResultContent.item.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){if(e&1){let t=P();a(0,"div",1),g(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),a(8,"div",5)(9,"label",6),c(10),r(),a(11,"input",7,0),T("ngModelChange",function(f){return m(t),y(i.dataModelResultContent.item.title,f)||(i.dataModelResultContent.item.title=f),u(f)}),r()(),v(13,Z0,9,7,"div",8),r()()}e&2&&(o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(3),h(" ",i.formInfo.formTitle," "),o(2),h(" ",C(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),D("ngModel",i.dataModelResultContent.item.title),o(2),b(i.formInfo.submitButtonEnabled?13:-1))},dependencies:[$,ee,Ee,ce,q,j,B],encapsulation:2});var dr=Ho;var $0=["vform"];function eu(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",27),T("modelChange",function(t){m(e);let l=d();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=d();D("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function tu(n,s){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.required")))}function iu(n,s){n&1&&(a(0,"mat-error"),c(1," Description is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.required")))}function nu(n,s){if(n&1&&(g(0,"img",21),S(1,"cmsthumbnail")),n&2){let e=d();_("src",R(C(1,2,e.dataModel.linkMainImageIdSrc)),K)}}function ou(n,s){if(n&1){let e=P();a(0,"div",14)(1,"label",28),M("click",function(){m(e);let t=d();return u(t.fileManagerOpenForm=!0)}),c(2),S(3,"translate"),r(),a(4,"input",29,5),S(6,"translate"),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),u(t)}),M("click",function(){m(e);let t=d();return u(t.fileManagerOpenForm=!0)}),r(),a(7,"cms-file-manager",30),M("itemSelected",function(t){m(e);let l=d();return u(l.onActionFileSelected(t))}),T("openFormChange",function(t){m(e);let l=d();return y(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),u(t)}),r()()}if(n&2){let e=d();o(2),A(C(3,12,"TITLE.Icon_File")),o(2),_("placeholder",R(C(6,14,"TITLE.Original_File_ID"))),D("ngModel",e.dataModel.linkMainImageId),o(3),_("language",e.appLanguage)("isPopup",!0),D("openForm",e.fileManagerOpenForm),_("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function au(n,s){if(n&1){let e=P();a(0,"div",26)(1,"button",31),M("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",32),c(3),S(4,"translate"),r(),a(5,"button",33),g(6,"i",34),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),h(" ",C(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var Wo=class Wo extends St{constructor(e,i,t,l,f,p,k,X,Ge){super(l,new rn,k,Ge);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataproviderplanpriceservice=l;this.cmsToastrService=f;this.coreSiteService=p;this.publicHelper=k;this.cdr=X;this.translate=Ge;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.currency="";this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new pt;this.dataModel=new rn;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id||""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetCurrency()}DataGetCurrency(){this.coreSiteService.ServiceGetCurrencyMaster().subscribe({next:e=>{e.isSuccess&&(this.currency=e.item)},error:e=>{this.cmsToastrService.typeError(e)}})}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataproviderplanpriceservice.setAccessLoad(),this.dataproviderplanpriceservice.setAccessDataType(Ne.Editor),this.dataproviderplanpriceservice.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataproviderplanpriceservice.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("MESSAGE.Information_plan_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPlanId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Wo.\u0275fac=function(i){return new(i||Wo)(I(le),I(re),I(ie),I(Qi),I(N),I(zn),I(G),I(F),I(O))},Wo.\u0275cmp=L({type:Wo,selectors:[["app-data-provider-plan-price-edit"]],viewQuery:function(i,t){if(i&1&&U($0,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[W],decls:47,vars:34,consts:[["vform","ngForm"],["Title",""],["Description",""],["PeriodDay",""],["Price",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.periodDay",1,"color-highlight"],["matInput","","type","number","name","dataModel.periodDay","placeholder","0","id","dataModel.periodDay",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.price",1,"color-highlight"],["matInput","","type","number","name","dataModel.price","placeholder","0","id","dataModel.price",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",6),g(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),g(8,"app-cms-form-result-message",10),a(9,"form",11,0),M("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(11,eu,1,5,"app-cms-enum-record-status-selector",12),a(12,"app-data-provider-plan-selector",13),S(13,"translate"),M("optionChange",function(p){return m(l),u(t.onActionSelectorSelect(p))}),r(),a(14,"div",14)(15,"label",15),c(16),r(),a(17,"input",16,1),T("ngModelChange",function(p){return m(l),y(t.dataModel.title,p)||(t.dataModel.title=p),u(p)}),r(),a(19,"em"),c(20),r(),v(21,tu,5,3,"mat-error"),r(),a(22,"div",14)(23,"label",17),c(24),r(),a(25,"textarea",18,2),T("ngModelChange",function(p){return m(l),y(t.dataModel.description,p)||(t.dataModel.description=p),u(p)}),c(27,"          "),r(),a(28,"em"),c(29),r(),v(30,iu,5,3,"mat-error"),r(),a(31,"div",19)(32,"a",20),S(33,"cmsthumbnail"),v(34,nu,2,4,"img",21),r()(),v(35,ou,8,16,"div",14),a(36,"div",14)(37,"label",22),c(38),r(),a(39,"input",23,3),T("ngModelChange",function(p){return m(l),y(t.dataModel.periodDay,p)||(t.dataModel.periodDay=p),u(p)}),r()(),a(41,"div",14)(42,"label",24),c(43),r(),a(44,"input",25,4),T("ngModelChange",function(p){return m(l),y(t.dataModel.price,p)||(t.dataModel.price=p),u(p)}),r()(),v(46,au,9,7,"div",26),r()()()}if(i&2){let l=x(18),f=x(26);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",C(7,28,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),_("optionSelectForce",t.dataModel.linkPlanId)("optionPlaceholder",C(13,30,"TITLE.Information_Plan")),o(4),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),D("ngModel",t.dataModel.title),o(3),h("",l.value.length," / 100"),o(),b(l.errors!=null&&l.errors.required?21:-1),o(3),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),D("ngModel",t.dataModel.description),o(4),h("",f.value.length," / 500"),o(),b(f.errors!=null&&f.errors.required?30:-1),o(2),_("href",R(C(33,32,t.dataModel.linkMainImageIdSrc)),K),o(2),b((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?34:-1),o(),b(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?35:-1),o(3),A(t.fieldsInfo.periodDay==null?null:t.fieldsInfo.periodDay.fieldTitle),o(),D("ngModel",t.dataModel.periodDay),o(4),A(t.fieldsInfo.price==null?null:t.fieldsInfo.price.fieldTitle),o(),D("ngModel",t.dataModel.price),o(2),b(t.formInfo.submitButtonEnabled?46:-1)}},dependencies:[ge,$,Li,ee,Ce,De,ye,ce,he,qe,q,ve,j,Se,ei,Ht,No,B,Pe],encapsulation:2});var cr=Wo;var ru=()=>[5,10,20,100],lu=n=>({display:n});function su(n,s){if(n&1&&g(0,"app-data-provider-plan-header",3),n&2){let e=d();_("optionId",e.requestLinkPlanId)}}function du(n,s){if(n&1){let e=P();a(0,"a",40),M("click",function(){m(e);let t=d();return u(t.onActionBackToParent())}),g(1,"i",41),r()}}function cu(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",42),M("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",43)(3,"br"),r(),a(4,"p",44),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.ADD")," "))}function pu(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",45),M("click",function(){m(e);let t=d();return u(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",46)(3,"br"),r(),a(4,"p",44),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.EDIT")," "))}function mu(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",47),M("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",48)(3,"br"),r(),a(4,"p",44),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.DELETE")," "))}function uu(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",49),M("click",function(){m(e);let t=d();return u(t.onActionButtonTransactionList(t.tableRowSelected))}),g(2,"i",50)(3,"br"),r(),a(4,"p",44),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.TRANSACTIONS")," "))}function fu(n,s){n&1&&(a(0,"mat-header-cell",51),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"TITLE.PICTURE")," "))}function _u(n,s){if(n&1&&(g(0,"img",52),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;_("src",R(C(1,2,e.linkMainImageIdSrc)),K)}}function Su(n,s){if(n&1&&(a(0,"mat-cell"),v(1,_u,2,4,"img",52),r()),n&2){let e=s.$implicit;o(),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function Cu(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function hu(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.id," ")}}function gu(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function vu(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),r()),n&2){let e=s.$implicit;o(),h(" ",C(3,3,C(2,1,e.linkSiteId))," ")}}function bu(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Mu(n,s){if(n&1&&g(0,"select",54),n&2){let e=d().$implicit,i=d();_("contentService",i.contentService)("row",e)("ngStyle",Gt(3,lu,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Iu(n,s){if(n&1&&(a(0,"mat-cell"),g(1,"i",53),S(2,"statusIconClass"),v(3,Mu,1,5,"select",54),r()),n&2){let e=s.$implicit,i=d();o(),_("ngClass",C(2,2,e.recordStatus)),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?3:-1)}}function Pu(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function wu(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.title," ")}}function Eu(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function Du(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.description," ")}}function yu(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.periodDay==null?null:e.fieldsInfo.periodDay.fieldTitle," ")}}function Tu(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.periodDay," ")}}function Au(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.price==null?null:e.fieldsInfo.price.fieldTitle," ")}}function Ru(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.price," ")}}function xu(n,s){n&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"TITLE.OPTION")," "))}function ku(n,s){if(n&1&&(a(0,"mat-cell",55)(1,"button",56)(2,"mat-icon"),c(3,"more_vert"),r()(),g(4,"mat-menu",null,2),r()),n&2){let e=x(5);o(),_("matMenuTriggerFor",e)}}function Lu(n,s){n&1&&g(0,"mat-header-row")}function Vu(n,s){if(n&1){let e=P();a(0,"mat-row",57),M("click",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var qo=class qo extends Ct{constructor(e,i,t,l,f,p,k,X,Ge,$e,Ke){super(e,new rn,$e,f,k);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.router=l;this.tokenHelper=f;this.cdr=p;this.translate=k;this.cmsStoreService=X;this.pageInfo=Ge;this.publicHelper=$e;this.dialog=Ke;this.requestLinkPlanId=0;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new ae;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","Description","PeriodDay","Price"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","id","recordStatus","Description","PeriodDay","Price"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:dt=>this.onSubmitOptionsSearch(dt)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=oe.Descending}ngOnInit(){if(this.requestLinkPlanId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkPlanId")),this.requestLinkPlanId&&this.requestLinkPlanId>0){let e=new J;e.propertyName="LinkPlanId",e.value=this.requestLinkPlanId,this.filteModelContent.filters.push(e)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Ie(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new rn);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=oe.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=oe.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=oe.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=new ut;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={LinkPlanId:this.requestLinkPlanId},this.dialog.open(sr,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(e?.id?.length!=0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}let i=new ut;i.disableClose=!0,i.autoFocus=!0,i.height="90%",i.data={id:this.tableRowSelected.id},this.dialog.open(cr,i).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(e?.id?.length!=0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(dr,{height:"40%",panelClass:i,enterAnimationDuration:se.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:se.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonTransactionList(e=this.tableRowSelected){if(e?.id?.length!=0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/data-provider/transaction/LinkPlanPriceId/"+e.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new J;f.propertyName="recordStatus",f.value=ct.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/data-provider/plan/"])}};qo.\u0275fac=function(i){return new(i||qo)(I(Qi),I(N),I(jt),I(Ye),I(ze),I(F),I(O),I(Qe),I(ft),I(G),I(je))},qo.\u0275cmp=L({type:qo,selectors:[["app-data-provider-plan-price-list"]],standalone:!1,features:[W],decls:64,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","title"],["matColumnDef","Description"],["matColumnDef","PeriodDay"],["matColumnDef","Price"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-circle-dollar","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=P();v(0,su,1,1,"app-data-provider-plan-header",3),a(1,"app-cms-html-list",4),T("optionActionGuideNoticeDisplayChange",function(p){return m(l),y(t.viewGuideNotice,p)||(t.viewGuideNotice=p),u(p)}),M("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionButtonPrintRow())}),be(2,5)(3,6)(4,7),w(5,8),v(6,du,2,0,"a",9),a(7,"a",10),M("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",11),r(),a(9,"a",10),M("click",function(){return m(l),u(t.onActionButtonReload())}),g(10,"i",12),r(),E(),w(11,13),a(12,"a",14),M("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",15),c(14),S(15,"translate"),r(),a(16,"a",14),M("click",function(){return m(l),u(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",15),c(18),S(19,"translate"),r(),E(),w(20,16),v(21,cu,7,3,"div",17),E(),w(22,18),v(23,pu,7,3,"div",17),v(24,mu,7,3,"div",17),v(25,uu,7,3,"div",17),E(),w(26,19),a(27,"app-cms-search-list",20),T("optionsChange",function(p){return m(l),y(t.optionsSearch,p)||(t.optionsSearch=p),u(p)}),r(),a(28,"app-cms-statist-list",20),T("optionsChange",function(p){return m(l),y(t.optionsStatist,p)||(t.optionsStatist=p),u(p)}),r(),E(),w(29,21),a(30,"mat-table",22,0),M("matSortChange",function(){m(l);let p=x(31);return u(t.onTableSortData(p))}),w(32,23),V(33,fu,3,3,"mat-header-cell",24)(34,Su,2,1,"mat-cell",25),E(),w(35,26),V(36,Cu,2,1,"mat-header-cell",24)(37,hu,2,1,"mat-cell",25),E(),w(38,27),V(39,gu,2,1,"mat-header-cell",24)(40,vu,4,5,"mat-cell",25),E(),w(41,28),V(42,bu,2,1,"mat-header-cell",24)(43,Iu,4,4,"mat-cell",25),E(),w(44,29),V(45,Pu,2,1,"mat-header-cell",24)(46,wu,2,1,"mat-cell",25),E(),w(47,30),V(48,Eu,2,1,"mat-header-cell",24)(49,Du,2,1,"mat-cell",25),E(),w(50,31),V(51,yu,2,1,"mat-header-cell",24)(52,Tu,2,1,"mat-cell",25),E(),w(53,32),V(54,Au,2,1,"mat-header-cell",24)(55,Ru,2,1,"mat-cell",25),E(),w(56,33),V(57,xu,3,3,"mat-header-cell",34)(58,ku,6,1,"mat-cell",35),E(),V(59,Lu,1,0,"mat-header-row",36)(60,Vu,1,2,"mat-row",37),r(),E(),w(61,38),a(62,"mat-paginator",39,1),M("page",function(p){return m(l),u(t.onTablePageingData(p))}),r(),E(),r()}i&2&&(b(t.requestLinkPlanId>0?0:-1),o(),_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(5),b(t.requestLinkPlanId>0?6:-1),o(4),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),h("",C(15,28,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),h("",C(19,30,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?21:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?25:-1),o(2),D("options",t.optionsSearch),o(),D("options",t.optionsStatist),o(2),_("dataSource",t.tableSource),o(29),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(32,ru)))},dependencies:[xe,Jt,Ze,Je,q,Mt,It,pe,Te,Ue,tt,Pt,nt,wt,ot,it,Et,at,rt,Dt,yt,Ae,Re,Tt,ke,lt,no,Fe,B,st,Pe,Le],encapsulation:2});var xn=qo;var Bu=()=>[5,10,20,100],Ou=(n,s)=>s.id;function Fu(n,s){if(n&1&&g(0,"app-data-provider-plan-header",1),n&2){let e=d();_("optionId",e.requestLinkPlanId)}}function Nu(n,s){if(n&1){let e=P();a(0,"a",24),M("click",function(){m(e);let t=d();return u(t.onActionBackToParent())}),g(1,"i",25),r()}}function Gu(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",26),M("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",27)(3,"br"),r(),a(4,"p",28),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.ADD")," "))}function Hu(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",29),M("click",function(){m(e);let t=d();return u(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",30)(3,"br"),r(),a(4,"p",28),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.EDIT")," "))}function Wu(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",31),M("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",32)(3,"br"),r(),a(4,"p",28),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.DELETE")," "))}function qu(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",8),M("click",function(){m(e);let t=d();return u(t.onActionButtonTransactionList(t.tableRowSelected))}),g(2,"i",33)(3,"br"),r(),a(4,"p",28),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.TRANSACTIONS")," "))}function ju(n,s){if(n&1&&(a(0,"div",36),g(1,"img",42),S(2,"cmsthumbnail"),r()),n&2){let e=d().$implicit;o(),_("src",C(2,2,e.linkMainImageIdSrc),K)("alt",e.title||e.id)}}function Uu(n,s){n&1&&(a(0,"div",37),g(1,"i",43),r())}function Qu(n,s){if(n&1&&(a(0,"div",40),g(1,"i",44),c(2),r()),n&2){let e=d().$implicit,i=d(2);o(2),de(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",e.id," ")}}function zu(n,s){if(n&1&&(a(0,"div",40),g(1,"i",43),c(2),S(3,"number"),r()),n&2){let e=d().$implicit,i=d(2);o(2),de(" ",i.fieldsInfo.price==null?null:i.fieldsInfo.price.fieldTitle,": ",C(3,2,e.price)," ")}}function Ku(n,s){if(n&1&&(a(0,"div",40),g(1,"i",45),c(2),r()),n&2){let e=d().$implicit,i=d(2);o(2),de(" ",i.fieldsInfo.linkPlanId==null?null:i.fieldsInfo.linkPlanId.fieldTitle,": ",e.linkPlanId," ")}}function Ju(n,s){if(n&1&&(a(0,"div",40),g(1,"i",46),c(2),S(3,"cmssiteinfo"),S(4,"async"),r()),n&2){let e=d().$implicit,i=d(2);o(2),de(" ",i.fieldsInfo.linkSiteId==null?null:i.fieldsInfo.linkSiteId.fieldTitle,": ",C(4,4,C(3,2,e.linkSiteId))," ")}}function Xu(n,s){if(n&1&&(a(0,"div",40),g(1,"i",47),c(2),r()),n&2){let e=d().$implicit,i=d(2);o(2),de(" ",i.fieldsInfo.periodDay==null?null:i.fieldsInfo.periodDay.fieldTitle,": ",e.periodDay," ")}}function Yu(n,s){if(n&1&&g(0,"select",49),n&2){let e=d(2).$implicit,i=d(2);_("contentService",i.contentService)("row",e)}}function Zu(n,s){if(n&1&&(a(0,"div",40),g(1,"i",48),S(2,"statusIconClass"),v(3,Yu,1,2,"select",49),r()),n&2){let e=d().$implicit,i=d(2);o(),_("ngClass",C(2,2,e.recordStatus)),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function $u(n,s){if(n&1&&(a(0,"div",50),c(1),r()),n&2){let e=d(2).$implicit;o(),h(" ",e.description," ")}}function ef(n,s){if(n&1&&(a(0,"div",41),v(1,$u,2,1,"div",50),a(2,"div",40)(3,"span",51),g(4,"i",52),r(),c(5),r()()),n&2){let e=d().$implicit;o(),b(e.description?1:-1),o(2),_("cdkCopyToClipboard",e.id.toString()),o(2),h(" ID: ",e.id," ")}}function tf(n,s){if(n&1){let e=P();a(0,"div",35),M("click",function(t){let l=m(e).$implicit,f=d(2);return u(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d(2);return u(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d(2);return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d(2);return u(l.onActionTableRowMouseLeave(t))}),v(1,ju,3,4,"div",36)(2,Uu,2,0,"div",37),a(3,"div",38)(4,"div",39),c(5),r(),v(6,Qu,3,2,"div",40),v(7,zu,4,4,"div",40),v(8,Ku,3,2,"div",40),v(9,Ju,5,6,"div",40),v(10,Xu,3,2,"div",40),v(11,Zu,4,4,"div",40),v(12,ef,6,3,"div",41),r()()}if(n&2){let e=s.$implicit,i=d(2);H("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),He("aria-label",e.title||e.id),o(),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:2),o(4),h(" ",e.title||"ID: "+e.id," "),o(),b(e.id?6:-1),o(),b(e.price!==void 0&&e.price!==null?7:-1),o(),b(e.linkPlanId?8:-1),o(),b(e.linkSiteId?9:-1),o(),b(e.periodDay?10:-1),o(),b(e.recordStatus!==void 0?11:-1),o(),b(i.getRowExpanded(e)?12:-1)}}function nf(n,s){if(n&1&&(a(0,"div",20),Be(1,tf,13,12,"div",34,Ou),r()),n&2){let e=d();o(),Oe(e.dataModelResult.listItems)}}function of(n,s){n&1&&(a(0,"div",21),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"MESSAGE.NoRecord")," "))}var kn=class kn extends xn{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(e){return e.expanded===!0}};kn.\u0275fac=(()=>{let e;return function(t){return(e||(e=Rt(kn)))(t||kn)}})(),kn.\u0275cmp=L({type:kn,selectors:[["app-data-provider-plan-price-list-mobile"]],hostBindings:function(i,t){i&1&&M("click",function(f){return t.onDocumentClick(f)},bt)},standalone:!1,features:[W],decls:35,vars:33,consts:[["paginator",""],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-circle-dollar","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item",3,"selected"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image"],[1,"cms-m-list-item-image-placeholder"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["loading","lazy",3,"src","alt"],["aria-hidden","true",1,"fa-solid","fa-dollar-sign"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-list"],["aria-hidden","true",1,"fa-solid","fa-globe"],["aria-hidden","true",1,"fa-solid","fa-calendar-days"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"cms-m-list-item-description"],[1,"navi-icon","pointer",3,"cdkCopyToClipboard"],[1,"flaticon2-copy"]],template:function(i,t){if(i&1){let l=P();v(0,Fu,1,1,"app-data-provider-plan-header",1),a(1,"app-cms-html-list-mobile",2),T("optionActionGuideNoticeDisplayChange",function(p){return m(l),y(t.viewGuideNotice,p)||(t.viewGuideNotice=p),u(p)}),M("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionButtonPrintRow())}),be(2,3)(3,4)(4,5),w(5,6),v(6,Nu,2,0,"a",7),a(7,"a",8),M("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",9),r(),a(9,"a",8),M("click",function(){return m(l),u(t.onActionButtonReload())}),g(10,"i",10),r(),E(),w(11,11),a(12,"a",12),M("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",13),c(14),S(15,"translate"),r(),a(16,"a",12),M("click",function(){return m(l),u(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",13),c(18),S(19,"translate"),r(),E(),w(20,14),v(21,Gu,7,3,"div",15),E(),w(22,16),v(23,Hu,7,3,"div",15),v(24,Wu,7,3,"div",15),v(25,qu,7,3,"div",15),E(),w(26,17),a(27,"app-cms-search-list",18),T("optionsChange",function(p){return m(l),y(t.optionsSearch,p)||(t.optionsSearch=p),u(p)}),r(),a(28,"app-cms-statist-list",18),T("optionsChange",function(p){return m(l),y(t.optionsStatist,p)||(t.optionsStatist=p),u(p)}),r(),E(),w(29,19),v(30,nf,3,0,"div",20)(31,of,3,3,"div",21),E(),w(32,22),a(33,"mat-paginator",23,0),M("page",function(p){return m(l),u(t.onTablePageingData(p))}),r(),E(),r()}i&2&&(b(t.requestLinkPlanId>0?0:-1),o(),_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(5),b(t.requestLinkPlanId>0?6:-1),o(4),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),h("",C(15,28,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),h("",C(19,30,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?21:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?23:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?24:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?25:-1),o(2),D("options",t.optionsSearch),o(),D("options",t.optionsStatist),o(2),b(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?30:31),o(3),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(32,Bu)))},dependencies:[xe,q,pe,Te,Xe,Ae,Re,kt,ke,lt,no,Fe,Un,B,st,Pe,Le],styles:[".cms-m-body[_ngcontent-%COMP%]{min-height:100vh;background:var(--cms-m-bg, #0f172a);color:var(--cms-m-fg, #e2e8f0)}.cms-m-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2;background:var(--cms-m-header-bg, #0f172a);border-bottom:1px solid rgba(255,255,255,.08)}.cms-m-header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 16px}.cms-m-header-title[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:var(--cms-m-accent, #38bdf8)}.cms-m-header-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-left:auto}.cms-m-header-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:#ffffff0d;color:#e2e8f0;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.cms-m-header-action-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.cms-m-header-action-btn.active[_ngcontent-%COMP%]{background:#38bdf833;border-color:#38bdf866}.cms-m-header-action-btn[_ngcontent-%COMP%]   i.rotation360[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotation360 1s linear infinite}@keyframes _ngcontent-%COMP%_rotation360{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.cms-m-search-area[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px 16px}.cms-m-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.cms-m-list-item[_ngcontent-%COMP%]{display:flex;gap:12px;padding:12px;border-radius:14px;background:#ffffff0a;border:1px solid rgba(255,255,255,.06);cursor:pointer;transition:all .2s ease}.cms-m-list-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.cms-m-list-item.selected[_ngcontent-%COMP%]{border-color:var(--cms-m-accent, #38bdf8);box-shadow:0 0 0 1px #38bdf84d}.cms-m-list-item-image[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;overflow:hidden;flex-shrink:0}.cms-m-list-item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:grid;place-items:center;background:#38bdf81f;color:#38bdf8;flex-shrink:0}.cms-m-list-item-content[_ngcontent-%COMP%]{flex:1;min-width:0}.cms-m-list-item-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:4px;font-size:14px}.cms-m-list-item-subtitle[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8}.cms-m-list-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0}.cms-m-empty[_ngcontent-%COMP%]{padding:24px;text-align:center;color:#94a3b8}"]});var Ta=kn;var af=["vform"];function rf(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",10),T("modelChange",function(t){m(e);let l=d();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=d();D("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function lf(n,s){if(n&1){let e=P();a(0,"div",9)(1,"button",11),M("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",12),c(3),S(4,"translate"),r(),a(5,"button",13),g(6,"i",14),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),h(" ",C(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var jo=class jo extends _t{constructor(e,i,t,l,f,p,k,X){super(l,new yi,p,X);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderPlanSourceService=l;this.cmsToastrService=f;this.publicHelper=p;this.cdr=k;this.translate=X;this.requestPlanId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Y;this.dataModel=new yi;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestPlanId=e.parentId||""),this.requestPlanId&&this.requestPlanId.length>0&&(this.dataModel.linkPlanId=this.requestPlanId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanSourceService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPlanId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};jo.\u0275fac=function(i){return new(i||jo)(I(le),I(re),I(ie),I(xi),I(N),I(G),I(F),I(O))},jo.\u0275cmp=L({type:jo,selectors:[["app-data-provider-plan-source-add"]],viewQuery:function(i,t){if(i&1&&U(af,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[W],decls:17,vars:16,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",1),g(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),g(8,"app-cms-form-result-message",5),a(9,"form",6,0),M("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(11,rf,1,5,"app-cms-enum-record-status-selector",7),a(12,"app-data-provider-plan-category-selector",8),S(13,"translate"),M("optionChange",function(p){return m(l),u(t.onActionSelectorSelect(p))}),r(),a(14,"app-data-provider-plan-category-selector",8),S(15,"translate"),M("optionChange",function(p){return m(l),u(t.onActionSelectorSelect(p))}),r(),v(16,lf,9,7,"div",9),r()()()}i&2&&(o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",C(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),_("optionSelectForce",t.dataModel.linkPlanId)("optionPlaceholder",C(13,12,"TITLE.Category")),o(2),_("optionSelectForce",t.dataModel.linkSourceId)("optionPlaceholder",C(15,14,"TITLE.Category")),o(2),b(t.formInfo.submitButtonEnabled?16:-1))},dependencies:[ge,Ce,he,ve,j,Se,ni,B],encapsulation:2});var pr=jo;var sf=["vform"];function df(n,s){if(n&1){let e=P();a(0,"div",8)(1,"button",9),M("click",function(){m(e);let t=d();return u(t.onFormDelete())}),g(2,"i",10),c(3),S(4,"translate"),r(),a(5,"button",11),M("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(6,"i",12),c(7),S(8,"translate"),r()()}if(n&2){let e=d();o(),_("disabled",!e.formInfo.submitButtonEnabled),o(2),h(" ",C(4,3,"ACTION.DELETE")," "),o(4),h(" ",C(8,5,"ACTION.CANCEL")," ")}}var Uo=class Uo{constructor(s,e,i,t,l,f,p){this.data=s;this.dialogRef=e;this.publicHelper=i;this.dataProviderPlanSourceService=t;this.cdr=l;this.translate=f;this.cmsToastrService=p;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new Y;this.formInfo=new $t;this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=s.id||"")}ngOnInit(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderPlanSourceService.setAccessLoad(),this.dataProviderPlanSourceService.setAccessDataType(Ne.Editor),this.dataProviderPlanSourceService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onFormDelete(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderPlanSourceService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Uo.\u0275fac=function(e){return new(e||Uo)(I(le),I(re),I(G),I(xi),I(F),I(O),I(N))},Uo.\u0275cmp=L({type:Uo,selectors:[["app-data-provider-plan-source-delete"]],viewQuery:function(e,i){if(e&1&&U(sf,5),e&2){let t;Q(t=z())&&(i.formGroup=t.first)}},standalone:!1,decls:14,vars:10,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.linkPlanId",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.linkPlanId","type","text","required","","readonly","","id","dataModelResultContent.item.linkPlanId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){if(e&1){let t=P();a(0,"div",1),g(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),a(8,"div",5)(9,"label",6),c(10),r(),a(11,"input",7,0),T("ngModelChange",function(f){return m(t),y(i.dataModelResultContent.item.linkPlanId,f)||(i.dataModelResultContent.item.linkPlanId=f),u(f)}),r()(),v(13,df,9,7,"div",8),r()()}e&2&&(o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(3),h(" ",i.formInfo.formTitle," "),o(2),h(" ",C(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),A(i.fieldsInfo.linkPlanId==null?null:i.fieldsInfo.linkPlanId.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.linkPlanId==null?null:i.fieldsInfo.linkPlanId.fieldTitle)),D("ngModel",i.dataModelResultContent.item.linkPlanId),o(2),b(i.formInfo.submitButtonEnabled?13:-1))},dependencies:[$,ee,Ee,ce,q,j,B],encapsulation:2});var mr=Uo;var cf=["vform"];function pf(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",10),T("modelChange",function(t){m(e);let l=d();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=d();D("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function mf(n,s){if(n&1){let e=P();a(0,"div",9)(1,"button",11),M("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",12),c(3),S(4,"translate"),r(),a(5,"button",13),g(6,"i",14),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),h(" ",C(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var Qo=class Qo extends St{constructor(e,i,t,l,f,p,k,X){super(l,new yi,p,X);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderPlanSourceService=l;this.cmsToastrService=f;this.publicHelper=p;this.cdr=k;this.translate=X;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new pt;this.dataModel=new yi;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id||""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanSourceService.setAccessLoad(),this.dataProviderPlanSourceService.setAccessDataType(Ne.Editor),this.dataProviderPlanSourceService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanSourceService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPlanId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Qo.\u0275fac=function(i){return new(i||Qo)(I(le),I(re),I(ie),I(xi),I(N),I(G),I(F),I(O))},Qo.\u0275cmp=L({type:Qo,selectors:[["app-data-provider-plan-source-edit"]],viewQuery:function(i,t){if(i&1&&U(cf,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[W],decls:18,vars:16,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",1),g(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),g(8,"app-cms-form-result-message",5),a(9,"form",6,0),M("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),c(11," \\ "),v(12,pf,1,5,"app-cms-enum-record-status-selector",7),a(13,"app-data-provider-plan-category-selector",8),S(14,"translate"),M("optionChange",function(p){return m(l),u(t.onActionSelectorSelect(p))}),r(),a(15,"app-data-provider-plan-category-selector",8),S(16,"translate"),M("optionChange",function(p){return m(l),u(t.onActionSelectorSelect(p))}),r(),v(17,mf,9,7,"div",9),r()()()}i&2&&(o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",C(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(4),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?12:-1),o(),_("optionSelectForce",t.dataModel.linkPlanId)("optionPlaceholder",C(14,12,"TITLE.Category")),o(2),_("optionSelectForce",t.dataModel.linkSourceId)("optionPlaceholder",C(16,14,"TITLE.Category")),o(2),b(t.formInfo.submitButtonEnabled?17:-1))},dependencies:[ge,Ce,he,ve,j,Se,ni,B],encapsulation:2});var ur=Qo;var uf=()=>[5,10,20,100],ff=n=>({display:n});function _f(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",34),M("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",35)(3,"br"),r(),a(4,"p",36),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.ADD")," "))}function Sf(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",37),M("click",function(){m(e);let t=d();return u(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",38)(3,"br"),r(),a(4,"p",36),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.EDIT")," "))}function Cf(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",39),M("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",40)(3,"br"),r(),a(4,"p",36),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.DELETE")," "))}function hf(n,s){if(n&1&&(a(0,"mat-header-cell",41),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function gf(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.id," ")}}function vf(n,s){if(n&1&&(a(0,"mat-header-cell",41),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function bf(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),r()),n&2){let e=s.$implicit;o(),h(" ",C(3,3,C(2,1,e.linkSiteId))," ")}}function Mf(n,s){if(n&1&&(a(0,"mat-header-cell",41),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function If(n,s){if(n&1&&g(0,"select",43),n&2){let e=d().$implicit,i=d();_("contentService",i.contentService)("row",e)("ngStyle",Gt(3,ff,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Pf(n,s){if(n&1&&(a(0,"mat-cell"),g(1,"i",42),S(2,"statusIconClass"),v(3,If,1,5,"select",43),r()),n&2){let e=s.$implicit,i=d();o(),_("ngClass",C(2,2,e.recordStatus)),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?3:-1)}}function wf(n,s){if(n&1&&(a(0,"mat-header-cell",41),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.linkPlanId==null?null:e.fieldsInfo.linkPlanId.fieldTitle," ")}}function Ef(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.linkPlanId," ")}}function Df(n,s){n&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"TITLE.OPTION")," "))}function yf(n,s){if(n&1&&(a(0,"mat-cell",44)(1,"button",45)(2,"mat-icon"),c(3,"more_vert"),r()(),g(4,"mat-menu",null,2),r()),n&2){let e=x(5);o(),_("matMenuTriggerFor",e)}}function Tf(n,s){n&1&&g(0,"mat-header-row")}function Af(n,s){if(n&1){let e=P();a(0,"mat-row",46),M("click",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var zo=class zo extends Ct{constructor(e,i,t,l,f,p,k,X,Ge,$e,Ke){super(e,new yi,$e,f,k);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.router=l;this.tokenHelper=f;this.cdr=p;this.translate=k;this.pageInfo=X;this.cmsStoreService=Ge;this.publicHelper=$e;this.dialog=Ke;this.requestLinkPlanId=0;this.requestLinkSourceId=0;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new ae;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus"];this.tabledisplayedColumnsMobileSource=["id","recordStatus"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:dt=>this.onSubmitOptionsSearch(dt)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=oe.Descending}ngOnInit(){if(this.requestLinkPlanId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkPlanId")),this.requestLinkPlanId&&this.requestLinkPlanId>0){let e=new J;e.propertyName="LinkPlanId",e.value=this.requestLinkPlanId,this.filteModelContent.filters.push(e)}if(this.requestLinkSourceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSourceId")),this.requestLinkSourceId&&this.requestLinkSourceId>0){let e=new J;e.propertyName="LinkSourceId",e.value=this.requestLinkSourceId,this.filteModelContent.filters.push(e)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Ie(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new yi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&(typeof this.categoryModelSelected.id=="string"?this.categoryModelSelected.id.length>0:this.categoryModelSelected.id>0)){let t=new J;t.propertyName="LinkCategoryId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=oe.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=oe.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=oe.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new ae,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryModelSelected==null||(typeof this.categoryModelSelected.id=="string"?this.categoryModelSelected.id.length===0:this.categoryModelSelected.id===0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=new ut;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={parentId:this.categoryModelSelected.id},this.dialog.open(pr,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}let i=new ut;i.disableClose=!0,i.autoFocus=!0,i.data={id:this.tableRowSelected.id},this.dialog.open(ur,i).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(mr,{height:"40%",panelClass:i,enterAnimationDuration:se.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:se.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new J;f.propertyName="recordStatus",f.value=ct.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};zo.\u0275fac=function(i){return new(i||zo)(I(xi),I(jt),I(N),I(Ye),I(ze),I(F),I(O),I(ft),I(Qe),I(G),I(je))},zo.\u0275cmp=L({type:zo,selectors:[["app-data-provider-plan-source-list"]],standalone:!1,features:[W],decls:50,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","linkPlanId"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list",3),T("optionActionGuideNoticeDisplayChange",function(p){return m(l),y(t.viewGuideNotice,p)||(t.viewGuideNotice=p),u(p)}),M("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionButtonPrintRow())}),w(1,4),c(2," -------------------------------------- "),E(),be(3,5)(4,6),w(5,7),a(6,"a",8),M("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),g(7,"i",9),r(),a(8,"a",8),M("click",function(){return m(l),u(t.onActionButtonReload())}),g(9,"i",10),r(),E(),w(10,11),a(11,"a",12),M("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(12,"mat-slide-toggle",13),c(13),S(14,"translate"),r(),a(15,"a",12),M("click",function(){return m(l),u(t.onActionButtonStatist())}),g(16,"mat-slide-toggle",13),c(17),S(18,"translate"),r(),E(),w(19,14),v(20,_f,7,3,"div",15),E(),w(21,16),v(22,Sf,7,3,"div",15),v(23,Cf,7,3,"div",15),E(),w(24,17),a(25,"app-cms-search-list",18),T("optionsChange",function(p){return m(l),y(t.optionsSearch,p)||(t.optionsSearch=p),u(p)}),r(),a(26,"app-cms-statist-list",18),T("optionsChange",function(p){return m(l),y(t.optionsStatist,p)||(t.optionsStatist=p),u(p)}),r(),E(),w(27,19),a(28,"mat-table",20,0),M("matSortChange",function(){m(l);let p=x(29);return u(t.onTableSortData(p))}),w(30,21),V(31,hf,2,1,"mat-header-cell",22)(32,gf,2,1,"mat-cell",23),E(),w(33,24),V(34,vf,2,1,"mat-header-cell",22)(35,bf,4,5,"mat-cell",23),E(),w(36,25),V(37,Mf,2,1,"mat-header-cell",22)(38,Pf,4,4,"mat-cell",23),E(),w(39,26),V(40,wf,2,1,"mat-header-cell",22)(41,Ef,2,1,"mat-cell",23),E(),w(42,27),V(43,Df,3,3,"mat-header-cell",28)(44,yf,6,1,"mat-cell",29),E(),V(45,Tf,1,0,"mat-header-row",30)(46,Af,1,2,"mat-row",31),r(),E(),w(47,32),a(48,"mat-paginator",33,1),M("page",function(p){return m(l),u(t.onTablePageingData(p))}),r(),E(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null?null:t.tableRowSelected.linkPlanId)>0?t.tableRowSelected==null?null:t.tableRowSelected.linkPlanId:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),h("",C(14,25,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),h("",C(18,27,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow&&(t.categoryModelSelected==null?null:t.categoryModelSelected.id)>0?20:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(2),D("options",t.optionsSearch),o(),D("options",t.optionsStatist),o(2),_("dataSource",t.tableSource),o(17),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(29,uf)))},dependencies:[xe,Jt,Ze,Je,q,Mt,It,pe,Te,Ue,tt,Pt,nt,wt,ot,it,Et,at,rt,Dt,yt,Ae,Re,Tt,ke,lt,Fe,B,st,Le],encapsulation:2});var Cn=zo;var Rf=()=>[5,10,20,100],xf=(n,s)=>s.id;function kf(n,s){if(n&1){let e=P();a(0,"div",13)(1,"a",22),M("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",23)(3,"br"),r(),a(4,"p",24),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.ADD")," "))}function Lf(n,s){if(n&1){let e=P();a(0,"div",13)(1,"a",25),M("click",function(){m(e);let t=d();return u(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",26)(3,"br"),r(),a(4,"p",24),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.EDIT")," "))}function Vf(n,s){if(n&1){let e=P();a(0,"div",13)(1,"a",27),M("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",28)(3,"br"),r(),a(4,"p",24),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.DELETE")," "))}function Bf(n,s){if(n&1&&(a(0,"div",35),g(1,"i",37),c(2),r()),n&2){let e=d().$implicit,i=d(2);o(2),de(" ",i.fieldsInfo.linkPlanId==null?null:i.fieldsInfo.linkPlanId.fieldTitle,": ",e.linkPlanId," ")}}function Of(n,s){if(n&1&&(a(0,"div",35),g(1,"i",38),c(2),S(3,"cmssiteinfo"),S(4,"async"),r()),n&2){let e=d().$implicit,i=d(2);o(2),de(" ",i.fieldsInfo.linkSiteId==null?null:i.fieldsInfo.linkSiteId.fieldTitle,": ",C(4,4,C(3,2,e.linkSiteId))," ")}}function Ff(n,s){if(n&1&&g(0,"select",40),n&2){let e=d(2).$implicit,i=d(2);_("contentService",i.contentService)("row",e)}}function Nf(n,s){if(n&1&&(a(0,"div",35),g(1,"i",39),S(2,"statusIconClass"),v(3,Ff,1,2,"select",40),r()),n&2){let e=d().$implicit,i=d(2);o(),_("ngClass",C(2,2,e.recordStatus)),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function Gf(n,s){if(n&1&&(a(0,"div",36)(1,"div",35)(2,"span",41),g(3,"i",42),r(),c(4),r()()),n&2){let e=d().$implicit;o(2),_("cdkCopyToClipboard",e.id.toString()),o(2),h(" ID: ",e.id," ")}}function Hf(n,s){if(n&1){let e=P();a(0,"div",30),M("click",function(t){let l=m(e).$implicit,f=d(2);return u(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d(2);return u(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d(2);return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d(2);return u(l.onActionTableRowMouseLeave(t))}),a(1,"div",31),g(2,"i",32),r(),a(3,"div",33)(4,"div",34),c(5),r(),v(6,Bf,3,2,"div",35),v(7,Of,5,6,"div",35),v(8,Nf,4,4,"div",35),v(9,Gf,5,2,"div",36),r()()}if(n&2){let e=s.$implicit,i=d(2);H("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),He("aria-label",e.id||e.id),o(5),h(" ID: ",e.id," "),o(),b(e.linkPlanId?6:-1),o(),b(e.linkSiteId?7:-1),o(),b(e.recordStatus!==void 0?8:-1),o(),b(i.getRowExpanded(e)?9:-1)}}function Wf(n,s){if(n&1&&(a(0,"div",18),Be(1,Hf,10,8,"div",29,xf),r()),n&2){let e=d();o(),Oe(e.dataModelResult.listItems)}}function qf(n,s){n&1&&(a(0,"div",19),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"MESSAGE.NoRecord")," "))}var Ln=class Ln extends Cn{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(e){return e.expanded===!0}};Ln.\u0275fac=(()=>{let e;return function(t){return(e||(e=Rt(Ln)))(t||Ln)}})(),Ln.\u0275cmp=L({type:Ln,selectors:[["app-data-provider-plan-source-list-mobile"]],hostBindings:function(i,t){i&1&&M("click",function(f){return t.onDocumentClick(f)},bt)},standalone:!1,features:[W],decls:32,vars:30,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item",3,"selected"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",1,"fa-solid","fa-link"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-list"],["aria-hidden","true",1,"fa-solid","fa-globe"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"cdkCopyToClipboard"],[1,"flaticon2-copy"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list-mobile",1),T("optionActionGuideNoticeDisplayChange",function(p){return m(l),y(t.viewGuideNotice,p)||(t.viewGuideNotice=p),u(p)}),M("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionButtonPrintRow())}),be(1,2)(2,3)(3,4),w(4,5),a(5,"a",6),M("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),g(6,"i",7),r(),a(7,"a",6),M("click",function(){return m(l),u(t.onActionButtonReload())}),g(8,"i",8),r(),E(),w(9,9),a(10,"a",10),M("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(11,"mat-slide-toggle",11),c(12),S(13,"translate"),r(),a(14,"a",10),M("click",function(){return m(l),u(t.onActionButtonStatist())}),g(15,"mat-slide-toggle",11),c(16),S(17,"translate"),r(),E(),w(18,12),v(19,kf,7,3,"div",13),E(),w(20,14),v(21,Lf,7,3,"div",13),v(22,Vf,7,3,"div",13),E(),w(23,15),a(24,"app-cms-search-list",16),T("optionsChange",function(p){return m(l),y(t.optionsSearch,p)||(t.optionsSearch=p),u(p)}),r(),a(25,"app-cms-statist-list",16),T("optionsChange",function(p){return m(l),y(t.optionsStatist,p)||(t.optionsStatist=p),u(p)}),r(),E(),w(26,17),v(27,Wf,3,0,"div",18)(28,qf,3,3,"div",19),E(),w(29,20),a(30,"mat-paginator",21,0),M("page",function(p){return m(l),u(t.onTablePageingData(p))}),r(),E(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null?null:t.tableRowSelected.linkPlanId)>0?t.tableRowSelected==null?null:t.tableRowSelected.linkPlanId:t.tableRowSelected==null?null:t.tableRowSelected.id),o(8),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),h("",C(13,25,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),h("",C(17,27,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow&&(t.categoryModelSelected==null?null:t.categoryModelSelected.id)>0?19:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?21:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?22:-1),o(2),D("options",t.optionsSearch),o(),D("options",t.optionsStatist),o(2),b(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?27:28),o(3),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(29,Rf)))},dependencies:[xe,q,pe,Te,Xe,Ae,Re,kt,ke,lt,Fe,B,st,Le],styles:[".cms-m-body[_ngcontent-%COMP%]{min-height:100vh;background:var(--cms-m-bg, #0f172a);color:var(--cms-m-fg, #e2e8f0)}.cms-m-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2;background:var(--cms-m-header-bg, #0f172a);border-bottom:1px solid rgba(255,255,255,.08)}.cms-m-header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 16px}.cms-m-header-title[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:var(--cms-m-accent, #38bdf8)}.cms-m-header-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-left:auto}.cms-m-header-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:#ffffff0d;color:#e2e8f0;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.cms-m-header-action-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.cms-m-header-action-btn.active[_ngcontent-%COMP%]{background:#38bdf833;border-color:#38bdf866}.cms-m-header-action-btn[_ngcontent-%COMP%]   i.rotation360[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotation360 1s linear infinite}@keyframes _ngcontent-%COMP%_rotation360{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.cms-m-search-area[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px 16px}.cms-m-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.cms-m-list-item[_ngcontent-%COMP%]{display:flex;gap:12px;padding:12px;border-radius:14px;background:#ffffff0a;border:1px solid rgba(255,255,255,.06);cursor:pointer;transition:all .2s ease}.cms-m-list-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.cms-m-list-item.selected[_ngcontent-%COMP%]{border-color:var(--cms-m-accent, #38bdf8);box-shadow:0 0 0 1px #38bdf84d}.cms-m-list-item-image[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;overflow:hidden;flex-shrink:0}.cms-m-list-item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:grid;place-items:center;background:#38bdf81f;color:#38bdf8;flex-shrink:0}.cms-m-list-item-content[_ngcontent-%COMP%]{flex:1;min-width:0}.cms-m-list-item-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:4px;font-size:14px}.cms-m-list-item-subtitle[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8}.cms-m-list-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0}.cms-m-empty[_ngcontent-%COMP%]{padding:24px;text-align:center;color:#94a3b8}"]});var Ko=Ln;var jf=["vform"];function Uf(n,s){n&1&&(a(0,"mat-header-cell",27),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"TITLE.PICTURE")," "))}function Qf(n,s){if(n&1&&(g(0,"img",28),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;_("src",R(C(1,2,e.linkMainImageIdSrc)),K)}}function zf(n,s){if(n&1&&(a(0,"mat-cell"),v(1,Qf,2,4,"img",28),r()),n&2){let e=s.$implicit;o(),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function Kf(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",29),T("modelChange",function(t){m(e);let l=d();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=d();D("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Jf(n,s){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.required")))}function Xf(n,s){n&1&&(a(0,"mat-error"),c(1," Description is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.required")))}function Yf(n,s){n&1&&(a(0,"mat-error"),c(1," FontIcon is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.required")))}function Zf(n,s){if(n&1&&(a(0,"mat-header-cell",27),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.linkParentId==null?null:e.fieldsInfo.linkParentId.fieldTitle," ")}}function $f(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.linkParentId," ")}}function e_(n,s){if(n&1&&(g(0,"img",25),S(1,"cmsthumbnail")),n&2){let e=d();_("src",R(C(1,2,e.dataModel.linkMainImageIdSrc)),K)}}function t_(n,s){if(n&1){let e=P();a(0,"div",15)(1,"label",30),M("click",function(){m(e);let t=d();return u(t.fileManagerOpenForm=!0)}),c(2),S(3,"translate"),r(),a(4,"input",31,4),S(6,"translate"),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),u(t)}),M("click",function(){m(e);let t=d();return u(t.fileManagerOpenForm=!0)}),r(),a(7,"cms-file-manager",32),M("itemSelected",function(t){m(e);let l=d();return u(l.onActionFileSelected(t))}),T("openFormChange",function(t){m(e);let l=d();return y(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),u(t)}),r()()}if(n&2){let e=d();o(2),A(C(3,12,"TITLE.Icon_File")),o(2),_("placeholder",R(C(6,14,"TITLE.Original_File_ID"))),D("ngModel",e.dataModel.linkMainImageId),o(3),_("language",e.appLanguage)("isPopup",!0),D("openForm",e.fileManagerOpenForm),_("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function i_(n,s){if(n&1){let e=P();a(0,"div",26)(1,"button",33),M("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",34),c(3),S(4,"translate"),r(),a(5,"button",35),g(6,"i",36),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),h(" ",C(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var Jo=class Jo extends _t{constructor(e,i,t,l,f,p,k,X){super(l,new _i,p,X);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderPlanCategoryService=l;this.cmsToastrService=f;this.publicHelper=p;this.cdr=k;this.translate=X;this.requestParentId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Y;this.dataModel=new _i;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestParentId=e.parentId||""),this.requestParentId&&this.requestParentId.length>0&&(this.dataModel.linkParentId=String(this.requestParentId)||""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanCategoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Jo.\u0275fac=function(i){return new(i||Jo)(I(le),I(re),I(ie),I(Ai),I(N),I(G),I(F),I(O))},Jo.\u0275cmp=L({type:Jo,selectors:[["app-data-provider-plan-category-add"]],viewQuery:function(i,t){if(i&1&&U(jf,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[W],decls:48,vars:31,consts:[["vform","ngForm"],["Title",""],["Description",""],["FontIcon",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.fontIcon",1,"color-highlight"],["matInput","","name","dataModel.fontIcon","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.fontIcon",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["matColumnDef","LinkParentId"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",5),g(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),g(8,"app-cms-form-result-message",9),a(9,"form",10,0),M("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),w(11,11),V(12,Uf,3,3,"mat-header-cell",12)(13,zf,2,1,"mat-cell",13),E(),v(14,Kf,1,5,"app-cms-enum-record-status-selector",14),a(15,"div",15)(16,"label",16),c(17),r(),a(18,"input",17,1),T("ngModelChange",function(p){return m(l),y(t.dataModel.title,p)||(t.dataModel.title=p),u(p)}),r(),a(20,"em"),c(21),r(),v(22,Jf,5,3,"mat-error"),r(),a(23,"div",15)(24,"label",18),c(25),r(),a(26,"textarea",19,2),T("ngModelChange",function(p){return m(l),y(t.dataModel.description,p)||(t.dataModel.description=p),u(p)}),c(28,"          "),r(),a(29,"em"),c(30),r(),v(31,Xf,5,3,"mat-error"),r(),a(32,"div",15)(33,"label",20),c(34),r(),a(35,"textarea",21,3),T("ngModelChange",function(p){return m(l),y(t.dataModel.fontIcon,p)||(t.dataModel.fontIcon=p),u(p)}),c(37,"          "),r(),v(38,Yf,5,3,"mat-error"),r(),w(39,22),V(40,Zf,2,1,"mat-header-cell",12)(41,$f,2,1,"mat-cell",13),E(),a(42,"div",23)(43,"a",24),S(44,"cmsthumbnail"),v(45,e_,2,4,"img",25),r()(),v(46,t_,8,16,"div",15),v(47,i_,9,7,"div",26),r()()()}if(i&2){let l=x(19),f=x(27),p=x(36);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",C(7,27,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(6),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?14:-1),o(3),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),D("ngModel",t.dataModel.title),o(3),h("",l.value.length," / 100"),o(),b(l.errors!=null&&l.errors.required?22:-1),o(3),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),D("ngModel",t.dataModel.description),o(4),h("",f.value.length," / 500"),o(),b(f.errors!=null&&f.errors.required?31:-1),o(3),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.fontIcon==null?null:t.fieldsInfo.fontIcon.fieldTitle)),D("ngModel",t.dataModel.fontIcon),o(3),b(p.errors!=null&&p.errors.required?38:-1),o(5),_("href",R(C(44,29,t.dataModel.linkMainImageIdSrc)),K),o(2),b((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?45:-1),o(),b(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?46:-1),o(),b(t.formInfo.submitButtonEnabled?47:-1)}},dependencies:[ge,$,ee,Ce,De,ye,ce,he,qe,q,tt,nt,ot,it,at,rt,ve,j,Se,Ht,B,Pe],encapsulation:2});var fr=Jo;var n_=["vform"];function o_(n,s){if(n&1){let e=P();a(0,"div",7)(1,"label",8),c(2),r(),a(3,"input",9,0),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModelResultCategory.item.title,t)||(l.dataModelResultCategory.item.title=t),u(t)}),r()(),a(5,"div",7)(6,"label",10),c(7),r(),a(8,"textarea",11,1),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModelResultCategory.item.description,t)||(l.dataModelResultCategory.item.description=t),u(t)}),r()(),g(10,"app-data-provider-plan-category-selector",12),S(11,"translate")}if(n&2){let e=d();o(2),A(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),D("ngModel",e.dataModelResultCategory.item.title),o(4),A(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),D("ngModel",e.dataModelResultCategory.item.description),o(2),_("optionPlaceholder",C(11,9,"TITLE.Alternative_classification_to_move_information_to_this_branch"))}}function a_(n,s){if(n&1){let e=P();a(0,"div",6)(1,"button",13),M("click",function(){m(e);let t=d();return u(t.onFormMove())}),g(2,"i",14),c(3),S(4,"translate"),r(),a(5,"button",15),M("click",function(){m(e);let t=d();return u(t.onFormDelete())}),g(6,"i",16),c(7),S(8,"translate"),r(),a(9,"button",17),M("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(10,"i",14),c(11),S(12,"translate"),r()()}if(n&2){let e=d();o(),_("disabled",!e.formInfo.submitButtonEnabled),o(2),h(" ",C(4,5,"TITLE.MOVE_DATA")," "),o(2),_("disabled",!e.formInfo.submitButtonEnabled),o(2),h(" ",C(8,7,"ACTION.DELETE")," "),o(4),h(" ",C(12,9,"ACTION.CANCEL")," ")}}var Xo=class Xo{constructor(s,e,i,t,l,f,p){this.data=s;this.dialogRef=e;this.publicHelper=i;this.dataProviderPlanCategoryService=t;this.cdr=l;this.translate=f;this.cmsToastrService=p;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultCategory=new Y;this.dataModelResultCategoryAllData=new Y;this.dataModel={};this.formInfo=new $t;this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=s.id||"")}ngOnInit(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne(),this.DataGetAll()}DataGetOne(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderPlanCategoryService.setAccessLoad(),this.dataProviderPlanCategoryService.setAccessDataType(Ne.Editor),this.dataProviderPlanCategoryService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultCategory=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}DataGetAll(){this.translate.get("TITLE.Loading_Information").subscribe(i=>{this.formInfo.submitResultMessage=i});let s=new ae;s.rowPerPage=100;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanCategoryService.ServiceGetAll(s).subscribe({next:i=>{this.dataModelResultCategoryAllData=i,i.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetAll()),this.publicHelper.processService.processStop(e)},error:i=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormMove(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(!this.formGroup.valid)return;this.formInfo.submitButtonEnabled=!0,this.dataModel.newCatId===this.requestId&&(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.translate.get("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitButtonEnabled=!0),this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)})}onFormDelete(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderPlanCategoryService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)}})}onFormChangeNewCatId(s){if(this.formInfo.submitResultMessage="",this.requestId.length===0||!s||s.id.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.dataModel.newCatId=s.id,this.dataModel.newCatId===this.requestId?(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.translate.get("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitButtonEnabled=!1):(this.formInfo.submitButtonEnabled=!0,this.formInfo.submitResultMessage="")}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Xo.\u0275fac=function(e){return new(e||Xo)(I(le),I(re),I(G),I(Ai),I(F),I(O),I(N))},Xo.\u0275cmp=L({type:Xo,selectors:[["app-data-provider-plan-category-delete"]],viewQuery:function(e,i){if(e&1&&U(n_,5),e&2){let t;Q(t=z())&&(i.formGroup=t.first)}},standalone:!1,decls:10,vars:7,consts:[["Title",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"form-actions"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultCategory.item.title",1,"color-highlight"],["matInput","","name","dataModelResultCategory.item.title","type","text","minlength","3","maxlength","50","required","","readonly","","id","dataModelResultCategory.item.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModelResultCategory.item.description",1,"color-highlight"],["matInput","","name","dataModelResultCategory.item.description","type","text","minlength","1","maxlength","100","readonly","","required","","rows","5","id","dataModelResultCategory.item.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionPlaceholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click","disabled"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"]],template:function(e,i){e&1&&(a(0,"div",2),g(1,"app-progress-spinner",3),a(2,"div",4)(3,"p",5),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),v(8,o_,12,11),v(9,a_,13,11,"div",6),r()()),e&2&&(o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(3),h(" ",i.formInfo.formTitle," "),o(2),h(" ",C(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),b(i.dataModelResultCategory!=null&&i.dataModelResultCategory.item?8:-1),o(),b(i.formInfo.submitButtonEnabled?9:-1))},dependencies:[$,ee,Ee,De,ye,ce,q,j,ni,B],encapsulation:2});var _r=Xo;var r_=["vform"];function l_(n,s){n&1&&(a(0,"mat-header-cell",27),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"TITLE.PICTURE")," "))}function s_(n,s){if(n&1&&(g(0,"img",28),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;_("src",R(C(1,2,e.linkMainImageIdSrc)),K)}}function d_(n,s){if(n&1&&(a(0,"mat-cell"),v(1,s_,2,4,"img",28),r()),n&2){let e=s.$implicit;o(),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function c_(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",29),T("modelChange",function(t){m(e);let l=d();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=d();D("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function p_(n,s){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.required")))}function m_(n,s){n&1&&(a(0,"mat-error"),c(1," Description is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.required")))}function u_(n,s){n&1&&(a(0,"mat-error"),c(1," FontIcon is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.required")))}function f_(n,s){if(n&1&&(a(0,"mat-header-cell",27),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.linkParentId==null?null:e.fieldsInfo.linkParentId.fieldTitle," ")}}function __(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.linkParentId," ")}}function S_(n,s){if(n&1&&(g(0,"img",25),S(1,"cmsthumbnail")),n&2){let e=d();_("src",R(C(1,2,e.dataModel.linkMainImageIdSrc)),K)}}function C_(n,s){if(n&1){let e=P();a(0,"div",15)(1,"label",30),M("click",function(){m(e);let t=d();return u(t.fileManagerOpenForm=!0)}),c(2),S(3,"translate"),r(),a(4,"input",31,4),S(6,"translate"),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),u(t)}),M("click",function(){m(e);let t=d();return u(t.fileManagerOpenForm=!0)}),r(),a(7,"cms-file-manager",32),M("itemSelected",function(t){m(e);let l=d();return u(l.onActionFileSelected(t))}),T("openFormChange",function(t){m(e);let l=d();return y(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),u(t)}),r()()}if(n&2){let e=d();o(2),A(C(3,12,"TITLE.Icon_File")),o(2),_("placeholder",R(C(6,14,"TITLE.Original_File_ID"))),D("ngModel",e.dataModel.linkMainImageId),o(3),_("language",e.appLanguage)("isPopup",!0),D("openForm",e.fileManagerOpenForm),_("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function h_(n,s){if(n&1){let e=P();a(0,"div",26)(1,"button",33),M("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",34),c(3),S(4,"translate"),r(),a(5,"button",35),g(6,"i",36),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),h(" ",C(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var Yo=class Yo extends St{constructor(e,i,t,l,f,p,k,X){super(l,new _i,p,X);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderPlanCategoryService=l;this.cmsToastrService=f;this.publicHelper=p;this.cdr=k;this.translate=X;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new pt;this.dataModel=new _i;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id||""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanCategoryService.setAccessLoad(),this.dataProviderPlanCategoryService.setAccessDataType(Ne.Editor),this.dataProviderPlanCategoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanCategoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Yo.\u0275fac=function(i){return new(i||Yo)(I(le),I(re),I(ie),I(Ai),I(N),I(G),I(F),I(O))},Yo.\u0275cmp=L({type:Yo,selectors:[["app-data-provider-plan-category-edit"]],viewQuery:function(i,t){if(i&1&&U(r_,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[W],decls:48,vars:31,consts:[["vform","ngForm"],["Title",""],["Description",""],["FontIcon",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.fontIcon",1,"color-highlight"],["matInput","","name","dataModel.fontIcon","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.fontIcon",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["matColumnDef","LinkParentId"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",5),g(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),g(8,"app-cms-form-result-message",9),a(9,"form",10,0),M("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),w(11,11),V(12,l_,3,3,"mat-header-cell",12)(13,d_,2,1,"mat-cell",13),E(),v(14,c_,1,5,"app-cms-enum-record-status-selector",14),a(15,"div",15)(16,"label",16),c(17),r(),a(18,"input",17,1),T("ngModelChange",function(p){return m(l),y(t.dataModel.title,p)||(t.dataModel.title=p),u(p)}),r(),a(20,"em"),c(21),r(),v(22,p_,5,3,"mat-error"),r(),a(23,"div",15)(24,"label",18),c(25),r(),a(26,"textarea",19,2),T("ngModelChange",function(p){return m(l),y(t.dataModel.description,p)||(t.dataModel.description=p),u(p)}),c(28,"          "),r(),a(29,"em"),c(30),r(),v(31,m_,5,3,"mat-error"),r(),a(32,"div",15)(33,"label",20),c(34),r(),a(35,"textarea",21,3),T("ngModelChange",function(p){return m(l),y(t.dataModel.fontIcon,p)||(t.dataModel.fontIcon=p),u(p)}),c(37,"          "),r(),v(38,u_,5,3,"mat-error"),r(),w(39,22),V(40,f_,2,1,"mat-header-cell",12)(41,__,2,1,"mat-cell",13),E(),a(42,"div",23)(43,"a",24),S(44,"cmsthumbnail"),v(45,S_,2,4,"img",25),r()(),v(46,C_,8,16,"div",15),v(47,h_,9,7,"div",26),r()()()}if(i&2){let l=x(19),f=x(27),p=x(36);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",C(7,27,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(6),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?14:-1),o(3),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),D("ngModel",t.dataModel.title),o(3),h("",l.value.length," / 100"),o(),b(l.errors!=null&&l.errors.required?22:-1),o(3),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),D("ngModel",t.dataModel.description),o(4),h("",f.value.length," / 500"),o(),b(f.errors!=null&&f.errors.required?31:-1),o(3),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.fontIcon==null?null:t.fieldsInfo.fontIcon.fieldTitle)),D("ngModel",t.dataModel.fontIcon),o(3),b(p.errors!=null&&p.errors.required?38:-1),o(5),_("href",R(C(44,29,t.dataModel.linkMainImageIdSrc)),K),o(2),b((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?45:-1),o(),b(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?46:-1),o(),b(t.formInfo.submitButtonEnabled?47:-1)}},dependencies:[ge,$,ee,Ce,De,ye,ce,he,qe,q,tt,nt,ot,it,at,rt,ve,j,Se,Ht,B,Pe],encapsulation:2});var Sr=Yo;function g_(n,s){if(n&1){let e=P();a(0,"button",14),M("click",function(){m(e);let t=d();return u(t.onActionAdd())}),c(1),S(2,"translate"),r()}n&2&&(o(),h(" ",C(2,1,"ACTION.ADD")," "))}function v_(n,s){if(n&1){let e=P();a(0,"button",15),M("click",function(){m(e);let t=d();return u(t.onActionEdit())}),c(1),S(2,"translate"),r()}n&2&&(o(),h(" ",C(2,1,"ACTION.EDIT")," "))}function b_(n,s){if(n&1){let e=P();a(0,"button",16),M("click",function(){m(e);let t=d();return u(t.onActionDelete())}),c(1),S(2,"translate"),r()}n&2&&(o(),h(" ",C(2,1,"ACTION.DELETE")," "))}function M_(n,s){if(n&1){let e=P();a(0,"button",17),M("click",function(){m(e);let t=d();return u(t.onActionButtonReload())}),a(1,"mat-icon",18),S(2,"translate"),c(3,"refresh"),r()()}if(n&2){let e=d();o(),H("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),_("title",R(C(2,4,"ACTION.RELOAD")))}}function I_(n,s){if(n&1){let e=P();a(0,"mat-tree-node",19),g(1,"button",20),a(2,"span",21),M("click",function(){let t=m(e).$implicit,l=d();return u(l.onActionSelect(t))}),c(3),r()()}if(n&2){let e=s.$implicit,i=d();H("ntk-tree-selected",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),o(3),A(e.title)}}function P_(n,s){if(n&1){let e=P();a(0,"mat-tree-node",22)(1,"button",23)(2,"mat-icon",24),c(3),r()(),a(4,"span",21),M("click",function(){let t=m(e).$implicit,l=d();return u(l.onActionSelect(t))}),c(5),r()()}if(n&2){let e=s.$implicit,i=d(),t=x(12);H("ntk-tree-selected",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),_("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),He("type","button")("aria-label","Toggle "+e.title),o(2),h(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),A(e.title)}}var Zo=class Zo{constructor(s,e,i,t,l,f,p,k,X){this.cmsToastrService=s;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=l;this.publicHelper=f;this.tokenHelper=p;this.cmsStoreService=k;this.translate=X;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new _i;this.dataModelResult=new Y;this.filterModel=new ae;this.dataSource=new eo;this.optionChange=new xt;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(s,e)=>!!e.children&&e.children.length>0;this.childrenAccessor=s=>s.children??[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(()=>Ie(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onActionSelect(s){s&&this.dataModelSelect&&s.id==this.dataModelSelect.id?(this.dataModelSelect=null,this.optionChange.emit(null)):(this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect))}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new _i,this.DataGetAll()}onActionSelectForce(s){}onActionAdd(){let s="";this.dataModelSelect&&(typeof this.dataModelSelect.id=="string"?this.dataModelSelect.id.length>0:this.dataModelSelect.id>0)&&(s=String(this.dataModelSelect.id));let e=new ut;e.disableClose=!0,e.autoFocus=!0,e.data={parentId:s},this.dialog.open(fr,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let s="";if(this.dataModelSelect&&(typeof this.dataModelSelect.id=="string"?this.dataModelSelect.id.length>0:this.dataModelSelect.id>0)&&(s=String(this.dataModelSelect.id)),s.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Sr,{height:"90%",panelClass:e,enterAnimationDuration:se.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:se.cmsViewConfig.exitAnimationDuration,data:{id:s}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let s="";if(this.dataModelSelect&&(typeof this.dataModelSelect.id=="string"?this.dataModelSelect.id.length>0:this.dataModelSelect.id>0)&&(s=String(this.dataModelSelect.id)),s.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(_r,{height:"90%",panelClass:e,enterAnimationDuration:se.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:se.cmsViewConfig.exitAnimationDuration,data:{id:s}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}};Zo.\u0275fac=function(e){return new(e||Zo)(I(N),I(ie),I(Ai),I(je),I(F),I(G),I(ze),I(Qe),I(O))},Zo.\u0275cmp=L({type:Zo,selectors:[["app-data-provider-plan-category-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:16,vars:14,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(a(0,"app-cms-html-tree",1),w(1,2),c(2),S(3,"translate"),E(),w(4,3),v(5,g_,3,3,"button",4),v(6,v_,3,3,"button",5),v(7,b_,3,3,"button",6),v(8,M_,4,6,"button",7),E(),w(9,8),g(10,"app-progress-spinner",9),a(11,"mat-tree",10,0),V(13,I_,4,3,"mat-tree-node",11)(14,P_,6,8,"mat-tree-node",12),r(),E(),be(15,13),r()),e&2&&(_("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),h(" ",C(3,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow?5:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0?6:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0?7:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow?8:-1),o(2),_("optionsInfoAreaId",i.constructorInfoAreaId),o(),_("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),_("matTreeNodeDefWhen",i.hasChild))},dependencies:[Ze,Je,Xn,Yn,$n,Zn,Jn,j,io,B],encapsulation:2});var $o=Zo;var w_=()=>["expandedTitle"],E_=()=>["expandedDetail"],D_=()=>[5,10,20,100],Yl=n=>({display:n});function y_(n,s){if(n&1){let e=P();a(0,"div",19)(1,"a",46),M("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",47)(3,"br"),r(),a(4,"p",22),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.ADD")," "))}function T_(n,s){if(n&1){let e=P();a(0,"div",19)(1,"a",48),M("click",function(){m(e);let t=d();return u(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",49)(3,"br"),r(),a(4,"p",22),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.EDIT")," "))}function A_(n,s){if(n&1){let e=P();a(0,"div",19)(1,"a",50),M("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",51)(3,"br"),r(),a(4,"p",22),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.DELETE")," "))}function R_(n,s){if(n&1){let e=P();a(0,"div",19)(1,"a",12),M("click",function(){m(e);let t=d();return u(t.onActionButtonPriceList(t.tableRowSelected))}),g(2,"i",52)(3,"br"),r(),a(4,"p",22),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.PRICE")," "))}function x_(n,s){if(n&1){let e=P();a(0,"div",19)(1,"a",12),M("click",function(){m(e);let t=d();return u(t.onActionButtonSourceList(t.tableRowSelected))}),g(2,"i",53)(3,"br"),r(),a(4,"p",22),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.SOURCE")," "))}function k_(n,s){if(n&1){let e=P();a(0,"div",19)(1,"a",12),M("click",function(){m(e);let t=d();return u(t.onActionButtonClientList(t.tableRowSelected))}),g(2,"i",54)(3,"br"),r(),a(4,"p",22),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.CLIENT")," "))}function L_(n,s){if(n&1){let e=P();a(0,"a",12),M("click",function(){m(e);let t=d();return u(t.onActionButtonTransactionList(t.tableRowSelected))}),g(1,"i",55)(2,"br"),r()}}function V_(n,s){if(n&1){let e=P();a(0,"div",19)(1,"a",12),M("click",function(){m(e);let t=d();return u(t.onActionButtonDataRow(t.tableRowSelected))}),g(2,"i",56)(3,"br"),r(),a(4,"p",22),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.DATA")," "))}function B_(n,s){n&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"TITLE.MENU")," "))}function O_(n,s){if(n&1){let e=P();a(0,"mat-cell")(1,"button",57),M("click",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowSelectActionMenu(t))}),g(2,"i",58),r()()}}function F_(n,s){n&1&&(a(0,"mat-header-cell",59),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"TITLE.PICTURE")," "))}function N_(n,s){if(n&1&&(g(0,"img",60),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;_("src",R(C(1,2,e.linkMainImageIdSrc)),K)}}function G_(n,s){if(n&1&&(a(0,"mat-cell"),v(1,N_,2,4,"img",60),r()),n&2){let e=s.$implicit;o(),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function H_(n,s){if(n&1&&(a(0,"mat-header-cell",59),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function W_(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.id," ")}}function q_(n,s){if(n&1&&(a(0,"mat-header-cell",59),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function j_(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),r()),n&2){let e=s.$implicit;o(),h(" ",C(3,3,C(2,1,e.linkSiteId))," ")}}function U_(n,s){if(n&1&&(a(0,"mat-header-cell",59),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Q_(n,s){if(n&1&&g(0,"select",62),n&2){let e=d().$implicit,i=d();_("contentService",i.contentService)("row",e)("ngStyle",Gt(3,Yl,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function z_(n,s){if(n&1&&(a(0,"mat-cell"),g(1,"i",61),S(2,"statusIconClass"),v(3,Q_,1,5,"select",62),r()),n&2){let e=s.$implicit,i=d();o(),_("ngClass",C(2,2,e.recordStatus)),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?3:-1)}}function K_(n,s){if(n&1&&(a(0,"mat-header-cell",59),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function J_(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.title," ")}}function X_(n,s){n&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"TITLE.OPTION")," "))}function Y_(n,s){if(n&1&&(a(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),c(3,"more_vert"),r()(),g(4,"mat-menu",null,2),r()),n&2){let e=x(5);o(),_("matMenuTriggerFor",e)}}function Z_(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.title," ")}}function $_(n,s){if(n&1&&(g(0,"img",65),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;_("src",R(C(1,2,e.linkMainImageIdSrc)),K)}}function eS(n,s){if(n&1){let e=P();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),v(5,$_,2,4,"img",65),r(),a(6,"th")(7,"span",66),M("click",function(){m(e);let t=d();return u(t.onActionCopied())}),g(8,"i",67),r(),c(9),r()(),a(10,"tr"),g(11,"td"),a(12,"td"),c(13),r()(),a(14,"tr"),g(15,"td"),a(16,"td"),c(17),r()(),a(18,"tr"),g(19,"td")(20,"td"),r()()()()}if(n&2){let e=s.$implicit,i=d();o(5),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),_("cdkCopyToClipboard",e.id),o(2),h(" ",e.id," "),o(4),de("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : ",e.title),o(4),de(" ",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle," : ",e.description," ")}}function tS(n,s){n&1&&g(0,"mat-header-row")}function iS(n,s){if(n&1){let e=P();a(0,"mat-row",68),M("click",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function nS(n,s){if(n&1){let e=P();a(0,"mat-row",69),M("click",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function oS(n,s){if(n&1){let e=P();a(0,"mat-row",70),M("click",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),_("ngStyle",Gt(3,Yl,e.expanded===!0?"":"none"))}}var ea=class ea extends Ct{constructor(e,i,t,l,f,p,k,X,Ge,$e){super(e,new mt,X,l,p);this.contentService=e;this.cmsToastrService=i;this.router=t;this.tokenHelper=l;this.cdr=f;this.translate=p;this.pageInfo=k;this.publicHelper=X;this.cmsStoreService=Ge;this.dialog=$e;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new ae;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","id","recordStatus"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ke=>this.onSubmitOptionsSearch(Ke)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=oe.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Ie(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new mt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id&&this.categoryModelSelected.id.length>0){let t=new J;t.propertyName="LinkPlanCategoryId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=oe.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=oe.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=oe.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new ae,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryModelSelected==null||!this.categoryModelSelected.id||this.categoryModelSelected.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=new ut;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={LinkPlanCategoryId:this.categoryModelSelected.id},this.dialog.open(Po,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}let i=new ut;i.disableClose=!0,i.autoFocus=!0,i.height="90%",i.data={id:this.tableRowSelected.id},this.dialog.open(yo,i).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Eo,{height:"40%",panelClass:i,enterAnimationDuration:se.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:se.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDataRow(e=this.tableRowSelected,i){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){this.translate.get("MESSAGE.No_row_selected_for_viewing").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/data-provider/log-plan/LinkPlanId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/log-plan/LinkPlanId/"+e.id])}onActionButtonPriceList(e=this.tableRowSelected,i){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/data-provider/plan-price/LinkPlanId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/plan-price/LinkPlanId/"+e.id])}onActionButtonSourceList(e=this.tableRowSelected,i){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/data-provider/plan-source/LinkPlanId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/plan-source/LinkPlanId/"+e.id])}onActionButtonClientList(e=this.tableRowSelected,i){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/data-provider/plan-client/LinkPlanId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/plan-client/LinkPlanId/"+e.id])}onActionButtonTransactionList(e=this.tableRowSelected,i){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/data-provider/transaction/LinkPlanId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/transaction/LinkPlanId/"+e.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new J;f.propertyName="recordStatus",f.value=ct.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionTableRowMouseEnter(e){this.onActionTableRowSelect(e),e.expanded=!0}onActionTableRowMouseLeave(e){e.expanded=!1}};ea.\u0275fac=function(i){return new(i||ea)(I(Yt),I(N),I(Ye),I(ze),I(F),I(O),I(ft),I(G),I(Qe),I(je))},ea.\u0275cmp=L({type:ea,selectors:[["app-data-provider-plan-list"]],standalone:!1,features:[W],decls:75,vars:42,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","title"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-credit-card","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-file","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-people","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-circle-dollar","font-18"],[1,"fa-solid","fa-database","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list",3),T("optionActionGuideNoticeDisplayChange",function(p){return m(l),y(t.viewGuideNotice,p)||(t.viewGuideNotice=p),u(p)}),M("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionButtonPrintRow())}),w(1,4),a(2,"app-data-provider-plan-category-tree",5),M("optionChange",function(p){return m(l),u(t.onActionSelectorSelect(p))}),r(),E(),be(3,6)(4,7),w(5,8),a(6,"a",9),M("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),g(7,"i",10),r(),a(8,"a",9),M("click",function(){return m(l),u(t.onActionButtonReload())}),g(9,"i",11),r(),a(10,"a",12),M("click",function(){return m(l),u(t.onActionGridExpandRows(!0))}),g(11,"i",13),r(),a(12,"a",12),M("click",function(){return m(l),u(t.onActionGridExpandRows(!1))}),g(13,"i",14),r(),E(),w(14,15),a(15,"a",16),M("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(16,"mat-slide-toggle",17),c(17),S(18,"translate"),r(),a(19,"a",16),M("click",function(){return m(l),u(t.onActionButtonStatist())}),g(20,"mat-slide-toggle",17),c(21),S(22,"translate"),r(),E(),w(23,18),v(24,y_,7,3,"div",19),E(),w(25,20),v(26,T_,7,3,"div",19),v(27,A_,7,3,"div",19),v(28,R_,7,3,"div",19),v(29,x_,7,3,"div",19),v(30,k_,7,3,"div",19),a(31,"div",19),v(32,L_,3,0,"a",21),a(33,"p",22),c(34),S(35,"translate"),r()(),v(36,V_,7,3,"div",19),E(),w(37,23),a(38,"app-cms-search-list",24),T("optionsChange",function(p){return m(l),y(t.optionsSearch,p)||(t.optionsSearch=p),u(p)}),r(),a(39,"app-cms-statist-list",24),T("optionsChange",function(p){return m(l),y(t.optionsStatist,p)||(t.optionsStatist=p),u(p)}),r(),E(),w(40,25),a(41,"mat-table",26,0),M("matSortChange",function(){m(l);let p=x(42);return u(t.onTableSortData(p))}),w(43,27),V(44,B_,3,3,"mat-header-cell",28)(45,O_,3,0,"mat-cell",29),E(),w(46,30),V(47,F_,3,3,"mat-header-cell",31)(48,G_,2,1,"mat-cell",29),E(),w(49,32),V(50,H_,2,1,"mat-header-cell",31)(51,W_,2,1,"mat-cell",29),E(),w(52,33),V(53,q_,2,1,"mat-header-cell",31)(54,j_,4,5,"mat-cell",29),E(),w(55,34),V(56,U_,2,1,"mat-header-cell",31)(57,z_,4,4,"mat-cell",29),E(),w(58,35),V(59,K_,2,1,"mat-header-cell",31)(60,J_,2,1,"mat-cell",29),E(),w(61,36),V(62,X_,3,3,"mat-header-cell",28)(63,Y_,6,1,"mat-cell",37),E(),w(64,38),V(65,Z_,2,1,"mat-cell",29),E(),w(66,39),V(67,eS,21,7,"mat-cell",29),E(),V(68,tS,1,0,"mat-header-row",40)(69,iS,1,2,"mat-row",41)(70,nS,1,2,"mat-row",42)(71,oS,1,5,"mat-row",43),r(),E(),w(72,44),a(73,"mat-paginator",45,1),M("page",function(p){return m(l),u(t.onTablePageingData(p))}),r(),E(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","dataprovider.plan.list"),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),_("checked",t.optionsSearch.data.show),o(),h("",C(18,33,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),h("",C(22,35,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow&&(t.categoryModelSelected==null?null:t.categoryModelSelected.id)>0?24:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?26:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?27:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?28:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?29:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?30:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?32:-1),o(2),h(" ",C(35,37,"ACTION.TRANSACTIONS")," "),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?36:-1),o(2),D("options",t.optionsSearch),o(),D("options",t.optionsStatist),o(2),_("dataSource",t.tableSource),o(27),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",_e(39,w_)),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(),_("matRowDefColumns",_e(40,E_)),o(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(41,D_)))},dependencies:[xe,Jt,Ze,Je,q,Mt,It,pe,Te,Ue,tt,Pt,nt,wt,ot,it,Et,at,rt,Dt,yt,Xe,Ae,Re,Tt,ke,lt,$o,Fe,B,st,Pe,Le],styles:[".pointer[_ngcontent-%COMP%]{cursor:pointer}"]});var Vn=ea;var aS=()=>[5,10,20,100],rS=(n,s)=>s.id;function lS(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",26),M("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",27)(3,"br"),r(),a(4,"p",28),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.ADD")," "))}function sS(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",29),M("click",function(){m(e);let t=d();return u(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",30)(3,"br"),r(),a(4,"p",28),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.EDIT")," "))}function dS(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",31),M("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",32)(3,"br"),r(),a(4,"p",28),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.DELETE")," "))}function cS(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",7),M("click",function(){m(e);let t=d();return u(t.onActionButtonPriceList(t.tableRowSelected))}),g(2,"i",33)(3,"br"),r(),a(4,"p",28),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.PRICE")," "))}function pS(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",7),M("click",function(){m(e);let t=d();return u(t.onActionButtonSourceList(t.tableRowSelected))}),g(2,"i",34)(3,"br"),r(),a(4,"p",28),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.SOURCE")," "))}function mS(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",7),M("click",function(){m(e);let t=d();return u(t.onActionButtonClientList(t.tableRowSelected))}),g(2,"i",35)(3,"br"),r(),a(4,"p",28),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.CLIENT")," "))}function uS(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",7),M("click",function(){m(e);let t=d();return u(t.onActionButtonTransactionList(t.tableRowSelected))}),g(2,"i",36)(3,"br"),r(),a(4,"p",28),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.TRANSACTIONS")," "))}function fS(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",7),M("click",function(){m(e);let t=d();return u(t.onActionButtonDataRow(t.tableRowSelected))}),g(2,"i",37)(3,"br"),r(),a(4,"p",28),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.DATA")," "))}function _S(n,s){if(n&1&&(a(0,"div",40),g(1,"img",47),S(2,"cmsthumbnail"),r()),n&2){let e=d().$implicit;o(),_("src",C(2,2,e.linkMainImageIdSrc),K)("alt",e.title||e.id)}}function SS(n,s){n&1&&(a(0,"div",41),g(1,"i",48),r())}function CS(n,s){if(n&1&&(a(0,"div",44),g(1,"i",49),c(2),r()),n&2){let e=d().$implicit,i=d(2);o(2),de(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",e.id," ")}}function hS(n,s){if(n&1&&(a(0,"div",44),g(1,"i",50),c(2),S(3,"cmssiteinfo"),S(4,"async"),r()),n&2){let e=d().$implicit,i=d(2);o(2),de(" ",i.fieldsInfo.linkSiteId==null?null:i.fieldsInfo.linkSiteId.fieldTitle,": ",C(4,4,C(3,2,e.linkSiteId))," ")}}function gS(n,s){if(n&1&&(a(0,"div",45),c(1),r()),n&2){let e=d().$implicit;o(),h(" ",e.description," ")}}function vS(n,s){if(n&1&&g(0,"select",52),n&2){let e=d(2).$implicit,i=d(2);_("contentService",i.contentService)("row",e)}}function bS(n,s){if(n&1&&(a(0,"div",44),g(1,"i",51),S(2,"statusIconClass"),v(3,vS,1,2,"select",52),r()),n&2){let e=d().$implicit,i=d(2);o(),_("ngClass",C(2,2,e.recordStatus)),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function MS(n,s){if(n&1&&(a(0,"div",53),g(1,"img",47),S(2,"cmsthumbnail"),r()),n&2){let e=d(2).$implicit;o(),_("src",C(2,2,e.linkMainImageIdSrc),K)("alt",e.title||e.id)}}function IS(n,s){if(n&1&&(a(0,"div",44),c(1),r()),n&2){let e=d(2).$implicit,i=d(2);o(),de(" ",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle,": ",e.title," ")}}function PS(n,s){if(n&1&&(a(0,"div",44),c(1),r()),n&2){let e=d(2).$implicit,i=d(2);o(),de(" ",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle,": ",e.description," ")}}function wS(n,s){if(n&1){let e=P();a(0,"div",46),v(1,MS,3,4,"div",53),a(2,"div",44)(3,"span",54),M("click",function(t){return m(e),d(3).onActionCopied(),u(t.stopPropagation())}),g(4,"i",55),r(),c(5),r(),v(6,IS,2,2,"div",44),v(7,PS,2,2,"div",44),r()}if(n&2){let e=d().$implicit;o(),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1),o(2),_("cdkCopyToClipboard",e.id.toString()),o(2),h(" ID: ",e.id," "),o(),b(e.title?6:-1),o(),b(e.description?7:-1)}}function ES(n,s){if(n&1){let e=P();a(0,"div",39),M("click",function(t){let l=m(e).$implicit,f=d(2);return u(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d(2);return u(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d(2);return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d(2);return u(l.onActionTableRowMouseLeave(t))}),v(1,_S,3,4,"div",40)(2,SS,2,0,"div",41),a(3,"div",42)(4,"div",43),c(5),r(),v(6,CS,3,2,"div",44),v(7,hS,5,6,"div",44),v(8,gS,2,1,"div",45),v(9,bS,4,4,"div",44),v(10,wS,8,5,"div",46),r()()}if(n&2){let e=s.$implicit,i=d(2);H("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),He("aria-label",e.title||e.id),o(),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:2),o(4),h(" ",e.title||"ID: "+e.id," "),o(),b(e.title&&e.title.length>0&&e.id?6:-1),o(),b(e.linkSiteId?7:-1),o(),b(e.description?8:-1),o(),b(e.recordStatus!==void 0?9:-1),o(),b(i.getRowExpanded(e)?10:-1)}}function DS(n,s){if(n&1&&(a(0,"div",22),Be(1,ES,11,10,"div",38,rS),r()),n&2){let e=d();o(),Oe(e.dataModelResult.listItems)}}function yS(n,s){n&1&&(a(0,"div",23),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"MESSAGE.NoRecord")," "))}var Bn=class Bn extends Vn{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(e){return e.expanded===!0}};Bn.\u0275fac=(()=>{let e;return function(t){return(e||(e=Rt(Bn)))(t||Bn)}})(),Bn.\u0275cmp=L({type:Bn,selectors:[["app-data-provider-plan-list-mobile"]],hostBindings:function(i,t){i&1&&M("click",function(f){return t.onDocumentClick(f)},bt)},standalone:!1,features:[W],decls:42,vars:35,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-credit-card","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-file","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-people","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-circle-dollar","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-database","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item",3,"selected"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image"],[1,"cms-m-list-item-image-placeholder"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-description"],[1,"cms-m-list-item-expanded"],["loading","lazy",3,"src","alt"],["aria-hidden","true",1,"fa-solid","fa-list"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-globe"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"cms-m-list-item-expanded-image"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list-mobile",1),T("optionActionGuideNoticeDisplayChange",function(p){return m(l),y(t.viewGuideNotice,p)||(t.viewGuideNotice=p),u(p)}),M("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionButtonPrintRow())}),w(1,2),a(2,"app-data-provider-plan-category-tree",3),M("optionChange",function(p){return m(l),u(t.onActionSelectorSelect(p))}),r(),E(),be(3,4)(4,5),w(5,6),a(6,"a",7),M("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),g(7,"i",8),r(),a(8,"a",7),M("click",function(){return m(l),u(t.onActionButtonReload())}),g(9,"i",9),r(),a(10,"a",10),M("click",function(){return m(l),u(t.onActionGridExpandRows(!0))}),g(11,"i",11),r(),a(12,"a",10),M("click",function(){return m(l),u(t.onActionGridExpandRows(!1))}),g(13,"i",12),r(),E(),w(14,13),a(15,"a",14),M("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(16,"mat-slide-toggle",15),c(17),S(18,"translate"),r(),a(19,"a",14),M("click",function(){return m(l),u(t.onActionButtonStatist())}),g(20,"mat-slide-toggle",15),c(21),S(22,"translate"),r(),E(),w(23,16),v(24,lS,7,3,"div",17),E(),w(25,18),v(26,sS,7,3,"div",17),v(27,dS,7,3,"div",17),v(28,cS,7,3,"div",17),v(29,pS,7,3,"div",17),v(30,mS,7,3,"div",17),v(31,uS,7,3,"div",17),v(32,fS,7,3,"div",17),E(),w(33,19),a(34,"app-cms-search-list",20),T("optionsChange",function(p){return m(l),y(t.optionsSearch,p)||(t.optionsSearch=p),u(p)}),r(),a(35,"app-cms-statist-list",20),T("optionsChange",function(p){return m(l),y(t.optionsStatist,p)||(t.optionsStatist=p),u(p)}),r(),E(),w(36,21),v(37,DS,3,0,"div",22)(38,yS,3,3,"div",23),E(),w(39,24),a(40,"mat-paginator",25,0),M("page",function(p){return m(l),u(t.onTablePageingData(p))}),r(),E(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","dataprovider.plan.list"),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),_("checked",t.optionsSearch.data.show),o(),h("",C(18,30,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),h("",C(22,32,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow&&(t.categoryModelSelected==null?null:t.categoryModelSelected.id)>0?24:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?26:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?27:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?28:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?29:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?30:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?31:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?32:-1),o(2),D("options",t.optionsSearch),o(),D("options",t.optionsStatist),o(2),b(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?37:38),o(3),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(34,aS)))},dependencies:[xe,q,pe,Te,Xe,Ae,Re,kt,ke,lt,$o,Fe,B,st,Pe,Le],styles:[".cms-m-body[_ngcontent-%COMP%]{min-height:100vh;background:var(--cms-m-bg, #0f172a);color:var(--cms-m-fg, #e2e8f0)}.cms-m-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2;background:var(--cms-m-header-bg, #0f172a);border-bottom:1px solid rgba(255,255,255,.08)}.cms-m-header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 16px}.cms-m-header-title[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:var(--cms-m-accent, #38bdf8)}.cms-m-header-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-left:auto}.cms-m-header-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:#ffffff0d;color:#e2e8f0;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.cms-m-header-action-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.cms-m-header-action-btn.active[_ngcontent-%COMP%]{background:#38bdf833;border-color:#38bdf866}.cms-m-header-action-btn[_ngcontent-%COMP%]   i.rotation360[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotation360 1s linear infinite}@keyframes _ngcontent-%COMP%_rotation360{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.cms-m-search-area[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px 16px}.cms-m-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.cms-m-list-item[_ngcontent-%COMP%]{display:flex;gap:12px;padding:12px;border-radius:14px;background:#ffffff0a;border:1px solid rgba(255,255,255,.06);cursor:pointer;transition:all .2s ease}.cms-m-list-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.cms-m-list-item.selected[_ngcontent-%COMP%]{border-color:var(--cms-m-accent, #38bdf8);box-shadow:0 0 0 1px #38bdf84d}.cms-m-list-item-image[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;overflow:hidden;flex-shrink:0}.cms-m-list-item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:grid;place-items:center;background:#38bdf81f;color:#38bdf8;flex-shrink:0}.cms-m-list-item-content[_ngcontent-%COMP%]{flex:1;min-width:0}.cms-m-list-item-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:4px;font-size:14px}.cms-m-list-item-subtitle[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8}.cms-m-list-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0}.cms-m-empty[_ngcontent-%COMP%]{padding:24px;text-align:center;color:#94a3b8}"]});var Aa=Bn;var TS=["vform"];function AS(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",26),T("modelChange",function(t){m(e);let l=d();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=d();D("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function RS(n,s){n&1&&g(0,"i",29)}function xS(n,s){n&1&&g(0,"i",30)}function kS(n,s){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.required")))}function LS(n,s){if(n&1){let e=P();a(0,"div",15)(1,"label",27),c(2),r(),a(3,"input",28,3),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.title,t)||(l.dataModel.title=t),u(t)}),r(),v(5,RS,1,0,"i",29),v(6,xS,1,0,"i",30),a(7,"em"),c(8),r(),v(9,kS,5,3,"mat-error"),r()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),D("ngModel",i.dataModel.title),o(2),b(e.value?-1:5),o(),b(e.value?6:-1),o(2),h("",e.value.length," / 100"),o(),b(e.errors!=null&&e.errors.required?9:-1)}}function VS(n,s){if(n&1){let e=P();a(0,"div",16)(1,"div",31)(2,"h5",32),c(3),r()(),a(4,"div",33)(5,"div",34)(6,"input",35),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.checkCredit,t)||(l.dataModel.checkCredit=t),u(t)}),r(),g(7,"label",36),r()()()}if(n&2){let e=d();o(3),h(" ",e.fieldsInfo.checkCredit==null?null:e.fieldsInfo.checkCredit.fieldTitle," "),o(3),D("ngModel",e.dataModel.checkCredit)}}function BS(n,s){if(n&1){let e=P();a(0,"div",16)(1,"div",31)(2,"h5",37),c(3),r()(),a(4,"div",33)(5,"div",34)(6,"input",38),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.calculateCredit,t)||(l.dataModel.calculateCredit=t),u(t)}),r(),g(7,"label",39),r()()()}if(n&2){let e=d();o(3),h(" ",e.fieldsInfo.calculateCredit==null?null:e.fieldsInfo.calculateCredit.fieldTitle," "),o(3),D("ngModel",e.dataModel.calculateCredit)}}function OS(n,s){n&1&&g(0,"i",29)}function FS(n,s){n&1&&g(0,"i",30)}function NS(n,s){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2){let e=d(2);o(),h(" ",e.fieldsInfo.serviceAvailableCredit==null?null:e.fieldsInfo.serviceAvailableCredit.fieldTitle," is "),o(2),A(C(4,2,"MESSAGE.required"))}}function GS(n,s){if(n&1){let e=P();a(0,"div",15)(1,"label",40),c(2),r(),a(3,"input",41,4),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.serviceAvailableCredit,t)||(l.dataModel.serviceAvailableCredit=t),u(t)}),r(),v(5,OS,1,0,"i",29),v(6,FS,1,0,"i",30),v(7,NS,5,4,"mat-error"),r()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.serviceAvailableCredit==null?null:i.fieldsInfo.serviceAvailableCredit.fieldTitle),o(),D("ngModel",i.dataModel.serviceAvailableCredit),_("disabled",!(i.fieldsInfo.serviceAvailableCredit!=null&&i.fieldsInfo.serviceAvailableCredit.accessAddField)),o(2),b(e.value?-1:5),o(),b(e.value?6:-1),o(),b(e.errors!=null&&e.errors.required?7:-1)}}function HS(n,s){n&1&&g(0,"i",29)}function WS(n,s){n&1&&g(0,"i",30)}function qS(n,s){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2){let e=d(2);o(),h(" ",e.fieldsInfo.serviceSumCredit==null?null:e.fieldsInfo.serviceSumCredit.fieldTitle," is "),o(2),A(C(4,2,"MESSAGE.required"))}}function jS(n,s){if(n&1){let e=P();a(0,"div",15)(1,"label",42),c(2),r(),a(3,"input",43,5),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.serviceSumCredit,t)||(l.dataModel.serviceSumCredit=t),u(t)}),r(),v(5,HS,1,0,"i",29),v(6,WS,1,0,"i",30),v(7,qS,5,4,"mat-error"),r()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.serviceSumCredit==null?null:i.fieldsInfo.serviceSumCredit.fieldTitle),o(),D("ngModel",i.dataModel.serviceSumCredit),_("disabled",!(i.fieldsInfo.serviceSumCredit!=null&&i.fieldsInfo.serviceSumCredit.accessAddField)),o(2),b(e.value?-1:5),o(),b(e.value?6:-1),o(),b(e.errors!=null&&e.errors.required?7:-1)}}function US(n,s){n&1&&g(0,"i",29)}function QS(n,s){n&1&&g(0,"i",30)}function zS(n,s){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2){let e=d(2);o(),h(" ",e.fieldsInfo.userAvailableCredit==null?null:e.fieldsInfo.userAvailableCredit.fieldTitle," is "),o(2),A(C(4,2,"MESSAGE.required"))}}function KS(n,s){if(n&1){let e=P();a(0,"div",15)(1,"label",44),c(2),r(),a(3,"input",45,6),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.userAvailableCredit,t)||(l.dataModel.userAvailableCredit=t),u(t)}),r(),v(5,US,1,0,"i",29),v(6,QS,1,0,"i",30),v(7,zS,5,4,"mat-error"),r()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.userAvailableCredit==null?null:i.fieldsInfo.userAvailableCredit.fieldTitle),o(),D("ngModel",i.dataModel.userAvailableCredit),_("disabled",!(i.fieldsInfo.userAvailableCredit!=null&&i.fieldsInfo.userAvailableCredit.accessAddField)),o(2),b(e.value?-1:5),o(),b(e.value?6:-1),o(),b(e.errors!=null&&e.errors.required?7:-1)}}function JS(n,s){n&1&&g(0,"i",29)}function XS(n,s){n&1&&g(0,"i",30)}function YS(n,s){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2){let e=d(2);o(),h(" ",e.fieldsInfo.userSumCredit==null?null:e.fieldsInfo.userSumCredit.fieldTitle," is "),o(2),A(C(4,2,"MESSAGE.required"))}}function ZS(n,s){if(n&1){let e=P();a(0,"div",15)(1,"label",46),c(2),r(),a(3,"input",47,7),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.userSumCredit,t)||(l.dataModel.userSumCredit=t),u(t)}),r(),v(5,JS,1,0,"i",29),v(6,XS,1,0,"i",30),v(7,YS,5,4,"mat-error"),r()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.userSumCredit==null?null:i.fieldsInfo.userSumCredit.fieldTitle),o(),D("ngModel",i.dataModel.userSumCredit),_("disabled",!(i.fieldsInfo.userSumCredit!=null&&i.fieldsInfo.userSumCredit.accessAddField)),o(2),b(e.value?-1:5),o(),b(e.value?6:-1),o(),b(e.errors!=null&&e.errors.required?7:-1)}}function $S(n,s){n&1&&(a(0,"mat-error"),c(1," Description is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.required")))}function eC(n,s){if(n&1&&(g(0,"img",21),S(1,"cmsthumbnail")),n&2){let e=d();_("src",R(C(1,2,e.dataModel.linkMainImageIdSrc)),K)}}function tC(n,s){if(n&1){let e=P();a(0,"div",25)(1,"button",48),M("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",49),c(3),S(4,"translate"),r(),a(5,"button",50),g(6,"i",51),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(13);o(3),h(" ",C(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var ta=class ta extends _t{constructor(e,i,t,l,f,p,k,X){super(l,new Xt,p,X);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderSourceCompanyService=l;this.cmsToastrService=f;this.publicHelper=p;this.cdr=k;this.translate=X;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Y;this.dataModel=new Xt;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourceCompanyService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ta.\u0275fac=function(i){return new(i||ta)(I(le),I(re),I(ie),I(Zt),I(N),I(G),I(F),I(O))},ta.\u0275cmp=L({type:ta,selectors:[["app-data-provider-source-company-add"]],viewQuery:function(i,t){if(i&1&&U(TS,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[W],decls:43,vars:45,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],["ServiceAvailableCredit",""],["ServiceSumCredit",""],["UserAvailableCredit",""],["UserSumCredit",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"d-flex","mb-3"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"pt-1"],["data-trigger-switch","dataModel.checkCredit",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.checkCredit","name","dataModel.checkCredit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.checkCredit",1,"custom-control-label"],["data-trigger-switch","dataModel.calculateCredit",1,"font-600","font-14"],["type","checkbox","id","dataModel.calculateCredit","name","dataModel.calculateCredit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.calculateCredit",1,"custom-control-label"],["for","dataModel.serviceAvailableCredit",1,"color-highlight"],["matInput","","type","text","currencyMask","","name","dataModel.serviceAvailableCredit","placeholder","0","id","dataModel.serviceAvailableCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.serviceSumCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.serviceSumCredit","currencyMask","","placeholder","0","required","","id","dataModel.serviceSumCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userAvailableCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.userAvailableCredit","currencyMask","","placeholder","0","required","","id","dataModel.userAvailableCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userSumCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.userSumCredit","currencyMask","","placeholder","0","required","","id","dataModel.userSumCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",8),g(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),c(4),r(),a(5,"h4"),c(6),S(7,"translate"),r(),a(8,"p"),c(9),S(10,"translate"),r(),g(11,"app-cms-form-result-message",12),a(12,"form",13,0),M("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(14,AS,1,5,"app-cms-enum-record-status-selector",14),v(15,LS,10,8,"div",15),v(16,VS,8,2,"div",16),v(17,BS,8,2,"div",16),v(18,GS,8,6,"div",15),v(19,jS,8,6,"div",15),v(20,KS,8,6,"div",15),v(21,ZS,8,6,"div",15),a(22,"div",15)(23,"label",17),c(24),r(),a(25,"textarea",18,1),T("ngModelChange",function(p){return m(l),y(t.dataModel.description,p)||(t.dataModel.description=p),u(p)}),r(),a(27,"em"),c(28),r(),v(29,$S,5,3,"mat-error"),r(),a(30,"div",19)(31,"a",20),S(32,"cmsthumbnail"),v(33,eC,2,4,"img",21),r()(),a(34,"div",15)(35,"label",22),M("click",function(){return m(l),u(t.fileManagerOpenForm=!0)}),c(36),S(37,"translate"),r(),a(38,"input",23,2),S(40,"translate"),T("ngModelChange",function(p){return m(l),y(t.dataModel.linkMainImageId,p)||(t.dataModel.linkMainImageId=p),u(p)}),M("click",function(){return m(l),u(t.fileManagerOpenForm=!0)}),r(),a(41,"cms-file-manager",24),M("itemSelected",function(p){return m(l),u(t.onActionFileSelected(p))}),T("openFormChange",function(p){return m(l),y(t.fileManagerOpenForm,p)||(t.fileManagerOpenForm=p),u(p)}),r()(),v(42,tC,9,7,"div",25),r()()()}if(i&2){let l=x(26);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),A(C(7,35,"TITLE.DATA_PROVIDER_SOURCE_COMPANY")),o(3),h(" ",C(10,37,"TITLE.DATA_PROVIDER_SOURCE_COMPANY_DESCRIPTION")," "),o(2),_("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?14:-1),o(),b(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?15:-1),o(),b(t.fieldsInfo.checkCredit!=null&&t.fieldsInfo.checkCredit.accessWatchField?16:-1),o(),b(t.fieldsInfo.calculateCredit!=null&&t.fieldsInfo.calculateCredit.accessWatchField?17:-1),o(),b(t.fieldsInfo.serviceAvailableCredit!=null&&t.fieldsInfo.serviceAvailableCredit.accessWatchField?18:-1),o(),b(t.fieldsInfo.serviceSumCredit!=null&&t.fieldsInfo.serviceSumCredit.accessWatchField?19:-1),o(),b(t.fieldsInfo.userAvailableCredit!=null&&t.fieldsInfo.userAvailableCredit.accessWatchField?20:-1),o(),b(t.fieldsInfo.userSumCredit!=null&&t.fieldsInfo.userSumCredit.accessWatchField?21:-1),o(3),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),D("ngModel",t.dataModel.description),o(3),h("",l.value.length," / 500"),o(),b(l.errors!=null&&l.errors.required?29:-1),o(2),_("href",R(C(32,39,t.dataModel.linkMainImageIdSrc)),K),o(2),b((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?33:-1),o(3),A(C(37,41,"TITLE.Icon_File")),o(2),_("placeholder",R(C(40,43,"TITLE.Original_File_ID"))),D("ngModel",t.dataModel.linkMainImageId),o(3),_("language",t.appLanguage)("isPopup",!0),D("openForm",t.fileManagerOpenForm),_("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),b(t.formInfo.submitButtonEnabled?42:-1)}},dependencies:[ge,$,ki,ee,Ce,Ee,De,ye,ce,he,qe,q,ve,j,Se,ei,Ht,B,Pe],encapsulation:2});var Cr=ta;var iC=["vform"];function nC(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",26),T("modelChange",function(t){m(e);let l=d();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=d();D("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function oC(n,s){n&1&&g(0,"i",29)}function aC(n,s){n&1&&g(0,"i",30)}function rC(n,s){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.required")))}function lC(n,s){if(n&1){let e=P();a(0,"div",15)(1,"label",27),c(2),r(),a(3,"input",28,3),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.title,t)||(l.dataModel.title=t),u(t)}),r(),v(5,oC,1,0,"i",29),v(6,aC,1,0,"i",30),a(7,"em"),c(8),r(),v(9,rC,5,3,"mat-error"),r()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),D("ngModel",i.dataModel.title),o(2),b(e.value?-1:5),o(),b(e.value?6:-1),o(2),h("",e.value.length," / 100"),o(),b(e.errors!=null&&e.errors.required?9:-1)}}function sC(n,s){if(n&1){let e=P();a(0,"div",16)(1,"div",31)(2,"h5",32),c(3),r()(),a(4,"div",33)(5,"div",34)(6,"input",35),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.checkCredit,t)||(l.dataModel.checkCredit=t),u(t)}),r(),g(7,"label",36),r()()()}if(n&2){let e=d();o(3),h(" ",e.fieldsInfo.checkCredit==null?null:e.fieldsInfo.checkCredit.fieldTitle," "),o(3),D("ngModel",e.dataModel.checkCredit)}}function dC(n,s){if(n&1){let e=P();a(0,"div",16)(1,"div",31)(2,"h5",37),c(3),r()(),a(4,"div",33)(5,"div",34)(6,"input",38),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.calculateCredit,t)||(l.dataModel.calculateCredit=t),u(t)}),r(),g(7,"label",39),r()()()}if(n&2){let e=d();o(3),h(" ",e.fieldsInfo.calculateCredit==null?null:e.fieldsInfo.calculateCredit.fieldTitle," "),o(3),D("ngModel",e.dataModel.calculateCredit)}}function cC(n,s){n&1&&g(0,"i",29)}function pC(n,s){n&1&&g(0,"i",30)}function mC(n,s){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2){let e=d(2);o(),h(" ",e.fieldsInfo.serviceAvailableCredit==null?null:e.fieldsInfo.serviceAvailableCredit.fieldTitle," is "),o(2),A(C(4,2,"MESSAGE.required"))}}function uC(n,s){if(n&1){let e=P();a(0,"div",15)(1,"label",40),c(2),r(),a(3,"input",41,4),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.serviceAvailableCredit,t)||(l.dataModel.serviceAvailableCredit=t),u(t)}),r(),v(5,cC,1,0,"i",29),v(6,pC,1,0,"i",30),v(7,mC,5,4,"mat-error"),r()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.serviceAvailableCredit==null?null:i.fieldsInfo.serviceAvailableCredit.fieldTitle),o(),D("ngModel",i.dataModel.serviceAvailableCredit),_("disabled",!(i.fieldsInfo.serviceAvailableCredit!=null&&i.fieldsInfo.serviceAvailableCredit.accessEditField)),o(2),b(e.value?-1:5),o(),b(e.value?6:-1),o(),b(e.errors!=null&&e.errors.required?7:-1)}}function fC(n,s){n&1&&g(0,"i",29)}function _C(n,s){n&1&&g(0,"i",30)}function SC(n,s){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2){let e=d(2);o(),h(" ",e.fieldsInfo.serviceSumCredit==null?null:e.fieldsInfo.serviceSumCredit.fieldTitle," is "),o(2),A(C(4,2,"MESSAGE.required"))}}function CC(n,s){if(n&1){let e=P();a(0,"div",15)(1,"label",42),c(2),r(),a(3,"input",43,5),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.serviceSumCredit,t)||(l.dataModel.serviceSumCredit=t),u(t)}),r(),v(5,fC,1,0,"i",29),v(6,_C,1,0,"i",30),v(7,SC,5,4,"mat-error"),r()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.serviceSumCredit==null?null:i.fieldsInfo.serviceSumCredit.fieldTitle),o(),D("ngModel",i.dataModel.serviceSumCredit),_("disabled",!(i.fieldsInfo.serviceSumCredit!=null&&i.fieldsInfo.serviceSumCredit.accessEditField)),o(2),b(e.value?-1:5),o(),b(e.value?6:-1),o(),b(e.errors!=null&&e.errors.required?7:-1)}}function hC(n,s){n&1&&g(0,"i",29)}function gC(n,s){n&1&&g(0,"i",30)}function vC(n,s){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2){let e=d(2);o(),h(" ",e.fieldsInfo.userAvailableCredit==null?null:e.fieldsInfo.userAvailableCredit.fieldTitle," is "),o(2),A(C(4,2,"MESSAGE.required"))}}function bC(n,s){if(n&1){let e=P();a(0,"div",15)(1,"label",44),c(2),r(),a(3,"input",45,6),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.userAvailableCredit,t)||(l.dataModel.userAvailableCredit=t),u(t)}),r(),v(5,hC,1,0,"i",29),v(6,gC,1,0,"i",30),v(7,vC,5,4,"mat-error"),r()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.userAvailableCredit==null?null:i.fieldsInfo.userAvailableCredit.fieldTitle),o(),D("ngModel",i.dataModel.userAvailableCredit),_("disabled",!(i.fieldsInfo.userAvailableCredit!=null&&i.fieldsInfo.userAvailableCredit.accessEditField)),o(2),b(e.value?-1:5),o(),b(e.value?6:-1),o(),b(e.errors!=null&&e.errors.required?7:-1)}}function MC(n,s){n&1&&g(0,"i",29)}function IC(n,s){n&1&&g(0,"i",30)}function PC(n,s){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2){let e=d(2);o(),h(" ",e.fieldsInfo.userSumCredit==null?null:e.fieldsInfo.userSumCredit.fieldTitle," is "),o(2),A(C(4,2,"MESSAGE.required"))}}function wC(n,s){if(n&1){let e=P();a(0,"div",15)(1,"label",46),c(2),r(),a(3,"input",47,7),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.userSumCredit,t)||(l.dataModel.userSumCredit=t),u(t)}),r(),v(5,MC,1,0,"i",29),v(6,IC,1,0,"i",30),v(7,PC,5,4,"mat-error"),r()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.userSumCredit==null?null:i.fieldsInfo.userSumCredit.fieldTitle),o(),D("ngModel",i.dataModel.userSumCredit),_("disabled",!(i.fieldsInfo.userSumCredit!=null&&i.fieldsInfo.userSumCredit.accessEditField)),o(2),b(e.value?-1:5),o(),b(e.value?6:-1),o(),b(e.errors!=null&&e.errors.required?7:-1)}}function EC(n,s){n&1&&(a(0,"mat-error"),c(1," Description is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.required")))}function DC(n,s){if(n&1&&(g(0,"img",21),S(1,"cmsthumbnail")),n&2){let e=d();_("src",R(C(1,2,e.dataModel.linkMainImageIdSrc)),K)}}function yC(n,s){if(n&1){let e=P();a(0,"div",25)(1,"button",48),M("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",49),c(3),S(4,"translate"),r(),a(5,"button",50),g(6,"i",51),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(13);o(3),h(" ",C(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var ia=class ia extends St{constructor(e,i,t,l,f,p,k,X){super(l,new Xt,p,X);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderSourceCompanyService=l;this.cmsToastrService=f;this.publicHelper=p;this.cdr=k;this.translate=X;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new pt;this.dataModel=new Xt;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){if(this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourceCompanyService.setAccessLoad(),this.dataProviderSourceCompanyService.setAccessDataType(Ne.Editor),this.dataProviderSourceCompanyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourceCompanyService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ia.\u0275fac=function(i){return new(i||ia)(I(le),I(re),I(ie),I(Zt),I(N),I(G),I(F),I(O))},ia.\u0275cmp=L({type:ia,selectors:[["app-data-provider-source-company-edit"]],viewQuery:function(i,t){if(i&1&&U(iC,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[W],decls:43,vars:45,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],["ServiceAvailableCredit",""],["ServiceSumCredit",""],["UserAvailableCredit",""],["UserSumCredit",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"d-flex","mb-3"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"pt-1"],["data-trigger-switch","dataModel.checkCredit",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.checkCredit","name","dataModel.checkCredit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.checkCredit",1,"custom-control-label"],["data-trigger-switch","dataModel.calculateCredit",1,"font-600","font-14"],["type","checkbox","id","dataModel.calculateCredit","name","dataModel.calculateCredit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.calculateCredit",1,"custom-control-label"],["for","dataModel.serviceAvailableCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.serviceAvailableCredit","currencyMask","","placeholder","0","required","","id","dataModel.serviceAvailableCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.serviceSumCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.serviceSumCredit","currencyMask","","placeholder","0","required","","id","dataModel.serviceSumCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userAvailableCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.userAvailableCredit","currencyMask","","placeholder","0","required","","id","dataModel.userAvailableCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userSumCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.userSumCredit","currencyMask","","placeholder","0","required","","id","dataModel.userSumCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",8),g(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),c(4),r(),a(5,"h4"),c(6),S(7,"translate"),r(),a(8,"p"),c(9),S(10,"translate"),r(),g(11,"app-cms-form-result-message",12),a(12,"form",13,0),M("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(14,nC,1,5,"app-cms-enum-record-status-selector",14),v(15,lC,10,8,"div",15),v(16,sC,8,2,"div",16),v(17,dC,8,2,"div",16),v(18,uC,8,6,"div",15),v(19,CC,8,6,"div",15),v(20,bC,8,6,"div",15),v(21,wC,8,6,"div",15),a(22,"div",15)(23,"label",17),c(24),r(),a(25,"textarea",18,1),T("ngModelChange",function(p){return m(l),y(t.dataModel.description,p)||(t.dataModel.description=p),u(p)}),r(),a(27,"em"),c(28),r(),v(29,EC,5,3,"mat-error"),r(),a(30,"div",19)(31,"a",20),S(32,"cmsthumbnail"),v(33,DC,2,4,"img",21),r()(),a(34,"div",15)(35,"label",22),M("click",function(){return m(l),u(t.fileManagerOpenForm=!0)}),c(36),S(37,"translate"),r(),a(38,"input",23,2),S(40,"translate"),T("ngModelChange",function(p){return m(l),y(t.dataModel.linkMainImageId,p)||(t.dataModel.linkMainImageId=p),u(p)}),M("click",function(){return m(l),u(t.fileManagerOpenForm=!0)}),r(),a(41,"cms-file-manager",24),M("itemSelected",function(p){return m(l),u(t.onActionFileSelected(p))}),T("openFormChange",function(p){return m(l),y(t.fileManagerOpenForm,p)||(t.fileManagerOpenForm=p),u(p)}),r()(),v(42,yC,9,7,"div",25),r()()()}if(i&2){let l=x(26);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),A(C(7,35,"TITLE.DATA_PROVIDER_SOURCE_COMPANY")),o(3),h(" ",C(10,37,"TITLE.DATA_PROVIDER_SOURCE_COMPANY_DESCRIPTION")," "),o(2),_("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?14:-1),o(),b(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?15:-1),o(),b(t.fieldsInfo.checkCredit!=null&&t.fieldsInfo.checkCredit.accessWatchField?16:-1),o(),b(t.fieldsInfo.calculateCredit!=null&&t.fieldsInfo.calculateCredit.accessWatchField?17:-1),o(),b(t.fieldsInfo.serviceAvailableCredit!=null&&t.fieldsInfo.serviceAvailableCredit.accessWatchField?18:-1),o(),b(t.fieldsInfo.serviceSumCredit!=null&&t.fieldsInfo.serviceSumCredit.accessWatchField?19:-1),o(),b(t.fieldsInfo.userAvailableCredit!=null&&t.fieldsInfo.userAvailableCredit.accessWatchField?20:-1),o(),b(t.fieldsInfo.userSumCredit!=null&&t.fieldsInfo.userSumCredit.accessWatchField?21:-1),o(3),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),D("ngModel",t.dataModel.description),o(3),h("",l.value.length," / 500"),o(),b(l.errors!=null&&l.errors.required?29:-1),o(2),_("href",R(C(32,39,t.dataModel.linkMainImageIdSrc)),K),o(2),b((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?33:-1),o(3),A(C(37,41,"TITLE.Icon_File")),o(2),_("placeholder",R(C(40,43,"TITLE.Original_File_ID"))),D("ngModel",t.dataModel.linkMainImageId),o(3),_("language",t.appLanguage)("isPopup",!0),D("openForm",t.fileManagerOpenForm),_("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),b(t.formInfo.submitButtonEnabled?42:-1)}},dependencies:[ge,$,ki,ee,Ce,Ee,De,ye,ce,he,qe,q,ve,j,Se,ei,Ht,B,Pe],encapsulation:2});var hr=ia;var TC=()=>[5,10,20,100];function AC(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",37),M("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",38)(3,"br"),r(),a(4,"p",19),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.ADD")," "))}function RC(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",39),M("click",function(){m(e);let t=d();return u(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",40)(3,"br"),r(),a(4,"p",19),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.EDIT")," "))}function xC(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",41),M("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",42)(3,"br"),r(),a(4,"p",19),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.DELETE")," "))}function kC(n,s){n&1&&(a(0,"mat-header-cell",43),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"TITLE.PICTURE")," "))}function LC(n,s){if(n&1&&g(0,"img",44),n&2){let e=d().$implicit;_("src",R(e.linkMainImageIdSrc),K)}}function VC(n,s){if(n&1&&(a(0,"mat-cell"),v(1,LC,1,2,"img",44),r()),n&2){let e=s.$implicit;o(),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function BC(n,s){if(n&1&&(a(0,"mat-header-cell",43),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function OC(n,s){if(n&1&&(a(0,"mat-cell",45),S(1,"statusCellClass"),g(2,"i",45),S(3,"statusIconClass"),r()),n&2){let e=s.$implicit;_("ngClass",C(1,2,e.recordStatus)),o(2),_("ngClass",C(3,4,e.recordStatus))}}function FC(n,s){if(n&1&&(a(0,"mat-header-cell",43),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function NC(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.title," ")}}function GC(n,s){n&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"TITLE.OPTION")," "))}function HC(n,s){if(n&1&&(a(0,"mat-cell",46)(1,"button",47)(2,"mat-icon"),c(3,"more_vert"),r()(),g(4,"mat-menu",null,2),r()),n&2){let e=x(5);o(),_("matMenuTriggerFor",e)}}function WC(n,s){n&1&&g(0,"mat-header-row")}function qC(n,s){if(n&1){let e=P();a(0,"mat-row",48),M("click",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var na=class na extends Ct{constructor(e,i,t,l,f,p,k,X,Ge,$e,Ke){super(e,new Xt,$e,f,k);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.router=l;this.tokenHelper=f;this.cdr=p;this.translate=k;this.cmsStoreService=X;this.pageInfo=Ge;this.publicHelper=$e;this.dialog=Ke;this.tableData=[];this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ae;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","recordStatus","title"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","recordStatus","title"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:dt=>this.onSubmitOptionsSearch(dt)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=oe.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Ie(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Xt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,t.isSuccess?(this.tableData=t.listItems,this.tableSource.data=t.listItems,this.sort&&(this.tableSource.sort=this.sort),this.paginator&&(this.tableSource.paginator=this.paginator),this.tableSource.filter="",this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=oe.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=oe.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=oe.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Cr,{height:"90%",panelClass:e,enterAnimationDuration:se.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:se.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(hr,{height:"90%",panelClass:i,enterAnimationDuration:se.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:se.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(f,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonSourceList(e=this.tableRowSelected,i){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/data-provider/main/source/list/LinkSourceCompanyId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/main/source/list/LinkSourceCompanyId",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new J;f.propertyName="recordStatus",f.value=ct.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};na.\u0275fac=function(i){return new(i||na)(I(Zt),I(N),I(Qt),I(Ye),I(ze),I(F),I(O),I(Qe),I(ft),I(G),I(je))},na.\u0275cmp=L({type:na,selectors:[["app-data-provider-source-company-list"]],viewQuery:function(i,t){if(i&1&&(U(Ue,5),U(pe,5)),i&2){let l;Q(l=z())&&(t.sort=l.first),Q(l=z())&&(t.paginator=l.first)}},standalone:!1,features:[W],decls:54,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-route","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list",3),T("optionActionGuideNoticeDisplayChange",function(p){return m(l),y(t.viewGuideNotice,p)||(t.viewGuideNotice=p),u(p)}),M("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionButtonPrintRow())}),w(1,4),c(2," -------------------------------------- "),E(),be(3,5)(4,6),w(5,7),a(6,"a",8),M("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),g(7,"i",9),r(),a(8,"a",8),M("click",function(){return m(l),u(t.onActionButtonReload())}),g(9,"i",10),r(),E(),w(10,11),a(11,"a",12),M("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(12,"mat-slide-toggle",13),c(13),S(14,"translate"),r(),a(15,"a",12),M("click",function(){return m(l),u(t.onActionButtonStatist())}),g(16,"mat-slide-toggle",13),c(17),S(18,"translate"),r(),E(),w(19,14),v(20,AC,7,3,"div",15),E(),w(21,16),v(22,RC,7,3,"div",15),v(23,xC,7,3,"div",15),a(24,"div",15)(25,"a",17),M("click",function(p){return m(l),u(t.onActionButtonSourceList(t.tableRowSelected,p))}),g(26,"i",18)(27,"br"),r(),a(28,"p",19),c(29),S(30,"translate"),r()(),E(),w(31,20),a(32,"app-cms-search-list",21),T("optionsChange",function(p){return m(l),y(t.optionsSearch,p)||(t.optionsSearch=p),u(p)}),r(),a(33,"app-cms-statist-list",21),T("optionsChange",function(p){return m(l),y(t.optionsStatist,p)||(t.optionsStatist=p),u(p)}),r(),E(),w(34,22),a(35,"mat-table",23,0),M("matSortChange",function(){m(l);let p=x(36);return u(t.onTableSortData(p))}),w(37,24),V(38,kC,3,3,"mat-header-cell",25)(39,VC,2,1,"mat-cell",26),E(),w(40,27),V(41,BC,2,1,"mat-header-cell",25)(42,OC,4,6,"mat-cell",28),E(),w(43,29),V(44,FC,2,1,"mat-header-cell",25)(45,NC,2,1,"mat-cell",26),E(),w(46,30),V(47,GC,3,3,"mat-header-cell",31)(48,HC,6,1,"mat-cell",32),E(),V(49,WC,1,0,"mat-header-row",33)(50,qC,1,2,"mat-row",34),r(),E(),w(51,35),a(52,"mat-paginator",36,1),M("page",function(p){return m(l),u(t.onTablePageingData(p))}),r(),E(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),h("",C(14,26,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),h("",C(18,28,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(6),h(" ",C(30,30,"ACTION.SOURCE")," "),o(3),D("options",t.optionsSearch),o(),D("options",t.optionsStatist),o(2),_("dataSource",t.tableSource),o(14),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(32,TC)))},dependencies:[xe,Ze,Je,Mt,It,pe,Te,Ue,tt,Pt,nt,wt,ot,it,Et,at,rt,Dt,yt,Ae,Re,Tt,ke,B,Le,en],encapsulation:2});var oa=na;var jC=()=>[5,10,20,100],UC=(n,s)=>s.id;function QC(n,s){if(n&1){let e=P();a(0,"div",13)(1,"a",22),M("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",23)(3,"br"),r(),a(4,"p",24),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.ADD")," "))}function zC(n,s){if(n&1){let e=P();a(0,"div",13)(1,"a",25),M("click",function(){m(e);let t=d();return u(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",26)(3,"br"),r(),a(4,"p",24),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.EDIT")," "))}function KC(n,s){if(n&1){let e=P();a(0,"div",13)(1,"a",27),M("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",28)(3,"br"),r(),a(4,"p",24),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.DELETE")," "))}function JC(n,s){if(n&1){let e=P();a(0,"div",13)(1,"a",6),M("click",function(t){m(e);let l=d();return u(l.onActionButtonSourceList(l.tableRowSelected,t))}),g(2,"i",29)(3,"br"),r(),a(4,"p",24),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.SOURCE")," "))}function XC(n,s){if(n&1&&(a(0,"div",32),g(1,"img",38),r()),n&2){let e=d().$implicit;o(),_("src",e.linkMainImageIdSrc,K)("alt",e.title||e.id)}}function YC(n,s){n&1&&(a(0,"div",33),g(1,"i",39),r())}function ZC(n,s){if(n&1&&(a(0,"div",36),g(1,"i",40),c(2),r()),n&2){let e=d().$implicit,i=d(2);o(2),de(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",e.id," ")}}function $C(n,s){if(n&1&&(a(0,"div",36),g(1,"i",41),S(2,"statusIconClass"),r()),n&2){let e=d().$implicit;o(),_("ngClass",C(2,1,e.recordStatus))}}function eh(n,s){if(n&1&&(a(0,"div",37)(1,"div",36)(2,"span",42),g(3,"i",43),r(),c(4),r()()),n&2){let e=d().$implicit;o(2),_("cdkCopyToClipboard",e.id.toString()),o(2),h(" ID: ",e.id," ")}}function th(n,s){if(n&1){let e=P();a(0,"div",31),M("click",function(t){let l=m(e).$implicit,f=d(2);return u(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d(2);return u(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d(2);return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d(2);return u(l.onActionTableRowMouseLeave(t))}),v(1,XC,2,2,"div",32)(2,YC,2,0,"div",33),a(3,"div",34)(4,"div",35),c(5),r(),v(6,ZC,3,2,"div",36),v(7,$C,3,3,"div",36),v(8,eh,5,2,"div",37),r()()}if(n&2){let e=s.$implicit,i=d(2);H("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),He("aria-label",e.title||e.id),o(),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:2),o(4),h(" ",e.title||"ID: "+e.id," "),o(),b(e.id?6:-1),o(),b(e.recordStatus!==void 0?7:-1),o(),b(i.getRowExpanded(e)?8:-1)}}function ih(n,s){if(n&1&&(a(0,"div",18),Be(1,th,9,8,"div",30,UC),r()),n&2){let e=d();o(),Oe(e.dataModelResult.listItems)}}function nh(n,s){n&1&&(a(0,"div",19),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"MESSAGE.NoRecord")," "))}var On=class On extends oa{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(e){return e.expanded===!0}};On.\u0275fac=(()=>{let e;return function(t){return(e||(e=Rt(On)))(t||On)}})(),On.\u0275cmp=L({type:On,selectors:[["app-data-provider-source-company-list-mobile"]],hostBindings:function(i,t){i&1&&M("click",function(f){return t.onDocumentClick(f)},bt)},standalone:!1,features:[W],decls:33,vars:31,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-route","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item",3,"selected"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image"],[1,"cms-m-list-item-image-placeholder"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["loading","lazy",3,"src","alt"],["aria-hidden","true",1,"fa-solid","fa-building"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],[3,"ngClass"],[1,"navi-icon","pointer",3,"cdkCopyToClipboard"],[1,"flaticon2-copy"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list-mobile",1),T("optionActionGuideNoticeDisplayChange",function(p){return m(l),y(t.viewGuideNotice,p)||(t.viewGuideNotice=p),u(p)}),M("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionButtonPrintRow())}),be(1,2)(2,3)(3,4),w(4,5),a(5,"a",6),M("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),g(6,"i",7),r(),a(7,"a",6),M("click",function(){return m(l),u(t.onActionButtonReload())}),g(8,"i",8),r(),E(),w(9,9),a(10,"a",10),M("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(11,"mat-slide-toggle",11),c(12),S(13,"translate"),r(),a(14,"a",10),M("click",function(){return m(l),u(t.onActionButtonStatist())}),g(15,"mat-slide-toggle",11),c(16),S(17,"translate"),r(),E(),w(18,12),v(19,QC,7,3,"div",13),E(),w(20,14),v(21,zC,7,3,"div",13),v(22,KC,7,3,"div",13),v(23,JC,7,3,"div",13),E(),w(24,15),a(25,"app-cms-search-list",16),T("optionsChange",function(p){return m(l),y(t.optionsSearch,p)||(t.optionsSearch=p),u(p)}),r(),a(26,"app-cms-statist-list",16),T("optionsChange",function(p){return m(l),y(t.optionsStatist,p)||(t.optionsStatist=p),u(p)}),r(),E(),w(27,17),v(28,ih,3,0,"div",18)(29,nh,3,3,"div",19),E(),w(30,20),a(31,"mat-paginator",21,0),M("page",function(p){return m(l),u(t.onTablePageingData(p))}),r(),E(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(8),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),h("",C(13,26,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),h("",C(17,28,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?19:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?21:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?22:-1),o(),b((t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?23:-1),o(2),D("options",t.optionsSearch),o(),D("options",t.optionsStatist),o(2),b(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?28:29),o(3),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(30,jC)))},dependencies:[xe,pe,Te,Xe,Ae,Re,kt,ke,B,Le],styles:[".cms-m-body[_ngcontent-%COMP%]{min-height:100vh;background:var(--cms-m-bg, #0f172a);color:var(--cms-m-fg, #e2e8f0)}.cms-m-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2;background:var(--cms-m-header-bg, #0f172a);border-bottom:1px solid rgba(255,255,255,.08)}.cms-m-header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 16px}.cms-m-header-title[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:var(--cms-m-accent, #38bdf8)}.cms-m-header-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-left:auto}.cms-m-header-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:#ffffff0d;color:#e2e8f0;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.cms-m-header-action-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.cms-m-header-action-btn.active[_ngcontent-%COMP%]{background:#38bdf833;border-color:#38bdf866}.cms-m-header-action-btn[_ngcontent-%COMP%]   i.rotation360[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotation360 1s linear infinite}@keyframes _ngcontent-%COMP%_rotation360{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.cms-m-search-area[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px 16px}.cms-m-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.cms-m-list-item[_ngcontent-%COMP%]{display:flex;gap:12px;padding:12px;border-radius:14px;background:#ffffff0a;border:1px solid rgba(255,255,255,.06);cursor:pointer;transition:all .2s ease}.cms-m-list-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.cms-m-list-item.selected[_ngcontent-%COMP%]{border-color:var(--cms-m-accent, #38bdf8);box-shadow:0 0 0 1px #38bdf84d}.cms-m-list-item-image[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;overflow:hidden;flex-shrink:0}.cms-m-list-item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:grid;place-items:center;background:#38bdf81f;color:#38bdf8;flex-shrink:0}.cms-m-list-item-content[_ngcontent-%COMP%]{flex:1;min-width:0}.cms-m-list-item-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:4px;font-size:14px}.cms-m-list-item-subtitle[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8}.cms-m-list-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0}.cms-m-empty[_ngcontent-%COMP%]{padding:24px;text-align:center;color:#94a3b8}"]});var gr=On;var oh=["vform"];function ah(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",14),T("modelChange",function(t){m(e);let l=d();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=d();D("model",e.dataModel.recordStatus),_("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionSelectFirstItem",!0)}}function rh(n,s){if(n&1){let e=P();a(0,"div",11)(1,"label",15),c(2),r(),a(3,"input",16,1),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.title,t)||(l.dataModel.title=t),u(t)}),r(),a(5,"em"),c(6),r()()}if(n&2){let e=x(4),i=d();o(2),h(" ",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," "),o(),_("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),D("ngModel",i.dataModel.title),o(3),h("",(e.value==null?null:e.value.length)||0," / 128")}}function lh(n,s){if(n&1){let e=P();a(0,"app-data-provider-source-path-selector",17),M("optionChange",function(t){m(e);let l=d();return u(l.onActionSelectorSourcePath(t))}),r()}if(n&2){let e=d();_("optionSelectForce",e.dataModel.linkSourcePathId)("optionPlaceholder",e.fieldsInfo.linkSourcePathId==null?null:e.fieldsInfo.linkSourcePathId.fieldTitle)("optionDisabled",!((e.fieldsInfo.linkSourcePathId==null?null:e.fieldsInfo.linkSourcePathId.accessEditField)??!1))}}function sh(n,s){if(n&1){let e=P();a(0,"div",11)(1,"label",18),c(2),r(),a(3,"input",19,2),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.servicePricePerPage,t)||(l.dataModel.servicePricePerPage=t),u(t)}),r()()}if(n&2){let e=d();o(2),h(" ",e.fieldsInfo.servicePricePerPage==null?null:e.fieldsInfo.servicePricePerPage.fieldTitle," "),o(),_("placeholder",R(e.fieldsInfo.servicePricePerPage==null?null:e.fieldsInfo.servicePricePerPage.fieldTitle)),D("ngModel",e.dataModel.servicePricePerPage)}}function dh(n,s){if(n&1){let e=P();a(0,"div",11)(1,"label",20),c(2),r(),a(3,"input",21,3),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.endUserPricePerPage,t)||(l.dataModel.endUserPricePerPage=t),u(t)}),r()()}if(n&2){let e=d();o(2),h(" ",e.fieldsInfo.endUserPricePerPage==null?null:e.fieldsInfo.endUserPricePerPage.fieldTitle," "),o(),_("placeholder",R(e.fieldsInfo.endUserPricePerPage==null?null:e.fieldsInfo.endUserPricePerPage.fieldTitle)),D("ngModel",e.dataModel.endUserPricePerPage)}}function ch(n,s){if(n&1){let e=P();a(0,"div",13)(1,"button",22),M("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",23),c(3),S(4,"translate"),r(),a(5,"button",24),g(6,"i",25),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),h(" ",C(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var aa=class aa extends _t{constructor(e,i,t,l,f,p,k,X){super(l,new sn,p,X);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.contentService=l;this.cmsToastrService=f;this.publicHelper=p;this.cdr=k;this.translate=X;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResult=new Y;this.dataModel=new sn;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contentService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSourcePath(e){if(!e||!e.id){this.dataModel.linkSourcePathId="";return}this.dataModel.linkSourcePathId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};aa.\u0275fac=function(i){return new(i||aa)(I(le),I(re),I(ie),I(cn),I(N),I(G),I(F),I(O))},aa.\u0275cmp=L({type:aa,selectors:[["app-data-provider-source-path-pagination-add"]],viewQuery:function(i,t){if(i&1&&U(oh,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[W],decls:17,vars:12,consts:[["vform","ngForm"],["Title",""],["ServicePricePerPage",""],["EndUserPricePerPage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionLabel","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[3,"optionSelectForce","optionPlaceholder","optionDisabled"],[1,"form-actions"],[3,"modelChange","model","optionLabel","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","128","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["for","dataModel.servicePricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.servicePricePerPage","id","dataModel.servicePricePerPage",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.endUserPricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.endUserPricePerPage","id","dataModel.endUserPricePerPage",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",4),g(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),c(4),r(),a(5,"h4"),c(6),S(7,"translate"),r(),g(8,"app-cms-form-result-message",8),a(9,"form",9,0),M("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(11,ah,1,3,"app-cms-enum-record-status-selector",10),v(12,rh,7,5,"div",11),v(13,lh,1,3,"app-data-provider-source-path-selector",12),v(14,sh,5,4,"div",11),v(15,dh,5,4,"div",11),v(16,ch,9,7,"div",13),r()()()}i&2&&(o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),A(C(7,10,"TITLE.DataProviderSourcePathPagination")),o(2),_("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),b(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?12:-1),o(),b(t.fieldsInfo.linkSourcePathId!=null&&t.fieldsInfo.linkSourcePathId.accessWatchField?13:-1),o(),b(t.fieldsInfo.servicePricePerPage!=null&&t.fieldsInfo.servicePricePerPage.accessWatchField?14:-1),o(),b(t.fieldsInfo.endUserPricePerPage!=null&&t.fieldsInfo.endUserPricePerPage.accessWatchField?15:-1),o(),b(t.formInfo.submitButtonEnabled?16:-1))},dependencies:[ge,$,Li,ee,Ce,Ee,De,ye,ce,he,q,ve,j,Se,ei,tn,B],encapsulation:2});var vr=aa;var ph=["vform"];function mh(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",17),T("modelChange",function(t){m(e);let l=d();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=d();D("model",e.dataModel.recordStatus),_("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionSelectFirstItem",!0)}}function uh(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",18),c(2),r(),a(3,"input",19,2),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.title,t)||(l.dataModel.title=t),u(t)}),r(),a(5,"em"),c(6),r()()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),D("ngModel",i.dataModel.title),o(3),h("",(e.value==null?null:e.value.length)||0," / 128")}}function fh(n,s){if(n&1){let e=P();a(0,"app-data-provider-source-path-selector",20),M("optionChange",function(t){m(e);let l=d();return u(l.onActionSelectorSourcePath(t))}),r()}if(n&2){let e=d();_("optionSelectForce",e.dataModel.linkSourcePathId)("optionPlaceholder",e.fieldsInfo.linkSourcePathId==null?null:e.fieldsInfo.linkSourcePathId.fieldTitle)("optionDisabled",!((e.fieldsInfo.linkSourcePathId==null?null:e.fieldsInfo.linkSourcePathId.accessEditField)??!1))}}function _h(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",21),c(2),r(),a(3,"input",22,3),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.servicePricePerPage,t)||(l.dataModel.servicePricePerPage=t),u(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.servicePricePerPage==null?null:e.fieldsInfo.servicePricePerPage.fieldTitle),o(),_("placeholder",R(e.fieldsInfo.servicePricePerPage==null?null:e.fieldsInfo.servicePricePerPage.fieldTitle)),D("ngModel",e.dataModel.servicePricePerPage)}}function Sh(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",23),c(2),r(),a(3,"input",24,4),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.endUserPricePerPage,t)||(l.dataModel.endUserPricePerPage=t),u(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.endUserPricePerPage==null?null:e.fieldsInfo.endUserPricePerPage.fieldTitle),o(),_("placeholder",R(e.fieldsInfo.endUserPricePerPage==null?null:e.fieldsInfo.endUserPricePerPage.fieldTitle)),D("ngModel",e.dataModel.endUserPricePerPage)}}function Ch(n,s){if(n&1){let e=P();a(0,"div",16)(1,"button",25),M("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",26),c(3),S(4,"translate"),r(),a(5,"button",27),g(6,"i",28),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(7);o(3),h(" ",C(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var ra=class ra extends St{constructor(e,i,t,l,f,p,k){super(t,new sn,f,k);this.data=e;this.dialogRef=i;this.contentService=t;this.cmsToastrService=l;this.publicHelper=f;this.cdr=p;this.translate=k;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new pt;this.dataModel=new sn;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){if(this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contentService.setAccessLoad(),this.contentService.setAccessDataType(Ne.Editor),this.contentService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contentService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSourcePath(e){if(!e||!e.id){this.dataModel.linkSourcePathId="";return}this.dataModel.linkSourcePathId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ra.\u0275fac=function(i){return new(i||ra)(I(le),I(re),I(cn),I(N),I(G),I(F),I(O))},ra.\u0275cmp=L({type:ra,selectors:[["app-data-provider-source-path-pagination-edit"]],viewQuery:function(i,t){if(i&1&&U(ph,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[W],decls:19,vars:13,consts:[["vform","ngForm"],["Id",""],["Title",""],["ServicePricePerPage",""],["EndUserPricePerPage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionLabel","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.id",1,"color-highlight"],["matInput","","type","text","name","dataModel.Id","id","dataModel.id","disabled","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionSelectForce","optionPlaceholder","optionDisabled"],[1,"form-actions"],[3,"modelChange","model","optionLabel","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","128","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["for","dataModel.servicePricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.servicePricePerPage","id","dataModel.servicePricePerPage",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.endUserPricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.endUserPricePerPage","id","dataModel.endUserPricePerPage",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",5),g(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),c(4),r(),g(5,"app-cms-form-result-message",9),a(6,"form",10,0),M("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(8,mh,1,3,"app-cms-enum-record-status-selector",11),a(9,"div",12)(10,"label",13),c(11),r(),a(12,"input",14,1),T("ngModelChange",function(p){return m(l),y(t.dataModel.id,p)||(t.dataModel.id=p),u(p)}),r()(),v(14,uh,7,5,"div",12),v(15,fh,1,3,"app-data-provider-source-path-selector",15),v(16,_h,5,4,"div",12),v(17,Sh,5,4,"div",12),v(18,Ch,9,7,"div",16),r()()()}i&2&&(o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(),_("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?8:-1),o(3),A(t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle)),D("ngModel",t.dataModel.id),o(2),b(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?14:-1),o(),b(t.fieldsInfo.linkSourcePathId!=null&&t.fieldsInfo.linkSourcePathId.accessWatchField?15:-1),o(),b(t.fieldsInfo.servicePricePerPage!=null&&t.fieldsInfo.servicePricePerPage.accessWatchField?16:-1),o(),b(t.fieldsInfo.endUserPricePerPage!=null&&t.fieldsInfo.endUserPricePerPage.accessWatchField?17:-1),o(),b(t.formInfo.submitButtonEnabled?18:-1))},dependencies:[ge,$,Li,ee,Ce,Ee,De,ye,ce,he,q,ve,j,Se,ei,tn,B],encapsulation:2});var br=ra;var hh=()=>[10,20,50,100];function gh(n,s){if(n&1){let e=P();a(0,"a",38),M("click",function(){m(e);let t=d();return u(t.onActionbuttonNewRow())}),g(1,"i",39),c(2),S(3,"translate"),r()}n&2&&(o(2),h(" ",C(3,1,"ACTION.ADD")," "))}function vh(n,s){if(n&1){let e=P();a(0,"a",40),M("click",function(){m(e);let t=d();return u(t.onActionbuttonEditRow(t.tableRowSelected))}),g(1,"i",41),c(2),S(3,"translate"),r()}n&2&&(o(2),h(" ",C(3,1,"ACTION.EDIT")," "))}function bh(n,s){if(n&1){let e=P();a(0,"a",42),M("click",function(){m(e);let t=d();return u(t.onActionbuttonDeleteRow(t.tableRowSelected))}),g(1,"i",43),c(2),S(3,"translate"),r()}n&2&&(o(2),h(" ",C(3,1,"ACTION.DELETE")," "))}function Mh(n,s){n&1&&(a(0,"mat-header-cell",44),c(1," ID "),r())}function Ih(n,s){if(n&1){let e=P();a(0,"mat-cell"),c(1),a(2,"button",45),M("click",function(){m(e);let t=d();return u(t.onActionCopied())}),a(3,"mat-icon"),c(4,"content_copy"),r()()()}if(n&2){let e=s.$implicit;o(),h(" ",e.id," "),o(),_("cdkCopyToClipboard",e.id)}}function Ph(n,s){n&1&&(a(0,"mat-header-cell",46),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"TITLE.Title")," "))}function wh(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),A(e.title)}}function Eh(n,s){n&1&&(a(0,"mat-header-cell",47),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"TITLE.SOURCEPATH")," "))}function Dh(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),A(e.linkSourcePathId)}}function yh(n,s){n&1&&(a(0,"mat-header-cell",48),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"TITLE.SERVICE_PRICE_PER_PAGE")," "))}function Th(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"number"),r()),n&2){let e=s.$implicit;o(),h(" ",C(2,1,e.servicePricePerPage)," ")}}function Ah(n,s){n&1&&(a(0,"mat-header-cell",49),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"TITLE.ENDUSER_PRICE_PER_PAGE")," "))}function Rh(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"number"),r()),n&2){let e=s.$implicit;o(),h(" ",C(2,1,e.endUserPricePerPage)," ")}}function xh(n,s){if(n&1&&(a(0,"mat-header-cell",50),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function kh(n,s){if(n&1&&(a(0,"mat-cell",51),S(1,"statusCellClass"),g(2,"i",51),S(3,"statusIconClass"),r()),n&2){let e=s.$implicit;_("ngClass",C(1,2,e.recordStatus)),o(2),_("ngClass",C(3,4,e.recordStatus))}}function Lh(n,s){n&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"TITLE.OPTION")," "))}function Vh(n,s){if(n&1&&(a(0,"mat-cell",52)(1,"button",53)(2,"mat-icon"),c(3,"more_vert"),r()(),g(4,"mat-menu",null,1),r()),n&2){let e=x(5);o(),_("matMenuTriggerFor",e)}}function Bh(n,s){n&1&&g(0,"mat-header-row")}function Oh(n,s){if(n&1){let e=P();a(0,"mat-row",54),M("click",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowSelect(t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-table-row-selected",(i.tableRowSelected==null?null:i.tableRowSelected.id)===e.id)}}var la=class la extends Ct{constructor(e,i,t,l,f,p,k,X,Ge,$e){super(e,new sn,Ge,l,p);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.tokenHelper=l;this.cdr=f;this.translate=p;this.cmsStoreService=k;this.pageInfo=X;this.publicHelper=Ge;this.dialog=$e;this.tableData=[];this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new ae;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","title","id","linkSourcePathId","servicePricePerPage","endUserPricePerPage","action"];this.tabledisplayedColumnsMobileSource=["recordStatus","title","id","linkSourcePathId","action"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ke=>this.onSubmitOptionsSearch(Ke)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=oe.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Ie(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let i=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new sn);let e=this.constructor.name+".DataGetAll";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.tableData=t.listItems,this.tableSource.data=t.listItems,this.sort&&(this.tableSource.sort=this.sort),this.paginator&&(this.tableSource.paginator=this.paginator),this.tableSource.filter="",this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.dataModelResult=t,this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active&&this.tableSource.sort.direction==="asc"?e.direction="desc":e.direction="asc",this.tableSource.sort=e,this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=e.direction.toUpperCase()==="DESC"?oe.Descending:oe.Ascending,this.tableSource.data=this.tableSource.filteredData,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionbuttonNewRow(){if(this.tokenInfo==null||!this.dataModelResult?.access?.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}this.dialog.open(vr,{height:"90%",data:{}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionbuttonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.tokenInfo==null||!this.dataModelResult?.access?.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.dialog.open(br,{height:"90%",data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionbuttonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){let t=this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow");this.cmsToastrService.typeErrorSelected(t);return}if(this.onActionTableRowSelect(e),this.tokenInfo==null||!this.dataModelResult?.access?.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}let i=e.title;this.cmsConfirmationDialogService.confirm(this.translate.instant("MESSAGE.Pay_Attention"),this.translate.instant("MESSAGE.Delete",{0:i})).then(t=>{t&&this.contentService.ServiceDelete(e.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorMessage(l.errorMessage)},error:l=>{this.cmsToastrService.typeError(l)}})})}onActionbuttonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){let i=this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow");this.cmsToastrService.typeErrorSelected(i);return}this.onActionTableRowSelect(e)}onActionButtonReload(){this.DataGetAll()}onActionButtonStatist(e){e!==void 0?this.optionsStatist.data.show=e:this.optionsStatist.data.show=!this.optionsStatist.data.show}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){this.filteModelContent.filters=e,this.DataGetAll()}};la.\u0275fac=function(i){return new(i||la)(I(cn),I(N),I(Qt),I(ze),I(F),I(O),I(Qe),I(ft),I(G),I(je))},la.\u0275cmp=L({type:la,selectors:[["app-data-provider-source-path-pagination-list"]],viewQuery:function(i,t){if(i&1&&(U(Ue,5),U(pe,5)),i&2){let l;Q(l=z())&&(t.sort=l.first),Q(l=z())&&(t.paginator=l.first)}},standalone:!1,features:[W],decls:48,vars:23,consts:[["tableSort","matSort"],["actionMenu","matMenu"],[3,"optionsListInfoAreaId"],["cms-action-header-start",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-rotate-right","font-18"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["cms-action-row",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","id",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","title"],["mat-sort-header","title",4,"matHeaderCellDef"],["matColumnDef","linkSourcePathId"],["mat-sort-header","linkSourcePathId",4,"matHeaderCellDef"],["matColumnDef","servicePricePerPage"],["mat-sort-header","servicePricePerPage",4,"matHeaderCellDef"],["matColumnDef","endUserPricePerPage"],["mat-sort-header","endUserPricePerPage",4,"matHeaderCellDef"],["matColumnDef","recordStatus"],["mat-sort-header","",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-table-row-selected","click",4,"matRowDef","matRowDefColumns"],[3,"page","length","pageSize","pageSizeOptions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18"],["mat-sort-header","id"],["type","button","mat-icon-button","","aria-label","copy-id",3,"click","cdkCopyToClipboard"],["mat-sort-header","title"],["mat-sort-header","linkSourcePathId"],["mat-sort-header","servicePricePerPage"],["mat-sort-header","endUserPricePerPage"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list",2),w(1,3),a(2,"a",4),M("click",function(){return m(l),u(t.onActionButtonReload())}),g(3,"i",5),r(),E(),w(4,6),a(5,"a",7),M("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(6,"mat-slide-toggle",8),c(7),S(8,"translate"),r(),a(9,"a",7),M("click",function(){return m(l),u(t.onActionButtonStatist())}),g(10,"mat-slide-toggle",8),c(11),S(12,"translate"),r(),E(),w(13,9),v(14,gh,4,3,"a",10),E(),w(15,11),v(16,vh,4,3,"a",12),v(17,bh,4,3,"a",13),E(),w(18,14),a(19,"app-cms-search-list",15),T("optionsChange",function(p){return m(l),y(t.optionsSearch,p)||(t.optionsSearch=p),u(p)}),r(),a(20,"app-cms-statist-list",15),T("optionsChange",function(p){return m(l),y(t.optionsStatist,p)||(t.optionsStatist=p),u(p)}),r(),E(),w(21,16),a(22,"mat-table",17,0),M("matSortChange",function(){m(l);let p=x(23);return u(t.onTableSortData(p))}),w(24,18),V(25,Mh,2,0,"mat-header-cell",19)(26,Ih,5,2,"mat-cell",20),E(),w(27,21),V(28,Ph,3,3,"mat-header-cell",22)(29,wh,2,1,"mat-cell",20),E(),w(30,23),V(31,Eh,3,3,"mat-header-cell",24)(32,Dh,2,1,"mat-cell",20),E(),w(33,25),V(34,yh,3,3,"mat-header-cell",26)(35,Th,3,3,"mat-cell",20),E(),w(36,27),V(37,Ah,3,3,"mat-header-cell",28)(38,Rh,3,3,"mat-cell",20),E(),w(39,29),V(40,xh,2,1,"mat-header-cell",30)(41,kh,4,6,"mat-cell",31),E(),w(42,32),V(43,Lh,3,3,"mat-header-cell",33)(44,Vh,6,1,"mat-cell",34),E(),V(45,Bh,1,0,"mat-header-row",35)(46,Oh,1,2,"mat-row",36),r(),a(47,"mat-paginator",37),M("page",function(p){return m(l),u(t.onTablePageingData(p))}),r(),E(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId),o(3),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),h(" ",C(8,18,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),h(" ",C(12,20,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?14:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?16:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?17:-1),o(2),D("options",t.optionsSearch),o(),D("options",t.optionsStatist),o(2),_("dataSource",t.tableSource),o(23),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(),_("length",t.dataModelResult.totalRowCount)("pageSize",t.filteModelContent.rowPerPage)("pageSizeOptions",_e(22,hh)))},dependencies:[xe,Ze,Je,Mt,It,pe,Te,Ue,tt,Pt,nt,wt,ot,it,Et,at,rt,Dt,yt,Xe,Ae,Re,Tt,Un,B,Le,en],encapsulation:2});var sa=la;var Fh=(n,s)=>s.id;function Nh(n,s){if(n&1){let e=P();a(0,"button",3),M("click",function(){m(e);let t=d();return u(t.onActionbuttonNewRow())}),c(1),S(2,"translate"),r()}n&2&&(o(),h(" ",C(2,1,"ACTION.ADD")," "))}function Gh(n,s){if(n&1){let e=P();a(0,"div",9),M("click",function(){let t=m(e).$implicit,l=d(2);return u(l.onActionTableRowSelect(t))}),a(1,"div",10),c(2),r(),a(3,"div",11),c(4),S(5,"translate"),r(),a(6,"div",11),c(7),S(8,"translate"),S(9,"number"),r(),a(10,"div",11),c(11),S(12,"translate"),S(13,"number"),r()()}if(n&2){let e=s.$implicit,i=d(2);H("selected",(i.tableRowSelected==null?null:i.tableRowSelected.id)===e.id),o(2),A(e.title),o(2),de(" ",C(5,9,"TITLE.SOURCEPATH"),": ",e.linkSourcePathId," "),o(3),de(" ",C(8,11,"TITLE.SERVICE_PRICE_PER_PAGE"),": ",C(9,13,e.servicePricePerPage)," "),o(4),de(" ",C(12,15,"TITLE.ENDUSER_PRICE_PER_PAGE"),": ",C(13,17,e.endUserPricePerPage)," ")}}function Hh(n,s){if(n&1&&(a(0,"div",6),Be(1,Gh,14,19,"div",8,Fh),r()),n&2){let e=d();o(),Oe(e.tableData)}}function Wh(n,s){n&1&&(a(0,"div",7),c(1),S(2,"translate"),r()),n&2&&(o(),A(C(2,1,"MESSAGE.No_record_found")))}var Fn=class Fn extends sa{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(e){return e.expanded===!0}};Fn.\u0275fac=(()=>{let e;return function(t){return(e||(e=Rt(Fn)))(t||Fn)}})(),Fn.\u0275cmp=L({type:Fn,selectors:[["app-data-provider-source-path-pagination-list-mobile"]],hostBindings:function(i,t){i&1&&M("click",function(f){return t.onDocumentClick(f)},bt)},standalone:!1,features:[W],decls:10,vars:6,consts:[[1,"cms-m-wrapper","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-actions"],[1,"btn",3,"click"],[1,"btn"],[1,"cms-m-content"],[1,"cms-m-list"],[1,"cms-m-empty"],[1,"cms-m-list-item",3,"selected"],[1,"cms-m-list-item",3,"click"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"]],template:function(i,t){i&1&&(a(0,"div",0),g(1,"app-progress-spinner",1),a(2,"div",2)(3,"button",3),M("click",function(){return t.onActionButtonReload()}),c(4),S(5,"translate"),r(),v(6,Nh,3,3,"button",4),r(),a(7,"div",5),v(8,Hh,3,0,"div",6)(9,Wh,3,3,"div",7),r()()),i&2&&(o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",C(5,4,"ACTION.RELOAD")," "),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?6:-1),o(2),b(t.tableData&&t.tableData.length>0?8:9))},dependencies:[j,Un,B],styles:[".cms-m-wrapper[_ngcontent-%COMP%]{padding:12px}.cms-m-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:12px}.cms-m-list-item[_ngcontent-%COMP%]{padding:12px;border:1px solid #e0e0e0;border-radius:8px;margin-bottom:8px}.cms-m-list-item.selected[_ngcontent-%COMP%]{border-color:#1976d2;background:#e8f1fb}"]});var Mr=Fn;var qh=["*"];function jh(n,s){if(n&1&&(a(0,"label",3),c(1),r()),n&2){let e=d();_("for",Wt("app-cms-site-selector-",e.id)),o(),A(e.optionLabel)}}function Uh(n,s){if(n&1&&(g(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=d();_("src",R(C(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),K)}}function Qh(n,s){if(n&1&&(g(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;_("src",R(C(1,2,e.linkMainImageIdSrc)),K)}}function zh(n,s){if(n&1&&(a(0,"mat-option",8),v(1,Qh,2,4,"img",5),a(2,"span"),c(3),r()()),n&2){let e=s.$implicit,i=d();_("value",e)("disabled",i.optionDisabled),o(),b(e.linkMainImageIdSrc?1:-1),o(2),A(i.displayOption(e))}}function Kh(n,s){n&1&&g(0,"i",9)}function Jh(n,s){n&1&&g(0,"i",10)}function Xh(n,s){if(n&1){let e=P();a(0,"i",13),M("click",function(){m(e);let t=d();return u(t.onActionSelectClear())}),r()}}function Yh(n,s){n&1&&(a(0,"em"),c(1),S(2,"translate"),r()),n&2&&(o(),h("(",C(2,1,"TITLE.Necessary"),")"))}var hn=class hn{constructor(s,e,i,t,l,f){this.coreEnumService=s;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=l;this.categoryService=f;this.id=++hn.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Y;this.dataModelSelect=new Xt;this.formControl=new pi;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new xt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Pi(""),Mi(1500),Ii(),wi(s=>typeof s=="string"||typeof s=="number"?this.DataGetAll(s||""):[]))}displayFn(s){return s?s.title:void 0}displayOption(s){return s?s.title:void 0}DataGetAll(s){return Ie(this,null,function*(){let e=new ae;e.rowPerPage=20,e.accessLoad=!0;let i=new J;i.propertyName="title",i.value=s,i.searchType=qt.Contains,i.clauseType=Ut.Or,e.filters.push(i),s&&typeof+s=="number"&&+s>0&&(i=new J,i.propertyName="id",i.value=s,i.searchType=qt.Equal,i.clauseType=Ut.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.get_information_list").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),yield vi(this.categoryService.ServiceGetAll(e)).then(l=>(this.dataModelResult=l,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||(typeof this.dataModelSelect.id=="string"?this.dataModelSelect.id.length===0:this.dataModelSelect.id<=0))&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),l.listItems))})}onActionSelect(s){this.optionDisabled||(this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(s){return this.filteredOptions.pipe(bi(e=>(e.find(i=>i.id===s.id)||e.push(s),e)))}onActionSelectForce(s){if(typeof s=="number"&&s>0&&(s=s.toString()),typeof s=="string"&&s.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===s)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===s)){let e=this.dataModelResult.listItems.find(i=>i.id===s);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(s).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof s==typeof Xt){this.filteredOptions=this.push(s),this.dataModelSelect=s,this.formControl.setValue(s);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Xt,this.loadOptions()}};hn.nextId=0,hn.\u0275fac=function(e){return new(e||hn)(I(ie),I(N),I(F),I(G),I(O),I(Zt))},hn.\u0275cmp=L({type:hn,selectors:[["app-data-provider-source-company-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:qh,decls:18,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=P();qi(),a(0,"div",1),g(1,"app-progress-spinner",2),v(2,jh,2,3,"label",3),a(3,"span",4),v(4,Uh,2,4,"img",5),r(),g(5,"input",6),a(6,"mat-autocomplete",7,0),M("optionSelected",function(f){return m(t),u(i.onActionSelect(f.option.value))}),Be(8,zh,4,4,"mat-option",8,Ei),S(10,"async"),r(),v(11,Kh,1,0,"i",9),v(12,Jh,1,0,"i",10),v(13,Xh,1,0,"i",11),a(14,"i",12),S(15,"translate"),M("click",function(){return m(t),u(i.onActionButtonReload())}),r(),v(16,Yh,3,3,"em"),ji(17),r()}if(e&2){let t=x(7);o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(),b((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),b(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),_("placeholder",R(i.optionPlaceholder))("id",Wt("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),He("disabled",i.optionDisabled?!0:null),o(),_("displayWith",i.displayFn),o(2),Oe(C(10,20,i.filteredOptions)),o(3),b(i.formControl.valid?-1:11),o(),b(i.optionRequired&&i.formControl.valid?12:-1),o(),b((i.dataModelSelect==null?null:i.dataModelSelect.id)>0?13:-1),o(),H("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),_("title",R(C(15,22,"ACTION.RELOAD"))),o(2),b(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(typeof i.dataModelSelect.id=="string"?i.dataModelSelect.id.length===0:i.dataModelSelect.id<=0))?16:-1)}},dependencies:[$,ee,Ee,Vi,Fi,Bi,Ni,Xi,q,j,Fe,B,Pe],encapsulation:2});var da=hn;var Zh=["*"];function $h(n,s){if(n&1&&(a(0,"label",3),c(1),r()),n&2){let e=d();_("for",Wt("app-cms-site-selector-",e.id)),o(),A(e.optionLabel)}}function eg(n,s){if(n&1&&(g(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=d();_("src",R(C(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),K)}}function tg(n,s){if(n&1&&(g(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;_("src",R(C(1,2,e.linkMainImageIdSrc)),K)}}function ig(n,s){if(n&1&&(a(0,"mat-option",8),v(1,tg,2,4,"img",5),a(2,"span"),c(3),r()()),n&2){let e=s.$implicit,i=d();_("value",e)("disabled",i.optionDisabled),o(),b(e.linkMainImageIdSrc?1:-1),o(2),A(i.displayOption(e))}}function ng(n,s){n&1&&g(0,"i",9)}function og(n,s){n&1&&g(0,"i",10)}function ag(n,s){if(n&1){let e=P();a(0,"i",13),M("click",function(){m(e);let t=d();return u(t.onActionSelectClear())}),r()}}function rg(n,s){n&1&&(a(0,"em"),c(1),S(2,"translate"),r()),n&2&&(o(),h("(",C(2,1,"TITLE.Necessary"),")"))}var gn=class gn{constructor(s,e,i,t,l,f){this.coreEnumService=s;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=l;this.categoryService=f;this.id=++gn.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Y;this.dataModelSelect=new Ti;this.formControl=new pi;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new xt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Pi(""),Mi(1500),Ii(),wi(s=>typeof s=="string"?this.DataGetAll(s||""):[]))}displayFn(s){return s?s.title+" | "+s.id:void 0}displayOption(s){return s?s.title+" | "+s.id:void 0}DataGetAll(s){return Ie(this,null,function*(){let e=new ae;e.rowPerPage=20,e.accessLoad=!0;let i=new J;s&&s.length>0&&(i.propertyName="title",i.value=s,i.searchType=qt.Contains,i.clauseType=Ut.Or,e.filters.push(i)),s&&typeof s=="string"&&s.length>10&&(i=new J,i.propertyName="id",i.value=s,i.searchType=qt.Equal,i.clauseType=Ut.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),yield vi(this.categoryService.ServiceGetAll(e)).then(l=>(this.dataModelResult=l,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),l.listItems))})}onActionSelect(s){this.optionDisabled||(this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(s){return this.filteredOptions.pipe(bi(e=>(e.find(i=>i.id===s.id)||e.push(s),e)))}onActionSelectForce(s){if(typeof s=="string"&&s.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===s)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===s)){let e=this.dataModelResult.listItems.find(i=>i.id===s);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(s).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof s==typeof Ti){this.filteredOptions=this.push(s),this.dataModelSelect=s,this.formControl.setValue(s);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Ti,this.loadOptions()}};gn.nextId=0,gn.\u0275fac=function(e){return new(e||gn)(I(ie),I(N),I(F),I(G),I(O),I(di))},gn.\u0275cmp=L({type:gn,selectors:[["app-data-provider-source-public-config-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Zh,decls:18,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=P();qi(),a(0,"div",1),g(1,"app-progress-spinner",2),v(2,$h,2,3,"label",3),a(3,"span",4),v(4,eg,2,4,"img",5),r(),g(5,"input",6),a(6,"mat-autocomplete",7,0),M("optionSelected",function(f){return m(t),u(i.onActionSelect(f.option.value))}),Be(8,ig,4,4,"mat-option",8,Ei),S(10,"async"),r(),v(11,ng,1,0,"i",9),v(12,og,1,0,"i",10),v(13,ag,1,0,"i",11),a(14,"i",12),S(15,"translate"),M("click",function(){return m(t),u(i.onActionButtonReload())}),r(),v(16,rg,3,3,"em"),ji(17),r()}if(e&2){let t=x(7);o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(),b((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),b(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),_("placeholder",R(i.optionPlaceholder))("id",Wt("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),He("disabled",i.optionDisabled?!0:null),o(),_("displayWith",i.displayFn),o(2),Oe(C(10,20,i.filteredOptions)),o(3),b(i.formControl.valid?-1:11),o(),b(i.optionRequired&&i.formControl.valid?12:-1),o(),b((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?13:-1),o(),H("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),_("title",R(C(15,22,"ACTION.RELOAD"))),o(2),b(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0)?16:-1)}},dependencies:[$,ee,Ee,Vi,Fi,Bi,Ni,Xi,q,j,Fe,B,Pe],encapsulation:2});var ca=gn;var lg=["vform"];function sg(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",26),T("modelChange",function(t){m(e);let l=d();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=d();D("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function dg(n,s){n&1&&g(0,"i",17)}function cg(n,s){n&1&&g(0,"i",18)}function pg(n,s){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.required")))}function mg(n,s){n&1&&(a(0,"mat-error"),c(1," Description is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.required")))}function ug(n,s){if(n&1){let e=P();a(0,"div",14)(1,"label",27),c(2),r(),a(3,"input",28,3),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.maxProcessFlowAmount,t)||(l.dataModel.maxProcessFlowAmount=t),u(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.maxProcessFlowAmount==null?null:e.fieldsInfo.maxProcessFlowAmount.fieldTitle),o(),D("ngModel",e.dataModel.maxProcessFlowAmount),_("disabled",!(e.fieldsInfo.maxProcessFlowAmount!=null&&e.fieldsInfo.maxProcessFlowAmount.accessAddField))}}function fg(n,s){if(n&1){let e=P();a(0,"div",14)(1,"label",29),c(2),r(),a(3,"input",30,4),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.minProcessFlowAmount,t)||(l.dataModel.minProcessFlowAmount=t),u(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.minProcessFlowAmount==null?null:e.fieldsInfo.minProcessFlowAmount.fieldTitle),o(),D("ngModel",e.dataModel.minProcessFlowAmount),_("disabled",!(e.fieldsInfo.minProcessFlowAmount!=null&&e.fieldsInfo.minProcessFlowAmount.accessAddField))}}function _g(n,s){if(n&1){let e=P();a(0,"div",14)(1,"label",31),c(2),r(),a(3,"input",32,5),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.fixFeeProcessFlowAmount,t)||(l.dataModel.fixFeeProcessFlowAmount=t),u(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.fixFeeProcessFlowAmount==null?null:e.fieldsInfo.fixFeeProcessFlowAmount.fieldTitle),o(),D("ngModel",e.dataModel.fixFeeProcessFlowAmount),_("disabled",!(e.fieldsInfo.fixFeeProcessFlowAmount!=null&&e.fieldsInfo.fixFeeProcessFlowAmount.accessAddField))}}function Sg(n,s){if(n&1){let e=P();a(0,"div",14)(1,"label",33),c(2),r(),a(3,"input",34,6),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.percentFeeProcessFlowAmount,t)||(l.dataModel.percentFeeProcessFlowAmount=t),u(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.percentFeeProcessFlowAmount==null?null:e.fieldsInfo.percentFeeProcessFlowAmount.fieldTitle),o(),D("ngModel",e.dataModel.percentFeeProcessFlowAmount),_("disabled",!(e.fieldsInfo.percentFeeProcessFlowAmount!=null&&e.fieldsInfo.percentFeeProcessFlowAmount.accessAddField))}}function Cg(n,s){if(n&1){let e=P();a(0,"div",25)(1,"button",35),M("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",36),c(3),S(4,"translate"),r(),a(5,"button",37),g(6,"i",38),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(13);o(3),h(" ",C(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var pa=class pa extends _t{constructor(e,i,t,l,f,p,k,X){super(l,new ai,p,X);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderSourcePathService=l;this.cmsToastrService=f;this.publicHelper=p;this.cdr=k;this.translate=X;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Y;this.dataModel=new ai;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),e&&e.linkSourceCompanyId&&(this.dataModel.linkSourceCompanyId=e.linkSourceCompanyId+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.requestId&&this.requestId.length>0?(this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e+" copy"}),this.DataClone()):this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataClone(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourcePathService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess?(this.dataModel=i.item,i.item.title=i.item.title+" copy",this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourcePathService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelectlinkSourceCompanyId(e){if(!e||e.id.length<=0){this.translate.get("MESSAGE.Service_company_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkSourceCompanyId=e.id}onActionSelectSource(e){this.dataModel.linkPublicConfigId=null,e&&e.id?.length>0&&(this.dataModel.linkPublicConfigId=e.id)}onFormSubmit(){if(this.formGroup.valid){if(!this.dataModel.linkSourceCompanyId||this.dataModel.linkSourceCompanyId.length==0){this.translate.get("MESSAGE.Service_company_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}if(!this.dataModel.linkPublicConfigId||this.dataModel.linkPublicConfigId.length==0){this.translate.get("MESSAGE.Service_type_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.formInfo.submitButtonEnabled=!1,this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};pa.\u0275fac=function(i){return new(i||pa)(I(le),I(re),I(ie),I(ci),I(N),I(G),I(F),I(O))},pa.\u0275cmp=L({type:pa,selectors:[["app-data-provider-source-path-add"]],viewQuery:function(i,t){if(i&1&&U(lg,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[W],decls:46,vars:42,consts:[["vform","ngForm"],["Title",""],["Description",""],["MaxProcessFlowAmount",""],["MinProcessFlowAmount",""],["FixFeeProcessFlowAmount",""],["PercentFeeProcessFlowAmount",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.memo",1,"color-highlight"],["matInput","","name","dataModel.memo","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.memo",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.maxProcessFlowAmount",1,"color-highlight"],["matInput","","type","text","name","dataModel.maxProcessFlowAmount","type","number","placeholder","Currency Unit Ratio By Shop","id","dataModel.maxProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.minProcessFlowAmount",1,"color-highlight"],["matInput","","type","text","name","dataModel.minProcessFlowAmount","type","number","placeholder","Min Transaction Amount","id","dataModel.minProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.fixFeeProcessFlowAmount",1,"color-highlight"],["matInput","","type","text","name","dataModel.fixFeeProcessFlowAmount","type","number","placeholder","Max Transaction Amount","id","dataModel.fixFeeProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.percentFeeProcessFlowAmount",1,"color-highlight"],["matInput","","type","text","name","dataModel.percentFeeProcessFlowAmount","type","number","placeholder","Percent Fee Transaction Amount","id","dataModel.percentFeeProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",7),g(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),c(4),r(),a(5,"h4"),c(6),S(7,"translate"),r(),a(8,"p"),c(9),S(10,"translate"),r(),g(11,"app-cms-form-result-message",11),a(12,"form",12,0),M("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(14,sg,1,5,"app-cms-enum-record-status-selector",13),a(15,"div",14)(16,"label",15),c(17),r(),a(18,"input",16,1),T("ngModelChange",function(p){return m(l),y(t.dataModel.title,p)||(t.dataModel.title=p),u(p)}),r(),v(20,dg,1,0,"i",17),v(21,cg,1,0,"i",18),a(22,"em"),c(23),r(),v(24,pg,5,3,"mat-error"),r(),a(25,"app-data-provider-source-company-selector",19),S(26,"translate"),M("optionChange",function(p){return m(l),u(t.onActionSelectorSelectlinkSourceCompanyId(p))}),r(),a(27,"app-data-provider-source-public-config-selector",20),S(28,"translate"),M("optionChange",function(p){return m(l),u(t.onActionSelectSource(p))}),r(),a(29,"div",14)(30,"label",21),c(31),r(),a(32,"textarea",22,2),T("ngModelChange",function(p){return m(l),y(t.dataModel.description,p)||(t.dataModel.description=p),u(p)}),r(),a(34,"em"),c(35),r(),v(36,mg,5,3,"mat-error"),r(),v(37,ug,5,3,"div",14),v(38,fg,5,3,"div",14),v(39,_g,5,3,"div",14),v(40,Sg,5,3,"div",14),a(41,"div",14)(42,"label",23),c(43),r(),a(44,"textarea",24),T("ngModelChange",function(p){return m(l),y(t.dataModel.memo,p)||(t.dataModel.memo=p),u(p)}),r()(),v(45,Cg,9,7,"div",25),r()()()}if(i&2){let l=x(19),f=x(33);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),A(C(7,34,"TITLE.ROUTE_SETTINGS")),o(3),h(" ",C(10,36,"TITLE.ROUTE_SETTINGS_DESCRIPTION")," "),o(2),_("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?14:-1),o(3),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),D("ngModel",t.dataModel.title),o(2),b(l.value?-1:20),o(),b(l.value?21:-1),o(2),h("",l.value.length," / 100"),o(),b(l.errors!=null&&l.errors.required?24:-1),o(),_("optionSelectForce",t.dataModel.linkSourceCompanyId)("optionPlaceholder",C(26,38,"TITLE.Service_Company")),o(2),_("optionDisabled",!(t.fieldsInfo.linkPublicConfigId!=null&&t.fieldsInfo.linkPublicConfigId.accessAddField))("optionSelectForce",t.dataModel.linkPublicConfigId)("optionPlaceholder",C(28,40,"TITLE.Account_Type")),o(4),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),D("ngModel",t.dataModel.description),o(3),h("",f.value.length," / 500"),o(),b(f.errors!=null&&f.errors.required?36:-1),o(),b(t.fieldsInfo.maxProcessFlowAmount!=null&&t.fieldsInfo.maxProcessFlowAmount.accessWatchField?37:-1),o(),b(t.fieldsInfo.minProcessFlowAmount!=null&&t.fieldsInfo.minProcessFlowAmount.accessWatchField?38:-1),o(),b(t.fieldsInfo.fixFeeProcessFlowAmount!=null&&t.fieldsInfo.fixFeeProcessFlowAmount.accessWatchField?39:-1),o(),b(t.fieldsInfo.percentFeeProcessFlowAmount!=null&&t.fieldsInfo.percentFeeProcessFlowAmount.accessWatchField?40:-1),o(3),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),D("ngModel",t.dataModel.memo),o(),b(t.formInfo.submitButtonEnabled?45:-1)}},dependencies:[ge,$,Li,ee,Ce,Ee,De,ye,ce,he,qe,q,ve,j,Se,ei,da,ca,B],encapsulation:2});var vn=pa;function hg(n,s){if(n&1){let e=P();a(0,"button",11),M("click",function(){m(e);let t=d();return u(t.onActionButtonReload())}),a(1,"mat-icon",12),S(2,"translate"),c(3,"refresh"),r()()}if(n&2){let e=d();o(),H("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),_("title",R(C(2,4,"ACTION.RELOAD")))}}function gg(n,s){if(n&1){let e=P();a(0,"mat-tree-node",13),g(1,"button",14),a(2,"span",15),M("click",function(){let t=m(e).$implicit,l=d();return u(l.onActionSelect(t))}),g(3,"img",16),c(4),r()()}if(n&2){let e=s.$implicit,i=d();H("ntk-tree-selected",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),o(3),_("src",R(e.linkMainImageIdSrc),K),o(),h("\xA0",e.title)}}function vg(n,s){if(n&1){let e=P();a(0,"mat-tree-node",17)(1,"button",18)(2,"mat-icon",19),c(3),r()(),a(4,"span",15),M("click",function(){let t=m(e).$implicit,l=d();return u(l.onActionSelect(t))}),g(5,"img",16),c(6),r()()}if(n&2){let e=s.$implicit,i=d(),t=x(9);H("ntk-tree-selected",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),_("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),He("type","button")("aria-label","Toggle "+e.title),o(2),h(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),_("src",R(e.linkMainImageIdSrc),K),o(),h("\xA0",e.title)}}var ma=class ma{constructor(s,e,i,t,l,f,p,k,X){this.cmsToastrService=s;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=l;this.publicHelper=f;this.tokenHelper=p;this.cmsStoreService=k;this.translate=X;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new Xt;this.dataModelResult=new Y;this.filterModel=new ae;this.dataSource=new eo;this.optionChange=new xt;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(s,e)=>!1;this.childrenAccessor=s=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(s=>Ie(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onActionSelect(s){s&&this.dataModelSelect&&s.id==this.dataModelSelect.id?(this.dataModelSelect=null,this.optionChange.emit(null)):(this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect))}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Xt,this.DataGetAll()}onActionSelectForce(s){}};ma.\u0275fac=function(e){return new(e||ma)(I(N),I(ie),I(Zt),I(je),I(F),I(G),I(ze),I(Qe),I(O))},ma.\u0275cmp=L({type:ma,selectors:[["app-data-provider-source-company-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:13,vars:11,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(a(0,"app-cms-html-tree",1),w(1,2),c(2),S(3,"translate"),E(),w(4,3),v(5,hg,4,6,"button",4),E(),w(6,5),g(7,"app-progress-spinner",6),a(8,"mat-tree",7,0),V(10,gg,5,5,"mat-tree-node",8)(11,vg,7,10,"mat-tree-node",9),r(),E(),be(12,10),r()),e&2&&(_("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),h(" ",C(3,9,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow?5:-1),o(2),_("optionsInfoAreaId",i.constructorInfoAreaId),o(),_("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),_("matTreeNodeDefWhen",i.hasChild))},dependencies:[Ze,Je,Xn,Yn,$n,Zn,Jn,j,io,B],encapsulation:2});var ua=ma;var Mg=()=>[5,10,20,100],Ig=(n,s)=>s.id;function Pg(n,s){if(n&1){let e=P();a(0,"a",26),M("click",function(){m(e);let t=d();return u(t.onActionBackToParent())}),g(1,"i",27),r()}}function wg(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",28),M("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",29)(3,"br"),r(),a(4,"p",30),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.ADD")," "))}function Eg(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",31),M("click",function(){m(e);let t=d();return u(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",32)(3,"br"),r(),a(4,"p",30),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.EDIT")," "))}function Dg(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",33),M("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",34)(3,"br"),r(),a(4,"p",30),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.DELETE")," "))}function yg(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",8),M("click",function(){m(e);let t=d();return u(t.onActionButtonSendTest(t.tableRowSelected))}),g(2,"i",35)(3,"br"),r(),a(4,"p",30),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.SEND_TEST")," "))}function Tg(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",8),M("click",function(t){m(e);let l=d();return u(l.onActionButtonSendMessage(l.tableRowSelected,t))}),g(2,"i",36)(3,"br"),r(),a(4,"p",30),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.SEND_MESSAGE")," "))}function Ag(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",28),M("click",function(){m(e);let t=d();return u(t.onActionButtonGetBalance(t.tableRowSelected))}),g(2,"i",37)(3,"br"),r(),a(4,"p",30),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.GET_BALANCE")," "))}function Rg(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",8),M("click",function(){m(e);let t=d();return u(t.onActionButtonReportsRow(t.tableRowSelected))}),g(2,"i",38)(3,"br"),r(),a(4,"p",30),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.REPORTS")," "))}function xg(n,s){if(n&1&&(a(0,"div",39),g(1,"i",40),a(2,"span"),c(3),S(4,"translate"),S(5,"translate"),r()()),n&2){let e=d();kr("transform","translateY("+(e.pullToRefreshState.pullDistance>80?80:e.pullToRefreshState.pullDistance)+"px)"),H("refreshing",e.pullToRefreshState.isRefreshing),o(),H("rotation360",e.pullToRefreshState.isRefreshing),o(2),A(e.pullToRefreshState.isRefreshing?C(4,7,"ACTION.RELOADING"):C(5,9,"ACTION.PULL_TO_REFRESH"))}}function kg(n,s){if(n&1&&(a(0,"div",44),g(1,"img",50),S(2,"cmsthumbnail"),r()),n&2){let e=d().$implicit;o(),_("src",C(2,2,e.linkMainImageIdSrc),K)("alt",e.title||e.id)}}function Lg(n,s){n&1&&(a(0,"div",45),g(1,"i",51),r())}function Vg(n,s){if(n&1&&(a(0,"div",48),g(1,"i",52),c(2),r()),n&2){let e=d().$implicit,i=d(2);o(2),de(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",e.id," ")}}function Bg(n,s){if(n&1&&(a(0,"div",48),g(1,"i",53),c(2),S(3,"cmstitle"),r()),n&2){let e=d().$implicit,i=d(2);o(2),de(" ",i.fieldsInfo.linkSourceCompanyId==null?null:i.fieldsInfo.linkSourceCompanyId.fieldTitle,": ",si(3,2,e.linkSourceCompanyId,i.dataModelCompanyResult.listItems)," ")}}function Og(n,s){if(n&1&&(a(0,"div",48),g(1,"i",54),c(2),S(3,"cmstitle"),r()),n&2){let e=d().$implicit,i=d(2);o(2),de(" ",i.fieldsInfo.linkPublicConfigId==null?null:i.fieldsInfo.linkPublicConfigId.fieldTitle,": ",si(3,2,e.linkPublicConfigId,i.dataModelPublicResult.listItems)," ")}}function Fg(n,s){if(n&1&&(a(0,"div",48),g(1,"i",55),c(2),S(3,"localeDate"),r()),n&2){let e=d().$implicit,i=d(2);o(2),de(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",C(3,2,e.updatedDate)," ")}}function Ng(n,s){if(n&1&&(a(0,"div",48),g(1,"i",56),S(2,"statusIconClass"),r()),n&2){let e=d().$implicit;o(),_("ngClass",C(2,1,e.recordStatus))}}function Gg(n,s){if(n&1&&(a(0,"div",49)(1,"div",48)(2,"span",57),g(3,"i",58),r(),c(4),r()()),n&2){let e=d().$implicit;o(2),_("cdkCopyToClipboard",e.id.toString()),o(2),h(" ID: ",e.id," ")}}function Hg(n,s){if(n&1){let e=P();a(0,"div",42)(1,"div",43),M("click",function(t){let l=m(e).$implicit,f=d(2);return u(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d(2);return u(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d(2);return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d(2);return u(l.onActionTableRowMouseLeave(t))})("touchstart",function(t){let l=m(e).$implicit,f=d(2);return u(f.onItemTouchStart(t,l.id))})("touchmove",function(t){let l=m(e).$implicit,f=d(2);return u(f.onItemTouchMove(t,l.id))})("touchend",function(t){let l=m(e).$implicit,f=d(2);return u(f.onItemTouchEnd(t,l.id))}),v(2,kg,3,4,"div",44)(3,Lg,2,0,"div",45),a(4,"div",46)(5,"div",47),c(6),r(),v(7,Vg,3,2,"div",48),v(8,Bg,4,5,"div",48),v(9,Og,4,5,"div",48),v(10,Fg,4,4,"div",48),v(11,Ng,3,3,"div",48),v(12,Gg,5,2,"div",49),r()()()}if(n&2){let e,i=s.$implicit,t=d(2);kr("transform","translateX("+(((e=t.swipeState.get(i.id))==null?null:e.offset)||0)+"px)"),o(),H("selected",i.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),He("aria-label",i.title||i.id),o(),b((i==null||i.linkMainImageIdSrc==null?null:i.linkMainImageIdSrc.length)>0?2:3),o(4),h(" ",i.title||"ID: "+i.id," "),o(),b(i.id?7:-1),o(),b(i.linkSourceCompanyId?8:-1),o(),b(i.linkPublicConfigId?9:-1),o(),b(i.updatedDate?10:-1),o(),b(i.recordStatus!==void 0?11:-1),o(),b(t.getRowExpanded(i)?12:-1)}}function Wg(n,s){if(n&1&&(a(0,"div",22),Be(1,Hg,13,13,"div",41,Ig),r()),n&2){let e=d();o(),Oe(e.dataModelResult.listItems)}}function qg(n,s){n&1&&(a(0,"div",23)(1,"div",59),g(2,"i",60),r(),a(3,"div",61),c(4),S(5,"translate"),r()()),n&2&&(o(4),h(" ",C(5,1,"MESSAGE.no_information")," "))}var fa=class fa extends Ct{constructor(e,i,t,l,f,p,k,X,Ge,$e,Ke,dt,oi,jn){super(e,new ai,oi,X,$e);this.contentService=e;this.dataProviderSourceCompanyService=i;this.dataProviderSourcePublicConfigService=t;this.activatedRoute=l;this.cmsToastrService=f;this.cmsConfirmationDialogService=p;this.router=k;this.tokenHelper=X;this.cdr=Ge;this.translate=$e;this.cmsStoreService=Ke;this.pageInfo=dt;this.publicHelper=oi;this.dialog=jn;this.actionMenuOpen=null;this.requestLinkSiteId=0;this.requestLinkCompanyId="";this.requestLinkPublicConfigId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ae;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new Y;this.dataModelCompanyResult=new Y;this.dataModelPublicResult=new Y;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","recordStatus","title","linkSourceCompanyId","LinkPublicConfigId","position"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","recordStatus","title","linkSourceCompanyId","LinkPublicConfigId","position"];this.unsubscribe=[];this.pullToRefreshState={isRefreshing:!1,startY:0,currentY:0,pullDistance:0,threshold:80};this.Math=Math;this.swipeState=new Map;this.SWIPE_THRESHOLD=100;this.SWIPE_MAX_OFFSET=120;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Mn=>this.onSubmitOptionsSearch(Mn)},this.filteModelContent.sortColumn="priority",this.filteModelContent.sortType=oe.Ascending}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(e){return e.expanded===!0}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkCompanyId")&&(this.requestLinkCompanyId=this.activatedRoute.snapshot.paramMap.get("LinkCompanyId")),this.activatedRoute.snapshot.paramMap.get("LinkSiteId")&&(this.requestLinkSiteId=+this.activatedRoute.snapshot.paramMap.get("LinkSiteId")||0),this.activatedRoute.snapshot.paramMap.get("LinkPublicConfigId")&&(this.requestLinkPublicConfigId=this.activatedRoute.snapshot.paramMap.get("LinkPublicConfigId"));let e=new J;if(this.requestLinkPublicConfigId?.length>0&&(e.propertyName="LinkPublicConfigId",e.value=this.requestLinkPublicConfigId,this.filteModelContent.filters.push(e)),this.requestLinkCompanyId.length>0){let i=new J;i.propertyName="linkSourceCompanyId",i.value=this.requestLinkCompanyId,this.filteModelContent.filters.push(i)}if(this.requestLinkSiteId>0){let i=new J;i.propertyName="linkSiteId",i.value=this.requestLinkSiteId,this.filteModelContent.filters.push(i)}this.filteModelContent.sortColumn="priority",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>Ie(this,null,function*(){this.tokenInfo=i,this.DataGetAll()}))),this.getApiCopmanyList(),this.getPublicConfig()}getPublicConfig(){let e=new ae;e.rowPerPage=100,this.dataProviderSourcePublicConfigService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPublicResult=i}})}getApiCopmanyList(){let e=new ae;e.rowPerPage=100,this.dataProviderSourceCompanyService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCompanyResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,["position"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ai);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new J;t.propertyName="linkSourceCompanyId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=oe.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=oe.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=oe.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onTableDropRow(e){let i=this.tableSource.data.findIndex(l=>l===e.item.data),t=new Oa;t.id=this.tableSource.data[i].id,t.centerId=this.tableSource.data[e.currentIndex].id,i>e.currentIndex?t.actionGo=Qn.GoUp:t.actionGo=Qn.GoDown,this.contentService.ServiceEditStep(t).subscribe({next:l=>{l.isSuccess?(Na(this.tableSource.data,i,e.currentIndex),this.tableSource.data=this.tableSource.data.slice()):this.cmsToastrService.typeErrorMessage(l.errorMessage)},error:l=>{this.cmsToastrService.typeError(l)}})}onActionButtonNewRow(){if((!this.requestLinkCompanyId||this.requestLinkCompanyId&&this.requestLinkCompanyId.length==0)&&(this.categoryModelSelected==null||this.categoryModelSelected.id.length===0)){this.translate.get("MESSAGE.Company_not_selected").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.categoryModelSelected&&this.categoryModelSelected.id.length>0&&(e=this.categoryModelSelected.id),this.requestLinkCompanyId&&this.requestLinkCompanyId.length>0&&(e=this.requestLinkCompanyId);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(vn,{height:"90%",panelClass:i,enterAnimationDuration:se.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:se.cmsViewConfig.exitAnimationDuration,data:{linkSourceCompanyId:e}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/data-provider/main/source-path/edit",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(f,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new ae,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.filteModelContent.sortColumn="priority",this.categoryModelSelected=e,this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new J;f.propertyName="recordStatus",f.value=ct.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonGetBalance(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}let i=this.constructor.name+"GetBalance";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)})}onActionButtonSendMessage(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/data-provider/action/send-message/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/action/send-message/LinkApiPathId",this.tableRowSelected.id])}onActionButtonNumbersList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/data-provider/main/api-number/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/main/api-number/LinkApiPathId",this.tableRowSelected.id])}onActionButtonPermitionList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/data-provider/main/source-path-permission/LinkApiPathId",this.tableRowSelected.id])}onActionButtonOutBoxQueue(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/data-provider/log/outbox-queue/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/log/outbox-queue/LinkApiPathId",this.tableRowSelected.id])}onActionButtonCopy(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessAdd();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(vn,{height:"90%",panelClass:i,enterAnimationDuration:se.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:se.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonPriceServicesList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/data-provider/main/source-path-pagination/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/main/source-path-pagination/LinkApiPathId",this.tableRowSelected.id])}onActionButtonSendTest(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e)}onActionButtonReportsRow(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}if(i?.ctrlKey){let t="/#/data-provider/log/source-path/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/log/source-path/LinkApiPathId",this.tableRowSelected.id])}onActionButtonReload(){this.filteModelContent.sortColumn="priority",this.DataGetAll()}onItemTouchStart(e,i){e.stopPropagation();let t=e.touches[0];this.swipeState.set(i,{startX:t.clientX,currentX:t.clientX,offset:0})}onItemTouchMove(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let l=e.touches[0];t.currentX=l.clientX;let f=t.currentX-t.startX,p=document.documentElement.dir==="rtl",k=p?this.SWIPE_MAX_OFFSET:-this.SWIPE_MAX_OFFSET,X=p?-this.SWIPE_MAX_OFFSET:this.SWIPE_MAX_OFFSET;t.offset=Math.max(X,Math.min(k,f))}onItemTouchEnd(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let l=document.documentElement.dir==="rtl",f=l?this.SWIPE_THRESHOLD:-this.SWIPE_THRESHOLD;l&&t.offset>f||!l&&t.offset<f||(t.offset=0),this.swipeState.set(i,t)}onTouchStart(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&(this.pullToRefreshState.startY=e.touches[0].clientY,this.pullToRefreshState.isRefreshing=!1)}onTouchMove(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&this.pullToRefreshState.startY>0&&(this.pullToRefreshState.currentY=e.touches[0].clientY,this.pullToRefreshState.pullDistance=Math.max(0,this.pullToRefreshState.currentY-this.pullToRefreshState.startY),this.pullToRefreshState.pullDistance>10&&e.preventDefault())}onTouchEnd(e){this.pullToRefreshState.pullDistance>=this.pullToRefreshState.threshold&&!this.pullToRefreshState.isRefreshing?(this.pullToRefreshState.isRefreshing=!0,this.onActionButtonReload(),setTimeout(()=>{this.pullToRefreshState.isRefreshing=!1,this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0},1e3)):(this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0)}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/data-provider/main/source-path-company"])}};fa.\u0275fac=function(i){return new(i||fa)(I(ci),I(Zt),I(di),I(jt),I(N),I(Qt),I(Ye),I(ze),I(F),I(O),I(Qe),I(ft),I(G),I(je))},fa.\u0275cmp=L({type:fa,selectors:[["app-data-provider-source-path-list-mobile"]],hostBindings:function(i,t){i&1&&M("click",function(f){return t.onDocumentClick(f)},bt)},standalone:!1,features:[W],decls:40,vars:36,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-pull-refresh-indicator",3,"transform","refreshing"],[1,"cms-m-content",3,"touchstart","touchmove","touchend"],[1,"cms-m-list"],[1,"cms-m-empty-state"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-paper-plane-top","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-receipt","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-dollar","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-file-chart-column","font-18",2,"color","#ffffff"],[1,"cms-m-pull-refresh-indicator"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],[1,"cms-m-list-item-wrapper",3,"transform"],[1,"cms-m-list-item-wrapper"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","rtclick","mouseenter","mouseleave","touchstart","touchmove","touchend"],[1,"cms-m-list-item-image"],[1,"cms-m-list-item-image-placeholder"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["loading","lazy",3,"src","alt"],["aria-hidden","true",1,"fa-solid","fa-link"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-building"],["aria-hidden","true",1,"fa-solid","fa-cog"],["aria-hidden","true",1,"fa-solid","fa-clock"],[3,"ngClass"],[1,"navi-icon","pointer",3,"cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"cms-m-empty-state-icon"],["aria-hidden","true",1,"fa-solid","fa-inbox"],[1,"cms-m-empty-state-text"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list-mobile",1),T("optionActionGuideNoticeDisplayChange",function(p){return m(l),y(t.viewGuideNotice,p)||(t.viewGuideNotice=p),u(p)}),M("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionButtonPrintRow())}),w(1,2),a(2,"app-data-provider-source-company-tree",3),M("optionChange",function(p){return m(l),u(t.onActionSelectorSelect(p))}),r(),E(),be(3,4)(4,5),w(5,6),v(6,Pg,2,0,"a",7),a(7,"a",8),M("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",9),r(),a(9,"a",8),M("click",function(){return m(l),u(t.onActionButtonReload())}),g(10,"i",10),r(),E(),w(11,11),a(12,"a",12),M("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",13),c(14),S(15,"translate"),r(),a(16,"a",12),M("click",function(){return m(l),u(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",13),c(18),S(19,"translate"),r(),E(),w(20,14),v(21,wg,7,3,"div",15),E(),w(22,16),v(23,Eg,7,3,"div",15),v(24,Dg,7,3,"div",15),v(25,yg,7,3,"div",15),v(26,Tg,7,3,"div",15),v(27,Ag,7,3,"div",15),v(28,Rg,7,3,"div",15),E(),w(29,17),a(30,"app-cms-search-list",18),T("optionsChange",function(p){return m(l),y(t.optionsSearch,p)||(t.optionsSearch=p),u(p)}),r(),a(31,"app-cms-statist-list",18),T("optionsChange",function(p){return m(l),y(t.optionsStatist,p)||(t.optionsStatist=p),u(p)}),r(),E(),w(32,19),v(33,xg,6,11,"div",20),a(34,"div",21),M("touchstart",function(p){return m(l),u(t.onTouchStart(p))})("touchmove",function(p){return m(l),u(t.onTouchMove(p))})("touchend",function(p){return m(l),u(t.onTouchEnd(p))}),v(35,Wg,3,0,"div",22)(36,qg,6,3,"div",23),r(),E(),w(37,24),a(38,"mat-paginator",25,0),M("page",function(p){return m(l),u(t.onTablePageingData(p))}),r(),E(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!t.requestLinkCompanyId||t.requestLinkCompanyId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(6),b((t.requestLinkCompanyId==null?null:t.requestLinkCompanyId.length)>0?6:-1),o(4),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),h("",C(15,31,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),h("",C(19,33,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?21:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?23:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?24:-1),o(),b((t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?25:-1),o(),b((t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?26:-1),o(),b((t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?27:-1),o(),b((t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?28:-1),o(2),D("options",t.optionsSearch),o(),D("options",t.optionsStatist),o(2),b(t.pullToRefreshState.pullDistance>0?33:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?35:36),o(3),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(35,Mg)))},dependencies:[xe,pe,Te,Xe,Ae,Re,kt,ke,ua,B,Ja,Pe,ti,Le],styles:['@charset "UTF-8";.cms-m-content[_ngcontent-%COMP%]{padding:8px var(--cms-m-spacing-md);padding-bottom:calc(8px + env(safe-area-inset-bottom));position:relative;touch-action:pan-y}.cms-m-header-spacer[_ngcontent-%COMP%]{flex:1}@media (max-width: 375px){.cms-m-list-item[_ngcontent-%COMP%]{padding:10px 12px}.cms-m-list-item-image[_ngcontent-%COMP%], .cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px}.cms-m-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;min-height:40px}}@media screen and (-webkit-min-device-pixel-ratio: 0){.cms-m-list-item[_ngcontent-%COMP%]{will-change:transform}}']});var Ir=fa;var jg=["vform"];function Ug(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",15),T("modelChange",function(t){m(e);let l=d();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=d();D("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Qg(n,s){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.required")))}function zg(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",16),c(2),r(),a(3,"input",17,1),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.title,t)||(l.dataModel.title=t),u(t)}),r(),a(5,"em"),c(6),r(),v(7,Qg,5,3,"mat-error"),r()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),D("ngModel",i.dataModel.title),o(3),h("",e.value.length," / 128"),o(),b(e.errors!=null&&e.errors.required?7:-1)}}function Kg(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",18),c(2),r(),a(3,"input",19,2),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.className,t)||(l.dataModel.className=t),u(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.className==null?null:e.fieldsInfo.className.fieldTitle),o(),_("placeholder",R(e.fieldsInfo.className==null?null:e.fieldsInfo.className.fieldTitle)),D("ngModel",e.dataModel.className)}}function Jg(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",20),c(2),r(),a(3,"input",21,3),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.webServiceUrl,t)||(l.dataModel.webServiceUrl=t),u(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.webServiceUrl==null?null:e.fieldsInfo.webServiceUrl.fieldTitle),o(),_("placeholder",R(e.fieldsInfo.webServiceUrl==null?null:e.fieldsInfo.webServiceUrl.fieldTitle)),D("ngModel",e.dataModel.webServiceUrl)}}function Xg(n,s){if(n&1){let e=P();a(0,"div",13)(1,"div",22)(2,"h5",23),c(3),r()(),a(4,"div",24)(5,"div",25)(6,"input",26),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.abilityDelivery,t)||(l.dataModel.abilityDelivery=t),u(t)}),r(),g(7,"label",27),r()()()}if(n&2){let e=d();o(3),h(" ",e.fieldsInfo.abilityDelivery==null?null:e.fieldsInfo.abilityDelivery.fieldTitle," "),o(3),D("ngModel",e.dataModel.abilityDelivery)}}function Yg(n,s){if(n&1){let e=P();a(0,"div",13)(1,"div",22)(2,"h5",23),c(3),r()(),a(4,"div",24)(5,"div",25)(6,"input",28),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.abilityReceive,t)||(l.dataModel.abilityReceive=t),u(t)}),r(),g(7,"label",29),r()()()}if(n&2){let e=d();o(3),h(" ",e.fieldsInfo.abilityReceive==null?null:e.fieldsInfo.abilityReceive.fieldTitle," "),o(3),D("ngModel",e.dataModel.abilityReceive)}}function Zg(n,s){if(n&1){let e=P();a(0,"div",13)(1,"div",22)(2,"h5",23),c(3),r()(),a(4,"div",24)(5,"div",25)(6,"input",30),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.abilityCreditCheck,t)||(l.dataModel.abilityCreditCheck=t),u(t)}),r(),g(7,"label",31),r()()()}if(n&2){let e=d();o(3),h(" ",e.fieldsInfo.abilityCreditCheck==null?null:e.fieldsInfo.abilityCreditCheck.fieldTitle," "),o(3),D("ngModel",e.dataModel.abilityCreditCheck)}}function $g(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",32),c(2),r(),a(3,"textarea",33,4),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.memo,t)||(l.dataModel.memo=t),u(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.memo==null?null:e.fieldsInfo.memo.fieldTitle),o(),D("ngModel",e.dataModel.memo)}}function e1(n,s){if(n&1){let e=P();a(0,"div",14)(1,"button",34),M("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",35),c(3),S(4,"translate"),r(),a(5,"button",36),g(6,"i",37),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),h(" ",C(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var _a=class _a extends _t{constructor(e,i,t,l,f,p,k,X){super(l,new Ti,p,X);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderSourcePublicConfigService=l;this.cmsToastrService=f;this.publicHelper=p;this.cdr=k;this.translate=X;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Y;this.dataModel=new Ti;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourcePublicConfigService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};_a.\u0275fac=function(i){return new(i||_a)(I(le),I(re),I(ie),I(di),I(N),I(G),I(F),I(O))},_a.\u0275cmp=L({type:_a,selectors:[["app-data-provider-source-public-config-add"]],viewQuery:function(i,t){if(i&1&&U(jg,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[W],decls:20,vars:15,consts:[["vform","ngForm"],["Title",""],["ClassName",""],["WebServiceUrl",""],["Memo",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"d-flex","mb-3"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","128","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.className",1,"color-highlight"],["matInput","","type","text","name","dataModel.className","id","dataModel.className",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.webServiceUrl",1,"color-highlight"],["matInput","","type","text","name","dataModel.webServiceUrl","id","dataModel.webServiceUrl",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"pt-1"],[1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.abilityDelivery","name","dataModel.abilityDelivery",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityDelivery",1,"custom-control-label"],["type","checkbox","id","dataModel.abilityReceive","name","dataModel.abilityReceive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityReceive",1,"custom-control-label"],["type","checkbox","id","dataModel.abilityCreditCheck","name","dataModel.abilityCreditCheck",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityCreditCheck",1,"custom-control-label"],["for","dataModel.memo",1,"color-highlight"],["matInput","","name","dataModel.memo","rows","5","id","dataModel.memo",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",5),g(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),c(4),r(),a(5,"h4"),c(6),S(7,"translate"),r(),g(8,"app-cms-form-result-message",9),a(9,"form",10,0),M("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(11,Ug,1,5,"app-cms-enum-record-status-selector",11),v(12,zg,8,6,"div",12),v(13,Kg,5,4,"div",12),v(14,Jg,5,4,"div",12),v(15,Xg,8,2,"div",13),v(16,Yg,8,2,"div",13),v(17,Zg,8,2,"div",13),v(18,$g,5,2,"div",12),v(19,e1,9,7,"div",14),r()()()}i&2&&(o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),A(C(7,13,"TITLE.DATA_PROVIDER_SOURCE_PUBLIC_CONFIG")),o(2),_("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),b(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?12:-1),o(),b(t.fieldsInfo.className!=null&&t.fieldsInfo.className.accessWatchField?13:-1),o(),b(t.fieldsInfo.webServiceUrl!=null&&t.fieldsInfo.webServiceUrl.accessWatchField?14:-1),o(),b(t.fieldsInfo.abilityDelivery!=null&&t.fieldsInfo.abilityDelivery.accessWatchField?15:-1),o(),b(t.fieldsInfo.abilityReceive!=null&&t.fieldsInfo.abilityReceive.accessWatchField?16:-1),o(),b(t.fieldsInfo.abilityCreditCheck!=null&&t.fieldsInfo.abilityCreditCheck.accessWatchField?17:-1),o(),b(t.fieldsInfo.memo!=null&&t.fieldsInfo.memo.accessWatchField?18:-1),o(),b(t.formInfo.submitButtonEnabled?19:-1))},dependencies:[ge,$,ki,ee,Ce,Ee,De,ye,ce,he,qe,q,ve,j,Se,B],encapsulation:2});var Pr=_a;var i1=["vform"];function n1(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",16),T("modelChange",function(t){m(e);let l=d();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=d();D("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function o1(n,s){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.required")))}function a1(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",17),c(2),r(),a(3,"input",18,1),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.title,t)||(l.dataModel.title=t),u(t)}),r(),a(5,"em"),c(6),r(),v(7,o1,5,3,"mat-error"),r()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),D("ngModel",i.dataModel.title),o(3),h("",e.value.length," / 128"),o(),b(e.errors!=null&&e.errors.required?7:-1)}}function r1(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",19),c(2),r(),a(3,"input",20,2),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.className,t)||(l.dataModel.className=t),u(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.className==null?null:e.fieldsInfo.className.fieldTitle),o(),_("placeholder",R(e.fieldsInfo.className==null?null:e.fieldsInfo.className.fieldTitle)),D("ngModel",e.dataModel.className)}}function l1(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",21),c(2),r(),a(3,"input",22,3),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.webServiceUrl,t)||(l.dataModel.webServiceUrl=t),u(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.webServiceUrl==null?null:e.fieldsInfo.webServiceUrl.fieldTitle),o(),_("placeholder",R(e.fieldsInfo.webServiceUrl==null?null:e.fieldsInfo.webServiceUrl.fieldTitle)),D("ngModel",e.dataModel.webServiceUrl)}}function s1(n,s){if(n&1){let e=P();a(0,"div",13)(1,"div",23)(2,"h5",24),c(3),r()(),a(4,"div",25)(5,"div",26)(6,"input",27),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.abilityDelivery,t)||(l.dataModel.abilityDelivery=t),u(t)}),r(),g(7,"label",28),r()()()}if(n&2){let e=d();o(3),h(" ",e.fieldsInfo.abilityDelivery==null?null:e.fieldsInfo.abilityDelivery.fieldTitle," "),o(3),D("ngModel",e.dataModel.abilityDelivery)}}function d1(n,s){if(n&1){let e=P();a(0,"div",13)(1,"div",23)(2,"h5",24),c(3),r()(),a(4,"div",25)(5,"div",26)(6,"input",29),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.abilityReceive,t)||(l.dataModel.abilityReceive=t),u(t)}),r(),g(7,"label",30),r()()()}if(n&2){let e=d();o(3),h(" ",e.fieldsInfo.abilityReceive==null?null:e.fieldsInfo.abilityReceive.fieldTitle," "),o(3),D("ngModel",e.dataModel.abilityReceive)}}function c1(n,s){if(n&1){let e=P();a(0,"div",13)(1,"div",23)(2,"h5",24),c(3),r()(),a(4,"div",25)(5,"div",26)(6,"input",31),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.abilityCreditCheck,t)||(l.dataModel.abilityCreditCheck=t),u(t)}),r(),g(7,"label",32),r()()()}if(n&2){let e=d();o(3),h(" ",e.fieldsInfo.abilityCreditCheck==null?null:e.fieldsInfo.abilityCreditCheck.fieldTitle," "),o(3),D("ngModel",e.dataModel.abilityCreditCheck)}}function p1(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",33),c(2),r(),a(3,"textarea",34,4),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.memo,t)||(l.dataModel.memo=t),u(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.memo==null?null:e.fieldsInfo.memo.fieldTitle),o(),D("ngModel",e.dataModel.memo)}}function m1(n,s){if(n&1){let e=P();a(0,"div",15)(1,"button",35),M("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",36),c(3),S(4,"translate"),r(),a(5,"button",37),g(6,"i",38),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),h(" ",C(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var Sa=class Sa extends St{constructor(e,i,t,l,f,p,k,X){super(l,new Ti,p,X);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderSourcePublicConfigService=l;this.cmsToastrService=f;this.publicHelper=p;this.cdr=k;this.translate=X;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new pt;this.dataModel=new Jr;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourcePublicConfigService.setAccessLoad(),this.dataProviderSourcePublicConfigService.setAccessDataType(Ne.Editor),this.dataProviderSourcePublicConfigService.ServiceGetOneWithJsonFormatter(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourcePublicConfigService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Sa.\u0275fac=function(i){return new(i||Sa)(I(le),I(re),I(ie),I(di),I(N),I(G),I(F),I(O))},Sa.\u0275cmp=L({type:Sa,selectors:[["app-data-provider-source-public-config-edit"]],viewQuery:function(i,t){if(i&1&&U(i1,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[W],decls:21,vars:18,consts:[["vform","ngForm"],["Title",""],["ClassName",""],["WebServiceUrl",""],["Memo",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"d-flex","mb-3"],[3,"jsonValueChange","formGroup","jsonValue","propertiesInfos"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","128","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.className",1,"color-highlight"],["matInput","","type","text","name","dataModel.className","id","dataModel.className",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.webServiceUrl",1,"color-highlight"],["matInput","","type","text","name","dataModel.webServiceUrl","id","dataModel.webServiceUrl",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"pt-1"],[1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.abilityDelivery","name","dataModel.abilityDelivery",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityDelivery",1,"custom-control-label"],["type","checkbox","id","dataModel.abilityReceive","name","dataModel.abilityReceive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityReceive",1,"custom-control-label"],["type","checkbox","id","dataModel.abilityCreditCheck","name","dataModel.abilityCreditCheck",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityCreditCheck",1,"custom-control-label"],["for","dataModel.memo",1,"color-highlight"],["matInput","","name","dataModel.memo","rows","5","id","dataModel.memo",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",5),g(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),c(4),r(),a(5,"h4"),c(6),S(7,"translate"),r(),g(8,"app-cms-form-result-message",9),a(9,"form",10,0),M("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(11,n1,1,5,"app-cms-enum-record-status-selector",11),v(12,a1,8,6,"div",12),v(13,r1,5,4,"div",12),v(14,l1,5,4,"div",12),v(15,s1,8,2,"div",13),v(16,d1,8,2,"div",13),v(17,c1,8,2,"div",13),a(18,"dynamic-form-builder-cms",14),T("jsonValueChange",function(p){return m(l),y(t.dataModel.publicConfigJsonValues,p)||(t.dataModel.publicConfigJsonValues=p),u(p)}),r(),v(19,p1,5,2,"div",12),v(20,m1,9,7,"div",15),r()()()}if(i&2){let l=x(10);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),A(C(7,16,"TITLE.DATA_PROVIDER_SOURCE_PUBLIC_CONFIG")),o(2),_("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),b(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?12:-1),o(),b(t.fieldsInfo.className!=null&&t.fieldsInfo.className.accessWatchField?13:-1),o(),b(t.fieldsInfo.webServiceUrl!=null&&t.fieldsInfo.webServiceUrl.accessWatchField?14:-1),o(),b(t.fieldsInfo.abilityDelivery!=null&&t.fieldsInfo.abilityDelivery.accessWatchField?15:-1),o(),b(t.fieldsInfo.abilityReceive!=null&&t.fieldsInfo.abilityReceive.accessWatchField?16:-1),o(),b(t.fieldsInfo.abilityCreditCheck!=null&&t.fieldsInfo.abilityCreditCheck.accessWatchField?17:-1),o(),_("formGroup",l.form),D("jsonValue",t.dataModel.publicConfigJsonValues),_("propertiesInfos",t.dataModel.publicConfigJsonFormatter),o(),b(t.fieldsInfo.memo!=null&&t.fieldsInfo.memo.accessWatchField?19:-1),o(),b(t.formInfo.submitButtonEnabled?20:-1)}},dependencies:[ge,$,ki,ee,Ce,Ee,De,ye,ce,he,Ga,qe,q,ve,j,Se,Xa,B],encapsulation:2});var wr=Sa;var u1=()=>[5,10,20,100];function f1(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",40),M("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",41)(3,"br"),r(),a(4,"p",19),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.ADD")," "))}function _1(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",40),M("click",function(){m(e);let t=d();return u(t.onActionButtonNewRowAuto())}),g(2,"i",41)(3,"br"),r(),a(4,"p",19),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.AUTOADD")," "))}function S1(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",42),M("click",function(){m(e);let t=d();return u(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",43)(3,"br"),r(),a(4,"p",19),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.EDIT")," "))}function C1(n,s){if(n&1){let e=P();a(0,"div",15)(1,"a",44),M("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",45)(3,"br"),r(),a(4,"p",19),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.DELETE")," "))}function h1(n,s){n&1&&(a(0,"mat-header-cell",46),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"TITLE.PICTURE")," "))}function g1(n,s){if(n&1&&g(0,"img",47),n&2){let e=d().$implicit;_("src",R(e.linkMainImageIdSrc),K)}}function v1(n,s){if(n&1&&(a(0,"mat-cell"),v(1,g1,1,2,"img",47),r()),n&2){let e=s.$implicit;o(),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function b1(n,s){if(n&1&&(a(0,"mat-header-cell",46),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function M1(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.id," ")}}function I1(n,s){if(n&1&&(a(0,"mat-header-cell",46),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function P1(n,s){if(n&1&&(a(0,"mat-cell",48),S(1,"statusCellClass"),g(2,"i",48),S(3,"statusIconClass"),r()),n&2){let e=s.$implicit;_("ngClass",C(1,2,e.recordStatus)),o(2),_("ngClass",C(3,4,e.recordStatus))}}function w1(n,s){if(n&1&&(a(0,"mat-header-cell",46),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function E1(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.title," ")}}function D1(n,s){if(n&1&&(a(0,"mat-header-cell",46),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.className==null?null:e.fieldsInfo.className.fieldTitle," ")}}function y1(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.className," ")}}function T1(n,s){if(n&1&&(a(0,"mat-header-cell",46),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function A1(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"localeDate"),r()),n&2){let e=s.$implicit;o(),h(" ",C(2,1,e.updatedDate)," ")}}function R1(n,s){n&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"TITLE.OPTION")," "))}function x1(n,s){if(n&1&&(a(0,"mat-cell",49)(1,"button",50)(2,"mat-icon"),c(3,"more_vert"),r()(),g(4,"mat-menu",null,2),r()),n&2){let e=x(5);o(),_("matMenuTriggerFor",e)}}function k1(n,s){n&1&&g(0,"mat-header-row")}function L1(n,s){if(n&1){let e=P();a(0,"mat-row",51),M("click",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ca=class Ca extends Ct{constructor(e,i,t,l,f,p,k,X,Ge,$e,Ke){super(e,new Ti,$e,f,k);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.router=l;this.tokenHelper=f;this.cdr=p;this.translate=k;this.cmsStoreService=X;this.pageInfo=Ge;this.publicHelper=$e;this.dialog=Ke;this.tableData=[];this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ae;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","title","id","className","action"];this.tabledisplayedColumnsMobileSource=["recordStatus","title","id","className","action"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:dt=>this.onSubmitOptionsSearch(dt)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=oe.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Ie(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ti);let e=this.constructor.name+".DataGetAll";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0,this.contentService.ServiceGetAllEditor(this.filteModelContent).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess?(this.tableData=i.listItems,this.tableSource.data=i.listItems,this.sort&&(this.tableSource.sort=this.sort),this.paginator&&(this.tableSource.paginator=this.paginator),this.tableSource.filter="",this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(i.access)},1e3)):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.dataModelResult=i,this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active&&this.tableSource.sort.direction==="asc"?e.direction="desc":e.direction="asc",this.tableSource.sort=e,this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=e.direction.toUpperCase()==="DESC"?oe.Descending:oe.Ascending,this.tableSource.data=this.tableSource.filteredData,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onActionButtonNewRow(){if(this.tokenInfo==null||!this.dataModelResult?.access?.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}this.dialog.open(Pr,{height:"90%",data:{}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(wr,{height:"90%",panelClass:i,enterAnimationDuration:se.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:se.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){let l=this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow");this.cmsToastrService.typeErrorSelected(l);return}if(this.onActionTableRowSelect(e),this.tokenInfo==null||!this.dataModelResult?.access?.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}let i=e.title;this.cmsConfirmationDialogService.confirm(this.translate.instant("MESSAGE.Pay_Attention"),this.translate.instant("MESSAGE.Delete",{0:i})).then(l=>{l&&this.contentService.ServiceDelete(e.id).subscribe({next:f=>{f.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorMessage(f.errorMessage)},error:f=>{this.cmsToastrService.typeError(f)}})})}onActionbuttonViewRow(e=this.tableRowSelected){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){let i=this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow");this.cmsToastrService.typeErrorSelected(i);return}this.onActionTableRowSelect(e)}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new J;f.propertyName="recordStatus",f.value=ct.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonNewRowAuto(){let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contentService.ServiceAutoAdd().subscribe({next:i=>{i.isSuccess?(this.cmsToastrService.typeSuccessAdd(),this.DataGetAll()):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){this.filteModelContent.filters=e,this.DataGetAll()}onActionButtonPrivateList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/data-provider/main/source-path/list/LinkPublicConfigId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/main/source-path/list/LinkPublicConfigId",this.tableRowSelected.id])}};Ca.\u0275fac=function(i){return new(i||Ca)(I(di),I(N),I(Qt),I(Ye),I(ze),I(F),I(O),I(Qe),I(ft),I(G),I(je))},Ca.\u0275cmp=L({type:Ca,selectors:[["app-data-provider-source-public-config-list"]],viewQuery:function(i,t){if(i&1&&(U(Ue,5),U(pe,5)),i&2){let l;Q(l=z())&&(t.sort=l.first),Q(l=z())&&(t.paginator=l.first)}},standalone:!1,features:[W],decls:64,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-route","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","className"],["matColumnDef","updatedDate"],["matColumnDef","action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list",3),T("optionActionGuideNoticeDisplayChange",function(p){return m(l),y(t.viewGuideNotice,p)||(t.viewGuideNotice=p),u(p)}),M("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionButtonPrintRow())}),w(1,4),c(2," -------------------------------------- "),E(),be(3,5)(4,6),w(5,7),a(6,"a",8),M("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),g(7,"i",9),r(),a(8,"a",8),M("click",function(){return m(l),u(t.onActionButtonReload())}),g(9,"i",10),r(),E(),w(10,11),a(11,"a",12),M("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(12,"mat-slide-toggle",13),c(13),S(14,"translate"),r(),a(15,"a",12),M("click",function(){return m(l),u(t.onActionButtonStatist())}),g(16,"mat-slide-toggle",13),c(17),S(18,"translate"),r(),E(),w(19,14),v(20,f1,7,3,"div",15),v(21,_1,7,3,"div",15),E(),w(22,16),v(23,S1,7,3,"div",15),v(24,C1,7,3,"div",15),a(25,"div",15)(26,"a",17),M("click",function(p){return m(l),u(t.onActionButtonPrivateList(t.tableRowSelected,p))}),g(27,"i",18)(28,"br"),r(),a(29,"p",19),c(30),S(31,"translate"),r()(),E(),w(32,20),a(33,"app-cms-search-list",21),T("optionsChange",function(p){return m(l),y(t.optionsSearch,p)||(t.optionsSearch=p),u(p)}),r(),a(34,"app-cms-statist-list",21),T("optionsChange",function(p){return m(l),y(t.optionsStatist,p)||(t.optionsStatist=p),u(p)}),r(),E(),w(35,22),a(36,"mat-table",23,0),M("matSortChange",function(){m(l);let p=x(37);return u(t.onTableSortData(p))}),w(38,24),V(39,h1,3,3,"mat-header-cell",25)(40,v1,2,1,"mat-cell",26),E(),w(41,27),V(42,b1,2,1,"mat-header-cell",25)(43,M1,2,1,"mat-cell",26),E(),w(44,28),V(45,I1,2,1,"mat-header-cell",25)(46,P1,4,6,"mat-cell",29),E(),w(47,30),V(48,w1,2,1,"mat-header-cell",25)(49,E1,2,1,"mat-cell",26),E(),w(50,31),V(51,D1,2,1,"mat-header-cell",25)(52,y1,2,1,"mat-cell",26),E(),w(53,32),V(54,T1,2,1,"mat-header-cell",25)(55,A1,3,3,"mat-cell",26),E(),w(56,33),V(57,R1,3,3,"mat-header-cell",34)(58,x1,6,1,"mat-cell",35),E(),V(59,k1,1,0,"mat-header-row",36)(60,L1,1,2,"mat-row",37),r(),E(),w(61,38),a(62,"mat-paginator",39,1),M("page",function(p){return m(l),u(t.onTablePageingData(p))}),r(),E(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(9),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),h("",C(14,27,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),h("",C(18,29,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?21:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),o(6),h(" ",C(31,31,"ACTION.ROUTES")," "),o(3),D("options",t.optionsSearch),o(),D("options",t.optionsStatist),o(2),_("dataSource",t.tableSource),o(23),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(33,u1)))},dependencies:[xe,Ze,Je,Mt,It,pe,Te,Ue,tt,Pt,nt,wt,ot,it,Et,at,rt,Dt,yt,Ae,Re,Tt,ke,B,ti,Le,en],encapsulation:2});var ha=Ca;var V1=()=>[5,10,20,100],B1=(n,s)=>s.id;function O1(n,s){if(n&1){let e=P();a(0,"div",13)(1,"a",22),M("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",23)(3,"br"),r(),a(4,"p",24),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.ADD")," "))}function F1(n,s){if(n&1){let e=P();a(0,"div",13)(1,"a",22),M("click",function(){m(e);let t=d();return u(t.onActionButtonNewRowAuto())}),g(2,"i",23)(3,"br"),r(),a(4,"p",24),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.AUTOADD")," "))}function N1(n,s){if(n&1){let e=P();a(0,"div",13)(1,"a",25),M("click",function(){m(e);let t=d();return u(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",26)(3,"br"),r(),a(4,"p",24),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.EDIT")," "))}function G1(n,s){if(n&1){let e=P();a(0,"div",13)(1,"a",27),M("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",28)(3,"br"),r(),a(4,"p",24),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.DELETE")," "))}function H1(n,s){if(n&1){let e=P();a(0,"div",13)(1,"a",6),M("click",function(t){m(e);let l=d();return u(l.onActionButtonPrivateList(l.tableRowSelected,t))}),g(2,"i",29)(3,"br"),r(),a(4,"p",24),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.ROUTES")," "))}function W1(n,s){if(n&1&&(a(0,"div",32),g(1,"img",38),r()),n&2){let e=d().$implicit;o(),_("src",e.linkMainImageIdSrc,K)("alt",e.title||e.id)}}function q1(n,s){n&1&&(a(0,"div",33),g(1,"i",39),r())}function j1(n,s){if(n&1&&(a(0,"div",36),g(1,"i",40),c(2),r()),n&2){let e=d().$implicit,i=d(2);o(2),de(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",e.id," ")}}function U1(n,s){if(n&1&&(a(0,"div",36),g(1,"i",41),c(2),r()),n&2){let e=d().$implicit,i=d(2);o(2),de(" ",i.fieldsInfo.className==null?null:i.fieldsInfo.className.fieldTitle,": ",e.className," ")}}function Q1(n,s){if(n&1&&(a(0,"div",36),g(1,"i",42),c(2),S(3,"localeDate"),r()),n&2){let e=d().$implicit,i=d(2);o(2),de(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",C(3,2,e.updatedDate)," ")}}function z1(n,s){if(n&1&&(a(0,"div",36),g(1,"i",43),S(2,"statusIconClass"),r()),n&2){let e=d().$implicit;o(),_("ngClass",C(2,1,e.recordStatus))}}function K1(n,s){if(n&1){let e=P();a(0,"div",37)(1,"div",36)(2,"span",44),M("click",function(t){return m(e),d(3).onActionCopied(),u(t.stopPropagation())}),g(3,"i",45),r(),c(4),r()()}if(n&2){let e=d().$implicit;o(2),_("cdkCopyToClipboard",e.id.toString()),o(2),h(" ID: ",e.id," ")}}function J1(n,s){if(n&1){let e=P();a(0,"div",31),M("click",function(t){let l=m(e).$implicit,f=d(2);return u(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d(2);return u(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d(2);return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d(2);return u(l.onActionTableRowMouseLeave(t))}),v(1,W1,2,2,"div",32)(2,q1,2,0,"div",33),a(3,"div",34)(4,"div",35),c(5),r(),v(6,j1,3,2,"div",36),v(7,U1,3,2,"div",36),v(8,Q1,4,4,"div",36),v(9,z1,3,3,"div",36),v(10,K1,5,2,"div",37),r()()}if(n&2){let e=s.$implicit,i=d(2);H("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),He("aria-label",e.title||e.id),o(),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:2),o(4),h(" ",e.title||"ID: "+e.id," "),o(),b(e.title&&e.title.length>0&&e.id?6:-1),o(),b(e.className&&e.className.length>0?7:-1),o(),b(e.updatedDate?8:-1),o(),b(e.recordStatus!==void 0?9:-1),o(),b(i.getRowExpanded(e)?10:-1)}}function X1(n,s){if(n&1&&(a(0,"div",18),Be(1,J1,11,10,"div",30,B1),r()),n&2){let e=d();o(),Oe(e.dataModelResult.listItems)}}function Y1(n,s){n&1&&(a(0,"div",19),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"MESSAGE.NoRecord")," "))}var Nn=class Nn extends ha{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(e){return e.expanded===!0}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}};Nn.\u0275fac=(()=>{let e;return function(t){return(e||(e=Rt(Nn)))(t||Nn)}})(),Nn.\u0275cmp=L({type:Nn,selectors:[["app-data-provider-source-public-config-list-mobile"]],hostBindings:function(i,t){i&1&&M("click",function(f){return t.onDocumentClick(f)},bt)},standalone:!1,features:[W],decls:34,vars:32,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-route","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item",3,"selected"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image"],[1,"cms-m-list-item-image-placeholder"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["loading","lazy",3,"src","alt"],["aria-hidden","true",1,"fa-solid","fa-cog"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-code"],["aria-hidden","true",1,"fa-solid","fa-clock"],[3,"ngClass"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list-mobile",1),T("optionActionGuideNoticeDisplayChange",function(p){return m(l),y(t.viewGuideNotice,p)||(t.viewGuideNotice=p),u(p)}),M("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionButtonPrintRow())}),be(1,2)(2,3)(3,4),w(4,5),a(5,"a",6),M("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),g(6,"i",7),r(),a(7,"a",6),M("click",function(){return m(l),u(t.onActionButtonReload())}),g(8,"i",8),r(),E(),w(9,9),a(10,"a",10),M("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(11,"mat-slide-toggle",11),c(12),S(13,"translate"),r(),a(14,"a",10),M("click",function(){return m(l),u(t.onActionButtonStatist())}),g(15,"mat-slide-toggle",11),c(16),S(17,"translate"),r(),E(),w(18,12),v(19,O1,7,3,"div",13),v(20,F1,7,3,"div",13),E(),w(21,14),v(22,N1,7,3,"div",13),v(23,G1,7,3,"div",13),v(24,H1,7,3,"div",13),E(),w(25,15),a(26,"app-cms-search-list",16),T("optionsChange",function(p){return m(l),y(t.optionsSearch,p)||(t.optionsSearch=p),u(p)}),r(),a(27,"app-cms-statist-list",16),T("optionsChange",function(p){return m(l),y(t.optionsStatist,p)||(t.optionsStatist=p),u(p)}),r(),E(),w(28,17),v(29,X1,3,0,"div",18)(30,Y1,3,3,"div",19),E(),w(31,20),a(32,"mat-paginator",21,0),M("page",function(p){return m(l),u(t.onTablePageingData(p))}),r(),E(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(8),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),h("",C(13,27,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),h("",C(17,29,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?19:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?22:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?23:-1),o(),b((t.tableRowSelected==null?null:t.tableRowSelected.id)>0?24:-1),o(2),D("options",t.optionsSearch),o(),D("options",t.optionsStatist),o(2),b(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?29:30),o(3),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(31,V1)))},dependencies:[xe,pe,Te,Xe,Ae,Re,kt,ke,B,ti,Le],styles:[".cms-m-body[_ngcontent-%COMP%]{min-height:100vh;background:var(--cms-m-bg, #0f172a);color:var(--cms-m-fg, #e2e8f0)}.cms-m-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2;background:var(--cms-m-header-bg, #0f172a);border-bottom:1px solid rgba(255,255,255,.08)}.cms-m-header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 16px}.cms-m-header-title[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:var(--cms-m-accent, #38bdf8)}.cms-m-header-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-left:auto}.cms-m-header-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:#ffffff0d;color:#e2e8f0;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.cms-m-header-action-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.cms-m-header-action-btn.active[_ngcontent-%COMP%]{background:#38bdf833;border-color:#38bdf866}.cms-m-header-action-btn[_ngcontent-%COMP%]   i.rotation360[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotation360 1s linear infinite}@keyframes _ngcontent-%COMP%_rotation360{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.cms-m-search-area[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px 16px}.cms-m-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.cms-m-list-item[_ngcontent-%COMP%]{display:flex;gap:12px;padding:12px;border-radius:14px;background:#ffffff0a;border:1px solid rgba(255,255,255,.06);cursor:pointer;transition:all .2s ease}.cms-m-list-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.cms-m-list-item.selected[_ngcontent-%COMP%]{border-color:var(--cms-m-accent, #38bdf8);box-shadow:0 0 0 1px #38bdf84d}.cms-m-list-item-image[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;overflow:hidden;flex-shrink:0}.cms-m-list-item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:grid;place-items:center;background:#38bdf81f;color:#38bdf8;flex-shrink:0}.cms-m-list-item-content[_ngcontent-%COMP%]{flex:1;min-width:0}.cms-m-list-item-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:4px;font-size:14px}.cms-m-list-item-subtitle[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8}.cms-m-list-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0}.cms-m-empty[_ngcontent-%COMP%]{padding:24px;text-align:center;color:#94a3b8}"]});var Er=Nn;var Z1=["vform"];function $1(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",23),T("modelChange",function(t){m(e);let l=d();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=d();D("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ev(n,s){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.required")))}function tv(n,s){n&1&&(a(0,"mat-error"),c(1," Description is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.required")))}function iv(n,s){if(n&1&&(g(0,"img",19),S(1,"cmsthumbnail")),n&2){let e=d();_("src",R(C(1,2,e.dataModel.linkMainImageIdSrc)),K)}}function nv(n,s){if(n&1){let e=P();a(0,"div",12)(1,"label",24),M("click",function(){m(e);let t=d();return u(t.fileManagerOpenForm=!0)}),c(2),S(3,"translate"),r(),a(4,"input",25,4),S(6,"translate"),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),u(t)}),M("click",function(){m(e);let t=d();return u(t.fileManagerOpenForm=!0)}),r(),a(7,"cms-file-manager",26),M("itemSelected",function(t){m(e);let l=d();return u(l.onActionFileSelected(t))}),T("openFormChange",function(t){m(e);let l=d();return y(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),u(t)}),r()()}if(n&2){let e=d();o(2),A(C(3,12,"TITLE.Icon_File")),o(2),_("placeholder",R(C(6,14,"TITLE.Original_File_ID"))),D("ngModel",e.dataModel.linkMainImageId),o(3),_("language",e.appLanguage)("isPopup",!0),D("openForm",e.fileManagerOpenForm),_("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function ov(n,s){if(n&1){let e=P();a(0,"div",22)(1,"button",27),M("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",28),c(3),S(4,"translate"),r(),a(5,"button",29),g(6,"i",30),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),h(" ",C(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var ga=class ga extends _t{constructor(e,i,t,l,f,p,k,X){super(l,new ln,p,X);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderSourceService=l;this.cmsToastrService=f;this.publicHelper=p;this.cdr=k;this.translate=X;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Y;this.dataModel=new ln;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourceService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0,Id:i.item.id})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ga.\u0275fac=function(i){return new(i||ga)(I(le),I(re),I(ie),I(zi),I(N),I(G),I(F),I(O))},ga.\u0275cmp=L({type:ga,selectors:[["app-data-provider-source-add"]],viewQuery:function(i,t){if(i&1&&U(Z1,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[W],decls:42,vars:29,consts:[["vform","ngForm"],["Title",""],["Description",""],["KeyCode",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.keyCode",1,"color-highlight"],["matInput","","type","text","name","dataModel.keyCode","placeholder","....","minlength","0","maxlength","100","id","dataModel.keyCode",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",5),g(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),g(8,"app-cms-form-result-message",9),a(9,"form",10,0),M("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(11,$1,1,5,"app-cms-enum-record-status-selector",11),a(12,"div",12)(13,"label",13),c(14),r(),a(15,"input",14,1),T("ngModelChange",function(p){return m(l),y(t.dataModel.title,p)||(t.dataModel.title=p),u(p)}),r(),a(17,"em"),c(18),r(),v(19,ev,5,3,"mat-error"),r(),a(20,"div",12)(21,"label",15),c(22),r(),a(23,"textarea",16,2),T("ngModelChange",function(p){return m(l),y(t.dataModel.description,p)||(t.dataModel.description=p),u(p)}),c(25,"          "),r(),a(26,"em"),c(27),r(),v(28,tv,5,3,"mat-error"),r(),a(29,"div",17)(30,"a",18),S(31,"cmsthumbnail"),v(32,iv,2,4,"img",19),r()(),v(33,nv,8,16,"div",12),a(34,"div",12)(35,"label",20),c(36),r(),a(37,"input",21,3),T("ngModelChange",function(p){return m(l),y(t.dataModel.keyCode,p)||(t.dataModel.keyCode=p),u(p)}),r(),a(39,"em"),c(40),r()(),v(41,ov,9,7,"div",22),r()()()}if(i&2){let l=x(16),f=x(24),p=x(38);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",C(7,25,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(3),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),D("ngModel",t.dataModel.title),o(3),h("",l.value.length," / 100"),o(),b(l.errors!=null&&l.errors.required?19:-1),o(3),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),D("ngModel",t.dataModel.description),o(4),h("",f.value.length," / 500"),o(),b(f.errors!=null&&f.errors.required?28:-1),o(2),_("href",R(C(31,27,t.dataModel.linkMainImageIdSrc)),K),o(2),b((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?32:-1),o(),b(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?33:-1),o(3),A(t.fieldsInfo.keyCode==null?null:t.fieldsInfo.keyCode.fieldTitle),o(),D("ngModel",t.dataModel.keyCode),o(3),h("",p.value.length," / 100"),o(),b(t.formInfo.submitButtonEnabled?41:-1)}},dependencies:[ge,$,ee,Ce,De,ye,ce,he,qe,q,ve,j,Se,Ht,B,Pe],encapsulation:2});var Dr=ga;var av=["vform"];function rv(n,s){if(n&1){let e=P();a(0,"div",8)(1,"button",9),M("click",function(){m(e);let t=d();return u(t.onFormDelete())}),g(2,"i",10),c(3),S(4,"translate"),r(),a(5,"button",11),M("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(6,"i",12),c(7),S(8,"translate"),r()()}if(n&2){let e=d();o(),_("disabled",!e.formInfo.submitButtonEnabled),o(2),h(" ",C(4,3,"ACTION.DELETE")," "),o(4),h(" ",C(8,5,"ACTION.CANCEL")," ")}}var va=class va{constructor(s,e,i,t,l,f,p){this.data=s;this.dialogRef=e;this.publicHelper=i;this.dataProviderSourceService=t;this.cdr=l;this.translate=f;this.cmsToastrService=p;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new Y;this.formInfo=new $t;this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=s.id||"")}ngOnInit(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderSourceService.setAccessLoad(),this.dataProviderSourceService.setAccessDataType(Ne.Editor),this.dataProviderSourceService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onFormDelete(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderSourceService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};va.\u0275fac=function(e){return new(e||va)(I(le),I(re),I(G),I(zi),I(F),I(O),I(N))},va.\u0275cmp=L({type:va,selectors:[["app-data-provider-source-delete"]],viewQuery:function(e,i){if(e&1&&U(av,5),e&2){let t;Q(t=z())&&(i.formGroup=t.first)}},standalone:!1,decls:14,vars:10,consts:[["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","title",1,"color-highlight"],["matInput","","name","title","type","text","required","","readonly","","id","title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){if(e&1){let t=P();a(0,"div",1),g(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),a(8,"div",5)(9,"label",6),c(10),r(),a(11,"input",7,0),T("ngModelChange",function(f){return m(t),y(i.dataModelResultContent.item.title,f)||(i.dataModelResultContent.item.title=f),u(f)}),r()(),v(13,rv,9,7,"div",8),r()()}e&2&&(o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(3),h(" ",i.formInfo.formTitle," "),o(2),h(" ",C(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),D("ngModel",i.dataModelResultContent.item.title),o(2),b(i.formInfo.submitButtonEnabled?13:-1))},dependencies:[$,ee,Ee,ce,q,j,B],encapsulation:2});var yr=va;var lv=["vform"];function sv(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",27),T("modelChange",function(t){m(e);let l=d();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=d();D("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function dv(n,s){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.required")))}function cv(n,s){n&1&&(a(0,"mat-error"),c(1," Description is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.required")))}function pv(n,s){if(n&1&&(g(0,"img",22),S(1,"cmsthumbnail")),n&2){let e=d();_("src",R(C(1,2,e.dataModel.linkMainImageIdSrc)),K)}}function mv(n,s){if(n&1){let e=P();a(0,"div",13)(1,"label",28),M("click",function(){m(e);let t=d();return u(t.fileManagerOpenForm=!0)}),c(2),S(3,"translate"),r(),a(4,"input",29,5),S(6,"translate"),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),u(t)}),M("click",function(){m(e);let t=d();return u(t.fileManagerOpenForm=!0)}),r(),a(7,"cms-file-manager",30),M("itemSelected",function(t){m(e);let l=d();return u(l.onActionFileSelected(t))}),T("openFormChange",function(t){m(e);let l=d();return y(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),u(t)}),r()()}if(n&2){let e=d();o(2),A(C(3,12,"TITLE.Icon_File")),o(2),_("placeholder",R(C(6,14,"TITLE.Original_File_ID"))),D("ngModel",e.dataModel.linkMainImageId),o(3),_("language",e.appLanguage)("isPopup",!0),D("openForm",e.fileManagerOpenForm),_("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function uv(n,s){if(n&1){let e=P();a(0,"div",26)(1,"button",31),M("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",32),c(3),S(4,"translate"),r(),a(5,"button",33),g(6,"i",34),c(7),S(8,"translate"),r()()}if(n&2){d();let e=x(10);o(3),h(" ",C(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var ba=class ba extends St{constructor(e,i,t,l,f,p,k,X,Ge){super(l,new ln,k,Ge);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderSourceService=l;this.dataProviderPlanSourceService=f;this.cmsToastrService=p;this.publicHelper=k;this.cdr=X;this.translate=Ge;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new pt;this.dataModel=new ln;this.fileManagerOpenForm=!1;this.dataCoreCpMainMenuIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id||""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){if(this.requestId?.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId?.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourceService.setAccessLoad(),this.dataProviderSourceService.setAccessDataType(Ne.Editor),this.dataProviderSourceService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.DataGetAllPlanSource()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourceService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}DataGetAllPlanSource(){if(this.requestId?.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Getting_access_category_from_the_server").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)});let i=new ae,t=new J;t.propertyName="LinkSourceId",t.value=this.requestId,i.filters.push(t),this.dataProviderPlanSourceService.ServiceGetAll(i).subscribe({next:l=>{this.dataCoreCpMainMenuCmsUserGroupModel=l.listItems;let f=[];this.dataCoreCpMainMenuCmsUserGroupModel.forEach(p=>{f.push(p.linkPlanId)}),this.dataCoreCpMainMenuIds=f,l.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(p=>{this.formInfo.submitResultMessage=p}),this.formInfo.submitResultMessage=l.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(l.errorMessage)),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorPlanSelect(e){this.dataCoreCpMainMenuModel=e}onActionSelectorPlanSelectAdded(e){let i=new yi;i.linkPlanId=e.id,i.linkSourceId=this.dataModel.id,this.dataProviderPlanSourceService.ServiceAdd(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onActionSelectorPlanSelectRemoved(e){let i=new yi;i.linkPlanId=e.id,i.linkSourceId=this.dataModel.id,this.dataProviderPlanSourceService.ServiceDeleteEntity(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}};ba.\u0275fac=function(i){return new(i||ba)(I(le),I(re),I(ie),I(zi),I(xi),I(N),I(G),I(F),I(O))},ba.\u0275cmp=L({type:ba,selectors:[["app-data-provider-source-edit"]],viewQuery:function(i,t){if(i&1&&U(lv,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[W],decls:48,vars:35,consts:[["vform","ngForm"],["Id",""],["Title",""],["Description",""],["KeyCode",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.id",1,"color-highlight"],["matInput","","type","id","name","dataModel.id","id","dataModel.id",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.keyCode",1,"color-highlight"],["matInput","","type","text","name","dataModel.keyCode","placeholder","....","minlength","0","maxlength","100","id","dataModel.keyCode",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();a(0,"div",6),g(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),g(8,"app-cms-form-result-message",10),a(9,"form",11,0),M("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(11,sv,1,5,"app-cms-enum-record-status-selector",12),a(12,"div",13)(13,"label",14),c(14),r(),a(15,"input",15,1),T("ngModelChange",function(p){return m(l),y(t.dataModel.id,p)||(t.dataModel.id=p),u(p)}),r()(),a(17,"div",13)(18,"label",16),c(19),r(),a(20,"input",17,2),T("ngModelChange",function(p){return m(l),y(t.dataModel.title,p)||(t.dataModel.title=p),u(p)}),r(),a(22,"em"),c(23),r(),v(24,dv,5,3,"mat-error"),r(),a(25,"div",13)(26,"label",18),c(27),r(),a(28,"textarea",19,3),T("ngModelChange",function(p){return m(l),y(t.dataModel.description,p)||(t.dataModel.description=p),u(p)}),c(30,"            "),r(),a(31,"em"),c(32),r(),v(33,cv,5,3,"mat-error"),r(),a(34,"div",20)(35,"a",21),S(36,"cmsthumbnail"),v(37,pv,2,4,"img",22),r()(),v(38,mv,8,16,"div",13),a(39,"div",13)(40,"label",23),c(41),r(),a(42,"input",24,4),T("ngModelChange",function(p){return m(l),y(t.dataModel.keyCode,p)||(t.dataModel.keyCode=p),u(p)}),r(),a(44,"em"),c(45),r()(),a(46,"app-data-provider-plan-selectionlist",25),M("optionChange",function(p){return m(l),u(t.onActionSelectorPlanSelect(p))})("optionSelectAdded",function(p){return m(l),u(t.onActionSelectorPlanSelectAdded(p))})("optionSelectRemoved",function(p){return m(l),u(t.onActionSelectorPlanSelectRemoved(p))}),r(),v(47,uv,9,7,"div",26),r()()()}if(i&2){let l=x(21),f=x(29),p=x(43);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",C(7,31,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(3),A(t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle)),D("ngModel",t.dataModel.id),o(4),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),D("ngModel",t.dataModel.title),o(3),h("",l.value.length," / 100"),o(),b(l.errors!=null&&l.errors.required?24:-1),o(3),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),D("ngModel",t.dataModel.description),o(4),h("",f.value.length," / 500"),o(),b(f.errors!=null&&f.errors.required?33:-1),o(2),_("href",R(C(36,33,t.dataModel.linkMainImageIdSrc)),K),o(2),b((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?37:-1),o(),b(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?38:-1),o(3),A(t.fieldsInfo.keyCode==null?null:t.fieldsInfo.keyCode.fieldTitle),o(),D("ngModel",t.dataModel.keyCode),o(3),h("",p.value.length," / 100"),o(),_("optionSelectForce",t.dataCoreCpMainMenuIds)("optionDisabled",!1),o(),b(t.formInfo.submitButtonEnabled?47:-1)}},dependencies:[ge,$,ee,Ce,De,ye,ce,he,qe,q,ve,j,Se,bo,Ht,B,Pe],encapsulation:2});var Ra=ba;var fv=()=>["expandedTitle"],_v=()=>["expandedDetail"],Sv=()=>[5,10,20,100],ts=n=>({display:n});function Cv(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",44),M("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",45)(3,"br"),r(),a(4,"p",46),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.ADD")," "))}function hv(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",47),M("click",function(){m(e);let t=d();return u(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",48)(3,"br"),r(),a(4,"p",46),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.EDIT")," "))}function gv(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",49),M("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",50)(3,"br"),r(),a(4,"p",46),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.DELETE")," "))}function vv(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",51),M("click",function(){m(e);let t=d();return u(t.onActionButtonDataRow(t.tableRowSelected))}),g(2,"i",52)(3,"br"),r(),a(4,"p",46),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.DATA")," "))}function bv(n,s){if(n&1){let e=P();a(0,"div",16)(1,"a",51),M("click",function(){m(e);let t=d();return u(t.onActionButtonSourceList(t.tableRowSelected))}),g(2,"i",53)(3,"br"),r(),a(4,"p",46),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.SOURCE")," "))}function Mv(n,s){n&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"TITLE.MENU")," "))}function Iv(n,s){if(n&1){let e=P();a(0,"mat-cell")(1,"button",54),M("click",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowSelectActionMenu(t))}),g(2,"i",55),r()()}}function Pv(n,s){n&1&&(a(0,"mat-header-cell",56),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"TITLE.PICTURE")," "))}function wv(n,s){if(n&1&&(g(0,"img",57),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;_("src",R(C(1,2,e.linkMainImageIdSrc)),K)}}function Ev(n,s){if(n&1&&(a(0,"mat-cell"),v(1,wv,2,4,"img",57),r()),n&2){let e=s.$implicit;o(),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function Dv(n,s){if(n&1&&(a(0,"mat-header-cell",56),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function yv(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.id," ")}}function Tv(n,s){if(n&1&&(a(0,"mat-header-cell",56),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Av(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),r()),n&2){let e=s.$implicit;o(),h(" ",C(3,3,C(2,1,e.linkSiteId))," ")}}function Rv(n,s){if(n&1&&(a(0,"mat-header-cell",56),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function xv(n,s){if(n&1&&g(0,"select",59),n&2){let e=d().$implicit,i=d();_("contentService",i.contentService)("row",e)("ngStyle",Gt(3,ts,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function kv(n,s){if(n&1&&(a(0,"mat-cell"),g(1,"i",58),S(2,"statusIconClass"),v(3,xv,1,5,"select",59),r()),n&2){let e=s.$implicit,i=d();o(),_("ngClass",C(2,2,e.recordStatus)),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?3:-1)}}function Lv(n,s){if(n&1&&(a(0,"mat-header-cell",56),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Vv(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.title," ")}}function Bv(n,s){if(n&1&&(a(0,"mat-header-cell",56),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function Ov(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.description," ")}}function Fv(n,s){if(n&1&&(a(0,"mat-header-cell",56),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.hashMd5==null?null:e.fieldsInfo.hashMd5.fieldTitle," ")}}function Nv(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.hashMd5," ")}}function Gv(n,s){if(n&1&&(a(0,"mat-header-cell",56),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.keyCode==null?null:e.fieldsInfo.keyCode.fieldTitle," ")}}function Hv(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.keyCode," ")}}function Wv(n,s){n&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"TITLE.OPTION")," "))}function qv(n,s){if(n&1&&(a(0,"mat-cell",60)(1,"button",61)(2,"mat-icon"),c(3,"more_vert"),r()(),g(4,"mat-menu",null,2),r()),n&2){let e=x(5);o(),_("matMenuTriggerFor",e)}}function jv(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.title," ")}}function Uv(n,s){if(n&1&&(g(0,"img",62),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;_("src",R(C(1,2,e.linkMainImageIdSrc)),K)}}function Qv(n,s){if(n&1){let e=P();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),v(5,Uv,2,4,"img",62),r(),a(6,"th"),c(7),a(8,"span",63),M("click",function(){m(e);let t=d();return u(t.onActionCopied())}),g(9,"i",64),r()()(),a(10,"tr"),g(11,"td"),a(12,"td"),c(13),r()(),a(14,"tr"),g(15,"td"),a(16,"td"),c(17),r()(),a(18,"tr"),g(19,"td")(20,"td"),r()()()()}if(n&2){let e=s.$implicit;o(5),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),h(" ",e.id," "),o(),_("cdkCopyToClipboard",e.id),o(5),A(e.title),o(4),A(e.description)}}function zv(n,s){n&1&&g(0,"mat-header-row")}function Kv(n,s){if(n&1){let e=P();a(0,"mat-row",65),M("click",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Jv(n,s){if(n&1){let e=P();a(0,"mat-row",66),M("click",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Xv(n,s){if(n&1){let e=P();a(0,"mat-row",67),M("click",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),_("ngStyle",Gt(3,ts,e.expanded===!0?"":"none"))}}var Ma=class Ma extends Ct{constructor(e,i,t,l,f,p,k,X,Ge,$e){super(e,new ln,Ge,l,k);this.contentService=e;this.cmsToastrService=i;this.router=t;this.tokenHelper=l;this.cdr=f;this.cmsStoreService=p;this.translate=k;this.pageInfo=X;this.publicHelper=Ge;this.dialog=$e;this.tableData=[];this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new ae;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","recordStatus","id","Description","HashMd5","KeyCode","action_menu"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","recordStatus","id","Description","HashMd5","KeyCode","action_menu"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ke=>this.onSubmitOptionsSearch(Ke)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=oe.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Ie(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ln);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id&&(typeof this.categoryModelSelected.id=="string"?this.categoryModelSelected.id.length>0:this.categoryModelSelected.id>0)){let t=new J;t.propertyName="PlanSources",t.propertyAnyName="LinkPlanId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,t.isSuccess?(this.tableData=t.listItems,this.tableSource.data=t.listItems,this.sort&&(this.tableSource.sort=this.sort),this.paginator&&(this.tableSource.paginator=this.paginator),this.tableSource.filter="",this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=oe.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=oe.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=oe.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new ae,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=new ut;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={parentId:this.categoryModelSelected.id},this.dialog.open(Dr,e).afterClosed().subscribe(t=>{if(t&&t.dialogChangedDate)if(t.id&&t.id>0){let l=new ut;l.disableClose=!0,l.autoFocus=!0,l.height="90%",l.data={id:t.id},this.dialog.open(Ra,l).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&(this.categoryModelSelected=new mt,this.DataGetAll())})}else this.categoryModelSelected=new mt,this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id?.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}let i=new ut;i.disableClose=!0,i.autoFocus=!0,i.height="90%",i.data={id:this.tableRowSelected.id},this.dialog.open(Ra,i).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&(this.categoryModelSelected=new mt,this.DataGetAll())})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(yr,{height:"40%",panelClass:i,enterAnimationDuration:se.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:se.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonSourceList(e=this.tableRowSelected,i){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/data-provider/plan-source/LinkSourceId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/plan-source/LinkSourceId/"+e.id])}onActionButtonDataRow(e=this.tableRowSelected,i){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){this.translate.get("MESSAGE.No_row_selected_for_viewing").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorAccessDelete();return}i?.ctrlKey?(this.link="/#/data-provider/log-source/LinkSourceId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/log-source/LinkSourceId/"+e.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new J;f.propertyName="recordStatus",f.value=ct.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Ma.\u0275fac=function(i){return new(i||Ma)(I(zi),I(N),I(Ye),I(ze),I(F),I(Qe),I(O),I(ft),I(G),I(je))},Ma.\u0275cmp=L({type:Ma,selectors:[["app-data-provider-source-list"]],viewQuery:function(i,t){if(i&1&&(U(Ue,5),U(pe,5)),i&2){let l;Q(l=z())&&(t.sort=l.first),Q(l=z())&&(t.paginator=l.first)}},standalone:!1,features:[W],decls:73,vars:37,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","title"],["matColumnDef","Description"],["matColumnDef","HashMd5"],["matColumnDef","KeyCode"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-database","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-file","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list",3),T("optionActionGuideNoticeDisplayChange",function(p){return m(l),y(t.viewGuideNotice,p)||(t.viewGuideNotice=p),u(p)}),M("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionButtonPrintRow())}),w(1,4),a(2,"app-data-provider-plan-tree",5),M("optionChange",function(p){return m(l),u(t.onActionSelectorSelect(p))}),r(),E(),be(3,6)(4,7),w(5,8),a(6,"a",9),M("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),g(7,"i",10),r(),a(8,"a",9),M("click",function(){return m(l),u(t.onActionButtonReload())}),g(9,"i",11),r(),E(),w(10,12),a(11,"a",13),M("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(12,"mat-slide-toggle",14),c(13),S(14,"translate"),r(),a(15,"a",13),M("click",function(){return m(l),u(t.onActionButtonStatist())}),g(16,"mat-slide-toggle",14),c(17),S(18,"translate"),r(),E(),w(19,15),v(20,Cv,7,3,"div",16),E(),w(21,17),v(22,hv,7,3,"div",16),v(23,gv,7,3,"div",16),v(24,vv,7,3,"div",16),v(25,bv,7,3,"div",16),E(),w(26,18),a(27,"app-cms-search-list",19),T("optionsChange",function(p){return m(l),y(t.optionsSearch,p)||(t.optionsSearch=p),u(p)}),r(),a(28,"app-cms-statist-list",19),T("optionsChange",function(p){return m(l),y(t.optionsStatist,p)||(t.optionsStatist=p),u(p)}),r(),E(),w(29,20),a(30,"mat-table",21,0),M("matSortChange",function(){m(l);let p=x(31);return u(t.onTableSortData(p))}),w(32,22),V(33,Mv,3,3,"mat-header-cell",23)(34,Iv,3,0,"mat-cell",24),E(),w(35,25),V(36,Pv,3,3,"mat-header-cell",26)(37,Ev,2,1,"mat-cell",24),E(),w(38,27),V(39,Dv,2,1,"mat-header-cell",26)(40,yv,2,1,"mat-cell",24),E(),w(41,28),V(42,Tv,2,1,"mat-header-cell",26)(43,Av,4,5,"mat-cell",24),E(),w(44,29),V(45,Rv,2,1,"mat-header-cell",26)(46,kv,4,4,"mat-cell",24),E(),w(47,30),V(48,Lv,2,1,"mat-header-cell",26)(49,Vv,2,1,"mat-cell",24),E(),w(50,31),V(51,Bv,2,1,"mat-header-cell",26)(52,Ov,2,1,"mat-cell",24),E(),w(53,32),V(54,Fv,2,1,"mat-header-cell",26)(55,Nv,2,1,"mat-cell",24),E(),w(56,33),V(57,Gv,2,1,"mat-header-cell",26)(58,Hv,2,1,"mat-cell",24),E(),w(59,34),V(60,Wv,3,3,"mat-header-cell",23)(61,qv,6,1,"mat-cell",35),E(),w(62,36),V(63,jv,2,1,"mat-cell",24),E(),w(64,37),V(65,Qv,21,5,"mat-cell",24),E(),V(66,zv,1,0,"mat-header-row",38)(67,Kv,1,2,"mat-row",39)(68,Jv,1,2,"mat-row",40)(69,Xv,1,5,"mat-row",41),r(),E(),w(70,42),a(71,"mat-paginator",43,1),M("page",function(p){return m(l),u(t.onTablePageingData(p))}),r(),E(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","dataprovider.source.list"),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),h("",C(14,30,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),h("",C(18,32,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow&&(t.categoryModelSelected==null?null:t.categoryModelSelected.id)>0?20:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?25:-1),o(2),D("options",t.optionsSearch),o(),D("options",t.optionsStatist),o(2),_("dataSource",t.tableSource),o(36),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",_e(34,fv)),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(),_("matRowDefColumns",_e(35,_v)),o(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(36,Sv)))},dependencies:[xe,Jt,Ze,Je,q,Mt,It,pe,Te,Ue,tt,Pt,nt,wt,ot,it,Et,at,rt,Dt,yt,Xe,Ae,Re,Tt,ke,lt,on,Fe,B,st,Pe,Le],encapsulation:2});var Gn=Ma;var Yv=()=>[5,10,20,100],Zv=(n,s)=>s.id;function $v(n,s){if(n&1){let e=P();a(0,"div",14)(1,"a",23),M("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",24)(3,"br"),r(),a(4,"p",25),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.ADD")," "))}function eb(n,s){if(n&1){let e=P();a(0,"div",14)(1,"a",26),M("click",function(){m(e);let t=d();return u(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",27)(3,"br"),r(),a(4,"p",25),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.EDIT")," "))}function tb(n,s){if(n&1){let e=P();a(0,"div",14)(1,"a",28),M("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",29)(3,"br"),r(),a(4,"p",25),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.DELETE")," "))}function ib(n,s){if(n&1){let e=P();a(0,"div",14)(1,"a",7),M("click",function(){m(e);let t=d();return u(t.onActionButtonDataRow(t.tableRowSelected))}),g(2,"i",30)(3,"br"),r(),a(4,"p",25),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.DATA")," "))}function nb(n,s){if(n&1){let e=P();a(0,"div",14)(1,"a",7),M("click",function(){m(e);let t=d();return u(t.onActionButtonSourceList(t.tableRowSelected))}),g(2,"i",31)(3,"br"),r(),a(4,"p",25),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.SOURCE")," "))}function ob(n,s){if(n&1&&(a(0,"div",34),g(1,"img",41),S(2,"cmsthumbnail"),r()),n&2){let e=d().$implicit;o(),_("src",C(2,2,e.linkMainImageIdSrc),K)("alt",e.title||e.id)}}function ab(n,s){n&1&&(a(0,"div",35),g(1,"i",42),r())}function rb(n,s){if(n&1&&(a(0,"div",38),g(1,"i",43),c(2),r()),n&2){let e=d().$implicit,i=d(2);o(2),de(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",e.id," ")}}function lb(n,s){if(n&1&&(a(0,"div",38),g(1,"i",44),c(2),S(3,"cmssiteinfo"),S(4,"async"),r()),n&2){let e=d().$implicit,i=d(2);o(2),de(" ",i.fieldsInfo.linkSiteId==null?null:i.fieldsInfo.linkSiteId.fieldTitle,": ",C(4,4,C(3,2,e.linkSiteId))," ")}}function sb(n,s){if(n&1&&(a(0,"div",39),c(1),r()),n&2){let e=d().$implicit;o(),h(" ",e.description," ")}}function db(n,s){if(n&1&&g(0,"select",46),n&2){let e=d(2).$implicit,i=d(2);_("contentService",i.contentService)("row",e)}}function cb(n,s){if(n&1&&(a(0,"div",38),g(1,"i",45),S(2,"statusIconClass"),v(3,db,1,2,"select",46),r()),n&2){let e=d().$implicit,i=d(2);o(),_("ngClass",C(2,2,e.recordStatus)),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function pb(n,s){if(n&1&&(a(0,"div",47),g(1,"img",41),S(2,"cmsthumbnail"),r()),n&2){let e=d(2).$implicit;o(),_("src",C(2,2,e.linkMainImageIdSrc),K)("alt",e.title||e.id)}}function mb(n,s){if(n&1&&(a(0,"div",38),c(1),r()),n&2){let e=d(2).$implicit;o(),h(" ",e.description," ")}}function ub(n,s){if(n&1){let e=P();a(0,"div",40),v(1,pb,3,4,"div",47),a(2,"div",38)(3,"span",48),M("click",function(t){return m(e),d(3).onActionCopied(),u(t.stopPropagation())}),g(4,"i",49),r(),c(5),r(),v(6,mb,2,1,"div",38),r()}if(n&2){let e=d().$implicit;o(),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1),o(2),_("cdkCopyToClipboard",e.id.toString()),o(2),h(" ID: ",e.id," "),o(),b(e.description?6:-1)}}function fb(n,s){if(n&1){let e=P();a(0,"div",33),M("click",function(t){let l=m(e).$implicit,f=d(2);return u(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d(2);return u(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d(2);return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d(2);return u(l.onActionTableRowMouseLeave(t))}),v(1,ob,3,4,"div",34)(2,ab,2,0,"div",35),a(3,"div",36)(4,"div",37),c(5),r(),v(6,rb,3,2,"div",38),v(7,lb,5,6,"div",38),v(8,sb,2,1,"div",39),v(9,cb,4,4,"div",38),v(10,ub,7,4,"div",40),r()()}if(n&2){let e=s.$implicit,i=d(2);H("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),He("aria-label",e.title||e.id),o(),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:2),o(4),h(" ",e.title||"ID: "+e.id," "),o(),b(e.id?6:-1),o(),b(e.linkSiteId?7:-1),o(),b(e.description?8:-1),o(),b(e.recordStatus!==void 0?9:-1),o(),b(i.getRowExpanded(e)?10:-1)}}function _b(n,s){if(n&1&&(a(0,"div",19),Be(1,fb,11,10,"div",32,Zv),r()),n&2){let e=d();o(),Oe(e.dataModelResult.listItems)}}function Sb(n,s){n&1&&(a(0,"div",20),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"MESSAGE.NoRecord")," "))}var Hn=class Hn extends Gn{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(e){return e.expanded===!0}};Hn.\u0275fac=(()=>{let e;return function(t){return(e||(e=Rt(Hn)))(t||Hn)}})(),Hn.\u0275cmp=L({type:Hn,selectors:[["app-data-provider-source-list-mobile"]],hostBindings:function(i,t){i&1&&M("click",function(f){return t.onDocumentClick(f)},bt)},standalone:!1,features:[W],decls:35,vars:32,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-database","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-file","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item",3,"selected"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image"],[1,"cms-m-list-item-image-placeholder"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-description"],[1,"cms-m-list-item-expanded"],["loading","lazy",3,"src","alt"],["aria-hidden","true",1,"fa-solid","fa-database"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-globe"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"cms-m-list-item-expanded-image"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list-mobile",1),T("optionActionGuideNoticeDisplayChange",function(p){return m(l),y(t.viewGuideNotice,p)||(t.viewGuideNotice=p),u(p)}),M("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionButtonPrintRow())}),w(1,2),a(2,"app-data-provider-plan-tree",3),M("optionChange",function(p){return m(l),u(t.onActionSelectorSelect(p))}),r(),E(),be(3,4)(4,5),w(5,6),a(6,"a",7),M("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),g(7,"i",8),r(),a(8,"a",7),M("click",function(){return m(l),u(t.onActionButtonReload())}),g(9,"i",9),r(),E(),w(10,10),a(11,"a",11),M("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(12,"mat-slide-toggle",12),c(13),S(14,"translate"),r(),a(15,"a",11),M("click",function(){return m(l),u(t.onActionButtonStatist())}),g(16,"mat-slide-toggle",12),c(17),S(18,"translate"),r(),E(),w(19,13),v(20,$v,7,3,"div",14),E(),w(21,15),v(22,eb,7,3,"div",14),v(23,tb,7,3,"div",14),v(24,ib,7,3,"div",14),v(25,nb,7,3,"div",14),E(),w(26,16),a(27,"app-cms-search-list",17),T("optionsChange",function(p){return m(l),y(t.optionsSearch,p)||(t.optionsSearch=p),u(p)}),r(),a(28,"app-cms-statist-list",17),T("optionsChange",function(p){return m(l),y(t.optionsStatist,p)||(t.optionsStatist=p),u(p)}),r(),E(),w(29,18),v(30,_b,3,0,"div",19)(31,Sb,3,3,"div",20),E(),w(32,21),a(33,"mat-paginator",22,0),M("page",function(p){return m(l),u(t.onTablePageingData(p))}),r(),E(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","dataprovider.source.list"),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),h("",C(14,27,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),h("",C(18,29,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow&&(t.categoryModelSelected==null?null:t.categoryModelSelected.id)>0?20:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?22:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?23:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?24:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?25:-1),o(2),D("options",t.optionsSearch),o(),D("options",t.optionsStatist),o(2),b(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?30:31),o(3),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(31,Yv)))},dependencies:[xe,q,pe,Te,Xe,Ae,Re,kt,ke,lt,on,Fe,B,st,Pe,Le],styles:[".cms-m-body[_ngcontent-%COMP%]{min-height:100vh;background:var(--cms-m-bg, #0f172a);color:var(--cms-m-fg, #e2e8f0)}.cms-m-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2;background:var(--cms-m-header-bg, #0f172a);border-bottom:1px solid rgba(255,255,255,.08)}.cms-m-header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 16px}.cms-m-header-title[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:var(--cms-m-accent, #38bdf8)}.cms-m-header-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-left:auto}.cms-m-header-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:#ffffff0d;color:#e2e8f0;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.cms-m-header-action-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.cms-m-header-action-btn.active[_ngcontent-%COMP%]{background:#38bdf833;border-color:#38bdf866}.cms-m-header-action-btn[_ngcontent-%COMP%]   i.rotation360[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotation360 1s linear infinite}@keyframes _ngcontent-%COMP%_rotation360{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.cms-m-search-area[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px 16px}.cms-m-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.cms-m-list-item[_ngcontent-%COMP%]{display:flex;gap:12px;padding:12px;border-radius:14px;background:#ffffff0a;border:1px solid rgba(255,255,255,.06);cursor:pointer;transition:all .2s ease}.cms-m-list-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.cms-m-list-item.selected[_ngcontent-%COMP%]{border-color:var(--cms-m-accent, #38bdf8);box-shadow:0 0 0 1px #38bdf84d}.cms-m-list-item-image[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;overflow:hidden;flex-shrink:0}.cms-m-list-item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:grid;place-items:center;background:#38bdf81f;color:#38bdf8;flex-shrink:0}.cms-m-list-item-content[_ngcontent-%COMP%]{flex:1;min-width:0}.cms-m-list-item-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:4px;font-size:14px}.cms-m-list-item-subtitle[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8}.cms-m-list-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0}.cms-m-empty[_ngcontent-%COMP%]{padding:24px;text-align:center;color:#94a3b8}"]});var xa=Hn;var is=[{path:"",component:ko,data:{title:"ROUTE.DATAPROVIDER.MAIN"},children:[{path:"client",component:or,data:{title:"ROUTE.DATAPROVIDER.CLIENT"}},{path:"plan",component:Aa,data:{title:"ROUTE.DATAPROVIDER.PLAN"}},{path:"source",component:xa,data:{title:"ROUTE.DATAPROVIDER.SOURCE"}},{path:"source/list/LinkSourceCompanyId/:LinkSourceCompanyId",component:xa,data:{title:"ROUTE.DATAPROVIDER.SOURCE"}},{path:"plan-client",component:Fo,data:{title:"ROUTE.DATAPROVIDER.PLANCLIENT"}},{path:"plan-client/LinkPlanId/:LinkPlanId",component:Fo,data:{title:"ROUTE.DATAPROVIDER.PLANCLIENT"}},{path:"plan-client/LinkClientId/:LinkClientId",component:Fo,data:{title:"ROUTE.DATAPROVIDER.PLANCLIENT"}},{path:"plan/LinkPlanCategory/:LinkPlanCategory",component:Aa,data:{title:"ROUTE.DATAPROVIDER.PLAN"}},{path:"plan-source",component:Ko,data:{title:"ROUTE.DATAPROVIDER.PLANSOURCE"}},{path:"plan-source/LinkPlanId/:LinkPlanId",component:Ko,data:{title:"ROUTE.DATAPROVIDER.PLANSOURCE"}},{path:"plan-source/LinkSourceId/:LinkSourceId",component:Ko,data:{title:"ROUTE.DATAPROVIDER.PLANSOURCE"}},{path:"plan-price",component:Ta,data:{title:"ROUTE.DATAPROVIDER.PLANPRICE"}},{path:"plan-price/LinkPlanId/:LinkPlanId",component:Ta,data:{title:"ROUTE.DATAPROVIDER.PLANPRICE"}},{path:"source-company",component:gr,data:{title:"ROUTE.DATAPROVIDER.SOURCECOMPANY"}},{path:"source-public-config",component:Er,data:{title:"ROUTE.DATAPROVIDER.SOURCEPUBLICCONFIG"}},{path:"source-path",component:Ir,data:{title:"ROUTE.DATAPROVIDER.SOURCEPATH"}},{path:"source-path-pagination",component:Mr,data:{title:"ROUTE.DATAPROVIDER.SOURCEPATH"}},{path:"client-application",component:Co,data:{title:"ROUTE.DATAPROVIDER.CLIENTAPPLICATION"}},{path:"client-application/LinkUserId/:LinkUserId",component:Co,data:{title:"ROUTE.DATAPROVIDER.CLIENTAPPLICATION"}},{path:"client-application/LinkSiteId/:LinkSiteId",component:Co,data:{title:"ROUTE.DATAPROVIDER.CLIENTAPPLICATION"}},{path:"client-application-permission",component:mo,data:{title:"ROUTE.DATAPROVIDER.CLIENTAPPLICATIONPERMISSION"}},{path:"client-application-permission/LinkClientApplicationId/:LinkClientApplicationId",component:mo,data:{title:"ROUTE.DATAPROVIDER.CLIENTAPPLICATIONPERMISSION"}},{path:"client-application-permission/LinkSourcePathId/:LinkSourcePathId",component:mo,data:{title:"ROUTE.DATAPROVIDER.CLIENTAPPLICATIONPERMISSION"}}]}];function hb(n,s){if(n&1&&(a(0,"div"),g(1,"br"),a(2,"tr")(3,"td"),c(4),S(5,"translate"),r(),a(6,"td"),c(7),S(8,"currency"),r()(),g(9,"br"),a(10,"tr")(11,"td"),c(12),S(13,"translate"),r(),a(14,"td"),c(15),S(16,"currency"),r()(),g(17,"br"),a(18,"tr")(19,"td"),c(20),S(21,"translate"),r(),a(22,"td"),c(23),S(24,"currency"),r()(),g(25,"hr"),a(26,"tr")(27,"td"),c(28),S(29,"translate"),r(),a(30,"td"),c(31),S(32,"currency"),r()()()),n&2){let e=d();o(4),h("",C(5,8,"TITLE.FEETAX"),":"),o(3),h(" ",si(8,10,e.dataModelCalculateResult.item.feeTax," "+e.dataModelCalculateResult.item.currency+" ")," "),o(5),h("",C(13,13,"TITLE.Amount_pure"),":"),o(3),h(" ",si(16,15,e.dataModelCalculateResult.item.amountPure," "+e.dataModelCalculateResult.item.currency+" ")," "),o(5),h("",C(21,18,"TITLE.Fee_transport"),":"),o(3),h(" ",si(24,20,e.dataModelCalculateResult.item.feeTransport," "+e.dataModelCalculateResult.item.currency+" ")," "),o(5),h("",C(29,23,"TITLE.Final_Amount"),":"),o(3),h(" ",si(32,25,e.dataModelCalculateResult.item.amount," "+e.dataModelCalculateResult.item.currency+" ")," ")}}function gb(n,s){if(n&1){let e=P();a(0,"div",12)(1,"button",13),M("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",14),c(3),S(4,"translate"),r(),a(5,"button",15),M("click",function(){m(e);let t=d();return u(t.onActionSelectBankPayment())}),g(6,"i",16),c(7),S(8,"translate"),r()()}if(n&2){let e=d();o(3),h(" ",C(4,4,"ACTION.CANCEL")," "),o(2),_("mat-dialog-close",!0)("disabled",!e.viewCalculate),o(2),h(" ",C(8,6,"ACTION.PAYMENT")," ")}}var Ia=class Ia{constructor(s,e,i,t,l,f,p,k){this.data=s;this.document=e;this.dialogRef=i;this.cmsToastrService=t;this.dataProviderTransactionService=l;this.translate=f;this.cdr=p;this.publicHelper=k;this.requestLinkPlanPriceId="";this.requestLinkClientId="";this.requestBankPrivateMaster=!1;this.constructorInfoAreaId=this.constructor.name;this.viewCalculate=!1;this.dataModelResult=new Y;this.dataModelCalculateResult=new Y;this.dataModelPaymentResult=new Y;this.dataModelCalculate=new Fa;this.dataModelPayment=new zr;this.formInfo=new $t;if(this.publicHelper.processService.cdr=this.cdr,s&&(s.linkPlanPriceId&&s.linkPlanPriceId?.length>0&&(this.requestLinkPlanPriceId=s.linkPlanPriceId.toString()),s.linkClientId&&s.linkClientId?.length>0&&(this.requestLinkClientId=s.linkClientId.toString())),this.requestLinkPlanPriceId?.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}if(this.requestLinkClientId?.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.dataModelCalculate.linkPlanPriceId=this.requestLinkPlanPriceId,this.dataModelCalculate.linkClientId=this.requestLinkClientId,this.dataModelPayment.linkPlanPriceId=this.requestLinkPlanPriceId,this.dataModelPayment.linkClientId=this.requestLinkClientId,this.dataModelPayment.lastUrlAddressInUse=this.document.location.href}ngOnInit(){this.translate.get("TITLE.Select_Payment_Gateway").subscribe(s=>{this.formInfo.formTitle=s})}DataCalculate(){this.viewCalculate=!1;let s=this.constructor.name+"ServiceOrderCalculate";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderTransactionService.ServiceOrderCalculate(this.dataModelCalculate).subscribe({next:e=>{e.isSuccess?(this.dataModelCalculateResult=e,this.viewCalculate=!0):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}DataPayment(){this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"ServiceOrderPayment";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderTransactionService.ServiceOrderPayment(this.dataModelPayment).subscribe({next:e=>{e.isSuccess?(this.dataModelPaymentResult=e,this.translate.get("MESSAGE.Transferring_to_the_payment_gateway").subscribe(i=>{this.cmsToastrService.typeSuccessMessage(i)}),localStorage.setItem(El,e.item.transactionId.toString()),this.document.location.href=this.dataModelPaymentResult.item.urlToPay):(this.cmsToastrService.typeErrorMessage(e.errorMessage),this.formInfo.submitButtonEnabled=!0),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)}})}onActionSelectCalculate(s){this.dataModelCalculate.bankPaymentPrivateId=s.id,this.dataModelPayment.bankPaymentPrivateId=s.id,this.DataCalculate()}onActionSelectBankPayment(){this.DataPayment()}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ia.\u0275fac=function(e){return new(e||Ia)(I(le),I(La),I(re),I(N),I(Yr),I(O),I(F),I(G))},Ia.\u0275cmp=L({type:Ia,selectors:[["app-data-provider-client-charge-payment"]],standalone:!1,decls:22,vars:8,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"menu-title"],[1,"color-highlight"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"example-card"],["mat-card-md-image","",3,"optionChange","optionMasterItem"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"click","mat-dialog-close","disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){e&1&&(a(0,"div",0),g(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),c(4),r(),a(5,"a",4),M("click",function(){return i.onFormCancel()}),g(6,"i",5),r(),g(7,"hr"),r(),a(8,"div",6)(9,"p",7),c(10),r(),a(11,"mat-card",8)(12,"mat-card-header")(13,"mat-card-title"),c(14),r()(),a(15,"app-cms-bankpayment-grid",9),M("optionChange",function(l){return i.onActionSelectCalculate(l)}),r(),a(16,"mat-card-content"),v(17,hb,33,28,"div"),r(),a(18,"mat-card-actions")(19,"div",10),g(20,"app-cms-form-result-message",11),r(),v(21,gb,9,8,"div",12),r()()()()),e&2&&(o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(3),A(i.formInfo.formTitle),o(6),h(" ",i.formInfo.formDescription," "),o(4),h("",i.formInfo.formTitle," "),o(),_("optionMasterItem",i.requestBankPrivateMaster),o(2),b(i.viewCalculate?17:-1),o(3),_("formInfo",i.formInfo),o(),b(i.formInfo.submitButtonEnabled?21:-1))},dependencies:[Ha,ja,qa,Ua,sl,Wa,dl,j,Se,Ol,Hr,B],styles:[".example-card[_ngcontent-%COMP%]{max-width:200px}"]});var Tr=Ia;function vb(n,s){if(n&1&&g(0,"app-data-provider-plan-header",0),n&2){let e=d();_("optionId",e.requestLinkClientId)}}var Pa=class Pa{constructor(s,e,i,t,l,f,p){this.document=s;this.activatedRoute=e;this.dialog=i;this.coreSiteService=t;this.cmsToastrService=l;this.router=f;this.translate=p;this.requestLinkClientId="";this.constructorInfoAreaId=this.constructor.name;this.price="";this.currency="";this.viewCalculate=!1;this.dataModelCalculate=new Fa;this.LinkPlanPriceId=this.dataModelCalculate.linkPlanPriceId;this.requestLinkClientId=this.activatedRoute.snapshot.paramMap.get("LinkClientId")||"",this.dataModelCalculate.linkClientId=this.requestLinkClientId}ngOnInit(){this.DataGetCurrency();let s=localStorage.getItem("TransactionId")||"";s?.length>0&&this.dialog.open(Bl,{data:{id:s}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&localStorage.removeItem("TransactionId")})}DataGetCurrency(){this.coreSiteService.ServiceGetCurrencyMaster().subscribe({next:s=>{s.isSuccess&&(this.currency=s.item)},error:s=>{this.cmsToastrService.typeError(s)}})}onActionButtonBuy(){this.dialog.open(Tr,{height:"90%",data:{LinkPlanPriceId:this.dataModelCalculate.linkPlanPriceId,LinkClientId:this.dataModelCalculate.linkClientId}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate})}onActionBackToParent(){this.router.navigate(["/data-provider/client/"])}onInputChange(s){this.price=s.target.value}};Pa.\u0275fac=function(e){return new(e||Pa)(I(La),I(jt),I(je),I(zn),I(N),I(Ye),I(O))},Pa.\u0275cmp=L({type:Pa,selectors:[["app-data-provider-client-charge"]],standalone:!1,decls:23,vars:13,consts:[[3,"optionId"],[1,"row"],["Class","col-xl-12"],[1,"col"],[1,"example-card"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(v(0,vb,1,1,"app-data-provider-plan-header",0),a(1,"div",1)(2,"div",2)(3,"div",1)(4,"div",3)(5,"mat-card",4)(6,"mat-card-header")(7,"mat-card-title"),c(8),S(9,"translate"),r(),g(10,"mat-card-subtitle"),r(),a(11,"mat-card-content")(12,"p"),g(13,"br"),c(14),r()(),a(15,"mat-card-actions")(16,"button",5),M("click",function(){return i.onActionButtonBuy()}),c(17),S(18,"translate"),r(),a(19,"button",6),M("click",function(){return i.onActionBackToParent()}),g(20,"i",7),c(21),S(22,"translate"),r()()()()()()()),e&2&&(b(i.requestLinkClientId&&(typeof i.requestLinkClientId=="string"?i.requestLinkClientId.length>0:i.requestLinkClientId>0)?0:-1),o(8),h(" ",C(9,7,"TITLE.Amount_payable")," "),o(6),Br(" 20000 ",i.LinkPlanPriceId," ",i.price," ",i.currency," "),o(3),h(" ",C(18,9,"ACTION.BUY")," "),o(4),h(" ",C(22,11,"ACTION.BACK")," "))},dependencies:[Ha,ja,qa,Ua,ll,Wa,no,B],encapsulation:2});var Ar=Pa;var bb=()=>[5,10,20,100];function Mb(n,s){if(n&1){let e=P();a(0,"a",51),M("click",function(){m(e);let t=d();return u(t.onActionBackToParent())}),g(1,"i",52),r()}}function Ib(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",22),M("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",53)(3,"br"),r(),a(4,"p",20),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.ADD")," "))}function Pb(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",54),M("click",function(){m(e);let t=d();return u(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",55)(3,"br"),r(),a(4,"p",20),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.EDIT")," "))}function wb(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",56),M("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",57)(3,"br"),r(),a(4,"p",20),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.DELETE")," "))}function Eb(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",19),M("click",function(){m(e);let t=d();return u(t.onActionButtonCopy(t.tableRowSelected))}),g(2,"i",58)(3,"br"),r(),a(4,"p",20),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.COPY")," "))}function Db(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",10),M("click",function(){m(e);let t=d();return u(t.onActionButtonSendTest(t.tableRowSelected))}),g(2,"i",59)(3,"br"),r(),a(4,"p",20),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.SEND_TEST")," "))}function yb(n,s){if(n&1){let e=P();a(0,"div",17)(1,"a",10),M("click",function(){m(e);let t=d();return u(t.onActionButtonReportsRow(t.tableRowSelected))}),g(2,"i",60)(3,"br"),r(),a(4,"p",20),c(5),S(6,"translate"),r()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.REPORTS")," "))}function Tb(n,s){n&1&&(a(0,"mat-header-cell",61),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"TITLE.PICTURE")," "))}function Ab(n,s){if(n&1&&(g(0,"img",62),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;_("src",R(C(1,2,e.linkMainImageIdSrc)),K)}}function Rb(n,s){if(n&1&&(a(0,"mat-cell"),v(1,Ab,2,4,"img",62),r()),n&2){let e=s.$implicit;o(),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function xb(n,s){if(n&1&&(a(0,"mat-header-cell",61),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function kb(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.id," ")}}function Lb(n,s){if(n&1&&(a(0,"mat-header-cell",61),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Vb(n,s){if(n&1&&(a(0,"mat-cell",63),S(1,"statusCellClass"),g(2,"i",63),S(3,"statusIconClass"),r()),n&2){let e=s.$implicit;_("ngClass",C(1,2,e.recordStatus)),o(2),_("ngClass",C(3,4,e.recordStatus))}}function Bb(n,s){if(n&1&&(a(0,"mat-header-cell",61),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Ob(n,s){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.title," ")}}function Fb(n,s){if(n&1&&(a(0,"mat-header-cell",61),c(1),r()),n&2){let e=d();o(),h("",e.fieldsInfo.linkSourceCompanyId==null?null:e.fieldsInfo.linkSourceCompanyId.fieldTitle," ")}}function Nb(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"cmstitle"),r()),n&2){let e=s.$implicit,i=d();o(),h(" ",si(2,1,e.linkSourceCompanyId,i.dataModelCompanyResult.listItems)," ")}}function Gb(n,s){if(n&1&&(a(0,"mat-header-cell",61),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.linkPublicConfigId==null?null:e.fieldsInfo.linkPublicConfigId.fieldTitle," ")}}function Hb(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"cmstitle"),r()),n&2){let e=s.$implicit,i=d();o(),h(" ",si(2,1,e.linkPublicConfigId,i.dataModelPublicResult.listItems)," ")}}function Wb(n,s){if(n&1&&(a(0,"mat-header-cell",61),c(1),r()),n&2){let e=d();o(),h(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function qb(n,s){if(n&1&&(a(0,"mat-cell"),c(1),S(2,"localeDate"),r()),n&2){let e=s.$implicit;o(),h(" ",C(2,1,e.updatedDate)," ")}}function jb(n,s){n&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),n&2&&(o(),h(" ",C(2,1,"TITLE.OPTION")," "))}function Ub(n,s){if(n&1&&(a(0,"mat-cell",64)(1,"button",65)(2,"mat-icon"),c(3,"more_vert"),r()(),g(4,"mat-menu",null,2),r()),n&2){let e=x(5);o(),_("matMenuTriggerFor",e)}}function Qb(n,s){n&1&&(a(0,"mat-header-cell",61),c(1,". "),r())}function zb(n,s){n&1&&(a(0,"mat-cell")(1,"mat-icon",66),c(2,"reorder"),r()())}function Kb(n,s){n&1&&g(0,"mat-header-row")}function Jb(n,s){n&1&&g(0,"div",69)}function Xb(n,s){if(n&1){let e=P();a(0,"mat-row",67),M("click",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d();return u(f.onActionTableRowSelect(l,t))}),V(1,Jb,1,0,"div",68),r()}if(n&2){let e=s.$implicit,i=d();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),_("cdkDragData",e)}}var wa=class wa extends Ct{constructor(e,i,t,l,f,p,k,X,Ge,$e,Ke,dt,oi,jn){super(e,new ai,oi,X,$e);this.contentService=e;this.dataProviderSourceCompanyService=i;this.dataProviderSourcePublicConfigService=t;this.activatedRoute=l;this.cmsToastrService=f;this.cmsConfirmationDialogService=p;this.router=k;this.tokenHelper=X;this.cdr=Ge;this.translate=$e;this.cmsStoreService=Ke;this.pageInfo=dt;this.publicHelper=oi;this.dialog=jn;this.requestLinkSiteId=0;this.requestLinkCompanyId="";this.requestLinkPublicConfigId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ae;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new Y;this.dataModelCompanyResult=new Y;this.dataModelPublicResult=new Y;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","recordStatus","title","linkSourceCompanyId","LinkPublicConfigId","updatedDate","position"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","recordStatus","title","linkSourceCompanyId","LinkPublicConfigId","position"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Mn=>this.onSubmitOptionsSearch(Mn)},this.filteModelContent.sortColumn="priority",this.filteModelContent.sortType=oe.Ascending}filterModelCompiler(e){let i=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkCompanyId")&&(this.requestLinkCompanyId=this.activatedRoute.snapshot.paramMap.get("LinkCompanyId")),this.activatedRoute.snapshot.paramMap.get("LinkSiteId")&&(this.requestLinkSiteId=+this.activatedRoute.snapshot.paramMap.get("LinkSiteId")||0),this.activatedRoute.snapshot.paramMap.get("LinkPublicConfigId")&&(this.requestLinkPublicConfigId=this.activatedRoute.snapshot.paramMap.get("LinkPublicConfigId"));let e=new J;if(this.requestLinkPublicConfigId?.length>0&&(e.propertyName="LinkPublicConfigId",e.value=this.requestLinkPublicConfigId,this.filteModelContent.filters.push(e)),this.requestLinkCompanyId.length>0){let i=new J;i.propertyName="linkSourceCompanyId",i.value=this.requestLinkCompanyId,this.filteModelContent.filters.push(i)}if(this.requestLinkSiteId>0){let i=new J;i.propertyName="linkSiteId",i.value=this.requestLinkSiteId,this.filteModelContent.filters.push(i)}this.filteModelContent.sortColumn="priority",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>Ie(this,null,function*(){this.tokenInfo=i,this.DataGetAll()}))),this.getApiCopmanyList(),this.getPublicConfig()}getPublicConfig(){let e=new ae;e.rowPerPage=100,this.dataProviderSourcePublicConfigService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPublicResult=i}})}getApiCopmanyList(){let e=new ae;e.rowPerPage=100,this.dataProviderSourceCompanyService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCompanyResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,["position"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ai);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new J;t.propertyName="linkSourceCompanyId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=oe.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=oe.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=oe.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onTableDropRow(e){let i=this.tableSource.data.findIndex(l=>l===e.item.data),t=new Oa;t.id=this.tableSource.data[i].id,t.centerId=this.tableSource.data[e.currentIndex].id,i>e.currentIndex?t.actionGo=Qn.GoUp:t.actionGo=Qn.GoDown,this.contentService.ServiceEditStep(t).subscribe({next:l=>{l.isSuccess?(Na(this.tableSource.data,i,e.currentIndex),this.tableSource.data=this.tableSource.data.slice()):this.cmsToastrService.typeErrorMessage(l.errorMessage)},error:l=>{this.cmsToastrService.typeError(l)}})}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.categoryModelSelected&&this.categoryModelSelected.id.length>0&&(e=this.categoryModelSelected.id),this.requestLinkCompanyId&&this.requestLinkCompanyId.length>0&&(e=this.requestLinkCompanyId);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(vn,{height:"90%",panelClass:i,enterAnimationDuration:se.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:se.cmsViewConfig.exitAnimationDuration,data:{linkSourceCompanyId:e}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/data-provider/main/source-path/edit",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(f,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new ae,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.filteModelContent.sortColumn="priority",this.categoryModelSelected=e,this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,0)}),this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(k=>{this.publicHelper.processService.processStart(t,k,this.constructorInfoAreaId)});let l=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let k=new J;k.propertyName="recordStatus",k.value=this.filteModelContent.filterActionSearchRecordStatus,l.filters.push(k)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let k=new J;k.propertyName="linkSiteId",k.value=this.filteModelContent.filterActionSearchLinkSiteId,l.filters.push(k)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let k=new J;k.propertyName="linkUserId",k.value=this.filteModelContent.filterActionSearchLinkUserId,l.filters.push(k)}this.contentService.ServiceGetCount(l).subscribe({next:k=>{k.isSuccess?(this.translate.get("MESSAGE.All").subscribe(X=>{i.set(X,k.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(k.errorMessage),this.publicHelper.processService.processStop(t)},error:k=>{this.cmsToastrService.typeError(k),this.publicHelper.processService.processStop(t,!1)}});let f=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let k=new J;k.propertyName="recordStatus",k.value=this.filteModelContent.filterActionSearchRecordStatus,f.filters.push(k)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let k=new J;k.propertyName="linkSiteId",k.value=this.filteModelContent.filterActionSearchLinkSiteId,f.filters.push(k)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let k=new J;k.propertyName="linkUserId",k.value=this.filteModelContent.filterActionSearchLinkUserId,f.filters.push(k)}let p=new J;p.propertyName="recordStatus",p.value=ct.Available,f.filters.push(p),this.contentService.ServiceGetCount(f).subscribe({next:k=>{k.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(X=>{i.set(X,k.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(k.errorMessage),this.publicHelper.processService.processStop(t)},error:k=>{this.cmsToastrService.typeError(k),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonGetBalance(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}let i=this.constructor.name+"GetBalance";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)})}onActionButtonSendMessage(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/data-provider/action/send-message/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/action/send-message/LinkApiPathId",this.tableRowSelected.id])}onActionButtonSupersedesList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/bankpayment/privatesiteconfig/LinkPublicConfigId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/bankpayment/privatesiteconfig/LinkPublicConfigId",this.tableRowSelected.id])}onActionButtonMustSupersedesList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/bankpayment/privatesiteconfig/LinkPublicConfigId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/bankpayment/privatesiteconfig/LinkPublicConfigId",this.tableRowSelected.id])}onActionButtonNumbersList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/data-provider/main/api-number/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/main/api-number/LinkApiPathId",this.tableRowSelected.id])}onActionButtonPermitionList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/data-provider/main/source-path-permission/LinkApiPathId",this.tableRowSelected.id])}onActionButtonOutBoxQueue(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/data-provider/log/outbox-queue/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/log/outbox-queue/LinkApiPathId",this.tableRowSelected.id])}onActionButtonCopy(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessAdd();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(vn,{height:"90%",panelClass:i,enterAnimationDuration:se.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:se.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonPriceServicesList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/data-provider/main/source-path-pagination/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/main/source-path-pagination/LinkApiPathId",this.tableRowSelected.id])}onActionButtonSendTest(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e)}onActionButtonReportsRow(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}if(i?.ctrlKey){let t="/#/data-provider/log/source-path/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/log/source-path/LinkApiPathId",this.tableRowSelected.id])}onActionButtonReload(){this.filteModelContent.sortColumn="priority",this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/data-provider/main/source-path-company"])}};wa.\u0275fac=function(i){return new(i||wa)(I(ci),I(Zt),I(di),I(jt),I(N),I(Qt),I(Ye),I(ze),I(F),I(O),I(Qe),I(ft),I(G),I(je))},wa.\u0275cmp=L({type:wa,selectors:[["app-data-provider-source-path-list"]],standalone:!1,features:[W],decls:129,vars:62,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-receipt","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-dollar","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-route","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-phone","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-universal-access","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-list-ol","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","cdkDropList","",3,"matSortChange","cdkDropListDropped","dataSource","cdkDropListData"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","linkSourceCompanyId"],["matColumnDef","LinkPublicConfigId"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild","cdkDrag","",3,"ntk-row-selected","cdkDragData","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-copy","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-paper-plane-top","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-file-chart-column","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],["cdkDrag","",1,"ntk-row-mainfild",3,"click","rtclick","cdkDragData"],["class","ntk-row-placeholder",4,"cdkDragPlaceholder"],[1,"ntk-row-placeholder"]],template:function(i,t){if(i&1){let l=P();a(0,"app-cms-html-list",3),T("optionActionGuideNoticeDisplayChange",function(p){return m(l),y(t.viewGuideNotice,p)||(t.viewGuideNotice=p),u(p)}),M("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionButtonPrintRow())}),w(1,4),a(2,"app-data-provider-source-company-tree",5),M("optionChange",function(p){return m(l),u(t.onActionSelectorSelect(p))}),r(),E(),be(3,6)(4,7),w(5,8),v(6,Mb,2,0,"a",9),a(7,"a",10),M("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",11),r(),a(9,"a",10),M("click",function(){return m(l),u(t.onActionButtonReload())}),g(10,"i",12),r(),E(),w(11,13),a(12,"a",14),M("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",15),c(14),S(15,"translate"),r(),a(16,"a",14),M("click",function(){return m(l),u(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",15),c(18),S(19,"translate"),r(),E(),w(20,16),v(21,Ib,7,3,"div",17),E(),w(22,18),v(23,Pb,7,3,"div",17),v(24,wb,7,3,"div",17),a(25,"div",17)(26,"a",19),M("click",function(){return m(l),u(t.onActionButtonSendTest(t.tableRowSelected))}),a(27,"mat-icon"),c(28,"payment"),r()(),a(29,"p",20),c(30),S(31,"translate"),r()(),a(32,"div",17)(33,"a",19),M("click",function(p){return m(l),u(t.onActionButtonSendMessage(t.tableRowSelected,p))}),g(34,"i",21)(35,"br"),r(),a(36,"p",20),c(37),S(38,"translate"),r()(),a(39,"div",17)(40,"a",22),M("click",function(){return m(l),u(t.onActionButtonGetBalance(t.tableRowSelected))}),g(41,"i",23)(42,"br"),r(),a(43,"p",20),c(44),S(45,"translate"),r()(),a(46,"div",17)(47,"a",19),M("click",function(p){return m(l),u(t.onActionButtonSupersedesList(t.tableRowSelected,p))}),g(48,"i",24)(49,"br"),r(),a(50,"p",20),c(51),S(52,"translate"),r()(),a(53,"div",17)(54,"a",19),M("click",function(p){return m(l),u(t.onActionButtonMustSupersedesList(t.tableRowSelected,p))}),g(55,"i",24)(56,"br"),r(),a(57,"p",20),c(58),S(59,"translate"),r()(),a(60,"div",17)(61,"a",19),M("click",function(p){return m(l),u(t.onActionButtonNumbersList(t.tableRowSelected,p))}),g(62,"i",25)(63,"br"),r(),a(64,"p",20),c(65),S(66,"translate"),r()(),a(67,"div",17)(68,"a",19),M("click",function(p){return m(l),u(t.onActionButtonPriceServicesList(t.tableRowSelected,p))}),g(69,"i",26)(70,"br"),r(),a(71,"p",20),c(72),S(73,"translate"),r()(),a(74,"div",17)(75,"a",19),M("click",function(p){return m(l),u(t.onActionButtonPermitionList(t.tableRowSelected,p))}),g(76,"i",27)(77,"br"),r(),a(78,"p",20),c(79),S(80,"translate"),r()(),a(81,"div",17)(82,"a",19),M("click",function(p){return m(l),u(t.onActionButtonOutBoxQueue(t.tableRowSelected,p))}),g(83,"i",28)(84,"br"),r(),a(85,"p",20),c(86),S(87,"translate"),r()(),v(88,Eb,7,3,"div",17),v(89,Db,7,3,"div",17),v(90,yb,7,3,"div",17),E(),w(91,29),a(92,"app-cms-search-list",30),T("optionsChange",function(p){return m(l),y(t.optionsSearch,p)||(t.optionsSearch=p),u(p)}),r(),a(93,"app-cms-statist-list",30),T("optionsChange",function(p){return m(l),y(t.optionsStatist,p)||(t.optionsStatist=p),u(p)}),r(),E(),w(94,31),a(95,"mat-table",32,0),M("matSortChange",function(){m(l);let p=x(96);return u(t.onTableSortData(p))})("cdkDropListDropped",function(p){return m(l),u(t.onTableDropRow(p))}),w(97,33),V(98,Tb,3,3,"mat-header-cell",34)(99,Rb,2,1,"mat-cell",35),E(),w(100,36),V(101,xb,2,1,"mat-header-cell",34)(102,kb,2,1,"mat-cell",35),E(),w(103,37),V(104,Lb,2,1,"mat-header-cell",34)(105,Vb,4,6,"mat-cell",38),E(),w(106,39),V(107,Bb,2,1,"mat-header-cell",34)(108,Ob,2,1,"mat-cell",35),E(),w(109,40),V(110,Fb,2,1,"mat-header-cell",34)(111,Nb,3,4,"mat-cell",35),E(),w(112,41),V(113,Gb,2,1,"mat-header-cell",34)(114,Hb,3,4,"mat-cell",35),E(),w(115,42),V(116,Wb,2,1,"mat-header-cell",34)(117,qb,3,3,"mat-cell",35),E(),w(118,43),V(119,jb,3,3,"mat-header-cell",44)(120,Ub,6,1,"mat-cell",45),E(),w(121,46),V(122,Qb,2,0,"mat-header-cell",34)(123,zb,3,0,"mat-cell",35),E(),V(124,Kb,1,0,"mat-header-row",47)(125,Xb,2,3,"mat-row",48),r(),E(),w(126,49),a(127,"mat-paginator",50,1),M("page",function(p){return m(l),u(t.onTablePageingData(p))}),r(),E(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!t.requestLinkCompanyId||t.requestLinkCompanyId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(6),b((t.requestLinkCompanyId==null?null:t.requestLinkCompanyId.length)>0?6:-1),o(4),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),h("",C(15,39,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),h("",C(19,41,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?21:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),o(6),h(" ",C(31,43,"ACTION.SEND_TEST")," "),o(7),h(" ",C(38,45,"ACTION.SEND_MESSAGE")," "),o(7),h(" ",C(45,47,"ACTION.GET_BALANCE")," "),o(7),h(" ",C(52,49,"ACTION.BACKUP_ROUTES")," "),o(7),h(" ",C(59,51,"ACTION.SUPPORTED_ROUTES")," "),o(7),h(" ",C(66,53,"ACTION.SPECIFIC_NUMBERS")," "),o(7),h(" ",C(73,55,"ACTION.PRICE_LIST")," "),o(7),h(" ",C(80,57,"ACTION.ACEESS")," "),o(7),h(" ",C(87,59,"ACTION.QUEUE")," "),o(2),b(t.categoryModelSelected&&t.categoryModelSelected.id.length>0?88:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?89:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?90:-1),o(2),D("options",t.optionsSearch),o(),D("options",t.optionsStatist),o(2),_("dataSource",t.tableSource)("cdkDropListData",t.tableSource),o(29),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(61,bb)))},dependencies:[xe,Ze,Je,Mt,It,pe,Te,Ue,tt,Pt,nt,wt,ot,it,Et,at,rt,Dt,yt,Ae,Re,Tt,ke,el,$r,Zr,tl,ua,B,Ja,Pe,ti,Le,en],encapsulation:2});var bn=wa;var Yb=["vform"];function Zb(n,s){if(n&1){let e=P();a(0,"app-cms-enum-record-status-selector",67),T("modelChange",function(t){m(e);let l=d();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),r()}if(n&2){let e=d();D("model",e.dataModel.recordStatus),_("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function $b(n,s){n&1&&g(0,"i",70)}function eM(n,s){n&1&&g(0,"i",71)}function tM(n,s){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.required")))}function iM(n,s){if(n&1){let e=P();a(0,"div",35)(1,"label",68),c(2),r(),a(3,"input",69,9),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.title,t)||(l.dataModel.title=t),u(t)}),r(),v(5,$b,1,0,"i",70),v(6,eM,1,0,"i",71),a(7,"em"),c(8),r(),v(9,tM,5,3,"mat-error"),r()}if(n&2){let e=x(4),i=d();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),D("ngModel",i.dataModel.title),_("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),b(e.value?-1:5),o(),b(e.value?6:-1),o(2),h("",e.value.length," / 100"),o(),b(e.errors!=null&&e.errors.required?9:-1)}}function nM(n,s){if(n&1){let e=P();a(0,"div",35)(1,"label",72),c(2),r(),a(3,"input",73,10),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.apiIdentity,t)||(l.dataModel.apiIdentity=t),u(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.apiIdentity==null?null:e.fieldsInfo.apiIdentity.fieldTitle),o(),D("ngModel",e.dataModel.apiIdentity),_("disabled",!(e.fieldsInfo.apiIdentity!=null&&e.fieldsInfo.apiIdentity.accessEditField))}}function oM(n,s){if(n&1){let e=P();a(0,"div",35)(1,"label",74),c(2),r(),a(3,"input",75,11),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.apiMinPathNeedToCheck,t)||(l.dataModel.apiMinPathNeedToCheck=t),u(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.apiMinPathNeedToCheck==null?null:e.fieldsInfo.apiMinPathNeedToCheck.fieldTitle),o(),D("ngModel",e.dataModel.apiMinPathNeedToCheck),_("disabled",!(e.fieldsInfo.apiMinPathNeedToCheck!=null&&e.fieldsInfo.apiMinPathNeedToCheck.accessEditField))}}function aM(n,s){if(n&1){let e=P();a(0,"div",35)(1,"label",76),c(2),r(),a(3,"input",77,12),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.apiReceiveKey,t)||(l.dataModel.apiReceiveKey=t),u(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.apiReceiveKey==null?null:e.fieldsInfo.apiReceiveKey.fieldTitle),o(),D("ngModel",e.dataModel.apiReceiveKey),_("disabled",!(e.fieldsInfo.apiReceiveKey!=null&&e.fieldsInfo.apiReceiveKey.accessEditField))}}function rM(n,s){if(n&1){let e=P();a(0,"div",35)(1,"label",78),c(2),r(),a(3,"input",79,13),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.apiAbilityLengthMinToSend,t)||(l.dataModel.apiAbilityLengthMinToSend=t),u(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.apiAbilityLengthMinToSend==null?null:e.fieldsInfo.apiAbilityLengthMinToSend.fieldTitle),o(),D("ngModel",e.dataModel.apiAbilityLengthMinToSend),_("disabled",!(e.fieldsInfo.apiAbilityLengthMinToSend!=null&&e.fieldsInfo.apiAbilityLengthMinToSend.accessEditField))}}function lM(n,s){if(n&1){let e=P();a(0,"div",35)(1,"label",80),c(2),r(),a(3,"input",81,14),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.apiAbilityLengthMaxToSend,t)||(l.dataModel.apiAbilityLengthMaxToSend=t),u(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.apiAbilityLengthMaxToSend==null?null:e.fieldsInfo.apiAbilityLengthMaxToSend.fieldTitle),o(),D("ngModel",e.dataModel.apiAbilityLengthMaxToSend),_("disabled",!(e.fieldsInfo.apiAbilityLengthMaxToSend!=null&&e.fieldsInfo.apiAbilityLengthMaxToSend.accessEditField))}}function sM(n,s){if(n&1){let e=P();a(0,"div",35)(1,"label",82),c(2),r(),a(3,"input",83,15),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.priority,t)||(l.dataModel.priority=t),u(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.priority==null?null:e.fieldsInfo.priority.fieldTitle),o(),D("ngModel",e.dataModel.priority),_("disabled",!(e.fieldsInfo.priority!=null&&e.fieldsInfo.priority.accessEditField))}}function dM(n,s){if(n&1){let e=P();a(0,"div",35)(1,"label",84),c(2),r(),a(3,"input",85,16),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.maxProcessFlowAmount,t)||(l.dataModel.maxProcessFlowAmount=t),u(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.maxProcessFlowAmount==null?null:e.fieldsInfo.maxProcessFlowAmount.fieldTitle),o(),D("ngModel",e.dataModel.maxProcessFlowAmount),_("disabled",!(e.fieldsInfo.maxProcessFlowAmount!=null&&e.fieldsInfo.maxProcessFlowAmount.accessEditField))}}function cM(n,s){if(n&1){let e=P();a(0,"div",35)(1,"label",86),c(2),r(),a(3,"input",87,17),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.minProcessFlowAmount,t)||(l.dataModel.minProcessFlowAmount=t),u(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.minProcessFlowAmount==null?null:e.fieldsInfo.minProcessFlowAmount.fieldTitle),o(),D("ngModel",e.dataModel.minProcessFlowAmount),_("disabled",!(e.fieldsInfo.minProcessFlowAmount!=null&&e.fieldsInfo.minProcessFlowAmount.accessEditField))}}function pM(n,s){if(n&1){let e=P();a(0,"div",35)(1,"label",88),c(2),r(),a(3,"input",89,18),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.fixFeeProcessFlowAmount,t)||(l.dataModel.fixFeeProcessFlowAmount=t),u(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.fixFeeProcessFlowAmount==null?null:e.fieldsInfo.fixFeeProcessFlowAmount.fieldTitle),o(),D("ngModel",e.dataModel.fixFeeProcessFlowAmount),_("disabled",!(e.fieldsInfo.fixFeeProcessFlowAmount!=null&&e.fieldsInfo.fixFeeProcessFlowAmount.accessEditField))}}function mM(n,s){if(n&1){let e=P();a(0,"div",35)(1,"label",90),c(2),r(),a(3,"input",91,19),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.percentFeeProcessFlowAmount,t)||(l.dataModel.percentFeeProcessFlowAmount=t),u(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.percentFeeProcessFlowAmount==null?null:e.fieldsInfo.percentFeeProcessFlowAmount.fieldTitle),o(),D("ngModel",e.dataModel.percentFeeProcessFlowAmount),_("disabled",!(e.fieldsInfo.percentFeeProcessFlowAmount!=null&&e.fieldsInfo.percentFeeProcessFlowAmount.accessEditField))}}function uM(n,s){if(n&1){let e=P();a(0,"div",38)(1,"label",92),c(2),r(),a(3,"input",93),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.perriodStartWorkTime,t)||(l.dataModel.perriodStartWorkTime=t),u(t)}),r(),g(4,"ngx-material-timepicker-toggle",59)(5,"ngx-material-timepicker",94,20),r()}if(n&2){let e=x(6),i=d();o(2),A(i.fieldsInfo.perriodStartWorkTime==null?null:i.fieldsInfo.perriodStartWorkTime.fieldTitle),o(),_("ngxTimepicker",e),D("ngModel",i.dataModel.perriodStartWorkTime),_("format",24),o(),_("for",e)}}function fM(n,s){if(n&1){let e=P();a(0,"div",38)(1,"label",95),c(2),r(),a(3,"input",96),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.perriodEndWorkTime,t)||(l.dataModel.perriodEndWorkTime=t),u(t)}),r(),g(4,"ngx-material-timepicker-toggle",59)(5,"ngx-material-timepicker",94,21),r()}if(n&2){let e=x(6),i=d();o(2),A(i.fieldsInfo.perriodEndWorkTime==null?null:i.fieldsInfo.perriodEndWorkTime.fieldTitle),o(),_("ngxTimepicker",e),D("ngModel",i.dataModel.perriodEndWorkTime),_("format",24),o(),_("for",e)}}function _M(n,s){n&1&&(a(0,"mat-error"),c(1," Description is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.required")))}function SM(n,s){if(n&1){let e=P();a(0,"div",43)(1,"button",97),M("click",function(){m(e);let t=d();return u(t.onActionBackToParent())}),c(2),S(3,"translate"),r(),a(4,"button",98),c(5),S(6,"translate"),r(),a(7,"button",99),c(8),S(9,"translate"),r()()}if(n&2){d();let e=x(13);o(2),h(" ",C(3,5,"ACTION.BACK")," "),o(2),_("disabled",!e.form.valid),o(),h(" ",C(6,7,"ACTION.NEXT")," "),o(2),_("disabled",!e.form.valid),o(),h(" ",C(9,9,"ACTION.SAVE")," ")}}function CM(n,s){if(n&1){let e=P();a(0,"div",46)(1,"button",100),M("click",function(){m(e);let t=d();return u(t.onActionButtonGetToken())}),c(2),S(3,"translate"),r(),a(4,"button",100),M("click",function(){m(e);let t=d();return u(t.onActionButtonGetBalance())}),c(5),S(6,"translate"),r(),g(7,"br"),a(8,"button",97),M("click",function(){m(e);let t=d();return u(t.onActionBackToParent())}),c(9),S(10,"translate"),r(),a(11,"button",101),c(12),S(13,"translate"),r(),a(14,"button",98),c(15),S(16,"translate"),r(),a(17,"button",99),c(18),S(19,"translate"),r()()}if(n&2){d();let e=x(13);o(2),h(" ",C(3,8,"ACTION.CHECK_ROUTE_TOKEN")," "),o(3),h(" ",C(6,10,"ACTION.CHECK_ROUTE_BALANCE")," "),o(4),h(" ",C(10,12,"ACTION.BACK")," "),o(3),h(" ",C(13,14,"ACTION.BEFOR")," "),o(2),_("disabled",!e.form.valid),o(),h(" ",C(16,16,"ACTION.NEXT")," "),o(2),_("disabled",!e.form.valid),o(),h(" ",C(19,18,"ACTION.SAVE")," ")}}function hM(n,s){if(n&1){let e=P();a(0,"div",47)(1,"div",102)(2,"h5",103),c(3),r()(),a(4,"div",104)(5,"div",105)(6,"input",106),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.apiSendMessageIsOn,t)||(l.dataModel.apiSendMessageIsOn=t),u(t)}),r(),g(7,"label",107),r()()()}if(n&2){let e=d();o(3),h(" ",e.fieldsInfo.apiSendMessageIsOn==null?null:e.fieldsInfo.apiSendMessageIsOn.fieldTitle," "),o(3),D("ngModel",e.dataModel.apiSendMessageIsOn)}}function gM(n,s){n&1&&(a(0,"mat-error"),c(1," apiSendMessageAddTextFirst is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.required")))}function vM(n,s){n&1&&(a(0,"mat-error"),c(1," apiSendMessageAddTextEnd is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.required")))}function bM(n,s){n&1&&(a(0,"mat-error"),c(1," sendMessageAddTextFirst is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.required")))}function MM(n,s){n&1&&(a(0,"mat-error"),c(1," sendMessageAddTextEnd is "),a(2,"strong"),c(3),S(4,"translate"),r()()),n&2&&(o(3),A(C(4,1,"MESSAGE.required")))}function IM(n,s){if(n&1){let e=P();a(0,"div",47)(1,"div",102)(2,"h5",108),c(3),r()(),a(4,"div",104)(5,"div",105)(6,"input",109),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.apiAbilitySendUnicodeMessage,t)||(l.dataModel.apiAbilitySendUnicodeMessage=t),u(t)}),r(),g(7,"label",110),r()()()}if(n&2){let e=d();o(3),h(" ",e.fieldsInfo.apiAbilitySendUnicodeMessage==null?null:e.fieldsInfo.apiAbilitySendUnicodeMessage.fieldTitle," "),o(3),D("ngModel",e.dataModel.apiAbilitySendUnicodeMessage)}}function PM(n,s){if(n&1){let e=P();a(0,"div",47)(1,"div",102)(2,"h5",111),c(3),r()(),a(4,"div",104)(5,"div",105)(6,"input",112),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.apiAbilitySendNormalMessage,t)||(l.dataModel.apiAbilitySendNormalMessage=t),u(t)}),r(),g(7,"label",113),r()()()}if(n&2){let e=d();o(3),h(" ",e.fieldsInfo.apiAbilitySendNormalMessage==null?null:e.fieldsInfo.apiAbilitySendNormalMessage.fieldTitle," "),o(3),D("ngModel",e.dataModel.apiAbilitySendNormalMessage)}}function wM(n,s){if(n&1){let e=P();a(0,"div",47)(1,"div",102)(2,"h5",114),c(3),r()(),a(4,"div",104)(5,"div",105)(6,"input",115),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.apiAllowSupersede,t)||(l.dataModel.apiAllowSupersede=t),u(t)}),r(),g(7,"label",116),r()()()}if(n&2){let e=d();o(3),h(" ",e.fieldsInfo.apiAllowSupersede==null?null:e.fieldsInfo.apiAllowSupersede.fieldTitle," "),o(3),D("ngModel",e.dataModel.apiAllowSupersede)}}function EM(n,s){if(n&1){let e=P();a(0,"div",47)(1,"div",102)(2,"h5",117),c(3),r()(),a(4,"div",104)(5,"div",105)(6,"input",118),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.apiAbilityUseWebservice,t)||(l.dataModel.apiAbilityUseWebservice=t),u(t)}),r(),g(7,"label",119),r()()()}if(n&2){let e=d();o(3),h(" ",e.fieldsInfo.apiAbilityUseWebservice==null?null:e.fieldsInfo.apiAbilityUseWebservice.fieldTitle," "),o(3),D("ngModel",e.dataModel.apiAbilityUseWebservice)}}function DM(n,s){if(n&1){let e=P();a(0,"div",47)(1,"div",102)(2,"h5",120),c(3),r()(),a(4,"div",104)(5,"div",105)(6,"input",121),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.apiAbilityUseInside,t)||(l.dataModel.apiAbilityUseInside=t),u(t)}),r(),g(7,"label",122),r()()()}if(n&2){let e=d();o(3),h(" ",e.fieldsInfo.apiAbilityUseInside==null?null:e.fieldsInfo.apiAbilityUseInside.fieldTitle," "),o(3),D("ngModel",e.dataModel.apiAbilityUseInside)}}function yM(n,s){if(n&1){let e=P();a(0,"div",43)(1,"button",97),M("click",function(){m(e);let t=d();return u(t.onActionBackToParent())}),c(2),S(3,"translate"),r(),a(4,"button",101),c(5),S(6,"translate"),r(),a(7,"button",98),c(8),S(9,"translate"),r(),a(10,"button",99),c(11),S(12,"translate"),r()()}if(n&2){d();let e=x(13);o(2),h(" ",C(3,6,"ACTION.BACK")," "),o(3),h(" ",C(6,8,"ACTION.BEFOR")," "),o(2),_("disabled",!e.form.valid),o(),h(" ",C(9,10,"ACTION.NEXT")," "),o(2),_("disabled",!e.form.valid),o(),h(" ",C(12,12,"ACTION.SAVE")," ")}}function TM(n,s){if(n&1){let e=P();a(0,"div",43)(1,"button",97),M("click",function(){m(e);let t=d(2);return u(t.onActionBackToParent())}),c(2),S(3,"translate"),r(),a(4,"button",101),c(5),S(6,"translate"),r(),a(7,"button",98),c(8),S(9,"translate"),r(),a(10,"button",99),c(11),S(12,"translate"),r()()}if(n&2){d(2);let e=x(13);o(2),h(" ",C(3,6,"ACTION.BACK")," "),o(3),h(" ",C(6,8,"ACTION.BEFOR")," "),o(2),_("disabled",!e.form.valid),o(),h(" ",C(9,10,"ACTION.NEXT")," "),o(2),_("disabled",!e.form.valid),o(),h(" ",C(12,12,"ACTION.SAVE")," ")}}function AM(n,s){if(n&1&&(a(0,"mat-step",44),S(1,"translate"),a(2,"p"),c(3),S(4,"translate"),r(),v(5,TM,13,14,"div",43),r()),n&2){let e=d();_("label",R(C(1,4,"TITLE.Status_receiving_variables"))),o(3),A(C(4,6,"TITLE.Set_acess")),o(2),b(e.formInfo.submitButtonEnabled?5:-1)}}function RM(n,s){if(n&1){let e=P();a(0,"div",47)(1,"div",102)(2,"h5",123),c(3),r()(),a(4,"div",104)(5,"div",105)(6,"input",124),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.serverDeliveryCostBase,t)||(l.dataModel.serverDeliveryCostBase=t),u(t)}),r(),g(7,"label",125),r()()()}if(n&2){let e=d();o(3),h(" ",e.fieldsInfo.serverDeliveryCostBase==null?null:e.fieldsInfo.serverDeliveryCostBase.fieldTitle," "),o(3),D("ngModel",e.dataModel.serverDeliveryCostBase)}}function xM(n,s){if(n&1){let e=P();a(0,"div",35)(1,"label",126),c(2),r(),a(3,"input",127,22),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.statusOutOfServiceMonitorApiChar,t)||(l.dataModel.statusOutOfServiceMonitorApiChar=t),u(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.statusOutOfServiceMonitorApiChar==null?null:e.fieldsInfo.statusOutOfServiceMonitorApiChar.fieldTitle),o(),D("ngModel",e.dataModel.statusOutOfServiceMonitorApiChar),_("disabled",!(e.fieldsInfo.statusOutOfServiceMonitorApiChar!=null&&e.fieldsInfo.statusOutOfServiceMonitorApiChar.accessEditField))}}function kM(n,s){if(n&1){let e=P();a(0,"div",47)(1,"div",102)(2,"h5",128),c(3),r()(),a(4,"div",104)(5,"div",105)(6,"input",129),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.statusOutOfServiceActive,t)||(l.dataModel.statusOutOfServiceActive=t),u(t)}),r(),g(7,"label",130),r()()()}if(n&2){let e=d();o(3),h(" ",e.fieldsInfo.statusOutOfServiceActive==null?null:e.fieldsInfo.statusOutOfServiceActive.fieldTitle," "),o(3),D("ngModel",e.dataModel.statusOutOfServiceActive)}}function LM(n,s){if(n&1){let e=P();a(0,"div",47)(1,"div",102)(2,"h5",131),c(3),r()(),a(4,"div",104)(5,"div",105)(6,"input",132),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.statusNotStableActive,t)||(l.dataModel.statusNotStableActive=t),u(t)}),r(),g(7,"label",133),r()()()}if(n&2){let e=d();o(3),h(" ",e.fieldsInfo.apiAbilityUseInside==null?null:e.fieldsInfo.apiAbilityUseInside.fieldTitle," "),o(3),D("ngModel",e.dataModel.statusNotStableActive)}}function VM(n,s){if(n&1){let e=P();a(0,"div",35)(1,"label",134),c(2),r(),a(3,"input",135,23),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.statusNotStableCount,t)||(l.dataModel.statusNotStableCount=t),u(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.statusNotStableCount==null?null:e.fieldsInfo.statusNotStableCount.fieldTitle),o(),D("ngModel",e.dataModel.statusNotStableCount),_("disabled",!(e.fieldsInfo.statusNotStableCount!=null&&e.fieldsInfo.statusNotStableCount.accessEditField))}}function BM(n,s){if(n&1){let e=P();a(0,"div",35)(1,"label",136),c(2),r(),a(3,"input",137,24),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.statusNotStableCountLimit,t)||(l.dataModel.statusNotStableCountLimit=t),u(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.statusNotStableCountLimit==null?null:e.fieldsInfo.statusNotStableCountLimit.fieldTitle),o(),D("ngModel",e.dataModel.statusNotStableCountLimit),_("disabled",!(e.fieldsInfo.statusNotStableCountLimit!=null&&e.fieldsInfo.statusNotStableCountLimit.accessEditField))}}function OM(n,s){if(n&1){let e=P();a(0,"div",35)(1,"label",138),c(2),r(),a(3,"input",139,25),T("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.statusNotStableRunForMin,t)||(l.dataModel.statusNotStableRunForMin=t),u(t)}),r()()}if(n&2){let e=d();o(2),A(e.fieldsInfo.statusNotStableRunForMin==null?null:e.fieldsInfo.statusNotStableRunForMin.fieldTitle),o(),D("ngModel",e.dataModel.statusNotStableRunForMin),_("disabled",!(e.fieldsInfo.statusNotStableRunForMin!=null&&e.fieldsInfo.statusNotStableRunForMin.accessEditField))}}function FM(n,s){if(n&1){let e=P();a(0,"div",43)(1,"button",97),M("click",function(){m(e);let t=d();return u(t.onActionBackToParent())}),c(2),S(3,"translate"),r(),a(4,"button",101),c(5),S(6,"translate"),r(),a(7,"button",98),c(8),S(9,"translate"),r(),a(10,"button",99),c(11),S(12,"translate"),r()()}if(n&2){d();let e=x(13);o(2),h(" ",C(3,6,"ACTION.BACK")," "),o(3),h(" ",C(6,8,"ACTION.BEFOR")," "),o(2),_("disabled",!e.form.valid),o(),h(" ",C(9,10,"ACTION.NEXT")," "),o(2),_("disabled",!e.form.valid),o(),h(" ",C(12,12,"ACTION.SAVE")," ")}}function NM(n,s){if(n&1){let e=P();a(0,"div",43)(1,"button",97),M("click",function(){m(e);let t=d(2);return u(t.onActionBackToParent())}),c(2),S(3,"translate"),r(),a(4,"button",101),c(5),S(6,"translate"),r(),a(7,"button",98),c(8),S(9,"translate"),r(),a(10,"button",99),c(11),S(12,"translate"),r()()}if(n&2){d(2);let e=x(13);o(2),h(" ",C(3,6,"ACTION.BACK")," "),o(3),h(" ",C(6,8,"ACTION.BEFOR")," "),o(2),_("disabled",!e.form.valid),o(),h(" ",C(9,10,"ACTION.NEXT")," "),o(2),_("disabled",!e.form.valid),o(),h(" ",C(12,12,"ACTION.SAVE")," ")}}function GM(n,s){if(n&1&&(a(0,"mat-step",44),S(1,"translate"),v(2,NM,13,14,"div",43),r()),n&2){let e=d();_("label",R(C(1,3,"TITLE.Receiving_variables"))),o(2),b(e.formInfo.submitButtonEnabled?2:-1)}}function HM(n,s){if(n&1){let e=P();a(0,"div",43)(1,"button",97),M("click",function(){m(e);let t=d(2);return u(t.onActionBackToParent())}),c(2),S(3,"translate"),r(),a(4,"button",101),c(5),S(6,"translate"),r(),a(7,"button",98),c(8),S(9,"translate"),r(),a(10,"button",100),M("click",function(){m(e);let t=d(2);return u(t.onActionButtonGetToken())}),c(11),S(12,"translate"),r(),a(13,"button",100),M("click",function(){m(e);let t=d(2);return u(t.onActionButtonGetBalance())}),c(14),S(15,"translate"),r(),a(16,"button",99),c(17),S(18,"translate"),r()()}if(n&2){d(2);let e=x(13);o(2),h(" ",C(3,8,"ACTION.BACK")," "),o(3),h(" ",C(6,10,"ACTION.BEFOR")," "),o(2),_("disabled",!e.form.valid),o(),h(" ",C(9,12,"ACTION.NEXT")," "),o(3),h(" ",C(12,14,"ACTION.CHECK_ROUTE_TOKEN")," "),o(3),h(" ",C(15,16,"ACTION.CHECK_ROUTE_BALANCE")," "),o(2),_("disabled",!e.form.valid),o(),h(" ",C(18,18,"ACTION.SAVE")," ")}}function WM(n,s){if(n&1&&(a(0,"mat-step",44),S(1,"translate"),v(2,HM,19,20,"div",43),r()),n&2){let e=d();_("label",R(C(1,3,"TITLE.Check_validity"))),o(2),b(e.formInfo.submitButtonEnabled?2:-1)}}function qM(n,s){if(n&1){let e=P();a(0,"div",43)(1,"button",97),M("click",function(){m(e);let t=d(2);return u(t.onActionBackToParent())}),c(2),S(3,"translate"),r(),a(4,"button",101),c(5),S(6,"translate"),r(),a(7,"button",98),c(8),S(9,"translate"),r(),a(10,"button",99),c(11),S(12,"translate"),r()()}if(n&2){d(2);let e=x(13);o(2),h(" ",C(3,6,"ACTION.BACK")," "),o(3),h(" ",C(6,8,"ACTION.BEFOR")," "),o(2),_("disabled",!e.form.valid),o(),h(" ",C(9,10,"ACTION.NEXT")," "),o(2),_("disabled",!e.form.valid),o(),h(" ",C(12,12,"ACTION.SAVE")," ")}}function jM(n,s){if(n&1&&(a(0,"mat-step",44),S(1,"translate"),v(2,qM,13,14,"div",43),r()),n&2){let e=d();_("label",Wt(" ",C(1,3,"TITLE.Variables_for_sending_voice_messagesy"))),o(2),b(e.formInfo.submitButtonEnabled?2:-1)}}function UM(n,s){if(n&1){let e=P();a(0,"div",43)(1,"button",97),M("click",function(){m(e);let t=d(2);return u(t.onActionBackToParent())}),c(2),S(3,"translate"),r(),a(4,"button",101),c(5),S(6,"translate"),r(),a(7,"button",99),c(8),S(9,"translate"),r()()}if(n&2){d(2);let e=x(13);o(2),h(" ",C(3,4,"ACTION.BACK")," "),o(3),h(" ",C(6,6,"ACTION.BEFOR")," "),o(2),_("disabled",!e.form.valid),o(),h(" ",C(9,8,"ACTION.SAVE")," ")}}function QM(n,s){if(n&1&&(a(0,"mat-step",44),S(1,"translate"),v(2,UM,10,10,"div",43),r()),n&2){let e=d();_("label",R(C(1,3,"TITLE.Error_variables"))),o(2),b(e.formInfo.submitButtonEnabled?2:-1)}}function zM(n,s){n&1&&(a(0,"mat-icon"),c(1,"call_end"),r())}function KM(n,s){n&1&&(a(0,"mat-icon"),c(1,"call_end"),r())}function JM(n,s){n&1&&(a(0,"mat-icon"),c(1,"forum"),r())}function XM(n,s){n&1&&(a(0,"mat-icon"),c(1,"forum"),r())}var Ea=class Ea extends St{constructor(e,i,t,l,f,p,k,X){super(i,new ai,l,X);this.coreEnumService=e;this.dataProviderSourcePathService=i;this.cmsToastrService=t;this.publicHelper=l;this.router=f;this.cdr=p;this.activatedRoute=k;this.translate=X;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.complatedView=!1;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new pt;this.dataModel=new Kr;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.activatedRoute.snapshot.paramMap.get("id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("id")),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.router.navigate(["/data-provider/main/source-path/list"]);return}}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourcePathService.setAccessLoad(),this.dataProviderSourcePathService.setAccessDataType(Ne.Editor),this.dataProviderSourcePathService.ServiceGetOneWithJsonFormatter(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.item.perriodStartWorkTime?i.item.perriodStartWorkTime=i.item.perriodStartWorkTime.substring(0,i.item.perriodStartWorkTime.indexOf(":",i.item.perriodStartWorkTime.indexOf(":")+1)):i.item.perriodStartWorkTime="",i.item.perriodEndWorkTime?i.item.perriodEndWorkTime=i.item.perriodEndWorkTime.substring(0,i.item.perriodEndWorkTime.indexOf(":",i.item.perriodEndWorkTime.indexOf(":")+1)):i.item.perriodEndWorkTime="",this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourcePathService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonGetToken(){let e=this.constructor.name+"GetToken";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)})}onActionButtonGetBalance(){let e=this.constructor.name+"GetBalance";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)})}onActionSelectorSelectlinkSourceCompanyId(e){if(!e||e.id.length<=0){this.translate.get("MESSAGE.Information_application_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkSourceCompanyId=e.id}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/data-provider/main/source-path/list"])}onActionSelectSource(e){this.dataModel.linkPublicConfigId=null,e&&e.id?.length>0&&(this.dataModel.linkPublicConfigId=e.id)}onFormSubmit(){if(this.formGroup.valid){if(!this.dataModel.linkSourceCompanyId||this.dataModel.linkSourceCompanyId.length==0){this.translate.get("MESSAGE.Service_company_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}if(!this.dataModel.linkPublicConfigId||this.dataModel.linkPublicConfigId.length==0){this.translate.get("MESSAGE.Service_type_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.formInfo.submitButtonEnabled=!1,this.DataEditContent()}}onFormCancel(){this.router.navigate(["/data-provider/main/source-path/list"])}};Ea.\u0275fac=function(i){return new(i||Ea)(I(ie),I(ci),I(N),I(G),I(Ye),I(F),I(jt),I(O))},Ea.\u0275cmp=L({type:Ea,selectors:[["app-data-provider-source-path-edit"]],viewQuery:function(i,t){if(i&1&&U(Yb,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[W],decls:135,vars:123,consts:[["vform","ngForm"],["stepper",""],["Description",""],["apiSendMessageAddTextFirst",""],["apiSendMessageAddTextEnd",""],["sendMessageAddTextFirst",""],["sendMessageAddTextEnd",""],["StatusOutOfServiceExpire",""],["StatusNotStableExpire",""],["Title",""],["ApiIdentity",""],["ApiMinPathNeedToCheck",""],["ApiReceiveKey",""],["ApiAbilityLengthMinToSend",""],["ApiAbilityLengthMaxToSend",""],["Priority",""],["MaxProcessFlowAmount",""],["MinProcessFlowAmount",""],["FixFeeProcessFlowAmount",""],["PercentFeeProcessFlowAmount",""],["PerriodStartWorkTime",""],["PerriodEndWorkTime",""],["StatusOutOfServiceMonitorApiChar",""],["StatusNotStableCount",""],["StatusNotStableCountLimit",""],["StatusNotStableRunForMin",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.memo",1,"color-highlight"],["matInput","","name","dataModel.memo","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.memo",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["state","seo",3,"label"],[3,"jsonValueChange","formGroup","jsonValue","propertiesInfos"],[1,"ntk-button-row"],[1,"d-flex","mb-3"],["for","dataModel.apiSendMessageAddTextFirst",1,"color-highlight"],["matInput","","name","dataModel.apiSendMessageAddTextFirst","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.apiSendMessageAddTextFirst",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.apiSendMessageAddTextEnd",1,"color-highlight"],["matInput","","name","dataModel.apiSendMessageAddTextEnd","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.apiSendMessageAddTextEnd",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.sendMessageAddTextFirst",1,"color-highlight"],["matInput","","name","dataModel.sendMessageAddTextFirst","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.sendMessageAddTextFirst",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.sendMessageAddTextEnd",1,"color-highlight"],["matInput","","name","dataModel.sendMessageAddTextEnd","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.sendMessageAddTextEnd",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"divider","mt-3","mb-3"],["for","dataModel.statusOutOfServiceExpire",1,"color-highlight"],["matInput","","name","dataModel.statusOutOfServiceExpire","type","text","id","dataModel.statusOutOfServiceExpire",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["for","dataModel.statusNotStableExpire",1,"color-highlight"],["matInput","","name","dataModel.statusNotStableExpire","type","text","id","dataModel.statusNotStableExpire",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.apiIdentity",1,"color-highlight"],["matInput","","name","dataModel.apiIdentity","type","number","placeholder","1","id","dataModel.apiIdentity",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.apiMinPathNeedToCheck",1,"color-highlight"],["matInput","","name","dataModel.apiMinPathNeedToCheck","type","number","placeholder","1","id","dataModel.apiMinPathNeedToCheck",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.apiReceiveKey",1,"color-highlight"],["matInput","","name","dataModel.apiReceiveKey","type","text","placeholder","1","id","dataModel.apiReceiveKey",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.apiAbilityLengthMinToSend",1,"color-highlight"],["matInput","","name","dataModel.apiAbilityLengthMinToSend","type","number","placeholder","1","id","dataModel.apiAbilityLengthMinToSend",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.apiAbilityLengthMaxToSend",1,"color-highlight"],["matInput","","name","dataModel.apiAbilityLengthMaxToSend","type","number","placeholder","1","id","dataModel.apiAbilityLengthMaxToSend",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.priority",1,"color-highlight"],["matInput","","name","dataModel.priority","type","number","placeholder","1","id","dataModel.priority",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.maxProcessFlowAmount",1,"color-highlight"],["matInput","","name","dataModel.maxProcessFlowAmount","type","number","placeholder","1","id","dataModel.maxProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.minProcessFlowAmount",1,"color-highlight"],["matInput","","name","dataModel.minProcessFlowAmount","type","number","placeholder","Min Transaction Amount","id","dataModel.minProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.fixFeeProcessFlowAmount",1,"color-highlight"],["matInput","","name","dataModel.fixFeeProcessFlowAmount","type","number","placeholder","Max Transaction Amount","id","dataModel.fixFeeProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.percentFeeProcessFlowAmount",1,"color-highlight"],["matInput","","name","dataModel.percentFeeProcessFlowAmount","type","number","placeholder","Percent Fee Transaction Amount","id","dataModel.percentFeeProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.perriodStartWorkTime",1,"color-highlight"],["matInput","","name","dataModel.perriodStartWorkTime","id","dataModel.perriodStartWorkTime",1,"form-control","validate-name",3,"ngModelChange","ngxTimepicker","ngModel","format"],["touchUi","",1,"timepicker"],["for","dataModel.perriodEndWorkTime",1,"color-highlight"],["matInput","","name","dataModel.perriodEndWorkTime","type","number","id","dataModel.perriodEndWorkTime",1,"form-control","validate-name",3,"ngModelChange","ngxTimepicker","ngModel","format"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-yellow",3,"click"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],[1,"pt-1"],["data-trigger-switch","dataModel.apiSendMessageIsOn",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.apiSendMessageIsOn","name","dataModel.apiSendMessageIsOn",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.apiSendMessageIsOn",1,"custom-control-label"],["data-trigger-switch","dataModel.apiAbilitySendUnicodeMessage",1,"font-600","font-14"],["type","checkbox","id","dataModel.apiAbilitySendUnicodeMessage","name","dataModel.apiAbilitySendUnicodeMessage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.apiAbilitySendUnicodeMessage",1,"custom-control-label"],["data-trigger-switch","dataModel.apiAbilitySendNormalMessage",1,"font-600","font-14"],["type","checkbox","id","dataModel.apiAbilitySendNormalMessage","name","dataModel.apiAbilitySendNormalMessage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.apiAbilitySendNormalMessage",1,"custom-control-label"],["data-trigger-switch","dataModel.apiAllowSupersede",1,"font-600","font-14"],["type","checkbox","id","dataModel.apiAllowSupersede","name","dataModel.apiAllowSupersede",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.apiAllowSupersede",1,"custom-control-label"],["data-trigger-switch","dataModel.apiAbilityUseWebservice",1,"font-600","font-14"],["type","checkbox","id","dataModel.apiAbilityUseWebservice","name","dataModel.apiAbilityUseWebservice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.apiAbilityUseWebservice",1,"custom-control-label"],["data-trigger-switch","dataModel.apiAbilityUseInside",1,"font-600","font-14"],["type","checkbox","id","dataModel.apiAbilityUseInside","name","dataModel.apiAbilityUseInside",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.apiAbilityUseInside",1,"custom-control-label"],["data-trigger-switch","dataModel.serverDeliveryCostBase",1,"font-600","font-14"],["type","checkbox","id","dataModel.serverDeliveryCostBase","name","dataModel.serverDeliveryCostBase",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.serverDeliveryCostBase",1,"custom-control-label"],["for","dataModel.statusOutOfServiceMonitorApiChar",1,"color-highlight"],["matInput","","name","dataModel.statusOutOfServiceMonitorApiChar","type","number","placeholder","1","id","dataModel.statusOutOfServiceMonitorApiChar",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","dataModel.statusOutOfServiceActive",1,"font-600","font-14"],["type","checkbox","id","dataModel.statusOutOfServiceActive","name","dataModel.statusOutOfServiceActive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.statusOutOfServiceActive",1,"custom-control-label"],["data-trigger-switch","dataModel.statusNotStableActive",1,"font-600","font-14"],["type","checkbox","id","dataModel.statusNotStableActive","name","dataModel.statusNotStableActive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.statusNotStableActive",1,"custom-control-label"],["for","dataModel.statusNotStableCount",1,"color-highlight"],["matInput","","name","dataModel.statusNotStableCount","type","number","placeholder","1","id","dataModel.statusNotStableCount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.statusNotStableCountLimit",1,"color-highlight"],["matInput","","name","dataModel.statusNotStableCountLimit","type","number","placeholder","1","id","dataModel.statusNotStableCountLimit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.statusNotStableRunForMin",1,"color-highlight"],["matInput","","name","dataModel.statusNotStableRunForMin","type","number","placeholder","1","id","dataModel.statusNotStableRunForMin",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"]],template:function(i,t){if(i&1){let l=P();a(0,"div",26),g(1,"app-progress-spinner",27),a(2,"div",28)(3,"p",29),c(4),r(),a(5,"h4"),c(6),S(7,"translate"),r(),a(8,"p"),c(9),S(10,"translate"),r(),g(11,"app-cms-form-result-message",30),a(12,"form",31,0),M("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),a(14,"mat-vertical-stepper",32,1),M("selectionChange",function(p){m(l);let k=x(15);return u(t.onStepClick(p,k))}),a(16,"mat-step",33),S(17,"translate"),v(18,Zb,1,5,"app-cms-enum-record-status-selector",34),v(19,iM,10,9,"div",35),a(20,"app-data-provider-source-public-config-selector",36),S(21,"translate"),M("optionChange",function(p){return m(l),u(t.onActionSelectSource(p))}),r(),a(22,"app-data-provider-source-company-selector",37),S(23,"translate"),M("optionChange",function(p){return m(l),u(t.onActionSelectorSelectlinkSourceCompanyId(p))}),r(),v(24,nM,5,3,"div",35),v(25,oM,5,3,"div",35),v(26,aM,5,3,"div",35),v(27,rM,5,3,"div",35),v(28,lM,5,3,"div",35),v(29,sM,5,3,"div",35),v(30,dM,5,3,"div",35),v(31,cM,5,3,"div",35),v(32,pM,5,3,"div",35),v(33,mM,5,3,"div",35),v(34,uM,7,5,"div",38),v(35,fM,7,5,"div",38),a(36,"div",35)(37,"label",39),c(38),r(),a(39,"textarea",40,2),T("ngModelChange",function(p){return m(l),y(t.dataModel.description,p)||(t.dataModel.description=p),u(p)}),r(),a(41,"em"),c(42),r(),v(43,_M,5,3,"mat-error"),r(),a(44,"div",35)(45,"label",41),c(46),r(),a(47,"textarea",42),T("ngModelChange",function(p){return m(l),y(t.dataModel.memo,p)||(t.dataModel.memo=p),u(p)}),c(48,"            "),r()(),v(49,SM,10,11,"div",43),r(),a(50,"mat-step",44),S(51,"translate"),a(52,"p"),c(53),S(54,"translate"),r(),a(55,"dynamic-form-builder-cms",45),T("jsonValueChange",function(p){return m(l),y(t.dataModel.privateConfigJsonValues,p)||(t.dataModel.privateConfigJsonValues=p),u(p)}),r(),v(56,CM,20,20,"div",46),r(),a(57,"mat-step",44),S(58,"translate"),a(59,"p"),c(60),S(61,"translate"),r(),v(62,hM,8,2,"div",47),a(63,"div",35)(64,"label",48),c(65),r(),a(66,"textarea",49,3),T("ngModelChange",function(p){return m(l),y(t.dataModel.apiSendMessageAddTextFirst,p)||(t.dataModel.apiSendMessageAddTextFirst=p),u(p)}),r(),a(68,"em"),c(69),r(),v(70,gM,5,3,"mat-error"),r(),a(71,"div",35)(72,"label",50),c(73),r(),a(74,"textarea",51,4),T("ngModelChange",function(p){return m(l),y(t.dataModel.apiSendMessageAddTextEnd,p)||(t.dataModel.apiSendMessageAddTextEnd=p),u(p)}),r(),a(76,"em"),c(77),r(),v(78,vM,5,3,"mat-error"),r(),a(79,"div",35)(80,"label",52),c(81),r(),a(82,"textarea",53,5),T("ngModelChange",function(p){return m(l),y(t.dataModel.sendMessageAddTextFirst,p)||(t.dataModel.sendMessageAddTextFirst=p),u(p)}),r(),a(84,"em"),c(85),r(),v(86,bM,5,3,"mat-error"),r(),a(87,"div",35)(88,"label",54),c(89),r(),a(90,"textarea",55,6),T("ngModelChange",function(p){return m(l),y(t.dataModel.sendMessageAddTextEnd,p)||(t.dataModel.sendMessageAddTextEnd=p),u(p)}),r(),a(92,"em"),c(93),r(),v(94,MM,5,3,"mat-error"),r(),v(95,IM,8,2,"div",47),v(96,PM,8,2,"div",47),v(97,wM,8,2,"div",47),v(98,EM,8,2,"div",47),v(99,DM,8,2,"div",47),v(100,yM,13,14,"div",43),r(),v(101,AM,6,8,"mat-step",44),a(102,"mat-step",44),S(103,"translate"),v(104,RM,8,2,"div",47),g(105,"div",56),v(106,xM,5,3,"div",35),v(107,kM,8,2,"div",47),a(108,"div",38)(109,"label",57),c(110),r(),a(111,"input",58),T("ngModelChange",function(p){return m(l),y(t.dataModel.statusOutOfServiceExpire,p)||(t.dataModel.statusOutOfServiceExpire=p),u(p)}),r(),g(112,"mat-datepicker-toggle",59)(113,"mat-datepicker",60,7),r(),v(115,LM,8,2,"div",47),a(116,"div",38)(117,"label",61),c(118),r(),a(119,"input",62),T("ngModelChange",function(p){return m(l),y(t.dataModel.statusNotStableExpire,p)||(t.dataModel.statusNotStableExpire=p),u(p)}),r(),g(120,"mat-datepicker-toggle",59)(121,"mat-datepicker",60,8),r(),v(123,VM,5,3,"div",35),v(124,BM,5,3,"div",35),v(125,OM,5,3,"div",35),v(126,FM,13,14,"div",43),r(),v(127,GM,3,5,"mat-step",44),v(128,WM,3,5,"mat-step",44),v(129,jM,3,5,"mat-step",44),v(130,QM,3,5,"mat-step",44),V(131,zM,2,0,"ng-template",63)(132,KM,2,0,"ng-template",64)(133,JM,2,0,"ng-template",65)(134,XM,2,0,"ng-template",66),r()()()()}if(i&2){let l=x(13),f=x(40),p=x(67),k=x(75),X=x(83),Ge=x(91),$e=x(114),Ke=x(122);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),A(C(7,103,"TITLE.ROUTE_SETTINGS")),o(3),h(" ",C(10,105,"TITLE.ROUTE_SETTINGS_DESCRIPTION")," "),o(2),_("formInfo",t.formInfo),o(5),_("label",R(C(17,107,"TITLE.REQUIRED_INFORMATION"))),o(2),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?18:-1),o(),b(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?19:-1),o(),_("optionDisabled",!(t.fieldsInfo.linkPublicConfigId!=null&&t.fieldsInfo.linkPublicConfigId.accessEditField))("optionSelectForce",t.dataModel.linkPublicConfigId)("optionPlaceholder",C(21,109,"TITLE.Route_Type")),o(2),_("optionSelectForce",t.dataModel.linkSourceCompanyId)("optionPlaceholder",C(23,111,"TITLE.Service_Company")),o(2),b(t.fieldsInfo.apiIdentity!=null&&t.fieldsInfo.apiIdentity.accessWatchField?24:-1),o(),b(t.fieldsInfo.apiMinPathNeedToCheck!=null&&t.fieldsInfo.apiMinPathNeedToCheck.accessWatchField?25:-1),o(),b(t.fieldsInfo.apiReceiveKey!=null&&t.fieldsInfo.apiReceiveKey.accessWatchField?26:-1),o(),b(t.fieldsInfo.apiAbilityLengthMinToSend!=null&&t.fieldsInfo.apiAbilityLengthMinToSend.accessWatchField?27:-1),o(),b(t.fieldsInfo.apiAbilityLengthMaxToSend!=null&&t.fieldsInfo.apiAbilityLengthMaxToSend.accessWatchField?28:-1),o(),b(t.fieldsInfo.priority!=null&&t.fieldsInfo.priority.accessWatchField?29:-1),o(),b(t.fieldsInfo.maxProcessFlowAmount!=null&&t.fieldsInfo.maxProcessFlowAmount.accessWatchField?30:-1),o(),b(t.fieldsInfo.minProcessFlowAmount!=null&&t.fieldsInfo.minProcessFlowAmount.accessWatchField?31:-1),o(),b(t.fieldsInfo.fixFeeProcessFlowAmount!=null&&t.fieldsInfo.fixFeeProcessFlowAmount.accessWatchField?32:-1),o(),b(t.fieldsInfo.percentFeeProcessFlowAmount!=null&&t.fieldsInfo.percentFeeProcessFlowAmount.accessWatchField?33:-1),o(),b(t.fieldsInfo.perriodStartWorkTime!=null&&t.fieldsInfo.perriodStartWorkTime.accessWatchField?34:-1),o(),b(t.fieldsInfo.perriodEndWorkTime!=null&&t.fieldsInfo.perriodEndWorkTime.accessWatchField?35:-1),o(3),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),D("ngModel",t.dataModel.description),o(3),h("",f.value.length," / 500"),o(),b(f.errors!=null&&f.errors.required?43:-1),o(3),A(t.fieldsInfo.memo==null?null:t.fieldsInfo.memo.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),D("ngModel",t.dataModel.memo),o(2),b(t.formInfo.submitButtonEnabled?49:-1),o(),_("label",R(C(51,113,"TITLE.Dispatch_variables"))),o(3),A(C(54,115,"TITLE.Port_settings")),o(2),_("formGroup",l.form),D("jsonValue",t.dataModel.privateConfigJsonValues),_("propertiesInfos",t.dataModel.privateConfigJsonFormatter),o(),b(t.formInfo.submitButtonEnabled?56:-1),o(),_("label",R(C(58,117,"TITLE.Api_path_send_variables"))),o(3),A(C(61,119,"TITLE.Set_acess")),o(2),b(t.fieldsInfo.apiSendMessageIsOn!=null&&t.fieldsInfo.apiSendMessageIsOn.accessWatchField?62:-1),o(3),A(t.fieldsInfo.apiSendMessageAddTextFirst==null?null:t.fieldsInfo.apiSendMessageAddTextFirst.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.apiSendMessageAddTextFirst==null?null:t.fieldsInfo.apiSendMessageAddTextFirst.fieldTitle)),D("ngModel",t.dataModel.apiSendMessageAddTextFirst),o(3),h("",p.value.length," / 500"),o(),b(p.errors!=null&&p.errors.required?70:-1),o(3),A(t.fieldsInfo.apiSendMessageAddTextEnd==null?null:t.fieldsInfo.apiSendMessageAddTextEnd.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.apiSendMessageAddTextEnd==null?null:t.fieldsInfo.apiSendMessageAddTextEnd.fieldTitle)),D("ngModel",t.dataModel.apiSendMessageAddTextEnd),o(3),h("",k.value.length," / 500"),o(),b(k.errors!=null&&k.errors.required?78:-1),o(3),A(t.fieldsInfo.sendMessageAddTextFirst==null?null:t.fieldsInfo.sendMessageAddTextFirst.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.sendMessageAddTextFirst==null?null:t.fieldsInfo.sendMessageAddTextFirst.fieldTitle)),D("ngModel",t.dataModel.sendMessageAddTextFirst),o(3),h("",X.value.length," / 500"),o(),b(X.errors!=null&&X.errors.required?86:-1),o(3),A(t.fieldsInfo.sendMessageAddTextEnd==null?null:t.fieldsInfo.sendMessageAddTextEnd.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.sendMessageAddTextEnd==null?null:t.fieldsInfo.sendMessageAddTextEnd.fieldTitle)),D("ngModel",t.dataModel.sendMessageAddTextEnd),o(3),h("",Ge.value.length," / 500"),o(),b(Ge.errors!=null&&Ge.errors.required?94:-1),o(),b(t.fieldsInfo.apiAbilitySendUnicodeMessage!=null&&t.fieldsInfo.apiAbilitySendUnicodeMessage.accessWatchField?95:-1),o(),b(t.fieldsInfo.apiAbilitySendNormalMessage!=null&&t.fieldsInfo.apiAbilitySendNormalMessage.accessWatchField?96:-1),o(),b(t.fieldsInfo.apiAllowSupersede!=null&&t.fieldsInfo.apiAllowSupersede.accessWatchField?97:-1),o(),b(t.fieldsInfo.apiAbilityUseWebservice!=null&&t.fieldsInfo.apiAbilityUseWebservice.accessWatchField?98:-1),o(),b(t.fieldsInfo.apiAbilityUseInside!=null&&t.fieldsInfo.apiAbilityUseInside.accessWatchField?99:-1),o(),b(t.formInfo.submitButtonEnabled?100:-1),o(),b(t.complatedView?101:-1),o(),_("label",R(C(103,121,"TITLE.Credit_return_status"))),o(2),b(t.fieldsInfo.serverDeliveryCostBase!=null&&t.fieldsInfo.serverDeliveryCostBase.accessWatchField?104:-1),o(2),b(t.fieldsInfo.statusOutOfServiceMonitorApiChar!=null&&t.fieldsInfo.statusOutOfServiceMonitorApiChar.accessWatchField?106:-1),o(),b(t.fieldsInfo.statusOutOfServiceActive!=null&&t.fieldsInfo.statusOutOfServiceActive.accessWatchField?107:-1),o(3),A(t.fieldsInfo.statusOutOfServiceExpire==null?null:t.fieldsInfo.statusOutOfServiceExpire.fieldTitle),o(),_("matDatepicker",$e),D("ngModel",t.dataModel.statusOutOfServiceExpire),o(),_("for",$e),o(),_("calendarHeaderComponent",t.datapickerHeader),o(2),b(t.fieldsInfo.apiAbilityUseInside!=null&&t.fieldsInfo.apiAbilityUseInside.accessWatchField?115:-1),o(3),A(t.fieldsInfo.statusNotStableExpire==null?null:t.fieldsInfo.statusNotStableExpire.fieldTitle),o(),_("matDatepicker",Ke),D("ngModel",t.dataModel.statusNotStableExpire),o(),_("for",Ke),o(),_("calendarHeaderComponent",t.datapickerHeader),o(2),b(t.fieldsInfo.statusNotStableCount!=null&&t.fieldsInfo.statusNotStableCount.accessWatchField?123:-1),o(),b(t.fieldsInfo.statusNotStableCountLimit!=null&&t.fieldsInfo.statusNotStableCountLimit.accessWatchField?124:-1),o(),b(t.fieldsInfo.statusNotStableRunForMin!=null&&t.fieldsInfo.statusNotStableRunForMin.accessWatchField?125:-1),o(),b(t.formInfo.submitButtonEnabled?126:-1),o(),b(t.complatedView?127:-1),o(),b(t.complatedView?128:-1),o(),b(t.complatedView?129:-1),o(),b(t.complatedView?130:-1)}},dependencies:[ge,$,Li,ki,ee,Ce,Ee,De,ye,ce,he,Ga,Yi,Zi,$i,qe,Oi,Je,q,ul,fl,_l,Sl,ml,ve,j,Se,kl,ei,Xa,Ml,Il,Pl,da,ca,B],encapsulation:2});var Rr=Ea;var ns=[{path:"",component:ko,data:{title:"ROUTE.DATAPROVIDER.MAIN"},children:[{path:"client",component:Ro,data:{title:"ROUTE.DATAPROVIDER.CLIENT"}},{path:"client-charge/:LinkClientId",component:Ar,data:{title:"ROUTE.DATAPROVIDER.CLIENTCHARGE"}},{path:"source",component:Gn,data:{title:"ROUTE.DATAPROVIDER.SOURCE"}},{path:"source/list/LinkSourceCompanyId/:LinkSourceCompanyId",component:Gn,data:{title:"ROUTE.DATAPROVIDER.SOURCE"}},{path:"source-company",component:oa,data:{title:"ROUTE.DATAPROVIDER.SOURCECOMPANY"}},{path:"source-public-config",component:ha,data:{title:"ROUTE.DATAPROVIDER.SOURCEPUBLICCONFIG"}},{path:"source-path",component:bn,data:{title:"ROUTE.DATAPROVIDER.SOURCEPATH"}},{path:"source-path/list",component:bn,data:{title:"ROUTE.DATAPROVIDER.SOURCEPATH"}},{path:"source-path/list/LinkCompanyId/:LinkCompanyId",component:bn,data:{title:"ROUTE.DATAPROVIDER.SOURCEPATH"}},{path:"source-path/list/LinkPublicConfigId/:LinkPublicConfigId",component:bn,data:{title:"ROUTE.DATAPROVIDER.SOURCEPATH"}},{path:"source-path/list/LinkSiteId/:LinkSiteId",component:bn,data:{title:"ROUTE.DATAPROVIDER.SOURCEPATH"}},{path:"source-path/edit/:id",component:Rr,data:{title:"ROUTE.DATAPROVIDER.SOURCEPATH"}},{path:"source-path-pagination",component:sa,data:{title:"ROUTE.DATAPROVIDER.SOURCEPATH"}},{path:"client-application",component:un,data:{title:"ROUTE.DATAPROVIDER.CLIENTAPPLICATION"}},{path:"client-application/LinkUserId/:LinkUserId",component:un,data:{title:"ROUTE.DATAPROVIDER.CLIENTAPPLICATION"}},{path:"client-application/LinkSiteId/:LinkSiteId",component:un,data:{title:"ROUTE.DATAPROVIDER.CLIENTAPPLICATION"}},{path:"client-application-permission",component:mn,data:{title:"ROUTE.DATAPROVIDER.CLIENTAPPLICATIONPERMISSION"}},{path:"client-application-permission/LinkClientApplicationId/:LinkClientApplicationId",component:mn,data:{title:"ROUTE.DATAPROVIDER.CLIENTAPPLICATIONPERMISSION"}},{path:"client-application-permission/LinkSourcePathId/:LinkSourcePathId",component:mn,data:{title:"ROUTE.DATAPROVIDER.CLIENTAPPLICATIONPERMISSION"}},{path:"plan-client",component:_n,data:{title:"ROUTE.DATAPROVIDER.PLANCLIENT"}},{path:"plan-client/LinkPlanId/:LinkPlanId",component:_n,data:{title:"ROUTE.DATAPROVIDER.PLANCLIENT"}},{path:"plan-client/LinkClientId/:LinkClientId",component:_n,data:{title:"ROUTE.DATAPROVIDER.PLANCLIENT"}},{path:"plan",component:Vn,data:{title:"ROUTE.DATAPROVIDER.PLAN"}},{path:"plan/LinkPlanCategory/:LinkPlanCategory",component:Vn,data:{title:"ROUTE.DATAPROVIDER.PLAN"}},{path:"plan-source",component:Cn,data:{title:"ROUTE.DATAPROVIDER.PLANSOURCE"}},{path:"plan-source/LinkPlanId/:LinkPlanId",component:Cn,data:{title:"ROUTE.DATAPROVIDER.PLANSOURCE"}},{path:"plan-source/LinkSourceId/:LinkSourceId",component:Cn,data:{title:"ROUTE.DATAPROVIDER.PLANSOURCE"}},{path:"plan-price",component:xn,data:{title:"ROUTE.DATAPROVIDER.PLANPRICE"}},{path:"plan-price/LinkPlanId/:LinkPlanId",component:xn,data:{title:"ROUTE.DATAPROVIDER.PLANPRICE"}}]}];var Wn=class Wn{};Wn.\u0275fac=function(e){return new(e||Wn)},Wn.\u0275mod=Va({type:Wn}),Wn.\u0275inj=ka({imports:[Lr.forChild(window.innerWidth<1e3?is:ns),Lr]});var xr=Wn;var qn=class qn{};qn.\u0275fac=function(e){return new(e||qn)},qn.\u0275mod=Va({type:qn}),qn.\u0275inj=ka({providers:[jr,ie,Ur,Xr,Yt,zi,Ui,Ai,Ri,Qi,xi,Zt,di,ci,cn,Ki,Ji,Qt,Qr],imports:[Wr,xr,nl,ol.withConfig({warnOnNgModelWithFormControl:"never"}),Dl,Vl,Gl,xl,pl,cl,Cl,vl,Rl,il,bl,Nl,wl]});var os=qn;export{os as DataProviderMainModule};
