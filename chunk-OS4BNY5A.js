import{a as ur}from"./chunk-ARGO4ZUP.js";import{a as mr}from"./chunk-CYIFN6WC.js";import{a as Fn,b as cr}from"./chunk-J62OGTS2.js";import{a as On}from"./chunk-USVDTHDB.js";import{a as Nn}from"./chunk-LCBH7NZO.js";import{a as pr}from"./chunk-XYH37BOZ.js";import{a as sr}from"./chunk-A46PQFKK.js";import{a as lr}from"./chunk-NAZ2ETZ7.js";import{a as dr}from"./chunk-G435FFSB.js";import{a as xi}from"./chunk-C3RNJVV4.js";import{c as ar}from"./chunk-KCVRZSMF.js";import"./chunk-RSJYN5LU.js";import{a as tr,b as ir,c as nr,d as or,e as rr}from"./chunk-5ILZVC4Z.js";import{j as Tn,k as En,l as xn}from"./chunk-IHR3P55Q.js";import{a as er}from"./chunk-6DV3QCIC.js";import{a as $o}from"./chunk-TF4DBKQK.js";import{a as Gn}from"./chunk-75WMOEOY.js";import"./chunk-JI36AB4O.js";import{a as Bn}from"./chunk-WMFWEGDE.js";import{a as Vt}from"./chunk-BI2G5XZO.js";import{a as Dt}from"./chunk-ZH5K76SP.js";import{a as Ke}from"./chunk-G6LLRAJJ.js";import{c as vt,d as je,e as Ue,g as Qe,h as ze}from"./chunk-2QIU6A36.js";import{a as kt}from"./chunk-YCVFTBGC.js";import{a as Zo}from"./chunk-VZ5YZX2L.js";import{a as Xo,h as Lt}from"./chunk-QBZNIATK.js";import{a as Wt}from"./chunk-CZUPWDEG.js";import{a as be}from"./chunk-BJKQ5Y6G.js";import{b as Yo}from"./chunk-GMQ2RG6T.js";import{a as qe}from"./chunk-H76UJ66K.js";import{a as q}from"./chunk-HI3CYTK2.js";import{b as Ct,d as Ei,f as G}from"./chunk-64ZIWB7A.js";import{$b as ht,Ac as Ko,B as ti,E as ho,F as So,Ga as Do,Gb as lt,H as Mo,Ha as Se,Hb as st,Ia as Me,Ja as Fe,K as X,Kb as He,L as ge,M as _e,Mb as Re,Nb as dt,Nc as We,O as bo,Ob as ct,Oc as N,P as Io,Pa as oe,Pb as Wn,Q as bn,Qa as yo,Qb as ai,Qc as It,R as he,Rb as li,Rc as Jo,Sb as kn,Tb as Ln,U as In,Ub as Oo,V as Cn,Vb as pt,Wb as mt,X as vn,Xb as ut,Y as Dn,Yb as ft,Z as yn,Zb as gt,_ as wn,_b as _t,ac as St,bc as Mt,cc as bt,eb as Pe,gb as ni,hb as oi,hc as Ho,ib as ri,ic as qo,jc as jo,ka as vo,kc as Uo,lc as Qo,ma as B,mb as ko,mc as zo,n as At,nb as Lo,o as Y,oa as xe,ob as Vo,pb as Go,pc as V,qb as Bo,qc as k,r as z,rb as Fo,s as de,sb as No,u as ce,v as $t,w as pe,x as me,y as ei,zc as Vn}from"./chunk-HQ7TGXR4.js";import{Ad as lo,Ao as Ze,Bb as te,Bo as so,Ca as ve,Cb as ie,Co as Wo,Db as ne,Dd as Oe,F as Qt,Fa as o,Gd as nt,Hb as A,Hc as De,I as zt,Ib as Gt,Ic as Ge,Id as H,Jb as Ee,Jc as W,Ka as M,Kd as wo,Mb as c,Md as Pt,Nb as x,Nc as et,Ob as g,P as Kt,Pa as R,Pb as Zt,Pc as tt,Pd as yi,Q as Jt,Qa as Mn,Qd as F,Sb as w,Ta as U,Tb as T,Ub as E,Ud as O,Va as I,Vb as P,Vc as go,Vd as K,Wb as Ve,Wd as re,We as Eo,Xa as Tt,Y as Sn,Zb as Ie,_b as $e,_d as To,bc as h,be as Q,bg as Ao,cb as Et,cc as S,da as u,dc as xt,ea as f,ed as _o,fe as An,ho as wi,ib as d,jb as r,jo as Ro,kb as l,ke as Pn,kf as xo,ko as Ti,lb as b,lo as ii,mo as ot,no as rt,og as Po,oo as Rt,p as jt,pb as D,pd as it,po as at,q as Ut,qb as y,qd as Co,qo as Rn,rb as we,rd as Be,rq as Z,sa as fo,sb as v,uc as L,vb as C,vo as sn,wo as Bt,xb as p,xd as ao,xo as Ae,yb as Yt,yd as Ne,yo as Ye,zb as Xt,zo as Xe}from"./chunk-NB7YGABA.js";import{i as ee}from"./chunk-SEDBTTTN.js";var Ir=["vform"];function Cr(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",22),E("modelChange",function(t){u(e);let s=p();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=p();w("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function vr(n,a){n&1&&b(0,"i",29)}function Dr(n,a){n&1&&b(0,"i",30)}function yr(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),x(S(4,2,"MESSAGE.required"))}}function wr(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",24),c(2),l(),r(3,"input",25,2),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),I(5,vr,1,0,"i",26)(6,Dr,1,0,"i",27),r(7,"em"),c(8),l(),I(9,yr,5,4,"mat-error",28),l()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Tr(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",31),c(2),l(),r(3,"input",32,3),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.linkPageId,t)||(s.dataModel.linkPageId=t),f(t)}),l(),r(5,"em"),c(6),l()()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.linkPageId==null?null:i.fieldsInfo.linkPageId.fieldTitle),o(),w("ngModel",i.dataModel.linkPageId),d("disabled",!(i.fieldsInfo.linkPageId!=null&&i.fieldsInfo.linkPageId.accessAddField)),o(3),g("",e.value.length," / 100")}}function Er(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.priority==null?null:e.fieldsInfo.priority.fieldTitle," is "),o(2),x(S(4,2,"MESSAGE.required"))}}function xr(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",33),c(2),l(),r(3,"input",34,4),h(5,"translate"),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.priority,t)||(s.dataModel.priority=t),f(t)}),l(),I(6,Er,5,4,"mat-error",28),l()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.priority==null?null:i.fieldsInfo.priority.fieldTitle),o(),d("placeholder",P(S(5,6,"TITLE.priority"))),w("ngModel",i.dataModel.priority),d("disabled",!(i.fieldsInfo.priority!=null&&i.fieldsInfo.priority.accessAddField)),o(3),d("ngIf",e.errors==null?null:e.errors.required)}}function Ar(n,a){n&1&&b(0,"i",29)}function Pr(n,a){n&1&&b(0,"i",30)}function Rr(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),x(S(4,2,"MESSAGE.required"))}}function Wr(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",35),c(2),h(3,"translate"),l(),r(4,"textarea",36,5),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),c(6,"            "),l(),r(7,"em"),c(8),l(),I(9,Ar,1,0,"i",26)(10,Pr,1,0,"i",27)(11,Rr,5,4,"mat-error",28),l()}if(n&2){let e=A(5),i=p();o(2),x(S(3,9,"TITLE.General_Description")),o(2),d("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),w("ngModel",i.dataModel.description),d("disabled",!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessAddField)),o(4),g("",e.value.length," / 100"),o(),d("ngIf",!e.value),o(),d("ngIf",e.value),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function kr(n,a){if(n&1){let e=v();r(0,"div",37)(1,"button",38),C("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),c(2),h(3,"translate"),l(),r(4,"button",39),c(5),h(6,"translate"),l()()}if(n&2){p();let e=A(9);o(2),g(" ",S(3,3,"ACTION.BACK")," "),o(2),d("disabled",!e.form.valid),o(),g(" ",S(6,5,"ACTION.NEXT")," ")}}function Lr(n,a){if(n&1&&(b(0,"img",40),h(1,"cmsthumbnail")),n&2){let e=p();d("src",P(S(1,2,e.dataModel.linkMainImageIdSrc)),ve)}}function Vr(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",41),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),c(2),h(3,"translate"),l(),r(4,"input",42,6),h(6,"translate"),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.linkMainImageId,t)||(s.dataModel.linkMainImageId=t),f(t)}),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),l(),r(7,"cms-file-manager",43),C("itemSelected",function(t){u(e);let s=p();return f(s.onActionFileSelectedLinkMainImageId(t))}),E("openFormChange",function(t){u(e);let s=p();return T(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),f(t)}),l()()}if(n&2){let e=p();o(2),x(S(3,12,"TITLE.Icon_File")),o(2),d("placeholder",P(S(6,14,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),o(3),d("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),d("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Gr(n,a){if(n&1&&(b(0,"img",40),h(1,"cmsthumbnail")),n&2){let e=p();d("src",P(S(1,2,e.dataModel.linkMainVideoIdSrc)),ve)}}function Br(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",44),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenFormVideo=!0)}),c(2),l(),r(3,"input",45,7),h(5,"translate"),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.linkMainVideoId,t)||(s.dataModel.linkMainVideoId=t),f(t)}),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenFormVideo=!0)}),l(),r(6,"cms-file-manager",43),C("itemSelected",function(t){u(e);let s=p();return f(s.onActionFileSelectedLinkMainVideoId(t))}),E("openFormChange",function(t){u(e);let s=p();return T(s.fileManagerOpenFormVideo,t)||(s.fileManagerOpenFormVideo=t),f(t)}),l()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.linkMainVideoId==null?null:e.fieldsInfo.linkMainVideoId.fieldTitle),o(),d("placeholder",P(S(5,13,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainVideoId),d("disabled",!(e.fieldsInfo.linkMainVideoId!=null&&e.fieldsInfo.linkMainVideoId.accessAddField)),o(3),d("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenFormVideo),d("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainVideo)("openFilemanagerButtonView",!1)}}function Fr(n,a){if(n&1&&(r(0,"div",37)(1,"button",46),c(2),h(3,"translate"),l(),r(4,"button",47),c(5),h(6,"translate"),l()()),n&2){p();let e=A(9);o(2),g(" ",S(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),g(" ",S(6,5,"ACTION.SAVE")," ")}}var Ai=class Ai extends Wt{constructor(e,i,t,s,_,m,j,J){super(s,new Bt,i,J);this.activatedRoute=e;this.publicHelper=i;this.coreEnumService=t;this.webDesignerMainIntroService=s;this.cmsToastrService=_;this.router=m;this.cdr=j;this.translate=J;this.requestLinkPageId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.formInfo=new re;this.dataModel=new Bt;this.dataModelResult=new F;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypeMainVideo=["mp4"];this.fileManagerOpenForm=!1;this.fileManagerOpenFormVideo=!1;this.appLanguage="fa";this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkPageId")&&(this.requestLinkPageId=this.activatedRoute.snapshot.paramMap.get("LinkPageId")),this.requestLinkPageId.length>0&&(this.dataModel.linkPageId=this.requestLinkPageId),this.DataGetAccess()}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataAddContent()}DataAddContent(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainIntroService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/webdesigner/intro/"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorEdit(i)}})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex}onActionBackToParent(){this.router.navigate(["/webdesigner/intro/"])}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionFileSelectedLinkMainVideoId(e){this.dataModel.linkMainVideoId=e.id,this.dataModel.linkMainVideoIdSrc=e.downloadLinksrc}};Ai.\u0275fac=function(i){return new(i||Ai)(M(it),M(G),M(Q),M(ii),M(N),M(Be),M(L),M(V))},Ai.\u0275cmp=R({type:Ai,selectors:[["app-webdesigner-intro-add"]],viewQuery:function(i,t){if(i&1&&te(Ir,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:34,vars:31,consts:[["vform","ngForm"],["stepper",""],["Title",""],["LinkPageId",""],["Priority",""],["Description",""],["LinkMainImageId",""],["LinkMainVideoId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.linkPageId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkPageId","placeholder","Page Id","minlength","3","maxlength","100","id","dataModel.linkPageId",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.priority",1,"color-highlight"],["matInput","","type","number","name","dataModel.priority","id","dataModel.priority",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","3","maxlength","100","rows","10","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["for","dataModel.linkMainVideoId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainVideoId","autocomplete","off","id","dataModel.linkMainVideoId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder","disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=v();r(0,"div",8),b(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),c(4),l(),r(5,"p"),c(6),h(7,"translate"),l(),r(8,"form",12,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"mat-horizontal-stepper",13,1),C("selectionChange",function(m){u(s);let j=A(11);return f(t.onStepClick(m,j))}),r(12,"mat-step",14),h(13,"translate"),I(14,Cr,1,5,"app-cms-enum-record-status-selector",15)(15,wr,10,9,"div",16)(16,Tr,7,4,"div",16)(17,xr,7,8,"div",16)(18,Wr,12,11,"div",16)(19,kr,7,7,"div",17),l(),r(20,"mat-step",18),h(21,"translate"),r(22,"p"),c(23),h(24,"translate"),l(),r(25,"div",19)(26,"a",20),h(27,"cmsthumbnail"),I(28,Lr,2,4,"img",21),l()(),I(29,Vr,8,16,"div",16),r(30,"div",19),I(31,Gr,2,4,"img",21),l(),I(32,Br,7,15,"div",16)(33,Fr,7,7,"div",17),l()()()()()}i&2&&(o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",S(7,21,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),d("label",P(S(13,23,"TITLE.REQUIRED_INFORMATION"))),o(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),d("ngIf",t.fieldsInfo.linkPageId==null?null:t.fieldsInfo.linkPageId.accessWatchField),o(),d("ngIf",t.fieldsInfo.priority==null?null:t.fieldsInfo.priority.accessWatchField),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),d("ngIf",t.formInfo.formSubmitAllow),o(),d("label",P(S(21,25,"TITLE.ATTACH_FILES"))),o(3),x(S(24,27,"TITLE.Photos_And_Application_Files")),o(3),d("href",P(S(27,29,t.dataModel.linkMainImageIdSrc)),ve),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(),d("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainVideoIdSrc==null?null:t.dataModel.linkMainVideoIdSrc.length)>0),o(),d("ngIf",t.fieldsInfo.linkMainVideoId==null?null:t.fieldsInfo.linkMainVideoId.accessWatchField),o(),d("ngIf",t.formInfo.formSubmitAllow))},dependencies:[W,me,Y,ei,z,de,X,ge,_e,pe,ce,he,B,ai,li,kn,Ln,be,q,Vn,k,Lt],encapsulation:2});var dn=Ai;var Nr=["vform"];function Or(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",22),E("modelChange",function(t){u(e);let s=p();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=p();w("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Hr(n,a){n&1&&b(0,"i",29)}function qr(n,a){n&1&&b(0,"i",30)}function jr(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),x(S(4,2,"MESSAGE.required"))}}function Ur(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",24),c(2),l(),r(3,"input",25,2),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),I(5,Hr,1,0,"i",26)(6,qr,1,0,"i",27),r(7,"em"),c(8),l(),I(9,jr,5,4,"mat-error",28),l()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Qr(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",31),c(2),l(),r(3,"input",32,3),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.linkPageId,t)||(s.dataModel.linkPageId=t),f(t)}),l(),r(5,"em"),c(6),l()()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.linkPageId==null?null:i.fieldsInfo.linkPageId.fieldTitle),o(),w("ngModel",i.dataModel.linkPageId),d("disabled",!(i.fieldsInfo.linkPageId!=null&&i.fieldsInfo.linkPageId.accessEditField)),o(3),g("",e.value.length," / 100")}}function zr(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.priority==null?null:e.fieldsInfo.priority.fieldTitle," is "),o(2),x(S(4,2,"MESSAGE.required"))}}function Kr(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",33),c(2),l(),r(3,"input",34,4),h(5,"translate"),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.priority,t)||(s.dataModel.priority=t),f(t)}),l(),I(6,zr,5,4,"mat-error",28),l()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.priority==null?null:i.fieldsInfo.priority.fieldTitle),o(),d("placeholder",P(S(5,6,"TITLE.priority"))),w("ngModel",i.dataModel.priority),d("disabled",!(i.fieldsInfo.priority!=null&&i.fieldsInfo.priority.accessEditField)),o(3),d("ngIf",e.errors==null?null:e.errors.required)}}function Jr(n,a){n&1&&b(0,"i",29)}function Yr(n,a){n&1&&b(0,"i",30)}function Xr(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),x(S(4,2,"MESSAGE.required"))}}function Zr(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",35),c(2),h(3,"translate"),l(),r(4,"textarea",36,5),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),c(6,"            "),l(),r(7,"em"),c(8),l(),I(9,Jr,1,0,"i",26)(10,Yr,1,0,"i",27)(11,Xr,5,4,"mat-error",28),l()}if(n&2){let e=A(5),i=p();o(2),x(S(3,9,"TITLE.General_Description")),o(2),d("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),w("ngModel",i.dataModel.description),d("disabled",!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessEditField)),o(4),g("",e.value.length," / 100"),o(),d("ngIf",!e.value),o(),d("ngIf",e.value),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function $r(n,a){if(n&1){let e=v();r(0,"div",37)(1,"button",38),C("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),c(2),h(3,"translate"),l(),r(4,"button",39),c(5),h(6,"translate"),l()()}if(n&2){p();let e=A(9);o(2),g(" ",S(3,3,"ACTION.BACK")," "),o(2),d("disabled",!e.form.valid),o(),g(" ",S(6,5,"ACTION.NEXT")," ")}}function ea(n,a){if(n&1&&(b(0,"img",40),h(1,"cmsthumbnail")),n&2){let e=p();d("src",P(S(1,2,e.dataModel.linkMainImageIdSrc)),ve)}}function ta(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",41),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),c(2),l(),r(3,"input",42,6),h(5,"translate"),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.linkMainImageId,t)||(s.dataModel.linkMainImageId=t),f(t)}),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),l(),r(6,"cms-file-manager",43),C("itemSelected",function(t){u(e);let s=p();return f(s.onActionFileSelectedLinkMainImageId(t))}),E("openFormChange",function(t){u(e);let s=p();return T(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),f(t)}),l()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.fieldTitle),o(),d("placeholder",P(S(5,12,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),o(3),d("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),d("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function ia(n,a){if(n&1&&(b(0,"img",40),h(1,"cmsthumbnail")),n&2){let e=p();d("src",P(S(1,2,e.dataModel.linkMainVideoIdSrc)),ve)}}function na(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",44),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenFormVideo=!0)}),c(2),l(),r(3,"input",45,7),h(5,"translate"),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.linkMainVideoId,t)||(s.dataModel.linkMainVideoId=t),f(t)}),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenFormVideo=!0)}),l(),r(6,"cms-file-manager",43),C("itemSelected",function(t){u(e);let s=p();return f(s.onActionFileSelectedLinkMainVideoId(t))}),E("openFormChange",function(t){u(e);let s=p();return T(s.fileManagerOpenFormVideo,t)||(s.fileManagerOpenFormVideo=t),f(t)}),l()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.linkMainVideoId==null?null:e.fieldsInfo.linkMainVideoId.fieldTitle),o(),d("placeholder",P(S(5,13,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainVideoId),d("disabled",!(e.fieldsInfo.linkMainVideoId!=null&&e.fieldsInfo.linkMainVideoId.accessAddField)),o(3),d("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenFormVideo),d("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainVideo)("openFilemanagerButtonView",!1)}}function oa(n,a){if(n&1&&(r(0,"div",37)(1,"button",46),c(2),h(3,"translate"),l(),r(4,"button",47),c(5),h(6,"translate"),l()()),n&2){p();let e=A(9);o(2),g(" ",S(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),g(" ",S(6,5,"ACTION.SAVE")," ")}}var Pi=class Pi extends kt{constructor(e,i,t,s,_,m,j,J){super(s,new Bt,i,J);this.activatedRoute=e;this.publicHelper=i;this.coreEnumService=t;this.webDesignerMainIntroService=s;this.cmsToastrService=_;this.router=m;this.cdr=j;this.translate=J;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.formInfo=new re;this.dataModel=new Bt;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypeMainVideo=["mp4"];this.fileManagerOpenForm=!1;this.fileManagerOpenFormVideo=!1;this.appLanguage="fa";this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.activatedRoute.snapshot.paramMap.get("Id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("Id"))}ngOnInit(){if(this.requestId.length===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.DataGetOne(this.requestId)}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataEditContent()}DataGetOne(e){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.webDesignerMainIntroService.setAccessLoad(),this.webDesignerMainIntroService.setAccessDataType(Pt.Editor),this.webDesignerMainIntroService.ServiceGetOneById(e).subscribe({next:t=>{this.dataAccessModel=t.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.publicHelper.processService.processStop(i),this.dataModelResult=t,this.formInfo.formSubmitAllow=!0,t.isSuccess?this.dataModel=t.item:this.cmsToastrService.typeErrorGetOne(t.errorMessage)},error:t=>{this.publicHelper.processService.processStop(i),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorGetOne(t)}})}DataEditContent(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainIntroService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/webdesigner/intro/"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorEdit(i)}})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex}onActionBackToParent(){this.router.navigate(["/webdesigner/intro/"])}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionFileSelectedLinkMainVideoId(e){this.dataModel.linkMainVideoId=e.id,this.dataModel.linkMainVideoIdSrc=e.downloadLinksrc}};Pi.\u0275fac=function(i){return new(i||Pi)(M(it),M(G),M(Q),M(ii),M(N),M(Be),M(L),M(V))},Pi.\u0275cmp=R({type:Pi,selectors:[["app-webdesigner-intro-edit"]],viewQuery:function(i,t){if(i&1&&te(Nr,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:34,vars:31,consts:[["vform","ngForm"],["stepper",""],["Title",""],["LinkPageId",""],["Priority",""],["Description",""],["LinkMainImageId",""],["LinkMainVideoId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.linkPageId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkPageId","placeholder","Page Id","minlength","3","maxlength","100","id","dataModel.linkPageId",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.priority",1,"color-highlight"],["matInput","","type","number","name","dataModel.priority","id","dataModel.priority",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","3","maxlength","100","rows","10","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["for","dataModel.linkMainVideoId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainVideoId","autocomplete","off","id","dataModel.linkMainVideoId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder","disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=v();r(0,"div",8),b(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),c(4),l(),r(5,"p"),c(6),h(7,"translate"),l(),r(8,"form",12,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"mat-horizontal-stepper",13,1),C("selectionChange",function(m){u(s);let j=A(11);return f(t.onStepClick(m,j))}),r(12,"mat-step",14),h(13,"translate"),I(14,Or,1,5,"app-cms-enum-record-status-selector",15)(15,Ur,10,9,"div",16)(16,Qr,7,4,"div",16)(17,Kr,7,8,"div",16)(18,Zr,12,11,"div",16)(19,$r,7,7,"div",17),l(),r(20,"mat-step",18),h(21,"translate"),r(22,"p"),c(23),h(24,"translate"),l(),r(25,"div",19)(26,"a",20),h(27,"cmsthumbnail"),I(28,ea,2,4,"img",21),l()(),I(29,ta,7,14,"div",16),r(30,"div",19),I(31,ia,2,4,"img",21),l(),I(32,na,7,15,"div",16)(33,oa,7,7,"div",17),l()()()()()}i&2&&(o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",S(7,21,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),d("label",P(S(13,23,"TITLE.REQUIRED_INFORMATION"))),o(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),d("ngIf",t.fieldsInfo.linkPageId==null?null:t.fieldsInfo.linkPageId.accessWatchField),o(),d("ngIf",t.fieldsInfo.priority==null?null:t.fieldsInfo.priority.accessWatchField),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),d("ngIf",t.formInfo.formSubmitAllow),o(),d("label",P(S(21,25,"TITLE.ATTACH_FILES"))),o(3),x(S(24,27,"TITLE.Photos_And_Application_Files")),o(3),d("href",P(S(27,29,t.dataModel.linkMainImageIdSrc)),ve),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(),d("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainVideoIdSrc==null?null:t.dataModel.linkMainVideoIdSrc.length)>0),o(),d("ngIf",t.fieldsInfo.linkMainVideoId==null?null:t.fieldsInfo.linkMainVideoId.accessWatchField),o(),d("ngIf",t.formInfo.formSubmitAllow))},dependencies:[W,me,Y,ei,z,de,X,ge,_e,pe,ce,he,B,ai,li,kn,Ln,be,q,Vn,k,Lt],encapsulation:2});var qn=Pi;var la=()=>[5,10,20,100],sa=n=>({display:n});function da(n,a){if(n&1){let e=v();r(0,"a",41),C("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),b(1,"i",42),l()}}function ca(n,a){if(n&1){let e=v();r(0,"div",43)(1,"a",44),C("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),b(2,"i",45)(3,"br"),l(),r(4,"p",46),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",S(6,1,"ACTION.ADD")," "))}function pa(n,a){if(n&1){let e=v();r(0,"div",43)(1,"a",47),C("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),b(2,"i",48)(3,"br"),l(),r(4,"p",46),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",S(6,1,"ACTION.EDIT")," "))}function ma(n,a){if(n&1){let e=v();r(0,"div",43)(1,"a",49),C("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),b(2,"i",50)(3,"br"),l(),r(4,"p",46),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",S(6,1,"ACTION.DELETE")," "))}function ua(n,a){n&1&&(r(0,"mat-header-cell",51),c(1),h(2,"translate"),l()),n&2&&(o(),g(" ",S(2,1,"TITLE.PICTURE")," "))}function fa(n,a){if(n&1&&(b(0,"img",53),h(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",P(S(1,2,e.linkMainImageIdSrc)),ve)}}function ga(n,a){if(n&1&&(r(0,"mat-cell"),I(1,fa,2,4,"img",52),l()),n&2){let e=a.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function _a(n,a){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function ha(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.id," ")}}function Sa(n,a){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ma(n,a){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"cmssiteinfo"),h(3,"async"),l()),n&2){let e=a.$implicit;o(),g(" ",S(3,3,S(2,1,e.linkSiteId))," ")}}function ba(n,a){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.linkPageId==null?null:e.fieldsInfo.linkPageId.fieldTitle," ")}}function Ia(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.linkPageId," ")}}function Ca(n,a){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function va(n,a){if(n&1&&b(0,"select",57),n&2){let e=p().$implicit,i=p();d("contentService",i.contentService)("row",e)("ngStyle",$e(3,sa,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Da(n,a){if(n&1&&(r(0,"mat-cell",55),h(1,"statusCellClass"),b(2,"i",55),h(3,"statusIconClass"),I(4,va,1,5,"select",56),l()),n&2){let e=a.$implicit,i=p();d("ngClass",S(1,3,e.recordStatus)),o(2),d("ngClass",S(3,5,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function ya(n,a){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function wa(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.title," ")}}function Ta(n,a){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Ea(n,a){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"localeDate"),l()),n&2){let e=a.$implicit;o(),g(" ",S(2,1,e.createdDate)," ")}}function xa(n,a){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Aa(n,a){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"localeDate"),l()),n&2){let e=a.$implicit;o(),g(" ",S(2,1,e.updatedDate)," ")}}function Pa(n,a){n&1&&(r(0,"mat-header-cell"),c(1),h(2,"translate"),l()),n&2&&(o(),g(" ",S(2,1,"TITLE.OPTION")," "))}function Ra(n,a){if(n&1&&(r(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),c(3,"more_vert"),l()(),b(4,"mat-menu",null,2),l()),n&2){let e=A(5);o(),d("matMenuTriggerFor",e)}}function Wa(n,a){n&1&&b(0,"mat-header-row")}function ka(n,a){if(n&1){let e=v();r(0,"mat-row",60),C("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))}),l()}if(n&2){let e=a.$implicit,i=p();Ee("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ri=class Ri extends vt{constructor(e,i,t,s,_,m,j,J,wt,fi,Ht,gi){super(e,new Bt,Ht,_,J);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.router=s;this.tokenHelper=_;this.cmsConfirmationDialogService=m;this.cdr=j;this.translate=J;this.cmsStoreService=wt;this.pageInfo=fi;this.publicHelper=Ht;this.dialog=gi;this.requestLinkPageId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new K;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","LinkPageId","CreatedDate","UpdatedDate"];this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Id","RecordStatus","LinkPageId","CreatedDate","UpdatedDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:qt=>this.onSubmitOptionsSearch(qt)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.requestLinkPageId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkPageId"));let e=new O;this.requestLinkPageId>0&&(e.propertyName="LinkPageId",e.value=this.requestLinkPageId,this.filteModelContent.filters.push(e)),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>ee(this,null,function*(){this.tokenInfo=i,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.requestLinkPageId===0&&(this.tabledisplayedColumns=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumns,"LinkPageId")),this.tableRowsSelected=[],this.onActionTableRowSelect(new Bt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess&&(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}this.requestLinkPageId>0?this.router.navigate(["/webdesigner/intro/add/",this.requestLinkPageId]):this.router.navigate(["/webdesigner/intro/add/"])}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/webdesigner/intro/edit/",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.No_row_selected_for_editing").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess&&(i.set("All",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new O;_.propertyName="RecordStatus",_.value=nt.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess&&(i.set("Active",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Ri.\u0275fac=function(i){return new(i||Ri)(M(ii),M(it),M(N),M(Be),M(We),M(qe),M(L),M(V),M(Pe),M(Ct),M(G),M(Fe))},Ri.\u0275cmp=R({type:Ri,selectors:[["app-webdesigner-intro-list"]],standalone:!1,features:[U],decls:63,vars:29,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-hea","","der","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkPageId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-hea","","der",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=v();r(0,"app-cms-html-list",3),E("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),C("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),D(1,4),c(2," -------------------------------------- "),y(),we(3,5)(4,6),D(5,7),I(6,da,2,0,"a",8),r(7,"a",9),C("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),b(8,"i",10),l(),r(9,"a",9),C("click",function(){return u(s),f(t.onActionButtonReload())}),b(10,"i",11),l(),y(),D(11,12),r(12,"a",13),C("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),b(13,"mat-slide-toggle",14),c(14),h(15,"translate"),l(),r(16,"a",13),C("click",function(){return u(s),f(t.onActionButtonStatist())}),b(17,"mat-slide-toggle",14),c(18),h(19,"translate"),l(),y(),D(20,15),I(21,ca,7,3,"div",16),y(),D(22,17),I(23,pa,7,3,"div",16)(24,ma,7,3,"div",16),y(),D(25,18),r(26,"app-cms-search-list",19),E("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),l(),r(27,"app-cms-statist-list",19),E("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),l(),y(),D(28,20),r(29,"mat-table",21,0),C("matSortChange",function(){u(s);let m=A(30);return f(t.onTableSortData(m))}),D(31,22),I(32,ua,3,3,"mat-header-cell",23)(33,ga,2,1,"mat-cell",24),y(),D(34,25),I(35,_a,2,1,"mat-header-cell",26)(36,ha,2,1,"mat-cell",24),y(),D(37,27),I(38,Sa,2,1,"mat-header-cell",26)(39,Ma,4,5,"mat-cell",24),y(),D(40,28),I(41,ba,2,1,"mat-header-cell",26)(42,Ia,2,1,"mat-cell",24),y(),D(43,29),I(44,Ca,2,1,"mat-header-cell",26)(45,Da,5,7,"mat-cell",30),y(),D(46,31),I(47,ya,2,1,"mat-header-cell",26)(48,wa,2,1,"mat-cell",24),y(),D(49,32),I(50,Ta,2,1,"mat-header-cell",26)(51,Ea,3,3,"mat-cell",24),y(),D(52,33),I(53,xa,2,1,"mat-header-cell",26)(54,Aa,3,3,"mat-cell",24),y(),D(55,34),I(56,Pa,3,3,"mat-header-cell",35)(57,Ra,6,1,"mat-cell",36),y(),I(58,Wa,1,0,"mat-header-row",37)(59,ka,1,2,"mat-row",38),l(),y(),D(60,39),r(61,"mat-paginator",40,1),C("page",function(m){return u(s),f(t.onTablePageingData(m))}),l(),y(),l()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(6),d("ngIf",t.requestLinkPageId>0),o(7),d("checked",t.optionsSearch.data.show),o(),g("",S(15,24,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),g("",S(19,26,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(29),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ie(28,la)))},dependencies:[De,W,et,xe,oe,B,lt,st,He,Re,dt,ct,pt,ut,ht,ft,mt,St,gt,_t,Mt,bt,je,Ue,Qe,ze,Dt,tt,k,Gn,Lt,Bn,Ke,Vt],encapsulation:2});var cn=Ri;var La=["vform"];function Va(n,a){if(n&1){let e=v();r(0,"div",7)(1,"button",12),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),b(2,"i",13),c(3),h(4,"translate"),l()()}n&2&&(o(3),g(" ",S(4,1,"ACTION.CANCEL")," "))}var Fi=class Fi{constructor(a,e,i,t,s,_,m,j,J,wt){this.data=a;this.dialogRef=e;this.coreEnumService=i;this.webDesignerLogMemberInfoService=t;this.cdr=s;this.cmsToastrService=_;this.tokenHelper=m;this.cmsStoreService=j;this.publicHelper=J;this.translate=wt;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Ao;this.dataModelResult=new F;this.dataModel=new sn;this.formInfo=new re;this.dataModelEnumSendSmsStatusTypeResult=new F;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,a&&(this.requestId=a.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(a=>{this.formInfo.formTitle=a}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(a=>ee(this,null,function*(){this.tokenInfo=a}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:a=>{this.dataModelEnumSendSmsStatusTypeResult=a}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.webDesignerLogMemberInfoService.setAccessLoad(),this.webDesignerLogMemberInfoService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}onActionSelectorLocation(a){if(!a||!a.id||a.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(e=>{this.cmsToastrService.typeWarningSelected(e)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=a.id}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Fi.\u0275fac=function(e){return new(e||Fi)(M(Me),M(Se),M(Q),M(Ti),M(L),M(N),M(We),M(Pe),M(G),M(V))},Fi.\u0275cmp=R({type:Fi,selectors:[["app-webdesigner-logmemberinfo-view"]],viewQuery:function(e,i){if(e&1&&te(La,5),e&2){let t;ie(t=ne())&&(i.formGroup=t.first)}},standalone:!1,decls:19,vars:22,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[3,"dataModel","optionMethod"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(r(0,"div",0),c(1),l(),r(2,"div",1),b(3,"app-progress-spinner",2)(4,"app-cms-site-selector",3),h(5,"translate"),b(6,"app-cms-user-selector",3),h(7,"translate"),b(8,"app-cms-json-list",4),r(9,"app-cms-location-selector",5),h(10,"translate"),C("optionChange",function(s){return i.onActionSelectorLocation(s)}),l()(),r(11,"div",6)(12,"div",7)(13,"small",8),c(14),l(),r(15,"small",9),c(16),l()()(),r(17,"div",10),I(18,Va,5,3,"div",11),l()),e&2&&(o(),g(" ",i.formInfo.formTitle," "),o(2),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("optionDisabled",!0)("optionSelectForce",i.dataModel.linkSiteId)("optionPlaceholder",S(5,16,"TITLE.SITE")),o(2),d("optionDisabled",!0)("optionSelectForce",i.dataModel.linkUserId)("optionPlaceholder",S(7,18,"TITLE.USER")),o(2),d("dataModel",i.dataModel)("optionMethod",1),o(),d("optionDisabled",!(i.fieldsInfo.linkLocationId!=null&&i.fieldsInfo.linkLocationId.accessEditField))("optionSelectForce",i.dataModel.linkLocationId)("optionPlaceholder",S(10,20,"TITLE.Region")),o(5),g("",i.formInfo.formAlert," "),o(2),g("",i.formInfo.formError," "),o(2),d("ngIf",i.formInfo.formSubmitAllow))},dependencies:[W,Zo,mr,$o,q,er,k],encapsulation:2});var Un=Fi;var Ga=()=>[5,10,20,100],Ba=n=>({display:n});function Fa(n,a){if(n&1){let e=v();r(0,"div",46)(1,"a",47),C("click",function(){u(e);let t=p();return f(t.onActionButtonViewRow(t.tableRowSelected))}),b(2,"i",48)(3,"br"),l(),r(4,"p",49),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",S(6,1,"ACTION.VIEW")," "))}function Na(n,a){if(n&1){let e=v();r(0,"div",46)(1,"a",50),C("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),b(2,"i",51)(3,"br"),l(),r(4,"p",49),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",S(6,1,"ACTION.DELETE")," "))}function Oa(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Ha(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.id," ")}}function qa(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function ja(n,a){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"cmssiteinfo"),h(3,"async"),l()),n&2){let e=a.$implicit;o(),g(" ",S(3,3,S(2,1,e.linkSiteId))," ")}}function Ua(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Qa(n,a){if(n&1&&b(0,"select",55),n&2){let e=p().$implicit,i=p();d("contentService",i.contentService)("row",e)("ngStyle",$e(3,Ba,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function za(n,a){if(n&1&&(r(0,"mat-cell",53),h(1,"statusCellClass"),b(2,"i",53),h(3,"statusIconClass"),I(4,Qa,1,5,"select",54),l()),n&2){let e=a.$implicit,i=p();d("ngClass",S(1,3,e.recordStatus)),o(2),d("ngClass",S(3,5,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Ka(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Ja(n,a){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"cmsuserinfo"),h(3,"async"),l()),n&2){let e=a.$implicit;o(),g(" ",S(3,3,S(2,1,e.linkUserId))," ")}}function Ya(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function Xa(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.linkMemberId," ")}}function Za(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.linkLocationIdTitle==null?null:e.fieldsInfo.linkLocationIdTitle.fieldTitle," ")}}function $a(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.linkLocationIdTitle," ")}}function el(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.linkLocationIdParentTitle==null?null:e.fieldsInfo.linkLocationIdParentTitle.fieldTitle," ")}}function tl(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.linkLocationIdParentTitle," ")}}function il(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.deviceStatus==null?null:e.fieldsInfo.deviceStatus.fieldTitle," ")}}function nl(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.deviceStatus," ")}}function ol(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.deviceId==null?null:e.fieldsInfo.deviceId.fieldTitle," ")}}function rl(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.deviceId," ")}}function al(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.deviceBrand==null?null:e.fieldsInfo.deviceBrand.fieldTitle," ")}}function ll(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.deviceBrand," ")}}function sl(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.simCard==null?null:e.fieldsInfo.simCard.fieldTitle," ")}}function dl(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.simCard," ")}}function cl(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.appBuildVer==null?null:e.fieldsInfo.appBuildVer.fieldTitle," ")}}function pl(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.appBuildVer," ")}}function ml(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.appSourceVer==null?null:e.fieldsInfo.appSourceVer.fieldTitle," ")}}function ul(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.appSourceVer," ")}}function fl(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.scorePercent==null?null:e.fieldsInfo.scorePercent.fieldTitle," ")}}function gl(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.scorePercent," %")}}function _l(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function hl(n,a){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"localeDate"),l()),n&2){let e=a.$implicit;o(),g(" ",S(2,1,e.createdDate)," ")}}function Sl(n,a){n&1&&(r(0,"mat-header-cell"),c(1),h(2,"translate"),l()),n&2&&(o(),g(" ",S(2,1,"TITLE.OPTION")," "))}function Ml(n,a){if(n&1&&(r(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),c(3,"more_vert"),l()(),b(4,"mat-menu",null,2),l()),n&2){let e=A(5);o(),d("matMenuTriggerFor",e)}}function bl(n,a){n&1&&b(0,"mat-header-row")}function Il(n,a){if(n&1){let e=v();r(0,"mat-row",58),C("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))}),l()}if(n&2){let e=a.$implicit,i=p();Ee("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ni=class Ni extends vt{constructor(e,i,t,s,_,m,j,J,wt,fi,Ht,gi,qt){super(e,new sn,gi,fi,_);this.contentService=e;this.cmsConfirmationDialogService=i;this.activatedRoute=t;this.cdr=s;this.translate=_;this.themeService=m;this.cmsToastrService=j;this.cmsStoreService=J;this.router=wt;this.tokenHelper=fi;this.pageInfo=Ht;this.publicHelper=gi;this.dialog=qt;this.requestLinkMemberId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new K;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","RecordStatus","LinkUserId","LinkMemberId","DeviceStatus","DeviceId","DeviceBrand","SimCard","AppBuildVer","AppSourceVer","ScorePercent","CreatedDate"];this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","LinkUserId","LinkMemberId","DeviceStatus","DeviceId","DeviceBrand","SimCard","AppBuildVer","AppSourceVer","ScorePercent","CreatedDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ln=>this.onSubmitOptionsSearch(ln)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.requestLinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberId"));let e=new O;this.requestLinkMemberId>0&&(e.propertyName="LinkMemberId",e.value=this.requestLinkMemberId,this.filteModelContent.filters.push(e)),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>ee(this,null,function*(){this.tokenInfo=i,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new sn);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Un,{height:"90%",panelClass:i,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(j=>{i.set(j,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new O;_.propertyName="RecordStatus",_.value=nt.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(j=>{i.set(j,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/application/app/"])}};Ni.\u0275fac=function(i){return new(i||Ni)(M(Ti),M(qe),M(it),M(L),M(V),M(It),M(N),M(Pe),M(Be),M(We),M(Ct),M(G),M(Fe))},Ni.\u0275cmp=R({type:Ni,selectors:[["app-webdesigner-logmemberinfo-list"]],standalone:!1,features:[U],decls:81,vars:27,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","LinkLocationIdTitle"],["matColumnDef","LinkLocationIdParentTitle"],["matColumnDef","DeviceStatus"],["matColumnDef","DeviceId"],["matColumnDef","DeviceBrand"],["matColumnDef","SimCard"],["matColumnDef","AppBuildVer"],["matColumnDef","AppSourceVer"],["matColumnDef","ScorePercent"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=v();r(0,"app-cms-html-list",3),E("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),C("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),we(1,4)(2,5)(3,6),D(4,7),r(5,"a",8),C("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),b(6,"i",9),l(),r(7,"a",8),C("click",function(){return u(s),f(t.onActionButtonReload())}),b(8,"i",10),l(),y(),D(9,11),r(10,"a",12),C("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),b(11,"mat-slide-toggle",13),c(12),h(13,"translate"),l(),r(14,"a",12),C("click",function(){return u(s),f(t.onActionButtonStatist())}),b(15,"mat-slide-toggle",13),c(16),h(17,"translate"),l(),y(),we(18,14),D(19,15),I(20,Fa,7,3,"div",16)(21,Na,7,3,"div",16),y(),D(22,17),r(23,"app-cms-search-list",18),E("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),l(),r(24,"app-cms-statist-list",18),E("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),l(),y(),D(25,19),r(26,"mat-table",20,0),C("matSortChange",function(){u(s);let m=A(27);return f(t.onTableSortData(m))}),D(28,21),I(29,Oa,2,1,"mat-header-cell",22)(30,Ha,2,1,"mat-cell",23),y(),D(31,24),I(32,qa,2,1,"mat-header-cell",22)(33,ja,4,5,"mat-cell",23),y(),D(34,25),I(35,Ua,2,1,"mat-header-cell",22)(36,za,5,7,"mat-cell",26),y(),D(37,27),I(38,Ka,2,1,"mat-header-cell",22)(39,Ja,4,5,"mat-cell",23),y(),D(40,28),I(41,Ya,2,1,"mat-header-cell",22)(42,Xa,2,1,"mat-cell",23),y(),D(43,29),I(44,Za,2,1,"mat-header-cell",22)(45,$a,2,1,"mat-cell",23),y(),D(46,30),I(47,el,2,1,"mat-header-cell",22)(48,tl,2,1,"mat-cell",23),y(),D(49,31),I(50,il,2,1,"mat-header-cell",22)(51,nl,2,1,"mat-cell",23),y(),D(52,32),I(53,ol,2,1,"mat-header-cell",22)(54,rl,2,1,"mat-cell",23),y(),D(55,33),I(56,al,2,1,"mat-header-cell",22)(57,ll,2,1,"mat-cell",23),y(),D(58,34),I(59,sl,2,1,"mat-header-cell",22)(60,dl,2,1,"mat-cell",23),y(),D(61,35),I(62,cl,2,1,"mat-header-cell",22)(63,pl,2,1,"mat-cell",23),y(),D(64,36),I(65,ml,2,1,"mat-header-cell",22)(66,ul,2,1,"mat-cell",23),y(),D(67,37),I(68,fl,2,1,"mat-header-cell",22)(69,gl,2,1,"mat-cell",23),y(),D(70,38),I(71,_l,2,1,"mat-header-cell",22)(72,hl,3,3,"mat-cell",23),y(),D(73,39),I(74,Sl,3,3,"mat-header-cell",40)(75,Ml,6,1,"mat-cell",41),y(),I(76,bl,1,0,"mat-header-row",42)(77,Il,1,2,"mat-row",43),l(),y(),D(78,44),r(79,"mat-paginator",45,1),C("page",function(m){return u(s),f(t.onTablePageingData(m))}),l(),y(),l()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(11),d("checked",t.optionsSearch.data.show),o(),g("",S(13,22,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),g("",S(17,24,"ACTION.STATIST")," "),o(4),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),o(),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(50),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ie(26,Ga)))},dependencies:[De,W,et,xe,oe,B,lt,st,He,Re,dt,ct,pt,ut,ht,ft,mt,St,gt,_t,Mt,bt,je,Ue,Qe,ze,Dt,tt,k,Xo,Gn,Bn,Ke,Vt],encapsulation:2});var Qn=Ni;var Cl=["*"];function vl(n,a){if(n&1&&(r(0,"label",11),c(1),l()),n&2){let e=p();d("for",Ve("app-cms-site-selector-",e.id)),o(),x(e.optionLabel)}}function Dl(n,a){if(n&1&&(r(0,"mat-option",12)(1,"span"),c(2),l()()),n&2){let e=a.$implicit,i=p();d("value",e)("disabled",i.optionDisabled),o(2),x(i.displayOption(e))}}function yl(n,a){n&1&&b(0,"i",13)}function wl(n,a){n&1&&b(0,"i",14)}function Tl(n,a){if(n&1){let e=v();r(0,"i",15),C("click",function(){u(e);let t=p();return f(t.onActionSelectClear())}),l()}}function El(n,a){n&1&&(r(0,"em"),c(1),h(2,"translate"),l()),n&2&&(o(),g("(",S(2,1,"TITLE.Necessary"),")"))}var si=class si{constructor(a,e,i,t,s){this.coreEnumService=a;this.cdr=e;this.publicHelper=i;this.translate=t;this.categoryService=s;this.id=++si.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new F;this.dataModelSelect=new Ae;this.formControl=new $t;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new Tt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(a){this.onActionSelectForce(a)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Kt(""),Qt(1500),zt(),Jt(a=>typeof a=="string"||typeof a=="number"?this.DataGetAll(a||""):[]))}displayFn(a){return a?a.title:void 0}displayOption(a){return a?a.title:void 0}DataGetAll(a){return ee(this,null,function*(){let e=new K;e.rowPerPage=20,e.accessLoad=!0;let i=new O;i.propertyName="Title",i.value=a,i.searchType=Oe.Contains,i.clauseType=Ne.Or,e.filters.push(i),a&&typeof+a=="number"&&+a>0&&(i=new O,i.propertyName="Id",i.value=a,i.searchType=Oe.Equal,i.clauseType=Ne.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield jt(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect?.id?.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(a){this.dataModelSelect=a,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(a){return this.filteredOptions.pipe(Ut(e=>(e.find(i=>i.id===a.id)||e.push(a),e)))}onActionSelectForce(a){if(typeof a=="string"&&a.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===a)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===a)){let e=this.dataModelResult.listItems.find(i=>i.id===a);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(a).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof a==typeof Ae){this.filteredOptions=this.push(a),this.dataModelSelect=a,this.formControl.setValue(a);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Ae,this.loadOptions()}};si.nextId=0,si.\u0275fac=function(e){return new(e||si)(M(Q),M(L),M(G),M(V),M(ot))},si.\u0275cmp=R({type:si,selectors:[["app-webdesigner-menu-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Cl,decls:13,vars:18,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=v();Yt(),r(0,"div",1),b(1,"app-progress-spinner",2),I(2,vl,2,3,"label",3),b(3,"input",4),r(4,"mat-autocomplete",5,0),C("optionSelected",function(_){return u(t),f(i.onActionSelect(_.option.value))}),I(6,Dl,3,3,"mat-option",6),h(7,"async"),l(),I(8,yl,1,0,"i",7)(9,wl,1,0,"i",8)(10,Tl,1,0,"i",9)(11,El,3,3,"em",10),Xt(12),l()}if(e&2){let t=A(5);o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(),d("placeholder",P(i.optionPlaceholder))("id",Ve("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Et("disabled",i.optionDisabled?!0:null),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",S(7,16,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0))}},dependencies:[Ge,W,Y,z,X,ti,oi,ni,ri,B,q,tt,k],encapsulation:2});var Oi=si;var Pl=["vform"],Rl=()=>["fa"];function Wl(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",29),E("modelChange",function(t){u(e);let s=p();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=p();w("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function kl(n,a){n&1&&b(0,"i",35)}function Ll(n,a){n&1&&b(0,"i",36)}function Vl(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),x(S(4,2,"MESSAGE.required"))}}function Gl(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",30),c(2),l(),r(3,"input",31,2),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),I(5,kl,1,0,"i",32)(6,Ll,1,0,"i",33),r(7,"em"),c(8),l(),I(9,Vl,5,4,"mat-error",34),l()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Bl(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),o(2),x(S(4,2,"MESSAGE.required"))}}function Fl(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",37),c(2),l(),r(3,"input",38,3),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),f(t)}),l(),I(5,Bl,5,4,"mat-error",34),l()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),w("ngModel",i.dataModel.titleResourceLanguage),d("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessEditField)),o(2),d("ngIf",e.errors==null?null:e.errors.required)}}function Nl(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",39),c(2),l(),r(3,"input",40,4),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.routeAddressLink,t)||(s.dataModel.routeAddressLink=t),f(t)}),l(),r(5,"em"),c(6),l()()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.routeAddressLink==null?null:i.fieldsInfo.routeAddressLink.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.routeAddressLink==null?null:i.fieldsInfo.routeAddressLink.fieldTitle)),w("ngModel",i.dataModel.routeAddressLink),d("disabled",!(i.fieldsInfo.routeAddressLink!=null&&i.fieldsInfo.routeAddressLink.accessEditField)),o(3),g("",e.value.length," / 500")}}function Ol(n,a){if(n&1){let e=v();r(0,"div",41)(1,"div",42)(2,"h5",43),c(3),l()(),r(4,"div",44)(5,"div",45)(6,"input",46),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.routeAddressBlankPage,t)||(s.dataModel.routeAddressBlankPage=t),f(t)}),l(),b(7,"label",47),l()()()}if(n&2){let e=p();o(3),g(" ",e.fieldsInfo.routeAddressBlankPage==null?null:e.fieldsInfo.routeAddressBlankPage.fieldTitle," "),o(3),w("ngModel",e.dataModel.routeAddressBlankPage)}}function Hl(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",48),c(2),l(),r(3,"input",49,5),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.color,t)||(s.dataModel.color=t),f(t)}),l(),b(5,"ngx-mat-color-toggle",50)(6,"ngx-mat-color-picker",51,6),l()}if(n&2){let e=A(7),i=p();o(2),x(i.fieldsInfo.routeAddressLink==null?null:i.fieldsInfo.routeAddressLink.fieldTitle),o(),Gt("background",i.dataModel.color),d("placeholder",P(i.fieldsInfo.color==null?null:i.fieldsInfo.color.fieldTitle))("ngxMatColorPicker",e),w("ngModel",i.dataModel.color),d("disabled",!(i.fieldsInfo.color!=null&&i.fieldsInfo.color.accessAddField)),o(2),d("for",e),o(),d("touchUi",!0)("color","primary")}}function ql(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",52),c(2),l(),r(3,"input",53,7),C("iconPickerSelect",function(t){u(e);let s=p();return f(s.onIconPickerSelect(t))}),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.icon,t)||(s.dataModel.icon=t),f(t)}),l()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.fieldTitle),o(),d("placeholder",P(e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.fieldTitle))("iconPicker",e.dataModel.icon)("ipIconPack",Ie(8,Rl))("ipPosition","top"),w("ngModel",e.dataModel.icon),d("disabled",!(e.fieldsInfo.icon!=null&&e.fieldsInfo.icon.accessEditField))}}function jl(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",54),c(2),l(),r(3,"input",55,8),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.showInMenuOrder,t)||(s.dataModel.showInMenuOrder=t),f(t)}),l()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.fieldTitle),o(),d("placeholder",P(e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.fieldTitle)),w("ngModel",e.dataModel.showInMenuOrder),d("disabled",!(e.fieldsInfo.showInMenuOrder!=null&&e.fieldsInfo.showInMenuOrder.accessEditField))}}function Ul(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),x(S(4,2,"MESSAGE.required"))}}function Ql(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",56),c(2),l(),r(3,"textarea",57,9),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),c(5,"            "),l(),r(6,"em"),c(7),l(),I(8,Ul,5,4,"mat-error",34),l()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),w("ngModel",i.dataModel.description),o(4),g("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function zl(n,a){if(n&1){let e=v();r(0,"div",58)(1,"button",59),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),c(2),h(3,"translate"),l(),r(4,"button",60),c(5),h(6,"translate"),l()()}if(n&2){p();let e=A(9);o(2),g(" ",S(3,3,"ACTION.BACK")," "),o(2),d("disabled",!e.form.valid),o(),g(" ",S(6,5,"ACTION.SAVE")," ")}}function Kl(n,a){n&1&&(r(0,"mat-icon"),c(1,"call_end"),l())}function Jl(n,a){n&1&&(r(0,"mat-icon"),c(1,"call_end"),l())}function Yl(n,a){n&1&&(r(0,"mat-icon"),c(1,"forum"),l())}function Xl(n,a){n&1&&(r(0,"mat-icon"),c(1,"forum"),l())}var Hi=class Hi extends Wt{constructor(e,i,t,s,_,m,j,J){super(s,new Ae,m,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.webDesignerMainMenuService=s;this.cmsToastrService=_;this.publicHelper=m;this.cdr=j;this.translate=J;this.requestParentId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResult=new F;this.dataModel=new Ae;this.formInfo=new re;this.dataModelEnumMenuPlaceTypeResult=new F;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestParentId=e.parentId+""),this.requestParentId.length>0&&(this.dataModel.linkParentId=this.requestParentId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.getEnumMenuPlaceType(),this.DataGetAccess()}getEnumMenuPlaceType(){this.coreEnumService.ServiceMenuPlaceTypeEnum().subscribe({next:e=>{this.dataModelEnumMenuPlaceTypeResult=e}})}DataAddContent(){this.dataModel.color=this.dataModel.color?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainMenuService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){this.dataModel.linkParentId=null,e&&e.id?.length>0&&(this.dataModel.linkParentId=e.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onIconPickerSelect(e){this.dataModel.icon=e}};Hi.\u0275fac=function(i){return new(i||Hi)(M(Me),M(Se),M(Q),M(ot),M(N),M(G),M(L),M(V))},Hi.\u0275cmp=R({type:Hi,selectors:[["app-webdesigner-menu-add"]],viewQuery:function(i,t){if(i&1&&te(Pl,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:35,vars:29,consts:[["vform","ngForm"],["stepper",""],["Title",""],["TitleResourceLanguage",""],["RouteAddressLink",""],["color",""],["colorPicker",""],["icon",""],["ShowInMenuOrder",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","d-flex mb-3",4,"ngIf"],["class","form-actions",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.routeAddressLink",1,"color-highlight"],["matInput","","type","text","name","dataModel.routeAddressLink","minlength","0","maxlength","500","id","dataModel.routeAddressLink",1,"form-control","validate-name",2,"direction","ltr","text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.routeAddressBlankPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.routeAddressBlankPage","name","dataModel.routeAddressBlankPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.routeAddressBlankPage",1,"custom-control-label"],["for","dataModel.color",1,"color-highlight"],["matInput","","type","text","name","dataModel.color","id","dataModel.color",1,"form-control","validate-name",3,"ngModelChange","ngxMatColorPicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.icon",1,"color-highlight"],["matInput","","type","text","name","dataModel.icon","id","dataModel.icon",1,"form-control","validate-name",3,"iconPickerSelect","ngModelChange","iconPicker","ipIconPack","ipPosition","ngModel","placeholder","disabled"],["for","dataModel.showInMenuOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInMenuOrder","id","dataModel.showInMenuOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","1","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=v();r(0,"div",10),b(1,"app-progress-spinner",11),r(2,"div",12)(3,"p",13),c(4),l(),r(5,"p"),c(6),h(7,"translate"),l(),r(8,"form",14,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"mat-horizontal-stepper",15,1),C("selectionChange",function(m){u(s);let j=A(11);return f(t.onStepClick(m,j))}),r(12,"mat-step",16),h(13,"translate"),I(14,Wl,1,5,"app-cms-enum-record-status-selector",17),r(15,"app-webdesigner-menu-selector",18),h(16,"translate"),C("optionChange",function(m){return u(s),f(t.onActionSelectorSelect(m))}),l(),I(17,Gl,10,9,"div",19),r(18,"div",20)(19,"label",21),c(20),h(21,"translate"),l(),r(22,"input",22),E("ngModelChange",function(m){return u(s),T(t.dataModel.titleML,m)||(t.dataModel.titleML=m),f(m)}),l()(),I(23,Fl,6,6,"div",19)(24,Nl,7,6,"div",19)(25,Ol,8,2,"div",23)(26,Hl,8,11,"div",19)(27,ql,5,9,"div",19)(28,jl,5,5,"div",19)(29,Ql,9,6,"div",19)(30,zl,7,7,"div",24),l(),I(31,Kl,2,0,"ng-template",25)(32,Jl,2,0,"ng-template",26)(33,Yl,2,0,"ng-template",27)(34,Xl,2,0,"ng-template",28),l()()()()}i&2&&(o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",S(7,21,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),d("label",P(S(13,23,"TITLE.Menu_Profile"))),o(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("optionDisabled",!1)("optionSelectForce",t.dataModel.linkParentId)("optionPlaceholder",S(16,25,"TITLE.Parent_Menu")),o(2),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),g(" ",S(21,27,"TITLE.TitleML")),o(2),w("ngModel",t.dataModel.titleML),d("disabled",!0),o(),d("ngIf",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.accessWatchField),o(),d("ngIf",t.fieldsInfo.routeAddressLink==null?null:t.fieldsInfo.routeAddressLink.accessWatchField),o(),d("ngIf",t.fieldsInfo.routeAddressBlankPage==null?null:t.fieldsInfo.routeAddressBlankPage.accessWatchField),o(),d("ngIf",t.fieldsInfo.color==null?null:t.fieldsInfo.color.accessWatchField),o(),d("ngIf",t.fieldsInfo.icon==null?null:t.fieldsInfo.icon.accessWatchField),o(),d("ngIf",t.fieldsInfo.showInMenuOrder==null?null:t.fieldsInfo.showInMenuOrder.accessWatchField),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),d("ngIf",t.formInfo.formSubmitAllow))},dependencies:[W,me,Y,ei,At,z,de,X,ge,_e,pe,ce,he,In,oe,B,ai,li,Wn,be,q,xn,En,Tn,Fn,Oi,k],encapsulation:2});var qi=Hi;var Zl=["vform"],$l=()=>["fa"];function es(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",29),E("modelChange",function(t){u(e);let s=p();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=p();w("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ts(n,a){n&1&&b(0,"i",35)}function is(n,a){n&1&&b(0,"i",36)}function ns(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),x(S(4,2,"MESSAGE.required"))}}function os(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",30),c(2),l(),r(3,"input",31,2),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),I(5,ts,1,0,"i",32)(6,is,1,0,"i",33),r(7,"em"),c(8),l(),I(9,ns,5,4,"mat-error",34),l()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function rs(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),o(2),x(S(4,2,"MESSAGE.required"))}}function as(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",37),c(2),l(),r(3,"input",38,3),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),f(t)}),l(),I(5,rs,5,4,"mat-error",34),l()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),w("ngModel",i.dataModel.titleResourceLanguage),d("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessEditField)),o(2),d("ngIf",e.errors==null?null:e.errors.required)}}function ls(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",39),c(2),l(),r(3,"input",40,4),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.routeAddressLink,t)||(s.dataModel.routeAddressLink=t),f(t)}),l(),r(5,"em"),c(6),l()()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.routeAddressLink==null?null:i.fieldsInfo.routeAddressLink.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.routeAddressLink==null?null:i.fieldsInfo.routeAddressLink.fieldTitle)),w("ngModel",i.dataModel.routeAddressLink),d("disabled",!(i.fieldsInfo.routeAddressLink!=null&&i.fieldsInfo.routeAddressLink.accessEditField)),o(3),g("",e.value.length," / 500")}}function ss(n,a){if(n&1){let e=v();r(0,"div",41)(1,"div",42)(2,"h5",43),c(3),l()(),r(4,"div",44)(5,"div",45)(6,"input",46),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.routeAddressBlankPage,t)||(s.dataModel.routeAddressBlankPage=t),f(t)}),l(),b(7,"label",47),l()()()}if(n&2){let e=p();o(3),g(" ",e.fieldsInfo.routeAddressBlankPage==null?null:e.fieldsInfo.routeAddressBlankPage.fieldTitle," "),o(3),w("ngModel",e.dataModel.routeAddressBlankPage)}}function ds(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",48),c(2),l(),r(3,"input",49,5),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.color,t)||(s.dataModel.color=t),f(t)}),l(),b(5,"ngx-mat-color-toggle",50)(6,"ngx-mat-color-picker",51,6),l()}if(n&2){let e=A(7),i=p();o(2),x(i.fieldsInfo.routeAddressLink==null?null:i.fieldsInfo.routeAddressLink.fieldTitle),o(),Gt("background",i.dataModel.color),d("placeholder",P(i.fieldsInfo.color==null?null:i.fieldsInfo.color.fieldTitle))("ngxMatColorPicker",e),w("ngModel",i.dataModel.color),d("disabled",!(i.fieldsInfo.color!=null&&i.fieldsInfo.color.accessAddField)),o(2),d("for",e),o(),d("touchUi",!0)("color","primary")}}function cs(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",52),c(2),l(),r(3,"input",53,7),C("iconPickerSelect",function(t){u(e);let s=p();return f(s.onIconPickerSelect(t))}),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.icon,t)||(s.dataModel.icon=t),f(t)}),l()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.fieldTitle),o(),d("placeholder",P(e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.fieldTitle))("iconPicker",e.dataModel.icon)("ipIconPack",Ie(8,$l))("ipPosition","top"),w("ngModel",e.dataModel.icon),d("disabled",!(e.fieldsInfo.icon!=null&&e.fieldsInfo.icon.accessEditField))}}function ps(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",54),c(2),l(),r(3,"input",55,8),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.showInMenuOrder,t)||(s.dataModel.showInMenuOrder=t),f(t)}),l()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.fieldTitle),o(),d("placeholder",P(e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.fieldTitle)),w("ngModel",e.dataModel.showInMenuOrder),d("disabled",!(e.fieldsInfo.showInMenuOrder!=null&&e.fieldsInfo.showInMenuOrder.accessEditField))}}function ms(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),x(S(4,2,"MESSAGE.required"))}}function us(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",56),c(2),l(),r(3,"textarea",57,9),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),c(5,"            "),l(),r(6,"em"),c(7),l(),I(8,ms,5,4,"mat-error",34),l()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),w("ngModel",i.dataModel.description),o(4),g("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function fs(n,a){if(n&1){let e=v();r(0,"div",58)(1,"button",59),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),c(2),h(3,"translate"),l(),r(4,"button",60),c(5),h(6,"translate"),l()()}if(n&2){p();let e=A(9);o(2),g(" ",S(3,3,"ACTION.BACK")," "),o(2),d("disabled",!e.form.valid),o(),g(" ",S(6,5,"ACTION.SAVE")," ")}}function gs(n,a){n&1&&(r(0,"mat-icon"),c(1,"call_end"),l())}function _s(n,a){n&1&&(r(0,"mat-icon"),c(1,"call_end"),l())}function hs(n,a){n&1&&(r(0,"mat-icon"),c(1,"forum"),l())}function Ss(n,a){n&1&&(r(0,"mat-icon"),c(1,"forum"),l())}var ji=class ji extends kt{constructor(e,i,t,s,_,m,j,J){super(s,new Ae,_,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.webDesignerMainMenuService=s;this.publicHelper=_;this.cmsToastrService=m;this.cdr=j;this.translate=J;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.appLanguage="fa";this.dataModelResult=new yi;this.dataModel=new Ae;this.formInfo=new re;this.dataModelEnumMenuPlaceTypeResult=new F;this.fileManagerOpenForm=!1;this.dataWebDesignerMainMenuIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+"")}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumMenuPlaceType()}getEnumMenuPlaceType(){this.coreEnumService.ServiceMenuPlaceTypeEnum().subscribe({next:e=>{this.dataModelEnumMenuPlaceTypeResult=e}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainMenuService.setAccessLoad(),this.webDesignerMainMenuService.setAccessDataType(Pt.Editor),this.webDesignerMainMenuService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.dataAccessModel=i.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.color=this.dataModel.color?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainMenuService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionSelectorSelect(e){this.dataModel.linkParentId=null,e&&e.id?.length>0&&(this.dataModel.linkParentId=e.id)}onActionSelectorUserCategorySelect(e){this.dataWebDesignerMainMenuModel=e}onIconPickerSelect(e){this.dataModel.icon=e}};ji.\u0275fac=function(i){return new(i||ji)(M(Me),M(Se),M(Q),M(ot),M(G),M(N),M(L),M(V))},ji.\u0275cmp=R({type:ji,selectors:[["app-webdesigner-menu-edit"]],viewQuery:function(i,t){if(i&1&&te(Zl,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:35,vars:29,consts:[["vform","ngForm"],["stepper",""],["Title",""],["TitleResourceLanguage",""],["RouteAddressLink",""],["color",""],["colorPicker",""],["icon",""],["ShowInMenuOrder",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","d-flex mb-3",4,"ngIf"],["class","form-actions",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.routeAddressLink",1,"color-highlight"],["matInput","","type","text","name","dataModel.routeAddressLink","minlength","0","maxlength","500","id","dataModel.routeAddressLink",1,"form-control","validate-name",2,"direction","ltr","text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.routeAddressBlankPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.routeAddressBlankPage","name","dataModel.routeAddressBlankPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.routeAddressBlankPage",1,"custom-control-label"],["for","dataModel.color",1,"color-highlight"],["matInput","","type","text","name","dataModel.color","id","dataModel.color",1,"form-control","validate-name",3,"ngModelChange","ngxMatColorPicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.icon",1,"color-highlight"],["matInput","","type","text","name","dataModel.icon","id","dataModel.icon",1,"form-control","validate-name",3,"iconPickerSelect","ngModelChange","iconPicker","ipIconPack","ipPosition","ngModel","placeholder","disabled"],["for","dataModel.showInMenuOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInMenuOrder","id","dataModel.showInMenuOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","1","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=v();r(0,"div",10),b(1,"app-progress-spinner",11),r(2,"div",12)(3,"p",13),c(4),l(),r(5,"p"),c(6),h(7,"translate"),l(),r(8,"form",14,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"mat-horizontal-stepper",15,1),C("selectionChange",function(m){u(s);let j=A(11);return f(t.onStepClick(m,j))}),r(12,"mat-step",16),h(13,"translate"),I(14,es,1,5,"app-cms-enum-record-status-selector",17),r(15,"app-webdesigner-menu-selector",18),h(16,"translate"),C("optionChange",function(m){return u(s),f(t.onActionSelectorSelect(m))}),l(),I(17,os,10,9,"div",19),r(18,"div",20)(19,"label",21),c(20),h(21,"translate"),l(),r(22,"input",22),E("ngModelChange",function(m){return u(s),T(t.dataModel.titleML,m)||(t.dataModel.titleML=m),f(m)}),l()(),I(23,as,6,6,"div",19)(24,ls,7,6,"div",19)(25,ss,8,2,"div",23)(26,ds,8,11,"div",19)(27,cs,5,9,"div",19)(28,ps,5,5,"div",19)(29,us,9,6,"div",19)(30,fs,7,7,"div",24),l(),I(31,gs,2,0,"ng-template",25)(32,_s,2,0,"ng-template",26)(33,hs,2,0,"ng-template",27)(34,Ss,2,0,"ng-template",28),l()()()()}i&2&&(o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",S(7,21,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),d("label",P(S(13,23,"TITLE.Menu_Profile"))),o(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("optionDisabled",!1)("optionSelectForce",t.dataModel.linkParentId)("optionPlaceholder",S(16,25,"TITLE.Parent_Menu")),o(2),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),g(" ",S(21,27,"TITLE.TitleML")),o(2),w("ngModel",t.dataModel.titleML),d("disabled",!0),o(),d("ngIf",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.accessWatchField),o(),d("ngIf",t.fieldsInfo.routeAddressLink==null?null:t.fieldsInfo.routeAddressLink.accessWatchField),o(),d("ngIf",t.fieldsInfo.routeAddressBlankPage==null?null:t.fieldsInfo.routeAddressBlankPage.accessWatchField),o(),d("ngIf",t.fieldsInfo.color==null?null:t.fieldsInfo.color.accessWatchField),o(),d("ngIf",t.fieldsInfo.icon==null?null:t.fieldsInfo.icon.accessWatchField),o(),d("ngIf",t.fieldsInfo.showInMenuOrder==null?null:t.fieldsInfo.showInMenuOrder.accessWatchField),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),d("ngIf",t.formInfo.formSubmitAllow))},dependencies:[W,me,Y,ei,At,z,de,X,ge,_e,pe,ce,he,In,oe,B,ai,li,Wn,be,q,xn,En,Tn,Fn,Oi,k],encapsulation:2});var Ui=ji;function Ms(n,a){if(n&1){let e=v();r(0,"button",13),C("click",function(){u(e);let t=p();return f(t.onActionAdd())}),c(1),h(2,"translate"),l()}n&2&&(o(),g(" ",S(2,1,"ACTION.ADD")," "))}function bs(n,a){if(n&1){let e=v();r(0,"button",14),C("click",function(){u(e);let t=p();return f(t.onActionEdit())}),c(1),h(2,"translate"),l()}n&2&&(o(),g(" ",S(2,1,"ACTION.EDIT")," "))}function Is(n,a){if(n&1){let e=v();r(0,"button",15),C("click",function(){u(e);let t=p();return f(t.onActionButtonReload())}),r(1,"mat-icon",16),h(2,"translate"),c(3,"refresh"),l()()}n&2&&(o(),d("title",P(S(2,2,"ACTION.RELOAD"))))}function Cs(n,a){if(n&1){let e=v();r(0,"mat-tree-node",17),b(1,"button",18),r(2,"span",19),C("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionSelect(t))}),b(3,"i",20),c(4),l()()}if(n&2){let e=a.$implicit,i=p();Ee("ntk-tree-selected",i.dataModelSelect.id.length>0&&i.dataModelSelect.id===e.id),o(3),Gt("color",e.color),d("ngClass",e.icon),o(),g(" \xA0\xA0\xA0\xA0 ",e.title)}}function vs(n,a){if(n&1){let e=v();r(0,"mat-tree-node",21)(1,"button",22)(2,"mat-icon",23),c(3),l()(),r(4,"span",19),C("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionSelect(t))}),b(5,"i",20),c(6),l()()}if(n&2){let e=a.$implicit,i=p(),t=A(11);Ee("ntk-tree-selected",i.dataModelSelect.id.length>0&&i.dataModelSelect.id===e.id),d("cdkTreeNodeTypeaheadLabel",e.title),o(),Et("type","button")("aria-label","Toggle "+e.title),o(2),g(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),Gt("color",e.color),d("ngClass",e.icon),o(),g(" \xA0\xA0\xA0\xA0 ",e.title)}}var Qi=class Qi{constructor(a,e,i,t,s,_,m,j,J,wt){this.cmsToastrService=a;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=s;this.publicHelper=_;this.tokenHelper=m;this.themeService=j;this.cmsStoreService=J;this.translate=wt;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new Ae;this.dataModelResult=new F;this.filterModel=new K;this.dataSource=new zo;this.optionChange=new Tt;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(a,e)=>!!e.children&&e.children.length>0;this.childrenAccessor=a=>a.children??[];this.publicHelper.processService.cdr=this.cdr,this.filterModel.sortColumn="ShowInMenuOrder",this.filterModel.sortType=H.Ascending}set optionSelectForce(a){this.onActionSelectForce(a)}ngOnInit(){setTimeout(()=>{this.DataGetAll()},500),this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(a=>ee(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAllTree(this.filterModel).subscribe({next:e=>{e.isSuccess&&(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a)}})}onActionSelect(a){this.dataModelSelect=a,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Ae,this.DataGetAll()}onActionSelectForce(a){}onActionAdd(){let a="";this.dataModelSelect&&this.dataModelSelect?.id?.length>0&&(a=this.dataModelSelect.id);let e=new Do;e.disableClose=!0,e.autoFocus=!0,e.data={parentId:a},this.dialog.open(qi,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let a="";if(this.dataModelSelect&&this.dataModelSelect?.id?.length>0&&(a=this.dataModelSelect.id),a.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ui,{height:"90%",panelClass:e,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{id:a}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let a="";if(this.dataModelSelect&&this.dataModelSelect?.id?.length>0&&(a=this.dataModelSelect.id),a.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}}};Qi.\u0275fac=function(e){return new(e||Qi)(M(N),M(Q),M(ot),M(Fe),M(L),M(G),M(We),M(It),M(Pe),M(V))},Qi.\u0275cmp=R({type:Qi,selectors:[["app-webdesigner-menu-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:15,vars:13,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-secondary",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","",3,"cdkTreeNodeTypeaheadLabel","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["aria-hidden","true",3,"ngClass"],["matTreeNodePadding","","matTreeNodeToggle","",3,"cdkTreeNodeTypeaheadLabel"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(r(0,"app-cms-html-tree",1),D(1,2),c(2),h(3,"translate"),y(),D(4,3),I(5,Ms,3,3,"button",4)(6,bs,3,3,"button",5)(7,Is,4,4,"button",6),y(),D(8,7),b(9,"app-progress-spinner",8),r(10,"mat-tree",9,0),I(12,Cs,5,6,"mat-tree-node",10)(13,vs,7,10,"mat-tree-node",11),l(),y(),we(14,12),l()),e&2&&(d("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),g(" ",S(3,11,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),o(),d("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessWatchRow),o(2),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),d("matTreeNodeDefWhen",i.hasChild))},dependencies:[De,W,xe,oe,qo,jo,Qo,Uo,Ho,q,lr,k],encapsulation:2});var zn=Qi;var ys=()=>["expandedTitle"],ws=()=>[5,10,20,100],Ts=n=>({display:n});function Es(n,a){if(n&1){let e=v();r(0,"div",41)(1,"a",42),C("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),b(2,"i",43)(3,"br"),l(),r(4,"p",44),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",S(6,1,"ACTION.ADD")," "))}function xs(n,a){if(n&1){let e=v();r(0,"div",41)(1,"a",45),C("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),b(2,"i",46)(3,"br"),l(),r(4,"p",44),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",S(6,1,"ACTION.EDIT")," "))}function As(n,a){if(n&1){let e=v();r(0,"div",41)(1,"a",47),C("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),b(2,"i",48)(3,"br"),l(),r(4,"p",44),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",S(6,1,"ACTION.DELETE")," "))}function Ps(n,a){if(n&1){let e=v();r(0,"mat-row",49),C("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),l()}if(n&2){let e=a.$implicit,i=p();Ee("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Rs(n,a){if(n&1&&(r(0,"mat-header-cell",50),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.fieldTitle," ")}}function Ws(n,a){if(n&1&&(r(0,"mat-cell"),b(1,"i",51),l()),n&2){let e=a.$implicit;o(),Gt("color",e.color),d("ngClass",e.icon)}}function ks(n,a){if(n&1&&(r(0,"mat-header-cell",50),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Ls(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.id," ")}}function Vs(n,a){if(n&1&&(r(0,"mat-header-cell",50),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Gs(n,a){if(n&1&&b(0,"select",54),n&2){let e=p().$implicit,i=p();d("contentService",i.contentService)("row",e)("ngStyle",$e(3,Ts,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Bs(n,a){if(n&1&&(r(0,"mat-cell"),b(1,"i",52),h(2,"statusIconClass"),I(3,Gs,1,5,"select",53),l()),n&2){let e=a.$implicit,i=p();o(),d("ngClass",S(2,2,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Fs(n,a){if(n&1&&(r(0,"mat-header-cell",50),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)}}function Ns(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.title," ")}}function Os(n,a){n&1&&(r(0,"mat-header-cell",50),c(1),h(2,"translate"),l()),n&2&&(o(),g(" ",S(2,1,"TITLE.Show_In_Access_Admin_Allow_To_Professional_Data")))}function Hs(n,a){if(n&1&&(r(0,"mat-cell"),b(1,"i",52),h(2,"boolclass"),l()),n&2){let e=a.$implicit;o(),d("ngClass",S(2,1,e.showInAccessAdminAllowToProfessionalData))}}function qs(n,a){n&1&&(r(0,"mat-header-cell",50),c(1),h(2,"translate"),l()),n&2&&(o(),g(" ",S(2,1,"TITLE.Menu_Place_Type")," "))}function js(n,a){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"enums"),l()),n&2){let e=a.$implicit,i=p();o(),g(" ",xt(2,1,e.menuPlaceType,i.dataModelEnumMenuPlaceTypeResult.listItems)," ")}}function Us(n,a){if(n&1&&(r(0,"mat-header-cell",50),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.fieldTitle," ")}}function Qs(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.showInMenuOrder," ")}}function zs(n,a){n&1&&(r(0,"mat-header-cell"),c(1),h(2,"translate"),l()),n&2&&(o(),g(" ",S(2,1,"TITLE.OPTION")," "))}function Ks(n,a){if(n&1&&(r(0,"mat-cell",55)(1,"button",56)(2,"mat-icon"),c(3,"more_vert"),l()(),b(4,"mat-menu",null,2),l()),n&2){let e=A(5);o(),d("matMenuTriggerFor",e)}}function Js(n,a){n&1&&(r(0,"mat-header-cell",50),c(1),h(2,"translate"),l()),n&2&&(o(),g("",S(2,1,"ACTION.ORDERING")," "))}function Ys(n,a){n&1&&(r(0,"mat-cell")(1,"mat-icon",57),c(2,"reorder"),l()())}function Xs(n,a){n&1&&b(0,"mat-header-row")}function Zs(n,a){if(n&1){let e=v();r(0,"mat-row",58),C("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))}),l()}if(n&2){let e=a.$implicit,i=p();Ee("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),d("cdkDragData",e)}}function $s(n,a){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"translate"),b(3,"br"),c(4),h(5,"translate"),b(6,"br"),c(7),h(8,"translate"),l()),n&2){let e=a.$implicit;o(),Zt(" ",S(2,6,"TITLE.Id")," : ",e.id," "),o(3),Zt(" ",S(5,8,"TITLE.title")," : ",e.title," "),o(3),Zt(" ",S(8,10,"TITLE.DisplayInThePriorityMenu")," : ",e.ShowInMenuOrder," ")}}var zi=class zi extends vt{constructor(e,i,t,s,_,m,j,J,wt,fi,Ht,gi){super(e,new Ae,Ht,s,j);this.contentService=e;this.cmsConfirmationDialogService=i;this.cmsToastrService=t;this.tokenHelper=s;this.coreEnumService=_;this.cdr=m;this.translate=j;this.themeService=J;this.cmsStoreService=wt;this.pageInfo=fi;this.publicHelper=Ht;this.dialog=gi;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new K;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Icon","RecordStatus","ShowInAccessAdminAllowToProfessionalData","MenuPlaceType","position"];this.tabledisplayedColumnsMobileSource=["Icon","RecordStatus","ShowInAccessAdminAllowToProfessionalData","MenuPlaceType","position"];this.dataModelEnumMenuPlaceTypeResult=new F;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:qt=>this.onSubmitOptionsSearch(qt)},this.filteModelContent.sortColumn="ShowInMenuOrder",this.filteModelContent.sortType=H.Ascending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ee(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEnumMenuPlaceType()}getEnumMenuPlaceType(){this.coreEnumService.ServiceMenuPlaceTypeEnum().subscribe({next:e=>{this.dataModelEnumMenuPlaceTypeResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ae);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new O;t.propertyName="LinkParentId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onTableDropRow(e){let i=this.tableSource.data.findIndex(s=>s===e.item.data),t=new To;t.id=this.tableSource.data[i].id,t.centerId=this.tableSource.data[e.currentIndex].id,i>e.currentIndex?t.actionGo=lo.GoUp:t.actionGo=lo.GoDown,this.contentService.ServiceEditStep(t).subscribe({next:s=>{s.isSuccess&&(tr(this.tableSource.data,i,e.currentIndex),this.tableSource.data=this.tableSource.data.slice())},error:s=>{this.cmsToastrService.typeError(s)}})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new K,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(qi,{height:"90%",panelClass:e,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{parentId:this.categoryModelSelected.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ui,{height:"90%",panelClass:i,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(e==null||!e.id||e.id.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"contentService.ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess&&(i.set("All",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new O;_.propertyName="RecordStatus",_.value=nt.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess&&(i.set("Active",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.filteModelContent.sortColumn="ShowInMenuOrder",this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};zi.\u0275fac=function(i){return new(i||zi)(M(ot),M(qe),M(N),M(We),M(Q),M(L),M(V),M(It),M(Pe),M(Ct),M(G),M(Fe))},zi.\u0275cmp=R({type:zi,selectors:[["app-webdesigner-menu-list"]],standalone:!1,features:[U],decls:65,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","","cdkDropList","",3,"matSortChange","cdkDropListDropped","dataSource","cdkDropListData"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","Icon"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],["matColumnDef","Title"],["matColumnDef","ShowInAccessAdminAllowToProfessionalData"],["matColumnDef","MenuPlaceType"],["matColumnDef","ShowInMenuOrder"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild","cdkDrag","",3,"ntk-row-selected","cdkDragData","click","rtclick",4,"matRowDef","matRowDefColumns"],["matColumnDef","expandedTitle"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],["mat-sort-header",""],["aria-hidden","true",3,"ngClass"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],["cdkDrag","",1,"ntk-row-mainfild",3,"click","rtclick","cdkDragData"]],template:function(i,t){if(i&1){let s=v();r(0,"app-cms-html-list",3),E("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),C("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),D(1,4),r(2,"app-webdesigner-menu-tree",5),C("optionChange",function(m){return u(s),f(t.onActionSelectorSelect(m))}),l(),y(),we(3,6)(4,7),D(5,8),r(6,"a",9),C("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),b(7,"i",10),l(),r(8,"a",9),C("click",function(){return u(s),f(t.onActionButtonReload())}),b(9,"i",11),l(),y(),D(10,12),r(11,"a",13),C("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),b(12,"mat-slide-toggle",14),c(13),h(14,"translate"),l(),r(15,"a",13),C("click",function(){return u(s),f(t.onActionButtonStatist())}),b(16,"mat-slide-toggle",14),c(17),h(18,"translate"),l(),y(),D(19,15),I(20,Es,7,3,"div",16),y(),D(21,17),I(22,xs,7,3,"div",16)(23,As,7,3,"div",16),y(),D(24,18),r(25,"app-cms-search-list",19),E("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),l(),r(26,"app-cms-statist-list",19),E("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),l(),y(),D(27,20),r(28,"mat-table",21,0),C("matSortChange",function(){u(s);let m=A(29);return f(t.onTableSortData(m))})("cdkDropListDropped",function(m){return u(s),f(t.onTableDropRow(m))}),I(30,Ps,1,2,"mat-row",22),D(31,23),I(32,Rs,2,1,"mat-header-cell",24)(33,Ws,2,3,"mat-cell",25),y(),D(34,26),I(35,ks,2,1,"mat-header-cell",24)(36,Ls,2,1,"mat-cell",25),y(),D(37,27),I(38,Vs,2,1,"mat-header-cell",24)(39,Bs,4,4,"mat-cell",25),y(),D(40,28),I(41,Fs,2,1,"mat-header-cell",24)(42,Ns,2,1,"mat-cell",25),y(),D(43,29),I(44,Os,3,3,"mat-header-cell",24)(45,Hs,3,3,"mat-cell",25),y(),D(46,30),I(47,qs,3,3,"mat-header-cell",24)(48,js,3,4,"mat-cell",25),y(),D(49,31),I(50,Us,2,1,"mat-header-cell",24)(51,Qs,2,1,"mat-cell",25),y(),D(52,32),I(53,zs,3,3,"mat-header-cell",33)(54,Ks,6,1,"mat-cell",34),y(),D(55,35),I(56,Js,3,3,"mat-header-cell",24)(57,Ys,3,0,"mat-cell",25),y(),I(58,Xs,1,0,"mat-header-row",36)(59,Zs,1,3,"mat-row",37),D(60,38),I(61,$s,9,12,"mat-cell",25),y(),l(),y(),D(62,39),r(63,"mat-paginator",40,1),C("page",function(m){return u(s),f(t.onTablePageingData(m))}),l(),y(),l()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","configuresite.webdesigner.menu"),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(12),d("checked",t.optionsSearch.data.show),o(),g("",S(14,25,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),g("",S(18,27,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),d("dataSource",t.tableSource)("cdkDropListData",t.tableSource),o(2),d("matRowDefColumns",Ie(29,ys)),o(28),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(4),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ie(30,ws)))},dependencies:[De,W,et,xe,oe,B,lt,st,He,Re,dt,ct,pt,ut,ht,ft,mt,St,gt,_t,Mt,bt,je,Ue,Qe,ze,Dt,or,nr,ir,zn,k,pr,Ke,Ei],encapsulation:2});var Kn=zi;var td=["vform"];function id(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",22),E("modelChange",function(t){u(e);let s=p();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=p();w("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function nd(n,a){n&1&&b(0,"i",25)}function od(n,a){n&1&&b(0,"i",26)}function rd(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),x(S(4,2,"MESSAGE.required"))}}function ad(n,a){if(n&1){let e=v();r(0,"div",13)(1,"label",23),c(2),l(),r(3,"input",24,3),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),I(5,nd,1,0,"i",16)(6,od,1,0,"i",17),r(7,"em"),c(8),l(),I(9,rd,5,4,"mat-error",18),l()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function ld(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),o(2),x(S(4,2,"MESSAGE.required"))}}function sd(n,a){if(n&1){let e=v();r(0,"div",13)(1,"label",27),c(2),l(),r(3,"input",28,4),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),f(t)}),l(),r(5,"em"),c(6),l(),I(7,ld,5,4,"mat-error",18),l()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),w("ngModel",i.dataModel.titleResourceLanguage),d("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessAddField)),o(3),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function dd(n,a){n&1&&b(0,"i",25)}function cd(n,a){n&1&&b(0,"i",26)}function pd(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p();o(),g(" ",e.fieldsInfo.cmsModuleClassName==null?null:e.fieldsInfo.cmsModuleClassName.fieldTitle," is "),o(2),x(S(4,2,"MESSAGE.required"))}}function md(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p();o(),g(" ",e.fieldsInfo.classActionName==null?null:e.fieldsInfo.classActionName.fieldTitle," is "),o(2),x(S(4,2,"MESSAGE.required"))}}function ud(n,a){if(n&1){let e=v();r(0,"div",29)(1,"button",30),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),b(2,"i",31),c(3),h(4,"translate"),l(),r(5,"button",32),b(6,"i",33),c(7),h(8,"translate"),l()()}if(n&2){p();let e=A(9);o(3),g(" ",S(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),g(" ",S(8,5,"ACTION.SAVE")," ")}}var Ki=class Ki extends Wt{constructor(e,i,t,s,_,m,j,J){super(s,new Xe,m,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.webDesignerMainPageDependencyService=s;this.cmsToastrService=_;this.publicHelper=m;this.cdr=j;this.translate=J;this.requestLinkModuleId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new F;this.dataModel=new Xe;this.formInfo=new re;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&(this.requestLinkModuleId=+e.linkModuleId),this.requestLinkModuleId>0&&(this.dataModel.linkModuleId=this.requestLinkModuleId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageDependencyService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onActionSelectModule(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_module","MESSAGE.Information_module_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_module"],i["MESSAGE.Information_module_is_not_clear"])});return}this.dataModel.linkModuleId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ki.\u0275fac=function(i){return new(i||Ki)(M(Me),M(Se),M(Q),M(Rt),M(N),M(G),M(L),M(V))},Ki.\u0275cmp=R({type:Ki,selectors:[["app-webdesigner-pagedependency-add"]],viewQuery:function(i,t){if(i&1&&te(td,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:32,vars:29,consts:[["vform","ngForm"],["CmsModuleClassName",""],["ClassActionName",""],["Title",""],["TitleResourceLanguage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.cmsModuleClassName",1,"color-highlight"],["matInput","","type","text","name","dataModel.cmsModuleClassName","type","text","minlength","3","maxlength","100","required","","id","dataModel.cmsModuleClassName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.classActionName",1,"color-highlight"],["matInput","","type","text","name","dataModel.classActionName","type","text","id","dataModel.classActionName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=v();r(0,"div",5),b(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),c(4),l(),r(5,"p"),c(6),h(7,"translate"),l(),r(8,"form",9,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),I(10,id,1,5,"app-cms-enum-record-status-selector",10)(11,ad,10,9,"div",11)(12,sd,8,7,"div",11),r(13,"app-cms-module-selector",12),h(14,"translate"),C("optionChange",function(m){return u(s),f(t.onActionSelectModule(m))}),l(),r(15,"div",13)(16,"label",14),c(17),l(),r(18,"input",15,1),E("ngModelChange",function(m){return u(s),T(t.dataModel.cmsModuleClassName,m)||(t.dataModel.cmsModuleClassName=m),f(m)}),l(),I(20,dd,1,0,"i",16)(21,cd,1,0,"i",17),r(22,"em"),c(23),l(),I(24,pd,5,4,"mat-error",18),l(),r(25,"div",13)(26,"label",19),c(27),l(),r(28,"input",20,2),E("ngModelChange",function(m){return u(s),T(t.dataModel.classActionName,m)||(t.dataModel.classActionName=m),f(m)}),l(),I(30,md,5,4,"mat-error",18),l(),I(31,ud,9,7,"div",21),l()()()}if(i&2){let s=A(19),_=A(29);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",S(7,25,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),d("ngIf",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.accessWatchField),o(),d("optionSelectForce",t.dataModel.linkModuleId)("optionPlaceholder",S(14,27,"TITLE.MODULE"))("optionDisabled",!(t.fieldsInfo.linkModuleId!=null&&t.fieldsInfo.linkModuleId.accessAddField)),o(4),x(t.fieldsInfo.cmsModuleClassName==null?null:t.fieldsInfo.cmsModuleClassName.fieldTitle),o(),d("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.cmsModuleClassName),d("disabled",!(t.fieldsInfo.cmsModuleClassName!=null&&t.fieldsInfo.cmsModuleClassName.accessAddField)),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),g("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(3),x(t.fieldsInfo.classActionName==null?null:t.fieldsInfo.classActionName.fieldTitle),o(),d("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.classActionName),d("disabled",!(t.fieldsInfo.classActionName!=null&&t.fieldsInfo.classActionName.accessAddField)),o(2),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[W,me,Y,z,de,X,ge,_e,pe,ce,he,B,be,Nn,q,k],encapsulation:2});var Jn=Ki;var fd=["*"];function gd(n,a){if(n&1&&(r(0,"label",11),c(1),l()),n&2){let e=p();d("for",Ve("app-cms-site-selector-",e.id)),o(),x(e.optionLabel)}}function _d(n,a){if(n&1&&(r(0,"mat-option",12)(1,"span"),c(2),l()()),n&2){let e=a.$implicit,i=p();d("value",e)("disabled",i.optionDisabled),o(2),x(i.displayOption(e))}}function hd(n,a){n&1&&b(0,"i",13)}function Sd(n,a){n&1&&b(0,"i",14)}function Md(n,a){if(n&1){let e=v();r(0,"i",15),C("click",function(){u(e);let t=p();return f(t.onActionSelectClear())}),l()}}function bd(n,a){n&1&&(r(0,"em"),c(1),h(2,"translate"),l()),n&2&&(o(),g("(",S(2,1,"TITLE.Necessary"),")"))}var di=class di{constructor(a,e,i,t,s){this.coreEnumService=a;this.cdr=e;this.publicHelper=i;this.translate=t;this.categoryService=s;this.id=++di.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new F;this.dataModelSelect=new Ze;this.formControl=new $t;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new Tt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(a){this.onActionSelectForce(a)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Kt(""),Qt(1500),zt(),Jt(a=>typeof a=="string"||typeof a=="number"?this.DataGetAll(a||""):[]))}displayFn(a){return a?a.title:void 0}displayOption(a){return a?a.title:void 0}DataGetAll(a){return ee(this,null,function*(){let e=new K;e.rowPerPage=20,e.accessLoad=!0;let i=new O;i.propertyName="Title",i.value=a,i.searchType=Oe.Contains,i.clauseType=Ne.Or,e.filters.push(i),a&&typeof+a=="number"&&+a>0&&(i=new O,i.propertyName="Id",i.value=a,i.searchType=Oe.Equal,i.clauseType=Ne.Or,e.filters.push(i));let t=this.constructor.name+"categoryService.ServiceGetAll";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield jt(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(a){this.optionDisabled||(this.dataModelSelect=a,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(a){return this.filteredOptions.pipe(Ut(e=>(e.find(i=>i.id===a.id)||e.push(a),e)))}onActionSelectForce(a){if(typeof a=="string"&&a.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===a)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===a)){let e=this.dataModelResult.listItems.find(i=>i.id===a);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(a).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof a==typeof Ze){this.filteredOptions=this.push(a),this.dataModelSelect=a,this.formControl.setValue(a);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Ze,this.loadOptions()}};di.nextId=0,di.\u0275fac=function(e){return new(e||di)(M(Q),M(L),M(G),M(V),M(at))},di.\u0275cmp=R({type:di,selectors:[["app-webdesigner-pagetemplate-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:fd,decls:13,vars:18,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=v();Yt(),r(0,"div",1),b(1,"app-progress-spinner",2),I(2,gd,2,3,"label",3),b(3,"input",4),r(4,"mat-autocomplete",5,0),C("optionSelected",function(_){return u(t),f(i.onActionSelect(_.option.value))}),I(6,_d,3,3,"mat-option",6),h(7,"async"),l(),I(8,hd,1,0,"i",7)(9,Sd,1,0,"i",8)(10,Md,1,0,"i",9)(11,bd,3,3,"em",10),Xt(12),l()}if(e&2){let t=A(5);o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(),d("placeholder",P(i.optionPlaceholder))("id",Ve("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Et("disabled",i.optionDisabled?!0:null),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",S(7,16,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0))}},dependencies:[Ge,W,Y,z,X,ti,oi,ni,ri,B,q,tt,k],encapsulation:2});var ci=di;var Id=["*"];function Cd(n,a){if(n&1&&(r(0,"label",11),c(1),l()),n&2){let e=p();d("for",Ve("app-cms-site-selector-",e.id)),o(),x(e.optionLabel)}}function vd(n,a){if(n&1&&(r(0,"mat-option",12)(1,"span"),c(2),l()()),n&2){let e=a.$implicit,i=p();d("value",e)("disabled",i.optionDisabled),o(2),x(i.displayOption(e))}}function Dd(n,a){n&1&&b(0,"i",13)}function yd(n,a){n&1&&b(0,"i",14)}function wd(n,a){if(n&1){let e=v();r(0,"i",15),C("click",function(){u(e);let t=p();return f(t.onActionSelectClear())}),l()}}function Td(n,a){n&1&&(r(0,"em"),c(1),h(2,"translate"),l()),n&2&&(o(),g("(",S(2,1,"TITLE.Necessary"),")"))}var pi=class pi{constructor(a,e,i,t,s){this.coreEnumService=a;this.translate=e;this.cdr=i;this.publicHelper=t;this.categoryService=s;this.id=++pi.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new F;this.dataModelSelect=new Ye;this.formControl=new $t;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionMasterPage=!1;this.optionLabel="";this.optionPlaceholder="";this.optionChange=new Tt;this.masterTemplateId="";this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionMasterTemplateId(a){this.masterTemplateId=a,this.loadOptions()}set optionSelectForce(a){this.onActionSelectForce(a)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Kt(""),Qt(1500),zt(),Jt(a=>typeof a=="string"||typeof a=="number"?this.DataGetAll(a||""):[]))}displayFn(a){return a?a.title:void 0}displayOption(a){return a?a.title:void 0}DataGetAll(a){return ee(this,null,function*(){let e=new K;e.rowPerPage=20,e.accessLoad=!0;let i=new O,t=new O;a&&a.length>0&&(i.propertyName="Title",i.value=a,i.searchType=Oe.Contains,i.clauseType=Ne.Or,t.filters.push(i)),a&&typeof+a=="number"&&+a>0&&(i=new O,i.propertyName="Id",i.value=a,i.searchType=Oe.Equal,i.clauseType=Ne.Or,t.filters.push(i)),e.filters.push(t),this.optionMasterPage&&(i=new O,i.propertyName="PageAbilityType",i.value=wo.Master,i.searchType=Oe.Equal,i.clauseType=Ne.And,e.filters.push(i)),this.masterTemplateId&&this.masterTemplateId.length>0&&(i=new O,i.propertyName="LinkPageTemplateGuId",i.value=this.masterTemplateId,i.searchType=Oe.Equal,i.clauseType=Ne.And,e.filters.push(i));let s=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(_=>{this.publicHelper.processService.processStart(s,_,this.constructorInfoAreaId)}),yield jt(this.categoryService.ServiceGetAll(e)).then(_=>(this.dataModelResult=_,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(s),_.listItems))})}onActionSelect(a){this.optionDisabled||(this.dataModelSelect=a,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(a){return this.filteredOptions.pipe(Ut(e=>(e.find(i=>i.id===a.id)||e.push(a),e)))}onActionSelectForce(a){if(typeof a=="string"&&a.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===a)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===a)){let e=this.dataModelResult.listItems.find(i=>i.id===a);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(a).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof a==typeof Ye){this.filteredOptions=this.push(a),this.dataModelSelect=a,this.formControl.setValue(a);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Ye,this.loadOptions()}};pi.nextId=0,pi.\u0275fac=function(e){return new(e||pi)(M(Q),M(V),M(L),M(G),M(rt))},pi.\u0275cmp=R({type:pi,selectors:[["app-webdesigner-page-selector"]],inputs:{optionMasterTemplateId:"optionMasterTemplateId",optionSelectForce:"optionSelectForce",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionMasterPage:"optionMasterPage",optionLabel:"optionLabel",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Id,decls:13,vars:18,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=v();Yt(),r(0,"div",1),b(1,"app-progress-spinner",2),I(2,Cd,2,3,"label",3),b(3,"input",4),r(4,"mat-autocomplete",5,0),C("optionSelected",function(_){return u(t),f(i.onActionSelect(_.option.value))}),I(6,vd,3,3,"mat-option",6),h(7,"async"),l(),I(8,Dd,1,0,"i",7)(9,yd,1,0,"i",8)(10,wd,1,0,"i",9)(11,Td,3,3,"em",10),Xt(12),l()}if(e&2){let t=A(5);o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(),d("placeholder",P(i.optionPlaceholder))("id",Ve("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Et("disabled",i.optionDisabled?!0:null),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",S(7,16,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0))}},dependencies:[Ge,W,Y,z,X,ti,oi,ni,ri,B,q,tt,k],encapsulation:2});var mi=pi;var Ed=["vform"];function xd(n,a){if(n&1){let e=v();r(0,"app-webdesigner-page-selector",17),h(1,"translate"),C("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectParent(t))}),l()}if(n&2){let e=p();d("optionMasterPage",!0)("optionMasterTemplateId",e.dataModel.linkPageTemplateGuId)("optionPlaceholder",S(1,4,"TITLE.parent_page"))("optionDisabled",!1)}}function Ad(n,a){if(n&1){let e=v();r(0,"div",12)(1,"button",18),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),b(2,"i",19),c(3),h(4,"translate"),l(),r(5,"button",20),b(6,"i",21),c(7),h(8,"translate"),l()()}if(n&2){p();let e=A(9);o(3),g(" ",S(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),g(" ",S(8,5,"ACTION.SAVE")," ")}}var Ji=class Ji{constructor(a,e,i,t,s,_,m,j){this.data=a;this.dialogRef=e;this.coreEnumService=i;this.webDesignerMainPageService=t;this.cmsToastrService=s;this.publicHelper=_;this.cdr=m;this.translate=j;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new yi;this.dataModel=new Wo;this.formInfo=new re;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.Automatically_add_all_pages").subscribe(a=>{this.formInfo.formTitle=a})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.webDesignerMainPageService.ServiceAutoAdd(this.dataModel).subscribe({next:e=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=e,e.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(i=>{this.formInfo.formAlert=i}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(a)},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a)}})}onActionSelectModule(a){if(!a||a.id.length<=0){this.translate.get(["MESSAGE.Specify_the_template","MESSAGE.Information_of_template_is_not_clear"]).subscribe(e=>{this.cmsToastrService.typeErrorMessage(e["MESSAGE.Specify_the_template"],e["MESSAGE.Information_of_template_is_not_clear"])});return}this.dataModel.linkPageTemplateGuId=a.id}onActionSelectParent(a){this.dataModel.linkPageParentGuId="",a&&a.id&&a.id.length>0&&(this.dataModel.linkPageParentGuId=a.id)}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.formSubmitAllow=!1,!this.dataModel.linkPageTemplateGuId||this.dataModel.linkPageTemplateGuId.length<=0){this.translate.get(["MESSAGE.Specify_the_template","MESSAGE.Information_of_template_is_not_clear"]).subscribe(a=>{this.cmsToastrService.typeErrorMessage(a["MESSAGE.Specify_the_template"],a["MESSAGE.Information_of_template_is_not_clear"])});return}this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ji.\u0275fac=function(e){return new(e||Ji)(M(Me),M(Se),M(Q),M(rt),M(N),M(G),M(L),M(V))},Ji.\u0275cmp=R({type:Ji,selectors:[["app-webdesigner-pagedependency-autoaddpage"]],viewQuery:function(e,i){if(e&1&&te(Ed,5),e&2){let t;ie(t=ne())&&(i.formGroup=t.first)}},standalone:!1,decls:25,vars:16,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionDisabled","optionChange",4,"ngIf"],[1,"ntk-full-width"],["name","dataModel.pageDependencyIsDefaultPage",3,"ngModelChange","ngModel"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"optionChange","optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionDisabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){if(e&1){let t=v();r(0,"div",1),b(1,"app-progress-spinner",2),r(2,"div",3)(3,"p",4),c(4),l(),r(5,"p"),c(6),h(7,"translate"),l(),r(8,"form",5,0),C("ngSubmit",function(){return u(t),f(i.onFormSubmit())}),r(10,"div",6)(11,"app-webdesigner-pagetemplate-selector",7),h(12,"translate"),C("optionChange",function(_){return u(t),f(i.onActionSelectModule(_))}),l(),I(13,xd,2,6,"app-webdesigner-page-selector",8),r(14,"div",9)(15,"mat-slide-toggle",10),E("ngModelChange",function(_){return u(t),T(i.dataModel.pageDependencyIsDefaultPage,_)||(i.dataModel.pageDependencyIsDefaultPage=_),f(_)}),c(16),l()()(),r(17,"div",11)(18,"div",12)(19,"small",13),c(20),l(),r(21,"small",14),c(22),l()()(),r(23,"div",15),I(24,Ad,9,7,"div",16),l()()()()}e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(3),g(" ",i.formInfo.formTitle," "),o(2),g(" ",S(7,12,"TITLE.Be_Careful_When_Entering_Information")," "),o(5),d("optionSelectForce",i.dataModel.linkPageTemplateGuId)("optionPlaceholder",S(12,14,"TITLE.Select_the_template"))("optionDisabled",!1),o(2),d("ngIf",i.dataModel.linkPageTemplateGuId&&i.dataModel.linkPageTemplateGuId.length>0),o(2),w("ngModel",i.dataModel.pageDependencyIsDefaultPage),o(),g(" ",i.fieldsInfo.pageDependencyIsDefaultPage==null?null:i.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle," "),o(4),g("",i.formInfo.formAlert," "),o(2),g("",i.formInfo.formError," "),o(2),d("ngIf",i.formInfo.formSubmitAllow))},dependencies:[W,me,z,de,pe,ce,Re,q,ci,mi,k],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Yn=Ji;var Pd=["vform"];function Rd(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",24),E("modelChange",function(t){u(e);let s=p();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=p();w("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Wd(n,a){n&1&&b(0,"i",27)}function kd(n,a){n&1&&b(0,"i",28)}function Ld(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),x(S(4,2,"MESSAGE.required"))}}function Vd(n,a){if(n&1){let e=v();r(0,"div",12)(1,"label",25),c(2),l(),r(3,"input",26,3),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),I(5,Wd,1,0,"i",18)(6,kd,1,0,"i",19),r(7,"em"),c(8),l(),I(9,Ld,5,4,"mat-error",20),l()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Gd(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),o(2),x(S(4,2,"MESSAGE.required"))}}function Bd(n,a){if(n&1){let e=v();r(0,"div",12)(1,"label",29),c(2),l(),r(3,"input",30,4),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),f(t)}),l(),r(5,"em"),c(6),l(),I(7,Gd,5,4,"mat-error",20),l()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),w("ngModel",i.dataModel.titleResourceLanguage),d("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessEditField)),o(3),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Fd(n,a){n&1&&b(0,"i",27)}function Nd(n,a){n&1&&b(0,"i",28)}function Od(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p();o(),g(" ",e.fieldsInfo.cmsModuleClassName==null?null:e.fieldsInfo.cmsModuleClassName.fieldTitle," is "),o(2),x(S(4,2,"MESSAGE.required"))}}function Hd(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p();o(),g(" ",e.fieldsInfo.classActionName==null?null:e.fieldsInfo.classActionName.fieldTitle," is "),o(2),x(S(4,2,"MESSAGE.required"))}}function qd(n,a){if(n&1){let e=v();r(0,"div",31)(1,"button",32),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),b(2,"i",33),c(3),h(4,"translate"),l(),r(5,"button",34),b(6,"i",35),c(7),h(8,"translate"),l()()}if(n&2){p();let e=A(9);o(3),g(" ",S(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),g(" ",S(8,5,"ACTION.SAVE")," ")}}var Yi=class Yi extends kt{constructor(e,i,t,s,_,m,j,J){super(s,new Xe,m,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.webDesignerMainPageDependencyService=s;this.cmsToastrService=_;this.publicHelper=m;this.cdr=j;this.translate=J;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new yi;this.dataModel=new Xe;this.formInfo=new re;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageDependencyService.setAccessLoad(),this.webDesignerMainPageDependencyService.setAccessDataType(Pt.Editor),this.webDesignerMainPageDependencyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageDependencyService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onActionSelectModule(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_module","MESSAGE.Information_module_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_module"],i["MESSAGE.Information_module_is_not_clear"])});return}this.dataModel.linkModuleId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Yi.\u0275fac=function(i){return new(i||Yi)(M(Me),M(Se),M(Q),M(Rt),M(N),M(G),M(L),M(V))},Yi.\u0275cmp=R({type:Yi,selectors:[["app-webdesigner-pagedependency-edit"]],viewQuery:function(i,t){if(i&1&&te(Pd,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:37,vars:34,consts:[["vform","ngForm"],["CmsModuleClassName",""],["ClassActionName",""],["Title",""],["TitleResourceLanguage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["for","dataModel.cmsModuleClassName",1,"color-highlight"],["matInput","","type","text","name","dataModel.cmsModuleClassName","type","text","minlength","3","maxlength","100","required","","id","dataModel.cmsModuleClassName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.classActionName",1,"color-highlight"],["matInput","","type","text","name","dataModel.classActionName","type","text","id","dataModel.classActionName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=v();r(0,"div",5),b(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),c(4),l(),r(5,"p"),c(6),h(7,"translate"),l(),r(8,"form",9,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),I(10,Rd,1,5,"app-cms-enum-record-status-selector",10)(11,Vd,10,9,"div",11),r(12,"div",12)(13,"label",13),c(14),h(15,"translate"),l(),r(16,"input",14),E("ngModelChange",function(m){return u(s),T(t.dataModel.titleML,m)||(t.dataModel.titleML=m),f(m)}),l()(),I(17,Bd,8,7,"div",11),r(18,"app-cms-module-selector",15),h(19,"translate"),C("optionChange",function(m){return u(s),f(t.onActionSelectModule(m))}),l(),r(20,"div",12)(21,"label",16),c(22),l(),r(23,"input",17,1),E("ngModelChange",function(m){return u(s),T(t.dataModel.cmsModuleClassName,m)||(t.dataModel.cmsModuleClassName=m),f(m)}),l(),I(25,Fd,1,0,"i",18)(26,Nd,1,0,"i",19),r(27,"em"),c(28),l(),I(29,Od,5,4,"mat-error",20),l(),r(30,"div",12)(31,"label",21),c(32),l(),r(33,"input",22,2),E("ngModelChange",function(m){return u(s),T(t.dataModel.classActionName,m)||(t.dataModel.classActionName=m),f(m)}),l(),I(35,Hd,5,4,"mat-error",20),l(),I(36,qd,9,7,"div",23),l()()()}if(i&2){let s=A(24),_=A(34);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",S(7,28,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),g(" ",S(15,30,"TITLE.TitleML")),o(2),w("ngModel",t.dataModel.titleML),d("disabled",!0),o(),d("ngIf",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.accessWatchField),o(),d("optionSelectForce",t.dataModel.linkModuleId)("optionPlaceholder",S(19,32,"TITLE.MODULE"))("optionDisabled",!(t.fieldsInfo.linkModuleId!=null&&t.fieldsInfo.linkModuleId.accessEditField)),o(4),x(t.fieldsInfo.cmsModuleClassName==null?null:t.fieldsInfo.cmsModuleClassName.fieldTitle),o(),d("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.cmsModuleClassName),d("disabled",!(t.fieldsInfo.cmsModuleClassName!=null&&t.fieldsInfo.cmsModuleClassName.accessEditField)),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),g("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(3),x(t.fieldsInfo.classActionName==null?null:t.fieldsInfo.classActionName.fieldTitle),o(),d("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.classActionName),d("disabled",!(t.fieldsInfo.classActionName!=null&&t.fieldsInfo.classActionName.accessEditField)),o(2),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[W,me,Y,z,de,X,ge,_e,pe,ce,he,B,be,Nn,q,k],encapsulation:2});var Xn=Yi;var jd=()=>[5,10,20,100],Ud=n=>({display:n});function Qd(n,a){if(n&1){let e=v();r(0,"div",18)(1,"a",45),C("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),b(2,"i",46)(3,"br"),l(),r(4,"p",21),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",S(6,1,"ACTION.ADD")," "))}function zd(n,a){if(n&1){let e=v();r(0,"div",18)(1,"a",47),C("click",function(){u(e);let t=p();return f(t.onActionButtonNewRowAutoDependency())}),r(2,"i",46),c(3,"Dependency"),l(),b(4,"br"),l(),r(5,"p",21),c(6),h(7,"translate"),l()()}n&2&&(o(6),g(" ",S(7,1,"ACTION.AUTOADD"),"Dependency "))}function Kd(n,a){if(n&1){let e=v();r(0,"div",18)(1,"a",47),C("click",function(){u(e);let t=p();return f(t.onActionButtonNewRowAutoPage())}),r(2,"i",46),c(3,"Page"),l(),b(4,"br"),l(),r(5,"p",21),c(6),h(7,"translate"),l()()}n&2&&(o(6),g(" ",S(7,1,"ACTION.AUTOADD"),"Page "))}function Jd(n,a){if(n&1){let e=v();r(0,"div",18)(1,"a",48),C("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),b(2,"i",49)(3,"br"),l(),r(4,"p",21),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",S(6,1,"ACTION.EDIT")," "))}function Yd(n,a){if(n&1){let e=v();r(0,"div",18)(1,"a",50),C("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),b(2,"i",51)(3,"br"),l(),r(4,"p",21),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",S(6,1,"ACTION.DELETE")," "))}function Xd(n,a){n&1&&(r(0,"mat-header-cell",52),c(1),h(2,"translate"),l()),n&2&&(o(),g(" ",S(2,1,"TITLE.PICTURE")," "))}function Zd(n,a){if(n&1&&(b(0,"img",54),h(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",P(S(1,2,e.linkModuleFileLogoIdSrc)),ve)}}function $d(n,a){if(n&1&&(r(0,"mat-cell"),I(1,Zd,2,4,"img",53),l()),n&2){let e=a.$implicit;o(),d("ngIf",(e==null||e.linkModuleFileLogoIdSrc==null?null:e.linkModuleFileLogoIdSrc.length)>0)}}function ec(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function tc(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.id," ")}}function ic(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function nc(n,a){if(n&1&&b(0,"select",57),n&2){let e=p().$implicit,i=p();d("contentService",i.contentService)("row",e)("ngStyle",$e(3,Ud,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function oc(n,a){if(n&1&&(r(0,"mat-cell",55),h(1,"statusCellClass"),b(2,"i",55),h(3,"statusIconClass"),I(4,nc,1,5,"select",56),l()),n&2){let e=a.$implicit,i=p();d("ngClass",S(1,3,e.recordStatus)),o(2),d("ngClass",S(3,5,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function rc(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function ac(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.title," ")}}function lc(n,a){n&1&&(r(0,"mat-header-cell",52),c(1),h(2,"translate"),l()),n&2&&(o(),g(" ",S(2,1,"TITLE.TitleML")," "))}function sc(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.titleML," ")}}function dc(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.linkModuleId==null?null:e.fieldsInfo.linkModuleId.fieldTitle," ")}}function cc(n,a){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"cmstitle"),l()),n&2){let e=a.$implicit,i=p();o(),g(" ",xt(2,1,e.linkModuleId,i.dataModelCoreModuleResult.listItems)," ")}}function pc(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.cmsModuleClassName==null?null:e.fieldsInfo.cmsModuleClassName.fieldTitle," ")}}function mc(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.cmsModuleClassName," ")}}function uc(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.classActionName==null?null:e.fieldsInfo.classActionName.fieldTitle," ")}}function fc(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.classActionName," ")}}function gc(n,a){n&1&&(r(0,"mat-header-cell"),c(1),h(2,"translate"),l()),n&2&&(o(),g(" ",S(2,1,"TITLE.OPTION")," "))}function _c(n,a){if(n&1&&(r(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),c(3,"more_vert"),l()(),b(4,"mat-menu",null,2),l()),n&2){let e=A(5);o(),d("matMenuTriggerFor",e)}}function hc(n,a){n&1&&b(0,"mat-header-row")}function Sc(n,a){if(n&1){let e=v();r(0,"mat-row",60),C("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))}),l()}if(n&2){let e=a.$implicit,i=p();Ee("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Xi=class Xi extends vt{constructor(e,i,t,s,_,m,j,J,wt,fi,Ht,gi,qt,ln,Mr){super(e,new Xe,ln,j,fi);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.coreModuleService=s;this.activatedRoute=_;this.router=m;this.tokenHelper=j;this.http=J;this.cdr=wt;this.translate=fi;this.pageInfo=Ht;this.themeService=gi;this.cmsStoreService=qt;this.publicHelper=ln;this.dialog=Mr;this.requestLinkModuleId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new K;this.filterDataModelQueryBuilder=[];this.dataModelCoreModuleResult=new F;this.categoryModelSelected=new xo;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","RecordStatus","TitleML","LinkModuleId","CmsModuleClassName","ClassActionName"];this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","TitleML","LinkModuleId","CmsModuleClassName","ClassActionName"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.requestLinkModuleId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkModuleId")),this.optionsSearch.parentMethods={onSubmit:Le=>this.onSubmitOptionsSearch(Le)},this.filteModelContent.sortColumn="LinkModuleId",this.filteModelContent.sortType=H.Ascending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ee(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getModuleList()}getModuleList(){let e=new K;e.rowPerPage=100,this.coreModuleService.ServiceGetAllModuleName(e).subscribe({next:i=>{this.dataModelCoreModuleResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,["Id","RecordStatus","Title","CmsModuleClassName","ClassActionName"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Xe);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=new O,t=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(t.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id>0&&(i.propertyName="LinkModuleId",i.value=this.categoryModelSelected.id,t.filters.push(i)),this.contentService.ServiceGetAllEditor(t).subscribe({next:s=>{s.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(s.access),this.dataModelResult=s,this.tableSource.data=s.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(s.access)},1e3)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):(H,e.start="desc"):(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending),H,this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Jn,{height:"90%",panelClass:e,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{linkModuleId:this.categoryModelSelected.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonNewRowAutoPage(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Yn,{height:"90%",panelClass:e,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{linkModuleId:this.categoryModelSelected.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonNewRowAutoDependency(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=new O;this.contentService.ServiceAutoAdd().subscribe({next:t=>{t.isSuccess&&this.cmsToastrService.typeSuccessAdd(),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Xn,{height:"90%",panelClass:i,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"contentService.ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_)}})}}).catch(()=>{})}onActionButtonPageList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.tokenInfo.access.userAccessAdminAllowToAllData?this.router.navigate(["/webdesigner/page/list-grid/LinkPageDependencyGuId",this.tableRowSelected.id]):this.router.navigate(["/webdesigner/page/LinkPageDependencyGuId",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess&&(i.set("All",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new O;_.propertyName="RecordStatus",_.value=nt.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess&&(i.set("Active",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t)}})}onActionButtonSiteRouteView(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}let i=this.tokenInfo.site.currentSiteDomainUrl+"/"+e.cmsModuleClassName+"/"+e.classActionName;window.open(i,"_blank")}onActionSelectorSelect(e){let i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new K,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Xi.\u0275fac=function(i){return new(i||Xi)(M(Rt),M(N),M(qe),M(An),M(it),M(Be),M(We),M(_o),M(L),M(V),M(Ct),M(It),M(Pe),M(G),M(Fe))},Xi.\u0275cmp=R({type:Xi,selectors:[["app-webdesigner-pagedependency-list"]],standalone:!1,features:[U],decls:78,vars:36,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkModuleFileLogoIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","TitleML"],["matColumnDef","LinkModuleId"],["matColumnDef","CmsModuleClassName"],["matColumnDef","ClassActionName"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["type","button","target","_blank","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=v();r(0,"app-cms-html-list",3),E("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),C("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),D(1,4),r(2,"app-core-module-tree",5),C("optionChange",function(m){return u(s),f(t.onActionSelectorSelect(m))}),l(),y(),we(3,6)(4,7),D(5,8),r(6,"a",9),C("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),b(7,"i",10),l(),r(8,"a",9),C("click",function(){return u(s),f(t.onActionButtonReload())}),b(9,"i",11),l(),y(),D(10,12),r(11,"a",13),C("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),b(12,"mat-slide-toggle",14),c(13),h(14,"translate"),l(),r(15,"a",13),C("click",function(){return u(s),f(t.onActionButtonStatist())}),b(16,"mat-slide-toggle",14),c(17),h(18,"translate"),l(),y(),D(19,15),I(20,Qd,7,3,"div",16)(21,zd,8,3,"div",16)(22,Kd,8,3,"div",16),y(),D(23,17),I(24,Jd,7,3,"div",16)(25,Yd,7,3,"div",16),r(26,"div",18)(27,"a",19),C("click",function(){return u(s),f(t.onActionButtonPageList(t.tableRowSelected))}),b(28,"i",20)(29,"br"),l(),r(30,"p",21),c(31),h(32,"translate"),l()(),r(33,"div",18)(34,"a",19),C("click",function(){return u(s),f(t.onActionButtonSiteRouteView(t.tableRowSelected))}),b(35,"i",22)(36,"br"),l(),r(37,"p",21),c(38),h(39,"translate"),l()(),y(),D(40,23),r(41,"app-cms-search-list",24),E("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),l(),r(42,"app-cms-statist-list",24),E("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),l(),y(),D(43,25),r(44,"mat-table",26,0),C("matSortChange",function(){u(s);let m=A(45);return f(t.onTableSortData(m))}),D(46,27),I(47,Xd,3,3,"mat-header-cell",28)(48,$d,2,1,"mat-cell",29),y(),D(49,30),I(50,ec,2,1,"mat-header-cell",28)(51,tc,2,1,"mat-cell",29),y(),D(52,31),I(53,ic,2,1,"mat-header-cell",28)(54,oc,5,7,"mat-cell",32),y(),D(55,33),I(56,rc,2,1,"mat-header-cell",28)(57,ac,2,1,"mat-cell",29),y(),D(58,34),I(59,lc,3,3,"mat-header-cell",28)(60,sc,2,1,"mat-cell",29),y(),D(61,35),I(62,dc,2,1,"mat-header-cell",28)(63,cc,3,4,"mat-cell",29),y(),D(64,36),I(65,pc,2,1,"mat-header-cell",28)(66,mc,2,1,"mat-cell",29),y(),D(67,37),I(68,uc,2,1,"mat-header-cell",28)(69,fc,2,1,"mat-cell",29),y(),D(70,38),I(71,gc,3,3,"mat-header-cell",39)(72,_c,6,1,"mat-cell",40),y(),I(73,hc,1,0,"mat-header-row",41)(74,Sc,1,2,"mat-row",42),l(),y(),D(75,43),r(76,"mat-paginator",44,1),C("page",function(m){return u(s),f(t.onTablePageingData(m))}),l(),y(),l()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","configuresite.webdesigner.pagedependency"),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",t.requestLinkModuleId===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(12),d("checked",t.optionsSearch.data.show),o(),g("",S(14,27,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),g("",S(18,29,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),g(" ",S(32,31,"ACTION.PAGES")," "),o(7),g(" ",S(39,33,"ACTION.SHOW_WEB")," "),o(3),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(29),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ie(35,jd)))},dependencies:[De,W,et,xe,oe,B,lt,st,He,Re,dt,ct,pt,ut,ht,ft,mt,St,gt,_t,Mt,bt,je,Ue,Qe,ze,Dt,sr,k,xi,Lt,Ke,Vt],encapsulation:2});var Zn=Xi;var Mc=["vform"];function bc(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",21),E("modelChange",function(t){u(e);let s=p();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=p();w("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ic(n,a){n&1&&b(0,"i",24)}function Cc(n,a){n&1&&b(0,"i",25)}function vc(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),x(S(4,2,"MESSAGE.required"))}}function Dc(n,a){if(n&1){let e=v();r(0,"div",12)(1,"label",22),c(2),l(),r(3,"input",23,3),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),I(5,Ic,1,0,"i",15)(6,Cc,1,0,"i",16),r(7,"em"),c(8),l(),I(9,vc,5,4,"mat-error",17),l()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function yc(n,a){n&1&&b(0,"i",24)}function wc(n,a){n&1&&b(0,"i",25)}function Tc(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p();o(),g(" ",e.fieldsInfo.folder==null?null:e.fieldsInfo.folder.fieldTitle," is "),o(2),x(S(4,2,"MESSAGE.required"))}}function Ec(n,a){n&1&&b(0,"i",24)}function xc(n,a){n&1&&b(0,"i",25)}function Ac(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p();o(),g(" ",e.fieldsInfo.indexFile==null?null:e.fieldsInfo.indexFile.fieldTitle," is "),o(2),x(S(4,2,"MESSAGE.required"))}}function Pc(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),x(S(4,2,"MESSAGE.required"))}}function Rc(n,a){if(n&1){let e=v();r(0,"div",12)(1,"label",26),c(2),l(),r(3,"textarea",27,4),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),c(5,"        "),l(),r(6,"em"),c(7),l(),I(8,Pc,5,4,"mat-error",17),l()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),w("ngModel",i.dataModel.description),o(4),g("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Wc(n,a){if(n&1){let e=v();r(0,"div",28)(1,"button",29),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),b(2,"i",30),c(3),h(4,"translate"),l(),r(5,"button",31),b(6,"i",32),c(7),h(8,"translate"),l()()}if(n&2){p();let e=A(9);o(3),g(" ",S(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),g(" ",S(8,5,"ACTION.SAVE")," ")}}var Zi=class Zi extends Wt{constructor(e,i,t,s,_,m,j,J){super(s,new Ze,m,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.webDesignerMainPageTemplateService=s;this.cmsToastrService=_;this.publicHelper=m;this.cdr=j;this.translate=J;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new F;this.dataModel=new Ze;this.formInfo=new re;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Zi.\u0275fac=function(i){return new(i||Zi)(M(Me),M(Se),M(Q),M(at),M(N),M(G),M(L),M(V))},Zi.\u0275cmp=R({type:Zi,selectors:[["app-webdesigner-pagetemplate-add"]],viewQuery:function(i,t){if(i&1&&te(Mc,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:35,vars:27,consts:[["vform","ngForm"],["Folder",""],["IndexFile",""],["Title",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.folder",1,"color-highlight"],["matInput","","type","text","name","dataModel.folder","minlength","3","maxlength","100","required","","id","dataModel.folder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.indexFile",1,"color-highlight"],["matInput","","type","text","name","dataModel.indexFile","placeholder","index.html","minlength","3","maxlength","100","required","","id","dataModel.indexFile",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=v();r(0,"div",5),b(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),c(4),l(),r(5,"p"),c(6),h(7,"translate"),l(),r(8,"form",9,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),I(10,bc,1,5,"app-cms-enum-record-status-selector",10)(11,Dc,10,9,"div",11),r(12,"div",12)(13,"label",13),c(14),l(),r(15,"input",14,1),h(17,"translate"),E("ngModelChange",function(m){return u(s),T(t.dataModel.folder,m)||(t.dataModel.folder=m),f(m)}),l(),I(18,yc,1,0,"i",15)(19,wc,1,0,"i",16),r(20,"em"),c(21),l(),I(22,Tc,5,4,"mat-error",17),l(),r(23,"div",12)(24,"label",18),c(25),l(),r(26,"input",19,2),E("ngModelChange",function(m){return u(s),T(t.dataModel.indexFile,m)||(t.dataModel.indexFile=m),f(m)}),l(),I(28,Ec,1,0,"i",15)(29,xc,1,0,"i",16),r(30,"em"),c(31),l(),I(32,Ac,5,4,"mat-error",17),l(),I(33,Rc,9,6,"div",11)(34,Wc,9,7,"div",20),l()()()}if(i&2){let s=A(16),_=A(27);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",S(7,23,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),x(t.fieldsInfo.folder==null?null:t.fieldsInfo.folder.fieldTitle),o(),d("placeholder",P(S(17,25,"TITLE.branch_path"))),w("ngModel",t.dataModel.folder),d("disabled",!(t.fieldsInfo.folder!=null&&t.fieldsInfo.folder.accessAddField)),o(3),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),g("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(3),x(t.fieldsInfo.indexFile==null?null:t.fieldsInfo.indexFile.fieldTitle),o(),w("ngModel",t.dataModel.indexFile),d("disabled",!(t.fieldsInfo.indexFile!=null&&t.fieldsInfo.indexFile.accessAddField)),o(2),d("ngIf",!_.value),o(),d("ngIf",_.value),o(2),g("",s.value.length," / 100"),o(),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[W,me,Y,z,de,X,ge,_e,pe,ce,he,B,be,q,k],encapsulation:2});var $n=Zi;var kc=["vform"];function Lc(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",24),E("modelChange",function(t){u(e);let s=p();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=p();w("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Vc(n,a){n&1&&b(0,"i",27)}function Gc(n,a){n&1&&b(0,"i",28)}function Bc(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),x(S(4,2,"MESSAGE.required"))}}function Fc(n,a){if(n&1){let e=v();r(0,"div",13)(1,"label",25),c(2),l(),r(3,"input",26,3),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),I(5,Vc,1,0,"i",16)(6,Gc,1,0,"i",17),r(7,"em"),c(8),l(),I(9,Bc,5,4,"mat-error",18),l()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Nc(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),o(2),x(S(4,2,"MESSAGE.required"))}}function Oc(n,a){if(n&1){let e=v();r(0,"div",13)(1,"label",29),c(2),l(),r(3,"input",30,4),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),f(t)}),l(),r(5,"em"),c(6),l(),I(7,Nc,5,4,"mat-error",18),l()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),w("ngModel",i.dataModel.titleResourceLanguage),d("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessEditField)),o(3),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Hc(n,a){n&1&&b(0,"i",27)}function qc(n,a){n&1&&b(0,"i",28)}function jc(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p();o(),g(" ",e.fieldsInfo.folder==null?null:e.fieldsInfo.folder.fieldTitle," is "),o(2),x(S(4,2,"MESSAGE.required"))}}function Uc(n,a){n&1&&b(0,"i",27)}function Qc(n,a){n&1&&b(0,"i",28)}function zc(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p();o(),g(" ",e.fieldsInfo.indexFile==null?null:e.fieldsInfo.indexFile.fieldTitle," is "),o(2),x(S(4,2,"MESSAGE.required"))}}function Kc(n,a){if(n&1){let e=v();r(0,"div",31)(1,"div",32)(2,"h5",33),c(3),l()(),r(4,"div",34)(5,"div",35)(6,"input",36),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.isPublish,t)||(s.dataModel.isPublish=t),f(t)}),l(),b(7,"label",37),l()()()}if(n&2){let e=p();o(3),g(" ",e.fieldsInfo.isPublish==null?null:e.fieldsInfo.isPublish.fieldTitle," "),o(3),w("ngModel",e.dataModel.isPublish)}}function Jc(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),x(S(4,2,"MESSAGE.required"))}}function Yc(n,a){if(n&1){let e=v();r(0,"div",13)(1,"label",38),c(2),l(),r(3,"textarea",39,5),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),c(5,"        "),l(),r(6,"em"),c(7),l(),I(8,Jc,5,4,"mat-error",18),l()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),w("ngModel",i.dataModel.description),o(4),g("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Xc(n,a){if(n&1){let e=v();r(0,"div",40)(1,"button",41),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),b(2,"i",42),c(3),h(4,"translate"),l(),r(5,"button",43),b(6,"i",44),c(7),h(8,"translate"),l()()}if(n&2){p();let e=A(9);o(3),g(" ",S(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),g(" ",S(8,5,"ACTION.SAVE")," ")}}var $i=class $i extends kt{constructor(e,i,t,s,_,m,j,J,wt){super(s,new Ze,j,wt);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.webDesignerMainPageTemplateService=s;this.webDesignerMainPageTemplateSiteCategoryService=_;this.cmsToastrService=m;this.publicHelper=j;this.cdr=J;this.translate=wt;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModel=new Ze;this.formInfo=new re;this.fileManagerOpenForm=!1;this.dataCoreSiteCategoryIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetAllSourceSiteCategory()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateService.setAccessLoad(),this.webDesignerMainPageTemplateService.setAccessDataType(Pt.Editor),this.webDesignerMainPageTemplateService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}DataGetAllSourceSiteCategory(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError="";let e=this.constructor.name+"webDesignerMainPageTemplateSiteCategoryService";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new K,t=new O;t.propertyName="LinkPageTemplateId",t.value=this.requestId,i.filters.push(t),this.webDesignerMainPageTemplateSiteCategoryService.ServiceGetAll(i).subscribe({next:s=>{this.dataWebDesignerMainPageTemplateSiteCategoryModel=s.listItems;let _=[];this.dataWebDesignerMainPageTemplateSiteCategoryModel.forEach(m=>{_.push(m.linkSiteCagegoryId)}),this.dataCoreSiteCategoryIds=_,s.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e)}})}onActionSelectorUserCategorySelect(e){this.dataCoreSiteCategoryModel=e}onActionSelectorUserCategorySelectAdded(e){let i=new so;i.linkSiteCagegoryId=e.id,i.linkPageTemplateId=this.dataModel.id;let t=this.constructor.name+"webDesignerMainPageTemplateSiteCategoryService.ServiceAdd";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateSiteCategoryService.ServiceAdd(i).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(_=>{this.formInfo.formAlert=_}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(_=>{this.formInfo.formAlert=_}),this.formInfo.formError=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(t)},error:s=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t)}})}onActionSelectorUserCategorySelectRemoved(e){let i=new so;i.linkSiteCagegoryId=e.id,i.linkPageTemplateId=this.dataModel.id;let t=this.constructor.name+"webDesignerMainPageTemplateSiteCategoryService.ServiceDeleteEntity";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateSiteCategoryService.ServiceDeleteEntity(i).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(_=>{this.formInfo.formAlert=_}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(_=>{this.formInfo.formAlert=_}),this.formInfo.formError=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(t)},error:s=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};$i.\u0275fac=function(i){return new(i||$i)(M(Me),M(Se),M(Q),M(at),M(Rn),M(N),M(G),M(L),M(V))},$i.\u0275cmp=R({type:$i,selectors:[["app-webdesigner-pagetemplate-edit"]],viewQuery:function(i,t){if(i&1&&te(kc,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:41,vars:34,consts:[["vform","ngForm"],["Folder",""],["IndexFile",""],["Title",""],["TitleResourceLanguage",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.folder",1,"color-highlight"],["matInput","","type","text","name","dataModel.folder","minlength","3","maxlength","100","required","","id","dataModel.folder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.indexFile",1,"color-highlight"],["matInput","","type","text","name","dataModel.indexFile","placeholder","index.html","minlength","3","maxlength","100","required","","id","dataModel.indexFile",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","d-flex mb-3",4,"ngIf"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isPublish",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isPublish","name","dataModel.isPublish",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isPublish",1,"custom-control-label"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=v();r(0,"div",6),b(1,"app-progress-spinner",7),r(2,"div",8)(3,"p",9),c(4),l(),r(5,"p"),c(6),h(7,"translate"),l(),r(8,"form",10,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),I(10,Lc,1,5,"app-cms-enum-record-status-selector",11)(11,Fc,10,9,"div",12)(12,Oc,8,7,"div",12),r(13,"div",13)(14,"label",14),c(15),l(),r(16,"input",15,1),h(18,"translate"),E("ngModelChange",function(m){return u(s),T(t.dataModel.folder,m)||(t.dataModel.folder=m),f(m)}),l(),I(19,Hc,1,0,"i",16)(20,qc,1,0,"i",17),r(21,"em"),c(22),l(),I(23,jc,5,4,"mat-error",18),l(),r(24,"div",13)(25,"label",19),c(26),l(),r(27,"input",20,2),E("ngModelChange",function(m){return u(s),T(t.dataModel.indexFile,m)||(t.dataModel.indexFile=m),f(m)}),l(),I(29,Uc,1,0,"i",16)(30,Qc,1,0,"i",17),r(31,"em"),c(32),l(),I(33,zc,5,4,"mat-error",18),l(),I(34,Kc,8,2,"div",21)(35,Yc,9,6,"div",12),c(36),h(37,"translate"),b(38,"br"),r(39,"app-cms-sitecategory-selectionlist",22),C("optionChange",function(m){return u(s),f(t.onActionSelectorUserCategorySelect(m))})("optionSelectAdded",function(m){return u(s),f(t.onActionSelectorUserCategorySelectAdded(m))})("optionSelectRemoved",function(m){return u(s),f(t.onActionSelectorUserCategorySelectRemoved(m))}),l(),I(40,Xc,9,7,"div",23),l()()()}if(i&2){let s=A(17),_=A(28);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",S(7,28,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),d("ngIf",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.accessWatchField),o(3),x(t.fieldsInfo.folder==null?null:t.fieldsInfo.folder.fieldTitle),o(),d("placeholder",P(S(18,30,"TITLE.branch_path"))),w("ngModel",t.dataModel.folder),d("disabled",!(t.fieldsInfo.folder!=null&&t.fieldsInfo.folder.accessEditField)),o(3),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),g("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(3),x(t.fieldsInfo.indexFile==null?null:t.fieldsInfo.indexFile.fieldTitle),o(),w("ngModel",t.dataModel.indexFile),d("disabled",!(t.fieldsInfo.indexFile!=null&&t.fieldsInfo.indexFile.accessEditField)),o(2),d("ngIf",!_.value),o(),d("ngIf",_.value),o(2),g("",s.value.length," / 100"),o(),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.fieldsInfo.isPublish==null?null:t.fieldsInfo.isPublish.accessWatchField),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),g(" ",S(37,32,"TITLE.It_should_be_used_on_sites_with_the_following_categories")," "),o(3),d("optionSelectForce",t.dataCoreSiteCategoryIds)("optionDisabled",!1),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[W,me,Y,At,z,de,X,ge,_e,pe,ce,he,B,be,ur,q,k],encapsulation:2});var eo=$i;var Zc=()=>[5,10,20,100],$c=n=>({display:n});function ep(n,a){if(n&1){let e=v();r(0,"div",17)(1,"a",41),C("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),b(2,"i",42)(3,"br"),l(),r(4,"p",20),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",S(6,1,"ACTION.ADD")," "))}function tp(n,a){if(n&1){let e=v();r(0,"div",17)(1,"a",43),C("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),b(2,"i",44)(3,"br"),l(),r(4,"p",20),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",S(6,1,"ACTION.EDIT")," "))}function ip(n,a){if(n&1){let e=v();r(0,"div",17)(1,"a",45),C("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),b(2,"i",46)(3,"br"),l(),r(4,"p",20),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",S(6,1,"ACTION.DELETE")," "))}function np(n,a){n&1&&(r(0,"mat-header-cell",47),c(1),h(2,"translate"),l()),n&2&&(o(),g(" ",S(2,1,"TITLE.PICTURE")," "))}function op(n,a){if(n&1&&(b(0,"img",49),h(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",P(S(1,2,e.linkModuleFileLogoIdSrc)),ve)}}function rp(n,a){if(n&1&&(r(0,"mat-cell"),I(1,op,2,4,"img",48),l()),n&2){let e=a.$implicit;o(),d("ngIf",(e==null||e.linkModuleFileLogoIdSrc==null?null:e.linkModuleFileLogoIdSrc.length)>0)}}function ap(n,a){if(n&1&&(r(0,"mat-header-cell",47),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function lp(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.id," ")}}function sp(n,a){if(n&1&&(r(0,"mat-header-cell",47),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function dp(n,a){if(n&1&&b(0,"select",52),n&2){let e=p().$implicit,i=p();d("contentService",i.contentService)("row",e)("ngStyle",$e(3,$c,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function cp(n,a){if(n&1&&(r(0,"mat-cell",50),h(1,"statusCellClass"),b(2,"i",50),h(3,"statusIconClass"),I(4,dp,1,5,"select",51),l()),n&2){let e=a.$implicit,i=p();d("ngClass",S(1,3,e.recordStatus)),o(2),d("ngClass",S(3,5,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function pp(n,a){if(n&1&&(r(0,"mat-header-cell",47),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function mp(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.title," ")}}function up(n,a){if(n&1&&(r(0,"mat-header-cell",47),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.folder==null?null:e.fieldsInfo.folder.fieldTitle," ")}}function fp(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.folder," ")}}function gp(n,a){if(n&1&&(r(0,"mat-header-cell",47),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.indexFile==null?null:e.fieldsInfo.indexFile.fieldTitle," ")}}function _p(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.indexFile," ")}}function hp(n,a){n&1&&(r(0,"mat-header-cell"),c(1),h(2,"translate"),l()),n&2&&(o(),g(" ",S(2,1,"TITLE.OPTION")," "))}function Sp(n,a){if(n&1&&(r(0,"mat-cell",53)(1,"button",54)(2,"mat-icon"),c(3,"more_vert"),l()(),b(4,"mat-menu",null,2),l()),n&2){let e=A(5);o(),d("matMenuTriggerFor",e)}}function Mp(n,a){n&1&&b(0,"mat-header-row")}function bp(n,a){if(n&1){let e=v();r(0,"mat-row",55),C("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))}),l()}if(n&2){let e=a.$implicit,i=p();Ee("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var en=class en extends vt{constructor(e,i,t,s,_,m,j,J,wt,fi,Ht,gi){super(e,new Ze,Ht,s,J);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.tokenHelper=s;this.cmsStoreService=_;this.router=m;this.cdr=j;this.translate=J;this.pageInfo=wt;this.themeService=fi;this.publicHelper=Ht;this.dialog=gi;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new K;this.filterDataModelQueryBuilder=[];this.dataModelCoreModuleResult=new F;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","RecordStatus","Folder","IndexFile"];this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","Folder","IndexFile"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:qt=>this.onSubmitOptionsSearch(qt)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ee(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ze);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open($n,{height:"90%",panelClass:e,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(eo,{height:"90%",panelClass:i,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"contentService.ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess&&(i.set("All",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new O;_.propertyName="RecordStatus",_.value=nt.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess&&(i.set("Active",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t)}})}onActionButtonPageList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/webdesigner/page/LinkPageTemplateGuId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};en.\u0275fac=function(i){return new(i||en)(M(at),M(N),M(qe),M(We),M(Pe),M(Be),M(L),M(V),M(Ct),M(It),M(G),M(Fe))},en.\u0275cmp=R({type:en,selectors:[["app-webdesigner-pagetemplate-list"]],standalone:!1,features:[U],decls:63,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkModuleFileLogoIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","Folder"],["matColumnDef","IndexFile"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=v();r(0,"app-cms-html-list",3),E("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),C("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),D(1,4),c(2," -------------------------------------- "),y(),we(3,5)(4,6),D(5,7),r(6,"a",8),C("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),b(7,"i",9),l(),r(8,"a",8),C("click",function(){return u(s),f(t.onActionButtonReload())}),b(9,"i",10),l(),y(),D(10,11),r(11,"a",12),C("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),b(12,"mat-slide-toggle",13),c(13),h(14,"translate"),l(),r(15,"a",12),C("click",function(){return u(s),f(t.onActionButtonStatist())}),b(16,"mat-slide-toggle",13),c(17),h(18,"translate"),l(),y(),D(19,14),I(20,ep,7,3,"div",15),y(),D(21,16),I(22,tp,7,3,"div",15)(23,ip,7,3,"div",15),r(24,"div",17)(25,"a",18),C("click",function(){return u(s),f(t.onActionButtonPageList(t.tableRowSelected))}),b(26,"i",19)(27,"br"),l(),r(28,"p",20),c(29),h(30,"translate"),l()(),y(),D(31,21),r(32,"app-cms-search-list",22),E("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),l(),r(33,"app-cms-statist-list",22),E("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),l(),y(),D(34,23),r(35,"mat-table",24,0),C("matSortChange",function(){u(s);let m=A(36);return f(t.onTableSortData(m))}),D(37,25),I(38,np,3,3,"mat-header-cell",26)(39,rp,2,1,"mat-cell",27),y(),D(40,28),I(41,ap,2,1,"mat-header-cell",26)(42,lp,2,1,"mat-cell",27),y(),D(43,29),I(44,sp,2,1,"mat-header-cell",26)(45,cp,5,7,"mat-cell",30),y(),D(46,31),I(47,pp,2,1,"mat-header-cell",26)(48,mp,2,1,"mat-cell",27),y(),D(49,32),I(50,up,2,1,"mat-header-cell",26)(51,fp,2,1,"mat-cell",27),y(),D(52,33),I(53,gp,2,1,"mat-header-cell",26)(54,_p,2,1,"mat-cell",27),y(),D(55,34),I(56,hp,3,3,"mat-header-cell",35)(57,Sp,6,1,"mat-cell",36),y(),I(58,Mp,1,0,"mat-header-row",37)(59,bp,1,2,"mat-row",38),l(),y(),D(60,39),r(61,"mat-paginator",40,1),C("page",function(m){return u(s),f(t.onTablePageingData(m))}),l(),y(),l()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(12),d("checked",t.optionsSearch.data.show),o(),g("",S(14,24,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),g("",S(18,26,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),g(" ",S(30,28,"ACTION.PAGES")," "),o(3),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(23),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ie(30,Zc)))},dependencies:[De,W,et,xe,oe,B,lt,st,He,Re,dt,ct,pt,ut,ht,ft,mt,St,gt,_t,Mt,bt,je,Ue,Qe,ze,Dt,k,Lt,Ke,Vt],encapsulation:2});var to=en;var Ip=["*"];function Cp(n,a){if(n&1&&(r(0,"label",11),c(1),l()),n&2){let e=p();d("for",Ve("app-cms-site-selector-",e.id)),o(),x(e.optionLabel)}}function vp(n,a){if(n&1&&(r(0,"mat-option",12)(1,"span"),c(2),l()()),n&2){let e=a.$implicit,i=p();d("value",e)("disabled",i.optionDisabled),o(2),x(i.displayOption(e))}}function Dp(n,a){n&1&&b(0,"i",13)}function yp(n,a){n&1&&b(0,"i",14)}function wp(n,a){if(n&1){let e=v();r(0,"i",15),C("click",function(){u(e);let t=p();return f(t.onActionSelectClear())}),l()}}function Tp(n,a){n&1&&(r(0,"em"),c(1),h(2,"translate"),l()),n&2&&(o(),g("(",S(2,1,"TITLE.Necessary"),")"))}var ui=class ui{constructor(a,e,i,t,s){this.coreEnumService=a;this.translate=e;this.cdr=i;this.publicHelper=t;this.categoryService=s;this.id=++ui.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new F;this.dataModelSelect=new Xe;this.formControl=new $t;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new Tt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(a){this.onActionSelectForce(a)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Kt(""),Qt(1500),zt(),Jt(a=>typeof a=="string"||typeof a=="number"?this.DataGetAll(a||""):[]))}displayFn(a){return a?a.titleML:void 0}displayOption(a){return a?a.titleML:void 0}DataGetAll(a){return ee(this,null,function*(){let e=new K;e.rowPerPage=20,e.accessLoad=!0;let i=new O;i.propertyName="Title",i.value=a,i.searchType=Oe.Contains,i.clauseType=Ne.Or,e.filters.push(i),a&&typeof+a=="number"&&+a>0&&(i=new O,i.propertyName="Id",i.value=a,i.searchType=Oe.Equal,i.clauseType=Ne.Or,e.filters.push(i));let t=this.constructor.name+"categoryService.ServiceGetAll";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield jt(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(a){this.optionDisabled||(this.dataModelSelect=a,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(a){return this.filteredOptions.pipe(Ut(e=>(e.find(i=>i.id===a.id)||e.push(a),e)))}onActionSelectForce(a){if(typeof a=="string"&&a.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===a)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===a)){let e=this.dataModelResult.listItems.find(i=>i.id===a);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(a).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof a==typeof Xe){this.filteredOptions=this.push(a),this.dataModelSelect=a,this.formControl.setValue(a);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Xe,this.loadOptions()}};ui.nextId=0,ui.\u0275fac=function(e){return new(e||ui)(M(Q),M(V),M(L),M(G),M(Rt))},ui.\u0275cmp=R({type:ui,selectors:[["app-webdesigner-pagedependency-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Ip,decls:13,vars:18,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=v();Yt(),r(0,"div",1),b(1,"app-progress-spinner",2),I(2,Cp,2,3,"label",3),b(3,"input",4),r(4,"mat-autocomplete",5,0),C("optionSelected",function(_){return u(t),f(i.onActionSelect(_.option.value))}),I(6,vp,3,3,"mat-option",6),h(7,"async"),l(),I(8,Dp,1,0,"i",7)(9,yp,1,0,"i",8)(10,wp,1,0,"i",9)(11,Tp,3,3,"em",10),Xt(12),l()}if(e&2){let t=A(5);o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(),d("placeholder",P(i.optionPlaceholder))("id",Ve("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Et("disabled",i.optionDisabled?!0:null),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",S(7,16,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0))}},dependencies:[Ge,W,Y,z,X,ti,oi,ni,ri,B,q,tt,k],encapsulation:2});var tn=ui;var Pp=["vform"];function Rp(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",29),E("modelChange",function(t){u(e);let s=p();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=p();w("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Wp(n,a){n&1&&b(0,"i",35)}function kp(n,a){n&1&&b(0,"i",36)}function Lp(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),x(S(4,2,"MESSAGE.required"))}}function Vp(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",30),c(2),l(),r(3,"input",31,5),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),I(5,Wp,1,0,"i",32)(6,kp,1,0,"i",33),r(7,"em"),c(8),l(),I(9,Lp,5,4,"mat-error",34),l()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Gp(n,a){if(n&1){let e=v();r(0,"app-webdesigner-page-selector",37),h(1,"translate"),C("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectParent(t))}),l()}if(n&2){let e=p();d("optionDisabled",!(e.fieldsInfo.linkPageParentGuId!=null&&e.fieldsInfo.linkPageParentGuId.accessAddField))("optionSelectForce",e.dataModel.linkPageParentGuId)("optionMasterPage",!0)("optionMasterTemplateId",e.dataModel.linkPageTemplateGuId)("optionPlaceholder",S(1,5,"TITLE.parent_page"))}}function Bp(n,a){if(n&1){let e=v();r(0,"div",38)(1,"div",39)(2,"h5",40),c(3),l()(),r(4,"div",41)(5,"div",42)(6,"input",43),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.pageDependencyIsDefaultPage,t)||(s.dataModel.pageDependencyIsDefaultPage=t),f(t)}),l(),b(7,"label",44),l()()()}if(n&2){let e=p();o(3),g(" ",e.fieldsInfo.pageDependencyIsDefaultPage==null?null:e.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle," "),o(3),w("ngModel",e.dataModel.pageDependencyIsDefaultPage)}}function Fp(n,a){if(n&1){let e=v();r(0,"app-cms-sitecategory-selector",45),h(1,"translate"),C("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectCategory(t))}),l()}if(n&2){let e=p();d("optionSelectForce",e.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId)("optionPlaceholder",S(1,3,"TITLE.Website_Type"))("optionDisabled",!(e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId!=null&&e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessAddField))}}function Np(n,a){if(n&1){let e=v();r(0,"mat-chip",46),C("removed",function(){let t=u(e).$implicit,s=p();return f(s.removeTag(t))}),c(1),r(2,"button",47)(3,"mat-icon"),c(4,"cancel"),l()()()}if(n&2){let e=a.$implicit;o(),g(" ",e," ")}}function Op(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),x(S(4,2,"MESSAGE.required"))}}function Hp(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",48),c(2),l(),r(3,"textarea",49,6),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),c(5,"        "),l(),r(6,"em"),c(7),l(),I(8,Op,5,4,"mat-error",34),l()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),w("ngModel",i.dataModel.description),o(4),g("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function qp(n,a){if(n&1){let e=v();r(0,"div",50)(1,"button",51),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),b(2,"i",52),c(3),h(4,"translate"),l(),r(5,"button",53),b(6,"i",54),c(7),h(8,"translate"),l()()}if(n&2){p();let e=A(9);o(3),g(" ",S(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),g(" ",S(8,5,"ACTION.SAVE")," ")}}var nn=class nn extends Wt{constructor(e,i,t,s,_,m,j,J){super(s,new Ye,m,J);this.data=e;this.dialogRef=i;this.webDesignerEnumService=t;this.webDesignerMainPageService=s;this.cmsToastrService=_;this.publicHelper=m;this.cdr=j;this.translate=J;this.requestLinkPageDependencyGuId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.keywordDataModel=[];this.appLanguage="fa";this.dataModelResult=new F;this.dataModel=new Ye;this.formInfo=new re;this.dataModelEnumPageAbilityTypeResult=new F;this.fileManagerOpenForm=!1;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestLinkPageDependencyGuId=e.linkPageDependencyGuId+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.requestLinkPageDependencyGuId.length>0&&(this.dataModel.linkPageDependencyGuId=this.requestLinkPageDependencyGuId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.getEnumPageAbilityType()}getEnumPageAbilityType(){this.webDesignerEnumService.ServicePageAbilityTypeEnum().subscribe({next:e=>{this.dataModelEnumPageAbilityTypeResult=e}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"webDesignerMainPageService.ServiceAdd";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onActionSelectDependency(e){if(!e||e.id?.length<=0){this.translate.get(["MESSAGE.Specify_the_display_location","MESSAGE.information_screen_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_display_location"],i["MESSAGE.information_screen_is_not_clear"])});return}this.dataModel.linkPageDependencyGuId=e.id}onActionSelectTemplate(e){if(!e||e.id?.length<=0){this.translate.get(["MESSAGE.Specify_the_template","MESSAGE.Screen_template_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_template"],i["MESSAGE.Screen_template_is_not_clear"])});return}this.dataModel.linkPageTemplateGuId=e.id}onActionSelectParent(e){this.dataModel.linkPageParentGuId="",e&&e.id&&e.id.length>0&&(this.dataModel.linkPageParentGuId=e.id)}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.formSubmitAllow=!1,this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let e=[];this.keywordDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.keyword=e.join(","))}this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectCategory(e){if(!e||e.id<=0){this.translate.get("MESSAGE.category_of_site_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId=e.id}addTag(e){let i=(e.value||"").trim();i&&this.keywordDataModel.push(i),e.chipInput.clear()}removeTag(e){let i=this.keywordDataModel.indexOf(e);i>=0&&this.keywordDataModel.splice(i,1)}};nn.\u0275fac=function(i){return new(i||nn)(M(Me),M(Se),M(wi),M(rt),M(N),M(G),M(L),M(V))},nn.\u0275cmp=R({type:nn,selectors:[["app-webdesigner-page-add"]],viewQuery:function(i,t){if(i&1&&te(Pp,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:45,vars:41,consts:[["vform","ngForm"],["chipList",""],["tagInput",""],["SpecialIdendity",""],["SpecialUrlParameter",""],["Title",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder","optionSelectFirstItem"],[3,"optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionChange",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[3,"optionSelectForce","optionPlaceholder","optionDisabled","optionChange",4,"ngIf"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.specialIdendity",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialIdendity","type","text","placeholder","32323","minlength","0","maxlength","500","id","dataModel.specialIdendity",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.specialUrlParameter",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialUrlParameter","type","text","placeholder","esfahan","minlength","0","maxlength","500","id","dataModel.specialUrlParameter",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.pageDependencyIsDefaultPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.pageDependencyIsDefaultPage","name","dataModel.pageDependencyIsDefaultPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.pageDependencyIsDefaultPage",1,"custom-control-label"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=v();r(0,"div",7),b(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),l(),r(5,"p"),c(6),h(7,"translate"),l(),r(8,"form",11,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),I(10,Rp,1,5,"app-cms-enum-record-status-selector",12)(11,Vp,10,9,"div",13),r(12,"app-webdesigner-pagedependency-selector",14),h(13,"translate"),C("optionChange",function(m){return u(s),f(t.onActionSelectDependency(m))}),l(),r(14,"app-webdesigner-pagetemplate-selector",15),h(15,"translate"),C("optionChange",function(m){return u(s),f(t.onActionSelectTemplate(m))}),l(),I(16,Gp,2,7,"app-webdesigner-page-selector",16)(17,Bp,8,2,"div",17)(18,Fp,2,5,"app-cms-sitecategory-selector",18),r(19,"mat-form-field",19)(20,"mat-label"),c(21),h(22,"translate"),l(),r(23,"mat-chip-grid",20,1),I(25,Np,5,1,"mat-chip",21),r(26,"input",22,2),h(28,"translate"),C("matChipInputTokenEnd",function(m){return u(s),f(t.addTag(m))}),l()()(),r(29,"div",23)(30,"label",24),c(31),l(),r(32,"input",25,3),E("ngModelChange",function(m){return u(s),T(t.dataModel.specialIdendity,m)||(t.dataModel.specialIdendity=m),f(m)}),l(),r(34,"em"),c(35),l()(),r(36,"div",23)(37,"label",26),c(38),l(),r(39,"input",27,4),E("ngModelChange",function(m){return u(s),T(t.dataModel.specialUrlParameter,m)||(t.dataModel.specialUrlParameter=m),f(m)}),l(),r(41,"em"),c(42),l()(),I(43,Hp,9,6,"div",13)(44,qp,9,7,"div",28),l()()()}if(i&2){let s=A(24),_=A(33),m=A(40);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",S(7,31,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),d("optionDisabled",!(t.fieldsInfo.linkPageDependencyGuId!=null&&t.fieldsInfo.linkPageDependencyGuId.accessAddField))("optionSelectForce",t.dataModel.linkPageDependencyGuId)("optionPlaceholder",S(13,33,"TITLE.Show_place")),o(2),d("optionDisabled",!(t.fieldsInfo.linkPageTemplateGuId!=null&&t.fieldsInfo.linkPageTemplateGuId.accessAddField))("optionSelectForce",t.dataModel.linkPageTemplateGuId)("optionPlaceholder",S(15,35,"TITLE.Page_template"))("optionSelectFirstItem",!0),o(2),d("ngIf",t.dataModel.linkPageTemplateGuId&&t.dataModel.linkPageTemplateGuId.length>0),o(),d("ngIf",t.fieldsInfo.pageDependencyIsDefaultPage==null?null:t.fieldsInfo.pageDependencyIsDefaultPage.accessWatchField),o(),d("ngIf",t.dataModel.pageDependencyIsDefaultPage&&(t.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId==null?null:t.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessWatchField)),o(3),x(S(22,37,"TITLE.Choose_keywords_relative_to_the_content")),o(4),d("ngForOf",t.keywordDataModel),o(),d("placeholder",S(28,39,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",s)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(5),x(t.fieldsInfo.specialIdendity==null?null:t.fieldsInfo.specialIdendity.fieldTitle),o(),w("ngModel",t.dataModel.specialIdendity),d("disabled",!(t.fieldsInfo.specialIdendity!=null&&t.fieldsInfo.specialIdendity.accessAddField)),o(3),g("",_.value.length," / 500"),o(3),x(t.fieldsInfo.specialUrlParameter==null?null:t.fieldsInfo.specialUrlParameter.fieldTitle),o(),w("ngModel",t.dataModel.specialUrlParameter),d("disabled",!(t.fieldsInfo.specialUrlParameter!=null&&t.fieldsInfo.specialUrlParameter.accessAddField)),o(3),g("",m.value.length," / 500"),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[Ge,W,me,Y,At,z,de,X,ge,_e,pe,ce,Dn,yn,wn,vn,Cn,bn,he,oe,B,be,On,q,ci,tn,mi,k],encapsulation:2});var io=nn;var jp=["vform"];function Up(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",33),E("modelChange",function(t){u(e);let s=p();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=p();w("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Qp(n,a){if(n&1&&(r(0,"option",34),c(1),l()),n&2){let e=a.$implicit;d("ngValue",e.value),o(),g(" ",e.description," ")}}function zp(n,a){n&1&&(r(0,"mat-error"),c(1," PageAbilityType is "),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2&&(o(3),x(S(4,1,"MESSAGE.required")))}function Kp(n,a){n&1&&b(0,"i",39)}function Jp(n,a){n&1&&b(0,"i",40)}function Yp(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),x(S(4,2,"MESSAGE.required"))}}function Xp(n,a){if(n&1){let e=v();r(0,"div",14)(1,"label",35),c(2),l(),r(3,"input",36,6),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),I(5,Kp,1,0,"i",37)(6,Jp,1,0,"i",38),r(7,"em"),c(8),l(),I(9,Yp,5,4,"mat-error",18),l()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Zp(n,a){if(n&1){let e=v();r(0,"app-webdesigner-page-selector",41),h(1,"translate"),C("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectParent(t))}),l()}if(n&2){let e=p();d("optionDisabled",!(e.fieldsInfo.linkPageParentGuId!=null&&e.fieldsInfo.linkPageParentGuId.accessEditField))("optionSelectForce",e.dataModel.linkPageParentGuId)("optionMasterPage",!0)("optionMasterTemplateId",e.dataModel.linkPageTemplateGuId)("optionPlaceholder",S(1,5,"TITLE.parent_page"))}}function $p(n,a){if(n&1){let e=v();r(0,"div",42)(1,"div",43)(2,"h5",44),c(3),l()(),r(4,"div",45)(5,"div",46)(6,"input",47),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.pageDependencyIsDefaultPage,t)||(s.dataModel.pageDependencyIsDefaultPage=t),f(t)}),l(),b(7,"label",48),l()()()}if(n&2){let e=p();o(3),g(" ",e.fieldsInfo.pageDependencyIsDefaultPage==null?null:e.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle," "),o(3),w("ngModel",e.dataModel.pageDependencyIsDefaultPage)}}function em(n,a){if(n&1){let e=v();r(0,"app-cms-sitecategory-selector",49),h(1,"translate"),C("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectCategory(t))}),l()}if(n&2){let e=p();d("optionSelectForce",e.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId)("optionPlaceholder",S(1,3,"TITLE.Website_Type"))("optionDisabled",!(e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId!=null&&e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessEditField))}}function tm(n,a){if(n&1){let e=v();r(0,"mat-chip",50),C("removed",function(){let t=u(e).$implicit,s=p();return f(s.removeTag(t))}),c(1),r(2,"button",51)(3,"mat-icon"),c(4,"cancel"),l()()()}if(n&2){let e=a.$implicit;o(),g(" ",e," ")}}function im(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),x(S(4,2,"MESSAGE.required"))}}function nm(n,a){if(n&1){let e=v();r(0,"div",14)(1,"label",52),c(2),l(),r(3,"textarea",53,7),E("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),c(5,"        "),l(),r(6,"em"),c(7),l(),I(8,im,5,4,"mat-error",18),l()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),w("ngModel",i.dataModel.description),o(4),g("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function om(n,a){if(n&1){let e=v();r(0,"div",54)(1,"button",55),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),b(2,"i",56),c(3),h(4,"translate"),l(),r(5,"button",57),b(6,"i",58),c(7),h(8,"translate"),l()()}if(n&2){p();let e=A(9);o(3),g(" ",S(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),g(" ",S(8,5,"ACTION.SAVE")," ")}}var on=class on extends kt{constructor(e,i,t,s,_,m,j,J){super(s,new Ye,J,m);this.data=e;this.dialogRef=i;this.webDesignerEnumService=t;this.webDesignerMainPageService=s;this.cmsToastrService=_;this.translate=m;this.cdr=j;this.publicHelper=J;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.keywordDataModel=[];this.appLanguage="fa";this.dataModel=new Ye;this.formInfo=new re;this.dataModelEnumPageAbilityTypeResult=new F;this.fileManagerOpenForm=!1;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumPageAbilityType()}getEnumPageAbilityType(){this.webDesignerEnumService.ServicePageAbilityTypeEnum().subscribe({next:e=>{this.dataModelEnumPageAbilityTypeResult=e}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"webDesignerMainPageService.ServiceGetOneById";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageService.setAccessLoad(),this.webDesignerMainPageService.setAccessDataType(Pt.Editor),this.webDesignerMainPageService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.keywordDataModel=[],this.dataModel.keyword&&this.dataModel.keyword.length>0&&(this.keywordDataModel=this.dataModel.keyword.split(",")),this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onActionSelectParent(e){this.dataModel.linkPageParentGuId=e.id}onActionSelectDependency(e){if(!e||e.id?.length<=0){this.translate.get(["MESSAGE.Specify_the_display_location","MESSAGE.information_screen_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_display_location"],i["MESSAGE.information_screen_is_not_clear"])});return}this.dataModel.linkPageDependencyGuId=e.id}onActionSelectTemplate(e){if(!e||e.id?.length<=0){this.translate.get(["MESSAGE.Specify_the_template","MESSAGE.Screen_template_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_template"],i["MESSAGE.Screen_template_is_not_clear"])});return}this.dataModel.linkPageTemplateGuId=e.id}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.formSubmitAllow=!1,this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let e=[];this.keywordDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.keyword=e.join(","))}this.DataEditContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectCategory(e){if(!e||e.id<=0){this.translate.get("MESSAGE.category_of_site_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId=e.id}addTag(e){let i=(e.value||"").trim();i&&this.keywordDataModel.push(i),e.chipInput.clear()}removeTag(e){let i=this.keywordDataModel.indexOf(e);i>=0&&this.keywordDataModel.splice(i,1)}};on.\u0275fac=function(i){return new(i||on)(M(Me),M(Se),M(wi),M(rt),M(N),M(V),M(L),M(G))},on.\u0275cmp=R({type:on,selectors:[["app-webdesigner-page-edit"]],viewQuery:function(i,t){if(i&1&&te(jp,5),i&2){let s;ie(s=ne())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:53,vars:49,consts:[["vform","ngForm"],["PageAbilityType","ngModel"],["chipList",""],["tagInput",""],["SpecialIdendity",""],["SpecialUrlParameter",""],["Title",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.pageAbilityType","name","dataModel.pageAbilityType",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","ngClass"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"mt-n3"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionChange",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[3,"optionSelectForce","optionPlaceholder","optionDisabled","optionChange",4,"ngIf"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["for","dataModel.specialIdendity",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialIdendity","type","text","placeholder","32323","minlength","0","maxlength","500","id","dataModel.specialIdendity",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.specialUrlParameter",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialUrlParameter","type","text","placeholder","esfahan","minlength","0","maxlength","500","id","dataModel.specialUrlParameter",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"ngValue"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.pageDependencyIsDefaultPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.pageDependencyIsDefaultPage","name","dataModel.pageDependencyIsDefaultPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.pageDependencyIsDefaultPage",1,"custom-control-label"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=v();r(0,"div",8),b(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),c(4),l(),r(5,"p"),c(6),h(7,"translate"),l(),r(8,"form",12,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),I(10,Up,1,5,"app-cms-enum-record-status-selector",13),r(11,"div",14)(12,"select",15,1),E("ngModelChange",function(m){return u(s),T(t.dataModel.pageAbilityType,m)||(t.dataModel.pageAbilityType=m),f(m)}),I(14,Qp,2,2,"option",16),l(),r(15,"em",17),c(16),h(17,"translate"),l(),I(18,zp,5,3,"mat-error",18),l(),I(19,Xp,10,9,"div",19),r(20,"app-webdesigner-pagedependency-selector",20),h(21,"translate"),C("optionChange",function(m){return u(s),f(t.onActionSelectDependency(m))}),l(),r(22,"app-webdesigner-pagetemplate-selector",20),h(23,"translate"),C("optionChange",function(m){return u(s),f(t.onActionSelectTemplate(m))}),l(),I(24,Zp,2,7,"app-webdesigner-page-selector",21)(25,$p,8,2,"div",22)(26,em,2,5,"app-cms-sitecategory-selector",23),r(27,"mat-form-field",24)(28,"mat-label"),c(29),h(30,"translate"),l(),r(31,"mat-chip-grid",25,2),I(33,tm,5,1,"mat-chip",26),r(34,"input",27,3),h(36,"translate"),C("matChipInputTokenEnd",function(m){return u(s),f(t.addTag(m))}),l()()(),r(37,"div",14)(38,"label",28),c(39),l(),r(40,"input",29,4),E("ngModelChange",function(m){return u(s),T(t.dataModel.specialIdendity,m)||(t.dataModel.specialIdendity=m),f(m)}),l(),r(42,"em"),c(43),l()(),r(44,"div",14)(45,"label",30),c(46),l(),r(47,"input",31,5),E("ngModelChange",function(m){return u(s),T(t.dataModel.specialUrlParameter,m)||(t.dataModel.specialUrlParameter=m),f(m)}),l(),r(49,"em"),c(50),l()(),I(51,nm,9,6,"div",19)(52,om,9,7,"div",32),l()()()}if(i&2){let s=A(13),_=A(32),m=A(41),j=A(48);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",S(7,37,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(2),d("ngClass",Ve("cms-RecordStatusEnum-selector-",t.dataModel.recordStatus)),w("ngModel",t.dataModel.pageAbilityType),d("disabled",!0),o(2),d("ngForOf",t.dataModelEnumPageAbilityTypeResult.listItems),o(2),g("",S(17,39,"TITLE.Select_the_functionality_of_this_content")," "),o(2),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),d("optionDisabled",!(t.fieldsInfo.linkPageDependencyGuId!=null&&t.fieldsInfo.linkPageDependencyGuId.accessEditField))("optionSelectForce",t.dataModel.linkPageDependencyGuId)("optionPlaceholder",S(21,41,"TITLE.Show_place")),o(2),d("optionDisabled",!(t.fieldsInfo.linkPageTemplateGuId!=null&&t.fieldsInfo.linkPageTemplateGuId.accessEditField))("optionSelectForce",t.dataModel.linkPageTemplateGuId)("optionPlaceholder",S(23,43,"TITLE.Page_template")),o(2),d("ngIf",t.dataModel.linkPageTemplateGuId&&t.dataModel.linkPageTemplateGuId.length>0),o(),d("ngIf",t.fieldsInfo.pageDependencyIsDefaultPage==null?null:t.fieldsInfo.pageDependencyIsDefaultPage.accessWatchField),o(),d("ngIf",t.dataModel.pageDependencyIsDefaultPage&&(t.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId==null?null:t.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessWatchField)),o(3),x(S(30,45,"TITLE.Choose_keywords_relative_to_the_content")),o(4),d("ngForOf",t.keywordDataModel),o(),d("placeholder",S(36,47,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",_)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(5),x(t.fieldsInfo.specialIdendity==null?null:t.fieldsInfo.specialIdendity.fieldTitle),o(),w("ngModel",t.dataModel.specialIdendity),d("disabled",!(t.fieldsInfo.specialIdendity!=null&&t.fieldsInfo.specialIdendity.accessEditField)),o(3),g("",m.value.length," / 500"),o(3),x(t.fieldsInfo.specialUrlParameter==null?null:t.fieldsInfo.specialUrlParameter.fieldTitle),o(),w("ngModel",t.dataModel.specialUrlParameter),d("disabled",!(t.fieldsInfo.specialUrlParameter!=null&&t.fieldsInfo.specialUrlParameter.accessEditField)),o(3),g("",j.value.length," / 500"),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[De,Ge,W,me,So,Mo,Y,At,ho,z,de,X,ge,_e,pe,ce,Dn,yn,wn,vn,Cn,bn,he,oe,B,be,On,q,ci,tn,mi,k],encapsulation:2});var no=on;var rm=()=>[5,10,20,100],am=n=>({display:n});function lm(n,a){if(n&1){let e=v();r(0,"a",47),C("click",function(){u(e);let t=p();return f(t.onActionBackToParentTemplate())}),b(1,"i",48),l()}}function sm(n,a){if(n&1){let e=v();r(0,"a",47),C("click",function(){u(e);let t=p();return f(t.onActionBackToParentDependency())}),b(1,"i",48),l()}}function dm(n,a){if(n&1){let e=v();r(0,"div",18)(1,"a",49),C("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),b(2,"i",50)(3,"br"),l(),r(4,"p",21),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",S(6,1,"ACTION.ADD")," "))}function cm(n,a){if(n&1){let e=v();r(0,"div",18)(1,"a",51),C("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),b(2,"i",52)(3,"br"),l(),r(4,"p",21),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",S(6,1,"ACTION.EDIT")," "))}function pm(n,a){if(n&1){let e=v();r(0,"div",18)(1,"a",53),C("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),b(2,"i",54)(3,"br"),l(),r(4,"p",21),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",S(6,1,"ACTION.DELETE")," "))}function mm(n,a){if(n&1){let e=v();r(0,"div",18)(1,"a",19),C("click",function(){u(e);let t=p();return f(t.onActionButtonHtmlViewWithOutParent(t.tableRowSelected))}),b(2,"i",20)(3,"br"),l(),r(4,"p",21),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",S(6,1,"ACTION.DISPLAY_PAGE_WITHOUT_PARENT")," "))}function um(n,a){n&1&&(r(0,"mat-header-cell",55),c(1),h(2,"translate"),l()),n&2&&(o(),g(" ",S(2,1,"TITLE.PICTURE")," "))}function fm(n,a){if(n&1&&b(0,"img",57),n&2){let e=p().$implicit;d("src",P(e.thumbnailImageSrc),ve)}}function gm(n,a){if(n&1&&(r(0,"mat-cell"),I(1,fm,1,2,"img",56),l()),n&2){let e=a.$implicit;o(),d("ngIf",(e==null||e.ThumbnailImageSrc==null?null:e.ThumbnailImageSrc.length)>0)}}function _m(n,a){if(n&1&&(r(0,"mat-header-cell",55),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function hm(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.id," ")}}function Sm(n,a){if(n&1&&(r(0,"mat-header-cell",55),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Mm(n,a){if(n&1&&b(0,"select",60),n&2){let e=p().$implicit,i=p();d("contentService",i.contentService)("row",e)("ngStyle",$e(3,am,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function bm(n,a){if(n&1&&(r(0,"mat-cell",58),h(1,"statusCellClass"),b(2,"i",58),h(3,"statusIconClass"),I(4,Mm,1,5,"select",59),l()),n&2){let e=a.$implicit,i=p();d("ngClass",S(1,3,e.recordStatus)),o(2),d("ngClass",S(3,5,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Im(n,a){if(n&1&&(r(0,"mat-header-cell",55),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Cm(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.title," ")}}function vm(n,a){if(n&1&&(r(0,"mat-header-cell",55),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.linkPageParentGuId==null?null:e.fieldsInfo.linkPageParentGuId.fieldTitle," ")}}function Dm(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.linkPageParentGuId," ")}}function ym(n,a){if(n&1&&(r(0,"mat-header-cell",55),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.linkPageDependencyGuId==null?null:e.fieldsInfo.linkPageDependencyGuId.fieldTitle," ")}}function wm(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.linkPageDependencyGuId," ")}}function Tm(n,a){if(n&1&&(r(0,"mat-header-cell",55),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.linkPageTemplateGuId==null?null:e.fieldsInfo.linkPageTemplateGuId.fieldTitle," ")}}function Em(n,a){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"cmstitle"),l()),n&2){let e=a.$implicit,i=p();o(),g(" ",xt(2,1,e.linkPageTemplateGuId,i.dataModelWebDesignerMainPageTemplateResult.listItems)," ")}}function xm(n,a){if(n&1&&(r(0,"mat-header-cell",55),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId==null?null:e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.fieldTitle," ")}}function Am(n,a){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"cmstitle"),l()),n&2){let e=a.$implicit,i=p();o(),g(" ",xt(2,1,e.pageDependencyIsDefaultPageLinkSiteCategoryId,i.dataModelCoreSiteCategoryResult.listItems)," ")}}function Pm(n,a){if(n&1&&(r(0,"mat-header-cell",55),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.pageDependencyIsDefaultPage==null?null:e.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle," ")}}function Rm(n,a){if(n&1&&(r(0,"mat-cell"),b(1,"i",58),h(2,"boolclass"),l()),n&2){let e=a.$implicit;o(),d("ngClass",S(2,1,e.pageDependencyIsDefaultPage))}}function Wm(n,a){if(n&1&&(r(0,"mat-header-cell",55),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.classActionName==null?null:e.fieldsInfo.classActionName.fieldTitle," ")}}function km(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.classActionName," ")}}function Lm(n,a){n&1&&(r(0,"mat-header-cell"),c(1),h(2,"translate"),l()),n&2&&(o(),g(" ",S(2,1,"TITLE.OPTION")," "))}function Vm(n,a){if(n&1&&(r(0,"mat-cell",61)(1,"button",62)(2,"mat-icon"),c(3,"more_vert"),l()(),b(4,"mat-menu",null,2),l()),n&2){let e=A(5);o(),d("matMenuTriggerFor",e)}}function Gm(n,a){n&1&&b(0,"mat-header-row")}function Bm(n,a){if(n&1){let e=v();r(0,"mat-row",63),C("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))}),l()}if(n&2){let e=a.$implicit,i=p();Ee("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var rn=class rn extends vt{constructor(e,i,t,s,_,m,j,J,wt,fi,Ht,gi,qt,ln,Mr){super(e,new Ye,ln,gi,wt);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.webDesignerMainPageTemplateService=s;this.coreSiteCategoryService=_;this.activatedRoute=m;this.router=j;this.cdr=J;this.translate=wt;this.cmsStoreService=fi;this.themeService=Ht;this.tokenHelper=gi;this.pageInfo=qt;this.publicHelper=ln;this.dialog=Mr;this.requestLinkPageParentGuId="";this.requestLinkPageTemplateGuId="";this.requestLinkPageDependencyGuId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new K;this.filterDataModelQueryBuilder=[];this.dataModelWebDesignerMainPageTemplateResult=new F;this.dataModelCoreSiteCategoryResult=new F;this.tabledisplayedColumns=["ThumbnailImageSrc","Id","RecordStatus","Title","LinkPageTemplateGuId","PageDependencyIsDefaultPage","PageDependencyIsDefaultPageLinkSiteCategoryId"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.activatedRoute.snapshot.paramMap.get("LinkPageTemplateGuId")&&(this.requestLinkPageTemplateGuId=this.activatedRoute.snapshot.paramMap.get("LinkPageTemplateGuId")),this.activatedRoute.snapshot.paramMap.get("LinkPageDependencyGuId")&&(this.requestLinkPageDependencyGuId=this.activatedRoute.snapshot.paramMap.get("LinkPageDependencyGuId")),this.activatedRoute.snapshot.paramMap.get("LinkPageParentGuId")&&(this.requestLinkPageParentGuId=this.activatedRoute.snapshot.paramMap.get("LinkPageParentGuId")),this.optionsSearch.parentMethods={onSubmit:Le=>this.onSubmitOptionsSearch(Le)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending,this.requestLinkPageTemplateGuId.length>0){let Le=new O;Le.propertyName="LinkPageTemplateGuId",Le.value=this.requestLinkPageTemplateGuId,this.filteModelContent.filters.push(Le)}if(this.requestLinkPageDependencyGuId.length>0){let Le=new O;Le.propertyName="LinkPageDependencyGuId",Le.value=this.requestLinkPageDependencyGuId,this.filteModelContent.filters.push(Le)}if(this.requestLinkPageParentGuId.length>0){let Le=new O;Le.propertyName="LinkPageParentGuId",Le.value=this.requestLinkPageParentGuId,this.filteModelContent.filters.push(Le)}}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ee(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getModuleList(),this.getSiteCategory()}getModuleList(){let e=new K;e.rowPerPage=100,this.webDesignerMainPageTemplateService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelWebDesignerMainPageTemplateResult=i}})}getSiteCategory(){let e=new K;e.rowPerPage=100,this.coreSiteCategoryService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCoreSiteCategoryResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tableRowsSelected=[],this.onActionTableRowSelect(new Ye);let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):(H,e.start="desc"):(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending),H,this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(io,{height:"90%",panelClass:e,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{linkPageDependencyGuId:this.requestLinkPageDependencyGuId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(no,{height:"90%",panelClass:i,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_)}})}}).catch(()=>{})}onActionButtonGoToSiteCategoryList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/core/siteSiteCategory/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess&&(i.set("All",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new O;_.propertyName="RecordStatus",_.value=nt.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess&&(i.set("Active",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t)}})}onActionButtonHtmlEditor(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}window.open(e.htmlBuilderUrl,"_blank")}onActionButtonHtmlView(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}window.open(this.dataModelResult.item.htmlPreviewByMasterUrl,"_blank")}onActionButtonSiteRouteView(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.contentService.ServiceWebRoute(e.id).subscribe({next:i=>{i.isSuccess?window.open(i.item,"_blank"):this.cmsToastrService.typeError(i.errorMessage)},error:i=>{this.cmsToastrService.typeError(i)}})}onActionButtonHtmlViewWithOutParent(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}window.open(this.dataModelResult.item.htmlPreviewUrl,"_blank")}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParentTemplate(){this.router.navigate(["/webdesigner/pagetemplate"])}onActionBackToParentDependency(){this.router.navigate(["/webdesigner/pagedependency"])}};rn.\u0275fac=function(i){return new(i||rn)(M(rt),M(N),M(qe),M(at),M(Pn),M(it),M(Be),M(L),M(V),M(Pe),M(It),M(We),M(Ct),M(G),M(Fe))},rn.\u0275cmp=R({type:rn,selectors:[["app-webdesigner-page-list-grid"]],standalone:!1,features:[U],decls:92,vars:40,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","ThumbnailImageSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","LinkPageParentGuId"],["matColumnDef","LinkPageDependencyGuId"],["matColumnDef","LinkPageTemplateGuId"],["matColumnDef","PageDependencyIsDefaultPageLinkSiteCategoryId"],["matColumnDef","PageDependencyIsDefaultPage"],["matColumnDef","ClassActionName"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=v();r(0,"app-cms-html-list",3),E("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),C("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),D(1,4),c(2," -------------------------------------- "),y(),we(3,5)(4,6),D(5,7),I(6,lm,2,0,"a",8)(7,sm,2,0,"a",8),r(8,"a",9),C("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),b(9,"i",10),l(),r(10,"a",9),C("click",function(){return u(s),f(t.onActionButtonReload())}),b(11,"i",11),l(),y(),D(12,12),r(13,"a",13),C("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),b(14,"mat-slide-toggle",14),c(15),h(16,"translate"),l(),r(17,"a",13),C("click",function(){return u(s),f(t.onActionButtonStatist())}),b(18,"mat-slide-toggle",14),c(19),h(20,"translate"),l(),y(),D(21,15),I(22,dm,7,3,"div",16),y(),D(23,17),I(24,cm,7,3,"div",16)(25,pm,7,3,"div",16),r(26,"div",18)(27,"a",19),C("click",function(){return u(s),f(t.onActionButtonHtmlEditor(t.tableRowSelected))}),b(28,"i",20)(29,"br"),l(),r(30,"p",21),c(31),h(32,"translate"),l()(),r(33,"div",18)(34,"a",19),C("click",function(){return u(s),f(t.onActionButtonHtmlView(t.tableRowSelected))}),b(35,"i",20)(36,"br"),l(),r(37,"p",21),c(38),h(39,"translate"),l()(),I(40,mm,7,3,"div",16),r(41,"div",18)(42,"a",19),C("click",function(){return u(s),f(t.onActionButtonSiteRouteView(t.tableRowSelected))}),b(43,"i",22)(44,"br"),l(),r(45,"p",21),c(46),h(47,"translate"),l()(),y(),D(48,23),r(49,"app-cms-search-list",24),E("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),l(),r(50,"app-cms-statist-list",24),E("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),l(),y(),D(51,25),r(52,"mat-table",26,0),C("matSortChange",function(){u(s);let m=A(53);return f(t.onTableSortData(m))}),D(54,27),I(55,um,3,3,"mat-header-cell",28)(56,gm,2,1,"mat-cell",29),y(),D(57,30),I(58,_m,2,1,"mat-header-cell",28)(59,hm,2,1,"mat-cell",29),y(),D(60,31),I(61,Sm,2,1,"mat-header-cell",28)(62,bm,5,7,"mat-cell",32),y(),D(63,33),I(64,Im,2,1,"mat-header-cell",28)(65,Cm,2,1,"mat-cell",29),y(),D(66,34),I(67,vm,2,1,"mat-header-cell",28)(68,Dm,2,1,"mat-cell",29),y(),D(69,35),I(70,ym,2,1,"mat-header-cell",28)(71,wm,2,1,"mat-cell",29),y(),D(72,36),I(73,Tm,2,1,"mat-header-cell",28)(74,Em,3,4,"mat-cell",29),y(),D(75,37),I(76,xm,2,1,"mat-header-cell",28)(77,Am,3,4,"mat-cell",29),y(),D(78,38),I(79,Pm,2,1,"mat-header-cell",28)(80,Rm,3,3,"mat-cell",29),y(),D(81,39),I(82,Wm,2,1,"mat-header-cell",28)(83,km,2,1,"mat-cell",29),y(),D(84,40),I(85,Lm,3,3,"mat-header-cell",41)(86,Vm,6,1,"mat-cell",42),y(),I(87,Gm,1,0,"mat-header-row",43)(88,Bm,1,2,"mat-row",44),l(),y(),D(89,45),r(90,"mat-paginator",46,1),C("page",function(m){return u(s),f(t.onTablePageingData(m))}),l(),y(),l()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(6),d("ngIf",(t.requestLinkPageTemplateGuId==null?null:t.requestLinkPageTemplateGuId.length)>0),o(),d("ngIf",(t.requestLinkPageDependencyGuId==null?null:t.requestLinkPageDependencyGuId.length)>0),o(7),d("checked",t.optionsSearch.data.show),o(),g("",S(16,29,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),g("",S(20,31,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),g(" ",S(32,33,"ACTION.PAGE_DESIGN")," "),o(7),g(" ",S(39,35,"ACTION.SHOW_PAGE")," "),o(2),d("ngIf",(t.tableRowSelected==null||t.tableRowSelected.linkPageParentGuId==null?null:t.tableRowSelected.linkPageParentGuId.length)>0),o(6),g(" ",S(47,37,"ACTION.SHOW_WEB")," "),o(3),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(35),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ie(39,rm)))},dependencies:[De,W,et,xe,oe,B,lt,st,He,Re,dt,ct,pt,ut,ht,ft,mt,St,gt,_t,Mt,bt,je,Ue,Qe,ze,Dt,k,xi,Ke,Vt,Ei],encapsulation:2});var Ot=rn;var Fm=()=>[5,10,20,100];function Nm(n,a){if(n&1){let e=v();r(0,"a",30),C("click",function(){u(e);let t=p();return f(t.onActionBackToParentTemplate())}),b(1,"i",31),l()}}function Om(n,a){if(n&1){let e=v();r(0,"a",30),C("click",function(){u(e);let t=p();return f(t.onActionBackToParentDependency())}),b(1,"i",31),l()}}function Hm(n,a){if(n&1){let e=v();r(0,"div",16)(1,"a",32),C("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),b(2,"i",33)(3,"br"),l(),r(4,"p",19),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",S(6,1,"ACTION.ADD")," "))}function qm(n,a){if(n&1){let e=v();r(0,"div",16)(1,"a",34),C("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),b(2,"i",35)(3,"br"),l(),r(4,"p",19),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",S(6,1,"ACTION.EDIT")," "))}function jm(n,a){if(n&1){let e=v();r(0,"div",16)(1,"a",36),C("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),b(2,"i",37)(3,"br"),l(),r(4,"p",19),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",S(6,1,"ACTION.DELETE")," "))}function Um(n,a){if(n&1){let e=v();r(0,"div",16)(1,"a",17),C("click",function(){u(e);let t=p();return f(t.onActionButtonHtmlViewWithOutParent(t.tableRowSelected))}),b(2,"i",18)(3,"br"),l(),r(4,"p",19),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",S(6,1,"ACTION.DISPLAY_PAGE_WITHOUT_PARENT")," "))}function Qm(n,a){if(n&1){let e=v();r(0,"div",38)(1,"mat-card",39)(2,"mat-card-header")(3,"mat-card-title"),c(4),b(5,"i",40),h(6,"statusIconClass"),l(),r(7,"mat-card-subtitle"),c(8),h(9,"translate"),l()(),b(10,"img",41),r(11,"mat-card-content"),c(12),h(13,"translate"),h(14,"cmstitle"),b(15,"br"),c(16),h(17,"translate"),h(18,"cmstitle"),b(19,"br"),c(20),h(21,"translate"),b(22,"i",40),h(23,"boolclass"),r(24,"p"),c(25),l()(),r(26,"mat-card-actions")(27,"button",42),C("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))}),r(28,"mat-icon"),c(29,"more_vert"),l()()()()()}if(n&2){let e=a.$implicit,i=p();o(4),g(" ",e.title," "),o(),d("ngClass",S(6,13,e.recordStatus)),o(3),Zt(" ",S(9,15,"TITLE.Id"),": ",e.id),o(2),d("src",P(e.thumbnailImageSrc),ve),o(2),Zt(" ",S(13,17,"TITLE.Template")," : ",xt(14,19,e.linkPageTemplateGuId,i.dataModelWebDesignerMainPageTemplateResult.listItems)," "),o(4),Zt(" ",S(17,22,"TITLE.Default_template_classification_system")," : ",xt(18,24,e.pageDependencyIsDefaultPageLinkSiteCategoryId,i.dataModelCoreSiteCategoryResult.listItems)," "),o(4),g(" ",S(21,27,"TITLE.System_default")," : "),o(2),d("ngClass",S(23,29,e.pageDependencyIsDefaultPage)),o(3),g(" ",e.description," ")}}var Ii=class Ii extends Ot{};Ii.\u0275fac=(()=>{let a;return function(i){return(a||(a=fo(Ii)))(i||Ii)}})(),Ii.\u0275cmp=R({type:Ii,selectors:[["app-webdesigner-page-list"]],standalone:!1,features:[U],decls:60,vars:40,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionClassBody","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"row"],["Class","col-xl-12"],[3,"optionsInfoAreaId"],["class","col-sm-12 col-md-6 col-lg-4 col-xl-3",4,"ngFor","ngForOf"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"col-sm-12","col-md-6","col-lg-4","col-xl-3"],[1,"example-card",2,"border","groove"],[3,"ngClass"],["mat-card-image","",2,"max-height","300px",3,"src"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click","rtclick"]],template:function(e,i){if(e&1){let t=v();r(0,"app-cms-html-list",1),E("optionActionGuideNoticeDisplayChange",function(_){return u(t),T(i.viewGuideNotice,_)||(i.viewGuideNotice=_),f(_)}),C("optionOnActionButtonMemoRow",function(){return u(t),f(i.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(t),f(i.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(t),f(i.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(t),f(i.onActionButtonPrintRow())}),D(1,2),c(2," -------------------------------------- "),y(),we(3,3)(4,4),D(5,5),I(6,Nm,2,0,"a",6)(7,Om,2,0,"a",6),r(8,"a",7),C("click",function(){return u(t),f(i.viewGuideNotice=!i.viewGuideNotice)}),b(9,"i",8),l(),r(10,"a",7),C("click",function(){return u(t),f(i.onActionButtonReload())}),b(11,"i",9),l(),y(),D(12,10),r(13,"a",11),C("click",function(){return u(t),f(i.optionsSearch.data.show=!i.optionsSearch.data.show)}),b(14,"mat-slide-toggle",12),c(15),h(16,"translate"),l(),r(17,"a",11),C("click",function(){return u(t),f(i.onActionButtonStatist())}),b(18,"mat-slide-toggle",12),c(19),h(20,"translate"),l(),y(),D(21,13),I(22,Hm,7,3,"div",14),y(),D(23,15),I(24,qm,7,3,"div",14)(25,jm,7,3,"div",14),r(26,"div",16)(27,"a",17),C("click",function(){return u(t),f(i.onActionButtonHtmlEditor(i.tableRowSelected))}),b(28,"i",18)(29,"br"),l(),r(30,"p",19),c(31),h(32,"translate"),l()(),r(33,"div",16)(34,"a",17),C("click",function(){return u(t),f(i.onActionButtonHtmlView(i.tableRowSelected))}),b(35,"i",18)(36,"br"),l(),r(37,"p",19),c(38),h(39,"translate"),l()(),I(40,Um,7,3,"div",14),r(41,"div",16)(42,"a",17),C("click",function(){return u(t),f(i.onActionButtonSiteRouteView(i.tableRowSelected))}),b(43,"i",20)(44,"br"),l(),r(45,"p",19),c(46),h(47,"translate"),l()(),y(),D(48,21),r(49,"app-cms-search-list",22),E("optionsChange",function(_){return u(t),T(i.optionsSearch,_)||(i.optionsSearch=_),f(_)}),l(),r(50,"app-cms-statist-list",22),E("optionsChange",function(_){return u(t),T(i.optionsStatist,_)||(i.optionsStatist=_),f(_)}),l(),y(),D(51,23),r(52,"div",24)(53,"div",25),b(54,"app-progress-spinner",26),r(55,"div",24),I(56,Qm,30,31,"div",27),l()()(),y(),D(57,28),r(58,"mat-paginator",29,0),C("page",function(_){return u(t),f(i.onTablePageingData(_))}),l(),y(),l()}e&2&&(d("optionsListInfoAreaId",i.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",i.viewGuideNotice),d("optionTreeDisplay",!1)("optionClassBody","")("optionActionRowId",i.tableRowSelected==null?null:i.tableRowSelected.id)("optionActionRowDisplayMenu",i.tableRowSelect2Click)("optionSelectRowItemTitle",i.tableRowSelected==null?null:i.tableRowSelected.title),o(6),d("ngIf",(i.requestLinkPageTemplateGuId==null?null:i.requestLinkPageTemplateGuId.length)>0),o(),d("ngIf",(i.requestLinkPageDependencyGuId==null?null:i.requestLinkPageDependencyGuId.length)>0),o(7),d("checked",i.optionsSearch.data.show),o(),g("",S(16,29,"ACTION.SEARCH")," "),o(3),d("checked",i.optionsStatist.data.show),o(),g("",S(20,31,"ACTION.STATIST")," "),o(3),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow),o(),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessDeleteRow),o(6),g(" ",S(32,33,"ACTION.PAGE_DESIGN")," "),o(7),g(" ",S(39,35,"ACTION.SHOW_PAGE")," "),o(2),d("ngIf",(i.tableRowSelected==null||i.tableRowSelected.linkPageParentGuId==null?null:i.tableRowSelected.linkPageParentGuId.length)>0),o(6),g(" ",S(47,37,"ACTION.SHOW_WEB")," "),o(3),w("options",i.optionsSearch),o(),w("options",i.optionsStatist),o(4),d("optionsInfoAreaId",i.constructorInfoAreaId),o(2),d("ngForOf",i.dataModelResult.listItems),o(2),d("length",i.dataModelResult.totalRowCount)("pageIndex",i.dataModelResult.currentPageNumber-1)("pageSize",i.dataModelResult.rowPerPage)("pageSizeOptions",Ie(39,Fm)))},dependencies:[De,Ge,W,xe,ko,Bo,Vo,Fo,No,Go,Lo,oe,He,Re,je,Ue,q,Qe,ze,k,xi,Ke,Ei],encapsulation:2});var Ci=Ii;var an=class an{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};an.\u0275fac=function(e){return new(e||an)},an.\u0275cmp=R({type:an,selectors:[["app-web-designer"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&b(0,"router-outlet")},dependencies:[Co],encapsulation:2});var oo=an;var zm=[{path:"",component:oo,data:{title:"ROUTE.WEBDESIGNER"},children:[{path:"config",loadChildren:()=>import("./chunk-VRW3OZ5Z.js").then(n=>n.WebDesignerConfigModule),data:{title:"ROUTE.WEBDESIGNER"}},{path:"intro",component:cn,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/LinkPageId/:LinkPageId",component:cn,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/add",component:dn,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/add/:LinkPageId",component:dn,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/edit/:Id",component:qn,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"menu",component:Kn,data:{title:"ROUTE.WEBDESIGNER.MENU"}},{path:"logmemberinfo",component:Qn,data:{title:"ROUTE.WEBDESIGNER.LOGMEMBERINFO"}},{path:"pagetemplate",component:to,data:{title:"ROUTE.WEBDESIGNER.PAGETEMPLATE"}},{path:"pagedependency",component:Zn,data:{title:"ROUTE.WEBDESIGNER.PAGEDEPENDENCY"}},{path:"page",component:Ci,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/LinkPageTemplateGuId/:LinkPageTemplateGuId",component:Ci,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/LinkPageParentGuId/:LinkPageParentGuId",component:Ci,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/LinkPageDependencyGuId/:LinkPageDependencyGuId",component:Ci,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid",component:Ot,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid/LinkPageTemplateGuId/:LinkPageTemplateGuId",component:Ot,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid/LinkPageParentGuId/:LinkPageParentGuId",component:Ot,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid/LinkPageDependencyGuId/:LinkPageDependencyGuId",component:Ot,data:{title:"ROUTE.WEBDESIGNER.PAGE"}}]}],vi=class vi{};vi.\u0275fac=function(e){return new(e||vi)},vi.\u0275mod=Mn({type:vi}),vi.\u0275inj=Sn({imports:[ao.forChild(zm),ao]});var ro=vi;var Di=class Di{};Di.\u0275fac=function(e){return new(e||Di)},Di.\u0275mod=Mn({type:Di}),Di.\u0275inj=Sn({providers:[An,Q,Eo,qe,Po,Pn,Ro,Ti,ii,ot,rt,Rt,at,Rn,wi],imports:[go,ro,bo,Io.withConfig({warnOnNgModelWithFormControl:"never"}),Jo,Yo,yo,vo,Oo,dr,cr,rr,ar,Ko]});var Sr=Di;export{Sr as WebDesignerModule};
