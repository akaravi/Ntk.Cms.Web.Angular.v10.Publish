import{a as xe}from"./chunk-LBTJGSSA.js";import{a as Wt}from"./chunk-S6QSC53A.js";import{a as Ut}from"./chunk-USENEX2Q.js";import{a as Bt}from"./chunk-TODWTP3B.js";import"./chunk-K5CKOR6K.js";import"./chunk-OFLPX3DH.js";import"./chunk-JWPPO7FE.js";import"./chunk-GPJVB2QT.js";import"./chunk-7MG5QAUX.js";import{a as Dt}from"./chunk-IYBGHISR.js";import"./chunk-KYTHTIPK.js";import"./chunk-QMSRHVSY.js";import{a as Ot}from"./chunk-EEN275HF.js";import{a as Tt}from"./chunk-QRBPK7B4.js";import{a as Nt}from"./chunk-GNC3GZY6.js";import{a as xt}from"./chunk-GLOBIGQD.js";import{c as Rt,d as vt,e as bt,g as At}from"./chunk-NQFH7I4W.js";import{a as yt}from"./chunk-G3AGNDAP.js";import{a as Ae}from"./chunk-K7MUOC7D.js";import{a as Ee}from"./chunk-ESSIQ5VH.js";import{b as It}from"./chunk-7ABXAU5E.js";import{a as Et}from"./chunk-GJA4MSA2.js";import{a as ve}from"./chunk-6GWICLZ4.js";import"./chunk-UTDLWF6N.js";import"./chunk-JYKV33OB.js";import"./chunk-LZTE4TXP.js";import"./chunk-BBSQKAA5.js";import{a as be}from"./chunk-N2F7SVPP.js";import{a as Re}from"./chunk-M6EKMMID.js";import{a as Ie,d as ye}from"./chunk-HFMA3TIZ.js";import{b as wt,e as Mt,f as J}from"./chunk-WFPIYFXV.js";import{$b as Q,Db as rt,Eb as lt,Fb as ct,Gb as dt,Hb as mt,Ib as pt,Jb as ut,K as Se,Kb as ft,L as _e,Lb as Ct,Mb as ht,Na as we,O as Xe,Oa as Me,P as Ye,Pa as $e,Pc as St,Sc as _t,Uc as z,X as ge,Xc as gt,_b as j,ab as et,cb as H,da as Ze,hb as tt,ib as it,lb as ot,m as de,n as me,q as pe,r as ue,rb as nt,t as fe,tb as st,ub as at,v as Ce,w as he}from"./chunk-G2V2D7LA.js";import{Ab as l,Bd as Be,Cd as Qe,Eb as se,Fa as o,Fb as ae,Fd as ze,Gb as re,Gd as $,He as k,Kb as N,Kc as Fe,Kd as U,Kr as te,Ld as le,Mb as De,Oa as v,Pb as d,Qb as O,Qc as Pe,Rb as m,Sa as P,Sc as Ge,Ta as ne,Vb as I,Wa as G,Wb as E,Xb as y,Xd as ee,Y as oe,Ya as T,Yb as D,Zc as qe,_d as Je,ac as Ve,ag as W,bc as Le,da as p,ea as u,fb as h,fc as g,gb as S,gc as w,lb as M,mb as r,nb as a,ob as f,qe as ce,sb as A,tb as x,td as He,ub as ke,ue as Ke,vb as _,vd as je,xc as q,yb as b}from"./chunk-4YSQYRXM.js";import{i as We}from"./chunk-SEDBTTTN.js";var ti=["vform"];function ii(i,c){if(i&1){let e=_();r(0,"app-cms-enum-record-status-selector",15),y("modelChange",function(t){p(e);let s=l();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(i&2){let e=l();I("model",e.dataModel.recordStatus),M("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function oi(i,c){if(i&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),g(4,"translate"),a()()),i&2){let e=l(2);o(),m(" ",e.fieldsInfo.moduleName==null?null:e.fieldsInfo.moduleName.fieldTitle," "),o(2),O(w(4,2,"MESSAGE.required"))}}function ni(i,c){if(i&1){let e=_();r(0,"div",12)(1,"label",16),d(2),a(),r(3,"input",17,1),y("ngModelChange",function(t){p(e);let s=l();return E(s.dataModel.moduleName,t)||(s.dataModel.moduleName=t),u(t)}),a(),r(5,"em"),d(6),a(),h(7,oi,5,4,"mat-error"),a()}if(i&2){let e=N(4),n=l();o(2),O(n.fieldsInfo.moduleName==null?null:n.fieldsInfo.moduleName.fieldTitle),o(),M("disabled",D(!(n.fieldsInfo.moduleName!=null&&n.fieldsInfo.moduleName.accessAddField)))("placeholder",D(n.fieldsInfo.moduleName==null?null:n.fieldsInfo.moduleName.fieldTitle)),I("ngModel",n.dataModel.moduleName),o(3),m("",e.value.length," / 100"),o(),S(e.errors!=null&&e.errors.required?7:-1)}}function si(i,c){if(i&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),g(4,"translate"),a()()),i&2){let e=l(2);o(),m(" ",e.fieldsInfo.moduleEntityName==null?null:e.fieldsInfo.moduleEntityName.fieldTitle," "),o(2),O(w(4,2,"MESSAGE.required"))}}function ai(i,c){if(i&1){let e=_();r(0,"div",12)(1,"label",18),d(2),a(),r(3,"input",19,2),y("ngModelChange",function(t){p(e);let s=l();return E(s.dataModel.moduleEntityName,t)||(s.dataModel.moduleEntityName=t),u(t)}),a(),r(5,"em"),d(6),a(),h(7,si,5,4,"mat-error"),a()}if(i&2){let e=N(4),n=l();o(2),O(n.fieldsInfo.moduleEntityName==null?null:n.fieldsInfo.moduleEntityName.fieldTitle),o(),M("disabled",D(!(n.fieldsInfo.moduleEntityName!=null&&n.fieldsInfo.moduleEntityName.accessAddField)))("placeholder",D(n.fieldsInfo.moduleEntityName==null?null:n.fieldsInfo.moduleEntityName.fieldTitle)),I("ngModel",n.dataModel.moduleEntityName),o(3),m("",e.value.length," / 100"),o(),S(e.errors!=null&&e.errors.required?7:-1)}}function ri(i,c){if(i&1){let e=_();r(0,"div",13)(1,"div",20)(2,"h5",21),d(3),a()(),r(4,"div",22)(5,"div",23)(6,"input",24),y("ngModelChange",function(t){p(e);let s=l();return E(s.dataModel.accessDeleteRow,t)||(s.dataModel.accessDeleteRow=t),u(t)}),a(),f(7,"label",25),a()()()}if(i&2){let e=l();o(3),m(" ",e.fieldsInfo.accessDeleteRow==null?null:e.fieldsInfo.accessDeleteRow.fieldTitle," "),o(3),I("ngModel",e.dataModel.accessDeleteRow)}}function li(i,c){if(i&1){let e=_();r(0,"div",13)(1,"div",20)(2,"h5",26),d(3),a()(),r(4,"div",22)(5,"div",23)(6,"input",27),y("ngModelChange",function(t){p(e);let s=l();return E(s.dataModel.accessWatchRow,t)||(s.dataModel.accessWatchRow=t),u(t)}),a(),f(7,"label",28),a()()()}if(i&2){let e=l();o(3),m(" ",e.fieldsInfo.accessWatchRow==null?null:e.fieldsInfo.accessWatchRow.fieldTitle," "),o(3),I("ngModel",e.dataModel.accessWatchRow)}}function ci(i,c){if(i&1){let e=_();r(0,"div",13)(1,"div",20)(2,"h5",29),d(3),a()(),r(4,"div",22)(5,"div",23)(6,"input",30),y("ngModelChange",function(t){p(e);let s=l();return E(s.dataModel.accessCountRow,t)||(s.dataModel.accessCountRow=t),u(t)}),a(),f(7,"label",31),a()()()}if(i&2){let e=l();o(3),m(" ",e.fieldsInfo.accessCountRow==null?null:e.fieldsInfo.accessCountRow.fieldTitle," "),o(3),I("ngModel",e.dataModel.accessCountRow)}}function di(i,c){if(i&1){let e=_();r(0,"div",13)(1,"div",20)(2,"h5",32),d(3),a()(),r(4,"div",22)(5,"div",23)(6,"input",33),y("ngModelChange",function(t){p(e);let s=l();return E(s.dataModel.accessEditRow,t)||(s.dataModel.accessEditRow=t),u(t)}),a(),f(7,"label",34),a()()()}if(i&2){let e=l();o(3),m(" ",e.fieldsInfo.accessEditRow==null?null:e.fieldsInfo.accessEditRow.fieldTitle," "),o(3),I("ngModel",e.dataModel.accessEditRow)}}function mi(i,c){if(i&1){let e=_();r(0,"div",13)(1,"div",20)(2,"h5",35),d(3),a()(),r(4,"div",22)(5,"div",23)(6,"input",36),y("ngModelChange",function(t){p(e);let s=l();return E(s.dataModel.accessAddRow,t)||(s.dataModel.accessAddRow=t),u(t)}),a(),f(7,"label",37),a()()()}if(i&2){let e=l();o(3),m(" ",e.fieldsInfo.accessAddRow==null?null:e.fieldsInfo.accessAddRow.fieldTitle," "),o(3),I("ngModel",e.dataModel.accessAddRow)}}function pi(i,c){if(i&1){let e=_();r(0,"div",13)(1,"div",20)(2,"h5",38),d(3),a()(),r(4,"div",22)(5,"div",23)(6,"input",39),y("ngModelChange",function(t){p(e);let s=l();return E(s.dataModel.accessExportFile,t)||(s.dataModel.accessExportFile=t),u(t)}),a(),f(7,"label",40),a()()()}if(i&2){let e=l();o(3),m(" ",e.fieldsInfo.accessExportFile==null?null:e.fieldsInfo.accessExportFile.fieldTitle," "),o(3),I("ngModel",e.dataModel.accessExportFile)}}function ui(i,c){if(i&1){let e=_();r(0,"div",13)(1,"div",20)(2,"h5",41),d(3),a()(),r(4,"div",22)(5,"div",23)(6,"input",42),y("ngModelChange",function(t){p(e);let s=l();return E(s.dataModel.accessWatchRowOtherSiteId,t)||(s.dataModel.accessWatchRowOtherSiteId=t),u(t)}),a(),f(7,"label",43),a()()()}if(i&2){let e=l();o(3),m(" ",e.fieldsInfo.accessWatchRowOtherSiteId==null?null:e.fieldsInfo.accessWatchRowOtherSiteId.fieldTitle," "),o(3),I("ngModel",e.dataModel.accessWatchRowOtherSiteId)}}function fi(i,c){if(i&1){let e=_();r(0,"div",13)(1,"div",20)(2,"h5",44),d(3),a()(),r(4,"div",22)(5,"div",23)(6,"input",45),y("ngModelChange",function(t){p(e);let s=l();return E(s.dataModel.accessWatchRowOtherCreatedBy,t)||(s.dataModel.accessWatchRowOtherCreatedBy=t),u(t)}),a(),f(7,"label",46),a()()()}if(i&2){let e=l();o(3),m(" ",e.fieldsInfo.accessWatchRowOtherCreatedBy==null?null:e.fieldsInfo.accessWatchRowOtherCreatedBy.fieldTitle," "),o(3),I("ngModel",e.dataModel.accessWatchRowOtherCreatedBy)}}function Ci(i,c){if(i&1){let e=_();r(0,"div",13)(1,"div",20)(2,"h5",47),d(3),a()(),r(4,"div",22)(5,"div",23)(6,"input",48),y("ngModelChange",function(t){p(e);let s=l();return E(s.dataModel.accessCountRowOtherSiteId,t)||(s.dataModel.accessCountRowOtherSiteId=t),u(t)}),a(),f(7,"label",49),a()()()}if(i&2){let e=l();o(3),m(" ",e.fieldsInfo.accessCountRowOtherSiteId==null?null:e.fieldsInfo.accessCountRowOtherSiteId.fieldTitle," "),o(3),I("ngModel",e.dataModel.accessCountRowOtherSiteId)}}function hi(i,c){if(i&1){let e=_();r(0,"div",13)(1,"div",20)(2,"h5",50),d(3),a()(),r(4,"div",22)(5,"div",23)(6,"input",51),y("ngModelChange",function(t){p(e);let s=l();return E(s.dataModel.accessCountRowOtherCreatedBy,t)||(s.dataModel.accessCountRowOtherCreatedBy=t),u(t)}),a(),f(7,"label",52),a()()()}if(i&2){let e=l();o(3),m(" ",e.fieldsInfo.accessCountRowOtherCreatedBy==null?null:e.fieldsInfo.accessCountRowOtherCreatedBy.fieldTitle," "),o(3),I("ngModel",e.dataModel.accessCountRowOtherCreatedBy)}}function Si(i,c){if(i&1){let e=_();r(0,"div",13)(1,"div",20)(2,"h5",53),d(3),a()(),r(4,"div",22)(5,"div",23)(6,"input",54),y("ngModelChange",function(t){p(e);let s=l();return E(s.dataModel.accessEditRowOtherSiteId,t)||(s.dataModel.accessEditRowOtherSiteId=t),u(t)}),a(),f(7,"label",55),a()()()}if(i&2){let e=l();o(3),m(" ",e.fieldsInfo.accessEditRowOtherSiteId==null?null:e.fieldsInfo.accessEditRowOtherSiteId.fieldTitle," "),o(3),I("ngModel",e.dataModel.accessEditRowOtherSiteId)}}function _i(i,c){if(i&1){let e=_();r(0,"div",13)(1,"div",20)(2,"h5",56),d(3),a()(),r(4,"div",22)(5,"div",23)(6,"input",57),y("ngModelChange",function(t){p(e);let s=l();return E(s.dataModel.accessEditRowOtherCreatedBy,t)||(s.dataModel.accessEditRowOtherCreatedBy=t),u(t)}),a(),f(7,"label",58),a()()()}if(i&2){let e=l();o(3),m(" ",e.fieldsInfo.accessEditRowOtherCreatedBy==null?null:e.fieldsInfo.accessEditRowOtherCreatedBy.fieldTitle," "),o(3),I("ngModel",e.dataModel.accessEditRowOtherCreatedBy)}}function gi(i,c){if(i&1){let e=_();r(0,"div",13)(1,"div",20)(2,"h5",59),d(3),a()(),r(4,"div",22)(5,"div",23)(6,"input",60),y("ngModelChange",function(t){p(e);let s=l();return E(s.dataModel.accessDeleteRowOtherCreatedBy,t)||(s.dataModel.accessDeleteRowOtherCreatedBy=t),u(t)}),a(),f(7,"label",61),a()()()}if(i&2){let e=l();o(3),m(" ",e.fieldsInfo.accessDeleteRowOtherCreatedBy==null?null:e.fieldsInfo.accessDeleteRowOtherCreatedBy.fieldTitle," "),o(3),I("ngModel",e.dataModel.accessDeleteRowOtherCreatedBy)}}function wi(i,c){if(i&1){let e=_();r(0,"div",14)(1,"button",62),b("click",function(){p(e);let t=l();return u(t.onFormCancel())}),f(2,"i",63),d(3),g(4,"translate"),a(),r(5,"button",64),f(6,"i",65),d(7),g(8,"translate"),a()()}if(i&2){l();let e=N(10);o(3),m(" ",w(4,3,"ACTION.CANCEL")," "),o(2),M("disabled",!e.form.valid),o(2),m(" ",w(8,5,"ACTION.SAVE")," ")}}var K=class K extends Et{constructor(e,n,t,s,R,C,F,Z){super(s,new W,C,Z);this.data=e;this.dialogRef=n;this.coreEnumService=t;this.coreUserSupportAccessService=s;this.cmsToastrService=R;this.publicHelper=C;this.cdr=F;this.translate=Z;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.appLanguage="fa";this.dataModelResult=new $;this.dataModel=new W;this.formInfo=new ye;this.dataModelEnumManageUserAccessUserTypesResult=new $;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&(this.dataModel.linkSiteId=+e.linkSiteId||0,this.dataModel.linkUserId=+e.linkUserId||0,this.dataModel.moduleName=e.moduleName,this.dataModel.moduleEntityName=e.moduleEntityName)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.getEnumManageUserAccessUserTypes(),this.DataGetAccess()}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.formInfo.submitResultMessage=n}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.coreUserSupportAccessService.ServiceAdd(this.dataModel).subscribe({next:n=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=n,n.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=n.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(e)},error:n=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorModuleEntitySelect(e){this.dataModel.moduleName="",this.dataModel.moduleEntityName="",e&&e.id>0&&(this.dataModel.moduleName=e.moduleName,this.dataModel.moduleEntityName=e.moduleEntityName)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};K.\u0275fac=function(n){return new(n||K)(v(Me),v(we),v(ce),v(k),v(z),v(J),v(q),v(j))},K.\u0275cmp=P({type:K,selectors:[["app-core-user-support-access-add"]],viewQuery:function(n,t){if(n&1&&se(ti,5),n&2){let s;ae(s=re())&&(t.formGroup=s.first)}},standalone:!1,features:[G],decls:35,vars:37,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"d-flex","mb-3"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","minlength","3","maxlength","100","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","minlength","3","maxlength","100","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[1,"pt-1"],["data-trigger-switch","dataModel.accessDeleteRow",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.accessDeleteRow","name","dataModel.accessDeleteRow",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessDeleteRow",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRow",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRow","name","dataModel.accessWatchRow",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRow",1,"custom-control-label"],["data-trigger-switch","dataModel.accessCountRow",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessCountRow","name","dataModel.accessCountRow",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessCountRow",1,"custom-control-label"],["data-trigger-switch","dataModel.accessEditRow",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessEditRow","name","dataModel.accessEditRow",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessEditRow",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAddRow",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAddRow","name","dataModel.accessAddRow",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAddRow",1,"custom-control-label"],["data-trigger-switch","dataModel.accessExportFile",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessExportFile","name","dataModel.accessExportFile",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessExportFile",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherSiteId",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherSiteId","name","dataModel.accessWatchRowOtherSiteId",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherSiteId",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherCreatedBy",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherCreatedBy","name","dataModel.accessWatchRowOtherCreatedBy",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherCreatedBy",1,"custom-control-label"],["data-trigger-switch","dataModel.accessCountRowOtherSiteId",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessCountRowOtherSiteId","name","dataModel.accessCountRowOtherSiteId",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessCountRowOtherSiteId",1,"custom-control-label"],["data-trigger-switch","dataModel.accessCountRowOtherCreatedBy",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessCountRowOtherCreatedBy","name","dataModel.accessCountRowOtherCreatedBy",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessCountRowOtherCreatedBy",1,"custom-control-label"],["data-trigger-switch","dataModel.accessEditRowOtherSiteId",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessEditRowOtherSiteId","name","dataModel.accessEditRowOtherSiteId",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessEditRowOtherSiteId",1,"custom-control-label"],["data-trigger-switch","dataModel.accessEditRowOtherCreatedBy",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessEditRowOtherCreatedBy","name","dataModel.accessEditRowOtherCreatedBy",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessEditRowOtherCreatedBy",1,"custom-control-label"],["data-trigger-switch","dataModel.accessDeleteRowOtherCreatedBy",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessDeleteRowOtherCreatedBy","name","dataModel.accessDeleteRowOtherCreatedBy",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessDeleteRowOtherCreatedBy",1,"custom-control-label"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(n,t){if(n&1){let s=_();r(0,"div",3),f(1,"app-progress-spinner",4),r(2,"div",5)(3,"p",6),d(4),a(),r(5,"p"),d(6),g(7,"translate"),a(),f(8,"app-cms-form-result-message",7),r(9,"form",8,0),b("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),h(11,ii,1,5,"app-cms-enum-record-status-selector",9),f(12,"app-cms-site-selector",10),g(13,"translate"),f(14,"app-cms-user-selector",10),g(15,"translate"),r(16,"app-core-module-entity-selector",11),g(17,"translate"),b("optionChange",function(C){return p(s),u(t.onActionSelectorModuleEntitySelect(C))}),a(),h(18,ni,8,8,"div",12),h(19,ai,8,8,"div",12),f(20,"hr"),h(21,ri,8,2,"div",13),h(22,li,8,2,"div",13),h(23,ci,8,2,"div",13),h(24,di,8,2,"div",13),h(25,mi,8,2,"div",13),h(26,pi,8,2,"div",13),h(27,ui,8,2,"div",13),h(28,fi,8,2,"div",13),h(29,Ci,8,2,"div",13),h(30,hi,8,2,"div",13),h(31,Si,8,2,"div",13),h(32,_i,8,2,"div",13),h(33,gi,8,2,"div",13),h(34,wi,9,7,"div",14),a()()()}n&2&&(o(),M("optionsInfoAreaId",t.constructorInfoAreaId),o(3),m(" ",t.formInfo.formTitle," "),o(2),m(" ",w(7,29,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),M("formInfo",t.formInfo),o(3),S(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),M("optionDisabled",!(t.fieldsInfo.moduleName!=null&&t.fieldsInfo.moduleName.accessAddField))("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",w(13,31,"TITLE.WEBSITE")),o(2),M("optionDisabled",!(t.fieldsInfo.moduleName!=null&&t.fieldsInfo.moduleName.accessAddField))("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",w(15,33,"TITLE.USER")),o(2),M("optionDisabled",!(t.fieldsInfo.moduleName!=null&&t.fieldsInfo.moduleName.accessAddField))("optionPlaceholder",w(17,35,"TITLE.MODULE")),o(2),S(t.fieldsInfo.moduleName!=null&&t.fieldsInfo.moduleName.accessWatchField?18:-1),o(),S(t.fieldsInfo.moduleEntityName!=null&&t.fieldsInfo.moduleEntityName.accessWatchField?19:-1),o(2),S(t.fieldsInfo.accessDeleteRow!=null&&t.fieldsInfo.accessDeleteRow.accessWatchField?21:-1),o(),S(t.fieldsInfo.accessWatchRow!=null&&t.fieldsInfo.accessWatchRow.accessWatchField?22:-1),o(),S(t.fieldsInfo.accessCountRow!=null&&t.fieldsInfo.accessCountRow.accessWatchField?23:-1),o(),S(t.fieldsInfo.accessEditRow!=null&&t.fieldsInfo.accessEditRow.accessWatchField?24:-1),o(),S(t.fieldsInfo.accessAddRow!=null&&t.fieldsInfo.accessAddRow.accessWatchField?25:-1),o(),S(t.fieldsInfo.accessExportFile!=null&&t.fieldsInfo.accessExportFile.accessWatchField?26:-1),o(),S(t.fieldsInfo.accessWatchRowOtherSiteId!=null&&t.fieldsInfo.accessWatchRowOtherSiteId.accessWatchField?27:-1),o(),S(t.fieldsInfo.accessWatchRowOtherCreatedBy!=null&&t.fieldsInfo.accessWatchRowOtherCreatedBy.accessWatchField?28:-1),o(),S(t.fieldsInfo.accessCountRowOtherSiteId!=null&&t.fieldsInfo.accessCountRowOtherSiteId.accessWatchField?29:-1),o(),S(t.fieldsInfo.accessCountRowOtherCreatedBy!=null&&t.fieldsInfo.accessCountRowOtherCreatedBy.accessWatchField?30:-1),o(),S(t.fieldsInfo.accessEditRowOtherSiteId!=null&&t.fieldsInfo.accessEditRowOtherSiteId.accessWatchField?31:-1),o(),S(t.fieldsInfo.accessEditRowOtherCreatedBy!=null&&t.fieldsInfo.accessEditRowOtherCreatedBy.accessWatchField?32:-1),o(),S(t.fieldsInfo.accessDeleteRowOtherCreatedBy!=null&&t.fieldsInfo.accessDeleteRowOtherCreatedBy.accessWatchField?33:-1),o(),S(t.formInfo.submitButtonEnabled?34:-1))},dependencies:[he,me,de,pe,ue,Se,_e,Ce,fe,ge,H,Ee,ve,Ae,Ie,Re,xe,Q],encapsulation:2});var Te=K;var Mi=["vform"];function Ii(i,c){if(i&1){let e=_();r(0,"app-cms-enum-record-status-selector",15),y("modelChange",function(t){p(e);let s=l();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),u(t)}),a()}if(i&2){let e=l();I("model",e.dataModel.recordStatus),M("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ei(i,c){if(i&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),g(4,"translate"),a()()),i&2){let e=l(2);o(),m(" ",e.fieldsInfo.moduleName==null?null:e.fieldsInfo.moduleName.fieldTitle," "),o(2),O(w(4,2,"MESSAGE.required"))}}function yi(i,c){if(i&1){let e=_();r(0,"div",12)(1,"label",16),d(2),a(),r(3,"input",17,1),y("ngModelChange",function(t){p(e);let s=l();return E(s.dataModel.moduleName,t)||(s.dataModel.moduleName=t),u(t)}),a(),r(5,"em"),d(6),a(),h(7,Ei,5,4,"mat-error"),a()}if(i&2){let e=N(4),n=l();o(2),O(n.fieldsInfo.moduleName==null?null:n.fieldsInfo.moduleName.fieldTitle),o(),M("disabled",D(!(n.fieldsInfo.moduleName!=null&&n.fieldsInfo.moduleName.accessEditField)))("placeholder",D(n.fieldsInfo.moduleName==null?null:n.fieldsInfo.moduleName.fieldTitle)),I("ngModel",n.dataModel.moduleName),o(3),m("",e.value.length," / 100"),o(),S(e.errors!=null&&e.errors.required?7:-1)}}function Ri(i,c){if(i&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),g(4,"translate"),a()()),i&2){let e=l(2);o(),m(" ",e.fieldsInfo.moduleEntityName==null?null:e.fieldsInfo.moduleEntityName.fieldTitle," "),o(2),O(w(4,2,"MESSAGE.required"))}}function vi(i,c){if(i&1){let e=_();r(0,"div",12)(1,"label",18),d(2),a(),r(3,"input",19,2),y("ngModelChange",function(t){p(e);let s=l();return E(s.dataModel.moduleEntityName,t)||(s.dataModel.moduleEntityName=t),u(t)}),a(),r(5,"em"),d(6),a(),h(7,Ri,5,4,"mat-error"),a()}if(i&2){let e=N(4),n=l();o(2),O(n.fieldsInfo.moduleEntityName==null?null:n.fieldsInfo.moduleEntityName.fieldTitle),o(),M("disabled",D(!(n.fieldsInfo.moduleEntityName!=null&&n.fieldsInfo.moduleEntityName.accessEditField)))("placeholder",D(n.fieldsInfo.moduleEntityName==null?null:n.fieldsInfo.moduleEntityName.fieldTitle)),I("ngModel",n.dataModel.moduleEntityName),o(3),m("",e.value.length," / 100"),o(),S(e.errors!=null&&e.errors.required?7:-1)}}function bi(i,c){if(i&1){let e=_();r(0,"div",13)(1,"div",20)(2,"h5",21),d(3),a()(),r(4,"div",22)(5,"div",23)(6,"input",24),y("ngModelChange",function(t){p(e);let s=l();return E(s.dataModel.accessDeleteRow,t)||(s.dataModel.accessDeleteRow=t),u(t)}),a(),f(7,"label",25),a()()()}if(i&2){let e=l();o(3),m(" ",e.fieldsInfo.accessDeleteRow==null?null:e.fieldsInfo.accessDeleteRow.fieldTitle," "),o(3),I("ngModel",e.dataModel.accessDeleteRow)}}function Ai(i,c){if(i&1){let e=_();r(0,"div",13)(1,"div",20)(2,"h5",26),d(3),a()(),r(4,"div",22)(5,"div",23)(6,"input",27),y("ngModelChange",function(t){p(e);let s=l();return E(s.dataModel.accessWatchRow,t)||(s.dataModel.accessWatchRow=t),u(t)}),a(),f(7,"label",28),a()()()}if(i&2){let e=l();o(3),m(" ",e.fieldsInfo.accessWatchRow==null?null:e.fieldsInfo.accessWatchRow.fieldTitle," "),o(3),I("ngModel",e.dataModel.accessWatchRow)}}function xi(i,c){if(i&1){let e=_();r(0,"div",13)(1,"div",20)(2,"h5",29),d(3),a()(),r(4,"div",22)(5,"div",23)(6,"input",30),y("ngModelChange",function(t){p(e);let s=l();return E(s.dataModel.accessCountRow,t)||(s.dataModel.accessCountRow=t),u(t)}),a(),f(7,"label",31),a()()()}if(i&2){let e=l();o(3),m(" ",e.fieldsInfo.accessCountRow==null?null:e.fieldsInfo.accessCountRow.fieldTitle," "),o(3),I("ngModel",e.dataModel.accessCountRow)}}function Ti(i,c){if(i&1){let e=_();r(0,"div",13)(1,"div",20)(2,"h5",32),d(3),a()(),r(4,"div",22)(5,"div",23)(6,"input",33),y("ngModelChange",function(t){p(e);let s=l();return E(s.dataModel.accessEditRow,t)||(s.dataModel.accessEditRow=t),u(t)}),a(),f(7,"label",34),a()()()}if(i&2){let e=l();o(3),m(" ",e.fieldsInfo.accessEditRow==null?null:e.fieldsInfo.accessEditRow.fieldTitle," "),o(3),I("ngModel",e.dataModel.accessEditRow)}}function Ui(i,c){if(i&1){let e=_();r(0,"div",13)(1,"div",20)(2,"h5",35),d(3),a()(),r(4,"div",22)(5,"div",23)(6,"input",36),y("ngModelChange",function(t){p(e);let s=l();return E(s.dataModel.accessAddRow,t)||(s.dataModel.accessAddRow=t),u(t)}),a(),f(7,"label",37),a()()()}if(i&2){let e=l();o(3),m(" ",e.fieldsInfo.accessAddRow==null?null:e.fieldsInfo.accessAddRow.fieldTitle," "),o(3),I("ngModel",e.dataModel.accessAddRow)}}function Ni(i,c){if(i&1){let e=_();r(0,"div",13)(1,"div",20)(2,"h5",38),d(3),a()(),r(4,"div",22)(5,"div",23)(6,"input",39),y("ngModelChange",function(t){p(e);let s=l();return E(s.dataModel.accessExportFile,t)||(s.dataModel.accessExportFile=t),u(t)}),a(),f(7,"label",40),a()()()}if(i&2){let e=l();o(3),m(" ",e.fieldsInfo.accessExportFile==null?null:e.fieldsInfo.accessExportFile.fieldTitle," "),o(3),I("ngModel",e.dataModel.accessExportFile)}}function Oi(i,c){if(i&1){let e=_();r(0,"div",13)(1,"div",20)(2,"h5",41),d(3),a()(),r(4,"div",22)(5,"div",23)(6,"input",42),y("ngModelChange",function(t){p(e);let s=l();return E(s.dataModel.accessWatchRowOtherSiteId,t)||(s.dataModel.accessWatchRowOtherSiteId=t),u(t)}),a(),f(7,"label",43),a()()()}if(i&2){let e=l();o(3),m(" ",e.fieldsInfo.accessWatchRowOtherSiteId==null?null:e.fieldsInfo.accessWatchRowOtherSiteId.fieldTitle," "),o(3),I("ngModel",e.dataModel.accessWatchRowOtherSiteId)}}function Di(i,c){if(i&1){let e=_();r(0,"div",13)(1,"div",20)(2,"h5",44),d(3),a()(),r(4,"div",22)(5,"div",23)(6,"input",45),y("ngModelChange",function(t){p(e);let s=l();return E(s.dataModel.accessWatchRowOtherCreatedBy,t)||(s.dataModel.accessWatchRowOtherCreatedBy=t),u(t)}),a(),f(7,"label",46),a()()()}if(i&2){let e=l();o(3),m(" ",e.fieldsInfo.accessWatchRowOtherCreatedBy==null?null:e.fieldsInfo.accessWatchRowOtherCreatedBy.fieldTitle," "),o(3),I("ngModel",e.dataModel.accessWatchRowOtherCreatedBy)}}function Bi(i,c){if(i&1){let e=_();r(0,"div",13)(1,"div",20)(2,"h5",47),d(3),a()(),r(4,"div",22)(5,"div",23)(6,"input",48),y("ngModelChange",function(t){p(e);let s=l();return E(s.dataModel.accessCountRowOtherSiteId,t)||(s.dataModel.accessCountRowOtherSiteId=t),u(t)}),a(),f(7,"label",49),a()()()}if(i&2){let e=l();o(3),m(" ",e.fieldsInfo.accessCountRowOtherSiteId==null?null:e.fieldsInfo.accessCountRowOtherSiteId.fieldTitle," "),o(3),I("ngModel",e.dataModel.accessCountRowOtherSiteId)}}function Wi(i,c){if(i&1){let e=_();r(0,"div",13)(1,"div",20)(2,"h5",50),d(3),a()(),r(4,"div",22)(5,"div",23)(6,"input",51),y("ngModelChange",function(t){p(e);let s=l();return E(s.dataModel.accessCountRowOtherCreatedBy,t)||(s.dataModel.accessCountRowOtherCreatedBy=t),u(t)}),a(),f(7,"label",52),a()()()}if(i&2){let e=l();o(3),m(" ",e.fieldsInfo.accessCountRowOtherCreatedBy==null?null:e.fieldsInfo.accessCountRowOtherCreatedBy.fieldTitle," "),o(3),I("ngModel",e.dataModel.accessCountRowOtherCreatedBy)}}function ki(i,c){if(i&1){let e=_();r(0,"div",13)(1,"div",20)(2,"h5",53),d(3),a()(),r(4,"div",22)(5,"div",23)(6,"input",54),y("ngModelChange",function(t){p(e);let s=l();return E(s.dataModel.accessEditRowOtherSiteId,t)||(s.dataModel.accessEditRowOtherSiteId=t),u(t)}),a(),f(7,"label",55),a()()()}if(i&2){let e=l();o(3),m(" ",e.fieldsInfo.accessEditRowOtherSiteId==null?null:e.fieldsInfo.accessEditRowOtherSiteId.fieldTitle," "),o(3),I("ngModel",e.dataModel.accessEditRowOtherSiteId)}}function Vi(i,c){if(i&1){let e=_();r(0,"div",13)(1,"div",20)(2,"h5",56),d(3),a()(),r(4,"div",22)(5,"div",23)(6,"input",57),y("ngModelChange",function(t){p(e);let s=l();return E(s.dataModel.accessEditRowOtherCreatedBy,t)||(s.dataModel.accessEditRowOtherCreatedBy=t),u(t)}),a(),f(7,"label",58),a()()()}if(i&2){let e=l();o(3),m(" ",e.fieldsInfo.accessEditRowOtherCreatedBy==null?null:e.fieldsInfo.accessEditRowOtherCreatedBy.fieldTitle," "),o(3),I("ngModel",e.dataModel.accessEditRowOtherCreatedBy)}}function Li(i,c){if(i&1){let e=_();r(0,"div",13)(1,"div",20)(2,"h5",59),d(3),a()(),r(4,"div",22)(5,"div",23)(6,"input",60),y("ngModelChange",function(t){p(e);let s=l();return E(s.dataModel.accessDeleteRowOtherCreatedBy,t)||(s.dataModel.accessDeleteRowOtherCreatedBy=t),u(t)}),a(),f(7,"label",61),a()()()}if(i&2){let e=l();o(3),m(" ",e.fieldsInfo.accessDeleteRowOtherCreatedBy==null?null:e.fieldsInfo.accessDeleteRowOtherCreatedBy.fieldTitle," "),o(3),I("ngModel",e.dataModel.accessDeleteRowOtherCreatedBy)}}function Fi(i,c){if(i&1){let e=_();r(0,"div",14)(1,"button",62),b("click",function(){p(e);let t=l();return u(t.onFormCancel())}),f(2,"i",63),d(3),g(4,"translate"),a(),r(5,"button",64),f(6,"i",65),d(7),g(8,"translate"),a()()}if(i&2){l();let e=N(10);o(3),m(" ",w(4,3,"ACTION.CANCEL")," "),o(2),M("disabled",!e.form.valid),o(2),m(" ",w(8,5,"ACTION.SAVE")," ")}}var X=class X extends yt{constructor(e,n,t,s,R,C,F,Z){super(s,new W,C,Z);this.data=e;this.dialogRef=n;this.coreEnumService=t;this.coreUserSupportAccessService=s;this.cmsToastrService=R;this.publicHelper=C;this.cdr=F;this.translate=Z;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestModuleName="";this.requestModuleEntityName="";this.constructorInfoAreaId=this.constructor.name;this.appLanguage="fa";this.dataModelResult=new ze;this.dataModel=new W;this.formInfo=new ye;this.dataModelEnumManageUserAccessUserTypesResult=new $;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestLinkSiteId=+e.linkSiteId||0,this.requestLinkUserId=+e.linkUserId||0,this.requestModuleName=e.moduleName,this.requestModuleEntityName=e.moduleEntityName),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestLinkSiteId>0&&this.requestLinkUserId>0&&this.requestModuleName&&this.requestModuleName.length>0&&this.requestModuleEntityName&&this.requestModuleEntityName.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}DataGetOneContent(){if(this.requestLinkSiteId<=0||this.requestLinkUserId<=0||!this.requestModuleName||this.requestModuleName.length==0||!this.requestModuleEntityName||this.requestModuleEntityName.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let n=new le,t=new U;t.propertyName="linkSiteId",t.value=this.requestLinkSiteId,n.filters.push(t),t=new U,t.propertyName="linkUserId",t.value=this.requestLinkUserId,n.filters.push(t),t=new U,t.propertyName="ModuleName",t.value=this.requestModuleName,n.filters.push(t),t=new U,t.propertyName="ModuleEntityName",t.value=this.requestModuleEntityName,n.filters.push(t),this.coreUserSupportAccessService.setAccessLoad(),this.coreUserSupportAccessService.setAccessDataType(Je.Editor),this.coreUserSupportAccessService.ServiceGetAll(n).subscribe({next:s=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(s.access),s.isSuccess?s.listItems&&s.listItems.length>0?(this.dataModel=s.listItems[0],this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):this.translate.get("MESSAGE.Module_not_found_for_editing").subscribe(R=>{this.cmsToastrService.typeError(R)}):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(R=>{this.formInfo.submitResultMessage=R}),this.formInfo.submitResultMessage=s.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.formInfo.submitResultMessage=n}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.coreUserSupportAccessService.ServiceEdit(this.dataModel).subscribe({next:n=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=n,n.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=n.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(e)},error:n=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorModuleEntitySelect(e){this.dataModel.moduleName="",this.dataModel.moduleEntityName="",e&&e.id>0&&(this.dataModel.moduleName=e.moduleName,this.dataModel.moduleEntityName=e.moduleEntityName)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};X.\u0275fac=function(n){return new(n||X)(v(Me),v(we),v(ce),v(k),v(z),v(J),v(q),v(j))},X.\u0275cmp=P({type:X,selectors:[["app-core-user-support-access-edit"]],viewQuery:function(n,t){if(n&1&&se(Mi,5),n&2){let s;ae(s=re())&&(t.formGroup=s.first)}},standalone:!1,features:[G],decls:34,vars:37,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"d-flex","mb-3"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","minlength","3","maxlength","100","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","minlength","3","maxlength","100","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[1,"pt-1"],["data-trigger-switch","dataModel.accessDeleteRow",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.accessDeleteRow","name","dataModel.accessDeleteRow",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessDeleteRow",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRow",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRow","name","dataModel.accessWatchRow",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRow",1,"custom-control-label"],["data-trigger-switch","dataModel.accessCountRow",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessCountRow","name","dataModel.accessCountRow",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessCountRow",1,"custom-control-label"],["data-trigger-switch","dataModel.accessEditRow",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessEditRow","name","dataModel.accessEditRow",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessEditRow",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAddRow",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAddRow","name","dataModel.accessAddRow",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAddRow",1,"custom-control-label"],["data-trigger-switch","dataModel.accessExportFile",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessExportFile","name","dataModel.accessExportFile",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessExportFile",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherSiteId",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherSiteId","name","dataModel.accessWatchRowOtherSiteId",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherSiteId",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherCreatedBy",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherCreatedBy","name","dataModel.accessWatchRowOtherCreatedBy",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherCreatedBy",1,"custom-control-label"],["data-trigger-switch","dataModel.accessCountRowOtherSiteId",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessCountRowOtherSiteId","name","dataModel.accessCountRowOtherSiteId",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessCountRowOtherSiteId",1,"custom-control-label"],["data-trigger-switch","dataModel.accessCountRowOtherCreatedBy",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessCountRowOtherCreatedBy","name","dataModel.accessCountRowOtherCreatedBy",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessCountRowOtherCreatedBy",1,"custom-control-label"],["data-trigger-switch","dataModel.accessEditRowOtherSiteId",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessEditRowOtherSiteId","name","dataModel.accessEditRowOtherSiteId",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessEditRowOtherSiteId",1,"custom-control-label"],["data-trigger-switch","dataModel.accessEditRowOtherCreatedBy",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessEditRowOtherCreatedBy","name","dataModel.accessEditRowOtherCreatedBy",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessEditRowOtherCreatedBy",1,"custom-control-label"],["data-trigger-switch","dataModel.accessDeleteRowOtherCreatedBy",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessDeleteRowOtherCreatedBy","name","dataModel.accessDeleteRowOtherCreatedBy",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessDeleteRowOtherCreatedBy",1,"custom-control-label"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(n,t){if(n&1){let s=_();r(0,"div",3),f(1,"app-progress-spinner",4),r(2,"div",5)(3,"p",6),d(4),a(),r(5,"p"),d(6),g(7,"translate"),a(),f(8,"app-cms-form-result-message",7),r(9,"form",8,0),b("ngSubmit",function(){return p(s),u(t.onFormSubmit())}),h(11,Ii,1,5,"app-cms-enum-record-status-selector",9),f(12,"app-cms-site-selector",10),g(13,"translate"),f(14,"app-cms-user-selector",10),g(15,"translate"),r(16,"app-core-module-entity-selector",11),g(17,"translate"),b("optionChange",function(C){return p(s),u(t.onActionSelectorModuleEntitySelect(C))}),a(),h(18,yi,8,8,"div",12),h(19,vi,8,8,"div",12),h(20,bi,8,2,"div",13),h(21,Ai,8,2,"div",13),h(22,xi,8,2,"div",13),h(23,Ti,8,2,"div",13),h(24,Ui,8,2,"div",13),h(25,Ni,8,2,"div",13),h(26,Oi,8,2,"div",13),h(27,Di,8,2,"div",13),h(28,Bi,8,2,"div",13),h(29,Wi,8,2,"div",13),h(30,ki,8,2,"div",13),h(31,Vi,8,2,"div",13),h(32,Li,8,2,"div",13),h(33,Fi,9,7,"div",14),a()()()}n&2&&(o(),M("optionsInfoAreaId",t.constructorInfoAreaId),o(3),m(" ",t.formInfo.formTitle," "),o(2),m(" ",w(7,29,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),M("formInfo",t.formInfo),o(3),S(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),M("optionDisabled",!(t.fieldsInfo.moduleName!=null&&t.fieldsInfo.moduleName.accessEditField))("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",w(13,31,"TITLE.WEBSITE")),o(2),M("optionDisabled",!(t.fieldsInfo.moduleName!=null&&t.fieldsInfo.moduleName.accessEditField))("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",w(15,33,"TITLE.USER")),o(2),M("optionDisabled",!(t.fieldsInfo.moduleName!=null&&t.fieldsInfo.moduleName.accessEditField))("optionPlaceholder",w(17,35,"TITLE.MODULE")),o(2),S(t.fieldsInfo.moduleName!=null&&t.fieldsInfo.moduleName.accessWatchField?18:-1),o(),S(t.fieldsInfo.moduleEntityName!=null&&t.fieldsInfo.moduleEntityName.accessWatchField?19:-1),o(),S(t.fieldsInfo.accessDeleteRow!=null&&t.fieldsInfo.accessDeleteRow.accessWatchField?20:-1),o(),S(t.fieldsInfo.accessWatchRow!=null&&t.fieldsInfo.accessWatchRow.accessWatchField?21:-1),o(),S(t.fieldsInfo.accessCountRow!=null&&t.fieldsInfo.accessCountRow.accessWatchField?22:-1),o(),S(t.fieldsInfo.accessEditRow!=null&&t.fieldsInfo.accessEditRow.accessWatchField?23:-1),o(),S(t.fieldsInfo.accessAddRow!=null&&t.fieldsInfo.accessAddRow.accessWatchField?24:-1),o(),S(t.fieldsInfo.accessExportFile!=null&&t.fieldsInfo.accessExportFile.accessWatchField?25:-1),o(),S(t.fieldsInfo.accessWatchRowOtherSiteId!=null&&t.fieldsInfo.accessWatchRowOtherSiteId.accessWatchField?26:-1),o(),S(t.fieldsInfo.accessWatchRowOtherCreatedBy!=null&&t.fieldsInfo.accessWatchRowOtherCreatedBy.accessWatchField?27:-1),o(),S(t.fieldsInfo.accessCountRowOtherSiteId!=null&&t.fieldsInfo.accessCountRowOtherSiteId.accessWatchField?28:-1),o(),S(t.fieldsInfo.accessCountRowOtherCreatedBy!=null&&t.fieldsInfo.accessCountRowOtherCreatedBy.accessWatchField?29:-1),o(),S(t.fieldsInfo.accessEditRowOtherSiteId!=null&&t.fieldsInfo.accessEditRowOtherSiteId.accessWatchField?30:-1),o(),S(t.fieldsInfo.accessEditRowOtherCreatedBy!=null&&t.fieldsInfo.accessEditRowOtherCreatedBy.accessWatchField?31:-1),o(),S(t.fieldsInfo.accessDeleteRowOtherCreatedBy!=null&&t.fieldsInfo.accessDeleteRowOtherCreatedBy.accessWatchField?32:-1),o(),S(t.formInfo.submitButtonEnabled?33:-1))},dependencies:[he,me,de,pe,ue,Se,_e,Ce,fe,ge,H,Ee,ve,Ae,Ie,Re,xe,Q],encapsulation:2});var Ne=X;var Pi=()=>[5,10,20,100],Gi=i=>({display:i});function qi(i,c){if(i&1&&f(0,"app-core-user-header",3),i&2){let e=l();M("optionId",e.requestLinkUserId)}}function Hi(i,c){if(i&1){let e=_();r(0,"div",16)(1,"a",45),b("click",function(){p(e);let t=l();return u(t.onActionButtonNewRow())}),f(2,"i",46)(3,"br"),a(),r(4,"p",20),d(5),g(6,"translate"),a()()}i&2&&(o(5),m(" ",w(6,1,"ACTION.ADD")," "))}function ji(i,c){if(i&1){let e=_();r(0,"div",16)(1,"a",47),b("click",function(){p(e);let t=l();return u(t.onActionButtonEditRow(t.tableRowSelected))}),f(2,"i",48)(3,"br"),a(),r(4,"p",20),d(5),g(6,"translate"),a()()}i&2&&(o(5),m(" ",w(6,1,"ACTION.EDIT")," "))}function Qi(i,c){if(i&1){let e=_();r(0,"div",16)(1,"a",49),b("click",function(){p(e);let t=l();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),f(2,"i",50)(3,"br"),a(),r(4,"p",20),d(5),g(6,"translate"),a()()}i&2&&(o(5),m(" ",w(6,1,"ACTION.DELETE")," "))}function zi(i,c){if(i&1&&(r(0,"mat-header-cell",51),d(1),a()),i&2){let e=l();o(),m(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ji(i,c){if(i&1&&f(0,"select",53),i&2){let e=l().$implicit,n=l();M("contentService",n.contentService)("row",e)("ngStyle",Le(3,Gi,e.linkSiteId===(n.tableRowSelected==null?null:n.tableRowSelected.linkSiteId)&&e.linkUserId===(n.tableRowSelected==null?null:n.tableRowSelected.linkUserId)?"":"none"))}}function Ki(i,c){if(i&1&&(r(0,"mat-cell",52),g(1,"statusCellClass"),f(2,"i",52),g(3,"statusIconClass"),h(4,Ji,1,5,"select",53),a()),i&2){let e=c.$implicit,n=l();M("ngClass",w(1,3,e.recordStatus)),o(2),M("ngClass",w(3,5,e.recordStatus)),o(2),S(!(n.dataModelResult==null||n.dataModelResult.access==null)&&n.dataModelResult.access.accessEditRow?4:-1)}}function Xi(i,c){if(i&1&&(r(0,"mat-header-cell",51),d(1),a()),i&2){let e=l();o(),m(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Yi(i,c){if(i&1&&(r(0,"mat-cell"),d(1),g(2,"cmssiteinfo"),g(3,"async"),a()),i&2){let e=c.$implicit;o(),m(" ",w(3,3,w(2,1,e.linkSiteId))," ")}}function Zi(i,c){if(i&1&&(r(0,"mat-header-cell",51),d(1),a()),i&2){let e=l();o(),m(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function $i(i,c){if(i&1&&(r(0,"mat-cell"),d(1),g(2,"cmsuserinfo"),g(3,"async"),a()),i&2){let e=c.$implicit;o(),m(" ",w(3,3,w(2,1,e.linkUserId))," ")}}function eo(i,c){if(i&1&&(r(0,"mat-header-cell",51),d(1),a()),i&2){let e=l();o(),m(" ",e.fieldsInfo.moduleName==null?null:e.fieldsInfo.moduleName.fieldTitle," ")}}function to(i,c){if(i&1&&(r(0,"mat-cell"),d(1),a()),i&2){let e=c.$implicit;o(),m(" ",e.moduleName," ")}}function io(i,c){if(i&1&&(r(0,"mat-header-cell",51),d(1),a()),i&2){let e=l();o(),m(" ",e.fieldsInfo.moduleEntityName==null?null:e.fieldsInfo.moduleEntityName.fieldTitle," ")}}function oo(i,c){if(i&1&&(r(0,"mat-cell"),d(1),a()),i&2){let e=c.$implicit;o(),m(" ",e.moduleEntityName," ")}}function no(i,c){i&1&&(r(0,"mat-header-cell",51),d(1),g(2,"translate"),a()),i&2&&(o(),m(" ",w(2,1,"TITLE.Access_Add_Row")," "))}function so(i,c){if(i&1&&(r(0,"mat-cell"),f(1,"i",52),g(2,"boolclass"),a()),i&2){let e=c.$implicit;o(),M("ngClass",w(2,1,e.accessAddRow))}}function ao(i,c){if(i&1&&(r(0,"mat-header-cell",51),d(1),a()),i&2){let e=l();o(),m(" ",e.fieldsInfo.accessWatchRow==null?null:e.fieldsInfo.accessWatchRow.fieldTitle," ")}}function ro(i,c){if(i&1&&(r(0,"mat-cell"),f(1,"i",52),g(2,"boolclass"),a()),i&2){let e=c.$implicit;o(),M("ngClass",w(2,1,e.accessWatchRow))}}function lo(i,c){i&1&&(r(0,"mat-header-cell",51),d(1),g(2,"translate"),a()),i&2&&(o(),m(" ",w(2,1,"TITLE.Access_Edit_Row")," "))}function co(i,c){if(i&1&&(r(0,"mat-cell"),f(1,"i",52),g(2,"boolclass"),a()),i&2){let e=c.$implicit;o(),M("ngClass",w(2,1,e.accessEditRow))}}function mo(i,c){i&1&&(r(0,"mat-header-cell",51),d(1),g(2,"translate"),a()),i&2&&(o(),m(" ",w(2,1,"TITLE.Access_Delete_Row")," "))}function po(i,c){if(i&1&&(r(0,"mat-cell"),f(1,"i",52),g(2,"boolclass"),a()),i&2){let e=c.$implicit;o(),M("ngClass",w(2,1,e.accessDeleteRow))}}function uo(i,c){i&1&&(r(0,"mat-header-cell",51),d(1),g(2,"translate"),a()),i&2&&(o(),m(" ",w(2,1,"TITLE.Access_Count_Row")," "))}function fo(i,c){if(i&1&&(r(0,"mat-cell"),f(1,"i",52),g(2,"boolclass"),a()),i&2){let e=c.$implicit;o(),M("ngClass",w(2,1,e.accessCountRow))}}function Co(i,c){i&1&&(r(0,"mat-header-cell"),d(1),g(2,"translate"),a()),i&2&&(o(),m(" ",w(2,1,"TITLE.OPTION")," "))}function ho(i,c){if(i&1&&(r(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),d(3,"more_vert"),a()(),f(4,"mat-menu",null,2),a()),i&2){let e=N(5);o(),M("matMenuTriggerFor",e)}}function So(i,c){i&1&&f(0,"mat-header-row")}function _o(i,c){if(i&1){let e=_();r(0,"mat-row",56),b("click",function(t){let s=p(e).$implicit,R=l();return u(R.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=p(e).$implicit,R=l();return u(R.onActionTableRowSelect(s,t))}),a()}if(i&2){let e=c.$implicit,n=l();De("ntk-row-selected",e.linkSiteId===(n.tableRowSelected==null?null:n.tableRowSelected.linkSiteId)&&e.linkUserId===(n.tableRowSelected==null?null:n.tableRowSelected.linkUserId))}}var Y=class Y extends Rt{constructor(e,n,t,s,R,C,F,Z,wo,Mo,jt,Io){super(e,new W,jt,R,Z);this.contentService=e;this.cmsToastrService=n;this.cmsConfirmationDialogService=t;this.router=s;this.tokenHelper=R;this.activatedRoute=C;this.cdr=F;this.translate=Z;this.cmsStoreService=wo;this.pageInfo=Mo;this.publicHelper=jt;this.dialog=Io;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestModuleName="";this.requestModuleEntityName="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new le;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","linkUserId","linkSiteId","ModuleName","ModuleEntityName","AccessAddRow","AccessWatchRow","AccessEditRow","AccessDeleteRow","AccessCountRow"];this.tabledisplayedColumnsMobileSource=["recordStatus","linkUserId","linkSiteId","ModuleName","ModuleEntityName","AccessAddRow","AccessWatchRow","AccessEditRow","AccessDeleteRow","AccessCountRow"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestModuleName=this.activatedRoute.snapshot.paramMap.get("ModuleName"),this.requestModuleEntityName=this.activatedRoute.snapshot.paramMap.get("ModuleEntityName"),this.optionsSearch.parentMethods={onSubmit:B=>this.onSubmitOptionsSearch(B)},this.filteModelContent.sortColumn="linkSiteId",this.filteModelContent.sortType=ee.Descending,this.requestLinkSiteId>0){let B=new U;B.propertyName="linkSiteId",B.value=this.requestLinkSiteId,this.filteModelContent.filters.push(B)}if(this.requestLinkUserId>0){let B=new U;B.propertyName="linkUserId",B.value=this.requestLinkUserId,this.filteModelContent.filters.push(B)}this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>We(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new W);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(n.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new U;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,n.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new U;t.propertyAnyName="linkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,n.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new U;t.propertyAnyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,n.filters.push(t)}this.contentService.ServiceGetAllEditor(n).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ee.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ee.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ee.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Te,{height:"90%",panelClass:e,enterAnimationDuration:te.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:te.cmsViewConfig.exitAnimationDuration,data:{linkSiteId:this.requestLinkSiteId,linkUserId:this.requestLinkUserId,moduleName:this.requestModuleName,moduleEntityName:this.requestModuleEntityName}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.linkSiteId||e.linkSiteId===0||!e.linkUserId||e.linkUserId===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.publicHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Ne,{height:"90%",panelClass:n,enterAnimationDuration:te.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:te.cmsViewConfig.exitAnimationDuration,data:{linkSiteId:this.tableRowSelected.linkSiteId,linkUserId:this.tableRowSelected.linkUserId,moduleName:this.tableRowSelected.moduleName,moduleEntityName:this.tableRowSelected.moduleEntityName}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.linkSiteId||e.linkSiteId===0||!e.linkUserId||e.linkUserId===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{n=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.linkSiteId+" ) "}),this.cmsConfirmationDialogService.confirm(n,t).then(s=>{if(s){let R=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(C=>{this.publicHelper.processService.processStart(R,C,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:C=>{C.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(R)},error:C=>{this.cmsToastrService.typeError(C),this.publicHelper.processService.processStop(R,!1)}})}}).catch(()=>{})}onActionButtonUserList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}this.onActionTableRowSelect(e),this.router.navigate(["/core/site/userlist/LinkUserSupportAccessId/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(C=>{n.set(C,0)}),this.translate.get("MESSAGE.All").subscribe(C=>{n.set(C,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(C=>{this.publicHelper.processService.processStart(t,C,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:C=>{C.isSuccess?(this.translate.get("MESSAGE.All").subscribe(F=>{n.set(F,C.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(C.errorMessage),this.publicHelper.processService.processStop(t)},error:C=>{this.cmsToastrService.typeError(C),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),R=new U;R.propertyName="recordStatus",R.value=Qe.Available,s.filters.push(R),this.contentService.ServiceGetCount(s).subscribe({next:C=>{C.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(F=>{n.set(F,C.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(C.errorMessage),this.publicHelper.processService.processStop(t)},error:C=>{this.cmsToastrService.typeError(C),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Y.\u0275fac=function(n){return new(n||Y)(v(k),v(z),v(be),v(je),v(_t),v(He),v(q),v(j),v(St),v(Mt),v(J),v($e))},Y.\u0275cmp=P({type:Y,selectors:[["app-core-user-support-access-list"]],standalone:!1,features:[G],decls:75,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-users","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","recordStatus"],["mat-sort-header","",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkSiteId"],[4,"matCellDef"],["matColumnDef","linkUserId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","AccessAddRow"],["matColumnDef","AccessWatchRow"],["matColumnDef","AccessEditRow"],["matColumnDef","AccessDeleteRow"],["matColumnDef","AccessCountRow"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(n,t){if(n&1){let s=_();h(0,qi,1,1,"app-core-user-header",3),r(1,"app-cms-html-list",4),y("optionActionGuideNoticeDisplayChange",function(C){return p(s),E(t.viewGuideNotice,C)||(t.viewGuideNotice=C),u(C)}),b("optionOnActionButtonMemoRow",function(){return p(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(s),u(t.onActionButtonPrintRow())}),A(2,5),d(3," -------------------------------------- "),x(),ke(4,6)(5,7),A(6,8),r(7,"a",9),b("click",function(){return p(s),u(t.viewGuideNotice=!t.viewGuideNotice)}),f(8,"i",10),a(),r(9,"a",9),b("click",function(){return p(s),u(t.onActionButtonReload())}),f(10,"i",11),a(),x(),A(11,12),r(12,"a",13),b("click",function(){return p(s),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),f(13,"mat-slide-toggle",14),d(14),g(15,"translate"),a(),r(16,"a",13),b("click",function(){return p(s),u(t.onActionButtonStatist())}),f(17,"mat-slide-toggle",14),d(18),g(19,"translate"),a(),x(),A(20,15),h(21,Hi,7,3,"div",16),x(),A(22,17),h(23,ji,7,3,"div",16),h(24,Qi,7,3,"div",16),r(25,"div",16)(26,"a",18),b("click",function(){return p(s),u(t.onActionButtonUserList(t.tableRowSelected))}),f(27,"i",19),a(),r(28,"p",20),d(29),g(30,"translate"),a()(),x(),A(31,21),r(32,"app-cms-search-list",22),y("optionsChange",function(C){return p(s),E(t.optionsSearch,C)||(t.optionsSearch=C),u(C)}),a(),r(33,"app-cms-statist-list",22),y("optionsChange",function(C){return p(s),E(t.optionsStatist,C)||(t.optionsStatist=C),u(C)}),a(),x(),A(34,23),r(35,"mat-table",24,0),b("matSortChange",function(){p(s);let C=N(36);return u(t.onTableSortData(C))}),A(37,25),T(38,zi,2,1,"mat-header-cell",26)(39,Ki,5,7,"mat-cell",27),x(),A(40,28),T(41,Xi,2,1,"mat-header-cell",26)(42,Yi,4,5,"mat-cell",29),x(),A(43,30),T(44,Zi,2,1,"mat-header-cell",26)(45,$i,4,5,"mat-cell",29),x(),A(46,31),T(47,eo,2,1,"mat-header-cell",26)(48,to,2,1,"mat-cell",29),x(),A(49,32),T(50,io,2,1,"mat-header-cell",26)(51,oo,2,1,"mat-cell",29),x(),A(52,33),T(53,no,3,3,"mat-header-cell",26)(54,so,3,3,"mat-cell",29),x(),A(55,34),T(56,ao,2,1,"mat-header-cell",26)(57,ro,3,3,"mat-cell",29),x(),A(58,35),T(59,lo,3,3,"mat-header-cell",26)(60,co,3,3,"mat-cell",29),x(),A(61,36),T(62,mo,3,3,"mat-header-cell",26)(63,po,3,3,"mat-cell",29),x(),A(64,37),T(65,uo,3,3,"mat-header-cell",26)(66,fo,3,3,"mat-cell",29),x(),A(67,38),T(68,Co,3,3,"mat-header-cell",39)(69,ho,6,1,"mat-cell",40),x(),T(70,So,1,0,"mat-header-row",41)(71,_o,1,2,"mat-row",42),a(),x(),A(72,43),r(73,"mat-paginator",44,1),b("page",function(C){return p(s),u(t.onTablePageingData(C))}),a(),x(),a()}n&2&&(S(t.requestLinkUserId>0?0:-1),o(),M("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),I("optionActionGuideNoticeDisplay",t.viewGuideNotice),M("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),De("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),M("checked",t.optionsSearch.data.show),o(),m("",w(15,27,"ACTION.SEARCH")," "),o(3),M("checked",t.optionsStatist.data.show),o(),m("",w(19,29,"ACTION.STATIST")," "),o(3),S(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?21:-1),o(2),S(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),o(),S(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),o(5),m(" ",w(30,31,"ACTION.USERS")," "),o(3),I("options",t.optionsSearch),o(),I("options",t.optionsStatist),o(2),M("dataSource",t.tableSource),o(35),M("matHeaderRowDef",t.tabledisplayedColumns),o(),M("matRowDefColumns",t.tabledisplayedColumns),o(2),M("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ve(33,Pi)))},dependencies:[Fe,Pe,Ze,et,H,tt,it,ot,nt,st,at,rt,ct,ut,dt,lt,ft,mt,pt,Ct,ht,vt,bt,At,xt,Tt,Wt,Ge,Q,It,Ut,Nt,Ot,wt],encapsulation:2});var ie=Y;var go=[{path:"",data:{title:"ROUTE.CORE.USERSUPPORT"},children:[{path:"",component:ie,data:{title:"ROUTE.CORE.USERSUPPORT"}},{path:"list/LinkSiteId/:LinkSiteId/LinkUserId/:LinkUserId",component:ie,data:{title:"ROUTE.CORE.USERSUPPORT"}}]}],V=class V{};V.\u0275fac=function(e){return new(e||V)},V.\u0275mod=ne({type:V}),V.\u0275inj=oe({imports:[Be.forChild(go),Be]});var Oe=V;var L=class L{};L.\u0275fac=function(e){return new(e||L)},L.\u0275mod=ne({type:L}),L.\u0275inj=oe({providers:[k,be,Ke],imports:[qe,Xe,Oe,Ye.withConfig({warnOnNgModelWithFormControl:"never"}),gt,Dt,Bt]});var Ht=L;export{Ht as CoreUserSupportAccessCmsModule};
