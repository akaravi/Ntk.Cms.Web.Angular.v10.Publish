import{a as Ai}from"./chunk-YEI5AAB6.js";import{a as it}from"./chunk-WA6KGQQ5.js";import{a as dt}from"./chunk-6NXIIVVZ.js";import{a as tt}from"./chunk-OZT74ZGQ.js";import{a as et}from"./chunk-WHBR6MPD.js";import{a as Ko}from"./chunk-H4H3JI4G.js";import{a as Tt}from"./chunk-OD2LYV6P.js";import{a as _t}from"./chunk-TH4EAZQW.js";import{a as Ct}from"./chunk-3AOIB6OM.js";import{a as gt}from"./chunk-HTF4CIHY.js";import{c as Ke,d as $e,e as Xe,g as Ye,h as Ze}from"./chunk-PEHJ7D5O.js";import{a as ct,b as mt}from"./chunk-EYHHKFE2.js";import{b as lt,c as ze,e as Je}from"./chunk-534YGQ55.js";import{a as ht}from"./chunk-H44OVLMF.js";import{b as wt}from"./chunk-JLVSG5DW.js";import"./chunk-ELIKYOAP.js";import{a as _e}from"./chunk-YCYAAXYE.js";import{a as Qe}from"./chunk-FFZUFCG6.js";import{a as Z,d as ee}from"./chunk-LUFO2APN.js";import{b as at,e as We,f as j}from"./chunk-ZURZCEBB.js";import{$a as ge,Ab as He,Ba as po,Bb as Fe,Ca as uo,Cb as je,D as bi,Da as fo,Db as qe,E as Mi,Fc as G,G as wi,Ic as H,Ka as X,Kc as F,La as Y,Ma as Ae,N as Qo,Nc as Jo,O as zo,Qb as P,Rb as N,W as Ei,Z as mo,Za as ke,ba as Ee,eb as ye,fb as Re,hb as De,lb as Le,m as co,mb as xe,n as vi,nb as Ue,q as Ti,r as jo,t as qo,ub as Be,v as Ii,vb as Ve,w as Wo,wb as Oe,xb as Pe,yb as Ne,zb as Ge}from"./chunk-SRSDDG27.js";import{$b as ve,$e as Vt,$f as Ht,Aq as q,Ba as bt,Db as J,Eb as K,Fa as n,Fb as $,Id as Me,Jb as W,Jc as nt,Kc as _i,Lb as ie,Lc as O,Ld as x,Oa as S,Ob as m,Od as rt,Pb as pt,Pc as St,Qb as p,Qe as Rt,Rb as gi,Rc as Te,Rd as yt,Re as Dt,Sa as U,Sd as R,Se as Lt,Ta as lo,Ub as A,Vb as k,Wa as z,Wb as y,Wd as D,Wf as Ot,Xc as No,Xd as we,Xf as Pt,Y as ao,Ya as T,Ye as xt,Yf as Nt,Ze as Ut,Zf as Gt,_e as Bt,_f as It,ac as Ce,ag as Ft,bf as Mt,bg as jt,ce as Q,cg as st,da as h,dc as g,ea as C,ec as v,fc as se,ge as Ho,kb as d,lb as a,mb as s,nb as _,qe as Fo,rb as I,rd as Ie,sb as b,sd as Go,tb as ne,td as be,ub as w,wc as V,xb as M,zb as f,zd as Po}from"./chunk-G2FVSEI6.js";import{i as B}from"./chunk-SEDBTTTN.js";var en=["vform"];function tn(i,r){if(i&1){let e=w();a(0,"app-cms-enum-record-status-selector",7),y("modelChange",function(t){h(e);let l=f();return k(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),C(t)}),s()}if(i&2){let e=f();A("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function on(i,r){if(i&1){let e=w();a(0,"div",8)(1,"button",9),M("click",function(){h(e);let t=f();return C(t.onFormCancel())}),_(2,"i",10),m(3),g(4,"translate"),s()()}i&2&&(n(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var ki=class ki extends ct{constructor(e,o,t,l,u,c,L,oe,te,le){super(l,new Ft,le,te);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenActivationService=l;this.cmsToastrService=u;this.tokenHelper=c;this.cmsStoreService=L;this.cdr=oe;this.translate=te;this.publicHelper=le;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new R;this.dataModel=new Ft;this.formInfo=new ee;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.setAccessDataType(rt.Editor),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ki.\u0275fac=function(o){return new(o||ki)(S(Y),S(X),S(Q),S(xt),S(F),S(H),S(G),S(V),S(P),S(j))},ki.\u0275cmp=U({type:ki,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(o,t){if(o&1&&J(en,5),o&2){let l;K(l=$())&&(t.formGroup=l.first)}},standalone:!1,features:[z],decls:14,vars:17,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(a(0,"div",0),_(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),m(4),s(),a(5,"p"),m(6),g(7,"translate"),s(),T(8,tn,1,5,"app-cms-enum-record-status-selector",4),_(9,"app-cms-site-selector",5),g(10,"translate"),_(11,"app-cms-user-selector",5),g(12,"translate"),T(13,on,5,3,"div",6),s()()),o&2&&(n(),d("optionsInfoAreaId",t.constructorInfoAreaId),n(3),p(" ",t.formInfo.formTitle," "),n(2),p(" ",v(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(),d("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(10,13,"TITLE.WEBSITE")),n(2),d("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(12,15,"TITLE.USER")),n(2),d("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[O,lt,ht,mt,Z,N],encapsulation:2});var So=ki;var nn=["vform"];function rn(i,r){if(i&1){let e=w();a(0,"div",8)(1,"button",9),M("click",function(){h(e);let t=f();return C(t.onFormCancel())}),_(2,"i",10),m(3),g(4,"translate"),s()()}i&2&&(n(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var Ri=class Ri{constructor(r,e,o,t,l,u,c,L,oe,te){this.data=r;this.dialogRef=e;this.coreEnumService=o;this.coreTokenActivationService=t;this.cmsToastrService=l;this.tokenHelper=u;this.cmsStoreService=c;this.cdr=L;this.publicHelper=oe;this.translate=te;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new st;this.dataModelResult=new R;this.dataModel=new Ft;this.formInfo=new ee;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("aaaaaaaaaTITLE.VIEWaaaaa").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>B(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ri.\u0275fac=function(e){return new(e||Ri)(S(Y),S(X),S(Q),S(xt),S(F),S(H),S(G),S(V),S(j),S(P))},Ri.\u0275cmp=U({type:Ri,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(e,o){if(e&1&&J(nn,5),e&2){let t;K(t=$())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),_(6,"app-cms-form-result-message",5),s(),a(7,"div",6),T(8,rn,5,3,"div",7),s()),e&2&&(n(),p(" ",o.formInfo.formTitle," "),n(2),d("optionsInfoAreaId",o.constructorInfoAreaId),n(),d("dataModel",o.dataModel)("optionMethod",1),n(2),d("formInfo",o.formInfo),n(2),d("ngIf",o.formInfo.submitButtonEnabled))},dependencies:[O,Z,dt,Qe,N],encapsulation:2});var ho=Ri;var sn=()=>[5,10,20,100],an=i=>({display:i}),ln=i=>({background:i});function cn(i,r){if(i&1&&_(0,"app-core-user-header",52),i&2){let e=f();d("optionId",e.requestLinkUserId)}}function mn(i,r){if(i&1){let e=w();a(0,"a",53),M("click",function(){h(e);let t=f();return C(t.onActionBackToParent())}),_(1,"i",54),s()}}function dn(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",55),M("click",function(){h(e);let t=f();return C(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",56)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),p(" ",v(6,1,"ACTION.EDIT")," "))}function pn(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",57),M("click",function(){h(e);let t=f();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",58)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),p(" ",v(6,1,"ACTION.DELETE")," "))}function un(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",59),M("click",function(){h(e);let t=f();return C(t.onActionButtonViewRow(t.tableRowSelected))}),_(2,"i",60)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),p(" ",v(6,1,"ACTION.VIEW")," "))}function fn(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Sn(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),p(" ",e.id," ")}}function hn(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Cn(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),s()),i&2){let e=r.$implicit;n(),p(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function gn(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function _n(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),s()),i&2){let e=r.$implicit;n(),p(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function vn(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Tn(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),p(" ",e.linkMemberUserId," ")}}function In(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function bn(i,r){if(i&1&&_(0,"select",64),i&2){let e=f().$implicit,o=f();d("contentService",o.contentService)("row",e)("ngStyle",Ce(3,an,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function Mn(i,r){if(i&1&&(a(0,"mat-cell",62),g(1,"statusCellClass"),_(2,"i",62),g(3,"statusIconClass"),T(4,bn,1,5,"select",63),s()),i&2){let e=r.$implicit,o=f();d("ngClass",v(1,3,e.recordStatus)),n(2),d("ngClass",v(3,5,e.recordStatus)),n(2),d("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function wn(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function En(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"enums"),s()),i&2){let e=r.$implicit,o=f();n(),p(" ",se(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function An(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function kn(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"enums"),s()),i&2){let e=r.$implicit,o=f();n(),p(" ",se(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function yn(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Rn(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",62),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),d("ngClass",v(2,1,e.userAccessAdminAllowToAllData))}}function Dn(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Ln(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",62),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),d("ngClass",v(2,1,e.userAccessAdminAllowToProfessionalData))}}function xn(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Un(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",62),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),d("ngClass",v(2,1,e.rememberOnDevice))}}function Bn(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Vn(i,r){if(i&1&&(a(0,"mat-cell",65),m(1),g(2,"localeDateTime"),s()),i&2){let e=r.$implicit;n(),p(" ",v(2,1,e.createdDate)," ")}}function On(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function Pn(i,r){if(i&1&&(a(0,"mat-cell",66),m(1),g(2,"persianDate"),s()),i&2){let e=r.$implicit,o=f();d("ngStyle",Ce(4,ln,o.publicHelper.RowStyleExpireDate(e.expireDate))),n(),p(" ",v(2,2,e.expireDate)," ")}}function Nn(i,r){i&1&&(a(0,"mat-header-cell"),m(1),g(2,"translate"),s()),i&2&&(n(),p(" ",v(2,1,"TITLE.OPTION")," "))}function Gn(i,r){if(i&1&&(a(0,"mat-cell",67)(1,"button",68)(2,"mat-icon"),m(3,"more_vert"),s()(),_(4,"mat-menu",null,2),s()),i&2){let e=W(5);n(),d("matMenuTriggerFor",e)}}function Hn(i,r){i&1&&_(0,"mat-header-row")}function Fn(i,r){if(i&1){let e=w();a(0,"mat-row",69),M("click",function(t){let l=h(e).$implicit,u=f();return C(u.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=h(e).$implicit,u=f();return C(u.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=r.$implicit,o=f();ie("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Di=class Di extends Ke{constructor(e,o,t,l,u,c,L,oe,te,le,ot,Et){super(e,new Ft,ot,u,L);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=u;this.cdr=c;this.translate=L;this.cmsStoreService=oe;this.router=te;this.pageInfo=le;this.publicHelper=ot;this.dialog=Et;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new we;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new D;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new D;E.propertyName="linkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new D;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=x.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=x.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ft);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new D;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new D;t.propertyAnyName="linkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new D;t.propertyAnyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=x.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(ho,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(So,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(u,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{o.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),u=new D;u.propertyName="recordStatus",u.value=Me.Available,l.filters.push(u),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{o.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Di.\u0275fac=function(o){return new(o||Di)(S(xt),S(F),S(_e),S(Ie),S(H),S(V),S(P),S(G),S(be),S(We),S(j),S(Ae))},Di.\u0275cmp=U({type:Di,selectors:[["app-coretoken-user-list"]],standalone:!1,features:[z],decls:89,vars:38,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=w();T(0,cn,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),y("optionActionGuideNoticeDisplayChange",function(c){return h(l),k(t.viewGuideNotice,c)||(t.viewGuideNotice=c),C(c)}),M("optionOnActionButtonMemoRow",function(){return h(l),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(l),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(l),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(l),C(t.onActionButtonPrintRow())}),I(2,5),m(3," -------------------------------------- "),b(),ne(4,6)(5,7),I(6,8),T(7,mn,2,0,"a",9),a(8,"a",10),M("click",function(){return h(l),C(t.viewGuideNotice=!t.viewGuideNotice)}),_(9,"i",11),s(),a(10,"a",10),M("click",function(){return h(l),C(t.onActionButtonReload())}),_(11,"i",12),s(),b(),I(12,13),a(13,"a",14),M("click",function(){return h(l),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(14,"mat-slide-toggle",15),m(15),g(16,"translate"),s(),a(17,"a",14),M("click",function(){return h(l),C(t.onActionButtonStatist())}),_(18,"mat-slide-toggle",15),m(19),g(20,"translate"),s(),b(),ne(21,16),I(22,17),T(23,dn,7,3,"div",18)(24,pn,7,3,"div",18),a(25,"div",19)(26,"a",20),M("click",function(){return h(l),C(t.onActionButtonViewSiteRow(t.tableRowSelected))}),_(27,"i",21),s(),a(28,"p",22),m(29),g(30,"translate"),s()(),a(31,"div",19)(32,"a",20),M("click",function(){return h(l),C(t.onActionButtonViewUserRow(t.tableRowSelected))}),_(33,"i",23)(34,"br"),s(),a(35,"p",22),m(36),g(37,"translate"),s()(),T(38,un,7,3,"div",18),b(),I(39,24),a(40,"app-cms-search-list",25),y("optionsChange",function(c){return h(l),k(t.optionsSearch,c)||(t.optionsSearch=c),C(c)}),s(),a(41,"app-cms-statist-list",25),y("optionsChange",function(c){return h(l),k(t.optionsStatist,c)||(t.optionsStatist=c),C(c)}),s(),b(),I(42,26),a(43,"mat-table",27,0),M("matSortChange",function(){h(l);let c=W(44);return C(t.onTableSortData(c))}),I(45,28),T(46,fn,2,1,"mat-header-cell",29)(47,Sn,2,1,"mat-cell",30),b(),I(48,31),T(49,hn,2,1,"mat-header-cell",29)(50,Cn,4,5,"mat-cell",30),b(),I(51,32),T(52,gn,2,1,"mat-header-cell",29)(53,_n,4,5,"mat-cell",30),b(),I(54,33),T(55,vn,2,1,"mat-header-cell",29)(56,Tn,2,1,"mat-cell",30),b(),I(57,34),T(58,In,2,1,"mat-header-cell",29)(59,Mn,5,7,"mat-cell",35),b(),I(60,36),T(61,wn,2,1,"mat-header-cell",29)(62,En,3,4,"mat-cell",30),b(),I(63,37),T(64,An,2,1,"mat-header-cell",29)(65,kn,3,4,"mat-cell",30),b(),I(66,38),T(67,yn,2,1,"mat-header-cell",29)(68,Rn,3,3,"mat-cell",30),b(),I(69,39),T(70,Dn,2,1,"mat-header-cell",29)(71,Ln,3,3,"mat-cell",30),b(),I(72,40),T(73,xn,2,1,"mat-header-cell",29)(74,Un,3,3,"mat-cell",30),b(),I(75,41),T(76,Bn,2,1,"mat-header-cell",29)(77,Vn,3,3,"mat-cell",42),b(),I(78,43),T(79,On,2,1,"mat-header-cell",29)(80,Pn,3,6,"mat-cell",44),b(),I(81,45),T(82,Nn,3,3,"mat-header-cell",46)(83,Gn,6,1,"mat-cell",47),b(),T(84,Hn,1,0,"mat-header-row",48)(85,Fn,1,2,"mat-row",49),s(),b(),I(86,50),a(87,"mat-paginator",51,1),M("page",function(c){return h(l),C(t.onTablePageingData(c))}),s(),b(),s()}o&2&&(d("ngIf",t.requestLinkUserId>0),n(),d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),d("ngIf",t.requestLinkSiteId>0),n(4),ie("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),d("checked",t.optionsSearch.data.show),n(),p("",v(16,29,"ACTION.SEARCH")," "),n(3),d("checked",t.optionsStatist.data.show),n(),p("",v(20,31,"ACTION.STATIST")," "),n(4),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(5),p(" ",v(30,33,"ACTION.SITE")," "),n(7),p(" ",v(37,35,"ACTION.USER")," "),n(2),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),n(2),A("options",t.optionsSearch),n(),A("options",t.optionsStatist),n(2),d("dataSource",t.tableSource),n(41),d("matHeaderRowDef",t.tabledisplayedColumns),n(),d("matRowDefColumns",t.tabledisplayedColumns),n(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(37,sn)))},dependencies:[nt,O,St,Ee,ke,ge,ye,Re,De,Le,xe,Ue,Be,Oe,He,Pe,Ve,Fe,Ne,Ge,je,qe,$e,Xe,Ye,Ze,Ct,tt,Te,N,Tt,it,ze,et,Je,gt,_t,at],encapsulation:2});var Co=Di;var Bi=class Bi{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};Bi.\u0275fac=function(e){return new(e||Bi)},Bi.\u0275cmp=U({type:Bi,selectors:[["app-core-token"]],standalone:!1,decls:1,vars:0,template:function(e,o){e&1&&_(0,"router-outlet")},dependencies:[Go],encapsulation:2});var go=Bi;var jn=["vform"];function qn(i,r){if(i&1){let e=w();a(0,"app-cms-enum-record-status-selector",7),y("modelChange",function(t){h(e);let l=f();return k(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),C(t)}),s()}if(i&2){let e=f();A("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Wn(i,r){if(i&1){let e=w();a(0,"div",8)(1,"button",9),M("click",function(){h(e);let t=f();return C(t.onFormCancel())}),_(2,"i",10),m(3),g(4,"translate"),s()()}i&2&&(n(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var Vi=class Vi extends ct{constructor(e,o,t,l,u,c,L,oe,te,le){super(l,new Gt,c,le);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreLogTokenMicroServiceService=l;this.cmsToastrService=u;this.publicHelper=c;this.cdr=L;this.tokenHelper=oe;this.cmsStoreService=te;this.translate=le;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new R;this.dataModel=new Gt;this.formInfo=new ee;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreLogTokenMicroServiceService.setAccessLoad(),this.coreLogTokenMicroServiceService.setAccessDataType(rt.Editor),this.coreLogTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Vi.\u0275fac=function(o){return new(o||Vi)(S(Y),S(X),S(Q),S(Dt),S(F),S(j),S(V),S(H),S(G),S(P))},Vi.\u0275cmp=U({type:Vi,selectors:[["app-coretoken-microservicelog-edit"]],viewQuery:function(o,t){if(o&1&&J(jn,5),o&2){let l;K(l=$())&&(t.formGroup=l.first)}},standalone:!1,features:[z],decls:14,vars:17,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(a(0,"div",0),_(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),m(4),s(),a(5,"p"),m(6),g(7,"translate"),s(),T(8,qn,1,5,"app-cms-enum-record-status-selector",4),_(9,"app-cms-site-selector",5),g(10,"translate"),_(11,"app-cms-user-selector",5),g(12,"translate"),T(13,Wn,5,3,"div",6),s()()),o&2&&(n(),d("optionsInfoAreaId",t.constructorInfoAreaId),n(3),p(" ",t.formInfo.formTitle," "),n(2),p(" ",v(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(),d("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(10,13,"TITLE.WEBSITE")),n(2),d("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(12,15,"TITLE.USER")),n(2),d("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[O,lt,ht,mt,Z,N],encapsulation:2});var _o=Vi;var Qn=["vform"];function zn(i,r){if(i&1){let e=w();a(0,"div",8)(1,"button",9),M("click",function(){h(e);let t=f();return C(t.onFormCancel())}),_(2,"i",10),m(3),g(4,"translate"),s()()}i&2&&(n(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var Oi=class Oi{constructor(r,e,o,t,l,u,c,L,oe,te){this.data=r;this.dialogRef=e;this.coreEnumService=o;this.coreLogTokenMicroServiceService=t;this.cmsToastrService=l;this.tokenHelper=u;this.cmsStoreService=c;this.cdr=L;this.publicHelper=oe;this.translate=te;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new st;this.dataModelResult=new R;this.dataModel=new Gt;this.formInfo=new ee;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>B(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreLogTokenMicroServiceService.setAccessLoad(),this.coreLogTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Oi.\u0275fac=function(e){return new(e||Oi)(S(Y),S(X),S(Q),S(Dt),S(F),S(H),S(G),S(V),S(j),S(P))},Oi.\u0275cmp=U({type:Oi,selectors:[["app-core-token-microservicelog-view"]],viewQuery:function(e,o){if(e&1&&J(Qn,5),e&2){let t;K(t=$())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),_(6,"app-cms-form-result-message",5),s(),a(7,"div",6),T(8,zn,5,3,"div",7),s()),e&2&&(n(),p(" ",o.formInfo.formTitle," "),n(2),d("optionsInfoAreaId",o.constructorInfoAreaId),n(),d("dataModel",o.dataModel)("optionMethod",1),n(2),d("formInfo",o.formInfo),n(2),d("ngIf",o.formInfo.submitButtonEnabled))},dependencies:[O,Z,dt,Qe,N],encapsulation:2});var vo=Oi;var Jn=()=>[5,10,20,100],Kn=i=>({display:i}),$n=i=>({background:i});function Xn(i,r){if(i&1&&_(0,"app-core-user-header",52),i&2){let e=f();d("optionId",e.requestLinkUserId)}}function Yn(i,r){if(i&1){let e=w();a(0,"a",53),M("click",function(){h(e);let t=f();return C(t.onActionBackToParent())}),_(1,"i",54),s()}}function Zn(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",55),M("click",function(){h(e);let t=f();return C(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",56)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),p(" ",v(6,1,"ACTION.EDIT")," "))}function er(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",57),M("click",function(){h(e);let t=f();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",58)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),p(" ",v(6,1,"ACTION.DELETE")," "))}function tr(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",59),M("click",function(){h(e);let t=f();return C(t.onActionButtonViewRow(t.tableRowSelected))}),_(2,"i",60)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),p(" ",v(6,1,"ACTION.VIEW")," "))}function ir(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function or(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),p(" ",e.id," ")}}function nr(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function rr(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),s()),i&2){let e=r.$implicit;n(),p(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function sr(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function ar(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),s()),i&2){let e=r.$implicit;n(),p(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function lr(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function cr(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),p(" ",e.linkMemberUserId," ")}}function mr(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function dr(i,r){if(i&1&&_(0,"select",64),i&2){let e=f().$implicit,o=f();d("contentService",o.contentService)("row",e)("ngStyle",Ce(3,Kn,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function pr(i,r){if(i&1&&(a(0,"mat-cell",62),g(1,"statusCellClass"),_(2,"i",62),g(3,"statusIconClass"),T(4,dr,1,5,"select",63),s()),i&2){let e=r.$implicit,o=f();d("ngClass",v(1,3,e.recordStatus)),n(2),d("ngClass",v(3,5,e.recordStatus)),n(2),d("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function ur(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function fr(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"enums"),s()),i&2){let e=r.$implicit,o=f();n(),p(" ",se(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Sr(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function hr(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"enums"),s()),i&2){let e=r.$implicit,o=f();n(),p(" ",se(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Cr(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function gr(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",62),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),d("ngClass",v(2,1,e.userAccessAdminAllowToAllData))}}function _r(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function vr(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",62),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),d("ngClass",v(2,1,e.userAccessAdminAllowToProfessionalData))}}function Tr(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Ir(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",62),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),d("ngClass",v(2,1,e.rememberOnDevice))}}function br(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Mr(i,r){if(i&1&&(a(0,"mat-cell",65),m(1),g(2,"localeDateTime"),s()),i&2){let e=r.$implicit;n(),p(" ",v(2,1,e.createdDate)," ")}}function wr(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function Er(i,r){if(i&1&&(a(0,"mat-cell",66),m(1),g(2,"persianDate"),s()),i&2){let e=r.$implicit,o=f();d("ngStyle",Ce(4,$n,o.publicHelper.RowStyleExpireDate(e.expireDate))),n(),p(" ",v(2,2,e.expireDate)," ")}}function Ar(i,r){i&1&&(a(0,"mat-header-cell"),m(1),g(2,"translate"),s()),i&2&&(n(),p(" ",v(2,1,"TITLE.OPTION")," "))}function kr(i,r){if(i&1&&(a(0,"mat-cell",67)(1,"button",68)(2,"mat-icon"),m(3,"more_vert"),s()(),_(4,"mat-menu",null,2),s()),i&2){let e=W(5);n(),d("matMenuTriggerFor",e)}}function yr(i,r){i&1&&_(0,"mat-header-row")}function Rr(i,r){if(i&1){let e=w();a(0,"mat-row",69),M("click",function(t){let l=h(e).$implicit,u=f();return C(u.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=h(e).$implicit,u=f();return C(u.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=r.$implicit,o=f();ie("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Pi=class Pi extends Ke{constructor(e,o,t,l,u,c,L,oe,te,le,ot,Et){super(e,new Gt,ot,u,L);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=u;this.cdr=c;this.translate=L;this.cmsStoreService=oe;this.router=te;this.pageInfo=le;this.publicHelper=ot;this.dialog=Et;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new we;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new D;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new D;E.propertyName="linkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new D;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=x.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=x.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Gt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new D;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new D;t.propertyAnyName="linkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new D;t.propertyAnyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=x.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(vo,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(_o,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(u,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{o.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),u=new D;u.propertyName="recordStatus",u.value=Me.Available,l.filters.push(u),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{o.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Pi.\u0275fac=function(o){return new(o||Pi)(S(Dt),S(F),S(_e),S(Ie),S(H),S(V),S(P),S(G),S(be),S(We),S(j),S(Ae))},Pi.\u0275cmp=U({type:Pi,selectors:[["app-coretoken-microservicelog-list"]],standalone:!1,features:[z],decls:86,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=w();T(0,Xn,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),y("optionActionGuideNoticeDisplayChange",function(c){return h(l),k(t.viewGuideNotice,c)||(t.viewGuideNotice=c),C(c)}),M("optionOnActionButtonMemoRow",function(){return h(l),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(l),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(l),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(l),C(t.onActionButtonPrintRow())}),I(2,5),m(3," -------------------------------------- "),b(),ne(4,6)(5,7),I(6,8),T(7,Yn,2,0,"a",9),a(8,"a",10),M("click",function(){return h(l),C(t.viewGuideNotice=!t.viewGuideNotice)}),_(9,"i",11),s(),a(10,"a",10),M("click",function(){return h(l),C(t.onActionButtonReload())}),_(11,"i",12),s(),b(),I(12,13),a(13,"a",14),M("click",function(){return h(l),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(14,"mat-slide-toggle",15),m(15),g(16,"translate"),s(),b(),ne(17,16),I(18,17),T(19,Zn,7,3,"div",18)(20,er,7,3,"div",18),a(21,"div",19)(22,"a",20),M("click",function(){return h(l),C(t.onActionButtonViewSiteRow(t.tableRowSelected))}),_(23,"i",21)(24,"br"),s(),a(25,"p",22),m(26),g(27,"translate"),s()(),a(28,"div",19)(29,"a",20),M("click",function(){return h(l),C(t.onActionButtonViewUserRow(t.tableRowSelected))}),_(30,"i",23)(31,"br"),s(),a(32,"p",22),m(33),g(34,"translate"),s()(),T(35,tr,7,3,"div",18),b(),I(36,24),a(37,"app-cms-search-list",25),y("optionsChange",function(c){return h(l),k(t.optionsSearch,c)||(t.optionsSearch=c),C(c)}),s(),a(38,"app-cms-statist-list",25),y("optionsChange",function(c){return h(l),k(t.optionsStatist,c)||(t.optionsStatist=c),C(c)}),s(),b(),I(39,26),a(40,"mat-table",27,0),M("matSortChange",function(){h(l);let c=W(41);return C(t.onTableSortData(c))}),I(42,28),T(43,ir,2,1,"mat-header-cell",29)(44,or,2,1,"mat-cell",30),b(),I(45,31),T(46,nr,2,1,"mat-header-cell",29)(47,rr,4,5,"mat-cell",30),b(),I(48,32),T(49,sr,2,1,"mat-header-cell",29)(50,ar,4,5,"mat-cell",30),b(),I(51,33),T(52,lr,2,1,"mat-header-cell",29)(53,cr,2,1,"mat-cell",30),b(),I(54,34),T(55,mr,2,1,"mat-header-cell",29)(56,pr,5,7,"mat-cell",35),b(),I(57,36),T(58,ur,2,1,"mat-header-cell",29)(59,fr,3,4,"mat-cell",30),b(),I(60,37),T(61,Sr,2,1,"mat-header-cell",29)(62,hr,3,4,"mat-cell",30),b(),I(63,38),T(64,Cr,2,1,"mat-header-cell",29)(65,gr,3,3,"mat-cell",30),b(),I(66,39),T(67,_r,2,1,"mat-header-cell",29)(68,vr,3,3,"mat-cell",30),b(),I(69,40),T(70,Tr,2,1,"mat-header-cell",29)(71,Ir,3,3,"mat-cell",30),b(),I(72,41),T(73,br,2,1,"mat-header-cell",29)(74,Mr,3,3,"mat-cell",42),b(),I(75,43),T(76,wr,2,1,"mat-header-cell",29)(77,Er,3,6,"mat-cell",44),b(),I(78,45),T(79,Ar,3,3,"mat-header-cell",46)(80,kr,6,1,"mat-cell",47),b(),T(81,yr,1,0,"mat-header-row",48)(82,Rr,1,2,"mat-row",49),s(),b(),I(83,50),a(84,"mat-paginator",51,1),M("page",function(c){return h(l),C(t.onTablePageingData(c))}),s(),b(),s()}o&2&&(d("ngIf",t.requestLinkUserId>0),n(),d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),d("ngIf",t.requestLinkSiteId>0),n(4),ie("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),d("checked",t.optionsSearch.data.show),n(),p("",v(16,27,"ACTION.SEARCH")," "),n(4),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(6),p(" ",v(27,29,"ACTION.SITE")," "),n(7),p(" ",v(34,31,"ACTION.USER")," "),n(2),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),n(2),A("options",t.optionsSearch),n(),A("options",t.optionsStatist),n(2),d("dataSource",t.tableSource),n(41),d("matHeaderRowDef",t.tabledisplayedColumns),n(),d("matRowDefColumns",t.tabledisplayedColumns),n(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(33,Jn)))},dependencies:[nt,O,St,Ee,ke,ge,ye,Re,De,Le,xe,Ue,Be,Oe,He,Pe,Ve,Fe,Ne,Ge,je,qe,$e,Xe,Ye,Ze,Ct,tt,Te,N,Tt,it,ze,et,Je,gt,_t,at],encapsulation:2});var To=Pi;var Dr=["vform"];function Lr(i,r){if(i&1){let e=w();a(0,"app-cms-enum-record-status-selector",8),y("modelChange",function(t){h(e);let l=f();return k(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),C(t)}),s()}if(i&2){let e=f();A("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function xr(i,r){if(i&1&&(a(0,"div"),_(1,"div",9),g(2,"prettyjson"),s()),i&2){let e=f();n(),d("innerHTML",v(2,1,e.dataModel),bt)}}function Ur(i,r){if(i&1){let e=w();a(0,"div",10)(1,"button",11),M("click",function(){h(e);let t=f();return C(t.onFormCancel())}),_(2,"i",12),m(3),g(4,"translate"),s()()}i&2&&(n(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var Ni=class Ni extends ct{constructor(e,o,t,l,u,c,L,oe,te,le){super(l,new Nt,te,le);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenMicroServiceService=l;this.cmsToastrService=u;this.tokenHelper=c;this.cmsStoreService=L;this.cdr=oe;this.publicHelper=te;this.translate=le;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new yt;this.dataModel=new Nt;this.formInfo=new ee;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.setAccessDataType(rt.Editor),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ni.\u0275fac=function(o){return new(o||Ni)(S(Y),S(X),S(Q),S(Vt),S(F),S(H),S(G),S(V),S(j),S(P))},Ni.\u0275cmp=U({type:Ni,selectors:[["app-coretoken-microservice-edit"]],viewQuery:function(o,t){if(o&1&&J(Dr,5),o&2){let l;K(l=$())&&(t.formGroup=l.first)}},standalone:!1,features:[z],decls:15,vars:18,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(a(0,"div",0),_(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),m(4),s(),a(5,"p"),m(6),g(7,"translate"),s(),T(8,Lr,1,5,"app-cms-enum-record-status-selector",4),_(9,"app-cms-site-selector",5),g(10,"translate"),_(11,"app-cms-user-selector",5),g(12,"translate"),T(13,xr,3,3,"div",6)(14,Ur,5,3,"div",7),s()()),o&2&&(n(),d("optionsInfoAreaId",t.constructorInfoAreaId),n(3),p(" ",t.formInfo.formTitle," "),n(2),p(" ",v(7,12,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(),d("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(10,14,"TITLE.WEBSITE")),n(2),d("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(12,16,"TITLE.USER")),n(2),d("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),n(),d("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[O,lt,ht,mt,Z,N,wt],encapsulation:2});var Io=Ni;var Br=["vform"];function Vr(i,r){if(i&1){let e=w();a(0,"div",8)(1,"button",9),M("click",function(){h(e);let t=f();return C(t.onFormCancel())}),_(2,"i",10),m(3),g(4,"translate"),s()()}i&2&&(n(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var Gi=class Gi{constructor(r,e,o,t,l,u,c,L,oe,te){this.data=r;this.dialogRef=e;this.coreEnumService=o;this.coreTokenMicroServiceService=t;this.cmsToastrService=l;this.tokenHelper=u;this.cmsStoreService=c;this.cdr=L;this.publicHelper=oe;this.translate=te;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new st;this.dataModelResult=new R;this.dataModel=new Nt;this.formInfo=new ee;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>B(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Gi.\u0275fac=function(e){return new(e||Gi)(S(Y),S(X),S(Q),S(Vt),S(F),S(H),S(G),S(V),S(j),S(P))},Gi.\u0275cmp=U({type:Gi,selectors:[["app-coretoken-microservice-view"]],viewQuery:function(e,o){if(e&1&&J(Br,5),e&2){let t;K(t=$())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),_(6,"app-cms-form-result-message",5),s(),a(7,"div",6),T(8,Vr,5,3,"div",7),s()),e&2&&(n(),p(" ",o.formInfo.formTitle," "),n(2),d("optionsInfoAreaId",o.constructorInfoAreaId),n(),d("dataModel",o.dataModel)("optionMethod",1),n(2),d("formInfo",o.formInfo),n(2),d("ngIf",o.formInfo.submitButtonEnabled))},dependencies:[O,Z,dt,Qe,N],encapsulation:2});var Mo=Gi;var Or=()=>[5,10,20,100],Pr=i=>({display:i}),Nr=i=>({background:i});function Gr(i,r){if(i&1&&_(0,"app-core-user-header",52),i&2){let e=f();d("optionId",e.requestLinkUserId)}}function Hr(i,r){if(i&1){let e=w();a(0,"a",53),M("click",function(){h(e);let t=f();return C(t.onActionBackToParent())}),_(1,"i",54),s()}}function Fr(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",55),M("click",function(){h(e);let t=f();return C(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",56)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),p(" ",v(6,1,"ACTION.EDIT")," "))}function jr(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",57),M("click",function(){h(e);let t=f();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",58)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),p(" ",v(6,1,"ACTION.DELETE")," "))}function qr(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",59),M("click",function(){h(e);let t=f();return C(t.onActionButtonViewRow(t.tableRowSelected))}),_(2,"i",60)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),p(" ",v(6,1,"ACTION.VIEW")," "))}function Wr(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Qr(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),p(" ",e.id," ")}}function zr(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Jr(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),s()),i&2){let e=r.$implicit;n(),p(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function Kr(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function $r(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),s()),i&2){let e=r.$implicit;n(),p(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function Xr(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Yr(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),p(" ",e.linkMemberUserId," ")}}function Zr(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function es(i,r){if(i&1&&_(0,"select",64),i&2){let e=f().$implicit,o=f();d("contentService",o.contentService)("row",e)("ngStyle",Ce(3,Pr,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function ts(i,r){if(i&1&&(a(0,"mat-cell",62),g(1,"statusCellClass"),_(2,"i",62),g(3,"statusIconClass"),T(4,es,1,5,"select",63),s()),i&2){let e=r.$implicit,o=f();d("ngClass",v(1,3,e.recordStatus)),n(2),d("ngClass",v(3,5,e.recordStatus)),n(2),d("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function is(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function os(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"enums"),s()),i&2){let e=r.$implicit,o=f();n(),p(" ",se(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function ns(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function rs(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"enums"),s()),i&2){let e=r.$implicit,o=f();n(),p(" ",se(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function ss(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function as(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",62),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),d("ngClass",v(2,1,e.userAccessAdminAllowToAllData))}}function ls(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function cs(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",62),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),d("ngClass",v(2,1,e.userAccessAdminAllowToProfessionalData))}}function ms(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function ds(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",62),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),d("ngClass",v(2,1,e.rememberOnDevice))}}function ps(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function us(i,r){if(i&1&&(a(0,"mat-cell",65),m(1),g(2,"localeDateTime"),s()),i&2){let e=r.$implicit;n(),p(" ",v(2,1,e.createdDate)," ")}}function fs(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function Ss(i,r){if(i&1&&(a(0,"mat-cell",66),m(1),g(2,"persianDate"),s()),i&2){let e=r.$implicit,o=f();d("ngStyle",Ce(4,Nr,o.publicHelper.RowStyleExpireDate(e.expireDate))),n(),p(" ",v(2,2,e.expireDate)," ")}}function hs(i,r){i&1&&(a(0,"mat-header-cell"),m(1),g(2,"translate"),s()),i&2&&(n(),p(" ",v(2,1,"TITLE.OPTION")," "))}function Cs(i,r){if(i&1&&(a(0,"mat-cell",67)(1,"button",68)(2,"mat-icon"),m(3,"more_vert"),s()(),_(4,"mat-menu",null,2),s()),i&2){let e=W(5);n(),d("matMenuTriggerFor",e)}}function gs(i,r){i&1&&_(0,"mat-header-row")}function _s(i,r){if(i&1){let e=w();a(0,"mat-row",69),M("click",function(t){let l=h(e).$implicit,u=f();return C(u.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=h(e).$implicit,u=f();return C(u.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=r.$implicit,o=f();ie("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Hi=class Hi extends Ke{constructor(e,o,t,l,u,c,L,oe,te,le,ot,Et){super(e,new Nt,ot,u,L);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=u;this.cdr=c;this.translate=L;this.cmsStoreService=oe;this.router=te;this.pageInfo=le;this.publicHelper=ot;this.dialog=Et;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new we;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new D;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new D;E.propertyName="linkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new D;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=x.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=x.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Nt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new D;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new D;t.propertyAnyName="linkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new D;t.propertyAnyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=x.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Mo,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Io,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(u,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{o.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),u=new D;u.propertyName="recordStatus",u.value=Me.Available,l.filters.push(u),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{o.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Hi.\u0275fac=function(o){return new(o||Hi)(S(Vt),S(F),S(_e),S(Ie),S(H),S(V),S(P),S(G),S(be),S(We),S(j),S(Ae))},Hi.\u0275cmp=U({type:Hi,selectors:[["app-coretoken-microservice-list"]],standalone:!1,features:[z],decls:90,vars:38,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=w();T(0,Gr,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),y("optionActionGuideNoticeDisplayChange",function(c){return h(l),k(t.viewGuideNotice,c)||(t.viewGuideNotice=c),C(c)}),M("optionOnActionButtonMemoRow",function(){return h(l),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(l),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(l),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(l),C(t.onActionButtonPrintRow())}),I(2,5),m(3," -------------------------------------- "),b(),ne(4,6)(5,7),I(6,8),T(7,Hr,2,0,"a",9),a(8,"a",10),M("click",function(){return h(l),C(t.viewGuideNotice=!t.viewGuideNotice)}),_(9,"i",11),s(),a(10,"a",10),M("click",function(){return h(l),C(t.onActionButtonReload())}),_(11,"i",12),s(),b(),I(12,13),a(13,"a",14),M("click",function(){return h(l),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(14,"mat-slide-toggle",15),m(15),g(16,"translate"),s(),a(17,"a",14),M("click",function(){return h(l),C(t.onActionButtonStatist())}),_(18,"mat-slide-toggle",15),m(19),g(20,"translate"),s(),b(),ne(21,16),I(22,17),T(23,Fr,7,3,"div",18)(24,jr,7,3,"div",18),a(25,"div",19)(26,"a",20),M("click",function(){return h(l),C(t.onActionButtonViewSiteRow(t.tableRowSelected))}),_(27,"i",21)(28,"br"),s(),a(29,"p",22),m(30),g(31,"translate"),s()(),a(32,"div",19)(33,"a",20),M("click",function(){return h(l),C(t.onActionButtonViewUserRow(t.tableRowSelected))}),_(34,"i",23)(35,"br"),s(),a(36,"p",22),m(37),g(38,"translate"),s()(),T(39,qr,7,3,"div",18),b(),I(40,24),a(41,"app-cms-search-list",25),y("optionsChange",function(c){return h(l),k(t.optionsSearch,c)||(t.optionsSearch=c),C(c)}),s(),a(42,"app-cms-statist-list",25),y("optionsChange",function(c){return h(l),k(t.optionsStatist,c)||(t.optionsStatist=c),C(c)}),s(),b(),I(43,26),a(44,"mat-table",27,0),M("matSortChange",function(){h(l);let c=W(45);return C(t.onTableSortData(c))}),I(46,28),T(47,Wr,2,1,"mat-header-cell",29)(48,Qr,2,1,"mat-cell",30),b(),I(49,31),T(50,zr,2,1,"mat-header-cell",29)(51,Jr,4,5,"mat-cell",30),b(),I(52,32),T(53,Kr,2,1,"mat-header-cell",29)(54,$r,4,5,"mat-cell",30),b(),I(55,33),T(56,Xr,2,1,"mat-header-cell",29)(57,Yr,2,1,"mat-cell",30),b(),I(58,34),T(59,Zr,2,1,"mat-header-cell",29)(60,ts,5,7,"mat-cell",35),b(),I(61,36),T(62,is,2,1,"mat-header-cell",29)(63,os,3,4,"mat-cell",30),b(),I(64,37),T(65,ns,2,1,"mat-header-cell",29)(66,rs,3,4,"mat-cell",30),b(),I(67,38),T(68,ss,2,1,"mat-header-cell",29)(69,as,3,3,"mat-cell",30),b(),I(70,39),T(71,ls,2,1,"mat-header-cell",29)(72,cs,3,3,"mat-cell",30),b(),I(73,40),T(74,ms,2,1,"mat-header-cell",29)(75,ds,3,3,"mat-cell",30),b(),I(76,41),T(77,ps,2,1,"mat-header-cell",29)(78,us,3,3,"mat-cell",42),b(),I(79,43),T(80,fs,2,1,"mat-header-cell",29)(81,Ss,3,6,"mat-cell",44),b(),I(82,45),T(83,hs,3,3,"mat-header-cell",46)(84,Cs,6,1,"mat-cell",47),b(),T(85,gs,1,0,"mat-header-row",48)(86,_s,1,2,"mat-row",49),s(),b(),I(87,50),a(88,"mat-paginator",51,1),M("page",function(c){return h(l),C(t.onTablePageingData(c))}),s(),b(),s()}o&2&&(d("ngIf",t.requestLinkUserId>0),n(),d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),d("ngIf",t.requestLinkSiteId>0),n(4),ie("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),d("checked",t.optionsSearch.data.show),n(),p("",v(16,29,"ACTION.SEARCH")," "),n(3),d("checked",t.optionsStatist.data.show),n(),p("",v(20,31,"ACTION.STATIST")," "),n(4),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(6),p(" ",v(31,33,"ACTION.SITE")," "),n(7),p(" ",v(38,35,"ACTION.USER")," "),n(2),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),n(2),A("options",t.optionsSearch),n(),A("options",t.optionsStatist),n(2),d("dataSource",t.tableSource),n(41),d("matHeaderRowDef",t.tabledisplayedColumns),n(),d("matRowDefColumns",t.tabledisplayedColumns),n(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(37,Or)))},dependencies:[nt,O,St,Ee,ke,ge,ye,Re,De,Le,xe,Ue,Be,Oe,He,Pe,Ve,Fe,Ne,Ge,je,qe,$e,Xe,Ye,Ze,Ct,tt,Te,N,Tt,it,ze,et,Je,gt,_t,at],encapsulation:2});var wo=Hi;var vs=["vform"];function Ts(i,r){if(i&1){let e=w();a(0,"app-cms-enum-record-status-selector",7),y("modelChange",function(t){h(e);let l=f();return k(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),C(t)}),s()}if(i&2){let e=f();A("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Is(i,r){if(i&1){let e=w();a(0,"div",8)(1,"button",9),M("click",function(){h(e);let t=f();return C(t.onFormCancel())}),_(2,"i",10),m(3),g(4,"translate"),s()()}i&2&&(n(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var Fi=class Fi extends ct{constructor(e,o,t,l,u,c,L,oe,te,le){super(l,new Ht,c,le);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreLogTokenConnectionService=l;this.cmsToastrService=u;this.publicHelper=c;this.cdr=L;this.tokenHelper=oe;this.cmsStoreService=te;this.translate=le;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new R;this.dataModel=new Ht;this.formInfo=new ee;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreLogTokenConnectionService.setAccessLoad(),this.coreLogTokenConnectionService.setAccessDataType(rt.Editor),this.coreLogTokenConnectionService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Fi.\u0275fac=function(o){return new(o||Fi)(S(Y),S(X),S(Q),S(Lt),S(F),S(j),S(V),S(H),S(G),S(P))},Fi.\u0275cmp=U({type:Fi,selectors:[["app-coretoken-notificationlog-edit"]],viewQuery:function(o,t){if(o&1&&J(vs,5),o&2){let l;K(l=$())&&(t.formGroup=l.first)}},standalone:!1,features:[z],decls:14,vars:17,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(a(0,"div",0),_(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),m(4),s(),a(5,"p"),m(6),g(7,"translate"),s(),T(8,Ts,1,5,"app-cms-enum-record-status-selector",4),_(9,"app-cms-site-selector",5),g(10,"translate"),_(11,"app-cms-user-selector",5),g(12,"translate"),T(13,Is,5,3,"div",6),s()()),o&2&&(n(),d("optionsInfoAreaId",t.constructorInfoAreaId),n(3),p(" ",t.formInfo.formTitle," "),n(2),p(" ",v(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(),d("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(10,13,"TITLE.WEBSITE")),n(2),d("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(12,15,"TITLE.USER")),n(2),d("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[O,lt,ht,mt,Z,N],encapsulation:2});var Eo=Fi;var bs=["vform"];function Ms(i,r){if(i&1){let e=w();a(0,"div",8)(1,"button",9),M("click",function(){h(e);let t=f();return C(t.onFormCancel())}),_(2,"i",10),m(3),g(4,"translate"),s()()}i&2&&(n(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var ji=class ji{constructor(r,e,o,t,l,u,c,L,oe,te){this.data=r;this.dialogRef=e;this.coreEnumService=o;this.coreLogTokenConnectionService=t;this.cmsToastrService=l;this.tokenHelper=u;this.cmsStoreService=c;this.cdr=L;this.publicHelper=oe;this.translate=te;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new st;this.dataModelResult=new R;this.dataModel=new Ht;this.formInfo=new ee;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>B(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreLogTokenConnectionService.setAccessLoad(),this.coreLogTokenConnectionService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ji.\u0275fac=function(e){return new(e||ji)(S(Y),S(X),S(Q),S(Lt),S(F),S(H),S(G),S(V),S(j),S(P))},ji.\u0275cmp=U({type:ji,selectors:[["app-core-token-notificationlog-view"]],viewQuery:function(e,o){if(e&1&&J(bs,5),e&2){let t;K(t=$())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),_(6,"app-cms-form-result-message",5),s(),a(7,"div",6),T(8,Ms,5,3,"div",7),s()),e&2&&(n(),p(" ",o.formInfo.formTitle," "),n(2),d("optionsInfoAreaId",o.constructorInfoAreaId),n(),d("dataModel",o.dataModel)("optionMethod",1),n(2),d("formInfo",o.formInfo),n(2),d("ngIf",o.formInfo.submitButtonEnabled))},dependencies:[O,Z,dt,Qe,N],encapsulation:2});var Ao=ji;var ws=()=>[5,10,20,100],Es=i=>({display:i}),As=i=>({background:i});function ks(i,r){if(i&1&&_(0,"app-core-user-header",52),i&2){let e=f();d("optionId",e.requestLinkUserId)}}function ys(i,r){if(i&1){let e=w();a(0,"a",53),M("click",function(){h(e);let t=f();return C(t.onActionBackToParent())}),_(1,"i",54),s()}}function Rs(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",55),M("click",function(){h(e);let t=f();return C(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",56)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),p(" ",v(6,1,"ACTION.EDIT")," "))}function Ds(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",57),M("click",function(){h(e);let t=f();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",58)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),p(" ",v(6,1,"ACTION.DELETE")," "))}function Ls(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",59),M("click",function(){h(e);let t=f();return C(t.onActionButtonViewRow(t.tableRowSelected))}),_(2,"i",60)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),p(" ",v(6,1,"ACTION.VIEW")," "))}function xs(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Us(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),p(" ",e.id," ")}}function Bs(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Vs(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),s()),i&2){let e=r.$implicit;n(),p(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function Os(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Ps(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),s()),i&2){let e=r.$implicit;n(),p(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function Ns(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Gs(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),p(" ",e.linkMemberUserId," ")}}function Hs(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Fs(i,r){if(i&1&&_(0,"select",64),i&2){let e=f().$implicit,o=f();d("contentService",o.contentService)("row",e)("ngStyle",Ce(3,Es,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function js(i,r){if(i&1&&(a(0,"mat-cell",62),g(1,"statusCellClass"),_(2,"i",62),g(3,"statusIconClass"),T(4,Fs,1,5,"select",63),s()),i&2){let e=r.$implicit,o=f();d("ngClass",v(1,3,e.recordStatus)),n(2),d("ngClass",v(3,5,e.recordStatus)),n(2),d("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function qs(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Ws(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"enums"),s()),i&2){let e=r.$implicit,o=f();n(),p(" ",se(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Qs(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function zs(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"enums"),s()),i&2){let e=r.$implicit,o=f();n(),p(" ",se(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Js(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Ks(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",62),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),d("ngClass",v(2,1,e.userAccessAdminAllowToAllData))}}function $s(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Xs(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",62),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),d("ngClass",v(2,1,e.userAccessAdminAllowToProfessionalData))}}function Ys(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Zs(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",62),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),d("ngClass",v(2,1,e.rememberOnDevice))}}function ea(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function ta(i,r){if(i&1&&(a(0,"mat-cell",65),m(1),g(2,"localeDateTime"),s()),i&2){let e=r.$implicit;n(),p(" ",v(2,1,e.createdDate)," ")}}function ia(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function oa(i,r){if(i&1&&(a(0,"mat-cell",66),m(1),g(2,"persianDate"),s()),i&2){let e=r.$implicit,o=f();d("ngStyle",Ce(4,As,o.publicHelper.RowStyleExpireDate(e.expireDate))),n(),p(" ",v(2,2,e.expireDate)," ")}}function na(i,r){i&1&&(a(0,"mat-header-cell"),m(1),g(2,"translate"),s()),i&2&&(n(),p(" ",v(2,1,"TITLE.OPTION")," "))}function ra(i,r){if(i&1&&(a(0,"mat-cell",67)(1,"button",68)(2,"mat-icon"),m(3,"more_vert"),s()(),_(4,"mat-menu",null,2),s()),i&2){let e=W(5);n(),d("matMenuTriggerFor",e)}}function sa(i,r){i&1&&_(0,"mat-header-row")}function aa(i,r){if(i&1){let e=w();a(0,"mat-row",69),M("click",function(t){let l=h(e).$implicit,u=f();return C(u.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=h(e).$implicit,u=f();return C(u.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=r.$implicit,o=f();ie("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var qi=class qi extends Ke{constructor(e,o,t,l,u,c,L,oe,te,le,ot,Et){super(e,new Ht,ot,u,L);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=u;this.cdr=c;this.translate=L;this.cmsStoreService=oe;this.router=te;this.pageInfo=le;this.publicHelper=ot;this.dialog=Et;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new we;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new D;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new D;E.propertyName="linkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new D;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=x.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=x.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ht);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new D;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new D;t.propertyAnyName="linkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new D;t.propertyAnyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=x.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Ao,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Eo,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(u,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{o.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),u=new D;u.propertyName="recordStatus",u.value=Me.Available,l.filters.push(u),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{o.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};qi.\u0275fac=function(o){return new(o||qi)(S(Lt),S(F),S(_e),S(Ie),S(H),S(V),S(P),S(G),S(be),S(We),S(j),S(Ae))},qi.\u0275cmp=U({type:qi,selectors:[["app-coretoken-notificationlog-list"]],standalone:!1,features:[z],decls:90,vars:38,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=w();T(0,ks,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),y("optionActionGuideNoticeDisplayChange",function(c){return h(l),k(t.viewGuideNotice,c)||(t.viewGuideNotice=c),C(c)}),M("optionOnActionButtonMemoRow",function(){return h(l),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(l),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(l),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(l),C(t.onActionButtonPrintRow())}),I(2,5),m(3," -------------------------------------- "),b(),ne(4,6)(5,7),I(6,8),T(7,ys,2,0,"a",9),a(8,"a",10),M("click",function(){return h(l),C(t.viewGuideNotice=!t.viewGuideNotice)}),_(9,"i",11),s(),a(10,"a",10),M("click",function(){return h(l),C(t.onActionButtonReload())}),_(11,"i",12),s(),b(),I(12,13),a(13,"a",14),M("click",function(){return h(l),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(14,"mat-slide-toggle",15),m(15),g(16,"translate"),s(),a(17,"a",14),M("click",function(){return h(l),C(t.onActionButtonStatist())}),_(18,"mat-slide-toggle",15),m(19),g(20,"translate"),s(),b(),ne(21,16),I(22,17),T(23,Rs,7,3,"div",18)(24,Ds,7,3,"div",18),a(25,"div",19)(26,"a",20),M("click",function(){return h(l),C(t.onActionButtonViewSiteRow(t.tableRowSelected))}),_(27,"i",21)(28,"br"),s(),a(29,"p",22),m(30),g(31,"translate"),s()(),a(32,"div",19)(33,"a",20),M("click",function(){return h(l),C(t.onActionButtonViewUserRow(t.tableRowSelected))}),_(34,"i",23)(35,"br"),s(),a(36,"p",22),m(37),g(38,"translate"),s()(),T(39,Ls,7,3,"div",18),b(),I(40,24),a(41,"app-cms-search-list",25),y("optionsChange",function(c){return h(l),k(t.optionsSearch,c)||(t.optionsSearch=c),C(c)}),s(),a(42,"app-cms-statist-list",25),y("optionsChange",function(c){return h(l),k(t.optionsStatist,c)||(t.optionsStatist=c),C(c)}),s(),b(),I(43,26),a(44,"mat-table",27,0),M("matSortChange",function(){h(l);let c=W(45);return C(t.onTableSortData(c))}),I(46,28),T(47,xs,2,1,"mat-header-cell",29)(48,Us,2,1,"mat-cell",30),b(),I(49,31),T(50,Bs,2,1,"mat-header-cell",29)(51,Vs,4,5,"mat-cell",30),b(),I(52,32),T(53,Os,2,1,"mat-header-cell",29)(54,Ps,4,5,"mat-cell",30),b(),I(55,33),T(56,Ns,2,1,"mat-header-cell",29)(57,Gs,2,1,"mat-cell",30),b(),I(58,34),T(59,Hs,2,1,"mat-header-cell",29)(60,js,5,7,"mat-cell",35),b(),I(61,36),T(62,qs,2,1,"mat-header-cell",29)(63,Ws,3,4,"mat-cell",30),b(),I(64,37),T(65,Qs,2,1,"mat-header-cell",29)(66,zs,3,4,"mat-cell",30),b(),I(67,38),T(68,Js,2,1,"mat-header-cell",29)(69,Ks,3,3,"mat-cell",30),b(),I(70,39),T(71,$s,2,1,"mat-header-cell",29)(72,Xs,3,3,"mat-cell",30),b(),I(73,40),T(74,Ys,2,1,"mat-header-cell",29)(75,Zs,3,3,"mat-cell",30),b(),I(76,41),T(77,ea,2,1,"mat-header-cell",29)(78,ta,3,3,"mat-cell",42),b(),I(79,43),T(80,ia,2,1,"mat-header-cell",29)(81,oa,3,6,"mat-cell",44),b(),I(82,45),T(83,na,3,3,"mat-header-cell",46)(84,ra,6,1,"mat-cell",47),b(),T(85,sa,1,0,"mat-header-row",48)(86,aa,1,2,"mat-row",49),s(),b(),I(87,50),a(88,"mat-paginator",51,1),M("page",function(c){return h(l),C(t.onTablePageingData(c))}),s(),b(),s()}o&2&&(d("ngIf",t.requestLinkUserId>0),n(),d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),d("ngIf",t.requestLinkSiteId>0),n(4),ie("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),d("checked",t.optionsSearch.data.show),n(),p("",v(16,29,"ACTION.SEARCH")," "),n(3),d("checked",t.optionsStatist.data.show),n(),p("",v(20,31,"ACTION.STATIST")," "),n(4),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(6),p(" ",v(31,33,"ACTION.SITE")," "),n(7),p(" ",v(38,35,"ACTION.USER")," "),n(2),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),n(2),A("options",t.optionsSearch),n(),A("options",t.optionsStatist),n(2),d("dataSource",t.tableSource),n(41),d("matHeaderRowDef",t.tabledisplayedColumns),n(),d("matRowDefColumns",t.tabledisplayedColumns),n(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(37,ws)))},dependencies:[nt,O,St,Ee,ke,ge,ye,Re,De,Le,xe,Ue,Be,Oe,He,Pe,Ve,Fe,Ne,Ge,je,qe,$e,Xe,Ye,Ze,Ct,tt,Te,N,Tt,it,ze,et,Je,gt,_t,at],encapsulation:2});var ko=qi;var la=["vform"];function ca(i,r){if(i&1){let e=w();a(0,"app-cms-enum-record-status-selector",8),y("modelChange",function(t){h(e);let l=f();return k(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),C(t)}),s()}if(i&2){let e=f();A("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ma(i,r){if(i&1&&(a(0,"div"),_(1,"div",9),g(2,"prettyjson"),s()),i&2){let e=f();n(),d("innerHTML",v(2,1,e.dataModel),bt)}}function da(i,r){if(i&1){let e=w();a(0,"div",10)(1,"button",11),M("click",function(){h(e);let t=f();return C(t.onFormCancel())}),_(2,"i",12),m(3),g(4,"translate"),s()()}i&2&&(n(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var Wi=class Wi extends ct{constructor(e,o,t,l,u,c,L,oe,te,le){super(l,new It,te,le);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenConnectionService=l;this.cmsToastrService=u;this.tokenHelper=c;this.cmsStoreService=L;this.cdr=oe;this.publicHelper=te;this.translate=le;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new yt;this.dataModel=new It;this.formInfo=new ee;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenConnectionService.setAccessLoad(),this.coreTokenConnectionService.setAccessDataType(rt.Editor),this.coreTokenConnectionService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Wi.\u0275fac=function(o){return new(o||Wi)(S(Y),S(X),S(Q),S(Mt),S(F),S(H),S(G),S(V),S(j),S(P))},Wi.\u0275cmp=U({type:Wi,selectors:[["app-coretoken-notification-edit"]],viewQuery:function(o,t){if(o&1&&J(la,5),o&2){let l;K(l=$())&&(t.formGroup=l.first)}},standalone:!1,features:[z],decls:15,vars:18,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(a(0,"div",0),_(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),m(4),s(),a(5,"p"),m(6),g(7,"translate"),s(),T(8,ca,1,5,"app-cms-enum-record-status-selector",4),_(9,"app-cms-site-selector",5),g(10,"translate"),_(11,"app-cms-user-selector",5),g(12,"translate"),T(13,ma,3,3,"div",6)(14,da,5,3,"div",7),s()()),o&2&&(n(),d("optionsInfoAreaId",t.constructorInfoAreaId),n(3),p(" ",t.formInfo.formTitle," "),n(2),p(" ",v(7,12,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(),d("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(10,14,"TITLE.WEBSITE")),n(2),d("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(12,16,"TITLE.USER")),n(2),d("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),n(),d("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[O,lt,ht,mt,Z,N,wt],encapsulation:2});var Qi=Wi;var pa=["vform"];function ua(i,r){if(i&1){let e=w();a(0,"div",8)(1,"button",9),M("click",function(){h(e);let t=f();return C(t.onFormCancel())}),_(2,"i",10),m(3),g(4,"translate"),s()()}i&2&&(n(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var zi=class zi{constructor(r,e,o,t,l,u,c,L,oe,te){this.data=r;this.dialogRef=e;this.coreEnumService=o;this.coreTokenConnectionService=t;this.cmsToastrService=l;this.tokenHelper=u;this.cmsStoreService=c;this.cdr=L;this.publicHelper=oe;this.translate=te;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new st;this.dataModelResult=new R;this.dataModel=new It;this.formInfo=new ee;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>B(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreTokenConnectionService.setAccessLoad(),this.coreTokenConnectionService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};zi.\u0275fac=function(e){return new(e||zi)(S(Y),S(X),S(Q),S(Mt),S(F),S(H),S(G),S(V),S(j),S(P))},zi.\u0275cmp=U({type:zi,selectors:[["app-coretoken-notification-view"]],viewQuery:function(e,o){if(e&1&&J(pa,5),e&2){let t;K(t=$())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),_(6,"app-cms-form-result-message",5),s(),a(7,"div",6),T(8,ua,5,3,"div",7),s()),e&2&&(n(),p(" ",o.formInfo.formTitle," "),n(2),d("optionsInfoAreaId",o.constructorInfoAreaId),n(),d("dataModel",o.dataModel)("optionMethod",1),n(2),d("formInfo",o.formInfo),n(2),d("ngIf",o.formInfo.submitButtonEnabled))},dependencies:[O,Z,dt,Qe,N],encapsulation:2});var Ji=zi;var fa=()=>[5,10,20,100],Sa=i=>({display:i}),ha=i=>({background:i});function Ca(i,r){if(i&1&&_(0,"app-core-user-header",52),i&2){let e=f();d("optionId",e.requestLinkUserId)}}function ga(i,r){if(i&1){let e=w();a(0,"a",53),M("click",function(){h(e);let t=f();return C(t.onActionBackToParent())}),_(1,"i",54),s()}}function _a(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",55),M("click",function(){h(e);let t=f();return C(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",56)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),p(" ",v(6,1,"ACTION.EDIT")," "))}function va(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",57),M("click",function(){h(e);let t=f();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",58)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),p(" ",v(6,1,"ACTION.DELETE")," "))}function Ta(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",59),M("click",function(){h(e);let t=f();return C(t.onActionButtonViewRow(t.tableRowSelected))}),_(2,"i",60)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),p(" ",v(6,1,"ACTION.VIEW")," "))}function Ia(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function ba(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),p(" ",e.id," ")}}function Ma(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function wa(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),s()),i&2){let e=r.$implicit;n(),p(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function Ea(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Aa(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),s()),i&2){let e=r.$implicit;n(),p(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function ka(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function ya(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),p(" ",e.linkMemberUserId," ")}}function Ra(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Da(i,r){if(i&1&&_(0,"select",64),i&2){let e=f().$implicit,o=f();d("contentService",o.contentService)("row",e)("ngStyle",Ce(3,Sa,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function La(i,r){if(i&1&&(a(0,"mat-cell",62),g(1,"statusCellClass"),_(2,"i",62),g(3,"statusIconClass"),T(4,Da,1,5,"select",63),s()),i&2){let e=r.$implicit,o=f();d("ngClass",v(1,3,e.recordStatus)),n(2),d("ngClass",v(3,5,e.recordStatus)),n(2),d("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function xa(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Ua(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"enums"),s()),i&2){let e=r.$implicit,o=f();n(),p(" ",se(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Ba(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function Va(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"enums"),s()),i&2){let e=r.$implicit,o=f();n(),p(" ",se(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Oa(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Pa(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",62),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),d("ngClass",v(2,1,e.userAccessAdminAllowToAllData))}}function Na(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Ga(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",62),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),d("ngClass",v(2,1,e.userAccessAdminAllowToProfessionalData))}}function Ha(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Fa(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",62),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),d("ngClass",v(2,1,e.rememberOnDevice))}}function ja(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function qa(i,r){if(i&1&&(a(0,"mat-cell",65),m(1),g(2,"localeDateTime"),s()),i&2){let e=r.$implicit;n(),p(" ",v(2,1,e.createdDate)," ")}}function Wa(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function Qa(i,r){if(i&1&&(a(0,"mat-cell",66),m(1),g(2,"persianDate"),s()),i&2){let e=r.$implicit,o=f();d("ngStyle",Ce(4,ha,o.publicHelper.RowStyleExpireDate(e.expireDate))),n(),p(" ",v(2,2,e.expireDate)," ")}}function za(i,r){i&1&&(a(0,"mat-header-cell"),m(1),g(2,"translate"),s()),i&2&&(n(),p(" ",v(2,1,"TITLE.OPTION")," "))}function Ja(i,r){if(i&1&&(a(0,"mat-cell",67)(1,"button",68)(2,"mat-icon"),m(3,"more_vert"),s()(),_(4,"mat-menu",null,2),s()),i&2){let e=W(5);n(),d("matMenuTriggerFor",e)}}function Ka(i,r){i&1&&_(0,"mat-header-row")}function $a(i,r){if(i&1){let e=w();a(0,"mat-row",69),M("click",function(t){let l=h(e).$implicit,u=f();return C(u.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=h(e).$implicit,u=f();return C(u.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=r.$implicit,o=f();ie("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Ki=class Ki extends Ke{constructor(e,o,t,l,u,c,L,oe,te,le,ot,Et){super(e,new It,ot,u,L);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=u;this.cdr=c;this.translate=L;this.cmsStoreService=oe;this.router=te;this.pageInfo=le;this.publicHelper=ot;this.dialog=Et;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new we;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new D;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new D;E.propertyName="linkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new D;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=x.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=x.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new It);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new D;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new D;t.propertyAnyName="linkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new D;t.propertyAnyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=x.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Ji,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Qi,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(u,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{o.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),u=new D;u.propertyName="recordStatus",u.value=Me.Available,l.filters.push(u),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{o.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Ki.\u0275fac=function(o){return new(o||Ki)(S(Mt),S(F),S(_e),S(Ie),S(H),S(V),S(P),S(G),S(be),S(We),S(j),S(Ae))},Ki.\u0275cmp=U({type:Ki,selectors:[["app-coretoken-notification-list"]],standalone:!1,features:[z],decls:90,vars:38,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=w();T(0,Ca,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),y("optionActionGuideNoticeDisplayChange",function(c){return h(l),k(t.viewGuideNotice,c)||(t.viewGuideNotice=c),C(c)}),M("optionOnActionButtonMemoRow",function(){return h(l),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(l),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(l),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(l),C(t.onActionButtonPrintRow())}),I(2,5),m(3," -------------------------------------- "),b(),ne(4,6)(5,7),I(6,8),T(7,ga,2,0,"a",9),a(8,"a",10),M("click",function(){return h(l),C(t.viewGuideNotice=!t.viewGuideNotice)}),_(9,"i",11),s(),a(10,"a",10),M("click",function(){return h(l),C(t.onActionButtonReload())}),_(11,"i",12),s(),b(),I(12,13),a(13,"a",14),M("click",function(){return h(l),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(14,"mat-slide-toggle",15),m(15),g(16,"translate"),s(),a(17,"a",14),M("click",function(){return h(l),C(t.onActionButtonStatist())}),_(18,"mat-slide-toggle",15),m(19),g(20,"translate"),s(),b(),ne(21,16),I(22,17),T(23,_a,7,3,"div",18)(24,va,7,3,"div",18),a(25,"div",19)(26,"a",20),M("click",function(){return h(l),C(t.onActionButtonViewSiteRow(t.tableRowSelected))}),_(27,"i",21)(28,"br"),s(),a(29,"p",22),m(30),g(31,"translate"),s()(),a(32,"div",19)(33,"a",20),M("click",function(){return h(l),C(t.onActionButtonViewUserRow(t.tableRowSelected))}),_(34,"i",23)(35,"br"),s(),a(36,"p",22),m(37),g(38,"translate"),s()(),T(39,Ta,7,3,"div",18),b(),I(40,24),a(41,"app-cms-search-list",25),y("optionsChange",function(c){return h(l),k(t.optionsSearch,c)||(t.optionsSearch=c),C(c)}),s(),a(42,"app-cms-statist-list",25),y("optionsChange",function(c){return h(l),k(t.optionsStatist,c)||(t.optionsStatist=c),C(c)}),s(),b(),I(43,26),a(44,"mat-table",27,0),M("matSortChange",function(){h(l);let c=W(45);return C(t.onTableSortData(c))}),I(46,28),T(47,Ia,2,1,"mat-header-cell",29)(48,ba,2,1,"mat-cell",30),b(),I(49,31),T(50,Ma,2,1,"mat-header-cell",29)(51,wa,4,5,"mat-cell",30),b(),I(52,32),T(53,Ea,2,1,"mat-header-cell",29)(54,Aa,4,5,"mat-cell",30),b(),I(55,33),T(56,ka,2,1,"mat-header-cell",29)(57,ya,2,1,"mat-cell",30),b(),I(58,34),T(59,Ra,2,1,"mat-header-cell",29)(60,La,5,7,"mat-cell",35),b(),I(61,36),T(62,xa,2,1,"mat-header-cell",29)(63,Ua,3,4,"mat-cell",30),b(),I(64,37),T(65,Ba,2,1,"mat-header-cell",29)(66,Va,3,4,"mat-cell",30),b(),I(67,38),T(68,Oa,2,1,"mat-header-cell",29)(69,Pa,3,3,"mat-cell",30),b(),I(70,39),T(71,Na,2,1,"mat-header-cell",29)(72,Ga,3,3,"mat-cell",30),b(),I(73,40),T(74,Ha,2,1,"mat-header-cell",29)(75,Fa,3,3,"mat-cell",30),b(),I(76,41),T(77,ja,2,1,"mat-header-cell",29)(78,qa,3,3,"mat-cell",42),b(),I(79,43),T(80,Wa,2,1,"mat-header-cell",29)(81,Qa,3,6,"mat-cell",44),b(),I(82,45),T(83,za,3,3,"mat-header-cell",46)(84,Ja,6,1,"mat-cell",47),b(),T(85,Ka,1,0,"mat-header-row",48)(86,$a,1,2,"mat-row",49),s(),b(),I(87,50),a(88,"mat-paginator",51,1),M("page",function(c){return h(l),C(t.onTablePageingData(c))}),s(),b(),s()}o&2&&(d("ngIf",t.requestLinkUserId>0),n(),d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),d("ngIf",t.requestLinkSiteId>0),n(4),ie("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),d("checked",t.optionsSearch.data.show),n(),p("",v(16,29,"ACTION.SEARCH")," "),n(3),d("checked",t.optionsStatist.data.show),n(),p("",v(20,31,"ACTION.STATIST")," "),n(4),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(6),p(" ",v(31,33,"ACTION.SITE")," "),n(7),p(" ",v(38,35,"ACTION.USER")," "),n(2),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),n(2),A("options",t.optionsSearch),n(),A("options",t.optionsStatist),n(2),d("dataSource",t.tableSource),n(41),d("matHeaderRowDef",t.tabledisplayedColumns),n(),d("matRowDefColumns",t.tabledisplayedColumns),n(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(37,fa)))},dependencies:[nt,O,St,Ee,ke,ge,ye,Re,De,Le,xe,Ue,Be,Oe,He,Pe,Ve,Fe,Ne,Ge,je,qe,$e,Xe,Ye,Ze,Ct,tt,Te,N,Tt,it,ze,et,Je,gt,_t,at],encapsulation:2});var yo=Ki;var Ya=["vform"];function Za(i,r){if(i&1){let e=w();a(0,"app-cms-enum-record-status-selector",39),y("modelChange",function(t){h(e);let l=f();return k(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),C(t)}),s()}if(i&2){let e=f();A("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function el(i,r){if(i&1&&(a(0,"option",40),m(1),s()),i&2){let e=r.$implicit;d("value",e.value),n(),p(" ",e.description," ")}}function tl(i,r){i&1&&(a(0,"mat-error"),m(1," LinkMemberId is "),a(2,"strong"),m(3),g(4,"translate"),s()()),i&2&&(n(3),pt(v(4,1,"MESSAGE.required")))}function il(i,r){if(i&1&&(a(0,"option",40),m(1),s()),i&2){let e=r.$implicit;d("value",e.value),n(),p(" ",e.description," ")}}function ol(i,r){i&1&&(a(0,"mat-error"),m(1," UserAccessAreaType is "),a(2,"strong"),m(3),g(4,"translate"),s()()),i&2&&(n(3),pt(v(4,1,"MESSAGE.required")))}function nl(i,r){if(i&1){let e=w();a(0,"div",41)(1,"div",42)(2,"h5",43),m(3),s()(),a(4,"div",44)(5,"div",45)(6,"input",46),y("ngModelChange",function(t){h(e);let l=f();return k(l.dataModel.userAccessAdminAllowToAllData,t)||(l.dataModel.userAccessAdminAllowToAllData=t),C(t)}),s(),_(7,"label",47),s()()()}if(i&2){let e=f();n(3),p(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," "),n(3),A("ngModel",e.dataModel.userAccessAdminAllowToAllData)}}function rl(i,r){if(i&1){let e=w();a(0,"div",41)(1,"div",42)(2,"h5",48),m(3),s()(),a(4,"div",44)(5,"div",45)(6,"input",49),y("ngModelChange",function(t){h(e);let l=f();return k(l.dataModel.userAccessAdminAllowToProfessionalData,t)||(l.dataModel.userAccessAdminAllowToProfessionalData=t),C(t)}),s(),_(7,"label",50),s()()()}if(i&2){let e=f();n(3),p(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," "),n(3),A("ngModel",e.dataModel.userAccessAdminAllowToProfessionalData)}}function sl(i,r){if(i&1){let e=w();a(0,"div",41)(1,"div",42)(2,"h5",51),m(3),s()(),a(4,"div",44)(5,"div",45)(6,"input",52),y("ngModelChange",function(t){h(e);let l=f();return k(l.dataModel.rememberOnDevice,t)||(l.dataModel.rememberOnDevice=t),C(t)}),s(),_(7,"label",53),s()()()}if(i&2){let e=f();n(3),p(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," "),n(3),A("ngModel",e.dataModel.rememberOnDevice)}}function al(i,r){if(i&1){let e=w();a(0,"div",54)(1,"label",55),m(2),s(),a(3,"input",56),y("ngModelChange",function(t){h(e);let l=f();return k(l.dataModel.tokenExpireDate,t)||(l.dataModel.tokenExpireDate=t),C(t)}),s(),_(4,"mat-datepicker-toggle",57)(5,"mat-datepicker",58,9),s()}if(i&2){let e=W(6),o=f();n(2),pt(o.fieldsInfo.tokenExpireDate==null?null:o.fieldsInfo.tokenExpireDate.fieldTitle),n(),d("matDatepicker",e),A("ngModel",o.dataModel.tokenExpireDate),n(),d("for",e)}}function ll(i,r){if(i&1&&(a(0,"div"),_(1,"div",59),g(2,"prettyjson"),s()),i&2){let e=f();n(),d("innerHTML",v(2,1,e.dataModel),bt)}}function cl(i,r){if(i&1){let e=w();a(0,"div",60)(1,"button",61),M("click",function(){h(e);let t=f();return C(t.onFormCancel())}),_(2,"i",62),m(3),g(4,"translate"),s(),a(5,"button",63),_(6,"i",64),m(7),g(8,"translate"),s()()}if(i&2){f();let e=W(10);n(3),p(" ",v(4,3,"ACTION.CANCEL")," "),n(2),d("disabled",!e.form.valid),n(2),p(" ",v(8,5,"ACTION.SAVE")," ")}}var $i=class $i extends ct{constructor(e,o,t,l,u,c,L,oe,te,le){super(l,new Ot,oe,le);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenUserService=l;this.cmsToastrService=u;this.tokenHelper=c;this.cmsStoreService=L;this.publicHelper=oe;this.cdr=te;this.translate=le;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new yt;this.dataModel=new Ot;this.formInfo=new ee;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenUserService.setAccessLoad(),this.coreTokenUserService.setAccessDataType(rt.Editor),this.coreTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenUserService.ServiceEdit(this.dataModel).subscribe({next:o=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=o,o.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorEdit(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onActionSiteSelect(e){e&&e.id>0&&(this.dataModel.linkSiteId=e.id)}onActionUserSelect(e){e&&e.id>0&&(this.dataModel.linkUserId=e.id)}onActionMemberSelect(e){e&&e.id?.length>0&&(this.dataModel.linkMemberId=e.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};$i.\u0275fac=function(o){return new(o||$i)(S(Y),S(X),S(Q),S(Ut),S(F),S(H),S(G),S(j),S(V),S(P))},$i.\u0275cmp=U({type:$i,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(o,t){if(o&1&&J(Ya,5),o&2){let l;K(l=$())&&(t.formGroup=l.first)}},standalone:!1,features:[z],decls:70,vars:46,consts:[["vform","ngForm"],["LinkMemberId","ngModel"],["UserAccessAreaType","ngModel"],["BrowserLanguage",""],["UserLanguage",""],["DeviceClientMAC",""],["Token",""],["LinkDeviceId",""],["LinkApplicationId",""],["tokenExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.linkMemberId","name","dataModel.linkMemberId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.browserLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.browserLanguage","placeholder","BrowserLanguage","id","dataModel.browserLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.userLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.userLanguage","placeholder","UserLanguage","id","dataModel.userLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.token",1,"color-highlight"],["matInput","","type","text","name","dataModel.token","placeholder","Token","id","dataModel.token",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.userAccessAdminAllowToAllData",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.userAccessAdminAllowToAllData","name","dataModel.userAccessAdminAllowToAllData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToAllData",1,"custom-control-label"],["data-trigger-switch","dataModel.userAccessAdminAllowToProfessionalData",1,"font-600","font-14"],["type","checkbox","id","dataModel.userAccessAdminAllowToProfessionalData","name","dataModel.userAccessAdminAllowToProfessionalData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToProfessionalData",1,"custom-control-label"],["data-trigger-switch","dataModel.rememberOnDevice",1,"font-600","font-14"],["type","checkbox","id","dataModel.rememberOnDevice","name","dataModel.rememberOnDevice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rememberOnDevice",1,"custom-control-label"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.tokenExpireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenExpireDate","id","dataModel.tokenExpireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(o,t){if(o&1){let l=w();a(0,"div",10),_(1,"app-progress-spinner",11),a(2,"div",12)(3,"p",13),m(4),s(),a(5,"p"),m(6),g(7,"translate"),s(),_(8,"app-cms-form-result-message",14),a(9,"form",15,0),M("ngSubmit",function(){return h(l),C(t.onFormSubmit())}),T(11,Za,1,5,"app-cms-enum-record-status-selector",16),a(12,"div",17)(13,"select",18,1),y("ngModelChange",function(c){return h(l),k(t.dataModel.linkMemberId,c)||(t.dataModel.linkMemberId=c),C(c)}),T(15,el,2,2,"option",19),s(),a(16,"em"),m(17),g(18,"translate"),s(),T(19,tl,5,3,"mat-error",20),s(),a(20,"div",17)(21,"select",21,2),y("ngModelChange",function(c){return h(l),k(t.dataModel.userAccessAreaType,c)||(t.dataModel.userAccessAreaType=c),C(c)}),T(23,il,2,2,"option",19),s(),a(24,"em"),m(25),g(26,"translate"),s(),T(27,ol,5,3,"mat-error",20),s(),a(28,"app-cms-site-selector",22),g(29,"translate"),M("optionChange",function(c){return h(l),C(t.onActionSiteSelect(c))}),s(),a(30,"app-cms-user-selector",22),g(31,"translate"),M("optionChange",function(c){return h(l),C(t.onActionUserSelect(c))}),s(),a(32,"app-cms-member-selector",22),g(33,"translate"),M("optionChange",function(c){return h(l),C(t.onActionMemberSelect(c))}),s(),T(34,nl,8,2,"div",23)(35,rl,8,2,"div",23)(36,sl,8,2,"div",23),a(37,"div",24)(38,"label",25),m(39,"BrowserLanguage"),s(),a(40,"input",26,3),y("ngModelChange",function(c){return h(l),k(t.dataModel.browserLanguage,c)||(t.dataModel.browserLanguage=c),C(c)}),s()(),a(42,"div",24)(43,"label",27),m(44,"UserLanguage"),s(),a(45,"input",28,4),y("ngModelChange",function(c){return h(l),k(t.dataModel.userLanguage,c)||(t.dataModel.userLanguage=c),C(c)}),s()(),a(47,"div",24)(48,"label",29),m(49,"DeviceClientMAC"),s(),a(50,"input",30,5),y("ngModelChange",function(c){return h(l),k(t.dataModel.deviceClientMAC,c)||(t.dataModel.deviceClientMAC=c),C(c)}),s()(),a(52,"div",24)(53,"label",31),m(54,"Token"),s(),a(55,"input",32,6),y("ngModelChange",function(c){return h(l),k(t.dataModel.token,c)||(t.dataModel.token=c),C(c)}),s()(),a(57,"div",24)(58,"label",33),m(59,"LinkDeviceId"),s(),a(60,"input",34,7),y("ngModelChange",function(c){return h(l),k(t.dataModel.linkDeviceId,c)||(t.dataModel.linkDeviceId=c),C(c)}),s()(),a(62,"div",24)(63,"label",35),m(64,"LinkApplicationId"),s(),a(65,"input",36,8),y("ngModelChange",function(c){return h(l),k(t.dataModel.linkApplicationId,c)||(t.dataModel.linkApplicationId=c),C(c)}),s()(),T(67,al,7,4,"div",37)(68,ll,3,3,"div",20)(69,cl,9,7,"div",38),s()()()}if(o&2){let l=W(14),u=W(22);n(),d("optionsInfoAreaId",t.constructorInfoAreaId),n(3),p(" ",t.formInfo.formTitle," "),n(2),p(" ",v(7,34,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),d("formInfo",t.formInfo),n(3),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(2),A("ngModel",t.dataModel.linkMemberId),n(2),d("ngForOf",t.dataModelEnumManageUserAccessUserTypesResult.listItems),n(2),pt(v(18,36,"TITLE.SELECT_STATUS")),n(2),d("ngIf",l.errors==null?null:l.errors.required),n(2),A("ngModel",t.dataModel.userAccessAreaType),n(2),d("ngForOf",t.dataModelEnumManageUserAccessAreaTypesResult.listItems),n(2),pt(v(26,38,"TITLE.SELECT_STATUS")),n(2),d("ngIf",u.errors==null?null:u.errors.required),n(),d("optionDisabled",!1)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(29,40,"TITLE.WEBSITE")),n(2),d("optionDisabled",!1)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(31,42,"TITLE.USER")),n(2),d("optionDisabled",!1)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",v(33,44,"TITLE.Member")),n(2),d("ngIf",t.fieldsInfo.userAccessAdminAllowToAllData==null?null:t.fieldsInfo.userAccessAdminAllowToAllData.accessWatchField),n(),d("ngIf",t.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.accessWatchField),n(),d("ngIf",t.fieldsInfo.rememberOnDevice==null?null:t.fieldsInfo.rememberOnDevice.accessWatchField),n(4),A("ngModel",t.dataModel.browserLanguage),n(5),A("ngModel",t.dataModel.userLanguage),n(5),A("ngModel",t.dataModel.deviceClientMAC),n(5),A("ngModel",t.dataModel.token),n(5),A("ngModel",t.dataModel.linkDeviceId),n(5),A("ngModel",t.dataModel.linkApplicationId),n(2),d("ngIf",t.fieldsInfo.tokenExpireDate==null?null:t.fieldsInfo.tokenExpireDate.accessWatchField),n(),d("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),n(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[_i,O,Wo,Mi,wi,vi,co,bi,Ti,jo,Ii,qo,po,uo,fo,Ei,mo,ge,lt,ht,mt,Ai,Z,Qe,N,wt],encapsulation:2});var Ro=$i;var ml=["vform"];function dl(i,r){if(i&1){let e=w();a(0,"div",8)(1,"button",9),M("click",function(){h(e);let t=f();return C(t.onFormCancel())}),_(2,"i",10),m(3),g(4,"translate"),s()()}i&2&&(n(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var Xi=class Xi{constructor(r,e,o,t,l,u,c,L,oe,te){this.data=r;this.dialogRef=e;this.coreEnumService=o;this.coreTokenUserService=t;this.cmsToastrService=l;this.tokenHelper=u;this.cmsStoreService=c;this.cdr=L;this.publicHelper=oe;this.translate=te;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new st;this.dataModelResult=new R;this.dataModel=new Ot;this.formInfo=new ee;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>B(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreTokenUserService.setAccessLoad(),this.coreTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Xi.\u0275fac=function(e){return new(e||Xi)(S(Y),S(X),S(Q),S(Ut),S(F),S(H),S(G),S(V),S(j),S(P))},Xi.\u0275cmp=U({type:Xi,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(e,o){if(e&1&&J(ml,5),e&2){let t;K(t=$())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),_(6,"app-cms-form-result-message",5),s(),a(7,"div",6),T(8,dl,5,3,"div",7),s()),e&2&&(n(),p(" ",o.formInfo.formTitle," "),n(2),d("optionsInfoAreaId",o.constructorInfoAreaId),n(),d("dataModel",o.dataModel)("optionMethod",1),n(2),d("formInfo",o.formInfo),n(2),d("ngIf",o.formInfo.submitButtonEnabled))},dependencies:[O,Z,dt,Qe,N],encapsulation:2});var Do=Xi;var pl=()=>[5,10,20,100],ul=i=>({display:i});function fl(i,r){if(i&1&&_(0,"app-core-user-header",53),i&2){let e=f();d("optionId",e.requestLinkUserId)}}function Sl(i,r){if(i&1){let e=w();a(0,"a",54),M("click",function(){h(e);let t=f();return C(t.onActionBackToParent())}),_(1,"i",55),s()}}function hl(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",56),M("click",function(){h(e);let t=f();return C(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",57)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),p(" ",v(6,1,"ACTION.EDIT")," "))}function Cl(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",58),M("click",function(){h(e);let t=f();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",59)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),p(" ",v(6,1,"ACTION.DELETE")," "))}function gl(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",60),M("click",function(){h(e);let t=f();return C(t.onActionButtonViewRow(t.tableRowSelected))}),_(2,"i",61)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),p(" ",v(6,1,"ACTION.VIEW")," "))}function _l(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function vl(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),p(" ",e.id," ")}}function Tl(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Il(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),s()),i&2){let e=r.$implicit;n(),p(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function bl(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Ml(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),s()),i&2){let e=r.$implicit;n(),p(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function wl(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function El(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),p(" ",e.linkMemberId," ")}}function Al(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function kl(i,r){if(i&1&&_(0,"select",65),i&2){let e=f().$implicit,o=f();d("contentService",o.contentService)("row",e)("ngStyle",Ce(3,ul,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function yl(i,r){if(i&1&&(a(0,"mat-cell",63),g(1,"statusCellClass"),_(2,"i",63),g(3,"statusIconClass"),T(4,kl,1,5,"select",64),s()),i&2){let e=r.$implicit,o=f();d("ngClass",v(1,3,e.recordStatus)),n(2),d("ngClass",v(3,5,e.recordStatus)),n(2),d("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function Rl(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Dl(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"enums"),s()),i&2){let e=r.$implicit,o=f();n(),p(" ",se(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Ll(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function xl(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"enums"),s()),i&2){let e=r.$implicit,o=f();n(),p(" ",se(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Ul(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Bl(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",63),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),d("ngClass",v(2,1,e.userAccessAdminAllowToAllData))}}function Vl(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Ol(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",63),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),d("ngClass",v(2,1,e.userAccessAdminAllowToProfessionalData))}}function Pl(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Nl(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",63),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),d("ngClass",v(2,1,e.rememberOnDevice))}}function Gl(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Hl(i,r){if(i&1&&(a(0,"mat-cell",66),m(1),g(2,"localeDateTime"),s()),i&2){let e=r.$implicit;n(),p(" ",v(2,1,e.createdDate)," ")}}function Fl(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.tokenExpireDate==null?null:e.fieldsInfo.tokenExpireDate.fieldTitle," ")}}function jl(i,r){if(i&1&&(a(0,"mat-cell",66),m(1),g(2,"localeDateTime"),s()),i&2){let e=r.$implicit;n(),p(" ",v(2,1,e.tokenExpireDate)," ")}}function ql(i,r){i&1&&(a(0,"mat-header-cell"),m(1),g(2,"translate"),s()),i&2&&(n(),p(" ",v(2,1,"TITLE.OPTION")," "))}function Wl(i,r){if(i&1&&(a(0,"mat-cell",67)(1,"button",68)(2,"mat-icon"),m(3,"more_vert"),s()(),_(4,"mat-menu",null,2),s()),i&2){let e=W(5);n(),d("matMenuTriggerFor",e)}}function Ql(i,r){i&1&&_(0,"mat-header-row")}function zl(i,r){if(i&1){let e=w();a(0,"mat-row",69),M("click",function(t){let l=h(e).$implicit,u=f();return C(u.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=h(e).$implicit,u=f();return C(u.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=r.$implicit,o=f();ie("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Yi=class Yi extends Ke{constructor(e,o,t,l,u,c,L,oe,te,le,ot,Et){super(e,new Ot,ot,u,L);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=u;this.cdr=c;this.translate=L;this.cmsStoreService=oe;this.router=te;this.pageInfo=le;this.publicHelper=ot;this.dialog=Et;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new we;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","linkUserId","linkMemberId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","tokenExpireDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkUserId","linkMemberId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","tokenExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new D;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new D;E.propertyName="linkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new D;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=x.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=x.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ot);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new D;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new D;t.propertyAnyName="linkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new D;t.propertyAnyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=x.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Do,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Ro,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(u,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{o.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),u=new D;u.propertyName="recordStatus",u.value=Me.Available,l.filters.push(u),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{o.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonViewDeviceRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Yi.\u0275fac=function(o){return new(o||Yi)(S(Ut),S(F),S(_e),S(Ie),S(H),S(V),S(P),S(G),S(be),S(We),S(j),S(Ae))},Yi.\u0275cmp=U({type:Yi,selectors:[["app-coretoken-user-list"]],standalone:!1,features:[z],decls:104,vars:44,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","linkMemberId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","tokenExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=w();T(0,fl,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),y("optionActionGuideNoticeDisplayChange",function(c){return h(l),k(t.viewGuideNotice,c)||(t.viewGuideNotice=c),C(c)}),M("optionOnActionButtonMemoRow",function(){return h(l),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(l),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(l),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(l),C(t.onActionButtonPrintRow())}),I(2,5),m(3," -------------------------------------- "),b(),ne(4,6)(5,7),I(6,8),T(7,Sl,2,0,"a",9),a(8,"a",10),M("click",function(){return h(l),C(t.viewGuideNotice=!t.viewGuideNotice)}),_(9,"i",11),s(),a(10,"a",10),M("click",function(){return h(l),C(t.onActionButtonReload())}),_(11,"i",12),s(),b(),I(12,13),a(13,"a",14),M("click",function(){return h(l),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(14,"mat-slide-toggle",15),m(15),g(16,"translate"),s(),a(17,"a",14),M("click",function(){return h(l),C(t.onActionButtonStatist())}),_(18,"mat-slide-toggle",15),m(19),g(20,"translate"),s(),b(),ne(21,16),I(22,17),T(23,hl,7,3,"div",18)(24,Cl,7,3,"div",18),a(25,"div",19)(26,"a",20),M("click",function(){return h(l),C(t.onActionButtonViewSiteRow(t.tableRowSelected))}),_(27,"i",21)(28,"br"),s(),a(29,"p",22),m(30),g(31,"translate"),s()(),a(32,"div",19)(33,"a",20),M("click",function(){return h(l),C(t.onActionButtonViewUserRow(t.tableRowSelected))}),_(34,"i",23)(35,"br"),s(),a(36,"p",22),m(37),g(38,"translate"),s()(),a(39,"div",19)(40,"a",20),M("click",function(){return h(l),C(t.onActionButtonViewMemberRow(t.tableRowSelected))}),_(41,"i",24)(42,"br"),s(),a(43,"p",22),m(44),g(45,"translate"),s()(),a(46,"div",19)(47,"a",20),M("click",function(){return h(l),C(t.onActionButtonViewDeviceRow(t.tableRowSelected))}),_(48,"i",25)(49,"br"),s(),a(50,"p",22),m(51),g(52,"translate"),s()(),T(53,gl,7,3,"div",18),b(),I(54,26),a(55,"app-cms-search-list",27),y("optionsChange",function(c){return h(l),k(t.optionsSearch,c)||(t.optionsSearch=c),C(c)}),s(),a(56,"app-cms-statist-list",27),y("optionsChange",function(c){return h(l),k(t.optionsStatist,c)||(t.optionsStatist=c),C(c)}),s(),b(),I(57,28),a(58,"mat-table",29,0),M("matSortChange",function(){h(l);let c=W(59);return C(t.onTableSortData(c))}),I(60,30),T(61,_l,2,1,"mat-header-cell",31)(62,vl,2,1,"mat-cell",32),b(),I(63,33),T(64,Tl,2,1,"mat-header-cell",31)(65,Il,4,5,"mat-cell",32),b(),I(66,34),T(67,bl,2,1,"mat-header-cell",31)(68,Ml,4,5,"mat-cell",32),b(),I(69,35),T(70,wl,2,1,"mat-header-cell",31)(71,El,2,1,"mat-cell",32),b(),I(72,36),T(73,Al,2,1,"mat-header-cell",31)(74,yl,5,7,"mat-cell",37),b(),I(75,38),T(76,Rl,2,1,"mat-header-cell",31)(77,Dl,3,4,"mat-cell",32),b(),I(78,39),T(79,Ll,2,1,"mat-header-cell",31)(80,xl,3,4,"mat-cell",32),b(),I(81,40),T(82,Ul,2,1,"mat-header-cell",31)(83,Bl,3,3,"mat-cell",32),b(),I(84,41),T(85,Vl,2,1,"mat-header-cell",31)(86,Ol,3,3,"mat-cell",32),b(),I(87,42),T(88,Pl,2,1,"mat-header-cell",31)(89,Nl,3,3,"mat-cell",32),b(),I(90,43),T(91,Gl,2,1,"mat-header-cell",31)(92,Hl,3,3,"mat-cell",44),b(),I(93,45),T(94,Fl,2,1,"mat-header-cell",31)(95,jl,3,3,"mat-cell",44),b(),I(96,46),T(97,ql,3,3,"mat-header-cell",47)(98,Wl,6,1,"mat-cell",48),b(),T(99,Ql,1,0,"mat-header-row",49)(100,zl,1,2,"mat-row",50),s(),b(),I(101,51),a(102,"mat-paginator",52,1),M("page",function(c){return h(l),C(t.onTablePageingData(c))}),s(),b(),s()}o&2&&(d("ngIf",t.requestLinkUserId>0),n(),d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","report.user.list"),A("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),d("ngIf",t.requestLinkSiteId>0),n(4),ie("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),d("checked",t.optionsSearch.data.show),n(),p("",v(16,31,"ACTION.SEARCH")," "),n(3),d("checked",t.optionsStatist.data.show),n(),p("",v(20,33,"ACTION.STATIST")," "),n(4),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(6),p(" ",v(31,35,"ACTION.SITE")," "),n(7),p(" ",v(38,37,"ACTION.USER")," "),n(7),p(" ",v(45,39,"ACTION.MEMBER")," "),n(7),p(" ",v(52,41,"ACTION.DEVICE")," "),n(2),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),n(2),A("options",t.optionsSearch),n(),A("options",t.optionsStatist),n(2),d("dataSource",t.tableSource),n(41),d("matHeaderRowDef",t.tabledisplayedColumns),n(),d("matRowDefColumns",t.tabledisplayedColumns),n(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(43,pl)))},dependencies:[nt,O,St,Ee,ke,ge,ye,Re,De,Le,xe,Ue,Be,Oe,He,Pe,Ve,Fe,Ne,Ge,je,qe,$e,Xe,Ye,Ze,Ct,tt,Te,N,it,ze,et,Je,gt,_t,at],encapsulation:2});var ui=Yi;var Jl=["vform"];function Kl(i,r){if(i&1&&(a(0,"option",27),m(1),s()),i&2){let e=r.$implicit;d("value",e.value),n(),p(" ",e.description," ")}}function $l(i,r){i&1&&(a(0,"mat-error"),m(1," UserAccessAreaType is "),a(2,"strong"),m(3),g(4,"translate"),s()()),i&2&&(n(3),pt(v(4,1,"MESSAGE.required")))}function Xl(i,r){if(i&1&&(a(0,"div"),_(1,"div",28),g(2,"prettyjson"),s()),i&2){let e=f();n(),d("innerHTML",v(2,1,e.dataModel),bt)}}function Yl(i,r){if(i&1){let e=w();a(0,"div",29)(1,"button",30),M("click",function(){h(e);let t=f();return C(t.onFormCancel())}),_(2,"i",31),m(3),g(4,"translate"),s()()}i&2&&(n(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var Zi=class Zi extends ct{constructor(e,o,t,l,u,c,L,oe,te,le){super(l,new jt,te,le);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenUserBadLoginService=l;this.cmsToastrService=u;this.tokenHelper=c;this.cmsStoreService=L;this.cdr=oe;this.publicHelper=te;this.translate=le;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new R;this.dataModel=new jt;this.formInfo=new ee;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.setAccessDataType(rt.Editor),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Zi.\u0275fac=function(o){return new(o||Zi)(S(Y),S(X),S(Q),S(Bt),S(F),S(H),S(G),S(V),S(j),S(P))},Zi.\u0275cmp=U({type:Zi,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(o,t){if(o&1&&J(Jl,5),o&2){let l;K(l=$())&&(t.formGroup=l.first)}},standalone:!1,features:[z],decls:49,vars:33,consts:[["UsedUsername",""],["UsedPwd",""],["UserAccessAreaType","ngModel"],["LinkDeviceId",""],["LinkApplicationId",""],["DeviceClientMAC",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.usedUsername",1,"color-highlight"],["matInput","","type","text","name","dataModel.usedUsername","placeholder","UsedUsername","id","dataModel.usedUsername",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.usedPwd",1,"color-highlight"],["matInput","","type","text","name","dataModel.usedPwd","placeholder","UsedPwd","id","dataModel.usedPwd",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[3,"value"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){if(o&1){let l=w();a(0,"div",6),_(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),m(4),s(),a(5,"p"),m(6),g(7,"translate"),s(),a(8,"div",10)(9,"label",11),m(10,"UsedUsername"),s(),a(11,"input",12,0),y("ngModelChange",function(c){return h(l),k(t.dataModel.usedUsername,c)||(t.dataModel.usedUsername=c),C(c)}),s()(),a(13,"div",10)(14,"label",13),m(15,"UsedPwd"),s(),a(16,"input",14,1),y("ngModelChange",function(c){return h(l),k(t.dataModel.usedPwd,c)||(t.dataModel.usedPwd=c),C(c)}),s()(),a(18,"div",15)(19,"select",16,2),y("ngModelChange",function(c){return h(l),k(t.dataModel.userAccessAreaType,c)||(t.dataModel.userAccessAreaType=c),C(c)}),T(21,Kl,2,2,"option",17),s(),a(22,"em"),m(23),g(24,"translate"),s(),T(25,$l,5,3,"mat-error",18),s(),_(26,"app-cms-site-selector",19),g(27,"translate"),_(28,"app-cms-user-selector",19),g(29,"translate"),_(30,"app-cms-member-selector",19),g(31,"translate"),a(32,"div",10)(33,"label",20),m(34,"LinkDeviceId"),s(),a(35,"input",21,3),y("ngModelChange",function(c){return h(l),k(t.dataModel.linkDeviceId,c)||(t.dataModel.linkDeviceId=c),C(c)}),s()(),a(37,"div",10)(38,"label",22),m(39,"LinkApplicationId"),s(),a(40,"input",23,4),y("ngModelChange",function(c){return h(l),k(t.dataModel.linkApplicationId,c)||(t.dataModel.linkApplicationId=c),C(c)}),s()(),a(42,"div",10)(43,"label",24),m(44,"DeviceClientMAC"),s(),a(45,"input",25,5),y("ngModelChange",function(c){return h(l),k(t.dataModel.deviceClientMAC,c)||(t.dataModel.deviceClientMAC=c),C(c)}),s()(),T(47,Xl,3,3,"div",18)(48,Yl,5,3,"div",26),s()()}if(o&2){let l=W(20);n(),d("optionsInfoAreaId",t.constructorInfoAreaId),n(3),p(" ",t.formInfo.formTitle," "),n(2),p(" ",v(7,23,"TITLE.Be_Careful_When_Entering_Information")," "),n(5),A("ngModel",t.dataModel.usedUsername),n(5),A("ngModel",t.dataModel.usedPwd),n(3),A("ngModel",t.dataModel.userAccessAreaType),n(2),d("ngForOf",t.dataModelEnumManageUserAccessAreaTypesResult.listItems),n(2),pt(v(24,25,"TITLE.SELECT_STATUS")),n(2),d("ngIf",l.errors==null?null:l.errors.required),n(),d("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(27,27,"TITLE.WEBSITE")),n(2),d("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(29,29,"TITLE.USER")),n(2),d("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",v(31,31,"TITLE.Member")),n(5),A("ngModel",t.dataModel.linkDeviceId),n(5),A("ngModel",t.dataModel.linkApplicationId),n(5),A("ngModel",t.dataModel.deviceClientMAC),n(2),d("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),n(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[_i,O,Mi,wi,vi,bi,Ti,Ii,Ei,ge,lt,mt,Ai,Z,N,wt],encapsulation:2});var Lo=Zi;var Zl=["vform"];function ec(i,r){if(i&1){let e=w();a(0,"div",8)(1,"button",9),M("click",function(){h(e);let t=f();return C(t.onFormCancel())}),_(2,"i",10),m(3),g(4,"translate"),s()()}i&2&&(n(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var eo=class eo{constructor(r,e,o,t,l,u,c,L,oe,te){this.data=r;this.dialogRef=e;this.coreEnumService=o;this.coreTokenUserBadLoginService=t;this.cmsToastrService=l;this.tokenHelper=u;this.cmsStoreService=c;this.cdr=L;this.publicHelper=oe;this.translate=te;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new st;this.dataModelResult=new R;this.dataModel=new jt;this.formInfo=new ee;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>B(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};eo.\u0275fac=function(e){return new(e||eo)(S(Y),S(X),S(Q),S(Bt),S(F),S(H),S(G),S(V),S(j),S(P))},eo.\u0275cmp=U({type:eo,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(e,o){if(e&1&&J(Zl,5),e&2){let t;K(t=$())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),_(6,"app-cms-form-result-message",5),s(),a(7,"div",6),T(8,ec,5,3,"div",7),s()),e&2&&(n(),p(" ",o.formInfo.formTitle," "),n(2),d("optionsInfoAreaId",o.constructorInfoAreaId),n(),d("dataModel",o.dataModel)("optionMethod",1),n(2),d("formInfo",o.formInfo),n(2),d("ngIf",o.formInfo.submitButtonEnabled))},dependencies:[O,Z,dt,Qe,N],encapsulation:2});var xo=eo;var tc=()=>[5,10,20,100];function ic(i,r){if(i&1&&_(0,"app-core-user-header",47),i&2){let e=f();d("optionId",e.requestLinkUserId)}}function oc(i,r){if(i&1){let e=w();a(0,"a",48),M("click",function(){h(e);let t=f();return C(t.onActionBackToParent())}),_(1,"i",49),s()}}function nc(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",50),M("click",function(){h(e);let t=f();return C(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",51)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),p(" ",v(6,1,"ACTION.EDIT")," "))}function rc(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",52),M("click",function(){h(e);let t=f();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",53)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),p(" ",v(6,1,"ACTION.DELETE")," "))}function sc(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",54),M("click",function(){h(e);let t=f();return C(t.onActionButtonViewRow(t.tableRowSelected))}),_(2,"i",55)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),p(" ",v(6,1,"ACTION.VIEW")," "))}function ac(i,r){if(i&1&&(a(0,"mat-header-cell",56),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function lc(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),p(" ",e.id," ")}}function cc(i,r){if(i&1&&(a(0,"mat-header-cell",56),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function mc(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),s()),i&2){let e=r.$implicit;n(),p(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function dc(i,r){if(i&1&&(a(0,"mat-header-cell",56),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function pc(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),s()),i&2){let e=r.$implicit;n(),p(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function uc(i,r){if(i&1&&(a(0,"mat-header-cell",56),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function fc(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),p(" ",e.linkMemberId," ")}}function Sc(i,r){if(i&1&&(a(0,"mat-header-cell",56),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function hc(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"enums"),s()),i&2){let e=r.$implicit,o=f();n(),p(" ",se(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Cc(i,r){if(i&1&&(a(0,"mat-header-cell",56),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.usedUsername==null?null:e.fieldsInfo.usedUsername.fieldTitle," ")}}function gc(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),p(" ",e.usedUsername," ")}}function _c(i,r){if(i&1&&(a(0,"mat-header-cell",56),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function vc(i,r){if(i&1&&(a(0,"mat-cell",57),m(1),g(2,"localeDateTime"),s()),i&2){let e=r.$implicit;n(),p(" ",v(2,1,e.createdDate)," ")}}function Tc(i,r){i&1&&(a(0,"mat-header-cell"),m(1),g(2,"translate"),s()),i&2&&(n(),p(" ",v(2,1,"TITLE.OPTION")," "))}function Ic(i,r){if(i&1&&(a(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),m(3,"more_vert"),s()(),_(4,"mat-menu",null,2),s()),i&2){let e=W(5);n(),d("matMenuTriggerFor",e)}}function bc(i,r){i&1&&_(0,"mat-header-row")}function Mc(i,r){if(i&1){let e=w();a(0,"mat-row",60),M("click",function(t){let l=h(e).$implicit,u=f();return C(u.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=h(e).$implicit,u=f();return C(u.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=r.$implicit,o=f();ie("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var to=class to extends Ke{constructor(e,o,t,l,u,c,L,oe,te,le,ot,Et,E){super(o,new jt,Et,c,oe);this.coreEnumService=e;this.contentService=o;this.cmsToastrService=t;this.cmsConfirmationDialogService=l;this.activatedRoute=u;this.tokenHelper=c;this.cdr=L;this.translate=oe;this.cmsStoreService=te;this.router=le;this.pageInfo=ot;this.publicHelper=Et;this.dialog=E;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new we;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","linkUserId","linkMemberId","UserAccessAreaType","UsedUsername","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkUserId","linkMemberId","UserAccessAreaType","UsedUsername","createdDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let vt=new D;vt.propertyName="LinkCmsSiteId",vt.value=this.requestLinkSiteId,this.filteModelContent.filters.push(vt)}if(this.requestLinkUserId>0){let vt=new D;vt.propertyName="linkUserId",vt.value=this.requestLinkUserId,this.filteModelContent.filters.push(vt)}if(this.requestLinkDeviceId>0){let vt=new D;vt.propertyName="LinkDeviceId",vt.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(vt)}this.optionsSearch.parentMethods={onSubmit:vt=>this.onSubmitOptionsSearch(vt)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=x.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=x.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new jt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new D;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new D;t.propertyAnyName="linkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new D;t.propertyAnyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=x.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(xo,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Lo,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(u,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{o.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),u=new D;u.propertyName="recordStatus",u.value=Me.Available,l.filters.push(u),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{o.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonViewDeviceRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};to.\u0275fac=function(o){return new(o||to)(S(Q),S(Bt),S(F),S(_e),S(Ie),S(H),S(V),S(P),S(G),S(be),S(We),S(j),S(Ae))},to.\u0275cmp=U({type:to,selectors:[["app-coretoken-user-list"]],standalone:!1,features:[z],decls:89,vars:44,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","linkMemberId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UsedUsername"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=w();T(0,ic,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),y("optionActionGuideNoticeDisplayChange",function(c){return h(l),k(t.viewGuideNotice,c)||(t.viewGuideNotice=c),C(c)}),M("optionOnActionButtonMemoRow",function(){return h(l),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(l),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(l),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(l),C(t.onActionButtonPrintRow())}),I(2,5),m(3," -------------------------------------- "),b(),ne(4,6)(5,7),I(6,8),T(7,oc,2,0,"a",9),a(8,"a",10),M("click",function(){return h(l),C(t.viewGuideNotice=!t.viewGuideNotice)}),_(9,"i",11),s(),a(10,"a",10),M("click",function(){return h(l),C(t.onActionButtonReload())}),_(11,"i",12),s(),b(),I(12,13),a(13,"a",14),M("click",function(){return h(l),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(14,"mat-slide-toggle",15),m(15),g(16,"translate"),s(),a(17,"a",14),M("click",function(){return h(l),C(t.onActionButtonStatist())}),_(18,"mat-slide-toggle",15),m(19),g(20,"translate"),s(),b(),ne(21,16),I(22,17),T(23,nc,7,3,"div",18)(24,rc,7,3,"div",18),a(25,"div",19)(26,"a",20),M("click",function(){return h(l),C(t.onActionButtonViewSiteRow(t.tableRowSelected))}),_(27,"i",21)(28,"br"),s(),a(29,"p",22),m(30),g(31,"translate"),s()(),a(32,"div",19)(33,"a",20),M("click",function(){return h(l),C(t.onActionButtonViewUserRow(t.tableRowSelected))}),_(34,"i",23)(35,"br"),s(),a(36,"p",22),m(37),g(38,"translate"),s()(),a(39,"div",19)(40,"a",20),M("click",function(){return h(l),C(t.onActionButtonViewMemberRow(t.tableRowSelected))}),_(41,"i",24)(42,"br"),s(),a(43,"p",22),m(44),g(45,"translate"),s()(),a(46,"div",19)(47,"a",20),M("click",function(){return h(l),C(t.onActionButtonViewDeviceRow(t.tableRowSelected))}),_(48,"i",25)(49,"br"),s(),a(50,"p",22),m(51),g(52,"translate"),s()(),T(53,sc,7,3,"div",18),b(),I(54,26),a(55,"app-cms-search-list",27),y("optionsChange",function(c){return h(l),k(t.optionsSearch,c)||(t.optionsSearch=c),C(c)}),s(),a(56,"app-cms-statist-list",27),y("optionsChange",function(c){return h(l),k(t.optionsStatist,c)||(t.optionsStatist=c),C(c)}),s(),b(),I(57,28),a(58,"mat-table",29,0),M("matSortChange",function(){h(l);let c=W(59);return C(t.onTableSortData(c))}),I(60,30),T(61,ac,2,1,"mat-header-cell",31)(62,lc,2,1,"mat-cell",32),b(),I(63,33),T(64,cc,2,1,"mat-header-cell",31)(65,mc,4,5,"mat-cell",32),b(),I(66,34),T(67,dc,2,1,"mat-header-cell",31)(68,pc,4,5,"mat-cell",32),b(),I(69,35),T(70,uc,2,1,"mat-header-cell",31)(71,fc,2,1,"mat-cell",32),b(),I(72,36),T(73,Sc,2,1,"mat-header-cell",31)(74,hc,3,4,"mat-cell",32),b(),I(75,37),T(76,Cc,2,1,"mat-header-cell",31)(77,gc,2,1,"mat-cell",32),b(),I(78,38),T(79,_c,2,1,"mat-header-cell",31)(80,vc,3,3,"mat-cell",39),b(),I(81,40),T(82,Tc,3,3,"mat-header-cell",41)(83,Ic,6,1,"mat-cell",42),b(),T(84,bc,1,0,"mat-header-row",43)(85,Mc,1,2,"mat-row",44),s(),b(),I(86,45),a(87,"mat-paginator",46,1),M("page",function(c){return h(l),C(t.onTablePageingData(c))}),s(),b(),s()}o&2&&(d("ngIf",t.requestLinkUserId>0),n(),d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),d("ngIf",t.requestLinkSiteId>0),n(4),ie("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),d("checked",t.optionsSearch.data.show),n(),p("",v(16,31,"ACTION.SEARCH")," "),n(3),d("checked",t.optionsStatist.data.show),n(),p("",v(20,33,"ACTION.STATIST")," "),n(4),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(6),p(" ",v(31,35,"ACTION.SITE")," "),n(7),p(" ",v(38,37,"ACTION.USER")," "),n(7),p(" ",v(45,39,"ACTION.MEMBER")," "),n(7),p(" ",v(52,41,"ACTION.DEVICE")," "),n(2),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),n(2),A("options",t.optionsSearch),n(),A("options",t.optionsStatist),n(2),d("dataSource",t.tableSource),n(26),d("matHeaderRowDef",t.tabledisplayedColumns),n(),d("matRowDefColumns",t.tabledisplayedColumns),n(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(43,tc)))},dependencies:[O,Ee,ke,ye,Re,De,Le,xe,Ue,Be,Oe,He,Pe,Ve,Fe,Ne,Ge,je,qe,$e,Xe,Ye,Ze,tt,Te,N,it,ze,et,Je],encapsulation:2});var fi=to;var wc=["vform"];function Ec(i,r){if(i&1){let e=w();a(0,"app-cms-enum-record-status-selector",36),y("modelChange",function(t){h(e);let l=f();return k(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),C(t)}),s()}if(i&2){let e=f();A("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ac(i,r){if(i&1&&(a(0,"option",37),m(1),s()),i&2){let e=r.$implicit;d("value",e.value),n(),p(" ",e.description," ")}}function kc(i,r){i&1&&(a(0,"mat-error"),m(1," LinkMemberId is "),a(2,"strong"),m(3),g(4,"translate"),s()()),i&2&&(n(3),pt(v(4,1,"MESSAGE.required")))}function yc(i,r){if(i&1&&(a(0,"option",37),m(1),s()),i&2){let e=r.$implicit;d("value",e.value),n(),p(" ",e.description," ")}}function Rc(i,r){i&1&&(a(0,"mat-error"),m(1," UserAccessAreaType is "),a(2,"strong"),m(3),g(4,"translate"),s()()),i&2&&(n(3),pt(v(4,1,"MESSAGE.required")))}function Dc(i,r){if(i&1){let e=w();a(0,"div",38)(1,"div",39)(2,"h5",40),m(3),s()(),a(4,"div",41)(5,"div",42)(6,"input",43),y("ngModelChange",function(t){h(e);let l=f();return k(l.dataModel.userAccessAdminAllowToAllData,t)||(l.dataModel.userAccessAdminAllowToAllData=t),C(t)}),s(),_(7,"label",44),s()()()}if(i&2){let e=f();n(3),p(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," "),n(3),A("ngModel",e.dataModel.userAccessAdminAllowToAllData)}}function Lc(i,r){if(i&1){let e=w();a(0,"div",38)(1,"div",39)(2,"h5",45),m(3),s()(),a(4,"div",41)(5,"div",42)(6,"input",46),y("ngModelChange",function(t){h(e);let l=f();return k(l.dataModel.userAccessAdminAllowToProfessionalData,t)||(l.dataModel.userAccessAdminAllowToProfessionalData=t),C(t)}),s(),_(7,"label",47),s()()()}if(i&2){let e=f();n(3),p(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," "),n(3),A("ngModel",e.dataModel.userAccessAdminAllowToProfessionalData)}}function xc(i,r){if(i&1){let e=w();a(0,"div",38)(1,"div",39)(2,"h5",48),m(3),s()(),a(4,"div",41)(5,"div",42)(6,"input",49),y("ngModelChange",function(t){h(e);let l=f();return k(l.dataModel.rememberOnDevice,t)||(l.dataModel.rememberOnDevice=t),C(t)}),s(),_(7,"label",50),s()()()}if(i&2){let e=f();n(3),p(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," "),n(3),A("ngModel",e.dataModel.rememberOnDevice)}}function Uc(i,r){if(i&1){let e=w();a(0,"div",51)(1,"label",52),m(2),s(),a(3,"input",53),y("ngModelChange",function(t){h(e);let l=f();return k(l.dataModel.tokenExpireDate,t)||(l.dataModel.tokenExpireDate=t),C(t)}),s(),_(4,"mat-datepicker-toggle",54)(5,"mat-datepicker",55,8),s()}if(i&2){let e=W(6),o=f();n(2),pt(o.fieldsInfo.tokenExpireDate==null?null:o.fieldsInfo.tokenExpireDate.fieldTitle),n(),d("matDatepicker",e),A("ngModel",o.dataModel.tokenExpireDate),n(),d("for",e)}}function Bc(i,r){if(i&1&&(a(0,"div"),_(1,"div",56),g(2,"prettyjson"),s()),i&2){let e=f();n(),d("innerHTML",v(2,1,e.dataModel),bt)}}function Vc(i,r){if(i&1){let e=w();a(0,"div",57)(1,"button",58),M("click",function(){h(e);let t=f();return C(t.onFormCancel())}),_(2,"i",59),m(3),g(4,"translate"),s()()}i&2&&(n(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var io=class io extends ct{constructor(e,o,t,l,u,c,L,oe,te,le){super(l,new Pt,te,le);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreLogTokenUserService=l;this.cmsToastrService=u;this.tokenHelper=c;this.cmsStoreService=L;this.cdr=oe;this.publicHelper=te;this.translate=le;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new yt;this.dataModel=new Pt;this.formInfo=new ee;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreLogTokenUserService.setAccessLoad(),this.coreLogTokenUserService.setAccessDataType(rt.Editor),this.coreLogTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};io.\u0275fac=function(o){return new(o||io)(S(Y),S(X),S(Q),S(Rt),S(F),S(H),S(G),S(V),S(j),S(P))},io.\u0275cmp=U({type:io,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(o,t){if(o&1&&J(wc,5),o&2){let l;K(l=$())&&(t.formGroup=l.first)}},standalone:!1,features:[z],decls:67,vars:45,consts:[["LinkMemberId","ngModel"],["UserAccessAreaType","ngModel"],["BrowserLanguage",""],["UserLanguage",""],["LinkDeviceId",""],["LinkApplicationId",""],["DeviceClientMAC",""],["Token",""],["tokenExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.linkMemberId","name","dataModel.linkMemberId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.browserLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.browserLanguage","placeholder","BrowserLanguage","id","dataModel.browserLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.userLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.userLanguage","placeholder","UserLanguage","id","dataModel.userLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.token",1,"color-highlight"],["matInput","","type","text","name","dataModel.token","placeholder","Token","id","dataModel.token",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.userAccessAdminAllowToAllData",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.userAccessAdminAllowToAllData","name","dataModel.userAccessAdminAllowToAllData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToAllData",1,"custom-control-label"],["data-trigger-switch","dataModel.userAccessAdminAllowToProfessionalData",1,"font-600","font-14"],["type","checkbox","id","dataModel.userAccessAdminAllowToProfessionalData","name","dataModel.userAccessAdminAllowToProfessionalData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToProfessionalData",1,"custom-control-label"],["data-trigger-switch","dataModel.rememberOnDevice",1,"font-600","font-14"],["type","checkbox","id","dataModel.rememberOnDevice","name","dataModel.rememberOnDevice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rememberOnDevice",1,"custom-control-label"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.tokenExpireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenExpireDate","id","dataModel.tokenExpireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){if(o&1){let l=w();a(0,"div",9),_(1,"app-progress-spinner",10),a(2,"div",11)(3,"p",12),m(4),s(),a(5,"p"),m(6),g(7,"translate"),s(),T(8,Ec,1,5,"app-cms-enum-record-status-selector",13),a(9,"div",14)(10,"select",15,0),y("ngModelChange",function(c){return h(l),k(t.dataModel.linkMemberId,c)||(t.dataModel.linkMemberId=c),C(c)}),T(12,Ac,2,2,"option",16),s(),a(13,"em"),m(14),g(15,"translate"),s(),T(16,kc,5,3,"mat-error",17),s(),a(17,"div",14)(18,"select",18,1),y("ngModelChange",function(c){return h(l),k(t.dataModel.userAccessAreaType,c)||(t.dataModel.userAccessAreaType=c),C(c)}),T(20,yc,2,2,"option",16),s(),a(21,"em"),m(22),g(23,"translate"),s(),T(24,Rc,5,3,"mat-error",17),s(),_(25,"app-cms-site-selector",19),g(26,"translate"),_(27,"app-cms-user-selector",19),g(28,"translate"),_(29,"app-cms-member-selector",19),g(30,"translate"),T(31,Dc,8,2,"div",20)(32,Lc,8,2,"div",20)(33,xc,8,2,"div",20),a(34,"div",21)(35,"label",22),m(36,"BrowserLanguage"),s(),a(37,"input",23,2),y("ngModelChange",function(c){return h(l),k(t.dataModel.browserLanguage,c)||(t.dataModel.browserLanguage=c),C(c)}),s()(),a(39,"div",21)(40,"label",24),m(41,"UserLanguage"),s(),a(42,"input",25,3),y("ngModelChange",function(c){return h(l),k(t.dataModel.userLanguage,c)||(t.dataModel.userLanguage=c),C(c)}),s()(),a(44,"div",21)(45,"label",26),m(46,"LinkDeviceId"),s(),a(47,"input",27,4),y("ngModelChange",function(c){return h(l),k(t.dataModel.linkDeviceId,c)||(t.dataModel.linkDeviceId=c),C(c)}),s()(),a(49,"div",21)(50,"label",28),m(51,"LinkApplicationId"),s(),a(52,"input",29,5),y("ngModelChange",function(c){return h(l),k(t.dataModel.linkApplicationId,c)||(t.dataModel.linkApplicationId=c),C(c)}),s()(),a(54,"div",21)(55,"label",30),m(56,"DeviceClientMAC"),s(),a(57,"input",31,6),y("ngModelChange",function(c){return h(l),k(t.dataModel.deviceClientMAC,c)||(t.dataModel.deviceClientMAC=c),C(c)}),s()(),a(59,"div",21)(60,"label",32),m(61,"Token"),s(),a(62,"input",33,7),y("ngModelChange",function(c){return h(l),k(t.dataModel.token,c)||(t.dataModel.token=c),C(c)}),s()(),T(64,Uc,7,4,"div",34)(65,Bc,3,3,"div",17)(66,Vc,5,3,"div",35),s()()}if(o&2){let l=W(11),u=W(19);n(),d("optionsInfoAreaId",t.constructorInfoAreaId),n(3),p(" ",t.formInfo.formTitle," "),n(2),p(" ",v(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),n(2),A("ngModel",t.dataModel.linkMemberId),n(2),d("ngForOf",t.dataModelEnumManageUserAccessUserTypesResult.listItems),n(2),pt(v(15,35,"TITLE.SELECT_STATUS")),n(2),d("ngIf",l.errors==null?null:l.errors.required),n(2),A("ngModel",t.dataModel.userAccessAreaType),n(2),d("ngForOf",t.dataModelEnumManageUserAccessAreaTypesResult.listItems),n(2),pt(v(23,37,"TITLE.SELECT_STATUS")),n(2),d("ngIf",u.errors==null?null:u.errors.required),n(),d("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(26,39,"TITLE.WEBSITE")),n(2),d("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(28,41,"TITLE.USER")),n(2),d("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",v(30,43,"TITLE.Member")),n(2),d("ngIf",t.fieldsInfo.userAccessAdminAllowToAllData==null?null:t.fieldsInfo.userAccessAdminAllowToAllData.accessWatchField),n(),d("ngIf",t.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.accessWatchField),n(),d("ngIf",t.fieldsInfo.rememberOnDevice==null?null:t.fieldsInfo.rememberOnDevice.accessWatchField),n(4),A("ngModel",t.dataModel.browserLanguage),n(5),A("ngModel",t.dataModel.userLanguage),n(5),A("ngModel",t.dataModel.linkDeviceId),n(5),A("ngModel",t.dataModel.linkApplicationId),n(5),A("ngModel",t.dataModel.deviceClientMAC),n(5),A("ngModel",t.dataModel.token),n(2),d("ngIf",t.fieldsInfo.tokenExpireDate==null?null:t.fieldsInfo.tokenExpireDate.accessWatchField),n(),d("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),n(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[_i,O,Mi,wi,vi,co,bi,Ti,Ii,po,uo,fo,Ei,mo,ge,lt,ht,mt,Ai,Z,N,wt],encapsulation:2});var Uo=io;var Oc=["vform"];function Pc(i,r){if(i&1){let e=w();a(0,"div",8)(1,"button",9),M("click",function(){h(e);let t=f();return C(t.onFormCancel())}),_(2,"i",10),m(3),g(4,"translate"),s()()}i&2&&(n(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var oo=class oo{constructor(r,e,o,t,l,u,c,L,oe,te){this.data=r;this.dialogRef=e;this.coreEnumService=o;this.coreLogTokenUserService=t;this.cmsToastrService=l;this.tokenHelper=u;this.cmsStoreService=c;this.cdr=L;this.publicHelper=oe;this.translate=te;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new st;this.dataModelResult=new R;this.dataModel=new Pt;this.formInfo=new ee;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>B(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreLogTokenUserService.setAccessLoad(),this.coreLogTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};oo.\u0275fac=function(e){return new(e||oo)(S(Y),S(X),S(Q),S(Rt),S(F),S(H),S(G),S(V),S(j),S(P))},oo.\u0275cmp=U({type:oo,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(e,o){if(e&1&&J(Oc,5),e&2){let t;K(t=$())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),_(6,"app-cms-form-result-message",5),s(),a(7,"div",6),T(8,Pc,5,3,"div",7),s()),e&2&&(n(),p(" ",o.formInfo.formTitle," "),n(2),d("optionsInfoAreaId",o.constructorInfoAreaId),n(),d("dataModel",o.dataModel)("optionMethod",1),n(2),d("formInfo",o.formInfo),n(2),d("ngIf",o.formInfo.submitButtonEnabled))},dependencies:[O,Z,dt,Qe,N],encapsulation:2});var Bo=oo;var Nc=()=>["expandedTitle"],Gc=()=>[5,10,20,100];function Hc(i,r){if(i&1&&_(0,"app-core-user-header",46),i&2){let e=f();d("optionId",e.requestLinkUserId)}}function Fc(i,r){if(i&1){let e=w();a(0,"a",47),M("click",function(){h(e);let t=f();return C(t.onActionBackToParent())}),_(1,"i",48),s()}}function jc(i,r){if(i&1){let e=w();a(0,"div",49)(1,"a",50),M("click",function(){h(e);let t=f();return C(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",51)(3,"br"),s(),a(4,"p",52),m(5),g(6,"translate"),s()()}i&2&&(n(5),p(" ",v(6,1,"ACTION.EDIT")," "))}function qc(i,r){if(i&1){let e=w();a(0,"div",49)(1,"a",53),M("click",function(){h(e);let t=f();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",54)(3,"br"),s(),a(4,"p",52),m(5),g(6,"translate"),s()()}i&2&&(n(5),p(" ",v(6,1,"ACTION.DELETE")," "))}function Wc(i,r){if(i&1){let e=w();a(0,"div",49)(1,"a",55),M("click",function(){h(e);let t=f();return C(t.onActionButtonViewSiteRow(t.tableRowSelected))}),_(2,"i",56)(3,"br"),s(),a(4,"p",52),m(5),g(6,"translate"),s()()}i&2&&(n(5),p(" ",v(6,1,"ACTION.SITE")," "))}function Qc(i,r){if(i&1){let e=w();a(0,"div",49)(1,"a",55),M("click",function(){h(e);let t=f();return C(t.onActionButtonViewUserRow(t.tableRowSelected))}),_(2,"i",57)(3,"br"),s(),a(4,"p",52),m(5),g(6,"translate"),s()()}i&2&&(n(5),p(" ",v(6,1,"ACTION.USER")," "))}function zc(i,r){if(i&1){let e=w();a(0,"div",49)(1,"a",55),M("click",function(){h(e);let t=f();return C(t.onActionButtonViewDeviceRow(t.tableRowSelected))}),_(2,"i",58)(3,"br"),s(),a(4,"p",52),m(5),g(6,"translate"),s()()}i&2&&(n(5),p(" ",v(6,1,"ACTION.DEVICE")," "))}function Jc(i,r){if(i&1){let e=w();a(0,"div",49)(1,"a",59),M("click",function(){h(e);let t=f();return C(t.onActionButtonViewRow(t.tableRowSelected))}),_(2,"i",60)(3,"br"),s(),a(4,"p",52),m(5),g(6,"translate"),s()()}i&2&&(n(5),p(" ",v(6,1,"ACTION.VIEW")," "))}function Kc(i,r){if(i&1){let e=w();a(0,"mat-row",61),M("click",function(t){let l=h(e).$implicit,u=f();return C(u.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=h(e).$implicit,u=f();return C(u.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=h(e).$implicit,l=f();return C(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=h(e).$implicit,l=f();return C(l.onActionTableRowMouseLeave(t))}),s()}if(i&2){let e=r.$implicit,o=f();ie("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}function $c(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Xc(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),p(" ",e.id," ")}}function Yc(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function Zc(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),p(" ",e.description," ")}}function em(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function tm(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),s()),i&2){let e=r.$implicit;n(),p(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function im(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function om(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),s()),i&2){let e=r.$implicit;n(),p(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function nm(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function rm(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),p(" ",e.linkMemberUserId," ")}}function sm(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function am(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"enums"),s()),i&2){let e=r.$implicit,o=f();n(),p(" ",se(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function lm(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function cm(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"enums"),s()),i&2){let e=r.$implicit,o=f();n(),p(" ",se(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function mm(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function dm(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",63),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),d("ngClass",v(2,1,e.userAccessAdminAllowToAllData))}}function pm(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function um(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",63),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),d("ngClass",v(2,1,e.userAccessAdminAllowToProfessionalData))}}function fm(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Sm(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",63),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),d("ngClass",v(2,1,e.rememberOnDevice))}}function hm(i,r){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Cm(i,r){if(i&1&&(a(0,"mat-cell",64),m(1),g(2,"localeDateTime"),s()),i&2){let e=r.$implicit;n(),p(" ",v(2,1,e.createdDate)," ")}}function gm(i,r){i&1&&(a(0,"mat-header-cell"),m(1),g(2,"translate"),s()),i&2&&(n(),p(" ",v(2,1,"TITLE.OPTION")," "))}function _m(i,r){if(i&1&&(a(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),m(3,"more_vert"),s()(),_(4,"mat-menu",null,2),s()),i&2){let e=W(5);n(),d("matMenuTriggerFor",e)}}function vm(i,r){i&1&&_(0,"mat-header-row")}function Tm(i,r){if(i&1){let e=w();a(0,"mat-row",67),M("click",function(t){let l=h(e).$implicit,u=f();return C(u.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=h(e).$implicit,u=f();return C(u.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=r.$implicit,o=f();ie("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}function Im(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"translate"),_(3,"br"),m(4),g(5,"translate"),_(6,"br"),m(7),g(8,"translate"),g(9,"cmssiteinfo"),g(10,"async"),_(11,"br"),m(12),g(13,"translate"),g(14,"cmsuserinfo"),g(15,"async"),_(16,"br"),m(17),g(18,"translate"),g(19,"localeDateTime"),s()),i&2){let e=r.$implicit;n(),gi(" ",v(2,10,"TITLE.Id")," : ",e.id," "),n(3),gi(" ",v(5,12,"TITLE.Description")," : ",e.description," "),n(3),gi(" ",v(8,14,"TITLE.Site_Id")," : ",v(10,18,v(9,16,e.linkSiteId))," "),n(5),gi(" ",v(13,20,"TITLE.User_Id")," : ",v(15,24,v(14,22,e.linkUserId))," "),n(5),gi(" ",v(18,26,"TITLE.CreationDate")," : ",v(19,28,e.createdDate)," ")}}var no=class no extends Ke{constructor(e,o,t,l,u,c,L,oe,te,le,ot,Et){super(e,new Pt,ot,u,oe);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=u;this.cdr=c;this.cmsStoreService=L;this.translate=oe;this.router=te;this.pageInfo=le;this.publicHelper=ot;this.dialog=Et;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new we;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["UserAccessAreaType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice"];this.tabledisplayedColumnsMobileSource=["UserAccessAreaType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new D;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new D;E.propertyName="linkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new D;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=x.Descending}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=x.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Pt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=x.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Bo,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Uo,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let u=this.constructor.name+"ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(u,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{o.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),u=new D;u.propertyName="recordStatus",u.value=Me.Available,l.filters.push(u),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{o.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonViewDeviceRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};no.\u0275fac=function(o){return new(o||no)(S(Rt),S(F),S(_e),S(Ie),S(H),S(V),S(G),S(P),S(be),S(We),S(j),S(Ae))},no.\u0275cmp=U({type:no,selectors:[["app-coretoken-user-list"]],standalone:!1,features:[z],decls:79,vars:37,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Description"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["matColumnDef","expandedTitle"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],["mat-sort-header",""],[3,"ngClass"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=w();T(0,Hc,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),y("optionActionGuideNoticeDisplayChange",function(c){return h(l),k(t.viewGuideNotice,c)||(t.viewGuideNotice=c),C(c)}),M("optionOnActionButtonMemoRow",function(){return h(l),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(l),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(l),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(l),C(t.onActionButtonPrintRow())}),I(2,5),m(3," -------------------------------------- "),b(),ne(4,6)(5,7),I(6,8),T(7,Fc,2,0,"a",9),a(8,"a",10),M("click",function(){return h(l),C(t.viewGuideNotice=!t.viewGuideNotice)}),_(9,"i",11),s(),a(10,"a",10),M("click",function(){return h(l),C(t.onActionButtonReload())}),_(11,"i",12),s(),b(),I(12,13),a(13,"a",14),M("click",function(){return h(l),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(14,"mat-slide-toggle",15),m(15),g(16,"translate"),s(),a(17,"a",14),M("click",function(){return h(l),C(t.onActionButtonStatist())}),_(18,"mat-slide-toggle",15),m(19),g(20,"translate"),s(),b(),ne(21,16),I(22,17),T(23,jc,7,3,"div",18)(24,qc,7,3,"div",18)(25,Wc,7,3,"div",18)(26,Qc,7,3,"div",18)(27,zc,7,3,"div",18)(28,Jc,7,3,"div",18),b(),I(29,19),a(30,"app-cms-search-list",20),y("optionsChange",function(c){return h(l),k(t.optionsSearch,c)||(t.optionsSearch=c),C(c)}),s(),a(31,"app-cms-statist-list",20),y("optionsChange",function(c){return h(l),k(t.optionsStatist,c)||(t.optionsStatist=c),C(c)}),s(),b(),I(32,21),a(33,"mat-table",22,0),M("matSortChange",function(){h(l);let c=W(34);return C(t.onTableSortData(c))}),T(35,Kc,1,2,"mat-row",23),I(36,24),T(37,$c,2,1,"mat-header-cell",25)(38,Xc,2,1,"mat-cell",26),b(),I(39,27),T(40,Yc,2,1,"mat-header-cell",25)(41,Zc,2,1,"mat-cell",26),b(),I(42,28),T(43,em,2,1,"mat-header-cell",25)(44,tm,4,5,"mat-cell",26),b(),I(45,29),T(46,im,2,1,"mat-header-cell",25)(47,om,4,5,"mat-cell",26),b(),I(48,30),T(49,nm,2,1,"mat-header-cell",25)(50,rm,2,1,"mat-cell",26),b(),I(51,31),T(52,sm,2,1,"mat-header-cell",25)(53,am,3,4,"mat-cell",26),b(),I(54,32),T(55,lm,2,1,"mat-header-cell",25)(56,cm,3,4,"mat-cell",26),b(),I(57,33),T(58,mm,2,1,"mat-header-cell",25)(59,dm,3,3,"mat-cell",26),b(),I(60,34),T(61,pm,2,1,"mat-header-cell",25)(62,um,3,3,"mat-cell",26),b(),I(63,35),T(64,fm,2,1,"mat-header-cell",25)(65,Sm,3,3,"mat-cell",26),b(),I(66,36),T(67,hm,2,1,"mat-header-cell",25)(68,Cm,3,3,"mat-cell",37),b(),I(69,38),T(70,gm,3,3,"mat-header-cell",39)(71,_m,6,1,"mat-cell",40),b(),T(72,vm,1,0,"mat-header-row",41)(73,Tm,1,2,"mat-row",42),I(74,43),T(75,Im,20,30,"mat-cell",26),b(),s(),b(),I(76,44),a(77,"mat-paginator",45,1),M("page",function(c){return h(l),C(t.onTablePageingData(c))}),s(),b(),s()}o&2&&(d("ngIf",t.requestLinkUserId>0),n(),d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),d("ngIf",t.requestLinkSiteId>0),n(4),ie("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),d("checked",t.optionsSearch.data.show),n(),p("",v(16,31,"ACTION.SEARCH")," "),n(3),d("checked",t.optionsStatist.data.show),n(),p("",v(20,33,"ACTION.STATIST")," "),n(4),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(),d("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkSiteId)>0),n(),d("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),n(),d("ngIf",(t.tableRowSelected==null||t.tableRowSelected.deviceClientMAC==null?null:t.tableRowSelected.deviceClientMAC.length)>0),n(),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),n(2),A("options",t.optionsSearch),n(),A("options",t.optionsStatist),n(2),d("dataSource",t.tableSource),n(2),d("matRowDefColumns",ve(35,Nc)),n(37),d("matHeaderRowDef",t.tabledisplayedColumns),n(),d("matRowDefColumns",t.tabledisplayedColumns),n(4),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(36,Gc)))},dependencies:[nt,O,Ee,ke,ye,Re,De,Le,xe,Ue,Be,Oe,He,Pe,Ve,Fe,Ne,Ge,je,qe,$e,Xe,Ye,Ze,tt,Te,N,it,ze,et,Je,at],encapsulation:2});var Si=no;var bm=()=>[5,10,20,100],Mm=i=>({display:i}),wm=i=>({background:i});function Em(i,r){if(i&1&&_(0,"app-core-user-header",52),i&2){let e=f();d("optionId",e.requestLinkUserId)}}function Am(i,r){if(i&1){let e=w();a(0,"a",53),M("click",function(){h(e);let t=f();return C(t.onActionBackToParent())}),_(1,"i",54),s()}}function km(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",55),M("click",function(){h(e);let t=f();return C(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",56)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),p(" ",v(6,1,"ACTION.EDIT")," "))}function ym(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",57),M("click",function(){h(e);let t=f();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",58)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),p(" ",v(6,1,"ACTION.DELETE")," "))}function Rm(i,r){if(i&1){let e=w();a(0,"div",19)(1,"a",59),M("click",function(){h(e);let t=f();return C(t.onActionButtonViewRow(t.tableRowSelected))}),_(2,"i",60)(3,"br"),s(),a(4,"p",22),m(5),g(6,"translate"),s()()}i&2&&(n(5),p(" ",v(6,1,"ACTION.VIEW")," "))}function Dm(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Lm(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),p(" ",e.id," ")}}function xm(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Um(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),s()),i&2){let e=r.$implicit;n(),p(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function Bm(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Vm(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),s()),i&2){let e=r.$implicit;n(),p(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function Om(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Pm(i,r){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;n(),p(" ",e.linkMemberUserId," ")}}function Nm(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Gm(i,r){if(i&1&&_(0,"select",64),i&2){let e=f().$implicit,o=f();d("contentService",o.contentService)("row",e)("ngStyle",Ce(3,Mm,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function Hm(i,r){if(i&1&&(a(0,"mat-cell",62),g(1,"statusCellClass"),_(2,"i",62),g(3,"statusIconClass"),T(4,Gm,1,5,"select",63),s()),i&2){let e=r.$implicit,o=f();d("ngClass",v(1,3,e.recordStatus)),n(2),d("ngClass",v(3,5,e.recordStatus)),n(2),d("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function Fm(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function jm(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"enums"),s()),i&2){let e=r.$implicit,o=f();n(),p(" ",se(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function qm(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function Wm(i,r){if(i&1&&(a(0,"mat-cell"),m(1),g(2,"enums"),s()),i&2){let e=r.$implicit,o=f();n(),p(" ",se(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Qm(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function zm(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",62),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),d("ngClass",v(2,1,e.userAccessAdminAllowToAllData))}}function Jm(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Km(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",62),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),d("ngClass",v(2,1,e.userAccessAdminAllowToProfessionalData))}}function $m(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Xm(i,r){if(i&1&&(a(0,"mat-cell"),_(1,"i",62),g(2,"boolclass"),s()),i&2){let e=r.$implicit;n(),d("ngClass",v(2,1,e.rememberOnDevice))}}function Ym(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Zm(i,r){if(i&1&&(a(0,"mat-cell",65),m(1),g(2,"localeDateTime"),s()),i&2){let e=r.$implicit;n(),p(" ",v(2,1,e.createdDate)," ")}}function ed(i,r){if(i&1&&(a(0,"mat-header-cell",61),m(1),s()),i&2){let e=f();n(),p(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function td(i,r){if(i&1&&(a(0,"mat-cell",66),m(1),g(2,"persianDate"),s()),i&2){let e=r.$implicit,o=f();d("ngStyle",Ce(4,wm,o.publicHelper.RowStyleExpireDate(e.expireDate))),n(),p(" ",v(2,2,e.expireDate)," ")}}function id(i,r){i&1&&(a(0,"mat-header-cell"),m(1),g(2,"translate"),s()),i&2&&(n(),p(" ",v(2,1,"TITLE.OPTION")," "))}function od(i,r){if(i&1&&(a(0,"mat-cell",67)(1,"button",68)(2,"mat-icon"),m(3,"more_vert"),s()(),_(4,"mat-menu",null,2),s()),i&2){let e=W(5);n(),d("matMenuTriggerFor",e)}}function nd(i,r){i&1&&_(0,"mat-header-row")}function rd(i,r){if(i&1){let e=w();a(0,"mat-row",69),M("click",function(t){let l=h(e).$implicit,u=f();return C(u.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=h(e).$implicit,u=f();return C(u.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=r.$implicit,o=f();ie("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var ro=class ro extends Ke{constructor(e,o,t,l,u,c,L,oe,te,le,ot,Et){super(e,new It,ot,u,L);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=u;this.cdr=c;this.translate=L;this.cmsStoreService=oe;this.router=te;this.pageInfo=le;this.publicHelper=ot;this.dialog=Et;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new we;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new D;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new D;E.propertyName="linkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new D;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=x.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=x.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.processOrderStore).subscribe(e=>B(this,null,function*(){var o=e.find(t=>t.contentAction=="core_token_online_update_list"&&!t.isRun);o&&o?.id?.length>0&&(o.isRun=!0,this.publicHelper.setProcessOrder(o),this.DataGetAll(t=>{o.isComplate=!0,o.isSuccess=t,this.publicHelper.setProcessOrder(o)}))})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(e=()=>{}){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new It);let o=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(l=>{this.publicHelper.processService.processStart(o,l,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(t.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let l=new D;l.propertyName="recordStatus",l.value=this.filteModelContent.filterActionSearchRecordStatus,t.filters.push(l)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let l=new D;l.propertyAnyName="linkSiteId",l.propertyName="SiteUsers",l.value=this.filteModelContent.filterActionSearchLinkSiteId,t.filters.push(l)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let l=new D;l.propertyAnyName="linkUserId",l.value=this.filteModelContent.filterActionSearchLinkUserId,t.filters.push(l)}this.contentService.ServiceGetAllLiveConnection(t).subscribe({next:l=>{l.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),this.dataModelResult=l,this.tableSource.data=l.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)},1e3)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(o),e&&e(!0)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(o,!1),e&&e(!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=x.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Ji,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Qi,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(u,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{o.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),u=new D;u.propertyName="recordStatus",u.value=Me.Available,l.filters.push(u),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{o.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};ro.\u0275fac=function(o){return new(o||ro)(S(Mt),S(F),S(_e),S(Ie),S(H),S(V),S(P),S(G),S(be),S(We),S(j),S(Ae))},ro.\u0275cmp=U({type:ro,selectors:[["app-coretoken-notification-list-online"]],standalone:!1,features:[z],decls:90,vars:38,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=w();T(0,Em,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),y("optionActionGuideNoticeDisplayChange",function(c){return h(l),k(t.viewGuideNotice,c)||(t.viewGuideNotice=c),C(c)}),M("optionOnActionButtonMemoRow",function(){return h(l),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(l),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(l),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(l),C(t.onActionButtonPrintRow())}),I(2,5),m(3," -------------------------------------- "),b(),ne(4,6)(5,7),I(6,8),T(7,Am,2,0,"a",9),a(8,"a",10),M("click",function(){return h(l),C(t.viewGuideNotice=!t.viewGuideNotice)}),_(9,"i",11),s(),a(10,"a",10),M("click",function(){return h(l),C(t.onActionButtonReload())}),_(11,"i",12),s(),b(),I(12,13),a(13,"a",14),M("click",function(){return h(l),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(14,"mat-slide-toggle",15),m(15),g(16,"translate"),s(),a(17,"a",14),M("click",function(){return h(l),C(t.onActionButtonStatist())}),_(18,"mat-slide-toggle",15),m(19),g(20,"translate"),s(),b(),ne(21,16),I(22,17),T(23,km,7,3,"div",18)(24,ym,7,3,"div",18),a(25,"div",19)(26,"a",20),M("click",function(){return h(l),C(t.onActionButtonViewSiteRow(t.tableRowSelected))}),_(27,"i",21)(28,"br"),s(),a(29,"p",22),m(30),g(31,"translate"),s()(),a(32,"div",19)(33,"a",20),M("click",function(){return h(l),C(t.onActionButtonViewUserRow(t.tableRowSelected))}),_(34,"i",23)(35,"br"),s(),a(36,"p",22),m(37),g(38,"translate"),s()(),T(39,Rm,7,3,"div",18),b(),I(40,24),a(41,"app-cms-search-list",25),y("optionsChange",function(c){return h(l),k(t.optionsSearch,c)||(t.optionsSearch=c),C(c)}),s(),a(42,"app-cms-statist-list",25),y("optionsChange",function(c){return h(l),k(t.optionsStatist,c)||(t.optionsStatist=c),C(c)}),s(),b(),I(43,26),a(44,"mat-table",27,0),M("matSortChange",function(){h(l);let c=W(45);return C(t.onTableSortData(c))}),I(46,28),T(47,Dm,2,1,"mat-header-cell",29)(48,Lm,2,1,"mat-cell",30),b(),I(49,31),T(50,xm,2,1,"mat-header-cell",29)(51,Um,4,5,"mat-cell",30),b(),I(52,32),T(53,Bm,2,1,"mat-header-cell",29)(54,Vm,4,5,"mat-cell",30),b(),I(55,33),T(56,Om,2,1,"mat-header-cell",29)(57,Pm,2,1,"mat-cell",30),b(),I(58,34),T(59,Nm,2,1,"mat-header-cell",29)(60,Hm,5,7,"mat-cell",35),b(),I(61,36),T(62,Fm,2,1,"mat-header-cell",29)(63,jm,3,4,"mat-cell",30),b(),I(64,37),T(65,qm,2,1,"mat-header-cell",29)(66,Wm,3,4,"mat-cell",30),b(),I(67,38),T(68,Qm,2,1,"mat-header-cell",29)(69,zm,3,3,"mat-cell",30),b(),I(70,39),T(71,Jm,2,1,"mat-header-cell",29)(72,Km,3,3,"mat-cell",30),b(),I(73,40),T(74,$m,2,1,"mat-header-cell",29)(75,Xm,3,3,"mat-cell",30),b(),I(76,41),T(77,Ym,2,1,"mat-header-cell",29)(78,Zm,3,3,"mat-cell",42),b(),I(79,43),T(80,ed,2,1,"mat-header-cell",29)(81,td,3,6,"mat-cell",44),b(),I(82,45),T(83,id,3,3,"mat-header-cell",46)(84,od,6,1,"mat-cell",47),b(),T(85,nd,1,0,"mat-header-row",48)(86,rd,1,2,"mat-row",49),s(),b(),I(87,50),a(88,"mat-paginator",51,1),M("page",function(c){return h(l),C(t.onTablePageingData(c))}),s(),b(),s()}o&2&&(d("ngIf",t.requestLinkUserId>0),n(),d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),d("ngIf",t.requestLinkSiteId>0),n(4),ie("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),d("checked",t.optionsSearch.data.show),n(),p("",v(16,29,"ACTION.SEARCH")," "),n(3),d("checked",t.optionsStatist.data.show),n(),p("",v(20,31,"ACTION.STATIST")," "),n(4),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(6),p(" ",v(31,33,"ACTION.SITE")," "),n(7),p(" ",v(38,35,"ACTION.USER")," "),n(2),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),n(2),A("options",t.optionsSearch),n(),A("options",t.optionsStatist),n(2),d("dataSource",t.tableSource),n(41),d("matHeaderRowDef",t.tabledisplayedColumns),n(),d("matRowDefColumns",t.tabledisplayedColumns),n(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(37,bm)))},dependencies:[nt,O,St,Ee,ke,ge,ye,Re,De,Le,xe,Ue,Be,Oe,He,Pe,Ve,Fe,Ne,Ge,je,qe,$e,Xe,Ye,Ze,Ct,tt,Te,N,Tt,it,ze,et,Je,gt,_t,at],encapsulation:2});var Vo=ro;var sd=[{path:"",component:go,data:{title:"ROUTE.CORETOKEN"},children:[{path:"user",component:ui,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkSiteId/:LinkSiteId",component:ui,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkUserId/:LinkUserId",component:ui,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkDeviceId/:LinkDeviceId",component:ui,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"userlog",component:Si,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkSiteId/:LinkSiteId",component:Si,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkUserId/:LinkUserId",component:Si,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkDeviceId/:LinkDeviceId",component:Si,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userbadlogin",component:fi,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkSiteId/:LinkSiteId",component:fi,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkUserId/:LinkUserId",component:fi,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkDeviceId/:LinkDeviceId",component:fi,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"activation",component:Co,data:{title:"ROUTE.CORETOKEN.ACTIVATION"}},{path:"microservice",component:wo,data:{title:"ROUTE.CORETOKEN.MICROSERVICE"}},{path:"microservicelog",component:To,data:{title:"ROUTE.CORETOKEN.MICROSERVICELOG"}},{path:"notification",component:yo,data:{title:"ROUTE.CORETOKEN.NOTIFICATION"}},{path:"online",component:Vo,data:{title:"ROUTE.CORETOKEN.NOTIFICATION"}},{path:"notificationlog",component:ko,data:{title:"ROUTE.CORETOKEN.NOTIFICATIONLOG"}}]}],hi=class hi{};hi.\u0275fac=function(e){return new(e||hi)},hi.\u0275mod=lo({type:hi}),hi.\u0275inj=ao({imports:[Po.forChild(sd),Po]});var Oo=hi;var Ci=class Ci{};Ci.\u0275fac=function(e){return new(e||Ci)},Ci.\u0275mod=lo({type:Ci}),Ci.\u0275inj=ao({providers:[Ho,Q,Ut,Rt,Bt,xt,Vt,Dt,Mt,Lt,Fo,_e],imports:[Oo,No,Qo,zo.withConfig({warnOnNgModelWithFormControl:"never"}),Jo,Ko]});var Zo=Ci;export{Zo as CoreTokenModule};
