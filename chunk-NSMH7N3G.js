import{a as Qi}from"./chunk-XEMYKLOB.js";import{a as Ea,b as zi,e as No,f as Wo,g as fl,h as gl,i as ai,j as _l,k as Cl}from"./chunk-XJC4ULHW.js";import"./chunk-GME47UZW.js";import"./chunk-TKQHVTHS.js";import{a as hl}from"./chunk-A2X6GG4N.js";import{a as Pt}from"./chunk-E5BH276Y.js";import"./chunk-O75Y5CC3.js";import{a as ul}from"./chunk-KYMVJACC.js";import{a as Ma}from"./chunk-PBALWSYD.js";import{a as ya}from"./chunk-H56PQPV2.js";import{a as ml}from"./chunk-BO6LOMMS.js";import{a as pl}from"./chunk-DMKLUR4W.js";import{a as cl}from"./chunk-ZGUXVNBQ.js";import{a as Rt}from"./chunk-4E6U4HE6.js";import{a as At}from"./chunk-YYSRF5EW.js";import{a as We}from"./chunk-JEF4OJ24.js";import{a as rt}from"./chunk-7DEHQSB7.js";import{d as Kt,e as Oe,f as Ne,i as Yt}from"./chunk-FMZK63QH.js";import{a as xt}from"./chunk-4WAMJFSW.js";import"./chunk-QXNCAA7F.js";import{a as yt}from"./chunk-BNK7WLOJ.js";import{j as qe,k as je,l as Ze}from"./chunk-DP6YJRWM.js";import"./chunk-NQXRH7AD.js";import{a as ge}from"./chunk-XZCPJE47.js";import{a as ze,b as sl}from"./chunk-7SVXILIE.js";import{a as Qe}from"./chunk-XPUQI67V.js";import"./chunk-JDJMYH2Q.js";import{a as Le}from"./chunk-LSZD76DU.js";import{b as dl}from"./chunk-3RHHJRHJ.js";import{a as St}from"./chunk-7DUNEHBM.js";import"./chunk-T2SWGMVG.js";import"./chunk-IXPEP4O3.js";import"./chunk-5DHIOXLL.js";import{a as de}from"./chunk-PH5IBDIY.js";import{a as Ai}from"./chunk-HGNWVODT.js";import{a as z,d as ll}from"./chunk-5CUEEOJ3.js";import{b as rl,e as Qt,f as W}from"./chunk-NSI52VTG.js";import{A as Tt,Aa as zr,Ba as ft,Ca as Qr,Cb as O,Da as H,Db as F,Eb as il,Ha as ha,Ia as Sa,Ib as nl,Ka as kt,La as Vt,Oa as Be,Pb as De,Qb as ol,R as Zr,U as pa,Ua as Ge,V as ma,Wa as Ft,X as ua,Xa as Bt,Y as fa,a as It,d as la,da as ga,db as Kr,ea as _a,eb as Gt,f as sa,fa as Ca,fb as Ot,gb as Nt,hb as Wt,i as da,ib as Ht,jb as Ut,k as Or,kb as qt,lb as jt,m as Ur,ma as ot,mb as Zt,na as at,nb as zt,oa as wt,rc as Ce,s as se,tb as Yr,ub as Jr,uc as he,v as Fe,vb as Xr,wb as $r,wc as N,x as qr,xb as el,y as jr,yc as vi,zb as tl,zc as al}from"./chunk-WIVKQDM4.js";import{A as X,B as re,C as le,F as Wr,G as Hr,b as Lt,c as Y,h as J,i as ie,k as ne,l as ca,m as oe,n as ae,o as ht,r as Nr}from"./chunk-QRBNL5ZA.js";import{$j as Vr,A as _n,Cc as Tr,D as cr,H as Ae,Ij as Sn,Jj as _i,K as nt,Kj as Ar,La as Ir,Lj as Rr,Ln as _e,Mj as yn,Nj as xr,Oj as Zi,Pj as Ci,Rj as hi,Sj as Si,Tj as Pr,Ui as ri,Uj as yi,Vj as Dr,Wb as ct,Wi as Cn,Xi as hn,Yi as Oi,Yj as Mn,Zi as ui,Zj as Lr,_ as ra,_j as kr,ak as Fr,ba as j,bj as ci,bk as Mi,cj as li,ck as oi,d as Ee,dd as wr,e as br,f as pe,fa as vr,fk as Br,hk as Gr,ij as fi,ik as Ei,jk as pi,kk as bi,l as Oo,m as Dt,oj as vt,p as tt,pj as si,q as Se,u as Xe,v as He,xj as Ti,yj as pr,zj as gi}from"./chunk-2ZWWK4AL.js";import{Ab as y,Ad as Er,Cb as mt,Db as Re,Dc as C,Eb as xe,Ec as h,Fb as u,Fc as Go,Ga as _t,Gb as r,Hb as a,Ib as _,K as _r,Mb as D,Nb as L,O as Cr,Ob as ke,Pb as T,Ra as Z,Sb as E,Ua as Ct,Ub as g,Va as n,Vb as yr,Wb as dr,Xa as ji,Xc as G,Yb as $,Z as hr,Zb as ee,_ as Sr,_b as te,cb as b,cc as P,dc as q,ec as ce,ga as oa,hc as d,ib as V,ic as v,jb as aa,jc as M,kc as Ve,ld as K,mb as B,nc as w,ob as U,oc as I,pa as c,pc as A,qa as p,ra as Bi,rd as et,s as fr,sa as gn,t as gr,tc as R,td as Mr,uc as Gi,wb as Pe,xb as pt,xc as Q,yc as $e,zb as S}from"./chunk-2AL2II5Z.js";import{i as ut}from"./chunk-SEDBTTTN.js";var vl=["vform"];function Il(o,m){if(o&1){let t=T();r(0,"app-cms-enum-record-status-selector",24),A("modelChange",function(e){c(t);let l=g();return I(l.dataModel.recordStatus,e)||(l.dataModel.recordStatus=e),p(e)}),a()}if(o&2){let t=g();w("model",t.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Tl(o,m){if(o&1&&(r(0,"div",16)(1,"label",17),d(2),C(3,"translate"),a(),r(4,"a",25),C(5,"cmsthumbnail"),_(6,"img",26),C(7,"cmsthumbnail"),a()()),o&2){let t=g();n(2),v(h(3,5,"TITLE.PICTURE")),n(2),u("href",R(h(5,7,t.dataModel.linkMainImageIdSrc)),Z),n(2),u("src",R(h(7,9,t.dataModel.linkMainImageIdSrc)),Z)}}function wl(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Al(o,m){o&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Rl(o,m){if(o&1){let t=T();r(0,"div",23)(1,"button",27),E("click",function(){c(t);let e=g();return p(e.onActionBackToParent())}),_(2,"i",28),d(3),C(4,"translate"),a(),r(5,"button",29),_(6,"i",30),d(7),C(8,"translate"),a()()}if(o&2){g();let t=P(14);n(3),M(" ",h(4,3,"ACTION.CANCEL")," "),n(2),u("disabled",!t.form.valid),n(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var En=class En extends Qe{constructor(t,i,e,l,f,s,x,k){super(i,new ci,l,k);this.coreEnumService=t;this.estateCategoryRackService=i;this.cmsToastrService=e;this.publicHelper=l;this.cdr=f;this.router=s;this.activatedRoute=x;this.translate=k;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Se;this.dataModel=new ci;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.activatedRoute.snapshot.paramMap.get("id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("id")),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.requestId&&this.requestId.length>0?(this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t+" copy"}),this.DataClone()):this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataClone(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateCategoryRackService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess?(this.dataModel=i.item,i.item.title=i.item.title+" copy",this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateCategoryRackService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.onActionBackToParent()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onActionBackToParent(){this.router.navigate(["/estate/main/category-rack"])}};En.\u0275fac=function(i){return new(i||En)(b(j),b(hi),b(N),b(W),b(G),b(pe),b(Ee),b(O))},En.\u0275cmp=V({type:En,selectors:[["app-estate-category-rack-add-mobile"]],viewQuery:function(i,e){if(i&1&&$(vl,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:43,vars:43,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[1,"cms-m-header-title"],[1,"cms-m-header-spacer"],[1,"cms-m-content","safe-area-content"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"cms-m-form-field"],[1,"cms-m-form-label"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"cms-m-form-input",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder"],[1,"cms-m-char-count"],["matInput","","name","dataModel.description","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"cms-m-form-textarea",3,"ngModelChange","ngModel","placeholder"],[1,"cms-m-footer","safe-area-bottom"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["target","_blank",1,"cms-m-image-preview",3,"href"],["alt","Preview",3,"src"],["type","button",1,"cms-m-btn","cms-m-btn-secondary",3,"click"],["aria-hidden","true",1,"fa-solid","fa-times"],["type","submit",1,"cms-m-btn","cms-m-btn-success",3,"disabled"],["aria-hidden","true",1,"fa-solid","fa-save"]],template:function(i,e){if(i&1){let l=T();r(0,"div",4),_(1,"app-progress-spinner",5),r(2,"div",6)(3,"div",7)(4,"button",8),C(5,"translate"),E("click",function(){return c(l),p(e.onActionBackToParent())}),_(6,"i",9),a(),r(7,"h1",10),d(8),C(9,"translate"),a(),_(10,"div",11),a()(),r(11,"div",12),_(12,"app-cms-form-result-message",13),r(13,"form",14,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),S(15,Il,1,5,"app-cms-enum-record-status-selector",15),S(16,Tl,8,11,"div",16),r(17,"div",16)(18,"label",17),d(19),C(20,"translate"),a(),r(21,"input",18,1),C(23,"translate"),A("ngModelChange",function(s){return c(l),I(e.dataModel.linkMainImageId,s)||(e.dataModel.linkMainImageId=s),p(s)}),E("click",function(){return c(l),p(e.fileManagerOpenForm=!0)}),a(),r(24,"cms-file-manager",19),C(25,"translate"),E("itemSelected",function(s){return c(l),p(e.onActionFileSelected(s))}),A("openFormChange",function(s){return c(l),I(e.fileManagerOpenForm,s)||(e.fileManagerOpenForm=s),p(s)}),a()(),r(26,"div",16)(27,"label",17),d(28),a(),r(29,"input",20,2),A("ngModelChange",function(s){return c(l),I(e.dataModel.title,s)||(e.dataModel.title=s),p(s)}),a(),r(31,"em",21),d(32),a(),S(33,wl,5,3,"mat-error"),a(),r(34,"div",16)(35,"label",17),d(36),a(),r(37,"textarea",22,3),A("ngModelChange",function(s){return c(l),I(e.dataModel.description,s)||(e.dataModel.description=s),p(s)}),a(),r(39,"em",21),d(40),a(),S(41,Al,5,3,"mat-error"),a(),S(42,Rl,9,7,"div",23),a()()()}if(i&2){let l=P(30),f=P(38);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),Pe("aria-label",R(h(5,33,"ACTION.BACK"))),n(4),M(" ",e.formInfo.formTitle||h(9,35,"ROUTE.ESTATE.CATEGORY.RACK")," "),n(4),u("formInfo",e.formInfo),n(3),y(e.fieldsInfo.recordStatus!=null&&e.fieldsInfo.recordStatus.accessWatchField?15:-1),n(),y((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?16:-1),n(3),v(h(20,37,"TITLE.PICTURE")),n(2),u("placeholder",R(h(23,39,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),n(3),u("language",e.appLanguage)("isPopup",!0)("openSelectFileDescription",h(25,41,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),w("openForm",e.fileManagerOpenForm),u("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),n(4),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),w("ngModel",e.dataModel.title),n(3),M("",l.value.length," / 100"),n(),y(l.errors!=null&&l.errors.required?33:-1),n(3),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),w("ngModel",e.dataModel.description),n(3),M("",f.value.length," / 500"),n(),y(f.errors!=null&&f.errors.required?41:-1),n(),y(e.formInfo.submitButtonEnabled?42:-1)}},dependencies:[ae,Y,J,ie,X,re,le,oe,ne,se,H,Le,z,de,De,F,ge],encapsulation:2});var Ho=En;var bn=class extends rt{constructor(t,i,e,l,f,s){super(i,new ci,l,s);this.coreEnumService=t;this.estateCategoryRackService=i;this.cmsToastrService=e;this.publicHelper=l;this.cdr=f;this.translate=s;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new tt;this.dataModel=new ci;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}validateRequestId(t){return!this.requestId||this.requestId.length===0?(this.cmsToastrService.typeErrorComponentAction(),t(),!1):!0}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}loadItem(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateCategoryRackService.setAccessLoad(),this.estateCategoryRackService.setAccessDataType(nt.Editor),this.estateCategoryRackService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}saveItem(t){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.estateCategoryRackService.ServiceEdit(this.dataModel).subscribe({next:e=>{this.dataModelResult=e,e.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.cmsToastrService.typeSuccessEdit(),t()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(i),this.formInfo.submitButtonEnabled=!0},error:e=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onFormSubmitInternal(t){this.formGroup?.valid&&(this.formInfo.submitButtonEnabled=!1,this.saveItem(t))}};var xl=["vform"];function Pl(o,m){if(o&1){let t=T();r(0,"app-cms-enum-record-status-selector",23),A("modelChange",function(e){c(t);let l=g();return I(l.dataModel.recordStatus,e)||(l.dataModel.recordStatus=e),p(e)}),a()}if(o&2){let t=g();w("model",t.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Dl(o,m){if(o&1&&(r(0,"div",16)(1,"label",17),d(2),C(3,"translate"),a(),r(4,"a",24),C(5,"cmsthumbnail"),_(6,"img",25),C(7,"cmsthumbnail"),a()()),o&2){let t=g();n(2),v(h(3,5,"TITLE.PICTURE")),n(2),u("href",R(h(5,7,t.dataModel.linkMainImageIdSrc)),Z),n(2),u("src",R(h(7,9,t.dataModel.linkMainImageIdSrc)),Z)}}function Ll(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function kl(o,m){if(o&1){let t=T();r(0,"div",16)(1,"label",17),d(2),a(),r(3,"input",26,3),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.title,e)||(l.dataModel.title=e),p(e)}),a(),r(5,"em",21),d(6),a(),S(7,Ll,5,3,"mat-error"),a()}if(o&2){let t=P(4),i=g();n(2),v(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),u("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),n(3),M("",t.value.length," / 100"),n(),y(t.errors!=null&&t.errors.required?7:-1)}}function Vl(o,m){o&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Fl(o,m){if(o&1){let t=T();r(0,"div",22)(1,"button",27),E("click",function(){c(t);let e=g();return p(e.onActionBackToParent())}),_(2,"i",28),d(3),C(4,"translate"),a(),r(5,"button",29),_(6,"i",30),d(7),C(8,"translate"),a()()}if(o&2){g();let t=P(14);n(3),M(" ",h(4,3,"ACTION.CANCEL")," "),n(2),u("disabled",!t.form.valid),n(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var vn=class vn extends bn{constructor(t,i,e,l,f,s,x,k){super(t,i,e,l,s,k);this.coreEnumService=t;this.estateCategoryRackService=i;this.publicHelper=l;this.router=f;this.activatedRoute=x;this.translate=k;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new tt;this.dataModel=new ci;this.formInfo=new ll;this.fileManagerOpenForm=!1;this.activatedRoute.snapshot.paramMap.get("id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("id"))}ngOnInit(){this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.validateRequestId(()=>{this.onActionBackToParent()})&&this.loadItem()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataGetOneContent(){this.loadItem()}DataEditContent(){this.saveItem(()=>{this.onActionBackToParent()})}onFormSubmit(){this.onFormSubmitInternal(()=>{this.onActionBackToParent()})}onActionBackToParent(){this.router.navigate(["/estate/main/category-rack"])}};vn.\u0275fac=function(i){return new(i||vn)(b(j),b(hi),b(N),b(W),b(pe),b(G),b(Ee),b(O))},vn.\u0275cmp=V({type:vn,selectors:[["app-estate-category-rack-edit-mobile"]],viewQuery:function(i,e){if(i&1&&$(xl,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:36,vars:39,consts:[["vform","ngForm"],["LinkMainImageId",""],["Description",""],["Title",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[1,"cms-m-header-title"],[1,"cms-m-header-spacer"],[1,"cms-m-content","safe-area-content"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"cms-m-form-field"],[1,"cms-m-form-label"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"cms-m-form-input",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["matInput","","name","dataModel.description","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"cms-m-form-textarea",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"cms-m-char-count"],[1,"cms-m-footer","safe-area-bottom"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["target","_blank",1,"cms-m-image-preview",3,"href"],["alt","Preview",3,"src"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"cms-m-btn","cms-m-btn-secondary",3,"click"],["aria-hidden","true",1,"fa-solid","fa-times"],["type","submit",1,"cms-m-btn","cms-m-btn-success",3,"disabled"],["aria-hidden","true",1,"fa-solid","fa-save"]],template:function(i,e){if(i&1){let l=T();r(0,"div",4),_(1,"app-progress-spinner",5),r(2,"div",6)(3,"div",7)(4,"button",8),C(5,"translate"),E("click",function(){return c(l),p(e.onActionBackToParent())}),_(6,"i",9),a(),r(7,"h1",10),d(8),C(9,"translate"),a(),_(10,"div",11),a()(),r(11,"div",12),_(12,"app-cms-form-result-message",13),r(13,"form",14,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),S(15,Pl,1,5,"app-cms-enum-record-status-selector",15),S(16,Dl,8,11,"div",16),r(17,"div",16)(18,"label",17),d(19),C(20,"translate"),a(),r(21,"input",18,1),C(23,"translate"),A("ngModelChange",function(s){return c(l),I(e.dataModel.linkMainImageId,s)||(e.dataModel.linkMainImageId=s),p(s)}),E("click",function(){return c(l),p(e.fileManagerOpenForm=!0)}),a(),r(24,"cms-file-manager",19),C(25,"translate"),E("itemSelected",function(s){return c(l),p(e.onActionFileSelected(s))}),A("openFormChange",function(s){return c(l),I(e.fileManagerOpenForm,s)||(e.fileManagerOpenForm=s),p(s)}),a()(),S(26,kl,8,7,"div",16),r(27,"div",16)(28,"label",17),d(29),a(),r(30,"textarea",20,2),A("ngModelChange",function(s){return c(l),I(e.dataModel.description,s)||(e.dataModel.description=s),p(s)}),a(),r(32,"em",21),d(33),a(),S(34,Vl,5,3,"mat-error"),a(),S(35,Fl,9,7,"div",22),a()()()}if(i&2){let l=P(31);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),Pe("aria-label",R(h(5,29,"ACTION.BACK"))),n(4),M(" ",e.formInfo.formTitle||h(9,31,"ROUTE.ESTATE.CATEGORY.RACK")," "),n(4),u("formInfo",e.formInfo),n(3),y(e.fieldsInfo.recordStatus!=null&&e.fieldsInfo.recordStatus.accessWatchField?15:-1),n(),y((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?16:-1),n(3),v(h(20,33,"TITLE.PICTURE")),n(2),u("placeholder",R(h(23,35,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),n(3),u("language",e.appLanguage)("isPopup",!0)("openSelectFileDescription",h(25,37,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),w("openForm",e.fileManagerOpenForm),u("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),n(2),y(e.fieldsInfo.title!=null&&e.fieldsInfo.title.accessWatchField?26:-1),n(3),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),w("ngModel",e.dataModel.description),u("disabled",!(e.fieldsInfo.description!=null&&e.fieldsInfo.description.accessEditField)),n(3),M("",l.value.length," / 500"),n(),y(l.errors!=null&&l.errors.required?34:-1),n(),y(e.formInfo.submitButtonEnabled?35:-1)}},dependencies:[ae,Y,J,ie,X,re,le,oe,ne,se,H,Le,z,de,De,F,ge],encapsulation:2});var ba=vn;var Bl=["vform"],Gl=()=>["fa"];function Ol(o,m){if(o&1&&(_(0,"img",14),C(1,"cmsthumbnail")),o&2){let t=g();u("src",R(h(1,2,t.dataModel.linkMainImageIdSrc)),Z)}}function Nl(o,m){o&1&&_(0,"i",21)}function Wl(o,m){o&1&&_(0,"i",22)}function Hl(o,m){if(o&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2){let t=g();n(),M(" ",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle," is "),n(2),v(h(4,2,"MESSAGE.required"))}}function Ul(o,m){if(o&1){let t=T();r(0,"div",15)(1,"label",27),d(2),a(),r(3,"input",28),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconFont,e)||(l.dataModel.iconFont=e),p(e)}),E("iconPickerSelect",function(e){c(t);let l=g();return p(l.onIconPickerSelect(e))}),a(),r(4,"em",29),_(5,"i",30),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle)),w("ngModel",t.dataModel.iconFont),u("iconPicker",t.dataModel.iconFont)("ipIconPack",Q(12,Gl))("ipPosition","top")("ipWidth","250px")("disabled",!(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessEditField)),n(2),q("color",t.dataModel.iconColor?t.dataModel.iconColor:null),u("ngClass",t.dataModel.iconFont)}}function ql(o,m){if(o&1){let t=T();r(0,"div",23)(1,"label",31),d(2),a(),r(3,"div",32)(4,"div",33)(5,"input",34,4),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconColor,e)||(l.dataModel.iconColor=e),p(e)}),a()(),r(7,"div",35),_(8,"ngx-mat-color-toggle",36)(9,"ngx-mat-color-picker",37,5),a()()()}if(o&2){let t=P(10),i=g();n(2),v(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),n(3),q("background",i.dataModel.iconColor),u("placeholder",R(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),w("ngModel",i.dataModel.iconColor),u("ngxMatColorPicker",t)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),n(3),u("for",t),n(),u("touchUi",!0)("color","primary")}}function jl(o,m){o&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Zl(o,m){if(o&1){let t=T();r(0,"div",26)(1,"button",38),E("click",function(){c(t);let e=g();return p(e.onFormCancel())}),_(2,"i",39),d(3),C(4,"translate"),a(),r(5,"button",40),_(6,"i",41),d(7),C(8,"translate"),a()()}if(o&2){g();let t=P(10);n(3),M(" ",h(4,3,"ACTION.CANCEL")," "),n(2),u("disabled",!t.form.valid),n(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var In=class In extends bn{constructor(t,i,e,l,f,s,x,k,ye){super(e,l,s,x,k,ye);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estateCategoryRackService=l;this.estatePropertyTypeService=f;this.publicHelper=x;this.translate=ye;this.dataEstatePropertyTypeUsageIds=[];t&&(this.requestId=t.id)}ngOnInit(){this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.validateRequestId(()=>this.dialogRef.close({dialogChangedDate:!1}))&&(this.loadItem(),this.DataGetAllEstatePropertyUsage())}DataGetOneContent(){this.loadItem()}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)});let i=new He,e=new Xe;e.propertyName="LinkCategoryRackId",e.value=this.requestId,i.filters.push(e),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:l=>{this.dataEstatePropertyTypeModel=l.listItems;let f=[];this.dataEstatePropertyTypeModel.forEach(s=>{f.push(s.linkPropertyTypeUsageId)}),this.dataEstatePropertyTypeUsageIds=f,l.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=l.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(l.errorMessage)),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.saveItem(()=>{this.dialogRef.close({dialogChangedDate:!0})})}onActionSelectorUserCategorySelect(t){this.dataEstatePropertyTypeUsageModel=t}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.onFormSubmitInternal(()=>{this.dialogRef.close({dialogChangedDate:!0})})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};In.\u0275fac=function(i){return new(i||In)(b(at),b(ot),b(j),b(hi),b(Ei),b(N),b(W),b(G),b(O))},In.\u0275cmp=V({type:In,selectors:[["app-estate-category-rack-edit"]],viewQuery:function(i,e){if(i&1&&$(Bl,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:46,vars:47,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","id","dataModel.iconFont","ipButtonStyleClass","",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","ipWidth","placeholder","disabled"],[2,"opacity","1 !important"],[2,"font-size","20px !important",3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let l=T();r(0,"div",6),_(1,"app-progress-spinner",7),r(2,"div",8)(3,"p",9),d(4),a(),r(5,"p"),d(6),C(7,"translate"),a(),_(8,"app-cms-form-result-message",10),r(9,"form",11,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),r(11,"div",12)(12,"a",13),C(13,"cmsthumbnail"),S(14,Ol,2,4,"img",14),a()(),r(15,"div",15)(16,"label",16),E("click",function(){return c(l),p(e.fileManagerOpenForm=!0)}),d(17),C(18,"translate"),a(),r(19,"input",17,1),C(21,"translate"),A("ngModelChange",function(s){return c(l),I(e.dataModel.linkMainImageId,s)||(e.dataModel.linkMainImageId=s),p(s)}),E("click",function(){return c(l),p(e.fileManagerOpenForm=!0)}),a(),r(22,"cms-file-manager",18),C(23,"translate"),E("itemSelected",function(s){return c(l),p(e.onActionFileSelected(s))}),A("openFormChange",function(s){return c(l),I(e.fileManagerOpenForm,s)||(e.fileManagerOpenForm=s),p(s)}),a()(),r(24,"div",15)(25,"label",19),d(26),a(),r(27,"input",20,2),A("ngModelChange",function(s){return c(l),I(e.dataModel.title,s)||(e.dataModel.title=s),p(s)}),a(),S(29,Nl,1,0,"i",21),S(30,Wl,1,0,"i",22),r(31,"em"),d(32),a(),S(33,Hl,5,4,"mat-error"),a(),S(34,Ul,6,13,"div",15),S(35,ql,11,11,"div",23),r(36,"div",15)(37,"label",24),d(38),a(),r(39,"textarea",25,3),A("ngModelChange",function(s){return c(l),I(e.dataModel.description,s)||(e.dataModel.description=s),p(s)}),d(41,"                  "),a(),r(42,"em"),d(43),a(),S(44,jl,5,3,"mat-error"),a(),S(45,Zl,9,7,"div",26),a()()()}if(i&2){let l=P(28),f=P(40);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),M(" ",e.formInfo.formTitle," "),n(2),M(" ",h(7,37,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),u("formInfo",e.formInfo),n(4),u("href",R(h(13,39,e.dataModel.linkMainImageIdSrc)),Z),n(2),y((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?14:-1),n(3),v(h(18,41,"TITLE.PICTURE")),n(2),u("placeholder",R(h(21,43,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),n(3),u("language",e.appLanguage)("isPopup",!0)("openSelectFileDescription",h(23,45,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),w("openForm",e.fileManagerOpenForm),u("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),n(4),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),w("ngModel",e.dataModel.title),n(2),y(l.value?-1:29),n(),y(l.value?30:-1),n(2),M("",l.value.length," / 100"),n(),y(l.errors!=null&&l.errors.required?33:-1),n(),y(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessWatchField?34:-1),n(),y(e.fieldsInfo.iconColor!=null&&e.fieldsInfo.iconColor.accessWatchField?35:-1),n(3),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),w("ngModel",e.dataModel.description),n(4),M("",f.value.length," / 500"),n(),y(f.errors!=null&&f.errors.required?44:-1),n(),y(e.formInfo.submitButtonEnabled?45:-1)}},dependencies:[K,ae,Y,J,ie,X,re,le,oe,ne,se,Fe,H,z,de,ze,Ze,je,qe,De,F,ge],encapsulation:2});var Yi=In;var zl=["vform"],Ql=()=>["fa"];function Kl(o,m){if(o&1&&(_(0,"img",14),C(1,"cmsthumbnail")),o&2){let t=g();u("src",R(h(1,2,t.dataModel.linkMainImageIdSrc)),Z)}}function Yl(o,m){o&1&&_(0,"i",21)}function Jl(o,m){o&1&&_(0,"i",22)}function Xl(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function $l(o,m){if(o&1){let t=T();r(0,"div",15)(1,"label",27),d(2),a(),r(3,"input",28),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconFont,e)||(l.dataModel.iconFont=e),p(e)}),E("iconPickerSelect",function(e){c(t);let l=g();return p(l.onIconPickerSelect(e))}),a(),r(4,"em",29),_(5,"i",30),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle)),w("ngModel",t.dataModel.iconFont),u("iconPicker",t.dataModel.iconFont)("ipIconPack",Q(12,Ql))("ipPosition","top")("ipWidth","250px")("disabled",!(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessAddField)),n(2),q("color",t.dataModel.iconColor?t.dataModel.iconColor:null),u("ngClass",t.dataModel.iconFont)}}function es(o,m){if(o&1){let t=T();r(0,"div",23)(1,"label",31),d(2),a(),r(3,"div",32)(4,"div",33)(5,"input",34,4),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconColor,e)||(l.dataModel.iconColor=e),p(e)}),a()(),r(7,"div",35),_(8,"ngx-mat-color-toggle",36)(9,"ngx-mat-color-picker",37,5),a()()()}if(o&2){let t=P(10),i=g();n(2),v(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),n(3),q("background",i.dataModel.iconColor),u("placeholder",R(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),w("ngModel",i.dataModel.iconColor),u("ngxMatColorPicker",t)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),n(3),u("for",t),n(),u("touchUi",!0)("color","primary")}}function ts(o,m){o&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function is(o,m){if(o&1){let t=T();r(0,"div",26)(1,"button",38),E("click",function(){c(t);let e=g();return p(e.onFormCancel())}),_(2,"i",39),d(3),C(4,"translate"),a(),r(5,"button",40),_(6,"i",41),d(7),C(8,"translate"),a()()}if(o&2){g();let t=P(10);n(3),M(" ",h(4,3,"ACTION.CANCEL")," "),n(2),u("disabled",!t.form.valid),n(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var Tn=class Tn extends Qe{constructor(t,i,e,l,f,s,x,k){super(l,new ci,s,k);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estateCategoryRackService=l;this.cmsToastrService=f;this.publicHelper=s;this.cdr=x;this.translate=k;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Se;this.dataModel=new ci;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateCategoryRackService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Tn.\u0275fac=function(i){return new(i||Tn)(b(at),b(ot),b(j),b(hi),b(N),b(W),b(G),b(O))},Tn.\u0275cmp=V({type:Tn,selectors:[["app-estate-category-rack-add"]],viewQuery:function(i,e){if(i&1&&$(zl,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:46,vars:47,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","id","dataModel.iconFont","ipButtonStyleClass","",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","ipWidth","placeholder","disabled"],[2,"opacity","1 !important"],[2,"font-size","20px !important",3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let l=T();r(0,"div",6),_(1,"app-progress-spinner",7),r(2,"div",8)(3,"p",9),d(4),a(),r(5,"p"),d(6),C(7,"translate"),a(),_(8,"app-cms-form-result-message",10),r(9,"form",11,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),r(11,"div",12)(12,"a",13),C(13,"cmsthumbnail"),S(14,Kl,2,4,"img",14),a()(),r(15,"div",15)(16,"label",16),E("click",function(){return c(l),p(e.fileManagerOpenForm=!0)}),d(17),C(18,"translate"),a(),r(19,"input",17,1),C(21,"translate"),A("ngModelChange",function(s){return c(l),I(e.dataModel.linkMainImageId,s)||(e.dataModel.linkMainImageId=s),p(s)}),E("click",function(){return c(l),p(e.fileManagerOpenForm=!0)}),a(),r(22,"cms-file-manager",18),C(23,"translate"),E("itemSelected",function(s){return c(l),p(e.onActionFileSelected(s))}),A("openFormChange",function(s){return c(l),I(e.fileManagerOpenForm,s)||(e.fileManagerOpenForm=s),p(s)}),a()(),r(24,"div",15)(25,"label",19),d(26),a(),r(27,"input",20,2),A("ngModelChange",function(s){return c(l),I(e.dataModel.title,s)||(e.dataModel.title=s),p(s)}),a(),S(29,Yl,1,0,"i",21),S(30,Jl,1,0,"i",22),r(31,"em"),d(32),a(),S(33,Xl,5,3,"mat-error"),a(),S(34,$l,6,13,"div",15),S(35,es,11,11,"div",23),r(36,"div",15)(37,"label",24),d(38),a(),r(39,"textarea",25,3),A("ngModelChange",function(s){return c(l),I(e.dataModel.description,s)||(e.dataModel.description=s),p(s)}),d(41,"        "),a(),r(42,"em"),d(43),a(),S(44,ts,5,3,"mat-error"),a(),S(45,is,9,7,"div",26),a()()()}if(i&2){let l=P(28),f=P(40);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),M(" ",e.formInfo.formTitle," "),n(2),M(" ",h(7,37,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),u("formInfo",e.formInfo),n(4),u("href",R(h(13,39,e.dataModel.linkMainImageIdSrc)),Z),n(2),y((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?14:-1),n(3),v(h(18,41,"TITLE.PICTURE")),n(2),u("placeholder",R(h(21,43,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),n(3),u("language",e.appLanguage)("isPopup",!0)("openSelectFileDescription",h(23,45,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),w("openForm",e.fileManagerOpenForm),u("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),n(4),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),w("ngModel",e.dataModel.title),n(2),y(l.value?-1:29),n(),y(l.value?30:-1),n(2),M("",l.value.length," / 100"),n(),y(l.errors!=null&&l.errors.required?33:-1),n(),y(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessWatchField?34:-1),n(),y(e.fieldsInfo.iconColor!=null&&e.fieldsInfo.iconColor.accessWatchField?35:-1),n(3),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),w("ngModel",e.dataModel.description),n(4),M("",f.value.length," / 500"),n(),y(f.errors!=null&&f.errors.required?44:-1),n(),y(e.formInfo.submitButtonEnabled?45:-1)}},dependencies:[K,ae,Y,J,ie,X,re,le,oe,ne,se,Fe,H,z,de,ze,Ze,je,qe,De,F,ge],encapsulation:2});var va=Tn;var ns=()=>[5,10,20,100],os=o=>({background:o});function as(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",39),E("click",function(){c(t);let e=g();return p(e.onActionButtonNewRow())}),_(2,"i",40)(3,"br"),a(),r(4,"p",19),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.ADD")," "))}function rs(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",41),E("click",function(){c(t);let e=g();return p(e.onActionButtonEditRow(e.tableRowSelected))}),_(2,"i",42)(3,"br"),a(),r(4,"p",19),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.EDIT")," "))}function ls(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",43),E("click",function(){c(t);let e=g();return p(e.onActionButtonDeleteRow(e.tableRowSelected))}),_(2,"i",44)(3,"br"),a(),r(4,"p",19),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.DELETE")," "))}function ss(o,m){o&1&&(r(0,"mat-header-cell",45),d(1),C(2,"translate"),a()),o&2&&(n(),M(" ",h(2,1,"TITLE.PICTURE")," "))}function ds(o,m){if(o&1&&(_(0,"img",46),C(1,"cmsthumbnail")),o&2){let t=g().$implicit;u("src",R(h(1,2,t.linkMainImageIdSrc)),Z)}}function cs(o,m){if(o&1&&(r(0,"mat-cell"),S(1,ds,2,4,"img",46),a()),o&2){let t=m.$implicit;n(),y((t==null||t.linkMainImageIdSrc==null?null:t.linkMainImageIdSrc.length)>0?1:-1)}}function ps(o,m){if(o&1&&(r(0,"mat-header-cell",45),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle," ")}}function ms(o,m){if(o&1&&(r(0,"mat-cell"),_(1,"i",47),a()),o&2){let t=m.$implicit;n(),q("color",t.iconColor),u("ngClass",t.iconFont)}}function us(o,m){if(o&1&&(r(0,"mat-header-cell",45),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle," ")}}function fs(o,m){if(o&1&&(r(0,"mat-cell"),_(1,"i",47),a()),o&2){let t=m.$implicit;n(),q("color",t.iconColor),u("ngClass",t.iconFont)}}function gs(o,m){if(o&1&&(r(0,"mat-header-cell",45),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle," ")}}function _s(o,m){if(o&1&&(r(0,"mat-cell"),d(1),a()),o&2){let t=m.$implicit;n(),M(" ",t.title," ")}}function Cs(o,m){if(o&1&&(r(0,"mat-header-cell",45),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle," ")}}function hs(o,m){if(o&1&&(r(0,"mat-cell"),d(1),a()),o&2){let t=m.$implicit;n(),M(" ",t.description," ")}}function Ss(o,m){o&1&&(r(0,"mat-header-cell"),d(1),C(2,"translate"),a()),o&2&&(n(),M(" ",h(2,1,"TITLE.OPTION")," "))}function ys(o,m){if(o&1&&(r(0,"mat-cell",48)(1,"button",49)(2,"mat-icon"),d(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),o&2){let t=P(5);n(),u("matMenuTriggerFor",t)}}function Ms(o,m){o&1&&_(0,"mat-header-row")}function Es(o,m){if(o&1){let t=T();r(0,"mat-row",50),E("click",function(e){let l=c(t).$implicit,f=g();return p(f.onActionTableRowSelect(l,e))})("rtclick",function(e){let l=c(t).$implicit,f=g();return p(f.onActionTableRowSelect(l,e))}),a()}if(o&2){let t=m.$implicit,i=g();u("ngStyle",$e(1,os,t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"#d3d3da":""))}}var wn=class wn extends Kt{constructor(t,i,e,l,f,s,x,k,ye,Me,bt,mi){super(t,new ci,bt,f,x);this.contentService=t;this.cmsConfirmationDialogService=i;this.cmsToastrService=e;this.router=l;this.tokenHelper=f;this.cdr=s;this.translate=x;this.themeService=k;this.cmsStoreService=ye;this.pageInfo=Me;this.publicHelper=bt;this.dialog=mi;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new He;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","IconFont","Description"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","IconFont","Description"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:di=>this.onSubmitOptionsSearch(di)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=Ae.Descending}filterModelCompiler(t){let i=JSON.parse(JSON.stringify(t));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(t=>t.tokenInfoStore).subscribe(t=>ut(this,null,function*(){this.tokenInfo=t,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(t=>t.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ci);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.applyDataGetAllResult(e),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Ae.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Ae.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Ae.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(va,{height:"90%",panelClass:t,enterAnimationDuration:_e.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_e.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!(t?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Yi,{height:"90%",panelClass:i,enterAnimationDuration:_e.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_e.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!(t?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],e=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(f,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonContentDetailList(t=this.tableRowSelected,i){if(!(t?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.onActionTableRowSelect(t),i?.ctrlKey?(this.link="/#/estate/main/property-detail/LinkCategoryRackId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/main/property-detail/LinkCategoryRackId/",this.tableRowSelected.id])}onActionButtonContentList(t=this.tableRowSelected,i){if(!(t?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.onActionTableRowSelect(t),i?.ctrlKey?(this.link="/#/estate/data/property/LinkCategoryRackId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/data/property/LinkCategoryRackId/",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(x=>{i.set(x,0)}),this.translate.get("MESSAGE.All").subscribe(x=>{i.set(x,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(x=>{this.publicHelper.processService.processStart(e,x,this.constructorInfoAreaId)});let l=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetCount(l).subscribe({next:x=>{x.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,x.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(x.errorMessage),this.publicHelper.processService.processStop(e)},error:x=>{this.cmsToastrService.typeError(x),this.publicHelper.processService.processStop(e,!1)}});let f=this.filterModelCompiler(this.filteModelContent),s=new Xe;s.propertyName="recordStatus",s.value=Dt.Available,f.filters.push(s),this.contentService.ServiceGetCount(f).subscribe({next:x=>{x.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,x.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(x.errorMessage),this.publicHelper.processService.processStop(e)},error:x=>{this.cmsToastrService.typeError(x),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){t&&t.length>0?this.filterDataModelQueryBuilder=[...t]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};wn.\u0275fac=function(i){return new(i||wn)(b(hi),b(yt),b(N),b(pe),b(he),b(G),b(O),b(vi),b(Ce),b(Qt),b(W),b(wt))},wn.\u0275cmp=V({type:wn,selectors:[["app-estate-category-rack-list"]],standalone:!1,features:[B],decls:67,vars:36,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-buildings","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","id"],["matColumnDef","title"],["matColumnDef","Description"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ngStyle","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick","ngStyle"]],template:function(i,e){if(i&1){let l=T();r(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(s){return c(l),I(e.viewGuideNotice,s)||(e.viewGuideNotice=s),p(s)}),E("optionOnActionButtonMemoRow",function(){return c(l),p(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return c(l),p(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return c(l),p(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return c(l),p(e.onActionButtonPrintRow())}),D(1,4),d(2," -------------------------------------- "),L(),ke(3,5)(4,6),D(5,7),r(6,"a",8),E("click",function(){return c(l),p(e.viewGuideNotice=!e.viewGuideNotice)}),_(7,"i",9),a(),r(8,"a",8),E("click",function(){return c(l),p(e.onActionButtonReload())}),_(9,"i",10),a(),L(),D(10,11),r(11,"a",12),E("click",function(){return c(l),p(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(12,"mat-slide-toggle",13),d(13),C(14,"translate"),a(),r(15,"a",12),E("click",function(){return c(l),p(e.onActionButtonStatist())}),_(16,"mat-slide-toggle",13),d(17),C(18,"translate"),a(),L(),D(19,14),S(20,as,7,3,"div",15),L(),D(21,16),S(22,rs,7,3,"div",15),S(23,ls,7,3,"div",15),r(24,"div",15)(25,"a",17),E("click",function(s){return c(l),p(e.onActionButtonContentDetailList(e.tableRowSelected,s))}),_(26,"i",18)(27,"br"),a(),r(28,"p",19),d(29),C(30,"translate"),a()(),r(31,"div",15)(32,"a",17),E("click",function(s){return c(l),p(e.onActionButtonContentList(e.tableRowSelected,s))}),_(33,"i",20)(34,"br"),a(),r(35,"p",19),d(36),C(37,"translate"),a()(),L(),D(38,21),r(39,"app-cms-search-list",22),A("optionsChange",function(s){return c(l),I(e.optionsSearch,s)||(e.optionsSearch=s),p(s)}),a(),r(40,"app-cms-statist-list",22),A("optionsChange",function(s){return c(l),I(e.optionsStatist,s)||(e.optionsStatist=s),p(s)}),a(),L(),D(41,23),r(42,"mat-table",24,0),E("matSortChange",function(){c(l);let s=P(43);return p(e.onTableSortData(s))}),D(44,25),U(45,ss,3,3,"mat-header-cell",26)(46,cs,2,1,"mat-cell",27),L(),D(47,28),U(48,ps,2,1,"mat-header-cell",26)(49,ms,2,3,"mat-cell",27),L(),D(50,29),U(51,us,2,1,"mat-header-cell",26)(52,fs,2,3,"mat-cell",27),L(),D(53,30),U(54,gs,2,1,"mat-header-cell",26)(55,_s,2,1,"mat-cell",27),L(),D(56,31),U(57,Cs,2,1,"mat-header-cell",26)(58,hs,2,1,"mat-cell",27),L(),D(59,32),U(60,Ss,3,3,"mat-header-cell",33)(61,ys,6,1,"mat-cell",34),L(),U(62,Ms,1,0,"mat-header-row",35)(63,Es,1,3,"mat-row",36),a(),L(),D(64,37),r(65,"mat-paginator",38,1),E("page",function(s){return c(l),p(e.onTablePageingData(s))}),a(),L(),a()}i&2&&(u("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),n(9),ce("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),n(3),u("checked",e.optionsSearch.data.show),n(),M("",h(14,27,"ACTION.SEARCH")," "),n(3),u("checked",e.optionsStatist.data.show),n(),M("",h(18,29,"ACTION.STATIST")," "),n(3),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessAddRow?20:-1),n(2),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow?22:-1),n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow?23:-1),n(6),M(" ",h(30,31,"ACTION.DETAIL")," "),n(7),M(" ",h(37,33,"ACTION.PROPERTYLIST")," "),n(3),w("options",e.optionsSearch),n(),w("options",e.optionsStatist),n(2),u("dataSource",e.tableSource),n(20),u("matHeaderRowDef",e.tabledisplayedColumns),n(),u("matRowDefColumns",e.tabledisplayedColumns),n(2),u("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Q(35,ns)))},dependencies:[K,et,Tt,ft,kt,Vt,Be,Ge,Ft,Bt,Gt,Nt,qt,Wt,Ot,jt,Ht,Ut,Zt,zt,Oe,Ne,Yt,We,F,ge],encapsulation:2});var An=wn;function bs(o,m){if(o&1&&(r(0,"div",12),d(1),a()),o&2){let t=g(2).$implicit;q("border-color",t.iconColor),n(),M(" ",t.description," ")}}function vs(o,m){if(o&1&&(_(0,"img",13),C(1,"cmsthumbnail")),o&2){let t=g(2).$implicit;q("border-color",t.iconColor)("margin-top",t.description?0:110,"px"),u("src",R(h(1,6,t.linkMainImageIdSrc)),Z)}}function Is(o,m){if(o&1&&(r(0,"div",7),S(1,bs,2,3,"div",9),S(2,vs,2,8,"img",10),_(3,"div",11),a()),o&2){let t=g().$implicit;n(),y(t.description?1:-1),n(),y((t.linkMainImageIdSrc==null?null:t.linkMainImageIdSrc.length)>0?2:-1),n(),q("margin-top",t.description?100:210,"px")}}function Ts(o,m){if(o&1&&(r(0,"div",20)(1,"div",21)(2,"div",22),d(3),a(),r(4,"div",23),d(5),a(),_(6,"div",24),r(7,"div",25),d(8),a()(),_(9,"div",19),r(10,"div",26)(11,"div",27),Bi(),r(12,"svg",28),_(13,"path",29),a()(),gn(),r(14,"div",30),Bi(),r(15,"svg",28),_(16,"path",31),a()(),gn(),r(17,"div",32),Bi(),r(18,"svg",28),_(19,"path",33),a()()()()),o&2){let t=m.$implicit,i=g(2).$implicit;q("background",i.iconColor),n(3),M(" ",t.caseCode," "),n(2),M(" ",t.uid," "),n(3),M(" ",i.title," "),n(2),q("background-color",i.iconColor)}}function ws(o,m){if(o&1&&(r(0,"div",20)(1,"div",21)(2,"div",22),d(3),a(),r(4,"div",23),d(5),a(),_(6,"div",24),r(7,"div",25),d(8),a()(),_(9,"div",19),r(10,"div",26)(11,"div",27),Bi(),r(12,"svg",28),_(13,"path",29),a()(),gn(),r(14,"div",30),Bi(),r(15,"svg",28),_(16,"path",31),a()(),gn(),r(17,"div",32),Bi(),r(18,"svg",28),_(19,"path",33),a()()()()),o&2){let t=m.$implicit,i=g(2).$implicit;q("background",i.iconColor),n(3),M(" ",t.caseCode," "),n(2),M(" ",t.uid," "),n(3),M(" ",i.title," "),n(2),q("background-color",i.iconColor)}}function As(o,m){if(o&1){let t=T();r(0,"div",8),Re(1,Ts,20,7,"div",14,mt),Re(3,ws,20,7,"div",14,mt),r(5,"div",15)(6,"div",16)(7,"div",17),E("click",function(){c(t);let e=g(2);return p(e.onActionButtonNewRow())}),Bi(),r(8,"svg",18),_(9,"path",4),a()()(),gn(),_(10,"div",19),a()()}if(o&2){let t=g().$implicit;n(),xe(t.rackFolderOrders),n(2),xe(t.rackFolderProperties)}}function Rs(o,m){if(o&1){let t=T();r(0,"div",1)(1,"div",5),d(2),a(),r(3,"div",6),E("click",function(){let e=c(t).$implicit,l=g();return p(l.onActionClickRackDoor(e))}),S(4,Is,4,4,"div",7),S(5,As,11,0,"div",8),a()()}if(o&2){let t=m.$implicit;n(),q("background",t.iconColor),n(),M(" ",t.title," "),n(2),y(!t.rackOpen||t.rackOpen===!1?4:-1),n(),y(t.rackOpen&&t.rackOpen===!0?5:-1)}}var Ji=class Ji extends An{constructor(){super(...arguments);this.statusFolderClick=!1;this.onActionButtoncheck=!1;this.actionMenuOpen=null}onActionButtonEditFolderOrder(t=this.tableRowSelected,i){if(this.statusFolderClick=!0,!(t?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(!i||!i.uid||i.uid.length===0){this.cmsToastrService.typeErrorSelectedRow();return}let e=t.rackFolderOrders.findIndex(s=>s.uid==i.uid);if(e<0){this.cmsToastrService.typeErrorSelectedRow();return}let l=this.publicHelper.isMobile?"dialog-fullscreen":"dialog-min";this.dialog.open(Yi,{height:"90%",panelClass:l,enterAnimationDuration:_e.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_e.cmsViewConfig.exitAnimationDuration,data:{model:t,folder:i}}).afterClosed().subscribe(s=>{if(s&&s.dialogChangedDate){t.rackFolderOrders[e]=s.folder;let x=this.constructor.name+"onActionButtonEditFolderProperty";this.translate.get("MESSAGE.Receiving_information").subscribe(k=>{this.publicHelper.processService.processStart(x,k,this.constructorInfoAreaId)}),this.contentService.ServiceEdit(t).subscribe({next:k=>{k.isSuccess||this.cmsToastrService.typeErrorMessage(k.errorMessage),this.publicHelper.processService.processStop(x)},error:k=>{this.cmsToastrService.typeError(k),this.publicHelper.processService.processStop(x)}})}}),setTimeout(()=>{this.statusFolderClick=!1},1e3)}onActionButtonEditFolderProperty(t=this.tableRowSelected,i){if(this.statusFolderClick=!0,!(t?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(!i||!i.uid||i.uid.length===0){this.cmsToastrService.typeErrorSelectedRow();return}let e=t.rackFolderProperties.findIndex(s=>s.uid==i.uid);if(e<0){this.cmsToastrService.typeErrorSelectedRow();return}let l=this.publicHelper.isMobile?"dialog-fullscreen":"dialog-min";this.dialog.open(Yi,{height:"90%",panelClass:l,enterAnimationDuration:_e.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_e.cmsViewConfig.exitAnimationDuration,data:{model:t,folder:i}}).afterClosed().subscribe(s=>{if(s&&s.dialogChangedDate){t.rackFolderProperties[e]=s.folder;let x=this.constructor.name+"onActionButtonEditFolderProperty";this.translate.get("MESSAGE.Receiving_information").subscribe(k=>{this.publicHelper.processService.processStart(x,k,this.constructorInfoAreaId)}),this.contentService.ServiceEdit(t).subscribe({next:k=>{k.isSuccess||this.cmsToastrService.typeErrorMessage(k.errorMessage),this.publicHelper.processService.processStop(x)},error:k=>{this.cmsToastrService.typeError(k),this.publicHelper.processService.processStop(x)}})}}),setTimeout(()=>{this.statusFolderClick=!1},1e3)}onActionClickRackDoor(t){this.statusFolderClick||(t.rackOpen&&t.rackOpen===!0?t.rackOpen=!1:t.rackOpen=!0)}onActionButtonmenu(){this.onActionButtoncheck=!0}onActionButtonclose(){this.onActionButtoncheck=!1}toggleActionMenu(t){let i=String(t);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(t){return String(t)}onDocumentClick(t){let i=t.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(t){return t.expanded===!0}};Ji.\u0275fac=(()=>{let t;return function(e){return(t||(t=_t(Ji)))(e||Ji)}})(),Ji.\u0275cmp=V({type:Ji,selectors:[["app-estate-category-rack-list-mobile"]],hostBindings:function(i,e){i&1&&E("click",function(f){return e.onDocumentClick(f)},Ct)},standalone:!1,features:[B],decls:6,vars:0,consts:[[1,"box-rack",3,"optionOnScrollNearBottom"],[1,"box-rack-child"],[1,"add-rack",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor"],["d","M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"],[1,"box-rack-child-title"],[3,"click"],[1,"box-rack-child-open"],[1,"box-rack-child-items"],[1,"box-rack-child-open-title",3,"border-color"],["alt","img",1,"box-rack-child-open-img",3,"border-color","margin-top","src"],[1,"box-rack-child-open-icon"],[1,"box-rack-child-open-title"],["alt","img",1,"box-rack-child-open-img",3,"src"],[1,"box-rack-child-items-item",3,"background"],[1,"box-rack-child-items-item",2,"background-color","rgba(255, 255, 255, 0.13)"],[1,"box-rack-child-items-item-add"],[1,"box-rack-child-items-item-add-txt",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"add"],[1,"box-rack-child-items-item-icon"],[1,"box-rack-child-items-item"],[1,"box-rack-child-items-item-title"],[1,"box-rack-child-items-item-title-info1"],[1,"box-rack-child-items-item-title-info2"],[1,"box-rack-child-items-item-title-icon"],[1,"box-rack-child-items-item-title-number"],[1,"box-rack-child-items-item-menu"],[1,"box-rack-child-items-item-menu-delete"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"w-6","h-6"],["fill-rule","evenodd","d","M16.5 4.478v.227a48.816 48.816 0 013.878.512.75.75 0 11-.256 1.478l-.209-.035-1.005 13.07a3 3 0 01-2.991 2.77H8.084a3 3 0 01-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 01-.256-1.478A48.567 48.567 0 017.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 013.369 0c1.603.051 2.815 1.387 2.815 2.951zm-6.136-1.452a51.196 51.196 0 013.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 00-6 0v-.113c0-.794.609-1.428 1.364-1.452zm-.355 5.945a.75.75 0 10-1.5.058l.347 9a.75.75 0 101.499-.058l-.346-9zm5.48.058a.75.75 0 10-1.498-.058l-.347 9a.75.75 0 001.5.058l.345-9z","clip-rule","evenodd"],[1,"box-rack-child-items-item-menu-close"],["fill-rule","evenodd","d","M5.47 5.47a.75.75 0 011.06 0L12 10.94l5.47-5.47a.75.75 0 111.06 1.06L13.06 12l5.47 5.47a.75.75 0 11-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 01-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 010-1.06z","clip-rule","evenodd"],[1,"box-rack-child-items-item-menu-edit"],["d","M21.731 2.269a2.625 2.625 0 00-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 000-3.712zM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 00-1.32 2.214l-.8 2.685a.75.75 0 00.933.933l2.685-.8a5.25 5.25 0 002.214-1.32L19.513 8.2z"]],template:function(i,e){i&1&&(r(0,"div",0),E("optionOnScrollNearBottom",function(){return e.onActionLoadNextPage()}),Re(1,Rs,6,5,"div",1,mt),a(),r(3,"div",2),E("click",function(){return e.onActionButtonNewRow()}),Bi(),r(4,"svg",3),_(5,"path",4),a()()),i&2&&(n(),xe(e.dataModelResult.listItems))},dependencies:[ge],encapsulation:2});var Ia=Ji;var xs=["vform"];function Ps(o,m){if(o&1){let t=T();r(0,"app-cms-enum-record-status-selector",24),A("modelChange",function(e){c(t);let l=g();return I(l.dataModel.recordStatus,e)||(l.dataModel.recordStatus=e),p(e)}),a()}if(o&2){let t=g();w("model",t.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ds(o,m){if(o&1&&(r(0,"div",16)(1,"label",17),d(2),C(3,"translate"),a(),r(4,"a",25),C(5,"cmsthumbnail"),_(6,"img",26),C(7,"cmsthumbnail"),a()()),o&2){let t=g();n(2),v(h(3,5,"TITLE.PICTURE")),n(2),u("href",R(h(5,7,t.dataModel.linkMainImageIdSrc)),Z),n(2),u("src",R(h(7,9,t.dataModel.linkMainImageIdSrc)),Z)}}function Ls(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function ks(o,m){o&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Vs(o,m){if(o&1){let t=T();r(0,"div",23)(1,"button",27),E("click",function(){c(t);let e=g();return p(e.onActionBackToParent())}),_(2,"i",28),d(3),C(4,"translate"),a(),r(5,"button",29),_(6,"i",30),d(7),C(8,"translate"),a()()}if(o&2){g();let t=P(14);n(3),M(" ",h(4,3,"ACTION.CANCEL")," "),n(2),u("disabled",!t.form.valid),n(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var Rn=class Rn extends Qe{constructor(t,i,e,l,f,s,x,k){super(i,new li,l,k);this.coreEnumService=t;this.estateCategoryZoneService=i;this.cmsToastrService=e;this.publicHelper=l;this.cdr=f;this.router=s;this.activatedRoute=x;this.translate=k;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Se;this.dataModel=new li;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.activatedRoute.snapshot.paramMap.get("id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("id")),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.requestId&&this.requestId.length>0?(this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t+" copy"}),this.DataClone()):this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataClone(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateCategoryZoneService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess?(this.dataModel=i.item,i.item.title=i.item.title+" copy",this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateCategoryZoneService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.onActionBackToParent()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onActionBackToParent(){this.router.navigate(["/estate/main/category-zone"])}};Rn.\u0275fac=function(i){return new(i||Rn)(b(j),b(Si),b(N),b(W),b(G),b(pe),b(Ee),b(O))},Rn.\u0275cmp=V({type:Rn,selectors:[["app-estate-category-zone-add-mobile"]],viewQuery:function(i,e){if(i&1&&$(xs,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:43,vars:43,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[1,"cms-m-header-title"],[1,"cms-m-header-spacer"],[1,"cms-m-content","safe-area-content"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"cms-m-form-field"],[1,"cms-m-form-label"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"cms-m-form-input",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder"],[1,"cms-m-char-count"],["matInput","","name","dataModel.description","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"cms-m-form-textarea",3,"ngModelChange","ngModel","placeholder"],[1,"cms-m-footer","safe-area-bottom"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["target","_blank",1,"cms-m-image-preview",3,"href"],["alt","Preview",3,"src"],["type","button",1,"cms-m-btn","cms-m-btn-secondary",3,"click"],["aria-hidden","true",1,"fa-solid","fa-times"],["type","submit",1,"cms-m-btn","cms-m-btn-success",3,"disabled"],["aria-hidden","true",1,"fa-solid","fa-save"]],template:function(i,e){if(i&1){let l=T();r(0,"div",4),_(1,"app-progress-spinner",5),r(2,"div",6)(3,"div",7)(4,"button",8),C(5,"translate"),E("click",function(){return c(l),p(e.onActionBackToParent())}),_(6,"i",9),a(),r(7,"h1",10),d(8),C(9,"translate"),a(),_(10,"div",11),a()(),r(11,"div",12),_(12,"app-cms-form-result-message",13),r(13,"form",14,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),S(15,Ps,1,5,"app-cms-enum-record-status-selector",15),S(16,Ds,8,11,"div",16),r(17,"div",16)(18,"label",17),d(19),C(20,"translate"),a(),r(21,"input",18,1),C(23,"translate"),A("ngModelChange",function(s){return c(l),I(e.dataModel.linkMainImageId,s)||(e.dataModel.linkMainImageId=s),p(s)}),E("click",function(){return c(l),p(e.fileManagerOpenForm=!0)}),a(),r(24,"cms-file-manager",19),C(25,"translate"),E("itemSelected",function(s){return c(l),p(e.onActionFileSelected(s))}),A("openFormChange",function(s){return c(l),I(e.fileManagerOpenForm,s)||(e.fileManagerOpenForm=s),p(s)}),a()(),r(26,"div",16)(27,"label",17),d(28),a(),r(29,"input",20,2),A("ngModelChange",function(s){return c(l),I(e.dataModel.title,s)||(e.dataModel.title=s),p(s)}),a(),r(31,"em",21),d(32),a(),S(33,Ls,5,3,"mat-error"),a(),r(34,"div",16)(35,"label",17),d(36),a(),r(37,"textarea",22,3),A("ngModelChange",function(s){return c(l),I(e.dataModel.description,s)||(e.dataModel.description=s),p(s)}),a(),r(39,"em",21),d(40),a(),S(41,ks,5,3,"mat-error"),a(),S(42,Vs,9,7,"div",23),a()()()}if(i&2){let l=P(30),f=P(38);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),Pe("aria-label",R(h(5,33,"ACTION.BACK"))),n(4),M(" ",e.formInfo.formTitle||h(9,35,"ROUTE.ESTATE.CATEGORY.ZONE")," "),n(4),u("formInfo",e.formInfo),n(3),y(e.fieldsInfo.recordStatus!=null&&e.fieldsInfo.recordStatus.accessWatchField?15:-1),n(),y((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?16:-1),n(3),v(h(20,37,"TITLE.PICTURE")),n(2),u("placeholder",R(h(23,39,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),n(3),u("language",e.appLanguage)("isPopup",!0)("openSelectFileDescription",h(25,41,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),w("openForm",e.fileManagerOpenForm),u("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),n(4),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),w("ngModel",e.dataModel.title),n(3),M("",l.value.length," / 100"),n(),y(l.errors!=null&&l.errors.required?33:-1),n(3),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),w("ngModel",e.dataModel.description),n(3),M("",f.value.length," / 500"),n(),y(f.errors!=null&&f.errors.required?41:-1),n(),y(e.formInfo.submitButtonEnabled?42:-1)}},dependencies:[ae,Y,J,ie,X,re,le,oe,ne,se,H,Le,z,de,De,F,ge],encapsulation:2});var qo=Rn;var Fs=["vform"];function Bs(o,m){if(o&1){let t=T();r(0,"app-cms-enum-record-status-selector",23),A("modelChange",function(e){c(t);let l=g();return I(l.dataModel.recordStatus,e)||(l.dataModel.recordStatus=e),p(e)}),a()}if(o&2){let t=g();w("model",t.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Gs(o,m){if(o&1&&(r(0,"div",16)(1,"label",17),d(2),C(3,"translate"),a(),r(4,"a",24),C(5,"cmsthumbnail"),_(6,"img",25),C(7,"cmsthumbnail"),a()()),o&2){let t=g();n(2),v(h(3,5,"TITLE.PICTURE")),n(2),u("href",R(h(5,7,t.dataModel.linkMainImageIdSrc)),Z),n(2),u("src",R(h(7,9,t.dataModel.linkMainImageIdSrc)),Z)}}function Os(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Ns(o,m){if(o&1){let t=T();r(0,"div",16)(1,"label",17),d(2),a(),r(3,"input",26,3),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.title,e)||(l.dataModel.title=e),p(e)}),a(),r(5,"em",21),d(6),a(),S(7,Os,5,3,"mat-error"),a()}if(o&2){let t=P(4),i=g();n(2),v(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),u("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),n(3),M("",t.value.length," / 100"),n(),y(t.errors!=null&&t.errors.required?7:-1)}}function Ws(o,m){o&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Hs(o,m){if(o&1){let t=T();r(0,"div",22)(1,"button",27),E("click",function(){c(t);let e=g();return p(e.onActionBackToParent())}),_(2,"i",28),d(3),C(4,"translate"),a(),r(5,"button",29),_(6,"i",30),d(7),C(8,"translate"),a()()}if(o&2){g();let t=P(14);n(3),M(" ",h(4,3,"ACTION.CANCEL")," "),n(2),u("disabled",!t.form.valid),n(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var xn=class xn extends rt{constructor(t,i,e,l,f,s,x,k){super(i,new li,l,k);this.coreEnumService=t;this.estateCategoryZoneService=i;this.cmsToastrService=e;this.publicHelper=l;this.router=f;this.cdr=s;this.activatedRoute=x;this.translate=k;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new tt;this.dataModel=new li;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.activatedRoute.snapshot.paramMap.get("id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("id")),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.onActionBackToParent();return}this.DataGetOneContent()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateCategoryZoneService.setAccessLoad(),this.estateCategoryZoneService.setAccessDataType(nt.Editor),this.estateCategoryZoneService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateCategoryZoneService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.onActionBackToParent()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onActionBackToParent(){this.router.navigate(["/estate/main/category-zone"])}};xn.\u0275fac=function(i){return new(i||xn)(b(j),b(Si),b(N),b(W),b(pe),b(G),b(Ee),b(O))},xn.\u0275cmp=V({type:xn,selectors:[["app-estate-category-zone-edit-mobile"]],viewQuery:function(i,e){if(i&1&&$(Fs,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:36,vars:39,consts:[["vform","ngForm"],["LinkMainImageId",""],["Description",""],["Title",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[1,"cms-m-header-title"],[1,"cms-m-header-spacer"],[1,"cms-m-content","safe-area-content"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"cms-m-form-field"],[1,"cms-m-form-label"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"cms-m-form-input",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["matInput","","name","dataModel.description","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"cms-m-form-textarea",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"cms-m-char-count"],[1,"cms-m-footer","safe-area-bottom"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["target","_blank",1,"cms-m-image-preview",3,"href"],["alt","Preview",3,"src"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"cms-m-btn","cms-m-btn-secondary",3,"click"],["aria-hidden","true",1,"fa-solid","fa-times"],["type","submit",1,"cms-m-btn","cms-m-btn-success",3,"disabled"],["aria-hidden","true",1,"fa-solid","fa-save"]],template:function(i,e){if(i&1){let l=T();r(0,"div",4),_(1,"app-progress-spinner",5),r(2,"div",6)(3,"div",7)(4,"button",8),C(5,"translate"),E("click",function(){return c(l),p(e.onActionBackToParent())}),_(6,"i",9),a(),r(7,"h1",10),d(8),C(9,"translate"),a(),_(10,"div",11),a()(),r(11,"div",12),_(12,"app-cms-form-result-message",13),r(13,"form",14,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),S(15,Bs,1,5,"app-cms-enum-record-status-selector",15),S(16,Gs,8,11,"div",16),r(17,"div",16)(18,"label",17),d(19),C(20,"translate"),a(),r(21,"input",18,1),C(23,"translate"),A("ngModelChange",function(s){return c(l),I(e.dataModel.linkMainImageId,s)||(e.dataModel.linkMainImageId=s),p(s)}),E("click",function(){return c(l),p(e.fileManagerOpenForm=!0)}),a(),r(24,"cms-file-manager",19),C(25,"translate"),E("itemSelected",function(s){return c(l),p(e.onActionFileSelected(s))}),A("openFormChange",function(s){return c(l),I(e.fileManagerOpenForm,s)||(e.fileManagerOpenForm=s),p(s)}),a()(),S(26,Ns,8,7,"div",16),r(27,"div",16)(28,"label",17),d(29),a(),r(30,"textarea",20,2),A("ngModelChange",function(s){return c(l),I(e.dataModel.description,s)||(e.dataModel.description=s),p(s)}),a(),r(32,"em",21),d(33),a(),S(34,Ws,5,3,"mat-error"),a(),S(35,Hs,9,7,"div",22),a()()()}if(i&2){let l=P(31);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),Pe("aria-label",R(h(5,29,"ACTION.BACK"))),n(4),M(" ",e.formInfo.formTitle||h(9,31,"ROUTE.ESTATE.CATEGORY.ZONE")," "),n(4),u("formInfo",e.formInfo),n(3),y(e.fieldsInfo.recordStatus!=null&&e.fieldsInfo.recordStatus.accessWatchField?15:-1),n(),y((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?16:-1),n(3),v(h(20,33,"TITLE.PICTURE")),n(2),u("placeholder",R(h(23,35,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),n(3),u("language",e.appLanguage)("isPopup",!0)("openSelectFileDescription",h(25,37,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),w("openForm",e.fileManagerOpenForm),u("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),n(2),y(e.fieldsInfo.title!=null&&e.fieldsInfo.title.accessWatchField?26:-1),n(3),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),w("ngModel",e.dataModel.description),u("disabled",!(e.fieldsInfo.description!=null&&e.fieldsInfo.description.accessEditField)),n(3),M("",l.value.length," / 500"),n(),y(l.errors!=null&&l.errors.required?34:-1),n(),y(e.formInfo.submitButtonEnabled?35:-1)}},dependencies:[ae,Y,J,ie,X,re,le,oe,ne,se,H,Le,z,de,De,F,ge],encapsulation:2});var Ta=xn;var qs=["vform"],js=()=>["fa"];function Zs(o,m){if(o&1&&(_(0,"img",14),C(1,"cmsthumbnail")),o&2){let t=g();u("src",R(h(1,2,t.dataModel.linkMainImageIdSrc)),Z)}}function zs(o,m){o&1&&_(0,"i",21)}function Qs(o,m){o&1&&_(0,"i",22)}function Ks(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Ys(o,m){if(o&1){let t=T();r(0,"div",15)(1,"label",28),d(2),a(),r(3,"input",29),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconFont,e)||(l.dataModel.iconFont=e),p(e)}),E("iconPickerSelect",function(e){c(t);let l=g();return p(l.onIconPickerSelect(e))}),a(),r(4,"em",30),_(5,"i",31),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle)),w("ngModel",t.dataModel.iconFont),u("iconPicker",t.dataModel.iconFont)("ipIconPack",Q(12,js))("ipPosition","top")("ipWidth","250px")("disabled",!(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessAddField)),n(2),q("color",t.dataModel.iconColor?t.dataModel.iconColor:null),u("ngClass",t.dataModel.iconFont)}}function Js(o,m){if(o&1){let t=T();r(0,"div",23)(1,"label",32),d(2),a(),r(3,"div",33)(4,"div",34)(5,"input",35,4),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconColor,e)||(l.dataModel.iconColor=e),p(e)}),a()(),r(7,"div",36),_(8,"ngx-mat-color-toggle",37)(9,"ngx-mat-color-picker",38,5),a()()()}if(o&2){let t=P(10),i=g();n(2),v(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),n(3),q("background",i.dataModel.iconColor),u("placeholder",R(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),w("ngModel",i.dataModel.iconColor),u("ngxMatColorPicker",t)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),n(3),u("for",t),n(),u("touchUi",!0)("color","primary")}}function Xs(o,m){o&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function $s(o,m){if(o&1){let t=T();r(0,"div",27)(1,"button",39),E("click",function(){c(t);let e=g();return p(e.onFormCancel())}),_(2,"i",40),d(3),C(4,"translate"),a(),r(5,"button",41),_(6,"i",42),d(7),C(8,"translate"),a()()}if(o&2){g();let t=P(10);n(3),M(" ",h(4,3,"ACTION.CANCEL")," "),n(2),u("disabled",!t.form.valid),n(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var Pn=class Pn extends Qe{constructor(t,i,e,l,f,s,x,k){super(l,new li,s,k);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estateCategoryZoneService=l;this.cmsToastrService=f;this.publicHelper=s;this.cdr=x;this.translate=k;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Se;this.dataModel=new li;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)});this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.estateCategoryZoneService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorLocation(t){this.dataModel.linkLocationIds=t}};Pn.\u0275fac=function(i){return new(i||Pn)(b(at),b(ot),b(j),b(Si),b(N),b(W),b(G),b(O))},Pn.\u0275cmp=V({type:Pn,selectors:[["app-estate-category-zone-add"]],viewQuery:function(i,e){if(i&1&&$(qs,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:51,vars:58,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder","optionLabel"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","id","dataModel.iconFont","ipButtonStyleClass","",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","ipWidth","placeholder","disabled"],[2,"opacity","1 !important"],[2,"font-size","20px !important",3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let l=T();r(0,"div",6),_(1,"app-progress-spinner",7),r(2,"div",8)(3,"p",9),d(4),a(),r(5,"p"),d(6),C(7,"translate"),a(),_(8,"app-cms-form-result-message",10),r(9,"form",11,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),r(11,"div",12)(12,"a",13),C(13,"cmsthumbnail"),S(14,Zs,2,4,"img",14),a()(),r(15,"div",15)(16,"label",16),E("click",function(){return c(l),p(e.fileManagerOpenForm=!0)}),d(17),C(18,"translate"),a(),r(19,"input",17,1),C(21,"translate"),A("ngModelChange",function(s){return c(l),I(e.dataModel.linkMainImageId,s)||(e.dataModel.linkMainImageId=s),p(s)}),E("click",function(){return c(l),p(e.fileManagerOpenForm=!0)}),a(),r(22,"cms-file-manager",18),C(23,"translate"),E("itemSelected",function(s){return c(l),p(e.onActionFileSelected(s))}),A("openFormChange",function(s){return c(l),I(e.fileManagerOpenForm,s)||(e.fileManagerOpenForm=s),p(s)}),a()(),r(24,"div",15)(25,"label",19),d(26),a(),r(27,"input",20,2),A("ngModelChange",function(s){return c(l),I(e.dataModel.title,s)||(e.dataModel.title=s),p(s)}),a(),S(29,zs,1,0,"i",21),S(30,Qs,1,0,"i",22),r(31,"em"),d(32),a(),S(33,Ks,5,3,"mat-error"),a(),S(34,Ys,6,13,"div",15),S(35,Js,11,11,"div",23),d(36),C(37,"translate"),r(38,"app-cms-location-autocomplete",24),C(39,"translate"),C(40,"translate"),E("optionChange",function(s){return c(l),p(e.onActionSelectorLocation(s))}),a(),r(41,"div",15)(42,"label",25),d(43),a(),r(44,"textarea",26,3),A("ngModelChange",function(s){return c(l),I(e.dataModel.description,s)||(e.dataModel.description=s),p(s)}),d(46,"                  "),a(),r(47,"em"),d(48),a(),S(49,Xs,5,3,"mat-error"),a(),S(50,$s,9,7,"div",27),a()()()}if(i&2){let l=P(28),f=P(45);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),M(" ",e.formInfo.formTitle," "),n(2),M(" ",h(7,42,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),u("formInfo",e.formInfo),n(4),u("href",R(h(13,44,e.dataModel.linkMainImageIdSrc)),Z),n(2),y((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?14:-1),n(3),v(h(18,46,"TITLE.PICTURE")),n(2),u("placeholder",R(h(21,48,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),n(3),u("language",e.appLanguage)("isPopup",!0)("openSelectFileDescription",h(23,50,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),w("openForm",e.fileManagerOpenForm),u("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),n(4),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),w("ngModel",e.dataModel.title),n(2),y(l.value?-1:29),n(),y(l.value?30:-1),n(2),M("",l.value.length," / 100"),n(),y(l.errors!=null&&l.errors.required?33:-1),n(),y(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessWatchField?34:-1),n(),y(e.fieldsInfo.iconColor!=null&&e.fieldsInfo.iconColor.accessWatchField?35:-1),n(),M(" ",h(37,52,"TITLE.Geographical_Areas")," : "),n(2),u("optionDisabled",!(e.fieldsInfo.linkLocationIds!=null&&e.fieldsInfo.linkLocationIds.accessAddField))("optionSelectForce",e.dataModel.linkLocationIds)("optionPlaceholder",h(39,54,"TITLE.Region"))("optionLabel",h(40,56,"TITLE.Geographical_Areas")),n(5),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),w("ngModel",e.dataModel.description),n(4),M("",f.value.length," / 500"),n(),y(f.errors!=null&&f.errors.required?49:-1),n(),y(e.formInfo.submitButtonEnabled?50:-1)}},dependencies:[K,ae,Y,J,ie,X,re,le,oe,ne,se,Fe,H,Ea,z,de,ze,Ze,je,qe,De,F,ge],encapsulation:2});var wa=Pn;var ed=["vform"],td=()=>["fa"];function id(o,m){if(o&1&&(_(0,"img",14),C(1,"cmsthumbnail")),o&2){let t=g();u("src",R(h(1,2,t.dataModel.linkMainImageIdSrc)),Z)}}function nd(o,m){o&1&&_(0,"i",21)}function od(o,m){o&1&&_(0,"i",22)}function ad(o,m){if(o&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2){let t=g();n(),M(" ",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle," is "),n(2),v(h(4,2,"MESSAGE.required"))}}function rd(o,m){if(o&1){let t=T();r(0,"div",15)(1,"label",28),d(2),a(),r(3,"input",29),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconFont,e)||(l.dataModel.iconFont=e),p(e)}),E("iconPickerSelect",function(e){c(t);let l=g();return p(l.onIconPickerSelect(e))}),a(),r(4,"em",30),_(5,"i",31),a()()}if(o&2){let t=g();n(2),M(" ",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle)),w("ngModel",t.dataModel.iconFont),u("iconPicker",t.dataModel.iconFont)("ipIconPack",Q(12,td))("ipPosition","top")("ipWidth","250px")("disabled",!(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessEditField)),n(2),q("color",t.dataModel.iconColor?t.dataModel.iconColor:null),u("ngClass",t.dataModel.iconFont)}}function ld(o,m){if(o&1){let t=T();r(0,"div",23)(1,"label",32),d(2),a(),r(3,"div",33)(4,"div",34)(5,"input",35,4),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconColor,e)||(l.dataModel.iconColor=e),p(e)}),a()(),r(7,"div",36),_(8,"ngx-mat-color-toggle",37)(9,"ngx-mat-color-picker",38,5),a()()()}if(o&2){let t=P(10),i=g();n(2),v(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),n(3),q("background",i.dataModel.iconColor),u("placeholder",R(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),w("ngModel",i.dataModel.iconColor),u("ngxMatColorPicker",t)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),n(3),u("for",t),n(),u("touchUi",!0)("color","primary")}}function sd(o,m){o&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function dd(o,m){if(o&1){let t=T();r(0,"div",27)(1,"button",39),E("click",function(){c(t);let e=g();return p(e.onFormCancel())}),_(2,"i",40),d(3),C(4,"translate"),a(),r(5,"button",41),_(6,"i",42),d(7),C(8,"translate"),a()()}if(o&2){g();let t=P(10);n(3),M(" ",h(4,3,"ACTION.CANCEL")," "),n(2),u("disabled",!t.form.valid),n(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var Dn=class Dn extends rt{constructor(t,i,e,l,f,s,x,k,ye){super(l,new li,x,ye);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estateCategoryZoneService=l;this.estatePropertyTypeService=f;this.cmsToastrService=s;this.publicHelper=x;this.cdr=k;this.translate=ye;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new tt;this.dataModel=new li;this.fileManagerOpenForm=!1;this.dataEstatePropertyTypeUsageIds=[];this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateCategoryZoneService.setAccessLoad(),this.estateCategoryZoneService.setAccessDataType(nt.Editor),this.estateCategoryZoneService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)});let i=new He,e=new Xe;e.propertyName="LinkCategoryZoneId",e.value=this.requestId,i.filters.push(e),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:l=>{this.dataEstatePropertyTypeModel=l.listItems;let f=[];this.dataEstatePropertyTypeModel.forEach(s=>{f.push(s.linkPropertyTypeUsageId)}),this.dataEstatePropertyTypeUsageIds=f,l.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=l.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(l.errorMessage)),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateCategoryZoneService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorUserCategorySelect(t){this.dataEstatePropertyTypeUsageModel=t}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorLocation(t){this.dataModel.linkLocationIds=t}};Dn.\u0275fac=function(i){return new(i||Dn)(b(at),b(ot),b(j),b(Si),b(Ei),b(N),b(W),b(G),b(O))},Dn.\u0275cmp=V({type:Dn,selectors:[["app-estate-category-zone-edit"]],viewQuery:function(i,e){if(i&1&&$(ed,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:51,vars:58,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder","optionLabel"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","id","dataModel.iconFont","ipButtonStyleClass","",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","ipWidth","placeholder","disabled"],[2,"opacity","1 !important"],[2,"font-size","20px !important",3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let l=T();r(0,"div",6),_(1,"app-progress-spinner",7),r(2,"div",8)(3,"p",9),d(4),a(),r(5,"p"),d(6),C(7,"translate"),a(),_(8,"app-cms-form-result-message",10),r(9,"form",11,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),r(11,"div",12)(12,"a",13),C(13,"cmsthumbnail"),S(14,id,2,4,"img",14),a()(),r(15,"div",15)(16,"label",16),E("click",function(){return c(l),p(e.fileManagerOpenForm=!0)}),d(17),C(18,"translate"),a(),r(19,"input",17,1),C(21,"translate"),A("ngModelChange",function(s){return c(l),I(e.dataModel.linkMainImageId,s)||(e.dataModel.linkMainImageId=s),p(s)}),E("click",function(){return c(l),p(e.fileManagerOpenForm=!0)}),a(),r(22,"cms-file-manager",18),C(23,"translate"),E("itemSelected",function(s){return c(l),p(e.onActionFileSelected(s))}),A("openFormChange",function(s){return c(l),I(e.fileManagerOpenForm,s)||(e.fileManagerOpenForm=s),p(s)}),a()(),r(24,"div",15)(25,"label",19),d(26),a(),r(27,"input",20,2),A("ngModelChange",function(s){return c(l),I(e.dataModel.title,s)||(e.dataModel.title=s),p(s)}),a(),S(29,nd,1,0,"i",21),S(30,od,1,0,"i",22),r(31,"em"),d(32),a(),S(33,ad,5,4,"mat-error"),a(),S(34,rd,6,13,"div",15),S(35,ld,11,11,"div",23),d(36),C(37,"translate"),r(38,"app-cms-location-autocomplete",24),C(39,"translate"),C(40,"translate"),E("optionChange",function(s){return c(l),p(e.onActionSelectorLocation(s))}),a(),r(41,"div",15)(42,"label",25),d(43),a(),r(44,"textarea",26,3),A("ngModelChange",function(s){return c(l),I(e.dataModel.description,s)||(e.dataModel.description=s),p(s)}),d(46,"                    "),a(),r(47,"em"),d(48),a(),S(49,sd,5,3,"mat-error"),a(),S(50,dd,9,7,"div",27),a()()()}if(i&2){let l=P(28),f=P(45);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),M(" ",e.formInfo.formTitle," "),n(2),M(" ",h(7,42,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),u("formInfo",e.formInfo),n(4),u("href",R(h(13,44,e.dataModel.linkMainImageIdSrc)),Z),n(2),y((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?14:-1),n(3),v(h(18,46,"TITLE.PICTURE")),n(2),u("placeholder",R(h(21,48,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),n(3),u("language",e.appLanguage)("isPopup",!0)("openSelectFileDescription",h(23,50,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),w("openForm",e.fileManagerOpenForm),u("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),n(4),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),w("ngModel",e.dataModel.title),n(2),y(l.value?-1:29),n(),y(l.value?30:-1),n(2),M("",l.value.length," / 100"),n(),y(l.errors!=null&&l.errors.required?33:-1),n(),y(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessWatchField?34:-1),n(),y(e.fieldsInfo.iconColor!=null&&e.fieldsInfo.iconColor.accessWatchField?35:-1),n(),M(" ",h(37,52,"TITLE.Geographical_Areas")," : "),n(2),u("optionDisabled",!(e.fieldsInfo.linkLocationIds!=null&&e.fieldsInfo.linkLocationIds.accessEditField))("optionSelectForce",e.dataModel.linkLocationIds)("optionPlaceholder",h(39,54,"TITLE.Region"))("optionLabel",h(40,56,"TITLE.Geographical_Areas")),n(5),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),w("ngModel",e.dataModel.description),n(4),M("",f.value.length," / 500"),n(),y(f.errors!=null&&f.errors.required?49:-1),n(),y(e.formInfo.submitButtonEnabled?50:-1)}},dependencies:[K,ae,Y,J,ie,X,re,le,oe,ne,se,Fe,H,Ea,z,de,ze,Ze,je,qe,De,F,ge],encapsulation:2});var Aa=Dn;var cd=()=>[5,10,20,100];function pd(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",39),E("click",function(){c(t);let e=g();return p(e.onActionButtonNewRow())}),_(2,"i",40)(3,"br"),a(),r(4,"p",19),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.ADD")," "))}function md(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",41),E("click",function(){c(t);let e=g();return p(e.onActionButtonEditRow(e.tableRowSelected))}),_(2,"i",42)(3,"br"),a(),r(4,"p",19),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.EDIT")," "))}function ud(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",43),E("click",function(){c(t);let e=g();return p(e.onActionButtonDeleteRow(e.tableRowSelected))}),_(2,"i",44)(3,"br"),a(),r(4,"p",19),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.DELETE")," "))}function fd(o,m){o&1&&(r(0,"mat-header-cell",45),d(1),C(2,"translate"),a()),o&2&&(n(),M(" ",h(2,1,"TITLE.PICTURE")," "))}function gd(o,m){if(o&1&&(_(0,"img",46),C(1,"cmsthumbnail")),o&2){let t=g().$implicit;u("src",R(h(1,2,t.linkMainImageIdSrc)),Z)}}function _d(o,m){if(o&1&&(r(0,"mat-cell"),S(1,gd,2,4,"img",46),a()),o&2){let t=m.$implicit;n(),y((t==null||t.linkMainImageIdSrc==null?null:t.linkMainImageIdSrc.length)>0?1:-1)}}function Cd(o,m){if(o&1&&(r(0,"mat-header-cell",45),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle," ")}}function hd(o,m){if(o&1&&(r(0,"mat-cell"),_(1,"i",47),a()),o&2){let t=m.$implicit;n(),q("color",t.iconColor),u("ngClass",t.iconFont)}}function Sd(o,m){if(o&1&&(r(0,"mat-header-cell",45),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle," ")}}function yd(o,m){if(o&1&&(r(0,"mat-cell"),_(1,"i",47),a()),o&2){let t=m.$implicit;n(),q("color",t.iconColor),u("ngClass",t.iconFont)}}function Md(o,m){if(o&1&&(r(0,"mat-header-cell",45),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle," ")}}function Ed(o,m){if(o&1&&(r(0,"mat-cell"),d(1),a()),o&2){let t=m.$implicit;n(),M(" ",t.title," ")}}function bd(o,m){if(o&1&&(r(0,"mat-header-cell",45),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle," ")}}function vd(o,m){if(o&1&&(r(0,"mat-cell"),d(1),a()),o&2){let t=m.$implicit;n(),M(" ",t.description," ")}}function Id(o,m){o&1&&(r(0,"mat-header-cell"),d(1),C(2,"translate"),a()),o&2&&(n(),M(" ",h(2,1,"TITLE.OPTION")," "))}function Td(o,m){if(o&1&&(r(0,"mat-cell",48)(1,"button",49)(2,"mat-icon"),d(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),o&2){let t=P(5);n(),u("matMenuTriggerFor",t)}}function wd(o,m){o&1&&_(0,"mat-header-row")}function Ad(o,m){if(o&1){let t=T();r(0,"mat-row",50),E("click",function(e){let l=c(t).$implicit,f=g();return p(f.onActionTableRowSelect(l,e))})("rtclick",function(e){let l=c(t).$implicit,f=g();return p(f.onActionTableRowSelect(l,e))}),a()}if(o&2){let t=m.$implicit,i=g();ce("ntk-row-selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ln=class Ln extends Kt{constructor(t,i,e,l,f,s,x,k,ye,Me,bt,mi){super(t,new li,bt,f,x);this.contentService=t;this.cmsConfirmationDialogService=i;this.cmsToastrService=e;this.router=l;this.tokenHelper=f;this.cdr=s;this.translate=x;this.themeService=k;this.cmsStoreService=ye;this.pageInfo=Me;this.publicHelper=bt;this.dialog=mi;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new He;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","IconFont","Description"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","IconFont","Description"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:di=>this.onSubmitOptionsSearch(di)},this.filteModelContent.sortColumn="title",this.filteModelContent.sortType=Ae.Ascending}filterModelCompiler(t){let i=JSON.parse(JSON.stringify(t));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(t=>t.tokenInfoStore).subscribe(t=>ut(this,null,function*(){this.tokenInfo=t,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(t=>t.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new li);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.applyDataGetAllResult(e),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Ae.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Ae.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Ae.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-wide",this.dialog.open(wa,{height:"90%",panelClass:t,enterAnimationDuration:_e.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_e.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!(t?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Aa,{height:"90%",panelClass:i,enterAnimationDuration:_e.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_e.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!(t?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],e=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(f,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonContentDetailList(t=this.tableRowSelected,i){if(!(t?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.onActionTableRowSelect(t),i?.ctrlKey?(this.link="/#/estate/main/property-detail/LinkCategoryZoneId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/main/property-detail/LinkCategoryZoneId/",this.tableRowSelected.id])}onActionButtonContentList(t=this.tableRowSelected,i){if(!(t?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.onActionTableRowSelect(t),i?.ctrlKey?(this.link="/#/estate/data/property/LinkCategoryZoneId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/data/property/LinkCategoryZoneId/",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(x=>{i.set(x,0)}),this.translate.get("MESSAGE.All").subscribe(x=>{i.set(x,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(x=>{this.publicHelper.processService.processStart(e,x,this.constructorInfoAreaId)});let l=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetCount(l).subscribe({next:x=>{x.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,x.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(x.errorMessage),this.publicHelper.processService.processStop(e)},error:x=>{this.cmsToastrService.typeError(x),this.publicHelper.processService.processStop(e,!1)}});let f=this.filterModelCompiler(this.filteModelContent),s=new Xe;s.propertyName="recordStatus",s.value=Dt.Available,f.filters.push(s),this.contentService.ServiceGetCount(f).subscribe({next:x=>{x.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,x.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(x.errorMessage),this.publicHelper.processService.processStop(e)},error:x=>{this.cmsToastrService.typeError(x),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){t&&t.length>0?this.filterDataModelQueryBuilder=[...t]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Ln.\u0275fac=function(i){return new(i||Ln)(b(Si),b(yt),b(N),b(pe),b(he),b(G),b(O),b(vi),b(Ce),b(Qt),b(W),b(wt))},Ln.\u0275cmp=V({type:Ln,selectors:[["app-estate-category-zone-list"]],standalone:!1,features:[B],decls:67,vars:36,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-buildings","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","id"],["matColumnDef","title"],["matColumnDef","Description"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,e){if(i&1){let l=T();r(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(s){return c(l),I(e.viewGuideNotice,s)||(e.viewGuideNotice=s),p(s)}),E("optionOnActionButtonMemoRow",function(){return c(l),p(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return c(l),p(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return c(l),p(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return c(l),p(e.onActionButtonPrintRow())}),D(1,4),d(2," -------------------------------------- "),L(),ke(3,5)(4,6),D(5,7),r(6,"a",8),E("click",function(){return c(l),p(e.viewGuideNotice=!e.viewGuideNotice)}),_(7,"i",9),a(),r(8,"a",8),E("click",function(){return c(l),p(e.onActionButtonReload())}),_(9,"i",10),a(),L(),D(10,11),r(11,"a",12),E("click",function(){return c(l),p(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(12,"mat-slide-toggle",13),d(13),C(14,"translate"),a(),r(15,"a",12),E("click",function(){return c(l),p(e.onActionButtonStatist())}),_(16,"mat-slide-toggle",13),d(17),C(18,"translate"),a(),L(),D(19,14),S(20,pd,7,3,"div",15),L(),D(21,16),S(22,md,7,3,"div",15),S(23,ud,7,3,"div",15),r(24,"div",15)(25,"a",17),E("click",function(s){return c(l),p(e.onActionButtonContentDetailList(e.tableRowSelected,s))}),_(26,"i",18)(27,"br"),a(),r(28,"p",19),d(29),C(30,"translate"),a()(),r(31,"div",15)(32,"a",17),E("click",function(s){return c(l),p(e.onActionButtonContentList(e.tableRowSelected,s))}),_(33,"i",20)(34,"br"),a(),r(35,"p",19),d(36),C(37,"translate"),a()(),L(),D(38,21),r(39,"app-cms-search-list",22),A("optionsChange",function(s){return c(l),I(e.optionsSearch,s)||(e.optionsSearch=s),p(s)}),a(),r(40,"app-cms-statist-list",22),A("optionsChange",function(s){return c(l),I(e.optionsStatist,s)||(e.optionsStatist=s),p(s)}),a(),L(),D(41,23),r(42,"mat-table",24,0),E("matSortChange",function(){c(l);let s=P(43);return p(e.onTableSortData(s))}),D(44,25),U(45,fd,3,3,"mat-header-cell",26)(46,_d,2,1,"mat-cell",27),L(),D(47,28),U(48,Cd,2,1,"mat-header-cell",26)(49,hd,2,3,"mat-cell",27),L(),D(50,29),U(51,Sd,2,1,"mat-header-cell",26)(52,yd,2,3,"mat-cell",27),L(),D(53,30),U(54,Md,2,1,"mat-header-cell",26)(55,Ed,2,1,"mat-cell",27),L(),D(56,31),U(57,bd,2,1,"mat-header-cell",26)(58,vd,2,1,"mat-cell",27),L(),D(59,32),U(60,Id,3,3,"mat-header-cell",33)(61,Td,6,1,"mat-cell",34),L(),U(62,wd,1,0,"mat-header-row",35)(63,Ad,1,2,"mat-row",36),a(),L(),D(64,37),r(65,"mat-paginator",38,1),E("page",function(s){return c(l),p(e.onTablePageingData(s))}),a(),L(),a()}i&2&&(u("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),n(9),ce("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),n(3),u("checked",e.optionsSearch.data.show),n(),M("",h(14,27,"ACTION.SEARCH")," "),n(3),u("checked",e.optionsStatist.data.show),n(),M("",h(18,29,"ACTION.STATIST")," "),n(3),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessAddRow?20:-1),n(2),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow?22:-1),n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow?23:-1),n(6),M(" ",h(30,31,"ACTION.DETAIL")," "),n(7),M(" ",h(37,33,"ACTION.PROPERTYLIST")," "),n(3),w("options",e.optionsSearch),n(),w("options",e.optionsStatist),n(2),u("dataSource",e.tableSource),n(20),u("matHeaderRowDef",e.tabledisplayedColumns),n(),u("matRowDefColumns",e.tabledisplayedColumns),n(2),u("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Q(35,cd)))},dependencies:[K,Tt,ft,kt,Vt,Be,Ge,Ft,Bt,Gt,Nt,qt,Wt,Ot,jt,Ht,Ut,Zt,zt,Oe,Ne,Yt,We,F,ge],encapsulation:2});var kn=Ln;var Rd=()=>[5,10,20,100],xd=(o,m)=>m.id;function Pd(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",24),E("click",function(){c(t);let e=g();return p(e.onActionButtonNewRow())}),_(2,"i",25)(3,"br"),a(),r(4,"p",26),d(5),C(6,"translate"),a()()}o&2&&(n(5),v(h(6,1,"ACTION.ADD")))}function Dd(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",27),E("click",function(){c(t);let e=g();return p(e.onActionButtonEditRow(e.tableRowSelected))}),_(2,"i",28)(3,"br"),a(),r(4,"p",26),d(5),C(6,"translate"),a()()}o&2&&(n(5),v(h(6,1,"ACTION.EDIT")))}function Ld(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",29),E("click",function(){c(t);let e=g();return p(e.onActionButtonDeleteRow(e.tableRowSelected))}),_(2,"i",30)(3,"br"),a(),r(4,"p",26),d(5),C(6,"translate"),a()()}o&2&&(n(5),v(h(6,1,"ACTION.DELETE")))}function kd(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",31),E("click",function(){c(t);let e=g();return p(e.onActionButtonViewRow(e.tableRowSelected))}),_(2,"i",32)(3,"br"),a(),r(4,"p",26),d(5),C(6,"translate"),a()()}o&2&&(n(5),v(h(6,1,"ACTION.VIEW")))}function Vd(o,m){if(o&1&&(r(0,"div",39),_(1,"i",41),d(2),a()),o&2){let t=g().$implicit,i=g(2);n(2),Ve(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",t.id)}}function Fd(o,m){if(o&1&&(r(0,"div",39),_(1,"i",42),d(2),C(3,"localeDate"),a()),o&2){let t=g().$implicit,i=g(2);n(2),Ve(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",h(3,2,t.createdDate))}}function Bd(o,m){if(o&1&&_(0,"select",44),o&2){let t=g(2).$implicit,i=g(2);u("contentService",i.contentService)("row",t)}}function Gd(o,m){if(o&1&&(r(0,"div",39),_(1,"i",43),C(2,"statusIconClass"),S(3,Bd,1,2,"select",44),a()),o&2){let t=g().$implicit,i=g(2);n(),u("ngClass",h(2,2,t.recordStatus)),n(2),y(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function Od(o,m){if(o&1&&(r(0,"div",39),_(1,"i",47),d(2),C(3,"localeDate"),a()),o&2){let t=g(2).$implicit,i=g(2);n(2),Ve(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",h(3,2,t.updatedDate))}}function Nd(o,m){if(o&1){let t=T();r(0,"div",40),S(1,Od,4,4,"div",39),r(2,"div",39)(3,"span",45),E("click",function(e){return c(t),g(3).onActionCopied(),p(e.stopPropagation())}),_(4,"i",46),a(),d(5),a()()}if(o&2){let t=g().$implicit;n(),y(t.updatedDate?1:-1),n(2),u("cdkCopyToClipboard",t.id.toString()),n(2),M(" ID: ",t.id)}}function Wd(o,m){if(o&1){let t=T();r(0,"div",34),E("click",function(e){let l=c(t).$implicit,f=g(2);return p(f.onActionTableRowSelect(l,e))})("rtclick",function(e){let l=c(t).$implicit,f=g(2);return p(f.onActionTableRowSelect(l,e))})("mouseenter",function(){let e=c(t).$implicit,l=g(2);return p(l.onActionTableRowMouseEnter(e))})("mouseleave",function(){let e=c(t).$implicit,l=g(2);return p(l.onActionTableRowMouseLeave(e))}),r(1,"div",35),_(2,"i",36),C(3,"statusIconClass"),a(),r(4,"div",37)(5,"div",38),d(6),a(),S(7,Vd,3,2,"div",39),S(8,Fd,4,4,"div",39),S(9,Gd,4,4,"div",39),S(10,Nd,6,3,"div",40),a()()}if(o&2){let t=m.$implicit,i=g(2);ce("selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))("bg-fade-highlight-light",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),pt("aria-label",t.title||t.id),n(2),u("ngClass",h(3,11,t.recordStatus)),n(4),v(t.title||"ID: "+t.id),n(),y(t.id?7:-1),n(),y(t.createdDate?8:-1),n(),y(t.recordStatus!==void 0?9:-1),n(),y(i.getRowExpanded(t)?10:-1)}}function Hd(o,m){if(o&1&&(r(0,"div",20),Re(1,Wd,11,13,"div",33,xd),a()),o&2){let t=g();n(),xe(t.dataModelResult.listItems)}}function Ud(o,m){o&1&&(r(0,"div",21),d(1),C(2,"translate"),a()),o&2&&(n(),v(h(2,1,"MESSAGE.NoRecord")))}var Xi=class Xi extends kn{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(t){let i=String(t);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(t){return String(t)}onDocumentClick(t){let i=t.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(t){return t.expanded===!0}};Xi.\u0275fac=(()=>{let t;return function(e){return(t||(t=_t(Xi)))(e||Xi)}})(),Xi.\u0275cmp=V({type:Xi,selectors:[["app-estate-category-zone-list-mobile"]],hostBindings:function(i,e){i&1&&E("click",function(f){return e.onDocumentClick(f)},Ct)},standalone:!1,features:[B],decls:37,vars:31,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-calendar"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"]],template:function(i,e){if(i&1){let l=T();r(0,"app-cms-html-list-mobile",1),A("optionActionGuideNoticeDisplayChange",function(s){return c(l),I(e.viewGuideNotice,s)||(e.viewGuideNotice=s),p(s)}),E("optionOnActionButtonMemoRow",function(){return c(l),p(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return c(l),p(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return c(l),p(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return c(l),p(e.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return c(l),p(e.onActionLoadNextPage())}),ke(1,2)(2,3)(3,4),D(4,5),r(5,"a",6),E("click",function(){return c(l),p(e.viewGuideNotice=!e.viewGuideNotice)}),_(6,"i",7),a(),r(7,"a",6),E("click",function(){return c(l),p(e.onActionButtonReload())}),_(8,"i",8),a(),r(9,"a",6),E("click",function(){return c(l),p(e.onActionGridExpandRows(!0))}),_(10,"i",9),a(),r(11,"a",6),E("click",function(){return c(l),p(e.onActionGridExpandRows(!1))}),_(12,"i",10),a(),L(),D(13,11),r(14,"a",12),E("click",function(){return c(l),p(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(15,"mat-slide-toggle",13),d(16),C(17,"translate"),a(),r(18,"a",12),E("click",function(){return c(l),p(e.onActionButtonStatist())}),_(19,"mat-slide-toggle",13),d(20),C(21,"translate"),a(),L(),D(22,14),S(23,Pd,7,3,"div",15),L(),D(24,16),S(25,Dd,7,3,"div",15),S(26,Ld,7,3,"div",15),S(27,kd,7,3,"div",15),L(),D(28,17),r(29,"app-cms-search-list",18),A("optionsChange",function(s){return c(l),I(e.optionsSearch,s)||(e.optionsSearch=s),p(s)}),a(),r(30,"app-cms-statist-list",18),A("optionsChange",function(s){return c(l),I(e.optionsStatist,s)||(e.optionsStatist=s),p(s)}),a(),L(),D(31,19),S(32,Hd,3,0,"div",20)(33,Ud,3,3,"div",21),L(),D(34,22),r(35,"mat-paginator",23,0),E("page",function(s){return c(l),p(e.onTablePageingData(s))}),a(),L(),a()}i&2&&(u("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey","estate.category-zone.list"),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplay",(e.tableRowSelected==null?null:e.tableRowSelected.id)>0)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),n(8),ce("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),n(7),u("checked",e.optionsSearch.data.show),n(),v(h(17,26,"ACTION.SEARCH")),n(3),u("checked",e.optionsStatist.data.show),n(),v(h(21,28,"ACTION.STATIST")),n(3),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessAddRow?23:-1),n(2),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow&&(e.tableRowSelected==null?null:e.tableRowSelected.id)>0?25:-1),n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow&&(e.tableRowSelected==null?null:e.tableRowSelected.id)>0?26:-1),n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessWatchRow&&(e.tableRowSelected==null?null:e.tableRowSelected.id)>0?27:-1),n(2),w("options",e.optionsSearch),n(),w("options",e.optionsStatist),n(2),y(!(e.dataModelResult==null||e.dataModelResult.listItems==null)&&e.dataModelResult.listItems.length?32:33),n(3),u("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Q(30,Rd)))},dependencies:[K,H,Be,Ge,It,Oe,Ne,Pt,We,At,F,Rt,xt],encapsulation:2});var Ra=Xi;var qd=["vform"],jd=o=>({direction:o});function Zd(o,m){if(o&1){let t=T();r(0,"app-cms-enum-record-status-selector",24),A("modelChange",function(e){c(t);let l=g();return I(l.dataModel.recordStatus,e)||(l.dataModel.recordStatus=e),p(e)}),a()}if(o&2){let t=g();w("model",t.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function zd(o,m){if(o&1&&(r(0,"div",16)(1,"label",17),d(2),C(3,"translate"),a(),r(4,"a",25),C(5,"cmsthumbnail"),_(6,"img",26),C(7,"cmsthumbnail"),a()()),o&2){let t=g();n(2),v(h(3,5,"MESSAGE.Photo_of_estate_agency")),n(2),u("href",R(h(5,7,t.dataModel.linkMainImageIdSrc)),Z),n(2),u("src",R(h(7,9,t.dataModel.linkMainImageIdSrc)),Z)}}function Qd(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Kd(o,m){o&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Yd(o,m){if(o&1){let t=T();r(0,"div",23)(1,"button",27),E("click",function(){c(t);let e=g();return p(e.onActionBackToParent())}),_(2,"i",28),d(3),C(4,"translate"),a(),r(5,"button",29),_(6,"i",30),d(7),C(8,"translate"),a()()}if(o&2){g();let t=P(14);n(3),M(" ",h(4,3,"ACTION.CANCEL")," "),n(2),u("disabled",!t.form.valid),n(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var Vn=class Vn extends Qe{constructor(t,i,e,l,f,s,x,k,ye,Me){super(i,new Cn,l,Me);this.coreEnumService=t;this.estateAccountAgencyService=i;this.cmsToastrService=e;this.publicHelper=l;this.cdr=f;this.router=s;this.activatedRoute=x;this.cmsStoreService=k;this.tokenHelper=ye;this.translate=Me;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new ct;this.dataModelResult=new Se;this.dataModel=new Cn;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.activatedRoute.snapshot.paramMap.get("id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("id")),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.requestId&&this.requestId.length>0?(this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t+" copy"}),this.DataClone()):this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataClone(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAccountAgencyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess?(this.dataModel=i.item,i.item.title=i.item.title+" copy",this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAccountAgencyService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.onActionBackToParent()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onActionBackToParent(){this.activatedRoute.snapshot.paramMap.get("LinkAccountUserId")?this.router.navigate(["/estate/main/account-agency/LinkAccountUserId/"+this.activatedRoute.snapshot.paramMap.get("LinkAccountUserId")]):this.router.navigate(["/estate/main/account-agency"])}};Vn.\u0275fac=function(i){return new(i||Vn)(b(j),b(Sn),b(N),b(W),b(G),b(pe),b(Ee),b(Ce),b(he),b(O))},Vn.\u0275cmp=V({type:Vn,selectors:[["app-estate-account-agency-add-mobile"]],viewQuery:function(i,e){if(i&1&&$(qd,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:43,vars:48,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[1,"cms-m-header-title"],[1,"cms-m-header-spacer"],[1,"cms-m-content","safe-area-content"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"cms-m-form-field"],[1,"cms-m-form-label"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"cms-m-form-input",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"cms-m-char-count"],["matInput","","name","dataModel.description","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"cms-m-form-textarea",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"cms-m-footer","safe-area-bottom"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["target","_blank",1,"cms-m-image-preview",3,"href"],["alt","Preview",3,"src"],["type","button",1,"cms-m-btn","cms-m-btn-secondary",3,"click"],["aria-hidden","true",1,"fa-solid","fa-times"],["type","submit",1,"cms-m-btn","cms-m-btn-success",3,"disabled"],["aria-hidden","true",1,"fa-solid","fa-save"]],template:function(i,e){if(i&1){let l=T();r(0,"div",4),_(1,"app-progress-spinner",5),r(2,"div",6)(3,"div",7)(4,"button",8),C(5,"translate"),E("click",function(){return c(l),p(e.onActionBackToParent())}),_(6,"i",9),a(),r(7,"h1",10),d(8),C(9,"translate"),a(),_(10,"div",11),a()(),r(11,"div",12),_(12,"app-cms-form-result-message",13),r(13,"form",14,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),S(15,Zd,1,5,"app-cms-enum-record-status-selector",15),S(16,zd,8,11,"div",16),r(17,"div",16)(18,"label",17),d(19),C(20,"translate"),a(),r(21,"input",18,1),C(23,"translate"),A("ngModelChange",function(s){return c(l),I(e.dataModel.linkMainImageId,s)||(e.dataModel.linkMainImageId=s),p(s)}),E("click",function(){return c(l),p(e.fileManagerOpenForm=!0)}),a(),r(24,"cms-file-manager",19),C(25,"translate"),E("itemSelected",function(s){return c(l),p(e.onActionFileSelected(s))}),A("openFormChange",function(s){return c(l),I(e.fileManagerOpenForm,s)||(e.fileManagerOpenForm=s),p(s)}),a()(),r(26,"div",16)(27,"label",17),d(28),a(),r(29,"input",20,2),A("ngModelChange",function(s){return c(l),I(e.dataModel.title,s)||(e.dataModel.title=s),p(s)}),a(),r(31,"em",21),d(32),a(),S(33,Qd,5,3,"mat-error"),a(),r(34,"div",16)(35,"label",17),d(36),a(),r(37,"textarea",22,3),A("ngModelChange",function(s){return c(l),I(e.dataModel.description,s)||(e.dataModel.description=s),p(s)}),a(),r(39,"em",21),d(40),a(),S(41,Kd,5,3,"mat-error"),a(),S(42,Yd,9,7,"div",23),a()()()}if(i&2){let l=P(30),f=P(38);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),Pe("aria-label",R(h(5,36,"ACTION.BACK"))),n(4),M(" ",e.formInfo.formTitle||h(9,38,"ROUTE.ESTATE.ACCOUNTAGENCY")," "),n(4),u("formInfo",e.formInfo),n(),u("ngStyle",$e(46,jd,e.tokenInfo.access.direction)),n(2),y(e.fieldsInfo.recordStatus!=null&&e.fieldsInfo.recordStatus.accessWatchField?15:-1),n(),y((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?16:-1),n(3),v(h(20,40,"MESSAGE.Photo_of_estate_agency")),n(2),u("placeholder",R(h(23,42,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),n(3),u("language",e.appLanguage)("isPopup",!0)("openSelectFileDescription",h(25,44,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),w("openForm",e.fileManagerOpenForm),u("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),n(4),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),w("ngModel",e.dataModel.title),u("disabled",!(e.fieldsInfo.title!=null&&e.fieldsInfo.title.accessAddField)),n(3),M("",l.value.length," / 100"),n(),y(l.errors!=null&&l.errors.required?33:-1),n(3),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),w("ngModel",e.dataModel.description),u("disabled",!(e.fieldsInfo.description!=null&&e.fieldsInfo.description.accessAddField)),n(3),M("",f.value.length," / 500"),n(),y(f.errors!=null&&f.errors.required?41:-1),n(),y(e.formInfo.submitButtonEnabled?42:-1)}},dependencies:[et,ae,Y,J,ie,X,re,le,oe,ne,se,H,Le,z,de,De,F,ge],encapsulation:2});var jo=Vn;var Jd=["vform"],Xd=o=>({direction:o});function $d(o,m){if(o&1){let t=T();r(0,"app-cms-enum-record-status-selector",23),A("modelChange",function(e){c(t);let l=g();return I(l.dataModel.recordStatus,e)||(l.dataModel.recordStatus=e),p(e)}),a()}if(o&2){let t=g();w("model",t.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ec(o,m){if(o&1&&(r(0,"div",16)(1,"label",17),d(2),C(3,"translate"),a(),r(4,"a",24),C(5,"cmsthumbnail"),_(6,"img",25),C(7,"cmsthumbnail"),a()()),o&2){let t=g();n(2),v(h(3,5,"MESSAGE.Photo_of_estate_agency")),n(2),u("href",R(h(5,7,t.dataModel.linkMainImageIdSrc)),Z),n(2),u("src",R(h(7,9,t.dataModel.linkMainImageIdSrc)),Z)}}function tc(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function ic(o,m){if(o&1){let t=T();r(0,"div",16)(1,"label",17),d(2),a(),r(3,"input",26,3),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.title,e)||(l.dataModel.title=e),p(e)}),a(),r(5,"em",21),d(6),a(),S(7,tc,5,3,"mat-error"),a()}if(o&2){let t=P(4),i=g();n(2),v(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),u("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),n(3),M("",t.value.length," / 100"),n(),y(t.errors!=null&&t.errors.required?7:-1)}}function nc(o,m){o&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function oc(o,m){if(o&1){let t=T();r(0,"div",22)(1,"button",27),E("click",function(){c(t);let e=g();return p(e.onActionBackToParent())}),_(2,"i",28),d(3),C(4,"translate"),a(),r(5,"button",29),_(6,"i",30),d(7),C(8,"translate"),a()()}if(o&2){g();let t=P(14);n(3),M(" ",h(4,3,"ACTION.CANCEL")," "),n(2),u("disabled",!t.form.valid),n(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var Fn=class Fn extends rt{constructor(t,i,e,l,f,s,x,k,ye,Me){super(i,new Cn,l,Me);this.coreEnumService=t;this.estateAccountAgencyService=i;this.cmsToastrService=e;this.publicHelper=l;this.router=f;this.cdr=s;this.activatedRoute=x;this.cmsStoreService=k;this.tokenHelper=ye;this.translate=Me;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new ct;this.dataModelResult=new tt;this.dataModel=new Cn;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.activatedRoute.snapshot.paramMap.get("id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("id")),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.onActionBackToParent();return}this.DataGetOneContent()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAccountAgencyService.setAccessLoad(),this.estateAccountAgencyService.setAccessDataType(nt.Editor),this.estateAccountAgencyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAccountAgencyService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.onActionBackToParent()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onActionBackToParent(){this.activatedRoute.snapshot.paramMap.get("LinkAccountUserId")?this.router.navigate(["/estate/main/account-agency/LinkAccountUserId/"+this.activatedRoute.snapshot.paramMap.get("LinkAccountUserId")]):this.router.navigate(["/estate/main/account-agency"])}};Fn.\u0275fac=function(i){return new(i||Fn)(b(j),b(Sn),b(N),b(W),b(pe),b(G),b(Ee),b(Ce),b(he),b(O))},Fn.\u0275cmp=V({type:Fn,selectors:[["app-estate-account-agency-edit-mobile"]],viewQuery:function(i,e){if(i&1&&$(Jd,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:36,vars:42,consts:[["vform","ngForm"],["LinkMainImageId",""],["Description",""],["Title",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[1,"cms-m-header-title"],[1,"cms-m-header-spacer"],[1,"cms-m-content","safe-area-content"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"cms-m-form-field"],[1,"cms-m-form-label"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"cms-m-form-input",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["matInput","","name","dataModel.description","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"cms-m-form-textarea",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"cms-m-char-count"],[1,"cms-m-footer","safe-area-bottom"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["target","_blank",1,"cms-m-image-preview",3,"href"],["alt","Preview",3,"src"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"cms-m-btn","cms-m-btn-secondary",3,"click"],["aria-hidden","true",1,"fa-solid","fa-times"],["type","submit",1,"cms-m-btn","cms-m-btn-success",3,"disabled"],["aria-hidden","true",1,"fa-solid","fa-save"]],template:function(i,e){if(i&1){let l=T();r(0,"div",4),_(1,"app-progress-spinner",5),r(2,"div",6)(3,"div",7)(4,"button",8),C(5,"translate"),E("click",function(){return c(l),p(e.onActionBackToParent())}),_(6,"i",9),a(),r(7,"h1",10),d(8),C(9,"translate"),a(),_(10,"div",11),a()(),r(11,"div",12),_(12,"app-cms-form-result-message",13),r(13,"form",14,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),S(15,$d,1,5,"app-cms-enum-record-status-selector",15),S(16,ec,8,11,"div",16),r(17,"div",16)(18,"label",17),d(19),C(20,"translate"),a(),r(21,"input",18,1),C(23,"translate"),A("ngModelChange",function(s){return c(l),I(e.dataModel.linkMainImageId,s)||(e.dataModel.linkMainImageId=s),p(s)}),E("click",function(){return c(l),p(e.fileManagerOpenForm=!0)}),a(),r(24,"cms-file-manager",19),C(25,"translate"),E("itemSelected",function(s){return c(l),p(e.onActionFileSelected(s))}),A("openFormChange",function(s){return c(l),I(e.fileManagerOpenForm,s)||(e.fileManagerOpenForm=s),p(s)}),a()(),S(26,ic,8,7,"div",16),r(27,"div",16)(28,"label",17),d(29),a(),r(30,"textarea",20,2),A("ngModelChange",function(s){return c(l),I(e.dataModel.description,s)||(e.dataModel.description=s),p(s)}),a(),r(32,"em",21),d(33),a(),S(34,nc,5,3,"mat-error"),a(),S(35,oc,9,7,"div",22),a()()()}if(i&2){let l=P(31);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),Pe("aria-label",R(h(5,30,"ACTION.BACK"))),n(4),M(" ",e.formInfo.formTitle||h(9,32,"ROUTE.ESTATE.ACCOUNTAGENCY")," "),n(4),u("formInfo",e.formInfo),n(),u("ngStyle",$e(40,Xd,e.tokenInfo.access.direction)),n(2),y(e.fieldsInfo.recordStatus!=null&&e.fieldsInfo.recordStatus.accessWatchField?15:-1),n(),y((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?16:-1),n(3),v(h(20,34,"MESSAGE.Photo_of_estate_agency")),n(2),u("placeholder",R(h(23,36,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),n(3),u("language",e.appLanguage)("isPopup",!0)("openSelectFileDescription",h(25,38,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),w("openForm",e.fileManagerOpenForm),u("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),n(2),y(e.fieldsInfo.title!=null&&e.fieldsInfo.title.accessWatchField?26:-1),n(3),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),w("ngModel",e.dataModel.description),u("disabled",!(e.fieldsInfo.description!=null&&e.fieldsInfo.description.accessEditField)),n(3),M("",l.value.length," / 500"),n(),y(l.errors!=null&&l.errors.required?34:-1),n(),y(e.formInfo.submitButtonEnabled?35:-1)}},dependencies:[et,ae,Y,J,ie,X,re,le,oe,ne,se,H,Le,z,de,De,F,ge],encapsulation:2});var xa=Fn;var ac=["vform"],rc=o=>({direction:o});function lc(o,m){if(o&1){let t=T();r(0,"app-cms-enum-record-status-selector",23),A("modelChange",function(e){c(t);let l=g();return I(l.dataModel.recordStatus,e)||(l.dataModel.recordStatus=e),p(e)}),a()}if(o&2){let t=g();w("model",t.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function sc(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function dc(o,m){if(o&1){let t=T();r(0,"div",16)(1,"label",17),d(2),a(),r(3,"input",24,2),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.stationLevel,e)||(l.dataModel.stationLevel=e),p(e)}),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.stationLevel==null?null:t.fieldsInfo.stationLevel.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.stationLevel==null?null:t.fieldsInfo.stationLevel.fieldTitle)),w("ngModel",t.dataModel.stationLevel),u("disabled",!(t.fieldsInfo.stationLevel!=null&&t.fieldsInfo.stationLevel.accessAddField))}}function cc(o,m){if(o&1){let t=T();r(0,"div",16)(1,"label",17),d(2),a(),r(3,"input",25,3),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.viewLevel,e)||(l.dataModel.viewLevel=e),p(e)}),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.viewLevel==null?null:t.fieldsInfo.viewLevel.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.viewLevel==null?null:t.fieldsInfo.viewLevel.fieldTitle)),w("ngModel",t.dataModel.viewLevel),u("disabled",!(t.fieldsInfo.viewLevel!=null&&t.fieldsInfo.viewLevel.accessAddField))}}function pc(o,m){if(o&1){let t=T();r(0,"div",22)(1,"button",26),E("click",function(){c(t);let e=g();return p(e.onActionBackToParent())}),_(2,"i",27),d(3),C(4,"translate"),a(),r(5,"button",28),_(6,"i",29),d(7),C(8,"translate"),a()()}if(o&2){g();let t=P(14);n(3),M(" ",h(4,3,"ACTION.CANCEL")," "),n(2),u("disabled",!t.form.valid),n(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var Bn=class Bn extends Qe{constructor(t,i,e,l,f,s,x,k,ye,Me){super(i,new ri,l,Me);this.coreEnumService=t;this.estateAccountAgencyAdsService=i;this.cmsToastrService=e;this.publicHelper=l;this.cdr=f;this.router=s;this.activatedRoute=x;this.cmsStoreService=k;this.tokenHelper=ye;this.translate=Me;this.requestId="";this.requestLinkAccountAgencyId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new ct;this.dataModelResult=new Se;this.dataModel=new ri;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.activatedRoute.snapshot.paramMap.get("id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("id")),this.activatedRoute.snapshot.paramMap.get("LinkAccountAgencyId")&&(this.requestLinkAccountAgencyId=this.activatedRoute.snapshot.paramMap.get("LinkAccountAgencyId")),this.requestLinkAccountAgencyId&&this.requestLinkAccountAgencyId.length>0&&(this.dataModel.linkAccountAgencyId=this.requestLinkAccountAgencyId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.requestId&&this.requestId.length>0?(this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t+" copy"}),this.DataClone()):this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataClone(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAccountAgencyAdsService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess?(this.dataModel=i.item,i.item.title=i.item.title+" copy",this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAccountAgencyAdsService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.onActionBackToParent()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorSelectLinkAccountAgencyId(t){this.dataModel.linkAccountAgencyId=null,t&&t.id&&t.id.length>0&&(this.dataModel.linkAccountAgencyId=t.id)}onActionSelectorSelectLinkAdsTypeId(t){this.dataModel.linkAdsTypeId=null,t&&t.id&&t.id.length>0&&(this.dataModel.linkAdsTypeId=t.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onActionBackToParent(){this.router.navigate(["/estate/main/account-agency-ads"])}};Bn.\u0275fac=function(i){return new(i||Bn)(b(j),b(_i),b(N),b(W),b(G),b(pe),b(Ee),b(Ce),b(he),b(O))},Bn.\u0275cmp=V({type:Bn,selectors:[["app-estate-account-agency-ads-add-mobile"]],viewQuery:function(i,e){if(i&1&&$(ac,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:39,vars:40,consts:[["vform","ngForm"],["Title",""],["StationLevel",""],["ViewLevel",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[1,"cms-m-header-title"],[1,"cms-m-header-spacer"],[1,"cms-m-content","safe-area-content"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"cms-m-form-field"],[1,"cms-m-form-label"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"cms-m-char-count"],[3,"optionChange","optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"cms-m-footer","safe-area-bottom"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["matInput","","type","number","name","dataModel.stationLevel","id","dataModel.stationLevel",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder","disabled"],["matInput","","type","number","name","dataModel.viewLevel","id","dataModel.viewLevel",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"cms-m-btn","cms-m-btn-secondary",3,"click"],["aria-hidden","true",1,"fa-solid","fa-times"],["type","submit",1,"cms-m-btn","cms-m-btn-success",3,"disabled"],["aria-hidden","true",1,"fa-solid","fa-save"]],template:function(i,e){if(i&1){let l=T();r(0,"div",4),_(1,"app-progress-spinner",5),r(2,"div",6)(3,"div",7)(4,"button",8),C(5,"translate"),E("click",function(){return c(l),p(e.onActionBackToParent())}),_(6,"i",9),a(),r(7,"h1",10),d(8),C(9,"translate"),a(),_(10,"div",11),a()(),r(11,"div",12),_(12,"app-cms-form-result-message",13),r(13,"form",14,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),S(15,lc,1,5,"app-cms-enum-record-status-selector",15),r(16,"div",16)(17,"label",17),d(18),a(),r(19,"input",18,1),A("ngModelChange",function(s){return c(l),I(e.dataModel.title,s)||(e.dataModel.title=s),p(s)}),a(),r(21,"em",19),d(22),a(),S(23,sc,5,3,"mat-error"),a(),r(24,"div",16)(25,"label",17),d(26),C(27,"translate"),a(),r(28,"app-estate-account-agency-selector",20),C(29,"translate"),E("optionChange",function(s){return c(l),p(e.onActionSelectorSelectLinkAccountAgencyId(s))}),a()(),r(30,"div",16)(31,"label",17),d(32),C(33,"translate"),a(),r(34,"app-estate-ads-type-selector",21),C(35,"translate"),E("optionChange",function(s){return c(l),p(e.onActionSelectorSelectLinkAdsTypeId(s))}),a()(),S(36,dc,5,5,"div",16),S(37,cc,5,5,"div",16),S(38,pc,9,7,"div",22),a()()()}if(i&2){let l=P(20);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),Pe("aria-label",R(h(5,26,"ACTION.BACK"))),n(4),M(" ",e.formInfo.formTitle||h(9,28,"ROUTE.ESTATE.ACCOUNTAGENCYADS")," "),n(4),u("formInfo",e.formInfo),n(),u("ngStyle",$e(38,rc,e.tokenInfo.access.direction)),n(2),y(e.fieldsInfo.recordStatus!=null&&e.fieldsInfo.recordStatus.accessWatchField?15:-1),n(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),w("ngModel",e.dataModel.title),u("disabled",!(e.fieldsInfo.title!=null&&e.fieldsInfo.title.accessAddField)),n(3),M("",l.value.length," / 100"),n(),y(l.errors!=null&&l.errors.required?23:-1),n(3),v(h(27,30,"TITLE.Agency_ID")),n(2),u("optionDisabled",!(e.fieldsInfo.linkAccountAgencyId!=null&&e.fieldsInfo.linkAccountAgencyId.accessAddField))("optionSelectForce",e.dataModel.linkAccountAgencyId)("optionSelectUserId",e.tokenInfo.access.userId)("optionPlaceholder",h(29,32,"TITLE.Agency_ID")),n(4),v(h(33,34,"TITLE.Ad_type_ID")),n(2),u("optionDisabled",!(e.fieldsInfo.linkAdsTypeId!=null&&e.fieldsInfo.linkAdsTypeId.accessAddField))("optionSelectForce",e.dataModel.linkAdsTypeId)("optionPlaceholder",h(35,36,"TITLE.Ad_type_ID")),n(2),y(e.fieldsInfo.stationLevel!=null&&e.fieldsInfo.stationLevel.accessWatchField?36:-1),n(),y(e.fieldsInfo.viewLevel!=null&&e.fieldsInfo.viewLevel.accessWatchField?37:-1),n(),y(e.formInfo.submitButtonEnabled?38:-1)}},dependencies:[et,ae,Y,ht,J,ie,X,re,le,oe,ne,se,H,Le,z,de,St,zi,Qi,F],encapsulation:2});var Zo=Bn;var mc=["vform"],uc=o=>({direction:o});function fc(o,m){if(o&1){let t=T();r(0,"app-cms-enum-record-status-selector",21),A("modelChange",function(e){c(t);let l=g();return I(l.dataModel.recordStatus,e)||(l.dataModel.recordStatus=e),p(e)}),a()}if(o&2){let t=g();w("model",t.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function gc(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function _c(o,m){if(o&1){let t=T();r(0,"div",16)(1,"label",17),d(2),a(),r(3,"input",22,1),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.title,e)||(l.dataModel.title=e),p(e)}),a(),r(5,"em",23),d(6),a(),S(7,gc,5,3,"mat-error"),a()}if(o&2){let t=P(4),i=g();n(2),v(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),u("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),n(3),M("",t.value.length," / 100"),n(),y(t.errors!=null&&t.errors.required?7:-1)}}function Cc(o,m){if(o&1){let t=T();r(0,"div",16)(1,"label",17),d(2),a(),r(3,"input",24,2),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.stationLevel,e)||(l.dataModel.stationLevel=e),p(e)}),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.stationLevel==null?null:t.fieldsInfo.stationLevel.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.stationLevel==null?null:t.fieldsInfo.stationLevel.fieldTitle)),w("ngModel",t.dataModel.stationLevel),u("disabled",!(t.fieldsInfo.stationLevel!=null&&t.fieldsInfo.stationLevel.accessEditField))}}function hc(o,m){if(o&1){let t=T();r(0,"div",16)(1,"label",17),d(2),a(),r(3,"input",25,3),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.viewLevel,e)||(l.dataModel.viewLevel=e),p(e)}),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.viewLevel==null?null:t.fieldsInfo.viewLevel.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.viewLevel==null?null:t.fieldsInfo.viewLevel.fieldTitle)),w("ngModel",t.dataModel.viewLevel),u("disabled",!(t.fieldsInfo.viewLevel!=null&&t.fieldsInfo.viewLevel.accessEditField))}}function Sc(o,m){if(o&1){let t=T();r(0,"div",20)(1,"button",26),E("click",function(){c(t);let e=g();return p(e.onActionBackToParent())}),_(2,"i",27),d(3),C(4,"translate"),a(),r(5,"button",28),_(6,"i",29),d(7),C(8,"translate"),a()()}if(o&2){g();let t=P(14);n(3),M(" ",h(4,3,"ACTION.CANCEL")," "),n(2),u("disabled",!t.form.valid),n(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var Gn=class Gn extends rt{constructor(t,i,e,l,f,s,x,k,ye,Me){super(i,new ri,l,Me);this.coreEnumService=t;this.estateAccountAgencyAdsService=i;this.cmsToastrService=e;this.publicHelper=l;this.router=f;this.cdr=s;this.activatedRoute=x;this.tokenHelper=k;this.cmsStoreService=ye;this.translate=Me;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new ct;this.dataModelResult=new tt;this.dataModel=new ri;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.activatedRoute.snapshot.paramMap.get("id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("id")),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.onActionBackToParent();return}this.DataGetOneContent()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAccountAgencyAdsService.setAccessLoad(),this.estateAccountAgencyAdsService.setAccessDataType(nt.Editor),this.estateAccountAgencyAdsService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAccountAgencyAdsService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.onActionBackToParent()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorSelectLinkAccountAgencyId(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkAccountAgencyId=t.id}onActionSelectorSelectLinkAdsTypeId(t){this.dataModel.linkAdsTypeId=null,t&&t.id&&t.id.length>0&&(this.dataModel.linkAdsTypeId=t.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onActionBackToParent(){this.router.navigate(["/estate/main/account-agency-ads"])}};Gn.\u0275fac=function(i){return new(i||Gn)(b(j),b(_i),b(N),b(W),b(pe),b(G),b(Ee),b(he),b(Ce),b(O))},Gn.\u0275cmp=V({type:Gn,selectors:[["app-estate-account-agency-ads-edit-mobile"]],viewQuery:function(i,e){if(i&1&&$(mc,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:32,vars:34,consts:[["vform","ngForm"],["Title",""],["StationLevel",""],["ViewLevel",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[1,"cms-m-header-title"],[1,"cms-m-header-spacer"],[1,"cms-m-content","safe-area-content"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"cms-m-form-field"],[1,"cms-m-form-label"],[3,"optionChange","optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"cms-m-footer","safe-area-bottom"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"cms-m-char-count"],["matInput","","type","number","name","dataModel.stationLevel","id","dataModel.stationLevel",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder","disabled"],["matInput","","type","number","name","dataModel.viewLevel","id","dataModel.viewLevel",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"cms-m-btn","cms-m-btn-secondary",3,"click"],["aria-hidden","true",1,"fa-solid","fa-times"],["type","submit",1,"cms-m-btn","cms-m-btn-success",3,"disabled"],["aria-hidden","true",1,"fa-solid","fa-save"]],template:function(i,e){if(i&1){let l=T();r(0,"div",4),_(1,"app-progress-spinner",5),r(2,"div",6)(3,"div",7)(4,"button",8),C(5,"translate"),E("click",function(){return c(l),p(e.onActionBackToParent())}),_(6,"i",9),a(),r(7,"h1",10),d(8),C(9,"translate"),a(),_(10,"div",11),a()(),r(11,"div",12),_(12,"app-cms-form-result-message",13),r(13,"form",14,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),S(15,fc,1,5,"app-cms-enum-record-status-selector",15),S(16,_c,8,7,"div",16),r(17,"div",16)(18,"label",17),d(19),C(20,"translate"),a(),r(21,"app-estate-account-agency-selector",18),C(22,"translate"),E("optionChange",function(s){return c(l),p(e.onActionSelectorSelectLinkAccountAgencyId(s))}),a()(),r(23,"div",16)(24,"label",17),d(25),C(26,"translate"),a(),r(27,"app-estate-ads-type-selector",19),C(28,"translate"),E("optionChange",function(s){return c(l),p(e.onActionSelectorSelectLinkAdsTypeId(s))}),a()(),S(29,Cc,5,5,"div",16),S(30,hc,5,5,"div",16),S(31,Sc,9,7,"div",20),a()()()}i&2&&(n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),Pe("aria-label",R(h(5,20,"ACTION.BACK"))),n(4),M(" ",e.formInfo.formTitle||h(9,22,"ROUTE.ESTATE.ACCOUNTAGENCYADS")," "),n(4),u("formInfo",e.formInfo),n(),u("ngStyle",$e(32,uc,e.tokenInfo.access.direction)),n(2),y(e.fieldsInfo.recordStatus!=null&&e.fieldsInfo.recordStatus.accessWatchField?15:-1),n(),y(e.fieldsInfo.title!=null&&e.fieldsInfo.title.accessWatchField?16:-1),n(3),v(h(20,24,"TITLE.Agency_ID")),n(2),u("optionDisabled",!(e.fieldsInfo.linkAccountAgencyId!=null&&e.fieldsInfo.linkAccountAgencyId.accessEditField))("optionSelectForce",e.dataModel.linkAccountAgencyId)("optionSelectUserId",e.tokenInfo.access.userId)("optionPlaceholder",h(22,26,"TITLE.Agency_ID")),n(4),v(h(26,28,"TITLE.Ad_type_ID")),n(2),u("optionDisabled",!(e.fieldsInfo.linkAdsTypeId!=null&&e.fieldsInfo.linkAdsTypeId.accessEditField))("optionSelectForce",e.dataModel.linkAdsTypeId)("optionPlaceholder",h(28,30,"TITLE.Ad_type_ID")),n(2),y(e.fieldsInfo.stationLevel!=null&&e.fieldsInfo.stationLevel.accessWatchField?29:-1),n(),y(e.fieldsInfo.viewLevel!=null&&e.fieldsInfo.viewLevel.accessWatchField?30:-1),n(),y(e.formInfo.submitButtonEnabled?31:-1))},dependencies:[et,ae,Y,ht,J,ie,X,re,le,oe,ne,se,H,Le,z,de,St,zi,Qi,F],encapsulation:2});var Pa=Gn;var Mc=["vform"];function Ec(o,m){o&1&&_(0,"i",16)}function bc(o,m){o&1&&_(0,"i",17)}function vc(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Ic(o,m){if(o&1){let t=T();r(0,"div",13)(1,"label",28),d(2),a(),r(3,"input",29,4),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.stationLevel,e)||(l.dataModel.stationLevel=e),p(e)}),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.stationLevel==null?null:t.fieldsInfo.stationLevel.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.stationLevel==null?null:t.fieldsInfo.stationLevel.fieldTitle)),w("ngModel",t.dataModel.stationLevel),u("disabled",!(t.fieldsInfo.stationLevel!=null&&t.fieldsInfo.stationLevel.accessEditField))}}function Tc(o,m){if(o&1){let t=T();r(0,"div",13)(1,"label",30),d(2),a(),r(3,"input",31,5),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.viewLevel,e)||(l.dataModel.viewLevel=e),p(e)}),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.viewLevel==null?null:t.fieldsInfo.viewLevel.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.viewLevel==null?null:t.fieldsInfo.viewLevel.fieldTitle)),w("ngModel",t.dataModel.viewLevel),u("disabled",!(t.fieldsInfo.viewLevel!=null&&t.fieldsInfo.viewLevel.accessEditField))}}function wc(o,m){if(o&1){let t=T();r(0,"div",20)(1,"label",32),d(2),a(),r(3,"input",33),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.expireDate,e)||(l.dataModel.expireDate=e),p(e)}),a(),_(4,"mat-datepicker-toggle",23)(5,"mat-datepicker",24,6),a()}if(o&2){let t=P(6),i=g();n(2),v(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),n(),u("matDatepicker",t),w("ngModel",i.dataModel.expireDate),n(),u("for",t),n(),u("calendarHeaderComponent",i.datapickerHeader)}}function Ac(o,m){o&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Rc(o,m){if(o&1){let t=T();r(0,"div",27)(1,"button",34),E("click",function(){c(t);let e=g();return p(e.onFormCancel())}),_(2,"i",35),d(3),C(4,"translate"),a(),r(5,"button",36),_(6,"i",37),d(7),C(8,"translate"),a()()}if(o&2){g();let t=P(10);n(3),M(" ",h(4,3,"ACTION.CANCEL")," "),n(2),u("disabled",!t.form.valid),n(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var On=class On extends Qe{constructor(t,i,e,l,f,s,x,k,ye,Me){super(l,new ri,s,Me);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estateAccountAgencyAdsService=l;this.cmsToastrService=f;this.publicHelper=s;this.cdr=x;this.cmsStoreService=k;this.tokenHelper=ye;this.translate=Me;this.requestLinkAccountAgencyId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new ct;this.dataModelResult=new Se;this.dataModel=new ri;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,t&&t.linkAccountAgencyId&&(this.requestLinkAccountAgencyId=t.linkAccountAgencyId),this.requestLinkAccountAgencyId.length>0&&(this.dataModel.linkAccountAgencyId=this.requestLinkAccountAgencyId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAccountAgencyAdsService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorSelectLinkAccountAgencyId(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.Property_ID_is_unknown").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkAccountAgencyId=t.id}onActionSelectorSelectLinkAdsTypeId(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.Advertisement_ID_is_unknown").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkAdsTypeId=t.id,this.dataModel.title=t.title}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};On.\u0275fac=function(i){return new(i||On)(b(at),b(ot),b(j),b(_i),b(N),b(W),b(G),b(Ce),b(he),b(O))},On.\u0275cmp=V({type:On,selectors:[["app-estate-account-agency-ads-add"]],viewQuery:function(i,e){if(i&1&&$(Mc,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:45,vars:41,consts:[["vform","ngForm"],["Title",""],["FromDate",""],["Description",""],["StationLevel",""],["ViewLevel",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","fromDate",1,"color-highlight"],["matInput","","name","dataModel.fromDate","id","fromDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.stationLevel",1,"color-highlight"],["matInput","","name","dataModel.stationLevel","type","number","id","dataModel.stationLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.viewLevel",1,"color-highlight"],["matInput","","name","dataModel.viewLevel","type","number","id","dataModel.viewLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","expireDate",1,"color-highlight"],["matInput","","name","dataModel.expireDate","id","expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let l=T();r(0,"div",7),_(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),d(4),a(),r(5,"p"),d(6),C(7,"translate"),a(),_(8,"app-cms-form-result-message",11),r(9,"form",12,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),r(11,"div",13)(12,"label",14),d(13),a(),r(14,"input",15,1),A("ngModelChange",function(s){return c(l),I(e.dataModel.title,s)||(e.dataModel.title=s),p(s)}),a(),S(16,Ec,1,0,"i",16),S(17,bc,1,0,"i",17),r(18,"em"),d(19),a(),S(20,vc,5,3,"mat-error"),a(),r(21,"app-estate-account-agency-selector",18),C(22,"translate"),E("optionChange",function(s){return c(l),p(e.onActionSelectorSelectLinkAccountAgencyId(s))}),a(),r(23,"app-estate-ads-type-selector",19),C(24,"translate"),E("optionChange",function(s){return c(l),p(e.onActionSelectorSelectLinkAdsTypeId(s))}),a(),S(25,Ic,5,5,"div",13),S(26,Tc,5,5,"div",13),r(27,"div",20)(28,"label",21),d(29),a(),r(30,"input",22),A("ngModelChange",function(s){return c(l),I(e.dataModel.fromDate,s)||(e.dataModel.fromDate=s),p(s)}),a(),_(31,"mat-datepicker-toggle",23)(32,"mat-datepicker",24,2),a(),S(34,wc,7,5,"div",20),r(35,"div",13)(36,"label",25),d(37),a(),r(38,"textarea",26,3),A("ngModelChange",function(s){return c(l),I(e.dataModel.description,s)||(e.dataModel.description=s),p(s)}),d(40,"        "),a(),r(41,"em"),d(42),a(),S(43,Ac,5,3,"mat-error"),a(),S(44,Rc,9,7,"div",27),a()()()}if(i&2){let l=P(15),f=P(33),s=P(39);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),M(" ",e.formInfo.formTitle," "),n(2),M(" ",h(7,35,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),u("formInfo",e.formInfo),n(5),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),w("ngModel",e.dataModel.title),u("disabled",!(e.fieldsInfo.title!=null&&e.fieldsInfo.title.accessAddField)),n(2),y(l.value?-1:16),n(),y(l.value?17:-1),n(2),M("",l.value.length," / 100"),n(),y(l.errors!=null&&l.errors.required?20:-1),n(),u("optionDisabled",!(e.fieldsInfo.linkPropertyId!=null&&e.fieldsInfo.linkPropertyId.accessAddField))("optionSelectForce",e.dataModel.linkAccountAgencyId)("optionSelectUserId",e.tokenInfo.access.userId)("optionPlaceholder",h(22,37,"TITLE.Agency_ID")),n(2),u("optionDisabled",!(e.fieldsInfo.linkAdsTypeId!=null&&e.fieldsInfo.linkAdsTypeId.accessAddField))("optionSelectForce",e.dataModel.linkAdsTypeId)("optionPlaceholder",h(24,39,"TITLE.Ad_type_ID")),n(2),y(e.fieldsInfo.stationLevel!=null&&e.fieldsInfo.stationLevel.accessWatchField?25:-1),n(),y(e.fieldsInfo.viewLevel!=null&&e.fieldsInfo.viewLevel.accessWatchField?26:-1),n(3),v(e.fieldsInfo.fromDate==null?null:e.fieldsInfo.fromDate.fieldTitle),n(),u("matDatepicker",f),w("ngModel",e.dataModel.fromDate),n(),u("for",f),n(),u("calendarHeaderComponent",e.datapickerHeader),n(2),y(e.fieldsInfo.expireDate!=null&&e.fieldsInfo.expireDate.accessWatchField?34:-1),n(3),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),w("ngModel",e.dataModel.description),n(4),M("",s.value.length," / 500"),n(),y(s.errors!=null&&s.errors.required?43:-1),n(),y(e.formInfo.submitButtonEnabled?44:-1)}},dependencies:[ae,Y,ht,J,ie,X,re,le,oe,ne,ga,_a,Ca,se,Fe,H,z,de,St,zi,Qi,F],encapsulation:2});var Da=On;var xc=["vform"];function Pc(o,m){o&1&&_(0,"i",16)}function Dc(o,m){o&1&&_(0,"i",17)}function Lc(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function kc(o,m){if(o&1){let t=T();r(0,"div",13)(1,"label",28),d(2),a(),r(3,"input",29,4),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.stationLevel,e)||(l.dataModel.stationLevel=e),p(e)}),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.stationLevel==null?null:t.fieldsInfo.stationLevel.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.stationLevel==null?null:t.fieldsInfo.stationLevel.fieldTitle)),w("ngModel",t.dataModel.stationLevel),u("disabled",!(t.fieldsInfo.stationLevel!=null&&t.fieldsInfo.stationLevel.accessEditField))}}function Vc(o,m){if(o&1){let t=T();r(0,"div",13)(1,"label",30),d(2),a(),r(3,"input",31,5),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.viewLevel,e)||(l.dataModel.viewLevel=e),p(e)}),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.viewLevel==null?null:t.fieldsInfo.viewLevel.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.viewLevel==null?null:t.fieldsInfo.viewLevel.fieldTitle)),w("ngModel",t.dataModel.viewLevel),u("disabled",!(t.fieldsInfo.viewLevel!=null&&t.fieldsInfo.viewLevel.accessEditField))}}function Fc(o,m){if(o&1){let t=T();r(0,"div",20)(1,"label",32),d(2),a(),r(3,"input",33),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.expireDate,e)||(l.dataModel.expireDate=e),p(e)}),a(),_(4,"mat-datepicker-toggle",23)(5,"mat-datepicker",24,6),a()}if(o&2){let t=P(6),i=g();n(2),v(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),n(),u("matDatepicker",t),w("ngModel",i.dataModel.expireDate),n(),u("for",t),n(),u("calendarHeaderComponent",i.datapickerHeader)}}function Bc(o,m){o&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Gc(o,m){if(o&1){let t=T();r(0,"div",27)(1,"button",34),E("click",function(){c(t);let e=g();return p(e.onFormCancel())}),_(2,"i",35),d(3),C(4,"translate"),a(),r(5,"button",36),_(6,"i",37),d(7),C(8,"translate"),a()()}if(o&2){g();let t=P(10);n(3),M(" ",h(4,3,"ACTION.CANCEL")," "),n(2),u("disabled",!t.form.valid),n(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var Nn=class Nn extends rt{constructor(t,i,e,l,f,s,x,k,ye,Me){super(l,new ri,s,Me);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estateAccountAgencyAdsService=l;this.cmsToastrService=f;this.publicHelper=s;this.cdr=x;this.tokenHelper=k;this.cmsStoreService=ye;this.translate=Me;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new tt;this.dataModel=new ri;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAccountAgencyAdsService.setAccessLoad(),this.estateAccountAgencyAdsService.setAccessDataType(nt.Editor),this.estateAccountAgencyAdsService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAccountAgencyAdsService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorSelectLinkAccountAgencyId(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.Property_ID_is_unknown").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkAccountAgencyId=t.id}onActionSelectorSelectLinkAdsTypeId(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.Advertisement_ID_is_unknown").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkAdsTypeId=t.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Nn.\u0275fac=function(i){return new(i||Nn)(b(at),b(ot),b(j),b(_i),b(N),b(W),b(G),b(he),b(Ce),b(O))},Nn.\u0275cmp=V({type:Nn,selectors:[["app-estate-account-agency-ads-edit"]],viewQuery:function(i,e){if(i&1&&$(xc,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:45,vars:40,consts:[["vform","ngForm"],["Title",""],["FromDate",""],["Description",""],["StationLevel",""],["ViewLevel",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","fromDate",1,"color-highlight"],["matInput","","name","dataModel.fromDate","id","fromDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.stationLevel",1,"color-highlight"],["matInput","","name","dataModel.stationLevel","type","number","id","dataModel.stationLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.viewLevel",1,"color-highlight"],["matInput","","name","dataModel.viewLevel","type","number","id","dataModel.viewLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","expireDate",1,"color-highlight"],["matInput","","name","dataModel.expireDate","id","expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let l=T();r(0,"div",7),_(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),d(4),a(),r(5,"p"),d(6),C(7,"translate"),a(),_(8,"app-cms-form-result-message",11),r(9,"form",12,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),r(11,"div",13)(12,"label",14),d(13),a(),r(14,"input",15,1),A("ngModelChange",function(s){return c(l),I(e.dataModel.title,s)||(e.dataModel.title=s),p(s)}),a(),S(16,Pc,1,0,"i",16),S(17,Dc,1,0,"i",17),r(18,"em"),d(19),a(),S(20,Lc,5,3,"mat-error"),a(),r(21,"app-estate-account-agency-selector",18),C(22,"translate"),E("optionChange",function(s){return c(l),p(e.onActionSelectorSelectLinkAccountAgencyId(s))}),a(),r(23,"app-estate-ads-type-selector",19),C(24,"translate"),E("optionChange",function(s){return c(l),p(e.onActionSelectorSelectLinkAdsTypeId(s))}),a(),S(25,kc,5,5,"div",13),S(26,Vc,5,5,"div",13),r(27,"div",20)(28,"label",21),d(29),a(),r(30,"input",22),A("ngModelChange",function(s){return c(l),I(e.dataModel.fromDate,s)||(e.dataModel.fromDate=s),p(s)}),a(),_(31,"mat-datepicker-toggle",23)(32,"mat-datepicker",24,2),a(),S(34,Fc,7,5,"div",20),r(35,"div",13)(36,"label",25),d(37),a(),r(38,"textarea",26,3),A("ngModelChange",function(s){return c(l),I(e.dataModel.description,s)||(e.dataModel.description=s),p(s)}),d(40,"        "),a(),r(41,"em"),d(42),a(),S(43,Bc,5,3,"mat-error"),a(),S(44,Gc,9,7,"div",27),a()()()}if(i&2){let l=P(15),f=P(33),s=P(39);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),M(" ",e.formInfo.formTitle," "),n(2),M(" ",h(7,34,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),u("formInfo",e.formInfo),n(5),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),w("ngModel",e.dataModel.title),n(2),y(l.value?-1:16),n(),y(l.value?17:-1),n(2),M("",l.value.length," / 100"),n(),y(l.errors!=null&&l.errors.required?20:-1),n(),u("optionDisabled",!(e.fieldsInfo.linkPropertyId!=null&&e.fieldsInfo.linkPropertyId.accessAddField))("optionSelectForce",e.dataModel.linkAccountAgencyId)("optionSelectUserId",e.tokenInfo.access.userId)("optionPlaceholder",h(22,36,"TITLE.Agency_ID")),n(2),u("optionDisabled",!(e.fieldsInfo.linkAdsTypeId!=null&&e.fieldsInfo.linkAdsTypeId.accessAddField))("optionSelectForce",e.dataModel.linkAdsTypeId)("optionPlaceholder",h(24,38,"TITLE.Ad_type_ID")),n(2),y(e.fieldsInfo.stationLevel!=null&&e.fieldsInfo.stationLevel.accessWatchField?25:-1),n(),y(e.fieldsInfo.viewLevel!=null&&e.fieldsInfo.viewLevel.accessWatchField?26:-1),n(3),v(e.fieldsInfo.fromDate==null?null:e.fieldsInfo.fromDate.fieldTitle),n(),u("matDatepicker",f),w("ngModel",e.dataModel.fromDate),n(),u("for",f),n(),u("calendarHeaderComponent",e.datapickerHeader),n(2),y(e.fieldsInfo.expireDate!=null&&e.fieldsInfo.expireDate.accessWatchField?34:-1),n(3),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),w("ngModel",e.dataModel.description),n(4),M("",s.value.length," / 500"),n(),y(s.errors!=null&&s.errors.required?43:-1),n(),y(e.formInfo.submitButtonEnabled?44:-1)}},dependencies:[ae,Y,ht,J,ie,X,re,le,oe,ne,ga,_a,Ca,se,Fe,H,z,de,St,zi,Qi,F],encapsulation:2});var La=Nn;var Oc=()=>[5,10,20,100],Nc=o=>({background:o});function Wc(o,m){if(o&1){let t=T();r(0,"div",17)(1,"a",43),E("click",function(){c(t);let e=g();return p(e.onActionButtonNewRow())}),_(2,"i",44)(3,"br"),a(),r(4,"p",21),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.ADD")," "))}function Hc(o,m){if(o&1){let t=T();r(0,"div",17)(1,"a",10),E("click",function(){c(t);let e=g();return p(e.onActionButtonBuy())}),_(2,"i",45)(3,"br"),a(),r(4,"p",21),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.BUY")," "))}function Uc(o,m){if(o&1){let t=T();r(0,"div",17)(1,"a",46),E("click",function(){c(t);let e=g();return p(e.onActionButtonEditRow(e.tableRowSelected))}),_(2,"i",47)(3,"br"),a(),r(4,"p",21),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.EDIT")," "))}function qc(o,m){if(o&1){let t=T();r(0,"div",17)(1,"a",48),E("click",function(){c(t);let e=g();return p(e.onActionButtonDeleteRow(e.tableRowSelected))}),_(2,"i",49)(3,"br"),a(),r(4,"p",21),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.DELETE")," "))}function jc(o,m){if(o&1&&(r(0,"mat-header-cell",50),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle," ")}}function Zc(o,m){if(o&1&&(r(0,"mat-cell"),d(1),a()),o&2){let t=m.$implicit;n(),M(" ",t.id," ")}}function zc(o,m){if(o&1&&(r(0,"mat-header-cell",50),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.linkPropertyId==null?null:t.fieldsInfo.linkPropertyId.fieldTitle," ")}}function Qc(o,m){if(o&1&&(r(0,"mat-cell"),d(1),a()),o&2){let t=m.$implicit;n(),M(" ",t.linkPropertyId," ")}}function Kc(o,m){if(o&1&&(r(0,"mat-header-cell",50),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle," ")}}function Yc(o,m){if(o&1&&(r(0,"mat-cell"),d(1),a()),o&2){let t=m.$implicit;n(),M(" ",t.title," ")}}function Jc(o,m){if(o&1&&(r(0,"mat-header-cell",50),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.stationLevel==null?null:t.fieldsInfo.stationLevel.fieldTitle," ")}}function Xc(o,m){if(o&1&&(r(0,"mat-cell"),d(1),a()),o&2){let t=m.$implicit;n(),M(" ",t.stationLevel," ")}}function $c(o,m){if(o&1&&(r(0,"mat-header-cell",50),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.viewLevel==null?null:t.fieldsInfo.viewLevel.fieldTitle," ")}}function ep(o,m){if(o&1&&(r(0,"mat-cell"),d(1),a()),o&2){let t=m.$implicit;n(),M(" ",t.viewLevel," ")}}function tp(o,m){if(o&1&&(r(0,"mat-header-cell",50),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle," ")}}function ip(o,m){if(o&1&&(r(0,"mat-cell"),d(1),C(2,"persianDate"),a()),o&2){let t=m.$implicit;n(),M(" ",h(2,1,t.fromDate)," ")}}function np(o,m){if(o&1&&(r(0,"mat-header-cell",50),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.fieldTitle," ")}}function op(o,m){if(o&1&&(r(0,"mat-cell",51),d(1),C(2,"persianDate"),a()),o&2){let t=m.$implicit,i=g();u("ngStyle",$e(4,Nc,i.publicHelper.RowStyleExpireDate(t.expireDate))),n(),M(" ",h(2,2,t.expireDate)," ")}}function ap(o,m){o&1&&(r(0,"mat-header-cell"),d(1),C(2,"translate"),a()),o&2&&(n(),M(" ",h(2,1,"TITLE.OPTION")," "))}function rp(o,m){if(o&1&&(r(0,"mat-cell",52)(1,"button",53)(2,"mat-icon"),d(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),o&2){let t=P(5);n(),u("matMenuTriggerFor",t)}}function lp(o,m){o&1&&_(0,"mat-header-row")}function sp(o,m){if(o&1){let t=T();r(0,"mat-row",54),E("click",function(e){let l=c(t).$implicit,f=g();return p(f.onActionTableRowSelect(l,e))})("rtclick",function(e){let l=c(t).$implicit,f=g();return p(f.onActionTableRowSelect(l,e))}),a()}if(o&2){let t=m.$implicit,i=g();ce("ntk-row-selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Wn=class Wn extends Kt{constructor(t,i,e,l,f,s,x,k,ye,Me,bt,mi,di){super(t,new ri,mi,f,k);this.contentService=t;this.cmsConfirmationDialogService=i;this.activatedRoute=e;this.cmsToastrService=l;this.tokenHelper=f;this.router=s;this.cdr=x;this.translate=k;this.themeService=ye;this.cmsStoreService=Me;this.pageInfo=bt;this.publicHelper=mi;this.dialog=di;this.requestLinkAccountAgencyId="";this.requestLinkPropertyId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new He;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["StationLevel","ViewLevel","LinkAccountAgencyId","FromDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["StationLevel","ViewLevel"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkAccountAgencyId=this.activatedRoute.snapshot.paramMap.get("LinkAccountAgencyId"),this.optionsSearch.parentMethods={onSubmit:fn=>this.onSubmitOptionsSearch(fn)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=Ae.Descending,this.requestLinkAccountAgencyId&&this.requestLinkAccountAgencyId.length>0){let fn=new Xe;fn.propertyName="LinkAccountAgencyId",fn.value=this.requestLinkAccountAgencyId,this.filteModelContent.filters.push(fn)}}filterModelCompiler(t){let i=JSON.parse(JSON.stringify(t));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(t=>t.tokenInfoStore).subscribe(t=>ut(this,null,function*(){this.tokenInfo=t,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(t=>t.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ri);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess&&(this.applyDataGetAllResult(e),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Ae.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Ae.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Ae.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Da,{height:"90%",panelClass:t,enterAnimationDuration:_e.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_e.cmsViewConfig.exitAnimationDuration,data:{linkAccountAgencyId:this.requestLinkAccountAgencyId}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!(t?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(La,{height:"90%",panelClass:i,enterAnimationDuration:_e.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_e.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!(t?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],e=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(f,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonContentList(t=this.tableRowSelected){if(!(t?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(t),this.router.navigate(["/estate/main/account-agency/LinkAccountAgencyAdsId/",this.tableRowSelected.id])}onActionButtonBuy(){this.router.navigate(["/estate/main/account-agency-ads/sale/",this.requestLinkAccountAgencyId])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(x=>{i.set(x,0)}),this.translate.get("MESSAGE.All").subscribe(x=>{i.set(x,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(x=>{this.publicHelper.processService.processStart(e,x,this.constructorInfoAreaId)});let l=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetCount(l).subscribe({next:x=>{x.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,x.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(x.errorMessage),this.publicHelper.processService.processStop(e)},error:x=>{this.cmsToastrService.typeError(x),this.publicHelper.processService.processStop(e,!1)}});let f=this.filterModelCompiler(this.filteModelContent),s=new Xe;s.propertyName="recordStatus",s.value=Dt.Available,f.filters.push(s),this.contentService.ServiceGetCount(f).subscribe({next:x=>{x.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,x.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(x.errorMessage),this.publicHelper.processService.processStop(e)},error:x=>{this.cmsToastrService.typeError(x),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){t&&t.length>0?this.filterDataModelQueryBuilder=[...t]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/estate/data/property/"])}};Wn.\u0275fac=function(i){return new(i||Wn)(b(_i),b(yt),b(Ee),b(N),b(he),b(pe),b(G),b(O),b(vi),b(Ce),b(Qt),b(W),b(wt))},Wn.\u0275cmp=V({type:Wn,selectors:[["app-estate-account-agency-ads-list"]],standalone:!1,features:[B],decls:69,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkPropertyId"],["matColumnDef","title"],["matColumnDef","StationLevel"],["matColumnDef","ViewLevel"],["matColumnDef","FromDate"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-cart-shopping","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,e){if(i&1){let l=T();r(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(s){return c(l),I(e.viewGuideNotice,s)||(e.viewGuideNotice=s),p(s)}),E("optionOnActionButtonMemoRow",function(){return c(l),p(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return c(l),p(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return c(l),p(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return c(l),p(e.onActionButtonPrintRow())}),D(1,4),d(2," -------------------------------------- "),L(),ke(3,5)(4,6),D(5,7),r(6,"a",8),E("click",function(){return c(l),p(e.onActionBackToParent())}),_(7,"i",9),a(),r(8,"a",10),E("click",function(){return c(l),p(e.viewGuideNotice=!e.viewGuideNotice)}),_(9,"i",11),a(),r(10,"a",10),E("click",function(){return c(l),p(e.onActionButtonReload())}),_(11,"i",12),a(),L(),D(12,13),r(13,"a",14),E("click",function(){return c(l),p(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(14,"mat-slide-toggle",15),d(15),C(16,"translate"),a(),r(17,"a",14),E("click",function(){return c(l),p(e.onActionButtonStatist())}),_(18,"mat-slide-toggle",15),d(19),C(20,"translate"),a(),L(),D(21,16),S(22,Wc,7,3,"div",17),S(23,Hc,7,3,"div",17),L(),D(24,18),S(25,Uc,7,3,"div",17),S(26,qc,7,3,"div",17),r(27,"div",17)(28,"a",19),E("click",function(){return c(l),p(e.onActionButtonContentList(e.tableRowSelected))}),_(29,"i",20)(30,"br"),a(),r(31,"p",21),d(32),C(33,"translate"),a()(),L(),D(34,22),r(35,"app-cms-search-list",23),A("optionsChange",function(s){return c(l),I(e.optionsSearch,s)||(e.optionsSearch=s),p(s)}),a(),r(36,"app-cms-statist-list",23),A("optionsChange",function(s){return c(l),I(e.optionsStatist,s)||(e.optionsStatist=s),p(s)}),a(),L(),D(37,24),r(38,"mat-table",25,0),E("matSortChange",function(){c(l);let s=P(39);return p(e.onTableSortData(s))}),D(40,26),U(41,jc,2,1,"mat-header-cell",27)(42,Zc,2,1,"mat-cell",28),L(),D(43,29),U(44,zc,2,1,"mat-header-cell",27)(45,Qc,2,1,"mat-cell",28),L(),D(46,30),U(47,Kc,2,1,"mat-header-cell",27)(48,Yc,2,1,"mat-cell",28),L(),D(49,31),U(50,Jc,2,1,"mat-header-cell",27)(51,Xc,2,1,"mat-cell",28),L(),D(52,32),U(53,$c,2,1,"mat-header-cell",27)(54,ep,2,1,"mat-cell",28),L(),D(55,33),U(56,tp,2,1,"mat-header-cell",27)(57,ip,3,3,"mat-cell",28),L(),D(58,34),U(59,np,2,1,"mat-header-cell",27)(60,op,3,6,"mat-cell",35),L(),D(61,36),U(62,ap,3,3,"mat-header-cell",37)(63,rp,6,1,"mat-cell",38),L(),U(64,lp,1,0,"mat-header-row",39)(65,sp,1,2,"mat-row",40),a(),L(),D(66,41),r(67,"mat-paginator",42,1),E("page",function(s){return c(l),p(e.onTablePageingData(s))}),a(),L(),a()}i&2&&(u("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),n(11),ce("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),n(3),u("checked",e.optionsSearch.data.show),n(),M("",h(16,27,"ACTION.SEARCH")," "),n(3),u("checked",e.optionsStatist.data.show),n(),M("",h(20,29,"ACTION.STATIST")," "),n(3),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessAddRow?22:-1),n(),y(e.requestLinkPropertyId&&e.requestLinkPropertyId.length>0?23:-1),n(2),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow?25:-1),n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow?26:-1),n(6),M(" ",h(33,31,"ACTION.Property_to_be_traded")," "),n(3),w("options",e.optionsSearch),n(),w("options",e.optionsStatist),n(2),u("dataSource",e.tableSource),n(26),u("matHeaderRowDef",e.tabledisplayedColumns),n(),u("matRowDefColumns",e.tabledisplayedColumns),n(2),u("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Q(33,Oc)))},dependencies:[et,Tt,ft,kt,Vt,Be,Ge,Ft,Bt,Gt,Nt,qt,Wt,Ot,jt,Ht,Ut,Zt,zt,Oe,Ne,Yt,We,F,cl],encapsulation:2});var Hn=Wn;var dp=()=>[5,10,20,100],cp=(o,m)=>m.id;function pp(o,m){if(o&1){let t=T();r(0,"div",16)(1,"a",25),E("click",function(){c(t);let e=g();return p(e.onActionButtonNewRow())}),_(2,"i",26)(3,"br"),a(),r(4,"p",27),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.ADD")," "))}function mp(o,m){if(o&1){let t=T();r(0,"div",16)(1,"a",28),E("click",function(){c(t);let e=g();return p(e.onActionButtonEditRow(e.tableRowSelected))}),_(2,"i",29)(3,"br"),a(),r(4,"p",27),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.EDIT")," "))}function up(o,m){if(o&1){let t=T();r(0,"div",16)(1,"a",30),E("click",function(){c(t);let e=g();return p(e.onActionButtonDeleteRow(e.tableRowSelected))}),_(2,"i",31)(3,"br"),a(),r(4,"p",27),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.DELETE")," "))}function fp(o,m){if(o&1&&(r(0,"div",38),_(1,"i",40),d(2),a()),o&2){let t=g().$implicit,i=g(2);n(2),Ve(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",t.id," ")}}function gp(o,m){if(o&1&&(r(0,"div",38),_(1,"i",41),d(2),C(3,"localeDate"),a()),o&2){let t=g().$implicit,i=g(2);n(2),Ve(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",h(3,2,t.createdDate)," ")}}function _p(o,m){if(o&1&&_(0,"select",43),o&2){let t=g(2).$implicit,i=g(2);u("contentService",i.contentService)("row",t)}}function Cp(o,m){if(o&1&&(r(0,"div",38),_(1,"i",42),C(2,"statusIconClass"),S(3,_p,1,2,"select",43),a()),o&2){let t=g().$implicit,i=g(2);n(),u("ngClass",h(2,2,t.recordStatus)),n(2),y(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function hp(o,m){if(o&1&&(r(0,"div",38),_(1,"i",46),d(2),C(3,"localeDate"),a()),o&2){let t=g(2).$implicit,i=g(2);n(2),Ve(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",h(3,2,t.updatedDate)," ")}}function Sp(o,m){if(o&1){let t=T();r(0,"div",39),S(1,hp,4,4,"div",38),r(2,"div",38)(3,"span",44),E("click",function(e){return c(t),g(3).onActionCopied(),p(e.stopPropagation())}),_(4,"i",45),a(),d(5),a()()}if(o&2){let t=g().$implicit;n(),y(t.updatedDate?1:-1),n(2),u("cdkCopyToClipboard",t.id.toString()),n(2),M(" ID: ",t.id," ")}}function yp(o,m){if(o&1){let t=T();r(0,"div",33),E("click",function(e){let l=c(t).$implicit,f=g(2);return p(f.onActionTableRowSelect(l,e))})("rtclick",function(e){let l=c(t).$implicit,f=g(2);return p(f.onActionTableRowSelect(l,e))})("mouseenter",function(){let e=c(t).$implicit,l=g(2);return p(l.onActionTableRowMouseEnter(e))})("mouseleave",function(){let e=c(t).$implicit,l=g(2);return p(l.onActionTableRowMouseLeave(e))}),r(1,"div",34),_(2,"i",35),C(3,"statusIconClass"),a(),r(4,"div",36)(5,"div",37),d(6),a(),S(7,fp,3,2,"div",38),S(8,gp,4,4,"div",38),S(9,Cp,4,4,"div",38),S(10,Sp,6,3,"div",39),a()()}if(o&2){let t=m.$implicit,i=g(2);ce("selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))("bg-fade-highlight-light",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),pt("aria-label",t.title||t.id),n(2),u("ngClass",h(3,11,t.recordStatus)),n(4),M(" ",t.title||"ID: "+t.id," "),n(),y(t.id?7:-1),n(),y(t.createdDate?8:-1),n(),y(t.recordStatus!==void 0?9:-1),n(),y(i.getRowExpanded(t)?10:-1)}}function Mp(o,m){if(o&1&&(r(0,"div",21),Re(1,yp,11,13,"div",32,cp),a()),o&2){let t=g();n(),xe(t.dataModelResult.listItems)}}function Ep(o,m){o&1&&(r(0,"div",22),d(1),C(2,"translate"),a()),o&2&&(n(),M(" ",h(2,1,"MESSAGE.NoRecord")," "))}var $i=class $i extends Hn{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(t){let i=String(t);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(t){return String(t)}onDocumentClick(t){let i=t.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(t){return t.expanded===!0}};$i.\u0275fac=(()=>{let t;return function(e){return(t||(t=_t($i)))(e||$i)}})(),$i.\u0275cmp=V({type:$i,selectors:[["app-estate-account-agency-ads-list-mobile"]],hostBindings:function(i,e){i&1&&E("click",function(f){return e.onDocumentClick(f)},Ct)},standalone:!1,features:[B],decls:36,vars:30,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-calendar"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"]],template:function(i,e){if(i&1){let l=T();r(0,"app-cms-html-list-mobile",1),A("optionActionGuideNoticeDisplayChange",function(s){return c(l),I(e.viewGuideNotice,s)||(e.viewGuideNotice=s),p(s)}),E("optionOnActionButtonMemoRow",function(){return c(l),p(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return c(l),p(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return c(l),p(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return c(l),p(e.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return c(l),p(e.onActionLoadNextPage())}),ke(1,2)(2,3)(3,4),D(4,5),r(5,"a",6),E("click",function(){return c(l),p(e.viewGuideNotice=!e.viewGuideNotice)}),_(6,"i",7),a(),r(7,"a",6),E("click",function(){return c(l),p(e.onActionButtonReload())}),_(8,"i",8),a(),r(9,"a",9),E("click",function(){return c(l),p(e.onActionGridExpandRows(!0))}),_(10,"i",10),a(),r(11,"a",9),E("click",function(){return c(l),p(e.onActionGridExpandRows(!1))}),_(12,"i",11),a(),L(),D(13,12),r(14,"a",13),E("click",function(){return c(l),p(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(15,"mat-slide-toggle",14),d(16),C(17,"translate"),a(),r(18,"a",13),E("click",function(){return c(l),p(e.onActionButtonStatist())}),_(19,"mat-slide-toggle",14),d(20),C(21,"translate"),a(),L(),D(22,15),S(23,pp,7,3,"div",16),L(),D(24,17),S(25,mp,7,3,"div",16),S(26,up,7,3,"div",16),L(),D(27,18),r(28,"app-cms-search-list",19),A("optionsChange",function(s){return c(l),I(e.optionsSearch,s)||(e.optionsSearch=s),p(s)}),a(),r(29,"app-cms-statist-list",19),A("optionsChange",function(s){return c(l),I(e.optionsStatist,s)||(e.optionsStatist=s),p(s)}),a(),L(),D(30,20),S(31,Mp,3,0,"div",21)(32,Ep,3,3,"div",22),L(),D(33,23),r(34,"mat-paginator",24,0),E("page",function(s){return c(l),p(e.onTablePageingData(s))}),a(),L(),a()}i&2&&(u("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey","estate.main.account-agency-ads.list"),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplay",(e.tableRowSelected==null?null:e.tableRowSelected.id)>0)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),n(8),ce("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),n(7),u("checked",e.optionsSearch.data.show),n(),M("",h(17,25,"ACTION.SEARCH")," "),n(3),u("checked",e.optionsStatist.data.show),n(),M("",h(21,27,"ACTION.STATIST")," "),n(3),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessAddRow?23:-1),n(2),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow&&(e.tableRowSelected==null?null:e.tableRowSelected.id)>0?25:-1),n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow&&(e.tableRowSelected==null?null:e.tableRowSelected.id)>0?26:-1),n(2),w("options",e.optionsSearch),n(),w("options",e.optionsStatist),n(2),y(!(e.dataModelResult==null||e.dataModelResult.listItems==null)&&e.dataModelResult.listItems.length?31:32),n(3),u("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Q(29,dp)))},dependencies:[K,H,Be,Ge,It,Oe,Ne,Pt,We,At,F,Rt,xt],encapsulation:2});var ka=$i;var bp=()=>[5,10,20,100],vp=(o,m)=>m.id;function Ip(o,m){if(o&1){let t=T();r(0,"div",16)(1,"a",25),E("click",function(){c(t);let e=g();return p(e.onActionButtonNewRow())}),_(2,"i",26)(3,"br"),a(),r(4,"p",27),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.ADD")," "))}function Tp(o,m){if(o&1){let t=T();r(0,"div",16)(1,"a",28),E("click",function(){c(t);let e=g();return p(e.onActionButtonEditRow(e.tableRowSelected))}),_(2,"i",29)(3,"br"),a(),r(4,"p",27),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.EDIT")," "))}function wp(o,m){if(o&1){let t=T();r(0,"div",16)(1,"a",30),E("click",function(){c(t);let e=g();return p(e.onActionButtonDeleteRow(e.tableRowSelected))}),_(2,"i",31)(3,"br"),a(),r(4,"p",27),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.DELETE")," "))}function Ap(o,m){if(o&1&&(r(0,"div",38),_(1,"i",40),d(2),a()),o&2){let t=g().$implicit,i=g(2);n(2),Ve(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",t.id," ")}}function Rp(o,m){if(o&1&&(r(0,"div",38),_(1,"i",41),d(2),C(3,"localeDate"),a()),o&2){let t=g().$implicit,i=g(2);n(2),Ve(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",h(3,2,t.createdDate)," ")}}function xp(o,m){if(o&1&&_(0,"select",43),o&2){let t=g(2).$implicit,i=g(2);u("contentService",i.contentService)("row",t)}}function Pp(o,m){if(o&1&&(r(0,"div",38),_(1,"i",42),C(2,"statusIconClass"),S(3,xp,1,2,"select",43),a()),o&2){let t=g().$implicit,i=g(2);n(),u("ngClass",h(2,2,t.recordStatus)),n(2),y(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function Dp(o,m){if(o&1&&(r(0,"div",38),_(1,"i",46),d(2),C(3,"localeDate"),a()),o&2){let t=g(2).$implicit,i=g(2);n(2),Ve(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",h(3,2,t.updatedDate)," ")}}function Lp(o,m){if(o&1){let t=T();r(0,"div",39),S(1,Dp,4,4,"div",38),r(2,"div",38)(3,"span",44),E("click",function(e){return c(t),g(3).onActionCopied(),p(e.stopPropagation())}),_(4,"i",45),a(),d(5),a()()}if(o&2){let t=g().$implicit;n(),y(t.updatedDate?1:-1),n(2),u("cdkCopyToClipboard",t.id.toString()),n(2),M(" ID: ",t.id," ")}}function kp(o,m){if(o&1){let t=T();r(0,"div",33),E("click",function(e){let l=c(t).$implicit,f=g(2);return p(f.onActionTableRowSelect(l,e))})("rtclick",function(e){let l=c(t).$implicit,f=g(2);return p(f.onActionTableRowSelect(l,e))})("mouseenter",function(){let e=c(t).$implicit,l=g(2);return p(l.onActionTableRowMouseEnter(e))})("mouseleave",function(){let e=c(t).$implicit,l=g(2);return p(l.onActionTableRowMouseLeave(e))}),r(1,"div",34),_(2,"i",35),C(3,"statusIconClass"),a(),r(4,"div",36)(5,"div",37),d(6),a(),S(7,Ap,3,2,"div",38),S(8,Rp,4,4,"div",38),S(9,Pp,4,4,"div",38),S(10,Lp,6,3,"div",39),a()()}if(o&2){let t=m.$implicit,i=g(2);ce("selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))("bg-fade-highlight-light",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),pt("aria-label",t.title||t.id),n(2),u("ngClass",h(3,11,t.recordStatus)),n(4),M(" ",t.title||"ID: "+t.id," "),n(),y(t.id?7:-1),n(),y(t.createdDate?8:-1),n(),y(t.recordStatus!==void 0?9:-1),n(),y(i.getRowExpanded(t)?10:-1)}}function Vp(o,m){if(o&1&&(r(0,"div",21),Re(1,kp,11,13,"div",32,vp),a()),o&2){let t=g();n(),xe(t.dataModelResult.listItems)}}function Fp(o,m){o&1&&(r(0,"div",22),d(1),C(2,"translate"),a()),o&2&&(n(),M(" ",h(2,1,"MESSAGE.NoRecord")," "))}var en=class en extends No{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(t){let i=String(t);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(t){return String(t)}onDocumentClick(t){let i=t.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(t){return t.expanded===!0}};en.\u0275fac=(()=>{let t;return function(e){return(t||(t=_t(en)))(e||en)}})(),en.\u0275cmp=V({type:en,selectors:[["app-estate-account-agency-list-mobile"]],hostBindings:function(i,e){i&1&&E("click",function(f){return e.onDocumentClick(f)},Ct)},standalone:!1,features:[B],decls:36,vars:30,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-calendar"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"]],template:function(i,e){if(i&1){let l=T();r(0,"app-cms-html-list-mobile",1),A("optionActionGuideNoticeDisplayChange",function(s){return c(l),I(e.viewGuideNotice,s)||(e.viewGuideNotice=s),p(s)}),E("optionOnActionButtonMemoRow",function(){return c(l),p(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return c(l),p(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return c(l),p(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return c(l),p(e.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return c(l),p(e.onActionLoadNextPage())}),ke(1,2)(2,3)(3,4),D(4,5),r(5,"a",6),E("click",function(){return c(l),p(e.viewGuideNotice=!e.viewGuideNotice)}),_(6,"i",7),a(),r(7,"a",6),E("click",function(){return c(l),p(e.onActionButtonReload())}),_(8,"i",8),a(),r(9,"a",9),E("click",function(){return c(l),p(e.onActionGridExpandRows(!0))}),_(10,"i",10),a(),r(11,"a",9),E("click",function(){return c(l),p(e.onActionGridExpandRows(!1))}),_(12,"i",11),a(),L(),D(13,12),r(14,"a",13),E("click",function(){return c(l),p(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(15,"mat-slide-toggle",14),d(16),C(17,"translate"),a(),r(18,"a",13),E("click",function(){return c(l),p(e.onActionButtonStatist())}),_(19,"mat-slide-toggle",14),d(20),C(21,"translate"),a(),L(),D(22,15),S(23,Ip,7,3,"div",16),L(),D(24,17),S(25,Tp,7,3,"div",16),S(26,wp,7,3,"div",16),L(),D(27,18),r(28,"app-cms-search-list",19),A("optionsChange",function(s){return c(l),I(e.optionsSearch,s)||(e.optionsSearch=s),p(s)}),a(),r(29,"app-cms-statist-list",19),A("optionsChange",function(s){return c(l),I(e.optionsStatist,s)||(e.optionsStatist=s),p(s)}),a(),L(),D(30,20),S(31,Vp,3,0,"div",21)(32,Fp,3,3,"div",22),L(),D(33,23),r(34,"mat-paginator",24,0),E("page",function(s){return c(l),p(e.onTablePageingData(s))}),a(),L(),a()}i&2&&(u("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey","estate.main.account-agency.list"),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplay",(e.tableRowSelected==null?null:e.tableRowSelected.id)>0)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),n(8),ce("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),n(7),u("checked",e.optionsSearch.data.show),n(),M("",h(17,25,"ACTION.SEARCH")," "),n(3),u("checked",e.optionsStatist.data.show),n(),M("",h(21,27,"ACTION.STATIST")," "),n(3),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessAddRow?23:-1),n(2),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow&&(e.tableRowSelected==null?null:e.tableRowSelected.id)>0?25:-1),n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow&&(e.tableRowSelected==null?null:e.tableRowSelected.id)>0?26:-1),n(2),w("options",e.optionsSearch),n(),w("options",e.optionsStatist),n(2),y(!(e.dataModelResult==null||e.dataModelResult.listItems==null)&&e.dataModelResult.listItems.length?31:32),n(3),u("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Q(29,bp)))},dependencies:[K,H,Be,Ge,It,Oe,Ne,Pt,We,At,F,Rt,xt],encapsulation:2});var zo=en;var Bp=["vform"],Gp=o=>({direction:o});function Op(o,m){if(o&1){let t=T();r(0,"app-cms-enum-record-status-selector",24),A("modelChange",function(e){c(t);let l=g();return I(l.dataModel.recordStatus,e)||(l.dataModel.recordStatus=e),p(e)}),a()}if(o&2){let t=g();w("model",t.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Np(o,m){if(o&1&&(r(0,"div",16)(1,"label",17),d(2),C(3,"translate"),a(),r(4,"a",25),C(5,"cmsthumbnail"),_(6,"img",26),C(7,"cmsthumbnail"),a()()),o&2){let t=g();n(2),v(h(3,5,"TITLE.Profile_Picture")),n(2),u("href",R(h(5,7,t.dataModel.linkMainImageIdSrc)),Z),n(2),u("src",R(h(7,9,t.dataModel.linkMainImageIdSrc)),Z)}}function Wp(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Hp(o,m){o&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Up(o,m){if(o&1){let t=T();r(0,"div",23)(1,"button",27),E("click",function(){c(t);let e=g();return p(e.onActionBackToParent())}),_(2,"i",28),d(3),C(4,"translate"),a(),r(5,"button",29),_(6,"i",30),d(7),C(8,"translate"),a()()}if(o&2){g();let t=P(14);n(3),M(" ",h(4,3,"ACTION.CANCEL")," "),n(2),u("disabled",!t.form.valid),n(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var Un=class Un extends Qe{constructor(t,i,e,l,f,s,x,k,ye,Me){super(i,new hn,l,ye);this.coreEnumService=t;this.estateAccountExpertService=i;this.cmsToastrService=e;this.publicHelper=l;this.cmsStoreService=f;this.cdr=s;this.router=x;this.activatedRoute=k;this.translate=ye;this.tokenHelper=Me;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new ct;this.dataModelResult=new Se;this.dataModel=new hn;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.activatedRoute.snapshot.paramMap.get("id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("id")),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.requestId&&this.requestId.length>0?(this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t+" copy"}),this.DataClone()):this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataClone(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAccountExpertService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess?(this.dataModel=i.item,i.item.title=i.item.title+" copy",this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAccountExpertService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.onActionBackToParent()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onActionBackToParent(){this.activatedRoute.snapshot.paramMap.get("LinkAccountAgencyId")?this.router.navigate(["/estate/main/account-user/LinkAccountAgencyId/"+this.activatedRoute.snapshot.paramMap.get("LinkAccountAgencyId")]):this.router.navigate(["/estate/main/account-user"])}};Un.\u0275fac=function(i){return new(i||Un)(b(j),b(yn),b(N),b(W),b(Ce),b(G),b(pe),b(Ee),b(O),b(he))},Un.\u0275cmp=V({type:Un,selectors:[["app-estate-account-expert-add-mobile"]],viewQuery:function(i,e){if(i&1&&$(Bp,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:43,vars:48,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[1,"cms-m-header-title"],[1,"cms-m-header-spacer"],[1,"cms-m-content","safe-area-content"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"cms-m-form-field"],[1,"cms-m-form-label"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"cms-m-form-input",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"cms-m-char-count"],["matInput","","name","dataModel.description","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"cms-m-form-textarea",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"cms-m-footer","safe-area-bottom"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["target","_blank",1,"cms-m-image-preview",3,"href"],["alt","Preview",3,"src"],["type","button",1,"cms-m-btn","cms-m-btn-secondary",3,"click"],["aria-hidden","true",1,"fa-solid","fa-times"],["type","submit",1,"cms-m-btn","cms-m-btn-success",3,"disabled"],["aria-hidden","true",1,"fa-solid","fa-save"]],template:function(i,e){if(i&1){let l=T();r(0,"div",4),_(1,"app-progress-spinner",5),r(2,"div",6)(3,"div",7)(4,"button",8),C(5,"translate"),E("click",function(){return c(l),p(e.onActionBackToParent())}),_(6,"i",9),a(),r(7,"h1",10),d(8),C(9,"translate"),a(),_(10,"div",11),a()(),r(11,"div",12),_(12,"app-cms-form-result-message",13),r(13,"form",14,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),S(15,Op,1,5,"app-cms-enum-record-status-selector",15),S(16,Np,8,11,"div",16),r(17,"div",16)(18,"label",17),d(19),C(20,"translate"),a(),r(21,"input",18,1),C(23,"translate"),A("ngModelChange",function(s){return c(l),I(e.dataModel.linkMainImageId,s)||(e.dataModel.linkMainImageId=s),p(s)}),E("click",function(){return c(l),p(e.fileManagerOpenForm=!0)}),a(),r(24,"cms-file-manager",19),C(25,"translate"),E("itemSelected",function(s){return c(l),p(e.onActionFileSelected(s))}),A("openFormChange",function(s){return c(l),I(e.fileManagerOpenForm,s)||(e.fileManagerOpenForm=s),p(s)}),a()(),r(26,"div",16)(27,"label",17),d(28),a(),r(29,"input",20,2),A("ngModelChange",function(s){return c(l),I(e.dataModel.title,s)||(e.dataModel.title=s),p(s)}),a(),r(31,"em",21),d(32),a(),S(33,Wp,5,3,"mat-error"),a(),r(34,"div",16)(35,"label",17),d(36),a(),r(37,"textarea",22,3),A("ngModelChange",function(s){return c(l),I(e.dataModel.description,s)||(e.dataModel.description=s),p(s)}),a(),r(39,"em",21),d(40),a(),S(41,Hp,5,3,"mat-error"),a(),S(42,Up,9,7,"div",23),a()()()}if(i&2){let l=P(30),f=P(38);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),Pe("aria-label",R(h(5,36,"ACTION.BACK"))),n(4),M(" ",e.formInfo.formTitle||h(9,38,"ROUTE.ESTATE.ACCOUNTUSER")," "),n(4),u("formInfo",e.formInfo),n(),u("ngStyle",$e(46,Gp,e.tokenInfo.access.direction)),n(2),y(e.fieldsInfo.recordStatus!=null&&e.fieldsInfo.recordStatus.accessWatchField?15:-1),n(),y((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?16:-1),n(3),v(h(20,40,"TITLE.Profile_Picture")),n(2),u("placeholder",R(h(23,42,"TITLE.Profile_Photo_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),n(3),u("language",e.appLanguage)("isPopup",!0)("openSelectFileDescription",h(25,44,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),w("openForm",e.fileManagerOpenForm),u("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),n(4),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),w("ngModel",e.dataModel.title),u("disabled",!(e.fieldsInfo.title!=null&&e.fieldsInfo.title.accessAddField)),n(3),M("",l.value.length," / 100"),n(),y(l.errors!=null&&l.errors.required?33:-1),n(3),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),w("ngModel",e.dataModel.description),u("disabled",!(e.fieldsInfo.description!=null&&e.fieldsInfo.description.accessAddField)),n(3),M("",f.value.length," / 500"),n(),y(f.errors!=null&&f.errors.required?41:-1),n(),y(e.formInfo.submitButtonEnabled?42:-1)}},dependencies:[et,ae,Y,J,ie,X,re,le,oe,ne,se,H,Le,z,de,De,F,ge],encapsulation:2});var Qo=Un;var qp=["vform"],jp=o=>({direction:o});function Zp(o,m){if(o&1){let t=T();r(0,"app-cms-enum-record-status-selector",23),A("modelChange",function(e){c(t);let l=g();return I(l.dataModel.recordStatus,e)||(l.dataModel.recordStatus=e),p(e)}),a()}if(o&2){let t=g();w("model",t.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function zp(o,m){if(o&1&&(r(0,"div",16)(1,"label",17),d(2),C(3,"translate"),a(),r(4,"a",24),C(5,"cmsthumbnail"),_(6,"img",25),C(7,"cmsthumbnail"),a()()),o&2){let t=g();n(2),v(h(3,5,"TITLE.Profile_Picture")),n(2),u("href",R(h(5,7,t.dataModel.linkMainImageIdSrc)),Z),n(2),u("src",R(h(7,9,t.dataModel.linkMainImageIdSrc)),Z)}}function Qp(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Kp(o,m){if(o&1){let t=T();r(0,"div",16)(1,"label",17),d(2),a(),r(3,"input",26,3),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.title,e)||(l.dataModel.title=e),p(e)}),a(),r(5,"em",21),d(6),a(),S(7,Qp,5,3,"mat-error"),a()}if(o&2){let t=P(4),i=g();n(2),v(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),u("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),n(3),M("",t.value.length," / 100"),n(),y(t.errors!=null&&t.errors.required?7:-1)}}function Yp(o,m){o&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Jp(o,m){if(o&1){let t=T();r(0,"div",22)(1,"button",27),E("click",function(){c(t);let e=g();return p(e.onActionBackToParent())}),_(2,"i",28),d(3),C(4,"translate"),a(),r(5,"button",29),_(6,"i",30),d(7),C(8,"translate"),a()()}if(o&2){g();let t=P(14);n(3),M(" ",h(4,3,"ACTION.CANCEL")," "),n(2),u("disabled",!t.form.valid),n(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var qn=class qn extends rt{constructor(t,i,e,l,f,s,x,k,ye,Me){super(i,new hn,f,Me);this.coreEnumService=t;this.estateAccountExpertService=i;this.cmsToastrService=e;this.cmsStoreService=l;this.publicHelper=f;this.router=s;this.cdr=x;this.activatedRoute=k;this.tokenHelper=ye;this.translate=Me;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new ct;this.dataModelResult=new tt;this.dataModel=new hn;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.activatedRoute.snapshot.paramMap.get("id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("id")),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.onActionBackToParent();return}this.DataGetOneContent()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAccountExpertService.setAccessLoad(),this.estateAccountExpertService.setAccessDataType(nt.Editor),this.estateAccountExpertService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAccountExpertService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.onActionBackToParent()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onActionBackToParent(){this.activatedRoute.snapshot.paramMap.get("LinkAccountAgencyId")?this.router.navigate(["/estate/main/account-user/LinkAccountAgencyId/"+this.activatedRoute.snapshot.paramMap.get("LinkAccountAgencyId")]):this.router.navigate(["/estate/main/account-user"])}};qn.\u0275fac=function(i){return new(i||qn)(b(j),b(yn),b(N),b(Ce),b(W),b(pe),b(G),b(Ee),b(he),b(O))},qn.\u0275cmp=V({type:qn,selectors:[["app-estate-account-expert-edit-mobile"]],viewQuery:function(i,e){if(i&1&&$(qp,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:36,vars:42,consts:[["vform","ngForm"],["LinkMainImageId",""],["Description",""],["Title",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[1,"cms-m-header-title"],[1,"cms-m-header-spacer"],[1,"cms-m-content","safe-area-content"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"cms-m-form-field"],[1,"cms-m-form-label"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"cms-m-form-input",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["matInput","","name","dataModel.description","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"cms-m-form-textarea",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"cms-m-char-count"],[1,"cms-m-footer","safe-area-bottom"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["target","_blank",1,"cms-m-image-preview",3,"href"],["alt","Preview",3,"src"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"cms-m-btn","cms-m-btn-secondary",3,"click"],["aria-hidden","true",1,"fa-solid","fa-times"],["type","submit",1,"cms-m-btn","cms-m-btn-success",3,"disabled"],["aria-hidden","true",1,"fa-solid","fa-save"]],template:function(i,e){if(i&1){let l=T();r(0,"div",4),_(1,"app-progress-spinner",5),r(2,"div",6)(3,"div",7)(4,"button",8),C(5,"translate"),E("click",function(){return c(l),p(e.onActionBackToParent())}),_(6,"i",9),a(),r(7,"h1",10),d(8),C(9,"translate"),a(),_(10,"div",11),a()(),r(11,"div",12),_(12,"app-cms-form-result-message",13),r(13,"form",14,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),S(15,Zp,1,5,"app-cms-enum-record-status-selector",15),S(16,zp,8,11,"div",16),r(17,"div",16)(18,"label",17),d(19),C(20,"translate"),a(),r(21,"input",18,1),C(23,"translate"),A("ngModelChange",function(s){return c(l),I(e.dataModel.linkMainImageId,s)||(e.dataModel.linkMainImageId=s),p(s)}),E("click",function(){return c(l),p(e.fileManagerOpenForm=!0)}),a(),r(24,"cms-file-manager",19),C(25,"translate"),E("itemSelected",function(s){return c(l),p(e.onActionFileSelected(s))}),A("openFormChange",function(s){return c(l),I(e.fileManagerOpenForm,s)||(e.fileManagerOpenForm=s),p(s)}),a()(),S(26,Kp,8,7,"div",16),r(27,"div",16)(28,"label",17),d(29),a(),r(30,"textarea",20,2),A("ngModelChange",function(s){return c(l),I(e.dataModel.description,s)||(e.dataModel.description=s),p(s)}),a(),r(32,"em",21),d(33),a(),S(34,Yp,5,3,"mat-error"),a(),S(35,Jp,9,7,"div",22),a()()()}if(i&2){let l=P(31);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),Pe("aria-label",R(h(5,30,"ACTION.BACK"))),n(4),M(" ",e.formInfo.formTitle||h(9,32,"ROUTE.ESTATE.ACCOUNTUSER")," "),n(4),u("formInfo",e.formInfo),n(),u("ngStyle",$e(40,jp,e.tokenInfo.access.direction)),n(2),y(e.fieldsInfo.recordStatus!=null&&e.fieldsInfo.recordStatus.accessWatchField?15:-1),n(),y((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?16:-1),n(3),v(h(20,34,"TITLE.Profile_Picture")),n(2),u("placeholder",R(h(23,36,"TITLE.Profile_Photo_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),n(3),u("language",e.appLanguage)("isPopup",!0)("openSelectFileDescription",h(25,38,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),w("openForm",e.fileManagerOpenForm),u("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),n(2),y(e.fieldsInfo.title!=null&&e.fieldsInfo.title.accessWatchField?26:-1),n(3),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),w("ngModel",e.dataModel.description),u("disabled",!(e.fieldsInfo.description!=null&&e.fieldsInfo.description.accessEditField)),n(3),M("",l.value.length," / 500"),n(),y(l.errors!=null&&l.errors.required?34:-1),n(),y(e.formInfo.submitButtonEnabled?35:-1)}},dependencies:[et,ae,Y,J,ie,X,re,le,oe,ne,se,H,Le,z,de,De,F,ge],encapsulation:2});var Va=qn;var Xp=()=>[5,10,20,100],$p=(o,m)=>m.id;function em(o,m){if(o&1){let t=T();r(0,"div",16)(1,"a",25),E("click",function(){c(t);let e=g();return p(e.onActionButtonNewRow())}),_(2,"i",26)(3,"br"),a(),r(4,"p",27),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.ADD")," "))}function tm(o,m){if(o&1){let t=T();r(0,"div",16)(1,"a",28),E("click",function(){c(t);let e=g();return p(e.onActionButtonEditRow(e.tableRowSelected))}),_(2,"i",29)(3,"br"),a(),r(4,"p",27),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.EDIT")," "))}function im(o,m){if(o&1){let t=T();r(0,"div",16)(1,"a",30),E("click",function(){c(t);let e=g();return p(e.onActionButtonDeleteRow(e.tableRowSelected))}),_(2,"i",31)(3,"br"),a(),r(4,"p",27),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.DELETE")," "))}function nm(o,m){if(o&1&&(r(0,"div",38),_(1,"i",40),d(2),a()),o&2){let t=g().$implicit,i=g(2);n(2),Ve(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",t.id," ")}}function om(o,m){if(o&1&&(r(0,"div",38),_(1,"i",41),d(2),C(3,"localeDate"),a()),o&2){let t=g().$implicit,i=g(2);n(2),Ve(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",h(3,2,t.createdDate)," ")}}function am(o,m){if(o&1&&_(0,"select",43),o&2){let t=g(2).$implicit,i=g(2);u("contentService",i.contentService)("row",t)}}function rm(o,m){if(o&1&&(r(0,"div",38),_(1,"i",42),C(2,"statusIconClass"),S(3,am,1,2,"select",43),a()),o&2){let t=g().$implicit,i=g(2);n(),u("ngClass",h(2,2,t.recordStatus)),n(2),y(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function lm(o,m){if(o&1&&(r(0,"div",38),_(1,"i",46),d(2),C(3,"localeDate"),a()),o&2){let t=g(2).$implicit,i=g(2);n(2),Ve(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",h(3,2,t.updatedDate)," ")}}function sm(o,m){if(o&1){let t=T();r(0,"div",39),S(1,lm,4,4,"div",38),r(2,"div",38)(3,"span",44),E("click",function(e){return c(t),g(3).onActionCopied(),p(e.stopPropagation())}),_(4,"i",45),a(),d(5),a()()}if(o&2){let t=g().$implicit;n(),y(t.updatedDate?1:-1),n(2),u("cdkCopyToClipboard",t.id.toString()),n(2),M(" ID: ",t.id," ")}}function dm(o,m){if(o&1){let t=T();r(0,"div",33),E("click",function(e){let l=c(t).$implicit,f=g(2);return p(f.onActionTableRowSelect(l,e))})("rtclick",function(e){let l=c(t).$implicit,f=g(2);return p(f.onActionTableRowSelect(l,e))})("mouseenter",function(){let e=c(t).$implicit,l=g(2);return p(l.onActionTableRowMouseEnter(e))})("mouseleave",function(){let e=c(t).$implicit,l=g(2);return p(l.onActionTableRowMouseLeave(e))}),r(1,"div",34),_(2,"i",35),C(3,"statusIconClass"),a(),r(4,"div",36)(5,"div",37),d(6),a(),S(7,nm,3,2,"div",38),S(8,om,4,4,"div",38),S(9,rm,4,4,"div",38),S(10,sm,6,3,"div",39),a()()}if(o&2){let t=m.$implicit,i=g(2);ce("selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))("bg-fade-highlight-light",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),pt("aria-label",t.title||t.id),n(2),u("ngClass",h(3,11,t.recordStatus)),n(4),M(" ",t.title||"ID: "+t.id," "),n(),y(t.id?7:-1),n(),y(t.createdDate?8:-1),n(),y(t.recordStatus!==void 0?9:-1),n(),y(i.getRowExpanded(t)?10:-1)}}function cm(o,m){if(o&1&&(r(0,"div",21),Re(1,dm,11,13,"div",32,$p),a()),o&2){let t=g();n(),xe(t.dataModelResult.listItems)}}function pm(o,m){o&1&&(r(0,"div",22),d(1),C(2,"translate"),a()),o&2&&(n(),M(" ",h(2,1,"MESSAGE.NoRecord")," "))}var tn=class tn extends Wo{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(t){let i=String(t);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(t){return String(t)}onDocumentClick(t){let i=t.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(t){return t.expanded===!0}};tn.\u0275fac=(()=>{let t;return function(e){return(t||(t=_t(tn)))(e||tn)}})(),tn.\u0275cmp=V({type:tn,selectors:[["app-estate-account-expert-list-mobile"]],hostBindings:function(i,e){i&1&&E("click",function(f){return e.onDocumentClick(f)},Ct)},standalone:!1,features:[B],decls:36,vars:30,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-calendar"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"]],template:function(i,e){if(i&1){let l=T();r(0,"app-cms-html-list-mobile",1),A("optionActionGuideNoticeDisplayChange",function(s){return c(l),I(e.viewGuideNotice,s)||(e.viewGuideNotice=s),p(s)}),E("optionOnActionButtonMemoRow",function(){return c(l),p(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return c(l),p(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return c(l),p(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return c(l),p(e.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return c(l),p(e.onActionLoadNextPage())}),ke(1,2)(2,3)(3,4),D(4,5),r(5,"a",6),E("click",function(){return c(l),p(e.viewGuideNotice=!e.viewGuideNotice)}),_(6,"i",7),a(),r(7,"a",6),E("click",function(){return c(l),p(e.onActionButtonReload())}),_(8,"i",8),a(),r(9,"a",9),E("click",function(){return c(l),p(e.onActionGridExpandRows(!0))}),_(10,"i",10),a(),r(11,"a",9),E("click",function(){return c(l),p(e.onActionGridExpandRows(!1))}),_(12,"i",11),a(),L(),D(13,12),r(14,"a",13),E("click",function(){return c(l),p(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(15,"mat-slide-toggle",14),d(16),C(17,"translate"),a(),r(18,"a",13),E("click",function(){return c(l),p(e.onActionButtonStatist())}),_(19,"mat-slide-toggle",14),d(20),C(21,"translate"),a(),L(),D(22,15),S(23,em,7,3,"div",16),L(),D(24,17),S(25,tm,7,3,"div",16),S(26,im,7,3,"div",16),L(),D(27,18),r(28,"app-cms-search-list",19),A("optionsChange",function(s){return c(l),I(e.optionsSearch,s)||(e.optionsSearch=s),p(s)}),a(),r(29,"app-cms-statist-list",19),A("optionsChange",function(s){return c(l),I(e.optionsStatist,s)||(e.optionsStatist=s),p(s)}),a(),L(),D(30,20),S(31,cm,3,0,"div",21)(32,pm,3,3,"div",22),L(),D(33,23),r(34,"mat-paginator",24,0),E("page",function(s){return c(l),p(e.onTablePageingData(s))}),a(),L(),a()}i&2&&(u("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey","estate.main.account-expert.list"),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplay",(e.tableRowSelected==null?null:e.tableRowSelected.id)>0)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),n(8),ce("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),n(7),u("checked",e.optionsSearch.data.show),n(),M("",h(17,25,"ACTION.SEARCH")," "),n(3),u("checked",e.optionsStatist.data.show),n(),M("",h(21,27,"ACTION.STATIST")," "),n(3),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessAddRow?23:-1),n(2),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow&&(e.tableRowSelected==null?null:e.tableRowSelected.id)>0?25:-1),n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow&&(e.tableRowSelected==null?null:e.tableRowSelected.id)>0?26:-1),n(2),w("options",e.optionsSearch),n(),w("options",e.optionsStatist),n(2),y(!(e.dataModelResult==null||e.dataModelResult.listItems==null)&&e.dataModelResult.listItems.length?31:32),n(3),u("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Q(29,Xp)))},dependencies:[K,H,Be,Ge,It,Oe,Ne,Pt,We,At,F,Rt,xt],encapsulation:2});var Ko=tn;var mm=["vform"],um=()=>["fa"];function fm(o,m){if(o&1){let t=T();r(0,"app-cms-enum-record-status-selector",27),A("modelChange",function(e){c(t);let l=g();return I(l.dataModel.recordStatus,e)||(l.dataModel.recordStatus=e),p(e)}),a()}if(o&2){let t=g();w("model",t.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function gm(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function _m(o,m){o&1&&(r(0,"mat-error"),d(1," TitleResourceLanguage is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Cm(o,m){if(o&1){let t=T();r(0,"div",19)(1,"label",20),d(2),a(),r(3,"input",28,4),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.titleResourceLanguage,e)||(l.dataModel.titleResourceLanguage=e),p(e)}),a(),r(5,"em",22),d(6),a(),S(7,_m,5,3,"mat-error"),a()}if(o&2){let t=P(4),i=g();n(2),v(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),n(),u("placeholder",R(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),w("ngModel",i.dataModel.titleResourceLanguage),u("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessAddField)),n(3),M("",t.value.length," / 100"),n(),y(t.errors!=null&&t.errors.required?7:-1)}}function hm(o,m){if(o&1){let t=T();r(0,"div",19)(1,"label",20),d(2),a(),r(3,"input",29),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconFont,e)||(l.dataModel.iconFont=e),p(e)}),E("iconPickerSelect",function(e){c(t);let l=g();return p(l.onIconPickerSelect(e))}),a(),r(4,"em",30),_(5,"i",31),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle)),w("ngModel",t.dataModel.iconFont),u("iconPicker",t.dataModel.iconFont)("ipIconPack",Q(12,um))("ipPosition","top")("ipWidth","250px")("disabled",!(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessAddField)),n(2),q("color",t.dataModel.iconColor?t.dataModel.iconColor:null),u("ngClass",t.dataModel.iconFont)}}function Sm(o,m){if(o&1){let t=T();r(0,"div",19)(1,"label",20),d(2),a(),r(3,"div",32)(4,"input",33,5),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconColor,e)||(l.dataModel.iconColor=e),p(e)}),a(),_(6,"ngx-mat-color-toggle",34)(7,"ngx-mat-color-picker",35,6),a()()}if(o&2){let t=P(8),i=g();n(2),v(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),n(2),q("background",i.dataModel.iconColor),u("placeholder",R(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),w("ngModel",i.dataModel.iconColor),u("ngxMatColorPicker",t)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),n(2),u("for",t),n(),u("touchUi",!0)("color","primary")}}function ym(o,m){o&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Mm(o,m){if(o&1&&(r(0,"div",19)(1,"label",20),d(2),C(3,"translate"),a(),r(4,"a",36),C(5,"cmsthumbnail"),_(6,"img",37),C(7,"cmsthumbnail"),a()()),o&2){let t=g();n(2),v(h(3,5,"TITLE.PICTURE")),n(2),u("href",R(h(5,7,t.dataModel.linkMainImageIdSrc)),Z),n(2),u("src",R(h(7,9,t.dataModel.linkMainImageIdSrc)),Z)}}function Em(o,m){if(o&1){let t=T();r(0,"div",26)(1,"button",38),E("click",function(){c(t);let e=g();return p(e.onActionBackToParent())}),_(2,"i",39),d(3),C(4,"translate"),a(),r(5,"button",40),_(6,"i",41),d(7),C(8,"translate"),a()()}if(o&2){g();let t=P(14);n(3),M(" ",h(4,3,"ACTION.CANCEL")," "),n(2),u("disabled",!t.form.valid),n(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var jn=class jn extends Qe{constructor(t,i,e,l,f,s,x,k){super(i,new Oi,l,k);this.coreEnumService=t;this.estateActivityTypeService=i;this.cmsToastrService=e;this.publicHelper=l;this.cdr=f;this.router=s;this.activatedRoute=x;this.translate=k;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Se;this.dataModel=new Oi;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.activatedRoute.snapshot.paramMap.get("id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("id")),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.requestId&&this.requestId.length>0?(this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t+" copy"}),this.DataClone()):this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataClone(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateActivityTypeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess?(this.dataModel=i.item,i.item.title=i.item.title+" copy",this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateActivityTypeService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.onActionBackToParent()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onActionBackToParent(){this.router.navigate(["/estate/main/activity-type"])}};jn.\u0275fac=function(i){return new(i||jn)(b(j),b(Zi),b(N),b(W),b(G),b(pe),b(Ee),b(O))},jn.\u0275cmp=V({type:jn,selectors:[["app-estate-activity-type-add-mobile"]],viewQuery:function(i,e){if(i&1&&$(mm,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:45,vars:43,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["TitleResourceLanguage",""],["iconColor",""],["iconColorPicker",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[1,"cms-m-header-title"],[1,"cms-m-header-spacer"],[1,"cms-m-content","safe-area-content"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"cms-m-form-field"],[1,"cms-m-form-label"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder"],[1,"cms-m-char-count"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"cms-m-form-textarea",3,"ngModelChange","ngModel","placeholder"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"cms-m-form-input",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"cms-m-footer","safe-area-bottom"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder","disabled"],["matInput","","type","text","name","dataModel.iconFont","id","dataModel.iconFont","ipButtonStyleClass","",1,"cms-m-form-input",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","ipWidth","placeholder","disabled"],[2,"opacity","1 !important"],[2,"font-size","20px !important",3,"ngClass"],[1,"cms-m-color-picker-wrapper"],["matInput","","type","text","name","dataModel.iconColor","id","dataModel.iconColor",1,"cms-m-form-input",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],["matSuffix","",3,"for"],[3,"touchUi","color"],["target","_blank",1,"cms-m-image-preview",3,"href"],["alt","Preview",3,"src"],["type","button",1,"cms-m-btn","cms-m-btn-secondary",3,"click"],["aria-hidden","true",1,"fa-solid","fa-times"],["type","submit",1,"cms-m-btn","cms-m-btn-success",3,"disabled"],["aria-hidden","true",1,"fa-solid","fa-save"]],template:function(i,e){if(i&1){let l=T();r(0,"div",7),_(1,"app-progress-spinner",8),r(2,"div",9)(3,"div",10)(4,"button",11),C(5,"translate"),E("click",function(){return c(l),p(e.onActionBackToParent())}),_(6,"i",12),a(),r(7,"h1",13),d(8),C(9,"translate"),a(),_(10,"div",14),a()(),r(11,"div",15),_(12,"app-cms-form-result-message",16),r(13,"form",17,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),S(15,fm,1,5,"app-cms-enum-record-status-selector",18),r(16,"div",19)(17,"label",20),d(18),a(),r(19,"input",21,1),A("ngModelChange",function(s){return c(l),I(e.dataModel.title,s)||(e.dataModel.title=s),p(s)}),a(),r(21,"em",22),d(22),a(),S(23,gm,5,3,"mat-error"),a(),S(24,Cm,8,7,"div",19),S(25,hm,6,13,"div",19),S(26,Sm,9,11,"div",19),r(27,"div",19)(28,"label",20),d(29),a(),r(30,"textarea",23,2),A("ngModelChange",function(s){return c(l),I(e.dataModel.description,s)||(e.dataModel.description=s),p(s)}),a(),r(32,"em",22),d(33),a(),S(34,ym,5,3,"mat-error"),a(),S(35,Mm,8,11,"div",19),r(36,"div",19)(37,"label",20),d(38),C(39,"translate"),a(),r(40,"input",24,3),C(42,"translate"),A("ngModelChange",function(s){return c(l),I(e.dataModel.linkMainImageId,s)||(e.dataModel.linkMainImageId=s),p(s)}),E("click",function(){return c(l),p(e.fileManagerOpenForm=!0)}),a(),r(43,"cms-file-manager",25),E("itemSelected",function(s){return c(l),p(e.onActionFileSelected(s))}),A("openFormChange",function(s){return c(l),I(e.fileManagerOpenForm,s)||(e.fileManagerOpenForm=s),p(s)}),a()(),S(44,Em,9,7,"div",26),a()()()}if(i&2){let l=P(20),f=P(31);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),Pe("aria-label",R(h(5,35,"ACTION.BACK"))),n(4),M(" ",e.formInfo.formTitle||h(9,37,"ROUTE.ESTATE.ACTIVITYTYPE")," "),n(4),u("formInfo",e.formInfo),n(3),y(e.fieldsInfo.recordStatus!=null&&e.fieldsInfo.recordStatus.accessWatchField?15:-1),n(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),w("ngModel",e.dataModel.title),n(3),M("",l.value.length," / 100"),n(),y(l.errors!=null&&l.errors.required?23:-1),n(),y(e.fieldsInfo.titleResourceLanguage!=null&&e.fieldsInfo.titleResourceLanguage.accessWatchField?24:-1),n(),y(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessWatchField?25:-1),n(),y(e.fieldsInfo.iconColor!=null&&e.fieldsInfo.iconColor.accessWatchField?26:-1),n(3),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),w("ngModel",e.dataModel.description),n(3),M("",f.value.length," / 500"),n(),y(f.errors!=null&&f.errors.required?34:-1),n(),y((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?35:-1),n(3),v(h(39,39,"TITLE.PICTURE")),n(2),u("placeholder",R(h(42,41,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),n(3),u("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),u("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),n(),y(e.formInfo.submitButtonEnabled?44:-1)}},dependencies:[K,ae,Y,J,ie,X,re,le,oe,ne,se,Fe,H,Le,z,de,ze,Ze,je,qe,De,F,ge],encapsulation:2});var Yo=jn;var bm=["vform"],vm=()=>["fa"];function Im(o,m){if(o&1){let t=T();r(0,"app-cms-enum-record-status-selector",28),A("modelChange",function(e){c(t);let l=g();return I(l.dataModel.recordStatus,e)||(l.dataModel.recordStatus=e),p(e)}),a()}if(o&2){let t=g();w("model",t.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Tm(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function wm(o,m){if(o&1){let t=T();r(0,"div",19)(1,"label",20),d(2),a(),r(3,"input",29,4),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.title,e)||(l.dataModel.title=e),p(e)}),a(),r(5,"em",23),d(6),a(),S(7,Tm,5,3,"mat-error"),a()}if(o&2){let t=P(4),i=g();n(2),v(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),u("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),n(3),M("",t.value.length," / 100"),n(),y(t.errors!=null&&t.errors.required?7:-1)}}function Am(o,m){o&1&&(r(0,"mat-error"),d(1," TitleResourceLanguage is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Rm(o,m){if(o&1){let t=T();r(0,"div",19)(1,"label",20),d(2),a(),r(3,"input",30),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconFont,e)||(l.dataModel.iconFont=e),p(e)}),E("iconPickerSelect",function(e){c(t);let l=g();return p(l.onIconPickerSelect(e))}),a(),r(4,"em",31),_(5,"i",32),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle)),w("ngModel",t.dataModel.iconFont),u("iconPicker",t.dataModel.iconFont)("ipIconPack",Q(12,vm))("ipPosition","top")("ipWidth","250px")("disabled",!(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessEditField)),n(2),q("color",t.dataModel.iconColor?t.dataModel.iconColor:null),u("ngClass",t.dataModel.iconFont)}}function xm(o,m){if(o&1){let t=T();r(0,"div",19)(1,"label",20),d(2),a(),r(3,"div",33)(4,"input",34,5),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconColor,e)||(l.dataModel.iconColor=e),p(e)}),a(),_(6,"ngx-mat-color-toggle",35)(7,"ngx-mat-color-picker",36,6),a()()}if(o&2){let t=P(8),i=g();n(2),v(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),n(2),q("background",i.dataModel.iconColor),u("placeholder",R(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),w("ngModel",i.dataModel.iconColor),u("ngxMatColorPicker",t)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),n(2),u("for",t),n(),u("touchUi",!0)("color","primary")}}function Pm(o,m){o&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Dm(o,m){if(o&1&&(r(0,"div",19)(1,"label",20),d(2),C(3,"translate"),a(),r(4,"a",37),C(5,"cmsthumbnail"),_(6,"img",38),C(7,"cmsthumbnail"),a()()),o&2){let t=g();n(2),v(h(3,5,"TITLE.PICTURE")),n(2),u("href",R(h(5,7,t.dataModel.linkMainImageIdSrc)),Z),n(2),u("src",R(h(7,9,t.dataModel.linkMainImageIdSrc)),Z)}}function Lm(o,m){if(o&1){let t=T();r(0,"div",27)(1,"button",39),E("click",function(){c(t);let e=g();return p(e.onActionBackToParent())}),_(2,"i",40),d(3),C(4,"translate"),a(),r(5,"button",41),_(6,"i",42),d(7),C(8,"translate"),a()()}if(o&2){g();let t=P(14);n(3),M(" ",h(4,3,"ACTION.CANCEL")," "),n(2),u("disabled",!t.form.valid),n(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var Zn=class Zn extends rt{constructor(t,i,e,l,f,s,x,k,ye){super(i,new Oi,f,ye);this.coreEnumService=t;this.estateActivityTypeService=i;this.estatePropertyTypeService=e;this.cmsToastrService=l;this.publicHelper=f;this.router=s;this.cdr=x;this.activatedRoute=k;this.translate=ye;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new tt;this.dataModel=new Oi;this.fileManagerOpenForm=!1;this.dataEstatePropertyTypeUsageIds=[];this.publicHelper.processService.cdr=this.cdr,this.activatedRoute.snapshot.paramMap.get("id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("id")),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.onActionBackToParent();return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateActivityTypeService.setAccessLoad(),this.estateActivityTypeService.setAccessDataType(nt.Editor),this.estateActivityTypeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)});let i=new He,e=new Xe;e.propertyName="LinkActivityTypeId",e.value=this.requestId,i.filters.push(e),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:l=>{if(l.isSuccess){this.dataEstatePropertyTypeModel=l.listItems;let f=[];this.dataEstatePropertyTypeModel.forEach(s=>{f.push(s.linkPropertyTypeUsageId)}),this.dataEstatePropertyTypeUsageIds=f}else this.cmsToastrService.typeErrorMessage(l.errorMessage);this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateActivityTypeService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.onActionBackToParent()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onActionBackToParent(){this.router.navigate(["/estate/main/activity-type"])}};Zn.\u0275fac=function(i){return new(i||Zn)(b(j),b(Zi),b(Ei),b(N),b(W),b(pe),b(G),b(Ee),b(O))},Zn.\u0275cmp=V({type:Zn,selectors:[["app-estate-activity-type-edit-mobile"]],viewQuery:function(i,e){if(i&1&&$(bm,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:49,vars:46,consts:[["vform","ngForm"],["TitleResourceLanguage",""],["Description",""],["LinkMainImageId",""],["Title",""],["iconColor",""],["iconColorPicker",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[1,"cms-m-header-title"],[1,"cms-m-header-spacer"],[1,"cms-m-content","safe-area-content"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"cms-m-form-field"],[1,"cms-m-form-label"],["matInput","","type","text","cmsKeyboardForce","en","name","dataModel.titleML","id","dataModel.titleML",1,"cms-m-form-input",3,"ngModelChange","ngModel","disabled"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"cms-m-char-count"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"cms-m-form-textarea",3,"ngModelChange","ngModel","placeholder"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"cms-m-form-input",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"cms-m-footer","safe-area-bottom"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder","disabled"],["matInput","","type","text","name","dataModel.iconFont","id","dataModel.iconFont","ipButtonStyleClass","",1,"cms-m-form-input",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","ipWidth","placeholder","disabled"],[2,"opacity","1 !important"],[2,"font-size","20px !important",3,"ngClass"],[1,"cms-m-color-picker-wrapper"],["matInput","","type","text","name","dataModel.iconColor","id","dataModel.iconColor",1,"cms-m-form-input",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],["matSuffix","",3,"for"],[3,"touchUi","color"],["target","_blank",1,"cms-m-image-preview",3,"href"],["alt","Preview",3,"src"],["type","button",1,"cms-m-btn","cms-m-btn-secondary",3,"click"],["aria-hidden","true",1,"fa-solid","fa-times"],["type","submit",1,"cms-m-btn","cms-m-btn-success",3,"disabled"],["aria-hidden","true",1,"fa-solid","fa-save"]],template:function(i,e){if(i&1){let l=T();r(0,"div",7),_(1,"app-progress-spinner",8),r(2,"div",9)(3,"div",10)(4,"button",11),C(5,"translate"),E("click",function(){return c(l),p(e.onActionBackToParent())}),_(6,"i",12),a(),r(7,"h1",13),d(8),C(9,"translate"),a(),_(10,"div",14),a()(),r(11,"div",15),_(12,"app-cms-form-result-message",16),r(13,"form",17,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),S(15,Im,1,5,"app-cms-enum-record-status-selector",18),S(16,wm,8,7,"div",19),r(17,"div",19)(18,"label",20),d(19,"TitleML"),a(),r(20,"input",21),A("ngModelChange",function(s){return c(l),I(e.dataModel.titleML,s)||(e.dataModel.titleML=s),p(s)}),a()(),r(21,"div",19)(22,"label",20),d(23),a(),r(24,"input",22,1),A("ngModelChange",function(s){return c(l),I(e.dataModel.titleResourceLanguage,s)||(e.dataModel.titleResourceLanguage=s),p(s)}),a(),r(26,"em",23),d(27),a(),S(28,Am,5,3,"mat-error"),a(),S(29,Rm,6,13,"div",19),S(30,xm,9,11,"div",19),r(31,"div",19)(32,"label",20),d(33),a(),r(34,"textarea",24,2),A("ngModelChange",function(s){return c(l),I(e.dataModel.description,s)||(e.dataModel.description=s),p(s)}),a(),r(36,"em",23),d(37),a(),S(38,Pm,5,3,"mat-error"),a(),S(39,Dm,8,11,"div",19),r(40,"div",19)(41,"label",20),d(42),C(43,"translate"),a(),r(44,"input",25,3),C(46,"translate"),A("ngModelChange",function(s){return c(l),I(e.dataModel.linkMainImageId,s)||(e.dataModel.linkMainImageId=s),p(s)}),E("click",function(){return c(l),p(e.fileManagerOpenForm=!0)}),a(),r(47,"cms-file-manager",26),E("itemSelected",function(s){return c(l),p(e.onActionFileSelected(s))}),A("openFormChange",function(s){return c(l),I(e.fileManagerOpenForm,s)||(e.fileManagerOpenForm=s),p(s)}),a()(),S(48,Lm,9,7,"div",27),a()()()}if(i&2){let l=P(25),f=P(35);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),Pe("aria-label",R(h(5,38,"ACTION.BACK"))),n(4),M(" ",e.formInfo.formTitle||h(9,40,"ROUTE.ESTATE.ACTIVITYTYPE")," "),n(4),u("formInfo",e.formInfo),n(3),y(e.fieldsInfo.recordStatus!=null&&e.fieldsInfo.recordStatus.accessWatchField?15:-1),n(),y(e.fieldsInfo.title!=null&&e.fieldsInfo.title.accessWatchField?16:-1),n(4),w("ngModel",e.dataModel.titleML),u("disabled",!0),n(3),v(e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle)),w("ngModel",e.dataModel.titleResourceLanguage),u("disabled",!(e.fieldsInfo.titleResourceLanguage!=null&&e.fieldsInfo.titleResourceLanguage.accessEditField)),n(3),M("",l.value.length," / 100"),n(),y(l.errors!=null&&l.errors.required?28:-1),n(),y(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessWatchField?29:-1),n(),y(e.fieldsInfo.iconColor!=null&&e.fieldsInfo.iconColor.accessWatchField?30:-1),n(3),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),w("ngModel",e.dataModel.description),n(3),M("",f.value.length," / 500"),n(),y(f.errors!=null&&f.errors.required?38:-1),n(),y((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?39:-1),n(3),v(h(43,42,"TITLE.PICTURE")),n(2),u("placeholder",R(h(46,44,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),n(3),u("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),u("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),n(),y(e.formInfo.submitButtonEnabled?48:-1)}},dependencies:[K,ae,Y,J,ie,X,re,le,oe,ne,se,Fe,H,Le,z,de,Ai,ze,Ze,je,qe,De,F,ge],encapsulation:2});var Fa=Zn;var km=()=>[5,10,20,100];function Vm(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",39),E("click",function(){c(t);let e=g();return p(e.onActionButtonNewRow())}),_(2,"i",40)(3,"br"),a(),r(4,"p",19),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.ADD")," "))}function Fm(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",41),E("click",function(){c(t);let e=g();return p(e.onActionButtonEditRow(e.tableRowSelected))}),_(2,"i",42)(3,"br"),a(),r(4,"p",19),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.EDIT")," "))}function Bm(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",43),E("click",function(){c(t);let e=g();return p(e.onActionButtonDeleteRow(e.tableRowSelected))}),_(2,"i",44)(3,"br"),a(),r(4,"p",19),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.DELETE")," "))}function Gm(o,m){o&1&&(r(0,"mat-header-cell",45),d(1),C(2,"translate"),a()),o&2&&(n(),M(" ",h(2,1,"TITLE.PICTURE")," "))}function Om(o,m){if(o&1&&(_(0,"img",46),C(1,"cmsthumbnail")),o&2){let t=g().$implicit;u("src",R(h(1,2,t.linkMainImageIdSrc)),Z)}}function Nm(o,m){if(o&1&&(r(0,"mat-cell"),S(1,Om,2,4,"img",46),a()),o&2){let t=m.$implicit;n(),y((t==null||t.linkMainImageIdSrc==null?null:t.linkMainImageIdSrc.length)>0?1:-1)}}function Wm(o,m){if(o&1&&(r(0,"mat-header-cell",45),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle," ")}}function Hm(o,m){if(o&1&&(r(0,"mat-cell"),_(1,"i",47),a()),o&2){let t=m.$implicit;n(),q("color",t.iconColor),u("ngClass",t.iconFont)}}function Um(o,m){if(o&1&&(r(0,"mat-header-cell",45),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle," ")}}function qm(o,m){if(o&1&&(r(0,"mat-cell"),_(1,"i",47),a()),o&2){let t=m.$implicit;n(),q("color",t.iconColor),u("ngClass",t.iconFont)}}function jm(o,m){if(o&1&&(r(0,"mat-header-cell",45),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle," ")}}function Zm(o,m){if(o&1&&(r(0,"mat-cell"),d(1),a()),o&2){let t=m.$implicit;n(),M(" ",t.title," ")}}function zm(o,m){if(o&1&&(r(0,"mat-header-cell",45),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle," ")}}function Qm(o,m){if(o&1&&(r(0,"mat-cell"),d(1),a()),o&2){let t=m.$implicit;n(),M(" ",t.description," ")}}function Km(o,m){o&1&&(r(0,"mat-header-cell"),d(1),C(2,"translate"),a()),o&2&&(n(),M(" ",h(2,1,"TITLE.OPTION")," "))}function Ym(o,m){if(o&1&&(r(0,"mat-cell",48)(1,"button",49)(2,"mat-icon"),d(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),o&2){let t=P(5);n(),u("matMenuTriggerFor",t)}}function Jm(o,m){o&1&&_(0,"mat-header-row")}function Xm(o,m){if(o&1){let t=T();r(0,"mat-row",50),E("click",function(e){let l=c(t).$implicit,f=g();return p(f.onActionTableRowSelect(l,e))})("rtclick",function(e){let l=c(t).$implicit,f=g();return p(f.onActionTableRowSelect(l,e))}),a()}if(o&2){let t=m.$implicit,i=g();ce("ntk-row-selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var zn=class zn extends Kt{constructor(t,i,e,l,f,s,x,k,ye,Me,bt,mi){super(t,new Oi,bt,f,x);this.contentService=t;this.cmsConfirmationDialogService=i;this.cmsToastrService=e;this.router=l;this.tokenHelper=f;this.cdr=s;this.translate=x;this.cmsStoreService=k;this.themeService=ye;this.pageInfo=Me;this.publicHelper=bt;this.dialog=mi;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new He;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","IconFont","Description"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","IconFont","Description"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:di=>this.onSubmitOptionsSearch(di)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=Ae.Descending}filterModelCompiler(t){let i=JSON.parse(JSON.stringify(t));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(t=>t.tokenInfoStore).subscribe(t=>ut(this,null,function*(){this.tokenInfo=t,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(t=>t.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Oi);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.applyDataGetAllResult(e),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Ae.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Ae.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Ae.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(fl,{height:"90%",panelClass:t,enterAnimationDuration:_e.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_e.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!(t?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(gl,{height:"90%",panelClass:i,enterAnimationDuration:_e.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_e.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!(t?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],e=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(f,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonContentDetailList(t=this.tableRowSelected,i){if(!(t?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.onActionTableRowSelect(t),i?.ctrlKey?(this.link="/#/estate/main/property-detail/LinkActivityTypeId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/main/property-detail/LinkActivityTypeId/",this.tableRowSelected.id])}onActionButtonContentList(t=this.tableRowSelected,i){if(!(t?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.onActionTableRowSelect(t),i?.ctrlKey?(this.link="/#/estate/data/property/LinkActivityTypeId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/data/property/LinkActivityTypeId/",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(x=>{i.set(x,0)}),this.translate.get("MESSAGE.All").subscribe(x=>{i.set(x,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(x=>{this.publicHelper.processService.processStart(e,x,this.constructorInfoAreaId)});let l=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetCount(l).subscribe({next:x=>{x.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,x.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(x.errorMessage),this.publicHelper.processService.processStop(e)},error:x=>{this.cmsToastrService.typeError(x),this.publicHelper.processService.processStop(e,!1)}});let f=this.filterModelCompiler(this.filteModelContent),s=new Xe;s.propertyName="recordStatus",s.value=Dt.Available,f.filters.push(s),this.contentService.ServiceGetCount(f).subscribe({next:x=>{x.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,x.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(x.errorMessage),this.publicHelper.processService.processStop(e)},error:x=>{this.cmsToastrService.typeError(x),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){t&&t.length>0?this.filterDataModelQueryBuilder=[...t]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};zn.\u0275fac=function(i){return new(i||zn)(b(Zi),b(yt),b(N),b(pe),b(he),b(G),b(O),b(Ce),b(vi),b(Qt),b(W),b(wt))},zn.\u0275cmp=V({type:zn,selectors:[["app-estate-activity-type-list"]],standalone:!1,features:[B],decls:67,vars:36,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-buildings","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","id"],["matColumnDef","title"],["matColumnDef","Description"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,e){if(i&1){let l=T();r(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(s){return c(l),I(e.viewGuideNotice,s)||(e.viewGuideNotice=s),p(s)}),E("optionOnActionButtonMemoRow",function(){return c(l),p(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return c(l),p(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return c(l),p(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return c(l),p(e.onActionButtonPrintRow())}),D(1,4),d(2," -------------------------------------- "),L(),ke(3,5)(4,6),D(5,7),r(6,"a",8),E("click",function(){return c(l),p(e.viewGuideNotice=!e.viewGuideNotice)}),_(7,"i",9),a(),r(8,"a",8),E("click",function(){return c(l),p(e.onActionButtonReload())}),_(9,"i",10),a(),L(),D(10,11),r(11,"a",12),E("click",function(){return c(l),p(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(12,"mat-slide-toggle",13),d(13),C(14,"translate"),a(),r(15,"a",12),E("click",function(){return c(l),p(e.onActionButtonStatist())}),_(16,"mat-slide-toggle",13),d(17),C(18,"translate"),a(),L(),D(19,14),S(20,Vm,7,3,"div",15),L(),D(21,16),S(22,Fm,7,3,"div",15),S(23,Bm,7,3,"div",15),r(24,"div",15)(25,"a",17),E("click",function(s){return c(l),p(e.onActionButtonContentDetailList(e.tableRowSelected,s))}),_(26,"i",18)(27,"br"),a(),r(28,"p",19),d(29),C(30,"translate"),a()(),r(31,"div",15)(32,"a",17),E("click",function(s){return c(l),p(e.onActionButtonContentList(e.tableRowSelected,s))}),_(33,"i",20)(34,"br"),a(),r(35,"p",19),d(36),C(37,"translate"),a()(),L(),D(38,21),r(39,"app-cms-search-list",22),A("optionsChange",function(s){return c(l),I(e.optionsSearch,s)||(e.optionsSearch=s),p(s)}),a(),r(40,"app-cms-statist-list",22),A("optionsChange",function(s){return c(l),I(e.optionsStatist,s)||(e.optionsStatist=s),p(s)}),a(),L(),D(41,23),r(42,"mat-table",24,0),E("matSortChange",function(){c(l);let s=P(43);return p(e.onTableSortData(s))}),D(44,25),U(45,Gm,3,3,"mat-header-cell",26)(46,Nm,2,1,"mat-cell",27),L(),D(47,28),U(48,Wm,2,1,"mat-header-cell",26)(49,Hm,2,3,"mat-cell",27),L(),D(50,29),U(51,Um,2,1,"mat-header-cell",26)(52,qm,2,3,"mat-cell",27),L(),D(53,30),U(54,jm,2,1,"mat-header-cell",26)(55,Zm,2,1,"mat-cell",27),L(),D(56,31),U(57,zm,2,1,"mat-header-cell",26)(58,Qm,2,1,"mat-cell",27),L(),D(59,32),U(60,Km,3,3,"mat-header-cell",33)(61,Ym,6,1,"mat-cell",34),L(),U(62,Jm,1,0,"mat-header-row",35)(63,Xm,1,2,"mat-row",36),a(),L(),D(64,37),r(65,"mat-paginator",38,1),E("page",function(s){return c(l),p(e.onTablePageingData(s))}),a(),L(),a()}i&2&&(u("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),n(9),ce("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),n(3),u("checked",e.optionsSearch.data.show),n(),M("",h(14,27,"ACTION.SEARCH")," "),n(3),u("checked",e.optionsStatist.data.show),n(),M("",h(18,29,"ACTION.STATIST")," "),n(3),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessAddRow?20:-1),n(2),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow?22:-1),n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow?23:-1),n(6),M(" ",h(30,31,"ACTION.DETAIL")," "),n(7),M(" ",h(37,33,"ACTION.PROPERTYLIST")," "),n(3),w("options",e.optionsSearch),n(),w("options",e.optionsStatist),n(2),u("dataSource",e.tableSource),n(20),u("matHeaderRowDef",e.tabledisplayedColumns),n(),u("matRowDefColumns",e.tabledisplayedColumns),n(2),u("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Q(35,km)))},dependencies:[K,Tt,ft,kt,Vt,Be,Ge,Ft,Bt,Gt,Nt,qt,Wt,Ot,jt,Ht,Ut,Zt,zt,Oe,Ne,Yt,We,F,ge],encapsulation:2});var Qn=zn;var $m=()=>[5,10,20,100],e0=(o,m)=>m.id;function t0(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",24),E("click",function(){c(t);let e=g();return p(e.onActionButtonNewRow())}),_(2,"i",25)(3,"br"),a(),r(4,"p",26),d(5),C(6,"translate"),a()()}o&2&&(n(5),v(h(6,1,"ACTION.ADD")))}function i0(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",27),E("click",function(){c(t);let e=g();return p(e.onActionButtonEditRow(e.tableRowSelected))}),_(2,"i",28)(3,"br"),a(),r(4,"p",26),d(5),C(6,"translate"),a()()}o&2&&(n(5),v(h(6,1,"ACTION.EDIT")))}function n0(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",29),E("click",function(){c(t);let e=g();return p(e.onActionButtonDeleteRow(e.tableRowSelected))}),_(2,"i",30)(3,"br"),a(),r(4,"p",26),d(5),C(6,"translate"),a()()}o&2&&(n(5),v(h(6,1,"ACTION.DELETE")))}function o0(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",31),E("click",function(){c(t);let e=g();return p(e.onActionButtonViewRow(e.tableRowSelected))}),_(2,"i",32)(3,"br"),a(),r(4,"p",26),d(5),C(6,"translate"),a()()}o&2&&(n(5),v(h(6,1,"ACTION.VIEW")))}function a0(o,m){if(o&1&&(r(0,"div",39),_(1,"i",41),d(2),a()),o&2){let t=g().$implicit,i=g(2);n(2),Ve(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",t.id)}}function r0(o,m){if(o&1&&(r(0,"div",39),_(1,"i",42),d(2),C(3,"localeDate"),a()),o&2){let t=g().$implicit,i=g(2);n(2),Ve(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",h(3,2,t.createdDate))}}function l0(o,m){if(o&1&&_(0,"select",44),o&2){let t=g(2).$implicit,i=g(2);u("contentService",i.contentService)("row",t)}}function s0(o,m){if(o&1&&(r(0,"div",39),_(1,"i",43),C(2,"statusIconClass"),S(3,l0,1,2,"select",44),a()),o&2){let t=g().$implicit,i=g(2);n(),u("ngClass",h(2,2,t.recordStatus)),n(2),y(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function d0(o,m){if(o&1&&(r(0,"div",39),_(1,"i",47),d(2),C(3,"localeDate"),a()),o&2){let t=g(2).$implicit,i=g(2);n(2),Ve(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",h(3,2,t.updatedDate))}}function c0(o,m){if(o&1){let t=T();r(0,"div",40),S(1,d0,4,4,"div",39),r(2,"div",39)(3,"span",45),E("click",function(e){return c(t),g(3).onActionCopied(),p(e.stopPropagation())}),_(4,"i",46),a(),d(5),a()()}if(o&2){let t=g().$implicit;n(),y(t.updatedDate?1:-1),n(2),u("cdkCopyToClipboard",t.id.toString()),n(2),M(" ID: ",t.id)}}function p0(o,m){if(o&1){let t=T();r(0,"div",34),E("click",function(e){let l=c(t).$implicit,f=g(2);return p(f.onActionTableRowSelect(l,e))})("rtclick",function(e){let l=c(t).$implicit,f=g(2);return p(f.onActionTableRowSelect(l,e))})("mouseenter",function(){let e=c(t).$implicit,l=g(2);return p(l.onActionTableRowMouseEnter(e))})("mouseleave",function(){let e=c(t).$implicit,l=g(2);return p(l.onActionTableRowMouseLeave(e))}),r(1,"div",35),_(2,"i",36),C(3,"statusIconClass"),a(),r(4,"div",37)(5,"div",38),d(6),a(),S(7,a0,3,2,"div",39),S(8,r0,4,4,"div",39),S(9,s0,4,4,"div",39),S(10,c0,6,3,"div",40),a()()}if(o&2){let t=m.$implicit,i=g(2);ce("selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))("bg-fade-highlight-light",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),pt("aria-label",t.title||t.id),n(2),u("ngClass",h(3,11,t.recordStatus)),n(4),v(t.title||"ID: "+t.id),n(),y(t.id?7:-1),n(),y(t.createdDate?8:-1),n(),y(t.recordStatus!==void 0?9:-1),n(),y(i.getRowExpanded(t)?10:-1)}}function m0(o,m){if(o&1&&(r(0,"div",20),Re(1,p0,11,13,"div",33,e0),a()),o&2){let t=g();n(),xe(t.dataModelResult.listItems)}}function u0(o,m){o&1&&(r(0,"div",21),d(1),C(2,"translate"),a()),o&2&&(n(),v(h(2,1,"MESSAGE.NoRecord")))}var nn=class nn extends Qn{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(t){let i=String(t);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(t){return String(t)}onDocumentClick(t){let i=t.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(t){return t.expanded===!0}};nn.\u0275fac=(()=>{let t;return function(e){return(t||(t=_t(nn)))(e||nn)}})(),nn.\u0275cmp=V({type:nn,selectors:[["app-estate-activity-type-list-mobile"]],hostBindings:function(i,e){i&1&&E("click",function(f){return e.onDocumentClick(f)},Ct)},standalone:!1,features:[B],decls:37,vars:31,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-calendar"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"]],template:function(i,e){if(i&1){let l=T();r(0,"app-cms-html-list-mobile",1),A("optionActionGuideNoticeDisplayChange",function(s){return c(l),I(e.viewGuideNotice,s)||(e.viewGuideNotice=s),p(s)}),E("optionOnActionButtonMemoRow",function(){return c(l),p(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return c(l),p(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return c(l),p(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return c(l),p(e.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return c(l),p(e.onActionLoadNextPage())}),ke(1,2)(2,3)(3,4),D(4,5),r(5,"a",6),E("click",function(){return c(l),p(e.viewGuideNotice=!e.viewGuideNotice)}),_(6,"i",7),a(),r(7,"a",6),E("click",function(){return c(l),p(e.onActionButtonReload())}),_(8,"i",8),a(),r(9,"a",6),E("click",function(){return c(l),p(e.onActionGridExpandRows(!0))}),_(10,"i",9),a(),r(11,"a",6),E("click",function(){return c(l),p(e.onActionGridExpandRows(!1))}),_(12,"i",10),a(),L(),D(13,11),r(14,"a",12),E("click",function(){return c(l),p(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(15,"mat-slide-toggle",13),d(16),C(17,"translate"),a(),r(18,"a",12),E("click",function(){return c(l),p(e.onActionButtonStatist())}),_(19,"mat-slide-toggle",13),d(20),C(21,"translate"),a(),L(),D(22,14),S(23,t0,7,3,"div",15),L(),D(24,16),S(25,i0,7,3,"div",15),S(26,n0,7,3,"div",15),S(27,o0,7,3,"div",15),L(),D(28,17),r(29,"app-cms-search-list",18),A("optionsChange",function(s){return c(l),I(e.optionsSearch,s)||(e.optionsSearch=s),p(s)}),a(),r(30,"app-cms-statist-list",18),A("optionsChange",function(s){return c(l),I(e.optionsStatist,s)||(e.optionsStatist=s),p(s)}),a(),L(),D(31,19),S(32,m0,3,0,"div",20)(33,u0,3,3,"div",21),L(),D(34,22),r(35,"mat-paginator",23,0),E("page",function(s){return c(l),p(e.onTablePageingData(s))}),a(),L(),a()}i&2&&(u("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey","estate.main.activity-type.list"),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplay",(e.tableRowSelected==null?null:e.tableRowSelected.id)>0)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),n(8),ce("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),n(7),u("checked",e.optionsSearch.data.show),n(),v(h(17,26,"ACTION.SEARCH")),n(3),u("checked",e.optionsStatist.data.show),n(),v(h(21,28,"ACTION.STATIST")),n(3),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessAddRow?23:-1),n(2),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow&&(e.tableRowSelected==null?null:e.tableRowSelected.id)>0?25:-1),n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow&&(e.tableRowSelected==null?null:e.tableRowSelected.id)>0?26:-1),n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessWatchRow&&(e.tableRowSelected==null?null:e.tableRowSelected.id)>0?27:-1),n(2),w("options",e.optionsSearch),n(),w("options",e.optionsStatist),n(2),y(!(e.dataModelResult==null||e.dataModelResult.listItems==null)&&e.dataModelResult.listItems.length?32:33),n(3),u("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Q(30,$m)))},dependencies:[K,H,Be,Ge,It,Oe,Ne,Pt,We,At,F,Rt,xt],encapsulation:2});var Ga=nn;var f0=["vform"];function g0(o,m){if(o&1){let t=T();r(0,"app-cms-enum-record-status-selector",31),A("modelChange",function(e){c(t);let l=g();return I(l.dataModel.recordStatus,e)||(l.dataModel.recordStatus=e),p(e)}),a()}if(o&2){let t=g();w("model",t.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function _0(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function C0(o,m){if(o&1){let t=T();r(0,"div",20)(1,"label",21),d(2),a(),r(3,"input",32,3),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.title,e)||(l.dataModel.title=e),p(e)}),a(),r(5,"em",23),d(6),a(),S(7,_0,5,3,"mat-error"),a()}if(o&2){let t=P(4),i=g();n(2),v(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),u("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)),n(3),M("",t.value.length," / 100"),n(),y(t.errors!=null&&t.errors.required?7:-1)}}function h0(o,m){o&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function S0(o,m){if(o&1&&(r(0,"div",35),d(1),a()),o&2){let t=m.$implicit;n(),v(t)}}function y0(o,m){if(o&1&&(r(0,"div",34),Re(1,S0,2,1,"div",35,mt),a()),o&2){let t=g(2);n(),xe(t.dataModel.stationLevelDescription)}}function M0(o,m){if(o&1){let t=T();r(0,"div",20)(1,"label",21),d(2),a(),r(3,"input",33,4),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.stationLevel,e)||(l.dataModel.stationLevel=e),p(e)}),a()(),S(5,y0,3,0,"div",34)}if(o&2){let t=g();n(2),v(t.fieldsInfo.stationLevel==null?null:t.fieldsInfo.stationLevel.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.stationLevel==null?null:t.fieldsInfo.stationLevel.fieldTitle)),w("ngModel",t.dataModel.stationLevel),u("disabled",!(t.fieldsInfo.stationLevel!=null&&t.fieldsInfo.stationLevel.accessAddField)),n(2),y(t.dataModel.stationLevelDescription!=null&&t.dataModel.stationLevelDescription.length?5:-1)}}function E0(o,m){if(o&1&&(r(0,"div",35),d(1),a()),o&2){let t=m.$implicit;n(),v(t)}}function b0(o,m){if(o&1&&(r(0,"div",34),Re(1,E0,2,1,"div",35,mt),a()),o&2){let t=g(2);n(),xe(t.dataModel.viewLevelDescription)}}function v0(o,m){if(o&1){let t=T();r(0,"div",20)(1,"label",21),d(2),a(),r(3,"input",36,5),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.viewLevel,e)||(l.dataModel.viewLevel=e),p(e)}),a()(),S(5,b0,3,0,"div",34)}if(o&2){let t=g();n(2),v(t.fieldsInfo.viewLevel==null?null:t.fieldsInfo.viewLevel.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.viewLevel==null?null:t.fieldsInfo.viewLevel.fieldTitle)),w("ngModel",t.dataModel.viewLevel),u("disabled",!(t.fieldsInfo.viewLevel!=null&&t.fieldsInfo.viewLevel.accessAddField)),n(2),y(t.dataModel.viewLevelDescription!=null&&t.dataModel.viewLevelDescription.length?5:-1)}}function I0(o,m){if(o&1){let t=T();r(0,"div",20)(1,"label",21),d(2),a(),r(3,"input",37,6),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.dayOfActivity,e)||(l.dataModel.dayOfActivity=e),p(e)}),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.dayOfActivity==null?null:t.fieldsInfo.dayOfActivity.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.dayOfActivity==null?null:t.fieldsInfo.dayOfActivity.fieldTitle)),w("ngModel",t.dataModel.dayOfActivity),u("disabled",!(t.fieldsInfo.dayOfActivity!=null&&t.fieldsInfo.dayOfActivity.accessAddField))}}function T0(o,m){if(o&1){let t=T();r(0,"div",20)(1,"label",21),d(2),a(),r(3,"input",38,7),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.salePrice,e)||(l.dataModel.salePrice=e),p(e)}),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.salePrice==null?null:t.fieldsInfo.salePrice.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.salePrice==null?null:t.fieldsInfo.salePrice.fieldTitle)),w("ngModel",t.dataModel.salePrice),u("disabled",!(t.fieldsInfo.salePrice!=null&&t.fieldsInfo.salePrice.accessAddField))}}function w0(o,m){if(o&1&&(r(0,"div",20)(1,"label",21),d(2),C(3,"translate"),a(),r(4,"a",39),C(5,"cmsthumbnail"),_(6,"img",40),C(7,"cmsthumbnail"),a()()),o&2){let t=g();n(2),v(h(3,5,"TITLE.Original_Photo")),n(2),u("href",R(h(5,7,t.dataModel.linkMainImageIdSrc)),Z),n(2),u("src",R(h(7,9,t.dataModel.linkMainImageIdSrc)),Z)}}function A0(o,m){if(o&1){let t=T();r(0,"div",30)(1,"button",41),E("click",function(){c(t);let e=g();return p(e.onActionBackToParent())}),_(2,"i",42),d(3),C(4,"translate"),a(),r(5,"button",43),_(6,"i",44),d(7),C(8,"translate"),a()()}if(o&2){g();let t=P(14);n(3),M(" ",h(4,3,"ACTION.CANCEL")," "),n(2),u("disabled",!t.form.valid),n(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var Kn=class Kn extends Qe{constructor(t,i,e,l,f,s,x,k){super(i,new ui,l,k);this.coreEnumService=t;this.estateAdsTypeService=i;this.cmsToastrService=e;this.publicHelper=l;this.cdr=f;this.router=s;this.activatedRoute=x;this.translate=k;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Se;this.dataModel=new ui;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.activatedRoute.snapshot.paramMap.get("id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("id")),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.requestId&&this.requestId.length>0?(this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t+" copy"}),this.DataClone()):this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataClone(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAdsTypeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess?(this.dataModel=i.item,i.item.title=i.item.title+" copy",this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAdsTypeService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.onActionBackToParent()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onActionBackToParent(){this.router.navigate(["/estate/main/ads-type"])}};Kn.\u0275fac=function(i){return new(i||Kn)(b(j),b(Ci),b(N),b(W),b(G),b(pe),b(Ee),b(O))},Kn.\u0275cmp=V({type:Kn,selectors:[["app-estate-ads-type-add-mobile"]],viewQuery:function(i,e){if(i&1&&$(f0,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:46,vars:42,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],["StationLevel",""],["ViewLevel",""],["DayOfActivity",""],["SalePrice",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[1,"cms-m-header-title"],[1,"cms-m-header-spacer"],[1,"cms-m-content","safe-area-content"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"cms-m-form-field"],[1,"cms-m-form-label"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"cms-m-form-textarea",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"cms-m-char-count"],[1,"cms-m-switch-wrapper"],[1,"cms-m-switch"],["type","checkbox","name","dataModel.paymentForMainSite","id","dataModel.paymentForMainSite",3,"ngModelChange","ngModel"],[1,"cms-m-switch-slider"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"cms-m-form-input",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","selectFileType","isPopup","openForm","openDirectUploadView","tree","openFilemanagerButtonLabelKey","openFilemanagerButtonView"],[1,"cms-m-footer","safe-area-bottom"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder","disabled"],["matInput","","type","number","name","dataModel.stationLevel","id","dataModel.stationLevel",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"cms-m-info-list"],[1,"cms-m-info-item"],["matInput","","type","number","name","dataModel.viewLevel","id","dataModel.viewLevel",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder","disabled"],["matInput","","type","number","name","dataModel.dayOfActivity","id","dataModel.dayOfActivity",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder","disabled"],["matInput","","type","number","name","dataModel.salePrice","id","dataModel.salePrice",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder","disabled"],["target","_blank",1,"cms-m-image-preview",3,"href"],["alt","Preview",3,"src"],["type","button",1,"cms-m-btn","cms-m-btn-secondary",3,"click"],["aria-hidden","true",1,"fa-solid","fa-times"],["type","submit",1,"cms-m-btn","cms-m-btn-success",3,"disabled"],["aria-hidden","true",1,"fa-solid","fa-save"]],template:function(i,e){if(i&1){let l=T();r(0,"div",8),_(1,"app-progress-spinner",9),r(2,"div",10)(3,"div",11)(4,"button",12),C(5,"translate"),E("click",function(){return c(l),p(e.onActionBackToParent())}),_(6,"i",13),a(),r(7,"h1",14),d(8),C(9,"translate"),a(),_(10,"div",15),a()(),r(11,"div",16),_(12,"app-cms-form-result-message",17),r(13,"form",18,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),S(15,g0,1,5,"app-cms-enum-record-status-selector",19),S(16,C0,8,7,"div",20),r(17,"div",20)(18,"label",21),d(19),a(),r(20,"textarea",22,1),A("ngModelChange",function(s){return c(l),I(e.dataModel.description,s)||(e.dataModel.description=s),p(s)}),a(),r(22,"em",23),d(23),a(),S(24,h0,5,3,"mat-error"),a(),S(25,M0,6,6),S(26,v0,6,6),S(27,I0,5,5,"div",20),S(28,T0,5,5,"div",20),r(29,"div",20)(30,"label",21),d(31),a(),r(32,"div",24)(33,"label",25)(34,"input",26),A("ngModelChange",function(s){return c(l),I(e.dataModel.paymentForMainSite,s)||(e.dataModel.paymentForMainSite=s),p(s)}),a(),_(35,"span",27),a()()(),S(36,w0,8,11,"div",20),r(37,"div",20)(38,"label",21),d(39),C(40,"translate"),a(),r(41,"input",28,2),C(43,"translate"),A("ngModelChange",function(s){return c(l),I(e.dataModel.linkMainImageId,s)||(e.dataModel.linkMainImageId=s),p(s)}),E("click",function(){return c(l),p(e.fileManagerOpenForm=!0)}),a(),r(44,"cms-file-manager",29),E("itemSelected",function(s){return c(l),p(e.onActionFileSelected(s))}),A("openFormChange",function(s){return c(l),I(e.fileManagerOpenForm,s)||(e.fileManagerOpenForm=s),p(s)}),a()(),S(45,A0,9,7,"div",30),a()()()}if(i&2){let l=P(21);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),Pe("aria-label",R(h(5,34,"ACTION.BACK"))),n(4),M(" ",e.formInfo.formTitle||h(9,36,"ROUTE.ESTATE.ADSTYPE")," "),n(4),u("formInfo",e.formInfo),n(3),y(e.fieldsInfo.recordStatus!=null&&e.fieldsInfo.recordStatus.accessWatchField?15:-1),n(),y(e.fieldsInfo.title!=null&&e.fieldsInfo.title.accessWatchField?16:-1),n(3),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),w("ngModel",e.dataModel.description),u("disabled",!(e.fieldsInfo.description!=null&&e.fieldsInfo.description.accessAddField)),n(3),M("",l.value.length," / 500"),n(),y(l.errors!=null&&l.errors.required?24:-1),n(),y(e.fieldsInfo.stationLevel!=null&&e.fieldsInfo.stationLevel.accessWatchField?25:-1),n(),y(e.fieldsInfo.viewLevel!=null&&e.fieldsInfo.viewLevel.accessWatchField?26:-1),n(),y(e.fieldsInfo.dayOfActivity!=null&&e.fieldsInfo.dayOfActivity.accessWatchField?27:-1),n(),y(e.fieldsInfo.salePrice!=null&&e.fieldsInfo.salePrice.accessWatchField?28:-1),n(3),v(e.fieldsInfo.paymentForMainSite==null?null:e.fieldsInfo.paymentForMainSite.fieldTitle),n(3),w("ngModel",e.dataModel.paymentForMainSite),n(2),y((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?36:-1),n(3),v(h(40,38,"TITLE.Original_Photo")),n(2),u("placeholder",R(h(43,40,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),n(3),u("language",e.appLanguage)("selectFileType",e.selectFileTypeMainImage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),u("openDirectUploadView",!0)("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openFilemanagerButtonView",!1),n(),y(e.formInfo.submitButtonEnabled?45:-1)}},dependencies:[ae,Y,ht,Lt,J,ie,X,re,le,oe,ne,se,H,Le,z,de,St,De,F,ge],encapsulation:2});var Jo=Kn;var Yn=class extends rt{constructor(t,i,e,l,f,s){super(i,new ui,l,s);this.coreEnumService=t;this.estateAdsTypeService=i;this.cmsToastrService=e;this.publicHelper=l;this.cdr=f;this.translate=s;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new tt;this.dataModel=new ui;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}validateRequestId(t){return!this.requestId||this.requestId.length===0?(this.cmsToastrService.typeErrorComponentAction(),t(),!1):!0}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}loadItem(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAdsTypeService.setAccessLoad(),this.estateAdsTypeService.setAccessDataType(nt.Editor),this.estateAdsTypeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}saveItem(t){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.estateAdsTypeService.ServiceEdit(this.dataModel).subscribe({next:e=>{this.dataModelResult=e,e.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(l=>{this.formInfo.submitResultMessage=l,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),t()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(i),this.formInfo.submitButtonEnabled=!0},error:e=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onFormSubmitInternal(t){this.formGroup?.valid&&(this.formInfo.submitButtonEnabled=!1,this.saveItem(t))}};var R0=["vform"];function x0(o,m){if(o&1){let t=T();r(0,"app-cms-enum-record-status-selector",31),A("modelChange",function(e){c(t);let l=g();return I(l.dataModel.recordStatus,e)||(l.dataModel.recordStatus=e),p(e)}),a()}if(o&2){let t=g();w("model",t.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function P0(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function D0(o,m){if(o&1){let t=T();r(0,"div",20)(1,"label",21),d(2),a(),r(3,"input",32,3),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.title,e)||(l.dataModel.title=e),p(e)}),a(),r(5,"em",23),d(6),a(),S(7,P0,5,3,"mat-error"),a()}if(o&2){let t=P(4),i=g();n(2),v(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),u("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),n(3),M("",t.value.length," / 100"),n(),y(t.errors!=null&&t.errors.required?7:-1)}}function L0(o,m){o&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function k0(o,m){if(o&1&&(r(0,"div",35),d(1),a()),o&2){let t=m.$implicit;n(),v(t)}}function V0(o,m){if(o&1&&(r(0,"div",34),Re(1,k0,2,1,"div",35,mt),a()),o&2){let t=g(2);n(),xe(t.dataModel.stationLevelDescription)}}function F0(o,m){if(o&1){let t=T();r(0,"div",20)(1,"label",21),d(2),a(),r(3,"input",33,4),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.stationLevel,e)||(l.dataModel.stationLevel=e),p(e)}),a()(),S(5,V0,3,0,"div",34)}if(o&2){let t=g();n(2),v(t.fieldsInfo.stationLevel==null?null:t.fieldsInfo.stationLevel.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.stationLevel==null?null:t.fieldsInfo.stationLevel.fieldTitle)),w("ngModel",t.dataModel.stationLevel),u("disabled",!(t.fieldsInfo.stationLevel!=null&&t.fieldsInfo.stationLevel.accessEditField)),n(2),y(t.dataModel.stationLevelDescription!=null&&t.dataModel.stationLevelDescription.length?5:-1)}}function B0(o,m){if(o&1&&(r(0,"div",35),d(1),a()),o&2){let t=m.$implicit;n(),v(t)}}function G0(o,m){if(o&1&&(r(0,"div",34),Re(1,B0,2,1,"div",35,mt),a()),o&2){let t=g(2);n(),xe(t.dataModel.viewLevelDescription)}}function O0(o,m){if(o&1){let t=T();r(0,"div",20)(1,"label",21),d(2),a(),r(3,"input",36,5),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.viewLevel,e)||(l.dataModel.viewLevel=e),p(e)}),a()(),S(5,G0,3,0,"div",34)}if(o&2){let t=g();n(2),v(t.fieldsInfo.viewLevel==null?null:t.fieldsInfo.viewLevel.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.viewLevel==null?null:t.fieldsInfo.viewLevel.fieldTitle)),w("ngModel",t.dataModel.viewLevel),u("disabled",!(t.fieldsInfo.viewLevel!=null&&t.fieldsInfo.viewLevel.accessEditField)),n(2),y(t.dataModel.viewLevelDescription!=null&&t.dataModel.viewLevelDescription.length?5:-1)}}function N0(o,m){if(o&1){let t=T();r(0,"div",20)(1,"label",21),d(2),a(),r(3,"input",37,6),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.dayOfActivity,e)||(l.dataModel.dayOfActivity=e),p(e)}),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.dayOfActivity==null?null:t.fieldsInfo.dayOfActivity.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.dayOfActivity==null?null:t.fieldsInfo.dayOfActivity.fieldTitle)),w("ngModel",t.dataModel.dayOfActivity),u("disabled",!(t.fieldsInfo.dayOfActivity!=null&&t.fieldsInfo.dayOfActivity.accessEditField))}}function W0(o,m){if(o&1){let t=T();r(0,"div",20)(1,"label",21),d(2),a(),r(3,"input",38,7),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.salePrice,e)||(l.dataModel.salePrice=e),p(e)}),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.salePrice==null?null:t.fieldsInfo.salePrice.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.salePrice==null?null:t.fieldsInfo.salePrice.fieldTitle)),w("ngModel",t.dataModel.salePrice),u("disabled",!(t.fieldsInfo.salePrice!=null&&t.fieldsInfo.salePrice.accessEditField))}}function H0(o,m){if(o&1&&(r(0,"div",20)(1,"label",21),d(2),C(3,"translate"),a(),r(4,"a",39),C(5,"cmsthumbnail"),_(6,"img",40),C(7,"cmsthumbnail"),a()()),o&2){let t=g();n(2),v(h(3,5,"TITLE.Original_Photo")),n(2),u("href",R(h(5,7,t.dataModel.linkMainImageIdSrc)),Z),n(2),u("src",R(h(7,9,t.dataModel.linkMainImageIdSrc)),Z)}}function U0(o,m){if(o&1){let t=T();r(0,"div",30)(1,"button",41),E("click",function(){c(t);let e=g();return p(e.onActionBackToParent())}),_(2,"i",42),d(3),C(4,"translate"),a(),r(5,"button",43),_(6,"i",44),d(7),C(8,"translate"),a()()}if(o&2){g();let t=P(14);n(3),M(" ",h(4,3,"ACTION.CANCEL")," "),n(2),u("disabled",!t.form.valid),n(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var Jn=class Jn extends Yn{constructor(t,i,e,l,f,s,x,k){super(t,i,e,l,s,k);this.coreEnumService=t;this.estateAdsTypeService=i;this.publicHelper=l;this.router=f;this.activatedRoute=x;this.translate=k;this.activatedRoute.snapshot.paramMap.get("id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("id"))}ngOnInit(){this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.validateRequestId(()=>{this.onActionBackToParent()})&&this.loadItem()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataGetOneContent(){this.loadItem()}DataEditContent(){this.saveItem(()=>{this.onActionBackToParent()})}onFormSubmit(){this.onFormSubmitInternal(()=>{this.onActionBackToParent()})}onActionBackToParent(){this.router.navigate(["/estate/main/ads-type"])}};Jn.\u0275fac=function(i){return new(i||Jn)(b(j),b(Ci),b(N),b(W),b(pe),b(G),b(Ee),b(O))},Jn.\u0275cmp=V({type:Jn,selectors:[["app-estate-ads-type-edit-mobile"]],viewQuery:function(i,e){if(i&1&&$(R0,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:46,vars:42,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],["StationLevel",""],["ViewLevel",""],["DayOfActivity",""],["SalePrice",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[1,"cms-m-header-title"],[1,"cms-m-header-spacer"],[1,"cms-m-content","safe-area-content"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"cms-m-form-field"],[1,"cms-m-form-label"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"cms-m-form-textarea",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"cms-m-char-count"],[1,"cms-m-switch-wrapper"],[1,"cms-m-switch"],["type","checkbox","name","dataModel.paymentForMainSite","id","dataModel.paymentForMainSite",3,"ngModelChange","ngModel"],[1,"cms-m-switch-slider"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"cms-m-form-input",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","selectFileType","isPopup","openForm","openDirectUploadView","tree","openFilemanagerButtonLabelKey","openFilemanagerButtonView"],[1,"cms-m-footer","safe-area-bottom"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder","disabled"],["matInput","","type","number","name","dataModel.stationLevel","id","dataModel.stationLevel",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"cms-m-info-list"],[1,"cms-m-info-item"],["matInput","","type","number","name","dataModel.viewLevel","id","dataModel.viewLevel",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder","disabled"],["matInput","","type","number","name","dataModel.dayOfActivity","id","dataModel.dayOfActivity",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder","disabled"],["matInput","","type","number","name","dataModel.salePrice","id","dataModel.salePrice",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder","disabled"],["target","_blank",1,"cms-m-image-preview",3,"href"],["alt","Preview",3,"src"],["type","button",1,"cms-m-btn","cms-m-btn-secondary",3,"click"],["aria-hidden","true",1,"fa-solid","fa-times"],["type","submit",1,"cms-m-btn","cms-m-btn-success",3,"disabled"],["aria-hidden","true",1,"fa-solid","fa-save"]],template:function(i,e){if(i&1){let l=T();r(0,"div",8),_(1,"app-progress-spinner",9),r(2,"div",10)(3,"div",11)(4,"button",12),C(5,"translate"),E("click",function(){return c(l),p(e.onActionBackToParent())}),_(6,"i",13),a(),r(7,"h1",14),d(8),C(9,"translate"),a(),_(10,"div",15),a()(),r(11,"div",16),_(12,"app-cms-form-result-message",17),r(13,"form",18,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),S(15,x0,1,5,"app-cms-enum-record-status-selector",19),S(16,D0,8,7,"div",20),r(17,"div",20)(18,"label",21),d(19),a(),r(20,"textarea",22,1),A("ngModelChange",function(s){return c(l),I(e.dataModel.description,s)||(e.dataModel.description=s),p(s)}),a(),r(22,"em",23),d(23),a(),S(24,L0,5,3,"mat-error"),a(),S(25,F0,6,6),S(26,O0,6,6),S(27,N0,5,5,"div",20),S(28,W0,5,5,"div",20),r(29,"div",20)(30,"label",21),d(31),a(),r(32,"div",24)(33,"label",25)(34,"input",26),A("ngModelChange",function(s){return c(l),I(e.dataModel.paymentForMainSite,s)||(e.dataModel.paymentForMainSite=s),p(s)}),a(),_(35,"span",27),a()()(),S(36,H0,8,11,"div",20),r(37,"div",20)(38,"label",21),d(39),C(40,"translate"),a(),r(41,"input",28,2),C(43,"translate"),A("ngModelChange",function(s){return c(l),I(e.dataModel.linkMainImageId,s)||(e.dataModel.linkMainImageId=s),p(s)}),E("click",function(){return c(l),p(e.fileManagerOpenForm=!0)}),a(),r(44,"cms-file-manager",29),E("itemSelected",function(s){return c(l),p(e.onActionFileSelected(s))}),A("openFormChange",function(s){return c(l),I(e.fileManagerOpenForm,s)||(e.fileManagerOpenForm=s),p(s)}),a()(),S(45,U0,9,7,"div",30),a()()()}if(i&2){let l=P(21);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),Pe("aria-label",R(h(5,34,"ACTION.BACK"))),n(4),M(" ",e.formInfo.formTitle||h(9,36,"ROUTE.ESTATE.ADSTYPE")," "),n(4),u("formInfo",e.formInfo),n(3),y(e.fieldsInfo.recordStatus!=null&&e.fieldsInfo.recordStatus.accessWatchField?15:-1),n(),y(e.fieldsInfo.title!=null&&e.fieldsInfo.title.accessWatchField?16:-1),n(3),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),w("ngModel",e.dataModel.description),u("disabled",!(e.fieldsInfo.description!=null&&e.fieldsInfo.description.accessEditField)),n(3),M("",l.value.length," / 500"),n(),y(l.errors!=null&&l.errors.required?24:-1),n(),y(e.fieldsInfo.stationLevel!=null&&e.fieldsInfo.stationLevel.accessWatchField?25:-1),n(),y(e.fieldsInfo.viewLevel!=null&&e.fieldsInfo.viewLevel.accessWatchField?26:-1),n(),y(e.fieldsInfo.dayOfActivity!=null&&e.fieldsInfo.dayOfActivity.accessWatchField?27:-1),n(),y(e.fieldsInfo.salePrice!=null&&e.fieldsInfo.salePrice.accessWatchField?28:-1),n(3),v(e.fieldsInfo.paymentForMainSite==null?null:e.fieldsInfo.paymentForMainSite.fieldTitle),n(3),w("ngModel",e.dataModel.paymentForMainSite),n(2),y((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?36:-1),n(3),v(h(40,38,"TITLE.Original_Photo")),n(2),u("placeholder",R(h(43,40,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),n(3),u("language",e.appLanguage)("selectFileType",e.selectFileTypeMainImage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),u("openDirectUploadView",!0)("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openFilemanagerButtonView",!1),n(),y(e.formInfo.submitButtonEnabled?45:-1)}},dependencies:[ae,Y,ht,Lt,J,ie,X,re,le,oe,ne,se,H,Le,z,de,St,De,F,ge],encapsulation:2});var Oa=Jn;var j0=["vform"];function Z0(o,m){o&1&&_(0,"i",35)}function z0(o,m){o&1&&_(0,"i",36)}function Q0(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function K0(o,m){if(o&1){let t=T();r(0,"div",14)(1,"label",33),d(2),a(),r(3,"input",34,3),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.title,e)||(l.dataModel.title=e),p(e)}),a(),S(5,Z0,1,0,"i",35),S(6,z0,1,0,"i",36),r(7,"em"),d(8),a(),S(9,Q0,5,3,"mat-error"),a()}if(o&2){let t=P(4),i=g();n(2),v(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle))("disabled",R(!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField))),w("ngModel",i.dataModel.title),n(2),y(t.value?-1:5),n(),y(t.value?6:-1),n(2),M("",t.value.length," / 100"),n(),y(t.errors!=null&&t.errors.required?9:-1)}}function Y0(o,m){o&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function J0(o,m){if(o&1){let t=T();r(0,"div",14)(1,"label",37),d(2),a(),r(3,"input",38,4),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.stationLevel,e)||(l.dataModel.stationLevel=e),p(e)}),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.stationLevel==null?null:t.fieldsInfo.stationLevel.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.stationLevel==null?null:t.fieldsInfo.stationLevel.fieldTitle)),w("ngModel",t.dataModel.stationLevel),u("disabled",!(t.fieldsInfo.stationLevel!=null&&t.fieldsInfo.stationLevel.accessEditField))}}function X0(o,m){if(o&1&&(r(0,"mat-list-item",18),d(1),a()),o&2){let t=m.$implicit;n(),v(t)}}function $0(o,m){if(o&1){let t=T();r(0,"div",14)(1,"label",39),d(2),a(),r(3,"input",40,5),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.viewLevel,e)||(l.dataModel.viewLevel=e),p(e)}),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.viewLevel==null?null:t.fieldsInfo.viewLevel.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.viewLevel==null?null:t.fieldsInfo.viewLevel.fieldTitle)),w("ngModel",t.dataModel.viewLevel),u("disabled",!(t.fieldsInfo.viewLevel!=null&&t.fieldsInfo.viewLevel.accessEditField))}}function eu(o,m){if(o&1&&(r(0,"mat-list-item",18),d(1),a()),o&2){let t=m.$implicit;n(),v(t)}}function tu(o,m){if(o&1){let t=T();r(0,"div",14)(1,"label",41),d(2),a(),r(3,"input",42,6),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.dayOfActivity,e)||(l.dataModel.dayOfActivity=e),p(e)}),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.dayOfActivity==null?null:t.fieldsInfo.dayOfActivity.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.dayOfActivity==null?null:t.fieldsInfo.dayOfActivity.fieldTitle)),w("ngModel",t.dataModel.dayOfActivity),u("disabled",!(t.fieldsInfo.dayOfActivity!=null&&t.fieldsInfo.dayOfActivity.accessEditField))}}function iu(o,m){if(o&1){let t=T();r(0,"div",14)(1,"label",43),d(2),a(),r(3,"input",44,7),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.salePrice,e)||(l.dataModel.salePrice=e),p(e)}),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.salePrice==null?null:t.fieldsInfo.salePrice.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.salePrice==null?null:t.fieldsInfo.salePrice.fieldTitle)),w("ngModel",t.dataModel.salePrice),u("disabled",!(t.fieldsInfo.salePrice!=null&&t.fieldsInfo.salePrice.accessEditField))}}function nu(o,m){if(o&1&&(_(0,"img",28),C(1,"cmsthumbnail")),o&2){let t=g();u("src",R(h(1,2,t.dataModel.linkMainImageIdSrc)),Z)}}function ou(o,m){if(o&1&&(r(0,"button",47),_(1,"i",48),d(2),C(3,"translate"),a()),o&2){g(2);let t=P(10);u("disabled",!t.form.valid),n(2),M(" ",h(3,2,"ACTION.SAVE")," ")}}function au(o,m){if(o&1){let t=T();r(0,"div",32)(1,"button",45),E("click",function(){c(t);let e=g();return p(e.onFormCancel())}),_(2,"i",46),d(3),C(4,"translate"),a(),S(5,ou,4,4,"button",47),a()}if(o&2){let t=g();n(3),M(" ",h(4,2,"ACTION.CANCEL")," "),n(2),y(t.formInfo.submitButtonEnabled?5:-1)}}var Xn=class Xn extends Qe{constructor(t,i,e,l,f,s,x,k){super(l,new ui,s,k);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estateAdsTypeService=l;this.cmsToastrService=f;this.publicHelper=s;this.cdr=x;this.translate=k;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Se;this.dataModel=new ui;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAdsTypeService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}};Xn.\u0275fac=function(i){return new(i||Xn)(b(at),b(ot),b(j),b(Ci),b(N),b(W),b(G),b(O))},Xn.\u0275cmp=V({type:Xn,selectors:[["app-estate-ads-type-add"]],viewQuery:function(i,e){if(i&1&&$(j0,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:51,vars:43,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],["StationLevel",""],["ViewLevel",""],["DayOfActivity",""],["SalePrice",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["role","list"],["role","listitem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.paymentForMainSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.paymentForMainSite","name","dataModel.paymentForMainSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.paymentForMainSite",1,"custom-control-label"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","selectFileType","isPopup","openForm","openDirectUploadView","tree","openFilemanagerButtonLabelKey","openFilemanagerButtonView"],[1,"form-actions"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.stationLevel",1,"color-highlight"],["matInput","","type","number","name","dataModel.stationLevel","id","dataModel.stationLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.viewLevel",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewLevel","id","dataModel.viewLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.dayOfActivity",1,"color-highlight"],["matInput","","type","number","name","dataModel.dayOfActivity","id","dataModel.dayOfActivity",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.salePrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.salePrice","id","dataModel.salePrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let l=T();r(0,"div",8),_(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),d(4),a(),r(5,"p"),d(6),C(7,"translate"),a(),_(8,"app-cms-form-result-message",12),r(9,"form",13,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),S(11,K0,10,10,"div",14),r(12,"div",14)(13,"label",15),d(14),a(),r(15,"textarea",16,1),A("ngModelChange",function(s){return c(l),I(e.dataModel.description,s)||(e.dataModel.description=s),p(s)}),a(),r(17,"em"),d(18),a(),S(19,Y0,5,3,"mat-error"),a(),S(20,J0,5,5,"div",14),r(21,"mat-list",17),Re(22,X0,2,1,"mat-list-item",18,mt),a(),S(24,$0,5,5,"div",14),r(25,"mat-list",17),Re(26,eu,2,1,"mat-list-item",18,mt),a(),S(28,tu,5,5,"div",14),S(29,iu,5,5,"div",14),r(30,"div",19)(31,"div",20)(32,"h5",21),d(33),a()(),r(34,"div",22)(35,"div",23)(36,"input",24),A("ngModelChange",function(s){return c(l),I(e.dataModel.paymentForMainSite,s)||(e.dataModel.paymentForMainSite=s),p(s)}),a(),_(37,"label",25),a()()(),r(38,"div",26)(39,"a",27),C(40,"cmsthumbnail"),S(41,nu,2,4,"img",28),a()(),r(42,"div",14)(43,"label",29),E("click",function(){return c(l),p(e.fileManagerOpenForm=!0)}),d(44),C(45,"translate"),a(),r(46,"input",30,2),C(48,"translate"),A("ngModelChange",function(s){return c(l),I(e.dataModel.linkMainImageId,s)||(e.dataModel.linkMainImageId=s),p(s)}),E("click",function(){return c(l),p(e.fileManagerOpenForm=!0)}),a(),r(49,"cms-file-manager",31),E("itemSelected",function(s){return c(l),p(e.onActionFileSelected(s))}),A("openFormChange",function(s){return c(l),I(e.fileManagerOpenForm,s)||(e.fileManagerOpenForm=s),p(s)}),a()(),S(50,au,6,4,"div",32),a()()()}if(i&2){let l=P(16);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),M(" ",e.formInfo.formTitle," "),n(2),M(" ",h(7,35,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),u("formInfo",e.formInfo),n(3),y(e.fieldsInfo.title!=null&&e.fieldsInfo.title.accessWatchField?11:-1),n(3),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle))("disabled",R(!(e.fieldsInfo.description!=null&&e.fieldsInfo.description.accessAddField))),w("ngModel",e.dataModel.description),n(3),M("",l.value.length," / 500"),n(),y(l.errors!=null&&l.errors.required?19:-1),n(),y(e.fieldsInfo.stationLevel!=null&&e.fieldsInfo.stationLevel.accessWatchField?20:-1),n(2),xe(e.dataModel.stationLevelDescription),n(2),y(e.fieldsInfo.viewLevel!=null&&e.fieldsInfo.viewLevel.accessWatchField?24:-1),n(2),xe(e.dataModel.viewLevelDescription),n(2),y(e.fieldsInfo.dayOfActivity!=null&&e.fieldsInfo.dayOfActivity.accessWatchField?28:-1),n(),y(e.fieldsInfo.salePrice!=null&&e.fieldsInfo.salePrice.accessWatchField?29:-1),n(4),M(" ",e.fieldsInfo.paymentForMainSite==null?null:e.fieldsInfo.paymentForMainSite.fieldTitle," "),n(3),w("ngModel",e.dataModel.paymentForMainSite),n(3),u("href",R(h(40,37,e.dataModel.linkMainImageIdSrc)),Z),n(2),y((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?41:-1),n(3),v(h(45,39,"TITLE.Original_Photo")),n(2),u("placeholder",R(h(48,41,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),n(3),u("language",e.appLanguage)("selectFileType",e.selectFileTypeMainImage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),u("openDirectUploadView",!0)("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openFilemanagerButtonView",!1),n(),y(e.publicHelper.processService.process.inRunAll?-1:50)}},dependencies:[ae,Y,ht,Lt,J,ie,X,re,le,oe,ne,se,H,ha,Sa,z,de,St,De,F,ge],encapsulation:2});var Na=Xn;var ru=["vform"];function lu(o,m){o&1&&_(0,"i",17)}function su(o,m){o&1&&_(0,"i",18)}function du(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function cu(o,m){o&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function pu(o,m){if(o&1){let t=T();r(0,"div",14)(1,"label",37),d(2),a(),r(3,"input",38,4),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.stationLevel,e)||(l.dataModel.stationLevel=e),p(e)}),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.stationLevel==null?null:t.fieldsInfo.stationLevel.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.stationLevel==null?null:t.fieldsInfo.stationLevel.fieldTitle)),w("ngModel",t.dataModel.stationLevel),u("disabled",!(t.fieldsInfo.stationLevel!=null&&t.fieldsInfo.stationLevel.accessEditField))}}function mu(o,m){if(o&1&&(r(0,"mat-list-item",22),d(1),a()),o&2){let t=m.$implicit;n(),v(t)}}function uu(o,m){if(o&1){let t=T();r(0,"div",14)(1,"label",39),d(2),a(),r(3,"input",40,5),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.viewLevel,e)||(l.dataModel.viewLevel=e),p(e)}),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.viewLevel==null?null:t.fieldsInfo.viewLevel.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.viewLevel==null?null:t.fieldsInfo.viewLevel.fieldTitle)),w("ngModel",t.dataModel.viewLevel),u("disabled",!(t.fieldsInfo.viewLevel!=null&&t.fieldsInfo.viewLevel.accessEditField))}}function fu(o,m){if(o&1&&(r(0,"mat-list-item",22),d(1),a()),o&2){let t=m.$implicit;n(),v(t)}}function gu(o,m){if(o&1){let t=T();r(0,"div",14)(1,"label",41),d(2),a(),r(3,"input",42,6),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.dayOfActivity,e)||(l.dataModel.dayOfActivity=e),p(e)}),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.dayOfActivity==null?null:t.fieldsInfo.dayOfActivity.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.dayOfActivity==null?null:t.fieldsInfo.dayOfActivity.fieldTitle)),w("ngModel",t.dataModel.dayOfActivity),u("disabled",!(t.fieldsInfo.dayOfActivity!=null&&t.fieldsInfo.dayOfActivity.accessEditField))}}function _u(o,m){if(o&1){let t=T();r(0,"div",14)(1,"label",43),d(2),a(),r(3,"input",44,7),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.salePrice,e)||(l.dataModel.salePrice=e),p(e)}),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.salePrice==null?null:t.fieldsInfo.salePrice.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.salePrice==null?null:t.fieldsInfo.salePrice.fieldTitle)),w("ngModel",t.dataModel.salePrice),u("disabled",!(t.fieldsInfo.salePrice!=null&&t.fieldsInfo.salePrice.accessEditField))}}function Cu(o,m){if(o&1&&(_(0,"img",32),C(1,"cmsthumbnail")),o&2){let t=g();u("src",R(h(1,2,t.dataModel.linkMainImageIdSrc)),Z)}}function hu(o,m){if(o&1&&(r(0,"button",47),_(1,"i",48),d(2),C(3,"translate"),a()),o&2){g(2);let t=P(10);u("disabled",!t.form.valid),n(2),M(" ",h(3,2,"ACTION.SAVE")," ")}}function Su(o,m){if(o&1){let t=T();r(0,"div",36)(1,"button",45),E("click",function(){c(t);let e=g();return p(e.onFormCancel())}),_(2,"i",46),d(3),C(4,"translate"),a(),S(5,hu,4,4,"button",47),a()}if(o&2){let t=g();n(3),M(" ",h(4,2,"ACTION.CANCEL")," "),n(2),y(t.formInfo.submitButtonEnabled?5:-1)}}var $n=class $n extends Yn{constructor(t,i,e,l,f,s,x,k){super(e,l,f,s,x,k);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estateAdsTypeService=l;this.publicHelper=s;this.translate=k;t&&(this.requestId=t.id)}ngOnInit(){this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.validateRequestId(()=>this.dialogRef.close({dialogChangedDate:!1}))&&this.loadItem()}onFormSubmit(){this.onFormSubmitInternal(()=>{this.dialogRef.close({dialogChangedDate:!0})})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};$n.\u0275fac=function(i){return new(i||$n)(b(at),b(ot),b(j),b(Ci),b(N),b(W),b(G),b(O))},$n.\u0275cmp=V({type:$n,selectors:[["app-estate-ads-type-edit"]],viewQuery:function(i,e){if(i&1&&$(ru,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:60,vars:48,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["StationLevel",""],["ViewLevel",""],["DayOfActivity",""],["SalePrice",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["role","list"],["role","listitem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.includeAllSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.paymentForMainSite","name","dataModel.paymentForMainSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.paymentForMainSite",1,"custom-control-label"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","selectFileType","isPopup","openForm","openDirectUploadView","tree","openFilemanagerButtonLabelKey","openFilemanagerButtonView"],[1,"form-actions"],["for","dataModel.stationLevel",1,"color-highlight"],["matInput","","type","number","name","dataModel.stationLevel","id","dataModel.stationLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.viewLevel",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewLevel","id","dataModel.viewLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.dayOfActivity",1,"color-highlight"],["matInput","","type","number","name","dataModel.dayOfActivity","id","dataModel.dayOfActivity",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.salePrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.salePrice","id","dataModel.salePrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let l=T();r(0,"div",8),_(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),d(4),a(),r(5,"p"),d(6),C(7,"translate"),a(),_(8,"app-cms-form-result-message",12),r(9,"form",13,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),r(11,"div",14)(12,"label",15),d(13),a(),r(14,"input",16,1),A("ngModelChange",function(s){return c(l),I(e.dataModel.title,s)||(e.dataModel.title=s),p(s)}),a(),S(16,lu,1,0,"i",17),S(17,su,1,0,"i",18),r(18,"em"),d(19),a(),S(20,du,5,3,"mat-error"),a(),r(21,"div",14)(22,"label",19),d(23),a(),r(24,"textarea",20,2),A("ngModelChange",function(s){return c(l),I(e.dataModel.description,s)||(e.dataModel.description=s),p(s)}),a(),r(26,"em"),d(27),a(),S(28,cu,5,3,"mat-error"),a(),S(29,pu,5,5,"div",14),r(30,"mat-list",21),Re(31,mu,2,1,"mat-list-item",22,mt),a(),S(33,uu,5,5,"div",14),r(34,"mat-list",21),Re(35,fu,2,1,"mat-list-item",22,mt),a(),S(37,gu,5,5,"div",14),S(38,_u,5,5,"div",14),r(39,"div",23)(40,"div",24)(41,"h5",25),d(42),a()(),r(43,"div",26)(44,"div",27)(45,"input",28),A("ngModelChange",function(s){return c(l),I(e.dataModel.paymentForMainSite,s)||(e.dataModel.paymentForMainSite=s),p(s)}),a(),_(46,"label",29),a()()(),r(47,"div",30)(48,"a",31),C(49,"cmsthumbnail"),S(50,Cu,2,4,"img",32),a()(),r(51,"div",14)(52,"label",33),E("click",function(){return c(l),p(e.fileManagerOpenForm=!0)}),d(53),C(54,"translate"),a(),r(55,"input",34,3),C(57,"translate"),A("ngModelChange",function(s){return c(l),I(e.dataModel.linkMainImageId,s)||(e.dataModel.linkMainImageId=s),p(s)}),E("click",function(){return c(l),p(e.fileManagerOpenForm=!0)}),a(),r(58,"cms-file-manager",35),E("itemSelected",function(s){return c(l),p(e.onActionFileSelected(s))}),A("openFormChange",function(s){return c(l),I(e.fileManagerOpenForm,s)||(e.fileManagerOpenForm=s),p(s)}),a()(),S(59,Su,6,4,"div",36),a()()()}if(i&2){let l=P(15),f=P(25);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),M(" ",e.formInfo.formTitle," "),n(2),M(" ",h(7,40,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),u("formInfo",e.formInfo),n(5),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),w("ngModel",e.dataModel.title),n(2),y(l.value?-1:16),n(),y(l.value?17:-1),n(2),M("",l.value.length," / 100"),n(),y(l.errors!=null&&l.errors.required?20:-1),n(3),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),w("ngModel",e.dataModel.description),n(3),M("",f.value.length," / 500"),n(),y(f.errors!=null&&f.errors.required?28:-1),n(),y(e.fieldsInfo.stationLevel!=null&&e.fieldsInfo.stationLevel.accessWatchField?29:-1),n(2),xe(e.dataModel.stationLevelDescription),n(2),y(e.fieldsInfo.viewLevel!=null&&e.fieldsInfo.viewLevel.accessWatchField?33:-1),n(2),xe(e.dataModel.viewLevelDescription),n(2),y(e.fieldsInfo.dayOfActivity!=null&&e.fieldsInfo.dayOfActivity.accessWatchField?37:-1),n(),y(e.fieldsInfo.salePrice!=null&&e.fieldsInfo.salePrice.accessWatchField?38:-1),n(4),M(" ",e.fieldsInfo.paymentForMainSite==null?null:e.fieldsInfo.paymentForMainSite.fieldTitle," "),n(3),w("ngModel",e.dataModel.paymentForMainSite),n(3),u("href",R(h(49,42,e.dataModel.linkMainImageIdSrc)),Z),n(2),y((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?50:-1),n(3),v(h(54,44,"TITLE.PHOTO_FILE")),n(2),u("placeholder",R(h(57,46,"TITLE.Icon_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),n(3),u("language",e.appLanguage)("selectFileType",e.selectFileTypeMainImage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),u("openDirectUploadView",!0)("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openFilemanagerButtonView",!1),n(),y(e.publicHelper.processService.process.inRunAll?-1:59)}},dependencies:[ae,Y,ht,Lt,J,ie,X,re,le,oe,ne,se,H,ha,Sa,z,de,St,De,F,ge],encapsulation:2});var Wa=$n;var yu=()=>[5,10,20,100];function Mu(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",41),E("click",function(){c(t);let e=g();return p(e.onActionButtonNewRow())}),_(2,"i",42)(3,"br"),a(),r(4,"p",19),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.ADD")," "))}function Eu(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",43),E("click",function(){c(t);let e=g();return p(e.onActionButtonEditRow(e.tableRowSelected))}),_(2,"i",44)(3,"br"),a(),r(4,"p",19),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.EDIT")," "))}function bu(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",45),E("click",function(){c(t);let e=g();return p(e.onActionButtonDeleteRow(e.tableRowSelected))}),_(2,"i",46)(3,"br"),a(),r(4,"p",19),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.DELETE")," "))}function vu(o,m){o&1&&(r(0,"mat-header-cell",47),d(1),C(2,"translate"),a()),o&2&&(n(),M(" ",h(2,1,"TITLE.PICTURE")," "))}function Iu(o,m){if(o&1&&(_(0,"img",48),C(1,"cmsthumbnail")),o&2){let t=g().$implicit;u("src",R(h(1,2,t.linkMainImageIdSrc)),Z)}}function Tu(o,m){if(o&1&&(r(0,"mat-cell"),S(1,Iu,2,4,"img",48),a()),o&2){let t=m.$implicit;n(),y((t==null||t.linkMainImageIdSrc==null?null:t.linkMainImageIdSrc.length)>0?1:-1)}}function wu(o,m){if(o&1&&(r(0,"mat-header-cell",47),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle," ")}}function Au(o,m){if(o&1&&(r(0,"mat-cell"),d(1),a()),o&2){let t=m.$implicit;n(),M(" ",t.id," ")}}function Ru(o,m){if(o&1&&(r(0,"mat-header-cell",47),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.linkPropertyId==null?null:t.fieldsInfo.linkPropertyId.fieldTitle," ")}}function xu(o,m){if(o&1&&(r(0,"mat-cell"),d(1),a()),o&2){let t=m.$implicit;n(),M(" ",t.linkPropertyId," ")}}function Pu(o,m){if(o&1&&(r(0,"mat-header-cell",47),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle," ")}}function Du(o,m){if(o&1&&(r(0,"mat-cell"),d(1),a()),o&2){let t=m.$implicit;n(),M(" ",t.title," ")}}function Lu(o,m){if(o&1&&(r(0,"mat-header-cell",47),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.stationLevel==null?null:t.fieldsInfo.stationLevel.fieldTitle," ")}}function ku(o,m){if(o&1&&(r(0,"mat-cell"),d(1),a()),o&2){let t=m.$implicit;n(),M(" ",t.stationLevel," ")}}function Vu(o,m){if(o&1&&(r(0,"mat-header-cell",47),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.viewLevel==null?null:t.fieldsInfo.viewLevel.fieldTitle," ")}}function Fu(o,m){if(o&1&&(r(0,"mat-cell"),d(1),a()),o&2){let t=m.$implicit;n(),M(" ",t.viewLevel," ")}}function Bu(o,m){if(o&1&&(r(0,"mat-header-cell",47),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.dayOfActivity==null?null:t.fieldsInfo.dayOfActivity.fieldTitle," ")}}function Gu(o,m){if(o&1&&(r(0,"mat-cell"),d(1),a()),o&2){let t=m.$implicit;n(),M(" ",t.dayOfActivity," ")}}function Ou(o,m){if(o&1&&(r(0,"mat-header-cell",47),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.salePrice==null?null:t.fieldsInfo.salePrice.fieldTitle," ")}}function Nu(o,m){if(o&1&&(r(0,"mat-cell"),d(1),a()),o&2){let t=m.$implicit;n(),M(" ",t.salePrice," ")}}function Wu(o,m){o&1&&(r(0,"mat-header-cell"),d(1),C(2,"translate"),a()),o&2&&(n(),M(" ",h(2,1,"TITLE.OPTION")," "))}function Hu(o,m){if(o&1&&(r(0,"mat-cell",49)(1,"button",50)(2,"mat-icon"),d(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),o&2){let t=P(5);n(),u("matMenuTriggerFor",t)}}function Uu(o,m){o&1&&_(0,"mat-header-row")}function qu(o,m){if(o&1){let t=T();r(0,"mat-row",51),E("click",function(e){let l=c(t).$implicit,f=g();return p(f.onActionTableRowSelect(l,e))})("rtclick",function(e){let l=c(t).$implicit,f=g();return p(f.onActionTableRowSelect(l,e))}),a()}if(o&2){let t=m.$implicit,i=g();ce("ntk-row-selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var eo=class eo extends Kt{constructor(t,i,e,l,f,s,x,k,ye,Me,bt,mi){super(t,new ui,bt,l,k);this.contentService=t;this.cmsConfirmationDialogService=i;this.cmsToastrService=e;this.tokenHelper=l;this.router=f;this.cdr=s;this.themeService=x;this.translate=k;this.cmsStoreService=ye;this.pageInfo=Me;this.publicHelper=bt;this.dialog=mi;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new He;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","StationLevel","ViewLevel","LinkPropertyId","DayOfActivity","SalePrice"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","StationLevel","SalePrice"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:di=>this.onSubmitOptionsSearch(di)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=Ae.Descending}filterModelCompiler(t){let i=JSON.parse(JSON.stringify(t));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(t=>t.tokenInfoStore).subscribe(t=>ut(this,null,function*(){this.tokenInfo=t,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(t=>t.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ui);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess&&(this.applyDataGetAllResult(e),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Ae.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Ae.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Ae.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Na,{height:"90%",panelClass:t,enterAnimationDuration:_e.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_e.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!(t?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Wa,{height:"90%",panelClass:i,enterAnimationDuration:_e.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_e.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!(t?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],e=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(f,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonContentList(t=this.tableRowSelected,i){if(!(t?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.onActionTableRowSelect(t),i?.ctrlKey?(this.link="/#/estate/data/property/LinkAdsTypeId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/data/property/LinkAdsTypeId/",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(x=>{i.set(x,0)}),this.translate.get("MESSAGE.All").subscribe(x=>{i.set(x,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(x=>{this.publicHelper.processService.processStart(e,x,this.constructorInfoAreaId)});let l=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetCount(l).subscribe({next:x=>{x.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,x.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(x.errorMessage),this.publicHelper.processService.processStop(e)},error:x=>{this.cmsToastrService.typeError(x),this.publicHelper.processService.processStop(e,!1)}});let f=this.filterModelCompiler(this.filteModelContent),s=new Xe;s.propertyName="recordStatus",s.value=Dt.Available,f.filters.push(s),this.contentService.ServiceGetCount(f).subscribe({next:x=>{x.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,x.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(x.errorMessage),this.publicHelper.processService.processStop(e)},error:x=>{this.cmsToastrService.typeError(x),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){t&&t.length>0?this.filterDataModelQueryBuilder=[...t]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};eo.\u0275fac=function(i){return new(i||eo)(b(Ci),b(yt),b(N),b(he),b(pe),b(G),b(vi),b(O),b(Ce),b(Qt),b(W),b(wt))},eo.\u0275cmp=V({type:eo,selectors:[["app-estate-ads-type-list"]],standalone:!1,features:[B],decls:69,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","LinkPropertyId"],["matColumnDef","title"],["matColumnDef","StationLevel"],["matColumnDef","ViewLevel"],["matColumnDef","DayOfActivity"],["matColumnDef","SalePrice"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,e){if(i&1){let l=T();r(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(s){return c(l),I(e.viewGuideNotice,s)||(e.viewGuideNotice=s),p(s)}),E("optionOnActionButtonMemoRow",function(){return c(l),p(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return c(l),p(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return c(l),p(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return c(l),p(e.onActionButtonPrintRow())}),D(1,4),d(2," -------------------------------------- "),L(),ke(3,5)(4,6),D(5,7),r(6,"a",8),E("click",function(){return c(l),p(e.viewGuideNotice=!e.viewGuideNotice)}),_(7,"i",9),a(),r(8,"a",8),E("click",function(){return c(l),p(e.onActionButtonReload())}),_(9,"i",10),a(),L(),D(10,11),r(11,"a",12),E("click",function(){return c(l),p(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(12,"mat-slide-toggle",13),d(13),C(14,"translate"),a(),r(15,"a",12),E("click",function(){return c(l),p(e.onActionButtonStatist())}),_(16,"mat-slide-toggle",13),d(17),C(18,"translate"),a(),L(),D(19,14),S(20,Mu,7,3,"div",15),L(),D(21,16),S(22,Eu,7,3,"div",15),S(23,bu,7,3,"div",15),r(24,"div",15)(25,"a",17),E("click",function(s){return c(l),p(e.onActionButtonContentList(e.tableRowSelected,s))}),_(26,"i",18)(27,"br"),a(),r(28,"p",19),d(29),C(30,"translate"),a()(),L(),D(31,20),r(32,"app-cms-search-list",21),A("optionsChange",function(s){return c(l),I(e.optionsSearch,s)||(e.optionsSearch=s),p(s)}),a(),r(33,"app-cms-statist-list",21),A("optionsChange",function(s){return c(l),I(e.optionsStatist,s)||(e.optionsStatist=s),p(s)}),a(),L(),D(34,22),r(35,"mat-table",23,0),E("matSortChange",function(){c(l);let s=P(36);return p(e.onTableSortData(s))}),D(37,24),U(38,vu,3,3,"mat-header-cell",25)(39,Tu,2,1,"mat-cell",26),L(),D(40,27),U(41,wu,2,1,"mat-header-cell",25)(42,Au,2,1,"mat-cell",26),L(),D(43,28),U(44,Ru,2,1,"mat-header-cell",25)(45,xu,2,1,"mat-cell",26),L(),D(46,29),U(47,Pu,2,1,"mat-header-cell",25)(48,Du,2,1,"mat-cell",26),L(),D(49,30),U(50,Lu,2,1,"mat-header-cell",25)(51,ku,2,1,"mat-cell",26),L(),D(52,31),U(53,Vu,2,1,"mat-header-cell",25)(54,Fu,2,1,"mat-cell",26),L(),D(55,32),U(56,Bu,2,1,"mat-header-cell",25)(57,Gu,2,1,"mat-cell",26),L(),D(58,33),U(59,Ou,2,1,"mat-header-cell",25)(60,Nu,2,1,"mat-cell",26),L(),D(61,34),U(62,Wu,3,3,"mat-header-cell",35)(63,Hu,6,1,"mat-cell",36),L(),U(64,Uu,1,0,"mat-header-row",37)(65,qu,1,2,"mat-row",38),a(),L(),D(66,39),r(67,"mat-paginator",40,1),E("page",function(s){return c(l),p(e.onTablePageingData(s))}),a(),L(),a()}i&2&&(u("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),n(9),ce("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),n(3),u("checked",e.optionsSearch.data.show),n(),M("",h(14,26,"ACTION.SEARCH")," "),n(3),u("checked",e.optionsStatist.data.show),n(),M("",h(18,28,"ACTION.STATIST")," "),n(3),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessAddRow?20:-1),n(2),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow?22:-1),n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow?23:-1),n(6),M(" ",h(30,30,"ACTION.Property_to_be_traded")," "),n(3),w("options",e.optionsSearch),n(),w("options",e.optionsStatist),n(2),u("dataSource",e.tableSource),n(29),u("matHeaderRowDef",e.tabledisplayedColumns),n(),u("matRowDefColumns",e.tabledisplayedColumns),n(2),u("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Q(32,yu)))},dependencies:[Tt,ft,kt,Vt,Be,Ge,Ft,Bt,Gt,Nt,qt,Wt,Ot,jt,Ht,Ut,Zt,zt,Oe,Ne,Yt,We,F,ge],encapsulation:2});var to=eo;var ju=()=>[5,10,20,100],Zu=(o,m)=>m.id;function zu(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",24),E("click",function(){c(t);let e=g();return p(e.onActionButtonNewRow())}),_(2,"i",25)(3,"br"),a(),r(4,"p",26),d(5),C(6,"translate"),a()()}o&2&&(n(5),v(h(6,1,"ACTION.ADD")))}function Qu(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",27),E("click",function(){c(t);let e=g();return p(e.onActionButtonEditRow(e.tableRowSelected))}),_(2,"i",28)(3,"br"),a(),r(4,"p",26),d(5),C(6,"translate"),a()()}o&2&&(n(5),v(h(6,1,"ACTION.EDIT")))}function Ku(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",29),E("click",function(){c(t);let e=g();return p(e.onActionButtonDeleteRow(e.tableRowSelected))}),_(2,"i",30)(3,"br"),a(),r(4,"p",26),d(5),C(6,"translate"),a()()}o&2&&(n(5),v(h(6,1,"ACTION.DELETE")))}function Yu(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",31),E("click",function(){c(t);let e=g();return p(e.onActionButtonViewRow(e.tableRowSelected))}),_(2,"i",32)(3,"br"),a(),r(4,"p",26),d(5),C(6,"translate"),a()()}o&2&&(n(5),v(h(6,1,"ACTION.VIEW")))}function Ju(o,m){if(o&1&&(r(0,"div",39),_(1,"i",41),d(2),a()),o&2){let t=g().$implicit,i=g(2);n(2),Ve(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",t.id)}}function Xu(o,m){if(o&1&&(r(0,"div",39),_(1,"i",42),d(2),C(3,"localeDate"),a()),o&2){let t=g().$implicit,i=g(2);n(2),Ve(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",h(3,2,t.createdDate))}}function $u(o,m){if(o&1&&_(0,"select",44),o&2){let t=g(2).$implicit,i=g(2);u("contentService",i.contentService)("row",t)}}function ef(o,m){if(o&1&&(r(0,"div",39),_(1,"i",43),C(2,"statusIconClass"),S(3,$u,1,2,"select",44),a()),o&2){let t=g().$implicit,i=g(2);n(),u("ngClass",h(2,2,t.recordStatus)),n(2),y(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function tf(o,m){if(o&1&&(r(0,"div",39),_(1,"i",47),d(2),C(3,"localeDate"),a()),o&2){let t=g(2).$implicit,i=g(2);n(2),Ve(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",h(3,2,t.updatedDate))}}function nf(o,m){if(o&1){let t=T();r(0,"div",40),S(1,tf,4,4,"div",39),r(2,"div",39)(3,"span",45),E("click",function(e){return c(t),g(3).onActionCopied(),p(e.stopPropagation())}),_(4,"i",46),a(),d(5),a()()}if(o&2){let t=g().$implicit;n(),y(t.updatedDate?1:-1),n(2),u("cdkCopyToClipboard",t.id.toString()),n(2),M(" ID: ",t.id)}}function of(o,m){if(o&1){let t=T();r(0,"div",34),E("click",function(e){let l=c(t).$implicit,f=g(2);return p(f.onActionTableRowSelect(l,e))})("rtclick",function(e){let l=c(t).$implicit,f=g(2);return p(f.onActionTableRowSelect(l,e))})("mouseenter",function(){let e=c(t).$implicit,l=g(2);return p(l.onActionTableRowMouseEnter(e))})("mouseleave",function(){let e=c(t).$implicit,l=g(2);return p(l.onActionTableRowMouseLeave(e))}),r(1,"div",35),_(2,"i",36),C(3,"statusIconClass"),a(),r(4,"div",37)(5,"div",38),d(6),a(),S(7,Ju,3,2,"div",39),S(8,Xu,4,4,"div",39),S(9,ef,4,4,"div",39),S(10,nf,6,3,"div",40),a()()}if(o&2){let t=m.$implicit,i=g(2);ce("selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))("bg-fade-highlight-light",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),pt("aria-label",t.title||t.id),n(2),u("ngClass",h(3,11,t.recordStatus)),n(4),v(t.title||"ID: "+t.id),n(),y(t.id?7:-1),n(),y(t.createdDate?8:-1),n(),y(t.recordStatus!==void 0?9:-1),n(),y(i.getRowExpanded(t)?10:-1)}}function af(o,m){if(o&1&&(r(0,"div",20),Re(1,of,11,13,"div",33,Zu),a()),o&2){let t=g();n(),xe(t.dataModelResult.listItems)}}function rf(o,m){o&1&&(r(0,"div",21),d(1),C(2,"translate"),a()),o&2&&(n(),v(h(2,1,"MESSAGE.NoRecord")))}var on=class on extends to{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(t){let i=String(t);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(t){return String(t)}onDocumentClick(t){let i=t.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(t){return t.expanded===!0}};on.\u0275fac=(()=>{let t;return function(e){return(t||(t=_t(on)))(e||on)}})(),on.\u0275cmp=V({type:on,selectors:[["app-estate-ads-type-list-mobile"]],hostBindings:function(i,e){i&1&&E("click",function(f){return e.onDocumentClick(f)},Ct)},standalone:!1,features:[B],decls:37,vars:31,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-calendar"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"]],template:function(i,e){if(i&1){let l=T();r(0,"app-cms-html-list-mobile",1),A("optionActionGuideNoticeDisplayChange",function(s){return c(l),I(e.viewGuideNotice,s)||(e.viewGuideNotice=s),p(s)}),E("optionOnActionButtonMemoRow",function(){return c(l),p(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return c(l),p(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return c(l),p(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return c(l),p(e.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return c(l),p(e.onActionLoadNextPage())}),ke(1,2)(2,3)(3,4),D(4,5),r(5,"a",6),E("click",function(){return c(l),p(e.viewGuideNotice=!e.viewGuideNotice)}),_(6,"i",7),a(),r(7,"a",6),E("click",function(){return c(l),p(e.onActionButtonReload())}),_(8,"i",8),a(),r(9,"a",6),E("click",function(){return c(l),p(e.onActionGridExpandRows(!0))}),_(10,"i",9),a(),r(11,"a",6),E("click",function(){return c(l),p(e.onActionGridExpandRows(!1))}),_(12,"i",10),a(),L(),D(13,11),r(14,"a",12),E("click",function(){return c(l),p(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(15,"mat-slide-toggle",13),d(16),C(17,"translate"),a(),r(18,"a",12),E("click",function(){return c(l),p(e.onActionButtonStatist())}),_(19,"mat-slide-toggle",13),d(20),C(21,"translate"),a(),L(),D(22,14),S(23,zu,7,3,"div",15),L(),D(24,16),S(25,Qu,7,3,"div",15),S(26,Ku,7,3,"div",15),S(27,Yu,7,3,"div",15),L(),D(28,17),r(29,"app-cms-search-list",18),A("optionsChange",function(s){return c(l),I(e.optionsSearch,s)||(e.optionsSearch=s),p(s)}),a(),r(30,"app-cms-statist-list",18),A("optionsChange",function(s){return c(l),I(e.optionsStatist,s)||(e.optionsStatist=s),p(s)}),a(),L(),D(31,19),S(32,af,3,0,"div",20)(33,rf,3,3,"div",21),L(),D(34,22),r(35,"mat-paginator",23,0),E("page",function(s){return c(l),p(e.onTablePageingData(s))}),a(),L(),a()}i&2&&(u("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey","estate.main.ads-type.list"),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplay",(e.tableRowSelected==null?null:e.tableRowSelected.id)>0)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),n(8),ce("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),n(7),u("checked",e.optionsSearch.data.show),n(),v(h(17,26,"ACTION.SEARCH")),n(3),u("checked",e.optionsStatist.data.show),n(),v(h(21,28,"ACTION.STATIST")),n(3),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessAddRow?23:-1),n(2),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow&&(e.tableRowSelected==null?null:e.tableRowSelected.id)>0?25:-1),n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow&&(e.tableRowSelected==null?null:e.tableRowSelected.id)>0?26:-1),n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessWatchRow&&(e.tableRowSelected==null?null:e.tableRowSelected.id)>0?27:-1),n(2),w("options",e.optionsSearch),n(),w("options",e.optionsStatist),n(2),y(!(e.dataModelResult==null||e.dataModelResult.listItems==null)&&e.dataModelResult.listItems.length?32:33),n(3),u("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Q(30,ju)))},dependencies:[K,H,Be,Ge,It,Oe,Ne,Pt,We,At,F,Rt,xt],encapsulation:2});var Ha=on;var lf=["vform"],sf=o=>({direction:o});function df(o,m){if(o&1){let t=T();r(0,"app-cms-enum-record-status-selector",32),A("modelChange",function(e){c(t);let l=g();return I(l.dataModel.recordStatus,e)||(l.dataModel.recordStatus=e),p(e)}),a()}if(o&2){let t=g();w("model",t.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function cf(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function pf(o,m){o&1&&(r(0,"mat-error"),d(1," titleResourceLanguage is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function mf(o,m){o&1&&(r(0,"mat-error"),d(1," orderTitle is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function uf(o,m){o&1&&(r(0,"mat-error"),d(1," orderTitleResourceLanguage is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function ff(o,m){o&1&&(r(0,"mat-error"),d(1," TitleSoldIt is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function gf(o,m){o&1&&(r(0,"mat-error"),d(1," titleSoldItResourceLanguage is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function _f(o,m){if(o&1){let t=T();r(0,"div",19)(1,"label",20),d(2),a(),r(3,"div",33)(4,"label",34)(5,"input",35),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.allowPriceInquiryCalculate,e)||(l.dataModel.allowPriceInquiryCalculate=e),p(e)}),a(),_(6,"span",36),a()()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.allowPriceInquiryCalculate==null?null:t.fieldsInfo.allowPriceInquiryCalculate.fieldTitle),n(3),w("ngModel",t.dataModel.allowPriceInquiryCalculate)}}function Cf(o,m){if(o&1){let t=T();r(0,"div",19)(1,"label",20),d(2),a(),r(3,"div",33)(4,"label",34)(5,"input",37),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.hasSalePrice,e)||(l.dataModel.hasSalePrice=e),p(e)}),a(),_(6,"span",36),a()()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.hasSalePrice==null?null:t.fieldsInfo.hasSalePrice.fieldTitle),n(3),w("ngModel",t.dataModel.hasSalePrice)}}function hf(o,m){if(o&1){let t=T();r(0,"div",19)(1,"label",20),d(2),a(),r(3,"div",33)(4,"label",34)(5,"input",38),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.hasPeriodPrice,e)||(l.dataModel.hasPeriodPrice=e),p(e)}),a(),_(6,"span",36),a()()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.hasPeriodPrice==null?null:t.fieldsInfo.hasPeriodPrice.fieldTitle),n(3),w("ngModel",t.dataModel.hasPeriodPrice)}}function Sf(o,m){if(o&1){let t=T();r(0,"div",31)(1,"button",39),E("click",function(){c(t);let e=g();return p(e.onActionBackToParent())}),_(2,"i",40),d(3),C(4,"translate"),a(),r(5,"button",41),_(6,"i",42),d(7),C(8,"translate"),a()()}if(o&2){g();let t=P(14);n(3),M(" ",h(4,3,"ACTION.CANCEL")," "),n(2),u("disabled",!t.form.valid),n(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var io=class io extends Qe{constructor(t,i,e,l,f,s,x,k,ye,Me){super(i,new fi,f,Me);this.coreEnumService=t;this.estateContractTypeService=i;this.cmsToastrService=e;this.cmsStoreService=l;this.publicHelper=f;this.cdr=s;this.router=x;this.activatedRoute=k;this.tokenHelper=ye;this.translate=Me;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new ct;this.dataModelResult=new Se;this.dataModel=new fi;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.activatedRoute.snapshot.paramMap.get("id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("id")),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.requestId&&this.requestId.length>0?(this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t+" copy"}),this.DataClone()):this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataClone(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateContractTypeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess?(this.dataModel=i.item,i.item.title=i.item.title+" copy",this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateContractTypeService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.onActionBackToParent()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onActionBackToParent(){this.router.navigate(["/estate/main/contract-type"])}};io.\u0275fac=function(i){return new(i||io)(b(j),b(yi),b(N),b(Ce),b(W),b(G),b(pe),b(Ee),b(he),b(O))},io.\u0275cmp=V({type:io,selectors:[["app-estate-contract-type-add-mobile"]],viewQuery:function(i,e){if(i&1&&$(lf,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:80,vars:65,consts:[["vform","ngForm"],["Title",""],["titleResourceLanguage",""],["orderTitle",""],["orderTitleResourceLanguage",""],["TitleSoldIt",""],["titleSoldItResourceLanguage",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[1,"cms-m-header-title"],[1,"cms-m-header-spacer"],[1,"cms-m-content","safe-area-content"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"cms-m-form-field"],[1,"cms-m-form-label"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder"],[1,"cms-m-char-count"],["matInput","","type","text","cmsKeyboardForce","en","name","dataModel.titleML","id","dataModel.titleML",1,"cms-m-form-input",3,"ngModelChange","ngModel","disabled"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"cms-m-form-input",3,"ngModelChange","ngModel","disabled","placeholder"],["matInput","","type","text","name","dataModel.orderTitle","minlength","3","maxlength","100","required","","id","dataModel.orderTitle",1,"cms-m-form-input",3,"ngModelChange","ngModel","disabled","placeholder"],["matInput","","type","text","name","dataModel.orderTitleML","id","dataModel.orderTitleML",1,"cms-m-form-input",3,"ngModelChange","ngModel","disabled"],["matInput","","type","text","name","dataModel.orderTitleResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.orderTitleResourceLanguage",1,"cms-m-form-input",3,"ngModelChange","ngModel","disabled","placeholder"],["matInput","","type","text","name","dataModel.titleSoldIt","minlength","1","maxlength","100","required","","id","dataModel.titleSoldIt",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder"],["matInput","","type","text","name","dataModel.titleSoldItML","id","dataModel.titleSoldItML",1,"cms-m-form-input",3,"ngModelChange","ngModel","disabled"],["matInput","","type","text","name","dataModel.titleSoldItResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.titleSoldItResourceLanguage",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder"],[1,"cms-m-footer","safe-area-bottom"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"cms-m-switch-wrapper"],[1,"cms-m-switch"],["type","checkbox","name","dataModel.allowPriceInquiryCalculate","id","dataModel.allowPriceInquiryCalculate",3,"ngModelChange","ngModel"],[1,"cms-m-switch-slider"],["type","checkbox","name","dataModel.hasSalePrice","id","dataModel.hasSalePrice",3,"ngModelChange","ngModel"],["type","checkbox","name","dataModel.hasPeriodPrice","id","dataModel.hasPeriodPrice",3,"ngModelChange","ngModel"],["type","button",1,"cms-m-btn","cms-m-btn-secondary",3,"click"],["aria-hidden","true",1,"fa-solid","fa-times"],["type","submit",1,"cms-m-btn","cms-m-btn-success",3,"disabled"],["aria-hidden","true",1,"fa-solid","fa-save"]],template:function(i,e){if(i&1){let l=T();r(0,"div",7),_(1,"app-progress-spinner",8),r(2,"div",9)(3,"div",10)(4,"button",11),C(5,"translate"),E("click",function(){return c(l),p(e.onActionBackToParent())}),_(6,"i",12),a(),r(7,"h1",13),d(8),C(9,"translate"),a(),_(10,"div",14),a()(),r(11,"div",15),_(12,"app-cms-form-result-message",16),r(13,"form",17,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),S(15,df,1,5,"app-cms-enum-record-status-selector",18),r(16,"div",19)(17,"label",20),d(18),a(),r(19,"input",21,1),A("ngModelChange",function(s){return c(l),I(e.dataModel.title,s)||(e.dataModel.title=s),p(s)}),a(),r(21,"em",22),d(22),a(),S(23,cf,5,3,"mat-error"),a(),r(24,"div",19)(25,"label",20),d(26),a(),r(27,"input",23),A("ngModelChange",function(s){return c(l),I(e.dataModel.titleML,s)||(e.dataModel.titleML=s),p(s)}),a()(),r(28,"div",19)(29,"label",20),d(30),a(),r(31,"input",24,2),A("ngModelChange",function(s){return c(l),I(e.dataModel.titleResourceLanguage,s)||(e.dataModel.titleResourceLanguage=s),p(s)}),a(),r(33,"em",22),d(34),a(),S(35,pf,5,3,"mat-error"),a(),r(36,"div",19)(37,"label",20),d(38),a(),r(39,"input",25,3),A("ngModelChange",function(s){return c(l),I(e.dataModel.orderTitle,s)||(e.dataModel.orderTitle=s),p(s)}),a(),r(41,"em",22),d(42),a(),S(43,mf,5,3,"mat-error"),a(),r(44,"div",19)(45,"label",20),d(46),a(),r(47,"input",26),A("ngModelChange",function(s){return c(l),I(e.dataModel.orderTitleML,s)||(e.dataModel.orderTitleML=s),p(s)}),a()(),r(48,"div",19)(49,"label",20),d(50),a(),r(51,"input",27,4),A("ngModelChange",function(s){return c(l),I(e.dataModel.orderTitleResourceLanguage,s)||(e.dataModel.orderTitleResourceLanguage=s),p(s)}),a(),r(53,"em",22),d(54),a(),S(55,uf,5,3,"mat-error"),a(),r(56,"div",19)(57,"label",20),d(58),a(),r(59,"input",28,5),A("ngModelChange",function(s){return c(l),I(e.dataModel.titleSoldIt,s)||(e.dataModel.titleSoldIt=s),p(s)}),a(),r(61,"em",22),d(62),a(),S(63,ff,5,3,"mat-error"),a(),r(64,"div",19)(65,"label",20),d(66),a(),r(67,"input",29),A("ngModelChange",function(s){return c(l),I(e.dataModel.titleSoldItML,s)||(e.dataModel.titleSoldItML=s),p(s)}),a()(),r(68,"div",19)(69,"label",20),d(70),a(),r(71,"input",30,6),A("ngModelChange",function(s){return c(l),I(e.dataModel.titleSoldItResourceLanguage,s)||(e.dataModel.titleSoldItResourceLanguage=s),p(s)}),a(),r(73,"em",22),d(74),a(),S(75,gf,5,3,"mat-error"),a(),S(76,_f,7,2,"div",19),S(77,Cf,7,2,"div",19),S(78,hf,7,2,"div",19),S(79,Sf,9,7,"div",31),a()()()}if(i&2){let l=P(20),f=P(32),s=P(40),x=P(52),k=P(60),ye=P(72);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),Pe("aria-label",R(h(5,59,"ACTION.BACK"))),n(4),M(" ",e.formInfo.formTitle||h(9,61,"ROUTE.ESTATE.CONTRACTTYPE")," "),n(4),u("formInfo",e.formInfo),n(),u("ngStyle",$e(63,sf,e.tokenInfo.access.direction)),n(2),y(e.fieldsInfo.recordStatus!=null&&e.fieldsInfo.recordStatus.accessWatchField?15:-1),n(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),w("ngModel",e.dataModel.title),n(3),M("",l.value.length," / 100"),n(),y(l.errors!=null&&l.errors.required?23:-1),n(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),n(),w("ngModel",e.dataModel.titleML),u("disabled",!0),n(3),v(e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle)),w("ngModel",e.dataModel.titleResourceLanguage),u("disabled",!0),n(3),M("",f.value.length," / 100"),n(),y(f.errors!=null&&f.errors.required?35:-1),n(3),v(e.fieldsInfo.orderTitle==null?null:e.fieldsInfo.orderTitle.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.orderTitle==null?null:e.fieldsInfo.orderTitle.fieldTitle)),w("ngModel",e.dataModel.orderTitle),u("disabled",!0),n(3),M("",s.value.length," / 100"),n(),y(s.errors!=null&&s.errors.required?43:-1),n(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),n(),w("ngModel",e.dataModel.orderTitleML),u("disabled",!0),n(3),v(e.fieldsInfo.orderTitleResourceLanguage==null?null:e.fieldsInfo.orderTitleResourceLanguage.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.orderTitleResourceLanguage==null?null:e.fieldsInfo.orderTitleResourceLanguage.fieldTitle)),w("ngModel",e.dataModel.orderTitleResourceLanguage),u("disabled",!0),n(3),M("",x.value.length," / 100"),n(),y(x.errors!=null&&x.errors.required?55:-1),n(3),v(e.fieldsInfo.titleSoldIt==null?null:e.fieldsInfo.titleSoldIt.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.titleSoldIt==null?null:e.fieldsInfo.titleSoldIt.fieldTitle)),w("ngModel",e.dataModel.titleSoldIt),n(3),M("",k.value.length," / 100"),n(),y(k.errors!=null&&k.errors.required?63:-1),n(3),v(e.fieldsInfo.titleSoldIt==null?null:e.fieldsInfo.titleSoldIt.fieldTitle),n(),w("ngModel",e.dataModel.titleSoldItML),u("disabled",!0),n(3),v(e.fieldsInfo.titleSoldItResourceLanguage==null?null:e.fieldsInfo.titleSoldItResourceLanguage.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.titleSoldItResourceLanguage==null?null:e.fieldsInfo.titleSoldItResourceLanguage.fieldTitle)),w("ngModel",e.dataModel.titleSoldItResourceLanguage),n(3),M("",ye.value.length," / 100"),n(),y(ye.errors!=null&&ye.errors.required?75:-1),n(),y(e.fieldsInfo.allowPriceInquiryCalculate!=null&&e.fieldsInfo.allowPriceInquiryCalculate.accessWatchField?76:-1),n(),y(e.fieldsInfo.hasSalePrice!=null&&e.fieldsInfo.hasSalePrice.accessWatchField?77:-1),n(),y(e.fieldsInfo.hasPeriodPrice!=null&&e.fieldsInfo.hasPeriodPrice.accessWatchField?78:-1),n(),y(e.formInfo.submitButtonEnabled?79:-1)}},dependencies:[et,ae,Y,Lt,J,ie,X,re,le,oe,ne,se,H,Le,z,de,Ai,F],encapsulation:2});var Xo=io;var no=class extends rt{constructor(t,i,e,l,f,s){super(i,new fi,l,s);this.coreEnumService=t;this.estateContractTypeService=i;this.cmsToastrService=e;this.publicHelper=l;this.cdr=f;this.translate=s;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new tt;this.dataModel=new fi;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}validateRequestId(t){return!this.requestId||this.requestId.length===0?(this.cmsToastrService.typeErrorComponentAction(),t(),!1):!0}loadItem(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateContractTypeService.setAccessLoad(),this.estateContractTypeService.setAccessDataType(nt.Editor),this.estateContractTypeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}saveItem(t){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.estateContractTypeService.ServiceEdit(this.dataModel).subscribe({next:e=>{this.dataModelResult=e,e.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(l=>{this.formInfo.submitResultMessage=l,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),t()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(i),this.formInfo.submitButtonEnabled=!0},error:e=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onFormSubmitInternal(t){this.formGroup?.valid&&(this.formInfo.submitButtonEnabled=!1,this.saveItem(t))}};var yf=["vform"],Mf=o=>({direction:o});function Ef(o,m){if(o&1){let t=T();r(0,"app-cms-enum-record-status-selector",31),A("modelChange",function(e){c(t);let l=g();return I(l.dataModel.recordStatus,e)||(l.dataModel.recordStatus=e),p(e)}),a()}if(o&2){let t=g();w("model",t.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function bf(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function vf(o,m){if(o&1){let t=T();r(0,"div",19)(1,"label",20),d(2),a(),r(3,"input",32,6),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.title,e)||(l.dataModel.title=e),p(e)}),a(),r(5,"em",23),d(6),a(),S(7,bf,5,3,"mat-error"),a()}if(o&2){let t=P(4),i=g();n(2),v(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),u("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),n(3),M("",t.value.length," / 100"),n(),y(t.errors!=null&&t.errors.required?7:-1)}}function If(o,m){o&1&&(r(0,"mat-error"),d(1," titleResourceLanguage is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Tf(o,m){o&1&&(r(0,"mat-error"),d(1," orderTitle is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function wf(o,m){o&1&&(r(0,"mat-error"),d(1," orderTitleResourceLanguage is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Af(o,m){o&1&&(r(0,"mat-error"),d(1," TitleSoldIt is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Rf(o,m){o&1&&(r(0,"mat-error"),d(1," titleSoldItResourceLanguage is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function xf(o,m){if(o&1){let t=T();r(0,"div",19)(1,"label",20),d(2),a(),r(3,"div",33)(4,"label",34)(5,"input",35),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.allowPriceInquiryCalculate,e)||(l.dataModel.allowPriceInquiryCalculate=e),p(e)}),a(),_(6,"span",36),a()()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.allowPriceInquiryCalculate==null?null:t.fieldsInfo.allowPriceInquiryCalculate.fieldTitle),n(3),w("ngModel",t.dataModel.allowPriceInquiryCalculate),u("disabled",!(t.fieldsInfo.allowPriceInquiryCalculate!=null&&t.fieldsInfo.allowPriceInquiryCalculate.accessEditField))}}function Pf(o,m){if(o&1){let t=T();r(0,"div",19)(1,"label",20),d(2),a(),r(3,"div",33)(4,"label",34)(5,"input",37),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.hasSalePrice,e)||(l.dataModel.hasSalePrice=e),p(e)}),a(),_(6,"span",36),a()()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.hasSalePrice==null?null:t.fieldsInfo.hasSalePrice.fieldTitle),n(3),w("ngModel",t.dataModel.hasSalePrice),u("disabled",!(t.fieldsInfo.hasSalePrice!=null&&t.fieldsInfo.hasSalePrice.accessEditField))}}function Df(o,m){if(o&1){let t=T();r(0,"div",19)(1,"label",20),d(2),a(),r(3,"div",33)(4,"label",34)(5,"input",38),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.hasPeriodPrice,e)||(l.dataModel.hasPeriodPrice=e),p(e)}),a(),_(6,"span",36),a()()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.hasPeriodPrice==null?null:t.fieldsInfo.hasPeriodPrice.fieldTitle),n(3),w("ngModel",t.dataModel.hasPeriodPrice),u("disabled",!(t.fieldsInfo.hasPeriodPrice!=null&&t.fieldsInfo.hasPeriodPrice.accessEditField))}}function Lf(o,m){if(o&1){let t=T();r(0,"div",30)(1,"button",39),E("click",function(){c(t);let e=g();return p(e.onActionBackToParent())}),_(2,"i",40),d(3),C(4,"translate"),a(),r(5,"button",41),_(6,"i",42),d(7),C(8,"translate"),a()()}if(o&2){g();let t=P(14);n(3),M(" ",h(4,3,"ACTION.CANCEL")," "),n(2),u("disabled",!t.form.valid),n(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var oo=class oo extends no{constructor(t,i,e,l,f,s,x,k,ye,Me){super(t,i,e,l,s,Me);this.coreEnumService=t;this.estateContractTypeService=i;this.publicHelper=l;this.router=f;this.activatedRoute=x;this.tokenHelper=k;this.cmsStoreService=ye;this.translate=Me;this.fileManagerOpenForm=!1;this.activatedRoute.snapshot.paramMap.get("id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("id")),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.validateRequestId(()=>{this.onActionBackToParent()})&&this.loadItem()}DataGetOneContent(){this.loadItem()}DataEditContent(){this.saveItem(()=>{this.onActionBackToParent()})}onFormSubmit(){this.onFormSubmitInternal(()=>{this.onActionBackToParent()})}onActionBackToParent(){this.router.navigate(["/estate/main/contract-type"])}};oo.\u0275fac=function(i){return new(i||oo)(b(j),b(yi),b(N),b(W),b(pe),b(G),b(Ee),b(he),b(Ce),b(O))},oo.\u0275cmp=V({type:oo,selectors:[["app-estate-contract-type-edit-mobile"]],viewQuery:function(i,e){if(i&1&&$(yf,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:73,vars:62,consts:[["vform","ngForm"],["titleResourceLanguage",""],["orderTitle",""],["orderTitleResourceLanguage",""],["TitleSoldIt",""],["titleSoldItResourceLanguage",""],["Title",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[1,"cms-m-header-title"],[1,"cms-m-header-spacer"],[1,"cms-m-content","safe-area-content"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"cms-m-form-field"],[1,"cms-m-form-label"],["matInput","","type","text","cmsKeyboardForce","en","name","dataModel.titleML","id","dataModel.titleML",1,"cms-m-form-input",3,"ngModelChange","ngModel","disabled"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"cms-m-form-input",3,"ngModelChange","ngModel","disabled","placeholder"],[1,"cms-m-char-count"],["matInput","","type","text","name","dataModel.orderTitle","minlength","3","maxlength","100","required","","id","dataModel.orderTitle",1,"cms-m-form-input",3,"ngModelChange","ngModel","disabled","placeholder"],["matInput","","type","text","name","dataModel.orderTitleML","id","dataModel.orderTitleML",1,"cms-m-form-input",3,"ngModelChange","ngModel","disabled"],["matInput","","type","text","name","dataModel.orderTitleResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.orderTitleResourceLanguage",1,"cms-m-form-input",3,"ngModelChange","ngModel","disabled","placeholder"],["matInput","","type","text","name","dataModel.titleSoldIt","minlength","1","maxlength","100","required","","id","dataModel.titleSoldIt",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder","disabled"],["matInput","","type","text","name","dataModel.titleSoldItML","id","dataModel.titleSoldItML",1,"cms-m-form-input",3,"ngModelChange","ngModel","disabled"],["matInput","","type","text","name","dataModel.titleSoldItResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.titleSoldItResourceLanguage",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"cms-m-footer","safe-area-bottom"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"cms-m-switch-wrapper"],[1,"cms-m-switch"],["type","checkbox","name","dataModel.allowPriceInquiryCalculate","id","dataModel.allowPriceInquiryCalculate",3,"ngModelChange","ngModel","disabled"],[1,"cms-m-switch-slider"],["type","checkbox","name","dataModel.hasSalePrice","id","dataModel.hasSalePrice",3,"ngModelChange","ngModel","disabled"],["type","checkbox","name","dataModel.hasPeriodPrice","id","dataModel.hasPeriodPrice",3,"ngModelChange","ngModel","disabled"],["type","button",1,"cms-m-btn","cms-m-btn-secondary",3,"click"],["aria-hidden","true",1,"fa-solid","fa-times"],["type","submit",1,"cms-m-btn","cms-m-btn-success",3,"disabled"],["aria-hidden","true",1,"fa-solid","fa-save"]],template:function(i,e){if(i&1){let l=T();r(0,"div",7),_(1,"app-progress-spinner",8),r(2,"div",9)(3,"div",10)(4,"button",11),C(5,"translate"),E("click",function(){return c(l),p(e.onActionBackToParent())}),_(6,"i",12),a(),r(7,"h1",13),d(8),C(9,"translate"),a(),_(10,"div",14),a()(),r(11,"div",15),_(12,"app-cms-form-result-message",16),r(13,"form",17,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),S(15,Ef,1,5,"app-cms-enum-record-status-selector",18),S(16,vf,8,7,"div",19),r(17,"div",19)(18,"label",20),d(19),a(),r(20,"input",21),A("ngModelChange",function(s){return c(l),I(e.dataModel.titleML,s)||(e.dataModel.titleML=s),p(s)}),a()(),r(21,"div",19)(22,"label",20),d(23),a(),r(24,"input",22,1),A("ngModelChange",function(s){return c(l),I(e.dataModel.titleResourceLanguage,s)||(e.dataModel.titleResourceLanguage=s),p(s)}),a(),r(26,"em",23),d(27),a(),S(28,If,5,3,"mat-error"),a(),r(29,"div",19)(30,"label",20),d(31),a(),r(32,"input",24,2),A("ngModelChange",function(s){return c(l),I(e.dataModel.orderTitle,s)||(e.dataModel.orderTitle=s),p(s)}),a(),r(34,"em",23),d(35),a(),S(36,Tf,5,3,"mat-error"),a(),r(37,"div",19)(38,"label",20),d(39),a(),r(40,"input",25),A("ngModelChange",function(s){return c(l),I(e.dataModel.orderTitleML,s)||(e.dataModel.orderTitleML=s),p(s)}),a()(),r(41,"div",19)(42,"label",20),d(43),a(),r(44,"input",26,3),A("ngModelChange",function(s){return c(l),I(e.dataModel.orderTitleResourceLanguage,s)||(e.dataModel.orderTitleResourceLanguage=s),p(s)}),a(),r(46,"em",23),d(47),a(),S(48,wf,5,3,"mat-error"),a(),r(49,"div",19)(50,"label",20),d(51),a(),r(52,"input",27,4),A("ngModelChange",function(s){return c(l),I(e.dataModel.titleSoldIt,s)||(e.dataModel.titleSoldIt=s),p(s)}),a(),r(54,"em",23),d(55),a(),S(56,Af,5,3,"mat-error"),a(),r(57,"div",19)(58,"label",20),d(59),a(),r(60,"input",28),A("ngModelChange",function(s){return c(l),I(e.dataModel.titleSoldItML,s)||(e.dataModel.titleSoldItML=s),p(s)}),a()(),r(61,"div",19)(62,"label",20),d(63),a(),r(64,"input",29,5),A("ngModelChange",function(s){return c(l),I(e.dataModel.titleSoldItResourceLanguage,s)||(e.dataModel.titleSoldItResourceLanguage=s),p(s)}),a(),r(66,"em",23),d(67),a(),S(68,Rf,5,3,"mat-error"),a(),S(69,xf,7,3,"div",19),S(70,Pf,7,3,"div",19),S(71,Df,7,3,"div",19),S(72,Lf,9,7,"div",30),a()()()}if(i&2){let l=P(25),f=P(33),s=P(45),x=P(53),k=P(65);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),Pe("aria-label",R(h(5,56,"ACTION.BACK"))),n(4),M(" ",e.formInfo.formTitle||h(9,58,"ROUTE.ESTATE.CONTRACTTYPE")," "),n(4),u("formInfo",e.formInfo),n(),u("ngStyle",$e(60,Mf,e.tokenInfo==null||e.tokenInfo.access==null?null:e.tokenInfo.access.direction)),n(2),y(e.fieldsInfo.recordStatus!=null&&e.fieldsInfo.recordStatus.accessWatchField?15:-1),n(),y(e.fieldsInfo.title!=null&&e.fieldsInfo.title.accessWatchField?16:-1),n(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),n(),w("ngModel",e.dataModel.titleML),u("disabled",!0),n(3),v(e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle)),w("ngModel",e.dataModel.titleResourceLanguage),u("disabled",!0),n(3),M("",l.value.length," / 100"),n(),y(l.errors!=null&&l.errors.required?28:-1),n(3),v(e.fieldsInfo.orderTitle==null?null:e.fieldsInfo.orderTitle.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.orderTitle==null?null:e.fieldsInfo.orderTitle.fieldTitle)),w("ngModel",e.dataModel.orderTitle),u("disabled",!0),n(3),M("",f.value.length," / 100"),n(),y(f.errors!=null&&f.errors.required?36:-1),n(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),n(),w("ngModel",e.dataModel.orderTitleML),u("disabled",!0),n(3),v(e.fieldsInfo.orderTitleResourceLanguage==null?null:e.fieldsInfo.orderTitleResourceLanguage.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.orderTitleResourceLanguage==null?null:e.fieldsInfo.orderTitleResourceLanguage.fieldTitle)),w("ngModel",e.dataModel.orderTitleResourceLanguage),u("disabled",!0),n(3),M("",s.value.length," / 100"),n(),y(s.errors!=null&&s.errors.required?48:-1),n(3),v(e.fieldsInfo.titleSoldIt==null?null:e.fieldsInfo.titleSoldIt.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.titleSoldIt==null?null:e.fieldsInfo.titleSoldIt.fieldTitle)),w("ngModel",e.dataModel.titleSoldIt),u("disabled",!(e.fieldsInfo.titleSoldIt!=null&&e.fieldsInfo.titleSoldIt.accessEditField)),n(3),M("",x.value.length," / 100"),n(),y(x.errors!=null&&x.errors.required?56:-1),n(3),v(e.fieldsInfo.titleSoldIt==null?null:e.fieldsInfo.titleSoldIt.fieldTitle),n(),w("ngModel",e.dataModel.titleSoldItML),u("disabled",!0),n(3),v(e.fieldsInfo.titleSoldItResourceLanguage==null?null:e.fieldsInfo.titleSoldItResourceLanguage.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.titleSoldItResourceLanguage==null?null:e.fieldsInfo.titleSoldItResourceLanguage.fieldTitle)),w("ngModel",e.dataModel.titleSoldItResourceLanguage),u("disabled",!(e.fieldsInfo.titleSoldItResourceLanguage!=null&&e.fieldsInfo.titleSoldItResourceLanguage.accessEditField)),n(3),M("",k.value.length," / 100"),n(),y(k.errors!=null&&k.errors.required?68:-1),n(),y(e.fieldsInfo.allowPriceInquiryCalculate!=null&&e.fieldsInfo.allowPriceInquiryCalculate.accessWatchField?69:-1),n(),y(e.fieldsInfo.hasSalePrice!=null&&e.fieldsInfo.hasSalePrice.accessWatchField?70:-1),n(),y(e.fieldsInfo.hasPeriodPrice!=null&&e.fieldsInfo.hasPeriodPrice.accessWatchField?71:-1),n(),y(e.formInfo.submitButtonEnabled?72:-1)}},dependencies:[et,ae,Y,Lt,J,ie,X,re,le,oe,ne,se,H,Le,z,de,Ai,F],encapsulation:2});var Ua=oo;var kf=["vform"],Vf=o=>({direction:o});function Ff(o,m){o&1&&_(0,"i",26)}function Bf(o,m){o&1&&_(0,"i",27)}function Gf(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Of(o,m){o&1&&_(0,"i",26)}function Nf(o,m){o&1&&_(0,"i",27)}function Wf(o,m){o&1&&(r(0,"mat-error"),d(1," titleResourceLanguage is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Hf(o,m){o&1&&_(0,"i",26)}function Uf(o,m){o&1&&_(0,"i",27)}function qf(o,m){o&1&&(r(0,"mat-error"),d(1," orderTitle is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function jf(o,m){o&1&&_(0,"i",26)}function Zf(o,m){o&1&&_(0,"i",27)}function zf(o,m){o&1&&(r(0,"mat-error"),d(1," orderTitleResourceLanguage is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Qf(o,m){o&1&&_(0,"i",26)}function Kf(o,m){o&1&&_(0,"i",27)}function Yf(o,m){o&1&&(r(0,"mat-error"),d(1," TitleSoldIt is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Jf(o,m){o&1&&_(0,"i",26)}function Xf(o,m){o&1&&_(0,"i",27)}function $f(o,m){o&1&&(r(0,"mat-error"),d(1," titleSoldItResourceLanguage is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function eg(o,m){if(o&1){let t=T();r(0,"div",44)(1,"div",58)(2,"h5",59),d(3),a()(),r(4,"div",60)(5,"div",61)(6,"input",62),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.allowPriceInquiryCalculate,e)||(l.dataModel.allowPriceInquiryCalculate=e),p(e)}),a(),_(7,"label",63),a()()()}if(o&2){let t=g();n(3),M(" ",t.fieldsInfo.allowPriceInquiryCalculate==null?null:t.fieldsInfo.allowPriceInquiryCalculate.fieldTitle," "),n(3),w("ngModel",t.dataModel.allowPriceInquiryCalculate)}}function tg(o,m){if(o&1){let t=T();r(0,"div",44)(1,"div",58)(2,"h5",59),d(3),a()(),r(4,"div",60)(5,"div",61)(6,"input",64),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.hasSalePrice,e)||(l.dataModel.hasSalePrice=e),p(e)}),a(),_(7,"label",65),a()()()}if(o&2){let t=g();n(3),M(" ",t.fieldsInfo.hasSalePrice==null?null:t.fieldsInfo.hasSalePrice.fieldTitle," "),n(3),w("ngModel",t.dataModel.hasSalePrice)}}function ig(o,m){if(o&1){let t=T();r(0,"div",44)(1,"div",58)(2,"h5",59),d(3),a()(),r(4,"div",60)(5,"div",61)(6,"input",66),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.hasRentPrice,e)||(l.dataModel.hasRentPrice=e),p(e)}),a(),_(7,"label",67),a()()()}if(o&2){let t=g();n(3),M(" ",t.fieldsInfo.hasRentPrice==null?null:t.fieldsInfo.hasRentPrice.fieldTitle," "),n(3),w("ngModel",t.dataModel.hasRentPrice)}}function ng(o,m){if(o&1){let t=T();r(0,"div",44)(1,"div",58)(2,"h5",59),d(3),a()(),r(4,"div",60)(5,"div",61)(6,"input",68),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.hasDepositPrice,e)||(l.dataModel.hasDepositPrice=e),p(e)}),a(),_(7,"label",69),a()()()}if(o&2){let t=g();n(3),M(" ",t.fieldsInfo.hasDepositPrice==null?null:t.fieldsInfo.hasDepositPrice.fieldTitle," "),n(3),w("ngModel",t.dataModel.hasDepositPrice)}}function og(o,m){if(o&1){let t=T();r(0,"div",44)(1,"div",58)(2,"h5",59),d(3),a()(),r(4,"div",60)(5,"div",61)(6,"input",70),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.hasPeriodPrice,e)||(l.dataModel.hasPeriodPrice=e),p(e)}),a(),_(7,"label",71),a()()()}if(o&2){let t=g();n(3),M(" ",t.fieldsInfo.hasPeriodPrice==null?null:t.fieldsInfo.hasPeriodPrice.fieldTitle," "),n(3),w("ngModel",t.dataModel.hasPeriodPrice)}}function ag(o,m){o&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function rg(o,m){o&1&&_(0,"hr")}function lg(o,m){if(o&1){let t=T();r(0,"div",44)(1,"div",58)(2,"h5",72),d(3),a()(),r(4,"div",60)(5,"div",61)(6,"input",73),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.salePriceAllowAgreement,e)||(l.dataModel.salePriceAllowAgreement=e),p(e)}),a(),_(7,"label",74),a()()()}if(o&2){let t=g();n(3),M(" ",t.fieldsInfo.salePriceAllowAgreement==null?null:t.fieldsInfo.salePriceAllowAgreement.fieldTitle," "),n(3),w("ngModel",t.dataModel.salePriceAllowAgreement)}}function sg(o,m){if(o&1){let t=T();r(0,"div",23)(1,"label",75),d(2),a(),r(3,"input",76,8),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.titleSalePrice,e)||(l.dataModel.titleSalePrice=e),p(e)}),a(),r(5,"em"),d(6),a()()}if(o&2){let t=P(4),i=g();n(2),v(i.fieldsInfo.titleSalePrice==null?null:i.fieldsInfo.titleSalePrice.fieldTitle),n(),u("placeholder",R(i.fieldsInfo.titleSalePrice==null?null:i.fieldsInfo.titleSalePrice.fieldTitle)),w("ngModel",i.dataModel.titleSalePrice),n(3),M("",t.value.length," / 100")}}function dg(o,m){if(o&1){let t=T();r(0,"div",23)(1,"label",77),d(2),a(),r(3,"input",78,9),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.titleSalePriceResourceLanguage,e)||(l.dataModel.titleSalePriceResourceLanguage=e),p(e)}),a(),r(5,"em"),d(6),a()()}if(o&2){let t=P(4),i=g();n(2),v(i.fieldsInfo.titleSalePriceResourceLanguage==null?null:i.fieldsInfo.titleSalePriceResourceLanguage.fieldTitle),n(),u("placeholder",R(i.fieldsInfo.titleSalePriceResourceLanguage==null?null:i.fieldsInfo.titleSalePriceResourceLanguage.fieldTitle)),w("ngModel",i.dataModel.titleSalePriceResourceLanguage),n(3),M("",t.value.length," / 100")}}function cg(o,m){o&1&&_(0,"hr")}function pg(o,m){if(o&1){let t=T();r(0,"div",44)(1,"div",58)(2,"h5",79),d(3),a()(),r(4,"div",60)(5,"div",61)(6,"input",80),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.rentPriceAllowAgreement,e)||(l.dataModel.rentPriceAllowAgreement=e),p(e)}),a(),_(7,"label",81),a()()()}if(o&2){let t=g();n(3),M(" ",t.fieldsInfo.rentPriceAllowAgreement==null?null:t.fieldsInfo.rentPriceAllowAgreement.fieldTitle," "),n(3),w("ngModel",t.dataModel.rentPriceAllowAgreement)}}function mg(o,m){if(o&1){let t=T();r(0,"div",23)(1,"label",82),d(2),a(),r(3,"input",83,8),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.titleRentPrice,e)||(l.dataModel.titleRentPrice=e),p(e)}),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.titleRentPrice==null?null:t.fieldsInfo.titleRentPrice.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.titleRentPrice==null?null:t.fieldsInfo.titleRentPrice.fieldTitle)),w("ngModel",t.dataModel.titleRentPrice)}}function ug(o,m){if(o&1){let t=T();r(0,"div",23)(1,"label",84),d(2),a(),r(3,"input",85,10),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.titleRentPriceResourceLanguage,e)||(l.dataModel.titleRentPriceResourceLanguage=e),p(e)}),a(),r(5,"em"),d(6),a()()}if(o&2){let t=P(4),i=g();n(2),v(i.fieldsInfo.titleRentPriceResourceLanguage==null?null:i.fieldsInfo.titleRentPriceResourceLanguage.fieldTitle),n(),u("placeholder",R(i.fieldsInfo.titleRentPrice==null?null:i.fieldsInfo.titleRentPrice.fieldTitle)),w("ngModel",i.dataModel.titleRentPriceResourceLanguage),n(3),M("",t.value.length," / 100")}}function fg(o,m){if(o&1){let t=T();r(0,"div",23)(1,"label",86),d(2),a(),r(3,"input",87,11),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.rentPricePriodTitle,e)||(l.dataModel.rentPricePriodTitle=e),p(e)}),a(),r(5,"em"),d(6),a()()}if(o&2){let t=P(4),i=g();n(2),v(i.fieldsInfo.rentPricePriodTitle==null?null:i.fieldsInfo.rentPricePriodTitle.fieldTitle),n(),u("placeholder",R(i.fieldsInfo.titleRentPrice==null?null:i.fieldsInfo.titleRentPrice.fieldTitle)),w("ngModel",i.dataModel.rentPricePriodTitle),n(3),M("",t.value.length," / 100")}}function gg(o,m){if(o&1){let t=T();r(0,"div",23)(1,"label",88),d(2),a(),r(3,"input",89,12),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.rentPricePriodTitleResourceLanguage,e)||(l.dataModel.rentPricePriodTitleResourceLanguage=e),p(e)}),a(),r(5,"em"),d(6),a()()}if(o&2){let t=P(4),i=g();n(2),v(i.fieldsInfo.rentPricePriodTitleResourceLanguage==null?null:i.fieldsInfo.rentPricePriodTitleResourceLanguage.fieldTitle),n(),u("placeholder",R(i.fieldsInfo.titleRentPrice==null?null:i.fieldsInfo.titleRentPrice.fieldTitle)),w("ngModel",i.dataModel.rentPricePriodTitleResourceLanguage),n(3),M("",t.value.length," / 100")}}function _g(o,m){o&1&&_(0,"hr")}function Cg(o,m){if(o&1){let t=T();r(0,"div",44)(1,"div",58)(2,"h5",79),d(3),a()(),r(4,"div",60)(5,"div",61)(6,"input",90),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.depositPriceAllowAgreement,e)||(l.dataModel.depositPriceAllowAgreement=e),p(e)}),a(),_(7,"label",91),a()()()}if(o&2){let t=g();n(3),M(" ",t.fieldsInfo.depositPriceAllowAgreement==null?null:t.fieldsInfo.depositPriceAllowAgreement.fieldTitle," "),n(3),w("ngModel",t.dataModel.depositPriceAllowAgreement)}}function hg(o,m){if(o&1){let t=T();r(0,"div",23)(1,"label",92),d(2),a(),r(3,"input",93,13),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.titleDepositPrice,e)||(l.dataModel.titleDepositPrice=e),p(e)}),a(),r(5,"em"),d(6),a()()}if(o&2){let t=P(4),i=g();n(2),v(i.fieldsInfo.titleDepositPrice==null?null:i.fieldsInfo.titleDepositPrice.fieldTitle),n(),u("placeholder",R(i.fieldsInfo.titleDepositPrice==null?null:i.fieldsInfo.titleDepositPrice.fieldTitle)),w("ngModel",i.dataModel.titleDepositPrice),n(3),M("",t.value.length," / 100")}}function Sg(o,m){if(o&1){let t=T();r(0,"div",23)(1,"label",94),d(2),a(),r(3,"input",95,14),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.titleDepositPriceResourceLanguage,e)||(l.dataModel.titleDepositPriceResourceLanguage=e),p(e)}),a(),r(5,"em"),d(6),a()()}if(o&2){let t=P(4),i=g();n(2),v(i.fieldsInfo.titleDepositPriceResourceLanguage==null?null:i.fieldsInfo.titleDepositPriceResourceLanguage.fieldTitle),n(),u("placeholder",R(i.fieldsInfo.titleDepositPriceResourceLanguage==null?null:i.fieldsInfo.titleDepositPriceResourceLanguage.fieldTitle)),w("ngModel",i.dataModel.titleDepositPriceResourceLanguage),n(3),M("",t.value.length," / 100")}}function yg(o,m){o&1&&_(0,"hr")}function Mg(o,m){if(o&1){let t=T();r(0,"div",44)(1,"div",58)(2,"h5",79),d(3),a()(),r(4,"div",60)(5,"div",61)(6,"input",96),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.periodPriceAllowAgreement,e)||(l.dataModel.periodPriceAllowAgreement=e),p(e)}),a(),_(7,"label",97),a()()()}if(o&2){let t=g();n(3),M(" ",t.fieldsInfo.periodPriceAllowAgreement==null?null:t.fieldsInfo.periodPriceAllowAgreement.fieldTitle," "),n(3),w("ngModel",t.dataModel.periodPriceAllowAgreement)}}function Eg(o,m){if(o&1){let t=T();r(0,"div",23)(1,"label",98),d(2),a(),r(3,"input",99,15),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.titlePeriodPrice,e)||(l.dataModel.titlePeriodPrice=e),p(e)}),a(),r(5,"em"),d(6),a()()}if(o&2){let t=P(4),i=g();n(2),v(i.fieldsInfo.titlePeriodPrice==null?null:i.fieldsInfo.titlePeriodPrice.fieldTitle),n(),u("placeholder",R(i.fieldsInfo.titlePeriodPrice==null?null:i.fieldsInfo.titlePeriodPrice.fieldTitle)),w("ngModel",i.dataModel.titlePeriodPrice),n(3),M("",t.value.length," / 100")}}function bg(o,m){if(o&1){let t=T();r(0,"div",23)(1,"label",100),d(2),a(),r(3,"input",101,16),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.titlePeriodPriceResourceLanguage,e)||(l.dataModel.titlePeriodPriceResourceLanguage=e),p(e)}),a(),r(5,"em"),d(6),a()()}if(o&2){let t=P(4),i=g();n(2),v(i.fieldsInfo.titlePeriodPriceResourceLanguage==null?null:i.fieldsInfo.titlePeriodPriceResourceLanguage.fieldTitle),n(),u("placeholder",R(i.fieldsInfo.titlePeriodPriceResourceLanguage==null?null:i.fieldsInfo.titlePeriodPriceResourceLanguage.fieldTitle)),w("ngModel",i.dataModel.titlePeriodPriceResourceLanguage),n(3),M("",t.value.length," / 100")}}function vg(o,m){if(o&1&&(r(0,"button",104),_(1,"i",105),d(2),C(3,"translate"),a()),o&2){g(2);let t=P(10);u("disabled",!t.form.valid),n(2),M(" ",h(3,2,"ACTION.SAVE")," ")}}function Ig(o,m){if(o&1){let t=T();r(0,"div",57)(1,"button",102),E("click",function(){c(t);let e=g();return p(e.onFormCancel())}),_(2,"i",103),d(3),C(4,"translate"),a(),S(5,vg,4,4,"button",104),a()}if(o&2){let t=g();n(3),M(" ",h(4,2,"ACTION.CANCEL")," "),n(2),y(t.formInfo.submitButtonEnabled?5:-1)}}var ao=class ao extends Qe{constructor(t,i,e,l,f,s,x,k,ye,Me){super(l,new fi,x,Me);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estateContractTypeService=l;this.cmsToastrService=f;this.cmsStoreService=s;this.publicHelper=x;this.cdr=k;this.tokenHelper=ye;this.translate=Me;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new ct;this.dataModelResult=new Se;this.dataModel=new fi;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateContractTypeService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ao.\u0275fac=function(i){return new(i||ao)(b(at),b(ot),b(j),b(yi),b(N),b(Ce),b(W),b(G),b(he),b(O))},ao.\u0275cmp=V({type:ao,selectors:[["app-estate-contract-type-add"]],viewQuery:function(i,e){if(i&1&&$(kf,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:140,vars:116,consts:[["vform","ngForm"],["Title",""],["titleResourceLanguage",""],["orderTitle",""],["orderTitleResourceLanguage",""],["TitleSoldIt",""],["titleSoldItResourceLanguage",""],["Description",""],["TitleSalePrice",""],["titleSalePriceResourceLanguage",""],["titleRentPriceResourceLanguage",""],["rentPricePriodTitle",""],["rentPricePriodTitleResourceLanguage",""],["TitleDepositPrice",""],["titleDepositPriceResourceLanguage",""],["TitlePeriodPrice",""],["titlePeriodPriceResourceLanguage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","cmsKeyboardForce","en","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.orderTitle",1,"color-highlight"],["matInput","","type","text","name","dataModel.orderTitle","minlength","3","maxlength","100","required","","id","dataModel.orderTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.orderTitleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.orderTitleML","id","dataModel.orderTitleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.orderTitleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.orderTitleResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.orderTitleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.titleSoldIt",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSoldIt","minlength","1","maxlength","100","required","","id","dataModel.titleSoldIt",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleSoldItML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSoldItML","id","dataModel.titleSoldItML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleSoldItResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSoldItResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.titleSoldItResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"d-flex","mb-3"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleSalePriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSalePriceML","id","dataModel.titleSalePriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleRentPriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleRentPriceML","id","dataModel.titleRentPriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.rentPricePriodTitleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.rentPricePriodTitleML","id","dataModel.rentPricePriodTitleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleDepositPriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleDepositPriceML","id","dataModel.titleDepositPriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titlePeriodPriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titlePeriodPriceML","id","dataModel.titlePeriodPriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[1,"form-actions"],[1,"pt-1"],["data-trigger-switch","dataModel.hasPeriodPrice",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.allowPriceInquiryCalculate","name","dataModel.allowPriceInquiryCalculate",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.allowPriceInquiryCalculate",1,"custom-control-label"],["type","checkbox","id","dataModel.hasSalePrice","name","dataModel.hasSalePrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasSalePrice",1,"custom-control-label"],["type","checkbox","id","dataModel.hasRentPrice","name","dataModel.hasRentPrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasRentPrice",1,"custom-control-label"],["type","checkbox","id","dataModel.hasDepositPrice","name","dataModel.hasDepositPrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasDepositPrice",1,"custom-control-label"],["type","checkbox","id","dataModel.hasPeriodPrice","name","dataModel.hasPeriodPrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasPeriodPrice",1,"custom-control-label"],["data-trigger-switch","dataModel.salePriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","dataModel.salePriceAllowAgreement","name","dataModel.salePriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.salePriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titleSalePrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSalePrice","minlength","1","maxlength","100","id","dataModel.titleSalePrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleSalePriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSalePriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titleSalePriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["data-trigger-switch","dataModel.rentPriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","dataModel.rentPriceAllowAgreement","name","dataModel.rentPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rentPriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titleRentPrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleRentPrice","minlength","1","maxlength","100","id","dataModel.titleRentPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleRentPriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleRentPriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titleRentPriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.rentPricePriodTitle",1,"color-highlight"],["matInput","","type","text","name","dataModel.rentPricePriodTitle","minlength","1","maxlength","100","id","dataModel.rentPricePriodTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.rentPricePriodTitleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.rentPricePriodTitleResourceLanguage","minlength","1","maxlength","100","id","dataModel.rentPricePriodTitleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","checkbox","id","dataModel.depositPriceAllowAgreement","name","dataModel.depositPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.depositPriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titleDepositPrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleDepositPrice","minlength","1","maxlength","100","id","dataModel.titleDepositPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleDepositPriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleDepositPriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titleDepositPriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","checkbox","id","dataModel.periodPriceAllowAgreement","name","dataModel.periodPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.periodPriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titlePeriodPrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titlePeriodPrice","minlength","1","maxlength","100","id","dataModel.titlePeriodPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titlePeriodPriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titlePeriodPriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titlePeriodPriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let l=T();r(0,"div",17),_(1,"app-progress-spinner",18),r(2,"div",19)(3,"p",20),d(4),a(),r(5,"p"),d(6),C(7,"translate"),a(),_(8,"app-cms-form-result-message",21),r(9,"form",22,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),r(11,"div",23)(12,"label",24),d(13),a(),r(14,"input",25,1),A("ngModelChange",function(s){return c(l),I(e.dataModel.title,s)||(e.dataModel.title=s),p(s)}),a(),S(16,Ff,1,0,"i",26),S(17,Bf,1,0,"i",27),r(18,"em"),d(19),a(),S(20,Gf,5,3,"mat-error"),a(),r(21,"div",23)(22,"label",28),d(23),a(),r(24,"input",29),A("ngModelChange",function(s){return c(l),I(e.dataModel.titleML,s)||(e.dataModel.titleML=s),p(s)}),a()(),r(25,"div",23)(26,"label",30),d(27),a(),r(28,"input",31,2),A("ngModelChange",function(s){return c(l),I(e.dataModel.titleResourceLanguage,s)||(e.dataModel.titleResourceLanguage=s),p(s)}),a(),S(30,Of,1,0,"i",26),S(31,Nf,1,0,"i",27),r(32,"em"),d(33),a(),S(34,Wf,5,3,"mat-error"),a(),_(35,"hr"),r(36,"div",23)(37,"label",32),d(38),a(),r(39,"input",33,3),A("ngModelChange",function(s){return c(l),I(e.dataModel.orderTitle,s)||(e.dataModel.orderTitle=s),p(s)}),a(),S(41,Hf,1,0,"i",26),S(42,Uf,1,0,"i",27),r(43,"em"),d(44),a(),S(45,qf,5,3,"mat-error"),a(),r(46,"div",23)(47,"label",34),d(48),a(),r(49,"input",35),A("ngModelChange",function(s){return c(l),I(e.dataModel.orderTitleML,s)||(e.dataModel.orderTitleML=s),p(s)}),a()(),r(50,"div",23)(51,"label",36),d(52),a(),r(53,"input",37,4),A("ngModelChange",function(s){return c(l),I(e.dataModel.orderTitleResourceLanguage,s)||(e.dataModel.orderTitleResourceLanguage=s),p(s)}),a(),S(55,jf,1,0,"i",26),S(56,Zf,1,0,"i",27),r(57,"em"),d(58),a(),S(59,zf,5,3,"mat-error"),a(),r(60,"div",23)(61,"label",38),d(62),a(),r(63,"input",39,5),A("ngModelChange",function(s){return c(l),I(e.dataModel.titleSoldIt,s)||(e.dataModel.titleSoldIt=s),p(s)}),a(),S(65,Qf,1,0,"i",26),S(66,Kf,1,0,"i",27),r(67,"em"),d(68),a(),S(69,Yf,5,3,"mat-error"),a(),r(70,"div",23)(71,"label",40),d(72),a(),r(73,"input",41,5),A("ngModelChange",function(s){return c(l),I(e.dataModel.titleSoldItML,s)||(e.dataModel.titleSoldItML=s),p(s)}),a()(),r(75,"div",23)(76,"label",42),d(77),a(),r(78,"input",43,6),A("ngModelChange",function(s){return c(l),I(e.dataModel.titleSoldItResourceLanguage,s)||(e.dataModel.titleSoldItResourceLanguage=s),p(s)}),a(),S(80,Jf,1,0,"i",26),S(81,Xf,1,0,"i",27),r(82,"em"),d(83),a(),S(84,$f,5,3,"mat-error"),a(),S(85,eg,8,2,"div",44),S(86,tg,8,2,"div",44),S(87,ig,8,2,"div",44),S(88,ng,8,2,"div",44),S(89,og,8,2,"div",44),r(90,"div",23)(91,"label",45),d(92),a(),r(93,"textarea",46,7),A("ngModelChange",function(s){return c(l),I(e.dataModel.description,s)||(e.dataModel.description=s),p(s)}),a(),r(95,"em"),d(96),a(),S(97,ag,5,3,"mat-error"),a(),S(98,rg,1,0,"hr"),S(99,lg,8,2,"div",44),S(100,sg,7,5,"div",23),r(101,"div",23)(102,"label",47),d(103),a(),r(104,"input",48,8),A("ngModelChange",function(s){return c(l),I(e.dataModel.titleSalePriceML,s)||(e.dataModel.titleSalePriceML=s),p(s)}),a(),r(106,"em"),d(107),a()(),S(108,dg,7,5,"div",23),S(109,cg,1,0,"hr"),S(110,pg,8,2,"div",44),S(111,mg,5,4,"div",23),r(112,"div",23)(113,"label",49),d(114),a(),r(115,"input",50),A("ngModelChange",function(s){return c(l),I(e.dataModel.titleRentPriceML,s)||(e.dataModel.titleRentPriceML=s),p(s)}),a()(),S(116,ug,7,5,"div",23),S(117,fg,7,5,"div",23),r(118,"div",23)(119,"label",51),d(120),a(),r(121,"input",52),A("ngModelChange",function(s){return c(l),I(e.dataModel.rentPricePriodTitleML,s)||(e.dataModel.rentPricePriodTitleML=s),p(s)}),a()(),S(122,gg,7,5,"div",23),S(123,_g,1,0,"hr"),S(124,Cg,8,2,"div",44),S(125,hg,7,5,"div",23),r(126,"div",23)(127,"label",53),d(128),a(),r(129,"input",54),A("ngModelChange",function(s){return c(l),I(e.dataModel.titleDepositPriceML,s)||(e.dataModel.titleDepositPriceML=s),p(s)}),a()(),S(130,Sg,7,5,"div",23),S(131,yg,1,0,"hr"),S(132,Mg,8,2,"div",44),S(133,Eg,7,5,"div",23),r(134,"div",23)(135,"label",55),d(136),a(),r(137,"input",56),A("ngModelChange",function(s){return c(l),I(e.dataModel.titlePeriodPriceML,s)||(e.dataModel.titlePeriodPriceML=s),p(s)}),a()(),S(138,bg,7,5,"div",23),S(139,Ig,6,4,"div",57),a()()()}if(i&2){let l=P(15),f=P(29),s=P(40),x=P(54),k=P(64),ye=P(79),Me=P(94),bt=P(105);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),M(" ",e.formInfo.formTitle," "),n(2),M(" ",h(7,112,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),u("formInfo",e.formInfo),n(),u("ngStyle",$e(114,Vf,e.tokenInfo.access.direction)),n(4),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),w("ngModel",e.dataModel.title),n(2),y(l.value?-1:16),n(),y(l.value?17:-1),n(2),M("",l.value.length," / 100"),n(),y(l.errors!=null&&l.errors.required?20:-1),n(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),n(),w("ngModel",e.dataModel.titleML),u("disabled",!0),n(3),v(e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle)),w("ngModel",e.dataModel.titleResourceLanguage),u("disabled",!0),n(2),y(f.value?-1:30),n(),y(f.value?31:-1),n(2),M("",f.value.length," / 100"),n(),y(f.errors!=null&&f.errors.required?34:-1),n(4),v(e.fieldsInfo.orderTitle==null?null:e.fieldsInfo.orderTitle.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.orderTitle==null?null:e.fieldsInfo.orderTitle.fieldTitle)),w("ngModel",e.dataModel.orderTitle),u("disabled",!0),n(2),y(s.value?-1:41),n(),y(s.value?42:-1),n(2),M("",s.value.length," / 100"),n(),y(s.errors!=null&&s.errors.required?45:-1),n(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),n(),w("ngModel",e.dataModel.orderTitleML),u("disabled",!0)("disabled",!0),n(3),v(e.fieldsInfo.orderTitleResourceLanguage==null?null:e.fieldsInfo.orderTitleResourceLanguage.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.orderTitleResourceLanguage==null?null:e.fieldsInfo.orderTitleResourceLanguage.fieldTitle)),w("ngModel",e.dataModel.orderTitleResourceLanguage),u("disabled",!0),n(2),y(x.value?-1:55),n(),y(x.value?56:-1),n(2),M("",x.value.length," / 100"),n(),y(x.errors!=null&&x.errors.required?59:-1),n(3),v(e.fieldsInfo.titleSoldIt==null?null:e.fieldsInfo.titleSoldIt.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.titleSoldIt==null?null:e.fieldsInfo.titleSoldIt.fieldTitle)),w("ngModel",e.dataModel.titleSoldIt),n(2),y(k.value?-1:65),n(),y(k.value?66:-1),n(2),M("",k.value.length," / 100"),n(),y(k.errors!=null&&k.errors.required?69:-1),n(3),v(e.fieldsInfo.titleSoldIt==null?null:e.fieldsInfo.titleSoldIt.fieldTitle),n(),w("ngModel",e.dataModel.titleSoldItML),u("disabled",!0),n(4),v(e.fieldsInfo.titleSoldItResourceLanguage==null?null:e.fieldsInfo.titleSoldItResourceLanguage.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.titleSoldItResourceLanguage==null?null:e.fieldsInfo.titleSoldItResourceLanguage.fieldTitle)),w("ngModel",e.dataModel.titleSoldItResourceLanguage),n(2),y(k.value?-1:80),n(),y(k.value?81:-1),n(2),M("",ye.value.length," / 100"),n(),y(ye.errors!=null&&ye.errors.required?84:-1),n(),y(e.fieldsInfo.allowPriceInquiryCalculate!=null&&e.fieldsInfo.allowPriceInquiryCalculate.accessWatchField?85:-1),n(),y(e.fieldsInfo.hasSalePrice!=null&&e.fieldsInfo.hasSalePrice.accessWatchField?86:-1),n(),y(e.fieldsInfo.hasRentPrice!=null&&e.fieldsInfo.hasRentPrice.accessWatchField?87:-1),n(),y(e.fieldsInfo.hasDepositPrice!=null&&e.fieldsInfo.hasDepositPrice.accessWatchField?88:-1),n(),y(e.fieldsInfo.hasPeriodPrice!=null&&e.fieldsInfo.hasPeriodPrice.accessWatchField?89:-1),n(3),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),w("ngModel",e.dataModel.description),n(3),M("",Me.value.length," / 500"),n(),y(Me.errors!=null&&Me.errors.required?97:-1),n(),y(e.dataModel.hasSalePrice?98:-1),n(),y(e.fieldsInfo.salePriceAllowAgreement!=null&&e.fieldsInfo.salePriceAllowAgreement.accessWatchField?99:-1),n(),y(e.dataModel.hasSalePrice?100:-1),n(3),v(e.fieldsInfo.titleSalePrice==null?null:e.fieldsInfo.titleSalePrice.fieldTitle),n(),w("ngModel",e.dataModel.titleSalePriceML),u("disabled",!0),n(3),M("",bt.value.length," / 100"),n(),y(e.dataModel.hasSalePrice?108:-1),n(),y(e.dataModel.hasRentPrice?109:-1),n(),y(e.fieldsInfo.rentPriceAllowAgreement!=null&&e.fieldsInfo.rentPriceAllowAgreement.accessWatchField?110:-1),n(),y(e.dataModel.hasRentPrice?111:-1),n(3),v(e.fieldsInfo.titleRentPrice==null?null:e.fieldsInfo.titleRentPrice.fieldTitle),n(),w("ngModel",e.dataModel.titleRentPriceML),u("disabled",!0),n(),y(e.dataModel.hasRentPrice?116:-1),n(),y(e.dataModel.hasRentPrice?117:-1),n(3),v(e.fieldsInfo.rentPricePriodTitle==null?null:e.fieldsInfo.rentPricePriodTitle.fieldTitle),n(),w("ngModel",e.dataModel.rentPricePriodTitleML),u("disabled",!0),n(),y(e.dataModel.hasRentPrice?122:-1),n(),y(e.dataModel.hasDepositPrice?123:-1),n(),y(e.fieldsInfo.depositPriceAllowAgreement!=null&&e.fieldsInfo.depositPriceAllowAgreement.accessWatchField?124:-1),n(),y(e.dataModel.hasDepositPrice?125:-1),n(3),v(e.fieldsInfo.titleDepositPriceML==null?null:e.fieldsInfo.titleDepositPriceML.fieldTitle),n(),w("ngModel",e.dataModel.titleDepositPriceML),u("disabled",!0),n(),y(e.dataModel.hasDepositPrice?130:-1),n(),y(e.dataModel.hasPeriodPrice?131:-1),n(),y(e.fieldsInfo.periodPriceAllowAgreement!=null&&e.fieldsInfo.periodPriceAllowAgreement.accessWatchField?132:-1),n(),y(e.dataModel.hasPeriodPrice?133:-1),n(3),v(e.fieldsInfo.titlePeriodPriceML==null?null:e.fieldsInfo.titlePeriodPriceML.fieldTitle),n(),w("ngModel",e.dataModel.titlePeriodPriceML),u("disabled",!0),n(),y(e.dataModel.hasPeriodPrice?138:-1),n(),y(e.publicHelper.processService.process.inRunAll?-1:139)}},dependencies:[et,ae,Y,Lt,J,ie,X,re,le,oe,ne,se,H,z,de,Ai,F],encapsulation:2});var qa=ao;var Tg=["vform"],wg=o=>({direction:o});function Ag(o,m){o&1&&_(0,"i",26)}function Rg(o,m){o&1&&_(0,"i",27)}function xg(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Pg(o,m){o&1&&_(0,"i",26)}function Dg(o,m){o&1&&_(0,"i",27)}function Lg(o,m){o&1&&(r(0,"mat-error"),d(1," titleResourceLanguage is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function kg(o,m){o&1&&_(0,"i",26)}function Vg(o,m){o&1&&_(0,"i",27)}function Fg(o,m){o&1&&(r(0,"mat-error"),d(1," orderTitle is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Bg(o,m){o&1&&_(0,"i",26)}function Gg(o,m){o&1&&_(0,"i",27)}function Og(o,m){o&1&&(r(0,"mat-error"),d(1," orderTitleResourceLanguage is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Ng(o,m){o&1&&_(0,"i",26)}function Wg(o,m){o&1&&_(0,"i",27)}function Hg(o,m){o&1&&(r(0,"mat-error"),d(1," TitleSoldIt is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Ug(o,m){o&1&&_(0,"i",26)}function qg(o,m){o&1&&_(0,"i",27)}function jg(o,m){o&1&&(r(0,"mat-error"),d(1," titleSoldItResourceLanguage is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Zg(o,m){if(o&1){let t=T();r(0,"div",44)(1,"div",58)(2,"h5",59),d(3),a()(),r(4,"div",60)(5,"div",61)(6,"input",62),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.allowPriceInquiryCalculate,e)||(l.dataModel.allowPriceInquiryCalculate=e),p(e)}),a(),_(7,"label",63),a()()()}if(o&2){let t=g();n(3),M(" ",t.fieldsInfo.allowPriceInquiryCalculate==null?null:t.fieldsInfo.allowPriceInquiryCalculate.fieldTitle," "),n(3),w("ngModel",t.dataModel.allowPriceInquiryCalculate)}}function zg(o,m){if(o&1){let t=T();r(0,"div",44)(1,"div",58)(2,"h5",59),d(3),a()(),r(4,"div",60)(5,"div",61)(6,"input",64),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.hasSalePrice,e)||(l.dataModel.hasSalePrice=e),p(e)}),a(),_(7,"label",65),a()()()}if(o&2){let t=g();n(3),M(" ",t.fieldsInfo.hasSalePrice==null?null:t.fieldsInfo.hasSalePrice.fieldTitle," "),n(3),w("ngModel",t.dataModel.hasSalePrice)}}function Qg(o,m){if(o&1){let t=T();r(0,"div",44)(1,"div",58)(2,"h5",59),d(3),a()(),r(4,"div",60)(5,"div",61)(6,"input",66),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.hasRentPrice,e)||(l.dataModel.hasRentPrice=e),p(e)}),a(),_(7,"label",67),a()()()}if(o&2){let t=g();n(3),M(" ",t.fieldsInfo.hasRentPrice==null?null:t.fieldsInfo.hasRentPrice.fieldTitle," "),n(3),w("ngModel",t.dataModel.hasRentPrice)}}function Kg(o,m){if(o&1){let t=T();r(0,"div",44)(1,"div",58)(2,"h5",59),d(3),a()(),r(4,"div",60)(5,"div",61)(6,"input",68),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.hasDepositPrice,e)||(l.dataModel.hasDepositPrice=e),p(e)}),a(),_(7,"label",69),a()()()}if(o&2){let t=g();n(3),M(" ",t.fieldsInfo.hasDepositPrice==null?null:t.fieldsInfo.hasDepositPrice.fieldTitle," "),n(3),w("ngModel",t.dataModel.hasDepositPrice)}}function Yg(o,m){if(o&1){let t=T();r(0,"div",44)(1,"div",58)(2,"h5",59),d(3),a()(),r(4,"div",60)(5,"div",61)(6,"input",70),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.hasPeriodPrice,e)||(l.dataModel.hasPeriodPrice=e),p(e)}),a(),_(7,"label",71),a()()()}if(o&2){let t=g();n(3),M(" ",t.fieldsInfo.hasPeriodPrice==null?null:t.fieldsInfo.hasPeriodPrice.fieldTitle," "),n(3),w("ngModel",t.dataModel.hasPeriodPrice)}}function Jg(o,m){o&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Xg(o,m){o&1&&_(0,"hr")}function $g(o,m){if(o&1){let t=T();r(0,"div",44)(1,"div",58)(2,"h5",72),d(3),a()(),r(4,"div",60)(5,"div",61)(6,"input",73),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.salePriceAllowAgreement,e)||(l.dataModel.salePriceAllowAgreement=e),p(e)}),a(),_(7,"label",74),a()()()}if(o&2){let t=g();n(3),M(" ",t.fieldsInfo.salePriceAllowAgreement==null?null:t.fieldsInfo.salePriceAllowAgreement.fieldTitle," "),n(3),w("ngModel",t.dataModel.salePriceAllowAgreement)}}function e_(o,m){if(o&1){let t=T();r(0,"div",23)(1,"label",75),d(2),a(),r(3,"input",76,8),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.titleSalePrice,e)||(l.dataModel.titleSalePrice=e),p(e)}),a(),r(5,"em"),d(6),a()()}if(o&2){let t=P(4),i=g();n(2),v(i.fieldsInfo.titleSalePrice==null?null:i.fieldsInfo.titleSalePrice.fieldTitle),n(),u("placeholder",R(i.fieldsInfo.titleSalePrice==null?null:i.fieldsInfo.titleSalePrice.fieldTitle)),w("ngModel",i.dataModel.titleSalePrice),n(3),M("",t.value.length," / 100")}}function t_(o,m){if(o&1){let t=T();r(0,"div",23)(1,"label",77),d(2),a(),r(3,"input",78,9),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.titleSalePriceResourceLanguage,e)||(l.dataModel.titleSalePriceResourceLanguage=e),p(e)}),a(),r(5,"em"),d(6),a()()}if(o&2){let t=P(4),i=g();n(2),v(i.fieldsInfo.titleSalePriceResourceLanguage==null?null:i.fieldsInfo.titleSalePriceResourceLanguage.fieldTitle),n(),u("placeholder",R(i.fieldsInfo.titleSalePriceResourceLanguage==null?null:i.fieldsInfo.titleSalePriceResourceLanguage.fieldTitle)),w("ngModel",i.dataModel.titleSalePriceResourceLanguage),n(3),M("",t.value.length," / 100")}}function i_(o,m){o&1&&_(0,"hr")}function n_(o,m){if(o&1){let t=T();r(0,"div",44)(1,"div",58)(2,"h5",79),d(3),a()(),r(4,"div",60)(5,"div",61)(6,"input",80),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.rentPriceAllowAgreement,e)||(l.dataModel.rentPriceAllowAgreement=e),p(e)}),a(),_(7,"label",81),a()()()}if(o&2){let t=g();n(3),M(" ",t.fieldsInfo.rentPriceAllowAgreement==null?null:t.fieldsInfo.rentPriceAllowAgreement.fieldTitle," "),n(3),w("ngModel",t.dataModel.rentPriceAllowAgreement)}}function o_(o,m){if(o&1){let t=T();r(0,"div",23)(1,"label",82),d(2),a(),r(3,"input",83,8),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.titleRentPrice,e)||(l.dataModel.titleRentPrice=e),p(e)}),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.titleRentPrice==null?null:t.fieldsInfo.titleRentPrice.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.titleRentPrice==null?null:t.fieldsInfo.titleRentPrice.fieldTitle)),w("ngModel",t.dataModel.titleRentPrice)}}function a_(o,m){if(o&1){let t=T();r(0,"div",23)(1,"label",84),d(2),a(),r(3,"input",85,10),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.titleRentPriceResourceLanguage,e)||(l.dataModel.titleRentPriceResourceLanguage=e),p(e)}),a(),r(5,"em"),d(6),a()()}if(o&2){let t=P(4),i=g();n(2),v(i.fieldsInfo.titleRentPriceResourceLanguage==null?null:i.fieldsInfo.titleRentPriceResourceLanguage.fieldTitle),n(),u("placeholder",R(i.fieldsInfo.titleRentPrice==null?null:i.fieldsInfo.titleRentPrice.fieldTitle)),w("ngModel",i.dataModel.titleRentPriceResourceLanguage),n(3),M("",t.value.length," / 100")}}function r_(o,m){if(o&1){let t=T();r(0,"div",23)(1,"label",86),d(2),a(),r(3,"input",87,11),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.rentPricePriodTitle,e)||(l.dataModel.rentPricePriodTitle=e),p(e)}),a(),r(5,"em"),d(6),a()()}if(o&2){let t=P(4),i=g();n(2),v(i.fieldsInfo.rentPricePriodTitle==null?null:i.fieldsInfo.rentPricePriodTitle.fieldTitle),n(),u("placeholder",R(i.fieldsInfo.titleRentPrice==null?null:i.fieldsInfo.titleRentPrice.fieldTitle)),w("ngModel",i.dataModel.rentPricePriodTitle),n(3),M("",t.value.length," / 100")}}function l_(o,m){if(o&1){let t=T();r(0,"div",23)(1,"label",88),d(2),a(),r(3,"input",89,12),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.rentPricePriodTitleResourceLanguage,e)||(l.dataModel.rentPricePriodTitleResourceLanguage=e),p(e)}),a(),r(5,"em"),d(6),a()()}if(o&2){let t=P(4),i=g();n(2),v(i.fieldsInfo.rentPricePriodTitleResourceLanguage==null?null:i.fieldsInfo.rentPricePriodTitleResourceLanguage.fieldTitle),n(),u("placeholder",R(i.fieldsInfo.titleRentPrice==null?null:i.fieldsInfo.titleRentPrice.fieldTitle)),w("ngModel",i.dataModel.rentPricePriodTitleResourceLanguage),n(3),M("",t.value.length," / 100")}}function s_(o,m){o&1&&_(0,"hr")}function d_(o,m){if(o&1){let t=T();r(0,"div",44)(1,"div",58)(2,"h5",79),d(3),a()(),r(4,"div",60)(5,"div",61)(6,"input",90),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.depositPriceAllowAgreement,e)||(l.dataModel.depositPriceAllowAgreement=e),p(e)}),a(),_(7,"label",91),a()()()}if(o&2){let t=g();n(3),M(" ",t.fieldsInfo.depositPriceAllowAgreement==null?null:t.fieldsInfo.depositPriceAllowAgreement.fieldTitle," "),n(3),w("ngModel",t.dataModel.depositPriceAllowAgreement)}}function c_(o,m){if(o&1){let t=T();r(0,"div",23)(1,"label",92),d(2),a(),r(3,"input",93,13),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.titleDepositPrice,e)||(l.dataModel.titleDepositPrice=e),p(e)}),a(),r(5,"em"),d(6),a()()}if(o&2){let t=P(4),i=g();n(2),v(i.fieldsInfo.titleDepositPrice==null?null:i.fieldsInfo.titleDepositPrice.fieldTitle),n(),u("placeholder",R(i.fieldsInfo.titleDepositPrice==null?null:i.fieldsInfo.titleDepositPrice.fieldTitle)),w("ngModel",i.dataModel.titleDepositPrice),n(3),M("",t.value.length," / 100")}}function p_(o,m){if(o&1){let t=T();r(0,"div",23)(1,"label",94),d(2),a(),r(3,"input",95,14),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.titleDepositPriceResourceLanguage,e)||(l.dataModel.titleDepositPriceResourceLanguage=e),p(e)}),a(),r(5,"em"),d(6),a()()}if(o&2){let t=P(4),i=g();n(2),v(i.fieldsInfo.titleDepositPriceResourceLanguage==null?null:i.fieldsInfo.titleDepositPriceResourceLanguage.fieldTitle),n(),u("placeholder",R(i.fieldsInfo.titleDepositPriceResourceLanguage==null?null:i.fieldsInfo.titleDepositPriceResourceLanguage.fieldTitle)),w("ngModel",i.dataModel.titleDepositPriceResourceLanguage),n(3),M("",t.value.length," / 100")}}function m_(o,m){o&1&&_(0,"hr")}function u_(o,m){if(o&1){let t=T();r(0,"div",44)(1,"div",58)(2,"h5",79),d(3),a()(),r(4,"div",60)(5,"div",61)(6,"input",96),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.periodPriceAllowAgreement,e)||(l.dataModel.periodPriceAllowAgreement=e),p(e)}),a(),_(7,"label",97),a()()()}if(o&2){let t=g();n(3),M(" ",t.fieldsInfo.periodPriceAllowAgreement==null?null:t.fieldsInfo.periodPriceAllowAgreement.fieldTitle," "),n(3),w("ngModel",t.dataModel.periodPriceAllowAgreement)}}function f_(o,m){if(o&1){let t=T();r(0,"div",23)(1,"label",98),d(2),a(),r(3,"input",99,15),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.titlePeriodPrice,e)||(l.dataModel.titlePeriodPrice=e),p(e)}),a(),r(5,"em"),d(6),a()()}if(o&2){let t=P(4),i=g();n(2),v(i.fieldsInfo.titlePeriodPrice==null?null:i.fieldsInfo.titlePeriodPrice.fieldTitle),n(),u("placeholder",R(i.fieldsInfo.titlePeriodPrice==null?null:i.fieldsInfo.titlePeriodPrice.fieldTitle)),w("ngModel",i.dataModel.titlePeriodPrice),n(3),M("",t.value.length," / 100")}}function g_(o,m){if(o&1){let t=T();r(0,"div",23)(1,"label",100),d(2),a(),r(3,"input",101,16),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.titlePeriodPriceResourceLanguage,e)||(l.dataModel.titlePeriodPriceResourceLanguage=e),p(e)}),a(),r(5,"em"),d(6),a()()}if(o&2){let t=P(4),i=g();n(2),v(i.fieldsInfo.titlePeriodPriceResourceLanguage==null?null:i.fieldsInfo.titlePeriodPriceResourceLanguage.fieldTitle),n(),u("placeholder",R(i.fieldsInfo.titlePeriodPriceResourceLanguage==null?null:i.fieldsInfo.titlePeriodPriceResourceLanguage.fieldTitle)),w("ngModel",i.dataModel.titlePeriodPriceResourceLanguage),n(3),M("",t.value.length," / 100")}}function __(o,m){if(o&1){let t=T();r(0,"div",57)(1,"button",102),E("click",function(){c(t);let e=g();return p(e.onFormCancel())}),_(2,"i",103),d(3),C(4,"translate"),a(),r(5,"button",104),_(6,"i",105),d(7),C(8,"translate"),a()()}if(o&2){g();let t=P(10);n(3),M(" ",h(4,3,"ACTION.CANCEL")," "),n(2),u("disabled",!t.form.valid),n(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var ro=class ro extends no{constructor(t,i,e,l,f,s,x,k,ye,Me){super(e,l,f,s,x,Me);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estateContractTypeService=l;this.publicHelper=s;this.tokenHelper=k;this.cmsStoreService=ye;this.translate=Me;t&&(this.requestId=t.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.validateRequestId(()=>this.dialogRef.close({dialogChangedDate:!1}))&&this.loadItem()}DataGetOneContent(){this.loadItem()}DataEditContent(){this.saveItem(()=>{this.dialogRef.close({dialogChangedDate:!0})})}onFormSubmit(){this.onFormSubmitInternal(()=>{this.dialogRef.close({dialogChangedDate:!0})})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ro.\u0275fac=function(i){return new(i||ro)(b(at),b(ot),b(j),b(yi),b(N),b(W),b(G),b(he),b(Ce),b(O))},ro.\u0275cmp=V({type:ro,selectors:[["app-estate-contract-type-edit"]],viewQuery:function(i,e){if(i&1&&$(Tg,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:137,vars:115,consts:[["vform","ngForm"],["Title",""],["titleResourceLanguage",""],["orderTitle",""],["orderTitleResourceLanguage",""],["TitleSoldIt",""],["titleSoldItResourceLanguage",""],["Description",""],["TitleSalePrice",""],["titleSalePriceResourceLanguage",""],["titleRentPriceResourceLanguage",""],["rentPricePriodTitle",""],["rentPricePriodTitleResourceLanguage",""],["TitleDepositPrice",""],["titleDepositPriceResourceLanguage",""],["TitlePeriodPrice",""],["titlePeriodPriceResourceLanguage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","cmsKeyboardForce","en","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.orderTitle",1,"color-highlight"],["matInput","","type","text","name","dataModel.orderTitle","minlength","3","maxlength","100","required","","id","dataModel.orderTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.orderTitleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.orderTitleML","id","dataModel.orderTitleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.orderTitleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.orderTitleResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.orderTitleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.titleSoldIt",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSoldIt","minlength","3","maxlength","100","required","","id","dataModel.titleSoldIt",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleSoldItML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSoldItML","id","dataModel.titleSoldItML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleSoldItResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSoldItResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.titleSoldItResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"d-flex","mb-3"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleSalePriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSalePriceML","id","dataModel.titleSalePriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleRentPriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleRentPriceML","id","dataModel.titleRentPriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.rentPricePriodTitleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.rentPricePriodTitleML","id","dataModel.rentPricePriodTitleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleDepositPriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleDepositPriceML","id","dataModel.titleDepositPriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titlePeriodPriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titlePeriodPriceML","id","dataModel.titlePeriodPriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[1,"form-actions"],[1,"pt-1"],["data-trigger-switch","dataModel.hasPeriodPrice",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.allowPriceInquiryCalculate","name","dataModel.allowPriceInquiryCalculate",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.allowPriceInquiryCalculate",1,"custom-control-label"],["type","checkbox","id","dataModel.hasSalePrice","name","dataModel.hasSalePrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasSalePrice",1,"custom-control-label"],["type","checkbox","id","dataModel.hasRentPrice","name","dataModel.hasRentPrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasRentPrice",1,"custom-control-label"],["type","checkbox","id","dataModel.hasDepositPrice","name","dataModel.hasDepositPrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasDepositPrice",1,"custom-control-label"],["type","checkbox","id","dataModel.hasPeriodPrice","name","dataModel.hasPeriodPrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasPeriodPrice",1,"custom-control-label"],["data-trigger-switch","dataModel.salePriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","dataModel.salePriceAllowAgreement","name","dataModel.salePriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.salePriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titleSalePrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSalePrice","minlength","1","maxlength","100","id","dataModel.titleSalePrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleSalePriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSalePriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titleSalePriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["data-trigger-switch","dataModel.rentPriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","dataModel.rentPriceAllowAgreement","name","dataModel.rentPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rentPriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titleRentPrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleRentPrice","minlength","1","maxlength","100","id","dataModel.titleRentPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleRentPriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleRentPriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titleRentPriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.rentPricePriodTitle",1,"color-highlight"],["matInput","","type","text","name","dataModel.rentPricePriodTitle","minlength","1","maxlength","100","id","dataModel.rentPricePriodTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.rentPricePriodTitleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.rentPricePriodTitleResourceLanguage","minlength","1","maxlength","100","id","dataModel.rentPricePriodTitleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","checkbox","id","dataModel.depositPriceAllowAgreement","name","dataModel.depositPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.depositPriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titleDepositPrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.   titleDepositPrice","minlength","1","maxlength","100","id","dataModel.titleDepositPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleDepositPriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleDepositPriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titleDepositPriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","checkbox","id","dataModel.periodPriceAllowAgreement","name","dataModel.periodPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.periodPriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titlePeriodPrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titlePeriodPrice","minlength","1","maxlength","100","id","dataModel.titlePeriodPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titlePeriodPriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titlePeriodPriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titlePeriodPriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let l=T();r(0,"div",17),_(1,"app-progress-spinner",18),r(2,"div",19)(3,"p",20),d(4),a(),r(5,"p"),d(6),C(7,"translate"),a(),_(8,"app-cms-form-result-message",21),r(9,"form",22,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),r(11,"div",23)(12,"label",24),d(13),a(),r(14,"input",25,1),A("ngModelChange",function(s){return c(l),I(e.dataModel.title,s)||(e.dataModel.title=s),p(s)}),a(),S(16,Ag,1,0,"i",26),S(17,Rg,1,0,"i",27),r(18,"em"),d(19),a(),S(20,xg,5,3,"mat-error"),a(),r(21,"div",23)(22,"label",28),d(23),a(),r(24,"input",29),A("ngModelChange",function(s){return c(l),I(e.dataModel.titleML,s)||(e.dataModel.titleML=s),p(s)}),a()(),r(25,"div",23)(26,"label",30),d(27),a(),r(28,"input",31,2),A("ngModelChange",function(s){return c(l),I(e.dataModel.titleResourceLanguage,s)||(e.dataModel.titleResourceLanguage=s),p(s)}),a(),S(30,Pg,1,0,"i",26),S(31,Dg,1,0,"i",27),r(32,"em"),d(33),a(),S(34,Lg,5,3,"mat-error"),a(),_(35,"hr"),r(36,"div",23)(37,"label",32),d(38),a(),r(39,"input",33,3),A("ngModelChange",function(s){return c(l),I(e.dataModel.orderTitle,s)||(e.dataModel.orderTitle=s),p(s)}),a(),S(41,kg,1,0,"i",26),S(42,Vg,1,0,"i",27),r(43,"em"),d(44),a(),S(45,Fg,5,3,"mat-error"),a(),r(46,"div",23)(47,"label",34),d(48),a(),r(49,"input",35),A("ngModelChange",function(s){return c(l),I(e.dataModel.orderTitleML,s)||(e.dataModel.orderTitleML=s),p(s)}),a()(),r(50,"div",23)(51,"label",36),d(52),a(),r(53,"input",37,4),A("ngModelChange",function(s){return c(l),I(e.dataModel.orderTitleResourceLanguage,s)||(e.dataModel.orderTitleResourceLanguage=s),p(s)}),a(),S(55,Bg,1,0,"i",26),S(56,Gg,1,0,"i",27),r(57,"em"),d(58),a(),S(59,Og,5,3,"mat-error"),a(),r(60,"div",23)(61,"label",38),d(62),a(),r(63,"input",39,5),A("ngModelChange",function(s){return c(l),I(e.dataModel.titleSoldIt,s)||(e.dataModel.titleSoldIt=s),p(s)}),a(),S(65,Ng,1,0,"i",26),S(66,Wg,1,0,"i",27),r(67,"em"),d(68),a(),S(69,Hg,5,3,"mat-error"),a(),r(70,"div",23)(71,"label",40),d(72),a(),r(73,"input",41,5),A("ngModelChange",function(s){return c(l),I(e.dataModel.titleSoldItML,s)||(e.dataModel.titleSoldItML=s),p(s)}),a()(),r(75,"div",23)(76,"label",42),d(77),a(),r(78,"input",43,6),A("ngModelChange",function(s){return c(l),I(e.dataModel.titleSoldItResourceLanguage,s)||(e.dataModel.titleSoldItResourceLanguage=s),p(s)}),a(),S(80,Ug,1,0,"i",26),S(81,qg,1,0,"i",27),r(82,"em"),d(83),a(),S(84,jg,5,3,"mat-error"),a(),S(85,Zg,8,2,"div",44),S(86,zg,8,2,"div",44),S(87,Qg,8,2,"div",44),S(88,Kg,8,2,"div",44),S(89,Yg,8,2,"div",44),r(90,"div",23)(91,"label",45),d(92),a(),r(93,"textarea",46,7),A("ngModelChange",function(s){return c(l),I(e.dataModel.description,s)||(e.dataModel.description=s),p(s)}),a(),r(95,"em"),d(96),a(),S(97,Jg,5,3,"mat-error"),a(),S(98,Xg,1,0,"hr"),S(99,$g,8,2,"div",44),S(100,e_,7,5,"div",23),r(101,"div",23)(102,"label",47),d(103),a(),r(104,"input",48),A("ngModelChange",function(s){return c(l),I(e.dataModel.titleSalePriceML,s)||(e.dataModel.titleSalePriceML=s),p(s)}),a()(),S(105,t_,7,5,"div",23),S(106,i_,1,0,"hr"),S(107,n_,8,2,"div",44),S(108,o_,5,4,"div",23),r(109,"div",23)(110,"label",49),d(111),a(),r(112,"input",50),A("ngModelChange",function(s){return c(l),I(e.dataModel.titleRentPriceML,s)||(e.dataModel.titleRentPriceML=s),p(s)}),a()(),S(113,a_,7,5,"div",23),S(114,r_,7,5,"div",23),r(115,"div",23)(116,"label",51),d(117),a(),r(118,"input",52),A("ngModelChange",function(s){return c(l),I(e.dataModel.rentPricePriodTitleML,s)||(e.dataModel.rentPricePriodTitleML=s),p(s)}),a()(),S(119,l_,7,5,"div",23),S(120,s_,1,0,"hr"),S(121,d_,8,2,"div",44),S(122,c_,7,5,"div",23),r(123,"div",23)(124,"label",53),d(125),a(),r(126,"input",54),A("ngModelChange",function(s){return c(l),I(e.dataModel.titleDepositPriceML,s)||(e.dataModel.titleDepositPriceML=s),p(s)}),a()(),S(127,p_,7,5,"div",23),S(128,m_,1,0,"hr"),S(129,u_,8,2,"div",44),S(130,f_,7,5,"div",23),r(131,"div",23)(132,"label",55),d(133),a(),r(134,"input",56),A("ngModelChange",function(s){return c(l),I(e.dataModel.titlePeriodPriceML,s)||(e.dataModel.titlePeriodPriceML=s),p(s)}),a()(),S(135,g_,7,5,"div",23),S(136,__,9,7,"div",57),a()()()}if(i&2){let l=P(15),f=P(29),s=P(40),x=P(54),k=P(64),ye=P(79),Me=P(94);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),M(" ",e.formInfo.formTitle," "),n(2),M(" ",h(7,111,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),u("formInfo",e.formInfo),n(),u("ngStyle",$e(113,wg,e.tokenInfo.access.direction)),n(4),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),w("ngModel",e.dataModel.title),n(2),y(l.value?-1:16),n(),y(l.value?17:-1),n(2),M("",l.value.length," / 100"),n(),y(l.errors!=null&&l.errors.required?20:-1),n(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),n(),w("ngModel",e.dataModel.titleML),u("disabled",!0),n(3),v(e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle)),w("ngModel",e.dataModel.titleResourceLanguage),u("disabled",!0),n(2),y(f.value?-1:30),n(),y(f.value?31:-1),n(2),M("",f.value.length," / 100"),n(),y(f.errors!=null&&f.errors.required?34:-1),n(4),v(e.fieldsInfo.orderTitle==null?null:e.fieldsInfo.orderTitle.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.orderTitle==null?null:e.fieldsInfo.orderTitle.fieldTitle)),w("ngModel",e.dataModel.orderTitle),u("disabled",!0),n(2),y(s.value?-1:41),n(),y(s.value?42:-1),n(2),M("",s.value.length," / 100"),n(),y(s.errors!=null&&s.errors.required?45:-1),n(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),n(),w("ngModel",e.dataModel.orderTitleML),u("disabled",!0)("disabled",!0),n(3),v(e.fieldsInfo.orderTitleResourceLanguage==null?null:e.fieldsInfo.orderTitleResourceLanguage.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.orderTitleResourceLanguage==null?null:e.fieldsInfo.orderTitleResourceLanguage.fieldTitle)),w("ngModel",e.dataModel.orderTitleResourceLanguage),u("disabled",!0),n(2),y(x.value?-1:55),n(),y(x.value?56:-1),n(2),M("",x.value.length," / 100"),n(),y(x.errors!=null&&x.errors.required?59:-1),n(3),v(e.fieldsInfo.titleSoldIt==null?null:e.fieldsInfo.titleSoldIt.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.titleSoldIt==null?null:e.fieldsInfo.titleSoldIt.fieldTitle)),w("ngModel",e.dataModel.titleSoldIt),n(2),y(k.value?-1:65),n(),y(k.value?66:-1),n(2),M("",k.value.length," / 100"),n(),y(k.errors!=null&&k.errors.required?69:-1),n(3),v(e.fieldsInfo.titleSoldIt==null?null:e.fieldsInfo.titleSoldIt.fieldTitle),n(),w("ngModel",e.dataModel.titleSoldItML),u("disabled",!0),n(4),v(e.fieldsInfo.titleSoldItResourceLanguage==null?null:e.fieldsInfo.titleSoldItResourceLanguage.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.titleSoldItResourceLanguage==null?null:e.fieldsInfo.titleSoldItResourceLanguage.fieldTitle)),w("ngModel",e.dataModel.titleSoldItResourceLanguage),n(2),y(k.value?-1:80),n(),y(k.value?81:-1),n(2),M("",ye.value.length," / 100"),n(),y(ye.errors!=null&&ye.errors.required?84:-1),n(),y(e.fieldsInfo.allowPriceInquiryCalculate!=null&&e.fieldsInfo.allowPriceInquiryCalculate.accessWatchField?85:-1),n(),y(e.fieldsInfo.hasSalePrice!=null&&e.fieldsInfo.hasSalePrice.accessWatchField?86:-1),n(),y(e.fieldsInfo.hasRentPrice!=null&&e.fieldsInfo.hasRentPrice.accessWatchField?87:-1),n(),y(e.fieldsInfo.hasDepositPrice!=null&&e.fieldsInfo.hasDepositPrice.accessWatchField?88:-1),n(),y(e.fieldsInfo.hasPeriodPrice!=null&&e.fieldsInfo.hasPeriodPrice.accessWatchField?89:-1),n(3),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),w("ngModel",e.dataModel.description),n(3),M("",Me.value.length," / 500"),n(),y(Me.errors!=null&&Me.errors.required?97:-1),n(),y(e.dataModel.hasSalePrice?98:-1),n(),y(e.fieldsInfo.salePriceAllowAgreement!=null&&e.fieldsInfo.salePriceAllowAgreement.accessWatchField?99:-1),n(),y(e.dataModel.hasSalePrice?100:-1),n(3),v(e.fieldsInfo.titleSalePrice==null?null:e.fieldsInfo.titleSalePrice.fieldTitle),n(),w("ngModel",e.dataModel.titleSalePriceML),u("disabled",!0),n(),y(e.dataModel.hasSalePrice?105:-1),n(),y(e.dataModel.hasRentPrice?106:-1),n(),y(e.fieldsInfo.rentPriceAllowAgreement!=null&&e.fieldsInfo.rentPriceAllowAgreement.accessWatchField?107:-1),n(),y(e.dataModel.hasRentPrice?108:-1),n(3),v(e.fieldsInfo.titleRentPrice==null?null:e.fieldsInfo.titleRentPrice.fieldTitle),n(),w("ngModel",e.dataModel.titleRentPriceML),u("disabled",!0),n(),y(e.dataModel.hasRentPrice?113:-1),n(),y(e.dataModel.hasRentPrice?114:-1),n(3),v(e.fieldsInfo.rentPricePriodTitle==null?null:e.fieldsInfo.rentPricePriodTitle.fieldTitle),n(),w("ngModel",e.dataModel.rentPricePriodTitleML),u("disabled",!0),n(),y(e.dataModel.hasRentPrice?119:-1),n(),y(e.dataModel.hasDepositPrice?120:-1),n(),y(e.fieldsInfo.depositPriceAllowAgreement!=null&&e.fieldsInfo.depositPriceAllowAgreement.accessWatchField?121:-1),n(),y(e.dataModel.hasDepositPrice?122:-1),n(3),v(e.fieldsInfo.titleDepositPriceML==null?null:e.fieldsInfo.titleDepositPriceML.fieldTitle),n(),w("ngModel",e.dataModel.titleDepositPriceML),u("disabled",!0),n(),y(e.dataModel.hasDepositPrice?127:-1),n(),y(e.dataModel.hasPeriodPrice?128:-1),n(),y(e.fieldsInfo.periodPriceAllowAgreement!=null&&e.fieldsInfo.periodPriceAllowAgreement.accessWatchField?129:-1),n(),y(e.dataModel.hasPeriodPrice?130:-1),n(3),v(e.fieldsInfo.titlePeriodPriceML==null?null:e.fieldsInfo.titlePeriodPriceML.fieldTitle),n(),w("ngModel",e.dataModel.titlePeriodPriceML),u("disabled",!0),n(),y(e.dataModel.hasPeriodPrice?135:-1),n(),y(e.formInfo.submitButtonEnabled?136:-1)}},dependencies:[et,ae,Y,Lt,J,ie,X,re,le,oe,ne,se,H,z,de,Ai,F],encapsulation:2});var ja=ro;var C_=()=>[5,10,20,100];function h_(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",39),E("click",function(){c(t);let e=g();return p(e.onActionButtonNewRow())}),_(2,"i",40)(3,"br"),a(),r(4,"p",19),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.ADD")," "))}function S_(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",41),E("click",function(){c(t);let e=g();return p(e.onActionButtonEditRow(e.tableRowSelected))}),_(2,"i",42)(3,"br"),a(),r(4,"p",19),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.EDIT")," "))}function y_(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",43),E("click",function(){c(t);let e=g();return p(e.onActionButtonDeleteRow(e.tableRowSelected))}),_(2,"i",44)(3,"br"),a(),r(4,"p",19),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.DELETE")," "))}function M_(o,m){if(o&1&&(r(0,"mat-header-cell",45),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle," ")}}function E_(o,m){if(o&1&&(r(0,"mat-cell"),d(1),a()),o&2){let t=m.$implicit;n(),M(" ",t.id," ")}}function b_(o,m){if(o&1&&(r(0,"mat-header-cell",45),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle," ")}}function v_(o,m){if(o&1&&(r(0,"mat-cell"),d(1),a()),o&2){let t=m.$implicit;n(),Ve(" ",t.title," / ",t.orderTitle," ")}}function I_(o,m){if(o&1&&(r(0,"mat-header-cell",45),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.hasSalePrice==null?null:t.fieldsInfo.hasSalePrice.fieldTitle," ")}}function T_(o,m){if(o&1&&(r(0,"mat-cell"),_(1,"i",46),C(2,"boolclass"),a()),o&2){let t=m.$implicit;n(),u("ngClass",h(2,1,t.hasSalePrice))}}function w_(o,m){if(o&1&&(r(0,"mat-header-cell",45),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.hasDepositPrice==null?null:t.fieldsInfo.hasDepositPrice.fieldTitle," ")}}function A_(o,m){if(o&1&&(r(0,"mat-cell"),_(1,"i",46),C(2,"boolclass"),a()),o&2){let t=m.$implicit;n(),u("ngClass",h(2,1,t.hasDepositPrice))}}function R_(o,m){if(o&1&&(r(0,"mat-header-cell",45),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.hasPeriodPrice==null?null:t.fieldsInfo.hasPeriodPrice.fieldTitle," ")}}function x_(o,m){if(o&1&&(r(0,"mat-cell"),_(1,"i",46),C(2,"boolclass"),a()),o&2){let t=m.$implicit;n(),u("ngClass",h(2,1,t.hasPeriodPrice))}}function P_(o,m){if(o&1&&(r(0,"mat-header-cell",45),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.hasRentPrice==null?null:t.fieldsInfo.hasRentPrice.fieldTitle," ")}}function D_(o,m){if(o&1&&(r(0,"mat-cell"),_(1,"i",46),C(2,"boolclass"),a()),o&2){let t=m.$implicit;n(),u("ngClass",h(2,1,t.hasRentPrice))}}function L_(o,m){o&1&&(r(0,"mat-header-cell"),d(1),C(2,"translate"),a()),o&2&&(n(),M(" ",h(2,1,"TITLE.OPTION")," "))}function k_(o,m){if(o&1&&(r(0,"mat-cell",47)(1,"button",48)(2,"mat-icon"),d(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),o&2){let t=P(5);n(),u("matMenuTriggerFor",t)}}function V_(o,m){o&1&&_(0,"mat-header-row")}function F_(o,m){if(o&1){let t=T();r(0,"mat-row",49),E("click",function(e){let l=c(t).$implicit,f=g();return p(f.onActionTableRowSelect(l,e))})("rtclick",function(e){let l=c(t).$implicit,f=g();return p(f.onActionTableRowSelect(l,e))}),a()}if(o&2){let t=m.$implicit,i=g();ce("ntk-row-selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var lo=class lo extends Kt{constructor(t,i,e,l,f,s,x,k,ye,Me,bt,mi){super(t,new fi,bt,f,k);this.contentService=t;this.cmsConfirmationDialogService=i;this.cmsToastrService=e;this.cmsStoreService=l;this.tokenHelper=f;this.router=s;this.cdr=x;this.translate=k;this.pageInfo=ye;this.themeService=Me;this.publicHelper=bt;this.dialog=mi;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new He;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["HasSalePrice","HasDepositPrice","HasRentPrice","HasPeriodPrice"];this.tabledisplayedColumnsMobileSource=["HasSalePrice","HasDepositPrice","HasRentPrice","HasPeriodPrice"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:di=>this.onSubmitOptionsSearch(di)},this.filteModelContent.sortColumn="title",this.filteModelContent.sortType=Ae.Ascending}filterModelCompiler(t){let i=JSON.parse(JSON.stringify(t));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(t=>t.tokenInfoStore).subscribe(t=>ut(this,null,function*(){this.tokenInfo=t,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(t=>t.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new fi);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.applyDataGetAllResult(e),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Ae.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Ae.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Ae.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(qa,{height:"90%",panelClass:t,enterAnimationDuration:_e.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_e.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!(t?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ja,{height:"90%",panelClass:i,enterAnimationDuration:_e.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_e.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!(t?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],e=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(f,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonContentList(t=this.tableRowSelected,i){if(!(t?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.onActionTableRowSelect(t),i?.ctrlKey?(this.link="/#/estate/data/property/LinkContractTypeId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/data/property/LinkContractTypeId/",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(x=>{i.set(x,0)}),this.translate.get("MESSAGE.All").subscribe(x=>{i.set(x,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(x=>{this.publicHelper.processService.processStart(e,x,this.constructorInfoAreaId)});let l=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetCount(l).subscribe({next:x=>{x.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,x.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(x.errorMessage),this.publicHelper.processService.processStop(e)},error:x=>{this.cmsToastrService.typeError(x),this.publicHelper.processService.processStop(e,!1)}});let f=this.filterModelCompiler(this.filteModelContent),s=new Xe;s.propertyName="recordStatus",s.value=Dt.Available,f.filters.push(s),this.contentService.ServiceGetCount(f).subscribe({next:x=>{x.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,x.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(x.errorMessage),this.publicHelper.processService.processStop(e)},error:x=>{this.cmsToastrService.typeError(x),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){t&&t.length>0?this.filterDataModelQueryBuilder=[...t]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};lo.\u0275fac=function(i){return new(i||lo)(b(yi),b(yt),b(N),b(Ce),b(he),b(pe),b(G),b(O),b(Qt),b(vi),b(W),b(wt))},lo.\u0275cmp=V({type:lo,selectors:[["app-estate-contract-type-list"]],standalone:!1,features:[B],decls:63,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","title"],["matColumnDef","HasSalePrice"],["matColumnDef","HasDepositPrice"],["matColumnDef","HasPeriodPrice"],["matColumnDef","HasRentPrice"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,e){if(i&1){let l=T();r(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(s){return c(l),I(e.viewGuideNotice,s)||(e.viewGuideNotice=s),p(s)}),E("optionOnActionButtonMemoRow",function(){return c(l),p(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return c(l),p(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return c(l),p(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return c(l),p(e.onActionButtonPrintRow())}),D(1,4),d(2," -------------------------------------- "),L(),ke(3,5)(4,6),D(5,7),r(6,"a",8),E("click",function(){return c(l),p(e.viewGuideNotice=!e.viewGuideNotice)}),_(7,"i",9),a(),r(8,"a",8),E("click",function(){return c(l),p(e.onActionButtonReload())}),_(9,"i",10),a(),L(),D(10,11),r(11,"a",12),E("click",function(){return c(l),p(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(12,"mat-slide-toggle",13),d(13),C(14,"translate"),a(),r(15,"a",12),E("click",function(){return c(l),p(e.onActionButtonStatist())}),_(16,"mat-slide-toggle",13),d(17),C(18,"translate"),a(),L(),D(19,14),S(20,h_,7,3,"div",15),L(),D(21,16),S(22,S_,7,3,"div",15),S(23,y_,7,3,"div",15),r(24,"div",15)(25,"a",17),E("click",function(s){return c(l),p(e.onActionButtonContentList(e.tableRowSelected,s))}),_(26,"i",18)(27,"br"),a(),r(28,"p",19),d(29),C(30,"translate"),a()(),L(),D(31,20),r(32,"app-cms-search-list",21),A("optionsChange",function(s){return c(l),I(e.optionsSearch,s)||(e.optionsSearch=s),p(s)}),a(),r(33,"app-cms-statist-list",21),A("optionsChange",function(s){return c(l),I(e.optionsStatist,s)||(e.optionsStatist=s),p(s)}),a(),L(),D(34,22),r(35,"mat-table",23,0),E("matSortChange",function(){c(l);let s=P(36);return p(e.onTableSortData(s))}),D(37,24),U(38,M_,2,1,"mat-header-cell",25)(39,E_,2,1,"mat-cell",26),L(),D(40,27),U(41,b_,2,1,"mat-header-cell",25)(42,v_,2,2,"mat-cell",26),L(),D(43,28),U(44,I_,2,1,"mat-header-cell",25)(45,T_,3,3,"mat-cell",26),L(),D(46,29),U(47,w_,2,1,"mat-header-cell",25)(48,A_,3,3,"mat-cell",26),L(),D(49,30),U(50,R_,2,1,"mat-header-cell",25)(51,x_,3,3,"mat-cell",26),L(),D(52,31),U(53,P_,2,1,"mat-header-cell",25)(54,D_,3,3,"mat-cell",26),L(),D(55,32),U(56,L_,3,3,"mat-header-cell",33)(57,k_,6,1,"mat-cell",34),L(),U(58,V_,1,0,"mat-header-row",35)(59,F_,1,2,"mat-row",36),a(),L(),D(60,37),r(61,"mat-paginator",38,1),E("page",function(s){return c(l),p(e.onTablePageingData(s))}),a(),L(),a()}i&2&&(u("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),n(9),ce("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),n(3),u("checked",e.optionsSearch.data.show),n(),M("",h(14,26,"ACTION.SEARCH")," "),n(3),u("checked",e.optionsStatist.data.show),n(),M("",h(18,28,"ACTION.STATIST")," "),n(3),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessAddRow?20:-1),n(2),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow?22:-1),n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow?23:-1),n(6),M(" ",h(30,30,"ACTION.Property_to_be_traded")," "),n(3),w("options",e.optionsSearch),n(),w("options",e.optionsStatist),n(2),u("dataSource",e.tableSource),n(23),u("matHeaderRowDef",e.tabledisplayedColumns),n(),u("matRowDefColumns",e.tabledisplayedColumns),n(2),u("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Q(32,C_)))},dependencies:[K,Tt,ft,kt,Vt,Be,Ge,Ft,Bt,Gt,Nt,qt,Wt,Ot,jt,Ht,Ut,Zt,zt,Oe,Ne,Yt,We,F,rl],encapsulation:2});var so=lo;var B_=()=>[5,10,20,100],G_=(o,m)=>m.id;function O_(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",24),E("click",function(){c(t);let e=g();return p(e.onActionButtonNewRow())}),_(2,"i",25)(3,"br"),a(),r(4,"p",26),d(5),C(6,"translate"),a()()}o&2&&(n(5),v(h(6,1,"ACTION.ADD")))}function N_(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",27),E("click",function(){c(t);let e=g();return p(e.onActionButtonEditRow(e.tableRowSelected))}),_(2,"i",28)(3,"br"),a(),r(4,"p",26),d(5),C(6,"translate"),a()()}o&2&&(n(5),v(h(6,1,"ACTION.EDIT")))}function W_(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",29),E("click",function(){c(t);let e=g();return p(e.onActionButtonDeleteRow(e.tableRowSelected))}),_(2,"i",30)(3,"br"),a(),r(4,"p",26),d(5),C(6,"translate"),a()()}o&2&&(n(5),v(h(6,1,"ACTION.DELETE")))}function H_(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",31),E("click",function(){c(t);let e=g();return p(e.onActionButtonViewRow(e.tableRowSelected))}),_(2,"i",32)(3,"br"),a(),r(4,"p",26),d(5),C(6,"translate"),a()()}o&2&&(n(5),v(h(6,1,"ACTION.VIEW")))}function U_(o,m){if(o&1&&(r(0,"div",39),_(1,"i",41),d(2),a()),o&2){let t=g().$implicit,i=g(2);n(2),Ve(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",t.id)}}function q_(o,m){if(o&1&&(r(0,"div",39),_(1,"i",42),d(2),C(3,"localeDate"),a()),o&2){let t=g().$implicit,i=g(2);n(2),Ve(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",h(3,2,t.createdDate))}}function j_(o,m){if(o&1&&_(0,"select",44),o&2){let t=g(2).$implicit,i=g(2);u("contentService",i.contentService)("row",t)}}function Z_(o,m){if(o&1&&(r(0,"div",39),_(1,"i",43),C(2,"statusIconClass"),S(3,j_,1,2,"select",44),a()),o&2){let t=g().$implicit,i=g(2);n(),u("ngClass",h(2,2,t.recordStatus)),n(2),y(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function z_(o,m){if(o&1&&(r(0,"div",39),_(1,"i",47),d(2),C(3,"localeDate"),a()),o&2){let t=g(2).$implicit,i=g(2);n(2),Ve(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",h(3,2,t.updatedDate))}}function Q_(o,m){if(o&1){let t=T();r(0,"div",40),S(1,z_,4,4,"div",39),r(2,"div",39)(3,"span",45),E("click",function(e){return c(t),g(3).onActionCopied(),p(e.stopPropagation())}),_(4,"i",46),a(),d(5),a()()}if(o&2){let t=g().$implicit;n(),y(t.updatedDate?1:-1),n(2),u("cdkCopyToClipboard",t.id.toString()),n(2),M(" ID: ",t.id)}}function K_(o,m){if(o&1){let t=T();r(0,"div",34),E("click",function(e){let l=c(t).$implicit,f=g(2);return p(f.onActionTableRowSelect(l,e))})("rtclick",function(e){let l=c(t).$implicit,f=g(2);return p(f.onActionTableRowSelect(l,e))})("mouseenter",function(){let e=c(t).$implicit,l=g(2);return p(l.onActionTableRowMouseEnter(e))})("mouseleave",function(){let e=c(t).$implicit,l=g(2);return p(l.onActionTableRowMouseLeave(e))}),r(1,"div",35),_(2,"i",36),C(3,"statusIconClass"),a(),r(4,"div",37)(5,"div",38),d(6),a(),S(7,U_,3,2,"div",39),S(8,q_,4,4,"div",39),S(9,Z_,4,4,"div",39),S(10,Q_,6,3,"div",40),a()()}if(o&2){let t=m.$implicit,i=g(2);ce("selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))("bg-fade-highlight-light",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),pt("aria-label",t.title||t.id),n(2),u("ngClass",h(3,11,t.recordStatus)),n(4),v(t.title||"ID: "+t.id),n(),y(t.id?7:-1),n(),y(t.createdDate?8:-1),n(),y(t.recordStatus!==void 0?9:-1),n(),y(i.getRowExpanded(t)?10:-1)}}function Y_(o,m){if(o&1&&(r(0,"div",20),Re(1,K_,11,13,"div",33,G_),a()),o&2){let t=g();n(),xe(t.dataModelResult.listItems)}}function J_(o,m){o&1&&(r(0,"div",21),d(1),C(2,"translate"),a()),o&2&&(n(),v(h(2,1,"MESSAGE.NoRecord")))}var an=class an extends so{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(t){let i=String(t);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(t){return String(t)}onDocumentClick(t){let i=t.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(t){return t.expanded===!0}};an.\u0275fac=(()=>{let t;return function(e){return(t||(t=_t(an)))(e||an)}})(),an.\u0275cmp=V({type:an,selectors:[["app-estate-contract-type-list-mobile"]],hostBindings:function(i,e){i&1&&E("click",function(f){return e.onDocumentClick(f)},Ct)},standalone:!1,features:[B],decls:37,vars:31,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-calendar"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"]],template:function(i,e){if(i&1){let l=T();r(0,"app-cms-html-list-mobile",1),A("optionActionGuideNoticeDisplayChange",function(s){return c(l),I(e.viewGuideNotice,s)||(e.viewGuideNotice=s),p(s)}),E("optionOnActionButtonMemoRow",function(){return c(l),p(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return c(l),p(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return c(l),p(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return c(l),p(e.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return c(l),p(e.onActionLoadNextPage())}),ke(1,2)(2,3)(3,4),D(4,5),r(5,"a",6),E("click",function(){return c(l),p(e.viewGuideNotice=!e.viewGuideNotice)}),_(6,"i",7),a(),r(7,"a",6),E("click",function(){return c(l),p(e.onActionButtonReload())}),_(8,"i",8),a(),r(9,"a",6),E("click",function(){return c(l),p(e.onActionGridExpandRows(!0))}),_(10,"i",9),a(),r(11,"a",6),E("click",function(){return c(l),p(e.onActionGridExpandRows(!1))}),_(12,"i",10),a(),L(),D(13,11),r(14,"a",12),E("click",function(){return c(l),p(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(15,"mat-slide-toggle",13),d(16),C(17,"translate"),a(),r(18,"a",12),E("click",function(){return c(l),p(e.onActionButtonStatist())}),_(19,"mat-slide-toggle",13),d(20),C(21,"translate"),a(),L(),D(22,14),S(23,O_,7,3,"div",15),L(),D(24,16),S(25,N_,7,3,"div",15),S(26,W_,7,3,"div",15),S(27,H_,7,3,"div",15),L(),D(28,17),r(29,"app-cms-search-list",18),A("optionsChange",function(s){return c(l),I(e.optionsSearch,s)||(e.optionsSearch=s),p(s)}),a(),r(30,"app-cms-statist-list",18),A("optionsChange",function(s){return c(l),I(e.optionsStatist,s)||(e.optionsStatist=s),p(s)}),a(),L(),D(31,19),S(32,Y_,3,0,"div",20)(33,J_,3,3,"div",21),L(),D(34,22),r(35,"mat-paginator",23,0),E("page",function(s){return c(l),p(e.onTablePageingData(s))}),a(),L(),a()}i&2&&(u("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey","estate.main.contract-type.list"),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplay",(e.tableRowSelected==null?null:e.tableRowSelected.id)>0)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),n(8),ce("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),n(7),u("checked",e.optionsSearch.data.show),n(),v(h(17,26,"ACTION.SEARCH")),n(3),u("checked",e.optionsStatist.data.show),n(),v(h(21,28,"ACTION.STATIST")),n(3),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessAddRow?23:-1),n(2),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow&&(e.tableRowSelected==null?null:e.tableRowSelected.id)>0?25:-1),n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow&&(e.tableRowSelected==null?null:e.tableRowSelected.id)>0?26:-1),n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessWatchRow&&(e.tableRowSelected==null?null:e.tableRowSelected.id)>0?27:-1),n(2),w("options",e.optionsSearch),n(),w("options",e.optionsStatist),n(2),y(!(e.dataModelResult==null||e.dataModelResult.listItems==null)&&e.dataModelResult.listItems.length?32:33),n(3),u("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Q(30,B_)))},dependencies:[K,H,Be,Ge,It,Oe,Ne,Pt,We,At,F,Rt,xt],encapsulation:2});var Za=an;var co=class co{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};co.\u0275fac=function(t){return new(t||co)},co.\u0275cmp=V({type:co,selectors:[["app-estate-main"]],standalone:!1,decls:1,vars:0,template:function(t,i){t&1&&_(0,"router-outlet")},dependencies:[br],encapsulation:2});var po=co;var X_=["vform"],$_=()=>["fa"];function e1(o,m){if(o&1){let t=T();r(0,"app-cms-enum-record-status-selector",24),A("modelChange",function(e){c(t);let l=g();return I(l.dataModel.recordStatus,e)||(l.dataModel.recordStatus=e),p(e)}),a()}if(o&2){let t=g();w("model",t.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function t1(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function i1(o,m){if(o&1){let t=T();r(0,"div",17)(1,"label",18),d(2),a(),r(3,"input",25),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconFont,e)||(l.dataModel.iconFont=e),p(e)}),E("iconPickerSelect",function(e){c(t);let l=g();return p(l.onIconPickerSelect(e))}),a(),r(4,"em",26),_(5,"i",27),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle)),w("ngModel",t.dataModel.iconFont),u("iconPicker",t.dataModel.iconFont)("ipIconPack",Q(12,$_))("ipPosition","top")("ipWidth","250px")("disabled",!(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessAddField)),n(2),q("color",t.dataModel.iconColor?t.dataModel.iconColor:null),u("ngClass",t.dataModel.iconFont)}}function n1(o,m){if(o&1){let t=T();r(0,"div",17)(1,"label",18),d(2),a(),r(3,"div",28)(4,"input",29,3),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconColor,e)||(l.dataModel.iconColor=e),p(e)}),a(),_(6,"ngx-mat-color-toggle",30)(7,"ngx-mat-color-picker",31,4),a()()}if(o&2){let t=P(8),i=g();n(2),v(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),n(2),q("background",i.dataModel.iconColor),u("placeholder",R(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),w("ngModel",i.dataModel.iconColor),u("ngxMatColorPicker",t)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),n(2),u("for",t),n(),u("touchUi",!0)("color","primary")}}function o1(o,m){o&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function a1(o,m){if(o&1){let t=T();r(0,"div",23)(1,"button",32),E("click",function(){c(t);let e=g();return p(e.onActionBackToParent())}),_(2,"i",33),d(3),C(4,"translate"),a(),r(5,"button",34),_(6,"i",35),d(7),C(8,"translate"),a()()}if(o&2){g();let t=P(14);n(3),M(" ",h(4,3,"ACTION.CANCEL")," "),n(2),u("disabled",!t.form.valid),n(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var mo=class mo extends Qe{constructor(t,i,e,l,f,s,x,k){super(i,new vt,l,k);this.coreEnumService=t;this.estatePropertyDetailGroupService=i;this.cmsToastrService=e;this.publicHelper=l;this.cdr=f;this.router=s;this.activatedRoute=x;this.translate=k;this.requestId="";this.requestLinkPropertyTypeLanduseId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Se;this.dataModel=new vt;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.activatedRoute.snapshot.paramMap.get("id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("id")),this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeLanduseId")&&(this.requestLinkPropertyTypeLanduseId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeLanduseId")),this.requestLinkPropertyTypeLanduseId&&this.requestLinkPropertyTypeLanduseId.length>0&&(this.dataModel.linkPropertyTypeLanduseId=this.requestLinkPropertyTypeLanduseId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.requestId&&this.requestId.length>0?(this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t+" copy"}),this.DataClone()):this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataClone(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess?(this.dataModel=i.item,i.item.title=i.item.title+" copy",this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.onActionBackToParent()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorSelect(t){this.dataModel.linkPropertyTypeLanduseId=null,t&&t.id&&t.id.length>0&&(this.dataModel.linkPropertyTypeLanduseId=t.id)}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onActionBackToParent(){this.router.navigate(["/estate/main/property-detail-group"])}};mo.\u0275fac=function(i){return new(i||mo)(b(j),b(oi),b(N),b(W),b(G),b(pe),b(Ee),b(O))},mo.\u0275cmp=V({type:mo,selectors:[["app-estate-property-detail-group-add-mobile"]],viewQuery:function(i,e){if(i&1&&$(X_,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:41,vars:32,consts:[["vform","ngForm"],["Title",""],["Description",""],["iconColor",""],["iconColorPicker",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[1,"cms-m-header-title"],[1,"cms-m-header-spacer"],[1,"cms-m-content","safe-area-content"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"cms-m-form-field"],[1,"cms-m-form-label"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder"],[1,"cms-m-char-count"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["matInput","","name","dataModel.description","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"cms-m-form-textarea",3,"ngModelChange","ngModel","placeholder"],[1,"cms-m-footer","safe-area-bottom"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["matInput","","type","text","name","dataModel.iconFont","id","dataModel.iconFont","ipButtonStyleClass","",1,"cms-m-form-input",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","ipWidth","placeholder","disabled"],[2,"opacity","1 !important"],[2,"font-size","20px !important",3,"ngClass"],[1,"cms-m-color-picker-wrapper"],["matInput","","type","text","name","dataModel.iconColor","id","dataModel.iconColor",1,"cms-m-form-input",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"cms-m-btn","cms-m-btn-secondary",3,"click"],["aria-hidden","true",1,"fa-solid","fa-times"],["type","submit",1,"cms-m-btn","cms-m-btn-success",3,"disabled"],["aria-hidden","true",1,"fa-solid","fa-save"]],template:function(i,e){if(i&1){let l=T();r(0,"div",5),_(1,"app-progress-spinner",6),r(2,"div",7)(3,"div",8)(4,"button",9),C(5,"translate"),E("click",function(){return c(l),p(e.onActionBackToParent())}),_(6,"i",10),a(),r(7,"h1",11),d(8),C(9,"translate"),a(),_(10,"div",12),a()(),r(11,"div",13),_(12,"app-cms-form-result-message",14),r(13,"form",15,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),S(15,e1,1,5,"app-cms-enum-record-status-selector",16),r(16,"div",17)(17,"label",18),d(18),a(),r(19,"input",19,1),A("ngModelChange",function(s){return c(l),I(e.dataModel.title,s)||(e.dataModel.title=s),p(s)}),a(),r(21,"em",20),d(22),a(),S(23,t1,5,3,"mat-error"),a(),r(24,"div",17)(25,"label",18),d(26),C(27,"translate"),a(),r(28,"app-estate-property-type-landuse-selector",21),C(29,"translate"),E("optionChange",function(s){return c(l),p(e.onActionSelectorSelect(s))}),a()(),S(30,i1,6,13,"div",17),S(31,n1,9,11,"div",17),r(32,"div",17)(33,"label",18),d(34),a(),r(35,"textarea",22,2),A("ngModelChange",function(s){return c(l),I(e.dataModel.description,s)||(e.dataModel.description=s),p(s)}),a(),r(37,"em",20),d(38),a(),S(39,o1,5,3,"mat-error"),a(),S(40,a1,9,7,"div",23),a()()()}if(i&2){let l=P(20),f=P(36);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),Pe("aria-label",R(h(5,24,"ACTION.BACK"))),n(4),M(" ",e.formInfo.formTitle||h(9,26,"ROUTE.ESTATE.DETAIL.GROUP")," "),n(4),u("formInfo",e.formInfo),n(3),y(e.fieldsInfo.recordStatus!=null&&e.fieldsInfo.recordStatus.accessWatchField?15:-1),n(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),w("ngModel",e.dataModel.title),n(3),M("",l.value.length," / 100"),n(),y(l.errors!=null&&l.errors.required?23:-1),n(3),v(h(27,28,"TITLE.USER")),n(2),u("optionSelectForce",e.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",h(29,30,"TITLE.USER")),n(2),y(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessWatchField?30:-1),n(),y(e.fieldsInfo.iconColor!=null&&e.fieldsInfo.iconColor.accessWatchField?31:-1),n(3),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),w("ngModel",e.dataModel.description),n(3),M("",f.value.length," / 500"),n(),y(f.errors!=null&&f.errors.required?39:-1),n(),y(e.formInfo.submitButtonEnabled?40:-1)}},dependencies:[K,ae,Y,J,ie,X,re,le,oe,ne,se,Fe,H,Le,z,de,ai,ze,Ze,je,qe,F],encapsulation:2});var $o=mo;var r1=["vform"],l1=()=>["fa"];function s1(o,m){if(o&1){let t=T();r(0,"app-cms-enum-record-status-selector",23),A("modelChange",function(e){c(t);let l=g();return I(l.dataModel.recordStatus,e)||(l.dataModel.recordStatus=e),p(e)}),a()}if(o&2){let t=g();w("model",t.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function d1(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function c1(o,m){if(o&1){let t=T();r(0,"div",17)(1,"label",18),d(2),a(),r(3,"input",24,2),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.title,e)||(l.dataModel.title=e),p(e)}),a(),r(5,"em",21),d(6),a(),S(7,d1,5,3,"mat-error"),a()}if(o&2){let t=P(4),i=g();n(2),v(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),u("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),n(3),M("",t.value.length," / 100"),n(),y(t.errors!=null&&t.errors.required?7:-1)}}function p1(o,m){if(o&1){let t=T();r(0,"div",17)(1,"label",18),d(2),a(),r(3,"input",25),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconFont,e)||(l.dataModel.iconFont=e),p(e)}),E("iconPickerSelect",function(e){c(t);let l=g();return p(l.onIconPickerSelect(e))}),a(),r(4,"em",26),_(5,"i",27),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle)),w("ngModel",t.dataModel.iconFont),u("iconPicker",t.dataModel.iconFont)("ipIconPack",Q(12,l1))("ipPosition","top")("ipWidth","250px")("disabled",!(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessEditField)),n(2),q("color",t.dataModel.iconColor?t.dataModel.iconColor:null),u("ngClass",t.dataModel.iconFont)}}function m1(o,m){if(o&1){let t=T();r(0,"div",17)(1,"label",18),d(2),a(),r(3,"div",28)(4,"input",29,3),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconColor,e)||(l.dataModel.iconColor=e),p(e)}),a(),_(6,"ngx-mat-color-toggle",30)(7,"ngx-mat-color-picker",31,4),a()()}if(o&2){let t=P(8),i=g();n(2),v(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),n(2),q("background",i.dataModel.iconColor),u("placeholder",R(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),w("ngModel",i.dataModel.iconColor),u("ngxMatColorPicker",t)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),n(2),u("for",t),n(),u("touchUi",!0)("color","primary")}}function u1(o,m){o&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function f1(o,m){if(o&1){let t=T();r(0,"div",22)(1,"button",32),E("click",function(){c(t);let e=g();return p(e.onActionBackToParent())}),_(2,"i",33),d(3),C(4,"translate"),a(),r(5,"button",34),_(6,"i",35),d(7),C(8,"translate"),a()()}if(o&2){g();let t=P(14);n(3),M(" ",h(4,3,"ACTION.CANCEL")," "),n(2),u("disabled",!t.form.valid),n(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var uo=class uo extends rt{constructor(t,i,e,l,f,s,x,k){super(i,new vt,l,k);this.coreEnumService=t;this.estatePropertyDetailGroupService=i;this.cmsToastrService=e;this.publicHelper=l;this.router=f;this.cdr=s;this.activatedRoute=x;this.translate=k;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new tt;this.dataModel=new vt;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.activatedRoute.snapshot.paramMap.get("id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("id")),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.onActionBackToParent();return}this.DataGetOneContent()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.setAccessLoad(),this.estatePropertyDetailGroupService.setAccessDataType(nt.Editor),this.estatePropertyDetailGroupService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.onActionBackToParent()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorSelect(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeLanduseId=t.id}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onActionBackToParent(){this.router.navigate(["/estate/main/property-detail-group"])}};uo.\u0275fac=function(i){return new(i||uo)(b(j),b(oi),b(N),b(W),b(pe),b(G),b(Ee),b(O))},uo.\u0275cmp=V({type:uo,selectors:[["app-estate-property-detail-group-edit-mobile"]],viewQuery:function(i,e){if(i&1&&$(r1,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:34,vars:27,consts:[["vform","ngForm"],["Description",""],["Title",""],["iconColor",""],["iconColorPicker",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[1,"cms-m-header-title"],[1,"cms-m-header-spacer"],[1,"cms-m-content","safe-area-content"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"cms-m-form-field"],[1,"cms-m-form-label"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["matInput","","name","dataModel.description","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"cms-m-form-textarea",3,"ngModelChange","ngModel","placeholder"],[1,"cms-m-char-count"],[1,"cms-m-footer","safe-area-bottom"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder","disabled"],["matInput","","type","text","name","dataModel.iconFont","id","dataModel.iconFont","ipButtonStyleClass","",1,"cms-m-form-input",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","ipWidth","placeholder","disabled"],[2,"opacity","1 !important"],[2,"font-size","20px !important",3,"ngClass"],[1,"cms-m-color-picker-wrapper"],["matInput","","type","text","name","dataModel.iconColor","id","dataModel.iconColor",1,"cms-m-form-input",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"cms-m-btn","cms-m-btn-secondary",3,"click"],["aria-hidden","true",1,"fa-solid","fa-times"],["type","submit",1,"cms-m-btn","cms-m-btn-success",3,"disabled"],["aria-hidden","true",1,"fa-solid","fa-save"]],template:function(i,e){if(i&1){let l=T();r(0,"div",5),_(1,"app-progress-spinner",6),r(2,"div",7)(3,"div",8)(4,"button",9),C(5,"translate"),E("click",function(){return c(l),p(e.onActionBackToParent())}),_(6,"i",10),a(),r(7,"h1",11),d(8),C(9,"translate"),a(),_(10,"div",12),a()(),r(11,"div",13),_(12,"app-cms-form-result-message",14),r(13,"form",15,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),S(15,s1,1,5,"app-cms-enum-record-status-selector",16),S(16,c1,8,7,"div",17),r(17,"div",17)(18,"label",18),d(19),C(20,"translate"),a(),r(21,"app-estate-property-type-landuse-selector",19),C(22,"translate"),E("optionChange",function(s){return c(l),p(e.onActionSelectorSelect(s))}),a()(),S(23,p1,6,13,"div",17),S(24,m1,9,11,"div",17),r(25,"div",17)(26,"label",18),d(27),a(),r(28,"textarea",20,1),A("ngModelChange",function(s){return c(l),I(e.dataModel.description,s)||(e.dataModel.description=s),p(s)}),a(),r(30,"em",21),d(31),a(),S(32,u1,5,3,"mat-error"),a(),S(33,f1,9,7,"div",22),a()()()}if(i&2){let l=P(29);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),Pe("aria-label",R(h(5,19,"ACTION.BACK"))),n(4),M(" ",e.formInfo.formTitle||h(9,21,"ROUTE.ESTATE.DETAIL.GROUP")," "),n(4),u("formInfo",e.formInfo),n(3),y(e.fieldsInfo.recordStatus!=null&&e.fieldsInfo.recordStatus.accessWatchField?15:-1),n(),y(e.fieldsInfo.title!=null&&e.fieldsInfo.title.accessWatchField?16:-1),n(3),v(h(20,23,"TITLE.USER")),n(2),u("optionSelectForce",e.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",h(22,25,"TITLE.USER")),n(2),y(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessWatchField?23:-1),n(),y(e.fieldsInfo.iconColor!=null&&e.fieldsInfo.iconColor.accessWatchField?24:-1),n(3),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),w("ngModel",e.dataModel.description),n(3),M("",l.value.length," / 500"),n(),y(l.errors!=null&&l.errors.required?32:-1),n(),y(e.formInfo.submitButtonEnabled?33:-1)}},dependencies:[K,ae,Y,J,ie,X,re,le,oe,ne,se,Fe,H,Le,z,de,ai,ze,Ze,je,qe,F],encapsulation:2});var za=uo;var g1=["vform"],_1=()=>["fa"];function C1(o,m){o&1&&_(0,"i",15)}function h1(o,m){o&1&&_(0,"i",16)}function S1(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function y1(o,m){if(o&1){let t=T();r(0,"div",12)(1,"label",22),d(2),a(),r(3,"input",23),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconFont,e)||(l.dataModel.iconFont=e),p(e)}),E("iconPickerSelect",function(e){c(t);let l=g();return p(l.onIconPickerSelect(e))}),a(),r(4,"em",24),_(5,"i",25),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle)),w("ngModel",t.dataModel.iconFont),u("iconPicker",t.dataModel.iconFont)("ipIconPack",Q(12,_1))("ipPosition","top")("ipWidth","250px")("disabled",!(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessAddField)),n(2),q("color",t.dataModel.iconColor?t.dataModel.iconColor:null),u("ngClass",t.dataModel.iconFont)}}function M1(o,m){if(o&1){let t=T();r(0,"div",18)(1,"label",26),d(2),a(),r(3,"div",27)(4,"div",28)(5,"input",29,3),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconColor,e)||(l.dataModel.iconColor=e),p(e)}),a()(),r(7,"div",30),_(8,"ngx-mat-color-toggle",31)(9,"ngx-mat-color-picker",32,4),a()()()}if(o&2){let t=P(10),i=g();n(2),v(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),n(3),q("background",i.dataModel.iconColor),u("placeholder",R(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),w("ngModel",i.dataModel.iconColor),u("ngxMatColorPicker",t)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),n(3),u("for",t),n(),u("touchUi",!0)("color","primary")}}function E1(o,m){if(o&1){let t=T();r(0,"div",12)(1,"label",33),d(2),a(),r(3,"input",34,5),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.showInFormOrder,e)||(l.dataModel.showInFormOrder=e),p(e)}),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.showInFormOrder==null?null:t.fieldsInfo.showInFormOrder.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.showInFormOrder==null?null:t.fieldsInfo.showInFormOrder.fieldTitle)),w("ngModel",t.dataModel.showInFormOrder)}}function b1(o,m){o&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function v1(o,m){if(o&1){let t=T();r(0,"div",21)(1,"button",35),E("click",function(){c(t);let e=g();return p(e.onFormCancel())}),_(2,"i",36),d(3),C(4,"translate"),a(),r(5,"button",37),_(6,"i",38),d(7),C(8,"translate"),a()()}if(o&2){g();let t=P(10);n(3),M(" ",h(4,3,"ACTION.CANCEL")," "),n(2),u("disabled",!t.form.valid),n(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var fo=class fo extends Qe{constructor(t,i,e,l,f,s,x,k){super(l,new vt,s,k);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estatePropertyDetailGroupService=l;this.cmsToastrService=f;this.publicHelper=s;this.cdr=x;this.translate=k;this.requestLinkPropertyTypeLanduseId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Se;this.dataModel=new vt;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),t&&(this.requestLinkPropertyTypeLanduseId=t.linkPropertyTypeLanduseId),this.requestLinkPropertyTypeLanduseId.length>0&&(this.dataModel.linkPropertyTypeLanduseId=this.requestLinkPropertyTypeLanduseId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorSelect(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeLanduseId=t.id}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};fo.\u0275fac=function(i){return new(i||fo)(b(at),b(ot),b(j),b(oi),b(N),b(W),b(G),b(O))},fo.\u0275cmp=V({type:fo,selectors:[["app-estate-property-detail-group-add"]],viewQuery:function(i,e){if(i&1&&$(g1,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:36,vars:28,consts:[["vform","ngForm"],["Title",""],["Description",""],["iconColor",""],["iconColorPicker",""],["ShowInFormOrder",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","id","dataModel.iconFont","ipButtonStyleClass","",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","ipWidth","placeholder","disabled"],[2,"opacity","1 !important"],[2,"font-size","20px !important",3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.showInFormOrder",1,"color-highlight"],["type","number","name","dataModel.showInFormOrder","id","dataModel.showInFormOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let l=T();r(0,"div",6),_(1,"app-progress-spinner",7),r(2,"div",8)(3,"p",9),d(4),a(),r(5,"p"),d(6),C(7,"translate"),a(),_(8,"app-cms-form-result-message",10),r(9,"form",11,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),r(11,"div",12)(12,"label",13),d(13),a(),r(14,"input",14,1),A("ngModelChange",function(s){return c(l),I(e.dataModel.title,s)||(e.dataModel.title=s),p(s)}),a(),S(16,C1,1,0,"i",15),S(17,h1,1,0,"i",16),r(18,"em"),d(19),a(),S(20,S1,5,3,"mat-error"),a(),r(21,"app-estate-property-type-landuse-selector",17),C(22,"translate"),E("optionChange",function(s){return c(l),p(e.onActionSelectorSelect(s))}),a(),S(23,y1,6,13,"div",12),S(24,M1,11,11,"div",18),S(25,E1,5,4,"div",12),r(26,"div",12)(27,"label",19),d(28),a(),r(29,"textarea",20,2),A("ngModelChange",function(s){return c(l),I(e.dataModel.description,s)||(e.dataModel.description=s),p(s)}),d(31,"                "),a(),r(32,"em"),d(33),a(),S(34,b1,5,3,"mat-error"),a(),S(35,v1,9,7,"div",21),a()()()}if(i&2){let l=P(15),f=P(30);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),M(" ",e.formInfo.formTitle," "),n(2),M(" ",h(7,24,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),u("formInfo",e.formInfo),n(5),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),w("ngModel",e.dataModel.title),n(2),y(l.value?-1:16),n(),y(l.value?17:-1),n(2),M("",l.value.length," / 100"),n(),y(l.errors!=null&&l.errors.required?20:-1),n(),u("optionSelectForce",e.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",h(22,26,"TITLE.Category")),n(2),y(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessWatchField?23:-1),n(),y(e.fieldsInfo.iconColor!=null&&e.fieldsInfo.iconColor.accessWatchField?24:-1),n(),y(e.fieldsInfo.showInFormOrder!=null&&e.fieldsInfo.showInFormOrder.accessWatchField?25:-1),n(3),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),w("ngModel",e.dataModel.description),n(4),M("",f.value.length," / 500"),n(),y(f.errors!=null&&f.errors.required?34:-1),n(),y(e.formInfo.submitButtonEnabled?35:-1)}},dependencies:[K,ae,Y,ht,J,ie,X,re,le,oe,ne,se,Fe,H,z,de,St,ai,ze,Ze,je,qe,F],encapsulation:2});var go=fo;var I1=["vform"],T1=()=>["fa"];function w1(o,m){o&1&&_(0,"i",15)}function A1(o,m){o&1&&_(0,"i",16)}function R1(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function x1(o,m){if(o&1){let t=T();r(0,"div",12)(1,"label",22),d(2),a(),r(3,"input",23),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconFont,e)||(l.dataModel.iconFont=e),p(e)}),E("iconPickerSelect",function(e){c(t);let l=g();return p(l.onIconPickerSelect(e))}),a(),r(4,"em",24),_(5,"i",25),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle)),w("ngModel",t.dataModel.iconFont),u("iconPicker",t.dataModel.iconFont)("ipIconPack",Q(12,T1))("ipPosition","top")("ipWidth","250px")("disabled",!(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessEditField)),n(2),q("color",t.dataModel.iconColor?t.dataModel.iconColor:null),u("ngClass",t.dataModel.iconFont)}}function P1(o,m){if(o&1){let t=T();r(0,"div",18)(1,"label",26),d(2),a(),r(3,"div",27)(4,"div",28)(5,"input",29,3),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconColor,e)||(l.dataModel.iconColor=e),p(e)}),a()(),r(7,"div",30),_(8,"ngx-mat-color-toggle",31)(9,"ngx-mat-color-picker",32,4),a()()()}if(o&2){let t=P(10),i=g();n(2),v(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),n(3),q("background",i.dataModel.iconColor),u("placeholder",R(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),w("ngModel",i.dataModel.iconColor),u("ngxMatColorPicker",t)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),n(3),u("for",t),n(),u("touchUi",!0)("color","primary")}}function D1(o,m){if(o&1){let t=T();r(0,"div",12)(1,"label",13),d(2),a(),r(3,"input",33,5),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.showInFormOrder,e)||(l.dataModel.showInFormOrder=e),p(e)}),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.showInFormOrder==null?null:t.fieldsInfo.showInFormOrder.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.showInFormOrder==null?null:t.fieldsInfo.showInFormOrder.fieldTitle)),w("ngModel",t.dataModel.showInFormOrder),u("disabled",!(t.fieldsInfo.showInFormOrder!=null&&t.fieldsInfo.showInFormOrder.accessEditField))}}function L1(o,m){o&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function k1(o,m){if(o&1){let t=T();r(0,"div",21)(1,"button",34),E("click",function(){c(t);let e=g();return p(e.onFormCancel())}),_(2,"i",35),d(3),C(4,"translate"),a(),r(5,"button",36),_(6,"i",37),d(7),C(8,"translate"),a()()}if(o&2){g();let t=P(10);n(3),M(" ",h(4,3,"ACTION.CANCEL")," "),n(2),u("disabled",!t.form.valid),n(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var _o=class _o extends rt{constructor(t,i,e,l,f,s,x,k){super(l,new vt,s,k);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estatePropertyDetailGroupService=l;this.cmsToastrService=f;this.publicHelper=s;this.cdr=x;this.translate=k;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new tt;this.dataModel=new vt;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.setAccessLoad(),this.estatePropertyDetailGroupService.setAccessDataType(nt.Editor),this.estatePropertyDetailGroupService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorSelect(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeLanduseId=t.id}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};_o.\u0275fac=function(i){return new(i||_o)(b(at),b(ot),b(j),b(oi),b(N),b(W),b(G),b(O))},_o.\u0275cmp=V({type:_o,selectors:[["app-estate-property-detail-group-edit"]],viewQuery:function(i,e){if(i&1&&$(I1,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:36,vars:29,consts:[["vform","ngForm"],["Title",""],["Description",""],["iconColor",""],["iconColorPicker",""],["ShowInFormOrder",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","id","dataModel.iconFont","ipButtonStyleClass","",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","ipWidth","placeholder","disabled"],[2,"opacity","1 !important"],[2,"font-size","20px !important",3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","number","name","dataModel.showInFormOrder","id","dataModel.showInFormOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let l=T();r(0,"div",6),_(1,"app-progress-spinner",7),r(2,"div",8)(3,"p",9),d(4),a(),r(5,"p"),d(6),C(7,"translate"),a(),_(8,"app-cms-form-result-message",10),r(9,"form",11,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),r(11,"div",12)(12,"label",13),d(13),a(),r(14,"input",14,1),A("ngModelChange",function(s){return c(l),I(e.dataModel.title,s)||(e.dataModel.title=s),p(s)}),a(),S(16,w1,1,0,"i",15),S(17,A1,1,0,"i",16),r(18,"em"),d(19),a(),S(20,R1,5,3,"mat-error"),a(),r(21,"app-estate-property-type-landuse-selector",17),C(22,"translate"),E("optionChange",function(s){return c(l),p(e.onActionSelectorSelect(s))}),a(),S(23,x1,6,13,"div",12),S(24,P1,11,11,"div",18),S(25,D1,5,5,"div",12),r(26,"div",12)(27,"label",19),d(28),a(),r(29,"textarea",20,2),A("ngModelChange",function(s){return c(l),I(e.dataModel.description,s)||(e.dataModel.description=s),p(s)}),d(31,"                "),a(),r(32,"em"),d(33),a(),S(34,L1,5,3,"mat-error"),a(),S(35,k1,9,7,"div",21),a()()()}if(i&2){let l=P(15),f=P(30);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),M(" ",e.formInfo.formTitle," "),n(2),M(" ",h(7,25,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),u("formInfo",e.formInfo),n(5),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),w("ngModel",e.dataModel.title),n(2),y(l.value?-1:16),n(),y(l.value?17:-1),n(2),M("",l.value.length," / 100"),n(),y(l.errors!=null&&l.errors.required?20:-1),n(),u("optionSelectForce",e.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",h(22,27,"TITLE.Category"))("optionDisabled",!(e.fieldsInfo.linkPropertyTypeLanduseId!=null&&e.fieldsInfo.linkPropertyTypeLanduseId.accessEditField)),n(2),y(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessWatchField?23:-1),n(),y(e.fieldsInfo.iconColor!=null&&e.fieldsInfo.iconColor.accessWatchField?24:-1),n(),y(e.fieldsInfo.showInFormOrder!=null&&e.fieldsInfo.showInFormOrder.accessWatchField?25:-1),n(3),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),w("ngModel",e.dataModel.description),n(4),M("",f.value.length," / 500"),n(),y(f.errors!=null&&f.errors.required?34:-1),n(),y(e.formInfo.submitButtonEnabled?35:-1)}},dependencies:[K,ae,Y,ht,J,ie,X,re,le,oe,ne,se,Fe,H,z,de,St,ai,ze,Ze,je,qe,F],encapsulation:2});var Co=_o;var B1=()=>[5,10,20,100];function G1(o,m){if(o&1){let t=T();r(0,"div",18)(1,"a",42),E("click",function(){c(t);let e=g();return p(e.onActionButtonNewRow())}),_(2,"i",43)(3,"br"),a(),r(4,"p",22),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.ADD")," "))}function O1(o,m){if(o&1){let t=T();r(0,"div",18)(1,"a",44),E("click",function(){c(t);let e=g();return p(e.onActionButtonEditRow(e.tableRowSelected))}),_(2,"i",45)(3,"br"),a(),r(4,"p",22),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.EDIT")," "))}function N1(o,m){if(o&1){let t=T();r(0,"div",18)(1,"a",46),E("click",function(){c(t);let e=g();return p(e.onActionButtonDeleteRow(e.tableRowSelected))}),_(2,"i",47)(3,"br"),a(),r(4,"p",22),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.DELETE")," "))}function W1(o,m){if(o&1&&(r(0,"mat-header-cell",48),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle," ")}}function H1(o,m){if(o&1&&(r(0,"mat-cell"),d(1),a()),o&2){let t=m.$implicit;n(),M(" ",t.id," ")}}function U1(o,m){if(o&1&&(r(0,"mat-header-cell",48),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle," ")}}function q1(o,m){if(o&1&&(r(0,"mat-cell"),_(1,"i",49),a()),o&2){let t=m.$implicit;n(),q("color",t.iconColor),u("ngClass",t.iconFont)}}function j1(o,m){if(o&1&&(r(0,"mat-header-cell",48),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle," ")}}function Z1(o,m){if(o&1&&(r(0,"mat-cell"),d(1),a()),o&2){let t=m.$implicit;n(),M(" ",t.title," ")}}function z1(o,m){if(o&1&&(r(0,"mat-header-cell",48),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.showInFormOrder==null?null:t.fieldsInfo.showInFormOrder.fieldTitle," ")}}function Q1(o,m){if(o&1&&(r(0,"mat-cell"),d(1),a()),o&2){let t=m.$implicit;n(),M(" ",t.showInFormOrder," ")}}function K1(o,m){if(o&1&&(r(0,"mat-header-cell",48),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.linkPropertyTypeLanduseId==null?null:t.fieldsInfo.linkPropertyTypeLanduseId.fieldTitle," ")}}function Y1(o,m){if(o&1&&(r(0,"mat-cell"),d(1),C(2,"cmstitle"),a()),o&2){let t=m.$implicit,i=g();n(),M(" ",Go(2,1,t.linkPropertyTypeLanduseId,i.dataModelEstatePropertyTypeLanduseResult.listItems)," ")}}function J1(o,m){o&1&&(r(0,"mat-header-cell"),d(1),C(2,"translate"),a()),o&2&&(n(),M(" ",h(2,1,"TITLE.OPTION")," "))}function X1(o,m){if(o&1&&(r(0,"mat-cell",50)(1,"button",51)(2,"mat-icon"),d(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),o&2){let t=P(5);n(),u("matMenuTriggerFor",t)}}function $1(o,m){o&1&&(r(0,"mat-header-cell",48),d(1,". "),a())}function eC(o,m){o&1&&(r(0,"mat-cell")(1,"mat-icon",52),d(2,"reorder"),a()())}function tC(o,m){o&1&&_(0,"mat-header-row")}function iC(o,m){if(o&1){let t=T();r(0,"mat-row",53),E("click",function(e){let l=c(t).$implicit,f=g();return p(f.onActionTableRowSelect(l,e))})("rtclick",function(e){let l=c(t).$implicit,f=g();return p(f.onActionTableRowSelect(l,e))}),a()}if(o&2){let t=m.$implicit,i=g();ce("ntk-row-selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var ho=class ho extends Kt{constructor(t,i,e,l,f,s,x,k,ye,Me,bt,mi){super(t,new vt,bt,f,k);this.contentService=t;this.estatePropertyTypeLanduseService=i;this.cmsConfirmationDialogService=e;this.cmsToastrService=l;this.tokenHelper=f;this.router=s;this.cdr=x;this.translate=k;this.cmsStoreService=ye;this.pageInfo=Me;this.publicHelper=bt;this.dialog=mi;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new He;this.filterDataModelQueryBuilder=[];this.dataModelEstatePropertyTypeLanduseResult=new Se;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["IconFont","ShowInFormOrder","LinkPropertyTypeLanduseId"];this.tabledisplayedColumnsMobileSource=["IconFont","ShowInFormOrder","LinkPropertyTypeLanduseId"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:di=>this.onSubmitOptionsSearch(di)},this.filteModelContent.sortColumn="ShowInFormOrder",this.filteModelContent.sortType=Ae.Ascending}filterModelCompiler(t){let i=JSON.parse(JSON.stringify(t));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}ngOnInit(){this.filteModelContent.sortColumn="ShowInFormOrder",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(t=>t.tokenInfoStore).subscribe(t=>ut(this,null,function*(){this.tokenInfo=t,this.DataGetAll()}))),this.getPropertyType()}getPropertyType(){let t=new He;t.rowPerPage=100,this.estatePropertyTypeLanduseService.ServiceGetAll(t).subscribe({next:i=>{this.dataModelEstatePropertyTypeLanduseResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(t=>t.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new vt);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.applyDataGetAllResult(e),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Ae.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Ae.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Ae.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onTableDropRow(t){let i=this.tableSource.data.findIndex(l=>l===t.item.data),e=new ra;e.id=this.tableSource.data[i].id,e.centerId=this.tableSource.data[t.currentIndex].id,i>t.currentIndex?e.actionGo=_n.GoUp:e.actionGo=_n.GoDown,this.contentService.ServiceEditStep(e).subscribe({next:l=>{l.isSuccess?(la(this.tableSource.data,i,t.currentIndex),this.tableSource.data=this.tableSource.data.slice()):this.cmsToastrService.typeErrorMessage(l.errorMessage)},error:l=>{this.cmsToastrService.typeError(l)}})}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(go,{height:"90%",panelClass:t,enterAnimationDuration:_e.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_e.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!(t?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Co,{height:"90%",panelClass:i,enterAnimationDuration:_e.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_e.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!(t?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],e=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(f,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonContentList(t=this.tableRowSelected){if(!(t?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(t),this.router.navigate(["/hypershop/content/PareintId/",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(x=>{i.set(x,0)}),this.translate.get("MESSAGE.All").subscribe(x=>{i.set(x,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(x=>{this.publicHelper.processService.processStart(e,x,this.constructorInfoAreaId)});let l=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetCount(l).subscribe({next:x=>{x.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,x.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(x.errorMessage),this.publicHelper.processService.processStop(e)},error:x=>{this.cmsToastrService.typeError(x),this.publicHelper.processService.processStop(e,!1)}});let f=this.filterModelCompiler(this.filteModelContent),s=new Xe;s.propertyName="recordStatus",s.value=Dt.Available,f.filters.push(s),this.contentService.ServiceGetCount(f).subscribe({next:x=>{x.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,x.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(x.errorMessage),this.publicHelper.processService.processStop(e)},error:x=>{this.cmsToastrService.typeError(x),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){t&&t.length>0?this.filterDataModelQueryBuilder=[...t]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};ho.\u0275fac=function(i){return new(i||ho)(b(oi),b(pi),b(yt),b(N),b(he),b(pe),b(G),b(O),b(Ce),b(Qt),b(W),b(wt))},ho.\u0275cmp=V({type:ho,selectors:[["app-estate-property-detail-group-list"]],standalone:!1,features:[B],decls:66,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"justify-content-start"],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-cubes","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","cdkDropList","",3,"matSortChange","cdkDropListDropped","dataSource","cdkDropListData"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","title"],["matColumnDef","ShowInFormOrder"],["matColumnDef","LinkPropertyTypeLanduseId"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,e){if(i&1){let l=T();r(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(s){return c(l),I(e.viewGuideNotice,s)||(e.viewGuideNotice=s),p(s)}),E("optionOnActionButtonMemoRow",function(){return c(l),p(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return c(l),p(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return c(l),p(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return c(l),p(e.onActionButtonPrintRow())}),ke(1,4)(2,5),D(3,6),r(4,"div",7),_(5,"div",8)(6,"div",9),a(),L(),ke(7,6),D(8,10),r(9,"a",11),E("click",function(){return c(l),p(e.viewGuideNotice=!e.viewGuideNotice)}),_(10,"i",12),a(),r(11,"a",11),E("click",function(){return c(l),p(e.onActionButtonReload())}),_(12,"i",13),a(),L(),D(13,14),r(14,"a",15),E("click",function(){return c(l),p(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(15,"mat-slide-toggle",16),d(16),C(17,"translate"),a(),r(18,"a",15),E("click",function(){return c(l),p(e.onActionButtonStatist())}),_(19,"mat-slide-toggle",16),d(20),C(21,"translate"),a(),L(),D(22,17),S(23,G1,7,3,"div",18),L(),D(24,19),S(25,O1,7,3,"div",18),S(26,N1,7,3,"div",18),r(27,"div",18)(28,"a",20),E("click",function(){return c(l),p(e.onActionButtonContentList(e.tableRowSelected))}),_(29,"i",21)(30,"br"),a(),r(31,"p",22),d(32),C(33,"translate"),a()(),L(),D(34,23),r(35,"app-cms-search-list",24),A("optionsChange",function(s){return c(l),I(e.optionsSearch,s)||(e.optionsSearch=s),p(s)}),a(),r(36,"app-cms-statist-list",24),A("optionsChange",function(s){return c(l),I(e.optionsStatist,s)||(e.optionsStatist=s),p(s)}),a(),L(),D(37,25),r(38,"mat-table",26,0),E("matSortChange",function(){c(l);let s=P(39);return p(e.onTableSortData(s))})("cdkDropListDropped",function(s){return c(l),p(e.onTableDropRow(s))}),D(40,27),U(41,W1,2,1,"mat-header-cell",28)(42,H1,2,1,"mat-cell",29),L(),D(43,30),U(44,U1,2,1,"mat-header-cell",28)(45,q1,2,3,"mat-cell",29),L(),D(46,31),U(47,j1,2,1,"mat-header-cell",28)(48,Z1,2,1,"mat-cell",29),L(),D(49,32),U(50,z1,2,1,"mat-header-cell",28)(51,Q1,2,1,"mat-cell",29),L(),D(52,33),U(53,K1,2,1,"mat-header-cell",28)(54,Y1,3,4,"mat-cell",29),L(),D(55,34),U(56,J1,3,3,"mat-header-cell",35)(57,X1,6,1,"mat-cell",36),L(),D(58,37),U(59,$1,2,0,"mat-header-cell",28)(60,eC,3,0,"mat-cell",29),L(),U(61,tC,1,0,"mat-header-row",38)(62,iC,1,2,"mat-row",39),a(),L(),D(63,40),r(64,"mat-paginator",41,1),E("page",function(s){return c(l),p(e.onTablePageingData(s))}),a(),L(),a()}i&2&&(u("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),n(12),ce("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),n(3),u("checked",e.optionsSearch.data.show),n(),M("",h(17,27,"ACTION.SEARCH")," "),n(3),u("checked",e.optionsStatist.data.show),n(),M("",h(21,29,"ACTION.STATIST")," "),n(3),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessAddRow?23:-1),n(2),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow?25:-1),n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow?26:-1),n(6),M(" ",h(33,31,"ACTION.PRODUCTS")," "),n(3),w("options",e.optionsSearch),n(),w("options",e.optionsStatist),n(2),u("dataSource",e.tableSource)("cdkDropListData",e.tableSource),n(23),u("matHeaderRowDef",e.tabledisplayedColumns),n(),u("matRowDefColumns",e.tabledisplayedColumns),n(2),u("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Q(33,B1)))},dependencies:[K,Tt,ft,kt,Vt,Be,Ge,Ft,Bt,Gt,Nt,qt,Wt,Ot,jt,Ht,Ut,Zt,zt,Oe,Ne,Yt,We,da,sa,F,ya],encapsulation:2});var So=ho;var nC=()=>[5,10,20,100],oC=(o,m)=>m.id;function aC(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",24),E("click",function(){c(t);let e=g();return p(e.onActionButtonNewRow())}),_(2,"i",25)(3,"br"),a(),r(4,"p",26),d(5),C(6,"translate"),a()()}o&2&&(n(5),v(h(6,1,"ACTION.ADD")))}function rC(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",27),E("click",function(){c(t);let e=g();return p(e.onActionButtonEditRow(e.tableRowSelected))}),_(2,"i",28)(3,"br"),a(),r(4,"p",26),d(5),C(6,"translate"),a()()}o&2&&(n(5),v(h(6,1,"ACTION.EDIT")))}function lC(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",29),E("click",function(){c(t);let e=g();return p(e.onActionButtonDeleteRow(e.tableRowSelected))}),_(2,"i",30)(3,"br"),a(),r(4,"p",26),d(5),C(6,"translate"),a()()}o&2&&(n(5),v(h(6,1,"ACTION.DELETE")))}function sC(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",31),E("click",function(){c(t);let e=g();return p(e.onActionButtonViewRow(e.tableRowSelected))}),_(2,"i",32)(3,"br"),a(),r(4,"p",26),d(5),C(6,"translate"),a()()}o&2&&(n(5),v(h(6,1,"ACTION.VIEW")))}function dC(o,m){if(o&1&&(r(0,"div",39),_(1,"i",41),d(2),a()),o&2){let t=g().$implicit,i=g(2);n(2),Ve(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",t.id)}}function cC(o,m){if(o&1&&(r(0,"div",39),_(1,"i",42),d(2),C(3,"localeDate"),a()),o&2){let t=g().$implicit,i=g(2);n(2),Ve(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",h(3,2,t.createdDate))}}function pC(o,m){if(o&1&&_(0,"select",44),o&2){let t=g(2).$implicit,i=g(2);u("contentService",i.contentService)("row",t)}}function mC(o,m){if(o&1&&(r(0,"div",39),_(1,"i",43),C(2,"statusIconClass"),S(3,pC,1,2,"select",44),a()),o&2){let t=g().$implicit,i=g(2);n(),u("ngClass",h(2,2,t.recordStatus)),n(2),y(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function uC(o,m){if(o&1&&(r(0,"div",39),_(1,"i",47),d(2),C(3,"localeDate"),a()),o&2){let t=g(2).$implicit,i=g(2);n(2),Ve(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",h(3,2,t.updatedDate))}}function fC(o,m){if(o&1){let t=T();r(0,"div",40),S(1,uC,4,4,"div",39),r(2,"div",39)(3,"span",45),E("click",function(e){return c(t),g(3).onActionCopied(),p(e.stopPropagation())}),_(4,"i",46),a(),d(5),a()()}if(o&2){let t=g().$implicit;n(),y(t.updatedDate?1:-1),n(2),u("cdkCopyToClipboard",t.id.toString()),n(2),M(" ID: ",t.id)}}function gC(o,m){if(o&1){let t=T();r(0,"div",34),E("click",function(e){let l=c(t).$implicit,f=g(2);return p(f.onActionTableRowSelect(l,e))})("rtclick",function(e){let l=c(t).$implicit,f=g(2);return p(f.onActionTableRowSelect(l,e))})("mouseenter",function(){let e=c(t).$implicit,l=g(2);return p(l.onActionTableRowMouseEnter(e))})("mouseleave",function(){let e=c(t).$implicit,l=g(2);return p(l.onActionTableRowMouseLeave(e))}),r(1,"div",35),_(2,"i",36),C(3,"statusIconClass"),a(),r(4,"div",37)(5,"div",38),d(6),a(),S(7,dC,3,2,"div",39),S(8,cC,4,4,"div",39),S(9,mC,4,4,"div",39),S(10,fC,6,3,"div",40),a()()}if(o&2){let t=m.$implicit,i=g(2);ce("selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))("bg-fade-highlight-light",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),pt("aria-label",t.title||t.id),n(2),u("ngClass",h(3,11,t.recordStatus)),n(4),v(t.title||"ID: "+t.id),n(),y(t.id?7:-1),n(),y(t.createdDate?8:-1),n(),y(t.recordStatus!==void 0?9:-1),n(),y(i.getRowExpanded(t)?10:-1)}}function _C(o,m){if(o&1&&(r(0,"div",20),Re(1,gC,11,13,"div",33,oC),a()),o&2){let t=g();n(),xe(t.dataModelResult.listItems)}}function CC(o,m){o&1&&(r(0,"div",21),d(1),C(2,"translate"),a()),o&2&&(n(),v(h(2,1,"MESSAGE.NoRecord")))}var ln=class ln extends So{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(t){let i=String(t);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(t){return String(t)}onDocumentClick(t){let i=t.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(t){return t.expanded===!0}};ln.\u0275fac=(()=>{let t;return function(e){return(t||(t=_t(ln)))(e||ln)}})(),ln.\u0275cmp=V({type:ln,selectors:[["app-estate-property-detail-group-list-mobile"]],hostBindings:function(i,e){i&1&&E("click",function(f){return e.onDocumentClick(f)},Ct)},standalone:!1,features:[B],decls:37,vars:31,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-calendar"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"]],template:function(i,e){if(i&1){let l=T();r(0,"app-cms-html-list-mobile",1),A("optionActionGuideNoticeDisplayChange",function(s){return c(l),I(e.viewGuideNotice,s)||(e.viewGuideNotice=s),p(s)}),E("optionOnActionButtonMemoRow",function(){return c(l),p(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return c(l),p(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return c(l),p(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return c(l),p(e.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return c(l),p(e.onActionLoadNextPage())}),ke(1,2)(2,3)(3,4),D(4,5),r(5,"a",6),E("click",function(){return c(l),p(e.viewGuideNotice=!e.viewGuideNotice)}),_(6,"i",7),a(),r(7,"a",6),E("click",function(){return c(l),p(e.onActionButtonReload())}),_(8,"i",8),a(),r(9,"a",6),E("click",function(){return c(l),p(e.onActionGridExpandRows(!0))}),_(10,"i",9),a(),r(11,"a",6),E("click",function(){return c(l),p(e.onActionGridExpandRows(!1))}),_(12,"i",10),a(),L(),D(13,11),r(14,"a",12),E("click",function(){return c(l),p(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(15,"mat-slide-toggle",13),d(16),C(17,"translate"),a(),r(18,"a",12),E("click",function(){return c(l),p(e.onActionButtonStatist())}),_(19,"mat-slide-toggle",13),d(20),C(21,"translate"),a(),L(),D(22,14),S(23,aC,7,3,"div",15),L(),D(24,16),S(25,rC,7,3,"div",15),S(26,lC,7,3,"div",15),S(27,sC,7,3,"div",15),L(),D(28,17),r(29,"app-cms-search-list",18),A("optionsChange",function(s){return c(l),I(e.optionsSearch,s)||(e.optionsSearch=s),p(s)}),a(),r(30,"app-cms-statist-list",18),A("optionsChange",function(s){return c(l),I(e.optionsStatist,s)||(e.optionsStatist=s),p(s)}),a(),L(),D(31,19),S(32,_C,3,0,"div",20)(33,CC,3,3,"div",21),L(),D(34,22),r(35,"mat-paginator",23,0),E("page",function(s){return c(l),p(e.onTablePageingData(s))}),a(),L(),a()}i&2&&(u("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey","estate.main.property-detail-group.list"),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplay",(e.tableRowSelected==null?null:e.tableRowSelected.id)>0)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),n(8),ce("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),n(7),u("checked",e.optionsSearch.data.show),n(),v(h(17,26,"ACTION.SEARCH")),n(3),u("checked",e.optionsStatist.data.show),n(),v(h(21,28,"ACTION.STATIST")),n(3),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessAddRow?23:-1),n(2),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow&&(e.tableRowSelected==null?null:e.tableRowSelected.id)>0?25:-1),n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow&&(e.tableRowSelected==null?null:e.tableRowSelected.id)>0?26:-1),n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessWatchRow&&(e.tableRowSelected==null?null:e.tableRowSelected.id)>0?27:-1),n(2),w("options",e.optionsSearch),n(),w("options",e.optionsStatist),n(2),y(!(e.dataModelResult==null||e.dataModelResult.listItems==null)&&e.dataModelResult.listItems.length?32:33),n(3),u("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Q(30,nC)))},dependencies:[K,H,Be,Ge,It,Oe,Ne,Pt,We,At,F,Rt,xt],encapsulation:2});var Qa=ln;var Sl=["*","*"];function hC(o,m){if(o&1&&(r(0,"label",4),d(1),a()),o&2){let t=g(2);u("for",Gi("app-cms-site-selector-",t.id)),n(),v(t.optionLabel)}}function SC(o,m){if(o&1&&(r(0,"mat-option",7)(1,"span"),d(2),a()()),o&2){let t=m.$implicit,i=g(2);u("value",t)("disabled",i.optionDisabled),n(2),v(i.displayOption(t))}}function yC(o,m){o&1&&_(0,"i",8)}function MC(o,m){o&1&&_(0,"i",9)}function EC(o,m){if(o&1){let t=T();r(0,"i",12),E("click",function(){c(t);let e=g(2);return p(e.onActionSelectClear())}),a()}}function bC(o,m){o&1&&(r(0,"em"),d(1),C(2,"translate"),a()),o&2&&(n(),M("(",h(2,1,"TITLE.Necessary"),")"))}function vC(o,m){if(o&1){let t=T();r(0,"div",1),_(1,"app-progress-spinner",3),S(2,hC,2,3,"label",4),_(3,"input",5),r(4,"mat-autocomplete",6,0),E("optionSelected",function(e){c(t);let l=g();return p(l.onActionSelect(e.option.value))}),Re(6,SC,3,3,"mat-option",7,mt),C(8,"async"),a(),S(9,yC,1,0,"i",8),S(10,MC,1,0,"i",9),S(11,EC,1,0,"i",10),r(12,"i",11),C(13,"translate"),E("click",function(){c(t);let e=g();return p(e.onActionButtonReload())}),a(),S(14,bC,3,3,"em"),dr(15),a()}if(o&2){let t=P(5),i=g();n(),u("optionsInfoAreaId",i.constructorInfoAreaId),n(),y((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),n(),u("placeholder",R(i.optionPlaceholder))("id",Gi("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),pt("disabled",i.optionDisabled?!0:null),n(),u("displayWith",i.displayFn),n(2),xe(h(8,19,i.filteredOptions)),n(3),y(i.formControl.valid?-1:9),n(),y(i.optionRequired&&i.formControl.valid?10:-1),n(),y((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?11:-1),n(),ce("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),u("title",R(h(13,21,"ACTION.RELOAD"))),n(2),y(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)==0)?14:-1)}}function IC(o,m){if(o&1){let t=T();r(0,"div",13)(1,"a",14),E("click",function(){let e=c(t).$implicit,l=g(2);return p(l.onActionSelect(e))}),d(2),a()()}if(o&2){let t=m.$implicit,i=g(2);n(),u("ngClass",t.id===(i.dataModelSelect==null?null:i.dataModelSelect.id)?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),pt("disabled",i.optionDisabled?!0:null),n(),v(i.displayOption(t))}}function TC(o,m){if(o&1&&(r(0,"div",2),Re(1,IC,3,3,"div",13,mt),C(3,"async"),dr(4,1),a()),o&2){let t=g();n(),xe(h(3,0,t.filteredOptions))}}var Ki=class Ki{constructor(m,t,i,e,l,f){this.coreEnumService=m;this.cmsToastrService=t;this.translate=i;this.cdr=e;this.publicHelper=l;this.categoryService=f;this.id=++Ki.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Se;this.dataModelSelect=new vt;this.formControl=new ca;this.optionTypeView=1;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new ji;this.optionReload=()=>this.onActionButtonReload();this.linkPropertyTypeLanduseId="";this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(m){this.onActionSelectForce(m)}set optionSelectParentForce(m){this.linkPropertyTypeLanduseId=m,this.loadOptions()}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(hr(""),_r(1500),Cr(),Sr(m=>typeof m=="string"||typeof m=="number"?this.DataGetAll(m||""):[]))}displayFn(m){return m?m.title:void 0}displayOption(m){return m?m.title:void 0}DataGetAll(m){return ut(this,null,function*(){let t=new He;if(t.rowPerPage=20,t.accessLoad=!0,typeof m=="string"&&m.length>0){let l=new Xe;l.propertyName="Name",l.value=m,l.searchType=cr.Contains,t.filters.push(l)}if(this.linkPropertyTypeLanduseId&&this.linkPropertyTypeLanduseId.length>0){var i=new Xe;i.propertyName="linkPropertyTypeLanduseId",i.value=this.linkPropertyTypeLanduseId,i.searchType=cr.Equal,t.filters.push(i)}let e=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)}),yield fr(this.categoryService.ServiceGetAll(t)).then(l=>(this.dataModelResult=l,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(e),l.listItems))})}onActionSelect(m){this.optionDisabled||(this.dataModelSelect=m,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(m){return this.filteredOptions.pipe(gr(t=>(t.find(i=>i.id===m.id)||t.push(m),t)))}onActionSelectForce(m){if(typeof m=="string"&&m.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===m)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(t=>t.id===m)){let t=this.dataModelResult.listItems.find(i=>i.id===m);this.dataModelSelect=t,this.formControl.setValue(t);return}this.categoryService.ServiceGetOneById(m).subscribe({next:t=>{t.isSuccess?(this.filteredOptions=this.push(t.item),this.dataModelSelect=t.item,this.formControl.setValue(t.item),this.optionChange.emit(t.item)):this.cmsToastrService.typeErrorMessage(t.errorMessage)}});return}if(typeof m==typeof vt){this.filteredOptions=this.push(m),this.dataModelSelect=m,this.formControl.setValue(m);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new vt,this.loadOptions()}};Ki.nextId=0,Ki.\u0275fac=function(t){return new(t||Ki)(b(j),b(N),b(O),b(G),b(W),b(oi))},Ki.\u0275cmp=V({type:Ki,selectors:[["app-estate-property-detail-group-selector"]],inputs:{optionTypeView:"optionTypeView",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce",optionSelectParentForce:"optionSelectParentForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Sl,decls:2,vars:2,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[1,"row","mb-0"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"]],template:function(t,i){t&1&&(yr(Sl),S(0,vC,16,23,"div",1),S(1,TC,5,2,"div",2)),t&2&&(y(i.optionTypeView===1?0:-1),n(),y(i.optionTypeView===2?1:-1))},dependencies:[K,Y,J,X,Nr,qr,Ur,jr,H,z,Mr,F],encapsulation:2});var Fi=Ki;var wC=["vform"],AC=()=>["fa"];function RC(o,m){if(o&1){let t=T();r(0,"app-cms-enum-record-status-selector",24),A("modelChange",function(e){c(t);let l=g();return I(l.dataModel.recordStatus,e)||(l.dataModel.recordStatus=e),p(e)}),a()}if(o&2){let t=g();w("model",t.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function xC(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function PC(o,m){if(o&1){let t=T();r(0,"div",17)(1,"label",18),d(2),a(),r(3,"input",25),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconFont,e)||(l.dataModel.iconFont=e),p(e)}),E("iconPickerSelect",function(e){c(t);let l=g();return p(l.onIconPickerSelect(e))}),a(),r(4,"em",26),_(5,"i",27),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle)),w("ngModel",t.dataModel.iconFont),u("iconPicker",t.dataModel.iconFont)("ipIconPack",Q(12,AC))("ipPosition","top")("ipWidth","250px")("disabled",!(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessAddField)),n(2),q("color",t.dataModel.iconColor?t.dataModel.iconColor:null),u("ngClass",t.dataModel.iconFont)}}function DC(o,m){if(o&1){let t=T();r(0,"div",17)(1,"label",18),d(2),a(),r(3,"div",28)(4,"input",29,3),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconColor,e)||(l.dataModel.iconColor=e),p(e)}),a(),_(6,"ngx-mat-color-toggle",30)(7,"ngx-mat-color-picker",31,4),a()()}if(o&2){let t=P(8),i=g();n(2),v(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),n(2),q("background",i.dataModel.iconColor),u("placeholder",R(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),w("ngModel",i.dataModel.iconColor),u("ngxMatColorPicker",t)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),n(2),u("for",t),n(),u("touchUi",!0)("color","primary")}}function LC(o,m){o&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function kC(o,m){if(o&1){let t=T();r(0,"div",23)(1,"button",32),E("click",function(){c(t);let e=g();return p(e.onActionBackToParent())}),_(2,"i",33),d(3),C(4,"translate"),a(),r(5,"button",34),_(6,"i",35),d(7),C(8,"translate"),a()()}if(o&2){g();let t=P(14);n(3),M(" ",h(4,3,"ACTION.CANCEL")," "),n(2),u("disabled",!t.form.valid),n(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var yo=class yo extends Qe{constructor(t,i,e,l,f,s,x,k,ye){super(i,new si,f,ye);this.coreEnumService=t;this.estatePropertyDetailService=i;this.cmsToastrService=e;this.estateEnumService=l;this.publicHelper=f;this.cdr=s;this.router=x;this.activatedRoute=k;this.translate=ye;this.requestId="";this.requestLinkPropertyTypeLanduseId="";this.requestLinkPropertyDetailGroupId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Se;this.dataModel=new si;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.activatedRoute.snapshot.paramMap.get("id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("id")),this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeLanduseId")&&(this.requestLinkPropertyTypeLanduseId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeLanduseId")),this.activatedRoute.snapshot.paramMap.get("LinkPropertyDetailGroupId")&&(this.requestLinkPropertyDetailGroupId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyDetailGroupId")),this.requestLinkPropertyTypeLanduseId&&this.requestLinkPropertyTypeLanduseId.length>0&&(this.dataModel.linkPropertyTypeLanduseId=this.requestLinkPropertyTypeLanduseId),this.requestLinkPropertyDetailGroupId&&this.requestLinkPropertyDetailGroupId.length>0&&(this.dataModel.linkPropertyDetailGroupId=this.requestLinkPropertyDetailGroupId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.requestId&&this.requestId.length>0?(this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t+" copy"}),this.DataClone()):this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataClone(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyDetailService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess?(this.dataModel=i.item,i.item.title=i.item.title+" copy",this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyDetailService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.onActionBackToParent()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorSelect(t){this.dataModel.linkPropertyTypeLanduseId=null,t&&t.id&&t.id.length>0&&(this.dataModel.linkPropertyTypeLanduseId=t.id)}onActionSelectorDetailGroup(t){this.dataModel.linkPropertyDetailGroupId=null,t&&t.id&&t.id.length>0&&(this.dataModel.linkPropertyDetailGroupId=t.id)}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onActionBackToParent(){this.requestLinkPropertyTypeLanduseId&&this.requestLinkPropertyTypeLanduseId.length>0?this.router.navigate(["/estate/main/property-detail/LinkPropertyTypeLanduseId/"+this.requestLinkPropertyTypeLanduseId]):this.router.navigate(["/estate/main/property-detail"])}};yo.\u0275fac=function(i){return new(i||yo)(b(j),b(Mi),b(N),b(Mn),b(W),b(G),b(pe),b(Ee),b(O))},yo.\u0275cmp=V({type:yo,selectors:[["app-estate-property-detail-add-mobile"]],viewQuery:function(i,e){if(i&1&&$(wC,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:47,vars:39,consts:[["vform","ngForm"],["Title",""],["Description",""],["iconColor",""],["iconColorPicker",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[1,"cms-m-header-title"],[1,"cms-m-header-spacer"],[1,"cms-m-content","safe-area-content"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"cms-m-form-field"],[1,"cms-m-form-label"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder"],[1,"cms-m-char-count"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["matInput","","name","dataModel.description","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"cms-m-form-textarea",3,"ngModelChange","ngModel","placeholder"],[1,"cms-m-footer","safe-area-bottom"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["matInput","","type","text","name","dataModel.iconFont","id","dataModel.iconFont","ipButtonStyleClass","",1,"cms-m-form-input",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","ipWidth","placeholder","disabled"],[2,"opacity","1 !important"],[2,"font-size","20px !important",3,"ngClass"],[1,"cms-m-color-picker-wrapper"],["matInput","","type","text","name","dataModel.iconColor","id","dataModel.iconColor",1,"cms-m-form-input",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"cms-m-btn","cms-m-btn-secondary",3,"click"],["aria-hidden","true",1,"fa-solid","fa-times"],["type","submit",1,"cms-m-btn","cms-m-btn-success",3,"disabled"],["aria-hidden","true",1,"fa-solid","fa-save"]],template:function(i,e){if(i&1){let l=T();r(0,"div",5),_(1,"app-progress-spinner",6),r(2,"div",7)(3,"div",8)(4,"button",9),C(5,"translate"),E("click",function(){return c(l),p(e.onActionBackToParent())}),_(6,"i",10),a(),r(7,"h1",11),d(8),C(9,"translate"),a(),_(10,"div",12),a()(),r(11,"div",13),_(12,"app-cms-form-result-message",14),r(13,"form",15,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),S(15,RC,1,5,"app-cms-enum-record-status-selector",16),r(16,"div",17)(17,"label",18),d(18),a(),r(19,"input",19,1),A("ngModelChange",function(s){return c(l),I(e.dataModel.title,s)||(e.dataModel.title=s),p(s)}),a(),r(21,"em",20),d(22),a(),S(23,xC,5,3,"mat-error"),a(),r(24,"div",17)(25,"label",18),d(26),C(27,"translate"),a(),r(28,"app-estate-property-type-landuse-selector",21),C(29,"translate"),E("optionChange",function(s){return c(l),p(e.onActionSelectorSelect(s))}),a()(),r(30,"div",17)(31,"label",18),d(32),C(33,"translate"),a(),r(34,"app-estate-property-detail-group-selector",21),C(35,"translate"),E("optionChange",function(s){return c(l),p(e.onActionSelectorDetailGroup(s))}),a()(),S(36,PC,6,13,"div",17),S(37,DC,9,11,"div",17),r(38,"div",17)(39,"label",18),d(40),a(),r(41,"textarea",22,2),A("ngModelChange",function(s){return c(l),I(e.dataModel.description,s)||(e.dataModel.description=s),p(s)}),a(),r(43,"em",20),d(44),a(),S(45,LC,5,3,"mat-error"),a(),S(46,kC,9,7,"div",23),a()()()}if(i&2){let l=P(20),f=P(42);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),Pe("aria-label",R(h(5,27,"ACTION.BACK"))),n(4),M(" ",e.formInfo.formTitle||h(9,29,"ROUTE.ESTATE.PROPERTYDETAIL")," "),n(4),u("formInfo",e.formInfo),n(3),y(e.fieldsInfo.recordStatus!=null&&e.fieldsInfo.recordStatus.accessWatchField?15:-1),n(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),w("ngModel",e.dataModel.title),n(3),M("",l.value.length," / 100"),n(),y(l.errors!=null&&l.errors.required?23:-1),n(3),v(h(27,31,"TITLE.USER")),n(2),u("optionSelectForce",e.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",h(29,33,"TITLE.USER")),n(4),v(h(33,35,"TITLE.Category")),n(2),u("optionSelectForce",e.dataModel.linkPropertyDetailGroupId)("optionPlaceholder",h(35,37,"TITLE.Category")),n(2),y(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessWatchField?36:-1),n(),y(e.fieldsInfo.iconColor!=null&&e.fieldsInfo.iconColor.accessWatchField?37:-1),n(3),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),w("ngModel",e.dataModel.description),n(3),M("",f.value.length," / 500"),n(),y(f.errors!=null&&f.errors.required?45:-1),n(),y(e.formInfo.submitButtonEnabled?46:-1)}},dependencies:[K,ae,Y,J,ie,X,re,le,oe,ne,se,Fe,H,Le,z,de,ai,ze,Ze,je,qe,Fi,F],encapsulation:2});var ea=yo;var VC=["vform"],FC=()=>["fa"];function BC(o,m){if(o&1){let t=T();r(0,"app-cms-enum-record-status-selector",23),A("modelChange",function(e){c(t);let l=g();return I(l.dataModel.recordStatus,e)||(l.dataModel.recordStatus=e),p(e)}),a()}if(o&2){let t=g();w("model",t.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function GC(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function OC(o,m){if(o&1){let t=T();r(0,"div",17)(1,"label",18),d(2),a(),r(3,"input",24,2),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.title,e)||(l.dataModel.title=e),p(e)}),a(),r(5,"em",21),d(6),a(),S(7,GC,5,3,"mat-error"),a()}if(o&2){let t=P(4),i=g();n(2),v(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),u("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),n(3),M("",t.value.length," / 100"),n(),y(t.errors!=null&&t.errors.required?7:-1)}}function NC(o,m){if(o&1){let t=T();r(0,"div",17)(1,"label",18),d(2),a(),r(3,"input",25),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconFont,e)||(l.dataModel.iconFont=e),p(e)}),E("iconPickerSelect",function(e){c(t);let l=g();return p(l.onIconPickerSelect(e))}),a(),r(4,"em",26),_(5,"i",27),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle)),w("ngModel",t.dataModel.iconFont),u("iconPicker",t.dataModel.iconFont)("ipIconPack",Q(12,FC))("ipPosition","top")("ipWidth","250px")("disabled",!(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessEditField)),n(2),q("color",t.dataModel.iconColor?t.dataModel.iconColor:null),u("ngClass",t.dataModel.iconFont)}}function WC(o,m){if(o&1){let t=T();r(0,"div",17)(1,"label",18),d(2),a(),r(3,"div",28)(4,"input",29,3),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconColor,e)||(l.dataModel.iconColor=e),p(e)}),a(),_(6,"ngx-mat-color-toggle",30)(7,"ngx-mat-color-picker",31,4),a()()}if(o&2){let t=P(8),i=g();n(2),v(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),n(2),q("background",i.dataModel.iconColor),u("placeholder",R(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),w("ngModel",i.dataModel.iconColor),u("ngxMatColorPicker",t)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),n(2),u("for",t),n(),u("touchUi",!0)("color","primary")}}function HC(o,m){o&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function UC(o,m){if(o&1){let t=T();r(0,"div",22)(1,"button",32),E("click",function(){c(t);let e=g();return p(e.onActionBackToParent())}),_(2,"i",33),d(3),C(4,"translate"),a(),r(5,"button",34),_(6,"i",35),d(7),C(8,"translate"),a()()}if(o&2){g();let t=P(14);n(3),M(" ",h(4,3,"ACTION.CANCEL")," "),n(2),u("disabled",!t.form.valid),n(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var Mo=class Mo extends rt{constructor(t,i,e,l,f,s,x,k){super(i,new si,l,k);this.coreEnumService=t;this.estatePropertyDetailService=i;this.cmsToastrService=e;this.publicHelper=l;this.router=f;this.cdr=s;this.activatedRoute=x;this.translate=k;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new tt;this.dataModel=new si;this.keywordDefaultDataModel=[];this.keywordNullDataModel=[];this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.activatedRoute.snapshot.paramMap.get("id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("id")),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.onActionBackToParent();return}this.DataGetOneContent(),this.getInputDataTypeEnum()}getInputDataTypeEnum(){this.coreEnumService.ServiceInputDataTypeEnum().subscribe({next:t=>{this.dataModelInputDataTypeEnumResult=t}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyDetailService.setAccessLoad(),this.estatePropertyDetailService.setAccessDataType(nt.Editor),this.estatePropertyDetailService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyDetailService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.onActionBackToParent()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorSelect(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeLanduseId=t.id}onActionSelectorDetailGroup(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyDetailGroupId=t.id}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onActionBackToParent(){this.dataModel.linkPropertyTypeLanduseId&&this.dataModel.linkPropertyTypeLanduseId.length>0?this.router.navigate(["/estate/main/property-detail/LinkPropertyTypeLanduseId/"+this.dataModel.linkPropertyTypeLanduseId]):this.router.navigate(["/estate/main/property-detail"])}};Mo.\u0275fac=function(i){return new(i||Mo)(b(j),b(Mi),b(N),b(W),b(pe),b(G),b(Ee),b(O))},Mo.\u0275cmp=V({type:Mo,selectors:[["app-estate-property-detail-edit-mobile"]],viewQuery:function(i,e){if(i&1&&$(VC,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:40,vars:34,consts:[["vform","ngForm"],["Description",""],["Title",""],["iconColor",""],["iconColorPicker",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[1,"cms-m-header-title"],[1,"cms-m-header-spacer"],[1,"cms-m-content","safe-area-content"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"cms-m-form-field"],[1,"cms-m-form-label"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["matInput","","name","dataModel.description","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"cms-m-form-textarea",3,"ngModelChange","ngModel","placeholder"],[1,"cms-m-char-count"],[1,"cms-m-footer","safe-area-bottom"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder","disabled"],["matInput","","type","text","name","dataModel.iconFont","id","dataModel.iconFont","ipButtonStyleClass","",1,"cms-m-form-input",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","ipWidth","placeholder","disabled"],[2,"opacity","1 !important"],[2,"font-size","20px !important",3,"ngClass"],[1,"cms-m-color-picker-wrapper"],["matInput","","type","text","name","dataModel.iconColor","id","dataModel.iconColor",1,"cms-m-form-input",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"cms-m-btn","cms-m-btn-secondary",3,"click"],["aria-hidden","true",1,"fa-solid","fa-times"],["type","submit",1,"cms-m-btn","cms-m-btn-success",3,"disabled"],["aria-hidden","true",1,"fa-solid","fa-save"]],template:function(i,e){if(i&1){let l=T();r(0,"div",5),_(1,"app-progress-spinner",6),r(2,"div",7)(3,"div",8)(4,"button",9),C(5,"translate"),E("click",function(){return c(l),p(e.onActionBackToParent())}),_(6,"i",10),a(),r(7,"h1",11),d(8),C(9,"translate"),a(),_(10,"div",12),a()(),r(11,"div",13),_(12,"app-cms-form-result-message",14),r(13,"form",15,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),S(15,BC,1,5,"app-cms-enum-record-status-selector",16),S(16,OC,8,7,"div",17),r(17,"div",17)(18,"label",18),d(19),C(20,"translate"),a(),r(21,"app-estate-property-type-landuse-selector",19),C(22,"translate"),E("optionChange",function(s){return c(l),p(e.onActionSelectorSelect(s))}),a()(),r(23,"div",17)(24,"label",18),d(25),C(26,"translate"),a(),r(27,"app-estate-property-detail-group-selector",19),C(28,"translate"),E("optionChange",function(s){return c(l),p(e.onActionSelectorDetailGroup(s))}),a()(),S(29,NC,6,13,"div",17),S(30,WC,9,11,"div",17),r(31,"div",17)(32,"label",18),d(33),a(),r(34,"textarea",20,1),A("ngModelChange",function(s){return c(l),I(e.dataModel.description,s)||(e.dataModel.description=s),p(s)}),a(),r(36,"em",21),d(37),a(),S(38,HC,5,3,"mat-error"),a(),S(39,UC,9,7,"div",22),a()()()}if(i&2){let l=P(35);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),Pe("aria-label",R(h(5,22,"ACTION.BACK"))),n(4),M(" ",e.formInfo.formTitle||h(9,24,"ROUTE.ESTATE.PROPERTYDETAIL")," "),n(4),u("formInfo",e.formInfo),n(3),y(e.fieldsInfo.recordStatus!=null&&e.fieldsInfo.recordStatus.accessWatchField?15:-1),n(),y(e.fieldsInfo.title!=null&&e.fieldsInfo.title.accessWatchField?16:-1),n(3),v(h(20,26,"TITLE.USER")),n(2),u("optionSelectForce",e.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",h(22,28,"TITLE.USER")),n(4),v(h(26,30,"TITLE.Category")),n(2),u("optionSelectForce",e.dataModel.linkPropertyDetailGroupId)("optionPlaceholder",h(28,32,"TITLE.Category")),n(2),y(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessWatchField?29:-1),n(),y(e.fieldsInfo.iconColor!=null&&e.fieldsInfo.iconColor.accessWatchField?30:-1),n(3),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),w("ngModel",e.dataModel.description),n(3),M("",l.value.length," / 500"),n(),y(l.errors!=null&&l.errors.required?38:-1),n(),y(e.formInfo.submitButtonEnabled?39:-1)}},dependencies:[K,ae,Y,J,ie,X,re,le,oe,ne,se,Fe,H,Le,z,de,ai,ze,Ze,je,qe,Fi,F],encapsulation:2});var Ya=Mo;var zC=["vform"],QC=()=>["fa"];function KC(o,m){o&1&&_(0,"i",18)}function YC(o,m){o&1&&_(0,"i",19)}function JC(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function XC(o,m){if(o&1){let t=T();r(0,"div",15)(1,"label",33),d(2),a(),r(3,"input",34),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconFont,e)||(l.dataModel.iconFont=e),p(e)}),E("iconPickerSelect",function(e){c(t);let l=g();return p(l.onIconPickerSelect(e))}),a(),r(4,"em",35),_(5,"i",36),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle)),w("ngModel",t.dataModel.iconFont),u("iconPicker",t.dataModel.iconFont)("ipIconPack",Q(12,QC))("ipPosition","top")("ipWidth","250px")("disabled",!(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessAddField)),n(2),q("color",t.dataModel.iconColor?t.dataModel.iconColor:null),u("ngClass",t.dataModel.iconFont)}}function $C(o,m){if(o&1){let t=T();r(0,"div",21)(1,"label",37),d(2),a(),r(3,"div",38)(4,"div",39)(5,"input",40,5),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconColor,e)||(l.dataModel.iconColor=e),p(e)}),a()(),r(7,"div",41),_(8,"ngx-mat-color-toggle",42)(9,"ngx-mat-color-picker",43,6),a()()()}if(o&2){let t=P(10),i=g();n(2),v(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),n(3),q("background",i.dataModel.iconColor),u("placeholder",R(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),w("ngModel",i.dataModel.iconColor),u("ngxMatColorPicker",t)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),n(3),u("for",t),n(),u("touchUi",!0)("color","primary")}}function eh(o,m){if(o&1){let t=T();r(0,"div",15)(1,"label",44),d(2),a(),r(3,"input",45,7),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.showInFormOrder,e)||(l.dataModel.showInFormOrder=e),p(e)}),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.showInFormOrder==null?null:t.fieldsInfo.showInFormOrder.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.showInFormOrder==null?null:t.fieldsInfo.showInFormOrder.fieldTitle)),w("ngModel",t.dataModel.showInFormOrder),u("disabled",!(t.fieldsInfo.showInFormOrder!=null&&t.fieldsInfo.showInFormOrder.accessAddField))}}function th(o,m){if(o&1){let t=T();r(0,"app-cms-enum-x-selector",46),A("modelChange",function(e){c(t);let l=g();return I(l.dataModel.inputDataType,e)||(l.dataModel.inputDataType=e),p(e)}),a()}if(o&2){let t=g();u("optionDataListResult",t.dataModelInputDataTypeEnumResult),w("model",t.dataModel.inputDataType),u("optionDisabled",!1)("optionLabel",t.fieldsInfo.inputDataType==null?null:t.fieldsInfo.inputDataType.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ih(o,m){if(o&1){let t=T();r(0,"div",15)(1,"label",47),d(2),a(),r(3,"input",48,8),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.configValueIntValueMin,e)||(l.dataModel.configValueIntValueMin=e),p(e)}),a(),r(5,"em"),d(6),a()()}if(o&2){let t=g(),i=P(33);n(2),v(t.fieldsInfo.configValueIntValueMin==null?null:t.fieldsInfo.configValueIntValueMin.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.configValueIntValueMin==null?null:t.fieldsInfo.configValueIntValueMin.fieldTitle)),w("ngModel",t.dataModel.configValueIntValueMin),n(3),M("",i.value.length," / 64")}}function nh(o,m){if(o&1){let t=T();r(0,"div",15)(1,"label",49),d(2),a(),r(3,"input",50,8),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.configValueIntValueMax,e)||(l.dataModel.configValueIntValueMax=e),p(e)}),a(),r(5,"em"),d(6),a()()}if(o&2){let t=g(),i=P(33);n(2),v(t.fieldsInfo.configValueIntValueMax==null?null:t.fieldsInfo.configValueIntValueMax.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.configValueIntValueMax==null?null:t.fieldsInfo.configValueIntValueMax.fieldTitle)),w("ngModel",t.dataModel.configValueIntValueMax),n(3),M("",i.value.length," / 64")}}function oh(o,m){if(o&1){let t=T();r(0,"app-cms-enum-x-selector",46),A("modelChange",function(e){c(t);let l=g(2);return I(l.dataModel.inputDataType,e)||(l.dataModel.inputDataType=e),p(e)}),a()}if(o&2){let t=g(2);u("optionDataListResult",t.dataModelInputDataTypeEnumResult),w("model",t.dataModel.inputDataType),u("optionDisabled",!1)("optionLabel",t.fieldsInfo.inputDataType==null?null:t.fieldsInfo.inputDataType.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ah(o,m){if(o&1){let t=T();r(0,"div",15)(1,"label",47),d(2),a(),r(3,"input",48,8),A("ngModelChange",function(e){c(t);let l=g(2);return I(l.dataModel.configValueIntValueMin,e)||(l.dataModel.configValueIntValueMin=e),p(e)}),a(),r(5,"em"),d(6),a()()}if(o&2){g();let t=P(9),i=g();n(2),v(i.fieldsInfo.configValueIntValueMin==null?null:i.fieldsInfo.configValueIntValueMin.fieldTitle),n(),u("placeholder",R(i.fieldsInfo.configValueIntValueMin==null?null:i.fieldsInfo.configValueIntValueMin.fieldTitle)),w("ngModel",i.dataModel.configValueIntValueMin),n(3),M("",t.value.length," / 64")}}function rh(o,m){if(o&1){let t=T();r(0,"div",15)(1,"label",49),d(2),a(),r(3,"input",50,8),A("ngModelChange",function(e){c(t);let l=g(2);return I(l.dataModel.configValueIntValueMax,e)||(l.dataModel.configValueIntValueMax=e),p(e)}),a(),r(5,"em"),d(6),a()()}if(o&2){g();let t=P(9),i=g();n(2),v(i.fieldsInfo.configValueIntValueMax==null?null:i.fieldsInfo.configValueIntValueMax.fieldTitle),n(),u("placeholder",R(i.fieldsInfo.configValueIntValueMax==null?null:i.fieldsInfo.configValueIntValueMax.fieldTitle)),w("ngModel",i.dataModel.configValueIntValueMax),n(3),M("",t.value.length," / 64")}}function lh(o,m){if(o&1){let t=T();r(0,"div",25)(1,"div",51)(2,"h5",52),d(3),a()(),r(4,"div",53)(5,"div",54)(6,"input",55),A("ngModelChange",function(e){c(t);let l=g(2);return I(l.dataModel.invisibleForEndUser,e)||(l.dataModel.invisibleForEndUser=e),p(e)}),a(),_(7,"label",56),a()()()}if(o&2){let t=g(2);n(3),M(" ",t.fieldsInfo.invisibleForEndUser==null?null:t.fieldsInfo.invisibleForEndUser.fieldTitle," "),n(3),w("ngModel",t.dataModel.invisibleForEndUser)}}function sh(o,m){if(o&1){let t=T();r(0,"div",25)(1,"div",51)(2,"h5",52),d(3),a()(),S(4,oh,1,6,"app-cms-enum-x-selector",22),r(5,"div",15)(6,"label",23),d(7),a(),r(8,"input",24,2),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.unit,e)||(l.dataModel.unit=e),p(e)}),a(),r(10,"em"),d(11),a()(),S(12,ah,7,5,"div",15),S(13,rh,7,5,"div",15),S(14,lh,8,2,"div",25),a()}if(o&2){let t=P(9),i=g();n(3),M(" ",i.fieldsInfo.invisibleForEndUser==null?null:i.fieldsInfo.invisibleForEndUser.fieldTitle," "),n(),y(i.fieldsInfo.inputDataType!=null&&i.fieldsInfo.inputDataType.accessWatchField?4:-1),n(3),v(i.fieldsInfo.unit==null?null:i.fieldsInfo.unit.fieldTitle),n(),u("placeholder",R(i.fieldsInfo.unit==null?null:i.fieldsInfo.unit.fieldTitle)),w("ngModel",i.dataModel.unit),n(3),M("",t.value.length," / 64"),n(),y(i.dataModel.inputDataType===1||i.dataModel.inputDataType===3?12:-1),n(),y(i.dataModel.inputDataType===1||i.dataModel.inputDataType===3?13:-1),n(),y(i.fieldsInfo.invisibleForEndUser!=null&&i.fieldsInfo.invisibleForEndUser.accessWatchField?14:-1)}}function dh(o,m){if(o&1){let t=T();r(0,"div",25)(1,"div",51)(2,"h5",57),d(3),a()(),r(4,"div",53)(5,"div",54)(6,"input",58),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.invisibleForSubmiter,e)||(l.dataModel.invisibleForSubmiter=e),p(e)}),a(),_(7,"label",59),a()()()}if(o&2){let t=g();n(3),M(" ",t.fieldsInfo.invisibleForSubmiter==null?null:t.fieldsInfo.invisibleForSubmiter.fieldTitle," "),n(3),w("ngModel",t.dataModel.invisibleForSubmiter)}}function ch(o,m){if(o&1){let t=T();r(0,"div",25)(1,"div",51)(2,"h5",60),d(3),a()(),r(4,"div",53)(5,"div",54)(6,"input",61),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.required,e)||(l.dataModel.required=e),p(e)}),a(),_(7,"label",62),a()()()}if(o&2){let t=g();n(3),M(" ",t.fieldsInfo.required==null?null:t.fieldsInfo.required.fieldTitle," "),n(3),w("ngModel",t.dataModel.required)}}function ph(o,m){if(o&1){let t=T();r(0,"div",25)(1,"div",51)(2,"h5",63),d(3),a()(),r(4,"div",53)(5,"div",54)(6,"input",64),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.isHistoryable,e)||(l.dataModel.isHistoryable=e),p(e)}),a(),_(7,"label",65),a()()()}if(o&2){let t=g();n(3),M(" ",t.fieldsInfo.isHistoryable==null?null:t.fieldsInfo.isHistoryable.fieldTitle," "),n(3),w("ngModel",t.dataModel.isHistoryable)}}function mh(o,m){if(o&1){let t=T();r(0,"div",25)(1,"div",51)(2,"h5",66),d(3),a()(),r(4,"div",53)(5,"div",54)(6,"input",67),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.showInFastSearch,e)||(l.dataModel.showInFastSearch=e),p(e)}),a(),_(7,"label",68),a()()()}if(o&2){let t=g();n(3),M(" ",t.fieldsInfo.showInFastSearch==null?null:t.fieldsInfo.showInFastSearch.fieldTitle," "),n(3),w("ngModel",t.dataModel.showInFastSearch)}}function uh(o,m){if(o&1){let t=T();r(0,"div",25)(1,"div",51)(2,"h5",69),d(3),a()(),r(4,"div",53)(5,"div",54)(6,"input",70),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.configValueForceUseDefaultValue,e)||(l.dataModel.configValueForceUseDefaultValue=e),p(e)}),a(),_(7,"label",71),a()()()}if(o&2){let t=g();n(3),M(" ",t.fieldsInfo.configValueForceUseDefaultValue==null?null:t.fieldsInfo.configValueForceUseDefaultValue.fieldTitle," "),n(3),w("ngModel",t.dataModel.configValueForceUseDefaultValue)}}function fh(o,m){if(o&1){let t=T();r(0,"div",25)(1,"div",51)(2,"h5",72),d(3),a()(),r(4,"div",53)(5,"div",54)(6,"input",73),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.configValueMultipleChoice,e)||(l.dataModel.configValueMultipleChoice=e),p(e)}),a(),_(7,"label",74),a()()()}if(o&2){let t=g();n(3),M(" ",t.fieldsInfo.configValueMultipleChoice==null?null:t.fieldsInfo.configValueMultipleChoice.fieldTitle," "),n(3),w("ngModel",t.dataModel.configValueMultipleChoice)}}function gh(o,m){if(o&1){let t=T();r(0,"mat-chip",75),E("removed",function(){let e=c(t).$implicit,l=g();return p(l.removeTagDefault(e))}),d(1),r(2,"button",76)(3,"mat-icon"),d(4,"cancel"),a()()()}if(o&2){let t=m.$implicit;n(),M(" ",t," ")}}function _h(o,m){if(o&1){let t=T();r(0,"mat-chip",75),E("removed",function(){let e=c(t).$implicit,l=g();return p(l.removeTagNull(e))}),d(1),r(2,"button",76)(3,"mat-icon"),d(4,"cancel"),a()()()}if(o&2){let t=m.$implicit;n(),M(" ",t," ")}}function Ch(o,m){o&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function hh(o,m){if(o&1&&(r(0,"button",79),_(1,"i",80),d(2),C(3,"translate"),a()),o&2){g(2);let t=P(10);u("disabled",!t.form.valid),n(2),M(" ",h(3,2,"ACTION.SAVE")," ")}}function Sh(o,m){if(o&1){let t=T();r(0,"div",32)(1,"button",77),E("click",function(){c(t);let e=g();return p(e.onFormCancel())}),_(2,"i",78),d(3),C(4,"translate"),a(),S(5,hh,4,4,"button",79),a()}if(o&2){let t=g();n(3),M(" ",h(4,2,"ACTION.CANCEL")," "),n(2),y(t.formInfo.submitButtonEnabled?5:-1)}}var Eo=class Eo extends Qe{constructor(t,i,e,l,f,s,x,k,ye){super(l,new si,x,ye);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estatePropertyDetailService=l;this.cmsToastrService=f;this.estateEnumService=s;this.publicHelper=x;this.cdr=k;this.translate=ye;this.requestLinkPropertyTypeLanduseId="";this.requestLinkPropertyDetailGroupId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Se;this.dataModel=new si;this.fileManagerOpenForm=!1;this.dataModelInputDataTypeEnumResult=new Se;this.keywordDefaultDataModel=[];this.keywordNullDataModel=[];this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,t&&(this.requestLinkPropertyTypeLanduseId=t.linkPropertyTypeLanduseId,this.requestLinkPropertyDetailGroupId=t.linkPropertyDetailGroupId),this.requestLinkPropertyTypeLanduseId&&this.requestLinkPropertyTypeLanduseId.length>0&&(this.dataModel.linkPropertyTypeLanduseId=this.requestLinkPropertyTypeLanduseId),this.requestLinkPropertyDetailGroupId&&this.requestLinkPropertyDetailGroupId.length>0&&(this.dataModel.linkPropertyDetailGroupId=this.requestLinkPropertyDetailGroupId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess(),this.getInputDataTypeEnum()}getInputDataTypeEnum(){this.coreEnumService.ServiceInputDataTypeEnum().subscribe({next:t=>{this.dataModelInputDataTypeEnumResult=t}})}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyDetailService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorSelect(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeLanduseId=t.id}onActionSelectorDetailGroup(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyDetailGroupId=t.id}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.submitButtonEnabled=!1,this.dataModel.configValueDefaultValueJson="",this.keywordDefaultDataModel&&this.keywordDefaultDataModel.length>0){let t=[];this.keywordDefaultDataModel.forEach(i=>{i.display?t.push(i.display):t.push(i)}),t&&t.length>0&&(this.dataModel.configValueDefaultValueJson=t.join(","))}if(this.dataModel.configValueNullValueJson="",this.keywordNullDataModel&&this.keywordNullDataModel.length>0){let t=[];this.keywordNullDataModel.forEach(i=>{i.display?t.push(i.display):t.push(i)}),t&&t.length>0&&(this.dataModel.configValueNullValueJson=t.join(","))}this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}addTagDefault(t){let i=(t.value||"").trim();i&&this.keywordDefaultDataModel.push(i),t.chipInput.clear()}removeTagDefault(t){let i=this.keywordDefaultDataModel.indexOf(t);i>=0&&this.keywordDefaultDataModel.splice(i,1)}addTagNull(t){let i=(t.value||"").trim();i&&this.keywordNullDataModel.push(i),t.chipInput.clear()}removeTagNull(t){let i=this.keywordNullDataModel.indexOf(t);i>=0&&this.keywordNullDataModel.splice(i,1)}};Eo.\u0275fac=function(i){return new(i||Eo)(b(at),b(ot),b(j),b(Mi),b(N),b(Mn),b(W),b(G),b(O))},Eo.\u0275cmp=V({type:Eo,selectors:[["app-estate-property-detail-add"]],viewQuery:function(i,e){if(i&1&&$(zC,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:74,vars:67,consts:[["vform","ngForm"],["Title",""],["Unit",""],["chipList",""],["Description",""],["iconColor",""],["iconColorPicker",""],["ShowInFormOrder",""],["ConfigValueIntValueMax",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.unit",1,"color-highlight"],["matInput","","type","text","name","dataModel.unit","minlength","1","maxlength","64","id","dataModel.unit",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"d-flex","mb-3"],["appearance","fill",1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4",2,"width","100%"],[1,"color-highlight"],["aria-label","'TITLE.key_word'|translate"],[3,"matChipInputTokenEnd","placeholder","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","id","dataModel.iconFont","ipButtonStyleClass","",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","ipWidth","placeholder","disabled"],[2,"opacity","1 !important"],[2,"font-size","20px !important",3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.showInFormOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInFormOrder","id","dataModel.showInFormOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.configValueIntValueMin",1,"color-highlight"],["matInput","","type","number","name","dataModel.configValueIntValueMin","id","dataModel.configValueIntValueMin",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.configValueIntValueMax",1,"color-highlight"],["matInput","","type","number","name","dataModel.configValueIntValueMax","id","dataModel.configValueIntValueMax",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"pt-1"],["data-trigger-switch","dataModel.invisibleForEndUser",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.invisibleForEndUser","name","dataModel.invisibleForEndUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.invisibleForEndUser",1,"custom-control-label"],["data-trigger-switch","dataModel.invisibleForSubmiter",1,"font-600","font-14"],["type","checkbox","id","dataModel.invisibleForSubmiter","name","dataModel.invisibleForSubmiter",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.invisibleForSubmiter",1,"custom-control-label"],["data-trigger-switch","dataModel.required",1,"font-600","font-14"],["type","checkbox","id","dataModel.required","name","dataModel.required",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.required",1,"custom-control-label"],["data-trigger-switch","dataModel.isHistoryable",1,"font-600","font-14"],["type","checkbox","id","dataModel.isHistoryable","name","dataModel.isHistoryable",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isHistoryable",1,"custom-control-label"],["data-trigger-switch","dataModel.showInFastSearch",1,"font-600","font-14"],["type","checkbox","id","dataModel.showInFastSearch","name","dataModel.showInFastSearch",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.showInFastSearch",1,"custom-control-label"],["data-trigger-switch","dataModel.configValueForceUseDefaultValue",1,"font-600","font-14"],["type","checkbox","id","dataModel.configValueForceUseDefaultValue","name","dataModel.configValueForceUseDefaultValue",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.configValueForceUseDefaultValue",1,"custom-control-label"],["data-trigger-switch","dataModel.configValueMultipleChoice",1,"font-600","font-14"],["type","checkbox","id","dataModel.configValueMultipleChoice","name","dataModel.configValueMultipleChoice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.configValueMultipleChoice",1,"custom-control-label"],[3,"removed"],["type","button","matChipRemove",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let l=T();r(0,"div",9),_(1,"app-progress-spinner",10),r(2,"div",11)(3,"p",12),d(4),a(),r(5,"p"),d(6),C(7,"translate"),a(),_(8,"app-cms-form-result-message",13),r(9,"form",14,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),r(11,"div",15)(12,"label",16),d(13),a(),r(14,"input",17,1),A("ngModelChange",function(s){return c(l),I(e.dataModel.title,s)||(e.dataModel.title=s),p(s)}),a(),S(16,KC,1,0,"i",18),S(17,YC,1,0,"i",19),r(18,"em"),d(19),a(),S(20,JC,5,3,"mat-error"),a(),r(21,"app-estate-property-type-landuse-selector",20),C(22,"translate"),E("optionChange",function(s){return c(l),p(e.onActionSelectorSelect(s))}),a(),r(23,"app-estate-property-detail-group-selector",20),C(24,"translate"),E("optionChange",function(s){return c(l),p(e.onActionSelectorDetailGroup(s))}),a(),S(25,XC,6,13,"div",15),S(26,$C,11,11,"div",21),S(27,eh,5,5,"div",15),S(28,th,1,6,"app-cms-enum-x-selector",22),r(29,"div",15)(30,"label",23),d(31),a(),r(32,"input",24,2),A("ngModelChange",function(s){return c(l),I(e.dataModel.unit,s)||(e.dataModel.unit=s),p(s)}),a(),r(34,"em"),d(35),a()(),S(36,ih,7,5,"div",15),S(37,nh,7,5,"div",15),S(38,sh,15,10,"div",25),S(39,dh,8,2,"div",25),S(40,ch,8,2,"div",25),S(41,ph,8,2,"div",25),S(42,mh,8,2,"div",25),S(43,uh,8,2,"div",25),S(44,fh,8,2,"div",25),r(45,"div",26)(46,"label",27),d(47),C(48,"translate"),a(),r(49,"mat-chip-grid",28,3),Re(51,gh,5,1,"mat-chip",null,mt),r(53,"input",29),C(54,"translate"),E("matChipInputTokenEnd",function(s){return c(l),p(e.addTagDefault(s))}),a()()(),r(55,"div",26)(56,"label",27),d(57),C(58,"translate"),a(),r(59,"mat-chip-grid",28,3),Re(61,_h,5,1,"mat-chip",null,mt),r(63,"input",29),C(64,"translate"),E("matChipInputTokenEnd",function(s){return c(l),p(e.addTagNull(s))}),a()()(),r(65,"div",15)(66,"label",30),d(67),a(),r(68,"textarea",31,4),A("ngModelChange",function(s){return c(l),I(e.dataModel.description,s)||(e.dataModel.description=s),p(s)}),a(),r(70,"em"),d(71),a(),S(72,Ch,5,3,"mat-error"),a(),S(73,Sh,6,4,"div",32),a()()()}if(i&2){let l=P(15),f=P(33),s=P(50),x=P(69);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),M(" ",e.formInfo.formTitle," "),n(2),M(" ",h(7,53,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),u("formInfo",e.formInfo),n(5),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),w("ngModel",e.dataModel.title),n(2),y(l.value?-1:16),n(),y(l.value?17:-1),n(2),M("",l.value.length," / 100"),n(),y(l.errors!=null&&l.errors.required?20:-1),n(),u("optionSelectForce",e.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",h(22,55,"TITLE.USER")),n(2),u("optionSelectForce",e.dataModel.linkPropertyDetailGroupId)("optionPlaceholder",h(24,57,"TITLE.Category")),n(2),y(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessWatchField?25:-1),n(),y(e.fieldsInfo.iconColor!=null&&e.fieldsInfo.iconColor.accessWatchField?26:-1),n(),y(e.fieldsInfo.showInFormOrder!=null&&e.fieldsInfo.showInFormOrder.accessWatchField?27:-1),n(),y(e.fieldsInfo.inputDataType!=null&&e.fieldsInfo.inputDataType.accessWatchField?28:-1),n(3),v(e.fieldsInfo.unit==null?null:e.fieldsInfo.unit.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.unit==null?null:e.fieldsInfo.unit.fieldTitle)),w("ngModel",e.dataModel.unit),n(3),M("",f.value.length," / 64"),n(),y(e.dataModel.inputDataType===1||e.dataModel.inputDataType===3?36:-1),n(),y(e.dataModel.inputDataType===1||e.dataModel.inputDataType===3?37:-1),n(),y(e.fieldsInfo.invisibleForEndUser!=null&&e.fieldsInfo.invisibleForEndUser.accessWatchField?38:-1),n(),y(e.fieldsInfo.invisibleForSubmiter!=null&&e.fieldsInfo.invisibleForSubmiter.accessWatchField?39:-1),n(),y(e.fieldsInfo.required!=null&&e.fieldsInfo.required.accessWatchField?40:-1),n(),y(e.fieldsInfo.isHistoryable!=null&&e.fieldsInfo.isHistoryable.accessWatchField?41:-1),n(),y(e.fieldsInfo.showInFastSearch!=null&&e.fieldsInfo.showInFastSearch.accessWatchField?42:-1),n(),y(e.fieldsInfo.configValueForceUseDefaultValue!=null&&e.fieldsInfo.configValueForceUseDefaultValue.accessWatchField?43:-1),n(),y(e.dataModel.configValueForceUseDefaultValue&&(e.fieldsInfo.configValueMultipleChoice!=null&&e.fieldsInfo.configValueMultipleChoice.accessWatchField)?44:-1),n(3),v(h(48,59,"TITLE.Choose_keywords_relative_to_the_content")),n(4),xe(e.keywordDefaultDataModel),n(2),u("placeholder",Gi("",h(54,61,"TITLE.key_word"),"+"))("matChipInputFor",s)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes)("matChipInputAddOnBlur",e.addOnBlurTag),n(4),v(h(58,63,"TITLE.Choose_keywords_relative_to_null_content")),n(4),xe(e.keywordNullDataModel),n(2),u("placeholder",Gi("",h(64,65,"TITLE.key_word"),"+"))("matChipInputFor",s)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes)("matChipInputAddOnBlur",e.addOnBlurTag),n(4),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),w("ngModel",e.dataModel.description),n(3),M("",x.value.length," / 500"),n(),y(x.errors!=null&&x.errors.required?72:-1),n(),y(e.publicHelper.processService.process.inRunAll?-1:73)}},dependencies:[K,ae,Y,ht,Lt,J,ie,X,re,le,oe,ne,ma,ua,fa,pa,se,Fe,ft,H,Ma,z,de,St,ai,ze,Ze,je,qe,Fi,F],encapsulation:2});var Ja=Eo;var yh=["vform"],Mh=()=>["fa"];function Eh(o,m){o&1&&_(0,"i",18)}function bh(o,m){o&1&&_(0,"i",19)}function vh(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Ih(o,m){if(o&1){let t=T();r(0,"div",15)(1,"label",34),d(2),a(),r(3,"input",35),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconFont,e)||(l.dataModel.iconFont=e),p(e)}),E("iconPickerSelect",function(e){c(t);let l=g();return p(l.onIconPickerSelect(e))}),a(),r(4,"em",36),_(5,"i",37),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle)),w("ngModel",t.dataModel.iconFont),u("iconPicker",t.dataModel.iconFont)("ipIconPack",Q(12,Mh))("ipPosition","top")("ipWidth","250px")("disabled",!(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessEditField)),n(2),q("color",t.dataModel.iconColor?t.dataModel.iconColor:null),u("ngClass",t.dataModel.iconFont)}}function Th(o,m){if(o&1){let t=T();r(0,"div",22)(1,"label",38),d(2),a(),r(3,"div",39)(4,"div",40)(5,"input",41,5),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconColor,e)||(l.dataModel.iconColor=e),p(e)}),a()(),r(7,"div",42),_(8,"ngx-mat-color-toggle",43)(9,"ngx-mat-color-picker",44,6),a()()()}if(o&2){let t=P(10),i=g();n(2),v(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),n(3),q("background",i.dataModel.iconColor),u("placeholder",R(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),w("ngModel",i.dataModel.iconColor),u("ngxMatColorPicker",t)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),n(3),u("for",t),n(),u("touchUi",!0)("color","primary")}}function wh(o,m){if(o&1){let t=T();r(0,"div",15)(1,"label",45),d(2),a(),r(3,"input",46,7),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.showInFormOrder,e)||(l.dataModel.showInFormOrder=e),p(e)}),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.showInFormOrder==null?null:t.fieldsInfo.showInFormOrder.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.showInFormOrder==null?null:t.fieldsInfo.showInFormOrder.fieldTitle)),w("ngModel",t.dataModel.showInFormOrder),u("disabled",!(t.fieldsInfo.showInFormOrder!=null&&t.fieldsInfo.showInFormOrder.accessEditField))}}function Ah(o,m){if(o&1){let t=T();r(0,"app-cms-enum-x-selector",47),A("modelChange",function(e){c(t);let l=g();return I(l.dataModel.inputDataType,e)||(l.dataModel.inputDataType=e),p(e)}),a()}if(o&2){let t=g();u("optionDataListResult",t.dataModelInputDataTypeEnumResult),w("model",t.dataModel.inputDataType),u("optionDisabled",!1)("optionLabel",t.fieldsInfo.inputDataType==null?null:t.fieldsInfo.inputDataType.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Rh(o,m){if(o&1){let t=T();r(0,"div",15)(1,"label",48),d(2),a(),r(3,"input",49,8),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.configValueIntValueMin,e)||(l.dataModel.configValueIntValueMin=e),p(e)}),a(),r(5,"em"),d(6),a()()}if(o&2){let t=g(),i=P(34);n(2),v(t.fieldsInfo.configValueIntValueMin==null?null:t.fieldsInfo.configValueIntValueMin.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.configValueIntValueMin==null?null:t.fieldsInfo.configValueIntValueMin.fieldTitle)),w("ngModel",t.dataModel.configValueIntValueMin),n(3),M("",i.value.length," / 64")}}function xh(o,m){if(o&1){let t=T();r(0,"div",15)(1,"label",50),d(2),a(),r(3,"input",51,8),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.configValueIntValueMax,e)||(l.dataModel.configValueIntValueMax=e),p(e)}),a(),r(5,"em"),d(6),a()()}if(o&2){let t=g(),i=P(34);n(2),v(t.fieldsInfo.configValueIntValueMax==null?null:t.fieldsInfo.configValueIntValueMax.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.configValueIntValueMax==null?null:t.fieldsInfo.configValueIntValueMax.fieldTitle)),w("ngModel",t.dataModel.configValueIntValueMax),n(3),M("",i.value.length," / 64")}}function Ph(o,m){if(o&1){let t=T();r(0,"div",26)(1,"div",52)(2,"h5",53),d(3),a()(),r(4,"div",54)(5,"div",55)(6,"input",56),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.invisibleForEndUser,e)||(l.dataModel.invisibleForEndUser=e),p(e)}),a(),_(7,"label",57),a()()()}if(o&2){let t=g();n(3),M(" ",t.fieldsInfo.invisibleForEndUser==null?null:t.fieldsInfo.invisibleForEndUser.fieldTitle," "),n(3),w("ngModel",t.dataModel.invisibleForEndUser)}}function Dh(o,m){if(o&1){let t=T();r(0,"div",26)(1,"div",52)(2,"h5",58),d(3),a()(),r(4,"div",54)(5,"div",55)(6,"input",59),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.invisibleForSubmiter,e)||(l.dataModel.invisibleForSubmiter=e),p(e)}),a(),_(7,"label",60),a()()()}if(o&2){let t=g();n(3),M(" ",t.fieldsInfo.invisibleForSubmiter==null?null:t.fieldsInfo.invisibleForSubmiter.fieldTitle," "),n(3),w("ngModel",t.dataModel.invisibleForSubmiter)}}function Lh(o,m){if(o&1){let t=T();r(0,"div",26)(1,"div",52)(2,"h5",61),d(3),a()(),r(4,"div",54)(5,"div",55)(6,"input",62),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.required,e)||(l.dataModel.required=e),p(e)}),a(),_(7,"label",63),a()()()}if(o&2){let t=g();n(3),M(" ",t.fieldsInfo.required==null?null:t.fieldsInfo.required.fieldTitle," "),n(3),w("ngModel",t.dataModel.required)}}function kh(o,m){if(o&1){let t=T();r(0,"div",26)(1,"div",52)(2,"h5",64),d(3),a()(),r(4,"div",54)(5,"div",55)(6,"input",65),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.isHistoryable,e)||(l.dataModel.isHistoryable=e),p(e)}),a(),_(7,"label",66),a()()()}if(o&2){let t=g();n(3),M(" ",t.fieldsInfo.isHistoryable==null?null:t.fieldsInfo.isHistoryable.fieldTitle," "),n(3),w("ngModel",t.dataModel.isHistoryable)}}function Vh(o,m){if(o&1){let t=T();r(0,"div",26)(1,"div",52)(2,"h5",67),d(3),a()(),r(4,"div",54)(5,"div",55)(6,"input",68),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.showInFastSearch,e)||(l.dataModel.showInFastSearch=e),p(e)}),a(),_(7,"label",69),a()()()}if(o&2){let t=g();n(3),M(" ",t.fieldsInfo.showInFastSearch==null?null:t.fieldsInfo.showInFastSearch.fieldTitle," "),n(3),w("ngModel",t.dataModel.showInFastSearch)}}function Fh(o,m){if(o&1){let t=T();r(0,"div",26)(1,"div",52)(2,"h5",70),d(3),a()(),r(4,"div",54)(5,"div",55)(6,"input",71),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.configValueForceUseDefaultValue,e)||(l.dataModel.configValueForceUseDefaultValue=e),p(e)}),a(),_(7,"label",72),a()()()}if(o&2){let t=g();n(3),M(" ",t.fieldsInfo.configValueForceUseDefaultValue==null?null:t.fieldsInfo.configValueForceUseDefaultValue.fieldTitle," "),n(3),w("ngModel",t.dataModel.configValueForceUseDefaultValue)}}function Bh(o,m){if(o&1){let t=T();r(0,"div",26)(1,"div",52)(2,"h5",73),d(3),a()(),r(4,"div",54)(5,"div",55)(6,"input",74),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.configValueMultipleChoice,e)||(l.dataModel.configValueMultipleChoice=e),p(e)}),a(),_(7,"label",75),a()()()}if(o&2){let t=g();n(3),M(" ",t.fieldsInfo.configValueMultipleChoice==null?null:t.fieldsInfo.configValueMultipleChoice.fieldTitle," "),n(3),w("ngModel",t.dataModel.configValueMultipleChoice)}}function Gh(o,m){if(o&1){let t=T();r(0,"mat-chip",76),E("removed",function(){let e=c(t).$implicit,l=g();return p(l.removeTagDefault(e))}),d(1),r(2,"button",77)(3,"mat-icon"),d(4,"cancel"),a()()()}if(o&2){let t=m.$implicit;n(),M(" ",t," ")}}function Oh(o,m){if(o&1){let t=T();r(0,"mat-chip",76),E("removed",function(){let e=c(t).$implicit,l=g();return p(l.removeTagNull(e))}),d(1),r(2,"button",77)(3,"mat-icon"),d(4,"cancel"),a()()()}if(o&2){let t=m.$implicit;n(),M(" ",t," ")}}function Nh(o,m){o&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Wh(o,m){if(o&1){let t=T();r(0,"div",33)(1,"button",78),E("click",function(){c(t);let e=g();return p(e.onFormCancel())}),_(2,"i",79),d(3),C(4,"translate"),a(),r(5,"button",80),_(6,"i",81),d(7),C(8,"translate"),a()()}if(o&2){g();let t=P(10);n(3),M(" ",h(4,3,"ACTION.CANCEL")," "),n(2),u("disabled",!t.form.valid),n(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var bo=class bo extends rt{constructor(t,i,e,l,f,s,x,k){super(l,new si,s,k);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estatePropertyDetailService=l;this.cmsToastrService=f;this.publicHelper=s;this.cdr=x;this.translate=k;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new tt;this.dataModel=new si;this.dataModelInputDataTypeEnumResult=new Se;this.keywordDefaultDataModel=[];this.keywordNullDataModel=[];this.fileManagerOpenForm=!1;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getInputDataTypeEnum()}getInputDataTypeEnum(){this.coreEnumService.ServiceInputDataTypeEnum().subscribe({next:t=>{this.dataModelInputDataTypeEnumResult=t}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyDetailService.setAccessLoad(),this.estatePropertyDetailService.setAccessDataType(nt.Editor),this.estatePropertyDetailService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.dataModel.configValueDefaultValueJson=this.dataModel.configValueDefaultValueJson+"",this.dataModel.configValueNullValueJson=this.dataModel.configValueNullValueJson+"",this.keywordDefaultDataModel=this.dataModel.configValueDefaultValueJson.split(","),this.keywordNullDataModel=this.dataModel.configValueNullValueJson.split(","),this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyDetailService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorSelect(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeLanduseId=t.id}onActionSelectorDetailGroup(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyDetailGroupId=t.id}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){if(this.formGroup.valid){if(this.dataModel.configValueDefaultValueJson="",this.keywordDefaultDataModel&&this.keywordDefaultDataModel.length>0){let t=[];this.keywordDefaultDataModel.forEach(i=>{i.display?t.push(i.display):t.push(i)}),t&&t.length>0&&(this.dataModel.configValueDefaultValueJson=t.join(","))}if(this.dataModel.configValueNullValueJson="",this.keywordNullDataModel&&this.keywordNullDataModel.length>0){let t=[];this.keywordNullDataModel.forEach(i=>{i.display?t.push(i.display):t.push(i)}),t&&t.length>0&&(this.dataModel.configValueNullValueJson=t.join(","))}this.formInfo.submitButtonEnabled=!1,this.DataEditContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}addTagDefault(t){let i=(t.value||"").trim();i&&this.keywordDefaultDataModel.push(i),t.chipInput.clear()}removeTagDefault(t){let i=this.keywordDefaultDataModel.indexOf(t);i>=0&&this.keywordDefaultDataModel.splice(i,1)}addTagNull(t){let i=(t.value||"").trim();i&&this.keywordNullDataModel.push(i),t.chipInput.clear()}removeTagNull(t){let i=this.keywordNullDataModel.indexOf(t);i>=0&&this.keywordNullDataModel.splice(i,1)}};bo.\u0275fac=function(i){return new(i||bo)(b(at),b(ot),b(j),b(Mi),b(N),b(W),b(G),b(O))},bo.\u0275cmp=V({type:bo,selectors:[["app-estate-property-detail-edit"]],viewQuery:function(i,e){if(i&1&&$(yh,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:75,vars:70,consts:[["vform","ngForm"],["Title",""],["Unit",""],["chipList",""],["Description",""],["iconColor",""],["iconColorPicker",""],["ShowInFormOrder",""],["ConfigValueIntValueMax",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectForce","optionSelectParentForce","optionPlaceholder","optionDisabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.unit",1,"color-highlight"],["matInput","","type","text","name","dataModel.unit","minlength","1","maxlength","64","id","dataModel.unit",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"d-flex","mb-3"],["appearance","fill",1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4",2,"width","100%"],[1,"color-highlight"],["aria-label","'TITLE.key_word'|translate"],[3,"matChipInputTokenEnd","placeholder","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","id","dataModel.iconFont","ipButtonStyleClass","",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","ipWidth","placeholder","disabled"],[2,"opacity","1 !important"],[2,"font-size","20px !important",3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.showInFormOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInFormOrder","id","dataModel.showInFormOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.configValueIntValueMin",1,"color-highlight"],["matInput","","type","number","name","dataModel.configValueIntValueMin","id","dataModel.configValueIntValueMin",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.configValueIntValueMax",1,"color-highlight"],["matInput","","type","number","name","dataModel.configValueIntValueMax","id","dataModel.configValueIntValueMax",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"pt-1"],["data-trigger-switch","dataModel.invisibleForEndUser",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.invisibleForEndUser","name","dataModel.invisibleForEndUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.invisibleForEndUser",1,"custom-control-label"],["data-trigger-switch","dataModel.invisibleForSubmiter",1,"font-600","font-14"],["type","checkbox","id","dataModel.invisibleForSubmiter","name","dataModel.invisibleForSubmiter",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.invisibleForSubmiter",1,"custom-control-label"],["data-trigger-switch","dataModel.required",1,"font-600","font-14"],["type","checkbox","id","dataModel.required","name","dataModel.required",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.required",1,"custom-control-label"],["data-trigger-switch","dataModel.isHistoryable",1,"font-600","font-14"],["type","checkbox","id","dataModel.isHistoryable","name","dataModel.isHistoryable",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isHistoryable",1,"custom-control-label"],["data-trigger-switch","dataModel.showInFastSearch",1,"font-600","font-14"],["type","checkbox","id","dataModel.showInFastSearch","name","dataModel.showInFastSearch",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.showInFastSearch",1,"custom-control-label"],["data-trigger-switch","dataModel.configValueForceUseDefaultValue",1,"font-600","font-14"],["type","checkbox","id","dataModel.configValueForceUseDefaultValue","name","dataModel.configValueForceUseDefaultValue",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.configValueForceUseDefaultValue",1,"custom-control-label"],["data-trigger-switch","dataModel.configValueMultipleChoice",1,"font-600","font-14"],["type","checkbox","id","dataModel.configValueMultipleChoice","name","dataModel.configValueMultipleChoice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.configValueMultipleChoice",1,"custom-control-label"],[3,"removed"],["type","button","matChipRemove",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let l=T();r(0,"div",9),_(1,"app-progress-spinner",10),r(2,"div",11)(3,"p",12),d(4),a(),r(5,"p"),d(6),C(7,"translate"),a(),_(8,"app-cms-form-result-message",13),r(9,"form",14,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),r(11,"div",15)(12,"label",16),d(13),a(),r(14,"input",17,1),A("ngModelChange",function(s){return c(l),I(e.dataModel.title,s)||(e.dataModel.title=s),p(s)}),a(),S(16,Eh,1,0,"i",18),S(17,bh,1,0,"i",19),r(18,"em"),d(19),a(),S(20,vh,5,3,"mat-error"),a(),r(21,"app-estate-property-type-landuse-selector",20),C(22,"translate"),E("optionChange",function(s){return c(l),p(e.onActionSelectorSelect(s))}),_(23,"br"),a(),r(24,"app-estate-property-detail-group-selector",21),C(25,"translate"),E("optionChange",function(s){return c(l),p(e.onActionSelectorDetailGroup(s))}),a(),S(26,Ih,6,13,"div",15),S(27,Th,11,11,"div",22),S(28,wh,5,5,"div",15),S(29,Ah,1,6,"app-cms-enum-x-selector",23),r(30,"div",15)(31,"label",24),d(32),a(),r(33,"input",25,2),A("ngModelChange",function(s){return c(l),I(e.dataModel.unit,s)||(e.dataModel.unit=s),p(s)}),a(),r(35,"em"),d(36),a()(),S(37,Rh,7,5,"div",15),S(38,xh,7,5,"div",15),S(39,Ph,8,2,"div",26),S(40,Dh,8,2,"div",26),S(41,Lh,8,2,"div",26),S(42,kh,8,2,"div",26),S(43,Vh,8,2,"div",26),S(44,Fh,8,2,"div",26),S(45,Bh,8,2,"div",26),r(46,"div",27)(47,"label",28),d(48),C(49,"translate"),a(),r(50,"mat-chip-grid",29,3),Re(52,Gh,5,1,"mat-chip",null,mt),r(54,"input",30),C(55,"translate"),E("matChipInputTokenEnd",function(s){return c(l),p(e.addTagDefault(s))}),a()()(),r(56,"div",27)(57,"label",28),d(58),C(59,"translate"),a(),r(60,"mat-chip-grid",29,3),Re(62,Oh,5,1,"mat-chip",null,mt),r(64,"input",30),C(65,"translate"),E("matChipInputTokenEnd",function(s){return c(l),p(e.addTagNull(s))}),a()()(),r(66,"div",15)(67,"label",31),d(68),a(),r(69,"textarea",32,4),A("ngModelChange",function(s){return c(l),I(e.dataModel.description,s)||(e.dataModel.description=s),p(s)}),a(),r(71,"em"),d(72),a(),S(73,Nh,5,3,"mat-error"),a(),S(74,Wh,9,7,"div",33),a()()()}if(i&2){let l=P(15),f=P(34),s=P(51),x=P(70);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),M(" ",e.formInfo.formTitle," "),n(2),M(" ",h(7,56,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),u("formInfo",e.formInfo),n(5),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),w("ngModel",e.dataModel.title),n(2),y(l.value?-1:16),n(),y(l.value?17:-1),n(2),M("",l.value.length," / 100"),n(),y(l.errors!=null&&l.errors.required?20:-1),n(),u("optionSelectForce",e.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",h(22,58,"TITLE.USER"))("optionDisabled",!(e.fieldsInfo.linkPropertyTypeLanduseId!=null&&e.fieldsInfo.linkPropertyTypeLanduseId.accessEditField)),n(3),u("optionSelectForce",e.dataModel.linkPropertyDetailGroupId)("optionSelectParentForce",e.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",h(25,60,"TITLE.Category"))("optionDisabled",!(e.fieldsInfo.linkPropertyDetailGroupId!=null&&e.fieldsInfo.linkPropertyDetailGroupId.accessEditField)),n(2),y(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessWatchField?26:-1),n(),y(e.fieldsInfo.iconColor!=null&&e.fieldsInfo.iconColor.accessWatchField?27:-1),n(),y(e.fieldsInfo.showInFormOrder!=null&&e.fieldsInfo.showInFormOrder.accessWatchField?28:-1),n(),y(e.fieldsInfo.inputDataType!=null&&e.fieldsInfo.inputDataType.accessWatchField?29:-1),n(3),v(e.fieldsInfo.unit==null?null:e.fieldsInfo.unit.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.unit==null?null:e.fieldsInfo.unit.fieldTitle)),w("ngModel",e.dataModel.unit),n(3),M("",f.value.length," / 64"),n(),y(e.dataModel.inputDataType===1||e.dataModel.inputDataType===3?37:-1),n(),y(e.dataModel.inputDataType===1||e.dataModel.inputDataType===3?38:-1),n(),y(e.fieldsInfo.invisibleForEndUser!=null&&e.fieldsInfo.invisibleForEndUser.accessWatchField?39:-1),n(),y(e.fieldsInfo.invisibleForSubmiter!=null&&e.fieldsInfo.invisibleForSubmiter.accessWatchField?40:-1),n(),y(e.fieldsInfo.required!=null&&e.fieldsInfo.required.accessWatchField?41:-1),n(),y(e.fieldsInfo.isHistoryable!=null&&e.fieldsInfo.isHistoryable.accessWatchField?42:-1),n(),y(e.fieldsInfo.showInFastSearch!=null&&e.fieldsInfo.showInFastSearch.accessWatchField?43:-1),n(),y(e.fieldsInfo.configValueForceUseDefaultValue!=null&&e.fieldsInfo.configValueForceUseDefaultValue.accessWatchField?44:-1),n(),y(e.dataModel.configValueForceUseDefaultValue&&(e.fieldsInfo.configValueMultipleChoice!=null&&e.fieldsInfo.configValueMultipleChoice.accessWatchField)?45:-1),n(3),v(h(49,62,"TITLE.Choose_keywords_relative_to_the_content")),n(4),xe(e.keywordDefaultDataModel),n(2),u("placeholder",Gi("",h(55,64,"TITLE.key_word"),"+"))("matChipInputFor",s)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes)("matChipInputAddOnBlur",e.addOnBlurTag),n(4),v(h(59,66,"TITLE.Choose_keywords_relative_to_null_content")),n(4),xe(e.keywordNullDataModel),n(2),u("placeholder",Gi("",h(65,68,"TITLE.key_word"),"+"))("matChipInputFor",s)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes)("matChipInputAddOnBlur",e.addOnBlurTag),n(4),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),w("ngModel",e.dataModel.description),n(3),M("",x.value.length," / 500"),n(),y(x.errors!=null&&x.errors.required?73:-1),n(),y(e.formInfo.submitButtonEnabled?74:-1)}},dependencies:[K,ae,Y,ht,Lt,J,ie,X,re,le,oe,ne,ma,ua,fa,pa,se,Fe,ft,H,Ma,z,de,St,ai,ze,Ze,je,qe,Fi,F],encapsulation:2});var Xa=bo;function Hh(o,m){if(o&1){let t=T();r(0,"button",13),E("click",function(){c(t);let e=g();return p(e.onActionAdd())}),d(1),C(2,"translate"),a()}o&2&&(n(),M(" ",h(2,1,"ACTION.ADD")," "))}function Uh(o,m){if(o&1){let t=T();r(0,"button",14),E("click",function(){c(t);let e=g();return p(e.onActionEdit())}),d(1),C(2,"translate"),a()}o&2&&(n(),M(" ",h(2,1,"ACTION.EDIT")," "))}function qh(o,m){if(o&1){let t=T();r(0,"button",15),E("click",function(){c(t);let e=g();return p(e.onActionDelete())}),d(1),C(2,"translate"),a()}o&2&&(n(),M(" ",h(2,1,"ACTION.DELETE")," "))}function jh(o,m){if(o&1){let t=T();r(0,"button",16),E("click",function(){c(t);let e=g();return p(e.onActionButtonReload())}),r(1,"mat-icon",17),C(2,"translate"),d(3,"refresh"),a()()}if(o&2){let t=g();n(),ce("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),u("title",R(h(2,4,"ACTION.RELOAD")))}}function Zh(o,m){if(o&1){let t=T();r(0,"mat-tree-node",18),_(1,"button",19),r(2,"span",20),E("click",function(){let e=c(t).$implicit,l=g();return p(l.onActionSelect(e))}),_(3,"i",21),d(4),a()()}if(o&2){let t=m.$implicit,i=g();ce("ntk-tree-selected",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===t.id),n(3),q("color",t.IconColor),u("ngClass",t.IconFont),n(),M("\xA0",t.title)}}function zh(o,m){if(o&1){let t=T();r(0,"mat-tree-node",22)(1,"button",23)(2,"mat-icon",24),d(3),a()(),r(4,"span",20),E("click",function(){let e=c(t).$implicit,l=g();return p(l.onActionSelect(e))}),_(5,"i",21),d(6),a()()}if(o&2){let t=m.$implicit,i=g(),e=P(10);ce("ntk-tree-selected",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===t.id),u("cdkTreeNodeTypeaheadLabel",t.title)("isExpanded",t.isExpanded??!1),n(),pt("type","button")("aria-label","Toggle "+t.title),n(2),M(" ",e.isExpanded(t)?"expand_more":"chevron_right"," "),n(2),q("color",t.IconColor),u("ngClass",t.IconFont),n(),M("\xA0",t.title)}}var vo=class vo{constructor(m,t,i,e,l,f,s,x,k,ye){this.cmsToastrService=m;this.coreEnumService=t;this.categoryService=i;this.cmsConfirmationDialogService=e;this.dialog=l;this.cdr=f;this.publicHelper=s;this.translate=x;this.tokenHelper=k;this.cmsStoreService=ye;this.requestLinkPropertyTypeLanduseId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new vt;this.dataModelResult=new Se;this.filterModel=new He;this.dataSource=new tl;this.optionChange=new ji;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(m,t)=>!1;this.childrenAccessor=m=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(m){this.onActionSelectForce(m)}set optionLinkPropertyTypeLanduseId(m){if(this.requestLinkPropertyTypeLanduseId=m,this.filterModel=new He,m&&m.length>0){let t=new Xe;t.propertyName="LinkPropertyTypeLanduseId",t.value=m,this.filterModel.filters.push(t)}}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(m=>m.tokenInfoStore).subscribe(()=>ut(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(m=>m.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let m=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(m,t,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:t=>{t.isSuccess?(this.dataModelResult=t,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(m)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(m,!1)}})}onActionSelect(m){m&&this.dataModelSelect&&m.id==this.dataModelSelect.id?(this.dataModelSelect=null,this.optionChange.emit(null)):(this.dataModelSelect=m,this.optionChange.emit(this.dataModelSelect))}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new vt,this.DataGetAll()}onActionSelectForce(m){}onActionAdd(){var m="";this.publicHelper.isMobile?m="dialog-fullscreen":m="dialog-min",this.dialog.open(go,{height:"90%",panelClass:m,enterAnimationDuration:_e.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_e.cmsViewConfig.exitAnimationDuration,data:{linkPropertyTypeLanduseId:this.requestLinkPropertyTypeLanduseId}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let m="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(m=this.dataModelSelect.id),m===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Co,{height:"90%",panelClass:t,enterAnimationDuration:_e.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_e.cmsViewConfig.exitAnimationDuration,data:{id:m}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let m="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(m=this.dataModelSelect.id),m===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}var t="",i="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(e=>{t=e["MESSAGE.Please_Confirm"],i=e["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.dataModelSelect.title+" ) "}),this.cmsConfirmationDialogService.confirm(t,i).then(e=>{if(e){let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.publicHelper.processService.processStart(l,f,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.dataModelSelect.id).subscribe({next:f=>{f.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(l)},error:f=>{this.cmsToastrService.typeError(f),this.publicHelper.processService.processStop(l,!1)}})}}).catch(()=>{})}};vo.\u0275fac=function(t){return new(t||vo)(b(N),b(j),b(oi),b(yt),b(wt),b(G),b(W),b(O),b(he),b(Ce))},vo.\u0275cmp=V({type:vo,selectors:[["app-estate-property-detail-group-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionLinkPropertyTypeLanduseId:"optionLinkPropertyTypeLanduseId",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:14,vars:14,consts:[["treeTagControl",""],[3,"optionListTitle","optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-action",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["aria-hidden","true",3,"ngClass"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(t,i){t&1&&(r(0,"app-cms-html-tree",1),C(1,"translate"),D(2,2),S(3,Hh,3,3,"button",3),S(4,Uh,3,3,"button",4),S(5,qh,3,3,"button",5),S(6,jh,4,6,"button",6),L(),D(7,7),_(8,"app-progress-spinner",8),r(9,"mat-tree",9,0),U(11,Zh,5,6,"mat-tree-node",10)(12,zh,7,11,"mat-tree-node",11),a(),L(),ke(13,12),a()),t&2&&(u("optionListTitle",h(1,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName)))("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),n(3),y(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow?3:-1),n(),y(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?4:-1),n(),y(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?5:-1),n(),y(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow?6:-1),n(2),u("optionsInfoAreaId",i.constructorInfoAreaId),n(),u("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),n(3),u("matTreeNodeDefWhen",i.hasChild))},dependencies:[K,Tt,ft,Jr,Xr,el,$r,Yr,z,ml,F],encapsulation:2});var $a=vo;var Kh=()=>[5,10,20,100];function Yh(o,m){if(o&1){let t=T();r(0,"a",40),E("click",function(){c(t);let e=g();return p(e.onActionBackToParent())}),_(1,"i",41),a()}}function Jh(o,m){if(o&1){let t=T();r(0,"div",17)(1,"a",42),E("click",function(){c(t);let e=g();return p(e.onActionButtonNewRow())}),_(2,"i",43)(3,"br"),a(),r(4,"p",44),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.ADD")," "))}function Xh(o,m){if(o&1){let t=T();r(0,"div",17)(1,"a",45),E("click",function(){c(t);let e=g();return p(e.onActionButtonEditRow(e.tableRowSelected))}),_(2,"i",46)(3,"br"),a(),r(4,"p",44),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.EDIT")," "))}function $h(o,m){if(o&1){let t=T();r(0,"div",17)(1,"a",47),E("click",function(){c(t);let e=g();return p(e.onActionButtonDeleteRow(e.tableRowSelected))}),_(2,"i",48)(3,"br"),a(),r(4,"p",44),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.DELETE")," "))}function eS(o,m){if(o&1&&(r(0,"mat-header-cell",49),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle," ")}}function tS(o,m){if(o&1&&(r(0,"mat-cell"),d(1),a()),o&2){let t=m.$implicit;n(),M(" ",t.id," ")}}function iS(o,m){if(o&1&&(r(0,"mat-header-cell",49),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle," ")}}function nS(o,m){if(o&1&&(r(0,"mat-cell"),_(1,"i",50),a()),o&2){let t=m.$implicit;n(),q("color",t.iconColor),u("ngClass",t.iconFont)}}function oS(o,m){if(o&1&&(r(0,"mat-header-cell",49),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle," ")}}function aS(o,m){if(o&1&&(r(0,"mat-cell"),d(1),a()),o&2){let t=m.$implicit;n(),M(" ",t.title," ")}}function rS(o,m){if(o&1&&(r(0,"mat-header-cell",49),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.unit==null?null:t.fieldsInfo.unit.fieldTitle," ")}}function lS(o,m){if(o&1&&(r(0,"mat-cell"),d(1),a()),o&2){let t=m.$implicit;n(),M(" ",t.unit," ")}}function sS(o,m){if(o&1&&(r(0,"mat-header-cell",49),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.showInFormOrder==null?null:t.fieldsInfo.showInFormOrder.fieldTitle," ")}}function dS(o,m){if(o&1&&(r(0,"mat-cell"),d(1),a()),o&2){let t=m.$implicit;n(),M(" ",t.showInFormOrder," ")}}function cS(o,m){if(o&1&&(r(0,"mat-header-cell",49),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.linkPropertyTypeLanduseId==null?null:t.fieldsInfo.linkPropertyTypeLanduseId.fieldTitle," ")}}function pS(o,m){if(o&1&&(r(0,"mat-cell"),d(1),C(2,"cmstitle"),a()),o&2){let t=m.$implicit,i=g();n(),M(" ",Go(2,1,t.linkPropertyTypeLanduseId,i.dataModelEstatePropertyTypeLanduseResult.listItems)," ")}}function mS(o,m){if(o&1&&(r(0,"mat-header-cell",49),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.linkPropertyDetailGroupId==null?null:t.fieldsInfo.linkPropertyDetailGroupId.fieldTitle," ")}}function uS(o,m){if(o&1&&(r(0,"mat-cell"),d(1),C(2,"cmstitle"),a()),o&2){let t=m.$implicit,i=g();n(),M(" ",Go(2,1,t.linkPropertyDetailGroupId,i.dataModelEstatePropertyDetailGroupResult.listItems)," ")}}function fS(o,m){o&1&&(r(0,"mat-header-cell"),d(1),C(2,"translate"),a()),o&2&&(n(),M(" ",h(2,1,"TITLE.OPTION")," "))}function gS(o,m){if(o&1&&(r(0,"mat-cell",51)(1,"button",52)(2,"mat-icon"),d(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),o&2){let t=P(5);n(),u("matMenuTriggerFor",t)}}function _S(o,m){o&1&&(r(0,"mat-header-cell",49),d(1,". "),a())}function CS(o,m){o&1&&(r(0,"mat-cell")(1,"mat-icon",53),d(2,"reorder"),a()())}function hS(o,m){o&1&&_(0,"mat-header-row")}function SS(o,m){if(o&1){let t=T();r(0,"mat-row",54),E("click",function(e){let l=c(t).$implicit,f=g();return p(f.onActionTableRowSelect(l,e))})("rtclick",function(e){let l=c(t).$implicit,f=g();return p(f.onActionTableRowSelect(l,e))}),a()}if(o&2){let t=m.$implicit,i=g();ce("ntk-row-selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Io=class Io extends Kt{constructor(t,i,e,l,f,s,x,k,ye,Me,bt,mi,di,fn){super(t,new si,di,x,bt);this.contentService=t;this.estatePropertyDetailGroupService=i;this.estatePropertyTypeLanduseService=e;this.cmsConfirmationDialogService=l;this.activatedRoute=f;this.cmsToastrService=s;this.tokenHelper=x;this.cmsStoreService=k;this.router=ye;this.cdr=Me;this.translate=bt;this.pageInfo=mi;this.publicHelper=di;this.dialog=fn;this.requestLinkPropertyTypeLanduseId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new He;this.filterDataModelQueryBuilder=[];this.dataModelEstatePropertyTypeLanduseResult=new Se;this.dataModelEstatePropertyDetailGroupResult=new Se;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["IconFont","title","Unit","ShowInFormOrder","LinkPropertyTypeLanduseId","LinkPropertyDetailGroupId"];this.tabledisplayedColumnsMobileSource=["IconFont","title","Unit","ShowInFormOrder","LinkPropertyTypeLanduseId","LinkPropertyDetailGroupId"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.requestLinkPropertyTypeLanduseId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeLanduseId"),this.optionsSearch.parentMethods={onSubmit:bl=>this.onSubmitOptionsSearch(bl)},this.filteModelContent.sortColumn="ShowInFormOrder",this.filteModelContent.sortType=Ae.Ascending;let sr=new Xe;this.requestLinkPropertyTypeLanduseId&&this.requestLinkPropertyTypeLanduseId.length>0&&(sr.propertyName="LinkPropertyTypeLanduseId",sr.value=this.requestLinkPropertyTypeLanduseId,this.filteModelContent.filters.push(sr))}filterModelCompiler(t){let i=JSON.parse(JSON.stringify(t));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}ngOnInit(){this.filteModelContent.sortColumn="ShowInFormOrder",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(t=>t.tokenInfoStore).subscribe(t=>ut(this,null,function*(){this.tokenInfo=t,this.DataGetAll()}))),this.getPropertyType(),this.getPropertyDetailGroup()}getPropertyType(){let t=new He;t.rowPerPage=100,this.estatePropertyTypeLanduseService.ServiceGetAll(t).subscribe({next:i=>{this.dataModelEstatePropertyTypeLanduseResult=i}})}getPropertyDetailGroup(){let t=new He;t.rowPerPage=100,this.estatePropertyDetailGroupService.ServiceGetAll(t).subscribe({next:i=>{this.dataModelEstatePropertyDetailGroupResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(t=>t.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new si);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let e=new Xe;e.propertyName="LinkPropertyDetailGroupId",e.value=this.categoryModelSelected.id,i.filters.push(e)}this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.applyDataGetAllResult(e),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Ae.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Ae.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Ae.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onTableDropRow(t){let i=this.tableSource.data.findIndex(l=>l===t.item.data),e=new ra;e.id=this.tableSource.data[i].id,e.centerId=this.tableSource.data[t.currentIndex].id,i>t.currentIndex?e.actionGo=_n.GoUp:e.actionGo=_n.GoDown,this.contentService.ServiceEditStep(e).subscribe({next:l=>{l.isSuccess?(la(this.tableSource.data,i,t.currentIndex),this.tableSource.data=this.tableSource.data.slice()):this.cmsToastrService.typeErrorMessage(l.errorMessage)},error:l=>{this.cmsToastrService.typeError(l)}})}onActionSelectorSelect(t){var i=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new He,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=e,this.categoryModelSelected=t,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Ja,{height:"90%",panelClass:t,enterAnimationDuration:_e.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_e.cmsViewConfig.exitAnimationDuration,data:{linkPropertyTypeLanduseId:this.requestLinkPropertyTypeLanduseId,linkPropertyDetailGroupId:this.categoryModelSelected.id}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!(t?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Xa,{height:"90%",panelClass:i,enterAnimationDuration:_e.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_e.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!(t?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],e=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(f,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(x=>{i.set(x,0)}),this.translate.get("MESSAGE.All").subscribe(x=>{i.set(x,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(x=>{this.publicHelper.processService.processStart(e,x,this.constructorInfoAreaId)});let l=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetCount(l).subscribe({next:x=>{x.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,x.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(x.errorMessage),this.publicHelper.processService.processStop(e)},error:x=>{this.cmsToastrService.typeError(x),this.publicHelper.processService.processStop(e,!1)}});let f=this.filterModelCompiler(this.filteModelContent),s=new Xe;s.propertyName="recordStatus",s.value=Dt.Available,f.filters.push(s),this.contentService.ServiceGetCount(f).subscribe({next:x=>{x.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,x.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(x.errorMessage),this.publicHelper.processService.processStop(e)},error:x=>{this.cmsToastrService.typeError(x),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){t&&t.length>0?this.filterDataModelQueryBuilder=[...t]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/estate/main/property-type-landuse/"])}};Io.\u0275fac=function(i){return new(i||Io)(b(Mi),b(oi),b(pi),b(yt),b(Ee),b(N),b(he),b(Ce),b(pe),b(G),b(O),b(Qt),b(W),b(wt))},Io.\u0275cmp=V({type:Io,selectors:[["app-estate-property-detail-list"]],standalone:!1,features:[B],decls:63,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange","optionLinkPropertyTypeLanduseId"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","cdkDropList","",3,"matSortChange","cdkDropListDropped","dataSource","cdkDropListData"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","title"],["matColumnDef","Unit"],["matColumnDef","ShowInFormOrder"],["matColumnDef","LinkPropertyTypeLanduseId"],["matColumnDef","LinkPropertyDetailGroupId"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,e){if(i&1){let l=T();r(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(s){return c(l),I(e.viewGuideNotice,s)||(e.viewGuideNotice=s),p(s)}),E("optionOnActionButtonMemoRow",function(){return c(l),p(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return c(l),p(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return c(l),p(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return c(l),p(e.onActionButtonPrintRow())}),D(1,4),r(2,"app-estate-property-detail-group-tree",5),E("optionChange",function(s){return c(l),p(e.onActionSelectorSelect(s))}),a(),L(),ke(3,6)(4,7),D(5,8),S(6,Yh,2,0,"a",9),r(7,"a",10),E("click",function(){return c(l),p(e.viewGuideNotice=!e.viewGuideNotice)}),_(8,"i",11),a(),r(9,"a",10),E("click",function(){return c(l),p(e.onActionButtonReload())}),_(10,"i",12),a(),L(),D(11,13),r(12,"a",14),E("click",function(){return c(l),p(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(13,"mat-slide-toggle",15),d(14),C(15,"translate"),a(),r(16,"a",14),E("click",function(){return c(l),p(e.onActionButtonStatist())}),_(17,"mat-slide-toggle",15),d(18),C(19,"translate"),a(),L(),D(20,16),S(21,Jh,7,3,"div",17),L(),D(22,18),S(23,Xh,7,3,"div",17),S(24,$h,7,3,"div",17),L(),D(25,19),r(26,"app-cms-search-list",20),A("optionsChange",function(s){return c(l),I(e.optionsSearch,s)||(e.optionsSearch=s),p(s)}),a(),r(27,"app-cms-statist-list",20),A("optionsChange",function(s){return c(l),I(e.optionsStatist,s)||(e.optionsStatist=s),p(s)}),a(),L(),D(28,21),r(29,"mat-table",22,0),E("matSortChange",function(){c(l);let s=P(30);return p(e.onTableSortData(s))})("cdkDropListDropped",function(s){return c(l),p(e.onTableDropRow(s))}),D(31,23),U(32,eS,2,1,"mat-header-cell",24)(33,tS,2,1,"mat-cell",25),L(),D(34,26),U(35,iS,2,1,"mat-header-cell",24)(36,nS,2,3,"mat-cell",25),L(),D(37,27),U(38,oS,2,1,"mat-header-cell",24)(39,aS,2,1,"mat-cell",25),L(),D(40,28),U(41,rS,2,1,"mat-header-cell",24)(42,lS,2,1,"mat-cell",25),L(),D(43,29),U(44,sS,2,1,"mat-header-cell",24)(45,dS,2,1,"mat-cell",25),L(),D(46,30),U(47,cS,2,1,"mat-header-cell",24)(48,pS,3,4,"mat-cell",25),L(),D(49,31),U(50,mS,2,1,"mat-header-cell",24)(51,uS,3,4,"mat-cell",25),L(),D(52,32),U(53,fS,3,3,"mat-header-cell",33)(54,gS,6,1,"mat-cell",34),L(),D(55,35),U(56,_S,2,0,"mat-header-cell",24)(57,CS,3,0,"mat-cell",25),L(),U(58,hS,1,0,"mat-header-row",36)(59,SS,1,2,"mat-row",37),a(),L(),D(60,38),r(61,"mat-paginator",39,1),E("page",function(s){return c(l),p(e.onTablePageingData(s))}),a(),L(),a()}i&2&&(u("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),u("optionTreeDisplay",!0)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),n(2),u("optionLinkPropertyTypeLanduseId",e.requestLinkPropertyTypeLanduseId),n(4),y((e.requestLinkPropertyTypeLanduseId==null?null:e.requestLinkPropertyTypeLanduseId.length)>0?6:-1),n(4),ce("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),n(3),u("checked",e.optionsSearch.data.show),n(),M("",h(15,28,"ACTION.SEARCH")," "),n(3),u("checked",e.optionsStatist.data.show),n(),M("",h(19,30,"ACTION.STATIST")," "),n(3),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessAddRow&&(e.categoryModelSelected==null?null:e.categoryModelSelected.id.length)>0?21:-1),n(2),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow?23:-1),n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow?24:-1),n(2),w("options",e.optionsSearch),n(),w("options",e.optionsStatist),n(2),u("dataSource",e.tableSource)("cdkDropListData",e.tableSource),n(29),u("matHeaderRowDef",e.tabledisplayedColumns),n(),u("matRowDefColumns",e.tabledisplayedColumns),n(2),u("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Q(32,Kh)))},dependencies:[K,Tt,ft,kt,Vt,Be,Ge,Ft,Bt,Gt,Nt,qt,Wt,Ot,jt,Ht,Ut,Zt,zt,Oe,Ne,Yt,We,da,sa,$a,F,ya],encapsulation:2});var sn=Io;var yS=()=>[5,10,20,100],MS=(o,m)=>m.id;function ES(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",24),E("click",function(){c(t);let e=g();return p(e.onActionButtonNewRow())}),_(2,"i",25)(3,"br"),a(),r(4,"p",26),d(5),C(6,"translate"),a()()}o&2&&(n(5),v(h(6,1,"ACTION.ADD")))}function bS(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",27),E("click",function(){c(t);let e=g();return p(e.onActionButtonEditRow(e.tableRowSelected))}),_(2,"i",28)(3,"br"),a(),r(4,"p",26),d(5),C(6,"translate"),a()()}o&2&&(n(5),v(h(6,1,"ACTION.EDIT")))}function vS(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",29),E("click",function(){c(t);let e=g();return p(e.onActionButtonDeleteRow(e.tableRowSelected))}),_(2,"i",30)(3,"br"),a(),r(4,"p",26),d(5),C(6,"translate"),a()()}o&2&&(n(5),v(h(6,1,"ACTION.DELETE")))}function IS(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",31),E("click",function(){c(t);let e=g();return p(e.onActionButtonViewRow(e.tableRowSelected))}),_(2,"i",32)(3,"br"),a(),r(4,"p",26),d(5),C(6,"translate"),a()()}o&2&&(n(5),v(h(6,1,"ACTION.VIEW")))}function TS(o,m){if(o&1&&(r(0,"div",39),_(1,"i",41),d(2),a()),o&2){let t=g().$implicit,i=g(2);n(2),Ve(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",t.id)}}function wS(o,m){if(o&1&&(r(0,"div",39),_(1,"i",42),d(2),C(3,"localeDate"),a()),o&2){let t=g().$implicit,i=g(2);n(2),Ve(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",h(3,2,t.createdDate))}}function AS(o,m){if(o&1&&_(0,"select",44),o&2){let t=g(2).$implicit,i=g(2);u("contentService",i.contentService)("row",t)}}function RS(o,m){if(o&1&&(r(0,"div",39),_(1,"i",43),C(2,"statusIconClass"),S(3,AS,1,2,"select",44),a()),o&2){let t=g().$implicit,i=g(2);n(),u("ngClass",h(2,2,t.recordStatus)),n(2),y(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function xS(o,m){if(o&1&&(r(0,"div",39),_(1,"i",47),d(2),C(3,"localeDate"),a()),o&2){let t=g(2).$implicit,i=g(2);n(2),Ve(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",h(3,2,t.updatedDate))}}function PS(o,m){if(o&1){let t=T();r(0,"div",40),S(1,xS,4,4,"div",39),r(2,"div",39)(3,"span",45),E("click",function(e){return c(t),g(3).onActionCopied(),p(e.stopPropagation())}),_(4,"i",46),a(),d(5),a()()}if(o&2){let t=g().$implicit;n(),y(t.updatedDate?1:-1),n(2),u("cdkCopyToClipboard",t.id.toString()),n(2),M(" ID: ",t.id)}}function DS(o,m){if(o&1){let t=T();r(0,"div",34),E("click",function(e){let l=c(t).$implicit,f=g(2);return p(f.onActionTableRowSelect(l,e))})("rtclick",function(e){let l=c(t).$implicit,f=g(2);return p(f.onActionTableRowSelect(l,e))})("mouseenter",function(){let e=c(t).$implicit,l=g(2);return p(l.onActionTableRowMouseEnter(e))})("mouseleave",function(){let e=c(t).$implicit,l=g(2);return p(l.onActionTableRowMouseLeave(e))}),r(1,"div",35),_(2,"i",36),C(3,"statusIconClass"),a(),r(4,"div",37)(5,"div",38),d(6),a(),S(7,TS,3,2,"div",39),S(8,wS,4,4,"div",39),S(9,RS,4,4,"div",39),S(10,PS,6,3,"div",40),a()()}if(o&2){let t=m.$implicit,i=g(2);ce("selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))("bg-fade-highlight-light",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),pt("aria-label",t.title||t.id),n(2),u("ngClass",h(3,11,t.recordStatus)),n(4),v(t.title||"ID: "+t.id),n(),y(t.id?7:-1),n(),y(t.createdDate?8:-1),n(),y(t.recordStatus!==void 0?9:-1),n(),y(i.getRowExpanded(t)?10:-1)}}function LS(o,m){if(o&1&&(r(0,"div",20),Re(1,DS,11,13,"div",33,MS),a()),o&2){let t=g();n(),xe(t.dataModelResult.listItems)}}function kS(o,m){o&1&&(r(0,"div",21),d(1),C(2,"translate"),a()),o&2&&(n(),v(h(2,1,"MESSAGE.NoRecord")))}var dn=class dn extends sn{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(t){let i=String(t);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(t){return String(t)}onDocumentClick(t){let i=t.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(t){return t.expanded===!0}};dn.\u0275fac=(()=>{let t;return function(e){return(t||(t=_t(dn)))(e||dn)}})(),dn.\u0275cmp=V({type:dn,selectors:[["app-estate-property-detail-list-mobile"]],hostBindings:function(i,e){i&1&&E("click",function(f){return e.onDocumentClick(f)},Ct)},standalone:!1,features:[B],decls:37,vars:31,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-calendar"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"]],template:function(i,e){if(i&1){let l=T();r(0,"app-cms-html-list-mobile",1),A("optionActionGuideNoticeDisplayChange",function(s){return c(l),I(e.viewGuideNotice,s)||(e.viewGuideNotice=s),p(s)}),E("optionOnActionButtonMemoRow",function(){return c(l),p(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return c(l),p(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return c(l),p(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return c(l),p(e.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return c(l),p(e.onActionLoadNextPage())}),ke(1,2)(2,3)(3,4),D(4,5),r(5,"a",6),E("click",function(){return c(l),p(e.viewGuideNotice=!e.viewGuideNotice)}),_(6,"i",7),a(),r(7,"a",6),E("click",function(){return c(l),p(e.onActionButtonReload())}),_(8,"i",8),a(),r(9,"a",6),E("click",function(){return c(l),p(e.onActionGridExpandRows(!0))}),_(10,"i",9),a(),r(11,"a",6),E("click",function(){return c(l),p(e.onActionGridExpandRows(!1))}),_(12,"i",10),a(),L(),D(13,11),r(14,"a",12),E("click",function(){return c(l),p(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(15,"mat-slide-toggle",13),d(16),C(17,"translate"),a(),r(18,"a",12),E("click",function(){return c(l),p(e.onActionButtonStatist())}),_(19,"mat-slide-toggle",13),d(20),C(21,"translate"),a(),L(),D(22,14),S(23,ES,7,3,"div",15),L(),D(24,16),S(25,bS,7,3,"div",15),S(26,vS,7,3,"div",15),S(27,IS,7,3,"div",15),L(),D(28,17),r(29,"app-cms-search-list",18),A("optionsChange",function(s){return c(l),I(e.optionsSearch,s)||(e.optionsSearch=s),p(s)}),a(),r(30,"app-cms-statist-list",18),A("optionsChange",function(s){return c(l),I(e.optionsStatist,s)||(e.optionsStatist=s),p(s)}),a(),L(),D(31,19),S(32,LS,3,0,"div",20)(33,kS,3,3,"div",21),L(),D(34,22),r(35,"mat-paginator",23,0),E("page",function(s){return c(l),p(e.onTablePageingData(s))}),a(),L(),a()}i&2&&(u("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey","estate.main.property-detail.list"),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplay",(e.tableRowSelected==null?null:e.tableRowSelected.id)>0)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),n(8),ce("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),n(7),u("checked",e.optionsSearch.data.show),n(),v(h(17,26,"ACTION.SEARCH")),n(3),u("checked",e.optionsStatist.data.show),n(),v(h(21,28,"ACTION.STATIST")),n(3),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessAddRow?23:-1),n(2),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow&&(e.tableRowSelected==null?null:e.tableRowSelected.id)>0?25:-1),n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow&&(e.tableRowSelected==null?null:e.tableRowSelected.id)>0?26:-1),n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessWatchRow&&(e.tableRowSelected==null?null:e.tableRowSelected.id)>0?27:-1),n(2),w("options",e.optionsSearch),n(),w("options",e.optionsStatist),n(2),y(!(e.dataModelResult==null||e.dataModelResult.listItems==null)&&e.dataModelResult.listItems.length?32:33),n(3),u("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Q(30,yS)))},dependencies:[K,H,Be,Ge,It,Oe,Ne,Pt,We,At,F,Rt,xt],encapsulation:2});var ta=dn;var VS=["vform"],FS=o=>({direction:o}),BS=()=>["fa"];function GS(o,m){if(o&1){let t=T();r(0,"app-cms-enum-record-status-selector",26),A("modelChange",function(e){c(t);let l=g();return I(l.dataModel.recordStatus,e)||(l.dataModel.recordStatus=e),p(e)}),a()}if(o&2){let t=g();w("model",t.dataModel.recordStatus),u("optionDisabled",!((t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessAddField)??!1))("optionLabel",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function OS(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function NS(o,m){if(o&1){let t=T();r(0,"div",18)(1,"label",19),d(2),a(),r(3,"input",27),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconFont,e)||(l.dataModel.iconFont=e),p(e)}),E("iconPickerSelect",function(e){c(t);let l=g();return p(l.onIconPickerSelect(e))}),a(),r(4,"em",28),_(5,"i",29),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle)),w("ngModel",t.dataModel.iconFont),u("iconPicker",t.dataModel.iconFont)("ipIconPack",Q(12,BS))("ipPosition","top")("ipWidth","250px")("disabled",!(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessAddField)),n(2),q("color",t.dataModel.iconColor?t.dataModel.iconColor:null),u("ngClass",t.dataModel.iconFont)}}function WS(o,m){if(o&1){let t=T();r(0,"div",18)(1,"label",19),d(2),a(),r(3,"div",30)(4,"input",31,4),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconColor,e)||(l.dataModel.iconColor=e),p(e)}),a(),_(6,"ngx-mat-color-toggle",32)(7,"ngx-mat-color-picker",33,5),a()()}if(o&2){let t=P(8),i=g();n(2),v(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),n(2),q("background",i.dataModel.iconColor),u("placeholder",R(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),w("ngModel",i.dataModel.iconColor),u("ngxMatColorPicker",t)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),n(2),u("for",t),n(),u("touchUi",!0)("color","primary")}}function HS(o,m){o&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function US(o,m){if(o&1&&(r(0,"div",18)(1,"label",19),d(2),C(3,"translate"),a(),r(4,"a",34),C(5,"cmsthumbnail"),_(6,"img",35),C(7,"cmsthumbnail"),a()()),o&2){let t=g();n(2),v(h(3,5,"TITLE.PICTURE")),n(2),u("href",R(h(5,7,t.dataModel.linkMainImageIdSrc)),Z),n(2),u("src",R(h(7,9,t.dataModel.linkMainImageIdSrc)),Z)}}function qS(o,m){if(o&1){let t=T();r(0,"div",25)(1,"button",36),E("click",function(){c(t);let e=g();return p(e.onActionBackToParent())}),_(2,"i",37),d(3),C(4,"translate"),a(),r(5,"button",38),_(6,"i",39),d(7),C(8,"translate"),a()()}if(o&2){g();let t=P(14);n(3),M(" ",h(4,3,"ACTION.CANCEL")," "),n(2),u("disabled",!t.form.valid),n(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var To=class To extends Qe{constructor(t,i,e,l,f,s,x,k,ye,Me){super(i,new Ti,f,Me);this.coreEnumService=t;this.estatePropertyTypeLanduseService=i;this.cmsToastrService=e;this.cmsStoreService=l;this.publicHelper=f;this.cdr=s;this.router=x;this.activatedRoute=k;this.tokenHelper=ye;this.translate=Me;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new ct;this.dataModelResult=new Se;this.dataModel=new Ti;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.activatedRoute.snapshot.paramMap.get("id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("id")),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.requestId&&this.requestId.length>0?(this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t+" copy"}),this.DataClone()):this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataClone(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyTypeLanduseService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess?(this.dataModel=i.item,i.item.title=i.item.title+" copy",this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyTypeLanduseService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.onActionBackToParent()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onActionBackToParent(){this.router.navigate(["/estate/main/property-type-landuse"])}};To.\u0275fac=function(i){return new(i||To)(b(j),b(pi),b(N),b(Ce),b(W),b(G),b(pe),b(Ee),b(he),b(O))},To.\u0275cmp=V({type:To,selectors:[["app-estate-property-type-landuse-add-mobile"]],viewQuery:function(i,e){if(i&1&&$(VS,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:44,vars:45,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["iconColor",""],["iconColorPicker",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[1,"cms-m-header-title"],[1,"cms-m-header-spacer"],[1,"cms-m-content","safe-area-content"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"cms-m-form-field"],[1,"cms-m-form-label"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder"],[1,"cms-m-char-count"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"cms-m-form-textarea",3,"ngModelChange","ngModel","placeholder"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"cms-m-form-input",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"cms-m-footer","safe-area-bottom"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["matInput","","type","text","name","dataModel.iconFont","id","dataModel.iconFont","ipButtonStyleClass","",1,"cms-m-form-input",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","ipWidth","placeholder","disabled"],[2,"opacity","1 !important"],[2,"font-size","20px !important",3,"ngClass"],[1,"cms-m-color-picker-wrapper"],["matInput","","type","text","name","dataModel.iconColor","id","dataModel.iconColor",1,"cms-m-form-input",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],["matSuffix","",3,"for"],[3,"touchUi","color"],["target","_blank",1,"cms-m-image-preview",3,"href"],["alt","Preview",3,"src"],["type","button",1,"cms-m-btn","cms-m-btn-secondary",3,"click"],["aria-hidden","true",1,"fa-solid","fa-times"],["type","submit",1,"cms-m-btn","cms-m-btn-success",3,"disabled"],["aria-hidden","true",1,"fa-solid","fa-save"]],template:function(i,e){if(i&1){let l=T();r(0,"div",6),_(1,"app-progress-spinner",7),r(2,"div",8)(3,"div",9)(4,"button",10),C(5,"translate"),E("click",function(){return c(l),p(e.onActionBackToParent())}),_(6,"i",11),a(),r(7,"h1",12),d(8),C(9,"translate"),a(),_(10,"div",13),a()(),r(11,"div",14),_(12,"app-cms-form-result-message",15),r(13,"form",16,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),S(15,GS,1,5,"app-cms-enum-record-status-selector",17),r(16,"div",18)(17,"label",19),d(18),a(),r(19,"input",20,1),A("ngModelChange",function(s){return c(l),I(e.dataModel.title,s)||(e.dataModel.title=s),p(s)}),a(),r(21,"em",21),d(22),a(),S(23,OS,5,3,"mat-error"),a(),S(24,NS,6,13,"div",18),S(25,WS,9,11,"div",18),r(26,"div",18)(27,"label",19),d(28),a(),r(29,"textarea",22,2),A("ngModelChange",function(s){return c(l),I(e.dataModel.description,s)||(e.dataModel.description=s),p(s)}),a(),r(31,"em",21),d(32),a(),S(33,HS,5,3,"mat-error"),a(),S(34,US,8,11,"div",18),r(35,"div",18)(36,"label",19),d(37),C(38,"translate"),a(),r(39,"input",23,3),C(41,"translate"),A("ngModelChange",function(s){return c(l),I(e.dataModel.linkMainImageId,s)||(e.dataModel.linkMainImageId=s),p(s)}),E("click",function(){return c(l),p(e.fileManagerOpenForm=!0)}),a(),r(42,"cms-file-manager",24),E("itemSelected",function(s){return c(l),p(e.onActionFileSelected(s))}),A("openFormChange",function(s){return c(l),I(e.fileManagerOpenForm,s)||(e.fileManagerOpenForm=s),p(s)}),a()(),S(43,qS,9,7,"div",25),a()()()}if(i&2){let l=P(20),f=P(30);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),Pe("aria-label",R(h(5,35,"ACTION.BACK"))),n(4),M(" ",e.formInfo.formTitle||h(9,37,"ROUTE.ESTATE.LANDUSE")," "),n(4),u("formInfo",e.formInfo),n(),u("ngStyle",$e(43,FS,e.tokenInfo.access.direction)),n(2),y(e.fieldsInfo.recordStatus!=null&&e.fieldsInfo.recordStatus.accessWatchField?15:-1),n(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),w("ngModel",e.dataModel.title),n(3),M("",l.value.length," / 100"),n(),y(l.errors!=null&&l.errors.required?23:-1),n(),y(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessWatchField?24:-1),n(),y(e.fieldsInfo.iconColor!=null&&e.fieldsInfo.iconColor.accessWatchField?25:-1),n(3),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),w("ngModel",e.dataModel.description),n(3),M("",f.value.length," / 500"),n(),y(f.errors!=null&&f.errors.required?33:-1),n(),y((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?34:-1),n(3),v(h(38,39,"TITLE.PICTURE")),n(2),u("placeholder",R(h(41,41,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),n(3),u("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),u("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),n(),y(e.formInfo.submitButtonEnabled?43:-1)}},dependencies:[K,et,ae,Y,J,ie,X,re,le,oe,ne,se,Fe,H,Le,z,de,ze,Ze,je,qe,De,F,ge],encapsulation:2});var ia=To;var jS=["vform"],ZS=o=>({direction:o}),zS=()=>["fa"];function QS(o,m){if(o&1){let t=T();r(0,"app-cms-enum-record-status-selector",25),A("modelChange",function(e){c(t);let l=g();return I(l.dataModel.recordStatus,e)||(l.dataModel.recordStatus=e),p(e)}),a()}if(o&2){let t=g();w("model",t.dataModel.recordStatus),u("optionDisabled",!((t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function KS(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function YS(o,m){if(o&1){let t=T();r(0,"div",18)(1,"label",19),d(2),a(),r(3,"input",26,3),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.title,e)||(l.dataModel.title=e),p(e)}),a(),r(5,"em",21),d(6),a(),S(7,KS,5,3,"mat-error"),a()}if(o&2){let t=P(4),i=g();n(2),v(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),u("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),n(3),M("",t.value.length," / 100"),n(),y(t.errors!=null&&t.errors.required?7:-1)}}function JS(o,m){if(o&1){let t=T();r(0,"div",18)(1,"label",19),d(2),a(),r(3,"input",27),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconFont,e)||(l.dataModel.iconFont=e),p(e)}),E("iconPickerSelect",function(e){c(t);let l=g();return p(l.onIconPickerSelect(e))}),a(),r(4,"em",28),_(5,"i",29),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle)),w("ngModel",t.dataModel.iconFont),u("iconPicker",t.dataModel.iconFont)("ipIconPack",Q(12,zS))("ipPosition","top")("ipWidth","250px")("disabled",!(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessEditField)),n(2),q("color",t.dataModel.iconColor?t.dataModel.iconColor:null),u("ngClass",t.dataModel.iconFont)}}function XS(o,m){if(o&1){let t=T();r(0,"div",18)(1,"label",19),d(2),a(),r(3,"div",30)(4,"input",31,4),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconColor,e)||(l.dataModel.iconColor=e),p(e)}),a(),_(6,"ngx-mat-color-toggle",32)(7,"ngx-mat-color-picker",33,5),a()()}if(o&2){let t=P(8),i=g();n(2),v(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),n(2),q("background",i.dataModel.iconColor),u("placeholder",R(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),w("ngModel",i.dataModel.iconColor),u("ngxMatColorPicker",t)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),n(2),u("for",t),n(),u("touchUi",!0)("color","primary")}}function $S(o,m){o&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function ey(o,m){if(o&1&&(r(0,"div",18)(1,"label",19),d(2),C(3,"translate"),a(),r(4,"a",34),C(5,"cmsthumbnail"),_(6,"img",35),C(7,"cmsthumbnail"),a()()),o&2){let t=g();n(2),v(h(3,5,"TITLE.PICTURE")),n(2),u("href",R(h(5,7,t.dataModel.linkMainImageIdSrc)),Z),n(2),u("src",R(h(7,9,t.dataModel.linkMainImageIdSrc)),Z)}}function ty(o,m){if(o&1){let t=T();r(0,"div",24)(1,"button",36),E("click",function(){c(t);let e=g();return p(e.onActionBackToParent())}),_(2,"i",37),d(3),C(4,"translate"),a(),r(5,"button",38),_(6,"i",39),d(7),C(8,"translate"),a()()}if(o&2){g();let t=P(14);n(3),M(" ",h(4,3,"ACTION.CANCEL")," "),n(2),u("disabled",!t.form.valid),n(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var wo=class wo extends rt{constructor(t,i,e,l,f,s,x,k,ye,Me,bt){super(i,new Ti,s,bt);this.coreEnumService=t;this.estatePropertyTypeLanduseService=i;this.estatePropertyTypeService=e;this.cmsToastrService=l;this.cmsStoreService=f;this.publicHelper=s;this.router=x;this.cdr=k;this.activatedRoute=ye;this.tokenHelper=Me;this.translate=bt;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new ct;this.dataModelResult=new tt;this.dataModel=new Ti;this.fileManagerOpenForm=!1;this.dataEstatePropertyTypeUsageIds=[];this.publicHelper.processService.cdr=this.cdr,this.activatedRoute.snapshot.paramMap.get("id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("id")),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.onActionBackToParent();return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyTypeLanduseService.setAccessLoad(),this.estatePropertyTypeLanduseService.setAccessDataType(nt.Editor),this.estatePropertyTypeLanduseService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)});let i=new He,e=new Xe;e.propertyName="LinkPropertyTypeLanduseId",e.value=this.requestId,i.filters.push(e),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:l=>{if(l.isSuccess){this.dataEstatePropertyTypeModel=l.listItems;let f=[];this.dataEstatePropertyTypeModel.forEach(s=>{f.push(s.linkPropertyTypeUsageId)}),this.dataEstatePropertyTypeUsageIds=f}else this.cmsToastrService.typeErrorMessage(l.errorMessage);this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyTypeLanduseService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.onActionBackToParent()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onActionBackToParent(){this.router.navigate(["/estate/main/property-type-landuse"])}};wo.\u0275fac=function(i){return new(i||wo)(b(j),b(pi),b(Ei),b(N),b(Ce),b(W),b(pe),b(G),b(Ee),b(he),b(O))},wo.\u0275cmp=V({type:wo,selectors:[["app-estate-property-type-landuse-edit-mobile"]],viewQuery:function(i,e){if(i&1&&$(jS,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:37,vars:40,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],["iconColor",""],["iconColorPicker",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[1,"cms-m-header-title"],[1,"cms-m-header-spacer"],[1,"cms-m-content","safe-area-content"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"cms-m-form-field"],[1,"cms-m-form-label"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"cms-m-form-textarea",3,"ngModelChange","ngModel","placeholder"],[1,"cms-m-char-count"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"cms-m-form-input",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"cms-m-footer","safe-area-bottom"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder","disabled"],["matInput","","type","text","name","dataModel.iconFont","id","dataModel.iconFont","ipButtonStyleClass","",1,"cms-m-form-input",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","ipWidth","placeholder","disabled"],[2,"opacity","1 !important"],[2,"font-size","20px !important",3,"ngClass"],[1,"cms-m-color-picker-wrapper"],["matInput","","type","text","name","dataModel.iconColor","id","dataModel.iconColor",1,"cms-m-form-input",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],["matSuffix","",3,"for"],[3,"touchUi","color"],["target","_blank",1,"cms-m-image-preview",3,"href"],["alt","Preview",3,"src"],["type","button",1,"cms-m-btn","cms-m-btn-secondary",3,"click"],["aria-hidden","true",1,"fa-solid","fa-times"],["type","submit",1,"cms-m-btn","cms-m-btn-success",3,"disabled"],["aria-hidden","true",1,"fa-solid","fa-save"]],template:function(i,e){if(i&1){let l=T();r(0,"div",6),_(1,"app-progress-spinner",7),r(2,"div",8)(3,"div",9)(4,"button",10),C(5,"translate"),E("click",function(){return c(l),p(e.onActionBackToParent())}),_(6,"i",11),a(),r(7,"h1",12),d(8),C(9,"translate"),a(),_(10,"div",13),a()(),r(11,"div",14),_(12,"app-cms-form-result-message",15),r(13,"form",16,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),S(15,QS,1,5,"app-cms-enum-record-status-selector",17),S(16,YS,8,7,"div",18),S(17,JS,6,13,"div",18),S(18,XS,9,11,"div",18),r(19,"div",18)(20,"label",19),d(21),a(),r(22,"textarea",20,1),A("ngModelChange",function(s){return c(l),I(e.dataModel.description,s)||(e.dataModel.description=s),p(s)}),a(),r(24,"em",21),d(25),a(),S(26,$S,5,3,"mat-error"),a(),S(27,ey,8,11,"div",18),r(28,"div",18)(29,"label",19),d(30),C(31,"translate"),a(),r(32,"input",22,2),C(34,"translate"),A("ngModelChange",function(s){return c(l),I(e.dataModel.linkMainImageId,s)||(e.dataModel.linkMainImageId=s),p(s)}),E("click",function(){return c(l),p(e.fileManagerOpenForm=!0)}),a(),r(35,"cms-file-manager",23),E("itemSelected",function(s){return c(l),p(e.onActionFileSelected(s))}),A("openFormChange",function(s){return c(l),I(e.fileManagerOpenForm,s)||(e.fileManagerOpenForm=s),p(s)}),a()(),S(36,ty,9,7,"div",24),a()()()}if(i&2){let l=P(23);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),Pe("aria-label",R(h(5,30,"ACTION.BACK"))),n(4),M(" ",e.formInfo.formTitle||h(9,32,"ROUTE.ESTATE.LANDUSE")," "),n(4),u("formInfo",e.formInfo),n(),u("ngStyle",$e(38,ZS,e.tokenInfo.access.direction)),n(2),y(e.fieldsInfo.recordStatus!=null&&e.fieldsInfo.recordStatus.accessWatchField?15:-1),n(),y(e.fieldsInfo.title!=null&&e.fieldsInfo.title.accessWatchField?16:-1),n(),y(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessWatchField?17:-1),n(),y(e.fieldsInfo.iconColor!=null&&e.fieldsInfo.iconColor.accessWatchField?18:-1),n(3),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),w("ngModel",e.dataModel.description),n(3),M("",l.value.length," / 500"),n(),y(l.errors!=null&&l.errors.required?26:-1),n(),y((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?27:-1),n(3),v(h(31,34,"TITLE.PICTURE")),n(2),u("placeholder",R(h(34,36,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),n(3),u("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),u("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),n(),y(e.formInfo.submitButtonEnabled?36:-1)}},dependencies:[K,et,ae,Y,J,ie,X,re,le,oe,ne,se,Fe,H,Le,z,de,ze,Ze,je,qe,De,F,ge],encapsulation:2});var er=wo;var iy=()=>[5,10,20,100];function ny(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",39),E("click",function(){c(t);let e=g();return p(e.onActionButtonNewRow())}),_(2,"i",40)(3,"br"),a(),r(4,"p",19),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.ADD")," "))}function oy(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",41),E("click",function(){c(t);let e=g();return p(e.onActionButtonEditRow(e.tableRowSelected))}),_(2,"i",42)(3,"br"),a(),r(4,"p",19),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.EDIT")," "))}function ay(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",43),E("click",function(){c(t);let e=g();return p(e.onActionButtonDeleteRow(e.tableRowSelected))}),_(2,"i",44)(3,"br"),a(),r(4,"p",19),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.DELETE")," "))}function ry(o,m){o&1&&(r(0,"mat-header-cell",45),d(1),C(2,"translate"),a()),o&2&&(n(),M(" ",h(2,1,"TITLE.PICTURE")," "))}function ly(o,m){if(o&1&&(_(0,"img",46),C(1,"cmsthumbnail")),o&2){let t=g().$implicit;u("src",R(h(1,2,t.linkMainImageIdSrc)),Z)}}function sy(o,m){if(o&1&&(r(0,"mat-cell"),S(1,ly,2,4,"img",46),a()),o&2){let t=m.$implicit;n(),y((t==null||t.linkMainImageIdSrc==null?null:t.linkMainImageIdSrc.length)>0?1:-1)}}function dy(o,m){if(o&1&&(r(0,"mat-header-cell",45),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle," ")}}function cy(o,m){if(o&1&&(r(0,"mat-cell"),_(1,"i",47),a()),o&2){let t=m.$implicit;n(),q("color",t.iconColor),u("ngClass",t.iconFont)}}function py(o,m){if(o&1&&(r(0,"mat-header-cell",45),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle," ")}}function my(o,m){if(o&1&&(r(0,"mat-cell"),_(1,"i",47),a()),o&2){let t=m.$implicit;n(),q("color",t.iconColor),u("ngClass",t.iconFont)}}function uy(o,m){if(o&1&&(r(0,"mat-header-cell",45),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle," ")}}function fy(o,m){if(o&1&&(r(0,"mat-cell"),d(1),a()),o&2){let t=m.$implicit;n(),M(" ",t.title," ")}}function gy(o,m){if(o&1&&(r(0,"mat-header-cell",45),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle," ")}}function _y(o,m){if(o&1&&(r(0,"mat-cell"),d(1),a()),o&2){let t=m.$implicit;n(),M(" ",t.description," ")}}function Cy(o,m){o&1&&(r(0,"mat-header-cell"),d(1),C(2,"translate"),a()),o&2&&(n(),M(" ",h(2,1,"TITLE.OPTION")," "))}function hy(o,m){if(o&1&&(r(0,"mat-cell",48)(1,"button",49)(2,"mat-icon"),d(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),o&2){let t=P(5);n(),u("matMenuTriggerFor",t)}}function Sy(o,m){o&1&&_(0,"mat-header-row")}function yy(o,m){if(o&1){let t=T();r(0,"mat-row",50),E("click",function(e){let l=c(t).$implicit,f=g();return p(f.onActionTableRowSelect(l,e))})("rtclick",function(e){let l=c(t).$implicit,f=g();return p(f.onActionTableRowSelect(l,e))}),a()}if(o&2){let t=m.$implicit,i=g();ce("ntk-row-selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ao=class Ao extends Kt{constructor(t,i,e,l,f,s,x,k,ye,Me,bt){super(t,new Ti,Me,f,x);this.contentService=t;this.cmsConfirmationDialogService=i;this.cmsToastrService=e;this.router=l;this.tokenHelper=f;this.cdr=s;this.translate=x;this.cmsStoreService=k;this.pageInfo=ye;this.publicHelper=Me;this.dialog=bt;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new He;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","IconFont","title","Description"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","IconFont","title","Description"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:mi=>this.onSubmitOptionsSearch(mi)},this.filteModelContent.sortColumn="title",this.filteModelContent.sortType=Ae.Ascending}filterModelCompiler(t){let i=JSON.parse(JSON.stringify(t));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(t=>t.tokenInfoStore).subscribe(t=>ut(this,null,function*(){this.tokenInfo=t,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(t=>t.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ti);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.applyDataGetAllResult(e),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Ae.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Ae.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Ae.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(_l,{height:"90%",panelClass:t,enterAnimationDuration:_e.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_e.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!(t?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Cl,{height:"90%",panelClass:i,enterAnimationDuration:_e.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_e.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!(t?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],e=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(f,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonContentDetailList(t=this.tableRowSelected,i){if(!(t?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}if(this.onActionTableRowSelect(t),i?.ctrlKey){let e="/#/estate/main/property-detail/LinkPropertyTypeLanduseId/"+this.tableRowSelected.id;window.open(e,"_blank")}else this.router.navigate(["/estate/main/property-detail/LinkPropertyTypeLanduseId/",this.tableRowSelected.id])}onActionButtonContentList(t=this.tableRowSelected,i){if(!(t?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}if(this.onActionTableRowSelect(t),i?.ctrlKey){let e="/#/estate/data/property/LinkPropertyTypeLanduseId/"+this.tableRowSelected.id;window.open(e,"_blank")}else this.router.navigate(["/estate/data/property/LinkPropertyTypeLanduseId/",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(x=>{i.set(x,0)}),this.translate.get("MESSAGE.All").subscribe(x=>{i.set(x,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(x=>{this.publicHelper.processService.processStart(e,x,this.constructorInfoAreaId)});let l=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetCount(l).subscribe({next:x=>{x.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,x.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(x.errorMessage),this.publicHelper.processService.processStop(e)},error:x=>{this.cmsToastrService.typeError(x),this.publicHelper.processService.processStop(e,!1)}});let f=this.filterModelCompiler(this.filteModelContent),s=new Xe;s.propertyName="recordStatus",s.value=Dt.Available,f.filters.push(s),this.contentService.ServiceGetCount(f).subscribe({next:x=>{x.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,x.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(x.errorMessage),this.publicHelper.processService.processStop(e)},error:x=>{this.cmsToastrService.typeError(x),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){t&&t.length>0?this.filterDataModelQueryBuilder=[...t]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Ao.\u0275fac=function(i){return new(i||Ao)(b(pi),b(yt),b(N),b(pe),b(he),b(G),b(O),b(Ce),b(Qt),b(W),b(wt))},Ao.\u0275cmp=V({type:Ao,selectors:[["app-estate-property-type-landuse-list"]],standalone:!1,features:[B],decls:67,vars:36,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-buildings","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","id"],["matColumnDef","title"],["matColumnDef","Description"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,e){if(i&1){let l=T();r(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(s){return c(l),I(e.viewGuideNotice,s)||(e.viewGuideNotice=s),p(s)}),E("optionOnActionButtonMemoRow",function(){return c(l),p(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return c(l),p(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return c(l),p(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return c(l),p(e.onActionButtonPrintRow())}),D(1,4),d(2," -------------------------------------- "),L(),ke(3,5)(4,6),D(5,7),r(6,"a",8),E("click",function(){return c(l),p(e.viewGuideNotice=!e.viewGuideNotice)}),_(7,"i",9),a(),r(8,"a",8),E("click",function(){return c(l),p(e.onActionButtonReload())}),_(9,"i",10),a(),L(),D(10,11),r(11,"a",12),E("click",function(){return c(l),p(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(12,"mat-slide-toggle",13),d(13),C(14,"translate"),a(),r(15,"a",12),E("click",function(){return c(l),p(e.onActionButtonStatist())}),_(16,"mat-slide-toggle",13),d(17),C(18,"translate"),a(),L(),D(19,14),S(20,ny,7,3,"div",15),L(),D(21,16),S(22,oy,7,3,"div",15),S(23,ay,7,3,"div",15),r(24,"div",15)(25,"a",17),E("click",function(s){return c(l),p(e.onActionButtonContentDetailList(e.tableRowSelected,s))}),_(26,"i",18)(27,"br"),a(),r(28,"p",19),d(29),C(30,"translate"),a()(),r(31,"div",15)(32,"a",17),E("click",function(s){return c(l),p(e.onActionButtonContentList(e.tableRowSelected,s))}),_(33,"i",20)(34,"br"),a(),r(35,"p",19),d(36),C(37,"translate"),a()(),L(),D(38,21),r(39,"app-cms-search-list",22),A("optionsChange",function(s){return c(l),I(e.optionsSearch,s)||(e.optionsSearch=s),p(s)}),a(),r(40,"app-cms-statist-list",22),A("optionsChange",function(s){return c(l),I(e.optionsStatist,s)||(e.optionsStatist=s),p(s)}),a(),L(),D(41,23),r(42,"mat-table",24,0),E("matSortChange",function(){c(l);let s=P(43);return p(e.onTableSortData(s))}),D(44,25),U(45,ry,3,3,"mat-header-cell",26)(46,sy,2,1,"mat-cell",27),L(),D(47,28),U(48,dy,2,1,"mat-header-cell",26)(49,cy,2,3,"mat-cell",27),L(),D(50,29),U(51,py,2,1,"mat-header-cell",26)(52,my,2,3,"mat-cell",27),L(),D(53,30),U(54,uy,2,1,"mat-header-cell",26)(55,fy,2,1,"mat-cell",27),L(),D(56,31),U(57,gy,2,1,"mat-header-cell",26)(58,_y,2,1,"mat-cell",27),L(),D(59,32),U(60,Cy,3,3,"mat-header-cell",33)(61,hy,6,1,"mat-cell",34),L(),U(62,Sy,1,0,"mat-header-row",35)(63,yy,1,2,"mat-row",36),a(),L(),D(64,37),r(65,"mat-paginator",38,1),E("page",function(s){return c(l),p(e.onTablePageingData(s))}),a(),L(),a()}i&2&&(u("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),n(9),ce("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),n(3),u("checked",e.optionsSearch.data.show),n(),M("",h(14,27,"ACTION.SEARCH")," "),n(3),u("checked",e.optionsStatist.data.show),n(),M("",h(18,29,"ACTION.STATIST")," "),n(3),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessAddRow?20:-1),n(2),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow?22:-1),n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow?23:-1),n(6),M(" ",h(30,31,"ACTION.DETAIL")," "),n(7),M(" ",h(37,33,"ACTION.PROPERTYLIST")," "),n(3),w("options",e.optionsSearch),n(),w("options",e.optionsStatist),n(2),u("dataSource",e.tableSource),n(20),u("matHeaderRowDef",e.tabledisplayedColumns),n(),u("matRowDefColumns",e.tabledisplayedColumns),n(2),u("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Q(35,iy)))},dependencies:[K,Tt,ft,kt,Vt,Be,Ge,Ft,Bt,Gt,Nt,qt,Wt,Ot,jt,Ht,Ut,Zt,zt,Oe,Ne,Yt,We,F,ge],encapsulation:2});var Ro=Ao;var My=()=>[5,10,20,100],Ey=(o,m)=>m.id;function by(o,m){if(o&1){let t=T();r(0,"div",13)(1,"a",22),E("click",function(){c(t);let e=g();return p(e.onActionButtonNewRow())}),_(2,"i",23)(3,"br"),a(),r(4,"p",24),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.ADD")," "))}function vy(o,m){if(o&1){let t=T();r(0,"div",13)(1,"a",25),E("click",function(){c(t);let e=g();return p(e.onActionButtonEditRow(e.tableRowSelected))}),_(2,"i",26)(3,"br"),a(),r(4,"p",24),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.EDIT")," "))}function Iy(o,m){if(o&1){let t=T();r(0,"div",13)(1,"a",27),E("click",function(){c(t);let e=g();return p(e.onActionButtonDeleteRow(e.tableRowSelected))}),_(2,"i",28)(3,"br"),a(),r(4,"p",24),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.DELETE")," "))}function Ty(o,m){if(o&1){let t=T();r(0,"div",13)(1,"a",6),E("click",function(e){c(t);let l=g();return p(l.onActionButtonContentDetailList(l.tableRowSelected,e))}),_(2,"i",29)(3,"br"),a(),r(4,"p",24),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.DETAIL")," "))}function wy(o,m){if(o&1&&(r(0,"div",36),_(1,"i",38),d(2),a()),o&2){let t=g().$implicit,i=g(2);n(2),Ve(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",t.id," ")}}function Ay(o,m){if(o&1&&(r(0,"div",36),_(1,"i",39),d(2),C(3,"localeDate"),a()),o&2){let t=g().$implicit,i=g(2);n(2),Ve(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",h(3,2,t.createdDate)," ")}}function Ry(o,m){if(o&1&&_(0,"select",41),o&2){let t=g(2).$implicit,i=g(2);u("contentService",i.contentServicePublic)("row",t)}}function xy(o,m){if(o&1&&(r(0,"div",36),_(1,"i",40),C(2,"statusIconClass"),S(3,Ry,1,2,"select",41),a()),o&2){let t=g().$implicit,i=g(2);n(),u("ngClass",h(2,2,t.recordStatus)),n(2),y(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function Py(o,m){if(o&1&&(r(0,"div",36),_(1,"i",44),d(2),C(3,"localeDate"),a()),o&2){let t=g(2).$implicit,i=g(2);n(2),Ve(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",h(3,2,t.updatedDate)," ")}}function Dy(o,m){if(o&1){let t=T();r(0,"div",37),S(1,Py,4,4,"div",36),r(2,"div",36)(3,"span",42),E("click",function(e){return c(t),g(3).onActionCopied(),p(e.stopPropagation())}),_(4,"i",43),a(),d(5),a()()}if(o&2){let t=g().$implicit;n(),y(t.updatedDate?1:-1),n(2),u("cdkCopyToClipboard",t.id.toString()),n(2),M(" ID: ",t.id," ")}}function Ly(o,m){if(o&1){let t=T();r(0,"div",31),E("click",function(e){let l=c(t).$implicit,f=g(2);return p(f.onActionTableRowSelect(l,e))})("rtclick",function(e){let l=c(t).$implicit,f=g(2);return p(f.onActionTableRowSelect(l,e))})("mouseenter",function(){let e=c(t).$implicit,l=g(2);return p(l.onActionTableRowMouseEnter(e))})("mouseleave",function(){let e=c(t).$implicit,l=g(2);return p(l.onActionTableRowMouseLeave(e))}),r(1,"div",32),_(2,"i",33),C(3,"statusIconClass"),a(),r(4,"div",34)(5,"div",35),d(6),a(),S(7,wy,3,2,"div",36),S(8,Ay,4,4,"div",36),S(9,xy,4,4,"div",36),S(10,Dy,6,3,"div",37),a()()}if(o&2){let t=m.$implicit,i=g(2);ce("selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))("bg-fade-highlight-light",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),pt("aria-label",t.title||t.id),n(2),u("ngClass",h(3,11,t.recordStatus)),n(4),M(" ",t.title||"ID: "+t.id," "),n(),y(t.id?7:-1),n(),y(t.createdDate?8:-1),n(),y(t.recordStatus!==void 0?9:-1),n(),y(i.getRowExpanded(t)?10:-1)}}function ky(o,m){if(o&1&&(r(0,"div",18),Re(1,Ly,11,13,"div",30,Ey),a()),o&2){let t=g();n(),xe(t.dataModelResult.listItems)}}function Vy(o,m){o&1&&(r(0,"div",19),d(1),C(2,"translate"),a()),o&2&&(n(),M(" ",h(2,1,"MESSAGE.NoRecord")," "))}var cn=class cn extends Ro{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(t){let i=String(t);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(t){return String(t)}onDocumentClick(t){let i=t.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(t){return t.expanded===!0}get contentServicePublic(){return this.contentService}};cn.\u0275fac=(()=>{let t;return function(e){return(t||(t=_t(cn)))(e||cn)}})(),cn.\u0275cmp=V({type:cn,selectors:[["app-estate-property-type-landuse-list-mobile"]],hostBindings:function(i,e){i&1&&E("click",function(f){return e.onDocumentClick(f)},Ct)},standalone:!1,features:[B],decls:33,vars:31,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-calendar"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"]],template:function(i,e){if(i&1){let l=T();r(0,"app-cms-html-list-mobile",1),A("optionActionGuideNoticeDisplayChange",function(s){return c(l),I(e.viewGuideNotice,s)||(e.viewGuideNotice=s),p(s)}),E("optionOnActionButtonMemoRow",function(){return c(l),p(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return c(l),p(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return c(l),p(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return c(l),p(e.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return c(l),p(e.onActionLoadNextPage())}),ke(1,2)(2,3)(3,4),D(4,5),r(5,"a",6),E("click",function(){return c(l),p(e.viewGuideNotice=!e.viewGuideNotice)}),_(6,"i",7),a(),r(7,"a",6),E("click",function(){return c(l),p(e.onActionButtonReload())}),_(8,"i",8),a(),L(),D(9,9),r(10,"a",10),E("click",function(){return c(l),p(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(11,"mat-slide-toggle",11),d(12),C(13,"translate"),a(),r(14,"a",10),E("click",function(){return c(l),p(e.onActionButtonStatist())}),_(15,"mat-slide-toggle",11),d(16),C(17,"translate"),a(),L(),D(18,12),S(19,by,7,3,"div",13),L(),D(20,14),S(21,vy,7,3,"div",13),S(22,Iy,7,3,"div",13),S(23,Ty,7,3,"div",13),L(),D(24,15),r(25,"app-cms-search-list",16),A("optionsChange",function(s){return c(l),I(e.optionsSearch,s)||(e.optionsSearch=s),p(s)}),a(),r(26,"app-cms-statist-list",16),A("optionsChange",function(s){return c(l),I(e.optionsStatist,s)||(e.optionsStatist=s),p(s)}),a(),L(),D(27,17),S(28,ky,3,0,"div",18)(29,Vy,3,3,"div",19),L(),D(30,20),r(31,"mat-paginator",21,0),E("page",function(s){return c(l),p(e.onTablePageingData(s))}),a(),L(),a()}i&2&&(u("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey","estate.main.property-type-landuse.list"),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplay",(e.tableRowSelected==null?null:e.tableRowSelected.id)>0)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),n(8),ce("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),n(3),u("checked",e.optionsSearch.data.show),n(),M("",h(13,26,"ACTION.SEARCH")," "),n(3),u("checked",e.optionsStatist.data.show),n(),M("",h(17,28,"ACTION.STATIST")," "),n(3),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessAddRow?19:-1),n(2),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow&&(e.tableRowSelected==null?null:e.tableRowSelected.id)>0?21:-1),n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow&&(e.tableRowSelected==null?null:e.tableRowSelected.id)>0?22:-1),n(),y((e.tableRowSelected==null?null:e.tableRowSelected.id)>0?23:-1),n(2),w("options",e.optionsSearch),n(),w("options",e.optionsStatist),n(2),y(!(e.dataModelResult==null||e.dataModelResult.listItems==null)&&e.dataModelResult.listItems.length?28:29),n(3),u("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Q(30,My)))},dependencies:[K,H,Be,Ge,It,Oe,Ne,Pt,We,At,F,Rt,xt],encapsulation:2});var tr=cn;var Fy=["vform"],By=o=>({direction:o}),Gy=()=>["fa"];function Oy(o,m){if(o&1){let t=T();r(0,"app-cms-enum-record-status-selector",26),A("modelChange",function(e){c(t);let l=g();return I(l.dataModel.recordStatus,e)||(l.dataModel.recordStatus=e),p(e)}),a()}if(o&2){let t=g();w("model",t.dataModel.recordStatus),u("optionDisabled",!((t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessAddField)??!1))("optionLabel",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ny(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Wy(o,m){if(o&1){let t=T();r(0,"div",18)(1,"label",19),d(2),a(),r(3,"input",27),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconFont,e)||(l.dataModel.iconFont=e),p(e)}),E("iconPickerSelect",function(e){c(t);let l=g();return p(l.onIconPickerSelect(e))}),a(),r(4,"em",28),_(5,"i",29),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle)),w("ngModel",t.dataModel.iconFont),u("iconPicker",t.dataModel.iconFont)("ipIconPack",Q(12,Gy))("ipPosition","top")("ipWidth","250px")("disabled",!(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessAddField)),n(2),q("color",t.dataModel.iconColor?t.dataModel.iconColor:null),u("ngClass",t.dataModel.iconFont)}}function Hy(o,m){if(o&1){let t=T();r(0,"div",18)(1,"label",19),d(2),a(),r(3,"div",30)(4,"input",31,4),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconColor,e)||(l.dataModel.iconColor=e),p(e)}),a(),_(6,"ngx-mat-color-toggle",32)(7,"ngx-mat-color-picker",33,5),a()()}if(o&2){let t=P(8),i=g();n(2),v(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),n(2),q("background",i.dataModel.iconColor),u("placeholder",R(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),w("ngModel",i.dataModel.iconColor),u("ngxMatColorPicker",t)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),n(2),u("for",t),n(),u("touchUi",!0)("color","primary")}}function Uy(o,m){o&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function qy(o,m){if(o&1&&(r(0,"div",18)(1,"label",19),d(2),C(3,"translate"),a(),r(4,"a",34),C(5,"cmsthumbnail"),_(6,"img",35),C(7,"cmsthumbnail"),a()()),o&2){let t=g();n(2),v(h(3,5,"TITLE.PICTURE")),n(2),u("href",R(h(5,7,t.dataModel.linkMainImageIdSrc)),Z),n(2),u("src",R(h(7,9,t.dataModel.linkMainImageIdSrc)),Z)}}function jy(o,m){if(o&1){let t=T();r(0,"div",25)(1,"button",36),E("click",function(){c(t);let e=g();return p(e.onActionBackToParent())}),_(2,"i",37),d(3),C(4,"translate"),a(),r(5,"button",38),_(6,"i",39),d(7),C(8,"translate"),a()()}if(o&2){g();let t=P(14);n(3),M(" ",h(4,3,"ACTION.CANCEL")," "),n(2),u("disabled",!t.form.valid),n(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var xo=class xo extends Qe{constructor(t,i,e,l,f,s,x,k,ye,Me){super(i,new gi,f,Me);this.coreEnumService=t;this.estatePropertyTypeUsageService=i;this.cmsToastrService=e;this.cmsStoreService=l;this.publicHelper=f;this.cdr=s;this.router=x;this.activatedRoute=k;this.tokenHelper=ye;this.translate=Me;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new ct;this.dataModelResult=new Se;this.dataModel=new gi;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.activatedRoute.snapshot.paramMap.get("id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("id")),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.requestId&&this.requestId.length>0?(this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t+" copy"}),this.DataClone()):this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataClone(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyTypeUsageService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess?(this.dataModel=i.item,i.item.title=i.item.title+" copy",this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyTypeUsageService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.onActionBackToParent()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onActionBackToParent(){this.router.navigate(["/estate/main/property-type-usage"])}};xo.\u0275fac=function(i){return new(i||xo)(b(j),b(bi),b(N),b(Ce),b(W),b(G),b(pe),b(Ee),b(he),b(O))},xo.\u0275cmp=V({type:xo,selectors:[["app-estate-property-type-usage-add-mobile"]],viewQuery:function(i,e){if(i&1&&$(Fy,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:44,vars:45,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["iconColor",""],["iconColorPicker",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[1,"cms-m-header-title"],[1,"cms-m-header-spacer"],[1,"cms-m-content","safe-area-content"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"cms-m-form-field"],[1,"cms-m-form-label"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder"],[1,"cms-m-char-count"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"cms-m-form-textarea",3,"ngModelChange","ngModel","placeholder"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"cms-m-form-input",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"cms-m-footer","safe-area-bottom"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["matInput","","type","text","name","dataModel.iconFont","id","dataModel.iconFont","ipButtonStyleClass","",1,"cms-m-form-input",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","ipWidth","placeholder","disabled"],[2,"opacity","1 !important"],[2,"font-size","20px !important",3,"ngClass"],[1,"cms-m-color-picker-wrapper"],["matInput","","type","text","name","dataModel.iconColor","id","dataModel.iconColor",1,"cms-m-form-input",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],["matSuffix","",3,"for"],[3,"touchUi","color"],["target","_blank",1,"cms-m-image-preview",3,"href"],["alt","Preview",3,"src"],["type","button",1,"cms-m-btn","cms-m-btn-secondary",3,"click"],["aria-hidden","true",1,"fa-solid","fa-times"],["type","submit",1,"cms-m-btn","cms-m-btn-success",3,"disabled"],["aria-hidden","true",1,"fa-solid","fa-save"]],template:function(i,e){if(i&1){let l=T();r(0,"div",6),_(1,"app-progress-spinner",7),r(2,"div",8)(3,"div",9)(4,"button",10),C(5,"translate"),E("click",function(){return c(l),p(e.onActionBackToParent())}),_(6,"i",11),a(),r(7,"h1",12),d(8),C(9,"translate"),a(),_(10,"div",13),a()(),r(11,"div",14),_(12,"app-cms-form-result-message",15),r(13,"form",16,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),S(15,Oy,1,5,"app-cms-enum-record-status-selector",17),r(16,"div",18)(17,"label",19),d(18),a(),r(19,"input",20,1),A("ngModelChange",function(s){return c(l),I(e.dataModel.title,s)||(e.dataModel.title=s),p(s)}),a(),r(21,"em",21),d(22),a(),S(23,Ny,5,3,"mat-error"),a(),S(24,Wy,6,13,"div",18),S(25,Hy,9,11,"div",18),r(26,"div",18)(27,"label",19),d(28),a(),r(29,"textarea",22,2),A("ngModelChange",function(s){return c(l),I(e.dataModel.description,s)||(e.dataModel.description=s),p(s)}),a(),r(31,"em",21),d(32),a(),S(33,Uy,5,3,"mat-error"),a(),S(34,qy,8,11,"div",18),r(35,"div",18)(36,"label",19),d(37),C(38,"translate"),a(),r(39,"input",23,3),C(41,"translate"),A("ngModelChange",function(s){return c(l),I(e.dataModel.linkMainImageId,s)||(e.dataModel.linkMainImageId=s),p(s)}),E("click",function(){return c(l),p(e.fileManagerOpenForm=!0)}),a(),r(42,"cms-file-manager",24),E("itemSelected",function(s){return c(l),p(e.onActionFileSelected(s))}),A("openFormChange",function(s){return c(l),I(e.fileManagerOpenForm,s)||(e.fileManagerOpenForm=s),p(s)}),a()(),S(43,jy,9,7,"div",25),a()()()}if(i&2){let l=P(20),f=P(30);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),Pe("aria-label",R(h(5,35,"ACTION.BACK"))),n(4),M(" ",e.formInfo.formTitle||h(9,37,"ROUTE.ESTATE.TYPEUSAGE")," "),n(4),u("formInfo",e.formInfo),n(),u("ngStyle",$e(43,By,e.tokenInfo.access.direction)),n(2),y(e.fieldsInfo.recordStatus!=null&&e.fieldsInfo.recordStatus.accessWatchField?15:-1),n(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),w("ngModel",e.dataModel.title),n(3),M("",l.value.length," / 100"),n(),y(l.errors!=null&&l.errors.required?23:-1),n(),y(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessWatchField?24:-1),n(),y(e.fieldsInfo.iconColor!=null&&e.fieldsInfo.iconColor.accessWatchField?25:-1),n(3),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),w("ngModel",e.dataModel.description),n(3),M("",f.value.length," / 500"),n(),y(f.errors!=null&&f.errors.required?33:-1),n(),y((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?34:-1),n(3),v(h(38,39,"TITLE.PICTURE")),n(2),u("placeholder",R(h(41,41,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),n(3),u("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),u("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),n(),y(e.formInfo.submitButtonEnabled?43:-1)}},dependencies:[K,et,ae,Y,J,ie,X,re,le,oe,ne,se,Fe,H,Le,z,de,ze,Ze,je,qe,De,F,ge],encapsulation:2});var na=xo;var Po=class extends rt{constructor(t,i,e,l,f,s){super(i,new gi,l,s);this.coreEnumService=t;this.estatePropertyTypeUsageService=i;this.cmsToastrService=e;this.publicHelper=l;this.cdr=f;this.translate=s;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new tt;this.dataModel=new gi;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}validateRequestId(t){return!this.requestId||this.requestId.length===0?(this.cmsToastrService.typeErrorComponentAction(),t(),!1):!0}loadItem(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyTypeUsageService.setAccessLoad(),this.estatePropertyTypeUsageService.setAccessDataType(nt.Editor),this.estatePropertyTypeUsageService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}saveItem(t){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.estatePropertyTypeUsageService.ServiceEdit(this.dataModel).subscribe({next:e=>{this.dataModelResult=e,e.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(l=>{this.formInfo.submitResultMessage=l,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),t()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(i),this.formInfo.submitButtonEnabled=!0},error:e=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onFormSubmitInternal(t){this.formGroup?.valid&&(this.formInfo.submitButtonEnabled=!1,this.saveItem(t))}};var Zy=["vform"],zy=o=>({direction:o}),Qy=()=>["fa"];function Ky(o,m){if(o&1){let t=T();r(0,"app-cms-enum-record-status-selector",25),A("modelChange",function(e){c(t);let l=g();return I(l.dataModel.recordStatus,e)||(l.dataModel.recordStatus=e),p(e)}),a()}if(o&2){let t=g();w("model",t.dataModel.recordStatus),u("optionDisabled",!((t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Yy(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function Jy(o,m){if(o&1){let t=T();r(0,"div",18)(1,"label",19),d(2),a(),r(3,"input",26,3),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.title,e)||(l.dataModel.title=e),p(e)}),a(),r(5,"em",21),d(6),a(),S(7,Yy,5,3,"mat-error"),a()}if(o&2){let t=P(4),i=g();n(2),v(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),u("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),n(3),M("",t.value.length," / 100"),n(),y(t.errors!=null&&t.errors.required?7:-1)}}function Xy(o,m){if(o&1){let t=T();r(0,"div",18)(1,"label",19),d(2),a(),r(3,"input",27),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconFont,e)||(l.dataModel.iconFont=e),p(e)}),E("iconPickerSelect",function(e){c(t);let l=g();return p(l.onIconPickerSelect(e))}),a(),r(4,"em",28),_(5,"i",29),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle)),w("ngModel",t.dataModel.iconFont),u("iconPicker",t.dataModel.iconFont)("ipIconPack",Q(12,Qy))("ipPosition","top")("ipWidth","250px")("disabled",!(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessEditField)),n(2),q("color",t.dataModel.iconColor?t.dataModel.iconColor:null),u("ngClass",t.dataModel.iconFont)}}function $y(o,m){if(o&1){let t=T();r(0,"div",18)(1,"label",19),d(2),a(),r(3,"div",30)(4,"input",31,4),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconColor,e)||(l.dataModel.iconColor=e),p(e)}),a(),_(6,"ngx-mat-color-toggle",32)(7,"ngx-mat-color-picker",33,5),a()()}if(o&2){let t=P(8),i=g();n(2),v(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),n(2),q("background",i.dataModel.iconColor),u("placeholder",R(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),w("ngModel",i.dataModel.iconColor),u("ngxMatColorPicker",t)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),n(2),u("for",t),n(),u("touchUi",!0)("color","primary")}}function eM(o,m){o&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function tM(o,m){if(o&1&&(r(0,"div",18)(1,"label",19),d(2),C(3,"translate"),a(),r(4,"a",34),C(5,"cmsthumbnail"),_(6,"img",35),C(7,"cmsthumbnail"),a()()),o&2){let t=g();n(2),v(h(3,5,"TITLE.PICTURE")),n(2),u("href",R(h(5,7,t.dataModel.linkMainImageIdSrc)),Z),n(2),u("src",R(h(7,9,t.dataModel.linkMainImageIdSrc)),Z)}}function iM(o,m){if(o&1){let t=T();r(0,"div",24)(1,"button",36),E("click",function(){c(t);let e=g();return p(e.onActionBackToParent())}),_(2,"i",37),d(3),C(4,"translate"),a(),r(5,"button",38),_(6,"i",39),d(7),C(8,"translate"),a()()}if(o&2){g();let t=P(14);n(3),M(" ",h(4,3,"ACTION.CANCEL")," "),n(2),u("disabled",!t.form.valid),n(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var Do=class Do extends Po{constructor(t,i,e,l,f,s,x,k,ye,Me){super(t,i,e,f,x,Me);this.coreEnumService=t;this.estatePropertyTypeUsageService=i;this.cmsStoreService=l;this.publicHelper=f;this.router=s;this.activatedRoute=k;this.tokenHelper=ye;this.translate=Me;this.tokenInfo=new ct;this.activatedRoute.snapshot.paramMap.get("id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("id")),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.validateRequestId(()=>{this.onActionBackToParent()})&&this.loadItem()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataGetOneContent(){this.loadItem()}DataEditContent(){this.saveItem(()=>{this.onActionBackToParent()})}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.onFormSubmitInternal(()=>{this.onActionBackToParent()})}onActionBackToParent(){this.router.navigate(["/estate/main/property-type-usage"])}};Do.\u0275fac=function(i){return new(i||Do)(b(j),b(bi),b(N),b(Ce),b(W),b(pe),b(G),b(Ee),b(he),b(O))},Do.\u0275cmp=V({type:Do,selectors:[["app-estate-property-type-usage-edit-mobile"]],viewQuery:function(i,e){if(i&1&&$(Zy,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:37,vars:40,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],["iconColor",""],["iconColorPicker",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[1,"cms-m-header-title"],[1,"cms-m-header-spacer"],[1,"cms-m-content","safe-area-content"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"cms-m-form-field"],[1,"cms-m-form-label"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"cms-m-form-textarea",3,"ngModelChange","ngModel","placeholder"],[1,"cms-m-char-count"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"cms-m-form-input",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"cms-m-footer","safe-area-bottom"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"cms-m-form-input",3,"ngModelChange","ngModel","placeholder","disabled"],["matInput","","type","text","name","dataModel.iconFont","id","dataModel.iconFont","ipButtonStyleClass","",1,"cms-m-form-input",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","ipWidth","placeholder","disabled"],[2,"opacity","1 !important"],[2,"font-size","20px !important",3,"ngClass"],[1,"cms-m-color-picker-wrapper"],["matInput","","type","text","name","dataModel.iconColor","id","dataModel.iconColor",1,"cms-m-form-input",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],["matSuffix","",3,"for"],[3,"touchUi","color"],["target","_blank",1,"cms-m-image-preview",3,"href"],["alt","Preview",3,"src"],["type","button",1,"cms-m-btn","cms-m-btn-secondary",3,"click"],["aria-hidden","true",1,"fa-solid","fa-times"],["type","submit",1,"cms-m-btn","cms-m-btn-success",3,"disabled"],["aria-hidden","true",1,"fa-solid","fa-save"]],template:function(i,e){if(i&1){let l=T();r(0,"div",6),_(1,"app-progress-spinner",7),r(2,"div",8)(3,"div",9)(4,"button",10),C(5,"translate"),E("click",function(){return c(l),p(e.onActionBackToParent())}),_(6,"i",11),a(),r(7,"h1",12),d(8),C(9,"translate"),a(),_(10,"div",13),a()(),r(11,"div",14),_(12,"app-cms-form-result-message",15),r(13,"form",16,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),S(15,Ky,1,5,"app-cms-enum-record-status-selector",17),S(16,Jy,8,7,"div",18),S(17,Xy,6,13,"div",18),S(18,$y,9,11,"div",18),r(19,"div",18)(20,"label",19),d(21),a(),r(22,"textarea",20,1),A("ngModelChange",function(s){return c(l),I(e.dataModel.description,s)||(e.dataModel.description=s),p(s)}),a(),r(24,"em",21),d(25),a(),S(26,eM,5,3,"mat-error"),a(),S(27,tM,8,11,"div",18),r(28,"div",18)(29,"label",19),d(30),C(31,"translate"),a(),r(32,"input",22,2),C(34,"translate"),A("ngModelChange",function(s){return c(l),I(e.dataModel.linkMainImageId,s)||(e.dataModel.linkMainImageId=s),p(s)}),E("click",function(){return c(l),p(e.fileManagerOpenForm=!0)}),a(),r(35,"cms-file-manager",23),E("itemSelected",function(s){return c(l),p(e.onActionFileSelected(s))}),A("openFormChange",function(s){return c(l),I(e.fileManagerOpenForm,s)||(e.fileManagerOpenForm=s),p(s)}),a()(),S(36,iM,9,7,"div",24),a()()()}if(i&2){let l=P(23);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),Pe("aria-label",R(h(5,30,"ACTION.BACK"))),n(4),M(" ",e.formInfo.formTitle||h(9,32,"ROUTE.ESTATE.TYPEUSAGE")," "),n(4),u("formInfo",e.formInfo),n(),u("ngStyle",$e(38,zy,e.tokenInfo.access.direction)),n(2),y(e.fieldsInfo.recordStatus!=null&&e.fieldsInfo.recordStatus.accessWatchField?15:-1),n(),y(e.fieldsInfo.title!=null&&e.fieldsInfo.title.accessWatchField?16:-1),n(),y(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessWatchField?17:-1),n(),y(e.fieldsInfo.iconColor!=null&&e.fieldsInfo.iconColor.accessWatchField?18:-1),n(3),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),w("ngModel",e.dataModel.description),n(3),M("",l.value.length," / 500"),n(),y(l.errors!=null&&l.errors.required?26:-1),n(),y((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?27:-1),n(3),v(h(31,34,"TITLE.PICTURE")),n(2),u("placeholder",R(h(34,36,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),n(3),u("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),u("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),n(),y(e.formInfo.submitButtonEnabled?36:-1)}},dependencies:[K,et,ae,Y,J,ie,X,re,le,oe,ne,se,Fe,H,Le,z,de,ze,Ze,je,qe,De,F,ge],encapsulation:2});var ir=Do;var nM=["vform"],oM=o=>({direction:o}),aM=()=>["fa"];function rM(o,m){o&1&&_(0,"i",16)}function lM(o,m){o&1&&_(0,"i",17)}function sM(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function dM(o,m){if(o&1){let t=T();r(0,"div",13)(1,"label",28),d(2),a(),r(3,"input",29,4),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconFont,e)||(l.dataModel.iconFont=e),p(e)})("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconFont,e)||(l.dataModel.iconFont=e),p(e)}),E("iconPickerSelect",function(e){c(t);let l=g();return p(l.onIconPickerSelect(e))}),a(),r(5,"em",30),_(6,"i",31),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle)),w("ngModel",t.dataModel.iconFont)("ngModel",t.dataModel.iconFont),u("iconPicker",t.dataModel.iconFont)("ipIconPack",Q(13,aM))("ipPosition","top")("ipWidth","250px")("disabled",!(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessAddField)),n(3),q("color",t.dataModel.iconColor?t.dataModel.iconColor:null),u("ngClass",t.dataModel.iconFont)}}function cM(o,m){if(o&1){let t=T();r(0,"div",18)(1,"label",32),d(2),a(),r(3,"div",33)(4,"div",34)(5,"input",35,5),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconColor,e)||(l.dataModel.iconColor=e),p(e)}),a()(),r(7,"div",36),_(8,"ngx-mat-color-toggle",37)(9,"ngx-mat-color-picker",38,6),a()()()}if(o&2){let t=P(10),i=g();n(2),v(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),n(3),q("background",i.dataModel.iconColor),u("placeholder",R(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),w("ngModel",i.dataModel.iconColor),u("ngxMatColorPicker",t)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),n(3),u("for",t),n(),u("touchUi",!0)("color","primary")}}function pM(o,m){o&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function mM(o,m){if(o&1&&(_(0,"img",23),C(1,"cmsthumbnail")),o&2){let t=g();u("src",R(h(1,2,t.dataModel.linkMainImageIdSrc)),Z)}}function uM(o,m){if(o&1){let t=T();r(0,"div",27)(1,"button",39),E("click",function(){c(t);let e=g();return p(e.onFormCancel())}),_(2,"i",40),d(3),C(4,"translate"),a(),r(5,"button",41),_(6,"i",42),d(7),C(8,"translate"),a()()}if(o&2){g();let t=P(10);n(3),M(" ",h(4,3,"ACTION.CANCEL")," "),n(2),u("disabled",!t.form.valid),n(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var Lo=class Lo extends Qe{constructor(t,i,e,l,f,s,x,k,ye,Me){super(l,new gi,x,Me);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estatePropertyTypeUsageService=l;this.cmsToastrService=f;this.cmsStoreService=s;this.publicHelper=x;this.cdr=k;this.tokenHelper=ye;this.translate=Me;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new ct;this.dataModelResult=new Se;this.dataModel=new gi;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyTypeUsageService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Lo.\u0275fac=function(i){return new(i||Lo)(b(at),b(ot),b(j),b(bi),b(N),b(Ce),b(W),b(G),b(he),b(O))},Lo.\u0275cmp=V({type:Lo,selectors:[["app-estate-property-type-usage-add"]],viewQuery:function(i,e){if(i&1&&$(nM,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:45,vars:47,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","name","dataModel.iconFont","id","dataModel.iconFont","ipButtonStyleClass","",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","ipWidth","placeholder","disabled"],[2,"opacity","1 !important"],[2,"font-size","20px !important",3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let l=T();r(0,"div",7),_(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),d(4),a(),r(5,"p"),d(6),C(7,"translate"),a(),_(8,"app-cms-form-result-message",11),r(9,"form",12,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),r(11,"div",13)(12,"label",14),d(13),a(),r(14,"input",15,1),A("ngModelChange",function(s){return c(l),I(e.dataModel.title,s)||(e.dataModel.title=s),p(s)}),a(),S(16,rM,1,0,"i",16),S(17,lM,1,0,"i",17),r(18,"em"),d(19),a(),S(20,sM,5,3,"mat-error"),a(),S(21,dM,7,14,"div",13),S(22,cM,11,11,"div",18),r(23,"div",13)(24,"label",19),d(25),a(),r(26,"textarea",20,2),A("ngModelChange",function(s){return c(l),I(e.dataModel.description,s)||(e.dataModel.description=s),p(s)}),d(28,"              "),a(),r(29,"em"),d(30),a(),S(31,pM,5,3,"mat-error"),a(),r(32,"div",21)(33,"a",22),C(34,"cmsthumbnail"),S(35,mM,2,4,"img",23),a()(),r(36,"div",13)(37,"label",24),E("click",function(){return c(l),p(e.fileManagerOpenForm=!0)}),d(38),C(39,"translate"),a(),r(40,"input",25,3),C(42,"translate"),A("ngModelChange",function(s){return c(l),I(e.dataModel.linkMainImageId,s)||(e.dataModel.linkMainImageId=s),p(s)}),E("click",function(){return c(l),p(e.fileManagerOpenForm=!0)}),a(),r(43,"cms-file-manager",26),E("itemSelected",function(s){return c(l),p(e.onActionFileSelected(s))}),A("openFormChange",function(s){return c(l),I(e.fileManagerOpenForm,s)||(e.fileManagerOpenForm=s),p(s)}),a()(),S(44,uM,9,7,"div",27),a()()()}if(i&2){let l=P(15),f=P(27);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),M(" ",e.formInfo.formTitle," "),n(2),M(" ",h(7,37,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),u("formInfo",e.formInfo),n(),u("ngStyle",$e(45,oM,e.tokenInfo.access.direction)),n(4),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),w("ngModel",e.dataModel.title),n(2),y(l.value?-1:16),n(),y(l.value?17:-1),n(2),M("",l.value.length," / 100"),n(),y(l.errors!=null&&l.errors.required?20:-1),n(),y(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessWatchField?21:-1),n(),y(e.fieldsInfo.iconColor!=null&&e.fieldsInfo.iconColor.accessWatchField?22:-1),n(3),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),w("ngModel",e.dataModel.description),n(4),M("",f.value.length," / 500"),n(),y(f.errors!=null&&f.errors.required?31:-1),n(2),u("href",R(h(34,39,e.dataModel.linkMainImageIdSrc)),Z),n(2),y((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?35:-1),n(3),v(h(39,41,"TITLE.PICTURE")),n(2),u("placeholder",R(h(42,43,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),n(3),u("language",e.appLanguage)("isPopup",!0)("openDirectUploadView",!0),w("openForm",e.fileManagerOpenForm),u("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),n(),y(e.formInfo.submitButtonEnabled?44:-1)}},dependencies:[K,et,ae,Y,J,ie,X,re,le,oe,ne,se,Fe,H,z,de,ze,Ze,je,qe,De,F,ge],encapsulation:2});var nr=Lo;function fM(o,m){if(o&1){let t=T();r(0,"li")(1,"mat-checkbox",0),E("change",function(){let e=c(t).$implicit,l=g();return p(l.onActionSelect(e))}),d(2),a()()}if(o&2){let t=m.$implicit,i=g();n(),u("checked",i.fieldsStatus.get(t.id))("disabled",i.optionDisabled),n(),M(" ",t.titleML," ")}}var ko=class ko{constructor(m,t,i,e,l,f,s,x){this.coreEnumService=m;this.categoryService=t;this.cdr=i;this.publicHelper=e;this.tokenHelper=l;this.translate=f;this.cmsStoreService=s;this.cmsToastrService=x;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Se;this.dataModelSelect=[];this.dataIdsSelect=[];this.formControl=new ca;this.fieldsStatus=new Map;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionChange=new ji;this.optionSelectAdded=new ji;this.optionSelectRemoved=new ji;this.optionReload=()=>this.onActionButtonReload();this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(m){this.onActionSelectForce(m)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(m=>m.tokenInfoStore).subscribe(()=>ut(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(m=>m.unsubscribe())}DataGetAll(){let m=new He;m.rowPerPage=50,m.accessLoad=!0;let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(m).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataModelResult.listItems.forEach(e=>this.fieldsStatus.set(e.id,!1)),this.dataIdsSelect.forEach(e=>this.fieldsStatus.set(e,!0)),this.dataModelResult.listItems.forEach(e=>{this.fieldsStatus.get(e.id)&&this.dataModelSelect.push(e)})):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelect(m){this.fieldsStatus.get(m.id)?(this.fieldsStatus.set(m.id,!1),this.optionSelectRemoved.emit(m),this.dataModelSelect.splice(this.dataModelSelect.indexOf(m),1)):(this.fieldsStatus.set(m.id,!0),this.optionSelectAdded.emit(m),this.dataModelSelect.push(m)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(m){typeof m==typeof Array(String)?m.forEach(t=>{this.dataIdsSelect.push(t)}):typeof m==typeof Array(Ti)&&m.forEach(t=>{this.dataIdsSelect.push(t.id)}),this.dataIdsSelect.forEach(t=>this.fieldsStatus.set(t,!0))}onActionButtonReload(){this.DataGetAll()}};ko.\u0275fac=function(t){return new(t||ko)(b(j),b(pi),b(G),b(W),b(he),b(O),b(Ce),b(N))},ko.\u0275cmp=V({type:ko,selectors:[["app-estate-property-type-landuse-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},standalone:!1,decls:3,vars:0,consts:[[3,"change","checked","disabled"]],template:function(t,i){t&1&&(r(0,"ul"),Re(1,fM,3,3,"li",null,mt),a()),t&2&&(n(),xe(i.dataModelResult.listItems))},dependencies:[Zr],encapsulation:2});var or=ko;var _M=["vform"],CM=o=>({direction:o}),hM=()=>["fa"];function SM(o,m){o&1&&_(0,"i",15)}function yM(o,m){o&1&&_(0,"i",16)}function MM(o,m){o&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function EM(o,m){if(o&1){let t=T();r(0,"div",12)(1,"label",28),d(2),a(),r(3,"input",29),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconFont,e)||(l.dataModel.iconFont=e),p(e)}),E("iconPickerSelect",function(e){c(t);let l=g();return p(l.onIconPickerSelect(e))}),a(),r(4,"em",30),_(5,"i",31),a()()}if(o&2){let t=g();n(2),v(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle),n(),u("placeholder",R(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle)),w("ngModel",t.dataModel.iconFont),u("iconPicker",t.dataModel.iconFont)("ipIconPack",Q(12,hM))("ipPosition","top")("ipWidth","250px")("disabled",!(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessEditField)),n(2),q("color",t.dataModel.iconColor?t.dataModel.iconColor:null),u("ngClass",t.dataModel.iconFont)}}function bM(o,m){if(o&1){let t=T();r(0,"div",17)(1,"label",32),d(2),a(),r(3,"div",33)(4,"div",34)(5,"input",35,4),A("ngModelChange",function(e){c(t);let l=g();return I(l.dataModel.iconColor,e)||(l.dataModel.iconColor=e),p(e)}),a()(),r(7,"div",36),_(8,"ngx-mat-color-toggle",37)(9,"ngx-mat-color-picker",38,5),a()()()}if(o&2){let t=P(10),i=g();n(2),v(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),n(3),q("background",i.dataModel.iconColor),u("placeholder",R(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),w("ngModel",i.dataModel.iconColor),u("ngxMatColorPicker",t)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),n(3),u("for",t),n(),u("touchUi",!0)("color","primary")}}function vM(o,m){o&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),C(4,"translate"),a()()),o&2&&(n(3),v(h(4,1,"MESSAGE.required")))}function IM(o,m){if(o&1&&(_(0,"img",22),C(1,"cmsthumbnail")),o&2){let t=g();u("src",R(h(1,2,t.dataModel.linkMainImageIdSrc)),Z)}}function TM(o,m){if(o&1){let t=T();r(0,"div",27)(1,"button",39),E("click",function(){c(t);let e=g();return p(e.onFormCancel())}),_(2,"i",40),d(3),C(4,"translate"),a(),r(5,"button",41),_(6,"i",42),d(7),C(8,"translate"),a()()}if(o&2){g();let t=P(10);n(3),M(" ",h(4,3,"ACTION.CANCEL")," "),n(2),u("disabled",!t.form.valid),n(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var Vo=class Vo extends Po{constructor(t,i,e,l,f,s,x,k,ye,Me,bt){super(e,l,s,k,ye,bt);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estatePropertyTypeUsageService=l;this.estatePropertyTypeService=f;this.cmsStoreService=x;this.publicHelper=k;this.tokenHelper=Me;this.translate=bt;this.dataEstatePropertyTypeLandUseIds=[];t&&(this.requestId=t.id),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.validateRequestId(()=>this.dialogRef.close({dialogChangedDate:!1}))&&(this.loadItem(),this.DataGetAllEstatePropertyUsage())}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataGetOneContent(){this.loadItem()}DataEditContent(){this.saveItem(()=>{this.dialogRef.close({dialogChangedDate:!0})})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)});let i=new He,e=new Xe;e.propertyName="LinkPropertyTypeUsageId",e.value=this.requestId,i.filters.push(e),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:l=>{this.dataEstatePropertyTypeModel=l.listItems;let f=[];this.dataEstatePropertyTypeModel.forEach(s=>{f.push(s.linkPropertyTypeLanduseId)}),this.dataEstatePropertyTypeLandUseIds=f,l.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=l.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(l.errorMessage)),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorUserCategorySelect(t){this.dataEstatePropertyTypeLanduseModel=t}onActionSelectorUserCategorySelectAdded(t){let i=new pr;i.linkPropertyTypeUsageId=this.dataModel.id,i.linkPropertyTypeLanduseId=t.id,this.estatePropertyTypeService.ServiceAdd(i).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e)}})}onActionSelectorUserCategorySelectRemoved(t){let i=new pr;i.linkPropertyTypeUsageId=this.dataModel.id,i.linkPropertyTypeLanduseId=t.id,this.estatePropertyTypeService.ServiceDeleteEntity(i).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e)}})}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.onFormSubmitInternal(()=>{this.dialogRef.close({dialogChangedDate:!0})})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Vo.\u0275fac=function(i){return new(i||Vo)(b(at),b(ot),b(j),b(bi),b(Ei),b(N),b(Ce),b(W),b(G),b(he),b(O))},Vo.\u0275cmp=V({type:Vo,selectors:[["app-estate-property-type-usage-edit"]],viewQuery:function(i,e){if(i&1&&$(_M,5),i&2){let l;ee(l=te())&&(e.formGroup=l.first)}},standalone:!1,features:[B],decls:46,vars:49,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","id","dataModel.iconFont","ipButtonStyleClass","",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","ipWidth","placeholder","disabled"],[2,"opacity","1 !important"],[2,"font-size","20px !important",3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let l=T();r(0,"div",6),_(1,"app-progress-spinner",7),r(2,"div",8)(3,"p",9),d(4),a(),r(5,"p"),d(6),C(7,"translate"),a(),_(8,"app-cms-form-result-message",10),r(9,"form",11,0),E("ngSubmit",function(){return c(l),p(e.onFormSubmit())}),r(11,"div",12)(12,"label",13),d(13),a(),r(14,"input",14,1),A("ngModelChange",function(s){return c(l),I(e.dataModel.title,s)||(e.dataModel.title=s),p(s)}),a(),S(16,SM,1,0,"i",15),S(17,yM,1,0,"i",16),r(18,"em"),d(19),a(),S(20,MM,5,3,"mat-error"),a(),S(21,EM,6,13,"div",12),S(22,bM,11,11,"div",17),r(23,"div",12)(24,"label",18),d(25),a(),r(26,"textarea",19,2),A("ngModelChange",function(s){return c(l),I(e.dataModel.description,s)||(e.dataModel.description=s),p(s)}),d(28,"              "),a(),r(29,"em"),d(30),a(),S(31,vM,5,3,"mat-error"),a(),r(32,"div",20)(33,"a",21),C(34,"cmsthumbnail"),S(35,IM,2,4,"img",22),a()(),r(36,"div",12)(37,"label",23),E("click",function(){return c(l),p(e.fileManagerOpenForm=!0)}),d(38),C(39,"translate"),a(),r(40,"input",24,3),C(42,"translate"),A("ngModelChange",function(s){return c(l),I(e.dataModel.linkMainImageId,s)||(e.dataModel.linkMainImageId=s),p(s)}),E("click",function(){return c(l),p(e.fileManagerOpenForm=!0)}),a(),r(43,"cms-file-manager",25),E("itemSelected",function(s){return c(l),p(e.onActionFileSelected(s))}),A("openFormChange",function(s){return c(l),I(e.fileManagerOpenForm,s)||(e.fileManagerOpenForm=s),p(s)}),a()(),r(44,"app-estate-property-type-landuse-selectionlist",26),E("optionChange",function(s){return c(l),p(e.onActionSelectorUserCategorySelect(s))})("optionSelectAdded",function(s){return c(l),p(e.onActionSelectorUserCategorySelectAdded(s))})("optionSelectRemoved",function(s){return c(l),p(e.onActionSelectorUserCategorySelectRemoved(s))}),a(),S(45,TM,9,7,"div",27),a()()()}if(i&2){let l=P(15),f=P(27);n(),u("optionsInfoAreaId",e.constructorInfoAreaId),n(3),M(" ",e.formInfo.formTitle," "),n(2),M(" ",h(7,39,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),u("formInfo",e.formInfo),n(),u("ngStyle",$e(47,CM,e.tokenInfo.access.direction)),n(4),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),w("ngModel",e.dataModel.title),n(2),y(l.value?-1:16),n(),y(l.value?17:-1),n(2),M("",l.value.length," / 100"),n(),y(l.errors!=null&&l.errors.required?20:-1),n(),y(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessWatchField?21:-1),n(),y(e.fieldsInfo.iconColor!=null&&e.fieldsInfo.iconColor.accessWatchField?22:-1),n(3),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),n(),u("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),w("ngModel",e.dataModel.description),n(4),M("",f.value.length," / 500"),n(),y(f.errors!=null&&f.errors.required?31:-1),n(2),u("href",R(h(34,41,e.dataModel.linkMainImageIdSrc)),Z),n(2),y((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?35:-1),n(3),v(h(39,43,"TITLE.PICTURE")),n(2),u("placeholder",R(h(42,45,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),n(3),u("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),u("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),n(),u("optionSelectForce",e.dataEstatePropertyTypeLandUseIds)("optionDisabled",!1),n(),y(e.formInfo.submitButtonEnabled?45:-1)}},dependencies:[K,et,ae,Y,J,ie,X,re,le,oe,ne,se,Fe,H,z,de,ze,Ze,je,qe,De,or,F,ge],encapsulation:2});var ar=Vo;var wM=()=>[5,10,20,100];function AM(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",38),E("click",function(){c(t);let e=g();return p(e.onActionButtonNewRow())}),_(2,"i",39)(3,"br"),a(),r(4,"p",19),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.ADD")," "))}function RM(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",40),E("click",function(){c(t);let e=g();return p(e.onActionButtonEditRow(e.tableRowSelected))}),_(2,"i",41)(3,"br"),a(),r(4,"p",19),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.EDIT")," "))}function xM(o,m){if(o&1){let t=T();r(0,"div",15)(1,"a",42),E("click",function(){c(t);let e=g();return p(e.onActionButtonDeleteRow(e.tableRowSelected))}),_(2,"i",43)(3,"br"),a(),r(4,"p",19),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.DELETE")," "))}function PM(o,m){o&1&&(r(0,"mat-header-cell",44),d(1),C(2,"translate"),a()),o&2&&(n(),M(" ",h(2,1,"TITLE.PICTURE")," "))}function DM(o,m){if(o&1&&(_(0,"img",45),C(1,"cmsthumbnail")),o&2){let t=g().$implicit;u("src",R(h(1,2,t.linkMainImageIdSrc)),Z)}}function LM(o,m){if(o&1&&(r(0,"mat-cell"),S(1,DM,2,4,"img",45),a()),o&2){let t=m.$implicit;n(),y((t==null||t.linkMainImageIdSrc==null?null:t.linkMainImageIdSrc.length)>0?1:-1)}}function kM(o,m){if(o&1&&(r(0,"mat-header-cell",44),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle," ")}}function VM(o,m){if(o&1&&(r(0,"mat-cell"),_(1,"i",46),a()),o&2){let t=m.$implicit;n(),q("color",t.iconColor),u("ngClass",t.iconFont)}}function FM(o,m){if(o&1&&(r(0,"mat-header-cell",44),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle," ")}}function BM(o,m){if(o&1&&(r(0,"mat-cell"),d(1),a()),o&2){let t=m.$implicit;n(),M(" ",t.id," ")}}function GM(o,m){if(o&1&&(r(0,"mat-header-cell",44),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle," ")}}function OM(o,m){if(o&1&&(r(0,"mat-cell"),d(1),a()),o&2){let t=m.$implicit;n(),M(" ",t.title," ")}}function NM(o,m){if(o&1&&(r(0,"mat-header-cell",44),d(1),a()),o&2){let t=g();n(),M(" ",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle," ")}}function WM(o,m){if(o&1&&(r(0,"mat-cell"),d(1),a()),o&2){let t=m.$implicit;n(),M(" ",t.description," ")}}function HM(o,m){o&1&&(r(0,"mat-header-cell"),d(1),C(2,"translate"),a()),o&2&&(n(),M(" ",h(2,1,"TITLE.OPTION")," "))}function UM(o,m){if(o&1&&(r(0,"mat-cell",47)(1,"button",48)(2,"mat-icon"),d(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),o&2){let t=P(5);n(),u("matMenuTriggerFor",t)}}function qM(o,m){o&1&&_(0,"mat-header-row")}function jM(o,m){if(o&1){let t=T();r(0,"mat-row",49),E("click",function(e){let l=c(t).$implicit,f=g();return p(f.onActionTableRowSelect(l,e))})("rtclick",function(e){let l=c(t).$implicit,f=g();return p(f.onActionTableRowSelect(l,e))}),a()}if(o&2){let t=m.$implicit,i=g();ce("ntk-row-selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Fo=class Fo extends Kt{constructor(t,i,e,l,f,s,x,k,ye,Me,bt){super(t,new gi,Me,s,k);this.contentService=t;this.cmsConfirmationDialogService=i;this.router=e;this.cmsToastrService=l;this.cmsStoreService=f;this.tokenHelper=s;this.cdr=x;this.translate=k;this.pageInfo=ye;this.publicHelper=Me;this.dialog=bt;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new He;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","IconFont","title","Description"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","IconFont","title","Description"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:mi=>this.onSubmitOptionsSearch(mi)},this.filteModelContent.sortColumn="title",this.filteModelContent.sortType=Ae.Ascending}filterModelCompiler(t){let i=JSON.parse(JSON.stringify(t));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(t=>t.tokenInfoStore).subscribe(t=>ut(this,null,function*(){this.tokenInfo=t,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(t=>t.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new gi);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.applyDataGetAllResult(e),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Ae.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Ae.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Ae.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(nr,{height:"90%",panelClass:t,enterAnimationDuration:_e.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_e.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!(t?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ar,{height:"90%",panelClass:i,enterAnimationDuration:_e.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_e.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!(t?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],e=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(f,s,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(x=>{i.set(x,0)}),this.translate.get("MESSAGE.All").subscribe(x=>{i.set(x,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(x=>{this.publicHelper.processService.processStart(e,x,this.constructorInfoAreaId)});let l=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetCount(l).subscribe({next:x=>{x.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,x.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(x.errorMessage),this.publicHelper.processService.processStop(e)},error:x=>{this.cmsToastrService.typeError(x),this.publicHelper.processService.processStop(e,!1)}});let f=this.filterModelCompiler(this.filteModelContent),s=new Xe;s.propertyName="recordStatus",s.value=Dt.Available,f.filters.push(s),this.contentService.ServiceGetCount(f).subscribe({next:x=>{x.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,x.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(x.errorMessage),this.publicHelper.processService.processStop(e)},error:x=>{this.cmsToastrService.typeError(x),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){t&&t.length>0?this.filterDataModelQueryBuilder=[...t]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionButtonContentDetailList(t=this.tableRowSelected,i){if(!(t?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}if(this.onActionTableRowSelect(t),i?.ctrlKey){let e="/#/estate/data/property/LinkPropertyTypeUsageId/"+this.tableRowSelected.id;window.open(e,"_blank")}else this.router.navigate(["/estate/data/property/LinkPropertyTypeUsageId/",this.tableRowSelected.id])}};Fo.\u0275fac=function(i){return new(i||Fo)(b(bi),b(yt),b(pe),b(N),b(Ce),b(he),b(G),b(O),b(Qt),b(W),b(wt))},Fo.\u0275cmp=V({type:Fo,selectors:[["app-hstate-propertytypeusage-list"]],standalone:!1,features:[B],decls:60,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","id"],["matColumnDef","title"],["matColumnDef","Description"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,e){if(i&1){let l=T();r(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(s){return c(l),I(e.viewGuideNotice,s)||(e.viewGuideNotice=s),p(s)}),E("optionOnActionButtonMemoRow",function(){return c(l),p(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return c(l),p(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return c(l),p(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return c(l),p(e.onActionButtonPrintRow())}),D(1,4),d(2," -------------------------------------- "),L(),ke(3,5),D(4,6),r(5,"a",7),E("click",function(){return c(l),p(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(6,"mat-slide-toggle",8),d(7),C(8,"translate"),a(),r(9,"a",7),E("click",function(){return c(l),p(e.onActionButtonStatist())}),_(10,"mat-slide-toggle",8),d(11),C(12,"translate"),a(),L(),D(13,9),r(14,"a",10),E("click",function(){return c(l),p(e.viewGuideNotice=!e.viewGuideNotice)}),_(15,"i",11),a(),r(16,"a",10),E("click",function(){return c(l),p(e.onActionButtonReload())}),_(17,"i",12),a(),L(),ke(18,13),D(19,14),S(20,AM,7,3,"div",15),L(),D(21,16),S(22,RM,7,3,"div",15),S(23,xM,7,3,"div",15),r(24,"div",15)(25,"a",17),E("click",function(s){return c(l),p(e.onActionButtonContentDetailList(e.tableRowSelected,s))}),_(26,"i",18)(27,"br"),a(),r(28,"p",19),d(29),C(30,"translate"),a()(),L(),D(31,20),r(32,"app-cms-search-list",21),A("optionsChange",function(s){return c(l),I(e.optionsSearch,s)||(e.optionsSearch=s),p(s)}),a(),r(33,"app-cms-statist-list",21),A("optionsChange",function(s){return c(l),I(e.optionsStatist,s)||(e.optionsStatist=s),p(s)}),a(),L(),D(34,22),r(35,"mat-table",23,0),E("matSortChange",function(){c(l);let s=P(36);return p(e.onTableSortData(s))}),D(37,24),U(38,PM,3,3,"mat-header-cell",25)(39,LM,2,1,"mat-cell",26),L(),D(40,27),U(41,kM,2,1,"mat-header-cell",25)(42,VM,2,3,"mat-cell",26),L(),D(43,28),U(44,FM,2,1,"mat-header-cell",25)(45,BM,2,1,"mat-cell",26),L(),D(46,29),U(47,GM,2,1,"mat-header-cell",25)(48,OM,2,1,"mat-cell",26),L(),D(49,30),U(50,NM,2,1,"mat-header-cell",25)(51,WM,2,1,"mat-cell",26),L(),D(52,31),U(53,HM,3,3,"mat-header-cell",32)(54,UM,6,1,"mat-cell",33),L(),U(55,qM,1,0,"mat-header-row",34)(56,jM,1,2,"mat-row",35),a(),L(),D(57,36),r(58,"mat-paginator",37,1),E("page",function(s){return c(l),p(e.onTablePageingData(s))}),a(),L(),a()}i&2&&(u("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),n(6),u("checked",e.optionsSearch.data.show),n(),M("",h(8,26,"ACTION.SEARCH")," "),n(3),u("checked",e.optionsStatist.data.show),n(),M("",h(12,28,"ACTION.STATIST")," "),n(6),ce("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),n(3),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessAddRow?20:-1),n(2),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow?22:-1),n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow?23:-1),n(6),M(" ",h(30,30,"ACTION.DETAIL")," "),n(3),w("options",e.optionsSearch),n(),w("options",e.optionsStatist),n(2),u("dataSource",e.tableSource),n(20),u("matHeaderRowDef",e.tabledisplayedColumns),n(),u("matRowDefColumns",e.tabledisplayedColumns),n(2),u("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Q(32,wM)))},dependencies:[K,Tt,ft,kt,Vt,Be,Ge,Ft,Bt,Gt,Nt,qt,Wt,Ot,jt,Ht,Ut,Zt,zt,Oe,Ne,Yt,We,F,ge],encapsulation:2});var Bo=Fo;var ZM=()=>[5,10,20,100],zM=(o,m)=>m.id;function QM(o,m){if(o&1){let t=T();r(0,"div",13)(1,"a",22),E("click",function(){c(t);let e=g();return p(e.onActionButtonNewRow())}),_(2,"i",23)(3,"br"),a(),r(4,"p",24),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.ADD")," "))}function KM(o,m){if(o&1){let t=T();r(0,"div",13)(1,"a",25),E("click",function(){c(t);let e=g();return p(e.onActionButtonEditRow(e.tableRowSelected))}),_(2,"i",26)(3,"br"),a(),r(4,"p",24),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.EDIT")," "))}function YM(o,m){if(o&1){let t=T();r(0,"div",13)(1,"a",27),E("click",function(){c(t);let e=g();return p(e.onActionButtonDeleteRow(e.tableRowSelected))}),_(2,"i",28)(3,"br"),a(),r(4,"p",24),d(5),C(6,"translate"),a()()}o&2&&(n(5),M(" ",h(6,1,"ACTION.DELETE")," "))}function JM(o,m){if(o&1&&(r(0,"div",35),_(1,"i",37),d(2),a()),o&2){let t=g().$implicit,i=g(2);n(2),Ve(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",t.id," ")}}function XM(o,m){if(o&1&&(r(0,"div",35),_(1,"i",38),d(2),C(3,"localeDate"),a()),o&2){let t=g().$implicit,i=g(2);n(2),Ve(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",h(3,2,t.createdDate)," ")}}function $M(o,m){if(o&1&&_(0,"select",40),o&2){let t=g(2).$implicit,i=g(2);u("contentService",i.contentServicePublic)("row",t)}}function eE(o,m){if(o&1&&(r(0,"div",35),_(1,"i",39),C(2,"statusIconClass"),S(3,$M,1,2,"select",40),a()),o&2){let t=g().$implicit,i=g(2);n(),u("ngClass",h(2,2,t.recordStatus)),n(2),y(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function tE(o,m){if(o&1&&(r(0,"div",35),_(1,"i",43),d(2),C(3,"localeDate"),a()),o&2){let t=g(2).$implicit,i=g(2);n(2),Ve(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",h(3,2,t.updatedDate)," ")}}function iE(o,m){if(o&1){let t=T();r(0,"div",36),S(1,tE,4,4,"div",35),r(2,"div",35)(3,"span",41),E("click",function(e){return c(t),g(3).onActionCopied(),p(e.stopPropagation())}),_(4,"i",42),a(),d(5),a()()}if(o&2){let t=g().$implicit;n(),y(t.updatedDate?1:-1),n(2),u("cdkCopyToClipboard",t.id.toString()),n(2),M(" ID: ",t.id," ")}}function nE(o,m){if(o&1){let t=T();r(0,"div",30),E("click",function(e){let l=c(t).$implicit,f=g(2);return p(f.onActionTableRowSelect(l,e))})("rtclick",function(e){let l=c(t).$implicit,f=g(2);return p(f.onActionTableRowSelect(l,e))})("mouseenter",function(){let e=c(t).$implicit,l=g(2);return p(l.onActionTableRowMouseEnter(e))})("mouseleave",function(){let e=c(t).$implicit,l=g(2);return p(l.onActionTableRowMouseLeave(e))}),r(1,"div",31),_(2,"i",32),C(3,"statusIconClass"),a(),r(4,"div",33)(5,"div",34),d(6),a(),S(7,JM,3,2,"div",35),S(8,XM,4,4,"div",35),S(9,eE,4,4,"div",35),S(10,iE,6,3,"div",36),a()()}if(o&2){let t=m.$implicit,i=g(2);ce("selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))("bg-fade-highlight-light",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),pt("aria-label",t.title||t.id),n(2),u("ngClass",h(3,11,t.recordStatus)),n(4),M(" ",t.title||"ID: "+t.id," "),n(),y(t.id?7:-1),n(),y(t.createdDate?8:-1),n(),y(t.recordStatus!==void 0?9:-1),n(),y(i.getRowExpanded(t)?10:-1)}}function oE(o,m){if(o&1&&(r(0,"div",18),Re(1,nE,11,13,"div",29,zM),a()),o&2){let t=g();n(),xe(t.dataModelResult.listItems)}}function aE(o,m){o&1&&(r(0,"div",19),d(1),C(2,"translate"),a()),o&2&&(n(),M(" ",h(2,1,"MESSAGE.NoRecord")," "))}var pn=class pn extends Bo{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(t){let i=String(t);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(t){return String(t)}onDocumentClick(t){let i=t.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(t){return t.expanded===!0}get contentServicePublic(){return this.contentService}};pn.\u0275fac=(()=>{let t;return function(e){return(t||(t=_t(pn)))(e||pn)}})(),pn.\u0275cmp=V({type:pn,selectors:[["app-estate-property-type-usage-list-mobile"]],hostBindings:function(i,e){i&1&&E("click",function(f){return e.onDocumentClick(f)},Ct)},standalone:!1,features:[B],decls:32,vars:30,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-calendar"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"]],template:function(i,e){if(i&1){let l=T();r(0,"app-cms-html-list-mobile",1),A("optionActionGuideNoticeDisplayChange",function(s){return c(l),I(e.viewGuideNotice,s)||(e.viewGuideNotice=s),p(s)}),E("optionOnActionButtonMemoRow",function(){return c(l),p(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return c(l),p(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return c(l),p(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return c(l),p(e.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return c(l),p(e.onActionLoadNextPage())}),ke(1,2)(2,3)(3,4),D(4,5),r(5,"a",6),E("click",function(){return c(l),p(e.viewGuideNotice=!e.viewGuideNotice)}),_(6,"i",7),a(),r(7,"a",6),E("click",function(){return c(l),p(e.onActionButtonReload())}),_(8,"i",8),a(),L(),D(9,9),r(10,"a",10),E("click",function(){return c(l),p(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(11,"mat-slide-toggle",11),d(12),C(13,"translate"),a(),r(14,"a",10),E("click",function(){return c(l),p(e.onActionButtonStatist())}),_(15,"mat-slide-toggle",11),d(16),C(17,"translate"),a(),L(),D(18,12),S(19,QM,7,3,"div",13),L(),D(20,14),S(21,KM,7,3,"div",13),S(22,YM,7,3,"div",13),L(),D(23,15),r(24,"app-cms-search-list",16),A("optionsChange",function(s){return c(l),I(e.optionsSearch,s)||(e.optionsSearch=s),p(s)}),a(),r(25,"app-cms-statist-list",16),A("optionsChange",function(s){return c(l),I(e.optionsStatist,s)||(e.optionsStatist=s),p(s)}),a(),L(),D(26,17),S(27,oE,3,0,"div",18)(28,aE,3,3,"div",19),L(),D(29,20),r(30,"mat-paginator",21,0),E("page",function(s){return c(l),p(e.onTablePageingData(s))}),a(),L(),a()}i&2&&(u("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey","estate.main.property-type-usage.list"),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplay",(e.tableRowSelected==null?null:e.tableRowSelected.id)>0)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),n(8),ce("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),n(3),u("checked",e.optionsSearch.data.show),n(),M("",h(13,25,"ACTION.SEARCH")," "),n(3),u("checked",e.optionsStatist.data.show),n(),M("",h(17,27,"ACTION.STATIST")," "),n(3),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessAddRow?19:-1),n(2),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow&&(e.tableRowSelected==null?null:e.tableRowSelected.id)>0?21:-1),n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow&&(e.tableRowSelected==null?null:e.tableRowSelected.id)>0?22:-1),n(2),w("options",e.optionsSearch),n(),w("options",e.optionsStatist),n(2),y(!(e.dataModelResult==null||e.dataModelResult.listItems==null)&&e.dataModelResult.listItems.length?27:28),n(3),u("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Q(29,ZM)))},dependencies:[K,H,Be,Ge,It,Oe,Ne,Pt,We,At,F,Rt,xt],encapsulation:2});var rr=pn;var yl=[{path:"",component:po,data:{title:"ROUTE.ESTATE.MAIN"},children:[{path:"property-type-usage",component:rr,data:{title:"ROUTE.ESTATE.TYPEUSAGE"}},{path:"property-type-usage/add",component:na,data:{title:"ROUTE.ESTATE.TYPEUSAGE"}},{path:"property-type-usage/add/:id",component:na,data:{title:"ROUTE.ESTATE.TYPEUSAGE"}},{path:"property-type-usage/edit/:id",component:ir,data:{title:"ROUTE.ESTATE.TYPEUSAGE"}},{path:"property-type-landuse",component:tr,data:{title:"ROUTE.ESTATE.LANDUSE"}},{path:"property-type-landuse/add",component:ia,data:{title:"ROUTE.ESTATE.LANDUSE"}},{path:"property-type-landuse/add/:id",component:ia,data:{title:"ROUTE.ESTATE.LANDUSE"}},{path:"property-type-landuse/edit/:id",component:er,data:{title:"ROUTE.ESTATE.LANDUSE"}},{path:"activity-type",component:Ga,data:{title:"ROUTE.ESTATE.ACTIVITYTYPE"}},{path:"activity-type/add",component:Yo,data:{title:"ROUTE.ESTATE.ACTIVITYTYPE"}},{path:"activity-type/add/:id",component:Yo,data:{title:"ROUTE.ESTATE.ACTIVITYTYPE"}},{path:"activity-type/edit/:id",component:Fa,data:{title:"ROUTE.ESTATE.ACTIVITYTYPE"}},{path:"ads-type",component:Ha,data:{title:"ROUTE.ESTATE.ADSTYPE"}},{path:"ads-type/add",component:Jo,data:{title:"ROUTE.ESTATE.ADSTYPE"}},{path:"ads-type/add/:id",component:Jo,data:{title:"ROUTE.ESTATE.ADSTYPE"}},{path:"ads-type/edit/:id",component:Oa,data:{title:"ROUTE.ESTATE.ADSTYPE"}},{path:"account-agency",component:zo,data:{title:"ROUTE.ESTATE.ACCOUNTAGENCY"}},{path:"account-agency/LinkAccountUserId/:LinkAccountUserId",component:zo,data:{title:"ROUTE.ESTATE.ACCOUNTAGENCY"}},{path:"account-agency/add",component:jo,data:{title:"ROUTE.ESTATE.ACCOUNTAGENCY"}},{path:"account-agency/add/:id",component:jo,data:{title:"ROUTE.ESTATE.ACCOUNTAGENCY"}},{path:"account-agency/edit/:id",component:xa,data:{title:"ROUTE.ESTATE.ACCOUNTAGENCY"}},{path:"account-user",component:Ko,data:{title:"ROUTE.ESTATE.ACCOUNTUSER"}},{path:"account-user/LinkAccountAgencyId/:LinkAccountAgencyId",component:Ko,data:{title:"ROUTE.ESTATE.ACCOUNTUSER"}},{path:"account-user/add",component:Qo,data:{title:"ROUTE.ESTATE.ACCOUNTUSER"}},{path:"account-user/add/:id",component:Qo,data:{title:"ROUTE.ESTATE.ACCOUNTUSER"}},{path:"account-user/edit/:id",component:Va,data:{title:"ROUTE.ESTATE.ACCOUNTUSER"}},{path:"account-agency-ads",component:ka,data:{title:"ROUTE.ESTATE.ACCOUNTAGENCYADS"}},{path:"account-agency-ads/add",component:Zo,data:{title:"ROUTE.ESTATE.ACCOUNTAGENCYADS"}},{path:"account-agency-ads/add/:id",component:Zo,data:{title:"ROUTE.ESTATE.ACCOUNTAGENCYADS"}},{path:"account-agency-ads/edit/:id",component:Pa,data:{title:"ROUTE.ESTATE.ACCOUNTAGENCYADS"}},{path:"contract-type",component:Za,data:{title:"ROUTE.ESTATE.CONTRACTTYPE"}},{path:"contract-type/add",component:Xo,data:{title:"ROUTE.ESTATE.CONTRACTTYPE"}},{path:"contract-type/add/:id",component:Xo,data:{title:"ROUTE.ESTATE.CONTRACTTYPE"}},{path:"contract-type/edit/:id",component:Ua,data:{title:"ROUTE.ESTATE.CONTRACTTYPE"}},{path:"category-zone",component:Ra,data:{title:"ROUTE.ESTATE.CATEGORY.ZONE"}},{path:"category-zone/add",component:qo,data:{title:"ROUTE.ESTATE.CATEGORY.ZONE"}},{path:"category-zone/add/:id",component:qo,data:{title:"ROUTE.ESTATE.CATEGORY.ZONE"}},{path:"category-zone/edit/:id",component:Ta,data:{title:"ROUTE.ESTATE.CATEGORY.ZONE"}},{path:"category-rack",component:Ia,data:{title:"ROUTE.ESTATE.CATEGORY.RACK"}},{path:"category-rack/add",component:Ho,data:{title:"ROUTE.ESTATE.CATEGORY.RACK"}},{path:"category-rack/add/:id",component:Ho,data:{title:"ROUTE.ESTATE.CATEGORY.RACK"}},{path:"category-rack/edit/:id",component:ba,data:{title:"ROUTE.ESTATE.CATEGORY.RACK"}},{path:"property-detail-group",component:Qa,data:{title:"ROUTE.ESTATE.DETAIL.GROUP"}},{path:"property-detail-group/add",component:$o,data:{title:"ROUTE.ESTATE.DETAIL.GROUP"}},{path:"property-detail-group/add/:id",component:$o,data:{title:"ROUTE.ESTATE.DETAIL.GROUP"}},{path:"property-detail-group/edit/:id",component:za,data:{title:"ROUTE.ESTATE.DETAIL.GROUP"}},{path:"property-detail",component:ta,data:{title:"ROUTE.ESTATE.PROPERTYDETAIL"}},{path:"property-detail/LinkPropertyTypeLanduseId/:LinkPropertyTypeLanduseId",component:ta,data:{title:"ROUTE.ESTATE.PROPERTYDETAIL"}},{path:"property-detail/add",component:ea,data:{title:"ROUTE.ESTATE.PROPERTYDETAIL"}},{path:"property-detail/add/:id",component:ea,data:{title:"ROUTE.ESTATE.PROPERTYDETAIL"}},{path:"property-detail/edit/:id",component:Ya,data:{title:"ROUTE.ESTATE.PROPERTYDETAIL"}}]}];var Ml=[{path:"",component:po,data:{title:"ROUTE.ESTATE.MAIN"},children:[{path:"property-type-usage",component:Bo,data:{title:"ROUTE.ESTATE.TYPEUSAGE"}},{path:"property-type-landuse",component:Ro,data:{title:"ROUTE.ESTATE.LANDUSE"}},{path:"activity-type",component:Qn,data:{title:"ROUTE.ESTATE.ACTIVITYTYPE"}},{path:"ads-type",component:to,data:{title:"ROUTE.ESTATE.ADSTYPE"}},{path:"account-agency",component:No,data:{title:"ROUTE.ESTATE.ACCOUNTAGENCY"}},{path:"account-agency/LinkAccountUserId/:LinkAccountUserId",component:No,data:{title:"ROUTE.ESTATE.ACCOUNTAGENCY"}},{path:"account-user",component:Wo,data:{title:"ROUTE.ESTATE.ACCOUNTUSER"}},{path:"account-user/LinkAccountAgencyId/:LinkAccountAgencyId",component:Wo,data:{title:"ROUTE.ESTATE.ACCOUNTUSER"}},{path:"account-agency-ads",component:Hn,data:{title:"ROUTE.ESTATE.ACCOUNTAGENCYADS"}},{path:"contract-type",component:so,data:{title:"ROUTE.ESTATE.CONTRACTTYPE"}},{path:"category-zone",component:kn,data:{title:"ROUTE.ESTATE.CATEGORY.ZONE"}},{path:"category-rack",component:An,data:{title:"ROUTE.ESTATE.CATEGORY.RACK"}},{path:"property-detail-group",component:So,data:{title:"ROUTE.ESTATE.DETAIL.GROUP"}},{path:"property-detail",component:sn,data:{title:"ROUTE.ESTATE.PROPERTYDETAIL"}},{path:"property-detail/LinkPropertyTypeLanduseId/:LinkPropertyTypeLanduseId",component:sn,data:{title:"ROUTE.ESTATE.PROPERTYDETAIL"}}]}];var mn=class mn{};mn.\u0275fac=function(t){return new(t||mn)},mn.\u0275mod=aa({type:mn}),mn.\u0275inj=oa({imports:[Oo.forChild(window.innerWidth<1e3?yl:Ml),Oo]});var lr=mn;var un=class un{};un.\u0275fac=function(t){return new(t||un)},un.\u0275mod=aa({type:un}),un.\u0275inj=oa({providers:[vr,wr,j,Ir,Pr,Sn,Rr,Ar,_i,yn,xr,yi,Mn,Dr,Si,hi,kr,oi,Mi,Gr,pi,Zi,bi,Ei,Ci,Lr,Vr,Fr,Br,yt,Tr],imports:[Er,Oo,lr,Wr,Hr.withConfig({warnOnNgModelWithFormControl:"never"}),il,al,pl,hl,dl,nl,Qr,zr,Kr,sl,Or,ul,ol]});var El=un;export{El as EstateMainModule};
