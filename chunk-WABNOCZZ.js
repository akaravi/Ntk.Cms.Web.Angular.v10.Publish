import{a as jr,b as Bl}from"./chunk-MKNOSXXN.js";import{a as qr}from"./chunk-WZGID7VJ.js";import{a as Vl}from"./chunk-K2ZGWDZO.js";import{a as Ll}from"./chunk-RQRXX4Y3.js";import"./chunk-WCXBQLCN.js";import{a as kl}from"./chunk-63VZEP7P.js";import{a as Rl}from"./chunk-PFWNPNR3.js";import"./chunk-XWFZ3L2H.js";import{a as yt}from"./chunk-GDSJ76EJ.js";import{a as Wr}from"./chunk-H56PQPV2.js";import{a as Xn}from"./chunk-GSBDZZET.js";import{a as xl}from"./chunk-OB7J25NJ.js";import{a as on}from"./chunk-7QIOMBNF.js";import{a as zi}from"./chunk-K33TURJC.js";import{a as ii}from"./chunk-4APFVROB.js";import{a as ye}from"./chunk-Y64PO4WT.js";import{a as Dt}from"./chunk-JEF4OJ24.js";import{a as dt}from"./chunk-A7IWA6ZF.js";import{a as Al,d as ct,e as we,f as pt,h as Pt}from"./chunk-C4XZBUHP.js";import{a as Hr}from"./chunk-ZJV2NLHC.js";import{a as Ot}from"./chunk-P72UIZ6K.js";import{a as wl}from"./chunk-VBWJBSE3.js";import{a as ge,b as Gr}from"./chunk-W6ZJBTW2.js";import{b as Dl}from"./chunk-7SVXILIE.js";import{a as st}from"./chunk-JFG54H6M.js";import{a as Tl}from"./chunk-VY3YGG4X.js";import{a as ve}from"./chunk-CPR24DPR.js";import{b as yl}from"./chunk-3RHHJRHJ.js";import{a as zt}from"./chunk-7DUNEHBM.js";import"./chunk-T2SWGMVG.js";import{a as Jn}from"./chunk-L6HCBEGV.js";import{a as fe}from"./chunk-KW66JYE4.js";import"./chunk-HGNWVODT.js";import{a as W,d as Qt}from"./chunk-NKVVWISU.js";import{b as Pl,d as El,e as lt,f as H}from"./chunk-JQRS7TAT.js";import{$a as pl,A as Qe,Aa as al,Ab as O,Ba as je,Bb as B,Ca as ll,Da as K,H as Lr,Ha as Nr,I as Vr,Ia as ht,J as Br,Ja as Ct,K as nl,L as Fr,M as Or,Ma as Le,Nb as Rt,O as ol,Ob as Cl,R as Wn,Sa as _t,Ua as Ne,Va as Xe,Ya as sl,Za as dl,_a as cl,a as Wi,ab as ml,ac as _l,bb as ul,bc as gl,cb as gt,cc as vl,d as Rr,da as ji,db as Ye,dc as bl,ea as Ui,eb as Ze,f as Ka,fa as Qi,fb as $e,g as Ja,gb as et,hb as tt,i as Xa,ib as vt,j as Ya,jb as bt,k as Za,kb as Mt,la as at,lb as It,m as Ei,ma as le,na as se,oa as Oe,ob as fl,pa as rl,pb as Sl,pc as Ge,r as tl,rb as qn,s as Fe,sb as jn,sc as He,tb as Un,u as qi,ub as Qn,uc as G,v as wi,vb as zn,w as il,wb as hl,x as Di,xb as Kn,xc as Il,y as yi}from"./chunk-YBRH5NGE.js";import{A as Ie,B as Pe,C as Ee,F as $a,G as el,b as Mi,c as ee,h as te,i as he,k as Ce,l as ti,m as ce,n as _e,o as Ii,r as Pi,s as kr}from"./chunk-QRBNL5ZA.js";import{$ as ne,$m as Hi,A as Gn,Am as Zi,Bm as Ci,Cm as qt,D as Lt,Dm as $i,Em as Yt,Fm as ja,Gm as en,H as re,Hm as _i,Im as Ua,Ja as Ha,K as Re,Kn as de,Lm as Qa,Pm as Fi,Qm as gi,Rm as vi,Sm as jt,Tm as Oi,Um as bi,Vm as Ni,Vn as Ml,Wm as Ut,Xm as $t,Y as Ar,Ym as ei,Zm as nn,_m as Gi,an as za,d as Bt,da as Ga,e as Na,f as Ue,ha as Hn,l as Aa,lm as xr,m as nt,mm as qa,nm as oi,om as ri,p as ot,pm as Yi,q as Z,u as J,v as ae,xm as ai,y as Ft,ym as hi,zc as Wa,zm as rt}from"./chunk-R3Y64ZOJ.js";import{Ab as b,Ad as Oa,Bb as Tr,Cb as Si,Db as Te,Dc as S,Eb as Ae,Ec as h,Fb as f,Fc as kt,Ga as Et,Gb as r,Hb as a,Ib as g,K as pi,Mb as T,Nb as A,O as mi,Ob as Je,Pb as P,Ra as X,Sb as I,Ub as d,Va as o,Vb as Vi,Wb as Bi,Xa as wt,Xc as N,Yb as U,Z as ui,Zb as Q,_ as fi,_b as z,cb as M,cc as R,dc as Ta,ec as F,ga as wr,hc as c,ib as L,ic as y,jb as yr,jc as _,kc as Vt,lc as ka,ld as De,mb as q,md as Ba,nc as E,ob as V,oc as w,pa as m,pc as D,qa as u,qc as La,rc as Va,rd as Wt,s as di,sc as Cn,t as ci,tc as x,td as Be,ua as Dr,uc as Nt,ud as On,wb as Ra,xb as j,xc as qe,xd as Nn,yc as xt,yd as Fa,zb as v}from"./chunk-2AL2II5Z.js";import{i as Me}from"./chunk-SEDBTTTN.js";var $l=["*"];function es(n,s){if(n&1&&(r(0,"label",3),c(1),a()),n&2){let e=d();f("for",Nt("app-cms-site-selector-",e.id)),o(),y(e.optionLabel)}}function ts(n,s){if(n&1&&(g(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=d();f("src",x(h(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),X)}}function is(n,s){if(n&1&&(g(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;f("src",x(h(1,2,e.linkMainImageIdSrc)),X)}}function ns(n,s){if(n&1&&(r(0,"mat-option",8),v(1,is,2,4,"img",5),r(2,"span"),c(3),a()()),n&2){let e=s.$implicit,i=d();f("value",e)("disabled",i.optionDisabled),o(),b(e.linkMainImageIdSrc?1:-1),o(2),y(i.displayOption(e))}}function os(n,s){n&1&&g(0,"i",9)}function rs(n,s){n&1&&g(0,"i",10)}function as(n,s){if(n&1){let e=P();r(0,"i",13),I("click",function(){m(e);let t=d();return u(t.onActionSelectClear())}),a()}}function ls(n,s){n&1&&(r(0,"em"),c(1),S(2,"translate"),a()),n&2&&(o(),_("(",h(2,1,"TITLE.Necessary"),")"))}var rn=class rn{constructor(s,e,i,t,l,C){this.coreEnumService=s;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=l;this.categoryService=C;this.id=++rn.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Z;this.dataModelSelect=new Yt;this.formControl=new ti;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionSelectForSendMessage=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new wt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(ui(""),pi(1500),mi(),fi(s=>typeof s=="string"||typeof s=="number"?this.DataGetAll(s||""):[]))}displayFn(s){return s?s.title:void 0}displayOption(s){return s?s.title:void 0}DataGetAll(s){return Me(this,null,function*(){let e=new ae;e.rowPerPage=20,e.accessLoad=!0;let i=new J;i.propertyName="title",i.value=s,i.searchType=Lt.Contains,i.clauseType=Ft.Or,e.filters.push(i),s&&typeof+s=="number"&&+s>0&&(i=new J,i.propertyName="id",i.value=s,i.searchType=Lt.Equal,i.clauseType=Ft.Or,e.filters.push(i)),this.optionSelectForSendMessage&&(i=new J,i.propertyName="recordStatus",i.value=nt.Available,i.searchType=Lt.Equal,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.get_information_list").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),e.sortColumn="priority",e.sortType=re.Ascending,this.optionAccessDataType&&this.categoryService.setAccessDataType(this.optionAccessDataType),yield di(this.categoryService.ServiceGetAll(e)).then(l=>(this.dataModelResult=l,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,this.formControl.setValue(this.dataModelResult.listItems[0]),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),l.listItems))})}onActionSelect(s){this.optionDisabled||(this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(s){return this.filteredOptions.pipe(ci(e=>(e.find(i=>i.id===s.id)||e.push(s),e)))}onActionSelectForce(s){if(typeof s=="string"&&s.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===s)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===s)){let e=this.dataModelResult.listItems.find(i=>i.id===s);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(s).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof s==typeof Yt){this.filteredOptions=this.push(s),this.dataModelSelect=s,this.formControl.setValue(s);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Yt,this.onActionSelectClear(),this.loadOptions()}};rn.nextId=0,rn.\u0275fac=function(e){return new(e||rn)(M(ne),M(G),M(N),M(H),M(O),M(ei))},rn.\u0275cmp=L({type:rn,selectors:[["app-data-provider-source-path-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionSelectForSendMessage:"optionSelectForSendMessage",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionAccessDataType:"optionAccessDataType",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:$l,decls:18,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=P();Vi(),r(0,"div",1),g(1,"app-progress-spinner",2),v(2,es,2,3,"label",3),r(3,"span",4),v(4,ts,2,4,"img",5),a(),g(5,"input",6),r(6,"mat-autocomplete",7,0),I("optionSelected",function(C){return m(t),u(i.onActionSelect(C.option.value))}),Te(8,ns,4,4,"mat-option",8,Si),S(10,"async"),a(),v(11,os,1,0,"i",9),v(12,rs,1,0,"i",10),v(13,as,1,0,"i",11),r(14,"i",12),S(15,"translate"),I("click",function(){return m(t),u(i.onActionButtonReload())}),a(),v(16,ls,3,3,"em"),Bi(17),a()}if(e&2){let t=R(7);o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(),b((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),b(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),f("placeholder",x(i.optionPlaceholder))("id",Nt("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),j("disabled",i.optionDisabled?!0:null),o(),f("displayWith",i.displayFn),o(2),Ae(h(10,20,i.filteredOptions)),o(3),b(i.formControl.valid?-1:11),o(),b(i.optionRequired&&i.formControl.valid?12:-1),o(),b((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?13:-1),o(),F("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),f("title",x(h(15,22,"ACTION.RELOAD"))),o(2),b(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id.length<=0)?16:-1)}},dependencies:[ee,te,Ie,Pi,Di,Ei,yi,qi,K,W,Be,B,ge],encapsulation:2});var Ki=rn;function ss(n,s){if(n&1&&(r(0,"mat-option",6),c(1),a()),n&2){let e=s.$implicit,i=d();f("value",e),o(),_(" ",i.displayOption(e)," ")}}var Yn=class Yn{constructor(s,e,i,t,l,C){this.coreEnumService=s;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=l;this.categoryService=C;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Z;this.dataModelSelect=new oi;this.formControl=new ti;this.optionPlaceholder="";this.optionSelectFirstItem=!1;this.optionDisabled=!1;this.optionRequired=!1;this.optionLabel="";this.optionChange=new wt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(ui(""),pi(1500),mi(),fi(s=>typeof s=="string"||typeof s=="number"?this.DataGetAll(s||""):[]))}displayFn(s){return s?s.title:void 0}displayOption(s){return s?s.title:void 0}DataGetAll(s){return Me(this,null,function*(){let e=new ae;e.rowPerPage=20,e.accessLoad=!0;let i=new J;i.propertyName="title",i.value=s,i.searchType=Lt.Contains,i.clauseType=Ft.Or,e.filters.push(i),s&&typeof+s=="number"&&+s>0&&(i=new J,i.propertyName="id",i.value=s,i.searchType=Lt.Equal,i.clauseType=Ft.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),yield di(this.categoryService.ServiceGetAll(e)).then(l=>(this.dataModelResult=l,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||(typeof this.dataModelSelect.id=="string"?this.dataModelSelect.id.length===0:this.dataModelSelect.id<=0))&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),l.listItems))})}onActionSelect(s){this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(s){return this.filteredOptions.pipe(ci(e=>(e.find(i=>i.id===s.id)||e.push(s),e)))}onActionSelectForce(s){if(typeof s=="string"&&s.length>0||typeof s=="number"&&s>0){let e=typeof s=="string"?s:String(s);if(this.dataModelSelect&&String(this.dataModelSelect.id)===e)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>String(i.id)===e)){let i=this.dataModelResult.listItems.find(t=>String(t.id)===e);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(e).subscribe({next:i=>{i.isSuccess?(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item)):this.cmsToastrService.typeErrorMessage(i.errorMessage)}});return}if(typeof s==typeof oi){this.filteredOptions=this.push(s),this.dataModelSelect=s,this.formControl.setValue(s);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new oi,this.loadOptions()}};Yn.\u0275fac=function(e){return new(e||Yn)(M(ne),M(G),M(N),M(H),M(O),M(Gi))},Yn.\u0275cmp=L({type:Yn,selectors:[["app-data-provider-client-application-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,decls:10,vars:10,consts:[["auto","matAutocomplete"],[1,"w-100",3,"appearance"],["type","text","matInput","",3,"formControl","matAutocomplete","disabled","required"],[3,"optionSelected","displayWith"],[3,"value",4,"ngFor","ngForOf"],["matSuffix",""],[3,"value"]],template:function(e,i){if(e&1){let t=P();r(0,"mat-form-field",1)(1,"mat-label"),c(2),a(),g(3,"input",2),r(4,"mat-autocomplete",3,0),I("optionSelected",function(C){return m(t),u(i.onActionSelect(C.option.value))}),V(6,ss,2,2,"mat-option",4),S(7,"async"),a(),r(8,"mat-icon",5),c(9,"search"),a()()}if(e&2){let t=R(5);f("appearance","outline"),o(2),y(i.optionLabel||i.optionPlaceholder),o(),f("formControl",i.formControl)("matAutocomplete",t)("disabled",i.optionDisabled)("required",i.optionRequired),o(),f("displayWith",i.displayFn),o(2),f("ngForOf",h(7,8,i.filteredOptions))}},dependencies:[Ba,ee,te,Ie,Pi,Di,Ei,yi,il,tl,wi,je,K,Be],encapsulation:2});var Zn=Yn;var ds=["vform"];function cs(n,s){if(n&1){let e=P();r(0,"app-cms-enum-record-status-selector",15),D("modelChange",function(t){m(e);let l=d();return w(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=d();E("model",e.dataModel.recordStatus),f("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ps(n,s){if(n&1){let e=P();r(0,"div",12)(1,"label",16),c(2),a(),r(3,"mat-checkbox",17),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.isRequested,t)||(l.dataModel.isRequested=t),u(t)}),c(4),S(5,"translate"),a()()}if(n&2){let e=d();o(2),y(e.fieldsInfo.isRequested==null?null:e.fieldsInfo.isRequested.fieldTitle),o(),E("ngModel",e.dataModel.isRequested),f("disabled",!(e.fieldsInfo.isRequested!=null&&e.fieldsInfo.isRequested.accessAddField)),o(),_(" ",h(5,4,"MESSAGE.Requested")," ")}}function ms(n,s){if(n&1){let e=P();r(0,"div",12)(1,"label",16),c(2),a(),r(3,"mat-checkbox",18),I("change",function(){m(e);let t=d();return u(t.onToggleIsApproved())}),c(4),S(5,"translate"),a()()}if(n&2){let e=d();o(2),y(e.fieldsInfo.isApproved==null?null:e.fieldsInfo.isApproved.fieldTitle),o(),f("checked",e.dataModel.isApproved===!0)("disabled",!(e.fieldsInfo.isApproved!=null&&e.fieldsInfo.isApproved.accessAddField))("indeterminate",e.dataModel.isApproved===null),o(),_(" ",h(5,5,"MESSAGE.Approved")," ")}}function us(n,s){if(n&1){let e=P();r(0,"div",13)(1,"label",19),c(2),a(),r(3,"input",20),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.fromDate,t)||(l.dataModel.fromDate=t),u(t)}),a(),g(4,"mat-datepicker-toggle",21)(5,"mat-datepicker",22,1),a()}if(n&2){let e=R(6),i=d();o(2),y(i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle),o(),E("ngModel",i.dataModel.fromDate),f("matDatepicker",e),o(),f("for",e),o(),f("calendarHeaderComponent",i.datapickerHeader)}}function fs(n,s){if(n&1){let e=P();r(0,"div",13)(1,"label",23),c(2),S(3,"translate"),a(),r(4,"input",24),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.expireDate,t)||(l.dataModel.expireDate=t),u(t)}),a(),g(5,"mat-datepicker-toggle",21)(6,"mat-datepicker",22,2),a()}if(n&2){let e=R(7),i=d();o(2),y(h(3,5,"TITLE.Expire_Date")),o(2),E("ngModel",i.dataModel.expireDate),f("matDatepicker",e),o(),f("for",e),o(),f("calendarHeaderComponent",i.datapickerHeader)}}function Ss(n,s){if(n&1){let e=P();r(0,"div",12)(1,"label",25),c(2),a(),r(3,"textarea",26,3),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.description,t)||(l.dataModel.description=t),u(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=R(4),i=d();o(2),y(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),f("placeholder",x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),E("ngModel",i.dataModel.description),o(3),_("",e.value.length," / 500")}}function hs(n,s){if(n&1){let e=P();r(0,"div",14)(1,"button",27),I("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",28),c(3),S(4,"translate"),a(),r(5,"button",29),g(6,"i",30),c(7),S(8,"translate"),a()()}if(n&2){d();let e=R(10);o(3),_(" ",h(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!e.form.valid),o(2),_(" ",h(8,5,"ACTION.SAVE")," ")}}var $n=class $n extends st{constructor(e,i,t,l,C,p,k){super(t,new ri,C,k);this.data=e;this.dialogRef=i;this.dataProviderClientApplicationPermissionService=t;this.cmsToastrService=l;this.publicHelper=C;this.cdr=p;this.translate=k;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Z;this.dataModel=new ri;this.fileManagerOpenForm=!1;this.datapickerHeader=Jn;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&(e.LinkClientApplicationId&&(this.dataModel.linkClientApplicationId=e.LinkClientApplicationId),e.LinkSourcePathId&&(this.dataModel.linkSourcePathId=e.LinkSourcePathId))}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderClientApplicationPermissionService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorClientApplication(e){if(!e||!e.id||e.id.length==0){this.dataModel.linkClientApplicationId=null;return}this.dataModel.linkClientApplicationId=e.id}onActionSelectorSourcePath(e){if(!e||!e.id||e.id.length==0){this.dataModel.linkSourcePathId=null;return}this.dataModel.linkSourcePathId=e.id}onToggleIsApproved(){this.dataModel.isApproved===null?this.dataModel.isApproved=!0:this.dataModel.isApproved===!0?this.dataModel.isApproved=!1:this.dataModel.isApproved=null}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};$n.\u0275fac=function(i){return new(i||$n)(M(se),M(le),M(Hi),M(G),M(H),M(N),M(O))},$n.\u0275cmp=L({type:$n,selectors:[["app-data-provider-client-application-permission-add"]],viewQuery:function(i,t){if(i&1&&U(ds,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:22,vars:23,consts:[["vform","ngForm"],["FromDate",""],["ExpireDate",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"color-highlight"],["name","dataModel.isRequested",3,"ngModelChange","ngModel","disabled"],["name","dataModel.isApproved",3,"change","checked","disabled","indeterminate"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();r(0,"div",4),g(1,"app-progress-spinner",5),r(2,"div",6)(3,"p",7),c(4),a(),r(5,"p"),c(6),S(7,"translate"),a(),g(8,"app-cms-form-result-message",8),r(9,"form",9,0),I("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(11,cs,1,5,"app-cms-enum-record-status-selector",10),r(12,"app-data-provider-client-application-selector",11),S(13,"translate"),I("optionChange",function(p){return m(l),u(t.onActionSelectorClientApplication(p))}),a(),r(14,"app-data-provider-source-path-selector",11),S(15,"translate"),I("optionChange",function(p){return m(l),u(t.onActionSelectorSourcePath(p))}),a(),v(16,ps,6,6,"div",12),v(17,ms,6,7,"div",12),v(18,us,7,5,"div",13),v(19,fs,8,7,"div",13),v(20,Ss,7,5,"div",12),v(21,hs,9,7,"div",14),a()()()}i&2&&(o(),f("optionsInfoAreaId",t.constructorInfoAreaId),o(3),_(" ",t.formInfo.formTitle," "),o(2),_(" ",h(7,17,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),f("optionDisabled",!((t.fieldsInfo.linkClientApplicationId==null?null:t.fieldsInfo.linkClientApplicationId.accessAddField)??!1))("optionSelectForce",t.dataModel.linkClientApplicationId)("optionPlaceholder",h(13,19,"TITLE.CLIENTAPPLICATION")),o(2),f("optionDisabled",!((t.fieldsInfo.linkSourcePathId==null?null:t.fieldsInfo.linkSourcePathId.accessAddField)??!1))("optionSelectForce",t.dataModel.linkSourcePathId)("optionPlaceholder",h(15,21,"TITLE.SOURCEPATH")),o(2),b(t.fieldsInfo.isRequested!=null&&t.fieldsInfo.isRequested.accessWatchField?16:-1),o(),b(t.fieldsInfo.isApproved!=null&&t.fieldsInfo.isApproved.accessWatchField?17:-1),o(),b(t.fieldsInfo.fromDate!=null&&t.fieldsInfo.fromDate.accessWatchField?18:-1),o(),b(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessWatchField?19:-1),o(),b(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?20:-1),o(),b(t.formInfo.submitButtonEnabled?21:-1))},dependencies:[_e,ee,te,he,Pe,Ee,ce,Ce,Wn,ji,Ui,Qi,wi,K,ve,W,fe,Ki,Zn,B],encapsulation:2});var eo=$n;var Cs=["vform"];function _s(n,s){if(n&1){let e=P();r(0,"app-cms-enum-record-status-selector",15),D("modelChange",function(t){m(e);let l=d();return w(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=d();E("model",e.dataModel.recordStatus),f("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function gs(n,s){if(n&1){let e=P();r(0,"div",12)(1,"label",16),c(2),a(),r(3,"mat-checkbox",17),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.isRequested,t)||(l.dataModel.isRequested=t),u(t)}),c(4),S(5,"translate"),a()()}if(n&2){let e=d();o(2),y(e.fieldsInfo.isRequested==null?null:e.fieldsInfo.isRequested.fieldTitle),o(),E("ngModel",e.dataModel.isRequested),f("disabled",!(e.fieldsInfo.isRequested!=null&&e.fieldsInfo.isRequested.accessEditField)),o(),_(" ",h(5,4,"MESSAGE.Requested")," ")}}function vs(n,s){if(n&1){let e=P();r(0,"div",12)(1,"label",16),c(2),a(),r(3,"mat-checkbox",18),I("change",function(){m(e);let t=d();return u(t.onToggleIsApproved())}),c(4),S(5,"translate"),a()()}if(n&2){let e=d();o(2),y(e.fieldsInfo.isApproved==null?null:e.fieldsInfo.isApproved.fieldTitle),o(),f("checked",e.dataModel.isApproved===!0)("disabled",!(e.fieldsInfo.isApproved!=null&&e.fieldsInfo.isApproved.accessEditField))("indeterminate",e.dataModel.isApproved===null),o(),_(" ",h(5,5,"MESSAGE.Approved")," ")}}function bs(n,s){if(n&1){let e=P();r(0,"div",13)(1,"label",19),c(2),a(),r(3,"input",20),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.fromDate,t)||(l.dataModel.fromDate=t),u(t)}),a(),g(4,"mat-datepicker-toggle",21)(5,"mat-datepicker",22,1),a()}if(n&2){let e=R(6),i=d();o(2),y(i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle),o(),E("ngModel",i.dataModel.fromDate),f("matDatepicker",e)("disabled",!(i.fieldsInfo.fromDate!=null&&i.fieldsInfo.fromDate.accessEditField)),o(),f("for",e),o(),f("calendarHeaderComponent",i.datapickerHeader)}}function Ms(n,s){if(n&1){let e=P();r(0,"div",13)(1,"label",23),c(2),S(3,"translate"),a(),r(4,"input",24),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.expireDate,t)||(l.dataModel.expireDate=t),u(t)}),a(),g(5,"mat-datepicker-toggle",21)(6,"mat-datepicker",22,2),a()}if(n&2){let e=R(7),i=d();o(2),y(h(3,6,"TITLE.Expire_Date")),o(2),E("ngModel",i.dataModel.expireDate),f("matDatepicker",e)("disabled",!(i.fieldsInfo.expireDate!=null&&i.fieldsInfo.expireDate.accessEditField)),o(),f("for",e),o(),f("calendarHeaderComponent",i.datapickerHeader)}}function Is(n,s){if(n&1){let e=P();r(0,"div",12)(1,"label",25),c(2),a(),r(3,"textarea",26,3),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.description,t)||(l.dataModel.description=t),u(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=R(4),i=d();o(2),y(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),f("placeholder",x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),E("ngModel",i.dataModel.description),f("disabled",!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessEditField)),o(3),_("",e.value.length," / 500")}}function Ps(n,s){if(n&1){let e=P();r(0,"div",14)(1,"button",27),I("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",28),c(3),S(4,"translate"),a(),r(5,"button",29),g(6,"i",30),c(7),S(8,"translate"),a()()}if(n&2){d();let e=R(10);o(3),_(" ",h(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!e.form.valid),o(2),_(" ",h(8,5,"ACTION.SAVE")," ")}}var to=class to extends dt{constructor(e,i,t,l,C,p,k){super(t,new ri,C,k);this.data=e;this.dialogRef=i;this.dataProviderClientApplicationPermissionService=t;this.cmsToastrService=l;this.publicHelper=C;this.cdr=p;this.translate=k;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ot;this.dataModel=new ri;this.fileManagerOpenForm=!1;this.datapickerHeader=Jn;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderClientApplicationPermissionService.setAccessLoad(),this.dataProviderClientApplicationPermissionService.setAccessDataType(Re.Editor),this.dataProviderClientApplicationPermissionService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderClientApplicationPermissionService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorClientApplication(e){if(!e||!e.id||e.id.length==0){this.dataModel.linkClientApplicationId=null;return}this.dataModel.linkClientApplicationId=e.id}onActionSelectorSourcePath(e){if(!e||!e.id||e.id.length==0){this.dataModel.linkSourcePathId=null;return}this.dataModel.linkSourcePathId=e.id}onToggleIsApproved(){this.dataModel.isApproved===null?this.dataModel.isApproved=!0:this.dataModel.isApproved===!0?this.dataModel.isApproved=!1:this.dataModel.isApproved=null}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};to.\u0275fac=function(i){return new(i||to)(M(se),M(le),M(Hi),M(G),M(H),M(N),M(O))},to.\u0275cmp=L({type:to,selectors:[["app-data-provider-client-application-permission-edit"]],viewQuery:function(i,t){if(i&1&&U(Cs,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:22,vars:23,consts:[["vform","ngForm"],["FromDate",""],["ExpireDate",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"color-highlight"],["name","dataModel.isRequested",3,"ngModelChange","ngModel","disabled"],["name","dataModel.isApproved",3,"change","checked","disabled","indeterminate"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker","disabled"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();r(0,"div",4),g(1,"app-progress-spinner",5),r(2,"div",6)(3,"p",7),c(4),a(),r(5,"p"),c(6),S(7,"translate"),a(),g(8,"app-cms-form-result-message",8),r(9,"form",9,0),I("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(11,_s,1,5,"app-cms-enum-record-status-selector",10),r(12,"app-data-provider-client-application-selector",11),S(13,"translate"),I("optionChange",function(p){return m(l),u(t.onActionSelectorClientApplication(p))}),a(),r(14,"app-data-provider-source-path-selector",11),S(15,"translate"),I("optionChange",function(p){return m(l),u(t.onActionSelectorSourcePath(p))}),a(),v(16,gs,6,6,"div",12),v(17,vs,6,7,"div",12),v(18,bs,7,6,"div",13),v(19,Ms,8,8,"div",13),v(20,Is,7,6,"div",12),v(21,Ps,9,7,"div",14),a()()()}i&2&&(o(),f("optionsInfoAreaId",t.constructorInfoAreaId),o(3),_(" ",t.formInfo.formTitle," "),o(2),_(" ",h(7,17,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),f("optionDisabled",!((t.fieldsInfo.linkClientApplicationId==null?null:t.fieldsInfo.linkClientApplicationId.accessEditField)??!1))("optionSelectForce",t.dataModel.linkClientApplicationId)("optionPlaceholder",h(13,19,"TITLE.CLIENTAPPLICATION")),o(2),f("optionDisabled",!((t.fieldsInfo.linkSourcePathId==null?null:t.fieldsInfo.linkSourcePathId.accessEditField)??!1))("optionSelectForce",t.dataModel.linkSourcePathId)("optionPlaceholder",h(15,21,"TITLE.SOURCEPATH")),o(2),b(t.fieldsInfo.isRequested!=null&&t.fieldsInfo.isRequested.accessWatchField?16:-1),o(),b(t.fieldsInfo.isApproved!=null&&t.fieldsInfo.isApproved.accessWatchField?17:-1),o(),b(t.fieldsInfo.fromDate!=null&&t.fieldsInfo.fromDate.accessWatchField?18:-1),o(),b(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessWatchField?19:-1),o(),b(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?20:-1),o(),b(t.formInfo.submitButtonEnabled?21:-1))},dependencies:[_e,ee,te,he,Pe,Ee,ce,Ce,Wn,ji,Ui,Qi,wi,K,ve,W,fe,Ki,Zn,B],encapsulation:2});var io=to;var Es=()=>["expandedDetail"],ws=()=>[5,10,20,100],Ds=n=>({display:n});function ys(n,s){if(n&1){let e=P();r(0,"div",15)(1,"a",44),I("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",45)(3,"br"),a(),r(4,"p",46),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.ADD")," "))}function Ts(n,s){if(n&1){let e=P();r(0,"div",15)(1,"a",47),I("click",function(){m(e);let t=d();return u(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",48)(3,"br"),a(),r(4,"p",46),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.EDIT")," "))}function As(n,s){if(n&1){let e=P();r(0,"div",15)(1,"a",49),I("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",50)(3,"br"),a(),r(4,"p",46),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.DELETE")," "))}function xs(n,s){if(n&1&&(r(0,"mat-header-cell",51),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Rs(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),_(" ",e.id," ")}}function ks(n,s){if(n&1&&(r(0,"mat-header-cell",51),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ls(n,s){if(n&1&&(r(0,"mat-cell",52),S(1,"statusCellClass"),g(2,"i",52),S(3,"statusIconClass"),a()),n&2){let e=s.$implicit;f("ngClass",h(1,2,e.recordStatus)),o(2),f("ngClass",h(3,4,e.recordStatus))}}function Vs(n,s){if(n&1&&(r(0,"mat-header-cell",51),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.linkClientApplicationId==null?null:e.fieldsInfo.linkClientApplicationId.fieldTitle," ")}}function Bs(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),_(" ",e.linkClientApplicationId," ")}}function Fs(n,s){if(n&1&&(r(0,"mat-header-cell",51),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.linkSourcePathId==null?null:e.fieldsInfo.linkSourcePathId.fieldTitle," ")}}function Os(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),_(" ",e.linkSourcePathId," ")}}function Ns(n,s){if(n&1&&(r(0,"mat-header-cell",53),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.isRequested==null?null:e.fieldsInfo.isRequested.fieldTitle," ")}}function Gs(n,s){if(n&1&&(r(0,"mat-cell"),g(1,"i",52),S(2,"boolclass"),a()),n&2){let e=s.$implicit;o(),f("ngClass",h(2,1,e.isRequested))}}function Hs(n,s){if(n&1&&(r(0,"mat-header-cell",53),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.isApproved==null?null:e.fieldsInfo.isApproved.fieldTitle," ")}}function Ws(n,s){n&1&&g(0,"i",54)}function qs(n,s){if(n&1&&(g(0,"i",52),S(1,"boolclass")),n&2){let e=d().$implicit;f("ngClass",h(1,1,e.isApproved))}}function js(n,s){if(n&1&&(r(0,"mat-cell"),v(1,Ws,1,0,"i",54)(2,qs,2,3,"i",52),a()),n&2){let e=s.$implicit;o(),b(e.isApproved===null?1:2)}}function Us(n,s){if(n&1&&(r(0,"mat-header-cell",51),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.fromDate==null?null:e.fieldsInfo.fromDate.fieldTitle," ")}}function Qs(n,s){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),_(" ",h(2,1,e.fromDate)," ")}}function zs(n,s){if(n&1&&(r(0,"mat-header-cell",51),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function Ks(n,s){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),_(" ",h(2,1,e.expireDate)," ")}}function Js(n,s){if(n&1&&(r(0,"mat-header-cell",51),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Xs(n,s){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),_(" ",h(2,1,e.createdDate)," ")}}function Ys(n,s){if(n&1&&(r(0,"mat-header-cell",51),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Zs(n,s){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),_(" ",h(2,1,e.updatedDate)," ")}}function $s(n,s){n&1&&(r(0,"mat-header-cell"),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"TITLE.OPTION")," "))}function ed(n,s){if(n&1){let e=P();r(0,"button",58),I("click",function(){m(e);let t=d().$implicit,l=d();return u(l.onActionButtonEditRow(t))}),r(1,"mat-icon"),c(2,"edit"),a(),r(3,"span"),c(4),S(5,"translate"),a()()}n&2&&(o(4),y(h(5,1,"ACTION.EDIT")))}function td(n,s){if(n&1){let e=P();r(0,"button",58),I("click",function(){m(e);let t=d().$implicit,l=d();return u(l.onActionButtonDeleteRow(t))}),r(1,"mat-icon"),c(2,"delete"),a(),r(3,"span"),c(4),S(5,"translate"),a()()}n&2&&(o(4),y(h(5,1,"ACTION.DELETE")))}function id(n,s){if(n&1&&(r(0,"mat-cell",55)(1,"button",56)(2,"mat-icon"),c(3,"more_vert"),a()(),r(4,"mat-menu",null,2),v(6,ed,6,3,"button",57),v(7,td,6,3,"button",57),a()()),n&2){let e=R(5),i=d();o(),f("matMenuTriggerFor",e),o(5),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?6:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow?7:-1)}}function nd(n,s){if(n&1&&(r(0,"tr"),g(1,"td"),r(2,"td"),c(3),a()()),n&2){let e=d().$implicit,i=d();o(3),Vt(" ",i.fieldsInfo.linkClientApplicationId==null?null:i.fieldsInfo.linkClientApplicationId.fieldTitle," : ",e.linkClientApplicationId," ")}}function od(n,s){if(n&1&&(r(0,"tr"),g(1,"td"),r(2,"td"),c(3),a()()),n&2){let e=d().$implicit,i=d();o(3),Vt(" ",i.fieldsInfo.linkSourcePathId==null?null:i.fieldsInfo.linkSourcePathId.fieldTitle," : ",e.linkSourcePathId," ")}}function rd(n,s){if(n&1&&(r(0,"tr"),g(1,"td"),r(2,"td"),c(3),g(4,"i",52),S(5,"boolclass"),a()()),n&2){let e=d().$implicit,i=d();o(3),_(" ",i.fieldsInfo.isRequested==null?null:i.fieldsInfo.isRequested.fieldTitle," : "),o(),f("ngClass",h(5,2,e.isRequested))}}function ad(n,s){n&1&&g(0,"i",54)}function ld(n,s){if(n&1&&(g(0,"i",52),S(1,"boolclass")),n&2){let e=d(2).$implicit;f("ngClass",h(1,1,e.isApproved))}}function sd(n,s){if(n&1&&(r(0,"tr"),g(1,"td"),r(2,"td"),c(3),v(4,ad,1,0,"i",54)(5,ld,2,3,"i",52),a()()),n&2){let e=d().$implicit,i=d();o(3),_(" ",i.fieldsInfo.isApproved==null?null:i.fieldsInfo.isApproved.fieldTitle," : "),o(),b(e.isApproved===null?4:5)}}function dd(n,s){if(n&1&&(r(0,"tr"),g(1,"td"),r(2,"td"),c(3),S(4,"localeDate"),a()()),n&2){let e=d().$implicit,i=d();o(3),Vt(" ",i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle," : ",h(4,2,e.fromDate)," ")}}function cd(n,s){if(n&1&&(r(0,"tr"),g(1,"td"),r(2,"td"),c(3),S(4,"localeDate"),a()()),n&2){let e=d().$implicit,i=d();o(3),Vt(" ",i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle," : ",h(4,2,e.expireDate)," ")}}function pd(n,s){if(n&1&&(r(0,"tr"),g(1,"td"),r(2,"td"),c(3),S(4,"localeDate"),a()()),n&2){let e=d().$implicit,i=d();o(3),Vt(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle," : ",h(4,2,e.createdDate)," ")}}function md(n,s){if(n&1&&(r(0,"tr"),g(1,"td"),r(2,"td"),c(3),S(4,"localeDate"),a()()),n&2){let e=d().$implicit,i=d();o(3),Vt(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle," : ",h(4,2,e.updatedDate)," ")}}function ud(n,s){if(n&1&&(r(0,"mat-cell")(1,"div")(2,"table"),v(3,nd,4,2,"tr"),v(4,od,4,2,"tr"),v(5,rd,6,4,"tr"),v(6,sd,6,2,"tr"),v(7,dd,5,4,"tr"),v(8,cd,5,4,"tr"),v(9,pd,5,4,"tr"),v(10,md,5,4,"tr"),r(11,"tr"),g(12,"td")(13,"td"),a()()()()),n&2){let e=s.$implicit;o(3),b(e.linkClientApplicationId?3:-1),o(),b(e.linkSourcePathId?4:-1),o(),b(e.isRequested!==null&&e.isRequested!==void 0?5:-1),o(),b(e.isApproved!==null&&e.isApproved!==void 0?6:-1),o(),b(e.fromDate?7:-1),o(),b(e.expireDate?8:-1),o(),b(e.createdDate?9:-1),o(),b(e.updatedDate?10:-1)}}function fd(n,s){n&1&&g(0,"mat-header-row")}function Sd(n,s){if(n&1){let e=P();r(0,"mat-row",59),I("click",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))}),a()}if(n&2){let e=s.$implicit,i=d();F("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function hd(n,s){if(n&1){let e=P();r(0,"mat-row",60),I("click",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=s.$implicit,i=d();F("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),f("ngStyle",xt(3,Ds,e.expanded===!0?"":"none"))}}var no=class no extends ct{constructor(e,i,t,l,C,p,k,Y,ke,Ke,We,it){super(e,new ri,We,p,Y);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=l;this.router=C;this.tokenHelper=p;this.cdr=k;this.translate=Y;this.cmsStoreService=ke;this.pageInfo=Ke;this.publicHelper=We;this.dialog=it;this.tableData=[];this.requestLinkClientApplicationId="";this.requestLinkSourcePathId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ae;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","linkClientApplicationId","linkSourcePathId","isRequested","isApproved","fromDate","expireDate","Action"];this.tabledisplayedColumnsMobileSource=["recordStatus","linkClientApplicationId","linkSourcePathId","isRequested","isApproved","fromDate","expireDate","Action"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Xt=>this.onSubmitOptionsSearch(Xt)},this.requestLinkClientApplicationId=this.activatedRoute.snapshot.paramMap.get("LinkClientApplicationId")||"",this.requestLinkClientApplicationId&&this.requestLinkClientApplicationId.length>0){let Xt=new J;Xt.propertyName="LinkClientApplicationId",Xt.value=this.requestLinkClientApplicationId,this.filteModelContent.filters.push(Xt)}if(this.requestLinkSourcePathId=this.activatedRoute.snapshot.paramMap.get("LinkSourcePathId")||"",this.requestLinkSourcePathId&&this.requestLinkSourcePathId.length>0){let Xt=new J;Xt.propertyName="LinkSourcePathId",Xt.value=this.requestLinkSourcePathId,this.filteModelContent.filters.push(Xt)}this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=re.Descending}ngOnInit(){if(this.requestLinkClientApplicationId=this.activatedRoute.snapshot.paramMap.get("LinkClientApplicationId")||"",this.requestLinkSourcePathId=this.activatedRoute.snapshot.paramMap.get("LinkSourcePathId")||"",this.filteModelContent.filters=this.filteModelContent.filters.filter(e=>e.propertyName!=="LinkClientApplicationId"&&e.propertyName!=="LinkSourcePathId"),this.requestLinkClientApplicationId&&this.requestLinkClientApplicationId.length>0){let e=new J;e.propertyName="LinkClientApplicationId",e.value=this.requestLinkClientApplicationId,this.filteModelContent.filters.push(e)}if(this.requestLinkSourcePathId&&this.requestLinkSourcePathId.length>0){let e=new J;e.propertyName="LinkSourcePathId",e.value=this.requestLinkSourcePathId,this.filteModelContent.filters.push(e)}this.unsubscribe.push(this.activatedRoute.paramMap.subscribe(e=>{let i=e.get("LinkClientApplicationId")||"",t=e.get("LinkSourcePathId")||"";if(i!==this.requestLinkClientApplicationId||t!==this.requestLinkSourcePathId){if(this.requestLinkClientApplicationId=i,this.requestLinkSourcePathId=t,this.filteModelContent.filters=this.filteModelContent.filters.filter(l=>l.propertyName!=="LinkClientApplicationId"&&l.propertyName!=="LinkSourcePathId"),this.requestLinkClientApplicationId&&this.requestLinkClientApplicationId.length>0){let l=new J;l.propertyName="LinkClientApplicationId",l.value=this.requestLinkClientApplicationId,this.filteModelContent.filters.push(l)}if(this.requestLinkSourcePathId&&this.requestLinkSourcePathId.length>0){let l=new J;l.propertyName="LinkSourcePathId",l.value=this.requestLinkSourcePathId,this.filteModelContent.filters.push(l)}this.filteModelContent.currentPageNumber=0,this.tokenInfo&&this.DataGetAll()}})),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Me(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ri);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,t.isSuccess?(this.tableData=t.listItems,this.tableSource.data=t.listItems,this.sort&&(this.tableSource.sort=this.sort),this.paginator&&(this.tableSource.paginator=this.paginator),this.tableSource.filter="",this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.direction==="asc"?(e.direction="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=re.Descending):this.tableSource.sort.direction==="desc"?(e.direction="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=re.Ascending):e.direction="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=re.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(eo,{height:"90%",panelClass:e,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{LinkClientApplicationId:this.requestLinkClientApplicationId,LinkSourcePathId:this.requestLinkSourcePathId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(io,{height:"90%",panelClass:i,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let C=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(C,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),C=new J;C.propertyName="recordStatus",C.value=nt.Available,l.filters.push(C),this.contentService.ServiceGetCount(l).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonDataRow(e,i){this.onActionButtonEditRow(e)}onActionbuttonExport(){var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Al,{height:"50%",enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,panelClass:e,data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(t=>{})}onActionbuttonPrintRow(e=this.tableRowSelected){if(this.tableRowSelected=e,!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){let i=this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow");this.cmsToastrService.typeErrorSelected(i);return}this.onActionTableRowSelect(e)}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionTableRowSelect(e,i=null){if(i&&i.preventDefault(),this.tableRowSelected=e,this.publicHelper.pageInfo.updateContentInfo(new El(e.id,e.title,e.viewContentHidden,"",e.urlViewContent)),this.tableRowSelected.id===e.id?e.expanded==!0?e.expanded=!1:e.expanded=!0:e.expanded=!1,i?.button===2){this.tableRowSelect2Click=!1,this.tableRowSelect3Click=!1,setTimeout(()=>{this.tableRowSelect2Click=!0,this.tableRowSelect3Click=!1},100);return}this.clickCount++,setTimeout(()=>{this.clickCount===1?(this.tableRowSelect2Click=!1,this.tableRowSelect3Click=!1):this.clickCount===2?(this.tableRowSelect2Click=!0,this.tableRowSelect3Click=!1):this.clickCount===3&&(this.tableRowSelect2Click=!1,this.tableRowSelect3Click=!0),this.clickCount=0},500)}onActionButtonMemo(e=this.tableRowSelected){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.cmsToastrService.typeErrorSelectedRow();return}this.onActionTableRowSelect(e)}onActionButtonMemoRow(e=this.tableRowSelected){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.cmsToastrService.typeErrorSelectedRow();return}this.onActionTableRowSelect(e)}};no.\u0275fac=function(i){return new(i||no)(M(Hi),M(G),M(Bt),M(Ot),M(Ue),M(He),M(N),M(O),M(Ge),M(lt),M(H),M(Oe))},no.\u0275cmp=L({type:no,selectors:[["app-data-provider-client-application-permission-list"]],viewQuery:function(i,t){if(i&1&&(U(Ne,5),U(Le,5)),i&2){let l;Q(l=z())&&(t.sort=l.first),Q(l=z())&&(t.paginator=l.first)}},standalone:!1,features:[q],decls:71,vars:32,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowDisplay","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkClientApplicationId"],["matColumnDef","linkSourcePathId"],["matColumnDef","isRequested"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","isApproved"],["matColumnDef","fromDate"],["matColumnDef","expireDate"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["mat-sort-header","",1,"form-label"],[1,"fa","fa-question-circle","text-warning"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["mat-menu-item",""],["mat-menu-item","",3,"click"],[1,"ntk-row-mainfild",3,"click","rtclick"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let l=P();r(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(p){return m(l),w(t.viewGuideNotice,p)||(t.viewGuideNotice=p),u(p)}),I("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionbuttonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionbuttonPrintRow())}),T(1,4),c(2," -------------------------------------- "),A(),Je(3,5)(4,6),T(5,7),r(6,"a",8),I("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),g(7,"i",9),a(),r(8,"a",8),I("click",function(){return m(l),u(t.onActionButtonReload())}),g(9,"i",10),a(),A(),T(10,11),r(11,"a",12),I("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(12,"mat-slide-toggle",13),c(13),S(14,"translate"),a(),r(15,"a",12),I("click",function(){return m(l),u(t.onActionButtonStatist())}),g(16,"mat-slide-toggle",13),c(17),S(18,"translate"),a(),A(),T(19,14),v(20,ys,7,3,"div",15),A(),T(21,16),v(22,Ts,7,3,"div",15),v(23,As,7,3,"div",15),A(),T(24,17),r(25,"app-cms-search-list",18),D("optionsChange",function(p){return m(l),w(t.optionsSearch,p)||(t.optionsSearch=p),u(p)}),a(),r(26,"app-cms-statist-list",18),D("optionsChange",function(p){return m(l),w(t.optionsStatist,p)||(t.optionsStatist=p),u(p)}),a(),A(),T(27,19),r(28,"mat-table",20,0),I("matSortChange",function(){m(l);let p=R(29);return u(t.onTableSortData(p))}),T(30,21),V(31,xs,2,1,"mat-header-cell",22)(32,Rs,2,1,"mat-cell",23),A(),T(33,24),V(34,ks,2,1,"mat-header-cell",22)(35,Ls,4,6,"mat-cell",25),A(),T(36,26),V(37,Vs,2,1,"mat-header-cell",22)(38,Bs,2,1,"mat-cell",23),A(),T(39,27),V(40,Fs,2,1,"mat-header-cell",22)(41,Os,2,1,"mat-cell",23),A(),T(42,28),V(43,Ns,2,1,"mat-header-cell",29)(44,Gs,3,3,"mat-cell",23),A(),T(45,30),V(46,Hs,2,1,"mat-header-cell",29)(47,js,3,1,"mat-cell",23),A(),T(48,31),V(49,Us,2,1,"mat-header-cell",22)(50,Qs,3,3,"mat-cell",23),A(),T(51,32),V(52,zs,2,1,"mat-header-cell",22)(53,Ks,3,3,"mat-cell",23),A(),T(54,33),V(55,Js,2,1,"mat-header-cell",22)(56,Xs,3,3,"mat-cell",23),A(),T(57,34),V(58,Ys,2,1,"mat-header-cell",22)(59,Zs,3,3,"mat-cell",23),A(),T(60,35),V(61,$s,3,3,"mat-header-cell",36)(62,id,8,3,"mat-cell",37),A(),T(63,38),V(64,ud,14,8,"mat-cell",23),A(),V(65,fd,1,0,"mat-header-row",39)(66,Sd,1,2,"mat-row",40)(67,hd,1,5,"mat-row",41),a(),A(),T(68,42),r(69,"mat-paginator",43,1),I("page",function(p){return m(l),u(t.onTablePageingData(p))}),a(),A(),a()}i&2&&(f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowDisplay",(t.tableRowSelected==null||t.tableRowSelected.linkSourcePathId==null?null:t.tableRowSelected.linkSourcePathId.length)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null?null:t.tableRowSelected.linkSourcePathId)+" - "+(t.tableRowSelected==null?null:t.tableRowSelected.linkClientApplicationId)),o(9),F("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),f("checked",t.optionsSearch.data.show),o(),_("",h(14,26,"ACTION.SEARCH")," "),o(3),f("checked",t.optionsStatist.data.show),o(),_("",h(18,28,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),f("dataSource",t.tableSource),o(37),f("matHeaderRowDef",t.tabledisplayedColumns),o(),f("matRowDefColumns",t.tabledisplayedColumns),o(),f("matRowDefColumns",qe(30,Es)),o(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",qe(31,ws)))},dependencies:[De,Wt,Qe,je,ht,Nr,Ct,Le,_t,Ne,Xe,gt,Ze,vt,$e,Ye,bt,et,tt,Mt,It,we,pt,Pt,Dt,B,on,ye,zi,Pl],encapsulation:2});var an=no;var Cd=(n,s)=>s.id;function _d(n,s){if(n&1){let e=P();r(0,"div",9)(1,"app-cms-search-list",14),D("optionsChange",function(t){m(e);let l=d();return w(l.optionsSearch,t)||(l.optionsSearch=t),u(t)}),a()()}if(n&2){let e=d();o(),E("options",e.optionsSearch)}}function gd(n,s){n&1&&(r(0,"span"),c(1),S(2,"translate"),a()),n&2&&(o(),y(h(2,1,"MESSAGE.Requested")))}function vd(n,s){if(n&1&&(r(0,"span"),c(1),S(2,"translate"),S(3,"translate"),a()),n&2){let e=d().$implicit;o(),_(" | ",e.isApproved?h(2,1,"MESSAGE.Approved"):h(3,3,"MESSAGE.Rejected"))}}function bd(n,s){if(n&1&&(r(0,"span"),c(1),S(2,"date"),a()),n&2){let e=d().$implicit;o(),_(" | ",kt(2,1,e.fromDate,"yyyy-MM-dd"))}}function Md(n,s){if(n&1&&(r(0,"span"),c(1),S(2,"date"),a()),n&2){let e=d().$implicit;o(),_(" - ",kt(2,1,e.expireDate,"yyyy-MM-dd"))}}function Id(n,s){if(n&1){let e=P();r(0,"button",6),I("click",function(t){m(e);let l=d().$implicit;return d(2).onActionButtonEditRow(l),u(t.stopPropagation())}),g(1,"i",22),a()}}function Pd(n,s){if(n&1){let e=P();r(0,"button",6),I("click",function(t){m(e);let l=d().$implicit;return d(2).onActionButtonDeleteRow(l),u(t.stopPropagation())}),g(1,"i",23),a()}}function Ed(n,s){if(n&1){let e=P();r(0,"div",16),I("click",function(t){let l=m(e).$implicit,C=d(2);return u(C.onActionTableRowSelect(l,t))}),r(1,"div",17)(2,"div",18),c(3),a(),r(4,"div",19),v(5,gd,3,3,"span"),v(6,vd,4,5,"span"),v(7,bd,3,4,"span"),v(8,Md,3,4,"span"),a()(),r(9,"div",20),v(10,Id,2,0,"button",21),v(11,Pd,2,0,"button",21),a()()}if(n&2){let e=s.$implicit,i=d(2);F("selected",(i.tableRowSelected==null?null:i.tableRowSelected.id)===e.id),o(3),Vt(" ",e.linkClientApplicationId," - ",e.linkSourcePathId," "),o(2),b(e.isRequested?5:-1),o(),b(e.isApproved!==null?6:-1),o(),b(e.fromDate?7:-1),o(),b(e.expireDate?8:-1),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?10:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow?11:-1)}}function wd(n,s){if(n&1&&(r(0,"div",11),Te(1,Ed,12,10,"div",15,Cd),a()),n&2){let e=d();o(),Ae(e.tableData)}}function Dd(n,s){n&1&&(r(0,"div",12),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"MESSAGE.No_Data")," "))}function yd(n,s){if(n&1){let e=P();r(0,"div",13)(1,"button",24),S(2,"translate"),I("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(3,"i",25),a()()}n&2&&(o(),j("aria-label",h(2,1,"ACTION.ADD")))}var gn=class gn extends an{};gn.\u0275fac=(()=>{let s;return function(i){return(s||(s=Et(gn)))(i||gn)}})(),gn.\u0275cmp=L({type:gn,selectors:[["app-data-provider-client-application-permission-list-mobile"]],standalone:!1,features:[q],decls:19,vars:17,consts:[[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],[1,"cms-m-header-title"],[1,"cms-m-header-actions"],["type","button",1,"cms-m-header-action-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-magnifying-glass"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],[1,"cms-m-search-area"],[1,"cms-m-content"],[1,"cms-m-list"],[1,"cms-m-empty"],[1,"cms-m-fab"],[3,"optionsChange","options"],[1,"cms-m-list-item",3,"selected"],[1,"cms-m-list-item",3,"click"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-actions"],["type","button",1,"cms-m-header-action-btn"],["aria-hidden","true",1,"fa-solid","fa-pen"],["aria-hidden","true",1,"fa-solid","fa-trash"],["type","button",1,"cms-m-fab-button",3,"click"],["aria-hidden","true",1,"fa-solid","fa-plus"]],template:function(e,i){e&1&&(r(0,"div",0),g(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"h1",4),c(5),S(6,"translate"),a(),r(7,"div",5)(8,"button",6),S(9,"translate"),I("click",function(){return i.optionsSearch.data.show=!i.optionsSearch.data.show}),g(10,"i",7),a(),r(11,"button",6),S(12,"translate"),I("click",function(){return i.onActionButtonReload()}),g(13,"i",8),a()()()(),v(14,_d,2,1,"div",9),r(15,"div",10),v(16,wd,3,0,"div",11)(17,Dd,3,3,"div",12),a(),v(18,yd,4,3,"div",13),a()),e&2&&(o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(4),_(" ",h(6,11,"ROUTE.DATAPROVIDER.CLIENTAPPLICATIONPERMISSION")," "),o(3),F("active",i.optionsSearch.data.show),j("aria-label",h(9,13,"ACTION.SEARCH")),o(3),j("aria-label",h(12,15,"ACTION.RELOAD")),o(2),F("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),o(),b(i.optionsSearch.data.show?14:-1),o(2),b(i.tableData&&i.tableData.length>0?16:17),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow?18:-1))},dependencies:[we,W,On,B],styles:[".cms-m-body[_ngcontent-%COMP%]{min-height:100vh;background:var(--cms-m-bg, #0f172a);color:var(--cms-m-fg, #e2e8f0)}.cms-m-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2;background:var(--cms-m-header-bg, #0f172a);border-bottom:1px solid rgba(255,255,255,.08)}.cms-m-header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 16px}.cms-m-header-title[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:var(--cms-m-accent, #38bdf8)}.cms-m-header-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-left:auto}.cms-m-header-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:#ffffff0d;color:#e2e8f0;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.cms-m-header-action-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.cms-m-header-action-btn.active[_ngcontent-%COMP%]{background:#38bdf833;border-color:#38bdf866}.cms-m-header-action-btn[_ngcontent-%COMP%]   i.rotation360[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotation360 1s linear infinite}@keyframes _ngcontent-%COMP%_rotation360{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.cms-m-search-area[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px 16px}.cms-m-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.cms-m-list-item[_ngcontent-%COMP%]{display:flex;gap:12px;padding:12px;border-radius:14px;background:#ffffff0a;border:1px solid rgba(255,255,255,.06);cursor:pointer;transition:all .2s ease}.cms-m-list-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.cms-m-list-item.selected[_ngcontent-%COMP%]{border-color:var(--cms-m-accent, #38bdf8);box-shadow:0 0 0 1px #38bdf84d}.cms-m-list-item-content[_ngcontent-%COMP%]{flex:1;min-width:0}.cms-m-list-item-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:4px;font-size:14px}.cms-m-list-item-subtitle[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8}.cms-m-list-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0;gap:8px}.cms-m-empty[_ngcontent-%COMP%]{padding:24px;text-align:center;color:#94a3b8}.cms-m-fab[_ngcontent-%COMP%]{position:fixed;bottom:24px;right:24px;z-index:10}.cms-m-fab-button[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:50%;background:var(--cms-m-accent, #38bdf8);color:#fff;border:none;box-shadow:0 4px 12px #0000004d;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.cms-m-fab-button[_ngcontent-%COMP%]:active{transform:scale(.95)}.cms-m-fab-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px}"]});var oo=gn;var Ad=["vform"];function xd(n,s){if(n&1){let e=P();r(0,"app-cms-enum-record-status-selector",23),D("modelChange",function(t){m(e);let l=d();return w(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=d();E("model",e.dataModel.recordStatus),f("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Rd(n,s){n&1&&g(0,"i",17)}function kd(n,s){n&1&&g(0,"i",18)}function Ld(n,s){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function Vd(n,s){if(n&1){let e=P();r(0,"app-cms-user-selector",24),S(1,"translate"),I("optionChange",function(t){m(e);let l=d();return u(l.onActionSelectorUser(t))}),a()}if(n&2){let e=d();f("optionSelectForce",e.dataModel.linkCoreUserId)("optionPlaceholder",h(1,4,"TITLE.USER"))("optionDisabled",!((e.fieldsInfo.linkCoreUserId==null?null:e.fieldsInfo.linkCoreUserId.accessEditField)??!1))("optionLabel",e.fieldsInfo.linkCoreUserId==null?null:e.fieldsInfo.linkCoreUserId.fieldTitle)}}function Bd(n,s){if(n&1){let e=P();r(0,"div",20)(1,"label",25),c(2),a(),r(3,"input",26),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.fromDate,t)||(l.dataModel.fromDate=t),u(t)}),a(),g(4,"mat-datepicker-toggle",27)(5,"mat-datepicker",28,2),a()}if(n&2){let e=R(6),i=d();o(2),y(i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle),o(),f("matDatepicker",e),E("ngModel",i.dataModel.fromDate),f("disabled",!(i.fieldsInfo.fromDate!=null&&i.fieldsInfo.fromDate.accessEditField)),o(),f("for",e),o(),f("calendarHeaderComponent",i.datapickerHeader)}}function Fd(n,s){if(n&1){let e=P();r(0,"div",20)(1,"label",29),c(2),a(),r(3,"input",30),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.expireDate,t)||(l.dataModel.expireDate=t),u(t)}),a(),g(4,"mat-datepicker-toggle",27)(5,"mat-datepicker",28,3),a()}if(n&2){let e=R(6),i=d();o(2),y(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),f("matDatepicker",e),E("ngModel",i.dataModel.expireDate),f("disabled",!(i.fieldsInfo.expireDate!=null&&i.fieldsInfo.expireDate.accessEditField)),o(),f("for",e),o(),f("calendarHeaderComponent",i.datapickerHeader)}}function Od(n,s){if(n&1){let e=P();r(0,"div",14)(1,"label",31),c(2),a(),r(3,"textarea",32,4),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.description,t)||(l.dataModel.description=t),u(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=R(4),i=d();o(2),y(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),f("placeholder",x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),E("ngModel",i.dataModel.description),f("disabled",!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessEditField)),o(3),_("",(e.value==null?null:e.value.length)||0," / 500")}}function Nd(n,s){if(n&1){let e=P();r(0,"div",14)(1,"label",33),c(2),a(),r(3,"input",34,5),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.apiKey,t)||(l.dataModel.apiKey=t),u(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=R(4),i=d();o(2),y(i.fieldsInfo.apiKey==null?null:i.fieldsInfo.apiKey.fieldTitle),o(),f("placeholder",x(i.fieldsInfo.apiKey==null?null:i.fieldsInfo.apiKey.fieldTitle)),E("ngModel",i.dataModel.apiKey),f("disabled",!(i.fieldsInfo.apiKey!=null&&i.fieldsInfo.apiKey.accessEditField)),o(3),_("",(e.value==null?null:e.value.length)||0," / 500")}}function Gd(n,s){if(n&1){let e=P();r(0,"span",42),c(1),r(2,"i",43),I("click",function(){let t=m(e).$implicit,l=d(3);return u(l.onActionRemoveFirewallIP(t))}),a()()}if(n&2){let e=s.$implicit;o(),_(" ",e," ")}}function Hd(n,s){if(n&1&&(r(0,"div",41),Te(1,Gd,3,1,"span",42,Tr),a()),n&2){let e=d(2);o(),Ae(e.dataModel.firewallAllowIPList)}}function Wd(n,s){if(n&1){let e=P();r(0,"div",21)(1,"div",35)(2,"label",36),c(3),a(),r(4,"div",37)(5,"input",38,6),D("ngModelChange",function(t){m(e);let l=d();return w(l.firewallAllowIPInput,t)||(l.firewallAllowIPInput=t),u(t)}),a(),r(7,"button",39),I("click",function(){m(e);let t=d();return u(t.onActionAddFirewallIP())}),g(8,"i",40),a()()(),v(9,Hd,3,0,"div",41),a()}if(n&2){let e=d();o(3),y(e.fieldsInfo.firewallAllowIP==null?null:e.fieldsInfo.firewallAllowIP.fieldTitle),o(2),f("placeholder",x(e.fieldsInfo.firewallAllowIP==null?null:e.fieldsInfo.firewallAllowIP.fieldTitle)),E("ngModel",e.firewallAllowIPInput),f("disabled",!(e.fieldsInfo.firewallAllowIP!=null&&e.fieldsInfo.firewallAllowIP.accessEditField)),o(2),f("disabled",!e.firewallAllowIPInput||e.firewallAllowIPInput.length===0),o(2),b(e.dataModel.firewallAllowIPList&&e.dataModel.firewallAllowIPList.length>0?9:-1)}}function qd(n,s){if(n&1){let e=P();r(0,"div",22)(1,"button",44),I("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",45),c(3),S(4,"translate"),a(),r(5,"button",46),g(6,"i",47),c(7),S(8,"translate"),a()()}if(n&2){d();let e=R(10);o(3),_(" ",h(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!e.form.valid),o(2),_(" ",h(8,5,"ACTION.SAVE")," ")}}var ro=class ro extends st{constructor(e,i,t,l,C,p,k,Y){super(l,new oi,p,Y);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderClientApplicationService=l;this.cmsToastrService=C;this.publicHelper=p;this.cdr=k;this.translate=Y;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Z;this.dataModel=new oi;this.fileManagerOpenForm=!1;this.firewallAllowIPInput="";this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&e.linkUserId&&+e.linkUserId>0&&(this.dataModel.linkCoreUserId=+e.linkUserId)}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderClientApplicationService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0,Id:i.item.id})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorUser(e){if(!e||!e.id){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorSite(e){if(!e||!e.id){this.dataModel.linkSiteId=null;return}this.dataModel.linkSiteId=e.id}validateIPFormat(e){if(!e||e.trim().length===0)return!1;let i=/^(\d{1,3}\.){3}\d{1,3}$/,t=/^(\d{1,3}\.){3}\d{1,3}\/\d{1,2}$/,l=/^(\d{1,3}\.){3}\d{1,3}-(\d{1,3}\.){3}\d{1,3}$/;if(i.test(e))return e.split(".").every(p=>parseInt(p,10)>=0&&parseInt(p,10)<=255);if(t.test(e)){let[C,p]=e.split("/"),k=parseInt(p,10);return k<0||k>32?!1:C.split(".").every(ke=>parseInt(ke,10)>=0&&parseInt(ke,10)<=255)}if(l.test(e)){let[C,p]=e.split("-"),k=C.split("."),Y=p.split("."),ke=k.every(We=>parseInt(We,10)>=0&&parseInt(We,10)<=255),Ke=Y.every(We=>parseInt(We,10)>=0&&parseInt(We,10)<=255);return ke&&Ke}return!1}onActionAddFirewallIP(){if(!this.firewallAllowIPInput||this.firewallAllowIPInput.trim().length===0)return;let e=this.firewallAllowIPInput.trim();if(!this.validateIPFormat(e)){this.translate.get("ERRORMESSAGE.MESSAGE.Invalid_IP_Format").subscribe(i=>{this.cmsToastrService.typeErrorMessage(i||"Invalid IP format")});return}this.dataModel.firewallAllowIPList||(this.dataModel.firewallAllowIPList=[]),this.dataModel.firewallAllowIPList.includes(e)||(this.dataModel.firewallAllowIPList=[...this.dataModel.firewallAllowIPList,e]),this.firewallAllowIPInput=""}onActionRemoveFirewallIP(e){if(!this.dataModel.firewallAllowIPList)return;this.dataModel.firewallAllowIPList.indexOf(e)>-1&&(this.dataModel.firewallAllowIPList=this.dataModel.firewallAllowIPList.filter(t=>t!==e))}};ro.\u0275fac=function(i){return new(i||ro)(M(se),M(le),M(ne),M(Gi),M(G),M(H),M(N),M(O))},ro.\u0275cmp=L({type:ro,selectors:[["app-data-provider-client-application-add"]],viewQuery:function(i,t){if(i&1&&U(Ad,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:29,vars:22,consts:[["vform","ngForm"],["Title",""],["FromDate",""],["ExpireDate",""],["Description",""],["ApiKey",""],["FirewallAllowIPInput",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionSelectForce","optionPlaceholder","optionDisabled","optionLabel"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"mb-4"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled","optionLabel"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","disabled"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.apiKey",1,"color-highlight"],["matInput","","type","text","name","dataModel.apiKey","id","dataModel.apiKey",1,"form-control","validate-name","input-ltr",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field"],["for","firewallAllowIPInput",1,"color-highlight"],[1,"d-flex"],["matInput","","type","text","name","firewallAllowIPInput","id","firewallAllowIPInput",1,"form-control","validate-name","input-ltr",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"click","disabled"],[1,"fa","fa-plus"],[1,"d-flex","flex-wrap","mt-2",2,"gap","0.5rem"],[1,"badge","bg-info","d-inline-flex","align-items-center","font-13"],[1,"fa","fa-times","ms-2",2,"cursor","pointer",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();r(0,"div",7),g(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),a(),r(5,"p"),c(6),S(7,"translate"),a(),g(8,"app-cms-form-result-message",11),r(9,"form",12,0),I("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(11,xd,1,5,"app-cms-enum-record-status-selector",13),r(12,"div",14)(13,"label",15),c(14),a(),r(15,"input",16,1),D("ngModelChange",function(p){return m(l),w(t.dataModel.title,p)||(t.dataModel.title=p),u(p)}),a(),v(17,Rd,1,0,"i",17),v(18,kd,1,0,"i",18),r(19,"em"),c(20),a(),v(21,Ld,5,3,"mat-error"),a(),v(22,Vd,2,6,"app-cms-user-selector",19),v(23,Bd,7,6,"div",20),v(24,Fd,7,6,"div",20),v(25,Od,7,6,"div",14),v(26,Nd,7,6,"div",14),v(27,Wd,10,7,"div",21),v(28,qd,9,7,"div",22),a()()()}if(i&2){let l=R(16);o(),f("optionsInfoAreaId",t.constructorInfoAreaId),o(3),_(" ",t.formInfo.formTitle," "),o(2),_(" ",h(7,20,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(3),y(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),f("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.title),o(2),b(l.value?-1:17),o(),b(l.value?18:-1),o(2),_("",l.value.length," / 100"),o(),b(l.errors!=null&&l.errors.required?21:-1),o(),b(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessWatchField?22:-1),o(),b(t.fieldsInfo.fromDate!=null&&t.fieldsInfo.fromDate.accessWatchField?23:-1),o(),b(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessWatchField?24:-1),o(),b(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?25:-1),o(),b(t.fieldsInfo.apiKey!=null&&t.fieldsInfo.apiKey.accessWatchField?26:-1),o(),b(t.fieldsInfo.firewallAllowIP!=null&&t.fieldsInfo.firewallAllowIP.accessWatchField?27:-1),o(),b(t.formInfo.submitButtonEnabled?28:-1)}},dependencies:[_e,ee,te,he,Ie,Pe,Ee,ce,Ce,ji,Ui,Qi,Fe,wi,K,ve,Hr,W,fe,B],encapsulation:2});var Kr=ro;var jd=["vform"],Ud=(n,s)=>s.id;function Qd(n,s){if(n&1){let e=P();r(0,"app-cms-enum-record-status-selector",30),D("modelChange",function(t){m(e);let l=d();return w(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=d();E("model",e.dataModel.recordStatus),f("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function zd(n,s){n&1&&g(0,"i",33)}function Kd(n,s){n&1&&g(0,"i",34)}function Jd(n,s){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function Xd(n,s){if(n&1){let e=P();r(0,"div",15)(1,"label",31),c(2),a(),r(3,"input",32,1),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.title,t)||(l.dataModel.title=t),u(t)}),a(),v(5,zd,1,0,"i",33),v(6,Kd,1,0,"i",34),r(7,"em"),c(8),a(),v(9,Jd,5,3,"mat-error"),a()}if(n&2){let e=R(4),i=d();o(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),f("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),f("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),b(e.value?-1:5),o(),b(e.value?6:-1),o(2),_("",e.value.length," / 100"),o(),b(e.errors!=null&&e.errors.required?9:-1)}}function Yd(n,s){if(n&1){let e=P();r(0,"app-cms-user-selector",35),S(1,"translate"),I("optionChange",function(t){m(e);let l=d();return u(l.onActionSelectorUser(t))}),a()}if(n&2){let e=d();f("optionSelectForce",e.dataModel.linkCoreUserId)("optionPlaceholder",h(1,4,"TITLE.USER"))("optionDisabled",!((e.fieldsInfo.linkCoreUserId==null?null:e.fieldsInfo.linkCoreUserId.accessEditField)??!1))("optionLabel",e.fieldsInfo.linkCoreUserId==null?null:e.fieldsInfo.linkCoreUserId.fieldTitle)}}function Zd(n,s){if(n&1){let e=P();r(0,"app-cms-site-selector",35),S(1,"translate"),I("optionChange",function(t){m(e);let l=d();return u(l.onActionSelectorSite(t))}),a()}if(n&2){let e=d();f("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",h(1,4,"TITLE.SITE"))("optionDisabled",!((e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.accessEditField)??!1))("optionLabel",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle)}}function $d(n,s){if(n&1){let e=P();r(0,"div",17)(1,"label",36),c(2),a(),r(3,"input",37),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.fromDate,t)||(l.dataModel.fromDate=t),u(t)}),a(),g(4,"mat-datepicker-toggle",38)(5,"mat-datepicker",39,2),a()}if(n&2){let e=R(6),i=d();o(2),y(i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle),o(),f("matDatepicker",e),E("ngModel",i.dataModel.fromDate),f("disabled",!(i.fieldsInfo.fromDate!=null&&i.fieldsInfo.fromDate.accessEditField)),o(),f("for",e),o(),f("calendarHeaderComponent",i.datapickerHeader)}}function ec(n,s){if(n&1){let e=P();r(0,"div",17)(1,"label",40),c(2),a(),r(3,"input",41),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.expireDate,t)||(l.dataModel.expireDate=t),u(t)}),a(),g(4,"mat-datepicker-toggle",38)(5,"mat-datepicker",39,3),a()}if(n&2){let e=R(6),i=d();o(2),y(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),f("matDatepicker",e),E("ngModel",i.dataModel.expireDate),f("disabled",!(i.fieldsInfo.expireDate!=null&&i.fieldsInfo.expireDate.accessEditField)),o(),f("for",e),o(),f("calendarHeaderComponent",i.datapickerHeader)}}function tc(n,s){if(n&1){let e=P();r(0,"div",15)(1,"label",42),c(2),a(),r(3,"textarea",43,4),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.description,t)||(l.dataModel.description=t),u(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=R(4),i=d();o(2),y(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),f("placeholder",x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),E("ngModel",i.dataModel.description),f("disabled",!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessEditField)),o(3),_("",(e.value==null?null:e.value.length)||0," / 500")}}function ic(n,s){if(n&1){let e=P();r(0,"div",15)(1,"label",44),c(2),a(),r(3,"input",45,5),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.apiKey,t)||(l.dataModel.apiKey=t),u(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=R(4),i=d();o(2),y(i.fieldsInfo.apiKey==null?null:i.fieldsInfo.apiKey.fieldTitle),o(),f("placeholder",x(i.fieldsInfo.apiKey==null?null:i.fieldsInfo.apiKey.fieldTitle)),E("ngModel",i.dataModel.apiKey),f("disabled",!(i.fieldsInfo.apiKey!=null&&i.fieldsInfo.apiKey.accessEditField)),o(3),_("",(e.value==null?null:e.value.length)||0," / 500")}}function nc(n,s){if(n&1){let e=P();r(0,"span",53),c(1),r(2,"i",54),I("click",function(){let t=m(e).$implicit,l=d(3);return u(l.onActionRemoveFirewallIP(t))}),a()()}if(n&2){let e=s.$implicit;o(),_(" ",e," ")}}function oc(n,s){if(n&1&&(r(0,"div",52),Te(1,nc,3,1,"span",53,Tr),a()),n&2){let e=d(2);o(),Ae(e.dataModel.firewallAllowIPList)}}function rc(n,s){if(n&1){let e=P();r(0,"div",18)(1,"div",46)(2,"label",47),c(3),a(),r(4,"div",48)(5,"input",49,6),D("ngModelChange",function(t){m(e);let l=d();return w(l.firewallAllowIPInput,t)||(l.firewallAllowIPInput=t),u(t)}),a(),r(7,"button",50),I("click",function(){m(e);let t=d();return u(t.onActionAddFirewallIP())}),g(8,"i",51),a()()(),v(9,oc,3,0,"div",52),a()}if(n&2){let e=d();o(3),y(e.fieldsInfo.firewallAllowIP==null?null:e.fieldsInfo.firewallAllowIP.fieldTitle),o(2),f("placeholder",x(e.fieldsInfo.firewallAllowIP==null?null:e.fieldsInfo.firewallAllowIP.fieldTitle)),E("ngModel",e.firewallAllowIPInput),f("disabled",!(e.fieldsInfo.firewallAllowIP!=null&&e.fieldsInfo.firewallAllowIP.accessEditField)),o(2),f("disabled",!e.firewallAllowIPInput||e.firewallAllowIPInput.length===0),o(2),b(e.dataModel.firewallAllowIPList&&e.dataModel.firewallAllowIPList.length>0?9:-1)}}function ac(n,s){if(n&1&&(r(0,"small",22),c(1),S(2,"translate"),a()),n&2){let e=d();o(),Vt(" ",e.sourcePathList.length," ",h(2,2,"MESSAGE.Item")," ")}}function lc(n,s){n&1&&(r(0,"div",27),g(1,"i",55),r(2,"p",56),c(3),S(4,"translate"),a()()),n&2&&(o(3),_(" ",h(4,1,"MESSAGE.Receiving_information")," "))}function sc(n,s){n&1&&(r(0,"th",60),c(1),S(2,"translate"),a(),r(3,"th"),c(4),S(5,"translate"),a(),r(6,"th"),c(7),S(8,"translate"),a(),r(9,"th"),c(10),S(11,"translate"),a()),n&2&&(o(),_(" ",h(2,4,"TITLE.IsApproved")," "),o(3),y(h(5,6,"TITLE.FromDate")),o(3),y(h(8,8,"TITLE.ExpireDate")),o(3),y(h(11,10,"TITLE.Description")))}function dc(n,s){if(n&1&&(g(0,"br"),r(1,"small",22),c(2),a()),n&2){let e=d().$implicit;o(2),y(e.title)}}function cc(n,s){if(n&1){let e=P();r(0,"td",60)(1,"input",64),I("change",function(){m(e),d();let t=Cn(0),l=d(2);return u(l.onToggleIsApproved(t))}),a()(),r(2,"td")(3,"div",17)(4,"app-input-date",65),D("modelChange",function(t){m(e),d();let l=Cn(0);return w(l.fromDate,t)||(l.fromDate=t),u(t)}),c(5),S(6,"translate"),a()()(),r(7,"td")(8,"div",17)(9,"app-input-date",65),D("modelChange",function(t){m(e),d();let l=Cn(0);return w(l.expireDate,t)||(l.expireDate=t),u(t)}),c(10),S(11,"translate"),a()()(),r(12,"td")(13,"textarea",66),S(14,"translate"),D("ngModelChange",function(t){m(e),d();let l=Cn(0);return w(l.description,t)||(l.description=t),u(t)}),a()()}if(n&2){let e=d().$implicit,i=Cn(0);o(),f("checked",i.isApproved===!0)("name","isApproved_"+e.id)("indeterminate",i.isApproved===null),o(3),E("model",i.fromDate),f("optionDisabled",!1)("optionRequired",!1),o(),_(" ",h(6,15,"TITLE.FromDate")," "),o(4),E("model",i.expireDate),f("optionDisabled",!1)("optionRequired",!1),o(),_(" ",h(11,17,"TITLE.ExpireDate")," "),o(3),f("placeholder",x(h(14,19,"TITLE.Description"))),E("ngModel",i.description),f("name","description_"+e.id)}}function pc(n,s){if(n&1){let e=P();La(0),r(1,"tr")(2,"td")(3,"code"),c(4),a(),v(5,dc,3,1),a(),r(6,"td",60)(7,"input",63),D("ngModelChange",function(t){m(e);let l=Cn(0);return w(l.isRequested,t)||(l.isRequested=t),u(t)}),a()(),v(8,cc,15,21),a()}if(n&2){let e=s.$implicit,i=d(2),t=Va(i.getPermissionForSourcePath(e.id));o(4),y(e.id),o(),b(e.title?5:-1),o(2),E("ngModel",t.isRequested),f("name","isRequested_"+e.id),o(),b(i.tokenHelper.isAdminSite?8:-1)}}function mc(n,s){if(n&1){let e=P();r(0,"div",57)(1,"table",58)(2,"thead",59)(3,"tr")(4,"th"),c(5),S(6,"translate"),a(),r(7,"th",60),c(8),S(9,"translate"),a(),v(10,sc,12,12),a()(),r(11,"tbody"),Te(12,pc,9,6,"tr",null,Ud),a()()(),r(14,"div",61)(15,"button",62),I("click",function(){m(e);let t=d();return u(t.onActionSavePermissionChanges())}),g(16,"i",26),c(17),S(18,"translate"),a()()}if(n&2){let e=d();o(5),y(h(6,4,"TITLE.SourcePath")),o(3),_(" ",h(9,6,"TITLE.IsRequested")," "),o(2),b(e.tokenHelper.isAdminSite?10:-1),o(2),Ae(e.sourcePathList),o(5),_(" ",h(18,8,"ACTION.SAVE")," ")}}function uc(n,s){n&1&&(r(0,"div",28),g(1,"i",67),r(2,"p",21),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.no_information")))}function fc(n,s){if(n&1){let e=P();r(0,"div",29)(1,"button",68),I("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",69),c(3),S(4,"translate"),a(),r(5,"button",70),g(6,"i",71),c(7),S(8,"translate"),a()()}if(n&2){d();let e=R(10);o(3),_(" ",h(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!e.form.valid),o(2),_(" ",h(8,5,"ACTION.SAVE")," ")}}var ao=class ao extends dt{constructor(e,i,t,l,C,p,k,Y,ke,Ke,We,it,Xt,Fn){super(l,new oi,ke,it);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderClientApplicationService=l;this.dataProviderSourcePathService=C;this.dataProviderClientApplicationPermissionService=p;this.cmsToastrService=k;this.cmsConfirmationDialogService=Y;this.publicHelper=ke;this.cdr=Ke;this.cmsStoreService=We;this.translate=it;this.tokenHelper=Xt;this.dialog=Fn;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.unsubscribe=[];this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ot;this.dataModel=new oi;this.fileManagerOpenForm=!1;this.firewallAllowIPInput="";this.datapickerHeader=Jn;this.permissionDataModelResult=new Z;this.permissionTableData=[];this.permissionTableRowSelected=new ri;this.permissionFilterModel=new ae;this.permissionLoading=!1;this.sourcePathList=[];this.sourcePathListLoading=!1;this.sourcePathPermissionMap=new Map;this.permissionChanges=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id||""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(hn=>hn.tokenInfoStore).subscribe(hn=>Me(this,null,function*(){this.tokenInfo=hn})))}ngOnInit(){if(this.requestId?.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(this.requestId?.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderClientApplicationService.setAccessLoad(),this.dataProviderClientApplicationService.setAccessDataType(Re.Editor),this.dataProviderClientApplicationService.ServiceGetOneById(this.requestId).subscribe({next:i=>{if(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,this.dataModel.firewallAllowIPList=[],this.dataModel.firewallAllowIP&&this.dataModel.firewallAllowIP.length>0){let t=this.dataModel.firewallAllowIP.split(",").map(l=>l.trim()).filter(l=>l.length>0);this.dataModel.firewallAllowIPList=[...t]}i.isSuccess?(this.DataGetAllSourcePaths(),this.DataGetAllPermission(),this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}syncFirewallAllowIPFromList(){this.dataModel.firewallAllowIPList&&this.dataModel.firewallAllowIPList.length>0?this.dataModel.firewallAllowIP=this.dataModel.firewallAllowIPList.join(","):this.dataModel.firewallAllowIP=""}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.syncFirewallAllowIPFromList(),this.dataProviderClientApplicationService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorUser(e){if(!e||!e.id){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorSite(e){if(!e||!e.id){this.dataModel.linkSiteId=null;return}this.dataModel.linkSiteId=e.id}validateIPFormat(e){if(!e||e.trim().length===0)return!1;let i=/^(\d{1,3}\.){3}\d{1,3}$/,t=/^(\d{1,3}\.){3}\d{1,3}\/\d{1,2}$/,l=/^(\d{1,3}\.){3}\d{1,3}-(\d{1,3}\.){3}\d{1,3}$/;if(i.test(e))return e.split(".").every(p=>parseInt(p,10)>=0&&parseInt(p,10)<=255);if(t.test(e)){let[C,p]=e.split("/"),k=parseInt(p,10);return k<0||k>32?!1:C.split(".").every(ke=>parseInt(ke,10)>=0&&parseInt(ke,10)<=255)}if(l.test(e)){let[C,p]=e.split("-"),k=C.split("."),Y=p.split("."),ke=k.every(We=>parseInt(We,10)>=0&&parseInt(We,10)<=255),Ke=Y.every(We=>parseInt(We,10)>=0&&parseInt(We,10)<=255);return ke&&Ke}return!1}onActionAddFirewallIP(){if(!this.firewallAllowIPInput||this.firewallAllowIPInput.trim().length===0)return;let e=this.firewallAllowIPInput.trim();if(!this.validateIPFormat(e)){this.translate.get("ERRORMESSAGE.MESSAGE.Invalid_IP_Format").subscribe(i=>{this.cmsToastrService.typeErrorMessage(i||"Invalid IP format")});return}this.dataModel.firewallAllowIPList||(this.dataModel.firewallAllowIPList=[]),this.dataModel.firewallAllowIPList.includes(e)||(this.dataModel.firewallAllowIPList=[...this.dataModel.firewallAllowIPList,e]),this.dataModel.firewallAllowIPList.length>0&&(this.dataModel.firewallAllowIP=this.dataModel.firewallAllowIPList.join(",")),this.firewallAllowIPInput=""}onActionRemoveFirewallIP(e){if(!this.dataModel.firewallAllowIPList)return;this.dataModel.firewallAllowIPList.indexOf(e)>-1&&(this.dataModel.firewallAllowIPList=this.dataModel.firewallAllowIPList.filter(t=>t!==e)),this.dataModel.firewallAllowIPList.length>0?this.dataModel.firewallAllowIP=this.dataModel.firewallAllowIPList.join(","):this.dataModel.firewallAllowIP=""}DataGetAllPermission(){if(!this.requestId||this.requestId.length===0)return;this.permissionLoading=!0,this.permissionFilterModel.filters=[];let e=new J;e.propertyName="LinkClientApplicationId",e.value=this.requestId,this.permissionFilterModel.filters.push(e),this.permissionFilterModel.sortColumn="id",this.permissionFilterModel.sortType=re.Descending,this.dataProviderClientApplicationPermissionService.ServiceGetAll(this.permissionFilterModel).subscribe({next:i=>{this.permissionLoading=!1,this.permissionDataModelResult=i,i.isSuccess?(this.permissionTableData=i.listItems||[],this.syncSourcePathsWithPermissions()):this.cmsToastrService.typeErrorMessage(i.errorMessage)},error:i=>{this.permissionLoading=!1,this.cmsToastrService.typeError(i)}})}DataGetAllSourcePaths(){this.sourcePathListLoading=!0;let e=new ae;e.rowPerPage=1e3,e.accessLoad=!0,this.dataProviderSourcePathService.ServiceGetAllEditor(e).subscribe({next:i=>{this.sourcePathListLoading=!1,i.isSuccess?(this.sourcePathList=i.listItems||[],this.syncSourcePathsWithPermissions()):this.cmsToastrService.typeErrorMessage(i.errorMessage)},error:i=>{this.sourcePathListLoading=!1,this.cmsToastrService.typeError(i)}})}syncSourcePathsWithPermissions(){this.sourcePathPermissionMap.clear(),this.permissionTableData.forEach(e=>{e.linkSourcePathId&&this.sourcePathPermissionMap.set(e.linkSourcePathId,e)}),this.sourcePathList.forEach(e=>{if(!this.sourcePathPermissionMap.has(e.id)){let i=new ri;i.linkClientApplicationId=this.requestId,i.linkSourcePathId=e.id,i.isRequested=!1,i.isApproved=null,this.sourcePathPermissionMap.set(e.id,i)}})}getPermissionForSourcePath(e){return this.sourcePathPermissionMap.get(e)||new ri}onToggleIsApproved(e){e.isApproved===null?e.isApproved=!0:e.isApproved===!0?e.isApproved=!1:e.isApproved=null}onActionSavePermissionChanges(){if(!this.requestId||this.requestId.length===0)return;let e=[];if(this.sourcePathPermissionMap.forEach(p=>{p.linkSourcePathId&&e.push(p)}),e.length===0){this.translate.get("MESSAGE.no_information").subscribe(p=>{this.cmsToastrService.typeWarningMessage(p)});return}let i=this.constructor.name+"onActionSavePermissionChanges";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(p=>{this.publicHelper.processService.processStart(i,p,this.constructorInfoAreaId)});let t=0,l=0,C=e.length;e.forEach(p=>{p.id&&p.id.length>0?this.dataProviderClientApplicationPermissionService.ServiceEdit(p).subscribe({next:k=>{t++,t+l===C&&(this.publicHelper.processService.processStop(i),l===0&&(this.cmsToastrService.typeSuccessEdit(),this.DataGetAllPermission()))},error:k=>{l++,this.cmsToastrService.typeError(k),t+l===C&&this.publicHelper.processService.processStop(i,!1)}}):p.isRequested?this.dataProviderClientApplicationPermissionService.ServiceAdd(p).subscribe({next:k=>{t++,t+l===C&&(this.publicHelper.processService.processStop(i),l===0&&(this.cmsToastrService.typeSuccessAdd(),this.DataGetAllPermission()))},error:k=>{l++,this.cmsToastrService.typeError(k),t+l===C&&this.publicHelper.processService.processStop(i,!1)}}):(t++,t+l===C&&(this.publicHelper.processService.processStop(i),l===0&&this.DataGetAllPermission()))})}onActionPermissionButtonNewRow(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(eo,{height:"90%",panelClass:e,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{LinkClientApplicationId:this.requestId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAllPermission()})}onActionPermissionButtonEditRow(e){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.cmsToastrService.typeErrorSelectedRow();return}this.permissionTableRowSelected=e;var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(io,{height:"90%",panelClass:i,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{id:this.permissionTableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAllPermission()})}onActionPermissionButtonDeleteRow(e){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.cmsToastrService.typeErrorSelectedRow();return}this.permissionTableRowSelected=e;let i="",t="";this.translate.get("MESSAGE.Delete").subscribe(l=>{i=l}),this.translate.get("MESSAGE.Do_you_want_to_delete_this_content").subscribe(l=>{t=l+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{l&&this.dataProviderClientApplicationPermissionService.ServiceDelete(this.permissionTableRowSelected.id).subscribe({next:C=>{C.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAllPermission()):this.cmsToastrService.typeErrorRemove()},error:C=>{this.cmsToastrService.typeError(C)}})}).catch(()=>{})}};ao.\u0275fac=function(i){return new(i||ao)(M(se),M(le),M(ne),M(Gi),M(ei),M(Hi),M(G),M(Ot),M(H),M(N),M(Ge),M(O),M(He),M(Oe))},ao.\u0275cmp=L({type:ao,selectors:[["app-data-provider-client-application-edit"]],viewQuery:function(i,t){if(i&1&&U(jd,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:44,vars:40,consts:[["vform","ngForm"],["Title",""],["FromDate",""],["ExpireDate",""],["Description",""],["ApiKey",""],["FirewallAllowIPInput",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[3,"optionSelectForce","optionPlaceholder","optionDisabled","optionLabel"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"mb-4"],[1,"mt-3"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"mb-0"],[1,"text-muted"],["type","button",1,"btn","font-13","font-600","btn-s","rounded-s","shadow-xl","border-0","gradient-gray","me-2",3,"click","disabled","title"],[1,"fa","fa-refresh"],["type","button",1,"btn","font-13","font-600","btn-s","rounded-s","shadow-xl","border-0","gradient-green",3,"click","disabled"],[1,"fa","fa-save"],[1,"text-center","py-4"],[1,"alert","alert-info","mt-3","text-center","py-4"],[1,"form-actions","mt-3"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled","optionLabel"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","disabled"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.apiKey",1,"color-highlight"],["matInput","","type","text","name","dataModel.apiKey","id","dataModel.apiKey",1,"form-control","validate-name","input-ltr",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field"],["for","firewallAllowIPInput",1,"color-highlight"],[1,"d-flex"],["matInput","","type","text","name","firewallAllowIPInput","id","firewallAllowIPInput",1,"form-control","validate-name","input-ltr",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"click","disabled"],[1,"fa","fa-plus"],[1,"d-flex","flex-wrap","mt-2",2,"gap","0.5rem"],[1,"badge","bg-info","d-inline-flex","align-items-center","font-13"],[1,"fa","fa-times","ms-2",2,"cursor","pointer",3,"click"],[1,"fa","fa-spinner","fa-spin","fa-2x","text-primary"],[1,"mt-2"],[1,"table-responsive"],[1,"table","table-hover","table-striped"],[1,"table-dark"],[1,"text-center"],[1,"mt-3","text-center"],["type","button",1,"btn","font-13","font-600","btn-s","rounded-s","shadow-xl","border-0","gradient-green",3,"click"],["type","checkbox",1,"form-check-input",3,"ngModelChange","ngModel","name"],["type","checkbox",1,"form-check-input",3,"change","checked","name","indeterminate"],[3,"modelChange","model","optionDisabled","optionRequired"],["rows","2",1,"form-control",3,"ngModelChange","ngModel","name","placeholder"],[1,"fa","fa-info-circle","fa-2x","mb-2"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();r(0,"div",7),g(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),a(),r(5,"p"),c(6),S(7,"translate"),a(),g(8,"app-cms-form-result-message",11),r(9,"form",12,0),I("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),r(11,"mat-tab-group")(12,"mat-tab",13),S(13,"translate"),v(14,Qd,1,5,"app-cms-enum-record-status-selector",14),v(15,Xd,10,9,"div",15),v(16,Yd,2,6,"app-cms-user-selector",16),v(17,Zd,2,6,"app-cms-site-selector",16),v(18,$d,7,6,"div",17),v(19,ec,7,6,"div",17),v(20,tc,7,6,"div",15),v(21,ic,7,6,"div",15),v(22,rc,10,7,"div",18),a(),r(23,"mat-tab",13),S(24,"translate"),r(25,"div",19)(26,"div",20)(27,"div")(28,"h5",21),c(29),S(30,"translate"),a(),v(31,ac,3,4,"small",22),a(),r(32,"div")(33,"button",23),S(34,"translate"),I("click",function(){return m(l),t.DataGetAllSourcePaths(),u(t.DataGetAllPermission())}),g(35,"i",24),a(),r(36,"button",25),I("click",function(){return m(l),u(t.onActionSavePermissionChanges())}),g(37,"i",26),c(38),S(39,"translate"),a()()(),v(40,lc,5,3,"div",27),v(41,mc,19,10)(42,uc,5,3,"div",28),a()()(),v(43,fc,9,7,"div",29),a()()()}i&2&&(o(),f("optionsInfoAreaId",t.constructorInfoAreaId),o(3),_(" ",t.formInfo.formTitle," "),o(2),_(" ",h(7,28,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",t.formInfo),o(4),f("label",x(h(13,30,"TITLE.REQUIRED_INFORMATION"))),o(2),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?14:-1),o(),b(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?15:-1),o(),b(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessWatchField?16:-1),o(),b(t.fieldsInfo.linkSiteId!=null&&t.fieldsInfo.linkSiteId.accessWatchField?17:-1),o(),b(t.fieldsInfo.fromDate!=null&&t.fieldsInfo.fromDate.accessWatchField?18:-1),o(),b(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessWatchField?19:-1),o(),b(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?20:-1),o(),b(t.fieldsInfo.apiKey!=null&&t.fieldsInfo.apiKey.accessWatchField?21:-1),o(),b(t.fieldsInfo.firewallAllowIP!=null&&t.fieldsInfo.firewallAllowIP.accessWatchField?22:-1),o(),f("label",x(h(24,32,"TITLE.PERMISSION"))),o(6),y(h(30,34,"TITLE.PERMISSION")),o(2),b(!t.sourcePathListLoading&&!t.permissionLoading&&t.sourcePathList?31:-1),o(2),f("disabled",t.sourcePathListLoading||t.permissionLoading)("title",h(34,36,"ACTION.REFRESH")),o(2),F("fa-spin",t.sourcePathListLoading||t.permissionLoading),o(),f("disabled",t.sourcePathListLoading||t.permissionLoading),o(2),_(" ",h(39,38,"ACTION.SAVE")," "),o(2),b(t.sourcePathListLoading||t.permissionLoading?40:-1),o(),b(!t.sourcePathListLoading&&!t.permissionLoading&&t.sourcePathList&&t.sourcePathList.length>0?41:!t.sourcePathListLoading&&!t.permissionLoading?42:-1),o(2),b(t.formInfo.submitButtonEnabled?43:-1))},dependencies:[_e,ee,Mi,te,he,Ie,Pe,Ee,ce,Ce,ji,Ui,Qi,Fe,wi,K,fl,Sl,wl,ve,Hr,W,fe,Ll,B],encapsulation:2});var lo=ao;var hc=()=>["expandedDetail"],Cc=()=>[5,10,20,100],Nl=n=>({display:n});function _c(n,s){if(n&1){let e=P();r(0,"div",15)(1,"a",39),I("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",40)(3,"br"),a(),r(4,"p",41),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.ADD")," "))}function gc(n,s){if(n&1){let e=P();r(0,"div",15)(1,"a",42),I("click",function(){m(e);let t=d();return u(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",43)(3,"br"),a(),r(4,"p",41),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.EDIT")," "))}function vc(n,s){if(n&1){let e=P();r(0,"div",15)(1,"a",44),I("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",45)(3,"br"),a(),r(4,"p",41),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.DELETE")," "))}function bc(n,s){if(n&1){let e=P();r(0,"div",15)(1,"a",46),I("click",function(){m(e);let t=d();return u(t.onActionButtonPermissionList(t.tableRowSelected))}),g(2,"i",47)(3,"br"),a(),r(4,"p",41),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.PERMISSION")," "))}function Mc(n,s){n&1&&(r(0,"mat-header-cell"),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"TITLE.MENU")," "))}function Ic(n,s){if(n&1){let e=P();r(0,"mat-cell")(1,"button",48),I("click",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowSelectActionMenu(t))}),g(2,"i",49),a()()}}function Pc(n,s){if(n&1&&(r(0,"mat-header-cell",50),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Ec(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),_(" ",e.title," ")}}function wc(n,s){if(n&1&&(r(0,"mat-header-cell",50),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Dc(n,s){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),a()),n&2){let e=s.$implicit;o(),_(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function yc(n,s){if(n&1&&(r(0,"mat-header-cell",50),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Tc(n,s){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"cmsuserinfo"),S(3,"async"),a()),n&2){let e=s.$implicit;o(),_(" ",h(3,3,h(2,1,e.linkUserId))," ")}}function Ac(n,s){if(n&1&&(r(0,"mat-header-cell",50),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function xc(n,s){if(n&1&&g(0,"select",52),n&2){let e=d().$implicit,i=d();f("contentService",i.contentService)("row",e)("ngStyle",xt(3,Nl,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Rc(n,s){if(n&1&&(r(0,"mat-cell"),g(1,"i",51),S(2,"statusIconClass"),v(3,xc,1,5,"select",52),a()),n&2){let e=s.$implicit,i=d();o(),f("ngClass",h(2,2,e.recordStatus)),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?3:-1)}}function kc(n,s){if(n&1&&(r(0,"mat-header-cell",50),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Lc(n,s){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"date"),a()),n&2){let e=s.$implicit;o(),_(" ",kt(2,1,e.createdDate,"yyyy-MM-dd HH:mm")," ")}}function Vc(n,s){if(n&1&&(r(0,"mat-header-cell",50),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Bc(n,s){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"date"),a()),n&2){let e=s.$implicit;o(),_(" ",kt(2,1,e.updatedDate,"yyyy-MM-dd HH:mm")," ")}}function Fc(n,s){n&1&&(r(0,"mat-header-cell"),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"TITLE.OPTION")," "))}function Oc(n,s){if(n&1&&(r(0,"mat-cell",53)(1,"button",54)(2,"mat-icon"),c(3,"more_vert"),a()(),g(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),f("matMenuTriggerFor",e)}}function Nc(n,s){if(n&1){let e=P();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),c(5),r(6,"span",55),I("click",function(){m(e);let t=d();return u(t.onActionCopied())}),g(7,"i",56),a()()(),r(8,"tr")(9,"td"),c(10),a(),r(11,"td"),c(12),S(13,"cmsuserinfo"),S(14,"async"),a()(),r(15,"tr")(16,"td"),c(17),a(),r(18,"td"),c(19),S(20,"cmssiteinfo"),S(21,"async"),a()()()()()}if(n&2){let e=s.$implicit,i=d();o(5),_(" ",e.id," "),o(),f("cdkCopyToClipboard",e.id),o(4),_("",i.fieldsInfo.linkUserId==null?null:i.fieldsInfo.linkUserId.fieldTitle,":"),o(2),y(h(14,8,h(13,6,e.linkUserId))),o(5),_("",i.fieldsInfo.linkSiteId==null?null:i.fieldsInfo.linkSiteId.fieldTitle,":"),o(2),y(h(21,12,h(20,10,e.linkSiteId)))}}function Gc(n,s){n&1&&g(0,"mat-header-row")}function Hc(n,s){if(n&1){let e=P();r(0,"mat-row",57),I("click",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=s.$implicit,i=d();F("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Wc(n,s){if(n&1){let e=P();r(0,"mat-row",58),I("click",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=s.$implicit,i=d();F("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),f("ngStyle",xt(3,Nl,e.expanded===!0?"":"none"))}}var so=class so extends ct{constructor(e,i,t,l,C,p,k,Y,ke,Ke,We){super(e,new oi,Ke,C,k);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.router=l;this.tokenHelper=C;this.cdr=p;this.translate=k;this.cmsStoreService=Y;this.pageInfo=ke;this.publicHelper=Ke;this.dialog=We;this.tableData=[];this.requestLinkUserId="";this.requestLinkSiteId=0;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new ae;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","title","linkUserId","linkSiteId","createdDate","updatedDate","action_menu"];this.tabledisplayedColumnsMobileSource=["recordStatus","title","linkUserId","createdDate","action_menu"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:it=>this.onSubmitOptionsSearch(it)},this.activatedRoute.snapshot.paramMap.get("LinkUserId")&&(this.requestLinkUserId=this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.activatedRoute.snapshot.paramMap.get("LinkSiteId")&&(this.requestLinkSiteId=+this.activatedRoute.snapshot.paramMap.get("LinkSiteId")||0),this.requestLinkUserId?.length>0){let it=new J;it.propertyName="LinkUserId",it.value=this.requestLinkUserId,this.filteModelContent.filters.push(it)}if(this.requestLinkSiteId>0){let it=new J;it.propertyName="linkSiteId",it.value=this.requestLinkSiteId,this.filteModelContent.filters.push(it)}this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=re.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Me(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new oi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.tableData=t.listItems,this.tableSource.data=t.listItems,this.sort&&(this.tableSource.sort=this.sort),this.paginator&&(this.tableSource.paginator=this.paginator),this.tableSource.filter="",this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.dataModelResult=t,this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=re.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=re.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=re.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=this.requestLinkUserId;var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Kr,{height:"90%",width:"60%",panelClass:i,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{linkUserId:e}}).afterClosed().subscribe(l=>{if(l&&l.dialogChangedDate)if(l.id&&l.id>0){let C=new at;C.disableClose=!0,C.autoFocus=!0,C.height="90%",C.data={id:l.id},this.dialog.open(lo,C).afterClosed().subscribe(k=>{k&&k.dialogChangedDate&&this.DataGetAll()})}else this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(lo,{height:"90%",panelClass:i,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(lo,{height:"40%",panelClass:i,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),C=new J;C.propertyName="recordStatus",C.value=nt.Available,l.filters.push(C),this.contentService.ServiceGetCount(l).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonPermissionList(e=this.tableRowSelected,i){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/data-provider/client-application-permission/LinkClientApplicationId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/client-application-permission/LinkClientApplicationId/",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};so.\u0275fac=function(i){return new(i||so)(M(Gi),M(G),M(Bt),M(Ue),M(He),M(N),M(O),M(Ge),M(lt),M(H),M(Oe))},so.\u0275cmp=L({type:so,selectors:[["app-data-provider-client-application-list"]],viewQuery:function(i,t){if(i&1&&(U(Ne,5),U(Le,5)),i&2){let l;Q(l=z())&&(t.sort=l.first),Q(l=z())&&(t.paginator=l.first)}},standalone:!1,features:[q],decls:62,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","title"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","recordStatus"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-key","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let l=P();r(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(p){return m(l),w(t.viewGuideNotice,p)||(t.viewGuideNotice=p),u(p)}),I("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionButtonPrintRow())}),Je(1,4)(2,5)(3,6),T(4,7),r(5,"a",8),I("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),g(6,"i",9),a(),r(7,"a",8),I("click",function(){return m(l),u(t.onActionButtonReload())}),g(8,"i",10),a(),A(),T(9,11),r(10,"a",12),I("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(11,"mat-slide-toggle",13),c(12),S(13,"translate"),a(),r(14,"a",12),I("click",function(){return m(l),u(t.onActionButtonStatist())}),g(15,"mat-slide-toggle",13),c(16),S(17,"translate"),a(),A(),T(18,14),v(19,_c,7,3,"div",15),A(),T(20,16),v(21,gc,7,3,"div",15),v(22,vc,7,3,"div",15),v(23,bc,7,3,"div",15),A(),T(24,17),r(25,"app-cms-search-list",18),D("optionsChange",function(p){return m(l),w(t.optionsSearch,p)||(t.optionsSearch=p),u(p)}),a(),r(26,"app-cms-statist-list",18),D("optionsChange",function(p){return m(l),w(t.optionsStatist,p)||(t.optionsStatist=p),u(p)}),a(),A(),T(27,19),r(28,"mat-table",20,0),I("matSortChange",function(){m(l);let p=R(29);return u(t.onTableSortData(p))}),T(30,21),V(31,Mc,3,3,"mat-header-cell",22)(32,Ic,3,0,"mat-cell",23),A(),T(33,24),V(34,Pc,2,1,"mat-header-cell",25)(35,Ec,2,1,"mat-cell",23),A(),T(36,26),V(37,wc,2,1,"mat-header-cell",25)(38,Dc,4,5,"mat-cell",23),A(),T(39,27),V(40,yc,2,1,"mat-header-cell",25)(41,Tc,4,5,"mat-cell",23),A(),T(42,28),V(43,Ac,2,1,"mat-header-cell",25)(44,Rc,4,4,"mat-cell",23),A(),T(45,29),V(46,kc,2,1,"mat-header-cell",25)(47,Lc,3,4,"mat-cell",23),A(),T(48,30),V(49,Vc,2,1,"mat-header-cell",25)(50,Bc,3,4,"mat-cell",23),A(),T(51,31),V(52,Fc,3,3,"mat-header-cell",22)(53,Oc,6,1,"mat-cell",32),A(),T(54,33),V(55,Nc,22,14,"mat-cell",23),A(),V(56,Gc,1,0,"mat-header-row",34)(57,Hc,1,2,"mat-row",35)(58,Wc,1,5,"mat-row",36),a(),A(),T(59,37),r(60,"mat-paginator",38,1),I("page",function(p){return m(l),u(t.onTablePageingData(p))}),a(),A(),a()}i&2&&(f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","dataprovider.client-application.list"),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(8),F("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),f("checked",t.optionsSearch.data.show),o(),_("",h(13,27,"ACTION.SEARCH")," "),o(3),f("checked",t.optionsStatist.data.show),o(),_("",h(17,29,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?19:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?21:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?22:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?23:-1),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),f("dataSource",t.tableSource),o(28),f("matHeaderRowDef",t.tabledisplayedColumns),o(),f("matRowDefColumns",t.tabledisplayedColumns),o(),f("matRowDefColumns",qe(31,hc)),o(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",qe(32,Cc)))},dependencies:[De,Wt,Qe,je,K,ht,Ct,Le,_t,Ne,Xe,gt,Ze,vt,$e,Ye,bt,et,tt,Mt,It,Wi,we,pt,Pt,Dt,ii,Be,On,B,Gr,yt,ye],encapsulation:2});var ln=so;var qc=(n,s)=>s.id;function jc(n,s){if(n&1){let e=P();r(0,"button",6),S(1,"translate"),I("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",14),a()}n&2&&j("aria-label",h(1,1,"ACTION.ADD"))}function Uc(n,s){if(n&1){let e=P();r(0,"div",10)(1,"app-cms-search-list",15),D("optionsChange",function(t){m(e);let l=d();return w(l.optionsSearch,t)||(l.optionsSearch=t),u(t)}),a()()}if(n&2){let e=d();o(),E("options",e.optionsSearch)}}function Qc(n,s){if(n&1){let e=P();r(0,"div",17),I("click",function(){let t=m(e).$implicit,l=d(2);return u(l.onActionTableRowSelect(t))}),r(1,"div",18)(2,"div",19),c(3),a(),r(4,"div",20),c(5),S(6,"cmsuserinfo"),S(7,"async"),a()(),r(8,"div",21),g(9,"i",22),S(10,"statusIconClass"),a()()}if(n&2){let e=s.$implicit,i=d(2);F("selected",(i.tableRowSelected==null?null:i.tableRowSelected.id)===e.id),o(3),y(e.id),o(2),_(" ",h(7,7,h(6,5,e.linkUserId))," "),o(4),f("ngClass",h(10,9,e.recordStatus))}}function zc(n,s){if(n&1&&(r(0,"div",12),Te(1,Qc,11,11,"div",16,qc),a()),n&2){let e=d();o(),Ae(e.tableSource.data)}}function Kc(n,s){n&1&&(r(0,"div",13),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"MESSAGE.No_Data_Found")," "))}var vn=class vn extends ln{};vn.\u0275fac=(()=>{let s;return function(i){return(s||(s=Et(vn)))(i||vn)}})(),vn.\u0275cmp=L({type:vn,selectors:[["app-data-provider-client-application-list-mobile"]],standalone:!1,features:[q],decls:19,vars:17,consts:[[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],[1,"cms-m-header-title"],[1,"cms-m-header-actions"],["type","button",1,"cms-m-header-action-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-magnifying-glass"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],["type","button",1,"cms-m-header-action-btn"],[1,"cms-m-search-area"],[1,"cms-m-content"],[1,"cms-m-list"],[1,"cms-m-empty"],["aria-hidden","true",1,"fa-solid","fa-plus"],[3,"optionsChange","options"],[1,"cms-m-list-item",3,"selected"],[1,"cms-m-list-item",3,"click"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-actions"],[3,"ngClass"]],template:function(e,i){e&1&&(r(0,"div",0),g(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"h1",4),c(5),S(6,"translate"),a(),r(7,"div",5)(8,"button",6),S(9,"translate"),I("click",function(){return i.optionsSearch.data.show=!i.optionsSearch.data.show}),g(10,"i",7),a(),r(11,"button",6),S(12,"translate"),I("click",function(){return i.onActionButtonReload()}),g(13,"i",8),a(),v(14,jc,3,3,"button",9),a()()(),v(15,Uc,2,1,"div",10),r(16,"div",11),v(17,zc,3,0,"div",12)(18,Kc,3,3,"div",13),a()()),e&2&&(o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(4),_(" ",h(6,11,"ROUTE.DATAPROVIDER.CLIENTAPPLICATION")," "),o(3),F("active",i.optionsSearch.data.show),j("aria-label",h(9,13,"ACTION.SEARCH")),o(3),j("aria-label",h(12,15,"ACTION.RELOAD")),o(2),F("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow&&(i.tokenHelper!=null&&i.tokenHelper.isAdminSite)?14:-1),o(),b(i.optionsSearch.data.show?15:-1),o(2),b(i.tableSource.data&&i.tableSource.data.length>0?17:18))},dependencies:[De,we,W,Be,B,Gr,ye],styles:[".cms-m-body[_ngcontent-%COMP%]{min-height:100vh;background:var(--cms-m-bg, #0f172a);color:var(--cms-m-fg, #e2e8f0)}.cms-m-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2;background:var(--cms-m-header-bg, #0f172a);border-bottom:1px solid rgba(255,255,255,.08)}.cms-m-header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 16px}.cms-m-header-title[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:var(--cms-m-accent, #38bdf8)}.cms-m-header-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-left:auto}.cms-m-header-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:#ffffff0d;color:#e2e8f0;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.cms-m-header-action-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.cms-m-header-action-btn.active[_ngcontent-%COMP%]{background:#38bdf833;border-color:#38bdf866}.cms-m-header-action-btn[_ngcontent-%COMP%]   i.rotation360[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotation360 1s linear infinite}@keyframes _ngcontent-%COMP%_rotation360{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.cms-m-search-area[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px 16px}.cms-m-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.cms-m-list-item[_ngcontent-%COMP%]{display:flex;gap:12px;padding:12px;border-radius:14px;background:#ffffff0a;border:1px solid rgba(255,255,255,.06);cursor:pointer;transition:all .2s ease}.cms-m-list-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.cms-m-list-item.selected[_ngcontent-%COMP%]{border-color:var(--cms-m-accent, #38bdf8);box-shadow:0 0 0 1px #38bdf84d}.cms-m-list-item-content[_ngcontent-%COMP%]{flex:1;min-width:0}.cms-m-list-item-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:4px;font-size:14px}.cms-m-list-item-subtitle[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8}.cms-m-list-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0}.cms-m-empty[_ngcontent-%COMP%]{padding:24px;text-align:center;color:#94a3b8}"]});var po=vn;var Jc=["vform"];function Xc(n,s){if(n&1){let e=P();r(0,"app-cms-enum-record-status-selector",13),D("modelChange",function(t){m(e);let l=d();return w(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=d();E("model",e.dataModel.recordStatus),f("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Yc(n,s){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function Zc(n,s){if(n&1){let e=P();r(0,"div",12)(1,"button",14),I("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",15),c(3),S(4,"translate"),a(),r(5,"button",16),g(6,"i",17),c(7),S(8,"translate"),a()()}if(n&2){d();let e=R(10);o(3),_(" ",h(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!e.form.valid),o(2),_(" ",h(8,5,"ACTION.SAVE")," ")}}var mo=class mo extends st{constructor(e,i,t,l,C,p,k,Y){super(l,new Yi,p,Y);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderClientService=l;this.cmsToastrService=C;this.publicHelper=p;this.cdr=k;this.translate=Y;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Z;this.dataModel=new Yi;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderClientService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0,Id:i.item.id})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};mo.\u0275fac=function(i){return new(i||mo)(M(se),M(le),M(ne),M(Fi),M(G),M(H),M(N),M(O))},mo.\u0275cmp=L({type:mo,selectors:[["app-data-provider-client-add"]],viewQuery:function(i,t){if(i&1&&U(Jc,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:21,vars:14,consts:[["vform","ngForm"],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();r(0,"div",2),g(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),c(4),a(),r(5,"p"),c(6),S(7,"translate"),a(),g(8,"app-cms-form-result-message",6),r(9,"form",7,0),I("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(11,Xc,1,5,"app-cms-enum-record-status-selector",8),r(12,"div",9)(13,"label",10),c(14),a(),r(15,"input",11,1),D("ngModelChange",function(p){return m(l),w(t.dataModel.title,p)||(t.dataModel.title=p),u(p)}),a(),r(17,"em"),c(18),a(),v(19,Yc,5,3,"mat-error"),a(),v(20,Zc,9,7,"div",12),a()()()}if(i&2){let l=R(16);o(),f("optionsInfoAreaId",t.constructorInfoAreaId),o(3),_(" ",t.formInfo.formTitle," "),o(2),_(" ",h(7,12,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(3),y(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),f("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.title),o(3),_("",l.value.length," / 100"),o(),b(l.errors!=null&&l.errors.required?19:-1),o(),b(t.formInfo.submitButtonEnabled?20:-1)}},dependencies:[_e,ee,te,he,Pe,Ee,ce,Ce,Fe,K,ve,W,fe,B],encapsulation:2});var Xr=mo;var $c=["vform"];function ep(n,s){if(n&1){let e=P();r(0,"div",8)(1,"button",9),I("click",function(){m(e);let t=d();return u(t.onFormDelete())}),g(2,"i",10),c(3),S(4,"translate"),a(),r(5,"button",11),I("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(6,"i",12),c(7),S(8,"translate"),a()()}if(n&2){let e=d();o(),f("disabled",!e.formInfo.submitButtonEnabled),o(2),_(" ",h(4,3,"ACTION.DELETE")," "),o(4),_(" ",h(8,5,"ACTION.CANCEL")," ")}}var uo=class uo{constructor(s,e,i,t,l,C,p){this.data=s;this.dialogRef=e;this.publicHelper=i;this.dataProviderClientService=t;this.cdr=l;this.translate=C;this.cmsToastrService=p;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new Z;this.formInfo=new Qt;this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=s.id||"")}ngOnInit(){if(this.requestId?.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId?.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderClientService.setAccessLoad(),this.dataProviderClientService.setAccessDataType(Re.Editor),this.dataProviderClientService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onFormDelete(){if(this.requestId?.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderClientService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};uo.\u0275fac=function(e){return new(e||uo)(M(se),M(le),M(H),M(Fi),M(N),M(O),M(G))},uo.\u0275cmp=L({type:uo,selectors:[["app-data-provider-client-delete"]],viewQuery:function(e,i){if(e&1&&U($c,5),e&2){let t;Q(t=z())&&(i.formGroup=t.first)}},standalone:!1,decls:14,vars:10,consts:[["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","title",1,"color-highlight"],["matInput","","name","title","type","text","required","","readonly","","id","title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){if(e&1){let t=P();r(0,"div",1),g(1,"app-progress-spinner",2),r(2,"div",3)(3,"p",4),c(4),a(),r(5,"p"),c(6),S(7,"translate"),a(),r(8,"div",5)(9,"label",6),c(10),a(),r(11,"input",7,0),D("ngModelChange",function(C){return m(t),w(i.dataModelResultContent.item.title,C)||(i.dataModelResultContent.item.title=C),u(C)}),a()(),v(13,ep,9,7,"div",8),a()()}e&2&&(o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(3),_(" ",i.formInfo.formTitle," "),o(2),_(" ",h(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),f("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModelResultContent.item.title),o(2),b(i.formInfo.submitButtonEnabled?13:-1))},dependencies:[ee,te,Ie,ce,K,W,B],encapsulation:2});var Yr=uo;function tp(n,s){if(n&1){let e=P();r(0,"li")(1,"mat-checkbox",0),I("change",function(){let t=m(e).$implicit,l=d();return u(l.onActionSelect(t))}),c(2),a()()}if(n&2){let e=s.$implicit,i=d();o(),f("checked",i.fieldsStatus.get(e.id))("disabled",i.optionDisabled),o(),_(" ",e.title," ")}}var fo=class fo{constructor(s,e,i,t,l,C){this.coreEnumService=s;this.categoryService=e;this.cdr=i;this.publicHelper=t;this.translate=l;this.cmsToastrService=C;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Z;this.dataModelSelect=[];this.dataIdsSelect=[];this.formControl=new ti;this.fieldsStatus=new Map;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionChange=new wt;this.optionSelectAdded=new wt;this.optionSelectRemoved=new wt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s),this.onActionReSelect()}ngOnInit(){this.DataGetAll()}DataGetAll(){let s=new ae;s.rowPerPage=50,s.accessLoad=!0;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(s).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataModelResult.listItems.forEach(t=>this.fieldsStatus.set(t.id,!1)),this.dataIdsSelect.forEach(t=>this.fieldsStatus.set(t,!0)),this.dataModelResult.listItems.forEach(t=>{this.fieldsStatus.get(t.id)&&this.dataModelSelect.push(t)})):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelect(s){this.fieldsStatus.get(s.id)?(this.fieldsStatus.set(s.id,!1),this.optionSelectRemoved.emit(s),this.dataModelSelect.splice(this.dataModelSelect.indexOf(s),1)):(this.fieldsStatus.set(s.id,!0),this.optionSelectAdded.emit(s),this.dataModelSelect.push(s)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(s){Array.isArray(s)&&s.length>0&&(typeof s[0]=="string"||typeof s[0]=="number"?s.forEach(e=>{this.dataIdsSelect.push(e.toString())}):s[0]instanceof rt&&s.forEach(e=>{this.dataIdsSelect.push(String(e.id))})),this.dataIdsSelect.forEach(e=>this.fieldsStatus.set(e,!0))}onActionButtonReload(){this.DataGetAll()}onActionReSelect(){this.dataModelResult.listItems.forEach(s=>this.fieldsStatus.set(s.id,!1)),this.dataIdsSelect.forEach(s=>this.fieldsStatus.set(s,!0)),this.dataModelResult.listItems.forEach(s=>{this.fieldsStatus.get(s.id)&&this.dataModelSelect.push(s)})}};fo.\u0275fac=function(e){return new(e||fo)(M(ne),M(jt),M(N),M(H),M(O),M(G))},fo.\u0275cmp=L({type:fo,selectors:[["app-data-provider-plan-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},standalone:!1,decls:3,vars:0,consts:[[3,"change","checked","disabled"]],template:function(e,i){e&1&&(r(0,"ul"),Te(1,tp,3,3,"li",null,Si),a()),e&2&&(o(),Ae(i.dataModelResult.listItems))},dependencies:[Wn],encapsulation:2});var So=fo;var ip=["vform"];function np(n,s){if(n&1){let e=P();r(0,"app-cms-enum-record-status-selector",17),D("modelChange",function(t){m(e);let l=d();return w(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=d();E("model",e.dataModel.recordStatus),f("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function op(n,s){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function rp(n,s){if(n&1){let e=P();r(0,"div",16)(1,"button",18),I("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",19),c(3),S(4,"translate"),a(),r(5,"button",20),g(6,"i",21),c(7),S(8,"translate"),a()()}if(n&2){d();let e=R(10);o(3),_(" ",h(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!e.form.valid),o(2),_(" ",h(8,5,"ACTION.SAVE")," ")}}var ho=class ho extends dt{constructor(e,i,t,l,C,p,k,Y,ke,Ke,We,it,Xt){super(l,new Yi,p,it);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderClientService=l;this.cmsToastrService=C;this.publicHelper=p;this.cdr=k;this.cmsStoreService=Y;this.router=ke;this.cmsConfirmationDialogService=Ke;this.dataProviderPlanClientService=We;this.translate=it;this.tokenHelper=Xt;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.unsubscribe=[];this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ot;this.dataModel=new Yi;this.fileManagerOpenForm=!1;this.dataCoreCpMainMenuIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id||""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(Fn=>Fn.tokenInfoStore).subscribe(Fn=>Me(this,null,function*(){this.tokenInfo=Fn})))}ngOnInit(){if(this.requestId?.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(this.requestId?.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderClientService.setAccessLoad(),this.dataProviderClientService.setAccessDataType(Re.Editor),this.dataProviderClientService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.DataGetAllPlanClient()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderClientService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}DataGetAllPlanClient(){if(this.requestId?.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Getting_access_category_from_the_server").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)});let i=new ae,t=new J;t.propertyName="LinkClientId",t.value=this.requestId,i.filters.push(t),this.dataProviderPlanClientService.ServiceGetAll(i).subscribe({next:l=>{this.dataCoreCpMainMenuCmsUserGroupModel=l.listItems;let C=[];this.dataCoreCpMainMenuCmsUserGroupModel.forEach(p=>{C.push(p.linkPlanId.toString())}),this.dataCoreCpMainMenuIds=C,l.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(p=>{this.formInfo.submitResultMessage=p}),this.formInfo.submitResultMessage=l.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(l.errorMessage)),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorPlanSelect(e){this.dataCoreCpMainMenuModel=e}onActionSelectorPlanSelectAdded(e){if(!this.tokenInfo.access.userAccessAdminAllowToProfessionalData){let C=[];this.dataCoreCpMainMenuIds.forEach(p=>{p!=e.id&&C.push(p)}),setTimeout(()=>this.dataCoreCpMainMenuIds=C,1e3);var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Would_you_like_to_buy_this_content"]).subscribe(p=>{i=p["MESSAGE.Please_Confirm"],t=p["MESSAGE.Would_you_like_to_buy_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(p=>{if(p){let k=this.constructor.name+"main";this.router.navigate(["/data-provider/client-charge/",e.id]),this.dialogRef.close({dialogChangedDate:!1})}});return}let l=new hi;l.linkPlanId=e.id,l.linkClientId=this.dataModel.id,this.dataProviderPlanClientService.ServiceAdd(l).subscribe({next:C=>{if(C.isSuccess)this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(p=>{this.formInfo.submitResultMessage=p}),this.cmsToastrService.typeSuccessEdit();else{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(k=>{this.formInfo.submitResultMessage=k}),this.formInfo.submitResultMessage=C.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(C.errorMessage);let p=[];this.dataCoreCpMainMenuIds.forEach(k=>{k!=e.id&&p.push(k)}),setTimeout(()=>this.dataCoreCpMainMenuIds=p,1e3)}},error:C=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(C)}})}onActionSelectorPlanSelectRemoved(e){if(!this.tokenInfo.access.userAccessAdminAllowToProfessionalData){let t=[];this.dataCoreCpMainMenuIds.forEach(l=>{t.push(l)}),t.indexOf(e.id)<0&&t.push(e.id),setTimeout(()=>this.dataCoreCpMainMenuIds=t,1e3),this.cmsToastrService.typeErrorAccessDelete();return}let i=new hi;i.linkPlanId=e.id,i.linkClientId=this.dataModel.id,this.dataProviderPlanClientService.ServiceDeleteEntity(i).subscribe({next:t=>{if(t.isSuccess)this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.cmsToastrService.typeSuccessEdit();else{let l=[];this.dataCoreCpMainMenuIds.forEach(C=>{l.push(C)}),l.indexOf(e.id)<0&&l.push(e.id),setTimeout(()=>this.dataCoreCpMainMenuIds=l,1e3),this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(C=>{this.formInfo.submitResultMessage=C}),this.formInfo.submitResultMessage=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)}},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}};ho.\u0275fac=function(i){return new(i||ho)(M(se),M(le),M(ne),M(Fi),M(G),M(H),M(N),M(Ge),M(Ue),M(Ot),M(vi),M(O),M(He))},ho.\u0275cmp=L({type:ho,selectors:[["app-data-provider-client-edit"]],viewQuery:function(i,t){if(i&1&&U(ip,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:27,vars:20,consts:[["vform","ngForm"],["Id",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.id",1,"color-highlight"],["matInput","","type","id","name","dataModel.Id","type","text","id","dataModel.id",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();r(0,"div",3),g(1,"app-progress-spinner",4),r(2,"div",5)(3,"p",6),c(4),a(),r(5,"p"),c(6),S(7,"translate"),a(),g(8,"app-cms-form-result-message",7),r(9,"form",8,0),I("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(11,np,1,5,"app-cms-enum-record-status-selector",9),r(12,"div",10)(13,"label",11),c(14),a(),r(15,"input",12,1),D("ngModelChange",function(p){return m(l),w(t.dataModel.id,p)||(t.dataModel.id=p),u(p)}),a()(),r(17,"div",10)(18,"label",13),c(19),a(),r(20,"input",14,2),D("ngModelChange",function(p){return m(l),w(t.dataModel.title,p)||(t.dataModel.title=p),u(p)}),a(),r(22,"em"),c(23),a(),v(24,op,5,3,"mat-error"),a(),r(25,"app-data-provider-plan-selectionlist",15),I("optionChange",function(p){return m(l),u(t.onActionSelectorPlanSelect(p))})("optionSelectAdded",function(p){return m(l),u(t.onActionSelectorPlanSelectAdded(p))})("optionSelectRemoved",function(p){return m(l),u(t.onActionSelectorPlanSelectRemoved(p))}),a(),v(26,rp,9,7,"div",16),a()()()}if(i&2){let l=R(21);o(),f("optionsInfoAreaId",t.constructorInfoAreaId),o(3),_(" ",t.formInfo.formTitle," "),o(2),_(" ",h(7,18,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(3),y(t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle),o(),f("placeholder",x(t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle)),E("ngModel",t.dataModel.id),o(4),y(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),f("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.title),o(3),_("",l.value.length," / 100"),o(),b(l.errors!=null&&l.errors.required?24:-1),o(),f("optionSelectForce",t.dataCoreCpMainMenuIds)("optionDisabled",!1),o(),b(t.formInfo.submitButtonEnabled?26:-1)}},dependencies:[_e,ee,te,he,Pe,Ee,ce,Ce,Fe,K,ve,W,fe,So,B],encapsulation:2});var br=ho;var ap=["*"];function lp(n,s){if(n&1&&(r(0,"label",3),c(1),a()),n&2){let e=d();f("for",Nt("app-cms-site-selector-",e.id)),o(),y(e.optionLabel)}}function sp(n,s){if(n&1&&(g(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=d();f("src",x(h(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),X)}}function dp(n,s){if(n&1&&(g(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;f("src",x(h(1,2,e.linkMainImageIdSrc)),X)}}function cp(n,s){if(n&1&&(r(0,"mat-option",8),v(1,dp,2,4,"img",5),r(2,"span"),c(3),a()()),n&2){let e=s.$implicit,i=d();f("value",e)("disabled",i.optionDisabled),o(),b(e.linkMainImageIdSrc?1:-1),o(2),y(i.displayOption(e))}}function pp(n,s){n&1&&g(0,"i",9)}function mp(n,s){n&1&&g(0,"i",10)}function up(n,s){if(n&1){let e=P();r(0,"i",13),I("click",function(){m(e);let t=d();return u(t.onActionSelectClear())}),a()}}function fp(n,s){n&1&&(r(0,"em"),c(1),S(2,"translate"),a()),n&2&&(o(),_("(",h(2,1,"TITLE.Necessary"),")"))}var sn=class sn{constructor(s,e,i,t,l){this.coreEnumService=s;this.cdr=e;this.publicHelper=i;this.translate=t;this.categoryService=l;this.id=++sn.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Z;this.dataModelSelect=new ai;this.formControl=new ti;this.optionPlaceholder="";this.optionSelectFirstItem=!1;this.optionDisabled=!1;this.optionRequired=!1;this.optionLabel="";this.optionChange=new wt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(ui(""),pi(1500),mi(),fi(s=>typeof s=="string"||typeof s=="number"?this.DataGetAll(s||""):[]))}displayFn(s){return s?s.title:void 0}displayOption(s){return s?s.title:void 0}DataGetAll(s){return Me(this,null,function*(){let e=new ae;e.rowPerPage=20,e.accessLoad=!0;let i=new J;i.propertyName="title",i.value=s,i.searchType=Lt.Contains,i.clauseType=Ft.Or,e.filters.push(i),s&&typeof+s=="number"&&+s>0&&(i=new J,i.propertyName="id",i.value=s,i.searchType=Lt.Equal,i.clauseType=Ft.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),yield di(this.categoryService.ServiceGetAll(e)).then(l=>(this.dataModelResult=l,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||(typeof this.dataModelSelect.id=="string"?this.dataModelSelect.id.length===0:this.dataModelSelect.id<=0))&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),l.listItems))})}onActionSelect(s){this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(s){return this.filteredOptions.pipe(ci(e=>(e.find(i=>i.id===s.id)||e.push(s),e)))}onActionSelectForce(s){if(typeof s=="string"&&s.length>0||typeof s=="number"&&s>0){let e=typeof s=="string"?s:String(s);if(this.dataModelSelect&&String(this.dataModelSelect.id)===e)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>String(i.id)===e)){let i=this.dataModelResult.listItems.find(t=>String(t.id)===e);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(e).subscribe({next:i=>{i.isSuccess&&(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item))}});return}if(typeof s==typeof ai){this.filteredOptions=this.push(s),this.dataModelSelect=s,this.formControl.setValue(s);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new ai,this.loadOptions()}};sn.nextId=0,sn.\u0275fac=function(e){return new(e||sn)(M(ne),M(N),M(H),M(O),M(gi))},sn.\u0275cmp=L({type:sn,selectors:[["app-data-provider-plan-category-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:ap,decls:18,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=P();Vi(),r(0,"div",1),g(1,"app-progress-spinner",2),v(2,lp,2,3,"label",3),r(3,"span",4),v(4,sp,2,4,"img",5),a(),g(5,"input",6),r(6,"mat-autocomplete",7,0),I("optionSelected",function(C){return m(t),u(i.onActionSelect(C.option.value))}),Te(8,cp,4,4,"mat-option",8,Si),S(10,"async"),a(),v(11,pp,1,0,"i",9),v(12,mp,1,0,"i",10),v(13,up,1,0,"i",11),r(14,"i",12),S(15,"translate"),I("click",function(){return m(t),u(i.onActionButtonReload())}),a(),v(16,fp,3,3,"em"),Bi(17),a()}if(e&2){let t=R(7);o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(),b((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),b(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),f("placeholder",x(i.optionPlaceholder))("id",Nt("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),j("disabled",i.optionDisabled?!0:null),o(),f("displayWith",i.displayFn),o(2),Ae(h(10,20,i.filteredOptions)),o(3),b(i.formControl.valid?-1:11),o(),b(i.optionRequired&&i.formControl.valid?12:-1),o(),b((i.dataModelSelect==null?null:i.dataModelSelect.id)>0?13:-1),o(),F("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),f("title",x(h(15,22,"ACTION.RELOAD"))),o(2),b(i.optionRequired&&!((i.dataModelSelect==null?null:i.dataModelSelect.id)>0)?16:-1)}},dependencies:[ee,te,Ie,Pi,Di,Ei,yi,qi,K,W,Be,B,ge],encapsulation:2});var Jt=sn;var Sp=["vform"];function hp(n,s){if(n&1){let e=P();r(0,"app-cms-enum-record-status-selector",21),D("modelChange",function(t){m(e);let l=d();return w(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=d();E("model",e.dataModel.recordStatus),f("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Cp(n,s){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function _p(n,s){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function gp(n,s){if(n&1&&(g(0,"img",19),S(1,"cmsthumbnail")),n&2){let e=d();f("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),X)}}function vp(n,s){if(n&1){let e=P();r(0,"div",12)(1,"label",22),I("click",function(){m(e);let t=d();return u(t.fileManagerOpenForm=!0)}),c(2),S(3,"translate"),a(),r(4,"input",23,3),S(6,"translate"),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),u(t)}),I("click",function(){m(e);let t=d();return u(t.fileManagerOpenForm=!0)}),a(),r(7,"cms-file-manager",24),I("itemSelected",function(t){m(e);let l=d();return u(l.onActionFileSelected(t))}),D("openFormChange",function(t){m(e);let l=d();return w(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),u(t)}),a()()}if(n&2){let e=d();o(2),y(h(3,12,"TITLE.Icon_File")),o(2),f("placeholder",x(h(6,14,"TITLE.Original_File_ID"))),E("ngModel",e.dataModel.linkMainImageId),o(3),f("language",e.appLanguage)("isPopup",!0),E("openForm",e.fileManagerOpenForm),f("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function bp(n,s){if(n&1){let e=P();r(0,"div",20)(1,"button",25),I("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",26),c(3),S(4,"translate"),a(),r(5,"button",27),g(6,"i",28),c(7),S(8,"translate"),a()()}if(n&2){d();let e=R(10);o(3),_(" ",h(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!e.form.valid),o(2),_(" ",h(8,5,"ACTION.SAVE")," ")}}var Co=class Co extends st{constructor(e,i,t,l,C,p,k,Y){super(l,new rt,p,Y);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderPlanService=l;this.cmsToastrService=C;this.publicHelper=p;this.cdr=k;this.translate=Y;this.requestLinkPlanCategoryId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Z;this.dataModel=new rt;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestLinkPlanCategoryId=e.linkPlanCategoryId||""),this.requestLinkPlanCategoryId&&this.requestLinkPlanCategoryId.length>0&&(this.dataModel.linkPlanCategoryId=this.requestLinkPlanCategoryId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPlanCategoryId=String(e.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Co.\u0275fac=function(i){return new(i||Co)(M(se),M(le),M(ne),M(jt),M(G),M(H),M(N),M(O))},Co.\u0275cmp=L({type:Co,selectors:[["app-data-provider-plan-add"]],viewQuery:function(i,t){if(i&1&&U(Sp,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:37,vars:30,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();r(0,"div",4),g(1,"app-progress-spinner",5),r(2,"div",6)(3,"p",7),c(4),a(),r(5,"p"),c(6),S(7,"translate"),a(),g(8,"app-cms-form-result-message",8),r(9,"form",9,0),I("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(11,hp,1,5,"app-cms-enum-record-status-selector",10),r(12,"app-data-provider-plan-category-selector",11),S(13,"translate"),I("optionChange",function(p){return m(l),u(t.onActionSelectorSelect(p))}),a(),r(14,"div",12)(15,"label",13),c(16),a(),r(17,"input",14,1),D("ngModelChange",function(p){return m(l),w(t.dataModel.title,p)||(t.dataModel.title=p),u(p)}),a(),r(19,"em"),c(20),a(),v(21,Cp,5,3,"mat-error"),a(),r(22,"div",12)(23,"label",15),c(24),a(),r(25,"textarea",16,2),D("ngModelChange",function(p){return m(l),w(t.dataModel.description,p)||(t.dataModel.description=p),u(p)}),c(27,"          "),a(),r(28,"em"),c(29),a(),v(30,_p,5,3,"mat-error"),a(),r(31,"div",17)(32,"a",18),S(33,"cmsthumbnail"),v(34,gp,2,4,"img",19),a()(),v(35,vp,8,16,"div",12),v(36,bp,9,7,"div",20),a()()()}if(i&2){let l=R(18),C=R(26);o(),f("optionsInfoAreaId",t.constructorInfoAreaId),o(3),_(" ",t.formInfo.formTitle," "),o(2),_(" ",h(7,24,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),f("optionSelectForce",t.dataModel.linkPlanCategoryId)("optionPlaceholder",h(13,26,"TITLE.Category")),o(4),y(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),f("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.title),o(3),_("",l.value.length," / 100"),o(),b(l.errors!=null&&l.errors.required?21:-1),o(3),y(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),f("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),E("ngModel",t.dataModel.description),o(4),_("",C.value.length," / 500"),o(),b(C.errors!=null&&C.errors.required?30:-1),o(2),f("href",x(h(33,28,t.dataModel.linkMainImageIdSrc)),X),o(2),b((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?34:-1),o(),b(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?35:-1),o(),b(t.formInfo.submitButtonEnabled?36:-1)}},dependencies:[_e,ee,te,he,Pe,Ee,ce,Ce,Fe,K,ve,W,fe,Jt,Rt,B,ge],encapsulation:2});var _o=Co;var Mp=["vform"];function Ip(n,s){if(n&1){let e=P();r(0,"div",8)(1,"button",9),I("click",function(){m(e);let t=d();return u(t.onFormDelete())}),g(2,"i",10),c(3),S(4,"translate"),a(),r(5,"button",11),I("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(6,"i",12),c(7),S(8,"translate"),a()()}if(n&2){let e=d();o(),f("disabled",!e.formInfo.submitButtonEnabled),o(2),_(" ",h(4,3,"ACTION.DELETE")," "),o(4),_(" ",h(8,5,"ACTION.CANCEL")," ")}}var go=class go{constructor(s,e,i,t,l,C,p){this.data=s;this.dialogRef=e;this.publicHelper=i;this.dataProviderPlanService=t;this.cdr=l;this.translate=C;this.cmsToastrService=p;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new Z;this.formInfo=new Qt;this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=s.id||"")}ngOnInit(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderPlanService.setAccessLoad(),this.dataProviderPlanService.setAccessDataType(Re.Editor),this.dataProviderPlanService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onFormDelete(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderPlanService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};go.\u0275fac=function(e){return new(e||go)(M(se),M(le),M(H),M(jt),M(N),M(O),M(G))},go.\u0275cmp=L({type:go,selectors:[["app-data-provider-plan-delete"]],viewQuery:function(e,i){if(e&1&&U(Mp,5),e&2){let t;Q(t=z())&&(i.formGroup=t.first)}},standalone:!1,decls:14,vars:10,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.title",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.title","type","text","required","","readonly","","id","dataModelResultContent.item.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){if(e&1){let t=P();r(0,"div",1),g(1,"app-progress-spinner",2),r(2,"div",3)(3,"p",4),c(4),a(),r(5,"p"),c(6),S(7,"translate"),a(),r(8,"div",5)(9,"label",6),c(10),a(),r(11,"input",7,0),D("ngModelChange",function(C){return m(t),w(i.dataModelResultContent.item.title,C)||(i.dataModelResultContent.item.title=C),u(C)}),a()(),v(13,Ip,9,7,"div",8),a()()}e&2&&(o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(3),_(" ",i.formInfo.formTitle," "),o(2),_(" ",h(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),f("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModelResultContent.item.title),o(2),b(i.formInfo.submitButtonEnabled?13:-1))},dependencies:[ee,te,Ie,ce,K,W,B],encapsulation:2});var vo=go;var Pp=["vform"];function Ep(n,s){if(n&1){let e=P();r(0,"app-cms-enum-record-status-selector",21),D("modelChange",function(t){m(e);let l=d();return w(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=d();E("model",e.dataModel.recordStatus),f("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function wp(n,s){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function Dp(n,s){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function yp(n,s){if(n&1&&(g(0,"img",19),S(1,"cmsthumbnail")),n&2){let e=d();f("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),X)}}function Tp(n,s){if(n&1){let e=P();r(0,"div",12)(1,"label",22),I("click",function(){m(e);let t=d();return u(t.fileManagerOpenForm=!0)}),c(2),S(3,"translate"),a(),r(4,"input",23,3),S(6,"translate"),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),u(t)}),I("click",function(){m(e);let t=d();return u(t.fileManagerOpenForm=!0)}),a(),r(7,"cms-file-manager",24),I("itemSelected",function(t){m(e);let l=d();return u(l.onActionFileSelected(t))}),D("openFormChange",function(t){m(e);let l=d();return w(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),u(t)}),a()()}if(n&2){let e=d();o(2),y(h(3,12,"TITLE.Icon_File")),o(2),f("placeholder",x(h(6,14,"TITLE.Original_File_ID"))),E("ngModel",e.dataModel.linkMainImageId),o(3),f("language",e.appLanguage)("isPopup",!0),E("openForm",e.fileManagerOpenForm),f("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Ap(n,s){if(n&1){let e=P();r(0,"div",20)(1,"button",25),I("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",26),c(3),S(4,"translate"),a(),r(5,"button",27),g(6,"i",28),c(7),S(8,"translate"),a()()}if(n&2){d();let e=R(10);o(3),_(" ",h(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!e.form.valid),o(2),_(" ",h(8,5,"ACTION.SAVE")," ")}}var bo=class bo extends dt{constructor(e,i,t,l,C,p,k,Y){super(l,new rt,p,Y);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderPlanService=l;this.cmsToastrService=C;this.publicHelper=p;this.cdr=k;this.translate=Y;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ot;this.dataModel=new rt;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id||""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanService.setAccessLoad(),this.dataProviderPlanService.setAccessDataType(Re.Editor),this.dataProviderPlanService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPlanCategoryId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};bo.\u0275fac=function(i){return new(i||bo)(M(se),M(le),M(ne),M(jt),M(G),M(H),M(N),M(O))},bo.\u0275cmp=L({type:bo,selectors:[["app-data-provider-plan-edit"]],viewQuery:function(i,t){if(i&1&&U(Pp,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:37,vars:30,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();r(0,"div",4),g(1,"app-progress-spinner",5),r(2,"div",6)(3,"p",7),c(4),a(),r(5,"p"),c(6),S(7,"translate"),a(),g(8,"app-cms-form-result-message",8),r(9,"form",9,0),I("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(11,Ep,1,5,"app-cms-enum-record-status-selector",10),r(12,"app-data-provider-plan-category-selector",11),S(13,"translate"),I("optionChange",function(p){return m(l),u(t.onActionSelectorSelect(p))}),a(),r(14,"div",12)(15,"label",13),c(16),a(),r(17,"input",14,1),D("ngModelChange",function(p){return m(l),w(t.dataModel.title,p)||(t.dataModel.title=p),u(p)}),a(),r(19,"em"),c(20),a(),v(21,wp,5,3,"mat-error"),a(),r(22,"div",12)(23,"label",15),c(24),a(),r(25,"textarea",16,2),D("ngModelChange",function(p){return m(l),w(t.dataModel.description,p)||(t.dataModel.description=p),u(p)}),c(27,"          "),a(),r(28,"em"),c(29),a(),v(30,Dp,5,3,"mat-error"),a(),r(31,"div",17)(32,"a",18),S(33,"cmsthumbnail"),v(34,yp,2,4,"img",19),a()(),v(35,Tp,8,16,"div",12),v(36,Ap,9,7,"div",20),a()()()}if(i&2){let l=R(18),C=R(26);o(),f("optionsInfoAreaId",t.constructorInfoAreaId),o(3),_(" ",t.formInfo.formTitle," "),o(2),_(" ",h(7,24,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),f("optionSelectForce",t.dataModel.linkPlanCategoryId)("optionPlaceholder",h(13,26,"TITLE.Category")),o(4),y(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),f("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.title),o(3),_("",l.value.length," / 100"),o(),b(l.errors!=null&&l.errors.required?21:-1),o(3),y(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),f("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),E("ngModel",t.dataModel.description),o(4),_("",C.value.length," / 500"),o(),b(C.errors!=null&&C.errors.required?30:-1),o(2),f("href",x(h(33,28,t.dataModel.linkMainImageIdSrc)),X),o(2),b((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?34:-1),o(),b(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?35:-1),o(),b(t.formInfo.submitButtonEnabled?36:-1)}},dependencies:[_e,ee,te,he,Pe,Ee,ce,Ce,Fe,K,ve,W,fe,Jt,Rt,B,ge],encapsulation:2});var Mo=bo;function xp(n,s){if(n&1){let e=P();r(0,"button",14),I("click",function(){m(e);let t=d();return u(t.onActionAdd())}),c(1),S(2,"translate"),a()}n&2&&(o(),_(" ",h(2,1,"ACTION.ADD")," "))}function Rp(n,s){if(n&1){let e=P();r(0,"button",15),I("click",function(){m(e);let t=d();return u(t.onActionEdit())}),c(1),S(2,"translate"),a()}n&2&&(o(),_(" ",h(2,1,"ACTION.EDIT")," "))}function kp(n,s){if(n&1){let e=P();r(0,"button",16),I("click",function(){m(e);let t=d();return u(t.onActionDelete())}),c(1),S(2,"translate"),a()}n&2&&(o(),_(" ",h(2,1,"ACTION.DELETE")," "))}function Lp(n,s){if(n&1){let e=P();r(0,"button",17),I("click",function(){m(e);let t=d();return u(t.onActionButtonReload())}),r(1,"mat-icon",18),S(2,"translate"),c(3,"refresh"),a()()}if(n&2){let e=d();o(),F("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),f("title",x(h(2,4,"ACTION.RELOAD")))}}function Vp(n,s){if(n&1){let e=P();r(0,"mat-tree-node",19),g(1,"button",20),r(2,"span",21),I("click",function(){let t=m(e).$implicit,l=d();return u(l.onActionSelect(t))}),c(3),a()()}if(n&2){let e=s.$implicit,i=d();F("ntk-tree-selected",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),o(3),y(e.title)}}function Bp(n,s){if(n&1){let e=P();r(0,"mat-tree-node",22)(1,"button",23)(2,"mat-icon",24),c(3),a()(),r(4,"span",21),I("click",function(){let t=m(e).$implicit,l=d();return u(l.onActionSelect(t))}),c(5),a()()}if(n&2){let e=s.$implicit,i=d(),t=R(12);F("ntk-tree-selected",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),f("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),j("type","button")("aria-label","Toggle "+e.title),o(2),_(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),y(e.title)}}var Io=class Io{constructor(s,e,i,t,l,C,p,k,Y){this.cmsToastrService=s;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=l;this.publicHelper=C;this.tokenHelper=p;this.cmsStoreService=k;this.translate=Y;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new rt;this.dataModelResult=new Z;this.filterModel=new ae;this.dataSource=new Kn;this.optionChange=new wt;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(s,e)=>null;this.childrenAccessor=s=>null;this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(()=>Me(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onActionSelect(s){s&&this.dataModelSelect&&s.id==this.dataModelSelect.id?(this.dataModelSelect=null,this.optionChange.emit(null)):(this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect))}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new rt,this.DataGetAll()}onActionSelectForce(s){}onActionAdd(){let s=0;this.dataModelSelect&&this.dataModelSelect.id&&(typeof this.dataModelSelect.id=="string"?this.dataModelSelect.id.length>0:this.dataModelSelect.id>0)&&(s=this.dataModelSelect.id);let e=new at;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={parentId:s},this.dialog.open(_o,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let s=0;if(this.dataModelSelect&&this.dataModelSelect.id&&(typeof this.dataModelSelect.id=="string"?this.dataModelSelect.id.length>0:this.dataModelSelect.id>0)&&(s=this.dataModelSelect.id),typeof s=="string"?s.length===0:s===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Mo,{height:"90%",panelClass:e,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{id:s}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let s;if(this.dataModelSelect&&this.dataModelSelect.id&&(typeof this.dataModelSelect.id=="string"?this.dataModelSelect.id.length>0:this.dataModelSelect.id>0)&&(s=this.dataModelSelect.id),typeof s=="string"?s.length===0:s===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(vo,{height:"90%",panelClass:e,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{id:s}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}};Io.\u0275fac=function(e){return new(e||Io)(M(G),M(ne),M(jt),M(Oe),M(N),M(H),M(He),M(Ge),M(O))},Io.\u0275cmp=L({type:Io,selectors:[["app-data-provider-plan-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:16,vars:14,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(r(0,"app-cms-html-tree",1),T(1,2),c(2),S(3,"translate"),A(),T(4,3),v(5,xp,3,3,"button",4),v(6,Rp,3,3,"button",5),v(7,kp,3,3,"button",6),v(8,Lp,4,6,"button",7),A(),T(9,8),g(10,"app-progress-spinner",9),r(11,"mat-tree",10,0),V(13,Vp,4,3,"mat-tree-node",11)(14,Bp,6,8,"mat-tree-node",12),a(),A(),Je(15,13),a()),e&2&&(f("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),_(" ",h(3,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow?5:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0?6:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0?7:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow?8:-1),o(2),f("optionsInfoAreaId",i.constructorInfoAreaId),o(),f("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),f("matTreeNodeDefWhen",i.hasChild))},dependencies:[Qe,je,jn,Un,zn,Qn,qn,W,Xn,B],encapsulation:2});var Po=Io;var Fp=()=>["expandedTitle"],Op=()=>["expandedDetail"],Np=()=>[5,10,20,100],jl=n=>({display:n});function Gp(n,s){if(n&1){let e=P();r(0,"div",16)(1,"a",44),I("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",45)(3,"br"),a(),r(4,"p",20),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.ADD")," "))}function Hp(n,s){if(n&1){let e=P();r(0,"div",16)(1,"a",46),I("click",function(){m(e);let t=d();return u(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",47)(3,"br"),a(),r(4,"p",20),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.EDIT")," "))}function Wp(n,s){if(n&1){let e=P();r(0,"div",16)(1,"a",48),I("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",49)(3,"br"),a(),r(4,"p",20),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.DELETE")," "))}function qp(n,s){if(n&1){let e=P();r(0,"div",16)(1,"a",18),I("click",function(){m(e);let t=d();return u(t.onActionButtonTransactionList(t.tableRowSelected))}),g(2,"i",50)(3,"br"),a(),r(4,"p",20),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.TRANSACTIONS")," "))}function jp(n,s){if(n&1){let e=P();r(0,"div",16)(1,"a",18),I("click",function(){m(e);let t=d();return u(t.onActionButtonDataRow(t.tableRowSelected))}),g(2,"i",51)(3,"br"),a(),r(4,"p",20),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.DATA")," "))}function Up(n,s){if(n&1){let e=P();r(0,"div",16)(1,"a",18),I("click",function(){m(e);let t=d();return u(t.onActionButtonClientList(t.tableRowSelected))}),g(2,"i",52)(3,"br"),a(),r(4,"p",20),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.CLIENT")," "))}function Qp(n,s){n&1&&(r(0,"mat-header-cell"),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"TITLE.MENU")," "))}function zp(n,s){if(n&1){let e=P();r(0,"mat-cell")(1,"button",53),I("click",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowSelectActionMenu(t))}),g(2,"i",54),a()()}}function Kp(n,s){n&1&&(r(0,"mat-header-cell",55),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"TITLE.PICTURE")," "))}function Jp(n,s){if(n&1&&(g(0,"img",56),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;f("src",x(h(1,2,e.linkMainImageIdSrc)),X)}}function Xp(n,s){if(n&1&&(r(0,"mat-cell"),v(1,Jp,2,4,"img",56),a()),n&2){let e=s.$implicit;o(),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function Yp(n,s){if(n&1&&(r(0,"mat-header-cell",55),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Zp(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),_(" ",e.id," ")}}function $p(n,s){if(n&1&&(r(0,"mat-header-cell",55),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function em(n,s){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),a()),n&2){let e=s.$implicit;o(),_(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function tm(n,s){if(n&1&&(r(0,"mat-header-cell",55),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function im(n,s){if(n&1&&g(0,"select",58),n&2){let e=d().$implicit,i=d();f("contentService",i.contentService)("row",e)("ngStyle",xt(3,jl,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function nm(n,s){if(n&1&&(r(0,"mat-cell"),g(1,"i",57),S(2,"statusIconClass"),v(3,im,1,5,"select",58),a()),n&2){let e=s.$implicit,i=d();o(),f("ngClass",h(2,2,e.recordStatus)),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?3:-1)}}function om(n,s){if(n&1&&(r(0,"mat-header-cell",55),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function rm(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),_(" ",e.title," ")}}function am(n,s){n&1&&(r(0,"mat-header-cell"),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"TITLE.OPTION")," "))}function lm(n,s){if(n&1&&(r(0,"mat-cell",59)(1,"button",60)(2,"mat-icon"),c(3,"more_vert"),a()(),g(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),f("matMenuTriggerFor",e)}}function sm(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),_(" ",e.title," ")}}function dm(n,s){if(n&1&&(g(0,"img",61),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;f("src",x(h(1,2,e.linkMainImageIdSrc)),X)}}function cm(n,s){if(n&1){let e=P();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),v(5,dm,2,4,"img",61),a(),r(6,"th"),c(7),r(8,"span",62),I("click",function(){m(e);let t=d();return u(t.onActionCopied())}),g(9,"i",63),a()()(),r(10,"tr"),g(11,"td"),r(12,"td"),c(13),a()(),r(14,"tr"),g(15,"td")(16,"td"),a()()()()}if(n&2){let e=s.$implicit;o(5),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),_(" ",e.id," "),o(),f("cdkCopyToClipboard",e.id),o(5),y(e.title)}}function pm(n,s){n&1&&g(0,"mat-header-row")}function mm(n,s){if(n&1){let e=P();r(0,"mat-row",64),I("click",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=s.$implicit,i=d();F("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function um(n,s){if(n&1){let e=P();r(0,"mat-row",65),I("click",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=s.$implicit,i=d();F("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function fm(n,s){if(n&1){let e=P();r(0,"mat-row",66),I("click",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=s.$implicit,i=d();F("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),f("ngStyle",xt(3,jl,e.expanded===!0?"":"none"))}}var Eo=class Eo extends ct{constructor(e,i,t,l,C,p,k,Y,ke,Ke){super(e,new Yi,ke,l,p);this.contentService=e;this.cmsToastrService=i;this.router=t;this.tokenHelper=l;this.cdr=C;this.translate=p;this.cmsStoreService=k;this.pageInfo=Y;this.publicHelper=ke;this.dialog=Ke;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new ae;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","action_menu"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","id","recordStatus","action_menu"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:We=>this.onSubmitOptionsSearch(We)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=re.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Me(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Yi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&(typeof this.categoryModelSelected.id=="string"?this.categoryModelSelected.id.length>0:this.categoryModelSelected.id>0)){let t=new J;t.propertyName="PlanClients",t.propertyAnyName="LinkPlanId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=re.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=re.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=re.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new ae,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=new at;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={},this.dialog.open(Xr,e).afterClosed().subscribe(t=>{if(t&&t.dialogChangedDate)if(t.id&&t.id>0){let l=new at;l.disableClose=!0,l.autoFocus=!0,l.height="90%",l.data={id:t.id},this.dialog.open(br,l).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&(this.categoryModelSelected=new rt,this.DataGetAll())})}else this.categoryModelSelected=new rt,this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}let i=new at;i.disableClose=!0,i.autoFocus=!0,i.height="90%",i.data={id:this.tableRowSelected.id},this.dialog.open(br,i).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&(this.categoryModelSelected=new rt,this.DataGetAll())})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Yr,{height:"40%",panelClass:i,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),C=new J;C.propertyName="recordStatus",C.value=nt.Available,l.filters.push(C),this.contentService.ServiceGetCount(l).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonClientCreditAccountRow(e=this.tableRowSelected,i){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)||!e.linkSiteId||e.linkSiteId<=0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/data-provider/client-charge/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/client-charge/",e.id])}onActionButtonClientList(e=this.tableRowSelected,i){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/data-provider/plan-client/LinkClientId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/plan-client/LinkClientId/"+e.id])}onActionButtonDataRow(e=this.tableRowSelected,i){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("MESSAGE.No_row_selected_for_viewing").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorAccessDelete();return}i?.ctrlKey?(this.link="/#/data-provider/log-client/LinkClientId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/log-client/LinkClientId/"+e.id])}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionButtonTransactionList(e=this.tableRowSelected,i){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/data-provider/transaction/LinkClientId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/transaction/LinkClientId/"+e.id])}};Eo.\u0275fac=function(i){return new(i||Eo)(M(Fi),M(G),M(Ue),M(He),M(N),M(O),M(Ge),M(lt),M(H),M(Oe))},Eo.\u0275cmp=L({type:Eo,selectors:[["app-data-provider-client-list"]],standalone:!1,features:[q],decls:71,vars:37,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["mat-menu-item","","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-cart-shopping","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","title"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["mat-menu-item","","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-circle-dollar","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-database","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-people","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let l=P();r(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(p){return m(l),w(t.viewGuideNotice,p)||(t.viewGuideNotice=p),u(p)}),I("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionButtonPrintRow())}),T(1,4),r(2,"app-data-provider-plan-tree",5),I("optionChange",function(p){return m(l),u(t.onActionSelectorSelect(p))}),a(),A(),Je(3,6)(4,7),T(5,8),r(6,"a",9),I("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),g(7,"i",10),a(),r(8,"a",9),I("click",function(){return m(l),u(t.onActionButtonReload())}),g(9,"i",11),a(),A(),T(10,12),r(11,"a",13),I("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(12,"mat-slide-toggle",14),c(13),S(14,"translate"),a(),r(15,"a",13),I("click",function(){return m(l),u(t.onActionButtonStatist())}),g(16,"mat-slide-toggle",14),c(17),S(18,"translate"),a(),A(),T(19,15),v(20,Gp,7,3,"div",16),A(),T(21,17),v(22,Hp,7,3,"div",16),v(23,Wp,7,3,"div",16),v(24,qp,7,3,"div",16),r(25,"div",16)(26,"a",18),I("click",function(){return m(l),u(t.onActionButtonClientCreditAccountRow(t.tableRowSelected))}),g(27,"i",19)(28,"br"),a(),r(29,"p",20),c(30,"client charge"),a()(),v(31,jp,7,3,"div",16),v(32,Up,7,3,"div",16),A(),T(33,21),r(34,"app-cms-search-list",22),D("optionsChange",function(p){return m(l),w(t.optionsSearch,p)||(t.optionsSearch=p),u(p)}),a(),r(35,"app-cms-statist-list",22),D("optionsChange",function(p){return m(l),w(t.optionsStatist,p)||(t.optionsStatist=p),u(p)}),a(),A(),T(36,23),r(37,"mat-table",24,0),I("matSortChange",function(){m(l);let p=R(38);return u(t.onTableSortData(p))}),T(39,25),V(40,Qp,3,3,"mat-header-cell",26)(41,zp,3,0,"mat-cell",27),A(),T(42,28),V(43,Kp,3,3,"mat-header-cell",29)(44,Xp,2,1,"mat-cell",27),A(),T(45,30),V(46,Yp,2,1,"mat-header-cell",29)(47,Zp,2,1,"mat-cell",27),A(),T(48,31),V(49,$p,2,1,"mat-header-cell",29)(50,em,4,5,"mat-cell",27),A(),T(51,32),V(52,tm,2,1,"mat-header-cell",29)(53,nm,4,4,"mat-cell",27),A(),T(54,33),V(55,om,2,1,"mat-header-cell",29)(56,rm,2,1,"mat-cell",27),A(),T(57,34),V(58,am,3,3,"mat-header-cell",26)(59,lm,6,1,"mat-cell",35),A(),T(60,36),V(61,sm,2,1,"mat-cell",27),A(),T(62,37),V(63,cm,17,4,"mat-cell",27),A(),V(64,pm,1,0,"mat-header-row",38)(65,mm,1,2,"mat-row",39)(66,um,1,2,"mat-row",40)(67,fm,1,5,"mat-row",41),a(),A(),T(68,42),r(69,"mat-paginator",43,1),I("page",function(p){return m(l),u(t.onTablePageingData(p))}),a(),A(),a()}i&2&&(f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","dataprovider.client.list"),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),F("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),f("checked",t.optionsSearch.data.show),o(),_("",h(14,30,"ACTION.SEARCH")," "),o(3),f("checked",t.optionsStatist.data.show),o(),_("",h(18,32,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?24:-1),o(7),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?31:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?32:-1),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),f("dataSource",t.tableSource),o(27),f("matHeaderRowDef",t.tabledisplayedColumns),o(),f("matRowDefColumns",qe(34,Fp)),o(),f("matRowDefColumns",t.tabledisplayedColumns),o(),f("matRowDefColumns",qe(35,Op)),o(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",qe(36,Np)))},dependencies:[De,Wt,Qe,je,K,ht,Nr,Ct,Le,_t,Ne,Xe,gt,Ze,vt,$e,Ye,bt,et,tt,Mt,It,Wi,we,pt,Pt,Dt,ii,Po,Be,B,yt,ge,ye],encapsulation:2});var wo=Eo;var Sm=(n,s)=>s.id;function hm(n,s){if(n&1){let e=P();r(0,"button",6),S(1,"translate"),I("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",14),a()}n&2&&j("aria-label",h(1,1,"ACTION.ADD"))}function Cm(n,s){if(n&1){let e=P();r(0,"div",10)(1,"app-cms-search-list",15),D("optionsChange",function(t){m(e);let l=d();return w(l.optionsSearch,t)||(l.optionsSearch=t),u(t)}),a()()}if(n&2){let e=d();o(),E("options",e.optionsSearch)}}function _m(n,s){if(n&1&&(r(0,"div",22),c(1),S(2,"cmssiteinfo"),S(3,"async"),a()),n&2){let e=d().$implicit;o(),_(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function gm(n,s){if(n&1&&(r(0,"div",22),g(1,"i",26),S(2,"statusIconClass"),a()),n&2){let e=d().$implicit;o(),f("ngClass",h(2,1,e.recordStatus))}}function vm(n,s){if(n&1){let e=P();r(0,"button",27),S(1,"translate"),I("click",function(t){m(e);let l=d().$implicit;return d(2).onActionButtonEditRow(l),u(t.stopPropagation())}),g(2,"i",28),a()}n&2&&j("aria-label",h(1,1,"ACTION.EDIT"))}function bm(n,s){if(n&1){let e=P();r(0,"button",29),S(1,"translate"),I("click",function(t){m(e);let l=d().$implicit;return d(2).onActionButtonDeleteRow(l),u(t.stopPropagation())}),g(2,"i",30),a()}n&2&&j("aria-label",h(1,1,"ACTION.DELETE"))}function Mm(n,s){if(n&1){let e=P();r(0,"div",17),I("click",function(){let t=m(e).$implicit,l=d(2);return u(l.onActionTableRowSelect(t))}),r(1,"div",18),g(2,"i",19),a(),r(3,"div",20)(4,"div",21),c(5),a(),v(6,_m,4,5,"div",22),v(7,gm,3,3,"div",22),a(),r(8,"div",23),v(9,vm,3,3,"button",24),v(10,bm,3,3,"button",25),a()()}if(n&2){let e=s.$implicit,i=d(2);F("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),j("aria-label",e.id||e.id),o(5),_(" ID: ",e.id," "),o(),b(e.linkSiteId?6:-1),o(),b(e.recordStatus!==void 0?7:-1),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?9:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow?10:-1)}}function Im(n,s){if(n&1&&(r(0,"div",12),Te(1,Mm,11,8,"div",16,Sm),a()),n&2){let e=d();o(),Ae(e.dataModelResult.listItems)}}function Pm(n,s){n&1&&(r(0,"div",13),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"MESSAGE.NoRecord")," "))}var Mn=class Mn extends wo{};Mn.\u0275fac=(()=>{let s;return function(i){return(s||(s=Et(Mn)))(i||Mn)}})(),Mn.\u0275cmp=L({type:Mn,selectors:[["app-data-provider-client-list-mobile"]],standalone:!1,features:[q],decls:19,vars:17,consts:[[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],[1,"cms-m-header-title"],[1,"cms-m-header-actions"],["type","button",1,"cms-m-header-action-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-magnifying-glass"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],["type","button",1,"cms-m-header-action-btn"],[1,"cms-m-search-area","safe-area-content"],[1,"cms-m-content","safe-area-content"],[1,"cms-m-list"],[1,"cms-m-empty","safe-area-content"],["aria-hidden","true",1,"fa-solid","fa-plus"],[3,"optionsChange","options"],["role","button","tabindex","0",1,"cms-m-list-item",3,"selected"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",1,"fa-solid","fa-user"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-actions"],[1,"cms-m-action-btn","edit"],[1,"cms-m-action-btn","delete"],[3,"ngClass"],[1,"cms-m-action-btn","edit",3,"click"],["aria-hidden","true",1,"fa-solid","fa-pen"],[1,"cms-m-action-btn","delete",3,"click"],["aria-hidden","true",1,"fa-solid","fa-trash"]],template:function(e,i){e&1&&(r(0,"div",0),g(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"h1",4),c(5),S(6,"translate"),a(),r(7,"div",5)(8,"button",6),S(9,"translate"),I("click",function(){return i.optionsSearch.data.show=!i.optionsSearch.data.show}),g(10,"i",7),a(),r(11,"button",6),S(12,"translate"),I("click",function(){return i.onActionButtonReload()}),g(13,"i",8),a(),v(14,hm,3,3,"button",9),a()()(),v(15,Cm,2,1,"div",10),r(16,"div",11),v(17,Im,3,0,"div",12)(18,Pm,3,3,"div",13),a()()),e&2&&(o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(4),_(" ",h(6,11,"ROUTE.DATAPROVIDER.CLIENT")," "),o(3),F("active",i.optionsSearch.data.show),j("aria-label",h(9,13,"ACTION.SEARCH")),o(3),j("aria-label",h(12,15,"ACTION.RELOAD")),o(2),F("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow&&(i.tokenHelper!=null&&i.tokenHelper.isAdminSite)?14:-1),o(),b(i.optionsSearch.data.show?15:-1),o(2),b(!(i.dataModelResult==null||i.dataModelResult.listItems==null)&&i.dataModelResult.listItems.length?17:18))},dependencies:[De,we,W,Be,B,yt,ye],styles:[".cms-m-body[_ngcontent-%COMP%]{min-height:100vh;background:var(--cms-m-bg, #0f172a);color:var(--cms-m-fg, #e2e8f0)}.cms-m-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2;background:var(--cms-m-header-bg, #0f172a);border-bottom:1px solid rgba(255,255,255,.08)}.cms-m-header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 16px}.cms-m-header-title[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:var(--cms-m-accent, #38bdf8)}.cms-m-header-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-left:auto}.cms-m-header-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:#ffffff0d;color:#e2e8f0;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.cms-m-header-action-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.cms-m-header-action-btn.active[_ngcontent-%COMP%]{background:#38bdf833;border-color:#38bdf866}.cms-m-header-action-btn[_ngcontent-%COMP%]   i.rotation360[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotation360 1s linear infinite}@keyframes _ngcontent-%COMP%_rotation360{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.cms-m-search-area[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px 16px}.cms-m-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.cms-m-list-item[_ngcontent-%COMP%]{display:flex;gap:12px;padding:12px;border-radius:14px;background:#ffffff0a;border:1px solid rgba(255,255,255,.06);cursor:pointer;transition:all .2s ease}.cms-m-list-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.cms-m-list-item.selected[_ngcontent-%COMP%]{border-color:var(--cms-m-accent, #38bdf8);box-shadow:0 0 0 1px #38bdf84d}.cms-m-list-item-image[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;overflow:hidden;flex-shrink:0}.cms-m-list-item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:grid;place-items:center;background:#38bdf81f;color:#38bdf8;flex-shrink:0}.cms-m-list-item-content[_ngcontent-%COMP%]{flex:1;min-width:0}.cms-m-list-item-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:4px;font-size:14px}.cms-m-list-item-subtitle[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8}.cms-m-list-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0}.cms-m-empty[_ngcontent-%COMP%]{padding:24px;text-align:center;color:#94a3b8}"]});var Zr=Mn;var Do=class Do{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};Do.\u0275fac=function(e){return new(e||Do)},Do.\u0275cmp=L({type:Do,selectors:[["app-data-provider-main"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&g(0,"router-outlet")},dependencies:[Na],encapsulation:2});var yo=Do;var Em=["vform"];function wm(n,s){if(n&1){let e=P();r(0,"app-cms-enum-record-status-selector",10),D("modelChange",function(t){m(e);let l=d();return w(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=d();E("model",e.dataModel.recordStatus),f("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Dm(n,s){if(n&1){let e=P();r(0,"div",9)(1,"button",11),I("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",12),c(3),S(4,"translate"),a(),r(5,"button",13),g(6,"i",14),c(7),S(8,"translate"),a()()}if(n&2){d();let e=R(10);o(3),_(" ",h(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!e.form.valid),o(2),_(" ",h(8,5,"ACTION.SAVE")," ")}}var To=class To extends st{constructor(e,i,t,l,C,p,k,Y){super(l,new hi,p,Y);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderPlanClientService=l;this.cmsToastrService=C;this.publicHelper=p;this.cdr=k;this.translate=Y;this.requestPlanId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Z;this.dataModel=new hi;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestPlanId=e.parentId||""),this.requestPlanId&&this.requestPlanId.length>0&&(this.dataModel.linkPlanId=this.requestPlanId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanClientService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPlanId=String(e.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};To.\u0275fac=function(i){return new(i||To)(M(se),M(le),M(ne),M(vi),M(G),M(H),M(N),M(O))},To.\u0275cmp=L({type:To,selectors:[["app-data-provider-plan-client-add"]],viewQuery:function(i,t){if(i&1&&U(Em,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:17,vars:16,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();r(0,"div",1),g(1,"app-progress-spinner",2),r(2,"div",3)(3,"p",4),c(4),a(),r(5,"p"),c(6),S(7,"translate"),a(),g(8,"app-cms-form-result-message",5),r(9,"form",6,0),I("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(11,wm,1,5,"app-cms-enum-record-status-selector",7),r(12,"app-data-provider-plan-category-selector",8),S(13,"translate"),I("optionChange",function(p){return m(l),u(t.onActionSelectorSelect(p))}),a(),r(14,"app-data-provider-plan-category-selector",8),S(15,"translate"),I("optionChange",function(p){return m(l),u(t.onActionSelectorSelect(p))}),a(),v(16,Dm,9,7,"div",9),a()()()}i&2&&(o(),f("optionsInfoAreaId",t.constructorInfoAreaId),o(3),_(" ",t.formInfo.formTitle," "),o(2),_(" ",h(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),f("optionSelectForce",t.dataModel.linkPlanId||"")("optionPlaceholder",h(13,12,"TITLE.Category")),o(2),f("optionSelectForce",t.dataModel.linkClientId)("optionPlaceholder",h(15,14,"TITLE.Category")),o(2),b(t.formInfo.submitButtonEnabled?16:-1))},dependencies:[_e,he,Ce,ve,W,fe,Jt,B],encapsulation:2});var $r=To;var ym=["vform"];function Tm(n,s){if(n&1){let e=P();r(0,"div",8)(1,"button",9),I("click",function(){m(e);let t=d();return u(t.onFormDelete())}),g(2,"i",10),c(3),S(4,"translate"),a(),r(5,"button",11),I("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(6,"i",12),c(7),S(8,"translate"),a()()}if(n&2){let e=d();o(),f("disabled",!e.formInfo.submitButtonEnabled),o(2),_(" ",h(4,3,"ACTION.DELETE")," "),o(4),_(" ",h(8,5,"ACTION.CANCEL")," ")}}var Ao=class Ao{constructor(s,e,i,t,l,C,p){this.data=s;this.dialogRef=e;this.publicHelper=i;this.dataProviderPlanClientService=t;this.cdr=l;this.translate=C;this.cmsToastrService=p;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new Z;this.formInfo=new Qt;this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=s.id||"")}ngOnInit(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderPlanClientService.setAccessLoad(),this.dataProviderPlanClientService.setAccessDataType(Re.Editor),this.dataProviderPlanClientService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onFormDelete(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderPlanClientService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ao.\u0275fac=function(e){return new(e||Ao)(M(se),M(le),M(H),M(vi),M(N),M(O),M(G))},Ao.\u0275cmp=L({type:Ao,selectors:[["app-data-provider-plan-client-delete"]],viewQuery:function(e,i){if(e&1&&U(ym,5),e&2){let t;Q(t=z())&&(i.formGroup=t.first)}},standalone:!1,decls:15,vars:11,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.linkPlanId",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.linkPlanId","type","text","required","","readonly","","id","dataModelResultContent.item.linkPlanId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){if(e&1){let t=P();r(0,"div",1),g(1,"app-progress-spinner",2),r(2,"div",3)(3,"p",4),c(4),a(),r(5,"p"),c(6),S(7,"translate"),a(),c(8),r(9,"div",5)(10,"label",6),c(11),a(),r(12,"input",7,0),D("ngModelChange",function(C){return m(t),w(i.dataModelResultContent.item.linkPlanId,C)||(i.dataModelResultContent.item.linkPlanId=C),u(C)}),a()(),v(14,Tm,9,7,"div",8),a()()}e&2&&(o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(3),_(" ",i.formInfo.formTitle," "),o(2),_(" ",h(7,9,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_(" ",i.formInfo.formTitle," "),o(3),y(i.fieldsInfo.linkPlanId==null?null:i.fieldsInfo.linkPlanId.fieldTitle),o(),f("placeholder",x(i.fieldsInfo.linkPlanId==null?null:i.fieldsInfo.linkPlanId.fieldTitle)),E("ngModel",i.dataModelResultContent.item.linkPlanId),o(2),b(i.formInfo.submitButtonEnabled?14:-1))},dependencies:[ee,te,Ie,ce,K,W,B],encapsulation:2});var ea=Ao;var Am=["vform"];function xm(n,s){if(n&1){let e=P();r(0,"app-cms-enum-record-status-selector",10),D("modelChange",function(t){m(e);let l=d();return w(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=d();E("model",e.dataModel.recordStatus),f("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Rm(n,s){if(n&1){let e=P();r(0,"div",9)(1,"button",11),I("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",12),c(3),S(4,"translate"),a(),r(5,"button",13),g(6,"i",14),c(7),S(8,"translate"),a()()}if(n&2){d();let e=R(10);o(3),_(" ",h(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!e.form.valid),o(2),_(" ",h(8,5,"ACTION.SAVE")," ")}}var xo=class xo extends dt{constructor(e,i,t,l,C,p,k,Y){super(l,new hi,p,Y);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.DataProviderPlanClientService=l;this.cmsToastrService=C;this.publicHelper=p;this.cdr=k;this.translate=Y;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ot;this.dataModel=new hi;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id||""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.DataProviderPlanClientService.setAccessLoad(),this.DataProviderPlanClientService.setAccessDataType(Re.Editor),this.DataProviderPlanClientService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.DataProviderPlanClientService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPlanId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};xo.\u0275fac=function(i){return new(i||xo)(M(se),M(le),M(ne),M(vi),M(G),M(H),M(N),M(O))},xo.\u0275cmp=L({type:xo,selectors:[["app-data-provider-plan-client-edit"]],viewQuery:function(i,t){if(i&1&&U(Am,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:17,vars:16,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();r(0,"div",1),g(1,"app-progress-spinner",2),r(2,"div",3)(3,"p",4),c(4),a(),r(5,"p"),c(6),S(7,"translate"),a(),g(8,"app-cms-form-result-message",5),r(9,"form",6,0),I("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(11,xm,1,5,"app-cms-enum-record-status-selector",7),r(12,"app-data-provider-plan-category-selector",8),S(13,"translate"),I("optionChange",function(p){return m(l),u(t.onActionSelectorSelect(p))}),a(),r(14,"app-data-provider-plan-category-selector",8),S(15,"translate"),I("optionChange",function(p){return m(l),u(t.onActionSelectorSelect(p))}),a(),v(16,Rm,9,7,"div",9),a()()()}i&2&&(o(),f("optionsInfoAreaId",t.constructorInfoAreaId),o(3),_(" ",t.formInfo.formTitle," "),o(2),_(" ",h(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),f("optionSelectForce",t.dataModel.linkPlanId)("optionPlaceholder",h(13,12,"TITLE.Category")),o(2),f("optionSelectForce",t.dataModel.linkClientId)("optionPlaceholder",h(15,14,"TITLE.Category")),o(2),b(t.formInfo.submitButtonEnabled?16:-1))},dependencies:[_e,he,Ce,ve,W,fe,Jt,B],encapsulation:2});var ta=xo;var km=()=>[5,10,20,100],Lm=n=>({display:n});function Vm(n,s){if(n&1){let e=P();r(0,"div",15)(1,"a",34),I("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",35)(3,"br"),a(),r(4,"p",36),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.ADD")," "))}function Bm(n,s){if(n&1){let e=P();r(0,"div",15)(1,"a",37),I("click",function(){m(e);let t=d();return u(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",38)(3,"br"),a(),r(4,"p",36),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.EDIT")," "))}function Fm(n,s){if(n&1){let e=P();r(0,"div",15)(1,"a",39),I("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",40)(3,"br"),a(),r(4,"p",36),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.DELETE")," "))}function Om(n,s){if(n&1&&(r(0,"mat-header-cell",41),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Nm(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),_(" ",e.id," ")}}function Gm(n,s){if(n&1&&(r(0,"mat-header-cell",41),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Hm(n,s){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),a()),n&2){let e=s.$implicit;o(),_(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function Wm(n,s){if(n&1&&(r(0,"mat-header-cell",41),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function qm(n,s){if(n&1&&g(0,"select",43),n&2){let e=d().$implicit,i=d();f("contentService",i.contentService)("row",e)("ngStyle",xt(3,Lm,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function jm(n,s){if(n&1&&(r(0,"mat-cell"),g(1,"i",42),S(2,"statusIconClass"),v(3,qm,1,5,"select",43),a()),n&2){let e=s.$implicit,i=d();o(),f("ngClass",h(2,2,e.recordStatus)),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?3:-1)}}function Um(n,s){if(n&1&&(r(0,"mat-header-cell",41),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function Qm(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),_(" ",e.expireDate," ")}}function zm(n,s){n&1&&(r(0,"mat-header-cell"),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"TITLE.OPTION")," "))}function Km(n,s){if(n&1&&(r(0,"mat-cell",44)(1,"button",45)(2,"mat-icon"),c(3,"more_vert"),a()(),g(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),f("matMenuTriggerFor",e)}}function Jm(n,s){n&1&&g(0,"mat-header-row")}function Xm(n,s){if(n&1){let e=P();r(0,"mat-row",46),I("click",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))}),a()}if(n&2){let e=s.$implicit,i=d();F("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ro=class Ro extends ct{constructor(e,i,t,l,C,p,k,Y,ke,Ke,We){super(e,new hi,Ke,C,Y);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.router=l;this.tokenHelper=C;this.cmsStoreService=p;this.cdr=k;this.translate=Y;this.pageInfo=ke;this.publicHelper=Ke;this.dialog=We;this.requestLinkPlanId="";this.requestLinkClientId="";this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new ae;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","ExpireDate"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","ExpireDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:it=>this.onSubmitOptionsSearch(it)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=re.Descending}ngOnInit(){if(this.requestLinkPlanId=this.activatedRoute.snapshot.paramMap.get("LinkPlanId")||"",this.requestLinkPlanId&&this.requestLinkPlanId.length>0){let e=new J;e.propertyName="LinkPlanId",e.value=this.requestLinkPlanId,this.filteModelContent.filters.push(e)}if(this.requestLinkClientId&&this.requestLinkClientId.length>0){let e=new J;e.propertyName="LinkClientId",e.value=this.requestLinkClientId,this.filteModelContent.filters.push(e)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Me(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new hi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&(typeof this.categoryModelSelected.id=="string"?this.categoryModelSelected.id.length>0:this.categoryModelSelected.id>0)){let t=new J;t.propertyName="LinkCategoryId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=re.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=re.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=re.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new ae,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryModelSelected==null||(typeof this.categoryModelSelected.id=="string"?this.categoryModelSelected.id.length===0:this.categoryModelSelected.id===0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=new at;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={parentId:this.categoryModelSelected.id},this.dialog.open($r,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}let i=new at;i.disableClose=!0,i.autoFocus=!0,i.data={id:this.tableRowSelected.id},this.dialog.open(ta,i).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ea,{height:"40%",panelClass:i,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),C=new J;C.propertyName="recordStatus",C.value=nt.Available,l.filters.push(C),this.contentService.ServiceGetCount(l).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Ro.\u0275fac=function(i){return new(i||Ro)(M(vi),M(Bt),M(G),M(Ue),M(He),M(Ge),M(N),M(O),M(lt),M(H),M(Oe))},Ro.\u0275cmp=L({type:Ro,selectors:[["app-data-provider-plan-client-list"]],standalone:!1,features:[q],decls:50,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=P();r(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(p){return m(l),w(t.viewGuideNotice,p)||(t.viewGuideNotice=p),u(p)}),I("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionButtonPrintRow())}),T(1,4),c(2," -------------------------------------- "),A(),Je(3,5)(4,6),T(5,7),r(6,"a",8),I("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),g(7,"i",9),a(),r(8,"a",8),I("click",function(){return m(l),u(t.onActionButtonReload())}),g(9,"i",10),a(),A(),T(10,11),r(11,"a",12),I("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(12,"mat-slide-toggle",13),c(13),S(14,"translate"),a(),r(15,"a",12),I("click",function(){return m(l),u(t.onActionButtonStatist())}),g(16,"mat-slide-toggle",13),c(17),S(18,"translate"),a(),A(),T(19,14),v(20,Vm,7,3,"div",15),A(),T(21,16),v(22,Bm,7,3,"div",15),v(23,Fm,7,3,"div",15),A(),T(24,17),r(25,"app-cms-search-list",18),D("optionsChange",function(p){return m(l),w(t.optionsSearch,p)||(t.optionsSearch=p),u(p)}),a(),r(26,"app-cms-statist-list",18),D("optionsChange",function(p){return m(l),w(t.optionsStatist,p)||(t.optionsStatist=p),u(p)}),a(),A(),T(27,19),r(28,"mat-table",20,0),I("matSortChange",function(){m(l);let p=R(29);return u(t.onTableSortData(p))}),T(30,21),V(31,Om,2,1,"mat-header-cell",22)(32,Nm,2,1,"mat-cell",23),A(),T(33,24),V(34,Gm,2,1,"mat-header-cell",22)(35,Hm,4,5,"mat-cell",23),A(),T(36,25),V(37,Wm,2,1,"mat-header-cell",22)(38,jm,4,4,"mat-cell",23),A(),T(39,26),V(40,Um,2,1,"mat-header-cell",22)(41,Qm,2,1,"mat-cell",23),A(),T(42,27),V(43,zm,3,3,"mat-header-cell",28)(44,Km,6,1,"mat-cell",29),A(),V(45,Jm,1,0,"mat-header-row",30)(46,Xm,1,2,"mat-row",31),a(),A(),T(47,32),r(48,"mat-paginator",33,1),I("page",function(p){return m(l),u(t.onTablePageingData(p))}),a(),A(),a()}i&2&&(f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),F("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),f("checked",t.optionsSearch.data.show),o(),_("",h(14,25,"ACTION.SEARCH")," "),o(3),f("checked",t.optionsStatist.data.show),o(),_("",h(18,27,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow&&(t.categoryModelSelected==null?null:t.categoryModelSelected.id)>0?20:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),f("dataSource",t.tableSource),o(17),f("matHeaderRowDef",t.tabledisplayedColumns),o(),f("matRowDefColumns",t.tabledisplayedColumns),o(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",qe(29,km)))},dependencies:[De,Wt,Qe,je,K,ht,Ct,Le,_t,Ne,Xe,gt,Ze,vt,$e,Ye,bt,et,tt,Mt,It,we,pt,Pt,Dt,ii,Be,B,yt,ye],encapsulation:2});var dn=Ro;var Ym=(n,s)=>s.id;function Zm(n,s){if(n&1){let e=P();r(0,"button",6),S(1,"translate"),I("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",14),a()}n&2&&j("aria-label",h(1,1,"ACTION.ADD"))}function $m(n,s){if(n&1){let e=P();r(0,"div",10)(1,"app-cms-search-list",15),D("optionsChange",function(t){m(e);let l=d();return w(l.optionsSearch,t)||(l.optionsSearch=t),u(t)}),a()()}if(n&2){let e=d();o(),E("options",e.optionsSearch)}}function eu(n,s){if(n&1&&(r(0,"div",22),c(1),S(2,"date"),a()),n&2){let e=d().$implicit;o(),_(" Expire: ",kt(2,1,e.expireDate,"short")," ")}}function tu(n,s){if(n&1&&(r(0,"div",22),c(1),S(2,"cmssiteinfo"),S(3,"async"),a()),n&2){let e=d().$implicit;o(),_(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function iu(n,s){if(n&1&&(r(0,"div",22),g(1,"i",26),S(2,"statusIconClass"),a()),n&2){let e=d().$implicit;o(),f("ngClass",h(2,1,e.recordStatus))}}function nu(n,s){if(n&1){let e=P();r(0,"button",27),S(1,"translate"),I("click",function(t){m(e);let l=d().$implicit;return d(2).onActionButtonEditRow(l),u(t.stopPropagation())}),g(2,"i",28),a()}n&2&&j("aria-label",h(1,1,"ACTION.EDIT"))}function ou(n,s){if(n&1){let e=P();r(0,"button",29),S(1,"translate"),I("click",function(t){m(e);let l=d().$implicit;return d(2).onActionButtonDeleteRow(l),u(t.stopPropagation())}),g(2,"i",30),a()}n&2&&j("aria-label",h(1,1,"ACTION.DELETE"))}function ru(n,s){if(n&1){let e=P();r(0,"div",17),I("click",function(){let t=m(e).$implicit,l=d(2);return u(l.onActionTableRowSelect(t))}),r(1,"div",18),g(2,"i",19),a(),r(3,"div",20)(4,"div",21),c(5),a(),v(6,eu,3,4,"div",22),v(7,tu,4,5,"div",22),v(8,iu,3,3,"div",22),a(),r(9,"div",23),v(10,nu,3,3,"button",24),v(11,ou,3,3,"button",25),a()()}if(n&2){let e=s.$implicit,i=d(2);F("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),j("aria-label",e.id||e.id),o(5),_(" ID: ",e.id," "),o(),b(e.expireDate?6:-1),o(),b(e.linkSiteId?7:-1),o(),b(e.recordStatus!==void 0?8:-1),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?10:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow?11:-1)}}function au(n,s){if(n&1&&(r(0,"div",12),Te(1,ru,12,9,"div",16,Ym),a()),n&2){let e=d();o(),Ae(e.dataModelResult.listItems)}}function lu(n,s){n&1&&(r(0,"div",13),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"MESSAGE.NoRecord")," "))}var In=class In extends dn{};In.\u0275fac=(()=>{let s;return function(i){return(s||(s=Et(In)))(i||In)}})(),In.\u0275cmp=L({type:In,selectors:[["app-data-provider-plan-client-list-mobile"]],standalone:!1,features:[q],decls:19,vars:17,consts:[[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],[1,"cms-m-header-title"],[1,"cms-m-header-actions"],["type","button",1,"cms-m-header-action-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-magnifying-glass"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],["type","button",1,"cms-m-header-action-btn"],[1,"cms-m-search-area","safe-area-content"],[1,"cms-m-content","safe-area-content"],[1,"cms-m-list"],[1,"cms-m-empty","safe-area-content"],["aria-hidden","true",1,"fa-solid","fa-plus"],[3,"optionsChange","options"],["role","button","tabindex","0",1,"cms-m-list-item",3,"selected"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",1,"fa-solid","fa-link"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-actions"],[1,"cms-m-action-btn","edit"],[1,"cms-m-action-btn","delete"],[3,"ngClass"],[1,"cms-m-action-btn","edit",3,"click"],["aria-hidden","true",1,"fa-solid","fa-pen"],[1,"cms-m-action-btn","delete",3,"click"],["aria-hidden","true",1,"fa-solid","fa-trash"]],template:function(e,i){e&1&&(r(0,"div",0),g(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"h1",4),c(5),S(6,"translate"),a(),r(7,"div",5)(8,"button",6),S(9,"translate"),I("click",function(){return i.optionsSearch.data.show=!i.optionsSearch.data.show}),g(10,"i",7),a(),r(11,"button",6),S(12,"translate"),I("click",function(){return i.onActionButtonReload()}),g(13,"i",8),a(),v(14,Zm,3,3,"button",9),a()()(),v(15,$m,2,1,"div",10),r(16,"div",11),v(17,au,3,0,"div",12)(18,lu,3,3,"div",13),a()()),e&2&&(o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(4),_(" ",h(6,11,"ROUTE.DATAPROVIDER.PLANCLIENT")," "),o(3),F("active",i.optionsSearch.data.show),j("aria-label",h(9,13,"ACTION.SEARCH")),o(3),j("aria-label",h(12,15,"ACTION.RELOAD")),o(2),F("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow&&(i.tokenHelper!=null&&i.tokenHelper.isAdminSite)?14:-1),o(),b(i.optionsSearch.data.show?15:-1),o(2),b(!(i.dataModelResult==null||i.dataModelResult.listItems==null)&&i.dataModelResult.listItems.length?17:18))},dependencies:[De,we,W,Be,On,B,yt,ye],styles:[".cms-m-body[_ngcontent-%COMP%]{min-height:100vh;background:var(--cms-m-bg, #0f172a);color:var(--cms-m-fg, #e2e8f0)}.cms-m-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2;background:var(--cms-m-header-bg, #0f172a);border-bottom:1px solid rgba(255,255,255,.08)}.cms-m-header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 16px}.cms-m-header-title[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:var(--cms-m-accent, #38bdf8)}.cms-m-header-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-left:auto}.cms-m-header-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:#ffffff0d;color:#e2e8f0;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.cms-m-header-action-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.cms-m-header-action-btn.active[_ngcontent-%COMP%]{background:#38bdf833;border-color:#38bdf866}.cms-m-header-action-btn[_ngcontent-%COMP%]   i.rotation360[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotation360 1s linear infinite}@keyframes _ngcontent-%COMP%_rotation360{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.cms-m-search-area[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px 16px}.cms-m-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.cms-m-list-item[_ngcontent-%COMP%]{display:flex;gap:12px;padding:12px;border-radius:14px;background:#ffffff0a;border:1px solid rgba(255,255,255,.06);cursor:pointer;transition:all .2s ease}.cms-m-list-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.cms-m-list-item.selected[_ngcontent-%COMP%]{border-color:var(--cms-m-accent, #38bdf8);box-shadow:0 0 0 1px #38bdf84d}.cms-m-list-item-image[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;overflow:hidden;flex-shrink:0}.cms-m-list-item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:grid;place-items:center;background:#38bdf81f;color:#38bdf8;flex-shrink:0}.cms-m-list-item-content[_ngcontent-%COMP%]{flex:1;min-width:0}.cms-m-list-item-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:4px;font-size:14px}.cms-m-list-item-subtitle[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8}.cms-m-list-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0}.cms-m-empty[_ngcontent-%COMP%]{padding:24px;text-align:center;color:#94a3b8}"]});var ko=In;var su=["*"];function du(n,s){if(n&1&&(r(0,"label",3),c(1),a()),n&2){let e=d();f("for",Nt("app-cms-site-selector-",e.id)),o(),y(e.optionLabel)}}function cu(n,s){if(n&1&&(g(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=d();f("src",x(h(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),X)}}function pu(n,s){if(n&1&&(g(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;f("src",x(h(1,2,e.linkMainImageIdSrc)),X)}}function mu(n,s){if(n&1&&(r(0,"mat-option",8),v(1,pu,2,4,"img",5),r(2,"span"),c(3),a()()),n&2){let e=s.$implicit,i=d();f("value",e)("disabled",i.optionDisabled),o(),b(e.linkMainImageIdSrc?1:-1),o(2),y(i.displayOption(e))}}function uu(n,s){n&1&&g(0,"i",9)}function fu(n,s){n&1&&g(0,"i",10)}function Su(n,s){if(n&1){let e=P();r(0,"i",13),I("click",function(){m(e);let t=d();return u(t.onActionSelectClear())}),a()}}function hu(n,s){n&1&&(r(0,"em"),c(1),S(2,"translate"),a()),n&2&&(o(),_("(",h(2,1,"TITLE.Necessary"),")"))}var cn=class cn{constructor(s,e,i,t,l,C){this.coreEnumService=s;this.cmsToastrService=e;this.translate=i;this.cdr=t;this.publicHelper=l;this.categoryService=C;this.id=++cn.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Z;this.dataModelSelect=new rt;this.formControl=new ti;this.optionPlaceholder="";this.optionSelectFirstItem=!1;this.optionDisabled=!1;this.optionRequired=!1;this.optionLabel="";this.optionChange=new wt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(ui(""),pi(1500),mi(),fi(s=>typeof s=="string"||typeof s=="number"?this.DataGetAll(s||""):[]))}displayFn(s){return s?s.title:void 0}displayOption(s){return s?s.title:void 0}DataGetAll(s){return Me(this,null,function*(){let e=new ae;e.rowPerPage=20,e.accessLoad=!0;let i=new J;i.propertyName="title",i.value=s,i.searchType=Lt.Contains,i.clauseType=Ft.Or,e.filters.push(i),s&&typeof+s=="number"&&+s>0&&(i=new J,i.propertyName="id",i.value=s,i.searchType=Lt.Equal,i.clauseType=Ft.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),yield di(this.categoryService.ServiceGetAll(e)).then(l=>(this.dataModelResult=l,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||(typeof this.dataModelSelect.id=="string"?this.dataModelSelect.id.length===0:this.dataModelSelect.id<=0))&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),l.listItems))})}onActionSelect(s){this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(s){return this.filteredOptions.pipe(ci(e=>(e.find(i=>i.id===s.id)||e.push(s),e)))}onActionSelectForce(s){if(typeof s=="string"&&s.length>0||typeof s=="number"&&s>0){let e=typeof s=="string"?s:String(s);if(this.dataModelSelect&&String(this.dataModelSelect.id)===e)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>String(i.id)===e)){let i=this.dataModelResult.listItems.find(t=>String(t.id)===e);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(e).subscribe({next:i=>{i.isSuccess?(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item)):this.cmsToastrService.typeErrorMessage(i.errorMessage)}});return}if(typeof s==typeof rt){this.filteredOptions=this.push(s),this.dataModelSelect=s,this.formControl.setValue(s);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new rt,this.loadOptions()}};cn.nextId=0,cn.\u0275fac=function(e){return new(e||cn)(M(ne),M(G),M(O),M(N),M(H),M(jt))},cn.\u0275cmp=L({type:cn,selectors:[["app-data-provider-plan-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:su,decls:18,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=P();Vi(),r(0,"div",1),g(1,"app-progress-spinner",2),v(2,du,2,3,"label",3),r(3,"span",4),v(4,cu,2,4,"img",5),a(),g(5,"input",6),r(6,"mat-autocomplete",7,0),I("optionSelected",function(C){return m(t),u(i.onActionSelect(C.option.value))}),Te(8,mu,4,4,"mat-option",8,Si),S(10,"async"),a(),v(11,uu,1,0,"i",9),v(12,fu,1,0,"i",10),v(13,Su,1,0,"i",11),r(14,"i",12),S(15,"translate"),I("click",function(){return m(t),u(i.onActionButtonReload())}),a(),v(16,hu,3,3,"em"),Bi(17),a()}if(e&2){let t=R(7);o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(),b((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),b(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),f("placeholder",x(i.optionPlaceholder))("id",Nt("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),j("disabled",i.optionDisabled?!0:null),o(),f("displayWith",i.displayFn),o(2),Ae(h(10,20,i.filteredOptions)),o(3),b(i.formControl.valid?-1:11),o(),b(i.optionRequired&&i.formControl.valid?12:-1),o(),b((i.dataModelSelect==null?null:i.dataModelSelect.id)>0?13:-1),o(),F("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),f("title",x(h(15,22,"ACTION.RELOAD"))),o(2),b(i.optionRequired&&!((i.dataModelSelect==null?null:i.dataModelSelect.id)>0)?16:-1)}},dependencies:[ee,te,Ie,Pi,Di,Ei,yi,qi,K,W,Be,B,ge],encapsulation:2});var Lo=cn;var Cu=["vform"];function _u(n,s){if(n&1){let e=P();r(0,"app-cms-enum-record-status-selector",27),D("modelChange",function(t){m(e);let l=d();return w(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=d();E("model",e.dataModel.recordStatus),f("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function gu(n,s){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function vu(n,s){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function bu(n,s){if(n&1&&(g(0,"img",21),S(1,"cmsthumbnail")),n&2){let e=d();f("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),X)}}function Mu(n,s){if(n&1){let e=P();r(0,"div",14)(1,"label",28),I("click",function(){m(e);let t=d();return u(t.fileManagerOpenForm=!0)}),c(2),S(3,"translate"),a(),r(4,"input",29,5),S(6,"translate"),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),u(t)}),I("click",function(){m(e);let t=d();return u(t.fileManagerOpenForm=!0)}),a(),r(7,"cms-file-manager",30),I("itemSelected",function(t){m(e);let l=d();return u(l.onActionFileSelected(t))}),D("openFormChange",function(t){m(e);let l=d();return w(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),u(t)}),a()()}if(n&2){let e=d();o(2),y(h(3,12,"TITLE.Icon_File")),o(2),f("placeholder",x(h(6,14,"TITLE.Original_File_ID"))),E("ngModel",e.dataModel.linkMainImageId),o(3),f("language",e.appLanguage)("isPopup",!0),E("openForm",e.fileManagerOpenForm),f("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Iu(n,s){if(n&1){let e=P();r(0,"div",26)(1,"button",31),I("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",32),c(3),S(4,"translate"),a(),r(5,"button",33),g(6,"i",34),c(7),S(8,"translate"),a()()}if(n&2){d();let e=R(10);o(3),_(" ",h(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!e.form.valid),o(2),_(" ",h(8,5,"ACTION.SAVE")," ")}}var Vo=class Vo extends st{constructor(e,i,t,l,C,p,k,Y,ke){super(l,new Zi,k,ke);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataproviderplanpriceservice=l;this.cmsToastrService=C;this.coreSiteService=p;this.publicHelper=k;this.cdr=Y;this.translate=ke;this.requestLinkPlanId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.currency="";this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Z;this.dataModel=new Zi;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestLinkPlanId=e.linkPlanId||""),this.requestLinkPlanId&&this.requestLinkPlanId.length>0&&(this.dataModel.linkPlanId=this.requestLinkPlanId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.DataGetCurrency()}DataGetCurrency(){this.coreSiteService.ServiceGetCurrencyMaster().subscribe({next:e=>{e.isSuccess?this.currency=e.item:this.cmsToastrService.typeErrorMessage(e.errorMessage)},error:e=>{this.cmsToastrService.typeError(e)}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataproviderplanpriceservice.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("MESSAGE.Information_plan_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPlanId=String(e.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Vo.\u0275fac=function(i){return new(i||Vo)(M(se),M(le),M(ne),M(Oi),M(G),M(Hn),M(H),M(N),M(O))},Vo.\u0275cmp=L({type:Vo,selectors:[["app-data-provider-plan-price-add"]],viewQuery:function(i,t){if(i&1&&U(Cu,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:47,vars:34,consts:[["vform","ngForm"],["Title",""],["Description",""],["PeriodDay",""],["Price",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.periodDay",1,"color-highlight"],["matInput","","type","number","name","dataModel.periodDay","placeholder","0","id","dataModel.periodDay",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.price",1,"color-highlight"],["matInput","","type","number","name","dataModel.price","placeholder","0","id","dataModel.price",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();r(0,"div",6),g(1,"app-progress-spinner",7),r(2,"div",8)(3,"p",9),c(4),a(),r(5,"p"),c(6),S(7,"translate"),a(),g(8,"app-cms-form-result-message",10),r(9,"form",11,0),I("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(11,_u,1,5,"app-cms-enum-record-status-selector",12),r(12,"app-data-provider-plan-selector",13),S(13,"translate"),I("optionChange",function(p){return m(l),u(t.onActionSelectorSelect(p))}),a(),r(14,"div",14)(15,"label",15),c(16),a(),r(17,"input",16,1),D("ngModelChange",function(p){return m(l),w(t.dataModel.title,p)||(t.dataModel.title=p),u(p)}),a(),r(19,"em"),c(20),a(),v(21,gu,5,3,"mat-error"),a(),r(22,"div",14)(23,"label",17),c(24),a(),r(25,"textarea",18,2),D("ngModelChange",function(p){return m(l),w(t.dataModel.description,p)||(t.dataModel.description=p),u(p)}),c(27,"          "),a(),r(28,"em"),c(29),a(),v(30,vu,5,3,"mat-error"),a(),r(31,"div",19)(32,"a",20),S(33,"cmsthumbnail"),v(34,bu,2,4,"img",21),a()(),v(35,Mu,8,16,"div",14),r(36,"div",14)(37,"label",22),c(38),a(),r(39,"input",23,3),D("ngModelChange",function(p){return m(l),w(t.dataModel.periodDay,p)||(t.dataModel.periodDay=p),u(p)}),a()(),r(41,"div",14)(42,"label",24),c(43),a(),r(44,"input",25,4),D("ngModelChange",function(p){return m(l),w(t.dataModel.price,p)||(t.dataModel.price=p),u(p)}),a()(),v(46,Iu,9,7,"div",26),a()()()}if(i&2){let l=R(18),C=R(26);o(),f("optionsInfoAreaId",t.constructorInfoAreaId),o(3),_(" ",t.formInfo.formTitle," "),o(2),_(" ",h(7,28,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),f("optionSelectForce",t.dataModel.linkPlanId||"")("optionPlaceholder",h(13,30,"TITLE.Information_Plan")),o(4),y(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),f("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.title),o(3),_("",l.value.length," / 100"),o(),b(l.errors!=null&&l.errors.required?21:-1),o(3),y(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),f("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),E("ngModel",t.dataModel.description),o(4),_("",C.value.length," / 500"),o(),b(C.errors!=null&&C.errors.required?30:-1),o(2),f("href",x(h(33,32,t.dataModel.linkMainImageIdSrc)),X),o(2),b((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?34:-1),o(),b(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?35:-1),o(3),y(t.fieldsInfo.periodDay==null?null:t.fieldsInfo.periodDay.fieldTitle),o(),E("ngModel",t.dataModel.periodDay),o(4),y(t.fieldsInfo.price==null?null:t.fieldsInfo.price.fieldTitle),o(),E("ngModel",t.dataModel.price),o(2),b(t.formInfo.submitButtonEnabled?46:-1)}},dependencies:[_e,ee,Ii,te,he,Pe,Ee,ce,Ce,Fe,K,ve,W,fe,zt,Rt,Lo,B,ge],encapsulation:2});var ia=Vo;var Pu=["vform"];function Eu(n,s){if(n&1){let e=P();r(0,"div",8)(1,"button",9),I("click",function(){m(e);let t=d();return u(t.onFormDelete())}),g(2,"i",10),c(3),S(4,"translate"),a(),r(5,"button",11),I("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(6,"i",12),c(7),S(8,"translate"),a()()}if(n&2){let e=d();o(),f("disabled",!e.formInfo.submitButtonEnabled),o(2),_(" ",h(4,3,"ACTION.DELETE")," "),o(4),_(" ",h(8,5,"ACTION.CANCEL")," ")}}var Bo=class Bo{constructor(s,e,i,t,l,C,p){this.data=s;this.dialogRef=e;this.publicHelper=i;this.dataproviderplanservice=t;this.cdr=l;this.translate=C;this.cmsToastrService=p;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new Z;this.formInfo=new Qt;this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=s.id||"")}ngOnInit(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataproviderplanservice.setAccessLoad(),this.dataproviderplanservice.setAccessDataType(Re.Editor),this.dataproviderplanservice.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onFormDelete(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataproviderplanservice.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Bo.\u0275fac=function(e){return new(e||Bo)(M(se),M(le),M(H),M(Oi),M(N),M(O),M(G))},Bo.\u0275cmp=L({type:Bo,selectors:[["app-data-provider-plan-price-delete"]],viewQuery:function(e,i){if(e&1&&U(Pu,5),e&2){let t;Q(t=z())&&(i.formGroup=t.first)}},standalone:!1,decls:14,vars:10,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.title",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.title","type","text","required","","readonly","","id","dataModelResultContent.item.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){if(e&1){let t=P();r(0,"div",1),g(1,"app-progress-spinner",2),r(2,"div",3)(3,"p",4),c(4),a(),r(5,"p"),c(6),S(7,"translate"),a(),r(8,"div",5)(9,"label",6),c(10),a(),r(11,"input",7,0),D("ngModelChange",function(C){return m(t),w(i.dataModelResultContent.item.title,C)||(i.dataModelResultContent.item.title=C),u(C)}),a()(),v(13,Eu,9,7,"div",8),a()()}e&2&&(o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(3),_(" ",i.formInfo.formTitle," "),o(2),_(" ",h(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),f("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModelResultContent.item.title),o(2),b(i.formInfo.submitButtonEnabled?13:-1))},dependencies:[ee,te,Ie,ce,K,W,B],encapsulation:2});var na=Bo;var wu=["vform"];function Du(n,s){if(n&1){let e=P();r(0,"app-cms-enum-record-status-selector",27),D("modelChange",function(t){m(e);let l=d();return w(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=d();E("model",e.dataModel.recordStatus),f("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function yu(n,s){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function Tu(n,s){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function Au(n,s){if(n&1&&(g(0,"img",21),S(1,"cmsthumbnail")),n&2){let e=d();f("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),X)}}function xu(n,s){if(n&1){let e=P();r(0,"div",14)(1,"label",28),I("click",function(){m(e);let t=d();return u(t.fileManagerOpenForm=!0)}),c(2),S(3,"translate"),a(),r(4,"input",29,5),S(6,"translate"),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),u(t)}),I("click",function(){m(e);let t=d();return u(t.fileManagerOpenForm=!0)}),a(),r(7,"cms-file-manager",30),I("itemSelected",function(t){m(e);let l=d();return u(l.onActionFileSelected(t))}),D("openFormChange",function(t){m(e);let l=d();return w(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),u(t)}),a()()}if(n&2){let e=d();o(2),y(h(3,12,"TITLE.Icon_File")),o(2),f("placeholder",x(h(6,14,"TITLE.Original_File_ID"))),E("ngModel",e.dataModel.linkMainImageId),o(3),f("language",e.appLanguage)("isPopup",!0),E("openForm",e.fileManagerOpenForm),f("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Ru(n,s){if(n&1){let e=P();r(0,"div",26)(1,"button",31),I("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",32),c(3),S(4,"translate"),a(),r(5,"button",33),g(6,"i",34),c(7),S(8,"translate"),a()()}if(n&2){d();let e=R(10);o(3),_(" ",h(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!e.form.valid),o(2),_(" ",h(8,5,"ACTION.SAVE")," ")}}var Fo=class Fo extends dt{constructor(e,i,t,l,C,p,k,Y,ke){super(l,new Zi,k,ke);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataproviderplanpriceservice=l;this.cmsToastrService=C;this.coreSiteService=p;this.publicHelper=k;this.cdr=Y;this.translate=ke;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.currency="";this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ot;this.dataModel=new Zi;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id||""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetCurrency()}DataGetCurrency(){this.coreSiteService.ServiceGetCurrencyMaster().subscribe({next:e=>{e.isSuccess&&(this.currency=e.item)},error:e=>{this.cmsToastrService.typeError(e)}})}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataproviderplanpriceservice.setAccessLoad(),this.dataproviderplanpriceservice.setAccessDataType(Re.Editor),this.dataproviderplanpriceservice.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataproviderplanpriceservice.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("MESSAGE.Information_plan_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPlanId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Fo.\u0275fac=function(i){return new(i||Fo)(M(se),M(le),M(ne),M(Oi),M(G),M(Hn),M(H),M(N),M(O))},Fo.\u0275cmp=L({type:Fo,selectors:[["app-data-provider-plan-price-edit"]],viewQuery:function(i,t){if(i&1&&U(wu,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:47,vars:34,consts:[["vform","ngForm"],["Title",""],["Description",""],["PeriodDay",""],["Price",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.periodDay",1,"color-highlight"],["matInput","","type","number","name","dataModel.periodDay","placeholder","0","id","dataModel.periodDay",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.price",1,"color-highlight"],["matInput","","type","number","name","dataModel.price","placeholder","0","id","dataModel.price",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();r(0,"div",6),g(1,"app-progress-spinner",7),r(2,"div",8)(3,"p",9),c(4),a(),r(5,"p"),c(6),S(7,"translate"),a(),g(8,"app-cms-form-result-message",10),r(9,"form",11,0),I("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(11,Du,1,5,"app-cms-enum-record-status-selector",12),r(12,"app-data-provider-plan-selector",13),S(13,"translate"),I("optionChange",function(p){return m(l),u(t.onActionSelectorSelect(p))}),a(),r(14,"div",14)(15,"label",15),c(16),a(),r(17,"input",16,1),D("ngModelChange",function(p){return m(l),w(t.dataModel.title,p)||(t.dataModel.title=p),u(p)}),a(),r(19,"em"),c(20),a(),v(21,yu,5,3,"mat-error"),a(),r(22,"div",14)(23,"label",17),c(24),a(),r(25,"textarea",18,2),D("ngModelChange",function(p){return m(l),w(t.dataModel.description,p)||(t.dataModel.description=p),u(p)}),c(27,"          "),a(),r(28,"em"),c(29),a(),v(30,Tu,5,3,"mat-error"),a(),r(31,"div",19)(32,"a",20),S(33,"cmsthumbnail"),v(34,Au,2,4,"img",21),a()(),v(35,xu,8,16,"div",14),r(36,"div",14)(37,"label",22),c(38),a(),r(39,"input",23,3),D("ngModelChange",function(p){return m(l),w(t.dataModel.periodDay,p)||(t.dataModel.periodDay=p),u(p)}),a()(),r(41,"div",14)(42,"label",24),c(43),a(),r(44,"input",25,4),D("ngModelChange",function(p){return m(l),w(t.dataModel.price,p)||(t.dataModel.price=p),u(p)}),a()(),v(46,Ru,9,7,"div",26),a()()()}if(i&2){let l=R(18),C=R(26);o(),f("optionsInfoAreaId",t.constructorInfoAreaId),o(3),_(" ",t.formInfo.formTitle," "),o(2),_(" ",h(7,28,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),f("optionSelectForce",t.dataModel.linkPlanId)("optionPlaceholder",h(13,30,"TITLE.Information_Plan")),o(4),y(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),f("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.title),o(3),_("",l.value.length," / 100"),o(),b(l.errors!=null&&l.errors.required?21:-1),o(3),y(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),f("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),E("ngModel",t.dataModel.description),o(4),_("",C.value.length," / 500"),o(),b(C.errors!=null&&C.errors.required?30:-1),o(2),f("href",x(h(33,32,t.dataModel.linkMainImageIdSrc)),X),o(2),b((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?34:-1),o(),b(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?35:-1),o(3),y(t.fieldsInfo.periodDay==null?null:t.fieldsInfo.periodDay.fieldTitle),o(),E("ngModel",t.dataModel.periodDay),o(4),y(t.fieldsInfo.price==null?null:t.fieldsInfo.price.fieldTitle),o(),E("ngModel",t.dataModel.price),o(2),b(t.formInfo.submitButtonEnabled?46:-1)}},dependencies:[_e,ee,Ii,te,he,Pe,Ee,ce,Ce,Fe,K,ve,W,fe,zt,Rt,Lo,B,ge],encapsulation:2});var oa=Fo;var Lu=()=>[5,10,20,100],Vu=n=>({display:n});function Bu(n,s){if(n&1&&g(0,"app-data-provider-plan-header",3),n&2){let e=d();f("optionId",e.requestLinkPlanId)}}function Fu(n,s){if(n&1){let e=P();r(0,"a",40),I("click",function(){m(e);let t=d();return u(t.onActionBackToParent())}),g(1,"i",41),a()}}function Ou(n,s){if(n&1){let e=P();r(0,"div",17)(1,"a",42),I("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",43)(3,"br"),a(),r(4,"p",44),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.ADD")," "))}function Nu(n,s){if(n&1){let e=P();r(0,"div",17)(1,"a",45),I("click",function(){m(e);let t=d();return u(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",46)(3,"br"),a(),r(4,"p",44),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.EDIT")," "))}function Gu(n,s){if(n&1){let e=P();r(0,"div",17)(1,"a",47),I("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",48)(3,"br"),a(),r(4,"p",44),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.DELETE")," "))}function Hu(n,s){if(n&1){let e=P();r(0,"div",17)(1,"a",49),I("click",function(){m(e);let t=d();return u(t.onActionButtonTransactionList(t.tableRowSelected))}),g(2,"i",50)(3,"br"),a(),r(4,"p",44),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.TRANSACTIONS")," "))}function Wu(n,s){n&1&&(r(0,"mat-header-cell",51),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"TITLE.PICTURE")," "))}function qu(n,s){if(n&1&&(g(0,"img",52),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;f("src",x(h(1,2,e.linkMainImageIdSrc)),X)}}function ju(n,s){if(n&1&&(r(0,"mat-cell"),v(1,qu,2,4,"img",52),a()),n&2){let e=s.$implicit;o(),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function Uu(n,s){if(n&1&&(r(0,"mat-header-cell",51),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Qu(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),_(" ",e.id," ")}}function zu(n,s){if(n&1&&(r(0,"mat-header-cell",51),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ku(n,s){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),a()),n&2){let e=s.$implicit;o(),_(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function Ju(n,s){if(n&1&&(r(0,"mat-header-cell",51),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Xu(n,s){if(n&1&&g(0,"select",54),n&2){let e=d().$implicit,i=d();f("contentService",i.contentService)("row",e)("ngStyle",xt(3,Vu,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Yu(n,s){if(n&1&&(r(0,"mat-cell"),g(1,"i",53),S(2,"statusIconClass"),v(3,Xu,1,5,"select",54),a()),n&2){let e=s.$implicit,i=d();o(),f("ngClass",h(2,2,e.recordStatus)),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?3:-1)}}function Zu(n,s){if(n&1&&(r(0,"mat-header-cell",51),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function $u(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),_(" ",e.title," ")}}function e0(n,s){if(n&1&&(r(0,"mat-header-cell",51),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function t0(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),_(" ",e.description," ")}}function i0(n,s){if(n&1&&(r(0,"mat-header-cell",51),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.periodDay==null?null:e.fieldsInfo.periodDay.fieldTitle," ")}}function n0(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),_(" ",e.periodDay," ")}}function o0(n,s){if(n&1&&(r(0,"mat-header-cell",51),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.price==null?null:e.fieldsInfo.price.fieldTitle," ")}}function r0(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),_(" ",e.price," ")}}function a0(n,s){n&1&&(r(0,"mat-header-cell"),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"TITLE.OPTION")," "))}function l0(n,s){if(n&1&&(r(0,"mat-cell",55)(1,"button",56)(2,"mat-icon"),c(3,"more_vert"),a()(),g(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),f("matMenuTriggerFor",e)}}function s0(n,s){n&1&&g(0,"mat-header-row")}function d0(n,s){if(n&1){let e=P();r(0,"mat-row",57),I("click",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))}),a()}if(n&2){let e=s.$implicit,i=d();F("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Oo=class Oo extends ct{constructor(e,i,t,l,C,p,k,Y,ke,Ke,We){super(e,new Zi,Ke,C,k);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.router=l;this.tokenHelper=C;this.cdr=p;this.translate=k;this.cmsStoreService=Y;this.pageInfo=ke;this.publicHelper=Ke;this.dialog=We;this.requestLinkPlanId=0;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new ae;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","Description","PeriodDay","Price"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","id","recordStatus","Description","PeriodDay","Price"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:it=>this.onSubmitOptionsSearch(it)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=re.Descending}ngOnInit(){if(this.requestLinkPlanId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkPlanId")),this.requestLinkPlanId&&this.requestLinkPlanId>0){let e=new J;e.propertyName="LinkPlanId",e.value=this.requestLinkPlanId,this.filteModelContent.filters.push(e)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Me(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Zi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=re.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=re.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=re.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=new at;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={LinkPlanId:this.requestLinkPlanId},this.dialog.open(ia,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(e?.id?.length!=0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}let i=new at;i.disableClose=!0,i.autoFocus=!0,i.height="90%",i.data={id:this.tableRowSelected.id},this.dialog.open(oa,i).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(e?.id?.length!=0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(na,{height:"40%",panelClass:i,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonTransactionList(e=this.tableRowSelected){if(e?.id?.length!=0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/data-provider/transaction/LinkPlanPriceId/"+e.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),C=new J;C.propertyName="recordStatus",C.value=nt.Available,l.filters.push(C),this.contentService.ServiceGetCount(l).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/data-provider/plan/"])}};Oo.\u0275fac=function(i){return new(i||Oo)(M(Oi),M(G),M(Bt),M(Ue),M(He),M(N),M(O),M(Ge),M(lt),M(H),M(Oe))},Oo.\u0275cmp=L({type:Oo,selectors:[["app-data-provider-plan-price-list"]],standalone:!1,features:[q],decls:64,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","title"],["matColumnDef","Description"],["matColumnDef","PeriodDay"],["matColumnDef","Price"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-circle-dollar","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=P();v(0,Bu,1,1,"app-data-provider-plan-header",3),r(1,"app-cms-html-list",4),D("optionActionGuideNoticeDisplayChange",function(p){return m(l),w(t.viewGuideNotice,p)||(t.viewGuideNotice=p),u(p)}),I("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionButtonPrintRow())}),Je(2,5)(3,6)(4,7),T(5,8),v(6,Fu,2,0,"a",9),r(7,"a",10),I("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",11),a(),r(9,"a",10),I("click",function(){return m(l),u(t.onActionButtonReload())}),g(10,"i",12),a(),A(),T(11,13),r(12,"a",14),I("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",15),c(14),S(15,"translate"),a(),r(16,"a",14),I("click",function(){return m(l),u(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",15),c(18),S(19,"translate"),a(),A(),T(20,16),v(21,Ou,7,3,"div",17),A(),T(22,18),v(23,Nu,7,3,"div",17),v(24,Gu,7,3,"div",17),v(25,Hu,7,3,"div",17),A(),T(26,19),r(27,"app-cms-search-list",20),D("optionsChange",function(p){return m(l),w(t.optionsSearch,p)||(t.optionsSearch=p),u(p)}),a(),r(28,"app-cms-statist-list",20),D("optionsChange",function(p){return m(l),w(t.optionsStatist,p)||(t.optionsStatist=p),u(p)}),a(),A(),T(29,21),r(30,"mat-table",22,0),I("matSortChange",function(){m(l);let p=R(31);return u(t.onTableSortData(p))}),T(32,23),V(33,Wu,3,3,"mat-header-cell",24)(34,ju,2,1,"mat-cell",25),A(),T(35,26),V(36,Uu,2,1,"mat-header-cell",24)(37,Qu,2,1,"mat-cell",25),A(),T(38,27),V(39,zu,2,1,"mat-header-cell",24)(40,Ku,4,5,"mat-cell",25),A(),T(41,28),V(42,Ju,2,1,"mat-header-cell",24)(43,Yu,4,4,"mat-cell",25),A(),T(44,29),V(45,Zu,2,1,"mat-header-cell",24)(46,$u,2,1,"mat-cell",25),A(),T(47,30),V(48,e0,2,1,"mat-header-cell",24)(49,t0,2,1,"mat-cell",25),A(),T(50,31),V(51,i0,2,1,"mat-header-cell",24)(52,n0,2,1,"mat-cell",25),A(),T(53,32),V(54,o0,2,1,"mat-header-cell",24)(55,r0,2,1,"mat-cell",25),A(),T(56,33),V(57,a0,3,3,"mat-header-cell",34)(58,l0,6,1,"mat-cell",35),A(),V(59,s0,1,0,"mat-header-row",36)(60,d0,1,2,"mat-row",37),a(),A(),T(61,38),r(62,"mat-paginator",39,1),I("page",function(p){return m(l),u(t.onTablePageingData(p))}),a(),A(),a()}i&2&&(b(t.requestLinkPlanId>0?0:-1),o(),f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(5),b(t.requestLinkPlanId>0?6:-1),o(4),F("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),f("checked",t.optionsSearch.data.show),o(),_("",h(15,28,"ACTION.SEARCH")," "),o(3),f("checked",t.optionsStatist.data.show),o(),_("",h(19,30,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?21:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?25:-1),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),f("dataSource",t.tableSource),o(29),f("matHeaderRowDef",t.tabledisplayedColumns),o(),f("matRowDefColumns",t.tabledisplayedColumns),o(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",qe(32,Lu)))},dependencies:[De,Wt,Qe,je,K,ht,Ct,Le,_t,Ne,Xe,gt,Ze,vt,$e,Ye,bt,et,tt,Mt,It,we,pt,Pt,Dt,ii,jr,Be,B,yt,ge,ye],encapsulation:2});var En=Oo;var c0=(n,s)=>s.id;function p0(n,s){if(n&1){let e=P();r(0,"button",6),S(1,"translate"),I("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",14),a()}n&2&&j("aria-label",h(1,1,"ACTION.ADD"))}function m0(n,s){if(n&1){let e=P();r(0,"div",10)(1,"app-cms-search-list",15),D("optionsChange",function(t){m(e);let l=d();return w(l.optionsSearch,t)||(l.optionsSearch=t),u(t)}),a()()}if(n&2){let e=d();o(),E("options",e.optionsSearch)}}function u0(n,s){if(n&1&&(r(0,"div",18),g(1,"img",26),S(2,"cmsthumbnail"),a()),n&2){let e=d().$implicit;o(),f("src",h(2,2,e.linkMainImageIdSrc),X)("alt",e.id||e.id)}}function f0(n,s){n&1&&(r(0,"div",19),g(1,"i",27),a())}function S0(n,s){if(n&1&&(r(0,"div",22),c(1),S(2,"number"),a()),n&2){let e=d().$implicit;o(),_(" Price: ",h(2,1,e.price)," ")}}function h0(n,s){if(n&1&&(r(0,"div",22),c(1),a()),n&2){let e=d().$implicit;o(),_(" Plan ID: ",e.linkPlanId," ")}}function C0(n,s){if(n&1&&(r(0,"div",22),g(1,"i",28),S(2,"statusIconClass"),a()),n&2){let e=d().$implicit;o(),f("ngClass",h(2,1,e.recordStatus))}}function _0(n,s){if(n&1){let e=P();r(0,"button",29),S(1,"translate"),I("click",function(t){m(e);let l=d().$implicit;return d(2).onActionButtonEditRow(l),u(t.stopPropagation())}),g(2,"i",30),a()}n&2&&j("aria-label",h(1,1,"ACTION.EDIT"))}function g0(n,s){if(n&1){let e=P();r(0,"button",31),S(1,"translate"),I("click",function(t){m(e);let l=d().$implicit;return d(2).onActionButtonDeleteRow(l),u(t.stopPropagation())}),g(2,"i",32),a()}n&2&&j("aria-label",h(1,1,"ACTION.DELETE"))}function v0(n,s){if(n&1){let e=P();r(0,"div",17),I("click",function(){let t=m(e).$implicit,l=d(2);return u(l.onActionTableRowSelect(t))}),v(1,u0,3,4,"div",18)(2,f0,2,0,"div",19),r(3,"div",20)(4,"div",21),c(5),a(),v(6,S0,3,3,"div",22),v(7,h0,2,1,"div",22),v(8,C0,3,3,"div",22),a(),r(9,"div",23),v(10,_0,3,3,"button",24),v(11,g0,3,3,"button",25),a()()}if(n&2){let e=s.$implicit,i=d(2);F("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),j("aria-label",e.id||e.id),o(),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:2),o(4),_(" ID: ",e.id," "),o(),b(e.price!==void 0&&e.price!==null?6:-1),o(),b(e.linkPlanId?7:-1),o(),b(e.recordStatus!==void 0?8:-1),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?10:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow?11:-1)}}function b0(n,s){if(n&1&&(r(0,"div",12),Te(1,v0,12,10,"div",16,c0),a()),n&2){let e=d();o(),Ae(e.dataModelResult.listItems)}}function M0(n,s){n&1&&(r(0,"div",13),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"MESSAGE.NoRecord")," "))}var wn=class wn extends En{};wn.\u0275fac=(()=>{let s;return function(i){return(s||(s=Et(wn)))(i||wn)}})(),wn.\u0275cmp=L({type:wn,selectors:[["app-data-provider-plan-price-list-mobile"]],standalone:!1,features:[q],decls:19,vars:17,consts:[[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],[1,"cms-m-header-title"],[1,"cms-m-header-actions"],["type","button",1,"cms-m-header-action-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-magnifying-glass"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],["type","button",1,"cms-m-header-action-btn"],[1,"cms-m-search-area","safe-area-content"],[1,"cms-m-content","safe-area-content"],[1,"cms-m-list"],[1,"cms-m-empty","safe-area-content"],["aria-hidden","true",1,"fa-solid","fa-plus"],[3,"optionsChange","options"],["role","button","tabindex","0",1,"cms-m-list-item",3,"selected"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click"],[1,"cms-m-list-item-image"],[1,"cms-m-list-item-image-placeholder"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-actions"],[1,"cms-m-action-btn","edit"],[1,"cms-m-action-btn","delete"],["loading","lazy",3,"src","alt"],["aria-hidden","true",1,"fa-solid","fa-dollar-sign"],[3,"ngClass"],[1,"cms-m-action-btn","edit",3,"click"],["aria-hidden","true",1,"fa-solid","fa-pen"],[1,"cms-m-action-btn","delete",3,"click"],["aria-hidden","true",1,"fa-solid","fa-trash"]],template:function(e,i){e&1&&(r(0,"div",0),g(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"h1",4),c(5),S(6,"translate"),a(),r(7,"div",5)(8,"button",6),S(9,"translate"),I("click",function(){return i.optionsSearch.data.show=!i.optionsSearch.data.show}),g(10,"i",7),a(),r(11,"button",6),S(12,"translate"),I("click",function(){return i.onActionButtonReload()}),g(13,"i",8),a(),v(14,p0,3,3,"button",9),a()()(),v(15,m0,2,1,"div",10),r(16,"div",11),v(17,b0,3,0,"div",12)(18,M0,3,3,"div",13),a()()),e&2&&(o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(4),_(" ",h(6,11,"ROUTE.DATAPROVIDER.PLANPRICE")," "),o(3),F("active",i.optionsSearch.data.show),j("aria-label",h(9,13,"ACTION.SEARCH")),o(3),j("aria-label",h(12,15,"ACTION.RELOAD")),o(2),F("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow&&(i.tokenHelper!=null&&i.tokenHelper.isAdminSite)?14:-1),o(),b(i.optionsSearch.data.show?15:-1),o(2),b(!(i.dataModelResult==null||i.dataModelResult.listItems==null)&&i.dataModelResult.listItems.length?17:18))},dependencies:[De,we,W,Nn,B,ge,ye],styles:[".cms-m-body[_ngcontent-%COMP%]{min-height:100vh;background:var(--cms-m-bg, #0f172a);color:var(--cms-m-fg, #e2e8f0)}.cms-m-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2;background:var(--cms-m-header-bg, #0f172a);border-bottom:1px solid rgba(255,255,255,.08)}.cms-m-header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 16px}.cms-m-header-title[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:var(--cms-m-accent, #38bdf8)}.cms-m-header-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-left:auto}.cms-m-header-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:#ffffff0d;color:#e2e8f0;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.cms-m-header-action-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.cms-m-header-action-btn.active[_ngcontent-%COMP%]{background:#38bdf833;border-color:#38bdf866}.cms-m-header-action-btn[_ngcontent-%COMP%]   i.rotation360[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotation360 1s linear infinite}@keyframes _ngcontent-%COMP%_rotation360{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.cms-m-search-area[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px 16px}.cms-m-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.cms-m-list-item[_ngcontent-%COMP%]{display:flex;gap:12px;padding:12px;border-radius:14px;background:#ffffff0a;border:1px solid rgba(255,255,255,.06);cursor:pointer;transition:all .2s ease}.cms-m-list-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.cms-m-list-item.selected[_ngcontent-%COMP%]{border-color:var(--cms-m-accent, #38bdf8);box-shadow:0 0 0 1px #38bdf84d}.cms-m-list-item-image[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;overflow:hidden;flex-shrink:0}.cms-m-list-item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:grid;place-items:center;background:#38bdf81f;color:#38bdf8;flex-shrink:0}.cms-m-list-item-content[_ngcontent-%COMP%]{flex:1;min-width:0}.cms-m-list-item-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:4px;font-size:14px}.cms-m-list-item-subtitle[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8}.cms-m-list-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0}.cms-m-empty[_ngcontent-%COMP%]{padding:24px;text-align:center;color:#94a3b8}"]});var Mr=wn;var I0=["vform"];function P0(n,s){if(n&1){let e=P();r(0,"app-cms-enum-record-status-selector",10),D("modelChange",function(t){m(e);let l=d();return w(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=d();E("model",e.dataModel.recordStatus),f("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function E0(n,s){if(n&1){let e=P();r(0,"div",9)(1,"button",11),I("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",12),c(3),S(4,"translate"),a(),r(5,"button",13),g(6,"i",14),c(7),S(8,"translate"),a()()}if(n&2){d();let e=R(10);o(3),_(" ",h(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!e.form.valid),o(2),_(" ",h(8,5,"ACTION.SAVE")," ")}}var No=class No extends st{constructor(e,i,t,l,C,p,k,Y){super(l,new Ci,p,Y);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderPlanSourceService=l;this.cmsToastrService=C;this.publicHelper=p;this.cdr=k;this.translate=Y;this.requestPlanId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Z;this.dataModel=new Ci;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestPlanId=e.parentId||""),this.requestPlanId&&this.requestPlanId.length>0&&(this.dataModel.linkPlanId=this.requestPlanId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanSourceService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPlanId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};No.\u0275fac=function(i){return new(i||No)(M(se),M(le),M(ne),M(bi),M(G),M(H),M(N),M(O))},No.\u0275cmp=L({type:No,selectors:[["app-data-provider-plan-source-add"]],viewQuery:function(i,t){if(i&1&&U(I0,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:17,vars:16,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();r(0,"div",1),g(1,"app-progress-spinner",2),r(2,"div",3)(3,"p",4),c(4),a(),r(5,"p"),c(6),S(7,"translate"),a(),g(8,"app-cms-form-result-message",5),r(9,"form",6,0),I("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(11,P0,1,5,"app-cms-enum-record-status-selector",7),r(12,"app-data-provider-plan-category-selector",8),S(13,"translate"),I("optionChange",function(p){return m(l),u(t.onActionSelectorSelect(p))}),a(),r(14,"app-data-provider-plan-category-selector",8),S(15,"translate"),I("optionChange",function(p){return m(l),u(t.onActionSelectorSelect(p))}),a(),v(16,E0,9,7,"div",9),a()()()}i&2&&(o(),f("optionsInfoAreaId",t.constructorInfoAreaId),o(3),_(" ",t.formInfo.formTitle," "),o(2),_(" ",h(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),f("optionSelectForce",t.dataModel.linkPlanId)("optionPlaceholder",h(13,12,"TITLE.Category")),o(2),f("optionSelectForce",t.dataModel.linkSourceId)("optionPlaceholder",h(15,14,"TITLE.Category")),o(2),b(t.formInfo.submitButtonEnabled?16:-1))},dependencies:[_e,he,Ce,ve,W,fe,Jt,B],encapsulation:2});var ra=No;var w0=["vform"];function D0(n,s){if(n&1){let e=P();r(0,"div",8)(1,"button",9),I("click",function(){m(e);let t=d();return u(t.onFormDelete())}),g(2,"i",10),c(3),S(4,"translate"),a(),r(5,"button",11),I("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(6,"i",12),c(7),S(8,"translate"),a()()}if(n&2){let e=d();o(),f("disabled",!e.formInfo.submitButtonEnabled),o(2),_(" ",h(4,3,"ACTION.DELETE")," "),o(4),_(" ",h(8,5,"ACTION.CANCEL")," ")}}var Go=class Go{constructor(s,e,i,t,l,C,p){this.data=s;this.dialogRef=e;this.publicHelper=i;this.dataProviderPlanSourceService=t;this.cdr=l;this.translate=C;this.cmsToastrService=p;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new Z;this.formInfo=new Qt;this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=s.id||"")}ngOnInit(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderPlanSourceService.setAccessLoad(),this.dataProviderPlanSourceService.setAccessDataType(Re.Editor),this.dataProviderPlanSourceService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onFormDelete(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderPlanSourceService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Go.\u0275fac=function(e){return new(e||Go)(M(se),M(le),M(H),M(bi),M(N),M(O),M(G))},Go.\u0275cmp=L({type:Go,selectors:[["app-data-provider-plan-source-delete"]],viewQuery:function(e,i){if(e&1&&U(w0,5),e&2){let t;Q(t=z())&&(i.formGroup=t.first)}},standalone:!1,decls:14,vars:10,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.linkPlanId",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.linkPlanId","type","text","required","","readonly","","id","dataModelResultContent.item.linkPlanId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){if(e&1){let t=P();r(0,"div",1),g(1,"app-progress-spinner",2),r(2,"div",3)(3,"p",4),c(4),a(),r(5,"p"),c(6),S(7,"translate"),a(),r(8,"div",5)(9,"label",6),c(10),a(),r(11,"input",7,0),D("ngModelChange",function(C){return m(t),w(i.dataModelResultContent.item.linkPlanId,C)||(i.dataModelResultContent.item.linkPlanId=C),u(C)}),a()(),v(13,D0,9,7,"div",8),a()()}e&2&&(o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(3),_(" ",i.formInfo.formTitle," "),o(2),_(" ",h(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),y(i.fieldsInfo.linkPlanId==null?null:i.fieldsInfo.linkPlanId.fieldTitle),o(),f("placeholder",x(i.fieldsInfo.linkPlanId==null?null:i.fieldsInfo.linkPlanId.fieldTitle)),E("ngModel",i.dataModelResultContent.item.linkPlanId),o(2),b(i.formInfo.submitButtonEnabled?13:-1))},dependencies:[ee,te,Ie,ce,K,W,B],encapsulation:2});var aa=Go;var y0=["vform"];function T0(n,s){if(n&1){let e=P();r(0,"app-cms-enum-record-status-selector",10),D("modelChange",function(t){m(e);let l=d();return w(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=d();E("model",e.dataModel.recordStatus),f("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function A0(n,s){if(n&1){let e=P();r(0,"div",9)(1,"button",11),I("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",12),c(3),S(4,"translate"),a(),r(5,"button",13),g(6,"i",14),c(7),S(8,"translate"),a()()}if(n&2){d();let e=R(10);o(3),_(" ",h(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!e.form.valid),o(2),_(" ",h(8,5,"ACTION.SAVE")," ")}}var Ho=class Ho extends dt{constructor(e,i,t,l,C,p,k,Y){super(l,new Ci,p,Y);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderPlanSourceService=l;this.cmsToastrService=C;this.publicHelper=p;this.cdr=k;this.translate=Y;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ot;this.dataModel=new Ci;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id||""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanSourceService.setAccessLoad(),this.dataProviderPlanSourceService.setAccessDataType(Re.Editor),this.dataProviderPlanSourceService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanSourceService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPlanId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ho.\u0275fac=function(i){return new(i||Ho)(M(se),M(le),M(ne),M(bi),M(G),M(H),M(N),M(O))},Ho.\u0275cmp=L({type:Ho,selectors:[["app-data-provider-plan-source-edit"]],viewQuery:function(i,t){if(i&1&&U(y0,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:18,vars:16,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();r(0,"div",1),g(1,"app-progress-spinner",2),r(2,"div",3)(3,"p",4),c(4),a(),r(5,"p"),c(6),S(7,"translate"),a(),g(8,"app-cms-form-result-message",5),r(9,"form",6,0),I("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),c(11," \\ "),v(12,T0,1,5,"app-cms-enum-record-status-selector",7),r(13,"app-data-provider-plan-category-selector",8),S(14,"translate"),I("optionChange",function(p){return m(l),u(t.onActionSelectorSelect(p))}),a(),r(15,"app-data-provider-plan-category-selector",8),S(16,"translate"),I("optionChange",function(p){return m(l),u(t.onActionSelectorSelect(p))}),a(),v(17,A0,9,7,"div",9),a()()()}i&2&&(o(),f("optionsInfoAreaId",t.constructorInfoAreaId),o(3),_(" ",t.formInfo.formTitle," "),o(2),_(" ",h(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",t.formInfo),o(4),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?12:-1),o(),f("optionSelectForce",t.dataModel.linkPlanId)("optionPlaceholder",h(14,12,"TITLE.Category")),o(2),f("optionSelectForce",t.dataModel.linkSourceId)("optionPlaceholder",h(16,14,"TITLE.Category")),o(2),b(t.formInfo.submitButtonEnabled?17:-1))},dependencies:[_e,he,Ce,ve,W,fe,Jt,B],encapsulation:2});var la=Ho;var x0=()=>[5,10,20,100],R0=n=>({display:n});function k0(n,s){if(n&1){let e=P();r(0,"div",15)(1,"a",34),I("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",35)(3,"br"),a(),r(4,"p",36),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.ADD")," "))}function L0(n,s){if(n&1){let e=P();r(0,"div",15)(1,"a",37),I("click",function(){m(e);let t=d();return u(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",38)(3,"br"),a(),r(4,"p",36),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.EDIT")," "))}function V0(n,s){if(n&1){let e=P();r(0,"div",15)(1,"a",39),I("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",40)(3,"br"),a(),r(4,"p",36),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.DELETE")," "))}function B0(n,s){if(n&1&&(r(0,"mat-header-cell",41),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function F0(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),_(" ",e.id," ")}}function O0(n,s){if(n&1&&(r(0,"mat-header-cell",41),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function N0(n,s){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),a()),n&2){let e=s.$implicit;o(),_(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function G0(n,s){if(n&1&&(r(0,"mat-header-cell",41),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function H0(n,s){if(n&1&&g(0,"select",43),n&2){let e=d().$implicit,i=d();f("contentService",i.contentService)("row",e)("ngStyle",xt(3,R0,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function W0(n,s){if(n&1&&(r(0,"mat-cell"),g(1,"i",42),S(2,"statusIconClass"),v(3,H0,1,5,"select",43),a()),n&2){let e=s.$implicit,i=d();o(),f("ngClass",h(2,2,e.recordStatus)),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?3:-1)}}function q0(n,s){if(n&1&&(r(0,"mat-header-cell",41),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.linkPlanId==null?null:e.fieldsInfo.linkPlanId.fieldTitle," ")}}function j0(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),_(" ",e.linkPlanId," ")}}function U0(n,s){n&1&&(r(0,"mat-header-cell"),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"TITLE.OPTION")," "))}function Q0(n,s){if(n&1&&(r(0,"mat-cell",44)(1,"button",45)(2,"mat-icon"),c(3,"more_vert"),a()(),g(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),f("matMenuTriggerFor",e)}}function z0(n,s){n&1&&g(0,"mat-header-row")}function K0(n,s){if(n&1){let e=P();r(0,"mat-row",46),I("click",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))}),a()}if(n&2){let e=s.$implicit,i=d();F("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Wo=class Wo extends ct{constructor(e,i,t,l,C,p,k,Y,ke,Ke,We){super(e,new Ci,Ke,C,k);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.router=l;this.tokenHelper=C;this.cdr=p;this.translate=k;this.pageInfo=Y;this.cmsStoreService=ke;this.publicHelper=Ke;this.dialog=We;this.requestLinkPlanId=0;this.requestLinkSourceId=0;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new ae;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus"];this.tabledisplayedColumnsMobileSource=["id","recordStatus"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:it=>this.onSubmitOptionsSearch(it)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=re.Descending}ngOnInit(){if(this.requestLinkPlanId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkPlanId")),this.requestLinkPlanId&&this.requestLinkPlanId>0){let e=new J;e.propertyName="LinkPlanId",e.value=this.requestLinkPlanId,this.filteModelContent.filters.push(e)}if(this.requestLinkSourceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSourceId")),this.requestLinkSourceId&&this.requestLinkSourceId>0){let e=new J;e.propertyName="LinkSourceId",e.value=this.requestLinkSourceId,this.filteModelContent.filters.push(e)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Me(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ci);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&(typeof this.categoryModelSelected.id=="string"?this.categoryModelSelected.id.length>0:this.categoryModelSelected.id>0)){let t=new J;t.propertyName="LinkCategoryId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=re.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=re.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=re.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new ae,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryModelSelected==null||(typeof this.categoryModelSelected.id=="string"?this.categoryModelSelected.id.length===0:this.categoryModelSelected.id===0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=new at;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={parentId:this.categoryModelSelected.id},this.dialog.open(ra,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}let i=new at;i.disableClose=!0,i.autoFocus=!0,i.data={id:this.tableRowSelected.id},this.dialog.open(la,i).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(aa,{height:"40%",panelClass:i,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),C=new J;C.propertyName="recordStatus",C.value=nt.Available,l.filters.push(C),this.contentService.ServiceGetCount(l).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Wo.\u0275fac=function(i){return new(i||Wo)(M(bi),M(Bt),M(G),M(Ue),M(He),M(N),M(O),M(lt),M(Ge),M(H),M(Oe))},Wo.\u0275cmp=L({type:Wo,selectors:[["app-data-provider-plan-source-list"]],standalone:!1,features:[q],decls:50,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","linkPlanId"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=P();r(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(p){return m(l),w(t.viewGuideNotice,p)||(t.viewGuideNotice=p),u(p)}),I("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionButtonPrintRow())}),T(1,4),c(2," -------------------------------------- "),A(),Je(3,5)(4,6),T(5,7),r(6,"a",8),I("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),g(7,"i",9),a(),r(8,"a",8),I("click",function(){return m(l),u(t.onActionButtonReload())}),g(9,"i",10),a(),A(),T(10,11),r(11,"a",12),I("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(12,"mat-slide-toggle",13),c(13),S(14,"translate"),a(),r(15,"a",12),I("click",function(){return m(l),u(t.onActionButtonStatist())}),g(16,"mat-slide-toggle",13),c(17),S(18,"translate"),a(),A(),T(19,14),v(20,k0,7,3,"div",15),A(),T(21,16),v(22,L0,7,3,"div",15),v(23,V0,7,3,"div",15),A(),T(24,17),r(25,"app-cms-search-list",18),D("optionsChange",function(p){return m(l),w(t.optionsSearch,p)||(t.optionsSearch=p),u(p)}),a(),r(26,"app-cms-statist-list",18),D("optionsChange",function(p){return m(l),w(t.optionsStatist,p)||(t.optionsStatist=p),u(p)}),a(),A(),T(27,19),r(28,"mat-table",20,0),I("matSortChange",function(){m(l);let p=R(29);return u(t.onTableSortData(p))}),T(30,21),V(31,B0,2,1,"mat-header-cell",22)(32,F0,2,1,"mat-cell",23),A(),T(33,24),V(34,O0,2,1,"mat-header-cell",22)(35,N0,4,5,"mat-cell",23),A(),T(36,25),V(37,G0,2,1,"mat-header-cell",22)(38,W0,4,4,"mat-cell",23),A(),T(39,26),V(40,q0,2,1,"mat-header-cell",22)(41,j0,2,1,"mat-cell",23),A(),T(42,27),V(43,U0,3,3,"mat-header-cell",28)(44,Q0,6,1,"mat-cell",29),A(),V(45,z0,1,0,"mat-header-row",30)(46,K0,1,2,"mat-row",31),a(),A(),T(47,32),r(48,"mat-paginator",33,1),I("page",function(p){return m(l),u(t.onTablePageingData(p))}),a(),A(),a()}i&2&&(f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null?null:t.tableRowSelected.linkPlanId)>0?t.tableRowSelected==null?null:t.tableRowSelected.linkPlanId:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),F("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),f("checked",t.optionsSearch.data.show),o(),_("",h(14,25,"ACTION.SEARCH")," "),o(3),f("checked",t.optionsStatist.data.show),o(),_("",h(18,27,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow&&(t.categoryModelSelected==null?null:t.categoryModelSelected.id)>0?20:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),f("dataSource",t.tableSource),o(17),f("matHeaderRowDef",t.tabledisplayedColumns),o(),f("matRowDefColumns",t.tabledisplayedColumns),o(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",qe(29,x0)))},dependencies:[De,Wt,Qe,je,K,ht,Ct,Le,_t,Ne,Xe,gt,Ze,vt,$e,Ye,bt,et,tt,Mt,It,we,pt,Pt,Dt,ii,Be,B,yt,ye],encapsulation:2});var pn=Wo;var J0=(n,s)=>s.id;function X0(n,s){if(n&1){let e=P();r(0,"button",6),S(1,"translate"),I("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",14),a()}n&2&&j("aria-label",h(1,1,"ACTION.ADD"))}function Y0(n,s){if(n&1){let e=P();r(0,"div",10)(1,"app-cms-search-list",15),D("optionsChange",function(t){m(e);let l=d();return w(l.optionsSearch,t)||(l.optionsSearch=t),u(t)}),a()()}if(n&2){let e=d();o(),E("options",e.optionsSearch)}}function Z0(n,s){if(n&1&&(r(0,"div",22),c(1),a()),n&2){let e=d().$implicit;o(),_(" Plan ID: ",e.linkPlanId," ")}}function $0(n,s){if(n&1&&(r(0,"div",22),c(1),S(2,"cmssiteinfo"),S(3,"async"),a()),n&2){let e=d().$implicit;o(),_(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function ef(n,s){if(n&1&&(r(0,"div",22),g(1,"i",26),S(2,"statusIconClass"),a()),n&2){let e=d().$implicit;o(),f("ngClass",h(2,1,e.recordStatus))}}function tf(n,s){if(n&1){let e=P();r(0,"button",27),S(1,"translate"),I("click",function(t){m(e);let l=d().$implicit;return d(2).onActionButtonEditRow(l),u(t.stopPropagation())}),g(2,"i",28),a()}n&2&&j("aria-label",h(1,1,"ACTION.EDIT"))}function nf(n,s){if(n&1){let e=P();r(0,"button",29),S(1,"translate"),I("click",function(t){m(e);let l=d().$implicit;return d(2).onActionButtonDeleteRow(l),u(t.stopPropagation())}),g(2,"i",30),a()}n&2&&j("aria-label",h(1,1,"ACTION.DELETE"))}function of(n,s){if(n&1){let e=P();r(0,"div",17),I("click",function(){let t=m(e).$implicit,l=d(2);return u(l.onActionTableRowSelect(t))}),r(1,"div",18),g(2,"i",19),a(),r(3,"div",20)(4,"div",21),c(5),a(),v(6,Z0,2,1,"div",22),v(7,$0,4,5,"div",22),v(8,ef,3,3,"div",22),a(),r(9,"div",23),v(10,tf,3,3,"button",24),v(11,nf,3,3,"button",25),a()()}if(n&2){let e=s.$implicit,i=d(2);F("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),j("aria-label",e.id||e.id),o(5),_("ID: ",e.id),o(),b(e.linkPlanId?6:-1),o(),b(e.linkSiteId?7:-1),o(),b(e.recordStatus!==void 0?8:-1),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?10:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow?11:-1)}}function rf(n,s){if(n&1&&(r(0,"div",12),Te(1,of,12,9,"div",16,J0),a()),n&2){let e=d();o(),Ae(e.dataModelResult.listItems)}}function af(n,s){n&1&&(r(0,"div",13),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"MESSAGE.NoRecord")," "))}var Dn=class Dn extends pn{};Dn.\u0275fac=(()=>{let s;return function(i){return(s||(s=Et(Dn)))(i||Dn)}})(),Dn.\u0275cmp=L({type:Dn,selectors:[["app-data-provider-plan-source-list-mobile"]],standalone:!1,features:[q],decls:19,vars:17,consts:[[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],[1,"cms-m-header-title"],[1,"cms-m-header-actions"],["type","button",1,"cms-m-header-action-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-magnifying-glass"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],["type","button",1,"cms-m-header-action-btn"],[1,"cms-m-search-area","safe-area-content"],[1,"cms-m-content","safe-area-content"],[1,"cms-m-list"],[1,"cms-m-empty","safe-area-content"],["aria-hidden","true",1,"fa-solid","fa-plus"],[3,"optionsChange","options"],["role","button","tabindex","0",1,"cms-m-list-item",3,"selected"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",1,"fa-solid","fa-link"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-actions"],[1,"cms-m-action-btn","edit"],[1,"cms-m-action-btn","delete"],[3,"ngClass"],[1,"cms-m-action-btn","edit",3,"click"],["aria-hidden","true",1,"fa-solid","fa-pen"],[1,"cms-m-action-btn","delete",3,"click"],["aria-hidden","true",1,"fa-solid","fa-trash"]],template:function(e,i){e&1&&(r(0,"div",0),g(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"h1",4),c(5),S(6,"translate"),a(),r(7,"div",5)(8,"button",6),S(9,"translate"),I("click",function(){return i.optionsSearch.data.show=!i.optionsSearch.data.show}),g(10,"i",7),a(),r(11,"button",6),S(12,"translate"),I("click",function(){return i.onActionButtonReload()}),g(13,"i",8),a(),v(14,X0,3,3,"button",9),a()()(),v(15,Y0,2,1,"div",10),r(16,"div",11),v(17,rf,3,0,"div",12)(18,af,3,3,"div",13),a()()),e&2&&(o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(4),_(" ",h(6,11,"ROUTE.DATAPROVIDER.PLANSOURCE")," "),o(3),F("active",i.optionsSearch.data.show),j("aria-label",h(9,13,"ACTION.SEARCH")),o(3),j("aria-label",h(12,15,"ACTION.RELOAD")),o(2),F("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow&&(i.tokenHelper!=null&&i.tokenHelper.isAdminSite)?14:-1),o(),b(i.optionsSearch.data.show?15:-1),o(2),b(!(i.dataModelResult==null||i.dataModelResult.listItems==null)&&i.dataModelResult.listItems.length?17:18))},dependencies:[De,we,W,Be,B,yt,ye],styles:[".cms-m-body[_ngcontent-%COMP%]{min-height:100vh;background:var(--cms-m-bg, #0f172a);color:var(--cms-m-fg, #e2e8f0)}.cms-m-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2;background:var(--cms-m-header-bg, #0f172a);border-bottom:1px solid rgba(255,255,255,.08)}.cms-m-header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 16px}.cms-m-header-title[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:var(--cms-m-accent, #38bdf8)}.cms-m-header-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-left:auto}.cms-m-header-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:#ffffff0d;color:#e2e8f0;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.cms-m-header-action-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.cms-m-header-action-btn.active[_ngcontent-%COMP%]{background:#38bdf833;border-color:#38bdf866}.cms-m-header-action-btn[_ngcontent-%COMP%]   i.rotation360[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotation360 1s linear infinite}@keyframes _ngcontent-%COMP%_rotation360{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.cms-m-search-area[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px 16px}.cms-m-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.cms-m-list-item[_ngcontent-%COMP%]{display:flex;gap:12px;padding:12px;border-radius:14px;background:#ffffff0a;border:1px solid rgba(255,255,255,.06);cursor:pointer;transition:all .2s ease}.cms-m-list-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.cms-m-list-item.selected[_ngcontent-%COMP%]{border-color:var(--cms-m-accent, #38bdf8);box-shadow:0 0 0 1px #38bdf84d}.cms-m-list-item-image[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;overflow:hidden;flex-shrink:0}.cms-m-list-item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:grid;place-items:center;background:#38bdf81f;color:#38bdf8;flex-shrink:0}.cms-m-list-item-content[_ngcontent-%COMP%]{flex:1;min-width:0}.cms-m-list-item-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:4px;font-size:14px}.cms-m-list-item-subtitle[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8}.cms-m-list-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0}.cms-m-empty[_ngcontent-%COMP%]{padding:24px;text-align:center;color:#94a3b8}"]});var qo=Dn;var lf=["vform"];function sf(n,s){n&1&&(r(0,"mat-header-cell",27),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"TITLE.PICTURE")," "))}function df(n,s){if(n&1&&(g(0,"img",28),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;f("src",x(h(1,2,e.linkMainImageIdSrc)),X)}}function cf(n,s){if(n&1&&(r(0,"mat-cell"),v(1,df,2,4,"img",28),a()),n&2){let e=s.$implicit;o(),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function pf(n,s){if(n&1){let e=P();r(0,"app-cms-enum-record-status-selector",29),D("modelChange",function(t){m(e);let l=d();return w(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=d();E("model",e.dataModel.recordStatus),f("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function mf(n,s){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function uf(n,s){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function ff(n,s){n&1&&(r(0,"mat-error"),c(1," FontIcon is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function Sf(n,s){if(n&1&&(r(0,"mat-header-cell",27),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.linkParentId==null?null:e.fieldsInfo.linkParentId.fieldTitle," ")}}function hf(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),_(" ",e.linkParentId," ")}}function Cf(n,s){if(n&1&&(g(0,"img",25),S(1,"cmsthumbnail")),n&2){let e=d();f("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),X)}}function _f(n,s){if(n&1){let e=P();r(0,"div",15)(1,"label",30),I("click",function(){m(e);let t=d();return u(t.fileManagerOpenForm=!0)}),c(2),S(3,"translate"),a(),r(4,"input",31,4),S(6,"translate"),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),u(t)}),I("click",function(){m(e);let t=d();return u(t.fileManagerOpenForm=!0)}),a(),r(7,"cms-file-manager",32),I("itemSelected",function(t){m(e);let l=d();return u(l.onActionFileSelected(t))}),D("openFormChange",function(t){m(e);let l=d();return w(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),u(t)}),a()()}if(n&2){let e=d();o(2),y(h(3,12,"TITLE.Icon_File")),o(2),f("placeholder",x(h(6,14,"TITLE.Original_File_ID"))),E("ngModel",e.dataModel.linkMainImageId),o(3),f("language",e.appLanguage)("isPopup",!0),E("openForm",e.fileManagerOpenForm),f("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function gf(n,s){if(n&1){let e=P();r(0,"div",26)(1,"button",33),I("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",34),c(3),S(4,"translate"),a(),r(5,"button",35),g(6,"i",36),c(7),S(8,"translate"),a()()}if(n&2){d();let e=R(10);o(3),_(" ",h(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!e.form.valid),o(2),_(" ",h(8,5,"ACTION.SAVE")," ")}}var jo=class jo extends st{constructor(e,i,t,l,C,p,k,Y){super(l,new ai,p,Y);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderPlanCategoryService=l;this.cmsToastrService=C;this.publicHelper=p;this.cdr=k;this.translate=Y;this.requestParentId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Z;this.dataModel=new ai;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestParentId=e.parentId||""),this.requestParentId&&this.requestParentId.length>0&&(this.dataModel.linkParentId=String(this.requestParentId)||""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanCategoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};jo.\u0275fac=function(i){return new(i||jo)(M(se),M(le),M(ne),M(gi),M(G),M(H),M(N),M(O))},jo.\u0275cmp=L({type:jo,selectors:[["app-data-provider-plan-category-add"]],viewQuery:function(i,t){if(i&1&&U(lf,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:48,vars:31,consts:[["vform","ngForm"],["Title",""],["Description",""],["FontIcon",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.fontIcon",1,"color-highlight"],["matInput","","name","dataModel.fontIcon","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.fontIcon",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["matColumnDef","LinkParentId"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();r(0,"div",5),g(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),c(4),a(),r(5,"p"),c(6),S(7,"translate"),a(),g(8,"app-cms-form-result-message",9),r(9,"form",10,0),I("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),T(11,11),V(12,sf,3,3,"mat-header-cell",12)(13,cf,2,1,"mat-cell",13),A(),v(14,pf,1,5,"app-cms-enum-record-status-selector",14),r(15,"div",15)(16,"label",16),c(17),a(),r(18,"input",17,1),D("ngModelChange",function(p){return m(l),w(t.dataModel.title,p)||(t.dataModel.title=p),u(p)}),a(),r(20,"em"),c(21),a(),v(22,mf,5,3,"mat-error"),a(),r(23,"div",15)(24,"label",18),c(25),a(),r(26,"textarea",19,2),D("ngModelChange",function(p){return m(l),w(t.dataModel.description,p)||(t.dataModel.description=p),u(p)}),c(28,"          "),a(),r(29,"em"),c(30),a(),v(31,uf,5,3,"mat-error"),a(),r(32,"div",15)(33,"label",20),c(34),a(),r(35,"textarea",21,3),D("ngModelChange",function(p){return m(l),w(t.dataModel.fontIcon,p)||(t.dataModel.fontIcon=p),u(p)}),c(37,"          "),a(),v(38,ff,5,3,"mat-error"),a(),T(39,22),V(40,Sf,2,1,"mat-header-cell",12)(41,hf,2,1,"mat-cell",13),A(),r(42,"div",23)(43,"a",24),S(44,"cmsthumbnail"),v(45,Cf,2,4,"img",25),a()(),v(46,_f,8,16,"div",15),v(47,gf,9,7,"div",26),a()()()}if(i&2){let l=R(19),C=R(27),p=R(36);o(),f("optionsInfoAreaId",t.constructorInfoAreaId),o(3),_(" ",t.formInfo.formTitle," "),o(2),_(" ",h(7,27,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",t.formInfo),o(6),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?14:-1),o(3),y(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),f("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.title),o(3),_("",l.value.length," / 100"),o(),b(l.errors!=null&&l.errors.required?22:-1),o(3),y(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),f("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),E("ngModel",t.dataModel.description),o(4),_("",C.value.length," / 500"),o(),b(C.errors!=null&&C.errors.required?31:-1),o(3),y(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),f("placeholder",x(t.fieldsInfo.fontIcon==null?null:t.fieldsInfo.fontIcon.fieldTitle)),E("ngModel",t.dataModel.fontIcon),o(3),b(p.errors!=null&&p.errors.required?38:-1),o(5),f("href",x(h(44,29,t.dataModel.linkMainImageIdSrc)),X),o(2),b((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?45:-1),o(),b(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?46:-1),o(),b(t.formInfo.submitButtonEnabled?47:-1)}},dependencies:[_e,ee,te,he,Pe,Ee,ce,Ce,Fe,K,Xe,Ze,$e,Ye,et,tt,ve,W,fe,Rt,B,ge],encapsulation:2});var sa=jo;var vf=["vform"];function bf(n,s){if(n&1){let e=P();r(0,"div",7)(1,"label",8),c(2),a(),r(3,"input",9,0),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModelResultCategory.item.title,t)||(l.dataModelResultCategory.item.title=t),u(t)}),a()(),r(5,"div",7)(6,"label",10),c(7),a(),r(8,"textarea",11,1),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModelResultCategory.item.description,t)||(l.dataModelResultCategory.item.description=t),u(t)}),a()(),g(10,"app-data-provider-plan-category-selector",12),S(11,"translate")}if(n&2){let e=d();o(2),y(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),f("placeholder",x(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),E("ngModel",e.dataModelResultCategory.item.title),o(4),y(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),f("placeholder",x(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),E("ngModel",e.dataModelResultCategory.item.description),o(2),f("optionPlaceholder",h(11,9,"TITLE.Alternative_classification_to_move_information_to_this_branch"))}}function Mf(n,s){if(n&1){let e=P();r(0,"div",6)(1,"button",13),I("click",function(){m(e);let t=d();return u(t.onFormMove())}),g(2,"i",14),c(3),S(4,"translate"),a(),r(5,"button",15),I("click",function(){m(e);let t=d();return u(t.onFormDelete())}),g(6,"i",16),c(7),S(8,"translate"),a(),r(9,"button",17),I("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(10,"i",14),c(11),S(12,"translate"),a()()}if(n&2){let e=d();o(),f("disabled",!e.formInfo.submitButtonEnabled),o(2),_(" ",h(4,5,"TITLE.MOVE_DATA")," "),o(2),f("disabled",!e.formInfo.submitButtonEnabled),o(2),_(" ",h(8,7,"ACTION.DELETE")," "),o(4),_(" ",h(12,9,"ACTION.CANCEL")," ")}}var Uo=class Uo{constructor(s,e,i,t,l,C,p){this.data=s;this.dialogRef=e;this.publicHelper=i;this.dataProviderPlanCategoryService=t;this.cdr=l;this.translate=C;this.cmsToastrService=p;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultCategory=new Z;this.dataModelResultCategoryAllData=new Z;this.dataModel={};this.formInfo=new Qt;this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=s.id||"")}ngOnInit(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne(),this.DataGetAll()}DataGetOne(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderPlanCategoryService.setAccessLoad(),this.dataProviderPlanCategoryService.setAccessDataType(Re.Editor),this.dataProviderPlanCategoryService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultCategory=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}DataGetAll(){this.translate.get("TITLE.Loading_Information").subscribe(i=>{this.formInfo.submitResultMessage=i});let s=new ae;s.rowPerPage=100;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanCategoryService.ServiceGetAll(s).subscribe({next:i=>{this.dataModelResultCategoryAllData=i,i.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetAll()),this.publicHelper.processService.processStop(e)},error:i=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormMove(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(!this.formGroup.valid)return;this.formInfo.submitButtonEnabled=!0,this.dataModel.newCatId===this.requestId&&(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.translate.get("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitButtonEnabled=!0),this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)})}onFormDelete(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderPlanCategoryService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)}})}onFormChangeNewCatId(s){if(this.formInfo.submitResultMessage="",this.requestId.length===0||!s||s.id.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.dataModel.newCatId=s.id,this.dataModel.newCatId===this.requestId?(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.translate.get("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitButtonEnabled=!1):(this.formInfo.submitButtonEnabled=!0,this.formInfo.submitResultMessage="")}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Uo.\u0275fac=function(e){return new(e||Uo)(M(se),M(le),M(H),M(gi),M(N),M(O),M(G))},Uo.\u0275cmp=L({type:Uo,selectors:[["app-data-provider-plan-category-delete"]],viewQuery:function(e,i){if(e&1&&U(vf,5),e&2){let t;Q(t=z())&&(i.formGroup=t.first)}},standalone:!1,decls:10,vars:7,consts:[["Title",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"form-actions"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultCategory.item.title",1,"color-highlight"],["matInput","","name","dataModelResultCategory.item.title","type","text","minlength","3","maxlength","50","required","","readonly","","id","dataModelResultCategory.item.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModelResultCategory.item.description",1,"color-highlight"],["matInput","","name","dataModelResultCategory.item.description","type","text","minlength","1","maxlength","100","readonly","","required","","rows","5","id","dataModelResultCategory.item.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionPlaceholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click","disabled"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"]],template:function(e,i){e&1&&(r(0,"div",2),g(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),c(4),a(),r(5,"p"),c(6),S(7,"translate"),a(),v(8,bf,12,11),v(9,Mf,13,11,"div",6),a()()),e&2&&(o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(3),_(" ",i.formInfo.formTitle," "),o(2),_(" ",h(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),b(i.dataModelResultCategory!=null&&i.dataModelResultCategory.item?8:-1),o(),b(i.formInfo.submitButtonEnabled?9:-1))},dependencies:[ee,te,Ie,Pe,Ee,ce,K,W,Jt,B],encapsulation:2});var da=Uo;var If=["vform"];function Pf(n,s){n&1&&(r(0,"mat-header-cell",27),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"TITLE.PICTURE")," "))}function Ef(n,s){if(n&1&&(g(0,"img",28),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;f("src",x(h(1,2,e.linkMainImageIdSrc)),X)}}function wf(n,s){if(n&1&&(r(0,"mat-cell"),v(1,Ef,2,4,"img",28),a()),n&2){let e=s.$implicit;o(),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function Df(n,s){if(n&1){let e=P();r(0,"app-cms-enum-record-status-selector",29),D("modelChange",function(t){m(e);let l=d();return w(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=d();E("model",e.dataModel.recordStatus),f("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function yf(n,s){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function Tf(n,s){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function Af(n,s){n&1&&(r(0,"mat-error"),c(1," FontIcon is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function xf(n,s){if(n&1&&(r(0,"mat-header-cell",27),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.linkParentId==null?null:e.fieldsInfo.linkParentId.fieldTitle," ")}}function Rf(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),_(" ",e.linkParentId," ")}}function kf(n,s){if(n&1&&(g(0,"img",25),S(1,"cmsthumbnail")),n&2){let e=d();f("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),X)}}function Lf(n,s){if(n&1){let e=P();r(0,"div",15)(1,"label",30),I("click",function(){m(e);let t=d();return u(t.fileManagerOpenForm=!0)}),c(2),S(3,"translate"),a(),r(4,"input",31,4),S(6,"translate"),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),u(t)}),I("click",function(){m(e);let t=d();return u(t.fileManagerOpenForm=!0)}),a(),r(7,"cms-file-manager",32),I("itemSelected",function(t){m(e);let l=d();return u(l.onActionFileSelected(t))}),D("openFormChange",function(t){m(e);let l=d();return w(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),u(t)}),a()()}if(n&2){let e=d();o(2),y(h(3,12,"TITLE.Icon_File")),o(2),f("placeholder",x(h(6,14,"TITLE.Original_File_ID"))),E("ngModel",e.dataModel.linkMainImageId),o(3),f("language",e.appLanguage)("isPopup",!0),E("openForm",e.fileManagerOpenForm),f("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Vf(n,s){if(n&1){let e=P();r(0,"div",26)(1,"button",33),I("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",34),c(3),S(4,"translate"),a(),r(5,"button",35),g(6,"i",36),c(7),S(8,"translate"),a()()}if(n&2){d();let e=R(10);o(3),_(" ",h(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!e.form.valid),o(2),_(" ",h(8,5,"ACTION.SAVE")," ")}}var Qo=class Qo extends dt{constructor(e,i,t,l,C,p,k,Y){super(l,new ai,p,Y);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderPlanCategoryService=l;this.cmsToastrService=C;this.publicHelper=p;this.cdr=k;this.translate=Y;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ot;this.dataModel=new ai;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id||""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanCategoryService.setAccessLoad(),this.dataProviderPlanCategoryService.setAccessDataType(Re.Editor),this.dataProviderPlanCategoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderPlanCategoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Qo.\u0275fac=function(i){return new(i||Qo)(M(se),M(le),M(ne),M(gi),M(G),M(H),M(N),M(O))},Qo.\u0275cmp=L({type:Qo,selectors:[["app-data-provider-plan-category-edit"]],viewQuery:function(i,t){if(i&1&&U(If,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:48,vars:31,consts:[["vform","ngForm"],["Title",""],["Description",""],["FontIcon",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.fontIcon",1,"color-highlight"],["matInput","","name","dataModel.fontIcon","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.fontIcon",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["matColumnDef","LinkParentId"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();r(0,"div",5),g(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),c(4),a(),r(5,"p"),c(6),S(7,"translate"),a(),g(8,"app-cms-form-result-message",9),r(9,"form",10,0),I("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),T(11,11),V(12,Pf,3,3,"mat-header-cell",12)(13,wf,2,1,"mat-cell",13),A(),v(14,Df,1,5,"app-cms-enum-record-status-selector",14),r(15,"div",15)(16,"label",16),c(17),a(),r(18,"input",17,1),D("ngModelChange",function(p){return m(l),w(t.dataModel.title,p)||(t.dataModel.title=p),u(p)}),a(),r(20,"em"),c(21),a(),v(22,yf,5,3,"mat-error"),a(),r(23,"div",15)(24,"label",18),c(25),a(),r(26,"textarea",19,2),D("ngModelChange",function(p){return m(l),w(t.dataModel.description,p)||(t.dataModel.description=p),u(p)}),c(28,"          "),a(),r(29,"em"),c(30),a(),v(31,Tf,5,3,"mat-error"),a(),r(32,"div",15)(33,"label",20),c(34),a(),r(35,"textarea",21,3),D("ngModelChange",function(p){return m(l),w(t.dataModel.fontIcon,p)||(t.dataModel.fontIcon=p),u(p)}),c(37,"          "),a(),v(38,Af,5,3,"mat-error"),a(),T(39,22),V(40,xf,2,1,"mat-header-cell",12)(41,Rf,2,1,"mat-cell",13),A(),r(42,"div",23)(43,"a",24),S(44,"cmsthumbnail"),v(45,kf,2,4,"img",25),a()(),v(46,Lf,8,16,"div",15),v(47,Vf,9,7,"div",26),a()()()}if(i&2){let l=R(19),C=R(27),p=R(36);o(),f("optionsInfoAreaId",t.constructorInfoAreaId),o(3),_(" ",t.formInfo.formTitle," "),o(2),_(" ",h(7,27,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",t.formInfo),o(6),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?14:-1),o(3),y(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),f("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.title),o(3),_("",l.value.length," / 100"),o(),b(l.errors!=null&&l.errors.required?22:-1),o(3),y(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),f("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),E("ngModel",t.dataModel.description),o(4),_("",C.value.length," / 500"),o(),b(C.errors!=null&&C.errors.required?31:-1),o(3),y(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),f("placeholder",x(t.fieldsInfo.fontIcon==null?null:t.fieldsInfo.fontIcon.fieldTitle)),E("ngModel",t.dataModel.fontIcon),o(3),b(p.errors!=null&&p.errors.required?38:-1),o(5),f("href",x(h(44,29,t.dataModel.linkMainImageIdSrc)),X),o(2),b((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?45:-1),o(),b(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?46:-1),o(),b(t.formInfo.submitButtonEnabled?47:-1)}},dependencies:[_e,ee,te,he,Pe,Ee,ce,Ce,Fe,K,Xe,Ze,$e,Ye,et,tt,ve,W,fe,Rt,B,ge],encapsulation:2});var ca=Qo;function Bf(n,s){if(n&1){let e=P();r(0,"button",14),I("click",function(){m(e);let t=d();return u(t.onActionAdd())}),c(1),S(2,"translate"),a()}n&2&&(o(),_(" ",h(2,1,"ACTION.ADD")," "))}function Ff(n,s){if(n&1){let e=P();r(0,"button",15),I("click",function(){m(e);let t=d();return u(t.onActionEdit())}),c(1),S(2,"translate"),a()}n&2&&(o(),_(" ",h(2,1,"ACTION.EDIT")," "))}function Of(n,s){if(n&1){let e=P();r(0,"button",16),I("click",function(){m(e);let t=d();return u(t.onActionDelete())}),c(1),S(2,"translate"),a()}n&2&&(o(),_(" ",h(2,1,"ACTION.DELETE")," "))}function Nf(n,s){if(n&1){let e=P();r(0,"button",17),I("click",function(){m(e);let t=d();return u(t.onActionButtonReload())}),r(1,"mat-icon",18),S(2,"translate"),c(3,"refresh"),a()()}if(n&2){let e=d();o(),F("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),f("title",x(h(2,4,"ACTION.RELOAD")))}}function Gf(n,s){if(n&1){let e=P();r(0,"mat-tree-node",19),g(1,"button",20),r(2,"span",21),I("click",function(){let t=m(e).$implicit,l=d();return u(l.onActionSelect(t))}),c(3),a()()}if(n&2){let e=s.$implicit,i=d();F("ntk-tree-selected",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),o(3),y(e.title)}}function Hf(n,s){if(n&1){let e=P();r(0,"mat-tree-node",22)(1,"button",23)(2,"mat-icon",24),c(3),a()(),r(4,"span",21),I("click",function(){let t=m(e).$implicit,l=d();return u(l.onActionSelect(t))}),c(5),a()()}if(n&2){let e=s.$implicit,i=d(),t=R(12);F("ntk-tree-selected",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),f("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),j("type","button")("aria-label","Toggle "+e.title),o(2),_(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),y(e.title)}}var zo=class zo{constructor(s,e,i,t,l,C,p,k,Y){this.cmsToastrService=s;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=l;this.publicHelper=C;this.tokenHelper=p;this.cmsStoreService=k;this.translate=Y;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new ai;this.dataModelResult=new Z;this.filterModel=new ae;this.dataSource=new Kn;this.optionChange=new wt;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(s,e)=>!!e.children&&e.children.length>0;this.childrenAccessor=s=>s.children??[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(()=>Me(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onActionSelect(s){s&&this.dataModelSelect&&s.id==this.dataModelSelect.id?(this.dataModelSelect=null,this.optionChange.emit(null)):(this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect))}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new ai,this.DataGetAll()}onActionSelectForce(s){}onActionAdd(){let s="";this.dataModelSelect&&(typeof this.dataModelSelect.id=="string"?this.dataModelSelect.id.length>0:this.dataModelSelect.id>0)&&(s=String(this.dataModelSelect.id));let e=new at;e.disableClose=!0,e.autoFocus=!0,e.data={parentId:s},this.dialog.open(sa,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let s="";if(this.dataModelSelect&&(typeof this.dataModelSelect.id=="string"?this.dataModelSelect.id.length>0:this.dataModelSelect.id>0)&&(s=String(this.dataModelSelect.id)),s.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(ca,{height:"90%",panelClass:e,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{id:s}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let s="";if(this.dataModelSelect&&(typeof this.dataModelSelect.id=="string"?this.dataModelSelect.id.length>0:this.dataModelSelect.id>0)&&(s=String(this.dataModelSelect.id)),s.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(da,{height:"90%",panelClass:e,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{id:s}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}};zo.\u0275fac=function(e){return new(e||zo)(M(G),M(ne),M(gi),M(Oe),M(N),M(H),M(He),M(Ge),M(O))},zo.\u0275cmp=L({type:zo,selectors:[["app-data-provider-plan-category-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:16,vars:14,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(r(0,"app-cms-html-tree",1),T(1,2),c(2),S(3,"translate"),A(),T(4,3),v(5,Bf,3,3,"button",4),v(6,Ff,3,3,"button",5),v(7,Of,3,3,"button",6),v(8,Nf,4,6,"button",7),A(),T(9,8),g(10,"app-progress-spinner",9),r(11,"mat-tree",10,0),V(13,Gf,4,3,"mat-tree-node",11)(14,Hf,6,8,"mat-tree-node",12),a(),A(),Je(15,13),a()),e&2&&(f("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),_(" ",h(3,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow?5:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0?6:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0?7:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow?8:-1),o(2),f("optionsInfoAreaId",i.constructorInfoAreaId),o(),f("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),f("matTreeNodeDefWhen",i.hasChild))},dependencies:[Qe,je,jn,Un,zn,Qn,qn,W,Xn,B],encapsulation:2});var pa=zo;var qf=()=>["expandedTitle"],jf=()=>["expandedDetail"],Uf=()=>[5,10,20,100],Ql=n=>({display:n});function Qf(n,s){if(n&1){let e=P();r(0,"div",19)(1,"a",46),I("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",47)(3,"br"),a(),r(4,"p",22),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.ADD")," "))}function zf(n,s){if(n&1){let e=P();r(0,"div",19)(1,"a",48),I("click",function(){m(e);let t=d();return u(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",49)(3,"br"),a(),r(4,"p",22),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.EDIT")," "))}function Kf(n,s){if(n&1){let e=P();r(0,"div",19)(1,"a",50),I("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",51)(3,"br"),a(),r(4,"p",22),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.DELETE")," "))}function Jf(n,s){if(n&1){let e=P();r(0,"div",19)(1,"a",12),I("click",function(){m(e);let t=d();return u(t.onActionButtonPriceList(t.tableRowSelected))}),g(2,"i",52)(3,"br"),a(),r(4,"p",22),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.PRICE")," "))}function Xf(n,s){if(n&1){let e=P();r(0,"div",19)(1,"a",12),I("click",function(){m(e);let t=d();return u(t.onActionButtonSourceList(t.tableRowSelected))}),g(2,"i",53)(3,"br"),a(),r(4,"p",22),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.SOURCE")," "))}function Yf(n,s){if(n&1){let e=P();r(0,"div",19)(1,"a",12),I("click",function(){m(e);let t=d();return u(t.onActionButtonClientList(t.tableRowSelected))}),g(2,"i",54)(3,"br"),a(),r(4,"p",22),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.CLIENT")," "))}function Zf(n,s){if(n&1){let e=P();r(0,"a",12),I("click",function(){m(e);let t=d();return u(t.onActionButtonTransactionList(t.tableRowSelected))}),g(1,"i",55)(2,"br"),a()}}function $f(n,s){if(n&1){let e=P();r(0,"div",19)(1,"a",12),I("click",function(){m(e);let t=d();return u(t.onActionButtonDataRow(t.tableRowSelected))}),g(2,"i",56)(3,"br"),a(),r(4,"p",22),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.DATA")," "))}function eS(n,s){n&1&&(r(0,"mat-header-cell"),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"TITLE.MENU")," "))}function tS(n,s){if(n&1){let e=P();r(0,"mat-cell")(1,"button",57),I("click",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowSelectActionMenu(t))}),g(2,"i",58),a()()}}function iS(n,s){n&1&&(r(0,"mat-header-cell",59),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"TITLE.PICTURE")," "))}function nS(n,s){if(n&1&&(g(0,"img",60),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;f("src",x(h(1,2,e.linkMainImageIdSrc)),X)}}function oS(n,s){if(n&1&&(r(0,"mat-cell"),v(1,nS,2,4,"img",60),a()),n&2){let e=s.$implicit;o(),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function rS(n,s){if(n&1&&(r(0,"mat-header-cell",59),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function aS(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),_(" ",e.id," ")}}function lS(n,s){if(n&1&&(r(0,"mat-header-cell",59),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function sS(n,s){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),a()),n&2){let e=s.$implicit;o(),_(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function dS(n,s){if(n&1&&(r(0,"mat-header-cell",59),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function cS(n,s){if(n&1&&g(0,"select",62),n&2){let e=d().$implicit,i=d();f("contentService",i.contentService)("row",e)("ngStyle",xt(3,Ql,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function pS(n,s){if(n&1&&(r(0,"mat-cell"),g(1,"i",61),S(2,"statusIconClass"),v(3,cS,1,5,"select",62),a()),n&2){let e=s.$implicit,i=d();o(),f("ngClass",h(2,2,e.recordStatus)),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?3:-1)}}function mS(n,s){if(n&1&&(r(0,"mat-header-cell",59),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function uS(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),_(" ",e.title," ")}}function fS(n,s){n&1&&(r(0,"mat-header-cell"),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"TITLE.OPTION")," "))}function SS(n,s){if(n&1&&(r(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),c(3,"more_vert"),a()(),g(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),f("matMenuTriggerFor",e)}}function hS(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),_(" ",e.title," ")}}function CS(n,s){if(n&1&&(g(0,"img",65),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;f("src",x(h(1,2,e.linkMainImageIdSrc)),X)}}function _S(n,s){if(n&1){let e=P();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),v(5,CS,2,4,"img",65),a(),r(6,"th")(7,"span",66),I("click",function(){m(e);let t=d();return u(t.onActionCopied())}),g(8,"i",67),a(),c(9),a()(),r(10,"tr"),g(11,"td"),r(12,"td"),c(13),a()(),r(14,"tr"),g(15,"td"),r(16,"td"),c(17),a()(),r(18,"tr"),g(19,"td")(20,"td"),a()()()()}if(n&2){let e=s.$implicit,i=d();o(5),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),f("cdkCopyToClipboard",e.id),o(2),_(" ",e.id," "),o(4),Vt("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : ",e.title),o(4),Vt(" ",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle," : ",e.description," ")}}function gS(n,s){n&1&&g(0,"mat-header-row")}function vS(n,s){if(n&1){let e=P();r(0,"mat-row",68),I("click",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=s.$implicit,i=d();F("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function bS(n,s){if(n&1){let e=P();r(0,"mat-row",69),I("click",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=s.$implicit,i=d();F("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function MS(n,s){if(n&1){let e=P();r(0,"mat-row",70),I("click",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=s.$implicit,i=d();F("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),f("ngStyle",xt(3,Ql,e.expanded===!0?"":"none"))}}var Ko=class Ko extends ct{constructor(e,i,t,l,C,p,k,Y,ke,Ke){super(e,new rt,Y,l,p);this.contentService=e;this.cmsToastrService=i;this.router=t;this.tokenHelper=l;this.cdr=C;this.translate=p;this.pageInfo=k;this.publicHelper=Y;this.cmsStoreService=ke;this.dialog=Ke;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new ae;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","id","recordStatus"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:We=>this.onSubmitOptionsSearch(We)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=re.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Me(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new rt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id&&this.categoryModelSelected.id.length>0){let t=new J;t.propertyName="LinkPlanCategoryId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=re.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=re.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=re.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new ae,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryModelSelected==null||!this.categoryModelSelected.id||this.categoryModelSelected.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=new at;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={LinkPlanCategoryId:this.categoryModelSelected.id},this.dialog.open(_o,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}let i=new at;i.disableClose=!0,i.autoFocus=!0,i.height="90%",i.data={id:this.tableRowSelected.id},this.dialog.open(Mo,i).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(vo,{height:"40%",panelClass:i,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDataRow(e=this.tableRowSelected,i){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){this.translate.get("MESSAGE.No_row_selected_for_viewing").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/data-provider/log-plan/LinkPlanId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/log-plan/LinkPlanId/"+e.id])}onActionButtonPriceList(e=this.tableRowSelected,i){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/data-provider/plan-price/LinkPlanId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/plan-price/LinkPlanId/"+e.id])}onActionButtonSourceList(e=this.tableRowSelected,i){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/data-provider/plan-source/LinkPlanId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/plan-source/LinkPlanId/"+e.id])}onActionButtonClientList(e=this.tableRowSelected,i){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/data-provider/plan-client/LinkPlanId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/plan-client/LinkPlanId/"+e.id])}onActionButtonTransactionList(e=this.tableRowSelected,i){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/data-provider/transaction/LinkPlanId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/transaction/LinkPlanId/"+e.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),C=new J;C.propertyName="recordStatus",C.value=nt.Available,l.filters.push(C),this.contentService.ServiceGetCount(l).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionTableRowMouseEnter(e){this.onActionTableRowSelect(e),e.expanded=!0}onActionTableRowMouseLeave(e){e.expanded=!1}};Ko.\u0275fac=function(i){return new(i||Ko)(M(jt),M(G),M(Ue),M(He),M(N),M(O),M(lt),M(H),M(Ge),M(Oe))},Ko.\u0275cmp=L({type:Ko,selectors:[["app-data-provider-plan-list"]],standalone:!1,features:[q],decls:75,vars:42,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","title"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-credit-card","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-file","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-people","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-circle-dollar","font-18"],[1,"fa-solid","fa-database","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let l=P();r(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(p){return m(l),w(t.viewGuideNotice,p)||(t.viewGuideNotice=p),u(p)}),I("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionButtonPrintRow())}),T(1,4),r(2,"app-data-provider-plan-category-tree",5),I("optionChange",function(p){return m(l),u(t.onActionSelectorSelect(p))}),a(),A(),Je(3,6)(4,7),T(5,8),r(6,"a",9),I("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),g(7,"i",10),a(),r(8,"a",9),I("click",function(){return m(l),u(t.onActionButtonReload())}),g(9,"i",11),a(),r(10,"a",12),I("click",function(){return m(l),u(t.onActionGridExpandRows(!0))}),g(11,"i",13),a(),r(12,"a",12),I("click",function(){return m(l),u(t.onActionGridExpandRows(!1))}),g(13,"i",14),a(),A(),T(14,15),r(15,"a",16),I("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(16,"mat-slide-toggle",17),c(17),S(18,"translate"),a(),r(19,"a",16),I("click",function(){return m(l),u(t.onActionButtonStatist())}),g(20,"mat-slide-toggle",17),c(21),S(22,"translate"),a(),A(),T(23,18),v(24,Qf,7,3,"div",19),A(),T(25,20),v(26,zf,7,3,"div",19),v(27,Kf,7,3,"div",19),v(28,Jf,7,3,"div",19),v(29,Xf,7,3,"div",19),v(30,Yf,7,3,"div",19),r(31,"div",19),v(32,Zf,3,0,"a",21),r(33,"p",22),c(34),S(35,"translate"),a()(),v(36,$f,7,3,"div",19),A(),T(37,23),r(38,"app-cms-search-list",24),D("optionsChange",function(p){return m(l),w(t.optionsSearch,p)||(t.optionsSearch=p),u(p)}),a(),r(39,"app-cms-statist-list",24),D("optionsChange",function(p){return m(l),w(t.optionsStatist,p)||(t.optionsStatist=p),u(p)}),a(),A(),T(40,25),r(41,"mat-table",26,0),I("matSortChange",function(){m(l);let p=R(42);return u(t.onTableSortData(p))}),T(43,27),V(44,eS,3,3,"mat-header-cell",28)(45,tS,3,0,"mat-cell",29),A(),T(46,30),V(47,iS,3,3,"mat-header-cell",31)(48,oS,2,1,"mat-cell",29),A(),T(49,32),V(50,rS,2,1,"mat-header-cell",31)(51,aS,2,1,"mat-cell",29),A(),T(52,33),V(53,lS,2,1,"mat-header-cell",31)(54,sS,4,5,"mat-cell",29),A(),T(55,34),V(56,dS,2,1,"mat-header-cell",31)(57,pS,4,4,"mat-cell",29),A(),T(58,35),V(59,mS,2,1,"mat-header-cell",31)(60,uS,2,1,"mat-cell",29),A(),T(61,36),V(62,fS,3,3,"mat-header-cell",28)(63,SS,6,1,"mat-cell",37),A(),T(64,38),V(65,hS,2,1,"mat-cell",29),A(),T(66,39),V(67,_S,21,7,"mat-cell",29),A(),V(68,gS,1,0,"mat-header-row",40)(69,vS,1,2,"mat-row",41)(70,bS,1,2,"mat-row",42)(71,MS,1,5,"mat-row",43),a(),A(),T(72,44),r(73,"mat-paginator",45,1),I("page",function(p){return m(l),u(t.onTablePageingData(p))}),a(),A(),a()}i&2&&(f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","dataprovider.plan.list"),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),F("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),f("checked",t.optionsSearch.data.show),o(),_("",h(18,33,"ACTION.SEARCH")," "),o(3),f("checked",t.optionsStatist.data.show),o(),_("",h(22,35,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow&&(t.categoryModelSelected==null?null:t.categoryModelSelected.id)>0?24:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?26:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?27:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?28:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?29:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?30:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?32:-1),o(2),_(" ",h(35,37,"ACTION.TRANSACTIONS")," "),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?36:-1),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),f("dataSource",t.tableSource),o(27),f("matHeaderRowDef",t.tabledisplayedColumns),o(),f("matRowDefColumns",qe(39,qf)),o(),f("matRowDefColumns",t.tabledisplayedColumns),o(),f("matRowDefColumns",qe(40,jf)),o(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",qe(41,Uf)))},dependencies:[De,Wt,Qe,je,K,ht,Ct,Le,_t,Ne,Xe,gt,Ze,vt,$e,Ye,bt,et,tt,Mt,It,Wi,we,pt,Pt,Dt,ii,pa,Be,B,yt,ge,ye],styles:[".pointer[_ngcontent-%COMP%]{cursor:pointer}"]});var yn=Ko;var IS=(n,s)=>s.id;function PS(n,s){if(n&1){let e=P();r(0,"button",6),S(1,"translate"),I("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",14),a()}n&2&&j("aria-label",h(1,1,"ACTION.ADD"))}function ES(n,s){if(n&1){let e=P();r(0,"div",10)(1,"app-cms-search-list",15),D("optionsChange",function(t){m(e);let l=d();return w(l.optionsSearch,t)||(l.optionsSearch=t),u(t)}),a()()}if(n&2){let e=d();o(),E("options",e.optionsSearch)}}function wS(n,s){if(n&1&&(r(0,"div",18),g(1,"img",26),S(2,"cmsthumbnail"),a()),n&2){let e=d().$implicit;o(),f("src",h(2,2,e.linkMainImageIdSrc),X)("alt",e.id||e.id)}}function DS(n,s){n&1&&(r(0,"div",19),g(1,"i",27),a())}function yS(n,s){if(n&1&&c(0),n&2){let e=d().$implicit;_(" ",e.title," ")}}function TS(n,s){if(n&1&&c(0),n&2){let e=d().$implicit;_(" ID: ",e.id," ")}}function AS(n,s){if(n&1&&(r(0,"div",22),c(1),a()),n&2){let e=d().$implicit;o(),_(" ID: ",e.id," ")}}function xS(n,s){if(n&1&&(r(0,"div",22),c(1),S(2,"cmssiteinfo"),S(3,"async"),a()),n&2){let e=d().$implicit;o(),_(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function RS(n,s){if(n&1&&(r(0,"div",22),g(1,"i",28),S(2,"statusIconClass"),a()),n&2){let e=d().$implicit;o(),f("ngClass",h(2,1,e.recordStatus))}}function kS(n,s){if(n&1){let e=P();r(0,"button",29),S(1,"translate"),I("click",function(t){m(e);let l=d().$implicit;return d(2).onActionButtonEditRow(l),u(t.stopPropagation())}),g(2,"i",30),a()}n&2&&j("aria-label",h(1,1,"ACTION.EDIT"))}function LS(n,s){if(n&1){let e=P();r(0,"button",31),S(1,"translate"),I("click",function(t){m(e);let l=d().$implicit;return d(2).onActionButtonDeleteRow(l),u(t.stopPropagation())}),g(2,"i",32),a()}n&2&&j("aria-label",h(1,1,"ACTION.DELETE"))}function VS(n,s){if(n&1){let e=P();r(0,"div",17),I("click",function(){let t=m(e).$implicit,l=d(2);return u(l.onActionTableRowSelect(t))}),v(1,wS,3,4,"div",18)(2,DS,2,0,"div",19),r(3,"div",20)(4,"div",21),v(5,yS,1,1)(6,TS,1,1),a(),v(7,AS,2,1,"div",22),v(8,xS,4,5,"div",22),v(9,RS,3,3,"div",22),a(),r(10,"div",23),v(11,kS,3,3,"button",24),v(12,LS,3,3,"button",25),a()()}if(n&2){let e=s.$implicit,i=d(2);F("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),j("aria-label",e.id||e.id),o(),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:2),o(4),b(e.title&&e.title.length>0?5:6),o(2),b(e.title&&e.title.length>0?7:-1),o(),b(e.linkSiteId?8:-1),o(),b(e.recordStatus!==void 0?9:-1),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?11:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow?12:-1)}}function BS(n,s){if(n&1&&(r(0,"div",12),Te(1,VS,13,10,"div",16,IS),a()),n&2){let e=d();o(),Ae(e.dataModelResult.listItems)}}function FS(n,s){n&1&&(r(0,"div",13),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"MESSAGE.NoRecord")," "))}var Tn=class Tn extends yn{};Tn.\u0275fac=(()=>{let s;return function(i){return(s||(s=Et(Tn)))(i||Tn)}})(),Tn.\u0275cmp=L({type:Tn,selectors:[["app-data-provider-plan-list-mobile"]],standalone:!1,features:[q],decls:19,vars:17,consts:[[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],[1,"cms-m-header-title"],[1,"cms-m-header-actions"],["type","button",1,"cms-m-header-action-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-magnifying-glass"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],["type","button",1,"cms-m-header-action-btn"],[1,"cms-m-search-area","safe-area-content"],[1,"cms-m-content","safe-area-content"],[1,"cms-m-list"],[1,"cms-m-empty","safe-area-content"],["aria-hidden","true",1,"fa-solid","fa-plus"],[3,"optionsChange","options"],["role","button","tabindex","0",1,"cms-m-list-item",3,"selected"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click"],[1,"cms-m-list-item-image"],[1,"cms-m-list-item-image-placeholder"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-actions"],[1,"cms-m-action-btn","edit"],[1,"cms-m-action-btn","delete"],["loading","lazy",3,"src","alt"],["aria-hidden","true",1,"fa-solid","fa-list"],[3,"ngClass"],[1,"cms-m-action-btn","edit",3,"click"],["aria-hidden","true",1,"fa-solid","fa-pen"],[1,"cms-m-action-btn","delete",3,"click"],["aria-hidden","true",1,"fa-solid","fa-trash"]],template:function(e,i){e&1&&(r(0,"div",0),g(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"h1",4),c(5),S(6,"translate"),a(),r(7,"div",5)(8,"button",6),S(9,"translate"),I("click",function(){return i.optionsSearch.data.show=!i.optionsSearch.data.show}),g(10,"i",7),a(),r(11,"button",6),S(12,"translate"),I("click",function(){return i.onActionButtonReload()}),g(13,"i",8),a(),v(14,PS,3,3,"button",9),a()()(),v(15,ES,2,1,"div",10),r(16,"div",11),v(17,BS,3,0,"div",12)(18,FS,3,3,"div",13),a()()),e&2&&(o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(4),_(" ",h(6,11,"ROUTE.DATAPROVIDER.PLAN")," "),o(3),F("active",i.optionsSearch.data.show),j("aria-label",h(9,13,"ACTION.SEARCH")),o(3),j("aria-label",h(12,15,"ACTION.RELOAD")),o(2),F("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow&&(i.tokenHelper!=null&&i.tokenHelper.isAdminSite)?14:-1),o(),b(i.optionsSearch.data.show?15:-1),o(2),b(!(i.dataModelResult==null||i.dataModelResult.listItems==null)&&i.dataModelResult.listItems.length?17:18))},dependencies:[De,we,W,Be,B,yt,ge,ye],styles:[".cms-m-body[_ngcontent-%COMP%]{min-height:100vh;background:var(--cms-m-bg, #0f172a);color:var(--cms-m-fg, #e2e8f0)}.cms-m-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2;background:var(--cms-m-header-bg, #0f172a);border-bottom:1px solid rgba(255,255,255,.08)}.cms-m-header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 16px}.cms-m-header-title[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:var(--cms-m-accent, #38bdf8)}.cms-m-header-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-left:auto}.cms-m-header-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:#ffffff0d;color:#e2e8f0;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.cms-m-header-action-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.cms-m-header-action-btn.active[_ngcontent-%COMP%]{background:#38bdf833;border-color:#38bdf866}.cms-m-header-action-btn[_ngcontent-%COMP%]   i.rotation360[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotation360 1s linear infinite}@keyframes _ngcontent-%COMP%_rotation360{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.cms-m-search-area[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px 16px}.cms-m-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.cms-m-list-item[_ngcontent-%COMP%]{display:flex;gap:12px;padding:12px;border-radius:14px;background:#ffffff0a;border:1px solid rgba(255,255,255,.06);cursor:pointer;transition:all .2s ease}.cms-m-list-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.cms-m-list-item.selected[_ngcontent-%COMP%]{border-color:var(--cms-m-accent, #38bdf8);box-shadow:0 0 0 1px #38bdf84d}.cms-m-list-item-image[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;overflow:hidden;flex-shrink:0}.cms-m-list-item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:grid;place-items:center;background:#38bdf81f;color:#38bdf8;flex-shrink:0}.cms-m-list-item-content[_ngcontent-%COMP%]{flex:1;min-width:0}.cms-m-list-item-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:4px;font-size:14px}.cms-m-list-item-subtitle[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8}.cms-m-list-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0}.cms-m-empty[_ngcontent-%COMP%]{padding:24px;text-align:center;color:#94a3b8}"]});var Ir=Tn;var OS=["vform"];function NS(n,s){if(n&1){let e=P();r(0,"app-cms-enum-record-status-selector",26),D("modelChange",function(t){m(e);let l=d();return w(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=d();E("model",e.dataModel.recordStatus),f("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function GS(n,s){n&1&&g(0,"i",29)}function HS(n,s){n&1&&g(0,"i",30)}function WS(n,s){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function qS(n,s){if(n&1){let e=P();r(0,"div",15)(1,"label",27),c(2),a(),r(3,"input",28,3),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.title,t)||(l.dataModel.title=t),u(t)}),a(),v(5,GS,1,0,"i",29),v(6,HS,1,0,"i",30),r(7,"em"),c(8),a(),v(9,WS,5,3,"mat-error"),a()}if(n&2){let e=R(4),i=d();o(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),f("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),o(2),b(e.value?-1:5),o(),b(e.value?6:-1),o(2),_("",e.value.length," / 100"),o(),b(e.errors!=null&&e.errors.required?9:-1)}}function jS(n,s){if(n&1){let e=P();r(0,"div",16)(1,"div",31)(2,"h5",32),c(3),a()(),r(4,"div",33)(5,"div",34)(6,"input",35),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.checkCredit,t)||(l.dataModel.checkCredit=t),u(t)}),a(),g(7,"label",36),a()()()}if(n&2){let e=d();o(3),_(" ",e.fieldsInfo.checkCredit==null?null:e.fieldsInfo.checkCredit.fieldTitle," "),o(3),E("ngModel",e.dataModel.checkCredit)}}function US(n,s){if(n&1){let e=P();r(0,"div",16)(1,"div",31)(2,"h5",37),c(3),a()(),r(4,"div",33)(5,"div",34)(6,"input",38),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.calculateCredit,t)||(l.dataModel.calculateCredit=t),u(t)}),a(),g(7,"label",39),a()()()}if(n&2){let e=d();o(3),_(" ",e.fieldsInfo.calculateCredit==null?null:e.fieldsInfo.calculateCredit.fieldTitle," "),o(3),E("ngModel",e.dataModel.calculateCredit)}}function QS(n,s){n&1&&g(0,"i",29)}function zS(n,s){n&1&&g(0,"i",30)}function KS(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=d(2);o(),_(" ",e.fieldsInfo.serviceAvailableCredit==null?null:e.fieldsInfo.serviceAvailableCredit.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function JS(n,s){if(n&1){let e=P();r(0,"div",15)(1,"label",40),c(2),a(),r(3,"input",41,4),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.serviceAvailableCredit,t)||(l.dataModel.serviceAvailableCredit=t),u(t)}),a(),v(5,QS,1,0,"i",29),v(6,zS,1,0,"i",30),v(7,KS,5,4,"mat-error"),a()}if(n&2){let e=R(4),i=d();o(2),y(i.fieldsInfo.serviceAvailableCredit==null?null:i.fieldsInfo.serviceAvailableCredit.fieldTitle),o(),E("ngModel",i.dataModel.serviceAvailableCredit),f("disabled",!(i.fieldsInfo.serviceAvailableCredit!=null&&i.fieldsInfo.serviceAvailableCredit.accessAddField)),o(2),b(e.value?-1:5),o(),b(e.value?6:-1),o(),b(e.errors!=null&&e.errors.required?7:-1)}}function XS(n,s){n&1&&g(0,"i",29)}function YS(n,s){n&1&&g(0,"i",30)}function ZS(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=d(2);o(),_(" ",e.fieldsInfo.serviceSumCredit==null?null:e.fieldsInfo.serviceSumCredit.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function $S(n,s){if(n&1){let e=P();r(0,"div",15)(1,"label",42),c(2),a(),r(3,"input",43,5),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.serviceSumCredit,t)||(l.dataModel.serviceSumCredit=t),u(t)}),a(),v(5,XS,1,0,"i",29),v(6,YS,1,0,"i",30),v(7,ZS,5,4,"mat-error"),a()}if(n&2){let e=R(4),i=d();o(2),y(i.fieldsInfo.serviceSumCredit==null?null:i.fieldsInfo.serviceSumCredit.fieldTitle),o(),E("ngModel",i.dataModel.serviceSumCredit),f("disabled",!(i.fieldsInfo.serviceSumCredit!=null&&i.fieldsInfo.serviceSumCredit.accessAddField)),o(2),b(e.value?-1:5),o(),b(e.value?6:-1),o(),b(e.errors!=null&&e.errors.required?7:-1)}}function eh(n,s){n&1&&g(0,"i",29)}function th(n,s){n&1&&g(0,"i",30)}function ih(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=d(2);o(),_(" ",e.fieldsInfo.userAvailableCredit==null?null:e.fieldsInfo.userAvailableCredit.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function nh(n,s){if(n&1){let e=P();r(0,"div",15)(1,"label",44),c(2),a(),r(3,"input",45,6),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.userAvailableCredit,t)||(l.dataModel.userAvailableCredit=t),u(t)}),a(),v(5,eh,1,0,"i",29),v(6,th,1,0,"i",30),v(7,ih,5,4,"mat-error"),a()}if(n&2){let e=R(4),i=d();o(2),y(i.fieldsInfo.userAvailableCredit==null?null:i.fieldsInfo.userAvailableCredit.fieldTitle),o(),E("ngModel",i.dataModel.userAvailableCredit),f("disabled",!(i.fieldsInfo.userAvailableCredit!=null&&i.fieldsInfo.userAvailableCredit.accessAddField)),o(2),b(e.value?-1:5),o(),b(e.value?6:-1),o(),b(e.errors!=null&&e.errors.required?7:-1)}}function oh(n,s){n&1&&g(0,"i",29)}function rh(n,s){n&1&&g(0,"i",30)}function ah(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=d(2);o(),_(" ",e.fieldsInfo.userSumCredit==null?null:e.fieldsInfo.userSumCredit.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function lh(n,s){if(n&1){let e=P();r(0,"div",15)(1,"label",46),c(2),a(),r(3,"input",47,7),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.userSumCredit,t)||(l.dataModel.userSumCredit=t),u(t)}),a(),v(5,oh,1,0,"i",29),v(6,rh,1,0,"i",30),v(7,ah,5,4,"mat-error"),a()}if(n&2){let e=R(4),i=d();o(2),y(i.fieldsInfo.userSumCredit==null?null:i.fieldsInfo.userSumCredit.fieldTitle),o(),E("ngModel",i.dataModel.userSumCredit),f("disabled",!(i.fieldsInfo.userSumCredit!=null&&i.fieldsInfo.userSumCredit.accessAddField)),o(2),b(e.value?-1:5),o(),b(e.value?6:-1),o(),b(e.errors!=null&&e.errors.required?7:-1)}}function sh(n,s){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function dh(n,s){if(n&1&&(g(0,"img",21),S(1,"cmsthumbnail")),n&2){let e=d();f("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),X)}}function ch(n,s){if(n&1){let e=P();r(0,"div",25)(1,"button",48),I("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",49),c(3),S(4,"translate"),a(),r(5,"button",50),g(6,"i",51),c(7),S(8,"translate"),a()()}if(n&2){d();let e=R(13);o(3),_(" ",h(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!e.form.valid),o(2),_(" ",h(8,5,"ACTION.SAVE")," ")}}var Jo=class Jo extends st{constructor(e,i,t,l,C,p,k,Y){super(l,new qt,p,Y);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderSourceCompanyService=l;this.cmsToastrService=C;this.publicHelper=p;this.cdr=k;this.translate=Y;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Z;this.dataModel=new qt;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourceCompanyService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Jo.\u0275fac=function(i){return new(i||Jo)(M(se),M(le),M(ne),M(Ut),M(G),M(H),M(N),M(O))},Jo.\u0275cmp=L({type:Jo,selectors:[["app-data-provider-source-company-add"]],viewQuery:function(i,t){if(i&1&&U(OS,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:43,vars:45,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],["ServiceAvailableCredit",""],["ServiceSumCredit",""],["UserAvailableCredit",""],["UserSumCredit",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"d-flex","mb-3"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"pt-1"],["data-trigger-switch","dataModel.checkCredit",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.checkCredit","name","dataModel.checkCredit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.checkCredit",1,"custom-control-label"],["data-trigger-switch","dataModel.calculateCredit",1,"font-600","font-14"],["type","checkbox","id","dataModel.calculateCredit","name","dataModel.calculateCredit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.calculateCredit",1,"custom-control-label"],["for","dataModel.serviceAvailableCredit",1,"color-highlight"],["matInput","","type","text","currencyMask","","name","dataModel.serviceAvailableCredit","placeholder","0","id","dataModel.serviceAvailableCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.serviceSumCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.serviceSumCredit","currencyMask","","placeholder","0","required","","id","dataModel.serviceSumCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userAvailableCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.userAvailableCredit","currencyMask","","placeholder","0","required","","id","dataModel.userAvailableCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userSumCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.userSumCredit","currencyMask","","placeholder","0","required","","id","dataModel.userSumCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();r(0,"div",8),g(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),c(4),a(),r(5,"h4"),c(6),S(7,"translate"),a(),r(8,"p"),c(9),S(10,"translate"),a(),g(11,"app-cms-form-result-message",12),r(12,"form",13,0),I("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(14,NS,1,5,"app-cms-enum-record-status-selector",14),v(15,qS,10,8,"div",15),v(16,jS,8,2,"div",16),v(17,US,8,2,"div",16),v(18,JS,8,6,"div",15),v(19,$S,8,6,"div",15),v(20,nh,8,6,"div",15),v(21,lh,8,6,"div",15),r(22,"div",15)(23,"label",17),c(24),a(),r(25,"textarea",18,1),D("ngModelChange",function(p){return m(l),w(t.dataModel.description,p)||(t.dataModel.description=p),u(p)}),a(),r(27,"em"),c(28),a(),v(29,sh,5,3,"mat-error"),a(),r(30,"div",19)(31,"a",20),S(32,"cmsthumbnail"),v(33,dh,2,4,"img",21),a()(),r(34,"div",15)(35,"label",22),I("click",function(){return m(l),u(t.fileManagerOpenForm=!0)}),c(36),S(37,"translate"),a(),r(38,"input",23,2),S(40,"translate"),D("ngModelChange",function(p){return m(l),w(t.dataModel.linkMainImageId,p)||(t.dataModel.linkMainImageId=p),u(p)}),I("click",function(){return m(l),u(t.fileManagerOpenForm=!0)}),a(),r(41,"cms-file-manager",24),I("itemSelected",function(p){return m(l),u(t.onActionFileSelected(p))}),D("openFormChange",function(p){return m(l),w(t.fileManagerOpenForm,p)||(t.fileManagerOpenForm=p),u(p)}),a()(),v(42,ch,9,7,"div",25),a()()()}if(i&2){let l=R(26);o(),f("optionsInfoAreaId",t.constructorInfoAreaId),o(3),_(" ",t.formInfo.formTitle," "),o(2),y(h(7,35,"TITLE.DATA_PROVIDER_SOURCE_COMPANY")),o(3),_(" ",h(10,37,"TITLE.DATA_PROVIDER_SOURCE_COMPANY_DESCRIPTION")," "),o(2),f("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?14:-1),o(),b(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?15:-1),o(),b(t.fieldsInfo.checkCredit!=null&&t.fieldsInfo.checkCredit.accessWatchField?16:-1),o(),b(t.fieldsInfo.calculateCredit!=null&&t.fieldsInfo.calculateCredit.accessWatchField?17:-1),o(),b(t.fieldsInfo.serviceAvailableCredit!=null&&t.fieldsInfo.serviceAvailableCredit.accessWatchField?18:-1),o(),b(t.fieldsInfo.serviceSumCredit!=null&&t.fieldsInfo.serviceSumCredit.accessWatchField?19:-1),o(),b(t.fieldsInfo.userAvailableCredit!=null&&t.fieldsInfo.userAvailableCredit.accessWatchField?20:-1),o(),b(t.fieldsInfo.userSumCredit!=null&&t.fieldsInfo.userSumCredit.accessWatchField?21:-1),o(3),y(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),f("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),E("ngModel",t.dataModel.description),o(3),_("",l.value.length," / 500"),o(),b(l.errors!=null&&l.errors.required?29:-1),o(2),f("href",x(h(32,39,t.dataModel.linkMainImageIdSrc)),X),o(2),b((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?33:-1),o(3),y(h(37,41,"TITLE.Icon_File")),o(2),f("placeholder",x(h(40,43,"TITLE.Original_File_ID"))),E("ngModel",t.dataModel.linkMainImageId),o(3),f("language",t.appLanguage)("isPopup",!0),E("openForm",t.fileManagerOpenForm),f("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),b(t.formInfo.submitButtonEnabled?42:-1)}},dependencies:[_e,ee,Mi,te,he,Ie,Pe,Ee,ce,Ce,Fe,K,ve,W,fe,zt,Rt,B,ge],encapsulation:2});var ma=Jo;var ph=["vform"];function mh(n,s){if(n&1){let e=P();r(0,"app-cms-enum-record-status-selector",26),D("modelChange",function(t){m(e);let l=d();return w(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=d();E("model",e.dataModel.recordStatus),f("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function uh(n,s){n&1&&g(0,"i",29)}function fh(n,s){n&1&&g(0,"i",30)}function Sh(n,s){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function hh(n,s){if(n&1){let e=P();r(0,"div",15)(1,"label",27),c(2),a(),r(3,"input",28,3),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.title,t)||(l.dataModel.title=t),u(t)}),a(),v(5,uh,1,0,"i",29),v(6,fh,1,0,"i",30),r(7,"em"),c(8),a(),v(9,Sh,5,3,"mat-error"),a()}if(n&2){let e=R(4),i=d();o(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),f("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),o(2),b(e.value?-1:5),o(),b(e.value?6:-1),o(2),_("",e.value.length," / 100"),o(),b(e.errors!=null&&e.errors.required?9:-1)}}function Ch(n,s){if(n&1){let e=P();r(0,"div",16)(1,"div",31)(2,"h5",32),c(3),a()(),r(4,"div",33)(5,"div",34)(6,"input",35),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.checkCredit,t)||(l.dataModel.checkCredit=t),u(t)}),a(),g(7,"label",36),a()()()}if(n&2){let e=d();o(3),_(" ",e.fieldsInfo.checkCredit==null?null:e.fieldsInfo.checkCredit.fieldTitle," "),o(3),E("ngModel",e.dataModel.checkCredit)}}function _h(n,s){if(n&1){let e=P();r(0,"div",16)(1,"div",31)(2,"h5",37),c(3),a()(),r(4,"div",33)(5,"div",34)(6,"input",38),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.calculateCredit,t)||(l.dataModel.calculateCredit=t),u(t)}),a(),g(7,"label",39),a()()()}if(n&2){let e=d();o(3),_(" ",e.fieldsInfo.calculateCredit==null?null:e.fieldsInfo.calculateCredit.fieldTitle," "),o(3),E("ngModel",e.dataModel.calculateCredit)}}function gh(n,s){n&1&&g(0,"i",29)}function vh(n,s){n&1&&g(0,"i",30)}function bh(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=d(2);o(),_(" ",e.fieldsInfo.serviceAvailableCredit==null?null:e.fieldsInfo.serviceAvailableCredit.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function Mh(n,s){if(n&1){let e=P();r(0,"div",15)(1,"label",40),c(2),a(),r(3,"input",41,4),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.serviceAvailableCredit,t)||(l.dataModel.serviceAvailableCredit=t),u(t)}),a(),v(5,gh,1,0,"i",29),v(6,vh,1,0,"i",30),v(7,bh,5,4,"mat-error"),a()}if(n&2){let e=R(4),i=d();o(2),y(i.fieldsInfo.serviceAvailableCredit==null?null:i.fieldsInfo.serviceAvailableCredit.fieldTitle),o(),E("ngModel",i.dataModel.serviceAvailableCredit),f("disabled",!(i.fieldsInfo.serviceAvailableCredit!=null&&i.fieldsInfo.serviceAvailableCredit.accessEditField)),o(2),b(e.value?-1:5),o(),b(e.value?6:-1),o(),b(e.errors!=null&&e.errors.required?7:-1)}}function Ih(n,s){n&1&&g(0,"i",29)}function Ph(n,s){n&1&&g(0,"i",30)}function Eh(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=d(2);o(),_(" ",e.fieldsInfo.serviceSumCredit==null?null:e.fieldsInfo.serviceSumCredit.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function wh(n,s){if(n&1){let e=P();r(0,"div",15)(1,"label",42),c(2),a(),r(3,"input",43,5),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.serviceSumCredit,t)||(l.dataModel.serviceSumCredit=t),u(t)}),a(),v(5,Ih,1,0,"i",29),v(6,Ph,1,0,"i",30),v(7,Eh,5,4,"mat-error"),a()}if(n&2){let e=R(4),i=d();o(2),y(i.fieldsInfo.serviceSumCredit==null?null:i.fieldsInfo.serviceSumCredit.fieldTitle),o(),E("ngModel",i.dataModel.serviceSumCredit),f("disabled",!(i.fieldsInfo.serviceSumCredit!=null&&i.fieldsInfo.serviceSumCredit.accessEditField)),o(2),b(e.value?-1:5),o(),b(e.value?6:-1),o(),b(e.errors!=null&&e.errors.required?7:-1)}}function Dh(n,s){n&1&&g(0,"i",29)}function yh(n,s){n&1&&g(0,"i",30)}function Th(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=d(2);o(),_(" ",e.fieldsInfo.userAvailableCredit==null?null:e.fieldsInfo.userAvailableCredit.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function Ah(n,s){if(n&1){let e=P();r(0,"div",15)(1,"label",44),c(2),a(),r(3,"input",45,6),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.userAvailableCredit,t)||(l.dataModel.userAvailableCredit=t),u(t)}),a(),v(5,Dh,1,0,"i",29),v(6,yh,1,0,"i",30),v(7,Th,5,4,"mat-error"),a()}if(n&2){let e=R(4),i=d();o(2),y(i.fieldsInfo.userAvailableCredit==null?null:i.fieldsInfo.userAvailableCredit.fieldTitle),o(),E("ngModel",i.dataModel.userAvailableCredit),f("disabled",!(i.fieldsInfo.userAvailableCredit!=null&&i.fieldsInfo.userAvailableCredit.accessEditField)),o(2),b(e.value?-1:5),o(),b(e.value?6:-1),o(),b(e.errors!=null&&e.errors.required?7:-1)}}function xh(n,s){n&1&&g(0,"i",29)}function Rh(n,s){n&1&&g(0,"i",30)}function kh(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2){let e=d(2);o(),_(" ",e.fieldsInfo.userSumCredit==null?null:e.fieldsInfo.userSumCredit.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function Lh(n,s){if(n&1){let e=P();r(0,"div",15)(1,"label",46),c(2),a(),r(3,"input",47,7),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.userSumCredit,t)||(l.dataModel.userSumCredit=t),u(t)}),a(),v(5,xh,1,0,"i",29),v(6,Rh,1,0,"i",30),v(7,kh,5,4,"mat-error"),a()}if(n&2){let e=R(4),i=d();o(2),y(i.fieldsInfo.userSumCredit==null?null:i.fieldsInfo.userSumCredit.fieldTitle),o(),E("ngModel",i.dataModel.userSumCredit),f("disabled",!(i.fieldsInfo.userSumCredit!=null&&i.fieldsInfo.userSumCredit.accessEditField)),o(2),b(e.value?-1:5),o(),b(e.value?6:-1),o(),b(e.errors!=null&&e.errors.required?7:-1)}}function Vh(n,s){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function Bh(n,s){if(n&1&&(g(0,"img",21),S(1,"cmsthumbnail")),n&2){let e=d();f("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),X)}}function Fh(n,s){if(n&1){let e=P();r(0,"div",25)(1,"button",48),I("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",49),c(3),S(4,"translate"),a(),r(5,"button",50),g(6,"i",51),c(7),S(8,"translate"),a()()}if(n&2){d();let e=R(13);o(3),_(" ",h(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!e.form.valid),o(2),_(" ",h(8,5,"ACTION.SAVE")," ")}}var Xo=class Xo extends dt{constructor(e,i,t,l,C,p,k,Y){super(l,new qt,p,Y);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderSourceCompanyService=l;this.cmsToastrService=C;this.publicHelper=p;this.cdr=k;this.translate=Y;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ot;this.dataModel=new qt;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){if(this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourceCompanyService.setAccessLoad(),this.dataProviderSourceCompanyService.setAccessDataType(Re.Editor),this.dataProviderSourceCompanyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourceCompanyService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Xo.\u0275fac=function(i){return new(i||Xo)(M(se),M(le),M(ne),M(Ut),M(G),M(H),M(N),M(O))},Xo.\u0275cmp=L({type:Xo,selectors:[["app-data-provider-source-company-edit"]],viewQuery:function(i,t){if(i&1&&U(ph,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:43,vars:45,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],["ServiceAvailableCredit",""],["ServiceSumCredit",""],["UserAvailableCredit",""],["UserSumCredit",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"d-flex","mb-3"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"pt-1"],["data-trigger-switch","dataModel.checkCredit",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.checkCredit","name","dataModel.checkCredit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.checkCredit",1,"custom-control-label"],["data-trigger-switch","dataModel.calculateCredit",1,"font-600","font-14"],["type","checkbox","id","dataModel.calculateCredit","name","dataModel.calculateCredit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.calculateCredit",1,"custom-control-label"],["for","dataModel.serviceAvailableCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.serviceAvailableCredit","currencyMask","","placeholder","0","required","","id","dataModel.serviceAvailableCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.serviceSumCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.serviceSumCredit","currencyMask","","placeholder","0","required","","id","dataModel.serviceSumCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userAvailableCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.userAvailableCredit","currencyMask","","placeholder","0","required","","id","dataModel.userAvailableCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userSumCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.userSumCredit","currencyMask","","placeholder","0","required","","id","dataModel.userSumCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();r(0,"div",8),g(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),c(4),a(),r(5,"h4"),c(6),S(7,"translate"),a(),r(8,"p"),c(9),S(10,"translate"),a(),g(11,"app-cms-form-result-message",12),r(12,"form",13,0),I("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(14,mh,1,5,"app-cms-enum-record-status-selector",14),v(15,hh,10,8,"div",15),v(16,Ch,8,2,"div",16),v(17,_h,8,2,"div",16),v(18,Mh,8,6,"div",15),v(19,wh,8,6,"div",15),v(20,Ah,8,6,"div",15),v(21,Lh,8,6,"div",15),r(22,"div",15)(23,"label",17),c(24),a(),r(25,"textarea",18,1),D("ngModelChange",function(p){return m(l),w(t.dataModel.description,p)||(t.dataModel.description=p),u(p)}),a(),r(27,"em"),c(28),a(),v(29,Vh,5,3,"mat-error"),a(),r(30,"div",19)(31,"a",20),S(32,"cmsthumbnail"),v(33,Bh,2,4,"img",21),a()(),r(34,"div",15)(35,"label",22),I("click",function(){return m(l),u(t.fileManagerOpenForm=!0)}),c(36),S(37,"translate"),a(),r(38,"input",23,2),S(40,"translate"),D("ngModelChange",function(p){return m(l),w(t.dataModel.linkMainImageId,p)||(t.dataModel.linkMainImageId=p),u(p)}),I("click",function(){return m(l),u(t.fileManagerOpenForm=!0)}),a(),r(41,"cms-file-manager",24),I("itemSelected",function(p){return m(l),u(t.onActionFileSelected(p))}),D("openFormChange",function(p){return m(l),w(t.fileManagerOpenForm,p)||(t.fileManagerOpenForm=p),u(p)}),a()(),v(42,Fh,9,7,"div",25),a()()()}if(i&2){let l=R(26);o(),f("optionsInfoAreaId",t.constructorInfoAreaId),o(3),_(" ",t.formInfo.formTitle," "),o(2),y(h(7,35,"TITLE.DATA_PROVIDER_SOURCE_COMPANY")),o(3),_(" ",h(10,37,"TITLE.DATA_PROVIDER_SOURCE_COMPANY_DESCRIPTION")," "),o(2),f("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?14:-1),o(),b(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?15:-1),o(),b(t.fieldsInfo.checkCredit!=null&&t.fieldsInfo.checkCredit.accessWatchField?16:-1),o(),b(t.fieldsInfo.calculateCredit!=null&&t.fieldsInfo.calculateCredit.accessWatchField?17:-1),o(),b(t.fieldsInfo.serviceAvailableCredit!=null&&t.fieldsInfo.serviceAvailableCredit.accessWatchField?18:-1),o(),b(t.fieldsInfo.serviceSumCredit!=null&&t.fieldsInfo.serviceSumCredit.accessWatchField?19:-1),o(),b(t.fieldsInfo.userAvailableCredit!=null&&t.fieldsInfo.userAvailableCredit.accessWatchField?20:-1),o(),b(t.fieldsInfo.userSumCredit!=null&&t.fieldsInfo.userSumCredit.accessWatchField?21:-1),o(3),y(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),f("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),E("ngModel",t.dataModel.description),o(3),_("",l.value.length," / 500"),o(),b(l.errors!=null&&l.errors.required?29:-1),o(2),f("href",x(h(32,39,t.dataModel.linkMainImageIdSrc)),X),o(2),b((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?33:-1),o(3),y(h(37,41,"TITLE.Icon_File")),o(2),f("placeholder",x(h(40,43,"TITLE.Original_File_ID"))),E("ngModel",t.dataModel.linkMainImageId),o(3),f("language",t.appLanguage)("isPopup",!0),E("openForm",t.fileManagerOpenForm),f("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),b(t.formInfo.submitButtonEnabled?42:-1)}},dependencies:[_e,ee,Mi,te,he,Ie,Pe,Ee,ce,Ce,Fe,K,ve,W,fe,zt,Rt,B,ge],encapsulation:2});var ua=Xo;var Oh=()=>[5,10,20,100];function Nh(n,s){if(n&1){let e=P();r(0,"div",15)(1,"a",37),I("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",38)(3,"br"),a(),r(4,"p",19),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.ADD")," "))}function Gh(n,s){if(n&1){let e=P();r(0,"div",15)(1,"a",39),I("click",function(){m(e);let t=d();return u(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",40)(3,"br"),a(),r(4,"p",19),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.EDIT")," "))}function Hh(n,s){if(n&1){let e=P();r(0,"div",15)(1,"a",41),I("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",42)(3,"br"),a(),r(4,"p",19),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.DELETE")," "))}function Wh(n,s){n&1&&(r(0,"mat-header-cell",43),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"TITLE.PICTURE")," "))}function qh(n,s){if(n&1&&g(0,"img",44),n&2){let e=d().$implicit;f("src",x(e.linkMainImageIdSrc),X)}}function jh(n,s){if(n&1&&(r(0,"mat-cell"),v(1,qh,1,2,"img",44),a()),n&2){let e=s.$implicit;o(),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function Uh(n,s){if(n&1&&(r(0,"mat-header-cell",43),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Qh(n,s){if(n&1&&(r(0,"mat-cell",45),S(1,"statusCellClass"),g(2,"i",45),S(3,"statusIconClass"),a()),n&2){let e=s.$implicit;f("ngClass",h(1,2,e.recordStatus)),o(2),f("ngClass",h(3,4,e.recordStatus))}}function zh(n,s){if(n&1&&(r(0,"mat-header-cell",43),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Kh(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),_(" ",e.title," ")}}function Jh(n,s){n&1&&(r(0,"mat-header-cell"),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"TITLE.OPTION")," "))}function Xh(n,s){if(n&1&&(r(0,"mat-cell",46)(1,"button",47)(2,"mat-icon"),c(3,"more_vert"),a()(),g(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),f("matMenuTriggerFor",e)}}function Yh(n,s){n&1&&g(0,"mat-header-row")}function Zh(n,s){if(n&1){let e=P();r(0,"mat-row",48),I("click",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))}),a()}if(n&2){let e=s.$implicit,i=d();F("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Yo=class Yo extends ct{constructor(e,i,t,l,C,p,k,Y,ke,Ke,We){super(e,new qt,Ke,C,k);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.router=l;this.tokenHelper=C;this.cdr=p;this.translate=k;this.cmsStoreService=Y;this.pageInfo=ke;this.publicHelper=Ke;this.dialog=We;this.tableData=[];this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ae;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","recordStatus","title"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","recordStatus","title"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:it=>this.onSubmitOptionsSearch(it)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=re.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Me(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new qt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,t.isSuccess?(this.tableData=t.listItems,this.tableSource.data=t.listItems,this.sort&&(this.tableSource.sort=this.sort),this.paginator&&(this.tableSource.paginator=this.paginator),this.tableSource.filter="",this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=re.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=re.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=re.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(ma,{height:"90%",panelClass:e,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ua,{height:"90%",panelClass:i,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let C=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(C,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})}onActionButtonSourceList(e=this.tableRowSelected,i){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/data-provider/main/source/list/LinkSourceCompanyId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/main/source/list/LinkSourceCompanyId",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),C=new J;C.propertyName="recordStatus",C.value=nt.Available,l.filters.push(C),this.contentService.ServiceGetCount(l).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Yo.\u0275fac=function(i){return new(i||Yo)(M(Ut),M(G),M(Ot),M(Ue),M(He),M(N),M(O),M(Ge),M(lt),M(H),M(Oe))},Yo.\u0275cmp=L({type:Yo,selectors:[["app-data-provider-source-company-list"]],viewQuery:function(i,t){if(i&1&&(U(Ne,5),U(Le,5)),i&2){let l;Q(l=z())&&(t.sort=l.first),Q(l=z())&&(t.paginator=l.first)}},standalone:!1,features:[q],decls:54,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-route","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=P();r(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(p){return m(l),w(t.viewGuideNotice,p)||(t.viewGuideNotice=p),u(p)}),I("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionButtonPrintRow())}),T(1,4),c(2," -------------------------------------- "),A(),Je(3,5)(4,6),T(5,7),r(6,"a",8),I("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),g(7,"i",9),a(),r(8,"a",8),I("click",function(){return m(l),u(t.onActionButtonReload())}),g(9,"i",10),a(),A(),T(10,11),r(11,"a",12),I("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(12,"mat-slide-toggle",13),c(13),S(14,"translate"),a(),r(15,"a",12),I("click",function(){return m(l),u(t.onActionButtonStatist())}),g(16,"mat-slide-toggle",13),c(17),S(18,"translate"),a(),A(),T(19,14),v(20,Nh,7,3,"div",15),A(),T(21,16),v(22,Gh,7,3,"div",15),v(23,Hh,7,3,"div",15),r(24,"div",15)(25,"a",17),I("click",function(p){return m(l),u(t.onActionButtonSourceList(t.tableRowSelected,p))}),g(26,"i",18)(27,"br"),a(),r(28,"p",19),c(29),S(30,"translate"),a()(),A(),T(31,20),r(32,"app-cms-search-list",21),D("optionsChange",function(p){return m(l),w(t.optionsSearch,p)||(t.optionsSearch=p),u(p)}),a(),r(33,"app-cms-statist-list",21),D("optionsChange",function(p){return m(l),w(t.optionsStatist,p)||(t.optionsStatist=p),u(p)}),a(),A(),T(34,22),r(35,"mat-table",23,0),I("matSortChange",function(){m(l);let p=R(36);return u(t.onTableSortData(p))}),T(37,24),V(38,Wh,3,3,"mat-header-cell",25)(39,jh,2,1,"mat-cell",26),A(),T(40,27),V(41,Uh,2,1,"mat-header-cell",25)(42,Qh,4,6,"mat-cell",28),A(),T(43,29),V(44,zh,2,1,"mat-header-cell",25)(45,Kh,2,1,"mat-cell",26),A(),T(46,30),V(47,Jh,3,3,"mat-header-cell",31)(48,Xh,6,1,"mat-cell",32),A(),V(49,Yh,1,0,"mat-header-row",33)(50,Zh,1,2,"mat-row",34),a(),A(),T(51,35),r(52,"mat-paginator",36,1),I("page",function(p){return m(l),u(t.onTablePageingData(p))}),a(),A(),a()}i&2&&(f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),F("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),f("checked",t.optionsSearch.data.show),o(),_("",h(14,26,"ACTION.SEARCH")," "),o(3),f("checked",t.optionsStatist.data.show),o(),_("",h(18,28,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(6),_(" ",h(30,30,"ACTION.SOURCE")," "),o(3),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),f("dataSource",t.tableSource),o(14),f("matHeaderRowDef",t.tabledisplayedColumns),o(),f("matRowDefColumns",t.tabledisplayedColumns),o(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",qe(32,Oh)))},dependencies:[De,Qe,je,ht,Ct,Le,_t,Ne,Xe,gt,Ze,vt,$e,Ye,bt,et,tt,Mt,It,we,pt,Pt,Dt,B,ye,zi],encapsulation:2});var Zo=Yo;var $h=(n,s)=>s.id;function eC(n,s){if(n&1){let e=P();r(0,"button",6),S(1,"translate"),I("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",14),a()}n&2&&j("aria-label",h(1,1,"ACTION.ADD"))}function tC(n,s){if(n&1){let e=P();r(0,"div",10)(1,"app-cms-search-list",15),D("optionsChange",function(t){m(e);let l=d();return w(l.optionsSearch,t)||(l.optionsSearch=t),u(t)}),a()()}if(n&2){let e=d();o(),E("options",e.optionsSearch)}}function iC(n,s){if(n&1&&(r(0,"div",18),g(1,"img",26),S(2,"cmsthumbnail"),a()),n&2){let e=d().$implicit;o(),f("src",h(2,2,e.linkMainImageIdSrc),X)("alt",e.id||e.id)}}function nC(n,s){n&1&&(r(0,"div",19),g(1,"i",27),a())}function oC(n,s){if(n&1&&(r(0,"div",22),g(1,"i",28),S(2,"statusIconClass"),a()),n&2){let e=d().$implicit;o(),f("ngClass",h(2,1,e.recordStatus))}}function rC(n,s){if(n&1){let e=P();r(0,"button",29),S(1,"translate"),I("click",function(t){m(e);let l=d().$implicit;return d(2).onActionButtonEditRow(l),u(t.stopPropagation())}),g(2,"i",30),a()}n&2&&j("aria-label",h(1,1,"ACTION.EDIT"))}function aC(n,s){if(n&1){let e=P();r(0,"button",31),S(1,"translate"),I("click",function(t){m(e);let l=d().$implicit;return d(2).onActionButtonDeleteRow(l),u(t.stopPropagation())}),g(2,"i",32),a()}n&2&&j("aria-label",h(1,1,"ACTION.DELETE"))}function lC(n,s){if(n&1){let e=P();r(0,"div",17),I("click",function(){let t=m(e).$implicit,l=d(2);return u(l.onActionTableRowSelect(t))}),v(1,iC,3,4,"div",18)(2,nC,2,0,"div",19),r(3,"div",20)(4,"div",21),c(5),a(),v(6,oC,3,3,"div",22),a(),r(7,"div",23),v(8,rC,3,3,"button",24),v(9,aC,3,3,"button",25),a()()}if(n&2){let e=s.$implicit,i=d(2);F("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),j("aria-label",e.id||e.id),o(),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:2),o(4),_(" ID: ",e.id," "),o(),b(e.recordStatus!==void 0?6:-1),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?8:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow?9:-1)}}function sC(n,s){if(n&1&&(r(0,"div",12),Te(1,lC,10,8,"div",16,$h),a()),n&2){let e=d();o(),Ae(e.dataModelResult.listItems)}}function dC(n,s){n&1&&(r(0,"div",13),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"MESSAGE.NoRecord")," "))}var An=class An extends Zo{};An.\u0275fac=(()=>{let s;return function(i){return(s||(s=Et(An)))(i||An)}})(),An.\u0275cmp=L({type:An,selectors:[["app-data-provider-source-company-list-mobile"]],standalone:!1,features:[q],decls:19,vars:17,consts:[[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],[1,"cms-m-header-title"],[1,"cms-m-header-actions"],["type","button",1,"cms-m-header-action-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-magnifying-glass"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],["type","button",1,"cms-m-header-action-btn"],[1,"cms-m-search-area","safe-area-content"],[1,"cms-m-content","safe-area-content"],[1,"cms-m-list"],[1,"cms-m-empty","safe-area-content"],["aria-hidden","true",1,"fa-solid","fa-plus"],[3,"optionsChange","options"],["role","button","tabindex","0",1,"cms-m-list-item",3,"selected"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click"],[1,"cms-m-list-item-image"],[1,"cms-m-list-item-image-placeholder"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-actions"],[1,"cms-m-action-btn","edit"],[1,"cms-m-action-btn","delete"],["loading","lazy",3,"src","alt"],["aria-hidden","true",1,"fa-solid","fa-building"],[3,"ngClass"],[1,"cms-m-action-btn","edit",3,"click"],["aria-hidden","true",1,"fa-solid","fa-pen"],[1,"cms-m-action-btn","delete",3,"click"],["aria-hidden","true",1,"fa-solid","fa-trash"]],template:function(e,i){e&1&&(r(0,"div",0),g(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"h1",4),c(5),S(6,"translate"),a(),r(7,"div",5)(8,"button",6),S(9,"translate"),I("click",function(){return i.optionsSearch.data.show=!i.optionsSearch.data.show}),g(10,"i",7),a(),r(11,"button",6),S(12,"translate"),I("click",function(){return i.onActionButtonReload()}),g(13,"i",8),a(),v(14,eC,3,3,"button",9),a()()(),v(15,tC,2,1,"div",10),r(16,"div",11),v(17,sC,3,0,"div",12)(18,dC,3,3,"div",13),a()()),e&2&&(o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(4),_(" ",h(6,11,"ROUTE.DATAPROVIDER.SOURCECOMPANY")," "),o(3),F("active",i.optionsSearch.data.show),j("aria-label",h(9,13,"ACTION.SEARCH")),o(3),j("aria-label",h(12,15,"ACTION.RELOAD")),o(2),F("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow&&(i.tokenHelper!=null&&i.tokenHelper.isAdminSite)?14:-1),o(),b(i.optionsSearch.data.show?15:-1),o(2),b(!(i.dataModelResult==null||i.dataModelResult.listItems==null)&&i.dataModelResult.listItems.length?17:18))},dependencies:[De,we,W,B,ge,ye],styles:[".cms-m-body[_ngcontent-%COMP%]{min-height:100vh;background:var(--cms-m-bg, #0f172a);color:var(--cms-m-fg, #e2e8f0)}.cms-m-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2;background:var(--cms-m-header-bg, #0f172a);border-bottom:1px solid rgba(255,255,255,.08)}.cms-m-header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 16px}.cms-m-header-title[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:var(--cms-m-accent, #38bdf8)}.cms-m-header-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-left:auto}.cms-m-header-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:#ffffff0d;color:#e2e8f0;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.cms-m-header-action-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.cms-m-header-action-btn.active[_ngcontent-%COMP%]{background:#38bdf833;border-color:#38bdf866}.cms-m-header-action-btn[_ngcontent-%COMP%]   i.rotation360[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotation360 1s linear infinite}@keyframes _ngcontent-%COMP%_rotation360{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.cms-m-search-area[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px 16px}.cms-m-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.cms-m-list-item[_ngcontent-%COMP%]{display:flex;gap:12px;padding:12px;border-radius:14px;background:#ffffff0a;border:1px solid rgba(255,255,255,.06);cursor:pointer;transition:all .2s ease}.cms-m-list-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.cms-m-list-item.selected[_ngcontent-%COMP%]{border-color:var(--cms-m-accent, #38bdf8);box-shadow:0 0 0 1px #38bdf84d}.cms-m-list-item-image[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;overflow:hidden;flex-shrink:0}.cms-m-list-item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:grid;place-items:center;background:#38bdf81f;color:#38bdf8;flex-shrink:0}.cms-m-list-item-content[_ngcontent-%COMP%]{flex:1;min-width:0}.cms-m-list-item-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:4px;font-size:14px}.cms-m-list-item-subtitle[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8}.cms-m-list-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0}.cms-m-empty[_ngcontent-%COMP%]{padding:24px;text-align:center;color:#94a3b8}"]});var fa=An;var cC=["vform"];function pC(n,s){if(n&1){let e=P();r(0,"app-cms-enum-record-status-selector",14),D("modelChange",function(t){m(e);let l=d();return w(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=d();E("model",e.dataModel.recordStatus),f("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionSelectFirstItem",!0)}}function mC(n,s){if(n&1){let e=P();r(0,"div",11)(1,"label",15),c(2),a(),r(3,"input",16,1),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.title,t)||(l.dataModel.title=t),u(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=R(4),i=d();o(2),_(" ",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," "),o(),f("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),o(3),_("",(e.value==null?null:e.value.length)||0," / 128")}}function uC(n,s){if(n&1){let e=P();r(0,"app-data-provider-source-path-selector",17),I("optionChange",function(t){m(e);let l=d();return u(l.onActionSelectorSourcePath(t))}),a()}if(n&2){let e=d();f("optionSelectForce",e.dataModel.linkSourcePathId)("optionPlaceholder",e.fieldsInfo.linkSourcePathId==null?null:e.fieldsInfo.linkSourcePathId.fieldTitle)("optionDisabled",!((e.fieldsInfo.linkSourcePathId==null?null:e.fieldsInfo.linkSourcePathId.accessEditField)??!1))}}function fC(n,s){if(n&1){let e=P();r(0,"div",11)(1,"label",18),c(2),a(),r(3,"input",19,2),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.servicePricePerPage,t)||(l.dataModel.servicePricePerPage=t),u(t)}),a()()}if(n&2){let e=d();o(2),_(" ",e.fieldsInfo.servicePricePerPage==null?null:e.fieldsInfo.servicePricePerPage.fieldTitle," "),o(),f("placeholder",x(e.fieldsInfo.servicePricePerPage==null?null:e.fieldsInfo.servicePricePerPage.fieldTitle)),E("ngModel",e.dataModel.servicePricePerPage)}}function SC(n,s){if(n&1){let e=P();r(0,"div",11)(1,"label",20),c(2),a(),r(3,"input",21,3),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.endUserPricePerPage,t)||(l.dataModel.endUserPricePerPage=t),u(t)}),a()()}if(n&2){let e=d();o(2),_(" ",e.fieldsInfo.endUserPricePerPage==null?null:e.fieldsInfo.endUserPricePerPage.fieldTitle," "),o(),f("placeholder",x(e.fieldsInfo.endUserPricePerPage==null?null:e.fieldsInfo.endUserPricePerPage.fieldTitle)),E("ngModel",e.dataModel.endUserPricePerPage)}}function hC(n,s){if(n&1){let e=P();r(0,"div",13)(1,"button",22),I("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",23),c(3),S(4,"translate"),a(),r(5,"button",24),g(6,"i",25),c(7),S(8,"translate"),a()()}if(n&2){d();let e=R(10);o(3),_(" ",h(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!e.form.valid),o(2),_(" ",h(8,5,"ACTION.SAVE")," ")}}var $o=class $o extends st{constructor(e,i,t,l,C,p,k,Y){super(l,new en,p,Y);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.contentService=l;this.cmsToastrService=C;this.publicHelper=p;this.cdr=k;this.translate=Y;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResult=new Z;this.dataModel=new en;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contentService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSourcePath(e){if(!e||!e.id){this.dataModel.linkSourcePathId="";return}this.dataModel.linkSourcePathId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};$o.\u0275fac=function(i){return new(i||$o)(M(se),M(le),M(ne),M(nn),M(G),M(H),M(N),M(O))},$o.\u0275cmp=L({type:$o,selectors:[["app-data-provider-source-path-pagination-add"]],viewQuery:function(i,t){if(i&1&&U(cC,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:17,vars:12,consts:[["vform","ngForm"],["Title",""],["ServicePricePerPage",""],["EndUserPricePerPage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionLabel","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[3,"optionSelectForce","optionPlaceholder","optionDisabled"],[1,"form-actions"],[3,"modelChange","model","optionLabel","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","128","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["for","dataModel.servicePricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.servicePricePerPage","id","dataModel.servicePricePerPage",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.endUserPricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.endUserPricePerPage","id","dataModel.endUserPricePerPage",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();r(0,"div",4),g(1,"app-progress-spinner",5),r(2,"div",6)(3,"p",7),c(4),a(),r(5,"h4"),c(6),S(7,"translate"),a(),g(8,"app-cms-form-result-message",8),r(9,"form",9,0),I("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(11,pC,1,3,"app-cms-enum-record-status-selector",10),v(12,mC,7,5,"div",11),v(13,uC,1,3,"app-data-provider-source-path-selector",12),v(14,fC,5,4,"div",11),v(15,SC,5,4,"div",11),v(16,hC,9,7,"div",13),a()()()}i&2&&(o(),f("optionsInfoAreaId",t.constructorInfoAreaId),o(3),_(" ",t.formInfo.formTitle," "),o(2),y(h(7,10,"TITLE.DataProviderSourcePathPagination")),o(2),f("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),b(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?12:-1),o(),b(t.fieldsInfo.linkSourcePathId!=null&&t.fieldsInfo.linkSourcePathId.accessWatchField?13:-1),o(),b(t.fieldsInfo.servicePricePerPage!=null&&t.fieldsInfo.servicePricePerPage.accessWatchField?14:-1),o(),b(t.fieldsInfo.endUserPricePerPage!=null&&t.fieldsInfo.endUserPricePerPage.accessWatchField?15:-1),o(),b(t.formInfo.submitButtonEnabled?16:-1))},dependencies:[_e,ee,Ii,te,he,Ie,Pe,Ee,ce,Ce,K,ve,W,fe,zt,Ki,B],encapsulation:2});var Sa=$o;var CC=["vform"];function _C(n,s){if(n&1){let e=P();r(0,"app-cms-enum-record-status-selector",17),D("modelChange",function(t){m(e);let l=d();return w(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=d();E("model",e.dataModel.recordStatus),f("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionSelectFirstItem",!0)}}function gC(n,s){if(n&1){let e=P();r(0,"div",12)(1,"label",18),c(2),a(),r(3,"input",19,2),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.title,t)||(l.dataModel.title=t),u(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=R(4),i=d();o(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),f("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),o(3),_("",(e.value==null?null:e.value.length)||0," / 128")}}function vC(n,s){if(n&1){let e=P();r(0,"app-data-provider-source-path-selector",20),I("optionChange",function(t){m(e);let l=d();return u(l.onActionSelectorSourcePath(t))}),a()}if(n&2){let e=d();f("optionSelectForce",e.dataModel.linkSourcePathId)("optionPlaceholder",e.fieldsInfo.linkSourcePathId==null?null:e.fieldsInfo.linkSourcePathId.fieldTitle)("optionDisabled",!((e.fieldsInfo.linkSourcePathId==null?null:e.fieldsInfo.linkSourcePathId.accessEditField)??!1))}}function bC(n,s){if(n&1){let e=P();r(0,"div",12)(1,"label",21),c(2),a(),r(3,"input",22,3),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.servicePricePerPage,t)||(l.dataModel.servicePricePerPage=t),u(t)}),a()()}if(n&2){let e=d();o(2),y(e.fieldsInfo.servicePricePerPage==null?null:e.fieldsInfo.servicePricePerPage.fieldTitle),o(),f("placeholder",x(e.fieldsInfo.servicePricePerPage==null?null:e.fieldsInfo.servicePricePerPage.fieldTitle)),E("ngModel",e.dataModel.servicePricePerPage)}}function MC(n,s){if(n&1){let e=P();r(0,"div",12)(1,"label",23),c(2),a(),r(3,"input",24,4),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.endUserPricePerPage,t)||(l.dataModel.endUserPricePerPage=t),u(t)}),a()()}if(n&2){let e=d();o(2),y(e.fieldsInfo.endUserPricePerPage==null?null:e.fieldsInfo.endUserPricePerPage.fieldTitle),o(),f("placeholder",x(e.fieldsInfo.endUserPricePerPage==null?null:e.fieldsInfo.endUserPricePerPage.fieldTitle)),E("ngModel",e.dataModel.endUserPricePerPage)}}function IC(n,s){if(n&1){let e=P();r(0,"div",16)(1,"button",25),I("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",26),c(3),S(4,"translate"),a(),r(5,"button",27),g(6,"i",28),c(7),S(8,"translate"),a()()}if(n&2){d();let e=R(7);o(3),_(" ",h(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!e.form.valid),o(2),_(" ",h(8,5,"ACTION.SAVE")," ")}}var er=class er extends dt{constructor(e,i,t,l,C,p,k){super(t,new en,C,k);this.data=e;this.dialogRef=i;this.contentService=t;this.cmsToastrService=l;this.publicHelper=C;this.cdr=p;this.translate=k;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new ot;this.dataModel=new en;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){if(this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contentService.setAccessLoad(),this.contentService.setAccessDataType(Re.Editor),this.contentService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contentService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSourcePath(e){if(!e||!e.id){this.dataModel.linkSourcePathId="";return}this.dataModel.linkSourcePathId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};er.\u0275fac=function(i){return new(i||er)(M(se),M(le),M(nn),M(G),M(H),M(N),M(O))},er.\u0275cmp=L({type:er,selectors:[["app-data-provider-source-path-pagination-edit"]],viewQuery:function(i,t){if(i&1&&U(CC,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:19,vars:13,consts:[["vform","ngForm"],["Id",""],["Title",""],["ServicePricePerPage",""],["EndUserPricePerPage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionLabel","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.id",1,"color-highlight"],["matInput","","type","text","name","dataModel.Id","id","dataModel.id","disabled","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionSelectForce","optionPlaceholder","optionDisabled"],[1,"form-actions"],[3,"modelChange","model","optionLabel","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","128","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["for","dataModel.servicePricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.servicePricePerPage","id","dataModel.servicePricePerPage",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.endUserPricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.endUserPricePerPage","id","dataModel.endUserPricePerPage",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();r(0,"div",5),g(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),c(4),a(),g(5,"app-cms-form-result-message",9),r(6,"form",10,0),I("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(8,_C,1,3,"app-cms-enum-record-status-selector",11),r(9,"div",12)(10,"label",13),c(11),a(),r(12,"input",14,1),D("ngModelChange",function(p){return m(l),w(t.dataModel.id,p)||(t.dataModel.id=p),u(p)}),a()(),v(14,gC,7,5,"div",12),v(15,vC,1,3,"app-data-provider-source-path-selector",15),v(16,bC,5,4,"div",12),v(17,MC,5,4,"div",12),v(18,IC,9,7,"div",16),a()()()}i&2&&(o(),f("optionsInfoAreaId",t.constructorInfoAreaId),o(3),_(" ",t.formInfo.formTitle," "),o(),f("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?8:-1),o(3),y(t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle),o(),f("placeholder",x(t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle)),E("ngModel",t.dataModel.id),o(2),b(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?14:-1),o(),b(t.fieldsInfo.linkSourcePathId!=null&&t.fieldsInfo.linkSourcePathId.accessWatchField?15:-1),o(),b(t.fieldsInfo.servicePricePerPage!=null&&t.fieldsInfo.servicePricePerPage.accessWatchField?16:-1),o(),b(t.fieldsInfo.endUserPricePerPage!=null&&t.fieldsInfo.endUserPricePerPage.accessWatchField?17:-1),o(),b(t.formInfo.submitButtonEnabled?18:-1))},dependencies:[_e,ee,Ii,te,he,Ie,Pe,Ee,ce,Ce,K,ve,W,fe,zt,Ki,B],encapsulation:2});var ha=er;var PC=()=>[10,20,50,100];function EC(n,s){if(n&1){let e=P();r(0,"a",38),I("click",function(){m(e);let t=d();return u(t.onActionbuttonNewRow())}),g(1,"i",39),c(2),S(3,"translate"),a()}n&2&&(o(2),_(" ",h(3,1,"ACTION.ADD")," "))}function wC(n,s){if(n&1){let e=P();r(0,"a",40),I("click",function(){m(e);let t=d();return u(t.onActionbuttonEditRow(t.tableRowSelected))}),g(1,"i",41),c(2),S(3,"translate"),a()}n&2&&(o(2),_(" ",h(3,1,"ACTION.EDIT")," "))}function DC(n,s){if(n&1){let e=P();r(0,"a",42),I("click",function(){m(e);let t=d();return u(t.onActionbuttonDeleteRow(t.tableRowSelected))}),g(1,"i",43),c(2),S(3,"translate"),a()}n&2&&(o(2),_(" ",h(3,1,"ACTION.DELETE")," "))}function yC(n,s){n&1&&(r(0,"mat-header-cell",44),c(1," ID "),a())}function TC(n,s){if(n&1){let e=P();r(0,"mat-cell"),c(1),r(2,"button",45),I("click",function(){m(e);let t=d();return u(t.onActionCopied())}),r(3,"mat-icon"),c(4,"content_copy"),a()()()}if(n&2){let e=s.$implicit;o(),_(" ",e.id," "),o(),f("cdkCopyToClipboard",e.id)}}function AC(n,s){n&1&&(r(0,"mat-header-cell",46),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"TITLE.Title")," "))}function xC(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),y(e.title)}}function RC(n,s){n&1&&(r(0,"mat-header-cell",47),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"TITLE.SOURCEPATH")," "))}function kC(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),y(e.linkSourcePathId)}}function LC(n,s){n&1&&(r(0,"mat-header-cell",48),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"TITLE.SERVICE_PRICE_PER_PAGE")," "))}function VC(n,s){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"number"),a()),n&2){let e=s.$implicit;o(),_(" ",h(2,1,e.servicePricePerPage)," ")}}function BC(n,s){n&1&&(r(0,"mat-header-cell",49),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"TITLE.ENDUSER_PRICE_PER_PAGE")," "))}function FC(n,s){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"number"),a()),n&2){let e=s.$implicit;o(),_(" ",h(2,1,e.endUserPricePerPage)," ")}}function OC(n,s){if(n&1&&(r(0,"mat-header-cell",50),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function NC(n,s){if(n&1&&(r(0,"mat-cell",51),S(1,"statusCellClass"),g(2,"i",51),S(3,"statusIconClass"),a()),n&2){let e=s.$implicit;f("ngClass",h(1,2,e.recordStatus)),o(2),f("ngClass",h(3,4,e.recordStatus))}}function GC(n,s){n&1&&(r(0,"mat-header-cell"),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"TITLE.OPTION")," "))}function HC(n,s){if(n&1&&(r(0,"mat-cell",52)(1,"button",53)(2,"mat-icon"),c(3,"more_vert"),a()(),g(4,"mat-menu",null,1),a()),n&2){let e=R(5);o(),f("matMenuTriggerFor",e)}}function WC(n,s){n&1&&g(0,"mat-header-row")}function qC(n,s){if(n&1){let e=P();r(0,"mat-row",54),I("click",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowSelect(t))}),a()}if(n&2){let e=s.$implicit,i=d();F("ntk-table-row-selected",(i.tableRowSelected==null?null:i.tableRowSelected.id)===e.id)}}var tr=class tr extends ct{constructor(e,i,t,l,C,p,k,Y,ke,Ke){super(e,new en,ke,l,p);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.tokenHelper=l;this.cdr=C;this.translate=p;this.cmsStoreService=k;this.pageInfo=Y;this.publicHelper=ke;this.dialog=Ke;this.tableData=[];this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new ae;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","title","id","linkSourcePathId","servicePricePerPage","endUserPricePerPage","action"];this.tabledisplayedColumnsMobileSource=["recordStatus","title","id","linkSourcePathId","action"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:We=>this.onSubmitOptionsSearch(We)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=re.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Me(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let i=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new en);let e=this.constructor.name+".DataGetAll";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.tableData=t.listItems,this.tableSource.data=t.listItems,this.sort&&(this.tableSource.sort=this.sort),this.paginator&&(this.tableSource.paginator=this.paginator),this.tableSource.filter="",this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.dataModelResult=t,this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active&&this.tableSource.sort.direction==="asc"?e.direction="desc":e.direction="asc",this.tableSource.sort=e,this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=e.direction.toUpperCase()==="DESC"?re.Descending:re.Ascending,this.tableSource.data=this.tableSource.filteredData,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionbuttonNewRow(){if(this.tokenInfo==null||!this.dataModelResult?.access?.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}this.dialog.open(Sa,{height:"90%",data:{}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionbuttonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.tokenInfo==null||!this.dataModelResult?.access?.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.dialog.open(ha,{height:"90%",data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionbuttonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){let t=this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow");this.cmsToastrService.typeErrorSelected(t);return}if(this.onActionTableRowSelect(e),this.tokenInfo==null||!this.dataModelResult?.access?.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}let i=e.title;this.cmsConfirmationDialogService.confirm(this.translate.instant("MESSAGE.Pay_Attention"),this.translate.instant("MESSAGE.Delete",{0:i})).then(t=>{t&&this.contentService.ServiceDelete(e.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorMessage(l.errorMessage)},error:l=>{this.cmsToastrService.typeError(l)}})})}onActionbuttonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){let i=this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow");this.cmsToastrService.typeErrorSelected(i);return}this.onActionTableRowSelect(e)}onActionButtonReload(){this.DataGetAll()}onActionButtonStatist(e){e!==void 0?this.optionsStatist.data.show=e:this.optionsStatist.data.show=!this.optionsStatist.data.show}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){this.filteModelContent.filters=e,this.DataGetAll()}};tr.\u0275fac=function(i){return new(i||tr)(M(nn),M(G),M(Ot),M(He),M(N),M(O),M(Ge),M(lt),M(H),M(Oe))},tr.\u0275cmp=L({type:tr,selectors:[["app-data-provider-source-path-pagination-list"]],viewQuery:function(i,t){if(i&1&&(U(Ne,5),U(Le,5)),i&2){let l;Q(l=z())&&(t.sort=l.first),Q(l=z())&&(t.paginator=l.first)}},standalone:!1,features:[q],decls:48,vars:23,consts:[["tableSort","matSort"],["actionMenu","matMenu"],[3,"optionsListInfoAreaId"],["cms-action-header-start",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-rotate-right","font-18"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["cms-action-row",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","id",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","title"],["mat-sort-header","title",4,"matHeaderCellDef"],["matColumnDef","linkSourcePathId"],["mat-sort-header","linkSourcePathId",4,"matHeaderCellDef"],["matColumnDef","servicePricePerPage"],["mat-sort-header","servicePricePerPage",4,"matHeaderCellDef"],["matColumnDef","endUserPricePerPage"],["mat-sort-header","endUserPricePerPage",4,"matHeaderCellDef"],["matColumnDef","recordStatus"],["mat-sort-header","",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-table-row-selected","click",4,"matRowDef","matRowDefColumns"],[3,"page","length","pageSize","pageSizeOptions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18"],["mat-sort-header","id"],["type","button","mat-icon-button","","aria-label","copy-id",3,"click","cdkCopyToClipboard"],["mat-sort-header","title"],["mat-sort-header","linkSourcePathId"],["mat-sort-header","servicePricePerPage"],["mat-sort-header","endUserPricePerPage"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let l=P();r(0,"app-cms-html-list",2),T(1,3),r(2,"a",4),I("click",function(){return m(l),u(t.onActionButtonReload())}),g(3,"i",5),a(),A(),T(4,6),r(5,"a",7),I("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(6,"mat-slide-toggle",8),c(7),S(8,"translate"),a(),r(9,"a",7),I("click",function(){return m(l),u(t.onActionButtonStatist())}),g(10,"mat-slide-toggle",8),c(11),S(12,"translate"),a(),A(),T(13,9),v(14,EC,4,3,"a",10),A(),T(15,11),v(16,wC,4,3,"a",12),v(17,DC,4,3,"a",13),A(),T(18,14),r(19,"app-cms-search-list",15),D("optionsChange",function(p){return m(l),w(t.optionsSearch,p)||(t.optionsSearch=p),u(p)}),a(),r(20,"app-cms-statist-list",15),D("optionsChange",function(p){return m(l),w(t.optionsStatist,p)||(t.optionsStatist=p),u(p)}),a(),A(),T(21,16),r(22,"mat-table",17,0),I("matSortChange",function(){m(l);let p=R(23);return u(t.onTableSortData(p))}),T(24,18),V(25,yC,2,0,"mat-header-cell",19)(26,TC,5,2,"mat-cell",20),A(),T(27,21),V(28,AC,3,3,"mat-header-cell",22)(29,xC,2,1,"mat-cell",20),A(),T(30,23),V(31,RC,3,3,"mat-header-cell",24)(32,kC,2,1,"mat-cell",20),A(),T(33,25),V(34,LC,3,3,"mat-header-cell",26)(35,VC,3,3,"mat-cell",20),A(),T(36,27),V(37,BC,3,3,"mat-header-cell",28)(38,FC,3,3,"mat-cell",20),A(),T(39,29),V(40,OC,2,1,"mat-header-cell",30)(41,NC,4,6,"mat-cell",31),A(),T(42,32),V(43,GC,3,3,"mat-header-cell",33)(44,HC,6,1,"mat-cell",34),A(),V(45,WC,1,0,"mat-header-row",35)(46,qC,1,2,"mat-row",36),a(),r(47,"mat-paginator",37),I("page",function(p){return m(l),u(t.onTablePageingData(p))}),a(),A(),a()}i&2&&(f("optionsListInfoAreaId",t.constructorInfoAreaId),o(3),F("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),f("checked",t.optionsSearch.data.show),o(),_(" ",h(8,18,"ACTION.SEARCH")," "),o(3),f("checked",t.optionsStatist.data.show),o(),_(" ",h(12,20,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?14:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?16:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?17:-1),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),f("dataSource",t.tableSource),o(23),f("matHeaderRowDef",t.tabledisplayedColumns),o(),f("matRowDefColumns",t.tabledisplayedColumns),o(),f("length",t.dataModelResult.totalRowCount)("pageSize",t.filteModelContent.rowPerPage)("pageSizeOptions",qe(22,PC)))},dependencies:[De,Qe,je,ht,Ct,Le,_t,Ne,Xe,gt,Ze,vt,$e,Ye,bt,et,tt,Mt,It,Wi,we,pt,Pt,Nn,B,ye,zi],encapsulation:2});var ir=tr;var jC=(n,s)=>s.id;function UC(n,s){if(n&1){let e=P();r(0,"button",3),I("click",function(){m(e);let t=d();return u(t.onActionbuttonNewRow())}),c(1),S(2,"translate"),a()}n&2&&(o(),_(" ",h(2,1,"ACTION.ADD")," "))}function QC(n,s){if(n&1){let e=P();r(0,"div",9),I("click",function(){let t=m(e).$implicit,l=d(2);return u(l.onActionTableRowSelect(t))}),r(1,"div",10),c(2),a(),r(3,"div",11),c(4),S(5,"translate"),a(),r(6,"div",11),c(7),S(8,"translate"),S(9,"number"),a(),r(10,"div",11),c(11),S(12,"translate"),S(13,"number"),a()()}if(n&2){let e=s.$implicit,i=d(2);F("selected",(i.tableRowSelected==null?null:i.tableRowSelected.id)===e.id),o(2),y(e.title),o(2),Vt(" ",h(5,9,"TITLE.SOURCEPATH"),": ",e.linkSourcePathId," "),o(3),Vt(" ",h(8,11,"TITLE.SERVICE_PRICE_PER_PAGE"),": ",h(9,13,e.servicePricePerPage)," "),o(4),Vt(" ",h(12,15,"TITLE.ENDUSER_PRICE_PER_PAGE"),": ",h(13,17,e.endUserPricePerPage)," ")}}function zC(n,s){if(n&1&&(r(0,"div",6),Te(1,QC,14,19,"div",8,jC),a()),n&2){let e=d();o(),Ae(e.tableData)}}function KC(n,s){n&1&&(r(0,"div",7),c(1),S(2,"translate"),a()),n&2&&(o(),y(h(2,1,"MESSAGE.No_record_found")))}var xn=class xn extends ir{};xn.\u0275fac=(()=>{let s;return function(i){return(s||(s=Et(xn)))(i||xn)}})(),xn.\u0275cmp=L({type:xn,selectors:[["app-data-provider-source-path-pagination-list-mobile"]],standalone:!1,features:[q],decls:10,vars:6,consts:[[1,"cms-m-wrapper","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-actions"],[1,"btn",3,"click"],[1,"btn"],[1,"cms-m-content"],[1,"cms-m-list"],[1,"cms-m-empty"],[1,"cms-m-list-item",3,"selected"],[1,"cms-m-list-item",3,"click"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"]],template:function(e,i){e&1&&(r(0,"div",0),g(1,"app-progress-spinner",1),r(2,"div",2)(3,"button",3),I("click",function(){return i.onActionButtonReload()}),c(4),S(5,"translate"),a(),v(6,UC,3,3,"button",4),a(),r(7,"div",5),v(8,zC,3,0,"div",6)(9,KC,3,3,"div",7),a()()),e&2&&(o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(3),_(" ",h(5,4,"ACTION.RELOAD")," "),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow?6:-1),o(2),b(i.tableData&&i.tableData.length>0?8:9))},dependencies:[W,Nn,B],styles:[".cms-m-wrapper[_ngcontent-%COMP%]{padding:12px}.cms-m-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:12px}.cms-m-list-item[_ngcontent-%COMP%]{padding:12px;border:1px solid #e0e0e0;border-radius:8px;margin-bottom:8px}.cms-m-list-item.selected[_ngcontent-%COMP%]{border-color:#1976d2;background:#e8f1fb}"]});var Ca=xn;var JC=["*"];function XC(n,s){if(n&1&&(r(0,"label",3),c(1),a()),n&2){let e=d();f("for",Nt("app-cms-site-selector-",e.id)),o(),y(e.optionLabel)}}function YC(n,s){if(n&1&&(g(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=d();f("src",x(h(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),X)}}function ZC(n,s){if(n&1&&(g(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;f("src",x(h(1,2,e.linkMainImageIdSrc)),X)}}function $C(n,s){if(n&1&&(r(0,"mat-option",8),v(1,ZC,2,4,"img",5),r(2,"span"),c(3),a()()),n&2){let e=s.$implicit,i=d();f("value",e)("disabled",i.optionDisabled),o(),b(e.linkMainImageIdSrc?1:-1),o(2),y(i.displayOption(e))}}function e_(n,s){n&1&&g(0,"i",9)}function t_(n,s){n&1&&g(0,"i",10)}function i_(n,s){if(n&1){let e=P();r(0,"i",13),I("click",function(){m(e);let t=d();return u(t.onActionSelectClear())}),a()}}function n_(n,s){n&1&&(r(0,"em"),c(1),S(2,"translate"),a()),n&2&&(o(),_("(",h(2,1,"TITLE.Necessary"),")"))}var mn=class mn{constructor(s,e,i,t,l,C){this.coreEnumService=s;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=l;this.categoryService=C;this.id=++mn.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Z;this.dataModelSelect=new qt;this.formControl=new ti;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new wt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(ui(""),pi(1500),mi(),fi(s=>typeof s=="string"||typeof s=="number"?this.DataGetAll(s||""):[]))}displayFn(s){return s?s.title:void 0}displayOption(s){return s?s.title:void 0}DataGetAll(s){return Me(this,null,function*(){let e=new ae;e.rowPerPage=20,e.accessLoad=!0;let i=new J;i.propertyName="title",i.value=s,i.searchType=Lt.Contains,i.clauseType=Ft.Or,e.filters.push(i),s&&typeof+s=="number"&&+s>0&&(i=new J,i.propertyName="id",i.value=s,i.searchType=Lt.Equal,i.clauseType=Ft.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.get_information_list").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),yield di(this.categoryService.ServiceGetAll(e)).then(l=>(this.dataModelResult=l,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||(typeof this.dataModelSelect.id=="string"?this.dataModelSelect.id.length===0:this.dataModelSelect.id<=0))&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),l.listItems))})}onActionSelect(s){this.optionDisabled||(this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(s){return this.filteredOptions.pipe(ci(e=>(e.find(i=>i.id===s.id)||e.push(s),e)))}onActionSelectForce(s){if(typeof s=="number"&&s>0&&(s=s.toString()),typeof s=="string"&&s.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===s)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===s)){let e=this.dataModelResult.listItems.find(i=>i.id===s);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(s).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof s==typeof qt){this.filteredOptions=this.push(s),this.dataModelSelect=s,this.formControl.setValue(s);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new qt,this.loadOptions()}};mn.nextId=0,mn.\u0275fac=function(e){return new(e||mn)(M(ne),M(G),M(N),M(H),M(O),M(Ut))},mn.\u0275cmp=L({type:mn,selectors:[["app-data-provider-source-company-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:JC,decls:18,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=P();Vi(),r(0,"div",1),g(1,"app-progress-spinner",2),v(2,XC,2,3,"label",3),r(3,"span",4),v(4,YC,2,4,"img",5),a(),g(5,"input",6),r(6,"mat-autocomplete",7,0),I("optionSelected",function(C){return m(t),u(i.onActionSelect(C.option.value))}),Te(8,$C,4,4,"mat-option",8,Si),S(10,"async"),a(),v(11,e_,1,0,"i",9),v(12,t_,1,0,"i",10),v(13,i_,1,0,"i",11),r(14,"i",12),S(15,"translate"),I("click",function(){return m(t),u(i.onActionButtonReload())}),a(),v(16,n_,3,3,"em"),Bi(17),a()}if(e&2){let t=R(7);o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(),b((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),b(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),f("placeholder",x(i.optionPlaceholder))("id",Nt("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),j("disabled",i.optionDisabled?!0:null),o(),f("displayWith",i.displayFn),o(2),Ae(h(10,20,i.filteredOptions)),o(3),b(i.formControl.valid?-1:11),o(),b(i.optionRequired&&i.formControl.valid?12:-1),o(),b((i.dataModelSelect==null?null:i.dataModelSelect.id)>0?13:-1),o(),F("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),f("title",x(h(15,22,"ACTION.RELOAD"))),o(2),b(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(typeof i.dataModelSelect.id=="string"?i.dataModelSelect.id.length===0:i.dataModelSelect.id<=0))?16:-1)}},dependencies:[ee,te,Ie,Pi,Di,Ei,yi,qi,K,W,Be,B,ge],encapsulation:2});var nr=mn;var o_=["*"];function r_(n,s){if(n&1&&(r(0,"label",3),c(1),a()),n&2){let e=d();f("for",Nt("app-cms-site-selector-",e.id)),o(),y(e.optionLabel)}}function a_(n,s){if(n&1&&(g(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=d();f("src",x(h(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),X)}}function l_(n,s){if(n&1&&(g(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;f("src",x(h(1,2,e.linkMainImageIdSrc)),X)}}function s_(n,s){if(n&1&&(r(0,"mat-option",8),v(1,l_,2,4,"img",5),r(2,"span"),c(3),a()()),n&2){let e=s.$implicit,i=d();f("value",e)("disabled",i.optionDisabled),o(),b(e.linkMainImageIdSrc?1:-1),o(2),y(i.displayOption(e))}}function d_(n,s){n&1&&g(0,"i",9)}function c_(n,s){n&1&&g(0,"i",10)}function p_(n,s){if(n&1){let e=P();r(0,"i",13),I("click",function(){m(e);let t=d();return u(t.onActionSelectClear())}),a()}}function m_(n,s){n&1&&(r(0,"em"),c(1),S(2,"translate"),a()),n&2&&(o(),_("(",h(2,1,"TITLE.Necessary"),")"))}var un=class un{constructor(s,e,i,t,l,C){this.coreEnumService=s;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=l;this.categoryService=C;this.id=++un.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Z;this.dataModelSelect=new _i;this.formControl=new ti;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new wt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(ui(""),pi(1500),mi(),fi(s=>typeof s=="string"?this.DataGetAll(s||""):[]))}displayFn(s){return s?s.title+" | "+s.id:void 0}displayOption(s){return s?s.title+" | "+s.id:void 0}DataGetAll(s){return Me(this,null,function*(){let e=new ae;e.rowPerPage=20,e.accessLoad=!0;let i=new J;s&&s.length>0&&(i.propertyName="title",i.value=s,i.searchType=Lt.Contains,i.clauseType=Ft.Or,e.filters.push(i)),s&&typeof s=="string"&&s.length>10&&(i=new J,i.propertyName="id",i.value=s,i.searchType=Lt.Equal,i.clauseType=Ft.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),yield di(this.categoryService.ServiceGetAll(e)).then(l=>(this.dataModelResult=l,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),l.listItems))})}onActionSelect(s){this.optionDisabled||(this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(s){return this.filteredOptions.pipe(ci(e=>(e.find(i=>i.id===s.id)||e.push(s),e)))}onActionSelectForce(s){if(typeof s=="string"&&s.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===s)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===s)){let e=this.dataModelResult.listItems.find(i=>i.id===s);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(s).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof s==typeof _i){this.filteredOptions=this.push(s),this.dataModelSelect=s,this.formControl.setValue(s);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new _i,this.loadOptions()}};un.nextId=0,un.\u0275fac=function(e){return new(e||un)(M(ne),M(G),M(N),M(H),M(O),M($t))},un.\u0275cmp=L({type:un,selectors:[["app-data-provider-source-public-config-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:o_,decls:18,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=P();Vi(),r(0,"div",1),g(1,"app-progress-spinner",2),v(2,r_,2,3,"label",3),r(3,"span",4),v(4,a_,2,4,"img",5),a(),g(5,"input",6),r(6,"mat-autocomplete",7,0),I("optionSelected",function(C){return m(t),u(i.onActionSelect(C.option.value))}),Te(8,s_,4,4,"mat-option",8,Si),S(10,"async"),a(),v(11,d_,1,0,"i",9),v(12,c_,1,0,"i",10),v(13,p_,1,0,"i",11),r(14,"i",12),S(15,"translate"),I("click",function(){return m(t),u(i.onActionButtonReload())}),a(),v(16,m_,3,3,"em"),Bi(17),a()}if(e&2){let t=R(7);o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(),b((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),b(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),f("placeholder",x(i.optionPlaceholder))("id",Nt("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),j("disabled",i.optionDisabled?!0:null),o(),f("displayWith",i.displayFn),o(2),Ae(h(10,20,i.filteredOptions)),o(3),b(i.formControl.valid?-1:11),o(),b(i.optionRequired&&i.formControl.valid?12:-1),o(),b((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?13:-1),o(),F("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),f("title",x(h(15,22,"ACTION.RELOAD"))),o(2),b(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0)?16:-1)}},dependencies:[ee,te,Ie,Pi,Di,Ei,yi,qi,K,W,Be,B,ge],encapsulation:2});var or=un;var u_=["vform"];function f_(n,s){if(n&1){let e=P();r(0,"app-cms-enum-record-status-selector",26),D("modelChange",function(t){m(e);let l=d();return w(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=d();E("model",e.dataModel.recordStatus),f("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function S_(n,s){n&1&&g(0,"i",17)}function h_(n,s){n&1&&g(0,"i",18)}function C_(n,s){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function __(n,s){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function g_(n,s){if(n&1){let e=P();r(0,"div",14)(1,"label",27),c(2),a(),r(3,"input",28,3),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.maxProcessFlowAmount,t)||(l.dataModel.maxProcessFlowAmount=t),u(t)}),a()()}if(n&2){let e=d();o(2),y(e.fieldsInfo.maxProcessFlowAmount==null?null:e.fieldsInfo.maxProcessFlowAmount.fieldTitle),o(),E("ngModel",e.dataModel.maxProcessFlowAmount),f("disabled",!(e.fieldsInfo.maxProcessFlowAmount!=null&&e.fieldsInfo.maxProcessFlowAmount.accessAddField))}}function v_(n,s){if(n&1){let e=P();r(0,"div",14)(1,"label",29),c(2),a(),r(3,"input",30,4),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.minProcessFlowAmount,t)||(l.dataModel.minProcessFlowAmount=t),u(t)}),a()()}if(n&2){let e=d();o(2),y(e.fieldsInfo.minProcessFlowAmount==null?null:e.fieldsInfo.minProcessFlowAmount.fieldTitle),o(),E("ngModel",e.dataModel.minProcessFlowAmount),f("disabled",!(e.fieldsInfo.minProcessFlowAmount!=null&&e.fieldsInfo.minProcessFlowAmount.accessAddField))}}function b_(n,s){if(n&1){let e=P();r(0,"div",14)(1,"label",31),c(2),a(),r(3,"input",32,5),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.fixFeeProcessFlowAmount,t)||(l.dataModel.fixFeeProcessFlowAmount=t),u(t)}),a()()}if(n&2){let e=d();o(2),y(e.fieldsInfo.fixFeeProcessFlowAmount==null?null:e.fieldsInfo.fixFeeProcessFlowAmount.fieldTitle),o(),E("ngModel",e.dataModel.fixFeeProcessFlowAmount),f("disabled",!(e.fieldsInfo.fixFeeProcessFlowAmount!=null&&e.fieldsInfo.fixFeeProcessFlowAmount.accessAddField))}}function M_(n,s){if(n&1){let e=P();r(0,"div",14)(1,"label",33),c(2),a(),r(3,"input",34,6),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.percentFeeProcessFlowAmount,t)||(l.dataModel.percentFeeProcessFlowAmount=t),u(t)}),a()()}if(n&2){let e=d();o(2),y(e.fieldsInfo.percentFeeProcessFlowAmount==null?null:e.fieldsInfo.percentFeeProcessFlowAmount.fieldTitle),o(),E("ngModel",e.dataModel.percentFeeProcessFlowAmount),f("disabled",!(e.fieldsInfo.percentFeeProcessFlowAmount!=null&&e.fieldsInfo.percentFeeProcessFlowAmount.accessAddField))}}function I_(n,s){if(n&1){let e=P();r(0,"div",25)(1,"button",35),I("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",36),c(3),S(4,"translate"),a(),r(5,"button",37),g(6,"i",38),c(7),S(8,"translate"),a()()}if(n&2){d();let e=R(13);o(3),_(" ",h(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!e.form.valid),o(2),_(" ",h(8,5,"ACTION.SAVE")," ")}}var rr=class rr extends st{constructor(e,i,t,l,C,p,k,Y){super(l,new Yt,p,Y);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderSourcePathService=l;this.cmsToastrService=C;this.publicHelper=p;this.cdr=k;this.translate=Y;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Z;this.dataModel=new Yt;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),e&&e.linkSourceCompanyId&&(this.dataModel.linkSourceCompanyId=e.linkSourceCompanyId+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.requestId&&this.requestId.length>0?(this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e+" copy"}),this.DataClone()):this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataClone(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourcePathService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess?(this.dataModel=i.item,i.item.title=i.item.title+" copy",this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourcePathService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelectlinkSourceCompanyId(e){if(!e||e.id.length<=0){this.translate.get("MESSAGE.Service_company_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkSourceCompanyId=e.id}onActionSelectSource(e){this.dataModel.linkPublicConfigId=null,e&&e.id?.length>0&&(this.dataModel.linkPublicConfigId=e.id)}onFormSubmit(){if(this.formGroup.valid){if(!this.dataModel.linkSourceCompanyId||this.dataModel.linkSourceCompanyId.length==0){this.translate.get("MESSAGE.Service_company_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}if(!this.dataModel.linkPublicConfigId||this.dataModel.linkPublicConfigId.length==0){this.translate.get("MESSAGE.Service_type_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.formInfo.submitButtonEnabled=!1,this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};rr.\u0275fac=function(i){return new(i||rr)(M(se),M(le),M(ne),M(ei),M(G),M(H),M(N),M(O))},rr.\u0275cmp=L({type:rr,selectors:[["app-data-provider-source-path-add"]],viewQuery:function(i,t){if(i&1&&U(u_,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:46,vars:42,consts:[["vform","ngForm"],["Title",""],["Description",""],["MaxProcessFlowAmount",""],["MinProcessFlowAmount",""],["FixFeeProcessFlowAmount",""],["PercentFeeProcessFlowAmount",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.memo",1,"color-highlight"],["matInput","","name","dataModel.memo","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.memo",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.maxProcessFlowAmount",1,"color-highlight"],["matInput","","type","text","name","dataModel.maxProcessFlowAmount","type","number","placeholder","Currency Unit Ratio By Shop","id","dataModel.maxProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.minProcessFlowAmount",1,"color-highlight"],["matInput","","type","text","name","dataModel.minProcessFlowAmount","type","number","placeholder","Min Transaction Amount","id","dataModel.minProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.fixFeeProcessFlowAmount",1,"color-highlight"],["matInput","","type","text","name","dataModel.fixFeeProcessFlowAmount","type","number","placeholder","Max Transaction Amount","id","dataModel.fixFeeProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.percentFeeProcessFlowAmount",1,"color-highlight"],["matInput","","type","text","name","dataModel.percentFeeProcessFlowAmount","type","number","placeholder","Percent Fee Transaction Amount","id","dataModel.percentFeeProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();r(0,"div",7),g(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),a(),r(5,"h4"),c(6),S(7,"translate"),a(),r(8,"p"),c(9),S(10,"translate"),a(),g(11,"app-cms-form-result-message",11),r(12,"form",12,0),I("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(14,f_,1,5,"app-cms-enum-record-status-selector",13),r(15,"div",14)(16,"label",15),c(17),a(),r(18,"input",16,1),D("ngModelChange",function(p){return m(l),w(t.dataModel.title,p)||(t.dataModel.title=p),u(p)}),a(),v(20,S_,1,0,"i",17),v(21,h_,1,0,"i",18),r(22,"em"),c(23),a(),v(24,C_,5,3,"mat-error"),a(),r(25,"app-data-provider-source-company-selector",19),S(26,"translate"),I("optionChange",function(p){return m(l),u(t.onActionSelectorSelectlinkSourceCompanyId(p))}),a(),r(27,"app-data-provider-source-public-config-selector",20),S(28,"translate"),I("optionChange",function(p){return m(l),u(t.onActionSelectSource(p))}),a(),r(29,"div",14)(30,"label",21),c(31),a(),r(32,"textarea",22,2),D("ngModelChange",function(p){return m(l),w(t.dataModel.description,p)||(t.dataModel.description=p),u(p)}),a(),r(34,"em"),c(35),a(),v(36,__,5,3,"mat-error"),a(),v(37,g_,5,3,"div",14),v(38,v_,5,3,"div",14),v(39,b_,5,3,"div",14),v(40,M_,5,3,"div",14),r(41,"div",14)(42,"label",23),c(43),a(),r(44,"textarea",24),D("ngModelChange",function(p){return m(l),w(t.dataModel.memo,p)||(t.dataModel.memo=p),u(p)}),a()(),v(45,I_,9,7,"div",25),a()()()}if(i&2){let l=R(19),C=R(33);o(),f("optionsInfoAreaId",t.constructorInfoAreaId),o(3),_(" ",t.formInfo.formTitle," "),o(2),y(h(7,34,"TITLE.ROUTE_SETTINGS")),o(3),_(" ",h(10,36,"TITLE.ROUTE_SETTINGS_DESCRIPTION")," "),o(2),f("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?14:-1),o(3),y(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),f("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.title),o(2),b(l.value?-1:20),o(),b(l.value?21:-1),o(2),_("",l.value.length," / 100"),o(),b(l.errors!=null&&l.errors.required?24:-1),o(),f("optionSelectForce",t.dataModel.linkSourceCompanyId)("optionPlaceholder",h(26,38,"TITLE.Service_Company")),o(2),f("optionDisabled",!(t.fieldsInfo.linkPublicConfigId!=null&&t.fieldsInfo.linkPublicConfigId.accessAddField))("optionSelectForce",t.dataModel.linkPublicConfigId)("optionPlaceholder",h(28,40,"TITLE.Account_Type")),o(4),y(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),f("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),E("ngModel",t.dataModel.description),o(3),_("",C.value.length," / 500"),o(),b(C.errors!=null&&C.errors.required?36:-1),o(),b(t.fieldsInfo.maxProcessFlowAmount!=null&&t.fieldsInfo.maxProcessFlowAmount.accessWatchField?37:-1),o(),b(t.fieldsInfo.minProcessFlowAmount!=null&&t.fieldsInfo.minProcessFlowAmount.accessWatchField?38:-1),o(),b(t.fieldsInfo.fixFeeProcessFlowAmount!=null&&t.fieldsInfo.fixFeeProcessFlowAmount.accessWatchField?39:-1),o(),b(t.fieldsInfo.percentFeeProcessFlowAmount!=null&&t.fieldsInfo.percentFeeProcessFlowAmount.accessWatchField?40:-1),o(3),y(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),f("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),E("ngModel",t.dataModel.memo),o(),b(t.formInfo.submitButtonEnabled?45:-1)}},dependencies:[_e,ee,Ii,te,he,Ie,Pe,Ee,ce,Ce,Fe,K,ve,W,fe,zt,nr,or,B],encapsulation:2});var fn=rr;var E_=()=>[5,10,20,100],w_=(n,s)=>s.id;function D_(n,s){if(n&1){let e=P();r(0,"button",21),S(1,"translate"),I("click",function(){m(e);let t=d();return u(t.onActionBackToParent())}),g(2,"i",22),a()}n&2&&Ra("aria-label",x(h(1,2,"ACTION.BACK")))}function y_(n,s){if(n&1){let e=P();r(0,"div",12)(1,"app-cms-search-list",23),D("optionsChange",function(t){m(e);let l=d();return w(l.optionsSearch,t)||(l.optionsSearch=t),u(t)}),a()()}if(n&2){let e=d();o(),E("options",e.optionsSearch)}}function T_(n,s){if(n&1){let e=P();r(0,"div",13)(1,"app-cms-statist-list",23),D("optionsChange",function(t){m(e);let l=d();return w(l.optionsStatist,t)||(l.optionsStatist=t),u(t)}),a()()}if(n&2){let e=d();o(),E("options",e.optionsStatist)}}function A_(n,s){if(n&1&&(r(0,"div",24),g(1,"i",10),r(2,"span"),c(3),S(4,"translate"),S(5,"translate"),a()()),n&2){let e=d();Ta("transform","translateY("+(e.pullToRefreshState.pullDistance>80?80:e.pullToRefreshState.pullDistance)+"px)"),F("refreshing",e.pullToRefreshState.isRefreshing),o(),F("rotation360",e.pullToRefreshState.isRefreshing),o(2),y(e.pullToRefreshState.isRefreshing?h(4,7,"ACTION.RELOADING"):h(5,9,"ACTION.PULL_TO_REFRESH"))}}function x_(n,s){if(n&1&&(r(0,"div",28),g(1,"img",42),S(2,"cmsthumbnail"),a()),n&2){let e=d().$implicit;o(),f("src",h(2,2,e.linkMainImageIdSrc),X)("alt",e.title)}}function R_(n,s){n&1&&(r(0,"div",29),g(1,"i",43),a())}function k_(n,s){if(n&1&&(r(0,"div",32),g(1,"i",44),c(2),S(3,"cmstitle"),a()),n&2){let e=d().$implicit,i=d(2);o(2),_(" ",kt(3,1,e.linkSourceCompanyId,i.dataModelCompanyResult.listItems)," ")}}function L_(n,s){if(n&1&&(r(0,"div",32),g(1,"i",45),c(2),S(3,"cmstitle"),a()),n&2){let e=d().$implicit,i=d(2);o(2),_(" ",kt(3,1,e.linkPublicConfigId,i.dataModelPublicResult.listItems)," ")}}function V_(n,s){if(n&1&&(r(0,"div",36),g(1,"i",46),r(2,"span"),c(3),S(4,"localeDate"),a()()),n&2){let e=d().$implicit;o(3),y(h(4,1,e.updatedDate))}}function B_(n,s){if(n&1){let e=P();r(0,"button",47),S(1,"translate"),I("click",function(t){m(e);let l=d().$implicit;return d(2).onActionButtonEditRow(l),u(t.stopPropagation())}),g(2,"i",48),a()}n&2&&j("aria-label",h(1,1,"ACTION.EDIT"))}function F_(n,s){if(n&1){let e=P();r(0,"button",49),S(1,"translate"),I("click",function(t){m(e);let l=d().$implicit;return d(2).onActionButtonDeleteRow(l),u(t.stopPropagation())}),g(2,"i",50),a()}n&2&&j("aria-label",h(1,1,"ACTION.DELETE"))}function O_(n,s){if(n&1){let e=P();r(0,"button",51),S(1,"translate"),I("click",function(t){m(e);let l=d().$implicit;return d(2).onActionButtonDeleteRow(l),u(t.stopPropagation())}),g(2,"i",50),a()}n&2&&j("aria-label",h(1,1,"ACTION.DELETE"))}function N_(n,s){if(n&1){let e=P();r(0,"div",26)(1,"div",27),I("click",function(){let t=m(e).$implicit,l=d(2);return u(l.onActionTableRowSelect(t))})("touchstart",function(t){let l=m(e).$implicit,C=d(2);return u(C.onItemTouchStart(t,l.id))})("touchmove",function(t){let l=m(e).$implicit,C=d(2);return u(C.onItemTouchMove(t,l.id))})("touchend",function(t){let l=m(e).$implicit,C=d(2);return u(C.onItemTouchEnd(t,l.id))}),v(2,x_,3,4,"div",28)(3,R_,2,0,"div",29),r(4,"div",30)(5,"div",31),c(6),a(),v(7,k_,4,4,"div",32),v(8,L_,4,4,"div",32),r(9,"div",33)(10,"div",34),g(11,"i",35),S(12,"statusIconClass"),a(),v(13,V_,5,3,"div",36),a()(),r(14,"div",37),v(15,B_,3,3,"button",38),v(16,F_,3,3,"button",39),a()(),r(17,"div",40),v(18,O_,3,3,"button",41),a()()}if(n&2){let e,i=s.$implicit,t=d(2);Ta("transform","translateX("+(((e=t.swipeState.get(i.id))==null?null:e.offset)||0)+"px)"),o(),F("selected",i.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),j("aria-label",i.title),o(),b((i==null||i.linkMainImageIdSrc==null?null:i.linkMainImageIdSrc.length)>0?2:3),o(4),_(" ",i.title," "),o(),b(i.linkSourceCompanyId?7:-1),o(),b(i.linkPublicConfigId?8:-1),o(3),f("ngClass",h(12,14,i.recordStatus)),o(2),b(i.updatedDate?13:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?15:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?16:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?18:-1)}}function G_(n,s){if(n&1&&(r(0,"div",16),Te(1,N_,19,16,"div",25,w_),a()),n&2){let e=d();o(),Ae(e.dataModelResult.listItems)}}function H_(n,s){n&1&&(r(0,"div",17)(1,"div",52),g(2,"i",53),a(),r(3,"div",54),c(4),S(5,"translate"),a()()),n&2&&(o(4),_(" ",h(5,1,"MESSAGE.no_information")," "))}function W_(n,s){if(n&1){let e=P();r(0,"button",55),S(1,"translate"),I("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",56),a()}n&2&&j("aria-label",h(1,1,"ACTION.ADD"))}function q_(n,s){if(n&1){let e=P();r(0,"div",20)(1,"mat-paginator",57,0),I("page",function(t){m(e);let l=d();return u(l.onTablePageingData(t))}),a()()}if(n&2){let e=d();o(),f("length",(e.dataModelResult==null?null:e.dataModelResult.totalRowCount)||0)("pageIndex",((e.dataModelResult==null?null:e.dataModelResult.currentPageNumber)||1)-1)("pageSize",(e.dataModelResult==null?null:e.dataModelResult.rowPerPage)||10)("pageSizeOptions",qe(4,E_))}}var ar=class ar extends ct{constructor(e,i,t,l,C,p,k,Y,ke,Ke,We,it,Xt,Fn){super(e,new Yt,Xt,Y,Ke);this.contentService=e;this.dataProviderSourceCompanyService=i;this.dataProviderSourcePublicConfigService=t;this.activatedRoute=l;this.cmsToastrService=C;this.cmsConfirmationDialogService=p;this.router=k;this.tokenHelper=Y;this.cdr=ke;this.translate=Ke;this.cmsStoreService=We;this.pageInfo=it;this.publicHelper=Xt;this.dialog=Fn;this.requestLinkSiteId=0;this.requestLinkCompanyId="";this.requestLinkPublicConfigId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ae;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new Z;this.dataModelCompanyResult=new Z;this.dataModelPublicResult=new Z;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","recordStatus","title","linkSourceCompanyId","LinkPublicConfigId","position"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","recordStatus","title","linkSourceCompanyId","LinkPublicConfigId","position"];this.unsubscribe=[];this.pullToRefreshState={isRefreshing:!1,startY:0,currentY:0,pullDistance:0,threshold:80};this.Math=Math;this.swipeState=new Map;this.SWIPE_THRESHOLD=100;this.SWIPE_MAX_OFFSET=120;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:hn=>this.onSubmitOptionsSearch(hn)},this.filteModelContent.sortColumn="priority",this.filteModelContent.sortType=re.Ascending}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkCompanyId")&&(this.requestLinkCompanyId=this.activatedRoute.snapshot.paramMap.get("LinkCompanyId")),this.activatedRoute.snapshot.paramMap.get("LinkSiteId")&&(this.requestLinkSiteId=+this.activatedRoute.snapshot.paramMap.get("LinkSiteId")||0),this.activatedRoute.snapshot.paramMap.get("LinkPublicConfigId")&&(this.requestLinkPublicConfigId=this.activatedRoute.snapshot.paramMap.get("LinkPublicConfigId"));let e=new J;if(this.requestLinkPublicConfigId?.length>0&&(e.propertyName="LinkPublicConfigId",e.value=this.requestLinkPublicConfigId,this.filteModelContent.filters.push(e)),this.requestLinkCompanyId.length>0){let i=new J;i.propertyName="linkSourceCompanyId",i.value=this.requestLinkCompanyId,this.filteModelContent.filters.push(i)}if(this.requestLinkSiteId>0){let i=new J;i.propertyName="linkSiteId",i.value=this.requestLinkSiteId,this.filteModelContent.filters.push(i)}this.filteModelContent.sortColumn="priority",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>Me(this,null,function*(){this.tokenInfo=i,this.DataGetAll()}))),this.getApiCopmanyList(),this.getPublicConfig()}getPublicConfig(){let e=new ae;e.rowPerPage=100,this.dataProviderSourcePublicConfigService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPublicResult=i}})}getApiCopmanyList(){let e=new ae;e.rowPerPage=100,this.dataProviderSourceCompanyService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCompanyResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,["position"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Yt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new J;t.propertyName="linkSourceCompanyId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=re.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=re.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=re.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onTableDropRow(e){let i=this.tableSource.data.findIndex(l=>l===e.item.data),t=new Ar;t.id=this.tableSource.data[i].id,t.centerId=this.tableSource.data[e.currentIndex].id,i>e.currentIndex?t.actionGo=Gn.GoUp:t.actionGo=Gn.GoDown,this.contentService.ServiceEditStep(t).subscribe({next:l=>{l.isSuccess?(Rr(this.tableSource.data,i,e.currentIndex),this.tableSource.data=this.tableSource.data.slice()):this.cmsToastrService.typeErrorMessage(l.errorMessage)},error:l=>{this.cmsToastrService.typeError(l)}})}onActionButtonNewRow(){if((!this.requestLinkCompanyId||this.requestLinkCompanyId&&this.requestLinkCompanyId.length==0)&&(this.categoryModelSelected==null||this.categoryModelSelected.id.length===0)){this.translate.get("MESSAGE.Company_not_selected").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.categoryModelSelected&&this.categoryModelSelected.id.length>0&&(e=this.categoryModelSelected.id),this.requestLinkCompanyId&&this.requestLinkCompanyId.length>0&&(e=this.requestLinkCompanyId);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(fn,{height:"90%",panelClass:i,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{linkSourceCompanyId:e}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/data-provider/main/source-path/edit",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let C=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(C,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new ae,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.filteModelContent.sortColumn="priority",this.categoryModelSelected=e,this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),C=new J;C.propertyName="recordStatus",C.value=nt.Available,l.filters.push(C),this.contentService.ServiceGetCount(l).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonGetBalance(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}let i=this.constructor.name+"GetBalance";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)})}onActionButtonSendMessage(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/data-provider/action/send-message/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/action/send-message/LinkApiPathId",this.tableRowSelected.id])}onActionButtonNumbersList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/data-provider/main/api-number/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/main/api-number/LinkApiPathId",this.tableRowSelected.id])}onActionButtonPermitionList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/data-provider/main/source-path-permission/LinkApiPathId",this.tableRowSelected.id])}onActionButtonOutBoxQueue(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/data-provider/log/outbox-queue/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/log/outbox-queue/LinkApiPathId",this.tableRowSelected.id])}onActionButtonCopy(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessAdd();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(fn,{height:"90%",panelClass:i,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonPriceServicesList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/data-provider/main/source-path-pagination/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/main/source-path-pagination/LinkApiPathId",this.tableRowSelected.id])}onActionButtonSendTest(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e)}onActionButtonReportsRow(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}if(i?.ctrlKey){let t="/#/data-provider/log/source-path/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/log/source-path/LinkApiPathId",this.tableRowSelected.id])}onActionButtonReload(){this.filteModelContent.sortColumn="priority",this.DataGetAll()}onItemTouchStart(e,i){e.stopPropagation();let t=e.touches[0];this.swipeState.set(i,{startX:t.clientX,currentX:t.clientX,offset:0})}onItemTouchMove(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let l=e.touches[0];t.currentX=l.clientX;let C=t.currentX-t.startX,p=document.documentElement.dir==="rtl",k=p?this.SWIPE_MAX_OFFSET:-this.SWIPE_MAX_OFFSET,Y=p?-this.SWIPE_MAX_OFFSET:this.SWIPE_MAX_OFFSET;t.offset=Math.max(Y,Math.min(k,C))}onItemTouchEnd(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let l=document.documentElement.dir==="rtl",C=l?this.SWIPE_THRESHOLD:-this.SWIPE_THRESHOLD;l&&t.offset>C||!l&&t.offset<C||(t.offset=0),this.swipeState.set(i,t)}onTouchStart(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&(this.pullToRefreshState.startY=e.touches[0].clientY,this.pullToRefreshState.isRefreshing=!1)}onTouchMove(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&this.pullToRefreshState.startY>0&&(this.pullToRefreshState.currentY=e.touches[0].clientY,this.pullToRefreshState.pullDistance=Math.max(0,this.pullToRefreshState.currentY-this.pullToRefreshState.startY),this.pullToRefreshState.pullDistance>10&&e.preventDefault())}onTouchEnd(e){this.pullToRefreshState.pullDistance>=this.pullToRefreshState.threshold&&!this.pullToRefreshState.isRefreshing?(this.pullToRefreshState.isRefreshing=!0,this.onActionButtonReload(),setTimeout(()=>{this.pullToRefreshState.isRefreshing=!1,this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0},1e3)):(this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0)}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/data-provider/main/source-path-company"])}};ar.\u0275fac=function(i){return new(i||ar)(M(ei),M(Ut),M($t),M(Bt),M(G),M(Ot),M(Ue),M(He),M(N),M(O),M(Ge),M(lt),M(H),M(Oe))},ar.\u0275cmp=L({type:ar,selectors:[["app-data-provider-source-path-list-mobile"]],standalone:!1,features:[q],decls:27,vars:26,consts:[["paginator",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"aria-label"],[1,"cms-m-header-title"],[1,"cms-m-header-actions"],["type","button",1,"cms-m-header-action-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-magnifying-glass"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],["aria-hidden","true",1,"fa-solid","fa-chart-bar"],[1,"cms-m-search-area","safe-area-content"],[1,"cms-m-statist-area","safe-area-content"],[1,"cms-m-pull-refresh-indicator",3,"transform","refreshing"],[1,"cms-m-content","safe-area-content",3,"touchstart","touchmove","touchend"],[1,"cms-m-list"],[1,"cms-m-empty-state"],[1,"cms-m-footer","safe-area-bottom"],[1,"cms-m-fab"],[1,"cms-m-pagination-wrapper"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[3,"optionsChange","options"],[1,"cms-m-pull-refresh-indicator"],[1,"cms-m-list-item-wrapper",3,"transform"],[1,"cms-m-list-item-wrapper"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","touchstart","touchmove","touchend"],[1,"cms-m-list-item-image"],[1,"cms-m-list-item-image-placeholder"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-footer"],[1,"cms-m-list-item-status"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-date"],[1,"cms-m-list-item-actions"],[1,"cms-m-action-btn","edit"],[1,"cms-m-action-btn","delete"],[1,"cms-m-list-item-swipe-actions"],[1,"cms-m-swipe-action-btn","delete"],["loading","lazy",3,"src","alt"],["aria-hidden","true",1,"fa-solid","fa-link"],["aria-hidden","true",1,"fa-solid","fa-building"],["aria-hidden","true",1,"fa-solid","fa-cog"],["aria-hidden","true",1,"fa-solid","fa-clock"],[1,"cms-m-action-btn","edit",3,"click"],["aria-hidden","true",1,"fa-solid","fa-pen"],[1,"cms-m-action-btn","delete",3,"click"],["aria-hidden","true",1,"fa-solid","fa-trash"],[1,"cms-m-swipe-action-btn","delete",3,"click"],[1,"cms-m-empty-state-icon"],["aria-hidden","true",1,"fa-solid","fa-inbox"],[1,"cms-m-empty-state-text"],[1,"cms-m-fab",3,"click"],["aria-hidden","true",1,"fa-solid","fa-plus"],[3,"page","length","pageIndex","pageSize","pageSizeOptions"]],template:function(i,t){i&1&&(r(0,"div",1),g(1,"app-progress-spinner",2),r(2,"div",3)(3,"div",4),v(4,D_,3,4,"button",5),r(5,"h1",6),c(6),S(7,"translate"),a(),r(8,"div",7)(9,"button",8),S(10,"translate"),I("click",function(){return t.optionsSearch.data.show=!t.optionsSearch.data.show}),g(11,"i",9),a(),r(12,"button",8),S(13,"translate"),I("click",function(){return t.onActionButtonReload()}),g(14,"i",10),a(),r(15,"button",8),S(16,"translate"),I("click",function(){return t.onActionButtonStatist()}),g(17,"i",11),a()()()(),v(18,y_,2,1,"div",12),v(19,T_,2,1,"div",13),v(20,A_,6,11,"div",14),r(21,"div",15),I("touchstart",function(C){return t.onTouchStart(C)})("touchmove",function(C){return t.onTouchMove(C)})("touchend",function(C){return t.onTouchEnd(C)}),v(22,G_,3,0,"div",16)(23,H_,6,3,"div",17),a(),r(24,"div",18),v(25,W_,3,3,"button",19),v(26,q_,3,5,"div",20),a()()),i&2&&(o(),f("optionsInfoAreaId",t.constructorInfoAreaId),o(3),b((t.requestLinkCompanyId==null?null:t.requestLinkCompanyId.length)>0?4:-1),o(2),_(" ",h(7,18,"ROUTE.SMS.MAIN")," "),o(3),F("active",t.optionsSearch.data.show),j("aria-label",h(10,20,"ACTION.SEARCH")),o(3),j("aria-label",h(13,22,"ACTION.RELOAD")),o(2),F("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(),F("active",t.optionsStatist==null||t.optionsStatist.data==null?null:t.optionsStatist.data.show),j("aria-label",h(16,24,"ACTION.STATIST")),o(3),b(t.optionsSearch.data.show?18:-1),o(),b(!(t.optionsStatist==null||t.optionsStatist.data==null)&&t.optionsStatist.data.show?19:-1),o(),b(t.pullToRefreshState.pullDistance>0?20:-1),o(2),b(t.dataModelResult!=null&&t.dataModelResult.listItems&&t.dataModelResult.listItems.length>0?22:23),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?25:-1),o(),b((t.dataModelResult==null?null:t.dataModelResult.totalRowCount)>0?26:-1))},dependencies:[De,Le,we,pt,W,B,Wr,ge,on,ye],styles:['@charset "UTF-8";.cms-m-content[_ngcontent-%COMP%]{padding:8px var(--cms-m-spacing-md);padding-bottom:calc(8px + env(safe-area-inset-bottom));position:relative;touch-action:pan-y}.cms-m-header-spacer[_ngcontent-%COMP%]{flex:1}@media (max-width: 375px){.cms-m-list-item[_ngcontent-%COMP%]{padding:10px 12px}.cms-m-list-item-image[_ngcontent-%COMP%], .cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px}.cms-m-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;min-height:40px}}@media screen and (-webkit-min-device-pixel-ratio: 0){.cms-m-list-item[_ngcontent-%COMP%]{will-change:transform}}']});var _a=ar;var j_=["vform"];function U_(n,s){if(n&1){let e=P();r(0,"app-cms-enum-record-status-selector",15),D("modelChange",function(t){m(e);let l=d();return w(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=d();E("model",e.dataModel.recordStatus),f("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Q_(n,s){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function z_(n,s){if(n&1){let e=P();r(0,"div",12)(1,"label",16),c(2),a(),r(3,"input",17,1),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.title,t)||(l.dataModel.title=t),u(t)}),a(),r(5,"em"),c(6),a(),v(7,Q_,5,3,"mat-error"),a()}if(n&2){let e=R(4),i=d();o(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),f("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),o(3),_("",e.value.length," / 128"),o(),b(e.errors!=null&&e.errors.required?7:-1)}}function K_(n,s){if(n&1){let e=P();r(0,"div",12)(1,"label",18),c(2),a(),r(3,"input",19,2),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.className,t)||(l.dataModel.className=t),u(t)}),a()()}if(n&2){let e=d();o(2),y(e.fieldsInfo.className==null?null:e.fieldsInfo.className.fieldTitle),o(),f("placeholder",x(e.fieldsInfo.className==null?null:e.fieldsInfo.className.fieldTitle)),E("ngModel",e.dataModel.className)}}function J_(n,s){if(n&1){let e=P();r(0,"div",12)(1,"label",20),c(2),a(),r(3,"input",21,3),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.webServiceUrl,t)||(l.dataModel.webServiceUrl=t),u(t)}),a()()}if(n&2){let e=d();o(2),y(e.fieldsInfo.webServiceUrl==null?null:e.fieldsInfo.webServiceUrl.fieldTitle),o(),f("placeholder",x(e.fieldsInfo.webServiceUrl==null?null:e.fieldsInfo.webServiceUrl.fieldTitle)),E("ngModel",e.dataModel.webServiceUrl)}}function X_(n,s){if(n&1){let e=P();r(0,"div",13)(1,"div",22)(2,"h5",23),c(3),a()(),r(4,"div",24)(5,"div",25)(6,"input",26),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.abilityDelivery,t)||(l.dataModel.abilityDelivery=t),u(t)}),a(),g(7,"label",27),a()()()}if(n&2){let e=d();o(3),_(" ",e.fieldsInfo.abilityDelivery==null?null:e.fieldsInfo.abilityDelivery.fieldTitle," "),o(3),E("ngModel",e.dataModel.abilityDelivery)}}function Y_(n,s){if(n&1){let e=P();r(0,"div",13)(1,"div",22)(2,"h5",23),c(3),a()(),r(4,"div",24)(5,"div",25)(6,"input",28),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.abilityReceive,t)||(l.dataModel.abilityReceive=t),u(t)}),a(),g(7,"label",29),a()()()}if(n&2){let e=d();o(3),_(" ",e.fieldsInfo.abilityReceive==null?null:e.fieldsInfo.abilityReceive.fieldTitle," "),o(3),E("ngModel",e.dataModel.abilityReceive)}}function Z_(n,s){if(n&1){let e=P();r(0,"div",13)(1,"div",22)(2,"h5",23),c(3),a()(),r(4,"div",24)(5,"div",25)(6,"input",30),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.abilityCreditCheck,t)||(l.dataModel.abilityCreditCheck=t),u(t)}),a(),g(7,"label",31),a()()()}if(n&2){let e=d();o(3),_(" ",e.fieldsInfo.abilityCreditCheck==null?null:e.fieldsInfo.abilityCreditCheck.fieldTitle," "),o(3),E("ngModel",e.dataModel.abilityCreditCheck)}}function $_(n,s){if(n&1){let e=P();r(0,"div",12)(1,"label",32),c(2),a(),r(3,"textarea",33,4),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.memo,t)||(l.dataModel.memo=t),u(t)}),a()()}if(n&2){let e=d();o(2),y(e.fieldsInfo.memo==null?null:e.fieldsInfo.memo.fieldTitle),o(),E("ngModel",e.dataModel.memo)}}function e1(n,s){if(n&1){let e=P();r(0,"div",14)(1,"button",34),I("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",35),c(3),S(4,"translate"),a(),r(5,"button",36),g(6,"i",37),c(7),S(8,"translate"),a()()}if(n&2){d();let e=R(10);o(3),_(" ",h(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!e.form.valid),o(2),_(" ",h(8,5,"ACTION.SAVE")," ")}}var lr=class lr extends st{constructor(e,i,t,l,C,p,k,Y){super(l,new _i,p,Y);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderSourcePublicConfigService=l;this.cmsToastrService=C;this.publicHelper=p;this.cdr=k;this.translate=Y;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Z;this.dataModel=new _i;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourcePublicConfigService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};lr.\u0275fac=function(i){return new(i||lr)(M(se),M(le),M(ne),M($t),M(G),M(H),M(N),M(O))},lr.\u0275cmp=L({type:lr,selectors:[["app-data-provider-source-public-config-add"]],viewQuery:function(i,t){if(i&1&&U(j_,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:20,vars:15,consts:[["vform","ngForm"],["Title",""],["ClassName",""],["WebServiceUrl",""],["Memo",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"d-flex","mb-3"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","128","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.className",1,"color-highlight"],["matInput","","type","text","name","dataModel.className","id","dataModel.className",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.webServiceUrl",1,"color-highlight"],["matInput","","type","text","name","dataModel.webServiceUrl","id","dataModel.webServiceUrl",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"pt-1"],[1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.abilityDelivery","name","dataModel.abilityDelivery",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityDelivery",1,"custom-control-label"],["type","checkbox","id","dataModel.abilityReceive","name","dataModel.abilityReceive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityReceive",1,"custom-control-label"],["type","checkbox","id","dataModel.abilityCreditCheck","name","dataModel.abilityCreditCheck",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityCreditCheck",1,"custom-control-label"],["for","dataModel.memo",1,"color-highlight"],["matInput","","name","dataModel.memo","rows","5","id","dataModel.memo",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();r(0,"div",5),g(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),c(4),a(),r(5,"h4"),c(6),S(7,"translate"),a(),g(8,"app-cms-form-result-message",9),r(9,"form",10,0),I("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(11,U_,1,5,"app-cms-enum-record-status-selector",11),v(12,z_,8,6,"div",12),v(13,K_,5,4,"div",12),v(14,J_,5,4,"div",12),v(15,X_,8,2,"div",13),v(16,Y_,8,2,"div",13),v(17,Z_,8,2,"div",13),v(18,$_,5,2,"div",12),v(19,e1,9,7,"div",14),a()()()}i&2&&(o(),f("optionsInfoAreaId",t.constructorInfoAreaId),o(3),_(" ",t.formInfo.formTitle," "),o(2),y(h(7,13,"TITLE.DATA_PROVIDER_SOURCE_PUBLIC_CONFIG")),o(2),f("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),b(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?12:-1),o(),b(t.fieldsInfo.className!=null&&t.fieldsInfo.className.accessWatchField?13:-1),o(),b(t.fieldsInfo.webServiceUrl!=null&&t.fieldsInfo.webServiceUrl.accessWatchField?14:-1),o(),b(t.fieldsInfo.abilityDelivery!=null&&t.fieldsInfo.abilityDelivery.accessWatchField?15:-1),o(),b(t.fieldsInfo.abilityReceive!=null&&t.fieldsInfo.abilityReceive.accessWatchField?16:-1),o(),b(t.fieldsInfo.abilityCreditCheck!=null&&t.fieldsInfo.abilityCreditCheck.accessWatchField?17:-1),o(),b(t.fieldsInfo.memo!=null&&t.fieldsInfo.memo.accessWatchField?18:-1),o(),b(t.formInfo.submitButtonEnabled?19:-1))},dependencies:[_e,ee,Mi,te,he,Ie,Pe,Ee,ce,Ce,Fe,K,ve,W,fe,B],encapsulation:2});var ga=lr;var i1=["vform"];function n1(n,s){if(n&1){let e=P();r(0,"app-cms-enum-record-status-selector",16),D("modelChange",function(t){m(e);let l=d();return w(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=d();E("model",e.dataModel.recordStatus),f("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function o1(n,s){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function r1(n,s){if(n&1){let e=P();r(0,"div",12)(1,"label",17),c(2),a(),r(3,"input",18,1),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.title,t)||(l.dataModel.title=t),u(t)}),a(),r(5,"em"),c(6),a(),v(7,o1,5,3,"mat-error"),a()}if(n&2){let e=R(4),i=d();o(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),f("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),o(3),_("",e.value.length," / 128"),o(),b(e.errors!=null&&e.errors.required?7:-1)}}function a1(n,s){if(n&1){let e=P();r(0,"div",12)(1,"label",19),c(2),a(),r(3,"input",20,2),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.className,t)||(l.dataModel.className=t),u(t)}),a()()}if(n&2){let e=d();o(2),y(e.fieldsInfo.className==null?null:e.fieldsInfo.className.fieldTitle),o(),f("placeholder",x(e.fieldsInfo.className==null?null:e.fieldsInfo.className.fieldTitle)),E("ngModel",e.dataModel.className)}}function l1(n,s){if(n&1){let e=P();r(0,"div",12)(1,"label",21),c(2),a(),r(3,"input",22,3),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.webServiceUrl,t)||(l.dataModel.webServiceUrl=t),u(t)}),a()()}if(n&2){let e=d();o(2),y(e.fieldsInfo.webServiceUrl==null?null:e.fieldsInfo.webServiceUrl.fieldTitle),o(),f("placeholder",x(e.fieldsInfo.webServiceUrl==null?null:e.fieldsInfo.webServiceUrl.fieldTitle)),E("ngModel",e.dataModel.webServiceUrl)}}function s1(n,s){if(n&1){let e=P();r(0,"div",13)(1,"div",23)(2,"h5",24),c(3),a()(),r(4,"div",25)(5,"div",26)(6,"input",27),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.abilityDelivery,t)||(l.dataModel.abilityDelivery=t),u(t)}),a(),g(7,"label",28),a()()()}if(n&2){let e=d();o(3),_(" ",e.fieldsInfo.abilityDelivery==null?null:e.fieldsInfo.abilityDelivery.fieldTitle," "),o(3),E("ngModel",e.dataModel.abilityDelivery)}}function d1(n,s){if(n&1){let e=P();r(0,"div",13)(1,"div",23)(2,"h5",24),c(3),a()(),r(4,"div",25)(5,"div",26)(6,"input",29),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.abilityReceive,t)||(l.dataModel.abilityReceive=t),u(t)}),a(),g(7,"label",30),a()()()}if(n&2){let e=d();o(3),_(" ",e.fieldsInfo.abilityReceive==null?null:e.fieldsInfo.abilityReceive.fieldTitle," "),o(3),E("ngModel",e.dataModel.abilityReceive)}}function c1(n,s){if(n&1){let e=P();r(0,"div",13)(1,"div",23)(2,"h5",24),c(3),a()(),r(4,"div",25)(5,"div",26)(6,"input",31),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.abilityCreditCheck,t)||(l.dataModel.abilityCreditCheck=t),u(t)}),a(),g(7,"label",32),a()()()}if(n&2){let e=d();o(3),_(" ",e.fieldsInfo.abilityCreditCheck==null?null:e.fieldsInfo.abilityCreditCheck.fieldTitle," "),o(3),E("ngModel",e.dataModel.abilityCreditCheck)}}function p1(n,s){if(n&1){let e=P();r(0,"div",12)(1,"label",33),c(2),a(),r(3,"textarea",34,4),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.memo,t)||(l.dataModel.memo=t),u(t)}),a()()}if(n&2){let e=d();o(2),y(e.fieldsInfo.memo==null?null:e.fieldsInfo.memo.fieldTitle),o(),E("ngModel",e.dataModel.memo)}}function m1(n,s){if(n&1){let e=P();r(0,"div",15)(1,"button",35),I("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",36),c(3),S(4,"translate"),a(),r(5,"button",37),g(6,"i",38),c(7),S(8,"translate"),a()()}if(n&2){d();let e=R(10);o(3),_(" ",h(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!e.form.valid),o(2),_(" ",h(8,5,"ACTION.SAVE")," ")}}var sr=class sr extends dt{constructor(e,i,t,l,C,p,k,Y){super(l,new _i,p,Y);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderSourcePublicConfigService=l;this.cmsToastrService=C;this.publicHelper=p;this.cdr=k;this.translate=Y;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ot;this.dataModel=new Ua;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourcePublicConfigService.setAccessLoad(),this.dataProviderSourcePublicConfigService.setAccessDataType(Re.Editor),this.dataProviderSourcePublicConfigService.ServiceGetOneWithJsonFormatter(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourcePublicConfigService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};sr.\u0275fac=function(i){return new(i||sr)(M(se),M(le),M(ne),M($t),M(G),M(H),M(N),M(O))},sr.\u0275cmp=L({type:sr,selectors:[["app-data-provider-source-public-config-edit"]],viewQuery:function(i,t){if(i&1&&U(i1,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:21,vars:18,consts:[["vform","ngForm"],["Title",""],["ClassName",""],["WebServiceUrl",""],["Memo",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"d-flex","mb-3"],[3,"jsonValueChange","formGroup","jsonValue","propertiesInfos"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","128","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.className",1,"color-highlight"],["matInput","","type","text","name","dataModel.className","id","dataModel.className",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.webServiceUrl",1,"color-highlight"],["matInput","","type","text","name","dataModel.webServiceUrl","id","dataModel.webServiceUrl",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"pt-1"],[1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.abilityDelivery","name","dataModel.abilityDelivery",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityDelivery",1,"custom-control-label"],["type","checkbox","id","dataModel.abilityReceive","name","dataModel.abilityReceive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityReceive",1,"custom-control-label"],["type","checkbox","id","dataModel.abilityCreditCheck","name","dataModel.abilityCreditCheck",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityCreditCheck",1,"custom-control-label"],["for","dataModel.memo",1,"color-highlight"],["matInput","","name","dataModel.memo","rows","5","id","dataModel.memo",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();r(0,"div",5),g(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),c(4),a(),r(5,"h4"),c(6),S(7,"translate"),a(),g(8,"app-cms-form-result-message",9),r(9,"form",10,0),I("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(11,n1,1,5,"app-cms-enum-record-status-selector",11),v(12,r1,8,6,"div",12),v(13,a1,5,4,"div",12),v(14,l1,5,4,"div",12),v(15,s1,8,2,"div",13),v(16,d1,8,2,"div",13),v(17,c1,8,2,"div",13),r(18,"dynamic-form-builder-cms",14),D("jsonValueChange",function(p){return m(l),w(t.dataModel.publicConfigJsonValues,p)||(t.dataModel.publicConfigJsonValues=p),u(p)}),a(),v(19,p1,5,2,"div",12),v(20,m1,9,7,"div",15),a()()()}if(i&2){let l=R(10);o(),f("optionsInfoAreaId",t.constructorInfoAreaId),o(3),_(" ",t.formInfo.formTitle," "),o(2),y(h(7,16,"TITLE.DATA_PROVIDER_SOURCE_PUBLIC_CONFIG")),o(2),f("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),b(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?12:-1),o(),b(t.fieldsInfo.className!=null&&t.fieldsInfo.className.accessWatchField?13:-1),o(),b(t.fieldsInfo.webServiceUrl!=null&&t.fieldsInfo.webServiceUrl.accessWatchField?14:-1),o(),b(t.fieldsInfo.abilityDelivery!=null&&t.fieldsInfo.abilityDelivery.accessWatchField?15:-1),o(),b(t.fieldsInfo.abilityReceive!=null&&t.fieldsInfo.abilityReceive.accessWatchField?16:-1),o(),b(t.fieldsInfo.abilityCreditCheck!=null&&t.fieldsInfo.abilityCreditCheck.accessWatchField?17:-1),o(),f("formGroup",l.form),E("jsonValue",t.dataModel.publicConfigJsonValues),f("propertiesInfos",t.dataModel.publicConfigJsonFormatter),o(),b(t.fieldsInfo.memo!=null&&t.fieldsInfo.memo.accessWatchField?19:-1),o(),b(t.formInfo.submitButtonEnabled?20:-1)}},dependencies:[_e,ee,Mi,te,he,Ie,Pe,Ee,ce,Ce,kr,Fe,K,ve,W,fe,qr,B],encapsulation:2});var va=sr;var u1=()=>[5,10,20,100];function f1(n,s){if(n&1){let e=P();r(0,"div",15)(1,"a",40),I("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",41)(3,"br"),a(),r(4,"p",19),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.ADD")," "))}function S1(n,s){if(n&1){let e=P();r(0,"div",15)(1,"a",40),I("click",function(){m(e);let t=d();return u(t.onActionButtonNewRowAuto())}),g(2,"i",41)(3,"br"),a(),r(4,"p",19),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.AUTOADD")," "))}function h1(n,s){if(n&1){let e=P();r(0,"div",15)(1,"a",42),I("click",function(){m(e);let t=d();return u(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",43)(3,"br"),a(),r(4,"p",19),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.EDIT")," "))}function C1(n,s){if(n&1){let e=P();r(0,"div",15)(1,"a",44),I("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",45)(3,"br"),a(),r(4,"p",19),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.DELETE")," "))}function _1(n,s){n&1&&(r(0,"mat-header-cell",46),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"TITLE.PICTURE")," "))}function g1(n,s){if(n&1&&g(0,"img",47),n&2){let e=d().$implicit;f("src",x(e.linkMainImageIdSrc),X)}}function v1(n,s){if(n&1&&(r(0,"mat-cell"),v(1,g1,1,2,"img",47),a()),n&2){let e=s.$implicit;o(),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function b1(n,s){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function M1(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),_(" ",e.id," ")}}function I1(n,s){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function P1(n,s){if(n&1&&(r(0,"mat-cell",48),S(1,"statusCellClass"),g(2,"i",48),S(3,"statusIconClass"),a()),n&2){let e=s.$implicit;f("ngClass",h(1,2,e.recordStatus)),o(2),f("ngClass",h(3,4,e.recordStatus))}}function E1(n,s){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function w1(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),_(" ",e.title," ")}}function D1(n,s){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.className==null?null:e.fieldsInfo.className.fieldTitle," ")}}function y1(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),_(" ",e.className," ")}}function T1(n,s){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function A1(n,s){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),_(" ",h(2,1,e.updatedDate)," ")}}function x1(n,s){n&1&&(r(0,"mat-header-cell"),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"TITLE.OPTION")," "))}function R1(n,s){if(n&1&&(r(0,"mat-cell",49)(1,"button",50)(2,"mat-icon"),c(3,"more_vert"),a()(),g(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),f("matMenuTriggerFor",e)}}function k1(n,s){n&1&&g(0,"mat-header-row")}function L1(n,s){if(n&1){let e=P();r(0,"mat-row",51),I("click",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))}),a()}if(n&2){let e=s.$implicit,i=d();F("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var dr=class dr extends ct{constructor(e,i,t,l,C,p,k,Y,ke,Ke,We){super(e,new _i,Ke,C,k);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.router=l;this.tokenHelper=C;this.cdr=p;this.translate=k;this.cmsStoreService=Y;this.pageInfo=ke;this.publicHelper=Ke;this.dialog=We;this.tableData=[];this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ae;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","title","id","className","action"];this.tabledisplayedColumnsMobileSource=["recordStatus","title","id","className","action"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:it=>this.onSubmitOptionsSearch(it)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=re.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Me(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new _i);let e=this.constructor.name+".DataGetAll";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0,this.contentService.ServiceGetAllEditor(this.filteModelContent).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess?(this.tableData=i.listItems,this.tableSource.data=i.listItems,this.sort&&(this.tableSource.sort=this.sort),this.paginator&&(this.tableSource.paginator=this.paginator),this.tableSource.filter="",this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(i.access)},1e3)):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.dataModelResult=i,this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active&&this.tableSource.sort.direction==="asc"?e.direction="desc":e.direction="asc",this.tableSource.sort=e,this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=e.direction.toUpperCase()==="DESC"?re.Descending:re.Ascending,this.tableSource.data=this.tableSource.filteredData,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onActionButtonNewRow(){if(this.tokenInfo==null||!this.dataModelResult?.access?.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}this.dialog.open(ga,{height:"90%",data:{}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(va,{height:"90%",panelClass:i,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){let l=this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow");this.cmsToastrService.typeErrorSelected(l);return}if(this.onActionTableRowSelect(e),this.tokenInfo==null||!this.dataModelResult?.access?.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}let i=e.title;this.cmsConfirmationDialogService.confirm(this.translate.instant("MESSAGE.Pay_Attention"),this.translate.instant("MESSAGE.Delete",{0:i})).then(l=>{l&&this.contentService.ServiceDelete(e.id).subscribe({next:C=>{C.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorMessage(C.errorMessage)},error:C=>{this.cmsToastrService.typeError(C)}})})}onActionbuttonViewRow(e=this.tableRowSelected){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){let i=this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow");this.cmsToastrService.typeErrorSelected(i);return}this.onActionTableRowSelect(e)}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),C=new J;C.propertyName="recordStatus",C.value=nt.Available,l.filters.push(C),this.contentService.ServiceGetCount(l).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonNewRowAuto(){let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contentService.ServiceAutoAdd().subscribe({next:i=>{i.isSuccess?(this.cmsToastrService.typeSuccessAdd(),this.DataGetAll()):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onSubmitOptionsSearch(e){this.filteModelContent.filters=e,this.DataGetAll()}onActionButtonPrivateList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/data-provider/main/source-path/list/LinkPublicConfigId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/main/source-path/list/LinkPublicConfigId",this.tableRowSelected.id])}};dr.\u0275fac=function(i){return new(i||dr)(M($t),M(G),M(Ot),M(Ue),M(He),M(N),M(O),M(Ge),M(lt),M(H),M(Oe))},dr.\u0275cmp=L({type:dr,selectors:[["app-data-provider-source-public-config-list"]],viewQuery:function(i,t){if(i&1&&(U(Ne,5),U(Le,5)),i&2){let l;Q(l=z())&&(t.sort=l.first),Q(l=z())&&(t.paginator=l.first)}},standalone:!1,features:[q],decls:64,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-route","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","className"],["matColumnDef","updatedDate"],["matColumnDef","action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=P();r(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(p){return m(l),w(t.viewGuideNotice,p)||(t.viewGuideNotice=p),u(p)}),I("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionButtonPrintRow())}),T(1,4),c(2," -------------------------------------- "),A(),Je(3,5)(4,6),T(5,7),r(6,"a",8),I("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),g(7,"i",9),a(),r(8,"a",8),I("click",function(){return m(l),u(t.onActionButtonReload())}),g(9,"i",10),a(),A(),T(10,11),r(11,"a",12),I("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(12,"mat-slide-toggle",13),c(13),S(14,"translate"),a(),r(15,"a",12),I("click",function(){return m(l),u(t.onActionButtonStatist())}),g(16,"mat-slide-toggle",13),c(17),S(18,"translate"),a(),A(),T(19,14),v(20,f1,7,3,"div",15),v(21,S1,7,3,"div",15),A(),T(22,16),v(23,h1,7,3,"div",15),v(24,C1,7,3,"div",15),r(25,"div",15)(26,"a",17),I("click",function(p){return m(l),u(t.onActionButtonPrivateList(t.tableRowSelected,p))}),g(27,"i",18)(28,"br"),a(),r(29,"p",19),c(30),S(31,"translate"),a()(),A(),T(32,20),r(33,"app-cms-search-list",21),D("optionsChange",function(p){return m(l),w(t.optionsSearch,p)||(t.optionsSearch=p),u(p)}),a(),r(34,"app-cms-statist-list",21),D("optionsChange",function(p){return m(l),w(t.optionsStatist,p)||(t.optionsStatist=p),u(p)}),a(),A(),T(35,22),r(36,"mat-table",23,0),I("matSortChange",function(){m(l);let p=R(37);return u(t.onTableSortData(p))}),T(38,24),V(39,_1,3,3,"mat-header-cell",25)(40,v1,2,1,"mat-cell",26),A(),T(41,27),V(42,b1,2,1,"mat-header-cell",25)(43,M1,2,1,"mat-cell",26),A(),T(44,28),V(45,I1,2,1,"mat-header-cell",25)(46,P1,4,6,"mat-cell",29),A(),T(47,30),V(48,E1,2,1,"mat-header-cell",25)(49,w1,2,1,"mat-cell",26),A(),T(50,31),V(51,D1,2,1,"mat-header-cell",25)(52,y1,2,1,"mat-cell",26),A(),T(53,32),V(54,T1,2,1,"mat-header-cell",25)(55,A1,3,3,"mat-cell",26),A(),T(56,33),V(57,x1,3,3,"mat-header-cell",34)(58,R1,6,1,"mat-cell",35),A(),V(59,k1,1,0,"mat-header-row",36)(60,L1,1,2,"mat-row",37),a(),A(),T(61,38),r(62,"mat-paginator",39,1),I("page",function(p){return m(l),u(t.onTablePageingData(p))}),a(),A(),a()}i&2&&(f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(9),F("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),f("checked",t.optionsSearch.data.show),o(),_("",h(14,27,"ACTION.SEARCH")," "),o(3),f("checked",t.optionsStatist.data.show),o(),_("",h(18,29,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?21:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),o(6),_(" ",h(31,31,"ACTION.ROUTES")," "),o(3),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),f("dataSource",t.tableSource),o(23),f("matHeaderRowDef",t.tabledisplayedColumns),o(),f("matRowDefColumns",t.tabledisplayedColumns),o(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",qe(33,u1)))},dependencies:[De,Qe,je,ht,Ct,Le,_t,Ne,Xe,gt,Ze,vt,$e,Ye,bt,et,tt,Mt,It,we,pt,Pt,Dt,B,on,ye,zi],encapsulation:2});var cr=dr;var V1=(n,s)=>s.id;function B1(n,s){if(n&1){let e=P();r(0,"button",6),S(1,"translate"),I("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",14),a()}n&2&&j("aria-label",h(1,1,"ACTION.ADD"))}function F1(n,s){if(n&1){let e=P();r(0,"div",10)(1,"app-cms-search-list",15),D("optionsChange",function(t){m(e);let l=d();return w(l.optionsSearch,t)||(l.optionsSearch=t),u(t)}),a()()}if(n&2){let e=d();o(),E("options",e.optionsSearch)}}function O1(n,s){if(n&1&&(r(0,"div",18),g(1,"img",26),S(2,"cmsthumbnail"),a()),n&2){let e=d().$implicit;o(),f("src",h(2,2,e.linkMainImageIdSrc),X)("alt",e.id||e.id)}}function N1(n,s){n&1&&(r(0,"div",19),g(1,"i",27),a())}function G1(n,s){if(n&1&&c(0),n&2){let e=d().$implicit;_(" ",e.title," ")}}function H1(n,s){if(n&1&&c(0),n&2){let e=d().$implicit;_(" ID: ",e.id," ")}}function W1(n,s){if(n&1&&(r(0,"div",22),c(1),a()),n&2){let e=d().$implicit;o(),_("ID: ",e.id)}}function q1(n,s){if(n&1&&(r(0,"div",22),c(1),a()),n&2){let e=d().$implicit;o(),_(" Class: ",e.className," ")}}function j1(n,s){if(n&1&&(r(0,"div",22),g(1,"i",28),S(2,"statusIconClass"),a()),n&2){let e=d().$implicit;o(),f("ngClass",h(2,1,e.recordStatus))}}function U1(n,s){if(n&1){let e=P();r(0,"button",29),S(1,"translate"),I("click",function(t){m(e);let l=d().$implicit;return d(2).onActionButtonEditRow(l),u(t.stopPropagation())}),g(2,"i",30),a()}n&2&&j("aria-label",h(1,1,"ACTION.EDIT"))}function Q1(n,s){if(n&1){let e=P();r(0,"button",31),S(1,"translate"),I("click",function(t){m(e);let l=d().$implicit;return d(2).onActionButtonDeleteRow(l),u(t.stopPropagation())}),g(2,"i",32),a()}n&2&&j("aria-label",h(1,1,"ACTION.DELETE"))}function z1(n,s){if(n&1){let e=P();r(0,"div",17),I("click",function(){let t=m(e).$implicit,l=d(2);return u(l.onActionTableRowSelect(t))}),v(1,O1,3,4,"div",18)(2,N1,2,0,"div",19),r(3,"div",20)(4,"div",21),v(5,G1,1,1)(6,H1,1,1),a(),v(7,W1,2,1,"div",22),v(8,q1,2,1,"div",22),v(9,j1,3,3,"div",22),a(),r(10,"div",23),v(11,U1,3,3,"button",24),v(12,Q1,3,3,"button",25),a()()}if(n&2){let e=s.$implicit,i=d(2);F("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),j("aria-label",e.id||e.id),o(),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:2),o(4),b(e.title&&e.title.length>0?5:6),o(2),b(e.title&&e.title.length>0?7:-1),o(),b(e.className&&e.className.length>0?8:-1),o(),b(e.recordStatus!==void 0?9:-1),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?11:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow?12:-1)}}function K1(n,s){if(n&1&&(r(0,"div",12),Te(1,z1,13,10,"div",16,V1),a()),n&2){let e=d();o(),Ae(e.dataModelResult.listItems)}}function J1(n,s){n&1&&(r(0,"div",13),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"MESSAGE.NoRecord")," "))}var Rn=class Rn extends cr{};Rn.\u0275fac=(()=>{let s;return function(i){return(s||(s=Et(Rn)))(i||Rn)}})(),Rn.\u0275cmp=L({type:Rn,selectors:[["app-data-provider-source-public-config-list-mobile"]],standalone:!1,features:[q],decls:19,vars:17,consts:[[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],[1,"cms-m-header-title"],[1,"cms-m-header-actions"],["type","button",1,"cms-m-header-action-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-magnifying-glass"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],["type","button",1,"cms-m-header-action-btn"],[1,"cms-m-search-area","safe-area-content"],[1,"cms-m-content","safe-area-content"],[1,"cms-m-list"],[1,"cms-m-empty","safe-area-content"],["aria-hidden","true",1,"fa-solid","fa-plus"],[3,"optionsChange","options"],["role","button","tabindex","0",1,"cms-m-list-item",3,"selected"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click"],[1,"cms-m-list-item-image"],[1,"cms-m-list-item-image-placeholder"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-actions"],[1,"cms-m-action-btn","edit"],[1,"cms-m-action-btn","delete"],["loading","lazy",3,"src","alt"],["aria-hidden","true",1,"fa-solid","fa-cog"],[3,"ngClass"],[1,"cms-m-action-btn","edit",3,"click"],["aria-hidden","true",1,"fa-solid","fa-pen"],[1,"cms-m-action-btn","delete",3,"click"],["aria-hidden","true",1,"fa-solid","fa-trash"]],template:function(e,i){e&1&&(r(0,"div",0),g(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"h1",4),c(5),S(6,"translate"),a(),r(7,"div",5)(8,"button",6),S(9,"translate"),I("click",function(){return i.optionsSearch.data.show=!i.optionsSearch.data.show}),g(10,"i",7),a(),r(11,"button",6),S(12,"translate"),I("click",function(){return i.onActionButtonReload()}),g(13,"i",8),a(),v(14,B1,3,3,"button",9),a()()(),v(15,F1,2,1,"div",10),r(16,"div",11),v(17,K1,3,0,"div",12)(18,J1,3,3,"div",13),a()()),e&2&&(o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(4),_(" ",h(6,11,"ROUTE.DATAPROVIDER.SOURCEPUBLICCONFIG")," "),o(3),F("active",i.optionsSearch.data.show),j("aria-label",h(9,13,"ACTION.SEARCH")),o(3),j("aria-label",h(12,15,"ACTION.RELOAD")),o(2),F("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow&&(i.tokenHelper!=null&&i.tokenHelper.isAdminSite)?14:-1),o(),b(i.optionsSearch.data.show?15:-1),o(2),b(!(i.dataModelResult==null||i.dataModelResult.listItems==null)&&i.dataModelResult.listItems.length?17:18))},dependencies:[De,we,W,B,ge,ye],styles:[".cms-m-body[_ngcontent-%COMP%]{min-height:100vh;background:var(--cms-m-bg, #0f172a);color:var(--cms-m-fg, #e2e8f0)}.cms-m-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2;background:var(--cms-m-header-bg, #0f172a);border-bottom:1px solid rgba(255,255,255,.08)}.cms-m-header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 16px}.cms-m-header-title[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:var(--cms-m-accent, #38bdf8)}.cms-m-header-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-left:auto}.cms-m-header-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:#ffffff0d;color:#e2e8f0;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.cms-m-header-action-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.cms-m-header-action-btn.active[_ngcontent-%COMP%]{background:#38bdf833;border-color:#38bdf866}.cms-m-header-action-btn[_ngcontent-%COMP%]   i.rotation360[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotation360 1s linear infinite}@keyframes _ngcontent-%COMP%_rotation360{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.cms-m-search-area[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px 16px}.cms-m-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.cms-m-list-item[_ngcontent-%COMP%]{display:flex;gap:12px;padding:12px;border-radius:14px;background:#ffffff0a;border:1px solid rgba(255,255,255,.06);cursor:pointer;transition:all .2s ease}.cms-m-list-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.cms-m-list-item.selected[_ngcontent-%COMP%]{border-color:var(--cms-m-accent, #38bdf8);box-shadow:0 0 0 1px #38bdf84d}.cms-m-list-item-image[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;overflow:hidden;flex-shrink:0}.cms-m-list-item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:grid;place-items:center;background:#38bdf81f;color:#38bdf8;flex-shrink:0}.cms-m-list-item-content[_ngcontent-%COMP%]{flex:1;min-width:0}.cms-m-list-item-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:4px;font-size:14px}.cms-m-list-item-subtitle[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8}.cms-m-list-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0}.cms-m-empty[_ngcontent-%COMP%]{padding:24px;text-align:center;color:#94a3b8}"]});var ba=Rn;var X1=["vform"];function Y1(n,s){if(n&1){let e=P();r(0,"app-cms-enum-record-status-selector",23),D("modelChange",function(t){m(e);let l=d();return w(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=d();E("model",e.dataModel.recordStatus),f("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Z1(n,s){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function $1(n,s){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function eg(n,s){if(n&1&&(g(0,"img",19),S(1,"cmsthumbnail")),n&2){let e=d();f("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),X)}}function tg(n,s){if(n&1){let e=P();r(0,"div",12)(1,"label",24),I("click",function(){m(e);let t=d();return u(t.fileManagerOpenForm=!0)}),c(2),S(3,"translate"),a(),r(4,"input",25,4),S(6,"translate"),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),u(t)}),I("click",function(){m(e);let t=d();return u(t.fileManagerOpenForm=!0)}),a(),r(7,"cms-file-manager",26),I("itemSelected",function(t){m(e);let l=d();return u(l.onActionFileSelected(t))}),D("openFormChange",function(t){m(e);let l=d();return w(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),u(t)}),a()()}if(n&2){let e=d();o(2),y(h(3,12,"TITLE.Icon_File")),o(2),f("placeholder",x(h(6,14,"TITLE.Original_File_ID"))),E("ngModel",e.dataModel.linkMainImageId),o(3),f("language",e.appLanguage)("isPopup",!0),E("openForm",e.fileManagerOpenForm),f("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function ig(n,s){if(n&1){let e=P();r(0,"div",22)(1,"button",27),I("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",28),c(3),S(4,"translate"),a(),r(5,"button",29),g(6,"i",30),c(7),S(8,"translate"),a()()}if(n&2){d();let e=R(10);o(3),_(" ",h(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!e.form.valid),o(2),_(" ",h(8,5,"ACTION.SAVE")," ")}}var pr=class pr extends st{constructor(e,i,t,l,C,p,k,Y){super(l,new $i,p,Y);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderSourceService=l;this.cmsToastrService=C;this.publicHelper=p;this.cdr=k;this.translate=Y;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Z;this.dataModel=new $i;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourceService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0,Id:i.item.id})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};pr.\u0275fac=function(i){return new(i||pr)(M(se),M(le),M(ne),M(Ni),M(G),M(H),M(N),M(O))},pr.\u0275cmp=L({type:pr,selectors:[["app-data-provider-source-add"]],viewQuery:function(i,t){if(i&1&&U(X1,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:42,vars:29,consts:[["vform","ngForm"],["Title",""],["Description",""],["KeyCode",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.keyCode",1,"color-highlight"],["matInput","","type","text","name","dataModel.keyCode","placeholder","....","minlength","0","maxlength","100","id","dataModel.keyCode",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();r(0,"div",5),g(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),c(4),a(),r(5,"p"),c(6),S(7,"translate"),a(),g(8,"app-cms-form-result-message",9),r(9,"form",10,0),I("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(11,Y1,1,5,"app-cms-enum-record-status-selector",11),r(12,"div",12)(13,"label",13),c(14),a(),r(15,"input",14,1),D("ngModelChange",function(p){return m(l),w(t.dataModel.title,p)||(t.dataModel.title=p),u(p)}),a(),r(17,"em"),c(18),a(),v(19,Z1,5,3,"mat-error"),a(),r(20,"div",12)(21,"label",15),c(22),a(),r(23,"textarea",16,2),D("ngModelChange",function(p){return m(l),w(t.dataModel.description,p)||(t.dataModel.description=p),u(p)}),c(25,"          "),a(),r(26,"em"),c(27),a(),v(28,$1,5,3,"mat-error"),a(),r(29,"div",17)(30,"a",18),S(31,"cmsthumbnail"),v(32,eg,2,4,"img",19),a()(),v(33,tg,8,16,"div",12),r(34,"div",12)(35,"label",20),c(36),a(),r(37,"input",21,3),D("ngModelChange",function(p){return m(l),w(t.dataModel.keyCode,p)||(t.dataModel.keyCode=p),u(p)}),a(),r(39,"em"),c(40),a()(),v(41,ig,9,7,"div",22),a()()()}if(i&2){let l=R(16),C=R(24),p=R(38);o(),f("optionsInfoAreaId",t.constructorInfoAreaId),o(3),_(" ",t.formInfo.formTitle," "),o(2),_(" ",h(7,25,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(3),y(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),f("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.title),o(3),_("",l.value.length," / 100"),o(),b(l.errors!=null&&l.errors.required?19:-1),o(3),y(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),f("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),E("ngModel",t.dataModel.description),o(4),_("",C.value.length," / 500"),o(),b(C.errors!=null&&C.errors.required?28:-1),o(2),f("href",x(h(31,27,t.dataModel.linkMainImageIdSrc)),X),o(2),b((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?32:-1),o(),b(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?33:-1),o(3),y(t.fieldsInfo.keyCode==null?null:t.fieldsInfo.keyCode.fieldTitle),o(),E("ngModel",t.dataModel.keyCode),o(3),_("",p.value.length," / 100"),o(),b(t.formInfo.submitButtonEnabled?41:-1)}},dependencies:[_e,ee,te,he,Pe,Ee,ce,Ce,Fe,K,ve,W,fe,Rt,B,ge],encapsulation:2});var Ma=pr;var ng=["vform"];function og(n,s){if(n&1){let e=P();r(0,"div",8)(1,"button",9),I("click",function(){m(e);let t=d();return u(t.onFormDelete())}),g(2,"i",10),c(3),S(4,"translate"),a(),r(5,"button",11),I("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(6,"i",12),c(7),S(8,"translate"),a()()}if(n&2){let e=d();o(),f("disabled",!e.formInfo.submitButtonEnabled),o(2),_(" ",h(4,3,"ACTION.DELETE")," "),o(4),_(" ",h(8,5,"ACTION.CANCEL")," ")}}var mr=class mr{constructor(s,e,i,t,l,C,p){this.data=s;this.dialogRef=e;this.publicHelper=i;this.dataProviderSourceService=t;this.cdr=l;this.translate=C;this.cmsToastrService=p;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new Z;this.formInfo=new Qt;this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=s.id||"")}ngOnInit(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderSourceService.setAccessLoad(),this.dataProviderSourceService.setAccessDataType(Re.Editor),this.dataProviderSourceService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onFormDelete(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderSourceService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};mr.\u0275fac=function(e){return new(e||mr)(M(se),M(le),M(H),M(Ni),M(N),M(O),M(G))},mr.\u0275cmp=L({type:mr,selectors:[["app-data-provider-source-delete"]],viewQuery:function(e,i){if(e&1&&U(ng,5),e&2){let t;Q(t=z())&&(i.formGroup=t.first)}},standalone:!1,decls:14,vars:10,consts:[["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","title",1,"color-highlight"],["matInput","","name","title","type","text","required","","readonly","","id","title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){if(e&1){let t=P();r(0,"div",1),g(1,"app-progress-spinner",2),r(2,"div",3)(3,"p",4),c(4),a(),r(5,"p"),c(6),S(7,"translate"),a(),r(8,"div",5)(9,"label",6),c(10),a(),r(11,"input",7,0),D("ngModelChange",function(C){return m(t),w(i.dataModelResultContent.item.title,C)||(i.dataModelResultContent.item.title=C),u(C)}),a()(),v(13,og,9,7,"div",8),a()()}e&2&&(o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(3),_(" ",i.formInfo.formTitle," "),o(2),_(" ",h(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),f("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModelResultContent.item.title),o(2),b(i.formInfo.submitButtonEnabled?13:-1))},dependencies:[ee,te,Ie,ce,K,W,B],encapsulation:2});var Ia=mr;var rg=["vform"];function ag(n,s){if(n&1){let e=P();r(0,"app-cms-enum-record-status-selector",27),D("modelChange",function(t){m(e);let l=d();return w(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=d();E("model",e.dataModel.recordStatus),f("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function lg(n,s){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function sg(n,s){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function dg(n,s){if(n&1&&(g(0,"img",22),S(1,"cmsthumbnail")),n&2){let e=d();f("src",x(h(1,2,e.dataModel.linkMainImageIdSrc)),X)}}function cg(n,s){if(n&1){let e=P();r(0,"div",13)(1,"label",28),I("click",function(){m(e);let t=d();return u(t.fileManagerOpenForm=!0)}),c(2),S(3,"translate"),a(),r(4,"input",29,5),S(6,"translate"),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),u(t)}),I("click",function(){m(e);let t=d();return u(t.fileManagerOpenForm=!0)}),a(),r(7,"cms-file-manager",30),I("itemSelected",function(t){m(e);let l=d();return u(l.onActionFileSelected(t))}),D("openFormChange",function(t){m(e);let l=d();return w(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),u(t)}),a()()}if(n&2){let e=d();o(2),y(h(3,12,"TITLE.Icon_File")),o(2),f("placeholder",x(h(6,14,"TITLE.Original_File_ID"))),E("ngModel",e.dataModel.linkMainImageId),o(3),f("language",e.appLanguage)("isPopup",!0),E("openForm",e.fileManagerOpenForm),f("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function pg(n,s){if(n&1){let e=P();r(0,"div",26)(1,"button",31),I("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",32),c(3),S(4,"translate"),a(),r(5,"button",33),g(6,"i",34),c(7),S(8,"translate"),a()()}if(n&2){d();let e=R(10);o(3),_(" ",h(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!e.form.valid),o(2),_(" ",h(8,5,"ACTION.SAVE")," ")}}var ur=class ur extends dt{constructor(e,i,t,l,C,p,k,Y,ke){super(l,new $i,k,ke);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.dataProviderSourceService=l;this.dataProviderPlanSourceService=C;this.cmsToastrService=p;this.publicHelper=k;this.cdr=Y;this.translate=ke;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ot;this.dataModel=new $i;this.fileManagerOpenForm=!1;this.dataCoreCpMainMenuIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id||""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){if(this.requestId?.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId?.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourceService.setAccessLoad(),this.dataProviderSourceService.setAccessDataType(Re.Editor),this.dataProviderSourceService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.DataGetAllPlanSource()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourceService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}DataGetAllPlanSource(){if(this.requestId?.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Getting_access_category_from_the_server").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)});let i=new ae,t=new J;t.propertyName="LinkSourceId",t.value=this.requestId,i.filters.push(t),this.dataProviderPlanSourceService.ServiceGetAll(i).subscribe({next:l=>{this.dataCoreCpMainMenuCmsUserGroupModel=l.listItems;let C=[];this.dataCoreCpMainMenuCmsUserGroupModel.forEach(p=>{C.push(p.linkPlanId)}),this.dataCoreCpMainMenuIds=C,l.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(p=>{this.formInfo.submitResultMessage=p}),this.formInfo.submitResultMessage=l.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(l.errorMessage)),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorPlanSelect(e){this.dataCoreCpMainMenuModel=e}onActionSelectorPlanSelectAdded(e){let i=new Ci;i.linkPlanId=e.id,i.linkSourceId=this.dataModel.id,this.dataProviderPlanSourceService.ServiceAdd(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onActionSelectorPlanSelectRemoved(e){let i=new Ci;i.linkPlanId=e.id,i.linkSourceId=this.dataModel.id,this.dataProviderPlanSourceService.ServiceDeleteEntity(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}};ur.\u0275fac=function(i){return new(i||ur)(M(se),M(le),M(ne),M(Ni),M(bi),M(G),M(H),M(N),M(O))},ur.\u0275cmp=L({type:ur,selectors:[["app-data-provider-source-edit"]],viewQuery:function(i,t){if(i&1&&U(rg,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:48,vars:35,consts:[["vform","ngForm"],["Id",""],["Title",""],["Description",""],["KeyCode",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.id",1,"color-highlight"],["matInput","","type","id","name","dataModel.id","id","dataModel.id",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.keyCode",1,"color-highlight"],["matInput","","type","text","name","dataModel.keyCode","placeholder","....","minlength","0","maxlength","100","id","dataModel.keyCode",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=P();r(0,"div",6),g(1,"app-progress-spinner",7),r(2,"div",8)(3,"p",9),c(4),a(),r(5,"p"),c(6),S(7,"translate"),a(),g(8,"app-cms-form-result-message",10),r(9,"form",11,0),I("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),v(11,ag,1,5,"app-cms-enum-record-status-selector",12),r(12,"div",13)(13,"label",14),c(14),a(),r(15,"input",15,1),D("ngModelChange",function(p){return m(l),w(t.dataModel.id,p)||(t.dataModel.id=p),u(p)}),a()(),r(17,"div",13)(18,"label",16),c(19),a(),r(20,"input",17,2),D("ngModelChange",function(p){return m(l),w(t.dataModel.title,p)||(t.dataModel.title=p),u(p)}),a(),r(22,"em"),c(23),a(),v(24,lg,5,3,"mat-error"),a(),r(25,"div",13)(26,"label",18),c(27),a(),r(28,"textarea",19,3),D("ngModelChange",function(p){return m(l),w(t.dataModel.description,p)||(t.dataModel.description=p),u(p)}),c(30,"            "),a(),r(31,"em"),c(32),a(),v(33,sg,5,3,"mat-error"),a(),r(34,"div",20)(35,"a",21),S(36,"cmsthumbnail"),v(37,dg,2,4,"img",22),a()(),v(38,cg,8,16,"div",13),r(39,"div",13)(40,"label",23),c(41),a(),r(42,"input",24,4),D("ngModelChange",function(p){return m(l),w(t.dataModel.keyCode,p)||(t.dataModel.keyCode=p),u(p)}),a(),r(44,"em"),c(45),a()(),r(46,"app-data-provider-plan-selectionlist",25),I("optionChange",function(p){return m(l),u(t.onActionSelectorPlanSelect(p))})("optionSelectAdded",function(p){return m(l),u(t.onActionSelectorPlanSelectAdded(p))})("optionSelectRemoved",function(p){return m(l),u(t.onActionSelectorPlanSelectRemoved(p))}),a(),v(47,pg,9,7,"div",26),a()()()}if(i&2){let l=R(21),C=R(29),p=R(43);o(),f("optionsInfoAreaId",t.constructorInfoAreaId),o(3),_(" ",t.formInfo.formTitle," "),o(2),_(" ",h(7,31,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(3),y(t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle),o(),f("placeholder",x(t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle)),E("ngModel",t.dataModel.id),o(4),y(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),f("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.title),o(3),_("",l.value.length," / 100"),o(),b(l.errors!=null&&l.errors.required?24:-1),o(3),y(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),f("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),E("ngModel",t.dataModel.description),o(4),_("",C.value.length," / 500"),o(),b(C.errors!=null&&C.errors.required?33:-1),o(2),f("href",x(h(36,33,t.dataModel.linkMainImageIdSrc)),X),o(2),b((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?37:-1),o(),b(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?38:-1),o(3),y(t.fieldsInfo.keyCode==null?null:t.fieldsInfo.keyCode.fieldTitle),o(),E("ngModel",t.dataModel.keyCode),o(3),_("",p.value.length," / 100"),o(),f("optionSelectForce",t.dataCoreCpMainMenuIds)("optionDisabled",!1),o(),b(t.formInfo.submitButtonEnabled?47:-1)}},dependencies:[_e,ee,te,he,Pe,Ee,ce,Ce,Fe,K,ve,W,fe,So,Rt,B,ge],encapsulation:2});var Pr=ur;var mg=()=>["expandedTitle"],ug=()=>["expandedDetail"],fg=()=>[5,10,20,100],Jl=n=>({display:n});function Sg(n,s){if(n&1){let e=P();r(0,"div",16)(1,"a",44),I("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",45)(3,"br"),a(),r(4,"p",46),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.ADD")," "))}function hg(n,s){if(n&1){let e=P();r(0,"div",16)(1,"a",47),I("click",function(){m(e);let t=d();return u(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",48)(3,"br"),a(),r(4,"p",46),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.EDIT")," "))}function Cg(n,s){if(n&1){let e=P();r(0,"div",16)(1,"a",49),I("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",50)(3,"br"),a(),r(4,"p",46),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.DELETE")," "))}function _g(n,s){if(n&1){let e=P();r(0,"div",16)(1,"a",51),I("click",function(){m(e);let t=d();return u(t.onActionButtonDataRow(t.tableRowSelected))}),g(2,"i",52)(3,"br"),a(),r(4,"p",46),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.DATA")," "))}function gg(n,s){if(n&1){let e=P();r(0,"div",16)(1,"a",51),I("click",function(){m(e);let t=d();return u(t.onActionButtonSourceList(t.tableRowSelected))}),g(2,"i",53)(3,"br"),a(),r(4,"p",46),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.SOURCE")," "))}function vg(n,s){n&1&&(r(0,"mat-header-cell"),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"TITLE.MENU")," "))}function bg(n,s){if(n&1){let e=P();r(0,"mat-cell")(1,"button",54),I("click",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowSelectActionMenu(t))}),g(2,"i",55),a()()}}function Mg(n,s){n&1&&(r(0,"mat-header-cell",56),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"TITLE.PICTURE")," "))}function Ig(n,s){if(n&1&&(g(0,"img",57),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;f("src",x(h(1,2,e.linkMainImageIdSrc)),X)}}function Pg(n,s){if(n&1&&(r(0,"mat-cell"),v(1,Ig,2,4,"img",57),a()),n&2){let e=s.$implicit;o(),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function Eg(n,s){if(n&1&&(r(0,"mat-header-cell",56),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function wg(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),_(" ",e.id," ")}}function Dg(n,s){if(n&1&&(r(0,"mat-header-cell",56),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function yg(n,s){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),a()),n&2){let e=s.$implicit;o(),_(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function Tg(n,s){if(n&1&&(r(0,"mat-header-cell",56),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ag(n,s){if(n&1&&g(0,"select",59),n&2){let e=d().$implicit,i=d();f("contentService",i.contentService)("row",e)("ngStyle",xt(3,Jl,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function xg(n,s){if(n&1&&(r(0,"mat-cell"),g(1,"i",58),S(2,"statusIconClass"),v(3,Ag,1,5,"select",59),a()),n&2){let e=s.$implicit,i=d();o(),f("ngClass",h(2,2,e.recordStatus)),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?3:-1)}}function Rg(n,s){if(n&1&&(r(0,"mat-header-cell",56),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function kg(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),_(" ",e.title," ")}}function Lg(n,s){if(n&1&&(r(0,"mat-header-cell",56),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function Vg(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),_(" ",e.description," ")}}function Bg(n,s){if(n&1&&(r(0,"mat-header-cell",56),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.hashMd5==null?null:e.fieldsInfo.hashMd5.fieldTitle," ")}}function Fg(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),_(" ",e.hashMd5," ")}}function Og(n,s){if(n&1&&(r(0,"mat-header-cell",56),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.keyCode==null?null:e.fieldsInfo.keyCode.fieldTitle," ")}}function Ng(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),_(" ",e.keyCode," ")}}function Gg(n,s){n&1&&(r(0,"mat-header-cell"),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"TITLE.OPTION")," "))}function Hg(n,s){if(n&1&&(r(0,"mat-cell",60)(1,"button",61)(2,"mat-icon"),c(3,"more_vert"),a()(),g(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),f("matMenuTriggerFor",e)}}function Wg(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),_(" ",e.title," ")}}function qg(n,s){if(n&1&&(g(0,"img",62),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;f("src",x(h(1,2,e.linkMainImageIdSrc)),X)}}function jg(n,s){if(n&1){let e=P();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),v(5,qg,2,4,"img",62),a(),r(6,"th"),c(7),r(8,"span",63),I("click",function(){m(e);let t=d();return u(t.onActionCopied())}),g(9,"i",64),a()()(),r(10,"tr"),g(11,"td"),r(12,"td"),c(13),a()(),r(14,"tr"),g(15,"td"),r(16,"td"),c(17),a()(),r(18,"tr"),g(19,"td")(20,"td"),a()()()()}if(n&2){let e=s.$implicit;o(5),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),_(" ",e.id," "),o(),f("cdkCopyToClipboard",e.id),o(5),y(e.title),o(4),y(e.description)}}function Ug(n,s){n&1&&g(0,"mat-header-row")}function Qg(n,s){if(n&1){let e=P();r(0,"mat-row",65),I("click",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=s.$implicit,i=d();F("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function zg(n,s){if(n&1){let e=P();r(0,"mat-row",66),I("click",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=s.$implicit,i=d();F("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Kg(n,s){if(n&1){let e=P();r(0,"mat-row",67),I("click",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d();return u(l.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=s.$implicit,i=d();F("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),f("ngStyle",xt(3,Jl,e.expanded===!0?"":"none"))}}var fr=class fr extends ct{constructor(e,i,t,l,C,p,k,Y,ke,Ke){super(e,new $i,ke,l,k);this.contentService=e;this.cmsToastrService=i;this.router=t;this.tokenHelper=l;this.cdr=C;this.cmsStoreService=p;this.translate=k;this.pageInfo=Y;this.publicHelper=ke;this.dialog=Ke;this.tableData=[];this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new ae;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","recordStatus","id","Description","HashMd5","KeyCode","action_menu"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","recordStatus","id","Description","HashMd5","KeyCode","action_menu"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:We=>this.onSubmitOptionsSearch(We)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=re.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Me(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new $i);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id&&(typeof this.categoryModelSelected.id=="string"?this.categoryModelSelected.id.length>0:this.categoryModelSelected.id>0)){let t=new J;t.propertyName="PlanSources",t.propertyAnyName="LinkPlanId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,t.isSuccess?(this.tableData=t.listItems,this.tableSource.data=t.listItems,this.sort&&(this.tableSource.sort=this.sort),this.paginator&&(this.tableSource.paginator=this.paginator),this.tableSource.filter="",this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=re.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=re.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=re.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new ae,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=new at;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={parentId:this.categoryModelSelected.id},this.dialog.open(Ma,e).afterClosed().subscribe(t=>{if(t&&t.dialogChangedDate)if(t.id&&t.id>0){let l=new at;l.disableClose=!0,l.autoFocus=!0,l.height="90%",l.data={id:t.id},this.dialog.open(Pr,l).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&(this.categoryModelSelected=new rt,this.DataGetAll())})}else this.categoryModelSelected=new rt,this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id?.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}let i=new at;i.disableClose=!0,i.autoFocus=!0,i.height="90%",i.data={id:this.tableRowSelected.id},this.dialog.open(Pr,i).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&(this.categoryModelSelected=new rt,this.DataGetAll())})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ia,{height:"40%",panelClass:i,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonSourceList(e=this.tableRowSelected,i){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/data-provider/plan-source/LinkSourceId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/plan-source/LinkSourceId/"+e.id])}onActionButtonDataRow(e=this.tableRowSelected,i){if(!e||!e.id||(typeof e.id=="string"?e.id.length===0:e.id===0)){this.translate.get("MESSAGE.No_row_selected_for_viewing").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorAccessDelete();return}i?.ctrlKey?(this.link="/#/data-provider/log-source/LinkSourceId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/data-provider/log-source/LinkSourceId/"+e.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),C=new J;C.propertyName="recordStatus",C.value=nt.Available,l.filters.push(C),this.contentService.ServiceGetCount(l).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};fr.\u0275fac=function(i){return new(i||fr)(M(Ni),M(G),M(Ue),M(He),M(N),M(Ge),M(O),M(lt),M(H),M(Oe))},fr.\u0275cmp=L({type:fr,selectors:[["app-data-provider-source-list"]],viewQuery:function(i,t){if(i&1&&(U(Ne,5),U(Le,5)),i&2){let l;Q(l=z())&&(t.sort=l.first),Q(l=z())&&(t.paginator=l.first)}},standalone:!1,features:[q],decls:73,vars:37,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","title"],["matColumnDef","Description"],["matColumnDef","HashMd5"],["matColumnDef","KeyCode"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-database","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-file","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let l=P();r(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(p){return m(l),w(t.viewGuideNotice,p)||(t.viewGuideNotice=p),u(p)}),I("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionButtonPrintRow())}),T(1,4),r(2,"app-data-provider-plan-tree",5),I("optionChange",function(p){return m(l),u(t.onActionSelectorSelect(p))}),a(),A(),Je(3,6)(4,7),T(5,8),r(6,"a",9),I("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),g(7,"i",10),a(),r(8,"a",9),I("click",function(){return m(l),u(t.onActionButtonReload())}),g(9,"i",11),a(),A(),T(10,12),r(11,"a",13),I("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(12,"mat-slide-toggle",14),c(13),S(14,"translate"),a(),r(15,"a",13),I("click",function(){return m(l),u(t.onActionButtonStatist())}),g(16,"mat-slide-toggle",14),c(17),S(18,"translate"),a(),A(),T(19,15),v(20,Sg,7,3,"div",16),A(),T(21,17),v(22,hg,7,3,"div",16),v(23,Cg,7,3,"div",16),v(24,_g,7,3,"div",16),v(25,gg,7,3,"div",16),A(),T(26,18),r(27,"app-cms-search-list",19),D("optionsChange",function(p){return m(l),w(t.optionsSearch,p)||(t.optionsSearch=p),u(p)}),a(),r(28,"app-cms-statist-list",19),D("optionsChange",function(p){return m(l),w(t.optionsStatist,p)||(t.optionsStatist=p),u(p)}),a(),A(),T(29,20),r(30,"mat-table",21,0),I("matSortChange",function(){m(l);let p=R(31);return u(t.onTableSortData(p))}),T(32,22),V(33,vg,3,3,"mat-header-cell",23)(34,bg,3,0,"mat-cell",24),A(),T(35,25),V(36,Mg,3,3,"mat-header-cell",26)(37,Pg,2,1,"mat-cell",24),A(),T(38,27),V(39,Eg,2,1,"mat-header-cell",26)(40,wg,2,1,"mat-cell",24),A(),T(41,28),V(42,Dg,2,1,"mat-header-cell",26)(43,yg,4,5,"mat-cell",24),A(),T(44,29),V(45,Tg,2,1,"mat-header-cell",26)(46,xg,4,4,"mat-cell",24),A(),T(47,30),V(48,Rg,2,1,"mat-header-cell",26)(49,kg,2,1,"mat-cell",24),A(),T(50,31),V(51,Lg,2,1,"mat-header-cell",26)(52,Vg,2,1,"mat-cell",24),A(),T(53,32),V(54,Bg,2,1,"mat-header-cell",26)(55,Fg,2,1,"mat-cell",24),A(),T(56,33),V(57,Og,2,1,"mat-header-cell",26)(58,Ng,2,1,"mat-cell",24),A(),T(59,34),V(60,Gg,3,3,"mat-header-cell",23)(61,Hg,6,1,"mat-cell",35),A(),T(62,36),V(63,Wg,2,1,"mat-cell",24),A(),T(64,37),V(65,jg,21,5,"mat-cell",24),A(),V(66,Ug,1,0,"mat-header-row",38)(67,Qg,1,2,"mat-row",39)(68,zg,1,2,"mat-row",40)(69,Kg,1,5,"mat-row",41),a(),A(),T(70,42),r(71,"mat-paginator",43,1),I("page",function(p){return m(l),u(t.onTablePageingData(p))}),a(),A(),a()}i&2&&(f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","dataprovider.source.list"),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),F("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),f("checked",t.optionsSearch.data.show),o(),_("",h(14,30,"ACTION.SEARCH")," "),o(3),f("checked",t.optionsStatist.data.show),o(),_("",h(18,32,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow&&(t.categoryModelSelected==null?null:t.categoryModelSelected.id)>0?20:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?25:-1),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),f("dataSource",t.tableSource),o(36),f("matHeaderRowDef",t.tabledisplayedColumns),o(),f("matRowDefColumns",qe(34,mg)),o(),f("matRowDefColumns",t.tabledisplayedColumns),o(),f("matRowDefColumns",qe(35,ug)),o(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",qe(36,fg)))},dependencies:[De,Wt,Qe,je,K,ht,Ct,Le,_t,Ne,Xe,gt,Ze,vt,$e,Ye,bt,et,tt,Mt,It,Wi,we,pt,Pt,Dt,ii,Po,Be,B,yt,ge,ye],encapsulation:2});var kn=fr;var Jg=(n,s)=>s.id;function Xg(n,s){if(n&1){let e=P();r(0,"button",6),S(1,"translate"),I("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",14),a()}n&2&&j("aria-label",h(1,1,"ACTION.ADD"))}function Yg(n,s){if(n&1){let e=P();r(0,"div",10)(1,"app-cms-search-list",15),D("optionsChange",function(t){m(e);let l=d();return w(l.optionsSearch,t)||(l.optionsSearch=t),u(t)}),a()()}if(n&2){let e=d();o(),E("options",e.optionsSearch)}}function Zg(n,s){if(n&1&&(r(0,"div",18),g(1,"img",26),S(2,"cmsthumbnail"),a()),n&2){let e=d().$implicit;o(),f("src",h(2,2,e.linkMainImageIdSrc),X)("alt",e.id||e.id)}}function $g(n,s){n&1&&(r(0,"div",19),g(1,"i",27),a())}function ev(n,s){if(n&1&&(r(0,"div",22),c(1),a()),n&2){let e=d().$implicit;o(),_(" ",e.description," ")}}function tv(n,s){if(n&1&&(r(0,"div",22),g(1,"i",28),S(2,"statusIconClass"),a()),n&2){let e=d().$implicit;o(),f("ngClass",h(2,1,e.recordStatus))}}function iv(n,s){if(n&1){let e=P();r(0,"button",29),S(1,"translate"),I("click",function(t){m(e);let l=d().$implicit;return d(2).onActionButtonEditRow(l),u(t.stopPropagation())}),g(2,"i",30),a()}n&2&&j("aria-label",h(1,1,"ACTION.EDIT"))}function nv(n,s){if(n&1){let e=P();r(0,"button",31),S(1,"translate"),I("click",function(t){m(e);let l=d().$implicit;return d(2).onActionButtonDeleteRow(l),u(t.stopPropagation())}),g(2,"i",32),a()}n&2&&j("aria-label",h(1,1,"ACTION.DELETE"))}function ov(n,s){if(n&1){let e=P();r(0,"div",17),I("click",function(){let t=m(e).$implicit,l=d(2);return u(l.onActionTableRowSelect(t))}),v(1,Zg,3,4,"div",18)(2,$g,2,0,"div",19),r(3,"div",20)(4,"div",21),c(5),a(),v(6,ev,2,1,"div",22),v(7,tv,3,3,"div",22),a(),r(8,"div",23),v(9,iv,3,3,"button",24),v(10,nv,3,3,"button",25),a()()}if(n&2){let e=s.$implicit,i=d(2);F("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),j("aria-label",e.id||e.id),o(),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:2),o(4),_(" ID: ",e.id," "),o(),b(e.description?6:-1),o(),b(e.recordStatus!==void 0?7:-1),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?9:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow?10:-1)}}function rv(n,s){if(n&1&&(r(0,"div",12),Te(1,ov,11,9,"div",16,Jg),a()),n&2){let e=d();o(),Ae(e.dataModelResult.listItems)}}function av(n,s){n&1&&(r(0,"div",13),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"MESSAGE.NoRecord")," "))}var Ln=class Ln extends kn{};Ln.\u0275fac=(()=>{let s;return function(i){return(s||(s=Et(Ln)))(i||Ln)}})(),Ln.\u0275cmp=L({type:Ln,selectors:[["app-data-provider-source-list-mobile"]],standalone:!1,features:[q],decls:19,vars:17,consts:[[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],[1,"cms-m-header-title"],[1,"cms-m-header-actions"],["type","button",1,"cms-m-header-action-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-magnifying-glass"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],["type","button",1,"cms-m-header-action-btn"],[1,"cms-m-search-area","safe-area-content"],[1,"cms-m-content","safe-area-content"],[1,"cms-m-list"],[1,"cms-m-empty","safe-area-content"],["aria-hidden","true",1,"fa-solid","fa-plus"],[3,"optionsChange","options"],["role","button","tabindex","0",1,"cms-m-list-item",3,"selected"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click"],[1,"cms-m-list-item-image"],[1,"cms-m-list-item-image-placeholder"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-actions"],[1,"cms-m-action-btn","edit"],[1,"cms-m-action-btn","delete"],["loading","lazy",3,"src","alt"],["aria-hidden","true",1,"fa-solid","fa-database"],[3,"ngClass"],[1,"cms-m-action-btn","edit",3,"click"],["aria-hidden","true",1,"fa-solid","fa-pen"],[1,"cms-m-action-btn","delete",3,"click"],["aria-hidden","true",1,"fa-solid","fa-trash"]],template:function(e,i){e&1&&(r(0,"div",0),g(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"h1",4),c(5),S(6,"translate"),a(),r(7,"div",5)(8,"button",6),S(9,"translate"),I("click",function(){return i.optionsSearch.data.show=!i.optionsSearch.data.show}),g(10,"i",7),a(),r(11,"button",6),S(12,"translate"),I("click",function(){return i.onActionButtonReload()}),g(13,"i",8),a(),v(14,Xg,3,3,"button",9),a()()(),v(15,Yg,2,1,"div",10),r(16,"div",11),v(17,rv,3,0,"div",12)(18,av,3,3,"div",13),a()()),e&2&&(o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(4),_(" ",h(6,11,"ROUTE.DATAPROVIDER.SOURCE")," "),o(3),F("active",i.optionsSearch.data.show),j("aria-label",h(9,13,"ACTION.SEARCH")),o(3),j("aria-label",h(12,15,"ACTION.RELOAD")),o(2),F("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow&&(i.tokenHelper!=null&&i.tokenHelper.isAdminSite)?14:-1),o(),b(i.optionsSearch.data.show?15:-1),o(2),b(!(i.dataModelResult==null||i.dataModelResult.listItems==null)&&i.dataModelResult.listItems.length?17:18))},dependencies:[De,we,W,B,ge,ye],styles:[".cms-m-body[_ngcontent-%COMP%]{min-height:100vh;background:var(--cms-m-bg, #0f172a);color:var(--cms-m-fg, #e2e8f0)}.cms-m-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2;background:var(--cms-m-header-bg, #0f172a);border-bottom:1px solid rgba(255,255,255,.08)}.cms-m-header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 16px}.cms-m-header-title[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:var(--cms-m-accent, #38bdf8)}.cms-m-header-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-left:auto}.cms-m-header-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:#ffffff0d;color:#e2e8f0;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.cms-m-header-action-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.cms-m-header-action-btn.active[_ngcontent-%COMP%]{background:#38bdf833;border-color:#38bdf866}.cms-m-header-action-btn[_ngcontent-%COMP%]   i.rotation360[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotation360 1s linear infinite}@keyframes _ngcontent-%COMP%_rotation360{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.cms-m-search-area[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px 16px}.cms-m-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.cms-m-list-item[_ngcontent-%COMP%]{display:flex;gap:12px;padding:12px;border-radius:14px;background:#ffffff0a;border:1px solid rgba(255,255,255,.06);cursor:pointer;transition:all .2s ease}.cms-m-list-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.cms-m-list-item.selected[_ngcontent-%COMP%]{border-color:var(--cms-m-accent, #38bdf8);box-shadow:0 0 0 1px #38bdf84d}.cms-m-list-item-image[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;overflow:hidden;flex-shrink:0}.cms-m-list-item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:grid;place-items:center;background:#38bdf81f;color:#38bdf8;flex-shrink:0}.cms-m-list-item-content[_ngcontent-%COMP%]{flex:1;min-width:0}.cms-m-list-item-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:4px;font-size:14px}.cms-m-list-item-subtitle[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8}.cms-m-list-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0}.cms-m-empty[_ngcontent-%COMP%]{padding:24px;text-align:center;color:#94a3b8}"]});var Er=Ln;var Xl=[{path:"",component:yo,data:{title:"ROUTE.DATAPROVIDER.MAIN"},children:[{path:"client",component:Zr,data:{title:"ROUTE.DATAPROVIDER.CLIENT"}},{path:"plan",component:Ir,data:{title:"ROUTE.DATAPROVIDER.PLAN"}},{path:"source",component:Er,data:{title:"ROUTE.DATAPROVIDER.SOURCE"}},{path:"source/list/LinkSourceCompanyId/:LinkSourceCompanyId",component:Er,data:{title:"ROUTE.DATAPROVIDER.SOURCE"}},{path:"plan-client",component:ko,data:{title:"ROUTE.DATAPROVIDER.PLANCLIENT"}},{path:"plan-client/LinkPlanId/:LinkPlanId",component:ko,data:{title:"ROUTE.DATAPROVIDER.PLANCLIENT"}},{path:"plan-client/LinkClientId/:LinkClientId",component:ko,data:{title:"ROUTE.DATAPROVIDER.PLANCLIENT"}},{path:"plan/LinkPlanCategory/:LinkPlanCategory",component:Ir,data:{title:"ROUTE.DATAPROVIDER.PLAN"}},{path:"plan-source",component:qo,data:{title:"ROUTE.DATAPROVIDER.PLANSOURCE"}},{path:"plan-source/LinkPlanId/:LinkPlanId",component:qo,data:{title:"ROUTE.DATAPROVIDER.PLANSOURCE"}},{path:"plan-source/LinkSourceId/:LinkSourceId",component:qo,data:{title:"ROUTE.DATAPROVIDER.PLANSOURCE"}},{path:"plan-price",component:Mr,data:{title:"ROUTE.DATAPROVIDER.PLANPRICE"}},{path:"plan-price/LinkPlanId/:LinkPlanId",component:Mr,data:{title:"ROUTE.DATAPROVIDER.PLANPRICE"}},{path:"source-company",component:fa,data:{title:"ROUTE.DATAPROVIDER.SOURCECOMPANY"}},{path:"source-public-config",component:ba,data:{title:"ROUTE.DATAPROVIDER.SOURCEPUBLICCONFIG"}},{path:"source-path",component:_a,data:{title:"ROUTE.DATAPROVIDER.SOURCEPATH"}},{path:"source-path-pagination",component:Ca,data:{title:"ROUTE.DATAPROVIDER.SOURCEPATH"}},{path:"client-application",component:po,data:{title:"ROUTE.DATAPROVIDER.CLIENTAPPLICATION"}},{path:"client-application/LinkUserId/:LinkUserId",component:po,data:{title:"ROUTE.DATAPROVIDER.CLIENTAPPLICATION"}},{path:"client-application/LinkSiteId/:LinkSiteId",component:po,data:{title:"ROUTE.DATAPROVIDER.CLIENTAPPLICATION"}},{path:"client-application-permission",component:oo,data:{title:"ROUTE.DATAPROVIDER.CLIENTAPPLICATIONPERMISSION"}},{path:"client-application-permission/LinkClientApplicationId/:LinkClientApplicationId",component:oo,data:{title:"ROUTE.DATAPROVIDER.CLIENTAPPLICATIONPERMISSION"}},{path:"client-application-permission/LinkSourcePathId/:LinkSourcePathId",component:oo,data:{title:"ROUTE.DATAPROVIDER.CLIENTAPPLICATIONPERMISSION"}}]}];function sv(n,s){if(n&1&&(r(0,"div"),g(1,"br"),r(2,"tr")(3,"td"),c(4),S(5,"translate"),a(),r(6,"td"),c(7),S(8,"currency"),a()(),g(9,"br"),r(10,"tr")(11,"td"),c(12),S(13,"translate"),a(),r(14,"td"),c(15),S(16,"currency"),a()(),g(17,"br"),r(18,"tr")(19,"td"),c(20),S(21,"translate"),a(),r(22,"td"),c(23),S(24,"currency"),a()(),g(25,"hr"),r(26,"tr")(27,"td"),c(28),S(29,"translate"),a(),r(30,"td"),c(31),S(32,"currency"),a()()()),n&2){let e=d();o(4),_("",h(5,8,"TITLE.FEETAX"),":"),o(3),_(" ",kt(8,10,e.dataModelCalculateResult.item.feeTax," "+e.dataModelCalculateResult.item.currency+" ")," "),o(5),_("",h(13,13,"TITLE.Amount_pure"),":"),o(3),_(" ",kt(16,15,e.dataModelCalculateResult.item.amountPure," "+e.dataModelCalculateResult.item.currency+" ")," "),o(5),_("",h(21,18,"TITLE.Fee_transport"),":"),o(3),_(" ",kt(24,20,e.dataModelCalculateResult.item.feeTransport," "+e.dataModelCalculateResult.item.currency+" ")," "),o(5),_("",h(29,23,"TITLE.Final_Amount"),":"),o(3),_(" ",kt(32,25,e.dataModelCalculateResult.item.amount," "+e.dataModelCalculateResult.item.currency+" ")," ")}}function dv(n,s){if(n&1){let e=P();r(0,"div",12)(1,"button",13),I("click",function(){m(e);let t=d();return u(t.onFormCancel())}),g(2,"i",14),c(3),S(4,"translate"),a(),r(5,"button",15),I("click",function(){m(e);let t=d();return u(t.onActionSelectBankPayment())}),g(6,"i",16),c(7),S(8,"translate"),a()()}if(n&2){let e=d();o(3),_(" ",h(4,4,"ACTION.CANCEL")," "),o(2),f("mat-dialog-close",!0)("disabled",!e.viewCalculate),o(2),_(" ",h(8,6,"ACTION.PAYMENT")," ")}}var Sr=class Sr{constructor(s,e,i,t,l,C,p,k){this.data=s;this.document=e;this.dialogRef=i;this.cmsToastrService=t;this.dataProviderTransactionService=l;this.translate=C;this.cdr=p;this.publicHelper=k;this.requestLinkPlanPriceId="";this.requestLinkClientId="";this.requestBankPrivateMaster=!1;this.constructorInfoAreaId=this.constructor.name;this.viewCalculate=!1;this.dataModelResult=new Z;this.dataModelCalculateResult=new Z;this.dataModelPaymentResult=new Z;this.dataModelCalculate=new xr;this.dataModelPayment=new qa;this.formInfo=new Qt;if(this.publicHelper.processService.cdr=this.cdr,s&&(s.linkPlanPriceId&&s.linkPlanPriceId?.length>0&&(this.requestLinkPlanPriceId=s.linkPlanPriceId.toString()),s.linkClientId&&s.linkClientId?.length>0&&(this.requestLinkClientId=s.linkClientId.toString())),this.requestLinkPlanPriceId?.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}if(this.requestLinkClientId?.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.dataModelCalculate.linkPlanPriceId=this.requestLinkPlanPriceId,this.dataModelCalculate.linkClientId=this.requestLinkClientId,this.dataModelPayment.linkPlanPriceId=this.requestLinkPlanPriceId,this.dataModelPayment.linkClientId=this.requestLinkClientId,this.dataModelPayment.lastUrlAddressInUse=this.document.location.href}ngOnInit(){this.translate.get("TITLE.Select_Payment_Gateway").subscribe(s=>{this.formInfo.formTitle=s})}DataCalculate(){this.viewCalculate=!1;let s=this.constructor.name+"ServiceOrderCalculate";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderTransactionService.ServiceOrderCalculate(this.dataModelCalculate).subscribe({next:e=>{e.isSuccess?(this.dataModelCalculateResult=e,this.viewCalculate=!0):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}DataPayment(){this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"ServiceOrderPayment";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.dataProviderTransactionService.ServiceOrderPayment(this.dataModelPayment).subscribe({next:e=>{e.isSuccess?(this.dataModelPaymentResult=e,this.translate.get("MESSAGE.Transferring_to_the_payment_gateway").subscribe(i=>{this.cmsToastrService.typeSuccessMessage(i)}),localStorage.setItem(Ml,e.item.transactionId.toString()),this.document.location.href=this.dataModelPaymentResult.item.urlToPay):(this.cmsToastrService.typeErrorMessage(e.errorMessage),this.formInfo.submitButtonEnabled=!0),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)}})}onActionSelectCalculate(s){this.dataModelCalculate.bankPaymentPrivateId=s.id,this.dataModelPayment.bankPaymentPrivateId=s.id,this.DataCalculate()}onActionSelectBankPayment(){this.DataPayment()}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Sr.\u0275fac=function(e){return new(e||Sr)(M(se),M(Dr),M(le),M(G),M(za),M(O),M(N),M(H))},Sr.\u0275cmp=L({type:Sr,selectors:[["app-data-provider-client-charge-payment"]],standalone:!1,decls:22,vars:8,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"menu-title"],[1,"color-highlight"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"example-card"],["mat-card-md-image","",3,"optionChange","optionMasterItem"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"click","mat-dialog-close","disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){e&1&&(r(0,"div",0),g(1,"app-progress-spinner",1),r(2,"div",2)(3,"p",3),c(4),a(),r(5,"a",4),I("click",function(){return i.onFormCancel()}),g(6,"i",5),a(),g(7,"hr"),a(),r(8,"div",6)(9,"p",7),c(10),a(),r(11,"mat-card",8)(12,"mat-card-header")(13,"mat-card-title"),c(14),a()(),r(15,"app-cms-bankpayment-grid",9),I("optionChange",function(l){return i.onActionSelectCalculate(l)}),a(),r(16,"mat-card-content"),v(17,sv,33,28,"div"),a(),r(18,"mat-card-actions")(19,"div",10),g(20,"app-cms-form-result-message",11),a(),v(21,dv,9,8,"div",12),a()()()()),e&2&&(o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(3),y(i.formInfo.formTitle),o(6),_(" ",i.formInfo.formDescription," "),o(4),_("",i.formInfo.formTitle," "),o(),f("optionMasterItem",i.requestBankPrivateMaster),o(2),b(i.viewCalculate?17:-1),o(3),f("formInfo",i.formInfo),o(),b(i.formInfo.submitButtonEnabled?21:-1))},dependencies:[Lr,Fr,Br,Or,ol,Vr,rl,W,fe,kl,Fa,B],styles:[".example-card[_ngcontent-%COMP%]{max-width:200px}"]});var Pa=Sr;function cv(n,s){if(n&1&&g(0,"app-data-provider-plan-header",0),n&2){let e=d();f("optionId",e.requestLinkClientId)}}var hr=class hr{constructor(s,e,i,t,l,C,p){this.document=s;this.activatedRoute=e;this.dialog=i;this.coreSiteService=t;this.cmsToastrService=l;this.router=C;this.translate=p;this.requestLinkClientId="";this.constructorInfoAreaId=this.constructor.name;this.price="";this.currency="";this.viewCalculate=!1;this.dataModelCalculate=new xr;this.LinkPlanPriceId=this.dataModelCalculate.linkPlanPriceId;this.requestLinkClientId=this.activatedRoute.snapshot.paramMap.get("LinkClientId")||"",this.dataModelCalculate.linkClientId=this.requestLinkClientId}ngOnInit(){this.DataGetCurrency();let s=localStorage.getItem("TransactionId")||"";s?.length>0&&this.dialog.open(Rl,{data:{id:s}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&localStorage.removeItem("TransactionId")})}DataGetCurrency(){this.coreSiteService.ServiceGetCurrencyMaster().subscribe({next:s=>{s.isSuccess&&(this.currency=s.item)},error:s=>{this.cmsToastrService.typeError(s)}})}onActionButtonBuy(){this.dialog.open(Pa,{height:"90%",data:{LinkPlanPriceId:this.dataModelCalculate.linkPlanPriceId,LinkClientId:this.dataModelCalculate.linkClientId}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate})}onActionBackToParent(){this.router.navigate(["/data-provider/client/"])}onInputChange(s){this.price=s.target.value}};hr.\u0275fac=function(e){return new(e||hr)(M(Dr),M(Bt),M(Oe),M(Hn),M(G),M(Ue),M(O))},hr.\u0275cmp=L({type:hr,selectors:[["app-data-provider-client-charge"]],standalone:!1,decls:23,vars:13,consts:[[3,"optionId"],[1,"row"],["Class","col-xl-12"],[1,"col"],[1,"example-card"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(v(0,cv,1,1,"app-data-provider-plan-header",0),r(1,"div",1)(2,"div",2)(3,"div",1)(4,"div",3)(5,"mat-card",4)(6,"mat-card-header")(7,"mat-card-title"),c(8),S(9,"translate"),a(),g(10,"mat-card-subtitle"),a(),r(11,"mat-card-content")(12,"p"),g(13,"br"),c(14),a()(),r(15,"mat-card-actions")(16,"button",5),I("click",function(){return i.onActionButtonBuy()}),c(17),S(18,"translate"),a(),r(19,"button",6),I("click",function(){return i.onActionBackToParent()}),g(20,"i",7),c(21),S(22,"translate"),a()()()()()()()),e&2&&(b(i.requestLinkClientId&&(typeof i.requestLinkClientId=="string"?i.requestLinkClientId.length>0:i.requestLinkClientId>0)?0:-1),o(8),_(" ",h(9,7,"TITLE.Amount_payable")," "),o(6),ka(" 20000 ",i.LinkPlanPriceId," ",i.price," ",i.currency," "),o(3),_(" ",h(18,9,"ACTION.BUY")," "),o(4),_(" ",h(22,11,"ACTION.BACK")," "))},dependencies:[Lr,Fr,Br,Or,nl,Vr,jr,B],encapsulation:2});var Ea=hr;function pv(n,s){if(n&1){let e=P();r(0,"button",11),I("click",function(){m(e);let t=d();return u(t.onActionButtonReload())}),r(1,"mat-icon",12),S(2,"translate"),c(3,"refresh"),a()()}if(n&2){let e=d();o(),F("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),f("title",x(h(2,4,"ACTION.RELOAD")))}}function mv(n,s){if(n&1){let e=P();r(0,"mat-tree-node",13),g(1,"button",14),r(2,"span",15),I("click",function(){let t=m(e).$implicit,l=d();return u(l.onActionSelect(t))}),g(3,"img",16),c(4),a()()}if(n&2){let e=s.$implicit,i=d();F("ntk-tree-selected",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),o(3),f("src",x(e.linkMainImageIdSrc),X),o(),_("\xA0",e.title)}}function uv(n,s){if(n&1){let e=P();r(0,"mat-tree-node",17)(1,"button",18)(2,"mat-icon",19),c(3),a()(),r(4,"span",15),I("click",function(){let t=m(e).$implicit,l=d();return u(l.onActionSelect(t))}),g(5,"img",16),c(6),a()()}if(n&2){let e=s.$implicit,i=d(),t=R(9);F("ntk-tree-selected",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),f("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),j("type","button")("aria-label","Toggle "+e.title),o(2),_(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),f("src",x(e.linkMainImageIdSrc),X),o(),_("\xA0",e.title)}}var Cr=class Cr{constructor(s,e,i,t,l,C,p,k,Y){this.cmsToastrService=s;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=l;this.publicHelper=C;this.tokenHelper=p;this.cmsStoreService=k;this.translate=Y;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new qt;this.dataModelResult=new Z;this.filterModel=new ae;this.dataSource=new Kn;this.optionChange=new wt;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(s,e)=>!1;this.childrenAccessor=s=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(s=>Me(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onActionSelect(s){s&&this.dataModelSelect&&s.id==this.dataModelSelect.id?(this.dataModelSelect=null,this.optionChange.emit(null)):(this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect))}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new qt,this.DataGetAll()}onActionSelectForce(s){}};Cr.\u0275fac=function(e){return new(e||Cr)(M(G),M(ne),M(Ut),M(Oe),M(N),M(H),M(He),M(Ge),M(O))},Cr.\u0275cmp=L({type:Cr,selectors:[["app-data-provider-source-company-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:13,vars:11,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(r(0,"app-cms-html-tree",1),T(1,2),c(2),S(3,"translate"),A(),T(4,3),v(5,pv,4,6,"button",4),A(),T(6,5),g(7,"app-progress-spinner",6),r(8,"mat-tree",7,0),V(10,mv,5,5,"mat-tree-node",8)(11,uv,7,10,"mat-tree-node",9),a(),A(),Je(12,10),a()),e&2&&(f("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),_(" ",h(3,9,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow?5:-1),o(2),f("optionsInfoAreaId",i.constructorInfoAreaId),o(),f("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),f("matTreeNodeDefWhen",i.hasChild))},dependencies:[Qe,je,jn,Un,zn,Qn,qn,W,Xn,B],encapsulation:2});var wa=Cr;var Sv=()=>[5,10,20,100];function hv(n,s){if(n&1){let e=P();r(0,"a",51),I("click",function(){m(e);let t=d();return u(t.onActionBackToParent())}),g(1,"i",52),a()}}function Cv(n,s){if(n&1){let e=P();r(0,"div",17)(1,"a",22),I("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),g(2,"i",53)(3,"br"),a(),r(4,"p",20),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.ADD")," "))}function _v(n,s){if(n&1){let e=P();r(0,"div",17)(1,"a",54),I("click",function(){m(e);let t=d();return u(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",55)(3,"br"),a(),r(4,"p",20),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.EDIT")," "))}function gv(n,s){if(n&1){let e=P();r(0,"div",17)(1,"a",56),I("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",57)(3,"br"),a(),r(4,"p",20),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.DELETE")," "))}function vv(n,s){if(n&1){let e=P();r(0,"div",17)(1,"a",19),I("click",function(){m(e);let t=d();return u(t.onActionButtonCopy(t.tableRowSelected))}),g(2,"i",58)(3,"br"),a(),r(4,"p",20),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.COPY")," "))}function bv(n,s){if(n&1){let e=P();r(0,"div",17)(1,"a",10),I("click",function(){m(e);let t=d();return u(t.onActionButtonSendTest(t.tableRowSelected))}),g(2,"i",59)(3,"br"),a(),r(4,"p",20),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.SEND_TEST")," "))}function Mv(n,s){if(n&1){let e=P();r(0,"div",17)(1,"a",10),I("click",function(){m(e);let t=d();return u(t.onActionButtonReportsRow(t.tableRowSelected))}),g(2,"i",60)(3,"br"),a(),r(4,"p",20),c(5),S(6,"translate"),a()()}n&2&&(o(5),_(" ",h(6,1,"ACTION.REPORTS")," "))}function Iv(n,s){n&1&&(r(0,"mat-header-cell",61),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"TITLE.PICTURE")," "))}function Pv(n,s){if(n&1&&(g(0,"img",62),S(1,"cmsthumbnail")),n&2){let e=d().$implicit;f("src",x(h(1,2,e.linkMainImageIdSrc)),X)}}function Ev(n,s){if(n&1&&(r(0,"mat-cell"),v(1,Pv,2,4,"img",62),a()),n&2){let e=s.$implicit;o(),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function wv(n,s){if(n&1&&(r(0,"mat-header-cell",61),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Dv(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),_(" ",e.id," ")}}function yv(n,s){if(n&1&&(r(0,"mat-header-cell",61),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Tv(n,s){if(n&1&&(r(0,"mat-cell",63),S(1,"statusCellClass"),g(2,"i",63),S(3,"statusIconClass"),a()),n&2){let e=s.$implicit;f("ngClass",h(1,2,e.recordStatus)),o(2),f("ngClass",h(3,4,e.recordStatus))}}function Av(n,s){if(n&1&&(r(0,"mat-header-cell",61),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function xv(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),_(" ",e.title," ")}}function Rv(n,s){if(n&1&&(r(0,"mat-header-cell",61),c(1),a()),n&2){let e=d();o(),_("",e.fieldsInfo.linkSourceCompanyId==null?null:e.fieldsInfo.linkSourceCompanyId.fieldTitle," ")}}function kv(n,s){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"cmstitle"),a()),n&2){let e=s.$implicit,i=d();o(),_(" ",kt(2,1,e.linkSourceCompanyId,i.dataModelCompanyResult.listItems)," ")}}function Lv(n,s){if(n&1&&(r(0,"mat-header-cell",61),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.linkPublicConfigId==null?null:e.fieldsInfo.linkPublicConfigId.fieldTitle," ")}}function Vv(n,s){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"cmstitle"),a()),n&2){let e=s.$implicit,i=d();o(),_(" ",kt(2,1,e.linkPublicConfigId,i.dataModelPublicResult.listItems)," ")}}function Bv(n,s){if(n&1&&(r(0,"mat-header-cell",61),c(1),a()),n&2){let e=d();o(),_(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Fv(n,s){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),_(" ",h(2,1,e.updatedDate)," ")}}function Ov(n,s){n&1&&(r(0,"mat-header-cell"),c(1),S(2,"translate"),a()),n&2&&(o(),_(" ",h(2,1,"TITLE.OPTION")," "))}function Nv(n,s){if(n&1&&(r(0,"mat-cell",64)(1,"button",65)(2,"mat-icon"),c(3,"more_vert"),a()(),g(4,"mat-menu",null,2),a()),n&2){let e=R(5);o(),f("matMenuTriggerFor",e)}}function Gv(n,s){n&1&&(r(0,"mat-header-cell",61),c(1,". "),a())}function Hv(n,s){n&1&&(r(0,"mat-cell")(1,"mat-icon",66),c(2,"reorder"),a()())}function Wv(n,s){n&1&&g(0,"mat-header-row")}function qv(n,s){n&1&&g(0,"div",69)}function jv(n,s){if(n&1){let e=P();r(0,"mat-row",67),I("click",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,C=d();return u(C.onActionTableRowSelect(l,t))}),V(1,qv,1,0,"div",68),a()}if(n&2){let e=s.$implicit,i=d();F("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),f("cdkDragData",e)}}var _r=class _r extends ct{constructor(e,i,t,l,C,p,k,Y,ke,Ke,We,it,Xt,Fn){super(e,new Yt,Xt,Y,Ke);this.contentService=e;this.dataProviderSourceCompanyService=i;this.dataProviderSourcePublicConfigService=t;this.activatedRoute=l;this.cmsToastrService=C;this.cmsConfirmationDialogService=p;this.router=k;this.tokenHelper=Y;this.cdr=ke;this.translate=Ke;this.cmsStoreService=We;this.pageInfo=it;this.publicHelper=Xt;this.dialog=Fn;this.requestLinkSiteId=0;this.requestLinkCompanyId="";this.requestLinkPublicConfigId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ae;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new Z;this.dataModelCompanyResult=new Z;this.dataModelPublicResult=new Z;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","recordStatus","title","linkSourceCompanyId","LinkPublicConfigId","updatedDate","position"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","recordStatus","title","linkSourceCompanyId","LinkPublicConfigId","position"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:hn=>this.onSubmitOptionsSearch(hn)},this.filteModelContent.sortColumn="priority",this.filteModelContent.sortType=re.Ascending}filterModelCompiler(e){let i=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkCompanyId")&&(this.requestLinkCompanyId=this.activatedRoute.snapshot.paramMap.get("LinkCompanyId")),this.activatedRoute.snapshot.paramMap.get("LinkSiteId")&&(this.requestLinkSiteId=+this.activatedRoute.snapshot.paramMap.get("LinkSiteId")||0),this.activatedRoute.snapshot.paramMap.get("LinkPublicConfigId")&&(this.requestLinkPublicConfigId=this.activatedRoute.snapshot.paramMap.get("LinkPublicConfigId"));let e=new J;if(this.requestLinkPublicConfigId?.length>0&&(e.propertyName="LinkPublicConfigId",e.value=this.requestLinkPublicConfigId,this.filteModelContent.filters.push(e)),this.requestLinkCompanyId.length>0){let i=new J;i.propertyName="linkSourceCompanyId",i.value=this.requestLinkCompanyId,this.filteModelContent.filters.push(i)}if(this.requestLinkSiteId>0){let i=new J;i.propertyName="linkSiteId",i.value=this.requestLinkSiteId,this.filteModelContent.filters.push(i)}this.filteModelContent.sortColumn="priority",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>Me(this,null,function*(){this.tokenInfo=i,this.DataGetAll()}))),this.getApiCopmanyList(),this.getPublicConfig()}getPublicConfig(){let e=new ae;e.rowPerPage=100,this.dataProviderSourcePublicConfigService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPublicResult=i}})}getApiCopmanyList(){let e=new ae;e.rowPerPage=100,this.dataProviderSourceCompanyService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCompanyResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,["position"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Yt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new J;t.propertyName="linkSourceCompanyId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=re.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=re.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=re.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onTableDropRow(e){let i=this.tableSource.data.findIndex(l=>l===e.item.data),t=new Ar;t.id=this.tableSource.data[i].id,t.centerId=this.tableSource.data[e.currentIndex].id,i>e.currentIndex?t.actionGo=Gn.GoUp:t.actionGo=Gn.GoDown,this.contentService.ServiceEditStep(t).subscribe({next:l=>{l.isSuccess?(Rr(this.tableSource.data,i,e.currentIndex),this.tableSource.data=this.tableSource.data.slice()):this.cmsToastrService.typeErrorMessage(l.errorMessage)},error:l=>{this.cmsToastrService.typeError(l)}})}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.categoryModelSelected&&this.categoryModelSelected.id.length>0&&(e=this.categoryModelSelected.id),this.requestLinkCompanyId&&this.requestLinkCompanyId.length>0&&(e=this.requestLinkCompanyId);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(fn,{height:"90%",panelClass:i,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{linkSourceCompanyId:e}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/data-provider/main/source-path/edit",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let C=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(C,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new ae,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.filteModelContent.sortColumn="priority",this.categoryModelSelected=e,this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,0)}),this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(k=>{this.publicHelper.processService.processStart(t,k,this.constructorInfoAreaId)});let l=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let k=new J;k.propertyName="recordStatus",k.value=this.filteModelContent.filterActionSearchRecordStatus,l.filters.push(k)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let k=new J;k.propertyName="linkSiteId",k.value=this.filteModelContent.filterActionSearchLinkSiteId,l.filters.push(k)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let k=new J;k.propertyName="linkUserId",k.value=this.filteModelContent.filterActionSearchLinkUserId,l.filters.push(k)}this.contentService.ServiceGetCount(l).subscribe({next:k=>{k.isSuccess?(this.translate.get("MESSAGE.All").subscribe(Y=>{i.set(Y,k.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(k.errorMessage),this.publicHelper.processService.processStop(t)},error:k=>{this.cmsToastrService.typeError(k),this.publicHelper.processService.processStop(t,!1)}});let C=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let k=new J;k.propertyName="recordStatus",k.value=this.filteModelContent.filterActionSearchRecordStatus,C.filters.push(k)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let k=new J;k.propertyName="linkSiteId",k.value=this.filteModelContent.filterActionSearchLinkSiteId,C.filters.push(k)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let k=new J;k.propertyName="linkUserId",k.value=this.filteModelContent.filterActionSearchLinkUserId,C.filters.push(k)}let p=new J;p.propertyName="recordStatus",p.value=nt.Available,C.filters.push(p),this.contentService.ServiceGetCount(C).subscribe({next:k=>{k.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(Y=>{i.set(Y,k.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(k.errorMessage),this.publicHelper.processService.processStop(t)},error:k=>{this.cmsToastrService.typeError(k),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonGetBalance(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}let i=this.constructor.name+"GetBalance";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)})}onActionButtonSendMessage(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/data-provider/action/send-message/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/action/send-message/LinkApiPathId",this.tableRowSelected.id])}onActionButtonSupersedesList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/bankpayment/privatesiteconfig/LinkPublicConfigId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/bankpayment/privatesiteconfig/LinkPublicConfigId",this.tableRowSelected.id])}onActionButtonMustSupersedesList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/bankpayment/privatesiteconfig/LinkPublicConfigId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/bankpayment/privatesiteconfig/LinkPublicConfigId",this.tableRowSelected.id])}onActionButtonNumbersList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/data-provider/main/api-number/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/main/api-number/LinkApiPathId",this.tableRowSelected.id])}onActionButtonPermitionList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/data-provider/main/source-path-permission/LinkApiPathId",this.tableRowSelected.id])}onActionButtonOutBoxQueue(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/data-provider/log/outbox-queue/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/log/outbox-queue/LinkApiPathId",this.tableRowSelected.id])}onActionButtonCopy(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessAdd();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(fn,{height:"90%",panelClass:i,enterAnimationDuration:de.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:de.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonPriceServicesList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/data-provider/main/source-path-pagination/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/main/source-path-pagination/LinkApiPathId",this.tableRowSelected.id])}onActionButtonSendTest(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e)}onActionButtonReportsRow(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}if(i?.ctrlKey){let t="/#/data-provider/log/source-path/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/data-provider/log/source-path/LinkApiPathId",this.tableRowSelected.id])}onActionButtonReload(){this.filteModelContent.sortColumn="priority",this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/data-provider/main/source-path-company"])}};_r.\u0275fac=function(i){return new(i||_r)(M(ei),M(Ut),M($t),M(Bt),M(G),M(Ot),M(Ue),M(He),M(N),M(O),M(Ge),M(lt),M(H),M(Oe))},_r.\u0275cmp=L({type:_r,selectors:[["app-data-provider-source-path-list"]],standalone:!1,features:[q],decls:129,vars:62,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-receipt","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-dollar","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-route","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-phone","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-universal-access","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-list-ol","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","cdkDropList","",3,"matSortChange","cdkDropListDropped","dataSource","cdkDropListData"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","linkSourceCompanyId"],["matColumnDef","LinkPublicConfigId"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild","cdkDrag","",3,"ntk-row-selected","cdkDragData","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-copy","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-paper-plane-top","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-file-chart-column","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],["cdkDrag","",1,"ntk-row-mainfild",3,"click","rtclick","cdkDragData"],["class","ntk-row-placeholder",4,"cdkDragPlaceholder"],[1,"ntk-row-placeholder"]],template:function(i,t){if(i&1){let l=P();r(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(p){return m(l),w(t.viewGuideNotice,p)||(t.viewGuideNotice=p),u(p)}),I("optionOnActionButtonMemoRow",function(){return m(l),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),u(t.onActionButtonPrintRow())}),T(1,4),r(2,"app-data-provider-source-company-tree",5),I("optionChange",function(p){return m(l),u(t.onActionSelectorSelect(p))}),a(),A(),Je(3,6)(4,7),T(5,8),v(6,hv,2,0,"a",9),r(7,"a",10),I("click",function(){return m(l),u(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",11),a(),r(9,"a",10),I("click",function(){return m(l),u(t.onActionButtonReload())}),g(10,"i",12),a(),A(),T(11,13),r(12,"a",14),I("click",function(){return m(l),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",15),c(14),S(15,"translate"),a(),r(16,"a",14),I("click",function(){return m(l),u(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",15),c(18),S(19,"translate"),a(),A(),T(20,16),v(21,Cv,7,3,"div",17),A(),T(22,18),v(23,_v,7,3,"div",17),v(24,gv,7,3,"div",17),r(25,"div",17)(26,"a",19),I("click",function(){return m(l),u(t.onActionButtonSendTest(t.tableRowSelected))}),r(27,"mat-icon"),c(28,"payment"),a()(),r(29,"p",20),c(30),S(31,"translate"),a()(),r(32,"div",17)(33,"a",19),I("click",function(p){return m(l),u(t.onActionButtonSendMessage(t.tableRowSelected,p))}),g(34,"i",21)(35,"br"),a(),r(36,"p",20),c(37),S(38,"translate"),a()(),r(39,"div",17)(40,"a",22),I("click",function(){return m(l),u(t.onActionButtonGetBalance(t.tableRowSelected))}),g(41,"i",23)(42,"br"),a(),r(43,"p",20),c(44),S(45,"translate"),a()(),r(46,"div",17)(47,"a",19),I("click",function(p){return m(l),u(t.onActionButtonSupersedesList(t.tableRowSelected,p))}),g(48,"i",24)(49,"br"),a(),r(50,"p",20),c(51),S(52,"translate"),a()(),r(53,"div",17)(54,"a",19),I("click",function(p){return m(l),u(t.onActionButtonMustSupersedesList(t.tableRowSelected,p))}),g(55,"i",24)(56,"br"),a(),r(57,"p",20),c(58),S(59,"translate"),a()(),r(60,"div",17)(61,"a",19),I("click",function(p){return m(l),u(t.onActionButtonNumbersList(t.tableRowSelected,p))}),g(62,"i",25)(63,"br"),a(),r(64,"p",20),c(65),S(66,"translate"),a()(),r(67,"div",17)(68,"a",19),I("click",function(p){return m(l),u(t.onActionButtonPriceServicesList(t.tableRowSelected,p))}),g(69,"i",26)(70,"br"),a(),r(71,"p",20),c(72),S(73,"translate"),a()(),r(74,"div",17)(75,"a",19),I("click",function(p){return m(l),u(t.onActionButtonPermitionList(t.tableRowSelected,p))}),g(76,"i",27)(77,"br"),a(),r(78,"p",20),c(79),S(80,"translate"),a()(),r(81,"div",17)(82,"a",19),I("click",function(p){return m(l),u(t.onActionButtonOutBoxQueue(t.tableRowSelected,p))}),g(83,"i",28)(84,"br"),a(),r(85,"p",20),c(86),S(87,"translate"),a()(),v(88,vv,7,3,"div",17),v(89,bv,7,3,"div",17),v(90,Mv,7,3,"div",17),A(),T(91,29),r(92,"app-cms-search-list",30),D("optionsChange",function(p){return m(l),w(t.optionsSearch,p)||(t.optionsSearch=p),u(p)}),a(),r(93,"app-cms-statist-list",30),D("optionsChange",function(p){return m(l),w(t.optionsStatist,p)||(t.optionsStatist=p),u(p)}),a(),A(),T(94,31),r(95,"mat-table",32,0),I("matSortChange",function(){m(l);let p=R(96);return u(t.onTableSortData(p))})("cdkDropListDropped",function(p){return m(l),u(t.onTableDropRow(p))}),T(97,33),V(98,Iv,3,3,"mat-header-cell",34)(99,Ev,2,1,"mat-cell",35),A(),T(100,36),V(101,wv,2,1,"mat-header-cell",34)(102,Dv,2,1,"mat-cell",35),A(),T(103,37),V(104,yv,2,1,"mat-header-cell",34)(105,Tv,4,6,"mat-cell",38),A(),T(106,39),V(107,Av,2,1,"mat-header-cell",34)(108,xv,2,1,"mat-cell",35),A(),T(109,40),V(110,Rv,2,1,"mat-header-cell",34)(111,kv,3,4,"mat-cell",35),A(),T(112,41),V(113,Lv,2,1,"mat-header-cell",34)(114,Vv,3,4,"mat-cell",35),A(),T(115,42),V(116,Bv,2,1,"mat-header-cell",34)(117,Fv,3,3,"mat-cell",35),A(),T(118,43),V(119,Ov,3,3,"mat-header-cell",44)(120,Nv,6,1,"mat-cell",45),A(),T(121,46),V(122,Gv,2,0,"mat-header-cell",34)(123,Hv,3,0,"mat-cell",35),A(),V(124,Wv,1,0,"mat-header-row",47)(125,jv,2,3,"mat-row",48),a(),A(),T(126,49),r(127,"mat-paginator",50,1),I("page",function(p){return m(l),u(t.onTablePageingData(p))}),a(),A(),a()}i&2&&(f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!t.requestLinkCompanyId||t.requestLinkCompanyId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(6),b((t.requestLinkCompanyId==null?null:t.requestLinkCompanyId.length)>0?6:-1),o(4),F("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),f("checked",t.optionsSearch.data.show),o(),_("",h(15,39,"ACTION.SEARCH")," "),o(3),f("checked",t.optionsStatist.data.show),o(),_("",h(19,41,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?21:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),o(6),_(" ",h(31,43,"ACTION.SEND_TEST")," "),o(7),_(" ",h(38,45,"ACTION.SEND_MESSAGE")," "),o(7),_(" ",h(45,47,"ACTION.GET_BALANCE")," "),o(7),_(" ",h(52,49,"ACTION.BACKUP_ROUTES")," "),o(7),_(" ",h(59,51,"ACTION.SUPPORTED_ROUTES")," "),o(7),_(" ",h(66,53,"ACTION.SPECIFIC_NUMBERS")," "),o(7),_(" ",h(73,55,"ACTION.PRICE_LIST")," "),o(7),_(" ",h(80,57,"ACTION.ACEESS")," "),o(7),_(" ",h(87,59,"ACTION.QUEUE")," "),o(2),b(t.categoryModelSelected&&t.categoryModelSelected.id.length>0?88:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?89:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?90:-1),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),f("dataSource",t.tableSource)("cdkDropListData",t.tableSource),o(29),f("matHeaderRowDef",t.tabledisplayedColumns),o(),f("matRowDefColumns",t.tabledisplayedColumns),o(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",qe(61,Sv)))},dependencies:[De,Qe,je,ht,Ct,Le,_t,Ne,Xe,gt,Ze,vt,$e,Ye,bt,et,tt,Mt,It,we,pt,Pt,Dt,Xa,Ja,Ka,Ya,wa,B,Wr,ge,on,ye,zi],encapsulation:2});var Sn=_r;var Uv=["vform"];function Qv(n,s){if(n&1){let e=P();r(0,"app-cms-enum-record-status-selector",67),D("modelChange",function(t){m(e);let l=d();return w(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),u(t)}),a()}if(n&2){let e=d();E("model",e.dataModel.recordStatus),f("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function zv(n,s){n&1&&g(0,"i",70)}function Kv(n,s){n&1&&g(0,"i",71)}function Jv(n,s){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function Xv(n,s){if(n&1){let e=P();r(0,"div",35)(1,"label",68),c(2),a(),r(3,"input",69,9),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.title,t)||(l.dataModel.title=t),u(t)}),a(),v(5,zv,1,0,"i",70),v(6,Kv,1,0,"i",71),r(7,"em"),c(8),a(),v(9,Jv,5,3,"mat-error"),a()}if(n&2){let e=R(4),i=d();o(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),f("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),f("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),b(e.value?-1:5),o(),b(e.value?6:-1),o(2),_("",e.value.length," / 100"),o(),b(e.errors!=null&&e.errors.required?9:-1)}}function Yv(n,s){if(n&1){let e=P();r(0,"div",35)(1,"label",72),c(2),a(),r(3,"input",73,10),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.apiIdentity,t)||(l.dataModel.apiIdentity=t),u(t)}),a()()}if(n&2){let e=d();o(2),y(e.fieldsInfo.apiIdentity==null?null:e.fieldsInfo.apiIdentity.fieldTitle),o(),E("ngModel",e.dataModel.apiIdentity),f("disabled",!(e.fieldsInfo.apiIdentity!=null&&e.fieldsInfo.apiIdentity.accessEditField))}}function Zv(n,s){if(n&1){let e=P();r(0,"div",35)(1,"label",74),c(2),a(),r(3,"input",75,11),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.apiMinPathNeedToCheck,t)||(l.dataModel.apiMinPathNeedToCheck=t),u(t)}),a()()}if(n&2){let e=d();o(2),y(e.fieldsInfo.apiMinPathNeedToCheck==null?null:e.fieldsInfo.apiMinPathNeedToCheck.fieldTitle),o(),E("ngModel",e.dataModel.apiMinPathNeedToCheck),f("disabled",!(e.fieldsInfo.apiMinPathNeedToCheck!=null&&e.fieldsInfo.apiMinPathNeedToCheck.accessEditField))}}function $v(n,s){if(n&1){let e=P();r(0,"div",35)(1,"label",76),c(2),a(),r(3,"input",77,12),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.apiReceiveKey,t)||(l.dataModel.apiReceiveKey=t),u(t)}),a()()}if(n&2){let e=d();o(2),y(e.fieldsInfo.apiReceiveKey==null?null:e.fieldsInfo.apiReceiveKey.fieldTitle),o(),E("ngModel",e.dataModel.apiReceiveKey),f("disabled",!(e.fieldsInfo.apiReceiveKey!=null&&e.fieldsInfo.apiReceiveKey.accessEditField))}}function eb(n,s){if(n&1){let e=P();r(0,"div",35)(1,"label",78),c(2),a(),r(3,"input",79,13),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.apiAbilityLengthMinToSend,t)||(l.dataModel.apiAbilityLengthMinToSend=t),u(t)}),a()()}if(n&2){let e=d();o(2),y(e.fieldsInfo.apiAbilityLengthMinToSend==null?null:e.fieldsInfo.apiAbilityLengthMinToSend.fieldTitle),o(),E("ngModel",e.dataModel.apiAbilityLengthMinToSend),f("disabled",!(e.fieldsInfo.apiAbilityLengthMinToSend!=null&&e.fieldsInfo.apiAbilityLengthMinToSend.accessEditField))}}function tb(n,s){if(n&1){let e=P();r(0,"div",35)(1,"label",80),c(2),a(),r(3,"input",81,14),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.apiAbilityLengthMaxToSend,t)||(l.dataModel.apiAbilityLengthMaxToSend=t),u(t)}),a()()}if(n&2){let e=d();o(2),y(e.fieldsInfo.apiAbilityLengthMaxToSend==null?null:e.fieldsInfo.apiAbilityLengthMaxToSend.fieldTitle),o(),E("ngModel",e.dataModel.apiAbilityLengthMaxToSend),f("disabled",!(e.fieldsInfo.apiAbilityLengthMaxToSend!=null&&e.fieldsInfo.apiAbilityLengthMaxToSend.accessEditField))}}function ib(n,s){if(n&1){let e=P();r(0,"div",35)(1,"label",82),c(2),a(),r(3,"input",83,15),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.priority,t)||(l.dataModel.priority=t),u(t)}),a()()}if(n&2){let e=d();o(2),y(e.fieldsInfo.priority==null?null:e.fieldsInfo.priority.fieldTitle),o(),E("ngModel",e.dataModel.priority),f("disabled",!(e.fieldsInfo.priority!=null&&e.fieldsInfo.priority.accessEditField))}}function nb(n,s){if(n&1){let e=P();r(0,"div",35)(1,"label",84),c(2),a(),r(3,"input",85,16),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.maxProcessFlowAmount,t)||(l.dataModel.maxProcessFlowAmount=t),u(t)}),a()()}if(n&2){let e=d();o(2),y(e.fieldsInfo.maxProcessFlowAmount==null?null:e.fieldsInfo.maxProcessFlowAmount.fieldTitle),o(),E("ngModel",e.dataModel.maxProcessFlowAmount),f("disabled",!(e.fieldsInfo.maxProcessFlowAmount!=null&&e.fieldsInfo.maxProcessFlowAmount.accessEditField))}}function ob(n,s){if(n&1){let e=P();r(0,"div",35)(1,"label",86),c(2),a(),r(3,"input",87,17),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.minProcessFlowAmount,t)||(l.dataModel.minProcessFlowAmount=t),u(t)}),a()()}if(n&2){let e=d();o(2),y(e.fieldsInfo.minProcessFlowAmount==null?null:e.fieldsInfo.minProcessFlowAmount.fieldTitle),o(),E("ngModel",e.dataModel.minProcessFlowAmount),f("disabled",!(e.fieldsInfo.minProcessFlowAmount!=null&&e.fieldsInfo.minProcessFlowAmount.accessEditField))}}function rb(n,s){if(n&1){let e=P();r(0,"div",35)(1,"label",88),c(2),a(),r(3,"input",89,18),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.fixFeeProcessFlowAmount,t)||(l.dataModel.fixFeeProcessFlowAmount=t),u(t)}),a()()}if(n&2){let e=d();o(2),y(e.fieldsInfo.fixFeeProcessFlowAmount==null?null:e.fieldsInfo.fixFeeProcessFlowAmount.fieldTitle),o(),E("ngModel",e.dataModel.fixFeeProcessFlowAmount),f("disabled",!(e.fieldsInfo.fixFeeProcessFlowAmount!=null&&e.fieldsInfo.fixFeeProcessFlowAmount.accessEditField))}}function ab(n,s){if(n&1){let e=P();r(0,"div",35)(1,"label",90),c(2),a(),r(3,"input",91,19),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.percentFeeProcessFlowAmount,t)||(l.dataModel.percentFeeProcessFlowAmount=t),u(t)}),a()()}if(n&2){let e=d();o(2),y(e.fieldsInfo.percentFeeProcessFlowAmount==null?null:e.fieldsInfo.percentFeeProcessFlowAmount.fieldTitle),o(),E("ngModel",e.dataModel.percentFeeProcessFlowAmount),f("disabled",!(e.fieldsInfo.percentFeeProcessFlowAmount!=null&&e.fieldsInfo.percentFeeProcessFlowAmount.accessEditField))}}function lb(n,s){if(n&1){let e=P();r(0,"div",38)(1,"label",92),c(2),a(),r(3,"input",93),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.perriodStartWorkTime,t)||(l.dataModel.perriodStartWorkTime=t),u(t)}),a(),g(4,"ngx-material-timepicker-toggle",59)(5,"ngx-material-timepicker",94,20),a()}if(n&2){let e=R(6),i=d();o(2),y(i.fieldsInfo.perriodStartWorkTime==null?null:i.fieldsInfo.perriodStartWorkTime.fieldTitle),o(),f("ngxTimepicker",e),E("ngModel",i.dataModel.perriodStartWorkTime),f("format",24),o(),f("for",e)}}function sb(n,s){if(n&1){let e=P();r(0,"div",38)(1,"label",95),c(2),a(),r(3,"input",96),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.perriodEndWorkTime,t)||(l.dataModel.perriodEndWorkTime=t),u(t)}),a(),g(4,"ngx-material-timepicker-toggle",59)(5,"ngx-material-timepicker",94,21),a()}if(n&2){let e=R(6),i=d();o(2),y(i.fieldsInfo.perriodEndWorkTime==null?null:i.fieldsInfo.perriodEndWorkTime.fieldTitle),o(),f("ngxTimepicker",e),E("ngModel",i.dataModel.perriodEndWorkTime),f("format",24),o(),f("for",e)}}function db(n,s){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function cb(n,s){if(n&1){let e=P();r(0,"div",43)(1,"button",97),I("click",function(){m(e);let t=d();return u(t.onActionBackToParent())}),c(2),S(3,"translate"),a(),r(4,"button",98),c(5),S(6,"translate"),a(),r(7,"button",99),c(8),S(9,"translate"),a()()}if(n&2){d();let e=R(13);o(2),_(" ",h(3,5,"ACTION.BACK")," "),o(2),f("disabled",!e.form.valid),o(),_(" ",h(6,7,"ACTION.NEXT")," "),o(2),f("disabled",!e.form.valid),o(),_(" ",h(9,9,"ACTION.SAVE")," ")}}function pb(n,s){if(n&1){let e=P();r(0,"div",46)(1,"button",100),I("click",function(){m(e);let t=d();return u(t.onActionButtonGetToken())}),c(2),S(3,"translate"),a(),r(4,"button",100),I("click",function(){m(e);let t=d();return u(t.onActionButtonGetBalance())}),c(5),S(6,"translate"),a(),g(7,"br"),r(8,"button",97),I("click",function(){m(e);let t=d();return u(t.onActionBackToParent())}),c(9),S(10,"translate"),a(),r(11,"button",101),c(12),S(13,"translate"),a(),r(14,"button",98),c(15),S(16,"translate"),a(),r(17,"button",99),c(18),S(19,"translate"),a()()}if(n&2){d();let e=R(13);o(2),_(" ",h(3,8,"ACTION.CHECK_ROUTE_TOKEN")," "),o(3),_(" ",h(6,10,"ACTION.CHECK_ROUTE_BALANCE")," "),o(4),_(" ",h(10,12,"ACTION.BACK")," "),o(3),_(" ",h(13,14,"ACTION.BEFOR")," "),o(2),f("disabled",!e.form.valid),o(),_(" ",h(16,16,"ACTION.NEXT")," "),o(2),f("disabled",!e.form.valid),o(),_(" ",h(19,18,"ACTION.SAVE")," ")}}function mb(n,s){if(n&1){let e=P();r(0,"div",47)(1,"div",102)(2,"h5",103),c(3),a()(),r(4,"div",104)(5,"div",105)(6,"input",106),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.apiSendMessageIsOn,t)||(l.dataModel.apiSendMessageIsOn=t),u(t)}),a(),g(7,"label",107),a()()()}if(n&2){let e=d();o(3),_(" ",e.fieldsInfo.apiSendMessageIsOn==null?null:e.fieldsInfo.apiSendMessageIsOn.fieldTitle," "),o(3),E("ngModel",e.dataModel.apiSendMessageIsOn)}}function ub(n,s){n&1&&(r(0,"mat-error"),c(1," apiSendMessageAddTextFirst is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function fb(n,s){n&1&&(r(0,"mat-error"),c(1," apiSendMessageAddTextEnd is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function Sb(n,s){n&1&&(r(0,"mat-error"),c(1," sendMessageAddTextFirst is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function hb(n,s){n&1&&(r(0,"mat-error"),c(1," sendMessageAddTextEnd is "),r(2,"strong"),c(3),S(4,"translate"),a()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function Cb(n,s){if(n&1){let e=P();r(0,"div",47)(1,"div",102)(2,"h5",108),c(3),a()(),r(4,"div",104)(5,"div",105)(6,"input",109),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.apiAbilitySendUnicodeMessage,t)||(l.dataModel.apiAbilitySendUnicodeMessage=t),u(t)}),a(),g(7,"label",110),a()()()}if(n&2){let e=d();o(3),_(" ",e.fieldsInfo.apiAbilitySendUnicodeMessage==null?null:e.fieldsInfo.apiAbilitySendUnicodeMessage.fieldTitle," "),o(3),E("ngModel",e.dataModel.apiAbilitySendUnicodeMessage)}}function _b(n,s){if(n&1){let e=P();r(0,"div",47)(1,"div",102)(2,"h5",111),c(3),a()(),r(4,"div",104)(5,"div",105)(6,"input",112),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.apiAbilitySendNormalMessage,t)||(l.dataModel.apiAbilitySendNormalMessage=t),u(t)}),a(),g(7,"label",113),a()()()}if(n&2){let e=d();o(3),_(" ",e.fieldsInfo.apiAbilitySendNormalMessage==null?null:e.fieldsInfo.apiAbilitySendNormalMessage.fieldTitle," "),o(3),E("ngModel",e.dataModel.apiAbilitySendNormalMessage)}}function gb(n,s){if(n&1){let e=P();r(0,"div",47)(1,"div",102)(2,"h5",114),c(3),a()(),r(4,"div",104)(5,"div",105)(6,"input",115),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.apiAllowSupersede,t)||(l.dataModel.apiAllowSupersede=t),u(t)}),a(),g(7,"label",116),a()()()}if(n&2){let e=d();o(3),_(" ",e.fieldsInfo.apiAllowSupersede==null?null:e.fieldsInfo.apiAllowSupersede.fieldTitle," "),o(3),E("ngModel",e.dataModel.apiAllowSupersede)}}function vb(n,s){if(n&1){let e=P();r(0,"div",47)(1,"div",102)(2,"h5",117),c(3),a()(),r(4,"div",104)(5,"div",105)(6,"input",118),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.apiAbilityUseWebservice,t)||(l.dataModel.apiAbilityUseWebservice=t),u(t)}),a(),g(7,"label",119),a()()()}if(n&2){let e=d();o(3),_(" ",e.fieldsInfo.apiAbilityUseWebservice==null?null:e.fieldsInfo.apiAbilityUseWebservice.fieldTitle," "),o(3),E("ngModel",e.dataModel.apiAbilityUseWebservice)}}function bb(n,s){if(n&1){let e=P();r(0,"div",47)(1,"div",102)(2,"h5",120),c(3),a()(),r(4,"div",104)(5,"div",105)(6,"input",121),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.apiAbilityUseInside,t)||(l.dataModel.apiAbilityUseInside=t),u(t)}),a(),g(7,"label",122),a()()()}if(n&2){let e=d();o(3),_(" ",e.fieldsInfo.apiAbilityUseInside==null?null:e.fieldsInfo.apiAbilityUseInside.fieldTitle," "),o(3),E("ngModel",e.dataModel.apiAbilityUseInside)}}function Mb(n,s){if(n&1){let e=P();r(0,"div",43)(1,"button",97),I("click",function(){m(e);let t=d();return u(t.onActionBackToParent())}),c(2),S(3,"translate"),a(),r(4,"button",101),c(5),S(6,"translate"),a(),r(7,"button",98),c(8),S(9,"translate"),a(),r(10,"button",99),c(11),S(12,"translate"),a()()}if(n&2){d();let e=R(13);o(2),_(" ",h(3,6,"ACTION.BACK")," "),o(3),_(" ",h(6,8,"ACTION.BEFOR")," "),o(2),f("disabled",!e.form.valid),o(),_(" ",h(9,10,"ACTION.NEXT")," "),o(2),f("disabled",!e.form.valid),o(),_(" ",h(12,12,"ACTION.SAVE")," ")}}function Ib(n,s){if(n&1){let e=P();r(0,"div",43)(1,"button",97),I("click",function(){m(e);let t=d(2);return u(t.onActionBackToParent())}),c(2),S(3,"translate"),a(),r(4,"button",101),c(5),S(6,"translate"),a(),r(7,"button",98),c(8),S(9,"translate"),a(),r(10,"button",99),c(11),S(12,"translate"),a()()}if(n&2){d(2);let e=R(13);o(2),_(" ",h(3,6,"ACTION.BACK")," "),o(3),_(" ",h(6,8,"ACTION.BEFOR")," "),o(2),f("disabled",!e.form.valid),o(),_(" ",h(9,10,"ACTION.NEXT")," "),o(2),f("disabled",!e.form.valid),o(),_(" ",h(12,12,"ACTION.SAVE")," ")}}function Pb(n,s){if(n&1&&(r(0,"mat-step",44),S(1,"translate"),r(2,"p"),c(3),S(4,"translate"),a(),v(5,Ib,13,14,"div",43),a()),n&2){let e=d();f("label",x(h(1,4,"TITLE.Status_receiving_variables"))),o(3),y(h(4,6,"TITLE.Set_acess")),o(2),b(e.formInfo.submitButtonEnabled?5:-1)}}function Eb(n,s){if(n&1){let e=P();r(0,"div",47)(1,"div",102)(2,"h5",123),c(3),a()(),r(4,"div",104)(5,"div",105)(6,"input",124),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.serverDeliveryCostBase,t)||(l.dataModel.serverDeliveryCostBase=t),u(t)}),a(),g(7,"label",125),a()()()}if(n&2){let e=d();o(3),_(" ",e.fieldsInfo.serverDeliveryCostBase==null?null:e.fieldsInfo.serverDeliveryCostBase.fieldTitle," "),o(3),E("ngModel",e.dataModel.serverDeliveryCostBase)}}function wb(n,s){if(n&1){let e=P();r(0,"div",35)(1,"label",126),c(2),a(),r(3,"input",127,22),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.statusOutOfServiceMonitorApiChar,t)||(l.dataModel.statusOutOfServiceMonitorApiChar=t),u(t)}),a()()}if(n&2){let e=d();o(2),y(e.fieldsInfo.statusOutOfServiceMonitorApiChar==null?null:e.fieldsInfo.statusOutOfServiceMonitorApiChar.fieldTitle),o(),E("ngModel",e.dataModel.statusOutOfServiceMonitorApiChar),f("disabled",!(e.fieldsInfo.statusOutOfServiceMonitorApiChar!=null&&e.fieldsInfo.statusOutOfServiceMonitorApiChar.accessEditField))}}function Db(n,s){if(n&1){let e=P();r(0,"div",47)(1,"div",102)(2,"h5",128),c(3),a()(),r(4,"div",104)(5,"div",105)(6,"input",129),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.statusOutOfServiceActive,t)||(l.dataModel.statusOutOfServiceActive=t),u(t)}),a(),g(7,"label",130),a()()()}if(n&2){let e=d();o(3),_(" ",e.fieldsInfo.statusOutOfServiceActive==null?null:e.fieldsInfo.statusOutOfServiceActive.fieldTitle," "),o(3),E("ngModel",e.dataModel.statusOutOfServiceActive)}}function yb(n,s){if(n&1){let e=P();r(0,"div",47)(1,"div",102)(2,"h5",131),c(3),a()(),r(4,"div",104)(5,"div",105)(6,"input",132),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.statusNotStableActive,t)||(l.dataModel.statusNotStableActive=t),u(t)}),a(),g(7,"label",133),a()()()}if(n&2){let e=d();o(3),_(" ",e.fieldsInfo.apiAbilityUseInside==null?null:e.fieldsInfo.apiAbilityUseInside.fieldTitle," "),o(3),E("ngModel",e.dataModel.statusNotStableActive)}}function Tb(n,s){if(n&1){let e=P();r(0,"div",35)(1,"label",134),c(2),a(),r(3,"input",135,23),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.statusNotStableCount,t)||(l.dataModel.statusNotStableCount=t),u(t)}),a()()}if(n&2){let e=d();o(2),y(e.fieldsInfo.statusNotStableCount==null?null:e.fieldsInfo.statusNotStableCount.fieldTitle),o(),E("ngModel",e.dataModel.statusNotStableCount),f("disabled",!(e.fieldsInfo.statusNotStableCount!=null&&e.fieldsInfo.statusNotStableCount.accessEditField))}}function Ab(n,s){if(n&1){let e=P();r(0,"div",35)(1,"label",136),c(2),a(),r(3,"input",137,24),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.statusNotStableCountLimit,t)||(l.dataModel.statusNotStableCountLimit=t),u(t)}),a()()}if(n&2){let e=d();o(2),y(e.fieldsInfo.statusNotStableCountLimit==null?null:e.fieldsInfo.statusNotStableCountLimit.fieldTitle),o(),E("ngModel",e.dataModel.statusNotStableCountLimit),f("disabled",!(e.fieldsInfo.statusNotStableCountLimit!=null&&e.fieldsInfo.statusNotStableCountLimit.accessEditField))}}function xb(n,s){if(n&1){let e=P();r(0,"div",35)(1,"label",138),c(2),a(),r(3,"input",139,25),D("ngModelChange",function(t){m(e);let l=d();return w(l.dataModel.statusNotStableRunForMin,t)||(l.dataModel.statusNotStableRunForMin=t),u(t)}),a()()}if(n&2){let e=d();o(2),y(e.fieldsInfo.statusNotStableRunForMin==null?null:e.fieldsInfo.statusNotStableRunForMin.fieldTitle),o(),E("ngModel",e.dataModel.statusNotStableRunForMin),f("disabled",!(e.fieldsInfo.statusNotStableRunForMin!=null&&e.fieldsInfo.statusNotStableRunForMin.accessEditField))}}function Rb(n,s){if(n&1){let e=P();r(0,"div",43)(1,"button",97),I("click",function(){m(e);let t=d();return u(t.onActionBackToParent())}),c(2),S(3,"translate"),a(),r(4,"button",101),c(5),S(6,"translate"),a(),r(7,"button",98),c(8),S(9,"translate"),a(),r(10,"button",99),c(11),S(12,"translate"),a()()}if(n&2){d();let e=R(13);o(2),_(" ",h(3,6,"ACTION.BACK")," "),o(3),_(" ",h(6,8,"ACTION.BEFOR")," "),o(2),f("disabled",!e.form.valid),o(),_(" ",h(9,10,"ACTION.NEXT")," "),o(2),f("disabled",!e.form.valid),o(),_(" ",h(12,12,"ACTION.SAVE")," ")}}function kb(n,s){if(n&1){let e=P();r(0,"div",43)(1,"button",97),I("click",function(){m(e);let t=d(2);return u(t.onActionBackToParent())}),c(2),S(3,"translate"),a(),r(4,"button",101),c(5),S(6,"translate"),a(),r(7,"button",98),c(8),S(9,"translate"),a(),r(10,"button",99),c(11),S(12,"translate"),a()()}if(n&2){d(2);let e=R(13);o(2),_(" ",h(3,6,"ACTION.BACK")," "),o(3),_(" ",h(6,8,"ACTION.BEFOR")," "),o(2),f("disabled",!e.form.valid),o(),_(" ",h(9,10,"ACTION.NEXT")," "),o(2),f("disabled",!e.form.valid),o(),_(" ",h(12,12,"ACTION.SAVE")," ")}}function Lb(n,s){if(n&1&&(r(0,"mat-step",44),S(1,"translate"),v(2,kb,13,14,"div",43),a()),n&2){let e=d();f("label",x(h(1,3,"TITLE.Receiving_variables"))),o(2),b(e.formInfo.submitButtonEnabled?2:-1)}}function Vb(n,s){if(n&1){let e=P();r(0,"div",43)(1,"button",97),I("click",function(){m(e);let t=d(2);return u(t.onActionBackToParent())}),c(2),S(3,"translate"),a(),r(4,"button",101),c(5),S(6,"translate"),a(),r(7,"button",98),c(8),S(9,"translate"),a(),r(10,"button",100),I("click",function(){m(e);let t=d(2);return u(t.onActionButtonGetToken())}),c(11),S(12,"translate"),a(),r(13,"button",100),I("click",function(){m(e);let t=d(2);return u(t.onActionButtonGetBalance())}),c(14),S(15,"translate"),a(),r(16,"button",99),c(17),S(18,"translate"),a()()}if(n&2){d(2);let e=R(13);o(2),_(" ",h(3,8,"ACTION.BACK")," "),o(3),_(" ",h(6,10,"ACTION.BEFOR")," "),o(2),f("disabled",!e.form.valid),o(),_(" ",h(9,12,"ACTION.NEXT")," "),o(3),_(" ",h(12,14,"ACTION.CHECK_ROUTE_TOKEN")," "),o(3),_(" ",h(15,16,"ACTION.CHECK_ROUTE_BALANCE")," "),o(2),f("disabled",!e.form.valid),o(),_(" ",h(18,18,"ACTION.SAVE")," ")}}function Bb(n,s){if(n&1&&(r(0,"mat-step",44),S(1,"translate"),v(2,Vb,19,20,"div",43),a()),n&2){let e=d();f("label",x(h(1,3,"TITLE.Check_validity"))),o(2),b(e.formInfo.submitButtonEnabled?2:-1)}}function Fb(n,s){if(n&1){let e=P();r(0,"div",43)(1,"button",97),I("click",function(){m(e);let t=d(2);return u(t.onActionBackToParent())}),c(2),S(3,"translate"),a(),r(4,"button",101),c(5),S(6,"translate"),a(),r(7,"button",98),c(8),S(9,"translate"),a(),r(10,"button",99),c(11),S(12,"translate"),a()()}if(n&2){d(2);let e=R(13);o(2),_(" ",h(3,6,"ACTION.BACK")," "),o(3),_(" ",h(6,8,"ACTION.BEFOR")," "),o(2),f("disabled",!e.form.valid),o(),_(" ",h(9,10,"ACTION.NEXT")," "),o(2),f("disabled",!e.form.valid),o(),_(" ",h(12,12,"ACTION.SAVE")," ")}}function Ob(n,s){if(n&1&&(r(0,"mat-step",44),S(1,"translate"),v(2,Fb,13,14,"div",43),a()),n&2){let e=d();f("label",Nt(" ",h(1,3,"TITLE.Variables_for_sending_voice_messagesy"))),o(2),b(e.formInfo.submitButtonEnabled?2:-1)}}function Nb(n,s){if(n&1){let e=P();r(0,"div",43)(1,"button",97),I("click",function(){m(e);let t=d(2);return u(t.onActionBackToParent())}),c(2),S(3,"translate"),a(),r(4,"button",101),c(5),S(6,"translate"),a(),r(7,"button",99),c(8),S(9,"translate"),a()()}if(n&2){d(2);let e=R(13);o(2),_(" ",h(3,4,"ACTION.BACK")," "),o(3),_(" ",h(6,6,"ACTION.BEFOR")," "),o(2),f("disabled",!e.form.valid),o(),_(" ",h(9,8,"ACTION.SAVE")," ")}}function Gb(n,s){if(n&1&&(r(0,"mat-step",44),S(1,"translate"),v(2,Nb,10,10,"div",43),a()),n&2){let e=d();f("label",x(h(1,3,"TITLE.Error_variables"))),o(2),b(e.formInfo.submitButtonEnabled?2:-1)}}function Hb(n,s){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function Wb(n,s){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function qb(n,s){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}function jb(n,s){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}var gr=class gr extends dt{constructor(e,i,t,l,C,p,k,Y){super(i,new Yt,l,Y);this.coreEnumService=e;this.dataProviderSourcePathService=i;this.cmsToastrService=t;this.publicHelper=l;this.router=C;this.cdr=p;this.activatedRoute=k;this.translate=Y;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.complatedView=!1;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ot;this.dataModel=new ja;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.activatedRoute.snapshot.paramMap.get("id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("id")),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.router.navigate(["/data-provider/main/source-path/list"]);return}}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourcePathService.setAccessLoad(),this.dataProviderSourcePathService.setAccessDataType(Re.Editor),this.dataProviderSourcePathService.ServiceGetOneWithJsonFormatter(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.item.perriodStartWorkTime?i.item.perriodStartWorkTime=i.item.perriodStartWorkTime.substring(0,i.item.perriodStartWorkTime.indexOf(":",i.item.perriodStartWorkTime.indexOf(":")+1)):i.item.perriodStartWorkTime="",i.item.perriodEndWorkTime?i.item.perriodEndWorkTime=i.item.perriodEndWorkTime.substring(0,i.item.perriodEndWorkTime.indexOf(":",i.item.perriodEndWorkTime.indexOf(":")+1)):i.item.perriodEndWorkTime="",this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataProviderSourcePathService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonGetToken(){let e=this.constructor.name+"GetToken";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)})}onActionButtonGetBalance(){let e=this.constructor.name+"GetBalance";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)})}onActionSelectorSelectlinkSourceCompanyId(e){if(!e||e.id.length<=0){this.translate.get("MESSAGE.Information_application_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkSourceCompanyId=e.id}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/data-provider/main/source-path/list"])}onActionSelectSource(e){this.dataModel.linkPublicConfigId=null,e&&e.id?.length>0&&(this.dataModel.linkPublicConfigId=e.id)}onFormSubmit(){if(this.formGroup.valid){if(!this.dataModel.linkSourceCompanyId||this.dataModel.linkSourceCompanyId.length==0){this.translate.get("MESSAGE.Service_company_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}if(!this.dataModel.linkPublicConfigId||this.dataModel.linkPublicConfigId.length==0){this.translate.get("MESSAGE.Service_type_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.formInfo.submitButtonEnabled=!1,this.DataEditContent()}}onFormCancel(){this.router.navigate(["/data-provider/main/source-path/list"])}};gr.\u0275fac=function(i){return new(i||gr)(M(ne),M(ei),M(G),M(H),M(Ue),M(N),M(Bt),M(O))},gr.\u0275cmp=L({type:gr,selectors:[["app-data-provider-source-path-edit"]],viewQuery:function(i,t){if(i&1&&U(Uv,5),i&2){let l;Q(l=z())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:135,vars:123,consts:[["vform","ngForm"],["stepper",""],["Description",""],["apiSendMessageAddTextFirst",""],["apiSendMessageAddTextEnd",""],["sendMessageAddTextFirst",""],["sendMessageAddTextEnd",""],["StatusOutOfServiceExpire",""],["StatusNotStableExpire",""],["Title",""],["ApiIdentity",""],["ApiMinPathNeedToCheck",""],["ApiReceiveKey",""],["ApiAbilityLengthMinToSend",""],["ApiAbilityLengthMaxToSend",""],["Priority",""],["MaxProcessFlowAmount",""],["MinProcessFlowAmount",""],["FixFeeProcessFlowAmount",""],["PercentFeeProcessFlowAmount",""],["PerriodStartWorkTime",""],["PerriodEndWorkTime",""],["StatusOutOfServiceMonitorApiChar",""],["StatusNotStableCount",""],["StatusNotStableCountLimit",""],["StatusNotStableRunForMin",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.memo",1,"color-highlight"],["matInput","","name","dataModel.memo","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.memo",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["state","seo",3,"label"],[3,"jsonValueChange","formGroup","jsonValue","propertiesInfos"],[1,"ntk-button-row"],[1,"d-flex","mb-3"],["for","dataModel.apiSendMessageAddTextFirst",1,"color-highlight"],["matInput","","name","dataModel.apiSendMessageAddTextFirst","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.apiSendMessageAddTextFirst",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.apiSendMessageAddTextEnd",1,"color-highlight"],["matInput","","name","dataModel.apiSendMessageAddTextEnd","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.apiSendMessageAddTextEnd",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.sendMessageAddTextFirst",1,"color-highlight"],["matInput","","name","dataModel.sendMessageAddTextFirst","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.sendMessageAddTextFirst",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.sendMessageAddTextEnd",1,"color-highlight"],["matInput","","name","dataModel.sendMessageAddTextEnd","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.sendMessageAddTextEnd",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"divider","mt-3","mb-3"],["for","dataModel.statusOutOfServiceExpire",1,"color-highlight"],["matInput","","name","dataModel.statusOutOfServiceExpire","type","text","id","dataModel.statusOutOfServiceExpire",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["for","dataModel.statusNotStableExpire",1,"color-highlight"],["matInput","","name","dataModel.statusNotStableExpire","type","text","id","dataModel.statusNotStableExpire",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.apiIdentity",1,"color-highlight"],["matInput","","name","dataModel.apiIdentity","type","number","placeholder","1","id","dataModel.apiIdentity",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.apiMinPathNeedToCheck",1,"color-highlight"],["matInput","","name","dataModel.apiMinPathNeedToCheck","type","number","placeholder","1","id","dataModel.apiMinPathNeedToCheck",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.apiReceiveKey",1,"color-highlight"],["matInput","","name","dataModel.apiReceiveKey","type","text","placeholder","1","id","dataModel.apiReceiveKey",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.apiAbilityLengthMinToSend",1,"color-highlight"],["matInput","","name","dataModel.apiAbilityLengthMinToSend","type","number","placeholder","1","id","dataModel.apiAbilityLengthMinToSend",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.apiAbilityLengthMaxToSend",1,"color-highlight"],["matInput","","name","dataModel.apiAbilityLengthMaxToSend","type","number","placeholder","1","id","dataModel.apiAbilityLengthMaxToSend",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.priority",1,"color-highlight"],["matInput","","name","dataModel.priority","type","number","placeholder","1","id","dataModel.priority",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.maxProcessFlowAmount",1,"color-highlight"],["matInput","","name","dataModel.maxProcessFlowAmount","type","number","placeholder","1","id","dataModel.maxProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.minProcessFlowAmount",1,"color-highlight"],["matInput","","name","dataModel.minProcessFlowAmount","type","number","placeholder","Min Transaction Amount","id","dataModel.minProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.fixFeeProcessFlowAmount",1,"color-highlight"],["matInput","","name","dataModel.fixFeeProcessFlowAmount","type","number","placeholder","Max Transaction Amount","id","dataModel.fixFeeProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.percentFeeProcessFlowAmount",1,"color-highlight"],["matInput","","name","dataModel.percentFeeProcessFlowAmount","type","number","placeholder","Percent Fee Transaction Amount","id","dataModel.percentFeeProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.perriodStartWorkTime",1,"color-highlight"],["matInput","","name","dataModel.perriodStartWorkTime","id","dataModel.perriodStartWorkTime",1,"form-control","validate-name",3,"ngModelChange","ngxTimepicker","ngModel","format"],["touchUi","",1,"timepicker"],["for","dataModel.perriodEndWorkTime",1,"color-highlight"],["matInput","","name","dataModel.perriodEndWorkTime","type","number","id","dataModel.perriodEndWorkTime",1,"form-control","validate-name",3,"ngModelChange","ngxTimepicker","ngModel","format"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-yellow",3,"click"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],[1,"pt-1"],["data-trigger-switch","dataModel.apiSendMessageIsOn",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.apiSendMessageIsOn","name","dataModel.apiSendMessageIsOn",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.apiSendMessageIsOn",1,"custom-control-label"],["data-trigger-switch","dataModel.apiAbilitySendUnicodeMessage",1,"font-600","font-14"],["type","checkbox","id","dataModel.apiAbilitySendUnicodeMessage","name","dataModel.apiAbilitySendUnicodeMessage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.apiAbilitySendUnicodeMessage",1,"custom-control-label"],["data-trigger-switch","dataModel.apiAbilitySendNormalMessage",1,"font-600","font-14"],["type","checkbox","id","dataModel.apiAbilitySendNormalMessage","name","dataModel.apiAbilitySendNormalMessage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.apiAbilitySendNormalMessage",1,"custom-control-label"],["data-trigger-switch","dataModel.apiAllowSupersede",1,"font-600","font-14"],["type","checkbox","id","dataModel.apiAllowSupersede","name","dataModel.apiAllowSupersede",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.apiAllowSupersede",1,"custom-control-label"],["data-trigger-switch","dataModel.apiAbilityUseWebservice",1,"font-600","font-14"],["type","checkbox","id","dataModel.apiAbilityUseWebservice","name","dataModel.apiAbilityUseWebservice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.apiAbilityUseWebservice",1,"custom-control-label"],["data-trigger-switch","dataModel.apiAbilityUseInside",1,"font-600","font-14"],["type","checkbox","id","dataModel.apiAbilityUseInside","name","dataModel.apiAbilityUseInside",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.apiAbilityUseInside",1,"custom-control-label"],["data-trigger-switch","dataModel.serverDeliveryCostBase",1,"font-600","font-14"],["type","checkbox","id","dataModel.serverDeliveryCostBase","name","dataModel.serverDeliveryCostBase",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.serverDeliveryCostBase",1,"custom-control-label"],["for","dataModel.statusOutOfServiceMonitorApiChar",1,"color-highlight"],["matInput","","name","dataModel.statusOutOfServiceMonitorApiChar","type","number","placeholder","1","id","dataModel.statusOutOfServiceMonitorApiChar",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","dataModel.statusOutOfServiceActive",1,"font-600","font-14"],["type","checkbox","id","dataModel.statusOutOfServiceActive","name","dataModel.statusOutOfServiceActive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.statusOutOfServiceActive",1,"custom-control-label"],["data-trigger-switch","dataModel.statusNotStableActive",1,"font-600","font-14"],["type","checkbox","id","dataModel.statusNotStableActive","name","dataModel.statusNotStableActive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.statusNotStableActive",1,"custom-control-label"],["for","dataModel.statusNotStableCount",1,"color-highlight"],["matInput","","name","dataModel.statusNotStableCount","type","number","placeholder","1","id","dataModel.statusNotStableCount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.statusNotStableCountLimit",1,"color-highlight"],["matInput","","name","dataModel.statusNotStableCountLimit","type","number","placeholder","1","id","dataModel.statusNotStableCountLimit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.statusNotStableRunForMin",1,"color-highlight"],["matInput","","name","dataModel.statusNotStableRunForMin","type","number","placeholder","1","id","dataModel.statusNotStableRunForMin",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"]],template:function(i,t){if(i&1){let l=P();r(0,"div",26),g(1,"app-progress-spinner",27),r(2,"div",28)(3,"p",29),c(4),a(),r(5,"h4"),c(6),S(7,"translate"),a(),r(8,"p"),c(9),S(10,"translate"),a(),g(11,"app-cms-form-result-message",30),r(12,"form",31,0),I("ngSubmit",function(){return m(l),u(t.onFormSubmit())}),r(14,"mat-vertical-stepper",32,1),I("selectionChange",function(p){m(l);let k=R(15);return u(t.onStepClick(p,k))}),r(16,"mat-step",33),S(17,"translate"),v(18,Qv,1,5,"app-cms-enum-record-status-selector",34),v(19,Xv,10,9,"div",35),r(20,"app-data-provider-source-public-config-selector",36),S(21,"translate"),I("optionChange",function(p){return m(l),u(t.onActionSelectSource(p))}),a(),r(22,"app-data-provider-source-company-selector",37),S(23,"translate"),I("optionChange",function(p){return m(l),u(t.onActionSelectorSelectlinkSourceCompanyId(p))}),a(),v(24,Yv,5,3,"div",35),v(25,Zv,5,3,"div",35),v(26,$v,5,3,"div",35),v(27,eb,5,3,"div",35),v(28,tb,5,3,"div",35),v(29,ib,5,3,"div",35),v(30,nb,5,3,"div",35),v(31,ob,5,3,"div",35),v(32,rb,5,3,"div",35),v(33,ab,5,3,"div",35),v(34,lb,7,5,"div",38),v(35,sb,7,5,"div",38),r(36,"div",35)(37,"label",39),c(38),a(),r(39,"textarea",40,2),D("ngModelChange",function(p){return m(l),w(t.dataModel.description,p)||(t.dataModel.description=p),u(p)}),a(),r(41,"em"),c(42),a(),v(43,db,5,3,"mat-error"),a(),r(44,"div",35)(45,"label",41),c(46),a(),r(47,"textarea",42),D("ngModelChange",function(p){return m(l),w(t.dataModel.memo,p)||(t.dataModel.memo=p),u(p)}),c(48,"            "),a()(),v(49,cb,10,11,"div",43),a(),r(50,"mat-step",44),S(51,"translate"),r(52,"p"),c(53),S(54,"translate"),a(),r(55,"dynamic-form-builder-cms",45),D("jsonValueChange",function(p){return m(l),w(t.dataModel.privateConfigJsonValues,p)||(t.dataModel.privateConfigJsonValues=p),u(p)}),a(),v(56,pb,20,20,"div",46),a(),r(57,"mat-step",44),S(58,"translate"),r(59,"p"),c(60),S(61,"translate"),a(),v(62,mb,8,2,"div",47),r(63,"div",35)(64,"label",48),c(65),a(),r(66,"textarea",49,3),D("ngModelChange",function(p){return m(l),w(t.dataModel.apiSendMessageAddTextFirst,p)||(t.dataModel.apiSendMessageAddTextFirst=p),u(p)}),a(),r(68,"em"),c(69),a(),v(70,ub,5,3,"mat-error"),a(),r(71,"div",35)(72,"label",50),c(73),a(),r(74,"textarea",51,4),D("ngModelChange",function(p){return m(l),w(t.dataModel.apiSendMessageAddTextEnd,p)||(t.dataModel.apiSendMessageAddTextEnd=p),u(p)}),a(),r(76,"em"),c(77),a(),v(78,fb,5,3,"mat-error"),a(),r(79,"div",35)(80,"label",52),c(81),a(),r(82,"textarea",53,5),D("ngModelChange",function(p){return m(l),w(t.dataModel.sendMessageAddTextFirst,p)||(t.dataModel.sendMessageAddTextFirst=p),u(p)}),a(),r(84,"em"),c(85),a(),v(86,Sb,5,3,"mat-error"),a(),r(87,"div",35)(88,"label",54),c(89),a(),r(90,"textarea",55,6),D("ngModelChange",function(p){return m(l),w(t.dataModel.sendMessageAddTextEnd,p)||(t.dataModel.sendMessageAddTextEnd=p),u(p)}),a(),r(92,"em"),c(93),a(),v(94,hb,5,3,"mat-error"),a(),v(95,Cb,8,2,"div",47),v(96,_b,8,2,"div",47),v(97,gb,8,2,"div",47),v(98,vb,8,2,"div",47),v(99,bb,8,2,"div",47),v(100,Mb,13,14,"div",43),a(),v(101,Pb,6,8,"mat-step",44),r(102,"mat-step",44),S(103,"translate"),v(104,Eb,8,2,"div",47),g(105,"div",56),v(106,wb,5,3,"div",35),v(107,Db,8,2,"div",47),r(108,"div",38)(109,"label",57),c(110),a(),r(111,"input",58),D("ngModelChange",function(p){return m(l),w(t.dataModel.statusOutOfServiceExpire,p)||(t.dataModel.statusOutOfServiceExpire=p),u(p)}),a(),g(112,"mat-datepicker-toggle",59)(113,"mat-datepicker",60,7),a(),v(115,yb,8,2,"div",47),r(116,"div",38)(117,"label",61),c(118),a(),r(119,"input",62),D("ngModelChange",function(p){return m(l),w(t.dataModel.statusNotStableExpire,p)||(t.dataModel.statusNotStableExpire=p),u(p)}),a(),g(120,"mat-datepicker-toggle",59)(121,"mat-datepicker",60,8),a(),v(123,Tb,5,3,"div",35),v(124,Ab,5,3,"div",35),v(125,xb,5,3,"div",35),v(126,Rb,13,14,"div",43),a(),v(127,Lb,3,5,"mat-step",44),v(128,Bb,3,5,"mat-step",44),v(129,Ob,3,5,"mat-step",44),v(130,Gb,3,5,"mat-step",44),V(131,Hb,2,0,"ng-template",63)(132,Wb,2,0,"ng-template",64)(133,qb,2,0,"ng-template",65)(134,jb,2,0,"ng-template",66),a()()()()}if(i&2){let l=R(13),C=R(40),p=R(67),k=R(75),Y=R(83),ke=R(91),Ke=R(114),We=R(122);o(),f("optionsInfoAreaId",t.constructorInfoAreaId),o(3),_(" ",t.formInfo.formTitle," "),o(2),y(h(7,103,"TITLE.ROUTE_SETTINGS")),o(3),_(" ",h(10,105,"TITLE.ROUTE_SETTINGS_DESCRIPTION")," "),o(2),f("formInfo",t.formInfo),o(5),f("label",x(h(17,107,"TITLE.REQUIRED_INFORMATION"))),o(2),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?18:-1),o(),b(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?19:-1),o(),f("optionDisabled",!(t.fieldsInfo.linkPublicConfigId!=null&&t.fieldsInfo.linkPublicConfigId.accessEditField))("optionSelectForce",t.dataModel.linkPublicConfigId)("optionPlaceholder",h(21,109,"TITLE.Route_Type")),o(2),f("optionSelectForce",t.dataModel.linkSourceCompanyId)("optionPlaceholder",h(23,111,"TITLE.Service_Company")),o(2),b(t.fieldsInfo.apiIdentity!=null&&t.fieldsInfo.apiIdentity.accessWatchField?24:-1),o(),b(t.fieldsInfo.apiMinPathNeedToCheck!=null&&t.fieldsInfo.apiMinPathNeedToCheck.accessWatchField?25:-1),o(),b(t.fieldsInfo.apiReceiveKey!=null&&t.fieldsInfo.apiReceiveKey.accessWatchField?26:-1),o(),b(t.fieldsInfo.apiAbilityLengthMinToSend!=null&&t.fieldsInfo.apiAbilityLengthMinToSend.accessWatchField?27:-1),o(),b(t.fieldsInfo.apiAbilityLengthMaxToSend!=null&&t.fieldsInfo.apiAbilityLengthMaxToSend.accessWatchField?28:-1),o(),b(t.fieldsInfo.priority!=null&&t.fieldsInfo.priority.accessWatchField?29:-1),o(),b(t.fieldsInfo.maxProcessFlowAmount!=null&&t.fieldsInfo.maxProcessFlowAmount.accessWatchField?30:-1),o(),b(t.fieldsInfo.minProcessFlowAmount!=null&&t.fieldsInfo.minProcessFlowAmount.accessWatchField?31:-1),o(),b(t.fieldsInfo.fixFeeProcessFlowAmount!=null&&t.fieldsInfo.fixFeeProcessFlowAmount.accessWatchField?32:-1),o(),b(t.fieldsInfo.percentFeeProcessFlowAmount!=null&&t.fieldsInfo.percentFeeProcessFlowAmount.accessWatchField?33:-1),o(),b(t.fieldsInfo.perriodStartWorkTime!=null&&t.fieldsInfo.perriodStartWorkTime.accessWatchField?34:-1),o(),b(t.fieldsInfo.perriodEndWorkTime!=null&&t.fieldsInfo.perriodEndWorkTime.accessWatchField?35:-1),o(3),y(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),f("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),E("ngModel",t.dataModel.description),o(3),_("",C.value.length," / 500"),o(),b(C.errors!=null&&C.errors.required?43:-1),o(3),y(t.fieldsInfo.memo==null?null:t.fieldsInfo.memo.fieldTitle),o(),f("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),E("ngModel",t.dataModel.memo),o(2),b(t.formInfo.submitButtonEnabled?49:-1),o(),f("label",x(h(51,113,"TITLE.Dispatch_variables"))),o(3),y(h(54,115,"TITLE.Port_settings")),o(2),f("formGroup",l.form),E("jsonValue",t.dataModel.privateConfigJsonValues),f("propertiesInfos",t.dataModel.privateConfigJsonFormatter),o(),b(t.formInfo.submitButtonEnabled?56:-1),o(),f("label",x(h(58,117,"TITLE.Api_path_send_variables"))),o(3),y(h(61,119,"TITLE.Set_acess")),o(2),b(t.fieldsInfo.apiSendMessageIsOn!=null&&t.fieldsInfo.apiSendMessageIsOn.accessWatchField?62:-1),o(3),y(t.fieldsInfo.apiSendMessageAddTextFirst==null?null:t.fieldsInfo.apiSendMessageAddTextFirst.fieldTitle),o(),f("placeholder",x(t.fieldsInfo.apiSendMessageAddTextFirst==null?null:t.fieldsInfo.apiSendMessageAddTextFirst.fieldTitle)),E("ngModel",t.dataModel.apiSendMessageAddTextFirst),o(3),_("",p.value.length," / 500"),o(),b(p.errors!=null&&p.errors.required?70:-1),o(3),y(t.fieldsInfo.apiSendMessageAddTextEnd==null?null:t.fieldsInfo.apiSendMessageAddTextEnd.fieldTitle),o(),f("placeholder",x(t.fieldsInfo.apiSendMessageAddTextEnd==null?null:t.fieldsInfo.apiSendMessageAddTextEnd.fieldTitle)),E("ngModel",t.dataModel.apiSendMessageAddTextEnd),o(3),_("",k.value.length," / 500"),o(),b(k.errors!=null&&k.errors.required?78:-1),o(3),y(t.fieldsInfo.sendMessageAddTextFirst==null?null:t.fieldsInfo.sendMessageAddTextFirst.fieldTitle),o(),f("placeholder",x(t.fieldsInfo.sendMessageAddTextFirst==null?null:t.fieldsInfo.sendMessageAddTextFirst.fieldTitle)),E("ngModel",t.dataModel.sendMessageAddTextFirst),o(3),_("",Y.value.length," / 500"),o(),b(Y.errors!=null&&Y.errors.required?86:-1),o(3),y(t.fieldsInfo.sendMessageAddTextEnd==null?null:t.fieldsInfo.sendMessageAddTextEnd.fieldTitle),o(),f("placeholder",x(t.fieldsInfo.sendMessageAddTextEnd==null?null:t.fieldsInfo.sendMessageAddTextEnd.fieldTitle)),E("ngModel",t.dataModel.sendMessageAddTextEnd),o(3),_("",ke.value.length," / 500"),o(),b(ke.errors!=null&&ke.errors.required?94:-1),o(),b(t.fieldsInfo.apiAbilitySendUnicodeMessage!=null&&t.fieldsInfo.apiAbilitySendUnicodeMessage.accessWatchField?95:-1),o(),b(t.fieldsInfo.apiAbilitySendNormalMessage!=null&&t.fieldsInfo.apiAbilitySendNormalMessage.accessWatchField?96:-1),o(),b(t.fieldsInfo.apiAllowSupersede!=null&&t.fieldsInfo.apiAllowSupersede.accessWatchField?97:-1),o(),b(t.fieldsInfo.apiAbilityUseWebservice!=null&&t.fieldsInfo.apiAbilityUseWebservice.accessWatchField?98:-1),o(),b(t.fieldsInfo.apiAbilityUseInside!=null&&t.fieldsInfo.apiAbilityUseInside.accessWatchField?99:-1),o(),b(t.formInfo.submitButtonEnabled?100:-1),o(),b(t.complatedView?101:-1),o(),f("label",x(h(103,121,"TITLE.Credit_return_status"))),o(2),b(t.fieldsInfo.serverDeliveryCostBase!=null&&t.fieldsInfo.serverDeliveryCostBase.accessWatchField?104:-1),o(2),b(t.fieldsInfo.statusOutOfServiceMonitorApiChar!=null&&t.fieldsInfo.statusOutOfServiceMonitorApiChar.accessWatchField?106:-1),o(),b(t.fieldsInfo.statusOutOfServiceActive!=null&&t.fieldsInfo.statusOutOfServiceActive.accessWatchField?107:-1),o(3),y(t.fieldsInfo.statusOutOfServiceExpire==null?null:t.fieldsInfo.statusOutOfServiceExpire.fieldTitle),o(),f("matDatepicker",Ke),E("ngModel",t.dataModel.statusOutOfServiceExpire),o(),f("for",Ke),o(),f("calendarHeaderComponent",t.datapickerHeader),o(2),b(t.fieldsInfo.apiAbilityUseInside!=null&&t.fieldsInfo.apiAbilityUseInside.accessWatchField?115:-1),o(3),y(t.fieldsInfo.statusNotStableExpire==null?null:t.fieldsInfo.statusNotStableExpire.fieldTitle),o(),f("matDatepicker",We),E("ngModel",t.dataModel.statusNotStableExpire),o(),f("for",We),o(),f("calendarHeaderComponent",t.datapickerHeader),o(2),b(t.fieldsInfo.statusNotStableCount!=null&&t.fieldsInfo.statusNotStableCount.accessWatchField?123:-1),o(),b(t.fieldsInfo.statusNotStableCountLimit!=null&&t.fieldsInfo.statusNotStableCountLimit.accessWatchField?124:-1),o(),b(t.fieldsInfo.statusNotStableRunForMin!=null&&t.fieldsInfo.statusNotStableRunForMin.accessWatchField?125:-1),o(),b(t.formInfo.submitButtonEnabled?126:-1),o(),b(t.complatedView?127:-1),o(),b(t.complatedView?128:-1),o(),b(t.complatedView?129:-1),o(),b(t.complatedView?130:-1)}},dependencies:[_e,ee,Ii,Mi,te,he,Ie,Pe,Ee,ce,Ce,kr,ji,Ui,Qi,Fe,wi,je,K,dl,cl,pl,ml,sl,ve,W,fe,Tl,zt,qr,_l,gl,vl,nr,or,B],encapsulation:2});var Da=gr;var Yl=[{path:"",component:yo,data:{title:"ROUTE.DATAPROVIDER.MAIN"},children:[{path:"client",component:wo,data:{title:"ROUTE.DATAPROVIDER.CLIENT"}},{path:"client-charge/:LinkClientId",component:Ea,data:{title:"ROUTE.DATAPROVIDER.CLIENTCHARGE"}},{path:"source",component:kn,data:{title:"ROUTE.DATAPROVIDER.SOURCE"}},{path:"source/list/LinkSourceCompanyId/:LinkSourceCompanyId",component:kn,data:{title:"ROUTE.DATAPROVIDER.SOURCE"}},{path:"source-company",component:Zo,data:{title:"ROUTE.DATAPROVIDER.SOURCECOMPANY"}},{path:"source-public-config",component:cr,data:{title:"ROUTE.DATAPROVIDER.SOURCEPUBLICCONFIG"}},{path:"source-path",component:Sn,data:{title:"ROUTE.DATAPROVIDER.SOURCEPATH"}},{path:"source-path/list",component:Sn,data:{title:"ROUTE.DATAPROVIDER.SOURCEPATH"}},{path:"source-path/list/LinkCompanyId/:LinkCompanyId",component:Sn,data:{title:"ROUTE.DATAPROVIDER.SOURCEPATH"}},{path:"source-path/list/LinkPublicConfigId/:LinkPublicConfigId",component:Sn,data:{title:"ROUTE.DATAPROVIDER.SOURCEPATH"}},{path:"source-path/list/LinkSiteId/:LinkSiteId",component:Sn,data:{title:"ROUTE.DATAPROVIDER.SOURCEPATH"}},{path:"source-path/edit/:id",component:Da,data:{title:"ROUTE.DATAPROVIDER.SOURCEPATH"}},{path:"source-path-pagination",component:ir,data:{title:"ROUTE.DATAPROVIDER.SOURCEPATH"}},{path:"client-application",component:ln,data:{title:"ROUTE.DATAPROVIDER.CLIENTAPPLICATION"}},{path:"client-application/LinkUserId/:LinkUserId",component:ln,data:{title:"ROUTE.DATAPROVIDER.CLIENTAPPLICATION"}},{path:"client-application/LinkSiteId/:LinkSiteId",component:ln,data:{title:"ROUTE.DATAPROVIDER.CLIENTAPPLICATION"}},{path:"client-application-permission",component:an,data:{title:"ROUTE.DATAPROVIDER.CLIENTAPPLICATIONPERMISSION"}},{path:"client-application-permission/LinkClientApplicationId/:LinkClientApplicationId",component:an,data:{title:"ROUTE.DATAPROVIDER.CLIENTAPPLICATIONPERMISSION"}},{path:"client-application-permission/LinkSourcePathId/:LinkSourcePathId",component:an,data:{title:"ROUTE.DATAPROVIDER.CLIENTAPPLICATIONPERMISSION"}},{path:"plan-client",component:dn,data:{title:"ROUTE.DATAPROVIDER.PLANCLIENT"}},{path:"plan-client/LinkPlanId/:LinkPlanId",component:dn,data:{title:"ROUTE.DATAPROVIDER.PLANCLIENT"}},{path:"plan-client/LinkClientId/:LinkClientId",component:dn,data:{title:"ROUTE.DATAPROVIDER.PLANCLIENT"}},{path:"plan",component:yn,data:{title:"ROUTE.DATAPROVIDER.PLAN"}},{path:"plan/LinkPlanCategory/:LinkPlanCategory",component:yn,data:{title:"ROUTE.DATAPROVIDER.PLAN"}},{path:"plan-source",component:pn,data:{title:"ROUTE.DATAPROVIDER.PLANSOURCE"}},{path:"plan-source/LinkPlanId/:LinkPlanId",component:pn,data:{title:"ROUTE.DATAPROVIDER.PLANSOURCE"}},{path:"plan-source/LinkSourceId/:LinkSourceId",component:pn,data:{title:"ROUTE.DATAPROVIDER.PLANSOURCE"}},{path:"plan-price",component:En,data:{title:"ROUTE.DATAPROVIDER.PLANPRICE"}},{path:"plan-price/LinkPlanId/:LinkPlanId",component:En,data:{title:"ROUTE.DATAPROVIDER.PLANPRICE"}}]}];var Vn=class Vn{};Vn.\u0275fac=function(e){return new(e||Vn)},Vn.\u0275mod=yr({type:Vn}),Vn.\u0275inj=wr({imports:[Aa.forChild(window.innerWidth<1e3?Xl:Yl),Aa]});var ya=Vn;var Bn=class Bn{};Bn.\u0275fac=function(e){return new(e||Bn)},Bn.\u0275mod=yr({type:Bn}),Bn.\u0275inj=wr({providers:[Ga,ne,Ha,Qa,jt,Ni,Fi,gi,vi,Oi,bi,Ut,$t,ei,nn,Gi,Hi,Ot,Wa],imports:[Oa,ya,$a,el.withConfig({warnOnNgModelWithFormControl:"never"}),Il,xl,Bl,yl,ll,al,ul,hl,Dl,Za,Cl,Vl,bl]});var Zl=Bn;export{Zl as DataProviderMainModule};
