import{f as L}from"./chunk-HXH5Z4PQ.js";import{Qb as O,Rb as F,ia as H,ja as T,ka as D,ma as G,na as N}from"./chunk-OXCCWIF2.js";import{Bj as w,Ca as h,Fa as n,Gd as B,Ha as f,Jc as _,Mj as A,Nb as l,Oa as r,Ob as P,Pb as c,Sa as v,Wb as y,Ya as S,cc as k,da as u,dc as x,ea as g,ij as E,jb as d,kb as s,lb as o,mb as M,tb as I,vc as R,wb as b,yb as C}from"./chunk-SG3IEC2T.js";function $(m,t){if(m&1){let e=I();s(0,"div",2)(1,"mat-card",3)(2,"mat-card-header")(3,"mat-card-title"),l(4),o()(),M(5,"img",4),s(6,"mat-card-content")(7,"p",5),l(8),o()(),s(9,"mat-card-actions")(10,"button",6),b("click",function(){let p=u(e).$implicit,V=C();return g(V.onActionSelectBank(p))}),l(11),k(12,"translate"),o()()()()}if(m&2){let e=t.$implicit;n(4),P(e.title),n(),d("src",y(e.linkModuleFileLogoIdSrc),h),n(3),c(" ",e.title," "),n(3),c(" ",x(12,5,"ACTION.SELECT")," ")}}var a=class a{constructor(t,e,i,p){this.bankPaymentPrivateSiteConfigService=t;this.translate=e;this.cdr=i;this.publicHelper=p;this.id=++a.nextId;this.constructorInfoAreaId=this.constructor.name;this.optionMasterItem=!1;this.errorMessage="";this.optionChange=new f;this.dataModelSelect=new A;this.dataModelResult=new B;this.dataModel=new E;this.publicHelper.processService.cdr=this.cdr}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}ngOnInit(){this.DataGetAll()}DataGetAll(){if(this.optionMasterItem){let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.bankPaymentPrivateSiteConfigService.ServicePaymentGatewayCoreList().subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,!this.dataModelResult.listItems||this.dataModelResult.listItems.length==0?this.translate.get("TITLE.Payment_portal_is_not_active").subscribe(i=>{this.errorMessage=i}):this.dataModelResult.listItems&&this.dataModelResult.listItems.length==1&&this.onActionSelectBank(this.dataModelResult.listItems[0])):this.errorMessage=e.errorMessage,this.publicHelper.processService.processStop(t)},error:e=>{this.errorMessage=e,this.publicHelper.processService.processStop(t,!1)}})}else{let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.bankPaymentPrivateSiteConfigService.ServicePaymentGatewayList().subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,!this.dataModelResult.listItems||this.dataModelResult.listItems.length==0?this.translate.get("Payment_portal_is_not_active").subscribe(i=>{this.errorMessage=i}):this.dataModelResult.listItems&&this.dataModelResult.listItems.length==1&&this.onActionSelectBank(this.dataModelResult.listItems[0])):this.errorMessage=e.errorMessage,this.publicHelper.processService.processStop(t)},error:e=>{this.errorMessage=e,this.publicHelper.processService.processStop(t,!1)}})}}onActionSelectBank(t){this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect)}};a.nextId=0,a.\u0275fac=function(e){return new(e||a)(r(w),r(O),r(R),r(L))},a.\u0275cmp=v({type:a,selectors:[["app-cms-bankpayment-grid"]],inputs:{optionMasterItem:"optionMasterItem"},outputs:{optionChange:"optionChange"},standalone:!1,decls:3,vars:2,consts:[[1,"row"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[2,"max-width","200px"],[1,"rounded","mx-auto","d-block","mat-card-image",2,"width","95%","height","95%",3,"src"],[1,"d-flex","justify-content-center"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"]],template:function(e,i){e&1&&(s(0,"div",0),l(1),S(2,$,13,7,"div",1),o()),e&2&&(n(),c(" ",i.errorMessage," "),n(),d("ngForOf",i.dataModelResult.listItems))},dependencies:[_,H,G,D,N,T,F],encapsulation:2});var j=a;export{j as a};
