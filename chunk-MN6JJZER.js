import{a as Nt}from"./chunk-DN7QHPWJ.js";import{a as tn,b as nn}from"./chunk-DHBMWMGI.js";import{a as Ot}from"./chunk-TPPEO2FK.js";import{a as Bt}from"./chunk-HQZNNVP5.js";import{c as Ji,d as Zi,e as Xi,g as $i,h as en}from"./chunk-FCVOEZR2.js";import{a as Wt}from"./chunk-54S5FV75.js";import{a as Ft}from"./chunk-4YRZRDFJ.js";import{j as kt,k as Lt,l as Pt}from"./chunk-N57NPDBO.js";import{a as j,b as Yi}from"./chunk-PVCY3OZB.js";import{a as Vt}from"./chunk-K3XG45MP.js";import{a as Qi}from"./chunk-IMT6C7CU.js";import{a as Dt}from"./chunk-IXPEP4O3.js";import{a as zi}from"./chunk-NHABYHOC.js";import{a as Ki}from"./chunk-GZBNP6Y7.js";import{a as Ie}from"./chunk-KBQX27H2.js";import{a as q,d as ye}from"./chunk-TX227Y4U.js";import{a as Ui,b as qi,e as ji,f as N}from"./chunk-2DIZYDRP.js";import{$ as _t,$a as J,A as ft,Ab as yt,Bb as It,Cb as vt,Db as At,Eb as bt,Fb as Tt,Gb as wt,Hb as xt,Ib as Rt,J as K,K as he,Ka as Se,Kb as Ni,L as _e,La as Me,Lc as te,Ma as Mt,Oc as ie,Q as gt,Qc as B,Sc as Gi,Ub as Hi,V as xn,W as Ce,Wb as O,Xb as G,Y as ei,Z as ht,Za as nt,_ as Rn,a as xi,aa as Ct,ba as St,eb as ki,fb as Li,hc as Ee,ib as Pi,m as ze,n as z,nb as Vi,pb as Di,q as Q,qb as Wi,r as me,sa as kn,t as ue,tb as Fi,u as it,ua as Ln,ub as Oi,v as fe,va as Pn,vb as Bi,w as ge,xa as Vn,ya as Dn,za as Ri,zb as Et}from"./chunk-PZIDJ2FQ.js";import{$d as qe,Ab as m,Bb as Jt,Ca as P,Cb as qt,Dd as Ii,Eb as ne,F as ct,Fa as o,Fb as oe,Gb as ae,Gd as ut,Ha as Ne,Hd as $,Hn as je,I as Kt,In as fn,Jn as Tn,Kb as R,Lb as mt,Lc as ce,Ld as D,Ln as Ai,Mb as re,Md as ke,Mn as Ci,Oa as y,P as dt,Pb as d,Pd as ee,Q as pt,Qb as T,Rb as E,Rc as de,Sa as F,Sb as Le,Sn as et,Tc as pe,Ud as Z,Un as bi,Vb as v,Wa as X,Wb as A,Wn as Ye,Xb as b,Ya as V,Yb as x,Yd as $e,Yn as Ti,Zb as un,ac as le,bc as se,da as u,db as Ut,dn as vi,ea as f,en as We,fb as _,fc as S,fn as Fe,gb as C,gc as M,gn as Xt,ib as He,jb as Ge,kb as Ue,kg as Zt,lb as p,mb as l,mr as tt,nb as a,ob as h,p as Qt,q as st,re as Y,sb as k,so as wi,tb as L,to as $t,ub as Mi,ud as Ei,ue as bn,uo as wn,vb as w,wd as yi,yb as I,yc as H}from"./chunk-44NLGLKY.js";import{f as Si,i as De}from"./chunk-SEDBTTTN.js";var Wn=Si(Hi());var Qn=["tagInput"];function Kn(n,s){if(n&1){let t=w();l(0,"mat-chip",8),I("removed",function(){let e=u(t).$implicit,r=m();return f(r.remove(e))}),d(1),l(2,"button",9)(3,"mat-icon"),d(4,"cancel"),a()()()}if(n&2){let t=s.$implicit;o(),E(" ",t.display," ")}}function Jn(n,s){if(n&1&&(l(0,"mat-option",7),d(1),a()),n&2){let t=s.$implicit,i=m();p("value",t)("ngClass",i.optionCssClassSelectOption),o(),E(" ",t.display," ")}}var Ht=class Ht{constructor(s,t,i,e){this.service=s;this.cmsToastrService=t;this.publicHelper=i;this.translate=e;this.id=++Ht.nextId;this.constructorInfoAreaId=this.constructor.name;this.optionDisabled=!1;this.optionPlaceholder="+ Tag";this.optionLabel="";this.optionCssClassInputText="";this.optionCssClassSelectOption="";this.optionChange=new Ne;this.tagDataModel=[];this.tagLastDataModel=[];this.selectForceStatus=!0;this.separatorKeysCodes=[13];this.tagCtrl=new it("");this.addOnBlur=!0;this.filteredOptions=this.tagCtrl.valueChanges.pipe(dt(null),ct(400),pt(r=>this.filter(r||"")))}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}displayOption(s){return s&&s.virtual_Parent&&s.virtual_Parent.title.length>0&&s.virtual_Parent.virtual_Parent&&s.virtual_Parent.virtual_Parent.title.length>0&&s.virtual_Parent.virtual_Parent.virtual_Parent&&s.virtual_Parent.virtual_Parent.virtual_Parent.title.length>0?s.virtual_Parent.virtual_Parent.virtual_Parent.titleML+" > "+s.virtual_Parent.virtual_Parent.titleML+" > "+s.virtual_Parent.titleML+" > "+s.titleML:s&&s.virtual_Parent&&s.virtual_Parent.title.length>0&&s.virtual_Parent.virtual_Parent&&s.virtual_Parent.virtual_Parent.title.length>0?s.virtual_Parent.virtual_Parent.titleML+" > "+s.virtual_Parent.titleML+" > "+s.titleML:s&&s.virtual_Parent&&s.virtual_Parent.title.length>0?s.virtual_Parent.titleML+" > "+s.titleML:s?s.titleML:void 0}filter(s){let t=new ke;t.rowPerPage=20,t.accessLoad=!0;let i=new D;i.propertyName="title",i.value=s,i.searchType=Z.Contains,i.clauseType=ee.Or,t.filters.push(i),i=new D,i.propertyName="TitleResourceLanguage",i.value=s,i.searchType=Z.Contains,i.clauseType=ee.Or,t.filters.push(i),i=new D,i.propertyName="id",i.value=s,i.searchType=Z.Equal,i.clauseType=ee.Or,t.filters.push(i);let e=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(r=>{this.publicHelper.processService.processStart(e,r,this.constructorInfoAreaId)}),this.service.ServiceGetAll(t).pipe(st(r=>(this.tagLastDataModel=r.listItems.map(g=>({display:this.displayOption(g),value:g.id})),this.publicHelper.processService.processStop(e),this.tagLastDataModel)))}checkIndex(s){var t=0,i=-1;return this.tagDataModel.forEach(e=>{e.value==s&&(i=t),t++}),i}add(s){var t;s.value&&this.tagLastDataModel.forEach(i=>{(i.display==s.value||i.value+""==s.value)&&(t=i)}),t&&this.checkIndex(t.value)<0&&(this.tagDataModel.push(t),this.onActionChange()),s.chipInput.clear(),this.tagCtrl.setValue(null)}remove(s){let t=this.checkIndex(s.value);t>=0&&(this.tagDataModel.splice(t,1),this.onActionChange())}selected(s){let t=s.option.value;this.checkIndex(t.value)<0&&this.tagDataModel.push(t),this.tagInput.nativeElement.value="",this.tagCtrl.setValue(null),this.onActionChange()}onActionChange(){let s=[];this.tagDataModel.forEach(t=>{s.findIndex(i=>i==t.value)<0&&s.push(t.value)}),this.selectForceStatus=!1,this.optionChange.emit(s)}onActionSelectForce(s){if(!this.selectForceStatus||!s||s.length===0)return;let t=new ke;s.forEach(i=>{if(i>0){let e=new D;e.propertyName="id",e.value=i,e.clauseType=ee.Or,t.filters.push(e)}}),this.service.ServiceGetAll(t).subscribe({next:i=>{i.isSuccess?i.listItems.forEach(e=>{this.tagDataModel.findIndex(r=>r.value==e.id)<0&&this.tagDataModel.push({value:e.id,display:this.displayOption(e)})}):this.cmsToastrService.typeErrorGetAll(i.errorMessage)},error:i=>{this.cmsToastrService.typeErrorGetAll(i)}})}};Ht.nextId=0,Ht.\u0275fac=function(t){return new(t||Ht)(y(bn),y(B),y(N),y(O))},Ht.\u0275cmp=F({type:Ht,selectors:[["app-cms-location-autocomplete"]],viewQuery:function(t,i){if(t&1&&ne(Qn,5),t&2){let e;oe(e=ae())&&(i.tagInput=e.first)}},inputs:{optionDisabled:"optionDisabled",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionCssClassInputText:"optionCssClassInputText",optionCssClassSelectOption:"optionCssClassSelectOption",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,decls:14,vars:11,consts:[["chipList",""],["tagInput",""],["auto","matAutocomplete"],["appearance","fill",2,"width","100%"],["aria-label","tag selection",3,"disabled"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","formControl","ngClass","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionSelected"],[3,"value","ngClass"],[3,"removed"],["type","button","matChipRemove",""]],template:function(t,i){if(t&1){let e=w();l(0,"mat-form-field",3)(1,"mat-label"),d(2),a(),l(3,"mat-chip-grid",4,0),Ge(5,Kn,5,1,"mat-chip",null,He),l(7,"input",5,1),I("matChipInputTokenEnd",function(g){return u(e),f(i.add(g))}),a()(),l(9,"mat-autocomplete",6,2),I("optionSelected",function(g){return u(e),f(i.selected(g))}),Ge(11,Jn,2,3,"mat-option",7,He),S(13,"async"),a()()}if(t&2){let e=R(4),r=R(10);o(2),T(i.optionLabel),o(),p("disabled",i.optionDisabled),o(2),Ue(i.tagDataModel),o(2),p("placeholder"," + "+i.optionPlaceholder)("matChipInputAddOnBlur",i.addOnBlur)("formControl",i.tagCtrl)("ngClass",i.optionCssClassInputText)("matAutocomplete",r)("matChipInputFor",e)("matChipInputSeparatorKeyCodes",i.separatorKeysCodes),o(4),Ue(M(13,9,i.filteredOptions))}},dependencies:[ce,z,Q,ft,_t,gt,Ct,Pn,Vn,Dn,Ln,Rn,xn,nt,pe],encapsulation:2});var Pe=Ht;var Zn=["vform"],Xn=n=>({direction:n});function $n(n,s){if(n&1&&(h(0,"img",16),S(1,"cmsthumbnail")),n&2){let t=m();p("src",x(M(1,2,t.dataModel.linkMainImageIdSrc)),P)}}function eo(n,s){n&1&&h(0,"i",23)}function to(n,s){n&1&&h(0,"i",24)}function io(n,s){n&1&&(l(0,"mat-error"),d(1," Title is "),l(2,"strong"),d(3),S(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function no(n,s){n&1&&(l(0,"mat-error"),d(1," Description is "),l(2,"strong"),d(3),S(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function oo(n,s){if(n&1){let t=w();l(0,"div",17)(1,"label",39),d(2),S(3,"translate"),a(),l(4,"textarea",40,7),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.descriptionHidden,e)||(r.dataModel.descriptionHidden=e),f(e)}),d(6,"              "),a(),l(7,"em"),d(8),a()()}if(n&2){let t=R(5),i=m();o(2),T(M(3,5,"TITLE.Description_Hidden")),o(2),p("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),v("ngModel",i.dataModel.descriptionHidden),o(4),E("",t.value.length," / 500")}}function ao(n,s){if(n&1){let t=w();l(0,"app-cms-user-selector",41),S(1,"translate"),I("optionChange",function(e){u(t);let r=m();return f(r.onActionSelectorUser(e))}),a()}if(n&2){let t=m();p("optionDisabled",!(t.fieldsInfo.linkCmsUserId!=null&&t.fieldsInfo.linkCmsUserId.accessAddField))("optionSelectForce",t.dataModel.linkCmsUserId)("optionPlaceholder",M(1,3,"TITLE.USER"))}}function ro(n,s){n&1&&(l(0,"mat-error"),d(1," Address is "),l(2,"strong"),d(3),S(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function lo(n,s){if(n&1){let t=w();l(0,"div",36)(1,"div",42)(2,"h5",43),d(3),a()(),l(4,"div",44)(5,"div",45)(6,"input",46),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.accessWatchRowSite,e)||(r.dataModel.accessWatchRowSite=e),f(e)}),a(),h(7,"label",47),a()()()}if(n&2){let t=m();o(3),E(" ",t.fieldsInfo.accessWatchRowSite==null?null:t.fieldsInfo.accessWatchRowSite.fieldTitle," "),o(3),v("ngModel",t.dataModel.accessWatchRowSite)}}function so(n,s){if(n&1){let t=w();l(0,"div",36)(1,"div",42)(2,"h5",48),d(3),a()(),l(4,"div",44)(5,"div",45)(6,"input",49),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.accessWatchRowOtherAgency,e)||(r.dataModel.accessWatchRowOtherAgency=e),f(e)}),a(),h(7,"label",50),a()()()}if(n&2){let t=m();o(3),E(" ",t.fieldsInfo.accessWatchRowOtherAgency==null?null:t.fieldsInfo.accessWatchRowOtherAgency.fieldTitle," "),o(3),v("ngModel",t.dataModel.accessWatchRowOtherAgency)}}function co(n,s){if(n&1){let t=w();l(0,"div",36)(1,"div",42)(2,"h5",51),d(3),a()(),l(4,"div",44)(5,"div",45)(6,"input",52),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.accessWatchRowOtherAgent,e)||(r.dataModel.accessWatchRowOtherAgent=e),f(e)}),a(),h(7,"label",53),a()()()}if(n&2){let t=m();o(3),E(" ",t.fieldsInfo.accessWatchRowOtherAgent==null?null:t.fieldsInfo.accessWatchRowOtherAgent.fieldTitle," "),o(3),v("ngModel",t.dataModel.accessWatchRowOtherAgent)}}function po(n,s){if(n&1){let t=w();l(0,"div",36)(1,"div",42)(2,"h5",54),d(3),a()(),l(4,"div",44)(5,"div",45)(6,"input",55),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.accessAllowShareRowWatchOtherAgency,e)||(r.dataModel.accessAllowShareRowWatchOtherAgency=e),f(e)}),a(),h(7,"label",56),a()()()}if(n&2){let t=m();o(3),E(" ",t.fieldsInfo.accessAllowShareRowWatchOtherAgency==null?null:t.fieldsInfo.accessAllowShareRowWatchOtherAgency.fieldTitle," "),o(3),v("ngModel",t.dataModel.accessAllowShareRowWatchOtherAgency)}}function mo(n,s){if(n&1){let t=w();l(0,"div",36)(1,"div",42)(2,"h5",57),d(3),a()(),l(4,"div",44)(5,"div",45)(6,"input",58),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.accessAllowShareRowWatchOtherAgent,e)||(r.dataModel.accessAllowShareRowWatchOtherAgent=e),f(e)}),a(),h(7,"label",59),a()()()}if(n&2){let t=m();o(3),E(" ",t.fieldsInfo.accessAllowShareRowWatchOtherAgent==null?null:t.fieldsInfo.accessAllowShareRowWatchOtherAgent.fieldTitle," "),o(3),v("ngModel",t.dataModel.accessAllowShareRowWatchOtherAgent)}}function uo(n,s){if(n&1){let t=w();l(0,"div",36)(1,"div",42)(2,"h5",60),d(3),a()(),l(4,"div",44)(5,"div",45)(6,"input",61),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.notificationWorkAreaEstate,e)||(r.dataModel.notificationWorkAreaEstate=e),f(e)}),a(),h(7,"label",62),a()()()}if(n&2){let t=m();o(3),E(" ",t.fieldsInfo.notificationWorkAreaEstate==null?null:t.fieldsInfo.notificationWorkAreaEstate.fieldTitle," "),o(3),v("ngModel",t.dataModel.notificationWorkAreaEstate)}}function fo(n,s){if(n&1){let t=w();l(0,"div",36)(1,"div",42)(2,"h5",63),d(3),a()(),l(4,"div",44)(5,"div",45)(6,"input",64),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.notificationWorkAreaCustomerOrder,e)||(r.dataModel.notificationWorkAreaCustomerOrder=e),f(e)}),a(),h(7,"label",65),a()()()}if(n&2){let t=m();o(3),E(" ",t.fieldsInfo.notificationWorkAreaCustomerOrder==null?null:t.fieldsInfo.notificationWorkAreaCustomerOrder.fieldTitle," "),o(3),v("ngModel",t.dataModel.notificationWorkAreaCustomerOrder)}}function go(n,s){if(n&1){let t=w();l(0,"div",38)(1,"button",66),I("click",function(){u(t);let e=m();return f(e.onFormCancel())}),h(2,"i",67),d(3),S(4,"translate"),a(),l(5,"button",68),h(6,"i",69),d(7),S(8,"translate"),a()()}if(n&2){m();let t=R(10);o(3),E(" ",M(4,3,"ACTION.CANCEL")," "),o(2),p("disabled",!t.form.valid),o(2),E(" ",M(8,5,"ACTION.SAVE")," ")}}var ii=class ii extends Vt{constructor(t,i,e,r,g,c,W,U,Re,Ve){super(r,new We,c,Ve);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estateAccountAgencyService=r;this.cmsToastrService=g;this.publicHelper=c;this.cdr=W;this.cmsStoreService=U;this.tokenHelper=Re;this.translate=Ve;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.mapOptonCenter=new Dt;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new Zt;this.dataModelResult=new $;this.dataModel=new We;this.formInfo=new ye;this.fileManagerOpenForm=!1;this.viewMap=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.publicHelper.processService.processStart(t,"",this.constructorInfoAreaId),this.estateAccountAgencyService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}receiveMap(t=this.mapModel){t&&(this.mapModel=t,this.mapModel.on("click",i=>{let e=i.latlng.lat,r=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),e===this.dataModel.geolocationlatitude&&r===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=Wn.marker([e,r]).addTo(this.mapModel),this.dataModel.geolocationlatitude=e,this.dataModel.geolocationlongitude=r}))}receiveZoom(t){}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}onActionSelectorUser(t){this.dataModel.linkCmsUserId=null,t&&t.id>0&&(this.dataModel.linkCmsUserId=t.id)}onActionSelectorLocation(t){this.dataModel.linkLocationId=null,t&&t.id>0&&(this.dataModel.linkLocationId=t.id)}onActionSelectorLocationWorkArea(t){this.dataModel.linkLocationWorkAreaIds=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ii.\u0275fac=function(i){return new(i||ii)(y(Me),y(Se),y(Y),y(et),y(B),y(N),y(H),y(te),y(ie),y(O))},ii.\u0275cmp=F({type:ii,selectors:[["app-estate-account-agency-add"]],viewQuery:function(i,e){if(i&1&&ne(Zn,5),i&2){let r;oe(r=ae())&&(e.formGroup=r.first)}},standalone:!1,features:[X],decls:89,vars:93,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["DescriptionHidden",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","name","dataModel.mobileNumber","type","text","minlength","0","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],["id","main-map",3,"map$","zoom$","optonCenter"],[1,"form-actions"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"pt-1"],["data-trigger-switch","dataModel.accessWatchRowSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.accessWatchRowSite","name","dataModel.accessWatchRowSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowSite",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgency","name","dataModel.accessWatchRowOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgent","name","dataModel.accessWatchRowOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgency","name","dataModel.accessAllowShareRowWatchOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgent","name","dataModel.accessAllowShareRowWatchOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaEstate",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaEstate","name","dataModel.notificationWorkAreaEstate",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaEstate",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaCustomerOrder",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaCustomerOrder","name","dataModel.notificationWorkAreaCustomerOrder",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaCustomerOrder",1,"custom-control-label"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let r=w();l(0,"div",8),h(1,"app-progress-spinner",9),l(2,"div",10)(3,"p",11),d(4),a(),l(5,"p"),d(6),S(7,"translate"),a(),h(8,"app-cms-form-result-message",12),l(9,"form",13,0),I("ngSubmit",function(){return u(r),f(e.onFormSubmit())}),l(11,"div",14)(12,"a",15),S(13,"cmsthumbnail"),_(14,$n,2,4,"img",16),a()(),l(15,"div",17)(16,"label",18),d(17),S(18,"translate"),a(),l(19,"input",19,1),S(21,"translate"),b("ngModelChange",function(c){return u(r),A(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),f(c)}),I("click",function(){return u(r),f(e.fileManagerOpenForm=!0)}),a(),l(22,"cms-file-manager",20),S(23,"translate"),I("itemSelected",function(c){return u(r),f(e.onActionFileSelected(c))}),b("openFormChange",function(c){return u(r),A(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),f(c)}),a()(),l(24,"div",17)(25,"label",21),d(26),a(),l(27,"input",22,2),b("ngModelChange",function(c){return u(r),A(e.dataModel.title,c)||(e.dataModel.title=c),f(c)}),a(),_(29,eo,1,0,"i",23),_(30,to,1,0,"i",24),h(31,"em"),_(32,io,5,3,"mat-error"),a(),l(33,"div",17)(34,"label",25),d(35),a(),l(36,"textarea",26,3),b("ngModelChange",function(c){return u(r),A(e.dataModel.description,c)||(e.dataModel.description=c),f(c)}),d(38,"            "),a(),l(39,"em"),d(40),a(),_(41,no,5,3,"mat-error"),a(),_(42,oo,9,7,"div",17),_(43,ao,2,5,"app-cms-user-selector",27),l(44,"div",17)(45,"label",28),d(46),a(),l(47,"input",29,4),b("ngModelChange",function(c){return u(r),A(e.dataModel.phoneNumber,c)||(e.dataModel.phoneNumber=c),f(c)}),a(),l(49,"em"),d(50),a()(),l(51,"div",17)(52,"label",30),d(53),a(),l(54,"input",31,5),b("ngModelChange",function(c){return u(r),A(e.dataModel.mobileNumber,c)||(e.dataModel.mobileNumber=c),f(c)}),a(),l(56,"em"),d(57),a()(),l(58,"div",17)(59,"label",32),d(60),a(),l(61,"textarea",33,6),b("ngModelChange",function(c){return u(r),A(e.dataModel.address,c)||(e.dataModel.address=c),f(c)}),d(63,"                "),a(),l(64,"em"),d(65),a(),_(66,ro,5,3,"mat-error"),a(),l(67,"app-cms-location-selector",34),S(68,"translate"),I("optionChange",function(c){return u(r),f(e.onActionSelectorLocation(c))}),a(),h(69,"br"),d(70),S(71,"translate"),l(72,"app-cms-location-autocomplete",35),S(73,"translate"),I("optionChange",function(c){return u(r),f(e.onActionSelectorLocationWorkArea(c))}),a(),h(74,"hr"),_(75,lo,8,2,"div",36),_(76,so,8,2,"div",36),_(77,co,8,2,"div",36),_(78,po,8,2,"div",36),_(79,mo,8,2,"div",36),h(80,"hr"),_(81,uo,8,2,"div",36),_(82,fo,8,2,"div",36),h(83,"hr"),l(84,"p"),d(85),S(86,"translate"),a(),l(87,"app-cms-map",37),I("map$",function(c){return u(r),f(e.receiveMap(c))})("zoom$",function(c){return u(r),f(e.receiveZoom(c))}),a(),_(88,go,9,7,"div",38),a()()()}if(i&2){let r=R(28),g=R(37),c=R(48),W=R(55),U=R(62);o(),p("optionsInfoAreaId",e.constructorInfoAreaId),o(3),E(" ",e.formInfo.formTitle," "),o(2),E(" ",M(7,73,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),p("formInfo",e.formInfo),o(),p("ngStyle",se(91,Xn,e.tokenInfo.access.direction)),o(3),p("href",x(M(13,75,e.dataModel.linkMainImageIdSrc)),P),o(2),C((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?14:-1),o(3),T(M(18,77,"MESSAGE.Photo_of_estate_agency")),o(2),p("placeholder",x(M(21,79,"TITLE.Original_File_ID"))),v("ngModel",e.dataModel.linkMainImageId),o(3),p("language",e.appLanguage)("isPopup",!0)("openSelectFileDescription",M(23,81,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),v("openForm",e.fileManagerOpenForm),p("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(4),T(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),v("ngModel",e.dataModel.title),p("disabled",!(e.fieldsInfo.title!=null&&e.fieldsInfo.title.accessAddField)),o(2),C(r.value?-1:29),o(),C(r.value?30:-1),o(2),C(r.errors!=null&&r.errors.required?32:-1),o(3),T(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),v("ngModel",e.dataModel.description),p("disabled",!(e.fieldsInfo.description!=null&&e.fieldsInfo.description.accessAddField)),o(4),E("",g.value.length," / 500"),o(),C(g.errors!=null&&g.errors.required?41:-1),o(),C(e.fieldsInfo.descriptionHidden!=null&&e.fieldsInfo.descriptionHidden.accessWatchField?42:-1),o(),C(e.tokenHelper.isAdminSite?43:-1),o(3),T(e.fieldsInfo.phoneNumber==null?null:e.fieldsInfo.phoneNumber.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.phoneNumber==null?null:e.fieldsInfo.phoneNumber.fieldTitle)),v("ngModel",e.dataModel.phoneNumber),p("disabled",!(e.fieldsInfo.phoneNumber!=null&&e.fieldsInfo.phoneNumber.accessAddField)),o(3),E("",c.value.length," / 64"),o(3),T(e.fieldsInfo.mobileNumber==null?null:e.fieldsInfo.mobileNumber.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.mobileNumber==null?null:e.fieldsInfo.mobileNumber.fieldTitle)),v("ngModel",e.dataModel.mobileNumber),p("disabled",!(e.fieldsInfo.mobileNumber!=null&&e.fieldsInfo.mobileNumber.accessAddField)),o(3),E("",W.value.length," / 64"),o(3),T(e.fieldsInfo.address==null?null:e.fieldsInfo.address.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.address==null?null:e.fieldsInfo.address.fieldTitle)),v("ngModel",e.dataModel.address),p("disabled",!(e.fieldsInfo.address!=null&&e.fieldsInfo.address.accessAddField)),o(4),E("",U.value.length," / 500"),o(),C(U.errors!=null&&U.errors.required?66:-1),o(),p("optionSelectForce",e.dataModel.linkLocationId)("optionPlaceholder",M(68,83,"TITLE.Geographical_Region"))("optionDisabled",!(e.fieldsInfo.linkLocationId!=null&&e.fieldsInfo.linkLocationId.accessAddField)),o(3),E(" ",M(71,85,"TITLE.COVERED_AREAS")," "),o(2),p("optionSelectForce",e.dataModel.linkLocationWorkAreaIds)("optionPlaceholder",M(73,87,"TITLE.Region")),o(3),C(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?75:-1),o(),C(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?76:-1),o(),C(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?77:-1),o(),C(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?78:-1),o(),C(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?79:-1),o(2),C(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?81:-1),o(),C(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?82:-1),o(3),T(M(86,89,"TITLE.Click_on_the_map_to_specify_the_location")),o(2),p("optonCenter",e.mapOptonCenter),o(),C(e.formInfo.submitButtonEnabled?88:-1)}},dependencies:[de,ge,z,ze,Q,me,K,he,_e,fe,ue,Ce,J,Nt,Pe,Ft,Ot,q,Ie,Ee,G,j],encapsulation:2});var an=ii;var Sn=Si(Hi());var ho=["*"];function _o(n,s){if(n&1&&(h(0,"img",4),S(1,"cmsthumbnail")),n&2){let t=m();p("src",x(M(1,2,t.dataModelSelect==null?null:t.dataModelSelect.linkMainImageIdSrc)),P)}}function Co(n,s){if(n&1&&(h(0,"img",4),S(1,"cmsthumbnail")),n&2){let t=m().$implicit;p("src",x(M(1,2,t.linkMainImageIdSrc)),P)}}function So(n,s){if(n&1&&(l(0,"mat-option",8),_(1,Co,2,4,"img",4),l(2,"span"),d(3),a()()),n&2){let t=s.$implicit,i=m();p("value",t)("disabled",i.optionDisabled),o(),C(t.linkMainImageIdSrc?1:-1),o(2),T(i.displayOption(t))}}function Mo(n,s){n&1&&h(0,"i",9)}function Eo(n,s){n&1&&h(0,"i",10)}function yo(n,s){if(n&1){let t=w();l(0,"i",13),I("click",function(){u(t);let e=m();return f(e.onActionSelectClear())}),a()}}function Io(n,s){n&1&&(l(0,"em"),d(1),S(2,"translate"),a()),n&2&&(o(),E("(",M(2,1,"TITLE.Necessary"),")"))}var ni=class ni{constructor(s,t,i,e,r,g){this.coreEnumService=s;this.cmsToastrService=t;this.translate=i;this.cdr=e;this.publicHelper=r;this.categoryService=g;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new $;this.dataModelSelect=new Fe;this.formControl=new it;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionRequired=!1;this.optionChange=new Ne;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(dt(""),ct(1500),Kt(),pt(s=>typeof s=="string"||typeof s=="number"?this.DataGetAll(s||""):[]))}displayFn(s){return s?s.title:void 0}displayOption(s){return s?s.title:void 0}DataGetAll(s){return De(this,null,function*(){let t=new Ci;t.rowPerPage=20,t.accessLoad=!0;let i=new D;typeof s=="string"&&s.length>0&&(i.propertyName="title",i.value=s,i.searchType=Z.Contains,i.clauseType=ee.Or,t.filters.push(i),i=new D,i.propertyName="id",i.value=s,i.searchType=Z.Equal,i.clauseType=ee.Or,t.filters.push(i)),s?.length>0&&(i=new D,i.propertyName="LinkCmsUserId",i.value=s,i.searchType=Z.Equal,i.clauseType=ee.Or,t.filters.push(i),i=new D,i.propertyName="mobileNumber",i.value=s,i.searchType=Z.Contains,i.clauseType=ee.Or,t.filters.push(i),i=new D,i.propertyName="phoneNumber",i.value=s,i.searchType=Z.Contains,i.clauseType=ee.Or,t.filters.push(i));let e=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(r=>{this.publicHelper.processService.processStart(e,r,this.constructorInfoAreaId)}),yield Qt(this.categoryService.ServiceGetAll(t)).then(r=>(this.dataModelResult=r,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(e),r.listItems))})}onActionSelect(s){this.optionDisabled||(this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(s){return this.filteredOptions.pipe(st(t=>(t.find(i=>i.id===s.id)||t.push(s),t)))}onActionSelectForce(s){if(typeof s=="number"&&s>0){if(this.dataModelSelect&&this.dataModelSelect.linkCmsUserId===s)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.linkCmsUserId===s)){let e=this.dataModelResult.listItems.find(r=>r.linkCmsUserId===s);this.dataModelSelect=e,this.formControl.setValue(e);return}let t=new Ci,i=new D;i.propertyName="LinkCmsUserId",i.value=s,i.searchType=Z.Equal,t.filters.push(i),this.categoryService.ServiceGetAll(t).subscribe({next:e=>{e.isSuccess&&(e.listItems.length>0?(this.filteredOptions=this.push(e.listItems[0]),this.dataModelSelect=e.listItems[0],this.formControl.setValue(e.listItems[0]),this.optionChange.emit(e.listItems[0])):this.cmsToastrService.typeErrorMessage(e.errorMessage))}});return}else if(typeof s=="string"&&s.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===s)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(t=>t.id===s)){let t=this.dataModelResult.listItems.find(i=>i.id===s);this.dataModelSelect=t,this.formControl.setValue(t);return}this.categoryService.ServiceGetOneById(s).subscribe({next:t=>{t.isSuccess?(this.filteredOptions=this.push(t.item),this.dataModelSelect=t.item,this.formControl.setValue(t.item),this.optionChange.emit(t.item)):this.cmsToastrService.typeErrorMessage(t.errorMessage)}});return}if(typeof s==typeof Fe){this.filteredOptions=this.push(s),this.dataModelSelect=s,this.formControl.setValue(s);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Fe,this.loadOptions()}};ni.\u0275fac=function(t){return new(t||ni)(y(Y),y(B),y(O),y(H),y(N),y(Ye))},ni.\u0275cmp=F({type:ni,selectors:[["app-estate-account-expert-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionRequired:"optionRequired",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:ho,decls:19,vars:22,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required"],["for","forminput",1,"color-highlight"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(t,i){if(t&1){let e=w();Jt(),l(0,"div",1),h(1,"app-progress-spinner",2),l(2,"span",3),_(3,_o,2,4,"img",4),a(),h(4,"input",5),l(5,"label",6),d(6),a(),l(7,"mat-autocomplete",7,0),I("optionSelected",function(g){return u(e),f(i.onActionSelect(g.option.value))}),Ge(9,So,4,4,"mat-option",8,He),S(11,"async"),a(),_(12,Mo,1,0,"i",9),_(13,Eo,1,0,"i",10),_(14,yo,1,0,"i",11),l(15,"i",12),S(16,"translate"),I("click",function(){return u(e),f(i.onActionButtonReload())}),a(),_(17,Io,3,3,"em"),qt(18),a()}if(t&2){let e=R(8);o(),p("optionsInfoAreaId",i.constructorInfoAreaId),o(2),C(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?3:-1),o(),p("placeholder",x(i.optionPlaceholder))("formControl",i.formControl)("matAutocomplete",e)("required",i.optionRequired),Ut("disabled",i.optionDisabled?!0:null),o(2),T(i.optionLabel),o(),p("displayWith",i.displayFn),o(2),Ue(M(11,18,i.filteredOptions)),o(3),C(i.formControl.valid?-1:12),o(),C(i.optionRequired&&i.formControl.valid?13:-1),o(),C((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?14:-1),o(),re("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),p("title",x(M(16,20,"ACTION.RELOAD"))),o(2),C(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id.length<=0)?17:-1)}},dependencies:[z,Q,K,ft,_t,gt,Ct,ei,J,q,pe,G,j],encapsulation:2});var oi=ni;var Ro=["vform"],ko=n=>({direction:n});function Lo(n,s){if(n&1&&(h(0,"img",19),S(1,"cmsthumbnail")),n&2){let t=m();p("src",x(M(1,2,t.dataModel.linkMainImageIdSrc)),P)}}function Po(n,s){n&1&&h(0,"i",26)}function Vo(n,s){n&1&&h(0,"i",27)}function Do(n,s){n&1&&(l(0,"mat-error"),d(1," Title is "),l(2,"strong"),d(3),S(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function Wo(n,s){n&1&&(l(0,"mat-error"),d(1," Description is "),l(2,"strong"),d(3),S(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function Fo(n,s){if(n&1){let t=w();l(0,"div",20)(1,"label",48),d(2),S(3,"translate"),a(),l(4,"textarea",49,8),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.descriptionHidden,e)||(r.dataModel.descriptionHidden=e),f(e)}),d(6,"                    "),a(),l(7,"em"),d(8),a()()}if(n&2){let t=R(5),i=m();o(2),T(M(3,7,"TITLE.Description_Hidden")),o(2),p("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle))("disabled",x(!(i.fieldsInfo.descriptionHidden!=null&&i.fieldsInfo.descriptionHidden.accessEditField))),v("ngModel",i.dataModel.descriptionHidden),o(4),E("",t.value.length," / 500")}}function Oo(n,s){if(n&1){let t=w();l(0,"app-cms-user-selector",50),S(1,"translate"),I("optionChange",function(e){u(t);let r=m();return f(r.onActionSelectorUser(e))}),a()}if(n&2){let t=m();p("optionDisabled",!(t.fieldsInfo.linkCmsUserId!=null&&t.fieldsInfo.linkCmsUserId.accessEditField))("optionSelectForce",t.dataModel.linkCmsUserId)("optionPlaceholder",M(1,3,"TITLE.USER"))}}function Bo(n,s){n&1&&h(0,"i",26)}function No(n,s){n&1&&h(0,"i",27)}function Ho(n,s){n&1&&(l(0,"mat-error"),d(1," Address is "),l(2,"strong"),d(3),S(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function Go(n,s){if(n&1){let t=w();l(0,"div",39)(1,"div",51)(2,"h5",52),d(3),a()(),l(4,"div",53)(5,"div",54)(6,"input",55),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.accessWatchRowSite,e)||(r.dataModel.accessWatchRowSite=e),f(e)}),a(),h(7,"label",56),a()()()}if(n&2){let t=m();o(3),E(" ",t.fieldsInfo.accessWatchRowSite==null?null:t.fieldsInfo.accessWatchRowSite.fieldTitle," "),o(3),v("ngModel",t.dataModel.accessWatchRowSite)}}function Uo(n,s){if(n&1){let t=w();l(0,"div",39)(1,"div",51)(2,"h5",57),d(3),a()(),l(4,"div",53)(5,"div",54)(6,"input",58),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.accessWatchRowOtherAgency,e)||(r.dataModel.accessWatchRowOtherAgency=e),f(e)}),a(),h(7,"label",59),a()()()}if(n&2){let t=m();o(3),E(" ",t.fieldsInfo.accessWatchRowOtherAgency==null?null:t.fieldsInfo.accessWatchRowOtherAgency.fieldTitle," "),o(3),v("ngModel",t.dataModel.accessWatchRowOtherAgency)}}function qo(n,s){if(n&1){let t=w();l(0,"div",39)(1,"div",51)(2,"h5",60),d(3),a()(),l(4,"div",53)(5,"div",54)(6,"input",61),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.accessWatchRowOtherAgent,e)||(r.dataModel.accessWatchRowOtherAgent=e),f(e)}),a(),h(7,"label",62),a()()()}if(n&2){let t=m();o(3),E(" ",t.fieldsInfo.accessWatchRowOtherAgent==null?null:t.fieldsInfo.accessWatchRowOtherAgent.fieldTitle," "),o(3),v("ngModel",t.dataModel.accessWatchRowOtherAgent)}}function jo(n,s){if(n&1){let t=w();l(0,"div",39)(1,"div",51)(2,"h5",63),d(3),a()(),l(4,"div",53)(5,"div",54)(6,"input",64),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.accessAllowShareRowWatchOtherAgency,e)||(r.dataModel.accessAllowShareRowWatchOtherAgency=e),f(e)}),a(),h(7,"label",65),a()()()}if(n&2){let t=m();o(3),E(" ",t.fieldsInfo.accessAllowShareRowWatchOtherAgency==null?null:t.fieldsInfo.accessAllowShareRowWatchOtherAgency.fieldTitle," "),o(3),v("ngModel",t.dataModel.accessAllowShareRowWatchOtherAgency)}}function Yo(n,s){if(n&1){let t=w();l(0,"div",39)(1,"div",51)(2,"h5",66),d(3),a()(),l(4,"div",53)(5,"div",54)(6,"input",67),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.accessAllowShareRowWatchOtherAgent,e)||(r.dataModel.accessAllowShareRowWatchOtherAgent=e),f(e)}),a(),h(7,"label",68),a()()()}if(n&2){let t=m();o(3),E(" ",t.fieldsInfo.accessAllowShareRowWatchOtherAgent==null?null:t.fieldsInfo.accessAllowShareRowWatchOtherAgent.fieldTitle," "),o(3),v("ngModel",t.dataModel.accessAllowShareRowWatchOtherAgent)}}function zo(n,s){if(n&1){let t=w();l(0,"div",39)(1,"div",51)(2,"h5",69),d(3),a()(),l(4,"div",53)(5,"div",54)(6,"input",70),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.notificationWorkAreaEstate,e)||(r.dataModel.notificationWorkAreaEstate=e),f(e)}),a(),h(7,"label",71),a()()()}if(n&2){let t=m();o(3),E(" ",t.fieldsInfo.notificationWorkAreaEstate==null?null:t.fieldsInfo.notificationWorkAreaEstate.fieldTitle," "),o(3),v("ngModel",t.dataModel.notificationWorkAreaEstate)}}function Qo(n,s){if(n&1){let t=w();l(0,"div",39)(1,"div",51)(2,"h5",72),d(3),a()(),l(4,"div",53)(5,"div",54)(6,"input",73),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.notificationWorkAreaCustomerOrder,e)||(r.dataModel.notificationWorkAreaCustomerOrder=e),f(e)}),a(),h(7,"label",74),a()()()}if(n&2){let t=m();o(3),E(" ",t.fieldsInfo.notificationWorkAreaCustomerOrder==null?null:t.fieldsInfo.notificationWorkAreaCustomerOrder.fieldTitle," "),o(3),v("ngModel",t.dataModel.notificationWorkAreaCustomerOrder)}}function Ko(n,s){if(n&1){let t=w();l(0,"div",39)(1,"div",51)(2,"h5",63),d(3," accessShareAgencyToUser "),a()(),l(4,"div",53)(5,"div",54)(6,"input",75),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataEstateAccountAgencyExpertModel.accessShareAgencyToUser,e)||(r.dataEstateAccountAgencyExpertModel.accessShareAgencyToUser=e),f(e)}),a(),h(7,"label",76),a()()()}if(n&2){let t=m();o(6),v("ngModel",t.dataEstateAccountAgencyExpertModel.accessShareAgencyToUser)}}function Jo(n,s){if(n&1){let t=w();l(0,"div",39)(1,"div",51)(2,"h5",77),d(3," accessShareUserToAgency "),a()(),l(4,"div",53)(5,"div",54)(6,"input",78),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataEstateAccountAgencyExpertModel.accessShareUserToAgency,e)||(r.dataEstateAccountAgencyExpertModel.accessShareUserToAgency=e),f(e)}),a(),h(7,"label",79),a()()()}if(n&2){let t=m();o(6),v("ngModel",t.dataEstateAccountAgencyExpertModel.accessShareUserToAgency)}}function Zo(n,s){if(n&1){let t=w();l(0,"button",80),I("click",function(){u(t);let e=m();return f(e.onActionDataGetAddGroup())}),d(1," + "),a()}}function Xo(n,s){if(n&1&&(l(0,"mat-header-cell"),d(1),a()),n&2){let t=m(2);o(),E(" ",t.fieldsInfoAgencyUser.linkEstateExpertId==null?null:t.fieldsInfoAgencyUser.linkEstateExpertId.fieldTitle," ")}}function $o(n,s){if(n&1&&(d(0),S(1,"estateAccountExpertInfo"),S(2,"async")),n&2){let t=m().$implicit;E(" ",M(2,3,M(1,1,t.linkEstateExpertId))," ")}}function ea(n,s){if(n&1&&(l(0,"mat-cell"),_(1,$o,3,5),a()),n&2){let t=s.$implicit;o(),C(t.linkEstateExpertId?1:-1)}}function ta(n,s){if(n&1&&(l(0,"mat-header-cell"),d(1),a()),n&2){let t=m(2);o(),E(" ",t.fieldsInfoAgencyUser.linkEstateAccountAgencyId==null?null:t.fieldsInfoAgencyUser.linkEstateAccountAgencyId.fieldTitle," ")}}function ia(n,s){if(n&1&&(d(0),S(1,"estateAccountAgencyInfo"),S(2,"async")),n&2){let t=m().$implicit;E(" ",M(2,3,M(1,1,t.linkEstateAccountAgencyId))," ")}}function na(n,s){if(n&1&&(l(0,"mat-cell"),_(1,ia,3,5),a()),n&2){let t=s.$implicit;o(),C(t.linkEstateAccountAgencyId?1:-1)}}function oa(n,s){if(n&1&&(l(0,"mat-header-cell"),d(1),a()),n&2){let t=m(2);o(),E(" ",t.fieldsInfoAgencyUser.accessShareUserToAgency==null?null:t.fieldsInfoAgencyUser.accessShareUserToAgency.fieldTitle," ")}}function aa(n,s){if(n&1&&(h(0,"i",92),S(1,"boolclass")),n&2){let t=m().$implicit;p("ngClass",M(1,1,t.accessShareUserToAgency))}}function ra(n,s){if(n&1&&(l(0,"mat-cell"),_(1,aa,2,3,"i",92),a()),n&2){let t=s.$implicit;o(),C(t.accessShareUserToAgency?1:-1)}}function la(n,s){if(n&1&&(l(0,"mat-header-cell"),d(1),a()),n&2){let t=m(2);o(),E(" ",t.fieldsInfoAgencyUser.accessShareAgencyToUser==null?null:t.fieldsInfoAgencyUser.accessShareAgencyToUser.fieldTitle," ")}}function sa(n,s){if(n&1&&(h(0,"i",92),S(1,"boolclass")),n&2){let t=m().$implicit;p("ngClass",M(1,1,t.accessShareAgencyToUser))}}function ca(n,s){if(n&1&&(l(0,"mat-cell"),_(1,sa,2,3,"i",92),a()),n&2){let t=s.$implicit;o(),C(t.accessShareAgencyToUser?1:-1)}}function da(n,s){n&1&&(l(0,"mat-header-cell"),d(1),S(2,"translate"),a()),n&2&&(o(),E(" ",M(2,1,"TITLE.OPTION")," "))}function pa(n,s){if(n&1){let t=w();l(0,"mat-cell",93)(1,"button",94)(2,"small",95),I("click",function(){let e=u(t).$implicit,r=m(2);return f(r.onActionDataGetDeleteGroup(e))}),l(3,"mat-icon",96),S(4,"translate"),d(5,"delete"),a()()()()}n&2&&(o(3),p("matTooltip",x(M(4,2,"ACTION.DELETE"))))}function ma(n,s){n&1&&h(0,"mat-header-row")}function ua(n,s){if(n&1&&h(0,"mat-row"),n&2){let t=s.dataIndex;re("ntk-row-odd",t%2)("ntk-row-even",!(t%2))}}function fa(n,s){if(n&1&&(l(0,"div",44)(1,"mat-table",81),k(2,82),V(3,Xo,2,1,"mat-header-cell",83)(4,ea,2,1,"mat-cell",84),L(),k(5,85),V(6,ta,2,1,"mat-header-cell",83)(7,na,2,1,"mat-cell",84),L(),k(8,86),V(9,oa,2,1,"mat-header-cell",83)(10,ra,2,1,"mat-cell",84),L(),k(11,87),V(12,la,2,1,"mat-header-cell",83)(13,ca,2,1,"mat-cell",84),L(),k(14,88),V(15,da,3,3,"mat-header-cell",83)(16,pa,6,4,"mat-cell",89),L(),V(17,ma,1,0,"mat-header-row",90)(18,ua,1,4,"mat-row",91),a()()),n&2){let t=m();o(),p("dataSource",t.optionTabledataSource),o(16),p("matHeaderRowDef",t.optionTabledisplayedColumns),o(),p("matRowDefColumns",t.optionTabledisplayedColumns)}}function ga(n,s){n&1&&(l(0,"mat-icon"),d(1,"call_end"),a())}function ha(n,s){n&1&&(l(0,"mat-icon"),d(1,"forum"),a())}function _a(n,s){if(n&1){let t=w();l(0,"div",47)(1,"button",97),I("click",function(){u(t);let e=m();return f(e.onFormCancel())}),h(2,"i",98),d(3),S(4,"translate"),a(),l(5,"button",99),h(6,"i",100),d(7),S(8,"translate"),a()()}if(n&2){m();let t=R(10);o(3),E(" ",M(4,3,"ACTION.CANCEL")," "),o(2),p("disabled",!t.form.valid),o(2),E(" ",M(8,5,"ACTION.SAVE")," ")}}var ai=class ai extends Wt{constructor(t,i,e,r,g,c,W,U,Re,Ve,Be,at){super(r,new We,Re,at);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estateAccountAgencyService=r;this.estateAccountExpertService=g;this.cmsToastrService=c;this.cmsStoreService=W;this.estateAccountAgencyExpertService=U;this.publicHelper=Re;this.tokenHelper=Ve;this.cdr=Be;this.translate=at;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfoAgencyUser=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ut;this.dataModel=new We;this.dataEstateAccountAgencyExpertModel=new vi;this.formInfo=new ye;this.fileManagerOpenForm=!1;this.optionTabledataSource=new Ni;this.optionTabledisplayedColumns=["LinkEstateExpertId","LinkEstateAccountAgencyId","AccessShareUserToAgency","AccessShareAgencyToUser","Action"];this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Dt;this.dataEstateAccountExpertModel=[];this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.DataGetAccess(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllGroup()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAccountAgencyService.setAccessLoad(),this.estateAccountAgencyService.setAccessDataType(qe.Editor),this.estateAccountAgencyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{if(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess){this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1;let e=this.dataModel.geolocationlatitude,r=this.dataModel.geolocationlongitude;e>0&&r>0&&(this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:e,lon:r}),this.receiveMap())}else this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage);this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAccountAgencyService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}receiveMap(t=this.mapModel){t&&(this.mapModel=t,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(i=>{this.mapMarker=Sn.marker([i.lat,i.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",i=>{let e=i.latlng.lat,r=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),e===this.dataModel.geolocationlatitude&&r===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=Sn.marker([e,r]).addTo(this.mapModel),this.dataModel.geolocationlatitude=e,this.dataModel.geolocationlongitude=r}))}receiveZoom(t){}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}onActionSelectorUser(t){this.dataModel.linkCmsUserId=null,t&&t.id>0&&(this.dataModel.linkCmsUserId=t.id)}onStepClick(t,i){t.previouslySelectedIndex<t.selectedIndex}DataGetAllGroup(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Getting_access_category_from_the_server").subscribe(r=>{this.formInfo.submitResultMessage=r}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(r=>{this.publicHelper.processService.processStart(t,r,this.constructorInfoAreaId)});let i=new ke,e=new D;e.propertyName="linkEstateAccountAgencyId",e.value=this.requestId,i.filters.push(e),this.estateAccountAgencyExpertService.ServiceGetAll(i).subscribe({next:r=>{this.dataEstateAccountExpertModel=r.listItems,this.optionTabledataSource.data=this.dataEstateAccountExpertModel,r.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(g=>{this.formInfo.submitResultMessage=g}),this.formInfo.submitResultMessage=r.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(r.errorMessage)),this.publicHelper.processService.processStop(t)},error:r=>{this.cmsToastrService.typeError(r),this.publicHelper.processService.processStop(t,!1)}})}onActionDataGetAddGroup(){let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAccountAgencyExpertService.ServiceAdd(this.dataEstateAccountAgencyExpertModel).subscribe({next:i=>{i.isSuccess?(this.formInfo.submitResultMessage="",this.optionTabledataSource.data=i.listItems,this.DataGetAllGroup()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionDataGetDeleteGroup(t){let i=this.constructor.name+"onActionDataGetDeleteGroup";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.estateAccountAgencyExpertService.ServiceDeleteEntity(t).subscribe({next:e=>{e.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAllGroup()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onActionSelectorAccountUser(t){this.dataEstateAccountAgencyExpertModel.linkEstateExpertId=null,this.dataEstateAccountAgencyExpertModel.linkEstateAccountAgencyId=this.requestId,t&&t.id?.length>0&&(this.dataEstateAccountAgencyExpertModel.linkEstateExpertId=t.id)}onActionSelectorLocation(t){this.dataModel.linkLocationId=null,t&&t.id>0&&(this.dataModel.linkLocationId=t.id)}onActionSelectorLocationWorkArea(t){this.dataModel.linkLocationWorkAreaIds=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ai.\u0275fac=function(i){return new(i||ai)(y(Me),y(Se),y(Y),y(et),y(Ye),y(B),y(te),y(bi),y(N),y(ie),y(H),y(O))},ai.\u0275cmp=F({type:ai,selectors:[["app-estate-account-agency-edit"]],viewQuery:function(i,e){if(i&1&&ne(Ro,5),i&2){let r;oe(r=ae())&&(e.formGroup=r.first)}},standalone:!1,features:[X],decls:105,vars:108,consts:[["vform","ngForm"],["stepper",""],["LinkMainImageId",""],["Title",""],["Description",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["DescriptionHidden",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[3,"selectionChange"],["state","main",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","name","dataModel.mobileNumber","type","text","minlength","0","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],["id","main-map",3,"map$","zoom$","optonCenter"],["state","file",3,"label"],[3,"optionChange","optionDisabled","optionPlaceholder"],["type","button","type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"example-container","mat-elevation-z8"],["matStepperIcon","main"],["matStepperIcon","file"],[1,"form-actions"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"pt-1"],["data-trigger-switch","dataModel.accessWatchRowSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.accessWatchRowSite","name","dataModel.accessWatchRowSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowSite",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgency","name","dataModel.accessWatchRowOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgent","name","dataModel.accessWatchRowOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgency","name","dataModel.accessAllowShareRowWatchOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgent","name","dataModel.accessAllowShareRowWatchOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaEstate",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaEstate","name","dataModel.notificationWorkAreaEstate",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaEstate",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaCustomerOrder",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaCustomerOrder","name","dataModel.notificationWorkAreaCustomerOrder",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaCustomerOrder",1,"custom-control-label"],["type","checkbox","id","dataEstateAccountAgencyExpertModel.accessShareAgencyToUser","name","dataEstateAccountAgencyExpertModel.accessShareAgencyToUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataEstateAccountAgencyExpertModel.accessShareAgencyToUser",1,"custom-control-label"],["data-trigger-switch","dataEstateAccountAgencyExpertModel.accessShareUserToAgency",1,"font-600","font-14"],["type","checkbox","id","dataEstateAccountAgencyExpertModel.accessShareUserToAgency","name","dataEstateAccountAgencyExpertModel.accessShareUserToAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataEstateAccountAgencyExpertModel.accessShareUserToAgency",1,"custom-control-label"],["type","button","type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["multiTemplateDataRows","",3,"dataSource"],["matColumnDef","LinkEstateExpertId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkEstateAccountAgencyId"],["matColumnDef","AccessShareUserToAgency"],["matColumnDef","AccessShareAgencyToUser"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even",4,"matRowDef","matRowDefColumns"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],[3,"click"],["matTooltipPosition","before","aria-hidden","false",2,"color","red",3,"matTooltip"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let r=w();l(0,"div",9),h(1,"app-progress-spinner",10),l(2,"div",11)(3,"p",12),d(4),a(),l(5,"p"),d(6),S(7,"translate"),a(),h(8,"app-cms-form-result-message",13),l(9,"form",14,0),I("ngSubmit",function(){return u(r),f(e.onFormSubmit())}),l(11,"mat-vertical-stepper",15,1),I("selectionChange",function(c){u(r);let W=R(12);return f(e.onStepClick(c,W))}),l(13,"mat-step",16),S(14,"translate"),l(15,"div",17)(16,"a",18),S(17,"cmsthumbnail"),_(18,Lo,2,4,"img",19),a()(),l(19,"div",20)(20,"label",21),I("click",function(){return u(r),f(e.fileManagerOpenForm=!0)}),d(21),S(22,"translate"),a(),l(23,"input",22,2),S(25,"translate"),b("ngModelChange",function(c){return u(r),A(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),f(c)}),I("click",function(){return u(r),f(e.fileManagerOpenForm=!0)}),a(),l(26,"cms-file-manager",23),I("itemSelected",function(c){return u(r),f(e.onActionFileSelected(c))}),b("openFormChange",function(c){return u(r),A(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),f(c)}),a()(),l(27,"div",20)(28,"label",24),d(29),a(),l(30,"input",25,3),b("ngModelChange",function(c){return u(r),A(e.dataModel.title,c)||(e.dataModel.title=c),f(c)}),a(),_(32,Po,1,0,"i",26),_(33,Vo,1,0,"i",27),h(34,"em"),_(35,Do,5,3,"mat-error"),a(),l(36,"div",20)(37,"label",28),d(38),a(),l(39,"textarea",29,4),b("ngModelChange",function(c){return u(r),A(e.dataModel.description,c)||(e.dataModel.description=c),f(c)}),d(41,"                  "),a(),l(42,"em"),d(43),a(),_(44,Wo,5,3,"mat-error"),a(),_(45,Fo,9,9,"div",20),_(46,Oo,2,5,"app-cms-user-selector",30),l(47,"div",20)(48,"label",31),d(49),a(),l(50,"input",32,5),b("ngModelChange",function(c){return u(r),A(e.dataModel.phoneNumber,c)||(e.dataModel.phoneNumber=c),f(c)}),a(),l(52,"em"),d(53),a()(),l(54,"div",20)(55,"label",33),d(56),a(),l(57,"input",34,6),b("ngModelChange",function(c){return u(r),A(e.dataModel.mobileNumber,c)||(e.dataModel.mobileNumber=c),f(c)}),a(),l(59,"em"),d(60),a()(),l(61,"div",20)(62,"label",35),d(63),a(),l(64,"textarea",36,7),b("ngModelChange",function(c){return u(r),A(e.dataModel.address,c)||(e.dataModel.address=c),f(c)}),d(66,"                      "),a(),_(67,Bo,1,0,"i",26),_(68,No,1,0,"i",27),l(69,"em"),d(70),a(),_(71,Ho,5,3,"mat-error"),a(),l(72,"app-cms-location-selector",37),S(73,"translate"),I("optionChange",function(c){return u(r),f(e.onActionSelectorLocation(c))}),a(),h(74,"br"),d(75),S(76,"translate"),l(77,"app-cms-location-autocomplete",38),S(78,"translate"),I("optionChange",function(c){return u(r),f(e.onActionSelectorLocationWorkArea(c))}),a(),h(79,"hr"),_(80,Go,8,2,"div",39),_(81,Uo,8,2,"div",39),_(82,qo,8,2,"div",39),_(83,jo,8,2,"div",39),_(84,Yo,8,2,"div",39),h(85,"hr"),_(86,zo,8,2,"div",39),_(87,Qo,8,2,"div",39),h(88,"hr"),l(89,"p"),d(90),S(91,"translate"),a(),l(92,"app-cms-map",40),I("map$",function(c){return u(r),f(e.receiveMap(c))})("zoom$",function(c){return u(r),f(e.receiveZoom(c))}),a()(),l(93,"mat-step",41),S(94,"translate"),h(95,"br"),l(96,"app-estate-account-expert-selector",42),S(97,"translate"),I("optionChange",function(c){return u(r),f(e.onActionSelectorAccountUser(c))}),a(),_(98,Ko,8,1,"div",39),_(99,Jo,8,1,"div",39),_(100,Zo,2,0,"button",43),_(101,fa,19,3,"div",44),a(),V(102,ga,2,0,"ng-template",45)(103,ha,2,0,"ng-template",46),a(),_(104,_a,9,7,"div",47),a()()()}if(i&2){let r=R(31),g=R(40),c=R(51),W=R(58),U=R(65);o(),p("optionsInfoAreaId",e.constructorInfoAreaId),o(3),E(" ",e.formInfo.formTitle," "),o(2),E(" ",M(7,84,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),p("formInfo",e.formInfo),o(),p("ngStyle",se(106,ko,e.tokenInfo.access.direction)),o(4),p("label",x(M(14,86,"TITLE.REQUIRED_INFORMATION"))),o(3),p("href",x(M(17,88,e.dataModel.linkMainImageIdSrc)),P),o(2),C((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?18:-1),o(3),T(M(22,90,"MESSAGE. Photo_of_estate_agency")),o(2),p("placeholder",x(M(25,92,"TITLE.Original_File_ID"))),v("ngModel",e.dataModel.linkMainImageId),o(3),p("language",e.appLanguage)("isPopup",!0),v("openForm",e.fileManagerOpenForm),p("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(3),T(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),v("ngModel",e.dataModel.title),p("disabled",!(e.fieldsInfo.title!=null&&e.fieldsInfo.title.accessEditField)),o(2),C(r.value?-1:32),o(),C(r.value?33:-1),o(2),C(r.errors!=null&&r.errors.required?35:-1),o(3),T(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),v("ngModel",e.dataModel.description),p("disabled",!(e.fieldsInfo.description!=null&&e.fieldsInfo.description.accessEditField)),o(4),E("",g.value.length," / 500"),o(),C(g.errors!=null&&g.errors.required?44:-1),o(),C(e.fieldsInfo.descriptionHidden!=null&&e.fieldsInfo.descriptionHidden.accessWatchField?45:-1),o(),C(e.tokenHelper.isAdminSite?46:-1),o(3),T(e.fieldsInfo.phoneNumber==null?null:e.fieldsInfo.phoneNumber.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.phoneNumber==null?null:e.fieldsInfo.phoneNumber.fieldTitle)),v("ngModel",e.dataModel.phoneNumber),p("disabled",!(e.fieldsInfo.phoneNumber!=null&&e.fieldsInfo.phoneNumber.accessEditField)),o(3),E("",c.value.length," / 64"),o(3),T(e.fieldsInfo.mobileNumber==null?null:e.fieldsInfo.mobileNumber.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.mobileNumber==null?null:e.fieldsInfo.mobileNumber.fieldTitle)),v("ngModel",e.dataModel.mobileNumber),p("disabled",!(e.fieldsInfo.mobileNumber!=null&&e.fieldsInfo.mobileNumber.accessAddField)),o(3),E("",W.value.length," / 64"),o(3),T(e.fieldsInfo.address==null?null:e.fieldsInfo.address.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.address==null?null:e.fieldsInfo.address.fieldTitle)),v("ngModel",e.dataModel.address),p("disabled",!(e.fieldsInfo.address!=null&&e.fieldsInfo.address.accessEditField)),o(3),C(U.value?-1:67),o(),C(U.value?68:-1),o(2),E("",U.value.length," / 500"),o(),C(U.errors!=null&&U.errors.required?71:-1),o(),p("optionSelectForce",e.dataModel.linkLocationId)("optionPlaceholder",M(73,94,"TITLE.Geographical_Region"))("optionDisabled",!(e.fieldsInfo.linkLocationId!=null&&e.fieldsInfo.linkLocationId.accessEditField)),o(3),E(" ",M(76,96,"TITLE.COVERED_AREAS")," "),o(2),p("optionSelectForce",e.dataModel.linkLocationWorkAreaIds)("optionPlaceholder",M(78,98,"TITLE.Region")),o(3),C(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?80:-1),o(),C(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?81:-1),o(),C(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?82:-1),o(),C(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?83:-1),o(),C(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?84:-1),o(2),C(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?86:-1),o(),C(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?87:-1),o(3),E(" ",M(91,100,"TITLE.Click_on_the_map_to_specify_the_location")," "),o(2),p("optonCenter",e.mapOptonCenter),o(),p("label",x(M(94,102,"TITLE.Property_personnel"))),o(3),p("optionDisabled",!e.tokenHelper.isAdminSite)("optionPlaceholder",M(97,104,"TITLE.Property_personnel")),o(2),C(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?98:-1),o(),C(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?99:-1),o(),C(e.dataEstateAccountAgencyExpertModel.linkEstateExpertId&&e.dataEstateAccountAgencyExpertModel.linkEstateExpertId.length>0?100:-1),o(),C(e.publicHelper.processService.process.inRunAll?-1:101),o(3),C(e.formInfo.submitButtonEnabled?104:-1)}},dependencies:[ce,de,ge,z,ze,Q,me,K,he,_e,fe,ue,St,Ce,nt,J,Oi,Bi,Fi,Et,It,Tt,vt,yt,wt,At,bt,xt,Rt,Ri,Nt,Pe,Ft,Ot,q,Ie,Qi,oi,Ee,pe,G,j,qi,tn,nn],encapsulation:2});var rn=ai;function Sa(n,s){n&1&&h(0,"div",8)}var ri=class ri{constructor(s,t,i,e,r,g){this.headerService=s;this.publicHelper=t;this.cdr=i;this.translate=e;this.cmsToastrService=r;this.dialog=g;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new $;this.fieldsInfo=new Map;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent()}DataGetOneContent(){let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(s,t,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?this.dataModelResult=t:this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(s)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(s,!1)}})}};ri.\u0275fac=function(t){return new(t||ri)(y(Ye),y(N),y(H),y(O),y(B),y(Mt))},ri.\u0275cmp=F({type:ri,selectors:[["app-estate-account-expert-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:32,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td"],[1,"td","large-width"],[2,"clear","both"],[1,"td",2,"text-align","left"],[1,"divider","divider-margins"]],template:function(t,i){t&1&&(l(0,"div",0),h(1,"app-progress-spinner",1),l(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),h(6,"span",6),a(),l(7,"div",7)(8,"h5")(9,"b"),d(10),S(11,"translate"),a()()(),_(12,Sa,1,0,"div",8),a(),l(13,"div",4)(14,"div",5)(15,"b"),d(16),a(),d(17,": "),a(),l(18,"div",9),d(19),a(),h(20,"div",8)(21,"div",10),a(),l(22,"div",4)(23,"div",5)(24,"b"),d(25),a(),d(26," : "),a(),l(27,"div",9),d(28),a(),h(29,"div",11)(30,"div",10),a()()()(),h(31,"div",12)),t&2&&(o(),p("optionsInfoAreaId",i.constructorInfoAreaId),o(5),p("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),T(M(11,8,"TITLE.Selected_Personnel")),o(2),C(!(i.dataModelResult==null||i.dataModelResult.item==null)&&i.dataModelResult.item.id?12:-1),o(4),E("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," "),o(3),T(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),T(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(3),T(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[q,Ui,G],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var ln=ri;var Da=()=>["expandedTitle"],Wa=()=>["expandedDetail"],Fa=()=>[5,10,20,100],Oa=n=>({display:n});function Ba(n,s){if(n&1&&h(0,"app-estate-account-expert-header",3),n&2){let t=m();p("optionId",t.requestLinkAccountUserId)}}function Na(n,s){if(n&1){let t=w();l(0,"div",16)(1,"a",47),I("click",function(){u(t);let e=m();return f(e.onActionButtonNewRow())}),h(2,"i",48)(3,"br"),a(),l(4,"p",20),d(5),S(6,"translate"),a()()}n&2&&(o(5),E(" ",M(6,1,"ACTION.ADD")," "))}function Ha(n,s){if(n&1){let t=w();l(0,"div",16)(1,"a",49),I("click",function(){u(t);let e=m();return f(e.onActionButtonEditRow(e.tableRowSelected))}),h(2,"i",50)(3,"br"),a(),l(4,"p",20),d(5),S(6,"translate"),a()()}n&2&&(o(5),E(" ",M(6,1,"ACTION.EDIT")," "))}function Ga(n,s){if(n&1){let t=w();l(0,"div",16)(1,"a",51),I("click",function(){u(t);let e=m();return f(e.onActionButtonDeleteRow(e.tableRowSelected))}),h(2,"i",52)(3,"br"),a(),l(4,"p",20),d(5),S(6,"translate"),a()()}n&2&&(o(5),E(" ",M(6,1,"ACTION.DELETE")," "))}function Ua(n,s){n&1&&(l(0,"mat-header-cell"),d(1),S(2,"translate"),a()),n&2&&(o(),E(" ",M(2,1,"TITLE.MENU")," "))}function qa(n,s){if(n&1){let t=w();l(0,"mat-cell")(1,"button",53),I("click",function(){let e=u(t).$implicit,r=m();return f(r.onActionTableRowSelectActionMenu(e))}),h(2,"i",54),a()()}}function ja(n,s){n&1&&(l(0,"mat-header-cell",55),d(1),S(2,"translate"),a()),n&2&&(o(),E(" ",M(2,1,"TITLE.PICTURE")," "))}function Ya(n,s){if(n&1&&(h(0,"img",56),S(1,"cmsthumbnail")),n&2){let t=m().$implicit;p("src",x(M(1,2,t.linkMainImageIdSrc)),P)}}function za(n,s){if(n&1&&(l(0,"mat-cell"),_(1,Ya,2,4,"img",56),a()),n&2){let t=s.$implicit;o(),C((t==null||t.linkMainImageIdSrc==null?null:t.linkMainImageIdSrc.length)>0?1:-1)}}function Qa(n,s){if(n&1&&(l(0,"mat-header-cell",55),d(1),a()),n&2){let t=m();o(),E(" ",t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle," ")}}function Ka(n,s){if(n&1&&(l(0,"mat-cell"),d(1),a()),n&2){let t=s.$implicit;o(),E(" ",t.id," ")}}function Ja(n,s){if(n&1&&(l(0,"mat-header-cell",55),d(1),a()),n&2){let t=m();o(),E(" ",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle," ")}}function Za(n,s){if(n&1&&(l(0,"mat-cell"),d(1),a()),n&2){let t=s.$implicit;o(),E(" ",t.title," ")}}function Xa(n,s){if(n&1&&(l(0,"mat-header-cell",55),d(1),a()),n&2){let t=m();o(),E(" ",t.fieldsInfo.linkCmsUserId==null?null:t.fieldsInfo.linkCmsUserId.fieldTitle," ")}}function $a(n,s){if(n&1&&(l(0,"mat-cell"),d(1),S(2,"cmsuserinfo"),S(3,"async"),a()),n&2){let t=s.$implicit;o(),E(" ",M(3,3,M(2,1,t.linkCmsUserId))," ")}}function er(n,s){if(n&1&&(l(0,"mat-header-cell",55),d(1),a()),n&2){let t=m();o(),E(" ",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle," ")}}function tr(n,s){if(n&1&&(l(0,"mat-cell"),d(1),a()),n&2){let t=s.$implicit;o(),E(" ",t.description," ")}}function ir(n,s){n&1&&(l(0,"mat-header-cell"),d(1),S(2,"translate"),a()),n&2&&(o(),E(" ",M(2,1,"TITLE.OPTION")," "))}function nr(n,s){if(n&1&&(l(0,"mat-cell",57)(1,"button",58)(2,"mat-icon"),d(3,"more_vert"),a()(),h(4,"mat-menu",null,2),a()),n&2){let t=R(5);o(),p("matMenuTriggerFor",t)}}function or(n,s){if(n&1&&(l(0,"mat-cell"),d(1),S(2,"translate"),S(3,"cmsuserinfo"),S(4,"async"),a()),n&2){let t=s.$implicit;o(),Le(" ",M(2,2,"TITLE.User-Id-Cms"),": ",M(4,6,M(3,4,t.linkCmsUserId))," ")}}function ar(n,s){if(n&1&&(h(0,"img",59),S(1,"cmsthumbnail")),n&2){let t=m().$implicit;p("src",x(M(1,2,t.linkMainImageIdSrc)),P)}}function rr(n,s){if(n&1&&(l(0,"tr"),h(1,"td"),l(2,"td"),d(3),a()()),n&2){let t=m().$implicit,i=m();o(3),Le(" ",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle," : ",t.description," ")}}function lr(n,s){if(n&1&&(l(0,"tr"),h(1,"td"),l(2,"td"),d(3),S(4,"translate"),a()()),n&2){let t=m().$implicit;o(3),Le("",M(4,2,"TITLE.Address")," : ",t.address)}}function sr(n,s){if(n&1&&(l(0,"tr"),h(1,"td"),l(2,"td"),d(3),a()()),n&2){let t=m().$implicit,i=m();o(3),Le(" ",i.fieldsInfo.phoneNumber==null?null:i.fieldsInfo.phoneNumber.fieldTitle," : ",t.phoneNumber," ")}}function cr(n,s){if(n&1&&(l(0,"tr"),h(1,"td"),l(2,"td"),d(3),a()()),n&2){let t=m().$implicit,i=m();o(3),Le(" ",i.fieldsInfo.mobileNumber==null?null:i.fieldsInfo.mobileNumber.fieldTitle," : ",t.mobileNumber," ")}}function dr(n,s){if(n&1){let t=w();l(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),_(5,ar,2,4,"img",59),a(),l(6,"th")(7,"span",60),I("click",function(){u(t);let e=m();return f(e.onActionCopied())}),h(8,"i",61),a(),d(9),a()(),l(10,"tr"),h(11,"td"),l(12,"td"),d(13),a()(),_(14,rr,4,2,"tr"),_(15,lr,5,4,"tr"),_(16,sr,4,2,"tr"),_(17,cr,4,2,"tr"),l(18,"tr"),h(19,"td")(20,"td"),a()()()()}if(n&2){let t=s.$implicit,i=m();o(5),C((t==null||t.linkMainImageIdSrc==null?null:t.linkMainImageIdSrc.length)>0?5:-1),o(2),p("cdkCopyToClipboard",t.id),o(2),E(" ",t.id," "),o(4),Le("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : ",t.title),o(),C(t.description?14:-1),o(),C(t.address?15:-1),o(),C(t.phoneNumber?16:-1),o(),C(t.mobileNumber?17:-1)}}function pr(n,s){n&1&&h(0,"mat-header-row")}function mr(n,s){if(n&1){let t=w();l(0,"mat-row",62),I("click",function(e){let r=u(t).$implicit,g=m();return f(g.onActionTableRowSelect(r,e))})("rtclick",function(e){let r=u(t).$implicit,g=m();return f(g.onActionTableRowSelect(r,e))})("mouseenter",function(){let e=u(t).$implicit,r=m();return f(r.onActionTableRowMouseEnter(e))})("mouseleave",function(){let e=u(t).$implicit,r=m();return f(r.onActionTableRowMouseLeave(e))}),a()}if(n&2){let t=s.$implicit,i=m();re("ntk-row-selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function ur(n,s){if(n&1){let t=w();l(0,"mat-row",63),I("click",function(e){let r=u(t).$implicit,g=m();return f(g.onActionTableRowSelect(r,e))})("rtclick",function(e){let r=u(t).$implicit,g=m();return f(g.onActionTableRowSelect(r,e))})("mouseenter",function(){let e=u(t).$implicit,r=m();return f(r.onActionTableRowMouseEnter(e))})("mouseleave",function(){let e=u(t).$implicit,r=m();return f(r.onActionTableRowMouseLeave(e))}),a()}if(n&2){let t=s.$implicit,i=m();re("ntk-row-selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function fr(n,s){if(n&1){let t=w();l(0,"mat-row",64),I("click",function(e){let r=u(t).$implicit,g=m();return f(g.onActionTableRowSelect(r,e))})("rtclick",function(e){let r=u(t).$implicit,g=m();return f(g.onActionTableRowSelect(r,e))})("mouseenter",function(){let e=u(t).$implicit,r=m();return f(r.onActionTableRowMouseEnter(e))})("mouseleave",function(){let e=u(t).$implicit,r=m();return f(r.onActionTableRowMouseLeave(e))}),a()}if(n&2){let t=s.$implicit,i=m();re("ntk-row-selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),p("ngStyle",se(3,Oa,t.expanded===!0?"":"none"))}}var li=class li extends Ji{constructor(t,i,e,r,g,c,W,U,Re,Ve,Be,at,zn){super(t,new We,at,g,U);this.contentService=t;this.cmsConfirmationDialogService=i;this.cmsToastrService=e;this.router=r;this.tokenHelper=g;this.cdr=c;this.cmsStoreService=W;this.translate=U;this.themeService=Re;this.activatedRoute=Ve;this.pageInfo=Be;this.publicHelper=at;this.dialog=zn;this.requestLinkAccountUserId="";this.constructorInfoAreaId=this.constructor.name;this.optionloadComponent=!0;this.optionloadByRoute=!0;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ai;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","title","Description","action_menu"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","title","Description","action_menu"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:mn=>this.onSubmitOptionsSearch(mn)},this.requestLinkAccountUserId=this.activatedRoute.snapshot.paramMap.get("LinkAccountUserId"),this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=$e.Descending}set optionLinkLocationWorkAreaIds(t){this.requestLinkLocationWorkAreaIds=[],t&&t.length>0&&(this.requestLinkLocationWorkAreaIds=t),this.requestLinkLocationWorkAreaIds&&this.requestLinkLocationWorkAreaIds.length>0&&(this.filteModelContent.linkLocationWorkAreaIds=this.requestLinkLocationWorkAreaIds)}set optionLinkLocationWorkAreaId(t){this.requestLinkLocationWorkAreaIds=[],t&&t>0&&this.requestLinkLocationWorkAreaIds.push(t),this.requestLinkLocationWorkAreaIds&&this.requestLinkLocationWorkAreaIds.length>0&&(this.filteModelContent.linkLocationWorkAreaIds=this.requestLinkLocationWorkAreaIds)}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(t=>t.tokenInfoStore).subscribe(t=>De(this,null,function*(){this.tokenInfo=t,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(t=>t.unsubscribe())}DataGetAll(){if(this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),!this.optionloadComponent)return;if(this.tableRowsSelected=[],this.onActionTableRowSelect(new We),this.requestLinkAccountUserId&&this.requestLinkAccountUserId.length>0){let e=new D;e.propertyAnyName="AccountAgencyUser",e.propertyName="linkEstateExpertId",e.value=this.requestLinkAccountUserId,this.filteModelContent.filters.push(e)}let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.setAccessDataType(qe.Editor),this.contentService.ServiceGetAll(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess&&(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=$e.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=$e.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=$e.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionSelectorLocation(t){this.filteModelContent.linkLocationIds=t}onActionSelectorLocationWorkArea(t){this.filteModelContent.linkLocationWorkAreaIds=t}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(an,{height:"90%",panelClass:t,enterAnimationDuration:tt.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:tt.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(rn,{height:"90%",panelClass:i,enterAnimationDuration:tt.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:tt.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],e=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(r=>{if(r){let g=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(g,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(g)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(g,!1)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(W=>{i.set(W,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let r=JSON.parse(JSON.stringify(this.filteModelContent)),g=new D;g.propertyName="recordStatus",g.value=Ii.Available,r.filters.push(g),this.contentService.ServiceGetCount(r).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(W=>{i.set(W,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonAgentRow(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=t,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/main/account-user/LinkAccountAgencyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/main/account-user/LinkAccountAgencyId",this.tableRowSelected.id])}onActionButtonHistoryRow(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=t,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/log/property-history/LinkEstateAgencyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/log/property-history/LinkEstateAgencyId",this.tableRowSelected.id])}onActionButtonPropertyRow(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=t,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/data/property/LinkEstateAgencyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/data/property/LinkEstateAgencyId",this.tableRowSelected.id])}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onActionButtonReload(){this.optionloadComponent=!0,this.DataGetAll()}onSubmitOptionsSearch(t){t&&t.length>0?this.filterDataModelQueryBuilder=[...t]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};li.\u0275fac=function(i){return new(i||li)(y(et),y(Ki),y(B),y(yi),y(ie),y(H),y(te),y(O),y(Gi),y(Ei),y(ji),y(N),y(Mt))},li.\u0275cmp=F({type:li,selectors:[["app-estate-account-agency-list"]],inputs:{optionloadComponent:"optionloadComponent",optionloadByRoute:"optionloadByRoute",optionLinkLocationWorkAreaIds:"optionLinkLocationWorkAreaIds",optionLinkLocationWorkAreaId:"optionLinkLocationWorkAreaId"},standalone:!1,features:[X],decls:94,vars:59,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-user-tie","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-clock-rotate-left","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-house","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","title"],["matColumnDef","LinkCmsUserId"],["matColumnDef","Description"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,e){if(i&1){let r=w();_(0,Ba,1,1,"app-estate-account-expert-header",3),l(1,"app-cms-html-list",4),b("optionActionGuideNoticeDisplayChange",function(c){return u(r),A(e.viewGuideNotice,c)||(e.viewGuideNotice=c),f(c)}),I("optionOnActionButtonMemoRow",function(){return u(r),f(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(r),f(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(r),f(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(r),f(e.onActionButtonPrintRow())}),k(2,5),d(3," -------------------------------------- "),L(),Mi(4,6)(5,7),k(6,8),l(7,"a",9),I("click",function(){return u(r),f(e.viewGuideNotice=!e.viewGuideNotice)}),h(8,"i",10),a(),l(9,"a",9),I("click",function(){return u(r),f(e.onActionButtonReload())}),h(10,"i",11),a(),L(),k(11,12),l(12,"a",13),I("click",function(){return u(r),f(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),h(13,"mat-slide-toggle",14),d(14),S(15,"translate"),a(),l(16,"a",13),I("click",function(){return u(r),f(e.onActionButtonStatist())}),h(17,"mat-slide-toggle",14),d(18),S(19,"translate"),a(),L(),k(20,15),_(21,Na,7,3,"div",16),L(),k(22,17),_(23,Ha,7,3,"div",16),_(24,Ga,7,3,"div",16),l(25,"div",16)(26,"a",18),I("click",function(c){return u(r),f(e.onActionButtonAgentRow(e.tableRowSelected,c))}),h(27,"i",19)(28,"br"),a(),l(29,"p",20),d(30),S(31,"translate"),a()(),l(32,"div",16)(33,"a",18),I("click",function(c){return u(r),f(e.onActionButtonHistoryRow(e.tableRowSelected,c))}),h(34,"i",21)(35,"br"),a(),l(36,"p",20),d(37),S(38,"translate"),a()(),l(39,"div",16)(40,"a",18),I("click",function(c){return u(r),f(e.onActionButtonPropertyRow(e.tableRowSelected,c))}),h(41,"i",22)(42,"br"),a(),l(43,"p",20),d(44),S(45,"translate"),a()(),L(),k(46,23),l(47,"app-cms-search-list",24),b("optionsChange",function(c){return u(r),A(e.optionsSearch,c)||(e.optionsSearch=c),f(c)}),d(48),S(49,"translate"),l(50,"app-cms-location-autocomplete",25),S(51,"translate"),I("optionChange",function(c){return u(r),f(e.onActionSelectorLocation(c))}),a(),h(52,"br"),d(53),S(54,"translate"),l(55,"app-cms-location-autocomplete",25),S(56,"translate"),I("optionChange",function(c){return u(r),f(e.onActionSelectorLocationWorkArea(c))}),a(),h(57,"hr"),a(),l(58,"app-cms-statist-list",24),b("optionsChange",function(c){return u(r),A(e.optionsStatist,c)||(e.optionsStatist=c),f(c)}),a(),L(),k(59,26),l(60,"mat-table",27,0),I("matSortChange",function(){u(r);let c=R(61);return f(e.onTableSortData(c))}),k(62,28),V(63,Ua,3,3,"mat-header-cell",29)(64,qa,3,0,"mat-cell",30),L(),k(65,31),V(66,ja,3,3,"mat-header-cell",32)(67,za,2,1,"mat-cell",30),L(),k(68,33),V(69,Qa,2,1,"mat-header-cell",32)(70,Ka,2,1,"mat-cell",30),L(),k(71,34),V(72,Ja,2,1,"mat-header-cell",32)(73,Za,2,1,"mat-cell",30),L(),k(74,35),V(75,Xa,2,1,"mat-header-cell",32)(76,$a,4,5,"mat-cell",30),L(),k(77,36),V(78,er,2,1,"mat-header-cell",32)(79,tr,2,1,"mat-cell",30),L(),k(80,37),V(81,ir,3,3,"mat-header-cell",29)(82,nr,6,1,"mat-cell",38),L(),k(83,39),V(84,or,5,8,"mat-cell",30),L(),k(85,40),V(86,dr,21,9,"mat-cell",30),L(),V(87,pr,1,0,"mat-header-row",41)(88,mr,1,2,"mat-row",42)(89,ur,1,2,"mat-row",43)(90,fr,1,5,"mat-row",44),a(),L(),k(91,45),l(92,"mat-paginator",46,1),I("page",function(c){return u(r),f(e.onTablePageingData(c))}),a(),L(),a()}i&2&&(C((e.requestLinkAccountUserId==null?null:e.requestLinkAccountUserId.length)>0?0:-1),o(),p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey","accountagency.content.list"),v("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.title),o(9),re("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),o(3),p("checked",e.optionsSearch.data.show),o(),E("",M(15,38,"ACTION.SEARCH")," "),o(3),p("checked",e.optionsStatist.data.show),o(),E("",M(19,40,"ACTION.STATIST")," "),o(3),C(e.optionloadByRoute&&e.dataModelResult.access.accessAddRow?21:-1),o(2),C(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow?23:-1),o(),C(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow?24:-1),o(6),E(" ",M(31,42,"ACTION.PERSONNEL")," "),o(7),E(" ",M(38,44,"ACTION.HISTORY")," "),o(7),E(" ",M(45,46,"ACTION.CONNECT_TO_PROPERTY")," "),o(3),v("options",e.optionsSearch),o(),E(" ",M(49,48,"ACTION.LOCATION")," "),o(2),p("optionSelectForce",e.filteModelContent.linkLocationIds)("optionPlaceholder",M(51,50,"TITLE.Region")),o(3),E(" ",M(54,52,"ACTION.LOCATION_WORK_ACTIVITY")," "),o(2),p("optionSelectForce",e.filteModelContent.linkLocationWorkAreaIds)("optionPlaceholder",M(56,54,"TITLE.Region")),o(3),v("options",e.optionsStatist),o(2),p("dataSource",e.tableSource),o(27),p("matHeaderRowDef",e.tabledisplayedColumns),o(),p("matRowDefColumns",le(56,Da)),o(),p("matRowDefColumns",e.tabledisplayedColumns),o(),p("matRowDefColumns",le(57,Wa)),o(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",le(58,Fa)))},dependencies:[de,St,nt,ki,Li,Pi,Vi,Di,Wi,Et,It,Tt,vt,yt,wt,At,bt,xt,Rt,xi,Zi,Xi,Pe,$i,en,ln,pe,G,Yi,j],encapsulation:2});var On=li;var yn=Si(Hi());var gr=["vform"],hr=n=>({direction:n});function _r(n,s){if(n&1&&(h(0,"img",20),S(1,"cmsthumbnail")),n&2){let t=m();p("src",x(M(1,2,t.dataModel.linkMainImageIdSrc)),P)}}function Cr(n,s){n&1&&h(0,"i",27)}function Sr(n,s){n&1&&h(0,"i",28)}function Mr(n,s){n&1&&(l(0,"mat-error"),d(1," Title is "),l(2,"strong"),d(3),S(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function Er(n,s){n&1&&(l(0,"mat-error"),d(1," Description is "),l(2,"strong"),d(3),S(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function yr(n,s){if(n&1){let t=w();l(0,"div",21)(1,"label",51),d(2),S(3,"translate"),a(),l(4,"textarea",52,11),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.descriptionHidden,e)||(r.dataModel.descriptionHidden=e),f(e)}),d(6,"                "),a(),l(7,"em"),d(8),a()()}if(n&2){let t=R(5),i=m();o(2),T(M(3,5,"TITLE.Description_Hidden")),o(2),p("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),v("ngModel",i.dataModel.descriptionHidden),o(4),E("",t.value.length," / 500")}}function Ir(n,s){if(n&1){let t=w();l(0,"app-cms-user-selector",53),S(1,"translate"),I("optionChange",function(e){u(t);let r=m();return f(r.onActionSelectorUser(e))}),a()}if(n&2){let t=m();p("optionDisabled",!(t.fieldsInfo.linkCmsUserId!=null&&t.fieldsInfo.linkCmsUserId.accessAddField))("optionSelectForce",t.dataModel.linkCmsUserId)("optionPlaceholder",M(1,3,"TITLE.USER"))}}function vr(n,s){n&1&&h(0,"i",27)}function Ar(n,s){n&1&&h(0,"i",28)}function br(n,s){n&1&&(l(0,"mat-error"),d(1," Address is "),l(2,"strong"),d(3),S(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function Tr(n,s){if(n&1){let t=w();l(0,"div",48)(1,"div",54)(2,"h5",55),d(3),a()(),l(4,"div",56)(5,"div",57)(6,"input",58),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.accessWatchRowSite,e)||(r.dataModel.accessWatchRowSite=e),f(e)}),a(),h(7,"label",59),a()()()}if(n&2){let t=m();o(3),E(" ",t.fieldsInfo.accessWatchRowSite==null?null:t.fieldsInfo.accessWatchRowSite.fieldTitle," "),o(3),v("ngModel",t.dataModel.accessWatchRowSite)}}function wr(n,s){if(n&1){let t=w();l(0,"div",48)(1,"div",54)(2,"h5",60),d(3),a()(),l(4,"div",56)(5,"div",57)(6,"input",61),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.accessWatchRowOtherAgency,e)||(r.dataModel.accessWatchRowOtherAgency=e),f(e)}),a(),h(7,"label",62),a()()()}if(n&2){let t=m();o(3),E(" ",t.fieldsInfo.accessWatchRowOtherAgency==null?null:t.fieldsInfo.accessWatchRowOtherAgency.fieldTitle," "),o(3),v("ngModel",t.dataModel.accessWatchRowOtherAgency)}}function xr(n,s){if(n&1){let t=w();l(0,"div",48)(1,"div",54)(2,"h5",63),d(3),a()(),l(4,"div",56)(5,"div",57)(6,"input",64),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.accessWatchRowOtherAgent,e)||(r.dataModel.accessWatchRowOtherAgent=e),f(e)}),a(),h(7,"label",65),a()()()}if(n&2){let t=m();o(3),E(" ",t.fieldsInfo.accessWatchRowOtherAgent==null?null:t.fieldsInfo.accessWatchRowOtherAgent.fieldTitle," "),o(3),v("ngModel",t.dataModel.accessWatchRowOtherAgent)}}function Rr(n,s){if(n&1){let t=w();l(0,"div",48)(1,"div",54)(2,"h5",66),d(3),a()(),l(4,"div",56)(5,"div",57)(6,"input",67),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.accessAllowShareRowWatchOtherAgency,e)||(r.dataModel.accessAllowShareRowWatchOtherAgency=e),f(e)}),a(),h(7,"label",68),a()()()}if(n&2){let t=m();o(3),E(" ",t.fieldsInfo.accessAllowShareRowWatchOtherAgency==null?null:t.fieldsInfo.accessAllowShareRowWatchOtherAgency.fieldTitle," "),o(3),v("ngModel",t.dataModel.accessAllowShareRowWatchOtherAgency)}}function kr(n,s){if(n&1){let t=w();l(0,"div",48)(1,"div",54)(2,"h5",69),d(3),a()(),l(4,"div",56)(5,"div",57)(6,"input",70),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.accessAllowShareRowWatchOtherAgent,e)||(r.dataModel.accessAllowShareRowWatchOtherAgent=e),f(e)}),a(),h(7,"label",71),a()()()}if(n&2){let t=m();o(3),E(" ",t.fieldsInfo.accessAllowShareRowWatchOtherAgent==null?null:t.fieldsInfo.accessAllowShareRowWatchOtherAgent.fieldTitle," "),o(3),v("ngModel",t.dataModel.accessAllowShareRowWatchOtherAgent)}}function Lr(n,s){if(n&1){let t=w();l(0,"div",48)(1,"div",54)(2,"h5",72),d(3),a()(),l(4,"div",56)(5,"div",57)(6,"input",73),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.notificationWorkAreaEstate,e)||(r.dataModel.notificationWorkAreaEstate=e),f(e)}),a(),h(7,"label",74),a()()()}if(n&2){let t=m();o(3),E(" ",t.fieldsInfo.notificationWorkAreaEstate==null?null:t.fieldsInfo.notificationWorkAreaEstate.fieldTitle," "),o(3),v("ngModel",t.dataModel.notificationWorkAreaEstate)}}function Pr(n,s){if(n&1){let t=w();l(0,"div",48)(1,"div",54)(2,"h5",75),d(3),a()(),l(4,"div",56)(5,"div",57)(6,"input",76),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.notificationWorkAreaCustomerOrder,e)||(r.dataModel.notificationWorkAreaCustomerOrder=e),f(e)}),a(),h(7,"label",77),a()()()}if(n&2){let t=m();o(3),E(" ",t.fieldsInfo.notificationWorkAreaCustomerOrder==null?null:t.fieldsInfo.notificationWorkAreaCustomerOrder.fieldTitle," "),o(3),v("ngModel",t.dataModel.notificationWorkAreaCustomerOrder)}}function Vr(n,s){if(n&1){let t=w();l(0,"div",50)(1,"button",78),I("click",function(){u(t);let e=m();return f(e.onFormCancel())}),h(2,"i",79),d(3),S(4,"translate"),a(),l(5,"button",80),h(6,"i",81),d(7),S(8,"translate"),a()()}if(n&2){m();let t=R(10);o(3),E(" ",M(4,3,"ACTION.CANCEL")," "),o(2),p("disabled",!t.form.valid),o(2),E(" ",M(8,5,"ACTION.SAVE")," ")}}var si=class si extends Vt{constructor(t,i,e,r,g,c,W,U,Re,Ve){super(r,new Fe,c,Re);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estateAccountExpertService=r;this.cmsToastrService=g;this.publicHelper=c;this.cmsStoreService=W;this.cdr=U;this.translate=Re;this.tokenHelper=Ve;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new Zt;this.dataModelResult=new $;this.dataModel=new Fe;this.formInfo=new ye;this.fileManagerOpenForm=!1;this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Dt;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAccountExpertService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}receiveMap(t=this.mapModel){t&&(this.mapModel=t,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(i=>{this.mapMarker=yn.marker([i.lat,i.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",i=>{let e=i.latlng.lat,r=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),e===this.dataModel.geolocationlatitude&&r===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=yn.marker([e,r]).addTo(this.mapModel),this.dataModel.geolocationlatitude=e,this.dataModel.geolocationlongitude=r}))}receiveZoom(t){}onActionSelectorUser(t){this.dataModel.linkCmsUserId=null,t&&t.id>0&&(this.dataModel.linkCmsUserId=t.id)}onActionSelectorLocation(t){this.dataModel.linkLocationId=null,t&&t.id>0&&(this.dataModel.linkLocationId=t.id)}onActionSelectorLocationWorkArea(t){this.dataModel.linkLocationWorkAreaIds=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}};si.\u0275fac=function(i){return new(i||si)(y(Me),y(Se),y(Y),y(Ye),y(B),y(N),y(te),y(H),y(O),y(ie))},si.\u0275cmp=F({type:si,selectors:[["app-estate-account-expert-add"]],viewQuery:function(i,e){if(i&1&&ne(gr,5),i&2){let r;oe(r=ae())&&(e.formGroup=r.first)}},standalone:!1,features:[X],decls:117,vars:118,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["JoinId",""],["SerialRfId",""],["SerialNumber",""],["PlaceProduction",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["DescriptionHidden",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.joinId",1,"color-highlight"],["matInput","","name","dataModel.joinId","type","text","minlength","0","maxlength","64","id","dataModel.joinId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.serialRfId",1,"color-highlight"],["matInput","","name","dataModel.serialRfId","type","text","minlength","0","maxlength","64","id","dataModel.serialRfId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.serialNumber",1,"color-highlight"],["matInput","","name","dataModel.serialNumber","type","text","minlength","0","maxlength","64","id","dataModel.serialNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.placeProduction",1,"color-highlight"],["matInput","","name","dataModel.placeProduction","type","text","minlength","0","maxlength","64","id","dataModel.placeProduction",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","name","dataModel.mobileNumber","type","text","minlength","0","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],["id","main-map",3,"map$","zoom$","optonCenter"],[1,"form-actions"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"pt-1"],["data-trigger-switch","dataModel.accessWatchRowSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.accessWatchRowSite","name","dataModel.accessWatchRowSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowSite",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgency","name","dataModel.accessWatchRowOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgent","name","dataModel.accessWatchRowOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgency","name","dataModel.accessAllowShareRowWatchOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgent","name","dataModel.accessAllowShareRowWatchOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaEstate",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaEstate","name","dataModel.notificationWorkAreaEstate",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaEstate",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaCustomerOrder",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaCustomerOrder","name","dataModel.notificationWorkAreaCustomerOrder",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaCustomerOrder",1,"custom-control-label"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let r=w();l(0,"div",12),h(1,"app-progress-spinner",13),l(2,"div",14)(3,"p",15),d(4),a(),l(5,"p"),d(6),S(7,"translate"),a(),h(8,"app-cms-form-result-message",16),l(9,"form",17,0),I("ngSubmit",function(){return u(r),f(e.onFormSubmit())}),l(11,"div",18)(12,"a",19),S(13,"cmsthumbnail"),_(14,_r,2,4,"img",20),a()(),l(15,"div",21)(16,"label",22),I("click",function(){return u(r),f(e.fileManagerOpenForm=!0)}),d(17),S(18,"translate"),a(),l(19,"input",23,1),S(21,"translate"),b("ngModelChange",function(c){return u(r),A(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),f(c)}),I("click",function(){return u(r),f(e.fileManagerOpenForm=!0)}),a(),l(22,"cms-file-manager",24),S(23,"translate"),I("itemSelected",function(c){return u(r),f(e.onActionFileSelected(c))}),b("openFormChange",function(c){return u(r),A(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),f(c)}),a()(),l(24,"div",21)(25,"label",25),d(26),a(),l(27,"input",26,2),b("ngModelChange",function(c){return u(r),A(e.dataModel.title,c)||(e.dataModel.title=c),f(c)}),a(),_(29,Cr,1,0,"i",27),_(30,Sr,1,0,"i",28),h(31,"em"),_(32,Mr,5,3,"mat-error"),a(),l(33,"div",21)(34,"label",29),d(35),a(),l(36,"textarea",30,3),b("ngModelChange",function(c){return u(r),A(e.dataModel.description,c)||(e.dataModel.description=c),f(c)}),d(38,"              "),a(),l(39,"em"),d(40),a(),_(41,Er,5,3,"mat-error"),a(),_(42,yr,9,7,"div",21),_(43,Ir,2,5,"app-cms-user-selector",31),l(44,"div",21)(45,"label",32),d(46),a(),l(47,"input",33,4),b("ngModelChange",function(c){return u(r),A(e.dataModel.joinId,c)||(e.dataModel.joinId=c),f(c)}),a(),l(49,"em"),d(50),a()(),l(51,"div",21)(52,"label",34),d(53),a(),l(54,"input",35,5),b("ngModelChange",function(c){return u(r),A(e.dataModel.serialRfId,c)||(e.dataModel.serialRfId=c),f(c)}),a(),l(56,"em"),d(57),a()(),l(58,"div",21)(59,"label",36),d(60),a(),l(61,"input",37,6),b("ngModelChange",function(c){return u(r),A(e.dataModel.serialNumber,c)||(e.dataModel.serialNumber=c),f(c)}),a(),l(63,"em"),d(64),a()(),l(65,"div",21)(66,"label",38),d(67),a(),l(68,"input",39,7),b("ngModelChange",function(c){return u(r),A(e.dataModel.placeProduction,c)||(e.dataModel.placeProduction=c),f(c)}),a()(),l(70,"div",21)(71,"label",40),d(72),a(),l(73,"input",41,8),b("ngModelChange",function(c){return u(r),A(e.dataModel.phoneNumber,c)||(e.dataModel.phoneNumber=c),f(c)}),a(),l(75,"em"),d(76),a()(),l(77,"div",21)(78,"label",42),d(79),a(),l(80,"input",43,9),b("ngModelChange",function(c){return u(r),A(e.dataModel.mobileNumber,c)||(e.dataModel.mobileNumber=c),f(c)}),a(),l(82,"em"),d(83),a()(),l(84,"div",21)(85,"label",44),d(86),a(),l(87,"textarea",45,10),b("ngModelChange",function(c){return u(r),A(e.dataModel.address,c)||(e.dataModel.address=c),f(c)}),d(89,"                          "),a(),_(90,vr,1,0,"i",27),_(91,Ar,1,0,"i",28),l(92,"em"),d(93),a(),_(94,br,5,3,"mat-error"),a(),l(95,"app-cms-location-selector",46),S(96,"translate"),I("optionChange",function(c){return u(r),f(e.onActionSelectorLocation(c))}),a(),h(97,"br"),d(98),S(99,"translate"),l(100,"app-cms-location-autocomplete",47),S(101,"translate"),I("optionChange",function(c){return u(r),f(e.onActionSelectorLocationWorkArea(c))}),a(),h(102,"hr"),_(103,Tr,8,2,"div",48),_(104,wr,8,2,"div",48),_(105,xr,8,2,"div",48),_(106,Rr,8,2,"div",48),_(107,kr,8,2,"div",48),h(108,"hr"),_(109,Lr,8,2,"div",48),_(110,Pr,8,2,"div",48),h(111,"hr"),l(112,"p"),d(113),S(114,"translate"),a(),l(115,"app-cms-map",49),I("map$",function(c){return u(r),f(e.receiveMap(c))})("zoom$",function(c){return u(r),f(e.receiveZoom(c))}),a(),_(116,Vr,9,7,"div",50),a()()()}if(i&2){let r=R(28),g=R(37),c=R(48),W=R(55),U=R(62),Re=R(74),Ve=R(81),Be=R(88);o(),p("optionsInfoAreaId",e.constructorInfoAreaId),o(3),E(" ",e.formInfo.formTitle," "),o(2),E(" ",M(7,98,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),p("formInfo",e.formInfo),o(),p("ngStyle",se(116,hr,e.tokenInfo.access.direction)),o(3),p("href",x(M(13,100,e.dataModel.linkMainImageIdSrc)),P),o(2),C((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?14:-1),o(3),T(M(18,102,"TITLE.Profile_Picture")),o(2),p("placeholder",x(M(21,104,"TITLE.Profile_Photo_File_ID"))),v("ngModel",e.dataModel.linkMainImageId),o(3),p("language",e.appLanguage)("isPopup",!0)("openSelectFileDescription",M(23,106,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),v("openForm",e.fileManagerOpenForm),p("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(4),T(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),v("ngModel",e.dataModel.title),p("disabled",!(e.fieldsInfo.title!=null&&e.fieldsInfo.title.accessAddField)),o(2),C(r.value?-1:29),o(),C(r.value?30:-1),o(2),C(r.errors!=null&&r.errors.required?32:-1),o(3),T(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),v("ngModel",e.dataModel.description),p("disabled",!(e.fieldsInfo.description!=null&&e.fieldsInfo.description.accessAddField)),o(4),E("",g.value.length," / 500"),o(),C(g.errors!=null&&g.errors.required?41:-1),o(),C(e.fieldsInfo.descriptionHidden!=null&&e.fieldsInfo.descriptionHidden.accessWatchField?42:-1),o(),C(e.tokenHelper.isAdminSite?43:-1),o(3),T(e.fieldsInfo.joinId==null?null:e.fieldsInfo.joinId.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.joinId==null?null:e.fieldsInfo.joinId.fieldTitle)),v("ngModel",e.dataModel.joinId),p("disabled",!(e.fieldsInfo.joinId!=null&&e.fieldsInfo.joinId.accessAddField)),o(3),E("",c.value.length," / 64"),o(3),T(e.fieldsInfo.serialRfId==null?null:e.fieldsInfo.serialRfId.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.serialRfId==null?null:e.fieldsInfo.serialRfId.fieldTitle)),v("ngModel",e.dataModel.serialRfId),p("disabled",!(e.fieldsInfo.serialRfId!=null&&e.fieldsInfo.serialRfId.accessAddField)),o(3),E("",W.value.length," / 64"),o(3),T(e.fieldsInfo.serialNumber==null?null:e.fieldsInfo.serialNumber.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.serialNumber==null?null:e.fieldsInfo.serialNumber.fieldTitle)),v("ngModel",e.dataModel.serialNumber),p("disabled",!(e.fieldsInfo.serialNumber!=null&&e.fieldsInfo.serialNumber.accessAddField)),o(3),E("",U.value.length," / 64"),o(3),T(e.fieldsInfo.placeProduction==null?null:e.fieldsInfo.placeProduction.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.placeProduction==null?null:e.fieldsInfo.placeProduction.fieldTitle)),v("ngModel",e.dataModel.placeProduction),p("disabled",!(e.fieldsInfo.placeProduction!=null&&e.fieldsInfo.placeProduction.accessAddField)),o(4),T(e.fieldsInfo.phoneNumber==null?null:e.fieldsInfo.phoneNumber.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.phoneNumber==null?null:e.fieldsInfo.phoneNumber.fieldTitle)),v("ngModel",e.dataModel.phoneNumber),p("disabled",!(e.fieldsInfo.phoneNumber!=null&&e.fieldsInfo.phoneNumber.accessAddField)),o(3),E("",Re.value.length," / 64"),o(3),T(e.fieldsInfo.mobileNumber==null?null:e.fieldsInfo.mobileNumber.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.mobileNumber==null?null:e.fieldsInfo.mobileNumber.fieldTitle)),v("ngModel",e.dataModel.mobileNumber),p("disabled",!(e.fieldsInfo.mobileNumber!=null&&e.fieldsInfo.mobileNumber.accessAddField)),o(3),E("",Ve.value.length," / 64"),o(3),T(e.fieldsInfo.address==null?null:e.fieldsInfo.address.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.address==null?null:e.fieldsInfo.address.fieldTitle)),v("ngModel",e.dataModel.address),p("disabled",!(e.fieldsInfo.address!=null&&e.fieldsInfo.address.accessAddField)),o(3),C(r.value?-1:90),o(),C(r.value?91:-1),o(2),E("",Be.value.length," / 500"),o(),C(Be.errors!=null&&Be.errors.required?94:-1),o(),p("optionSelectForce",e.dataModel.linkLocationId)("optionPlaceholder",M(96,108,"TITLE.Geographical_Region"))("optionDisabled",!(e.fieldsInfo.linkLocationId!=null&&e.fieldsInfo.linkLocationId.accessAddField)),o(3),E(" ",M(99,110,"TITLE.COVERED_AREAS")," "),o(2),p("optionSelectForce",e.dataModel.linkLocationWorkAreaIds)("optionPlaceholder",M(101,112,"TITLE.Region")),o(3),C(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?103:-1),o(),C(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?104:-1),o(),C(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?105:-1),o(),C(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?106:-1),o(),C(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?107:-1),o(2),C(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?109:-1),o(),C(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?110:-1),o(3),T(M(114,114,"TITLE.Click_on_the_map_to_specify_the_location")),o(2),p("optonCenter",e.mapOptonCenter),o(),C(e.formInfo.submitButtonEnabled?116:-1)}},dependencies:[de,ge,z,ze,Q,me,K,he,_e,fe,ue,Ce,J,Nt,Pe,Ft,Ot,q,Ie,Ee,G,j],encapsulation:2});var sn=si;var In=Si(Hi());var Dr=["vform"],Wr=n=>({direction:n});function Fr(n,s){if(n&1&&(h(0,"img",23),S(1,"cmsthumbnail")),n&2){let t=m();p("src",x(M(1,2,t.dataModel.linkMainImageIdSrc)),P)}}function Or(n,s){n&1&&h(0,"i",30)}function Br(n,s){n&1&&h(0,"i",31)}function Nr(n,s){n&1&&(l(0,"mat-error"),d(1," Title is "),l(2,"strong"),d(3),S(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function Hr(n,s){n&1&&(l(0,"mat-error"),d(1," Description is "),l(2,"strong"),d(3),S(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function Gr(n,s){if(n&1){let t=w();l(0,"div",24)(1,"label",60),d(2),S(3,"translate"),a(),l(4,"textarea",61,12),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.descriptionHidden,e)||(r.dataModel.descriptionHidden=e),f(e)}),d(6,"                    "),a(),l(7,"em"),d(8),a()()}if(n&2){let t=R(5),i=m();o(2),T(M(3,7,"TITLE.Description_Hidden")),o(2),p("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle))("disabled",x(!(i.fieldsInfo.descriptionHidden!=null&&i.fieldsInfo.descriptionHidden.accessEditField))),v("ngModel",i.dataModel.descriptionHidden),o(4),E("",t.value.length," / 500")}}function Ur(n,s){if(n&1){let t=w();l(0,"app-cms-user-selector",62),S(1,"translate"),I("optionChange",function(e){u(t);let r=m();return f(r.onActionSelectorUser(e))}),a()}if(n&2){let t=m();p("optionDisabled",!(t.fieldsInfo.linkCmsUserId!=null&&t.fieldsInfo.linkCmsUserId.accessEditField))("optionSelectForce",t.dataModel.linkCmsUserId)("optionPlaceholder",M(1,3,"TITLE.USER"))}}function qr(n,s){n&1&&h(0,"i",30)}function jr(n,s){n&1&&h(0,"i",31)}function Yr(n,s){n&1&&(l(0,"mat-error"),d(1," Address is "),l(2,"strong"),d(3),S(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function zr(n,s){if(n&1){let t=w();l(0,"div",51)(1,"div",63)(2,"h5",64),d(3),a()(),l(4,"div",65)(5,"div",66)(6,"input",67),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.accessWatchRowSite,e)||(r.dataModel.accessWatchRowSite=e),f(e)}),a(),h(7,"label",68),a()()()}if(n&2){let t=m();o(3),E(" ",t.fieldsInfo.accessWatchRowSite==null?null:t.fieldsInfo.accessWatchRowSite.fieldTitle," "),o(3),v("ngModel",t.dataModel.accessWatchRowSite)}}function Qr(n,s){if(n&1){let t=w();l(0,"div",51)(1,"div",63)(2,"h5",69),d(3),a()(),l(4,"div",65)(5,"div",66)(6,"input",70),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.accessWatchRowOtherAgency,e)||(r.dataModel.accessWatchRowOtherAgency=e),f(e)}),a(),h(7,"label",71),a()()()}if(n&2){let t=m();o(3),E(" ",t.fieldsInfo.accessWatchRowOtherAgency==null?null:t.fieldsInfo.accessWatchRowOtherAgency.fieldTitle," "),o(3),v("ngModel",t.dataModel.accessWatchRowOtherAgency)}}function Kr(n,s){if(n&1){let t=w();l(0,"div",51)(1,"div",63)(2,"h5",72),d(3),a()(),l(4,"div",65)(5,"div",66)(6,"input",73),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.accessWatchRowOtherAgent,e)||(r.dataModel.accessWatchRowOtherAgent=e),f(e)}),a(),h(7,"label",74),a()()()}if(n&2){let t=m();o(3),E(" ",t.fieldsInfo.accessWatchRowOtherAgent==null?null:t.fieldsInfo.accessWatchRowOtherAgent.fieldTitle," "),o(3),v("ngModel",t.dataModel.accessWatchRowOtherAgent)}}function Jr(n,s){if(n&1){let t=w();l(0,"div",51)(1,"div",63)(2,"h5",75),d(3),a()(),l(4,"div",65)(5,"div",66)(6,"input",76),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.accessAllowShareRowWatchOtherAgency,e)||(r.dataModel.accessAllowShareRowWatchOtherAgency=e),f(e)}),a(),h(7,"label",77),a()()()}if(n&2){let t=m();o(3),E(" ",t.fieldsInfo.accessAllowShareRowWatchOtherAgency==null?null:t.fieldsInfo.accessAllowShareRowWatchOtherAgency.fieldTitle," "),o(3),v("ngModel",t.dataModel.accessAllowShareRowWatchOtherAgency)}}function Zr(n,s){if(n&1){let t=w();l(0,"div",51)(1,"div",63)(2,"h5",78),d(3),a()(),l(4,"div",65)(5,"div",66)(6,"input",79),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.accessAllowShareRowWatchOtherAgent,e)||(r.dataModel.accessAllowShareRowWatchOtherAgent=e),f(e)}),a(),h(7,"label",80),a()()()}if(n&2){let t=m();o(3),E(" ",t.fieldsInfo.accessAllowShareRowWatchOtherAgent==null?null:t.fieldsInfo.accessAllowShareRowWatchOtherAgent.fieldTitle," "),o(3),v("ngModel",t.dataModel.accessAllowShareRowWatchOtherAgent)}}function Xr(n,s){if(n&1){let t=w();l(0,"div",51)(1,"div",63)(2,"h5",81),d(3),a()(),l(4,"div",65)(5,"div",66)(6,"input",82),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.notificationWorkAreaEstate,e)||(r.dataModel.notificationWorkAreaEstate=e),f(e)}),a(),h(7,"label",83),a()()()}if(n&2){let t=m();o(3),E(" ",t.fieldsInfo.notificationWorkAreaEstate==null?null:t.fieldsInfo.notificationWorkAreaEstate.fieldTitle," "),o(3),v("ngModel",t.dataModel.notificationWorkAreaEstate)}}function $r(n,s){if(n&1){let t=w();l(0,"div",51)(1,"div",63)(2,"h5",84),d(3),a()(),l(4,"div",65)(5,"div",66)(6,"input",85),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.notificationWorkAreaCustomerOrder,e)||(r.dataModel.notificationWorkAreaCustomerOrder=e),f(e)}),a(),h(7,"label",86),a()()()}if(n&2){let t=m();o(3),E(" ",t.fieldsInfo.notificationWorkAreaCustomerOrder==null?null:t.fieldsInfo.notificationWorkAreaCustomerOrder.fieldTitle," "),o(3),v("ngModel",t.dataModel.notificationWorkAreaCustomerOrder)}}function el(n,s){if(n&1){let t=w();l(0,"div",51)(1,"div",63)(2,"h5",75),d(3," accessShareAgencyToUser "),a()(),l(4,"div",65)(5,"div",66)(6,"input",87),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataEstateAccountAgencyExpertModel.accessShareAgencyToUser,e)||(r.dataEstateAccountAgencyExpertModel.accessShareAgencyToUser=e),f(e)}),a(),h(7,"label",88),a()()()}if(n&2){let t=m();o(6),v("ngModel",t.dataEstateAccountAgencyExpertModel.accessShareAgencyToUser)}}function tl(n,s){if(n&1){let t=w();l(0,"div",51)(1,"div",63)(2,"h5",89),d(3," accessShareUserToAgency "),a()(),l(4,"div",65)(5,"div",66)(6,"input",90),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataEstateAccountAgencyExpertModel.accessShareUserToAgency,e)||(r.dataEstateAccountAgencyExpertModel.accessShareUserToAgency=e),f(e)}),a(),h(7,"label",91),a()()()}if(n&2){let t=m();o(6),v("ngModel",t.dataEstateAccountAgencyExpertModel.accessShareUserToAgency)}}function il(n,s){if(n&1){let t=w();l(0,"button",92),I("click",function(){u(t);let e=m();return f(e.onActionDataGetAddGroup())}),d(1," + "),a()}}function nl(n,s){if(n&1&&(l(0,"mat-header-cell"),d(1),a()),n&2){let t=m(2);o(),E(" ",t.fieldsInfoAgencyUser.linkEstateExpertId==null?null:t.fieldsInfoAgencyUser.linkEstateExpertId.fieldTitle," ")}}function ol(n,s){if(n&1&&(d(0),S(1,"estateAccountExpertInfo"),S(2,"async")),n&2){let t=m().$implicit;E(" ",M(2,3,M(1,1,t.linkEstateExpertId))," ")}}function al(n,s){if(n&1&&(l(0,"mat-cell"),_(1,ol,3,5),a()),n&2){let t=s.$implicit;o(),C(t.linkEstateExpertId?1:-1)}}function rl(n,s){if(n&1&&(l(0,"mat-header-cell"),d(1),a()),n&2){let t=m(2);o(),E(" ",t.fieldsInfoAgencyUser.linkEstateAccountAgencyId==null?null:t.fieldsInfoAgencyUser.linkEstateAccountAgencyId.fieldTitle," ")}}function ll(n,s){if(n&1&&(d(0),S(1,"estateAccountAgencyInfo"),S(2,"async")),n&2){let t=m().$implicit;E(" ",M(2,3,M(1,1,t.linkEstateAccountAgencyId))," ")}}function sl(n,s){if(n&1&&(l(0,"mat-cell"),_(1,ll,3,5),a()),n&2){let t=s.$implicit;o(),C(t.linkEstateAccountAgencyId?1:-1)}}function cl(n,s){if(n&1&&(l(0,"mat-header-cell"),d(1),a()),n&2){let t=m(2);o(),E(" ",t.fieldsInfoAgencyUser.accessShareUserToAgency==null?null:t.fieldsInfoAgencyUser.accessShareUserToAgency.fieldTitle," ")}}function dl(n,s){if(n&1&&(h(0,"i",104),S(1,"boolclass")),n&2){let t=m().$implicit;p("ngClass",M(1,1,t.accessShareUserToAgency))}}function pl(n,s){if(n&1&&(l(0,"mat-cell"),_(1,dl,2,3,"i",104),a()),n&2){let t=s.$implicit;o(),C(t.accessShareUserToAgency?1:-1)}}function ml(n,s){if(n&1&&(l(0,"mat-header-cell"),d(1),a()),n&2){let t=m(2);o(),E(" ",t.fieldsInfoAgencyUser.accessShareAgencyToUser==null?null:t.fieldsInfoAgencyUser.accessShareAgencyToUser.fieldTitle," ")}}function ul(n,s){if(n&1&&(h(0,"i",104),S(1,"boolclass")),n&2){let t=m().$implicit;p("ngClass",M(1,1,t.accessShareAgencyToUser))}}function fl(n,s){if(n&1&&(l(0,"mat-cell"),_(1,ul,2,3,"i",104),a()),n&2){let t=s.$implicit;o(),C(t.accessShareAgencyToUser?1:-1)}}function gl(n,s){n&1&&(l(0,"mat-header-cell"),d(1),S(2,"translate"),a()),n&2&&(o(),E(" ",M(2,1,"TITLE.OPTION")," "))}function hl(n,s){if(n&1){let t=w();l(0,"mat-cell",105)(1,"button",106)(2,"small",107),I("click",function(){let e=u(t).$implicit,r=m(2);return f(r.onActionDataGetDeleteGroup(e))}),l(3,"mat-icon",108),S(4,"translate"),d(5,"delete"),a()()()()}n&2&&(o(3),p("matTooltip",x(M(4,2,"ACTION.DELETE"))))}function _l(n,s){n&1&&h(0,"mat-header-row")}function Cl(n,s){if(n&1&&h(0,"mat-row"),n&2){let t=s.dataIndex;re("ntk-row-odd",t%2)("ntk-row-even",!(t%2))}}function Sl(n,s){if(n&1&&(l(0,"div",56)(1,"mat-table",93),k(2,94),V(3,nl,2,1,"mat-header-cell",95)(4,al,2,1,"mat-cell",96),L(),k(5,97),V(6,rl,2,1,"mat-header-cell",95)(7,sl,2,1,"mat-cell",96),L(),k(8,98),V(9,cl,2,1,"mat-header-cell",95)(10,pl,2,1,"mat-cell",96),L(),k(11,99),V(12,ml,2,1,"mat-header-cell",95)(13,fl,2,1,"mat-cell",96),L(),k(14,100),V(15,gl,3,3,"mat-header-cell",95)(16,hl,6,4,"mat-cell",101),L(),V(17,_l,1,0,"mat-header-row",102)(18,Cl,1,4,"mat-row",103),a()()),n&2){let t=m();o(),p("dataSource",t.optionTabledataSource),o(16),p("matHeaderRowDef",t.optionTabledisplayedColumns),o(),p("matRowDefColumns",t.optionTabledisplayedColumns)}}function Ml(n,s){n&1&&(l(0,"mat-icon"),d(1,"call_end"),a())}function El(n,s){n&1&&(l(0,"mat-icon"),d(1,"forum"),a())}function yl(n,s){if(n&1){let t=w();l(0,"div",59)(1,"button",109),I("click",function(){u(t);let e=m();return f(e.onFormCancel())}),h(2,"i",110),d(3),S(4,"translate"),a(),l(5,"button",111),h(6,"i",112),d(7),S(8,"translate"),a()()}if(n&2){m();let t=R(10);o(3),E(" ",M(4,3,"ACTION.CANCEL")," "),o(2),p("disabled",!t.form.valid),o(2),E(" ",M(8,5,"ACTION.SAVE")," ")}}var ci=class ci extends Wt{constructor(t,i,e,r,g,c,W,U,Re,Ve,Be){super(r,new Fe,U,Be);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estateAccountExpertService=r;this.estateAccountAgencyExpertService=g;this.cmsToastrService=c;this.cmsStoreService=W;this.publicHelper=U;this.tokenHelper=Re;this.cdr=Ve;this.translate=Be;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfoAgencyUser=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ut;this.dataModel=new Fe;this.dataEstateAccountAgencyExpertModel=new vi;this.formInfo=new ye;this.fileManagerOpenForm=!1;this.optionTabledataSource=new Ni;this.optionTabledisplayedColumns=["LinkEstateExpertId","LinkEstateAccountAgencyId","AccessShareUserToAgency","AccessShareAgencyToUser","Action"];this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Dt;this.dataEstateAccountAgencyModel=[];this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.DataGetAccess(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllGroup()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAccountExpertService.setAccessLoad(),this.estateAccountExpertService.setAccessDataType(qe.Editor),this.estateAccountExpertService.ServiceGetOneById(this.requestId).subscribe({next:i=>{if(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess){let e=this.dataModel.geolocationlatitude,r=this.dataModel.geolocationlongitude;e>0&&r>0&&(this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:e,lon:r}),this.receiveMap()),this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage=""}else this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage);this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAccountExpertService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}receiveMap(t=this.mapModel){t&&(this.mapModel=t,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(i=>{this.mapMarker=In.marker([i.lat,i.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",i=>{let e=i.latlng.lat,r=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),e===this.dataModel.geolocationlatitude&&r===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=In.marker([e,r]).addTo(this.mapModel),this.dataModel.geolocationlatitude=e,this.dataModel.geolocationlongitude=r}))}receiveZoom(t){}onActionSelectorUser(t){this.dataModel.linkCmsUserId=null,t&&t.id>0&&(this.dataModel.linkCmsUserId=t.id)}onActionSelectorLocation(t){this.dataModel.linkLocationId=null,t&&t.id>0&&(this.dataModel.linkLocationId=t.id)}onStepClick(t,i){t.previouslySelectedIndex<t.selectedIndex}DataGetAllGroup(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Getting_access_category_from_the_server").subscribe(r=>{this.formInfo.submitResultMessage=r}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(r=>{this.publicHelper.processService.processStart(t,r,this.constructorInfoAreaId)});let i=new ke,e=new D;e.propertyName="linkEstateExpertId",e.value=this.requestId,i.filters.push(e),this.estateAccountAgencyExpertService.ServiceGetAll(i).subscribe({next:r=>{this.dataEstateAccountAgencyModel=r.listItems,this.optionTabledataSource.data=this.dataEstateAccountAgencyModel,r.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(g=>{this.formInfo.submitResultMessage=g}),this.formInfo.submitResultMessage=r.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(r.errorMessage)),this.publicHelper.processService.processStop(t)},error:r=>{this.cmsToastrService.typeError(r),this.publicHelper.processService.processStop(t,!1)}})}onActionDataGetAddGroup(){let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAccountAgencyExpertService.ServiceAdd(this.dataEstateAccountAgencyExpertModel).subscribe({next:i=>{i.isSuccess?(this.formInfo.submitResultMessage="",this.optionTabledataSource.data=i.listItems,this.DataGetAllGroup()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionDataGetDeleteGroup(t){let i=this.constructor.name+"onActionDataGetDeleteGroup";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.estateAccountAgencyExpertService.ServiceDeleteEntity(t).subscribe({next:e=>{e.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAllGroup()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onActionSelectorEstateAgency(t){this.dataEstateAccountAgencyExpertModel.linkEstateAccountAgencyId=null,this.dataEstateAccountAgencyExpertModel.linkEstateExpertId=this.requestId,t&&t.id?.length>0&&(this.dataEstateAccountAgencyExpertModel.linkEstateAccountAgencyId=t.id)}onActionSelectorLocationWorkArea(t){this.dataModel.linkLocationWorkAreaIds=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}};ci.\u0275fac=function(i){return new(i||ci)(y(Me),y(Se),y(Y),y(Ye),y(bi),y(B),y(te),y(N),y(ie),y(H),y(O))},ci.\u0275cmp=F({type:ci,selectors:[["app-estate-account-expert-edit"]],viewQuery:function(i,e){if(i&1&&ne(Dr,5),i&2){let r;oe(r=ae())&&(e.formGroup=r.first)}},standalone:!1,features:[X],decls:133,vars:132,consts:[["vform","ngForm"],["stepper",""],["LinkMainImageId",""],["Title",""],["Description",""],["JoinId",""],["SerialRfId",""],["SerialNumber",""],["PlaceProduction",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["DescriptionHidden",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[3,"selectionChange"],["state","main",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.joinId",1,"color-highlight"],["matInput","","name","dataModel.joinId","type","text","minlength","0","maxlength","64","id","dataModel.joinId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.serialRfId",1,"color-highlight"],["matInput","","name","dataModel.serialRfId","type","text","minlength","0","maxlength","64","id","dataModel.serialRfId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.serialNumber",1,"color-highlight"],["matInput","","name","dataModel.serialNumber","type","text","minlength","0","maxlength","64","id","dataModel.serialNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.placeProduction",1,"color-highlight"],["matInput","","name","dataModel.placeProduction","type","text","minlength","0","maxlength","64","id","dataModel.placeProduction",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","name","dataModel.mobileNumber","type","text","minlength","0","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],["id","main-map",3,"map$","zoom$","optonCenter"],["state","file",3,"label"],[3,"optionChange","optionDisabled","optionPlaceholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"example-container","mat-elevation-z8"],["matStepperIcon","main"],["matStepperIcon","file"],[1,"form-actions"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"pt-1"],["data-trigger-switch","dataModel.accessWatchRowSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.accessWatchRowSite","name","dataModel.accessWatchRowSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowSite",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgency","name","dataModel.accessWatchRowOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgent","name","dataModel.accessWatchRowOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgency","name","dataModel.accessAllowShareRowWatchOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgent","name","dataModel.accessAllowShareRowWatchOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaEstate",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaEstate","name","dataModel.notificationWorkAreaEstate",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaEstate",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaCustomerOrder",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaCustomerOrder","name","dataModel.notificationWorkAreaCustomerOrder",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaCustomerOrder",1,"custom-control-label"],["type","checkbox","id","dataEstateAccountAgencyExpertModel.accessShareAgencyToUser","name","dataEstateAccountAgencyExpertModel.accessShareAgencyToUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataEstateAccountAgencyExpertModel.accessShareAgencyToUser",1,"custom-control-label"],["data-trigger-switch","dataEstateAccountAgencyExpertModel.accessShareUserToAgency",1,"font-600","font-14"],["type","checkbox","id","dataEstateAccountAgencyExpertModel.accessShareUserToAgency","name","dataEstateAccountAgencyExpertModel.accessShareUserToAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataEstateAccountAgencyExpertModel.accessShareUserToAgency",1,"custom-control-label"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["multiTemplateDataRows","",3,"dataSource"],["matColumnDef","LinkEstateExpertId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkEstateAccountAgencyId"],["matColumnDef","AccessShareUserToAgency"],["matColumnDef","AccessShareAgencyToUser"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even",4,"matRowDef","matRowDefColumns"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],[3,"click"],["matTooltipPosition","before","aria-hidden","false",2,"color","red",3,"matTooltip"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let r=w();l(0,"div",13),h(1,"app-progress-spinner",14),l(2,"div",15)(3,"p",16),d(4),a(),l(5,"p"),d(6),S(7,"translate"),a(),h(8,"app-cms-form-result-message",17),l(9,"form",18,0),I("ngSubmit",function(){return u(r),f(e.onFormSubmit())}),l(11,"mat-vertical-stepper",19,1),I("selectionChange",function(c){u(r);let W=R(12);return f(e.onStepClick(c,W))}),l(13,"mat-step",20),S(14,"translate"),l(15,"div",21)(16,"a",22),S(17,"cmsthumbnail"),_(18,Fr,2,4,"img",23),a()(),l(19,"div",24)(20,"label",25),I("click",function(){return u(r),f(e.fileManagerOpenForm=!0)}),d(21),S(22,"translate"),a(),l(23,"input",26,2),S(25,"translate"),b("ngModelChange",function(c){return u(r),A(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),f(c)}),I("click",function(){return u(r),f(e.fileManagerOpenForm=!0)}),a(),l(26,"cms-file-manager",27),I("itemSelected",function(c){return u(r),f(e.onActionFileSelected(c))}),b("openFormChange",function(c){return u(r),A(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),f(c)}),a()(),l(27,"div",24)(28,"label",28),d(29),a(),l(30,"input",29,3),b("ngModelChange",function(c){return u(r),A(e.dataModel.title,c)||(e.dataModel.title=c),f(c)}),a(),_(32,Or,1,0,"i",30),_(33,Br,1,0,"i",31),h(34,"em"),_(35,Nr,5,3,"mat-error"),a(),l(36,"div",24)(37,"label",32),d(38),a(),l(39,"textarea",33,4),b("ngModelChange",function(c){return u(r),A(e.dataModel.description,c)||(e.dataModel.description=c),f(c)}),d(41,"                  "),a(),l(42,"em"),d(43),a(),_(44,Hr,5,3,"mat-error"),a(),_(45,Gr,9,9,"div",24),_(46,Ur,2,5,"app-cms-user-selector",34),l(47,"div",24)(48,"label",35),d(49),a(),l(50,"input",36,5),b("ngModelChange",function(c){return u(r),A(e.dataModel.joinId,c)||(e.dataModel.joinId=c),f(c)}),a(),l(52,"em"),d(53),a()(),l(54,"div",24)(55,"label",37),d(56),a(),l(57,"input",38,6),b("ngModelChange",function(c){return u(r),A(e.dataModel.serialRfId,c)||(e.dataModel.serialRfId=c),f(c)}),a(),l(59,"em"),d(60),a()(),l(61,"div",24)(62,"label",39),d(63),a(),l(64,"input",40,7),b("ngModelChange",function(c){return u(r),A(e.dataModel.serialNumber,c)||(e.dataModel.serialNumber=c),f(c)}),a(),l(66,"em"),d(67),a()(),l(68,"div",24)(69,"label",41),d(70),a(),l(71,"input",42,8),b("ngModelChange",function(c){return u(r),A(e.dataModel.placeProduction,c)||(e.dataModel.placeProduction=c),f(c)}),a(),l(73,"em"),d(74),a()(),l(75,"div",24)(76,"label",43),d(77),a(),l(78,"input",44,9),b("ngModelChange",function(c){return u(r),A(e.dataModel.phoneNumber,c)||(e.dataModel.phoneNumber=c),f(c)}),a(),l(80,"em"),d(81),a()(),l(82,"div",24)(83,"label",45),d(84),a(),l(85,"input",46,10),b("ngModelChange",function(c){return u(r),A(e.dataModel.mobileNumber,c)||(e.dataModel.mobileNumber=c),f(c)}),a(),l(87,"em"),d(88),a()(),l(89,"div",24)(90,"label",47),d(91),a(),l(92,"textarea",48,11),b("ngModelChange",function(c){return u(r),A(e.dataModel.address,c)||(e.dataModel.address=c),f(c)}),d(94,"                              "),a(),_(95,qr,1,0,"i",30),_(96,jr,1,0,"i",31),l(97,"em"),d(98),a(),_(99,Yr,5,3,"mat-error"),a(),l(100,"app-cms-location-selector",49),S(101,"translate"),I("optionChange",function(c){return u(r),f(e.onActionSelectorLocation(c))}),a(),h(102,"br"),d(103),S(104,"translate"),l(105,"app-cms-location-autocomplete",50),S(106,"translate"),I("optionChange",function(c){return u(r),f(e.onActionSelectorLocationWorkArea(c))}),a(),h(107,"hr"),_(108,zr,8,2,"div",51),_(109,Qr,8,2,"div",51),_(110,Kr,8,2,"div",51),_(111,Jr,8,2,"div",51),_(112,Zr,8,2,"div",51),h(113,"hr"),_(114,Xr,8,2,"div",51),_(115,$r,8,2,"div",51),h(116,"hr"),l(117,"p"),d(118),S(119,"translate"),a(),l(120,"app-cms-map",52),I("map$",function(c){return u(r),f(e.receiveMap(c))})("zoom$",function(c){return u(r),f(e.receiveZoom(c))}),a()(),l(121,"mat-step",53),S(122,"translate"),h(123,"br"),l(124,"app-estate-account-expert-selector",54),S(125,"translate"),I("optionChange",function(c){return u(r),f(e.onActionSelectorEstateAgency(c))}),a(),_(126,el,8,1,"div",51),_(127,tl,8,1,"div",51),_(128,il,2,0,"button",55),_(129,Sl,19,3,"div",56),a(),V(130,Ml,2,0,"ng-template",57)(131,El,2,0,"ng-template",58),a(),_(132,yl,9,7,"div",59),a()()()}if(i&2){let r=R(31),g=R(40),c=R(51),W=R(58),U=R(65),Re=R(72),Ve=R(79),Be=R(86),at=R(93);o(),p("optionsInfoAreaId",e.constructorInfoAreaId),o(3),E(" ",e.formInfo.formTitle," "),o(2),E(" ",M(7,108,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),p("formInfo",e.formInfo),o(),p("ngStyle",se(130,Wr,e.tokenInfo.access.direction)),o(4),p("label",x(M(14,110,"TITLE.REQUIRED_INFORMATION"))),o(3),p("href",x(M(17,112,e.dataModel.linkMainImageIdSrc)),P),o(2),C((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?18:-1),o(3),T(M(22,114,"TITLE.Profile_Picture")),o(2),p("placeholder",x(M(25,116,"TITLE.ID_OF_PROFILE_PHOTO_FILE"))),v("ngModel",e.dataModel.linkMainImageId),o(3),p("language",e.appLanguage)("isPopup",!0),v("openForm",e.fileManagerOpenForm),p("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(3),T(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),v("ngModel",e.dataModel.title),p("disabled",!(e.fieldsInfo.title!=null&&e.fieldsInfo.title.accessEditField)),o(2),C(r.value?-1:32),o(),C(r.value?33:-1),o(2),C(r.errors!=null&&r.errors.required?35:-1),o(3),T(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),v("ngModel",e.dataModel.description),p("disabled",!(e.fieldsInfo.description!=null&&e.fieldsInfo.description.accessEditField)),o(4),E("",g.value.length," / 500"),o(),C(g.errors!=null&&g.errors.required?44:-1),o(),C(e.fieldsInfo.descriptionHidden!=null&&e.fieldsInfo.descriptionHidden.accessWatchField?45:-1),o(),C(e.tokenHelper.isAdminSite?46:-1),o(3),T(e.fieldsInfo.joinId==null?null:e.fieldsInfo.joinId.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.joinId==null?null:e.fieldsInfo.joinId.fieldTitle)),v("ngModel",e.dataModel.joinId),p("disabled",!(e.fieldsInfo.joinId!=null&&e.fieldsInfo.joinId.accessEditField)),o(3),E("",c.value.length," / 64"),o(3),T(e.fieldsInfo.serialRfId==null?null:e.fieldsInfo.serialRfId.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.serialRfId==null?null:e.fieldsInfo.serialRfId.fieldTitle)),v("ngModel",e.dataModel.serialRfId),p("disabled",!(e.fieldsInfo.serialRfId!=null&&e.fieldsInfo.serialRfId.accessEditField)),o(3),E("",W.value.length," / 64"),o(3),T(e.fieldsInfo.serialNumber==null?null:e.fieldsInfo.serialNumber.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.serialNumber==null?null:e.fieldsInfo.serialNumber.fieldTitle)),v("ngModel",e.dataModel.serialNumber),p("disabled",!(e.fieldsInfo.serialNumber!=null&&e.fieldsInfo.serialNumber.accessEditField)),o(3),E("",U.value.length," / 64"),o(3),T(e.fieldsInfo.placeProduction==null?null:e.fieldsInfo.placeProduction.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.placeProduction==null?null:e.fieldsInfo.placeProduction.fieldTitle)),v("ngModel",e.dataModel.placeProduction),p("disabled",!(e.fieldsInfo.placeProduction!=null&&e.fieldsInfo.placeProduction.accessEditField)),o(3),E("",Re.value.length," / 64"),o(3),T(e.fieldsInfo.phoneNumber==null?null:e.fieldsInfo.phoneNumber.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.phoneNumber==null?null:e.fieldsInfo.phoneNumber.fieldTitle)),v("ngModel",e.dataModel.phoneNumber),p("disabled",!(e.fieldsInfo.phoneNumber!=null&&e.fieldsInfo.phoneNumber.accessEditField)),o(3),E("",Ve.value.length," / 64"),o(3),T(e.fieldsInfo.mobileNumber==null?null:e.fieldsInfo.mobileNumber.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.mobileNumber==null?null:e.fieldsInfo.mobileNumber.fieldTitle)),v("ngModel",e.dataModel.mobileNumber),p("disabled",!(e.fieldsInfo.mobileNumber!=null&&e.fieldsInfo.mobileNumber.accessAddField)),o(3),E("",Be.value.length," / 64"),o(3),T(e.fieldsInfo.address==null?null:e.fieldsInfo.address.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.address==null?null:e.fieldsInfo.address.fieldTitle)),v("ngModel",e.dataModel.address),p("disabled",!(e.fieldsInfo.address!=null&&e.fieldsInfo.address.accessAddField)),o(3),C(r.value?-1:95),o(),C(r.value?96:-1),o(2),E("",at.value.length," / 500"),o(),C(at.errors!=null&&at.errors.required?99:-1),o(),p("optionSelectForce",e.dataModel.linkLocationId)("optionPlaceholder",M(101,118,"TITLE.Geographical_Region"))("optionDisabled",!(e.fieldsInfo.linkLocationId!=null&&e.fieldsInfo.linkLocationId.accessAddField)),o(3),E(" ",M(104,120,"TITLE.COVERED_AREAS")," "),o(2),p("optionSelectForce",e.dataModel.linkLocationWorkAreaIds)("optionPlaceholder",M(106,122,"TITLE.Region")),o(3),C(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?108:-1),o(),C(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?109:-1),o(),C(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?110:-1),o(),C(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?111:-1),o(),C(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?112:-1),o(2),C(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?114:-1),o(),C(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?115:-1),o(3),E(" ",M(119,124,"TITLE.Click_on_the_map_to_specify_the_location")," "),o(2),p("optonCenter",e.mapOptonCenter),o(),p("label",x(M(122,126,"TITLE.Property_personnel"))),o(3),p("optionDisabled",!e.tokenHelper.isAdminSite)("optionPlaceholder",M(125,128,"TITLE.Property_agency")),o(2),C(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?126:-1),o(),C(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?127:-1),o(),C(e.dataEstateAccountAgencyExpertModel.linkEstateExpertId&&e.dataEstateAccountAgencyExpertModel.linkEstateExpertId.length>0?128:-1),o(),C(e.publicHelper.processService.process.inRunAll?-1:129),o(3),C(e.formInfo.submitButtonEnabled?132:-1)}},dependencies:[ce,de,ge,z,ze,Q,me,K,he,_e,fe,ue,St,Ce,nt,J,Oi,Bi,Fi,Et,It,Tt,vt,yt,wt,At,bt,xt,Rt,Ri,Nt,Pe,Ft,Ot,q,Ie,Qi,oi,Ee,pe,G,j,qi,tn,nn],encapsulation:2});var cn=ci;function Il(n,s){n&1&&h(0,"div",8)}var di=class di{constructor(s,t,i,e,r,g){this.headerService=s;this.publicHelper=t;this.cdr=i;this.translate=e;this.cmsToastrService=r;this.dialog=g;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new $;this.fieldsInfo=new Map;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent()}DataGetOneContent(){let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(s,t,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?this.dataModelResult=t:this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(s)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(s,!1)}})}};di.\u0275fac=function(t){return new(t||di)(y(et),y(N),y(H),y(O),y(B),y(Mt))},di.\u0275cmp=F({type:di,selectors:[["app-estate-account-agency-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:32,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td"],[1,"td","large-width"],[2,"clear","both"],[1,"td",2,"text-align","left"],[1,"divider","divider-margins"]],template:function(t,i){t&1&&(l(0,"div",0),h(1,"app-progress-spinner",1),l(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),h(6,"span",6),a(),l(7,"div",7)(8,"h5")(9,"b"),d(10),S(11,"translate"),a()()(),_(12,Il,1,0,"div",8),a(),l(13,"div",4)(14,"div",5)(15,"b"),d(16),a(),d(17,": "),a(),l(18,"div",9),d(19),a(),h(20,"div",8)(21,"div",10),a(),l(22,"div",4)(23,"div",5)(24,"b"),d(25),a(),d(26," : "),a(),l(27,"div",9),d(28),a(),h(29,"div",11)(30,"div",10),a()()()(),h(31,"div",12)),t&2&&(o(),p("optionsInfoAreaId",i.constructorInfoAreaId),o(5),p("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),T(M(11,8,"TITLE.Selected_Agency")),o(2),C(!(i.dataModelResult==null||i.dataModelResult.item==null)&&i.dataModelResult.item.id?12:-1),o(4),E("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," "),o(3),T(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),T(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(3),T(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[q,Ui,G],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var dn=di;var Al=()=>["expandedTitle"],bl=()=>["expandedDetail"],Tl=()=>[5,10,20,100],wl=n=>({display:n});function xl(n,s){if(n&1&&h(0,"app-estate-account-agency-header",3),n&2){let t=m();p("optionId",t.requestLinkAccountAgencyId)}}function Rl(n,s){if(n&1){let t=w();l(0,"div",16)(1,"a",46),I("click",function(){u(t);let e=m();return f(e.onActionButtonNewRow())}),h(2,"i",47)(3,"br"),a(),l(4,"p",20),d(5),S(6,"translate"),a()()}n&2&&(o(5),E(" ",M(6,1,"ACTION.ADD")," "))}function kl(n,s){if(n&1){let t=w();l(0,"div",16)(1,"a",48),I("click",function(){u(t);let e=m();return f(e.onActionButtonEditRow(e.tableRowSelected))}),h(2,"i",49)(3,"br"),a(),l(4,"p",20),d(5),S(6,"translate"),a()()}n&2&&(o(5),E(" ",M(6,1,"ACTION.EDIT")," "))}function Ll(n,s){if(n&1){let t=w();l(0,"div",16)(1,"a",50),I("click",function(){u(t);let e=m();return f(e.onActionButtonDeleteRow(e.tableRowSelected))}),h(2,"i",51)(3,"br"),a(),l(4,"p",20),d(5),S(6,"translate"),a()()}n&2&&(o(5),E(" ",M(6,1,"ACTION.DELETE")," "))}function Pl(n,s){n&1&&(l(0,"mat-header-cell"),d(1),S(2,"translate"),a()),n&2&&(o(),E(" ",M(2,1,"TITLE.MENU")," "))}function Vl(n,s){if(n&1){let t=w();l(0,"mat-cell")(1,"button",52),I("click",function(){let e=u(t).$implicit,r=m();return f(r.onActionTableRowSelectActionMenu(e))}),h(2,"i",53),a()()}}function Dl(n,s){n&1&&(l(0,"mat-header-cell",54),d(1),S(2,"translate"),a()),n&2&&(o(),E(" ",M(2,1,"TITLE.PICTURE")," "))}function Wl(n,s){if(n&1&&(h(0,"img",55),S(1,"cmsthumbnail")),n&2){let t=m().$implicit;p("src",x(M(1,2,t.linkMainImageIdSrc)),P)}}function Fl(n,s){if(n&1&&(l(0,"mat-cell"),_(1,Wl,2,4,"img",55),a()),n&2){let t=s.$implicit;o(),C((t==null||t.linkMainImageIdSrc==null?null:t.linkMainImageIdSrc.length)>0?1:-1)}}function Ol(n,s){if(n&1&&(l(0,"mat-header-cell",54),d(1),a()),n&2){let t=m();o(),E(" ",t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle," ")}}function Bl(n,s){if(n&1&&(l(0,"mat-cell"),d(1),a()),n&2){let t=s.$implicit;o(),E(" ",t.id," ")}}function Nl(n,s){if(n&1&&(l(0,"mat-header-cell",54),d(1),a()),n&2){let t=m();o(),E(" ",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle," ")}}function Hl(n,s){if(n&1&&(l(0,"mat-cell"),d(1),a()),n&2){let t=s.$implicit;o(),E(" ",t.title," ")}}function Gl(n,s){if(n&1&&(l(0,"mat-header-cell",54),d(1),a()),n&2){let t=m();o(),E(" ",t.fieldsInfo.linkCmsUserId==null?null:t.fieldsInfo.linkCmsUserId.fieldTitle," ")}}function Ul(n,s){if(n&1&&(l(0,"mat-cell"),d(1),S(2,"cmsuserinfo"),S(3,"async"),a()),n&2){let t=s.$implicit;o(),E(" ",M(3,3,M(2,1,t.linkCmsUserId))," ")}}function ql(n,s){if(n&1&&(l(0,"mat-header-cell",54),d(1),a()),n&2){let t=m();o(),E(" ",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle," ")}}function jl(n,s){if(n&1&&(l(0,"mat-cell"),d(1),a()),n&2){let t=s.$implicit;o(),E(" ",t.description," ")}}function Yl(n,s){n&1&&(l(0,"mat-header-cell"),d(1),S(2,"translate"),a()),n&2&&(o(),E(" ",M(2,1,"TITLE.OPTION")," "))}function zl(n,s){if(n&1&&(l(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),d(3,"more_vert"),a()(),h(4,"mat-menu",null,2),a()),n&2){let t=R(5);o(),p("matMenuTriggerFor",t)}}function Ql(n,s){if(n&1&&(l(0,"mat-cell"),d(1),S(2,"translate"),S(3,"cmsuserinfo"),S(4,"async"),a()),n&2){let t=s.$implicit;o(),Le(" ",M(2,2,"TITLE.User-Id-Cms"),": ",M(4,6,M(3,4,t.linkCmsUserId))," ")}}function Kl(n,s){if(n&1&&(h(0,"img",58),S(1,"cmsthumbnail")),n&2){let t=m().$implicit;p("src",x(M(1,2,t.linkMainImageIdSrc)),P)}}function Jl(n,s){if(n&1&&(l(0,"tr"),h(1,"td"),l(2,"td"),d(3),a()()),n&2){let t=m().$implicit,i=m();o(3),Le(" ",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle," : ",t.description," ")}}function Zl(n,s){if(n&1&&(l(0,"tr"),h(1,"td"),l(2,"td"),d(3),S(4,"translate"),a()()),n&2){let t=m().$implicit;o(3),Le("",M(4,2,"TITLE.Address")," : ",t.address)}}function Xl(n,s){if(n&1&&(l(0,"tr"),h(1,"td"),l(2,"td"),d(3),a()()),n&2){let t=m().$implicit,i=m();o(3),Le(" ",i.fieldsInfo.phoneNumber==null?null:i.fieldsInfo.phoneNumber.fieldTitle," : ",t.phoneNumber," ")}}function $l(n,s){if(n&1&&(l(0,"tr"),h(1,"td"),l(2,"td"),d(3),a()()),n&2){let t=m().$implicit,i=m();o(3),Le(" ",i.fieldsInfo.mobileNumber==null?null:i.fieldsInfo.mobileNumber.fieldTitle," : ",t.mobileNumber," ")}}function es(n,s){if(n&1){let t=w();l(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),_(5,Kl,2,4,"img",58),a(),l(6,"th")(7,"span",59),I("click",function(){u(t);let e=m();return f(e.onActionCopied())}),h(8,"i",60),a(),d(9),a()(),l(10,"tr"),h(11,"td"),l(12,"td"),d(13),a()(),_(14,Jl,4,2,"tr"),_(15,Zl,5,4,"tr"),_(16,Xl,4,2,"tr"),_(17,$l,4,2,"tr"),l(18,"tr"),h(19,"td")(20,"td"),a()()()()}if(n&2){let t=s.$implicit,i=m();o(5),C((t==null||t.linkMainImageIdSrc==null?null:t.linkMainImageIdSrc.length)>0?5:-1),o(2),p("cdkCopyToClipboard",t.id),o(2),E(" ",t.id," "),o(4),Le("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : ",t.title),o(),C(t.description?14:-1),o(),C(t.address?15:-1),o(),C(t.phoneNumber?16:-1),o(),C(t.mobileNumber?17:-1)}}function ts(n,s){n&1&&h(0,"mat-header-row")}function is(n,s){if(n&1){let t=w();l(0,"mat-row",61),I("click",function(e){let r=u(t).$implicit,g=m();return f(g.onActionTableRowSelect(r,e))})("rtclick",function(e){let r=u(t).$implicit,g=m();return f(g.onActionTableRowSelect(r,e))})("mouseenter",function(){let e=u(t).$implicit,r=m();return f(r.onActionTableRowMouseEnter(e))})("mouseleave",function(){let e=u(t).$implicit,r=m();return f(r.onActionTableRowMouseLeave(e))}),a()}if(n&2){let t=s.$implicit,i=m();re("ntk-row-selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function ns(n,s){if(n&1){let t=w();l(0,"mat-row",62),I("click",function(e){let r=u(t).$implicit,g=m();return f(g.onActionTableRowSelect(r,e))})("rtclick",function(e){let r=u(t).$implicit,g=m();return f(g.onActionTableRowSelect(r,e))})("mouseenter",function(){let e=u(t).$implicit,r=m();return f(r.onActionTableRowMouseEnter(e))})("mouseleave",function(){let e=u(t).$implicit,r=m();return f(r.onActionTableRowMouseLeave(e))}),a()}if(n&2){let t=s.$implicit,i=m();re("ntk-row-selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function os(n,s){if(n&1){let t=w();l(0,"mat-row",63),I("click",function(e){let r=u(t).$implicit,g=m();return f(g.onActionTableRowSelect(r,e))})("rtclick",function(e){let r=u(t).$implicit,g=m();return f(g.onActionTableRowSelect(r,e))})("mouseenter",function(){let e=u(t).$implicit,r=m();return f(r.onActionTableRowMouseEnter(e))})("mouseleave",function(){let e=u(t).$implicit,r=m();return f(r.onActionTableRowMouseLeave(e))}),a()}if(n&2){let t=s.$implicit,i=m();re("ntk-row-selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),p("ngStyle",se(3,wl,t.expanded===!0?"":"none"))}}var pi=class pi extends Ji{constructor(t,i,e,r,g,c,W,U,Re,Ve,Be,at,zn){super(t,new Fe,at,g,W);this.contentService=t;this.cmsConfirmationDialogService=i;this.cmsToastrService=e;this.router=r;this.tokenHelper=g;this.cdr=c;this.translate=W;this.activatedRoute=U;this.cmsStoreService=Re;this.themeService=Ve;this.pageInfo=Be;this.publicHelper=at;this.dialog=zn;this.requestLinkAccountAgencyId="";this.constructorInfoAreaId=this.constructor.name;this.optionloadComponent=!0;this.optionloadByRoute=!0;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ci;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","title","Description","action_menu"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","title","Description","action_menu"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:mn=>this.onSubmitOptionsSearch(mn)},this.requestLinkAccountAgencyId=this.activatedRoute.snapshot.paramMap.get("LinkAccountAgencyId"),this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=$e.Descending}set optionLinkLocationWorkAreaIds(t){this.requestLinkLocationWorkAreaIds=[],t&&t.length>0&&(this.requestLinkLocationWorkAreaIds=t),this.requestLinkLocationWorkAreaIds&&this.requestLinkLocationWorkAreaIds.length>0&&(this.filteModelContent.linkLocationWorkAreaIds=this.requestLinkLocationWorkAreaIds)}set optionLinkLocationWorkAreaId(t){this.requestLinkLocationWorkAreaIds=[],t&&t>0&&this.requestLinkLocationWorkAreaIds.push(t),this.requestLinkLocationWorkAreaIds&&this.requestLinkLocationWorkAreaIds.length>0&&(this.filteModelContent.linkLocationWorkAreaIds=this.requestLinkLocationWorkAreaIds)}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(t=>t.tokenInfoStore).subscribe(t=>De(this,null,function*(){this.tokenInfo=t,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(t=>t.unsubscribe())}DataGetAll(){if(this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),!this.optionloadComponent)return;this.tableRowsSelected=[],this.onActionTableRowSelect(new Fe);let t=this.constructor.name+"main";if(this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0,this.requestLinkAccountAgencyId&&this.requestLinkAccountAgencyId.length>0){let e=new D;e.propertyAnyName="AccountAgencyUser",e.propertyName="linkEstateAccountAgencyId",e.value=this.requestLinkAccountAgencyId,this.filteModelContent.filters.push(e)}let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.setAccessDataType(qe.Editor),this.contentService.ServiceGetAll(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=$e.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=$e.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=$e.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionSelectorLocation(t){this.filteModelContent.linkLocationIds=t}onActionSelectorLocationWorkArea(t){this.filteModelContent.linkLocationWorkAreaIds=t}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(sn,{height:"90%",panelClass:t,enterAnimationDuration:tt.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:tt.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(cn,{height:"90%",panelClass:i,enterAnimationDuration:tt.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:tt.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],e=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(r=>{if(r){let g=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(g,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(g)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(g,!1)}})}}).catch(()=>{})}onActionButtonAgencyRow(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=t,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/main/account-agency/LinkAccountUserId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/main/account-agency/LinkAccountUserId",this.tableRowSelected.id])}onActionButtonHistoryRow(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=t,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/log/property-history/LinkEstateExpertId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/log/property-history/LinkEstateExpertId",this.tableRowSelected.id])}onActionButtonPropertyRow(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=t,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/data/property/LinkEstateExpertId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/data/property/LinkEstateExpertId",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(W=>{i.set(W,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let r=JSON.parse(JSON.stringify(this.filteModelContent)),g=new D;g.propertyName="recordStatus",g.value=Ii.Available,r.filters.push(g),this.contentService.ServiceGetCount(r).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(W=>{i.set(W,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onActionButtonReload(){this.optionloadComponent=!0,this.DataGetAll()}onSubmitOptionsSearch(t){t&&t.length>0?this.filterDataModelQueryBuilder=[...t]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};pi.\u0275fac=function(i){return new(i||pi)(y(Ye),y(Ki),y(B),y(yi),y(ie),y(H),y(O),y(Ei),y(te),y(Gi),y(ji),y(N),y(Mt))},pi.\u0275cmp=F({type:pi,selectors:[["app-estate-account-expert-list"]],inputs:{optionloadComponent:"optionloadComponent",optionloadByRoute:"optionloadByRoute",optionLinkLocationWorkAreaIds:"optionLinkLocationWorkAreaIds",optionLinkLocationWorkAreaId:"optionLinkLocationWorkAreaId"},standalone:!1,features:[X],decls:94,vars:59,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-home","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-clock-rotate-left","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","title"],["matColumnDef","LinkCmsUserId"],["matColumnDef","Description"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,e){if(i&1){let r=w();_(0,xl,1,1,"app-estate-account-agency-header",3),l(1,"app-cms-html-list",4),b("optionActionGuideNoticeDisplayChange",function(c){return u(r),A(e.viewGuideNotice,c)||(e.viewGuideNotice=c),f(c)}),I("optionOnActionButtonMemoRow",function(){return u(r),f(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(r),f(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(r),f(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(r),f(e.onActionButtonPrintRow())}),k(2,5),d(3," -------------------------------------- "),L(),Mi(4,6)(5,7),k(6,8),l(7,"a",9),I("click",function(){return u(r),f(e.viewGuideNotice=!e.viewGuideNotice)}),h(8,"i",10),a(),l(9,"a",9),I("click",function(){return u(r),f(e.onActionButtonReload())}),h(10,"i",11),a(),L(),k(11,12),l(12,"a",13),I("click",function(){return u(r),f(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),h(13,"mat-slide-toggle",14),d(14),S(15,"translate"),a(),l(16,"a",13),I("click",function(){return u(r),f(e.onActionButtonStatist())}),h(17,"mat-slide-toggle",14),d(18),S(19,"translate"),a(),L(),k(20,15),_(21,Rl,7,3,"div",16),L(),k(22,17),_(23,kl,7,3,"div",16),_(24,Ll,7,3,"div",16),l(25,"div",16)(26,"a",18),I("click",function(c){return u(r),f(e.onActionButtonAgencyRow(e.tableRowSelected,c))}),h(27,"i",19)(28,"br"),a(),l(29,"p",20),d(30),S(31,"translate"),a()(),l(32,"div",16)(33,"a",18),I("click",function(c){return u(r),f(e.onActionButtonHistoryRow(e.tableRowSelected,c))}),h(34,"i",21)(35,"br"),a(),l(36,"p",20),d(37),S(38,"translate"),a()(),l(39,"div",16)(40,"a",18),I("click",function(c){return u(r),f(e.onActionButtonPropertyRow(e.tableRowSelected,c))}),h(41,"i",19)(42,"br"),a(),l(43,"p",20),d(44),S(45,"translate"),a()(),L(),k(46,22),l(47,"app-cms-search-list",23),b("optionsChange",function(c){return u(r),A(e.optionsSearch,c)||(e.optionsSearch=c),f(c)}),d(48),S(49,"translate"),l(50,"app-cms-location-autocomplete",24),S(51,"translate"),I("optionChange",function(c){return u(r),f(e.onActionSelectorLocation(c))}),a(),h(52,"br"),d(53),S(54,"translate"),l(55,"app-cms-location-autocomplete",24),S(56,"translate"),I("optionChange",function(c){return u(r),f(e.onActionSelectorLocationWorkArea(c))}),a(),h(57,"hr"),a(),l(58,"app-cms-statist-list",23),b("optionsChange",function(c){return u(r),A(e.optionsStatist,c)||(e.optionsStatist=c),f(c)}),a(),L(),k(59,25),l(60,"mat-table",26,0),I("matSortChange",function(){u(r);let c=R(61);return f(e.onTableSortData(c))}),k(62,27),V(63,Pl,3,3,"mat-header-cell",28)(64,Vl,3,0,"mat-cell",29),L(),k(65,30),V(66,Dl,3,3,"mat-header-cell",31)(67,Fl,2,1,"mat-cell",29),L(),k(68,32),V(69,Ol,2,1,"mat-header-cell",31)(70,Bl,2,1,"mat-cell",29),L(),k(71,33),V(72,Nl,2,1,"mat-header-cell",31)(73,Hl,2,1,"mat-cell",29),L(),k(74,34),V(75,Gl,2,1,"mat-header-cell",31)(76,Ul,4,5,"mat-cell",29),L(),k(77,35),V(78,ql,2,1,"mat-header-cell",31)(79,jl,2,1,"mat-cell",29),L(),k(80,36),V(81,Yl,3,3,"mat-header-cell",28)(82,zl,6,1,"mat-cell",37),L(),k(83,38),V(84,Ql,5,8,"mat-cell",29),L(),k(85,39),V(86,es,21,9,"mat-cell",29),L(),V(87,ts,1,0,"mat-header-row",40)(88,is,1,2,"mat-row",41)(89,ns,1,2,"mat-row",42)(90,os,1,5,"mat-row",43),a(),L(),k(91,44),l(92,"mat-paginator",45,1),I("page",function(c){return u(r),f(e.onTablePageingData(c))}),a(),L(),a()}i&2&&(C((e.requestLinkAccountAgencyId==null?null:e.requestLinkAccountAgencyId.length)>0?0:-1),o(),p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey","accountuser.content.list"),v("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.title),o(9),re("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),o(3),p("checked",e.optionsSearch.data.show),o(),E("",M(15,38,"ACTION.SEARCH")," "),o(3),p("checked",e.optionsStatist.data.show),o(),E("",M(19,40,"ACTION.STATIST")," "),o(3),C(e.optionloadByRoute&&e.dataModelResult.access.accessAddRow?21:-1),o(2),C(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow?23:-1),o(),C(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow?24:-1),o(6),E(" ",M(31,42,"ACTION.AGENCY")," "),o(7),E(" ",M(38,44,"ACTION.HISTORY")," "),o(7),E(" ",M(45,46,"ACTION.CONNECT_TO_PROPERTY")," "),o(3),v("options",e.optionsSearch),o(),E(" ",M(49,48,"ACTION.LOCATION")," "),o(2),p("optionSelectForce",e.filteModelContent.linkLocationIds)("optionPlaceholder",M(51,50,"TITLE.Region")),o(3),E(" ",M(54,52,"ACTION.LOCATION_WORK_ACTIVITY")," "),o(2),p("optionSelectForce",e.filteModelContent.linkLocationWorkAreaIds)("optionPlaceholder",M(56,54,"TITLE.Region")),o(3),v("options",e.optionsStatist),o(2),p("dataSource",e.tableSource),o(27),p("matHeaderRowDef",e.tabledisplayedColumns),o(),p("matRowDefColumns",le(56,Al)),o(),p("matRowDefColumns",e.tabledisplayedColumns),o(),p("matRowDefColumns",le(57,bl)),o(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",le(58,Tl)))},dependencies:[de,St,nt,ki,Li,Pi,Vi,Di,Wi,Et,It,Tt,vt,yt,wt,At,bt,xt,Rt,xi,Zi,Xi,Pe,$i,en,dn,pe,G,Yi,j],encapsulation:2});var Bn=pi;var as=["*"];function rs(n,s){if(n&1&&(h(0,"img",4),S(1,"cmsthumbnail")),n&2){let t=m();p("src",x(M(1,2,t.dataModelSelect==null?null:t.dataModelSelect.linkMainImageIdSrc)),P)}}function ls(n,s){if(n&1&&(h(0,"img",4),S(1,"cmsthumbnail")),n&2){let t=m().$implicit;p("src",x(M(1,2,t.linkMainImageIdSrc)),P)}}function ss(n,s){if(n&1&&(l(0,"mat-option",8),_(1,ls,2,4,"img",4),l(2,"span"),d(3),a()()),n&2){let t=s.$implicit,i=m();p("value",t)("disabled",i.optionDisabled),o(),C(t.linkMainImageIdSrc?1:-1),o(2),T(i.displayOption(t))}}function cs(n,s){n&1&&h(0,"i",9)}function ds(n,s){n&1&&h(0,"i",10)}function ps(n,s){if(n&1){let t=w();l(0,"i",13),I("click",function(){u(t);let e=m();return f(e.onActionSelectClear())}),a()}}function ms(n,s){n&1&&(l(0,"em"),d(1),S(2,"translate"),a()),n&2&&(o(),E("(",M(2,1,"TITLE.Necessary"),")"))}var mi=class mi{constructor(s,t,i,e,r,g){this.coreEnumService=s;this.cmsToastrService=t;this.cdr=i;this.publicHelper=e;this.translate=r;this.categoryService=g;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new $;this.dataModelSelect=new We;this.formControl=new it;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionRequired=!1;this.optionChange=new Ne;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.forceSelect=s,this.onActionSelectForce(s)}set optionSelectUserId(s){(!this.forceSelect||this.forceSelect!==null)&&this.DataGetAll(s)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(dt(""),ct(1500),Kt(),pt(s=>typeof s=="string"||typeof s=="number"?this.DataGetAll(s||""):[]))}displayFn(s){return s?s.title:void 0}displayOption(s){return s?s.title:void 0}DataGetAll(s){return De(this,null,function*(){let t=new Ai;t.rowPerPage=20,t.accessLoad=!0;let i=new D;typeof s=="string"&&s.length>0&&(i.propertyName="title",i.value=s,i.searchType=Z.Contains,t.filters.push(i),i=new D,i.propertyName="id",i.value=s,i.searchType=Z.Equal,i.clauseType=ee.Or,t.filters.push(i)),s?.length>0&&(i=new D,i.propertyName="LinkCmsUserId",i.value=s,i.searchType=Z.Equal,i.clauseType=ee.Or,t.filters.push(i),i=new D,i.propertyName="mobileNumber",i.value=s,i.searchType=Z.Contains,i.clauseType=ee.Or,t.filters.push(i),i=new D,i.propertyName="phoneNumber",i.value=s,i.searchType=Z.Contains,i.clauseType=ee.Or,t.filters.push(i));let e=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(r=>{this.publicHelper.processService.processStart(e,r,this.constructorInfoAreaId)}),yield Qt(this.categoryService.ServiceGetAll(t)).then(r=>(this.dataModelResult=r,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(e),r.listItems))})}onActionSelect(s){this.optionDisabled||(this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(s){return this.filteredOptions.pipe(st(t=>(t.find(i=>i.id===s.id)||t.push(s),t)))}onActionSelectForce(s){if(typeof s=="string"&&s.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===s)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(t=>t.id===s)){let t=this.dataModelResult.listItems.find(i=>i.id===s);this.dataModelSelect=t,this.formControl.setValue(t);return}this.categoryService.ServiceGetOneById(s).subscribe({next:t=>{t.isSuccess?(this.filteredOptions=this.push(t.item),this.dataModelSelect=t.item,this.formControl.setValue(t.item),this.optionChange.emit(t.item)):this.cmsToastrService.typeErrorMessage(t.errorMessage)}});return}if(typeof s==typeof We){this.filteredOptions=this.push(s),this.dataModelSelect=s,this.formControl.setValue(s);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new We,this.loadOptions()}};mi.\u0275fac=function(t){return new(t||mi)(y(Y),y(B),y(H),y(N),y(O),y(et))},mi.\u0275cmp=F({type:mi,selectors:[["app-estate-account-agency-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionRequired:"optionRequired",optionReload:"optionReload",optionSelectForce:"optionSelectForce",optionSelectUserId:"optionSelectUserId"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:as,decls:19,vars:22,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required"],["for","forminput",1,"color-highlight"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(t,i){if(t&1){let e=w();Jt(),l(0,"div",1),h(1,"app-progress-spinner",2),l(2,"span",3),_(3,rs,2,4,"img",4),a(),h(4,"input",5),l(5,"label",6),d(6),a(),l(7,"mat-autocomplete",7,0),I("optionSelected",function(g){return u(e),f(i.onActionSelect(g.option.value))}),Ge(9,ss,4,4,"mat-option",8,He),S(11,"async"),a(),_(12,cs,1,0,"i",9),_(13,ds,1,0,"i",10),_(14,ps,1,0,"i",11),l(15,"i",12),S(16,"translate"),I("click",function(){return u(e),f(i.onActionButtonReload())}),a(),_(17,ms,3,3,"em"),qt(18),a()}if(t&2){let e=R(8);o(),p("optionsInfoAreaId",i.constructorInfoAreaId),o(2),C(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?3:-1),o(),p("placeholder",x(i.optionPlaceholder))("formControl",i.formControl)("matAutocomplete",e)("required",i.optionRequired),Ut("disabled",i.optionDisabled?!0:null),o(2),T(i.optionLabel),o(),p("displayWith",i.displayFn),o(2),Ue(M(11,18,i.filteredOptions)),o(3),C(i.formControl.valid?-1:12),o(),C(i.optionRequired&&i.formControl.valid?13:-1),o(),C((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?14:-1),o(),re("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),p("title",x(M(16,20,"ACTION.RELOAD"))),o(2),C(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id.length<=0)?17:-1)}},dependencies:[z,Q,K,ft,_t,gt,Ct,ei,J,q,pe,G,j],encapsulation:2});var Nn=mi;var us=["vform"],fs=()=>["fa"];function gs(n,s){n&1&&h(0,"i",17)}function hs(n,s){n&1&&h(0,"i",18)}function _s(n,s){n&1&&(l(0,"mat-error"),d(1," Title is "),l(2,"strong"),d(3),S(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function Cs(n,s){n&1&&h(0,"i",17)}function Ss(n,s){n&1&&h(0,"i",18)}function Ms(n,s){n&1&&(l(0,"mat-error"),d(1," TitleResourceLanguage is "),l(2,"strong"),d(3),S(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function Es(n,s){if(n&1){let t=w();l(0,"div",14)(1,"label",29),d(2),a(),l(3,"input",30,4),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.titleResourceLanguage,e)||(r.dataModel.titleResourceLanguage=e),f(e)}),a(),_(5,Cs,1,0,"i",17),_(6,Ss,1,0,"i",18),l(7,"em"),d(8),a(),_(9,Ms,5,3,"mat-error"),a()}if(n&2){let t=R(4),i=m(),e=R(15);o(2),T(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),p("placeholder",x(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),v("ngModel",i.dataModel.titleResourceLanguage),p("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessEditField)),o(2),C(e.value?-1:5),o(),C(e.value?6:-1),o(2),E("",t.value.length," / 100"),o(),C(t.errors!=null&&t.errors.required?9:-1)}}function ys(n,s){if(n&1){let t=w();l(0,"div",14)(1,"label",31),d(2),a(),l(3,"input",32,5),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.iconFont,e)||(r.dataModel.iconFont=e),f(e)}),I("iconPickerSelect",function(e){u(t);let r=m();return f(r.onIconPickerSelect(e))}),a(),l(5,"span",33),h(6,"i",34),a()()}if(n&2){let t=m();o(2),T(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle)),v("ngModel",t.dataModel.iconFont),p("iconPicker",t.dataModel.iconFont)("ipIconPack",le(9,fs))("ipPosition","top")("disabled",!(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessAddField)),o(3),p("ngClass",t.dataModel.iconFont)}}function Is(n,s){if(n&1){let t=w();l(0,"div",19)(1,"label",35),d(2),a(),l(3,"div",36)(4,"div",37)(5,"input",38,6),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.iconColor,e)||(r.dataModel.iconColor=e),f(e)}),a()(),l(7,"div",39),h(8,"ngx-mat-color-toggle",40)(9,"ngx-mat-color-picker",41,7),a()()()}if(n&2){let t=R(10),i=m();o(2),T(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),mt("background",i.dataModel.iconColor),p("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),v("ngModel",i.dataModel.iconColor),p("ngxMatColorPicker",t)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),p("for",t),o(),p("touchUi",!0)("color","primary")}}function vs(n,s){n&1&&(l(0,"mat-error"),d(1," Description is "),l(2,"strong"),d(3),S(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function As(n,s){if(n&1&&(h(0,"img",24),S(1,"cmsthumbnail")),n&2){let t=m();p("src",x(M(1,2,t.dataModel.linkMainImageIdSrc)),P)}}function bs(n,s){if(n&1){let t=w();l(0,"div",28)(1,"button",42),I("click",function(){u(t);let e=m();return f(e.onFormCancel())}),h(2,"i",43),d(3),S(4,"translate"),a(),l(5,"button",44),h(6,"i",45),d(7),S(8,"translate"),a()()}if(n&2){m();let t=R(10);o(3),E(" ",M(4,3,"ACTION.CANCEL")," "),o(2),p("disabled",!t.form.valid),o(2),E(" ",M(8,5,"ACTION.SAVE")," ")}}var ui=class ui extends Vt{constructor(t,i,e,r,g,c,W,U){super(r,new Xt,c,U);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estateActivityTypeService=r;this.cmsToastrService=g;this.publicHelper=c;this.cdr=W;this.translate=U;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new $;this.dataModel=new Xt;this.formInfo=new ye;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateActivityTypeService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ui.\u0275fac=function(i){return new(i||ui)(y(Me),y(Se),y(Y),y(Ti),y(B),y(N),y(H),y(O))},ui.\u0275cmp=F({type:ui,selectors:[["app-estate-activity-type-add"]],viewQuery:function(i,e){if(i&1&&ne(us,5),i&2){let r;oe(r=ae())&&(e.formGroup=r.first)}},standalone:!1,features:[X],decls:46,vars:45,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["TitleResourceLanguage",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let r=w();l(0,"div",8),h(1,"app-progress-spinner",9),l(2,"div",10)(3,"p",11),d(4),a(),l(5,"p"),d(6),S(7,"translate"),a(),h(8,"app-cms-form-result-message",12),l(9,"form",13,0),I("ngSubmit",function(){return u(r),f(e.onFormSubmit())}),l(11,"div",14)(12,"label",15),d(13),a(),l(14,"input",16,1),b("ngModelChange",function(c){return u(r),A(e.dataModel.title,c)||(e.dataModel.title=c),f(c)}),a(),_(16,gs,1,0,"i",17),_(17,hs,1,0,"i",18),l(18,"em"),d(19),a(),_(20,_s,5,3,"mat-error"),a(),_(21,Es,10,9,"div",14),_(22,ys,7,10,"div",14),_(23,Is,11,11,"div",19),l(24,"div",14)(25,"label",20),d(26),a(),l(27,"textarea",21,2),b("ngModelChange",function(c){return u(r),A(e.dataModel.description,c)||(e.dataModel.description=c),f(c)}),d(29,"                "),a(),l(30,"em"),d(31),a(),_(32,vs,5,3,"mat-error"),a(),l(33,"div",22)(34,"a",23),S(35,"cmsthumbnail"),_(36,As,2,4,"img",24),a()(),l(37,"div",14)(38,"label",25),d(39),S(40,"translate"),a(),l(41,"input",26,3),S(43,"translate"),b("ngModelChange",function(c){return u(r),A(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),f(c)}),I("click",function(){return u(r),f(e.fileManagerOpenForm=!0)}),a(),l(44,"cms-file-manager",27),I("itemSelected",function(c){return u(r),f(e.onActionFileSelected(c))}),b("openFormChange",function(c){return u(r),A(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),f(c)}),a()(),_(45,bs,9,7,"div",28),a()()()}if(i&2){let r=R(15),g=R(28);o(),p("optionsInfoAreaId",e.constructorInfoAreaId),o(3),E(" ",e.formInfo.formTitle," "),o(2),E(" ",M(7,37,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),p("formInfo",e.formInfo),o(5),T(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),v("ngModel",e.dataModel.title),o(2),C(r.value?-1:16),o(),C(r.value?17:-1),o(2),E("",r.value.length," / 100"),o(),C(r.errors!=null&&r.errors.required?20:-1),o(),C(e.fieldsInfo.titleResourceLanguage!=null&&e.fieldsInfo.titleResourceLanguage.accessWatchField?21:-1),o(),C(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessWatchField?22:-1),o(),C(e.fieldsInfo.iconColor!=null&&e.fieldsInfo.iconColor.accessWatchField?23:-1),o(3),T(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),v("ngModel",e.dataModel.description),o(4),E("",g.value.length," / 500"),o(),C(g.errors!=null&&g.errors.required?32:-1),o(2),p("href",x(M(35,39,e.dataModel.linkMainImageIdSrc)),P),o(2),C((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?36:-1),o(3),T(M(40,41,"TITLE.PICTURE")),o(2),p("placeholder",x(M(43,43,"TITLE.Original_File_ID"))),v("ngModel",e.dataModel.linkMainImageId),o(3),p("language",e.appLanguage)("isPopup",!0),v("openForm",e.fileManagerOpenForm),p("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),C(e.formInfo.submitButtonEnabled?45:-1)}},dependencies:[ce,ge,z,Q,me,K,he,_e,fe,ue,Ce,ht,J,q,Ie,Bt,Pt,Lt,kt,Ee,G,j],encapsulation:2});var Hn=ui;var ws=["vform"],xs=()=>["fa"];function Rs(n,s){n&1&&h(0,"i",17)}function ks(n,s){n&1&&h(0,"i",18)}function Ls(n,s){if(n&1&&(l(0,"mat-error"),d(1),l(2,"strong"),d(3),S(4,"translate"),a()()),n&2){let t=m();o(),E(" ",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle," is "),o(2),T(M(4,2,"MESSAGE.required"))}}function Ps(n,s){n&1&&h(0,"i",17)}function Vs(n,s){n&1&&h(0,"i",18)}function Ds(n,s){n&1&&(l(0,"mat-error"),d(1," TitleResourceLanguage is "),l(2,"strong"),d(3),S(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function Ws(n,s){if(n&1){let t=w();l(0,"div",14)(1,"label",33),d(2),a(),l(3,"input",34,5),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.iconFont,e)||(r.dataModel.iconFont=e),f(e)}),I("iconPickerSelect",function(e){u(t);let r=m();return f(r.onIconPickerSelect(e))}),a(),l(5,"span",35),h(6,"i",36),a()()}if(n&2){let t=m();o(2),T(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle)),v("ngModel",t.dataModel.iconFont),p("iconPicker",t.dataModel.iconFont)("ipIconPack",le(9,xs))("ipPosition","top")("disabled",!(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessEditField)),o(3),p("ngClass",t.dataModel.iconFont)}}function Fs(n,s){if(n&1){let t=w();l(0,"div",23)(1,"label",37),d(2),a(),l(3,"div",38)(4,"div",39)(5,"input",40,6),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.iconColor,e)||(r.dataModel.iconColor=e),f(e)}),a()(),l(7,"div",41),h(8,"ngx-mat-color-toggle",42)(9,"ngx-mat-color-picker",43,7),a()()()}if(n&2){let t=R(10),i=m();o(2),T(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),mt("background",i.dataModel.iconColor),p("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),v("ngModel",i.dataModel.iconColor),p("ngxMatColorPicker",t)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),o(3),p("for",t),o(),p("touchUi",!0)("color","primary")}}function Os(n,s){n&1&&(l(0,"mat-error"),d(1," Description is "),l(2,"strong"),d(3),S(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function Bs(n,s){if(n&1&&(h(0,"img",28),S(1,"cmsthumbnail")),n&2){let t=m();p("src",x(M(1,2,t.dataModel.linkMainImageIdSrc)),P)}}function Ns(n,s){if(n&1){let t=w();l(0,"div",32)(1,"button",44),I("click",function(){u(t);let e=m();return f(e.onFormCancel())}),h(2,"i",45),d(3),S(4,"translate"),a(),l(5,"button",46),h(6,"i",47),d(7),S(8,"translate"),a()()}if(n&2){m();let t=R(10);o(3),E(" ",M(4,3,"ACTION.CANCEL")," "),o(2),p("disabled",!t.form.valid),o(2),E(" ",M(8,5,"ACTION.SAVE")," ")}}var fi=class fi extends Wt{constructor(t,i,e,r,g,c,W,U,Re){super(r,new Xt,W,Re);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estateActivityTypeService=r;this.estatePropertyTypeService=g;this.cmsToastrService=c;this.publicHelper=W;this.cdr=U;this.translate=Re;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ut;this.dataModel=new Xt;this.formInfo=new ye;this.fileManagerOpenForm=!1;this.dataEstatePropertyTypeUsageIds=[];this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateActivityTypeService.setAccessLoad(),this.estateActivityTypeService.setAccessDataType(qe.Editor),this.estateActivityTypeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(r=>{this.formInfo.submitResultMessage=r}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(r=>{this.publicHelper.processService.processStart(t,r,this.constructorInfoAreaId)});let i=new ke,e=new D;e.propertyName="LinkActivityTypeId",e.value=this.requestId,i.filters.push(e),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:r=>{this.dataEstatePropertyTypeModel=r.listItems;let g=[];this.dataEstatePropertyTypeModel.forEach(c=>{g.push(c.linkPropertyTypeUsageId)}),this.dataEstatePropertyTypeUsageIds=g,r.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.submitResultMessage=c}),this.formInfo.submitResultMessage=r.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(r.errorMessage)),this.publicHelper.processService.processStop(t)},error:r=>{this.cmsToastrService.typeError(r),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateActivityTypeService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorUserCategorySelect(t){this.dataEstatePropertyTypeUsageModel=t}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};fi.\u0275fac=function(i){return new(i||fi)(y(Me),y(Se),y(Y),y(Ti),y(wi),y(B),y(N),y(H),y(O))},fi.\u0275cmp=F({type:fi,selectors:[["app-estate-activity-type-edit"]],viewQuery:function(i,e){if(i&1&&ne(ws,5),i&2){let r;oe(r=ae())&&(e.formGroup=r.first)}},standalone:!1,features:[X],decls:59,vars:55,consts:[["vform","ngForm"],["Title",""],["TitleResourceLanguage",""],["Description",""],["LinkMainImageId",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","cmsKeyboardForce","en","name","dataModel.titleML","type","text","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let r=w();l(0,"div",8),h(1,"app-progress-spinner",9),l(2,"div",10)(3,"p",11),d(4),a(),l(5,"p"),d(6),S(7,"translate"),a(),h(8,"app-cms-form-result-message",12),l(9,"form",13,0),I("ngSubmit",function(){return u(r),f(e.onFormSubmit())}),l(11,"div",14)(12,"label",15),d(13),a(),l(14,"input",16,1),b("ngModelChange",function(c){return u(r),A(e.dataModel.title,c)||(e.dataModel.title=c),f(c)}),a(),_(16,Rs,1,0,"i",17),_(17,ks,1,0,"i",18),l(18,"em"),d(19),a(),_(20,Ls,5,4,"mat-error"),a(),l(21,"div",14)(22,"label",19),d(23,"TitleML"),a(),l(24,"input",20),b("ngModelChange",function(c){return u(r),A(e.dataModel.titleML,c)||(e.dataModel.titleML=c),f(c)}),a()(),l(25,"div",14)(26,"label",21),d(27),a(),l(28,"input",22,2),b("ngModelChange",function(c){return u(r),A(e.dataModel.titleResourceLanguage,c)||(e.dataModel.titleResourceLanguage=c),f(c)}),a(),_(30,Ps,1,0,"i",17),_(31,Vs,1,0,"i",18),l(32,"em"),d(33),a(),_(34,Ds,5,3,"mat-error"),a(),_(35,Ws,7,10,"div",14),_(36,Fs,11,11,"div",23),l(37,"div",14)(38,"label",24),d(39),a(),l(40,"textarea",25,3),b("ngModelChange",function(c){return u(r),A(e.dataModel.description,c)||(e.dataModel.description=c),f(c)}),d(42,"                  "),a(),l(43,"em"),d(44),a(),_(45,Os,5,3,"mat-error"),a(),l(46,"div",26)(47,"a",27),S(48,"cmsthumbnail"),_(49,Bs,2,4,"img",28),a()(),l(50,"div",14)(51,"label",29),I("click",function(){return u(r),f(e.fileManagerOpenForm=!0)}),d(52),S(53,"translate"),a(),l(54,"input",30,4),S(56,"translate"),b("ngModelChange",function(c){return u(r),A(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),f(c)}),I("click",function(){return u(r),f(e.fileManagerOpenForm=!0)}),a(),l(57,"cms-file-manager",31),I("itemSelected",function(c){return u(r),f(e.onActionFileSelected(c))}),b("openFormChange",function(c){return u(r),A(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),f(c)}),a()(),_(58,Ns,9,7,"div",32),a()()()}if(i&2){let r=R(15),g=R(29),c=R(41);o(),p("optionsInfoAreaId",e.constructorInfoAreaId),o(3),E(" ",e.formInfo.formTitle," "),o(2),E(" ",M(7,47,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),p("formInfo",e.formInfo),o(5),T(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),v("ngModel",e.dataModel.title),o(2),C(r.value?-1:16),o(),C(r.value?17:-1),o(2),E("",r.value.length," / 100"),o(),C(r.errors!=null&&r.errors.required?20:-1),o(4),v("ngModel",e.dataModel.titleML),p("disabled",!0),o(3),T(e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle)),v("ngModel",e.dataModel.titleResourceLanguage),p("disabled",!(e.fieldsInfo.titleResourceLanguage!=null&&e.fieldsInfo.titleResourceLanguage.accessEditField)),o(2),C(r.value?-1:30),o(),C(r.value?31:-1),o(2),E("",g.value.length," / 100"),o(),C(g.errors!=null&&g.errors.required?34:-1),o(),C(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessWatchField?35:-1),o(),C(e.fieldsInfo.iconColor!=null&&e.fieldsInfo.iconColor.accessWatchField?36:-1),o(3),T(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),v("ngModel",e.dataModel.description),o(4),E("",c.value.length," / 500"),o(),C(c.errors!=null&&c.errors.required?45:-1),o(2),p("href",x(M(48,49,e.dataModel.linkMainImageIdSrc)),P),o(2),C((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?49:-1),o(3),T(M(53,51,"TITLE.PICTURE")),o(2),p("placeholder",x(M(56,53,"TITLE.Original_File_ID"))),v("ngModel",e.dataModel.linkMainImageId),o(3),p("language",e.appLanguage)("isPopup",!0),v("openForm",e.fileManagerOpenForm),p("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),C(e.formInfo.submitButtonEnabled?58:-1)}},dependencies:[ce,ge,z,Q,me,K,he,_e,fe,ue,Ce,ht,J,q,Ie,zi,Bt,Pt,Lt,kt,Ee,G,j],encapsulation:2});var Gn=fi;var Un=["*","*"];function Hs(n,s){if(n&1&&(l(0,"label",4),d(1),a()),n&2){let t=m(2);p("for",un("app-cms-site-selector-",t.id)),o(),T(t.optionLabel)}}function Gs(n,s){if(n&1&&(h(0,"img",6),S(1,"cmsthumbnail")),n&2){let t=m(2);p("src",x(M(1,2,t.dataModelSelect==null?null:t.dataModelSelect.linkMainImageIdSrc)),P)}}function Us(n,s){if(n&1&&(h(0,"img",6),S(1,"cmsthumbnail")),n&2){let t=m().$implicit;p("src",x(M(1,2,t.linkMainImageIdSrc)),P)}}function qs(n,s){if(n&1&&(l(0,"mat-option",9),_(1,Us,2,4,"img",6),l(2,"span"),d(3),a()()),n&2){let t=s.$implicit,i=m(2);p("value",t)("disabled",i.optionDisabled),o(),C(t.linkMainImageIdSrc?1:-1),o(2),T(i.displayOption(t))}}function js(n,s){n&1&&h(0,"i",10)}function Ys(n,s){n&1&&h(0,"i",11)}function zs(n,s){if(n&1){let t=w();l(0,"i",13),I("click",function(){u(t);let e=m(2);return f(e.onActionSelectClear())}),a()}}function Qs(n,s){n&1&&(l(0,"em"),d(1),S(2,"translate"),a()),n&2&&(o(),E("(",M(2,1,"TITLE.Necessary"),")"))}function Ks(n,s){if(n&1){let t=w();l(0,"div",1),h(1,"app-progress-spinner",3),_(2,Hs,2,3,"label",4),l(3,"span",5),_(4,Gs,2,4,"img",6),a(),h(5,"input",7),l(6,"mat-autocomplete",8,0),I("optionSelected",function(e){u(t);let r=m();return f(r.onActionSelect(e.option.value))}),Ge(8,qs,4,4,"mat-option",9,He),S(10,"async"),a(),_(11,js,1,0,"i",10),_(12,Ys,1,0,"i",11),_(13,zs,1,0,"i",12),_(14,Qs,3,3,"em"),qt(15),a()}if(n&2){let t=R(7),i=m();o(),p("optionsInfoAreaId",i.constructorInfoAreaId),o(),C((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),C(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),p("placeholder",x(i.optionPlaceholder))("id",un("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Ut("disabled",i.optionDisabled?!0:null),o(),p("displayWith",i.displayFn),o(2),Ue(M(10,16,i.filteredOptions)),o(3),C(i.formControl.valid?-1:11),o(),C(i.optionRequired&&i.formControl.valid?12:-1),o(),C(i.optionAllowUnSelect&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?13:-1),o(),C(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0)?14:-1)}}function Js(n,s){if(n&1){let t=w();l(0,"div",14)(1,"a",15),I("click",function(){let e=u(t).$implicit,r=m(2);return f(r.onActionSelect(e))}),d(2),a()()}if(n&2){let t=s.$implicit,i=m(2);o(),p("ngClass",t.id===(i.dataModelSelect==null?null:i.dataModelSelect.id)?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),Ut("disabled",i.optionDisabled?!0:null),o(),T(i.displayOption(t))}}function Zs(n,s){if(n&1){let t=w();l(0,"i",13),I("click",function(){u(t);let e=m(2);return f(e.onActionSelectClear())}),a()}}function Xs(n,s){if(n&1&&(l(0,"div",2),Ge(1,Js,3,3,"div",14,He),S(3,"async"),_(4,Zs,1,0,"i",12),qt(5,1),a()),n&2){let t=m();o(),Ue(M(3,1,t.filteredOptions)),o(3),C(t.optionAllowUnSelect&&(t.dataModelSelect==null||t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)>0?4:-1)}}var Gt=class Gt{constructor(s,t,i,e,r,g,c,W){this.coreEnumService=s;this.cmsToastrService=t;this.cdr=i;this.publicHelper=e;this.translate=r;this.tokenHelper=g;this.cmsStoreService=c;this.categoryService=W;this.id=++Gt.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new $;this.dataModelSelect=new je;this.formControl=new it;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new Ne;this.optionTypeView=1;this.optionAllowUnSelect=!1;this.typeUsageId="";this.optionReload=()=>this.onActionButtonReload();this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){s&&(typeof s=="string"&&s.length>0||typeof s==typeof je)&&this.onActionSelectForce(s)}set optionTypeUsageId(s){this.typeUsageId=s,this.loadOptions()}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder),this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(()=>De(this,null,function*(){this.loadOptions()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(dt(""),ct(1500),Kt(),pt(s=>typeof s=="string"||typeof s=="number"?this.DataGetAll(s||""):[]))}displayFn(s){return s?s.titleML:void 0}displayOption(s){return s?s.titleML:void 0}DataGetAll(s){return De(this,null,function*(){let t=new ke;t.rowPerPage=20,t.accessLoad=!0;let i=new D,e=new D;s&&s.length>0&&(i.propertyName="title",i.value=s,i.searchType=Z.Contains,i.clauseType=ee.Or,e.filters.push(i),i=new D,i.propertyName="id",i.value=s,i.searchType=Z.Equal,i.clauseType=ee.Or,e.filters.push(i),t.filters.push(e)),this.typeUsageId&&this.typeUsageId.length>0&&(i=new D,i.propertyName="PropertyTypes",i.propertyAnyName="LinkPropertyTypeUsageId",i.value=this.typeUsageId,i.searchType=Z.Equal,i.clauseType=ee.And,t.filters.push(i));let r=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(g=>{this.publicHelper.processService.processStart(r,g,this.constructorInfoAreaId)}),yield Qt(this.categoryService.ServiceGetAll(t)).then(g=>(this.dataModelResult=g,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(r),g.listItems))})}onActionSelect(s){if(!this.optionDisabled){if(this.optionAllowUnSelect&&this.dataModelSelect&&this.dataModelSelect.id==s.id){this.onActionSelectClear();return}this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect)}}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(s){return this.filteredOptions.pipe(st(t=>(t.find(i=>i.id===s.id)||t.push(s),t)))}onActionSelectForce(s){if((!s||typeof s=="string"&&s.length===0)&&(this.dataModelSelect=new je),typeof s=="string"&&s.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===s)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(t=>t.id===s)){let t=this.dataModelResult.listItems.find(i=>i.id===s);this.dataModelSelect=t,this.formControl.setValue(t);return}this.categoryService.ServiceGetOneById(s).subscribe({next:t=>{t.isSuccess?(this.filteredOptions=this.push(t.item),this.dataModelSelect=t.item,this.formControl.setValue(t.item),this.optionChange.emit(t.item)):this.cmsToastrService.typeErrorMessage(t.errorMessage)}});return}if(typeof s==typeof je){this.filteredOptions=this.push(s),this.dataModelSelect=s,this.formControl.setValue(s);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new je,this.loadOptions()}};Gt.nextId=0,Gt.\u0275fac=function(t){return new(t||Gt)(y(Y),y(B),y(H),y(N),y(O),y(ie),y(te),y($t))},Gt.\u0275cmp=F({type:Gt,selectors:[["app-estate-property-type-landuse-selector"]],inputs:{optionSelectForce:"optionSelectForce",optionTypeUsageId:"optionTypeUsageId",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionTypeView:"optionTypeView",optionAllowUnSelect:"optionAllowUnSelect",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Un,decls:2,vars:2,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[1,"row","mb-0"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"]],template:function(t,i){t&1&&(Jt(Un),_(0,Ks,16,18,"div",1),_(1,Xs,6,3,"div",2)),t&2&&(C(i.optionTypeView===1?0:-1),o(),C(i.optionTypeView===2?1:-1))},dependencies:[ce,z,Q,K,ft,_t,gt,Ct,ei,J,q,pe,G,j],encapsulation:2});var qn=Gt;var $s=["vform"],ec=n=>({direction:n}),tc=()=>["fa"];function ic(n,s){n&1&&h(0,"i",22)}function nc(n,s){n&1&&h(0,"i",23)}function oc(n,s){n&1&&(l(0,"mat-error"),d(1," Title is "),l(2,"strong"),d(3),S(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function ac(n,s){n&1&&h(0,"i",22)}function rc(n,s){n&1&&h(0,"i",23)}function lc(n,s){n&1&&(l(0,"mat-error"),d(1," TitleResourceLanguage is "),l(2,"strong"),d(3),S(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function sc(n,s){if(n&1){let t=w();l(0,"div",19)(1,"label",35),d(2),a(),l(3,"input",36,4),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.titleResourceLanguage,e)||(r.dataModel.titleResourceLanguage=e),f(e)}),a(),_(5,ac,1,0,"i",22),_(6,rc,1,0,"i",23),l(7,"em"),d(8),a(),_(9,lc,5,3,"mat-error"),a()}if(n&2){let t=R(4),i=m();o(2),T(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),p("placeholder",x(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),v("ngModel",i.dataModel.titleResourceLanguage),p("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessEditField)),o(2),C(t.value?-1:5),o(),C(t.value?6:-1),o(2),E("",t.value.length," / 100"),o(),C(t.errors!=null&&t.errors.required?9:-1)}}function cc(n,s){if(n&1){let t=w();l(0,"div",24)(1,"div",37)(2,"h5",38),d(3),a()(),l(4,"div",39)(5,"div",40)(6,"input",41),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.createdYearActive,e)||(r.dataModel.createdYearActive=e),f(e)}),a(),h(7,"label",42),a()()()}if(n&2){let t=m();o(3),E(" ",t.fieldsInfo.createdYearActive==null?null:t.fieldsInfo.createdYearActive.fieldTitle," "),o(3),v("ngModel",t.dataModel.createdYearActive)}}function dc(n,s){n&1&&h(0,"i",22)}function pc(n,s){n&1&&h(0,"i",23)}function mc(n,s){n&1&&(l(0,"mat-error"),d(1," TitleCreatedYaer is "),l(2,"strong"),d(3),S(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function uc(n,s){if(n&1){let t=w();l(0,"div",19)(1,"label",43),d(2),a(),l(3,"input",44,5),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.titleCreatedYaer,e)||(r.dataModel.titleCreatedYaer=e),f(e)}),a(),_(5,dc,1,0,"i",22),_(6,pc,1,0,"i",23),l(7,"em"),d(8),a(),_(9,mc,5,3,"mat-error"),a()}if(n&2){let t=R(4),i=m();o(2),T(i.fieldsInfo.titleCreatedYaer==null?null:i.fieldsInfo.titleCreatedYaer.fieldTitle),o(),p("placeholder",x(i.fieldsInfo.titleCreatedYaer==null?null:i.fieldsInfo.titleCreatedYaer.fieldTitle)),v("ngModel",i.dataModel.titleCreatedYaer),o(2),C(t.value?-1:5),o(),C(t.value?6:-1),o(2),E("",t.value.length," / 100"),o(),C(t.errors!=null&&t.errors.required?9:-1)}}function fc(n,s){if(n&1){let t=w();l(0,"div",19)(1,"label",45),d(2,"TitleCreatedYaerML"),a(),l(3,"input",46,6),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.titleCreatedYaerML,e)||(r.dataModel.titleCreatedYaerML=e),f(e)}),a()()}if(n&2){let t=m();o(3),p("placeholder",x(t.fieldsInfo.titleCreatedYaerML==null?null:t.fieldsInfo.titleCreatedYaerML.fieldTitle)),v("ngModel",t.dataModel.titleCreatedYaerML),p("disabled",!0)}}function gc(n,s){n&1&&h(0,"i",22)}function hc(n,s){n&1&&h(0,"i",23)}function _c(n,s){n&1&&(l(0,"mat-error"),d(1," TitleCreatedYaerResourceLanguage is "),l(2,"strong"),d(3),S(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function Cc(n,s){if(n&1){let t=w();l(0,"div",19)(1,"label",47),d(2),a(),l(3,"input",48,7),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.titleCreatedYaerResourceLanguage,e)||(r.dataModel.titleCreatedYaerResourceLanguage=e),f(e)}),a(),_(5,gc,1,0,"i",22),_(6,hc,1,0,"i",23),l(7,"em"),d(8),a(),_(9,_c,5,3,"mat-error"),a()}if(n&2){let t=R(4),i=m();o(2),T(i.fieldsInfo.titleCreatedYaerResourceLanguage==null?null:i.fieldsInfo.titleCreatedYaerResourceLanguage.fieldTitle),o(),p("placeholder",x(i.fieldsInfo.titleCreatedYaerResourceLanguage==null?null:i.fieldsInfo.titleCreatedYaerResourceLanguage.fieldTitle)),v("ngModel",i.dataModel.titleCreatedYaerResourceLanguage),p("disabled",!(i.fieldsInfo.titleCreatedYaerResourceLanguage!=null&&i.fieldsInfo.titleCreatedYaerResourceLanguage.accessEditField)),o(2),C(t.value?-1:5),o(),C(t.value?6:-1),o(2),E("",t.value.length," / 100"),o(),C(t.errors!=null&&t.errors.required?9:-1)}}function Sc(n,s){if(n&1){let t=w();l(0,"div",24)(1,"div",37)(2,"h5",49),d(3),a()(),l(4,"div",39)(5,"div",40)(6,"input",50),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.partitionActive,e)||(r.dataModel.partitionActive=e),f(e)}),a(),h(7,"label",51),a()()()}if(n&2){let t=m();o(3),E(" ",t.fieldsInfo.partitionActive==null?null:t.fieldsInfo.partitionActive.fieldTitle," "),o(3),v("ngModel",t.dataModel.partitionActive)}}function Mc(n,s){n&1&&h(0,"i",22)}function Ec(n,s){n&1&&h(0,"i",23)}function yc(n,s){n&1&&(l(0,"mat-error"),d(1," TitlePartition is "),l(2,"strong"),d(3),S(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function Ic(n,s){if(n&1){let t=w();l(0,"div",19)(1,"label",52),d(2),a(),l(3,"input",53,8),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.titlePartition,e)||(r.dataModel.titlePartition=e),f(e)}),a(),_(5,Mc,1,0,"i",22),_(6,Ec,1,0,"i",23),l(7,"em"),d(8),a(),_(9,yc,5,3,"mat-error"),a()}if(n&2){let t=R(4),i=m();o(2),T(i.fieldsInfo.titlePartition==null?null:i.fieldsInfo.titlePartition.fieldTitle),o(),p("placeholder",x(i.fieldsInfo.titlePartition==null?null:i.fieldsInfo.titlePartition.fieldTitle)),v("ngModel",i.dataModel.titlePartition),o(2),C(t.value?-1:5),o(),C(t.value?6:-1),o(2),E("",t.value.length," / 100"),o(),C(t.errors!=null&&t.errors.required?9:-1)}}function vc(n,s){if(n&1){let t=w();l(0,"div",19)(1,"label",54),d(2,"TitlePartitionML"),a(),l(3,"input",55),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.titlePartitionML,e)||(r.dataModel.titlePartitionML=e),f(e)}),a()()}if(n&2){let t=m();o(3),v("ngModel",t.dataModel.titlePartitionML),p("disabled",!0)}}function Ac(n,s){n&1&&h(0,"i",22)}function bc(n,s){n&1&&h(0,"i",23)}function Tc(n,s){n&1&&(l(0,"mat-error"),d(1," TitlePartitionResourceLanguage is "),l(2,"strong"),d(3),S(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function wc(n,s){if(n&1){let t=w();l(0,"div",19)(1,"label",56),d(2),a(),l(3,"input",57,9),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.titlePartitionResourceLanguage,e)||(r.dataModel.titlePartitionResourceLanguage=e),f(e)}),a(),_(5,Ac,1,0,"i",22),_(6,bc,1,0,"i",23),l(7,"em"),d(8),a(),_(9,Tc,5,3,"mat-error"),a()}if(n&2){let t=R(4),i=m();o(2),T(i.fieldsInfo.titlePartitionResourceLanguage==null?null:i.fieldsInfo.titlePartitionResourceLanguage.fieldTitle),o(),p("placeholder",x(i.fieldsInfo.titlePartitionResourceLanguage==null?null:i.fieldsInfo.titlePartitionResourceLanguage.fieldTitle)),v("ngModel",i.dataModel.titlePartitionResourceLanguage),p("disabled",!(i.fieldsInfo.titlePartitionResourceLanguage!=null&&i.fieldsInfo.titlePartitionResourceLanguage.accessEditField)),o(2),C(t.value?-1:5),o(),C(t.value?6:-1),o(2),E("",t.value.length," / 100"),o(),C(t.errors!=null&&t.errors.required?9:-1)}}function xc(n,s){n&1&&(l(0,"mat-error"),d(1," Description is "),l(2,"strong"),d(3),S(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function Rc(n,s){if(n&1){let t=w();l(0,"div",19)(1,"label",58),d(2),a(),l(3,"input",59,10),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.iconFont,e)||(r.dataModel.iconFont=e),f(e)}),I("iconPickerSelect",function(e){u(t);let r=m();return f(r.onIconPickerSelect(e))}),a(),l(5,"span",60),h(6,"i",61),a()()}if(n&2){let t=m();o(2),T(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle)),v("ngModel",t.dataModel.iconFont),p("iconPicker",t.dataModel.iconFont)("ipIconPack",le(9,tc))("ipPosition","top")("disabled",!(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessAddField)),o(3),p("ngClass",t.dataModel.iconFont)}}function kc(n,s){if(n&1){let t=w();l(0,"div",27)(1,"label",62),d(2),a(),l(3,"div",63)(4,"div",64)(5,"input",65,11),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.iconColor,e)||(r.dataModel.iconColor=e),f(e)}),a()(),l(7,"div",66),h(8,"ngx-mat-color-toggle",67)(9,"ngx-mat-color-picker",68,12),a()()()}if(n&2){let t=R(10),i=m();o(2),T(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),mt("background",i.dataModel.iconColor),p("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),v("ngModel",i.dataModel.iconColor),p("ngxMatColorPicker",t)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),p("for",t),o(),p("touchUi",!0)("color","primary")}}function Lc(n,s){if(n&1&&(h(0,"img",30),S(1,"cmsthumbnail")),n&2){let t=m();p("src",x(M(1,2,t.dataModel.linkMainImageIdSrc)),P)}}function Pc(n,s){if(n&1){let t=w();l(0,"div",34)(1,"button",69),I("click",function(){u(t);let e=m();return f(e.onFormCancel())}),h(2,"i",70),d(3),S(4,"translate"),a(),l(5,"button",71),h(6,"i",72),d(7),S(8,"translate"),a()()}if(n&2){m();let t=R(10);o(3),E(" ",M(4,3,"ACTION.CANCEL")," "),o(2),p("disabled",!t.form.valid),o(2),E(" ",M(8,5,"ACTION.SAVE")," ")}}var gi=class gi extends Vt{constructor(t,i,e,r,g,c,W,U,Re,Ve){super(r,new je,W,Ve);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estatePropertyTypeLanduseService=r;this.cmsToastrService=g;this.cmsStoreService=c;this.publicHelper=W;this.cdr=U;this.tokenHelper=Re;this.translate=Ve;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new Zt;this.dataModelResult=new $;this.dataModel=new je;this.formInfo=new ye;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyTypeLanduseService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};gi.\u0275fac=function(i){return new(i||gi)(y(Me),y(Se),y(Y),y($t),y(B),y(te),y(N),y(H),y(ie),y(O))},gi.\u0275cmp=F({type:gi,selectors:[["app-estate-property-type-landuse-add"]],viewQuery:function(i,e){if(i&1&&ne($s,5),i&2){let r;oe(r=ae())&&(e.formGroup=r.first)}},standalone:!1,features:[X],decls:54,vars:56,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["TitleResourceLanguage",""],["TitleCreatedYaer",""],["TitleCreatedYaerML",""],["TitleCreatedYaerResourceLanguage",""],["TitlePartition",""],["TitlePartitionResourceLanguage",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"d-flex","mb-3"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"pt-1"],["data-trigger-switch","dataModel.createdYearActive",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.createdYearActive","name","dataModel.createdYearActive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.createdYearActive",1,"custom-control-label"],["for","dataModel.titleCreatedYaer",1,"color-highlight"],["type","text","name","dataModel.titleCreatedYaer","minlength","3","maxlength","100","required","","id","dataModel.titleCreatedYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleCreatedYaerML",1,"color-highlight"],["type","text","name","dataModel.titleCreatedYaerML","id","dataModel.titleCreatedYaerML",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.titleCreatedYaerResourceLanguage",1,"color-highlight"],["type","text","name","dataModel.titleCreatedYaerResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleCreatedYaerResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["data-trigger-switch","dataModel.partitionActive",1,"font-600","font-14"],["type","checkbox","id","dataModel.partitionActive","name","dataModel.partitionActive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.partitionActive",1,"custom-control-label"],["for","dataModel.titlePartition",1,"color-highlight"],["type","text","name","dataModel.titlePartition","minlength","3","maxlength","100","required","","id","dataModel.titlePartition",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titlePartitionML",1,"color-highlight"],["type","text","name","dataModel.titlePartitionML","id","dataModel.titlePartitionML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titlePartitionResourceLanguage",1,"color-highlight"],["type","text","name","dataModel.titlePartitionResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titlePartitionResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let r=w();l(0,"div",13),h(1,"app-progress-spinner",14),l(2,"div",15)(3,"p",16),d(4),a(),l(5,"p"),d(6),S(7,"translate"),a(),h(8,"app-cms-form-result-message",17),l(9,"form",18,0),I("ngSubmit",function(){return u(r),f(e.onFormSubmit())}),l(11,"div",19)(12,"label",20),d(13),a(),l(14,"input",21,1),b("ngModelChange",function(c){return u(r),A(e.dataModel.title,c)||(e.dataModel.title=c),f(c)}),a(),_(16,ic,1,0,"i",22),_(17,nc,1,0,"i",23),l(18,"em"),d(19),a(),_(20,oc,5,3,"mat-error"),a(),_(21,sc,10,9,"div",19),_(22,cc,8,2,"div",24),_(23,uc,10,8,"div",19),_(24,fc,5,4,"div",19),_(25,Cc,10,9,"div",19),_(26,Sc,8,2,"div",24),_(27,Ic,10,8,"div",19),_(28,vc,4,2,"div",19),_(29,wc,10,9,"div",19),l(30,"div",19)(31,"label",25),d(32),a(),l(33,"textarea",26,2),b("ngModelChange",function(c){return u(r),A(e.dataModel.description,c)||(e.dataModel.description=c),f(c)}),d(35,"                                    "),a(),l(36,"em"),d(37),a(),_(38,xc,5,3,"mat-error"),a(),_(39,Rc,7,10,"div",19),_(40,kc,11,11,"div",27),l(41,"div",28)(42,"a",29),S(43,"cmsthumbnail"),_(44,Lc,2,4,"img",30),a()(),l(45,"div",19)(46,"label",31),I("click",function(){return u(r),f(e.fileManagerOpenForm=!0)}),d(47),S(48,"translate"),a(),l(49,"input",32,3),S(51,"translate"),b("ngModelChange",function(c){return u(r),A(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),f(c)}),I("click",function(){return u(r),f(e.fileManagerOpenForm=!0)}),a(),l(52,"cms-file-manager",33),I("itemSelected",function(c){return u(r),f(e.onActionFileSelected(c))}),b("openFormChange",function(c){return u(r),A(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),f(c)}),a()(),_(53,Pc,9,7,"div",34),a()()()}if(i&2){let r=R(15),g=R(34);o(),p("optionsInfoAreaId",e.constructorInfoAreaId),o(3),E(" ",e.formInfo.formTitle," "),o(2),E(" ",M(7,46,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),p("formInfo",e.formInfo),o(),p("ngStyle",se(54,ec,e.tokenInfo.access.direction)),o(4),T(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),v("ngModel",e.dataModel.title),o(2),C(r.value?-1:16),o(),C(r.value?17:-1),o(2),E("",r.value.length," / 100"),o(),C(r.errors!=null&&r.errors.required?20:-1),o(),C(e.fieldsInfo.titleResourceLanguage!=null&&e.fieldsInfo.titleResourceLanguage.accessWatchField?21:-1),o(),C(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?22:-1),o(),C(e.dataModel.createdYearActive?23:-1),o(),C(e.dataModel.createdYearActive?24:-1),o(),C(e.fieldsInfo.titleCreatedYaerResourceLanguage!=null&&e.fieldsInfo.titleCreatedYaerResourceLanguage.accessWatchField&&e.dataModel.createdYearActive?25:-1),o(),C(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?26:-1),o(),C(e.dataModel.partitionActive?27:-1),o(),C(e.dataModel.partitionActive?28:-1),o(),C(e.fieldsInfo.titlePartitionResourceLanguage!=null&&e.fieldsInfo.titlePartitionResourceLanguage.accessWatchField&&e.dataModel.partitionActive?29:-1),o(3),T(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),v("ngModel",e.dataModel.description),o(4),E("",g.value.length," / 500"),o(),C(g.errors!=null&&g.errors.required?38:-1),o(),C(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessWatchField?39:-1),o(),C(e.fieldsInfo.iconColor!=null&&e.fieldsInfo.iconColor.accessWatchField?40:-1),o(2),p("href",x(M(43,48,e.dataModel.linkMainImageIdSrc)),P),o(2),C((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?44:-1),o(3),T(M(48,50,"TITLE.PICTURE")),o(2),p("placeholder",x(M(51,52,"TITLE.Original_File_ID"))),v("ngModel",e.dataModel.linkMainImageId),o(3),p("language",e.appLanguage)("isPopup",!0)("openDirectUploadView",!0),v("openForm",e.fileManagerOpenForm),p("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),C(e.formInfo.submitButtonEnabled?53:-1)}},dependencies:[ce,de,ge,z,ze,Q,me,K,he,_e,fe,ue,Ce,ht,J,q,Ie,Bt,Pt,Lt,kt,Ee,G,j],encapsulation:2});var jn=gi;function Vc(n,s){if(n&1){let t=w();l(0,"li")(1,"mat-checkbox",0),I("change",function(){let e=u(t).$implicit,r=m();return f(r.onActionSelect(e))}),d(2),a()()}if(n&2){let t=s.$implicit,i=m();o(),p("checked",i.fieldsStatus.get(t.id))("disabled",i.optionDisabled),o(),E(" ",t.titleML," ")}}var hi=class hi{constructor(s,t,i,e,r,g,c,W){this.coreEnumService=s;this.categoryService=t;this.cdr=i;this.publicHelper=e;this.translate=r;this.tokenHelper=g;this.cmsStoreService=c;this.cmsToastrService=W;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new $;this.dataModelSelect=[];this.dataIdsSelect=[];this.formControl=new it;this.fieldsStatus=new Map;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionChange=new Ne;this.optionSelectAdded=new Ne;this.optionSelectRemoved=new Ne;this.optionReload=()=>this.onActionButtonReload();this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(()=>De(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetAll(){let s=new ke;s.rowPerPage=50,s.accessLoad=!0;let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(s).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataModelResult.listItems.forEach(e=>this.fieldsStatus.set(e.id,!1)),this.dataIdsSelect.forEach(e=>this.fieldsStatus.set(e,!0)),this.dataModelResult.listItems.forEach(e=>{this.fieldsStatus.get(e.id)&&this.dataModelSelect.push(e)})):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelect(s){this.fieldsStatus.get(s.id)?(this.fieldsStatus.set(s.id,!1),this.optionSelectRemoved.emit(s),this.dataModelSelect.splice(this.dataModelSelect.indexOf(s),1)):(this.fieldsStatus.set(s.id,!0),this.optionSelectAdded.emit(s),this.dataModelSelect.push(s)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(s){typeof s==typeof Array(String)?s.forEach(t=>{this.dataIdsSelect.push(t)}):typeof s==typeof Array(Tn)&&s.forEach(t=>{this.dataIdsSelect.push(t.id)}),this.dataIdsSelect.forEach(t=>this.fieldsStatus.set(t,!0))}onActionButtonReload(){this.DataGetAll()}};hi.\u0275fac=function(t){return new(t||hi)(y(Y),y(wn),y(H),y(N),y(O),y(ie),y(te),y(B))},hi.\u0275cmp=F({type:hi,selectors:[["app-estate-property-type-usage-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},standalone:!1,decls:3,vars:0,consts:[[3,"change","checked","disabled"]],template:function(t,i){t&1&&(l(0,"ul"),Ge(1,Vc,3,3,"li",null,He),a()),t&2&&(o(),Ue(i.dataModelResult.listItems))},dependencies:[kn],encapsulation:2});var pn=hi;var Wc=["vform"],Fc=n=>({direction:n}),Oc=()=>["fa"];function Bc(n,s){n&1&&h(0,"i",23)}function Nc(n,s){n&1&&h(0,"i",24)}function Hc(n,s){if(n&1&&(l(0,"mat-error"),d(1),l(2,"strong"),d(3),S(4,"translate"),a()()),n&2){let t=m();o(),E(" ",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle," is "),o(2),T(M(4,2,"MESSAGE.required"))}}function Gc(n,s){n&1&&h(0,"i",23)}function Uc(n,s){n&1&&h(0,"i",24)}function qc(n,s){n&1&&(l(0,"mat-error"),d(1," TitleResourceLanguage is "),l(2,"strong"),d(3),S(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function jc(n,s){if(n&1){let t=w();l(0,"div",20)(1,"label",39),d(2),a(),l(3,"input",40,5),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.titleResourceLanguage,e)||(r.dataModel.titleResourceLanguage=e),f(e)}),a(),_(5,Gc,1,0,"i",23),_(6,Uc,1,0,"i",24),l(7,"em"),d(8),a(),_(9,qc,5,3,"mat-error"),a()}if(n&2){let t=R(4),i=m();o(2),T(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),p("placeholder",x(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),v("ngModel",i.dataModel.titleResourceLanguage),p("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessEditField)),o(2),C(t.value?-1:5),o(),C(t.value?6:-1),o(2),E("",t.value.length," / 100"),o(),C(t.errors!=null&&t.errors.required?9:-1)}}function Yc(n,s){if(n&1){let t=w();l(0,"div",27)(1,"div",41)(2,"h5",42),d(3),a()(),l(4,"div",43)(5,"div",44)(6,"input",45),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.createdYearActive,e)||(r.dataModel.createdYearActive=e),f(e)}),a(),h(7,"label",46),a()()()}if(n&2){let t=m();o(3),E(" ",t.fieldsInfo.createdYearActive==null?null:t.fieldsInfo.createdYearActive.fieldTitle," "),o(3),v("ngModel",t.dataModel.createdYearActive)}}function zc(n,s){n&1&&h(0,"i",23)}function Qc(n,s){n&1&&h(0,"i",24)}function Kc(n,s){n&1&&(l(0,"mat-error"),d(1," TitleCreatedYaer is "),l(2,"strong"),d(3),S(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function Jc(n,s){if(n&1){let t=w();l(0,"div",20)(1,"label",47),d(2),a(),l(3,"input",48,6),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.titleCreatedYaer,e)||(r.dataModel.titleCreatedYaer=e),f(e)}),a(),_(5,zc,1,0,"i",23),_(6,Qc,1,0,"i",24),l(7,"em"),d(8),a(),_(9,Kc,5,3,"mat-error"),a()}if(n&2){let t=R(4),i=m();o(2),T(i.fieldsInfo.titleCreatedYaer==null?null:i.fieldsInfo.titleCreatedYaer.fieldTitle),o(),p("placeholder",x(i.fieldsInfo.titleCreatedYaer==null?null:i.fieldsInfo.titleCreatedYaer.fieldTitle)),v("ngModel",i.dataModel.titleCreatedYaer),o(2),C(t.value?-1:5),o(),C(t.value?6:-1),o(2),E("",t.value.length," / 100"),o(),C(t.errors!=null&&t.errors.required?9:-1)}}function Zc(n,s){if(n&1){let t=w();l(0,"div",20)(1,"label",49),d(2,"TitleCreatedYaerML"),a(),l(3,"input",50,7),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.titleCreatedYaerML,e)||(r.dataModel.titleCreatedYaerML=e),f(e)}),a()()}if(n&2){let t=m();o(3),p("placeholder",x(t.fieldsInfo.titleCreatedYaerML==null?null:t.fieldsInfo.titleCreatedYaerML.fieldTitle)),v("ngModel",t.dataModel.titleCreatedYaerML),p("disabled",!0)}}function Xc(n,s){n&1&&h(0,"i",23)}function $c(n,s){n&1&&h(0,"i",24)}function ed(n,s){n&1&&(l(0,"mat-error"),d(1," TitleCreatedYaerResourceLanguage is "),l(2,"strong"),d(3),S(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function td(n,s){if(n&1){let t=w();l(0,"div",20)(1,"label",51),d(2),a(),l(3,"input",52,8),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.titleCreatedYaerResourceLanguage,e)||(r.dataModel.titleCreatedYaerResourceLanguage=e),f(e)}),a(),_(5,Xc,1,0,"i",23),_(6,$c,1,0,"i",24),l(7,"em"),d(8),a(),_(9,ed,5,3,"mat-error"),a()}if(n&2){let t=R(4),i=m();o(2),T(i.fieldsInfo.titleCreatedYaerResourceLanguage==null?null:i.fieldsInfo.titleCreatedYaerResourceLanguage.fieldTitle),o(),p("placeholder",x(i.fieldsInfo.titleCreatedYaerResourceLanguage==null?null:i.fieldsInfo.titleCreatedYaerResourceLanguage.fieldTitle)),v("ngModel",i.dataModel.titleCreatedYaerResourceLanguage),p("disabled",!(i.fieldsInfo.titleCreatedYaerResourceLanguage!=null&&i.fieldsInfo.titleCreatedYaerResourceLanguage.accessEditField)),o(2),C(t.value?-1:5),o(),C(t.value?6:-1),o(2),E("",t.value.length," / 100"),o(),C(t.errors!=null&&t.errors.required?9:-1)}}function id(n,s){if(n&1){let t=w();l(0,"div",27)(1,"div",41)(2,"h5",53),d(3),a()(),l(4,"div",43)(5,"div",44)(6,"input",54),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.partitionActive,e)||(r.dataModel.partitionActive=e),f(e)}),a(),h(7,"label",55),a()()()}if(n&2){let t=m();o(3),E(" ",t.fieldsInfo.partitionActive==null?null:t.fieldsInfo.partitionActive.fieldTitle," "),o(3),v("ngModel",t.dataModel.partitionActive)}}function nd(n,s){n&1&&h(0,"i",23)}function od(n,s){n&1&&h(0,"i",24)}function ad(n,s){n&1&&(l(0,"mat-error"),d(1," TitlePartition is "),l(2,"strong"),d(3),S(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function rd(n,s){if(n&1){let t=w();l(0,"div",20)(1,"label",56),d(2),a(),l(3,"input",57,9),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.titlePartition,e)||(r.dataModel.titlePartition=e),f(e)}),a(),_(5,nd,1,0,"i",23),_(6,od,1,0,"i",24),l(7,"em"),d(8),a(),_(9,ad,5,3,"mat-error"),a()}if(n&2){let t=R(4),i=m();o(2),T(i.fieldsInfo.titlePartition==null?null:i.fieldsInfo.titlePartition.fieldTitle),o(),p("placeholder",x(i.fieldsInfo.titlePartition==null?null:i.fieldsInfo.titlePartition.fieldTitle)),v("ngModel",i.dataModel.titlePartition),o(2),C(t.value?-1:5),o(),C(t.value?6:-1),o(2),E("",t.value.length," / 100"),o(),C(t.errors!=null&&t.errors.required?9:-1)}}function ld(n,s){if(n&1){let t=w();l(0,"div",20)(1,"label",58),d(2,"TitlePartitionML"),a(),l(3,"input",59),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.titlePartitionML,e)||(r.dataModel.titlePartitionML=e),f(e)}),a()()}if(n&2){let t=m();o(3),v("ngModel",t.dataModel.titlePartitionML),p("disabled",!0)}}function sd(n,s){n&1&&h(0,"i",23)}function cd(n,s){n&1&&h(0,"i",24)}function dd(n,s){n&1&&(l(0,"mat-error"),d(1," TitlePartitionResourceLanguage is "),l(2,"strong"),d(3),S(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function pd(n,s){if(n&1){let t=w();l(0,"div",20)(1,"label",60),d(2),a(),l(3,"input",61,10),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.titlePartitionResourceLanguage,e)||(r.dataModel.titlePartitionResourceLanguage=e),f(e)}),a(),_(5,sd,1,0,"i",23),_(6,cd,1,0,"i",24),l(7,"em"),d(8),a(),_(9,dd,5,3,"mat-error"),a()}if(n&2){let t=R(4),i=m();o(2),T(i.fieldsInfo.titlePartitionResourceLanguage==null?null:i.fieldsInfo.titlePartitionResourceLanguage.fieldTitle),o(),p("placeholder",x(i.fieldsInfo.titlePartitionResourceLanguage==null?null:i.fieldsInfo.titlePartitionResourceLanguage.fieldTitle)),v("ngModel",i.dataModel.titlePartitionResourceLanguage),p("disabled",!(i.fieldsInfo.titlePartitionResourceLanguage!=null&&i.fieldsInfo.titlePartitionResourceLanguage.accessEditField)),o(2),C(t.value?-1:5),o(),C(t.value?6:-1),o(2),E("",t.value.length," / 100"),o(),C(t.errors!=null&&t.errors.required?9:-1)}}function md(n,s){n&1&&(l(0,"mat-error"),d(1," Description is "),l(2,"strong"),d(3),S(4,"translate"),a()()),n&2&&(o(3),T(M(4,1,"MESSAGE.required")))}function ud(n,s){if(n&1){let t=w();l(0,"div",20)(1,"label",62),d(2),a(),l(3,"input",63,11),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.iconFont,e)||(r.dataModel.iconFont=e),f(e)}),I("iconPickerSelect",function(e){u(t);let r=m();return f(r.onIconPickerSelect(e))}),a(),l(5,"span",64),h(6,"i",65),a()()}if(n&2){let t=m();o(2),T(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.fieldTitle)),v("ngModel",t.dataModel.iconFont),p("iconPicker",t.dataModel.iconFont)("ipIconPack",le(9,Oc))("ipPosition","top")("disabled",!(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessAddField)),o(3),p("ngClass",t.dataModel.iconFont)}}function fd(n,s){if(n&1){let t=w();l(0,"div",30)(1,"label",66),d(2),a(),l(3,"div",67)(4,"div",68)(5,"input",69,12),b("ngModelChange",function(e){u(t);let r=m();return A(r.dataModel.iconColor,e)||(r.dataModel.iconColor=e),f(e)}),a()(),l(7,"div",70),h(8,"ngx-mat-color-toggle",71)(9,"ngx-mat-color-picker",72,13),a()()()}if(n&2){let t=R(10),i=m();o(2),T(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),mt("background",i.dataModel.iconColor),p("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),v("ngModel",i.dataModel.iconColor),p("ngxMatColorPicker",t)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),p("for",t),o(),p("touchUi",!0)("color","primary")}}function gd(n,s){if(n&1&&(h(0,"img",33),S(1,"cmsthumbnail")),n&2){let t=m();p("src",x(M(1,2,t.dataModel.linkMainImageIdSrc)),P)}}function hd(n,s){if(n&1){let t=w();l(0,"div",38)(1,"button",73),I("click",function(){u(t);let e=m();return f(e.onFormCancel())}),h(2,"i",74),d(3),S(4,"translate"),a(),l(5,"button",75),h(6,"i",76),d(7),S(8,"translate"),a()()}if(n&2){m();let t=R(10);o(3),E(" ",M(4,3,"ACTION.CANCEL")," "),o(2),p("disabled",!t.form.valid),o(2),E(" ",M(8,5,"ACTION.SAVE")," ")}}var _i=class _i extends Wt{constructor(t,i,e,r,g,c,W,U,Re,Ve,Be){super(r,new je,U,Be);this.data=t;this.dialogRef=i;this.coreEnumService=e;this.estatePropertyTypeLanduseService=r;this.estatePropertyTypeService=g;this.cmsToastrService=c;this.cmsStoreService=W;this.publicHelper=U;this.cdr=Re;this.tokenHelper=Ve;this.translate=Be;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ut;this.dataModel=new je;this.formInfo=new ye;this.fileManagerOpenForm=!1;this.dataEstatePropertyTypeUsageIds=[];this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyTypeLanduseService.setAccessLoad(),this.estatePropertyTypeLanduseService.setAccessDataType(qe.Editor),this.estatePropertyTypeLanduseService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(r=>{this.formInfo.submitResultMessage=r}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(r=>{this.publicHelper.processService.processStart(t,r,this.constructorInfoAreaId)});let i=new ke,e=new D;e.propertyName="LinkPropertyTypeLanduseId",e.value=this.requestId,i.filters.push(e),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:r=>{this.dataEstatePropertyTypeModel=r.listItems;let g=[];this.dataEstatePropertyTypeModel.forEach(c=>{g.push(c.linkPropertyTypeUsageId)}),this.dataEstatePropertyTypeUsageIds=g,r.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.submitResultMessage=c}),this.formInfo.submitResultMessage=r.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(r.errorMessage)),this.publicHelper.processService.processStop(t)},error:r=>{this.cmsToastrService.typeError(r),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyTypeLanduseService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorUserCategorySelect(t){this.dataEstatePropertyTypeUsageModel=t}onActionSelectorUserCategorySelectAdded(t){let i=new fn;i.linkPropertyTypeUsageId=t.id,i.linkPropertyTypeLanduseId=this.dataModel.id,this.estatePropertyTypeService.ServiceAdd(i).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(r=>{this.formInfo.submitResultMessage=r}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(r=>{this.formInfo.submitResultMessage=r}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e)}})}onActionSelectorUserCategorySelectRemoved(t){let i=new fn;i.linkPropertyTypeUsageId=t.id,i.linkPropertyTypeLanduseId=this.dataModel.id,this.estatePropertyTypeService.ServiceDeleteEntity(i).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(r=>{this.formInfo.submitResultMessage=r}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(r=>{this.formInfo.submitResultMessage=r}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e)}})}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};_i.\u0275fac=function(i){return new(i||_i)(y(Me),y(Se),y(Y),y($t),y(wi),y(B),y(te),y(N),y(H),y(ie),y(O))},_i.\u0275cmp=F({type:_i,selectors:[["app-estate-property-type-landuse-edit"]],viewQuery:function(i,e){if(i&1&&ne(Wc,5),i&2){let r;oe(r=ae())&&(e.formGroup=r.first)}},standalone:!1,features:[X],decls:60,vars:62,consts:[["vform","ngForm"],["Title",""],["TitleML",""],["Description",""],["LinkMainImageId",""],["TitleResourceLanguage",""],["TitleCreatedYaer",""],["TitleCreatedYaerML",""],["TitleCreatedYaerResourceLanguage",""],["TitlePartition",""],["TitlePartitionResourceLanguage",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleML",1,"color-highlight"],["type","text","cmsKeyboardForce","en","name","dataModel.titleML","minlength","3","maxlength","100","required","","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],[1,"form-actions"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"pt-1"],["data-trigger-switch","dataModel.createdYearActive",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.createdYearActive","name","dataModel.createdYearActive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.createdYearActive",1,"custom-control-label"],["for","dataModel.titleCreatedYaer",1,"color-highlight"],["type","text","name","dataModel.titleCreatedYaer","minlength","3","maxlength","100","required","","id","dataModel.titleCreatedYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleCreatedYaerML",1,"color-highlight"],["type","text","name","dataModel.titleCreatedYaerML","id","dataModel.titleCreatedYaerML",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.titleCreatedYaerResourceLanguage",1,"color-highlight"],["type","text","name","dataModel.titleCreatedYaerResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleCreatedYaerResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["data-trigger-switch","dataModel.partitionActive",1,"font-600","font-14"],["type","checkbox","id","dataModel.partitionActive","name","dataModel.partitionActive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.partitionActive",1,"custom-control-label"],["for","dataModel.titlePartition",1,"color-highlight"],["type","text","name","dataModel.titlePartition","minlength","3","maxlength","100","required","","id","dataModel.titlePartition",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titlePartitionML",1,"color-highlight"],["type","text","name","dataModel.titlePartitionML","id","dataModel.titlePartitionML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titlePartitionResourceLanguage",1,"color-highlight"],["type","text","name","dataModel.titlePartitionResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titlePartitionResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let r=w();l(0,"div",14),h(1,"app-progress-spinner",15),l(2,"div",16)(3,"p",17),d(4),a(),l(5,"p"),d(6),S(7,"translate"),a(),h(8,"app-cms-form-result-message",18),l(9,"form",19,0),I("ngSubmit",function(){return u(r),f(e.onFormSubmit())}),l(11,"div",20)(12,"label",21),d(13),a(),l(14,"input",22,1),b("ngModelChange",function(c){return u(r),A(e.dataModel.title,c)||(e.dataModel.title=c),f(c)}),a(),_(16,Bc,1,0,"i",23),_(17,Nc,1,0,"i",24),l(18,"em"),d(19),a(),_(20,Hc,5,4,"mat-error"),a(),l(21,"div",20)(22,"label",25),d(23,"TitleML"),a(),l(24,"input",26,2),b("ngModelChange",function(c){return u(r),A(e.dataModel.titleML,c)||(e.dataModel.titleML=c),f(c)}),a()(),_(26,jc,10,9,"div",20),_(27,Yc,8,2,"div",27),_(28,Jc,10,8,"div",20),_(29,Zc,5,4,"div",20),_(30,td,10,9,"div",20),_(31,id,8,2,"div",27),_(32,rd,10,8,"div",20),_(33,ld,4,2,"div",20),_(34,pd,10,9,"div",20),l(35,"div",20)(36,"label",28),d(37),a(),l(38,"textarea",29,3),b("ngModelChange",function(c){return u(r),A(e.dataModel.description,c)||(e.dataModel.description=c),f(c)}),d(40,"                                      "),a(),l(41,"em"),d(42),a(),_(43,md,5,3,"mat-error"),a(),_(44,ud,7,10,"div",20),_(45,fd,11,11,"div",30),l(46,"div",31)(47,"a",32),S(48,"cmsthumbnail"),_(49,gd,2,4,"img",33),a()(),l(50,"div",20)(51,"label",34),I("click",function(){return u(r),f(e.fileManagerOpenForm=!0)}),d(52),S(53,"translate"),a(),l(54,"input",35,4),S(56,"translate"),b("ngModelChange",function(c){return u(r),A(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),f(c)}),I("click",function(){return u(r),f(e.fileManagerOpenForm=!0)}),a(),l(57,"cms-file-manager",36),I("itemSelected",function(c){return u(r),f(e.onActionFileSelected(c))}),b("openFormChange",function(c){return u(r),A(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),f(c)}),a()(),l(58,"app-estate-property-type-usage-selectionlist",37),I("optionChange",function(c){return u(r),f(e.onActionSelectorUserCategorySelect(c))})("optionSelectAdded",function(c){return u(r),f(e.onActionSelectorUserCategorySelectAdded(c))})("optionSelectRemoved",function(c){return u(r),f(e.onActionSelectorUserCategorySelectRemoved(c))}),a(),_(59,hd,9,7,"div",38),a()()()}if(i&2){let r=R(15),g=R(39);o(),p("optionsInfoAreaId",e.constructorInfoAreaId),o(3),E(" ",e.formInfo.formTitle," "),o(2),E(" ",M(7,52,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),p("formInfo",e.formInfo),o(),p("ngStyle",se(60,Fc,e.tokenInfo.access.direction)),o(4),T(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),v("ngModel",e.dataModel.title),o(2),C(r.value?-1:16),o(),C(r.value?17:-1),o(2),E("",r.value.length," / 100"),o(),C(r.errors!=null&&r.errors.required?20:-1),o(4),p("placeholder",x(e.fieldsInfo.titleML==null?null:e.fieldsInfo.titleML.fieldTitle)),v("ngModel",e.dataModel.titleML),p("disabled",!0),o(2),C(e.fieldsInfo.titleResourceLanguage!=null&&e.fieldsInfo.titleResourceLanguage.accessWatchField?26:-1),o(),C(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?27:-1),o(),C(e.dataModel.createdYearActive?28:-1),o(),C(e.dataModel.createdYearActive?29:-1),o(),C(e.fieldsInfo.titleCreatedYaerResourceLanguage!=null&&e.fieldsInfo.titleCreatedYaerResourceLanguage.accessWatchField&&e.dataModel.createdYearActive?30:-1),o(),C(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?31:-1),o(),C(e.dataModel.partitionActive?32:-1),o(),C(e.dataModel.partitionActive?33:-1),o(),C(e.fieldsInfo.titlePartitionResourceLanguage!=null&&e.fieldsInfo.titlePartitionResourceLanguage.accessWatchField&&e.dataModel.partitionActive?34:-1),o(3),T(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),v("ngModel",e.dataModel.description),o(4),E("",g.value.length," / 500"),o(),C(g.errors!=null&&g.errors.required?43:-1),o(),C(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessWatchField?44:-1),o(),C(e.fieldsInfo.iconColor!=null&&e.fieldsInfo.iconColor.accessWatchField?45:-1),o(2),p("href",x(M(48,54,e.dataModel.linkMainImageIdSrc)),P),o(2),C((e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0?49:-1),o(3),T(M(53,56,"TITLE.PICTURE")),o(2),p("placeholder",x(M(56,58,"TITLE.Original_File_ID"))),v("ngModel",e.dataModel.linkMainImageId),o(3),p("language",e.appLanguage)("isPopup",!0)("openDirectUploadView",!0),v("openForm",e.fileManagerOpenForm),p("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),p("optionSelectForce",e.dataEstatePropertyTypeUsageIds)("optionDisabled",!1),o(),C(e.formInfo.submitButtonEnabled?59:-1)}},dependencies:[ce,de,ge,z,ze,Q,me,K,he,_e,fe,ue,Ce,ht,J,q,Ie,zi,Bt,Pt,Lt,kt,Ee,pn,G,j],encapsulation:2});var Yn=_i;export{Pe as a,Nn as b,oi as c,ln as d,On as e,Bn as f,Hn as g,Gn as h,qn as i,jn as j,Yn as k};
