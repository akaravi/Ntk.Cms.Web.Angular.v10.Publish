import{a as Jt}from"./chunk-5EPFCLE4.js";import{a as tt}from"./chunk-5ZOJ6FYI.js";import{a as _t}from"./chunk-XKUKUWSY.js";import{a as ut}from"./chunk-YJOP3S3T.js";import{a as tn}from"./chunk-JPL57KKT.js";import{a as wi}from"./chunk-H56PQPV2.js";import{a as en}from"./chunk-4CVLFNJO.js";import{a as at}from"./chunk-K33TURJC.js";import{a as st}from"./chunk-5XVZV6M6.js";import{a as lt}from"./chunk-BLP2IXTD.js";import{a as rt}from"./chunk-JEF4OJ24.js";import{a as Ze}from"./chunk-TQPHF322.js";import{d as et,e as it,f as ot,i as nt}from"./chunk-L2MDIT3B.js";import{a as zt}from"./chunk-JGF2I6KA.js";import{a as _e}from"./chunk-A4MVKAYT.js";import{a as pt}from"./chunk-NKVR7DNS.js";import{b as Mt,d as Xe}from"./chunk-WJ7SXTGT.js";import{b as Zo}from"./chunk-3RHHJRHJ.js";import"./chunk-7DUNEHBM.js";import"./chunk-T2SWGMVG.js";import"./chunk-V5RHHWLX.js";import{a as de}from"./chunk-HNLXB3RO.js";import"./chunk-HGNWVODT.js";import{a as ie,d as Ye}from"./chunk-AQCXI2UP.js";import{e as $e,f as W}from"./chunk-MZCEX4RF.js";import{A as De,Ab as H,Ba as Be,Bb as U,Da as ne,Ia as Ve,Ja as Ne,Ma as Ge,Ob as Yo,Sa as mt,Ua as Oe,Va as Pe,cb as He,da as zo,db as Ue,ea as Jo,eb as Fe,fa as $o,fb as je,gb as qe,hb as We,ib as Ke,jb as Qe,kb as ze,lb as Je,ma as ee,na as te,oa as xe,pc as F,s as no,sc as j,uc as q,v as Qo,xc as Xo}from"./chunk-XYT3HHVP.js";import{B as Kt,C as Qt,F as Wo,G as Ko,c as ht,h as Ct,i as Le,k as ke,m as gt,n as Ae}from"./chunk-QRBNL5ZA.js";import{$ as P,Ac as Fo,Ec as jo,Fn as Q,H as O,Ic as qo,K as Me,Nc as Gt,Oc as Ot,Pc as Pt,Qc as Ht,Rc as Ut,Sc as Ft,Tc as jt,Ub as Te,Uc as qt,Vc as Wt,d as Ee,da as Rt,e as Oo,f as ye,jc as Po,l as Bo,m as Re,oc as Tt,p as bt,pc as Lt,q as z,qc as kt,rc as At,tc as Dt,u as T,uc as Ho,v as ge,vc as xt,wc as Bt,xc as Vt,yc as Nt,zc as Uo}from"./chunk-RBCLPN4V.js";import{Ab as R,Ad as Go,Dc as M,Ec as _,Fb as b,Fc as vi,Gb as s,Hb as l,Ib as g,Mb as I,Nb as w,Ob as le,Pb as E,Sb as v,Ub as C,Va as n,Xc as G,Yb as Y,Zb as X,_b as Z,cb as p,cc as oe,ec as ae,ga as io,hc as m,ib as V,ic as wt,jb as oo,jc as u,ld as Ie,mb as $,nc as D,ob as L,oc as x,pa as S,pc as B,qa as h,rd as we,tc as hi,td as dt,xc as be,xd as Ii,yc as ve,zb as y}from"./chunk-2AL2II5Z.js";import{i as N}from"./chunk-SEDBTTTN.js";var Ei=class Ei{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};Ei.\u0275fac=function(e){return new(e||Ei)},Ei.\u0275cmp=V({type:Ei,selectors:[["app-coremodulelog"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&g(0,"router-outlet")},dependencies:[Oo],encapsulation:2});var ro=Ei;var sn=["vform"];function ln(o,r){if(o&1){let e=E();s(0,"div",18)(1,"button",19),v("click",function(){S(e);let t=C();return h(t.onFormCancel())}),g(2,"i",20),m(3),M(4,"translate"),l(),s(5,"button",21),g(6,"i",20),m(7),M(8,"translate"),l()()}o&2&&(n(3),u(" ",_(4,2,"ACTION.CANCEL")," "),n(4),u(" ",_(8,4,"ACTION.SAVE")," "))}var yi=class yi extends Ze{constructor(e,i,t,a,f,d,c,A,J,se){super(a,new Gt,J,se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleLogFavoriteService=a;this.cmsToastrService=f;this.tokenHelper=d;this.cmsStoreService=c;this.cdr=A;this.publicHelper=J;this.translate=se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new bt;this.dataModel=new Gt;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>N(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogFavoriteService.setAccessLoad(),this.coreModuleLogFavoriteService.setAccessDataType(Me.Editor),this.coreModuleLogFavoriteService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogFavoriteService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};yi.\u0275fac=function(i){return new(i||yi)(p(te),p(ee),p(P),p(kt),p(q),p(j),p(F),p(G),p(W),p(H))},yi.\u0275cmp=V({type:yi,selectors:[["app-coremodulelog-favorite-edit"]],viewQuery:function(i,t){if(i&1&&Y(sn,5),i&2){let a;X(a=Z())&&(t.formGroup=a.first)}},standalone:!1,features:[$],decls:33,vars:25,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,t){if(i&1){let a=E();s(0,"div",4),g(1,"app-progress-spinner",5),s(2,"div",6)(3,"p",7),m(4),l(),s(5,"p"),m(6),M(7,"translate"),l(),g(8,"app-cms-form-result-message",8),s(9,"form",9,0),v("ngSubmit",function(){return S(a),h(t.onFormSubmit())}),g(11,"app-cms-site-selector",10),M(12,"translate"),g(13,"app-cms-user-selector",10),M(14,"translate"),g(15,"app-cms-member-selector",10),M(16,"translate"),s(17,"div",11)(18,"label",12),m(19,"ModuleName"),l(),s(20,"input",13,1),B("ngModelChange",function(d){return S(a),x(t.dataModel.moduleName,d)||(t.dataModel.moduleName=d),h(d)}),l()(),s(22,"div",11)(23,"label",14),m(24,"ModuleEntityName"),l(),s(25,"input",15,2),B("ngModelChange",function(d){return S(a),x(t.dataModel.moduleEntityName,d)||(t.dataModel.moduleEntityName=d),h(d)}),l()(),s(27,"div",11)(28,"label",16),m(29,"ModuleEntityId"),l(),s(30,"input",17,3),B("ngModelChange",function(d){return S(a),x(t.dataModel.moduleEntityId,d)||(t.dataModel.moduleEntityId=d),h(d)}),l()(),y(32,ln,9,6,"div",18),l()()()}i&2&&(n(),b("optionsInfoAreaId",t.constructorInfoAreaId),n(3),u(" ",t.formInfo.formTitle," "),n(2),u(" ",_(7,17,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),b("formInfo",t.formInfo),n(3),b("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",_(12,19,"TITLE.SITE")),n(2),b("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",_(14,21,"TITLE.USER")),n(2),b("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",_(16,23,"TITLE.Member")),n(5),D("ngModel",t.dataModel.moduleName),n(5),D("ngModel",t.dataModel.moduleEntityName),n(5),D("ngModel",t.dataModel.moduleEntityId),n(2),R(t.formInfo.submitButtonEnabled?32:-1))},dependencies:[Ae,ht,Ct,Le,gt,ke,ne,pt,zt,Jt,ie,de,U],encapsulation:2});var so=yi;var an=["vform"];function cn(o,r){if(o&1){let e=E();s(0,"div",7)(1,"button",8),v("click",function(){S(e);let t=C();return h(t.onFormCancel())}),g(2,"i",9),m(3),M(4,"translate"),l()()}o&2&&(n(3),u(" ",_(4,1,"ACTION.CANCEL")," "))}var Ri=class Ri{constructor(r,e,i,t,a,f,d,c,A,J){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.coreModuleLogFavoriteService=t;this.cmsToastrService=a;this.tokenHelper=f;this.cmsStoreService=d;this.cdr=c;this.publicHelper=A;this.translate=J;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Te;this.dataModelResult=new z;this.dataModel=new Gt;this.formInfo=new Ye;this.dataModelEnumSendSmsStatusTypeResult=new z;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>N(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreModuleLogFavoriteService.setAccessLoad(),this.coreModuleLogFavoriteService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ri.\u0275fac=function(e){return new(e||Ri)(p(te),p(ee),p(P),p(kt),p(q),p(j),p(F),p(G),p(W),p(H))},Ri.\u0275cmp=V({type:Ri,selectors:[["app-coremodulelog-favorite-view"]],viewQuery:function(e,i){if(e&1&&Y(an,5),e&2){let t;X(t=Z())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(s(0,"div",0),m(1),l(),s(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),l(),s(5,"div",4),g(6,"app-cms-form-result-message",5),l(),s(7,"div",6),y(8,cn,5,3,"div",7),l()),e&2&&(n(),u(" ",i.formInfo.formTitle," "),n(2),b("optionsInfoAreaId",i.constructorInfoAreaId),n(),b("dataModel",i.dataModel)("optionMethod",1),n(2),b("formInfo",i.formInfo),n(2),R(i.formInfo.submitButtonEnabled?8:-1))},dependencies:[ie,tt,de,U],encapsulation:2});var lo=Ri;var dn=()=>[5,10,20,100],mn=o=>({display:o});function pn(o,r){if(o&1&&g(0,"app-core-user-header",3),o&2){let e=C();b("optionId",e.requestLinkUserId)}}function un(o,r){if(o&1){let e=E();s(0,"a",44),v("click",function(){S(e);let t=C();return h(t.onActionBackToParent())}),g(1,"i",45),l()}}function fn(o,r){if(o&1){let e=E();s(0,"div",19)(1,"a",46),v("click",function(){S(e);let t=C();return h(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",47)(3,"br"),l(),s(4,"p",48),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.VIEW")," "))}function Sn(o,r){if(o&1){let e=E();s(0,"div",19)(1,"a",49),v("click",function(){S(e);let t=C();return h(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",50)(3,"br"),l(),s(4,"p",48),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.EDIT")," "))}function hn(o,r){if(o&1){let e=E();s(0,"div",19)(1,"a",51),v("click",function(){S(e);let t=C();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",52)(3,"br"),l(),s(4,"p",48),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.DELETE")," "))}function Cn(o,r){if(o&1){let e=E();s(0,"div",19)(1,"a",46),v("click",function(){S(e);let t=C();return h(t.onActionButtonViewContent(t.tableRowSelected))}),g(2,"i",53)(3,"br"),l(),s(4,"p",48),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.CONTENT")," "))}function gn(o,r){if(o&1){let e=E();s(0,"div",19)(1,"a",46),v("click",function(){S(e);let t=C();return h(t.onActionButtonViewUserRow(t.tableRowSelected))}),g(2,"i",54)(3,"br"),l(),s(4,"p",48),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.USER")," "))}function Mn(o,r){if(o&1&&(s(0,"mat-header-cell",55),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function _n(o,r){if(o&1&&(s(0,"mat-cell"),m(1),l()),o&2){let e=r.$implicit;n(),u(" ",e.id," ")}}function bn(o,r){if(o&1&&(s(0,"mat-header-cell",55),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function vn(o,r){if(o&1&&g(0,"select",57),o&2){let e=C().$implicit,i=C();b("contentService",i.contentService)("row",e)("ngStyle",ve(3,mn,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function In(o,r){if(o&1&&(s(0,"mat-cell",56),M(1,"statusCellClass"),g(2,"i",56),M(3,"statusIconClass"),y(4,vn,1,5,"select",57),l()),o&2){let e=r.$implicit,i=C();b("ngClass",_(1,3,e.recordStatus)),n(2),b("ngClass",_(3,5,e.recordStatus)),n(2),R(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function wn(o,r){if(o&1&&(s(0,"mat-header-cell",55),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function En(o,r){if(o&1&&(s(0,"mat-cell"),m(1),M(2,"cmssiteinfo"),M(3,"async"),l()),o&2){let e=r.$implicit;n(),u(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function yn(o,r){if(o&1&&(s(0,"mat-header-cell",55),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Rn(o,r){if(o&1&&(s(0,"mat-cell"),m(1),M(2,"cmsuserinfo"),M(3,"async"),l()),o&2){let e=r.$implicit;n(),u(" ",_(3,3,_(2,1,e.linkUserId))," ")}}function Tn(o,r){if(o&1&&(s(0,"mat-header-cell",55),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function Ln(o,r){if(o&1&&(s(0,"mat-cell"),m(1),l()),o&2){let e=r.$implicit;n(),u(" ",e.linkMemberId," ")}}function kn(o,r){if(o&1&&(s(0,"mat-header-cell",55),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.moduleName==null?null:e.fieldsInfo.moduleName.fieldTitle," ")}}function An(o,r){if(o&1&&(s(0,"mat-cell"),m(1),l()),o&2){let e=r.$implicit;n(),u(" ",e.moduleName," ")}}function Dn(o,r){if(o&1&&(s(0,"mat-header-cell",55),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.moduleEntityName==null?null:e.fieldsInfo.moduleEntityName.fieldTitle," ")}}function xn(o,r){if(o&1&&(s(0,"mat-cell"),m(1),l()),o&2){let e=r.$implicit;n(),u(" ",e.moduleEntityName," ")}}function Bn(o,r){if(o&1&&(s(0,"mat-header-cell",55),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.moduleEntityId==null?null:e.fieldsInfo.moduleEntityId.fieldTitle," ")}}function Vn(o,r){if(o&1&&(s(0,"mat-cell"),m(1),l()),o&2){let e=r.$implicit;n(),u(" ",e.moduleEntityId," ")}}function Nn(o,r){if(o&1&&(s(0,"mat-header-cell",55),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Gn(o,r){if(o&1&&(s(0,"mat-cell",58),m(1),M(2,"localeDateTime"),l()),o&2){let e=r.$implicit;n(),u(" ",_(2,1,e.createdDate)," ")}}function On(o,r){o&1&&(s(0,"mat-header-cell"),m(1),M(2,"translate"),l()),o&2&&(n(),u(" ",_(2,1,"TITLE.OPTION")," "))}function Pn(o,r){if(o&1&&(s(0,"mat-cell",59)(1,"button",60)(2,"mat-icon"),m(3,"more_vert"),l()(),g(4,"mat-menu",null,2),l()),o&2){let e=oe(5);n(),b("matMenuTriggerFor",e)}}function Hn(o,r){o&1&&g(0,"mat-header-row")}function Un(o,r){if(o&1){let e=E();s(0,"mat-row",61),v("click",function(t){let a=S(e).$implicit,f=C();return h(f.onActionTableRowSelect(a,t))})("rtclick",function(t){let a=S(e).$implicit,f=C();return h(f.onActionTableRowSelect(a,t))}),l()}if(o&2){let e=r.$implicit,i=C();ae("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ti=class Ti extends et{constructor(e,i,t,a,f,d,c,A,J,se,yt,St,It){super(i,new Gt,St,d,A);this.coreEnumService=e;this.contentService=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=a;this.activatedRoute=f;this.tokenHelper=d;this.cdr=c;this.translate=A;this.router=J;this.cmsStoreService=se;this.pageInfo=yt;this.publicHelper=St;this.dialog=It;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestlinkMemberId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ge;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkUserId","linkSiteId","linkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkUserId","linkSiteId","linkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","createdDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberId")),this.requestLinkSiteId>0){let k=new T;k.propertyName="LinkCmsSiteId",k.value=this.requestLinkSiteId,this.filteModelContent.filters.push(k)}if(this.requestLinkUserId>0){let k=new T;k.propertyName="linkUserId",k.value=this.requestLinkUserId,this.filteModelContent.filters.push(k)}if(this.requestlinkMemberId>0){let k=new T;k.propertyName="linkMemberId",k.value=this.requestlinkMemberId,this.filteModelContent.filters.push(k)}this.optionsSearch.parentMethods={onSubmit:k=>this.onSubmitOptionsSearch(k)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=O.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=O.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>N(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let i=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Gt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let t=new T;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new T;t.propertyName="linkSiteId",t.value=this.filteModelContent.filterActionSearchLinkSiteId,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new T;t.propertyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=O.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(lo,{height:"90%",panelClass:i,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(so,{height:"90%",panelClass:i,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],t=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(a=>{if(a){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(f,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonViewContent(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e);let i="/"+e.moduleName+"/"+e.moduleEntityName.substring(e.moduleName.length)+"/edit/"+e.moduleEntityId;e.moduleEntityName.indexOf(e.moduleName)>=0?this.router.navigate([i.toLowerCase()]):this.router.navigate([i.toLowerCase()])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)});let a=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let c=new T;c.propertyName="recordStatus",c.value=this.filteModelContent.filterActionSearchRecordStatus,a.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let c=new T;c.propertyName="linkSiteId",c.value=this.filteModelContent.filterActionSearchLinkSiteId,a.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let c=new T;c.propertyName="linkUserId",c.value=this.filteModelContent.filterActionSearchLinkUserId,a.filters.push(c)}this.contentService.ServiceGetCount(a).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(A=>{i.set(A,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let f=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let c=new T;c.propertyName="recordStatus",c.value=this.filteModelContent.filterActionSearchRecordStatus,f.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let c=new T;c.propertyName="linkSiteId",c.value=this.filteModelContent.filterActionSearchLinkSiteId,f.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let c=new T;c.propertyName="linkUserId",c.value=this.filteModelContent.filterActionSearchLinkUserId,f.filters.push(c)}let d=new T;d.propertyName="recordStatus",d.value=Re.Available,f.filters.push(d),this.contentService.ServiceGetCount(f).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(A=>{i.set(A,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.translate.get("MESSAGE.content_does_not_include_member_informations").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Ti.\u0275fac=function(i){return new(i||Ti)(p(P),p(kt),p(q),p(_e),p(Ee),p(j),p(G),p(H),p(ye),p(F),p($e),p(W),p(xe))},Ti.\u0275cmp=V({type:Ti,selectors:[["app-coremodulelog-favorite-list"]],standalone:!1,features:[$],decls:65,vars:26,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"justify-content-start"],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","linkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-folder-grid","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let a=E();y(0,pn,1,1,"app-core-user-header",3),s(1,"app-cms-html-list",4),B("optionActionGuideNoticeDisplayChange",function(d){return S(a),x(t.viewGuideNotice,d)||(t.viewGuideNotice=d),h(d)}),v("optionOnActionButtonMemoRow",function(){return S(a),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(a),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(a),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(a),h(t.onActionButtonPrintRow())}),I(2,5),m(3," -------------------------------------- "),w(),le(4,6),I(5,7),s(6,"div",8),g(7,"div",9)(8,"div",10),l(),w(),le(9,7),I(10,11),y(11,un,2,0,"a",12),s(12,"a",13),v("click",function(){return S(a),h(t.viewGuideNotice=!t.viewGuideNotice)}),g(13,"i",14),l(),s(14,"a",13),v("click",function(){return S(a),h(t.onActionButtonReload())}),g(15,"i",15),l(),w(),le(16,16)(17,17),I(18,18),y(19,fn,7,3,"div",19),y(20,Sn,7,3,"div",19),y(21,hn,7,3,"div",19),y(22,Cn,7,3,"div",19),y(23,gn,7,3,"div",19),w(),I(24,20),s(25,"app-cms-search-list",21),B("optionsChange",function(d){return S(a),x(t.optionsSearch,d)||(t.optionsSearch=d),h(d)}),l(),s(26,"app-cms-statist-list",21),B("optionsChange",function(d){return S(a),x(t.optionsStatist,d)||(t.optionsStatist=d),h(d)}),l(),w(),I(27,22),s(28,"mat-table",23,0),v("matSortChange",function(){S(a);let d=oe(29);return h(t.onTableSortData(d))}),I(30,24),L(31,Mn,2,1,"mat-header-cell",25)(32,_n,2,1,"mat-cell",26),w(),I(33,27),L(34,bn,2,1,"mat-header-cell",25)(35,In,5,7,"mat-cell",28),w(),I(36,29),L(37,wn,2,1,"mat-header-cell",25)(38,En,4,5,"mat-cell",26),w(),I(39,30),L(40,yn,2,1,"mat-header-cell",25)(41,Rn,4,5,"mat-cell",26),w(),I(42,31),L(43,Tn,2,1,"mat-header-cell",25)(44,Ln,2,1,"mat-cell",26),w(),I(45,32),L(46,kn,2,1,"mat-header-cell",25)(47,An,2,1,"mat-cell",26),w(),I(48,33),L(49,Dn,2,1,"mat-header-cell",25)(50,xn,2,1,"mat-cell",26),w(),I(51,34),L(52,Bn,2,1,"mat-header-cell",25)(53,Vn,2,1,"mat-cell",26),w(),I(54,35),L(55,Nn,2,1,"mat-header-cell",25)(56,Gn,3,3,"mat-cell",36),w(),I(57,37),L(58,On,3,3,"mat-header-cell",38)(59,Pn,6,1,"mat-cell",39),w(),L(60,Hn,1,0,"mat-header-row",40)(61,Un,1,2,"mat-row",41),l(),w(),I(62,42),s(63,"mat-paginator",43,1),v("page",function(d){return S(a),h(t.onTablePageingData(d))}),l(),w(),l()}i&2&&(R(t.requestLinkUserId>0?0:-1),n(),b("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),b("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(10),R(t.requestLinkSiteId>0?11:-1),n(4),ae("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(4),R(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?19:-1),n(),R(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?20:-1),n(),R(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?21:-1),n(),R(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?22:-1),n(),R((t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0?23:-1),n(2),D("options",t.optionsSearch),n(),D("options",t.optionsStatist),n(2),b("dataSource",t.tableSource),n(32),b("matHeaderRowDef",t.tabledisplayedColumns),n(),b("matRowDefColumns",t.tabledisplayedColumns),n(2),b("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",be(25,dn)))},dependencies:[Ie,we,De,Be,ne,Ve,Ne,Ge,Oe,Pe,He,Fe,Ke,je,Ue,Qe,qe,We,ze,Je,it,ot,nt,rt,st,_t,dt,U,Mt,ut,Xe,lt,at],encapsulation:2});var ao=Ti;var Fn=["vform"];function jn(o,r){if(o&1){let e=E();s(0,"div",18)(1,"button",19),v("click",function(){S(e);let t=C();return h(t.onFormCancel())}),g(2,"i",20),m(3),M(4,"translate"),l(),s(5,"button",21),g(6,"i",20),m(7),M(8,"translate"),l()()}o&2&&(n(3),u(" ",_(4,2,"ACTION.CANCEL")," "),n(4),u(" ",_(8,4,"ACTION.SAVE")," "))}var Ai=class Ai extends Ze{constructor(e,i,t,a,f,d,c,A,J,se){super(a,new Ot,J,se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleLogLikeService=a;this.cmsToastrService=f;this.tokenHelper=d;this.cmsStoreService=c;this.cdr=A;this.publicHelper=J;this.translate=se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new bt;this.dataModel=new Ot;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>N(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogLikeService.setAccessLoad(),this.coreModuleLogLikeService.setAccessDataType(Me.Editor),this.coreModuleLogLikeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogLikeService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ai.\u0275fac=function(i){return new(i||Ai)(p(te),p(ee),p(P),p(Lt),p(q),p(j),p(F),p(G),p(W),p(H))},Ai.\u0275cmp=V({type:Ai,selectors:[["app-coremodulelog-like-edit"]],viewQuery:function(i,t){if(i&1&&Y(Fn,5),i&2){let a;X(a=Z())&&(t.formGroup=a.first)}},standalone:!1,features:[$],decls:33,vars:25,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,t){if(i&1){let a=E();s(0,"div",4),g(1,"app-progress-spinner",5),s(2,"div",6)(3,"p",7),m(4),l(),s(5,"p"),m(6),M(7,"translate"),l(),g(8,"app-cms-form-result-message",8),s(9,"form",9,0),v("ngSubmit",function(){return S(a),h(t.onFormSubmit())}),g(11,"app-cms-site-selector",10),M(12,"translate"),g(13,"app-cms-user-selector",10),M(14,"translate"),g(15,"app-cms-member-selector",10),M(16,"translate"),s(17,"div",11)(18,"label",12),m(19,"ModuleName"),l(),s(20,"input",13,1),B("ngModelChange",function(d){return S(a),x(t.dataModel.moduleName,d)||(t.dataModel.moduleName=d),h(d)}),l()(),s(22,"div",11)(23,"label",14),m(24,"ModuleEntityName"),l(),s(25,"input",15,2),B("ngModelChange",function(d){return S(a),x(t.dataModel.moduleEntityName,d)||(t.dataModel.moduleEntityName=d),h(d)}),l()(),s(27,"div",11)(28,"label",16),m(29,"ModuleEntityId"),l(),s(30,"input",17,3),B("ngModelChange",function(d){return S(a),x(t.dataModel.moduleEntityId,d)||(t.dataModel.moduleEntityId=d),h(d)}),l()(),y(32,jn,9,6,"div",18),l()()()}i&2&&(n(),b("optionsInfoAreaId",t.constructorInfoAreaId),n(3),u(" ",t.formInfo.formTitle," "),n(2),u(" ",_(7,17,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),b("formInfo",t.formInfo),n(3),b("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",_(12,19,"TITLE.SITE")),n(2),b("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",_(14,21,"TITLE.USER")),n(2),b("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",_(16,23,"TITLE.Member")),n(5),D("ngModel",t.dataModel.moduleName),n(5),D("ngModel",t.dataModel.moduleEntityName),n(5),D("ngModel",t.dataModel.moduleEntityId),n(2),R(t.formInfo.submitButtonEnabled?32:-1))},dependencies:[Ae,ht,Ct,Le,gt,ke,ne,pt,zt,Jt,ie,de,U],encapsulation:2});var co=Ai;var qn=["vform"];function Wn(o,r){if(o&1){let e=E();s(0,"div",9)(1,"button",10),v("click",function(){S(e);let t=C();return h(t.onFormCancel())}),g(2,"i",11),m(3),M(4,"translate"),l()()}o&2&&(n(3),u(" ",_(4,1,"ACTION.CANCEL")," "))}var Di=class Di{constructor(r,e,i,t,a,f,d,c,A,J){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.coreModuleLogLikeService=t;this.cmsToastrService=a;this.tokenHelper=f;this.cmsStoreService=d;this.cdr=c;this.publicHelper=A;this.translate=J;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Te;this.dataModelResult=new z;this.dataModel=new Ot;this.formInfo=new Ye;this.dataModelEnumSendSmsStatusTypeResult=new z;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>N(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreModuleLogLikeService.setAccessLoad(),this.coreModuleLogLikeService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Di.\u0275fac=function(e){return new(e||Di)(p(te),p(ee),p(P),p(Lt),p(q),p(j),p(F),p(G),p(W),p(H))},Di.\u0275cmp=V({type:Di,selectors:[["app-coremodulelog-report-abuse-view"]],viewQuery:function(e,i){if(e&1&&Y(qn,5),e&2){let t;X(t=Z())&&(i.formGroup=t.first)}},standalone:!1,decls:14,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(s(0,"div",0),g(1,"app-progress-spinner",1),s(2,"div",2)(3,"p",3),m(4),l(),s(5,"p"),m(6),M(7,"translate"),l(),s(8,"div",4),g(9,"app-cms-json-list",5),l(),s(10,"div",6),g(11,"app-cms-form-result-message",7),l(),s(12,"div",8),y(13,Wn,5,3,"div",9),l()()()),e&2&&(n(),b("optionsInfoAreaId",i.constructorInfoAreaId),n(3),u(" ",i.formInfo.formTitle," "),n(2),u(" ",_(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),n(3),b("dataModel",i.dataModel)("optionMethod",1),n(2),b("formInfo",i.formInfo),n(2),R(i.formInfo.submitButtonEnabled?13:-1))},dependencies:[ie,tt,de,U],encapsulation:2});var mo=Di;var Kn=()=>[5,10,20,100],Qn=o=>({display:o});function zn(o,r){if(o&1&&g(0,"app-core-user-header",3),o&2){let e=C();b("optionId",e.requestLinkUserId)}}function Jn(o,r){if(o&1){let e=E();s(0,"a",43),v("click",function(){S(e);let t=C();return h(t.onActionBackToParent())}),g(1,"i",44),l()}}function $n(o,r){if(o&1){let e=E();s(0,"div",18)(1,"a",45),v("click",function(){S(e);let t=C();return h(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",46)(3,"br"),l(),s(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.VIEW")," "))}function Yn(o,r){if(o&1){let e=E();s(0,"div",18)(1,"a",48),v("click",function(){S(e);let t=C();return h(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",49)(3,"br"),l(),s(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.EDIT")," "))}function Xn(o,r){if(o&1){let e=E();s(0,"div",18)(1,"a",50),v("click",function(){S(e);let t=C();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",51)(3,"br"),l(),s(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.DELETE")," "))}function Zn(o,r){if(o&1){let e=E();s(0,"div",18)(1,"a",45),v("click",function(){S(e);let t=C();return h(t.onActionButtonViewUserRow(t.tableRowSelected))}),g(2,"i",52)(3,"br"),l(),s(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.USER")," "))}function er(o,r){if(o&1){let e=E();s(0,"div",18)(1,"a",45),v("click",function(){S(e);let t=C();return h(t.onActionButtonViewMemberRow(t.tableRowSelected))}),g(2,"i",53)(3,"br"),l(),s(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.MEMBER")," "))}function tr(o,r){if(o&1&&(s(0,"mat-header-cell",54),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function ir(o,r){if(o&1&&(s(0,"mat-cell"),m(1),l()),o&2){let e=r.$implicit;n(),u(" ",e.id," ")}}function or(o,r){if(o&1&&(s(0,"mat-header-cell",54),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function nr(o,r){if(o&1&&g(0,"select",56),o&2){let e=C().$implicit,i=C();b("contentService",i.contentService)("row",e)("ngStyle",ve(3,Qn,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function rr(o,r){if(o&1&&(s(0,"mat-cell",55),M(1,"statusCellClass"),g(2,"i",55),M(3,"statusIconClass"),y(4,nr,1,5,"select",56),l()),o&2){let e=r.$implicit,i=C();b("ngClass",_(1,3,e.recordStatus)),n(2),b("ngClass",_(3,5,e.recordStatus)),n(2),R(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function sr(o,r){if(o&1&&(s(0,"mat-header-cell",54),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function lr(o,r){if(o&1&&(s(0,"mat-cell"),m(1),M(2,"cmssiteinfo"),M(3,"async"),l()),o&2){let e=r.$implicit;n(),u(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function ar(o,r){if(o&1&&(s(0,"mat-header-cell",54),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function cr(o,r){if(o&1&&(s(0,"mat-cell"),m(1),M(2,"cmsuserinfo"),M(3,"async"),l()),o&2){let e=r.$implicit;n(),u(" ",_(3,3,_(2,1,e.linkUserId))," ")}}function dr(o,r){if(o&1&&(s(0,"mat-header-cell",54),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function mr(o,r){if(o&1&&(s(0,"mat-cell"),m(1),l()),o&2){let e=r.$implicit;n(),u(" ",e.linkMemberId," ")}}function pr(o,r){if(o&1&&(s(0,"mat-header-cell",54),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.moduleName==null?null:e.fieldsInfo.moduleName.fieldTitle," ")}}function ur(o,r){if(o&1&&(s(0,"mat-cell"),m(1),l()),o&2){let e=r.$implicit;n(),u(" ",e.moduleName," ")}}function fr(o,r){if(o&1&&(s(0,"mat-header-cell",54),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.moduleEntityName==null?null:e.fieldsInfo.moduleEntityName.fieldTitle," ")}}function Sr(o,r){if(o&1&&(s(0,"mat-cell"),m(1),l()),o&2){let e=r.$implicit;n(),u(" ",e.moduleEntityName," ")}}function hr(o,r){if(o&1&&(s(0,"mat-header-cell",54),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.moduleEntityId==null?null:e.fieldsInfo.moduleEntityId.fieldTitle," ")}}function Cr(o,r){if(o&1&&(s(0,"mat-cell"),m(1),l()),o&2){let e=r.$implicit;n(),u(" ",e.moduleEntityId," ")}}function gr(o,r){if(o&1&&(s(0,"mat-header-cell",54),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Mr(o,r){if(o&1&&(s(0,"mat-cell",57),m(1),M(2,"localeDateTime"),l()),o&2){let e=r.$implicit;n(),u(" ",_(2,1,e.createdDate)," ")}}function _r(o,r){o&1&&(s(0,"mat-header-cell"),m(1),M(2,"translate"),l()),o&2&&(n(),u(" ",_(2,1,"TITLE.OPTION")," "))}function br(o,r){if(o&1&&(s(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),m(3,"more_vert"),l()(),g(4,"mat-menu",null,2),l()),o&2){let e=oe(5);n(),b("matMenuTriggerFor",e)}}function vr(o,r){o&1&&g(0,"mat-header-row")}function Ir(o,r){if(o&1){let e=E();s(0,"mat-row",60),v("click",function(t){let a=S(e).$implicit,f=C();return h(f.onActionTableRowSelect(a,t))})("rtclick",function(t){let a=S(e).$implicit,f=C();return h(f.onActionTableRowSelect(a,t))}),l()}if(o&2){let e=r.$implicit,i=C();ae("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var xi=class xi extends et{constructor(e,i,t,a,f,d,c,A,J,se,yt,St,It){super(i,new Ot,St,d,J);this.coreEnumService=e;this.contentService=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=a;this.activatedRoute=f;this.tokenHelper=d;this.cmsStoreService=c;this.cdr=A;this.translate=J;this.router=se;this.pageInfo=yt;this.publicHelper=St;this.dialog=It;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestlinkMemberId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ge;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkUserId","linkSiteId","linkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkUserId","linkSiteId","linkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","createdDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberId")),this.requestLinkSiteId>0){let k=new T;k.propertyName="LinkCmsSiteId",k.value=this.requestLinkSiteId,this.filteModelContent.filters.push(k)}if(this.requestLinkUserId>0){let k=new T;k.propertyName="linkUserId",k.value=this.requestLinkUserId,this.filteModelContent.filters.push(k)}if(this.requestlinkMemberId>0){let k=new T;k.propertyName="linkMemberId",k.value=this.requestlinkMemberId,this.filteModelContent.filters.push(k)}this.optionsSearch.parentMethods={onSubmit:k=>this.onSubmitOptionsSearch(k)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=O.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=O.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>N(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let i=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ot);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let t=new T;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new T;t.propertyName="linkSiteId",t.value=this.filteModelContent.filterActionSearchLinkSiteId,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new T;t.propertyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=O.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(mo,{height:"90%",panelClass:i,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(co,{height:"90%",panelClass:i,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],t=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(a=>{if(a){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(f,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)});let a=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let c=new T;c.propertyName="recordStatus",c.value=this.filteModelContent.filterActionSearchRecordStatus,a.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let c=new T;c.propertyName="linkSiteId",c.value=this.filteModelContent.filterActionSearchLinkSiteId,a.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let c=new T;c.propertyName="linkUserId",c.value=this.filteModelContent.filterActionSearchLinkUserId,a.filters.push(c)}this.contentService.ServiceGetCount(a).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(A=>{i.set(A,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let f=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let c=new T;c.propertyName="recordStatus",c.value=this.filteModelContent.filterActionSearchRecordStatus,f.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let c=new T;c.propertyName="linkSiteId",c.value=this.filteModelContent.filterActionSearchLinkSiteId,f.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let c=new T;c.propertyName="linkUserId",c.value=this.filteModelContent.filterActionSearchLinkUserId,f.filters.push(c)}let d=new T;d.propertyName="recordStatus",d.value=Re.Available,f.filters.push(d),this.contentService.ServiceGetCount(f).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(A=>{i.set(A,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.translate.get("MESSAGE.content_does_not_include_member_informations").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};xi.\u0275fac=function(i){return new(i||xi)(p(P),p(Lt),p(q),p(_e),p(Ee),p(j),p(F),p(G),p(H),p(ye),p($e),p(W),p(xe))},xi.\u0275cmp=V({type:xi,selectors:[["app-coremodulelog-like-list"]],standalone:!1,features:[$],decls:69,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","linkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let a=E();y(0,zn,1,1,"app-core-user-header",3),s(1,"app-cms-html-list",4),B("optionActionGuideNoticeDisplayChange",function(d){return S(a),x(t.viewGuideNotice,d)||(t.viewGuideNotice=d),h(d)}),v("optionOnActionButtonMemoRow",function(){return S(a),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(a),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(a),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(a),h(t.onActionButtonPrintRow())}),I(2,5),m(3," -------------------------------------- "),w(),le(4,6)(5,7),I(6,8),y(7,Jn,2,0,"a",9),s(8,"a",10),v("click",function(){return S(a),h(t.viewGuideNotice=!t.viewGuideNotice)}),g(9,"i",11),l(),s(10,"a",10),v("click",function(){return S(a),h(t.onActionButtonReload())}),g(11,"i",12),l(),w(),I(12,13),s(13,"a",14),v("click",function(){return S(a),h(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(14,"mat-slide-toggle",15),m(15),M(16,"translate"),l(),s(17,"a",14),v("click",function(){return S(a),h(t.onActionButtonStatist())}),g(18,"mat-slide-toggle",15),m(19),M(20,"translate"),l(),w(),le(21,16),I(22,17),y(23,$n,7,3,"div",18),y(24,Yn,7,3,"div",18),y(25,Xn,7,3,"div",18),y(26,Zn,7,3,"div",18),y(27,er,7,3,"div",18),w(),I(28,19),s(29,"app-cms-search-list",20),B("optionsChange",function(d){return S(a),x(t.optionsSearch,d)||(t.optionsSearch=d),h(d)}),l(),s(30,"app-cms-statist-list",20),B("optionsChange",function(d){return S(a),x(t.optionsStatist,d)||(t.optionsStatist=d),h(d)}),l(),w(),I(31,21),s(32,"mat-table",22,0),v("matSortChange",function(){S(a);let d=oe(33);return h(t.onTableSortData(d))}),I(34,23),L(35,tr,2,1,"mat-header-cell",24)(36,ir,2,1,"mat-cell",25),w(),I(37,26),L(38,or,2,1,"mat-header-cell",24)(39,rr,5,7,"mat-cell",27),w(),I(40,28),L(41,sr,2,1,"mat-header-cell",24)(42,lr,4,5,"mat-cell",25),w(),I(43,29),L(44,ar,2,1,"mat-header-cell",24)(45,cr,4,5,"mat-cell",25),w(),I(46,30),L(47,dr,2,1,"mat-header-cell",24)(48,mr,2,1,"mat-cell",25),w(),I(49,31),L(50,pr,2,1,"mat-header-cell",24)(51,ur,2,1,"mat-cell",25),w(),I(52,32),L(53,fr,2,1,"mat-header-cell",24)(54,Sr,2,1,"mat-cell",25),w(),I(55,33),L(56,hr,2,1,"mat-header-cell",24)(57,Cr,2,1,"mat-cell",25),w(),I(58,34),L(59,gr,2,1,"mat-header-cell",24)(60,Mr,3,3,"mat-cell",35),w(),I(61,36),L(62,_r,3,3,"mat-header-cell",37)(63,br,6,1,"mat-cell",38),w(),L(64,vr,1,0,"mat-header-row",39)(65,Ir,1,2,"mat-row",40),l(),w(),I(66,41),s(67,"mat-paginator",42,1),v("page",function(d){return S(a),h(t.onTablePageingData(d))}),l(),w(),l()}i&2&&(R(t.requestLinkUserId>0?0:-1),n(),b("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),b("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),R(t.requestLinkSiteId>0?7:-1),n(4),ae("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),b("checked",t.optionsSearch.data.show),n(),u("",_(16,29,"ACTION.SEARCH")," "),n(3),b("checked",t.optionsStatist.data.show),n(),u("",_(20,31,"ACTION.STATIST")," "),n(4),R(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?23:-1),n(),R(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?24:-1),n(),R(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?25:-1),n(),R((t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0?26:-1),n(),R((t.tableRowSelected==null?null:t.tableRowSelected.linkMemberId)>0?27:-1),n(2),D("options",t.optionsSearch),n(),D("options",t.optionsStatist),n(2),b("dataSource",t.tableSource),n(32),b("matHeaderRowDef",t.tabledisplayedColumns),n(),b("matRowDefColumns",t.tabledisplayedColumns),n(2),b("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",be(33,Kn)))},dependencies:[Ie,we,De,Be,ne,Ve,Ne,Ge,mt,Oe,Pe,He,Fe,Ke,je,Ue,Qe,qe,We,ze,Je,it,ot,nt,rt,st,_t,dt,U,Mt,ut,Xe,lt,at],encapsulation:2});var po=xi;var wr=["vform"];function Er(o,r){if(o&1){let e=E();s(0,"div",27)(1,"button",28),v("click",function(){S(e);let t=C();return h(t.onFormCancel())}),g(2,"i",29),m(3),M(4,"translate"),l(),s(5,"button",30),g(6,"i",29),m(7),M(8,"translate"),l()()}o&2&&(n(3),u(" ",_(4,2,"ACTION.CANCEL")," "),n(4),u(" ",_(8,4,"ACTION.SAVE")," "))}var Bi=class Bi extends Ze{constructor(e,i,t,a,f,d,c,A,J,se){super(a,new Ht,J,se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleLogReportAbuseService=a;this.cmsToastrService=f;this.tokenHelper=d;this.cmsStoreService=c;this.cdr=A;this.publicHelper=J;this.translate=se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new bt;this.dataModel=new Ht;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>N(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogReportAbuseService.setAccessLoad(),this.coreModuleLogReportAbuseService.setAccessDataType(Me.Editor),this.coreModuleLogReportAbuseService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogReportAbuseService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Bi.\u0275fac=function(i){return new(i||Bi)(p(te),p(ee),p(P),p(At),p(q),p(j),p(F),p(G),p(W),p(H))},Bi.\u0275cmp=V({type:Bi,selectors:[["app-coremodulelog-report-abuse-edit"]],viewQuery:function(i,t){if(i&1&&Y(wr,5),i&2){let a;X(a=Z())&&(t.formGroup=a.first)}},standalone:!1,features:[$],decls:50,vars:28,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],["SubjectBody",""],["AdminResultProcess",""],["SubjectUrl",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.subjectBody",1,"color-highlight"],["matInput","","type","text","name","dataModel.subjectBody","placeholder","SubjectBody","id","dataModel.subjectBody",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.adminResultProcess",1,"color-highlight"],["matInput","","name","dataModel.adminResultProcess","type","text","placeholder","AdminResultProcess","minlength","1","maxlength","500","rows","5","id","dataModel.adminResultProcess",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.subjectUrl",1,"color-highlight"],["matInput","","name","dataModel.subjectUrl","type","text","placeholder","SubjectUrl","minlength","1","maxlength","500","rows","5","id","dataModel.subjectUrl",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,t){if(i&1){let a=E();s(0,"div",7),g(1,"app-progress-spinner",8),s(2,"div",9)(3,"p",10),m(4),l(),s(5,"p"),m(6),M(7,"translate"),l(),g(8,"app-cms-form-result-message",11),s(9,"form",12,0),v("ngSubmit",function(){return S(a),h(t.onFormSubmit())}),g(11,"app-cms-site-selector",13),M(12,"translate"),g(13,"app-cms-user-selector",13),M(14,"translate"),g(15,"app-cms-member-selector",13),M(16,"translate"),s(17,"div",14)(18,"label",15),m(19,"ModuleName"),l(),s(20,"input",16,1),B("ngModelChange",function(d){return S(a),x(t.dataModel.moduleName,d)||(t.dataModel.moduleName=d),h(d)}),l()(),s(22,"div",14)(23,"label",17),m(24,"ModuleEntityName"),l(),s(25,"input",18,2),B("ngModelChange",function(d){return S(a),x(t.dataModel.moduleEntityName,d)||(t.dataModel.moduleEntityName=d),h(d)}),l()(),s(27,"div",14)(28,"label",19),m(29,"ModuleEntityId"),l(),s(30,"input",20,3),B("ngModelChange",function(d){return S(a),x(t.dataModel.moduleEntityId,d)||(t.dataModel.moduleEntityId=d),h(d)}),l()(),s(32,"div",14)(33,"label",21),m(34,"SubjectBody"),l(),s(35,"input",22,4),B("ngModelChange",function(d){return S(a),x(t.dataModel.subjectBody,d)||(t.dataModel.subjectBody=d),h(d)}),l()(),s(37,"div",14)(38,"label",23),m(39,"AdminResultProcess"),l(),s(40,"textarea",24,5),B("ngModelChange",function(d){return S(a),x(t.dataModel.adminResultProcess,d)||(t.dataModel.adminResultProcess=d),h(d)}),m(42,"                          "),l()(),s(43,"div",14)(44,"label",25),m(45,"SubjectUrl"),l(),s(46,"textarea",26,6),B("ngModelChange",function(d){return S(a),x(t.dataModel.subjectUrl,d)||(t.dataModel.subjectUrl=d),h(d)}),m(48,"                            "),l()(),y(49,Er,9,6,"div",27),l()()()}i&2&&(n(),b("optionsInfoAreaId",t.constructorInfoAreaId),n(3),u(" ",t.formInfo.formTitle," "),n(2),u(" ",_(7,20,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),b("formInfo",t.formInfo),n(3),b("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",_(12,22,"TITLE.SITE")),n(2),b("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",_(14,24,"TITLE.USER")),n(2),b("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",_(16,26,"TITLE.Member")),n(5),D("ngModel",t.dataModel.moduleName),n(5),D("ngModel",t.dataModel.moduleEntityName),n(5),D("ngModel",t.dataModel.moduleEntityId),n(5),D("ngModel",t.dataModel.subjectBody),n(5),D("ngModel",t.dataModel.adminResultProcess),n(6),D("ngModel",t.dataModel.subjectUrl),n(3),R(t.formInfo.submitButtonEnabled?49:-1))},dependencies:[Ae,ht,Ct,Le,Kt,Qt,gt,ke,ne,pt,zt,Jt,ie,de,U],encapsulation:2});var uo=Bi;var yr=["vform"];function Rr(o,r){if(o&1){let e=E();s(0,"div",7)(1,"button",8),v("click",function(){S(e);let t=C();return h(t.onFormCancel())}),g(2,"i",9),m(3),M(4,"translate"),l()()}o&2&&(n(3),u(" ",_(4,1,"ACTION.CANCEL")," "))}var Vi=class Vi{constructor(r,e,i,t,a,f,d,c,A,J){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.coreModuleLogReportAbuseService=t;this.cmsToastrService=a;this.tokenHelper=f;this.cmsStoreService=d;this.cdr=c;this.publicHelper=A;this.translate=J;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Te;this.dataModelResult=new z;this.dataModel=new Ht;this.formInfo=new Ye;this.dataModelEnumSendSmsStatusTypeResult=new z;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>N(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreModuleLogReportAbuseService.setAccessLoad(),this.coreModuleLogReportAbuseService.setAccessDataType(Me.Editor),this.coreModuleLogReportAbuseService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Vi.\u0275fac=function(e){return new(e||Vi)(p(te),p(ee),p(P),p(At),p(q),p(j),p(F),p(G),p(W),p(H))},Vi.\u0275cmp=V({type:Vi,selectors:[["app-coremodulelog-report-abuse-view"]],viewQuery:function(e,i){if(e&1&&Y(yr,5),e&2){let t;X(t=Z())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(s(0,"div",0),m(1),l(),s(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),l(),s(5,"div",4),g(6,"app-cms-form-result-message",5),l(),s(7,"div",6),y(8,Rr,5,3,"div",7),l()),e&2&&(n(),u(" ",i.formInfo.formTitle," "),n(2),b("optionsInfoAreaId",i.constructorInfoAreaId),n(),b("dataModel",i.dataModel)("optionMethod",1),n(2),b("formInfo",i.formInfo),n(2),R(i.formInfo.submitButtonEnabled?8:-1))},dependencies:[ie,tt,de,U],encapsulation:2});var fo=Vi;var Tr=()=>[5,10,20,100],Lr=o=>({display:o});function kr(o,r){if(o&1&&g(0,"app-core-user-header",3),o&2){let e=C();b("optionId",e.requestLinkUserId)}}function Ar(o,r){if(o&1){let e=E();s(0,"a",45),v("click",function(){S(e);let t=C();return h(t.onActionBackToParent())}),g(1,"i",46),l()}}function Dr(o,r){if(o&1){let e=E();s(0,"div",18)(1,"a",47),v("click",function(){S(e);let t=C();return h(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",48)(3,"br"),l(),s(4,"p",49),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.VIEW")," "))}function xr(o,r){if(o&1){let e=E();s(0,"div",18)(1,"a",50),v("click",function(){S(e);let t=C();return h(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",51)(3,"br"),l(),s(4,"p",49),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.EDIT")," "))}function Br(o,r){if(o&1){let e=E();s(0,"div",18)(1,"a",52),v("click",function(){S(e);let t=C();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",53)(3,"br"),l(),s(4,"p",49),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.DELETE")," "))}function Vr(o,r){if(o&1){let e=E();s(0,"div",18)(1,"a",47),v("click",function(){S(e);let t=C();return h(t.onActionButtonViewUserRow(t.tableRowSelected))}),g(2,"i",54)(3,"br"),l(),s(4,"p",49),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.USER")," "))}function Nr(o,r){if(o&1){let e=E();s(0,"div",18)(1,"a",47),v("click",function(){S(e);let t=C();return h(t.onActionButtonViewMemberRow(t.tableRowSelected))}),g(2,"i",55)(3,"br"),l(),s(4,"p",49),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.MEMBER")," "))}function Gr(o,r){if(o&1&&(s(0,"mat-header-cell",56),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Or(o,r){if(o&1&&(s(0,"mat-cell"),m(1),l()),o&2){let e=r.$implicit;n(),u(" ",e.id," ")}}function Pr(o,r){if(o&1&&(s(0,"mat-header-cell",56),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Hr(o,r){if(o&1&&g(0,"select",58),o&2){let e=C().$implicit,i=C();b("contentService",i.contentService)("row",e)("ngStyle",ve(3,Lr,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Ur(o,r){if(o&1&&(s(0,"mat-cell",57),M(1,"statusCellClass"),g(2,"i",57),M(3,"statusIconClass"),y(4,Hr,1,5,"select",58),l()),o&2){let e=r.$implicit,i=C();b("ngClass",_(1,3,e.recordStatus)),n(2),b("ngClass",_(3,5,e.recordStatus)),n(2),R(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function Fr(o,r){if(o&1&&(s(0,"mat-header-cell",56),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function jr(o,r){if(o&1&&(s(0,"mat-cell"),m(1),M(2,"cmssiteinfo"),M(3,"async"),l()),o&2){let e=r.$implicit;n(),u(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function qr(o,r){if(o&1&&(s(0,"mat-header-cell",56),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Wr(o,r){if(o&1&&(s(0,"mat-cell"),m(1),M(2,"cmsuserinfo"),M(3,"async"),l()),o&2){let e=r.$implicit;n(),u(" ",_(3,3,_(2,1,e.linkUserId))," ")}}function Kr(o,r){if(o&1&&(s(0,"mat-header-cell",56),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function Qr(o,r){if(o&1&&(s(0,"mat-cell"),m(1),l()),o&2){let e=r.$implicit;n(),u(" ",e.linkMemberId," ")}}function zr(o,r){if(o&1&&(s(0,"mat-header-cell",56),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.moduleName==null?null:e.fieldsInfo.moduleName.fieldTitle," ")}}function Jr(o,r){if(o&1&&(s(0,"mat-cell"),m(1),l()),o&2){let e=r.$implicit;n(),u(" ",e.moduleName," ")}}function $r(o,r){if(o&1&&(s(0,"mat-header-cell",56),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.moduleEntityName==null?null:e.fieldsInfo.moduleEntityName.fieldTitle," ")}}function Yr(o,r){if(o&1&&(s(0,"mat-cell"),m(1),l()),o&2){let e=r.$implicit;n(),u(" ",e.moduleEntityName," ")}}function Xr(o,r){if(o&1&&(s(0,"mat-header-cell",56),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.moduleEntityId==null?null:e.fieldsInfo.moduleEntityId.fieldTitle," ")}}function Zr(o,r){if(o&1&&(s(0,"mat-cell"),m(1),l()),o&2){let e=r.$implicit;n(),u(" ",e.moduleEntityId," ")}}function es(o,r){if(o&1&&(s(0,"mat-header-cell",56),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.subjectBody==null?null:e.fieldsInfo.subjectBody.fieldTitle," ")}}function ts(o,r){if(o&1&&(s(0,"mat-cell"),m(1),l()),o&2){let e=r.$implicit;n(),u(" ",e.subjectBody," ")}}function is(o,r){if(o&1&&(s(0,"mat-header-cell",56),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.adminResultProcess==null?null:e.fieldsInfo.adminResultProcess.fieldTitle," ")}}function os(o,r){if(o&1&&(s(0,"mat-cell"),m(1),l()),o&2){let e=r.$implicit;n(),u(" ",e.adminResultProcess," ")}}function ns(o,r){if(o&1&&(s(0,"mat-header-cell",56),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function rs(o,r){if(o&1&&(s(0,"mat-cell",59),m(1),M(2,"localeDateTime"),l()),o&2){let e=r.$implicit;n(),u(" ",_(2,1,e.createdDate)," ")}}function ss(o,r){o&1&&(s(0,"mat-header-cell"),m(1),M(2,"translate"),l()),o&2&&(n(),u(" ",_(2,1,"TITLE.OPTION")," "))}function ls(o,r){if(o&1&&(s(0,"mat-cell",60)(1,"button",61)(2,"mat-icon"),m(3,"more_vert"),l()(),g(4,"mat-menu",null,2),l()),o&2){let e=oe(5);n(),b("matMenuTriggerFor",e)}}function as(o,r){o&1&&g(0,"mat-header-row")}function cs(o,r){if(o&1){let e=E();s(0,"mat-row",62),v("click",function(t){let a=S(e).$implicit,f=C();return h(f.onActionTableRowSelect(a,t))})("rtclick",function(t){let a=S(e).$implicit,f=C();return h(f.onActionTableRowSelect(a,t))}),l()}if(o&2){let e=r.$implicit,i=C();ae("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ni=class Ni extends et{constructor(e,i,t,a,f,d,c,A,J,se,yt,St,It){super(i,new Ht,St,d,A);this.coreEnumService=e;this.contentService=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=a;this.activatedRoute=f;this.tokenHelper=d;this.cdr=c;this.translate=A;this.cmsStoreService=J;this.router=se;this.pageInfo=yt;this.publicHelper=St;this.dialog=It;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestlinkMemberId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ge;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkUserId","linkSiteId","linkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","SubjectBody","AdminResultProcess","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkUserId","linkSiteId","linkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","SubjectBody","AdminResultProcess","createdDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberId")),this.requestLinkSiteId>0){let k=new T;k.propertyName="LinkCmsSiteId",k.value=this.requestLinkSiteId,this.filteModelContent.filters.push(k)}if(this.requestLinkUserId>0){let k=new T;k.propertyName="linkUserId",k.value=this.requestLinkUserId,this.filteModelContent.filters.push(k)}if(this.requestlinkMemberId>0){let k=new T;k.propertyName="linkMemberId",k.value=this.requestlinkMemberId,this.filteModelContent.filters.push(k)}this.optionsSearch.parentMethods={onSubmit:k=>this.onSubmitOptionsSearch(k)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=O.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=O.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>N(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let i=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ht);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let t=new T;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new T;t.propertyName="linkSiteId",t.value=this.filteModelContent.filterActionSearchLinkSiteId,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new T;t.propertyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=O.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(fo,{height:"90%",panelClass:i,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(uo,{height:"90%",panelClass:i,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],t=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(a=>{if(a){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(f,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)});let a=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let c=new T;c.propertyName="recordStatus",c.value=this.filteModelContent.filterActionSearchRecordStatus,a.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let c=new T;c.propertyName="linkSiteId",c.value=this.filteModelContent.filterActionSearchLinkSiteId,a.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let c=new T;c.propertyName="linkUserId",c.value=this.filteModelContent.filterActionSearchLinkUserId,a.filters.push(c)}this.contentService.ServiceGetCount(a).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(A=>{i.set(A,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let f=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let c=new T;c.propertyName="recordStatus",c.value=this.filteModelContent.filterActionSearchRecordStatus,f.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let c=new T;c.propertyName="linkSiteId",c.value=this.filteModelContent.filterActionSearchLinkSiteId,f.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let c=new T;c.propertyName="linkUserId",c.value=this.filteModelContent.filterActionSearchLinkUserId,f.filters.push(c)}let d=new T;d.propertyName="recordStatus",d.value=Re.Available,f.filters.push(d),this.contentService.ServiceGetCount(f).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(A=>{i.set(A,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.translate.get("MESSAGE.content_does_not_include_member_informations").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Ni.\u0275fac=function(i){return new(i||Ni)(p(P),p(At),p(q),p(_e),p(Ee),p(j),p(G),p(H),p(F),p(ye),p($e),p(W),p(xe))},Ni.\u0275cmp=V({type:Ni,selectors:[["app-coremodulelog-report-abuse-list"]],standalone:!1,features:[$],decls:75,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","linkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","SubjectBody"],["matColumnDef","AdminResultProcess"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let a=E();y(0,kr,1,1,"app-core-user-header",3),s(1,"app-cms-html-list",4),B("optionActionGuideNoticeDisplayChange",function(d){return S(a),x(t.viewGuideNotice,d)||(t.viewGuideNotice=d),h(d)}),v("optionOnActionButtonMemoRow",function(){return S(a),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(a),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(a),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(a),h(t.onActionButtonPrintRow())}),I(2,5),m(3," -------------------------------------- "),w(),le(4,6)(5,7),I(6,8),y(7,Ar,2,0,"a",9),s(8,"a",10),v("click",function(){return S(a),h(t.viewGuideNotice=!t.viewGuideNotice)}),g(9,"i",11),l(),s(10,"a",10),v("click",function(){return S(a),h(t.onActionButtonReload())}),g(11,"i",12),l(),w(),I(12,13),s(13,"a",14),v("click",function(){return S(a),h(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(14,"mat-slide-toggle",15),m(15),M(16,"translate"),l(),s(17,"a",14),v("click",function(){return S(a),h(t.onActionButtonStatist())}),g(18,"mat-slide-toggle",15),m(19),M(20,"translate"),l(),w(),le(21,16),I(22,17),y(23,Dr,7,3,"div",18),y(24,xr,7,3,"div",18),y(25,Br,7,3,"div",18),y(26,Vr,7,3,"div",18),y(27,Nr,7,3,"div",18),w(),I(28,19),s(29,"app-cms-search-list",20),B("optionsChange",function(d){return S(a),x(t.optionsSearch,d)||(t.optionsSearch=d),h(d)}),l(),s(30,"app-cms-statist-list",20),B("optionsChange",function(d){return S(a),x(t.optionsStatist,d)||(t.optionsStatist=d),h(d)}),l(),w(),I(31,21),s(32,"mat-table",22,0),v("matSortChange",function(){S(a);let d=oe(33);return h(t.onTableSortData(d))}),I(34,23),L(35,Gr,2,1,"mat-header-cell",24)(36,Or,2,1,"mat-cell",25),w(),I(37,26),L(38,Pr,2,1,"mat-header-cell",24)(39,Ur,5,7,"mat-cell",27),w(),I(40,28),L(41,Fr,2,1,"mat-header-cell",24)(42,jr,4,5,"mat-cell",25),w(),I(43,29),L(44,qr,2,1,"mat-header-cell",24)(45,Wr,4,5,"mat-cell",25),w(),I(46,30),L(47,Kr,2,1,"mat-header-cell",24)(48,Qr,2,1,"mat-cell",25),w(),I(49,31),L(50,zr,2,1,"mat-header-cell",24)(51,Jr,2,1,"mat-cell",25),w(),I(52,32),L(53,$r,2,1,"mat-header-cell",24)(54,Yr,2,1,"mat-cell",25),w(),I(55,33),L(56,Xr,2,1,"mat-header-cell",24)(57,Zr,2,1,"mat-cell",25),w(),I(58,34),L(59,es,2,1,"mat-header-cell",24)(60,ts,2,1,"mat-cell",25),w(),I(61,35),L(62,is,2,1,"mat-header-cell",24)(63,os,2,1,"mat-cell",25),w(),I(64,36),L(65,ns,2,1,"mat-header-cell",24)(66,rs,3,3,"mat-cell",37),w(),I(67,38),L(68,ss,3,3,"mat-header-cell",39)(69,ls,6,1,"mat-cell",40),w(),L(70,as,1,0,"mat-header-row",41)(71,cs,1,2,"mat-row",42),l(),w(),I(72,43),s(73,"mat-paginator",44,1),v("page",function(d){return S(a),h(t.onTablePageingData(d))}),l(),w(),l()}i&2&&(R(t.requestLinkUserId>0?0:-1),n(),b("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),b("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),R(t.requestLinkSiteId>0?7:-1),n(4),ae("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),b("checked",t.optionsSearch.data.show),n(),u("",_(16,29,"ACTION.SEARCH")," "),n(3),b("checked",t.optionsStatist.data.show),n(),u("",_(20,31,"ACTION.STATIST")," "),n(4),R(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?23:-1),n(),R(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?24:-1),n(),R(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?25:-1),n(),R((t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0?26:-1),n(),R((t.tableRowSelected==null?null:t.tableRowSelected.linkMemberId)>0?27:-1),n(2),D("options",t.optionsSearch),n(),D("options",t.optionsStatist),n(2),b("dataSource",t.tableSource),n(38),b("matHeaderRowDef",t.tabledisplayedColumns),n(),b("matRowDefColumns",t.tabledisplayedColumns),n(2),b("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",be(33,Tr)))},dependencies:[Ie,we,De,Be,ne,Ve,Ne,Ge,mt,Oe,Pe,He,Fe,Ke,je,Ue,Qe,qe,We,ze,Je,it,ot,nt,rt,st,_t,dt,U,Mt,ut,Xe,lt,at],encapsulation:2});var So=Ni;var ds=["vform"];function ms(o,r){if(o&1){let e=E();s(0,"div",16)(1,"button",17),v("click",function(){S(e);let t=C();return h(t.onFormCancel())}),g(2,"i",18),m(3),M(4,"translate"),l()()}o&2&&(n(3),u(" ",_(4,1,"ACTION.CANCEL")," "))}var Gi=class Gi extends Ze{constructor(e,i,t,a,f,d,c,A,J,se){super(a,new Pt,J,se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleLogScoreService=a;this.cmsToastrService=f;this.tokenHelper=d;this.cmsStoreService=c;this.cdr=A;this.publicHelper=J;this.translate=se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new z;this.dataModel=new Pt;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>N(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogScoreService.setAccessLoad(),this.coreModuleLogScoreService.setAccessDataType(Me.Editor),this.coreModuleLogScoreService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Gi.\u0275fac=function(i){return new(i||Gi)(p(te),p(ee),p(P),p(Tt),p(q),p(j),p(F),p(G),p(W),p(H))},Gi.\u0275cmp=V({type:Gi,selectors:[["app-coremodulelog-score-edit"]],viewQuery:function(i,t){if(i&1&&Y(ds,5),i&2){let a;X(a=Z())&&(t.formGroup=a.first)}},standalone:!1,features:[$],decls:32,vars:24,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){if(i&1){let a=E();s(0,"div",4),g(1,"app-progress-spinner",5),s(2,"div",6)(3,"p",7),m(4),l(),s(5,"p"),m(6),M(7,"translate"),l(),s(8,"form",null,0),g(10,"app-cms-site-selector",8),M(11,"translate"),g(12,"app-cms-user-selector",8),M(13,"translate"),g(14,"app-cms-member-selector",8),M(15,"translate"),s(16,"div",9)(17,"label",10),m(18,"ModuleName"),l(),s(19,"input",11,1),B("ngModelChange",function(d){return S(a),x(t.dataModel.moduleName,d)||(t.dataModel.moduleName=d),h(d)}),l()(),s(21,"div",9)(22,"label",12),m(23,"ModuleEntityName"),l(),s(24,"input",13,2),B("ngModelChange",function(d){return S(a),x(t.dataModel.moduleEntityName,d)||(t.dataModel.moduleEntityName=d),h(d)}),l()(),s(26,"div",9)(27,"label",14),m(28,"ModuleEntityId"),l(),s(29,"input",15,3),B("ngModelChange",function(d){return S(a),x(t.dataModel.moduleEntityId,d)||(t.dataModel.moduleEntityId=d),h(d)}),l()(),y(31,ms,5,3,"div",16),l()()()}i&2&&(n(),b("optionsInfoAreaId",t.constructorInfoAreaId),n(3),u(" ",t.formInfo.formTitle," "),n(2),u(" ",_(7,16,"TITLE.Be_Careful_When_Entering_Information")," "),n(4),b("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",_(11,18,"TITLE.SITE")),n(2),b("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",_(13,20,"TITLE.USER")),n(2),b("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",_(15,22,"TITLE.Member")),n(5),D("ngModel",t.dataModel.moduleName),n(5),D("ngModel",t.dataModel.moduleEntityName),n(5),D("ngModel",t.dataModel.moduleEntityId),n(2),R(t.formInfo.submitButtonEnabled?31:-1))},dependencies:[Ae,ht,Ct,Le,gt,ke,ne,pt,zt,Jt,ie,U],encapsulation:2});var ho=Gi;var ps=["vform"];function us(o,r){if(o&1){let e=E();s(0,"div",7)(1,"button",8),v("click",function(){S(e);let t=C();return h(t.onFormCancel())}),g(2,"i",9),m(3),M(4,"translate"),l()()}o&2&&(n(3),u(" ",_(4,1,"ACTION.CANCEL")," "))}var Oi=class Oi{constructor(r,e,i,t,a,f,d,c,A,J){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.coreModuleLogScoreService=t;this.cmsToastrService=a;this.tokenHelper=f;this.cmsStoreService=d;this.cdr=c;this.publicHelper=A;this.translate=J;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Te;this.dataModelResult=new z;this.dataModel=new Pt;this.formInfo=new Ye;this.dataModelEnumSendSmsStatusTypeResult=new z;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>N(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreModuleLogScoreService.setAccessLoad(),this.coreModuleLogScoreService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Oi.\u0275fac=function(e){return new(e||Oi)(p(te),p(ee),p(P),p(Tt),p(q),p(j),p(F),p(G),p(W),p(H))},Oi.\u0275cmp=V({type:Oi,selectors:[["app-coremodulelog-score-view"]],viewQuery:function(e,i){if(e&1&&Y(ps,5),e&2){let t;X(t=Z())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(s(0,"div",0),m(1),l(),s(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),l(),s(5,"div",4),g(6,"app-cms-form-result-message",5),l(),s(7,"div",6),y(8,us,5,3,"div",7),l()),e&2&&(n(),u(" ",i.formInfo.formTitle," "),n(2),b("optionsInfoAreaId",i.constructorInfoAreaId),n(),b("dataModel",i.dataModel)("optionMethod",1),n(2),b("formInfo",i.formInfo),n(2),R(i.formInfo.submitButtonEnabled?8:-1))},dependencies:[ie,tt,de,U],encapsulation:2});var Co=Oi;var fs=()=>[5,10,20,100],Ss=o=>({display:o});function hs(o,r){if(o&1&&g(0,"app-core-user-header",3),o&2){let e=C();b("optionId",e.requestLinkUserId)}}function Cs(o,r){if(o&1){let e=E();s(0,"a",43),v("click",function(){S(e);let t=C();return h(t.onActionBackToParent())}),g(1,"i",44),l()}}function gs(o,r){if(o&1){let e=E();s(0,"div",18)(1,"a",45),v("click",function(){S(e);let t=C();return h(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",46)(3,"br"),l(),s(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.VIEW")," "))}function Ms(o,r){if(o&1){let e=E();s(0,"div",18)(1,"a",48),v("click",function(){S(e);let t=C();return h(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",49)(3,"br"),l(),s(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.EDIT")," "))}function _s(o,r){if(o&1){let e=E();s(0,"div",18)(1,"a",50),v("click",function(){S(e);let t=C();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",51)(3,"br"),l(),s(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.DELETE")," "))}function bs(o,r){if(o&1){let e=E();s(0,"div",18)(1,"a",45),v("click",function(){S(e);let t=C();return h(t.onActionButtonViewUserRow(t.tableRowSelected))}),g(2,"i",52)(3,"br"),l(),s(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.USER")," "))}function vs(o,r){if(o&1){let e=E();s(0,"div",18)(1,"a",45),v("click",function(){S(e);let t=C();return h(t.onActionButtonViewMemberRow(t.tableRowSelected))}),g(2,"i",53)(3,"br"),l(),s(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.MEMBER")," "))}function Is(o,r){if(o&1&&(s(0,"mat-header-cell",54),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function ws(o,r){if(o&1&&(s(0,"mat-cell"),m(1),l()),o&2){let e=r.$implicit;n(),u(" ",e.id," ")}}function Es(o,r){if(o&1&&(s(0,"mat-header-cell",54),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function ys(o,r){if(o&1&&g(0,"select",56),o&2){let e=C().$implicit,i=C();b("contentService",i.contentService)("row",e)("ngStyle",ve(3,Ss,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Rs(o,r){if(o&1&&(s(0,"mat-cell",55),M(1,"statusCellClass"),g(2,"i",55),M(3,"statusIconClass"),y(4,ys,1,5,"select",56),l()),o&2){let e=r.$implicit,i=C();b("ngClass",_(1,3,e.recordStatus)),n(2),b("ngClass",_(3,5,e.recordStatus)),n(2),R(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function Ts(o,r){if(o&1&&(s(0,"mat-header-cell",54),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ls(o,r){if(o&1&&(s(0,"mat-cell"),m(1),M(2,"cmssiteinfo"),M(3,"async"),l()),o&2){let e=r.$implicit;n(),u(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function ks(o,r){if(o&1&&(s(0,"mat-header-cell",54),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function As(o,r){if(o&1&&(s(0,"mat-cell"),m(1),M(2,"cmsuserinfo"),M(3,"async"),l()),o&2){let e=r.$implicit;n(),u(" ",_(3,3,_(2,1,e.linkUserId))," ")}}function Ds(o,r){if(o&1&&(s(0,"mat-header-cell",54),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function xs(o,r){if(o&1&&(s(0,"mat-cell"),m(1),l()),o&2){let e=r.$implicit;n(),u(" ",e.linkMemberId," ")}}function Bs(o,r){if(o&1&&(s(0,"mat-header-cell",54),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.moduleName==null?null:e.fieldsInfo.moduleName.fieldTitle," ")}}function Vs(o,r){if(o&1&&(s(0,"mat-cell"),m(1),l()),o&2){let e=r.$implicit;n(),u(" ",e.moduleName," ")}}function Ns(o,r){if(o&1&&(s(0,"mat-header-cell",54),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.moduleEntityName==null?null:e.fieldsInfo.moduleEntityName.fieldTitle," ")}}function Gs(o,r){if(o&1&&(s(0,"mat-cell"),m(1),l()),o&2){let e=r.$implicit;n(),u(" ",e.moduleEntityName," ")}}function Os(o,r){if(o&1&&(s(0,"mat-header-cell",54),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.moduleEntityId==null?null:e.fieldsInfo.moduleEntityId.fieldTitle," ")}}function Ps(o,r){if(o&1&&(s(0,"mat-cell"),m(1),l()),o&2){let e=r.$implicit;n(),u(" ",e.moduleEntityId," ")}}function Hs(o,r){if(o&1&&(s(0,"mat-header-cell",54),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Us(o,r){if(o&1&&(s(0,"mat-cell",57),m(1),M(2,"localeDateTime"),l()),o&2){let e=r.$implicit;n(),u(" ",_(2,1,e.createdDate)," ")}}function Fs(o,r){o&1&&(s(0,"mat-header-cell"),m(1),M(2,"translate"),l()),o&2&&(n(),u(" ",_(2,1,"TITLE.OPTION")," "))}function js(o,r){if(o&1&&(s(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),m(3,"more_vert"),l()(),g(4,"mat-menu",null,2),l()),o&2){let e=oe(5);n(),b("matMenuTriggerFor",e)}}function qs(o,r){o&1&&g(0,"mat-header-row")}function Ws(o,r){if(o&1){let e=E();s(0,"mat-row",60),v("click",function(t){let a=S(e).$implicit,f=C();return h(f.onActionTableRowSelect(a,t))})("rtclick",function(t){let a=S(e).$implicit,f=C();return h(f.onActionTableRowSelect(a,t))}),l()}if(o&2){let e=r.$implicit,i=C();ae("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Pi=class Pi extends et{constructor(e,i,t,a,f,d,c,A,J,se,yt,St,It){super(i,new Pt,St,c,J);this.coreEnumService=e;this.contentService=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=a;this.activatedRoute=f;this.cmsStoreService=d;this.tokenHelper=c;this.cdr=A;this.translate=J;this.router=se;this.pageInfo=yt;this.publicHelper=St;this.dialog=It;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestlinkMemberId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ge;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkUserId","linkSiteId","linkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkUserId","linkSiteId","linkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","createdDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberId")),this.requestLinkSiteId>0){let k=new T;k.propertyName="LinkCmsSiteId",k.value=this.requestLinkSiteId,this.filteModelContent.filters.push(k)}if(this.requestLinkUserId>0){let k=new T;k.propertyName="linkUserId",k.value=this.requestLinkUserId,this.filteModelContent.filters.push(k)}if(this.requestlinkMemberId>0){let k=new T;k.propertyName="linkMemberId",k.value=this.requestlinkMemberId,this.filteModelContent.filters.push(k)}this.optionsSearch.parentMethods={onSubmit:k=>this.onSubmitOptionsSearch(k)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=O.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=O.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>N(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let i=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Pt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let t=new T;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new T;t.propertyName="linkSiteId",t.value=this.filteModelContent.filterActionSearchLinkSiteId,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new T;t.propertyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=O.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Co,{height:"90%",panelClass:i,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ho,{height:"90%",panelClass:i,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],t=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(a=>{if(a){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(f,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)});let a=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let c=new T;c.propertyName="recordStatus",c.value=this.filteModelContent.filterActionSearchRecordStatus,a.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let c=new T;c.propertyName="linkSiteId",c.value=this.filteModelContent.filterActionSearchLinkSiteId,a.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let c=new T;c.propertyName="linkUserId",c.value=this.filteModelContent.filterActionSearchLinkUserId,a.filters.push(c)}this.contentService.ServiceGetCount(a).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(A=>{i.set(A,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let f=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let c=new T;c.propertyName="recordStatus",c.value=this.filteModelContent.filterActionSearchRecordStatus,f.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let c=new T;c.propertyName="linkSiteId",c.value=this.filteModelContent.filterActionSearchLinkSiteId,f.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let c=new T;c.propertyName="linkUserId",c.value=this.filteModelContent.filterActionSearchLinkUserId,f.filters.push(c)}let d=new T;d.propertyName="recordStatus",d.value=Re.Available,f.filters.push(d),this.contentService.ServiceGetCount(f).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(A=>{i.set(A,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.translate.get("MESSAGE.content_does_not_include_member_informations").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Pi.\u0275fac=function(i){return new(i||Pi)(p(P),p(Tt),p(q),p(_e),p(Ee),p(F),p(j),p(G),p(H),p(ye),p($e),p(W),p(xe))},Pi.\u0275cmp=V({type:Pi,selectors:[["app-coremodulelog-score-list"]],standalone:!1,features:[$],decls:69,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","linkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let a=E();y(0,hs,1,1,"app-core-user-header",3),s(1,"app-cms-html-list",4),B("optionActionGuideNoticeDisplayChange",function(d){return S(a),x(t.viewGuideNotice,d)||(t.viewGuideNotice=d),h(d)}),v("optionOnActionButtonMemoRow",function(){return S(a),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(a),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(a),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(a),h(t.onActionButtonPrintRow())}),I(2,5),m(3," -------------------------------------- "),w(),le(4,6)(5,7),I(6,8),y(7,Cs,2,0,"a",9),s(8,"a",10),v("click",function(){return S(a),h(t.viewGuideNotice=!t.viewGuideNotice)}),g(9,"i",11),l(),s(10,"a",10),v("click",function(){return S(a),h(t.onActionButtonReload())}),g(11,"i",12),l(),w(),I(12,13),s(13,"a",14),v("click",function(){return S(a),h(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(14,"mat-slide-toggle",15),m(15),M(16,"translate"),l(),s(17,"a",14),v("click",function(){return S(a),h(t.onActionButtonStatist())}),g(18,"mat-slide-toggle",15),m(19),M(20,"translate"),l(),w(),le(21,16),I(22,17),y(23,gs,7,3,"div",18),y(24,Ms,7,3,"div",18),y(25,_s,7,3,"div",18),y(26,bs,7,3,"div",18),y(27,vs,7,3,"div",18),w(),I(28,19),s(29,"app-cms-search-list",20),B("optionsChange",function(d){return S(a),x(t.optionsSearch,d)||(t.optionsSearch=d),h(d)}),l(),s(30,"app-cms-statist-list",20),B("optionsChange",function(d){return S(a),x(t.optionsStatist,d)||(t.optionsStatist=d),h(d)}),l(),w(),I(31,21),s(32,"mat-table",22,0),v("matSortChange",function(){S(a);let d=oe(33);return h(t.onTableSortData(d))}),I(34,23),L(35,Is,2,1,"mat-header-cell",24)(36,ws,2,1,"mat-cell",25),w(),I(37,26),L(38,Es,2,1,"mat-header-cell",24)(39,Rs,5,7,"mat-cell",27),w(),I(40,28),L(41,Ts,2,1,"mat-header-cell",24)(42,Ls,4,5,"mat-cell",25),w(),I(43,29),L(44,ks,2,1,"mat-header-cell",24)(45,As,4,5,"mat-cell",25),w(),I(46,30),L(47,Ds,2,1,"mat-header-cell",24)(48,xs,2,1,"mat-cell",25),w(),I(49,31),L(50,Bs,2,1,"mat-header-cell",24)(51,Vs,2,1,"mat-cell",25),w(),I(52,32),L(53,Ns,2,1,"mat-header-cell",24)(54,Gs,2,1,"mat-cell",25),w(),I(55,33),L(56,Os,2,1,"mat-header-cell",24)(57,Ps,2,1,"mat-cell",25),w(),I(58,34),L(59,Hs,2,1,"mat-header-cell",24)(60,Us,3,3,"mat-cell",35),w(),I(61,36),L(62,Fs,3,3,"mat-header-cell",37)(63,js,6,1,"mat-cell",38),w(),L(64,qs,1,0,"mat-header-row",39)(65,Ws,1,2,"mat-row",40),l(),w(),I(66,41),s(67,"mat-paginator",42,1),v("page",function(d){return S(a),h(t.onTablePageingData(d))}),l(),w(),l()}i&2&&(R(t.requestLinkUserId>0?0:-1),n(),b("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),b("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),R(t.requestLinkSiteId>0?7:-1),n(4),ae("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),b("checked",t.optionsSearch.data.show),n(),u("",_(16,29,"ACTION.SEARCH")," "),n(3),b("checked",t.optionsStatist.data.show),n(),u("",_(20,31,"ACTION.STATIST")," "),n(4),R(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?23:-1),n(),R(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?24:-1),n(),R(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?25:-1),n(),R((t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0?26:-1),n(),R((t.tableRowSelected==null?null:t.tableRowSelected.linkMemberId)>0?27:-1),n(2),D("options",t.optionsSearch),n(),D("options",t.optionsStatist),n(2),b("dataSource",t.tableSource),n(32),b("matHeaderRowDef",t.tabledisplayedColumns),n(),b("matRowDefColumns",t.tabledisplayedColumns),n(2),b("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",be(33,fs)))},dependencies:[Ie,we,De,Be,ne,Ve,Ne,Ge,mt,Oe,Pe,He,Fe,Ke,je,Ue,Qe,qe,We,ze,Je,it,ot,nt,rt,st,_t,dt,U,Mt,ut,Xe,lt,at],encapsulation:2});var go=Pi;var Ks=["vform"];function Qs(o,r){if(o&1){let e=E();s(0,"div",24)(1,"label",26),m(2),l(),s(3,"input",27),B("ngModelChange",function(t){S(e);let a=C();return x(a.dataModel.expireDateTime,t)||(a.dataModel.expireDateTime=t),h(t)}),l(),g(4,"mat-datepicker-toggle",28)(5,"mat-datepicker",29,6),l()}if(o&2){let e=oe(6),i=C();n(2),wt(i.fieldsInfo.expireDateTime==null?null:i.fieldsInfo.expireDateTime.fieldTitle),n(),b("placeholder",hi(i.fieldsInfo.expireDateTime==null?null:i.fieldsInfo.expireDateTime.fieldTitle))("disabled",hi(!(i.fieldsInfo.expireDateTime!=null&&i.fieldsInfo.expireDateTime.accessEditField)))("matDatepicker",e),D("ngModel",i.dataModel.expireDateTime),n(),b("for",e),n(),b("calendarHeaderComponent",i.datapickerHeader)}}function zs(o,r){if(o&1){let e=E();s(0,"div",25)(1,"button",30),v("click",function(){S(e);let t=C();return h(t.onFormCancel())}),g(2,"i",31),m(3),M(4,"translate"),l(),s(5,"button",32),g(6,"i",31),m(7),M(8,"translate"),l()()}o&2&&(n(3),u(" ",_(4,2,"ACTION.CANCEL")," "),n(4),u(" ",_(8,4,"ACTION.SAVE")," "))}var Hi=class Hi extends Ze{constructor(e,i,t,a,f,d,c,A,J,se){super(a,new Ut,J,se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleLogShowKeyService=a;this.cmsToastrService=f;this.tokenHelper=d;this.cmsStoreService=c;this.cdr=A;this.publicHelper=J;this.translate=se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new bt;this.dataModel=new Ut;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>N(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogShowKeyService.setAccessLoad(),this.coreModuleLogShowKeyService.setAccessDataType(Me.Editor),this.coreModuleLogShowKeyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogShowKeyService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Hi.\u0275fac=function(i){return new(i||Hi)(p(te),p(ee),p(P),p(Dt),p(q),p(j),p(F),p(G),p(W),p(H))},Hi.\u0275cmp=V({type:Hi,selectors:[["app-coremodule-data-memo-edit"]],viewQuery:function(i,t){if(i&1&&Y(Ks,5),i&2){let a;X(a=Z())&&(t.formGroup=a.first)}},standalone:!1,features:[$],decls:38,vars:13,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],["showKey",""],["SubjectTitle",""],["expireDateTime",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","name","dataModel.moduleName","type","text","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","name","dataModel.moduleEntityName","type","text","placeholder","ModuleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","name","dataModel.moduleEntityId","type","text","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.showKey",1,"color-highlight"],["matInput","","name","dataModel.showKey","type","text","placeholder","showKey","id","dataModel.showKey",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.subjectTitle",1,"color-highlight"],["matInput","","name","dataModel.subjectTitle","type","text","placeholder","SubjectTitle","id","dataModel.subjectTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"form-actions"],["for","dataModel.expireDateTime",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDateTime","minlength","3","maxlength","100","id","dataModel.expireDateTime",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,t){if(i&1){let a=E();s(0,"div",7),g(1,"app-progress-spinner",8),s(2,"div",9)(3,"p",10),m(4),l(),s(5,"p"),m(6),M(7,"translate"),l(),g(8,"app-cms-form-result-message",11),s(9,"form",12,0),v("ngSubmit",function(){return S(a),h(t.onFormSubmit())}),s(11,"div",13)(12,"label",14),m(13,"ModuleName"),l(),s(14,"input",15,1),B("ngModelChange",function(d){return S(a),x(t.dataModel.moduleName,d)||(t.dataModel.moduleName=d),h(d)}),l()(),s(16,"div",13)(17,"label",16),m(18,"ModuleEntityName"),l(),s(19,"input",17,2),B("ngModelChange",function(d){return S(a),x(t.dataModel.moduleEntityName,d)||(t.dataModel.moduleEntityName=d),h(d)}),l()(),s(21,"div",13)(22,"label",18),m(23,"ModuleEntityId"),l(),s(24,"input",19,3),B("ngModelChange",function(d){return S(a),x(t.dataModel.moduleEntityId,d)||(t.dataModel.moduleEntityId=d),h(d)}),l()(),s(26,"div",13)(27,"label",20),m(28,"showKey"),l(),s(29,"textarea",21,4),B("ngModelChange",function(d){return S(a),x(t.dataModel.showKey,d)||(t.dataModel.showKey=d),h(d)}),l()(),s(31,"div",13)(32,"label",22),m(33,"SubjectTitle"),l(),s(34,"textarea",23,5),B("ngModelChange",function(d){return S(a),x(t.dataModel.subjectTitle,d)||(t.dataModel.subjectTitle=d),h(d)}),l()(),y(36,Qs,7,9,"div",24),y(37,zs,9,6,"div",25),l()()()}i&2&&(n(),b("optionsInfoAreaId",t.constructorInfoAreaId),n(3),u(" ",t.formInfo.formTitle," "),n(2),u(" ",_(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),b("formInfo",t.formInfo),n(6),D("ngModel",t.dataModel.moduleName),n(5),D("ngModel",t.dataModel.moduleEntityName),n(5),D("ngModel",t.dataModel.moduleEntityId),n(5),D("ngModel",t.dataModel.showKey),n(5),D("ngModel",t.dataModel.subjectTitle),n(2),R(t.fieldsInfo.expireDateTime!=null&&t.fieldsInfo.expireDateTime.accessWatchField?36:-1),n(),R(t.formInfo.submitButtonEnabled?37:-1))},dependencies:[Ae,ht,Ct,Le,Kt,Qt,gt,ke,zo,Jo,$o,Qo,ne,ie,de,U],encapsulation:2});var Mo=Hi;var Js=["vform"];function $s(o,r){if(o&1){let e=E();s(0,"div",7)(1,"button",8),v("click",function(){S(e);let t=C();return h(t.onFormCancel())}),g(2,"i",9),m(3),M(4,"translate"),l()()}o&2&&(n(3),u(" ",_(4,1,"ACTION.CANCEL")," "))}var Ui=class Ui{constructor(r,e,i,t,a,f,d,c,A,J){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.coreModuleLogShowKeyService=t;this.cmsToastrService=a;this.tokenHelper=f;this.cmsStoreService=d;this.cdr=c;this.publicHelper=A;this.translate=J;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Te;this.dataModelResult=new z;this.dataModel=new Ut;this.formInfo=new Ye;this.dataModelEnumSendSmsStatusTypeResult=new z;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>N(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreModuleLogShowKeyService.setAccessLoad(),this.coreModuleLogShowKeyService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ui.\u0275fac=function(e){return new(e||Ui)(p(te),p(ee),p(P),p(Dt),p(q),p(j),p(F),p(G),p(W),p(H))},Ui.\u0275cmp=V({type:Ui,selectors:[["app-coremodule-data-memo-view"]],viewQuery:function(e,i){if(e&1&&Y(Js,5),e&2){let t;X(t=Z())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(s(0,"div",0),m(1),l(),s(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),l(),s(5,"div",4),g(6,"app-cms-form-result-message",5),l(),s(7,"div",6),y(8,$s,5,3,"div",7),l()),e&2&&(n(),u(" ",i.formInfo.formTitle," "),n(2),b("optionsInfoAreaId",i.constructorInfoAreaId),n(),b("dataModel",i.dataModel)("optionMethod",1),n(2),b("formInfo",i.formInfo),n(2),R(i.formInfo.submitButtonEnabled?8:-1))},dependencies:[ie,tt,de,U],encapsulation:2});var _o=Ui;var Ys=()=>[5,10,20,100],Xs=o=>({display:o});function Zs(o,r){if(o&1){let e=E();s(0,"a",41),v("click",function(){S(e);let t=C();return h(t.onActionBackToParent())}),g(1,"i",42),l()}}function el(o,r){if(o&1){let e=E();s(0,"div",17)(1,"a",43),v("click",function(){S(e);let t=C();return h(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",44)(3,"br"),l(),s(4,"p",45),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.VIEW")," "))}function tl(o,r){if(o&1){let e=E();s(0,"div",17)(1,"a",46),v("click",function(){S(e);let t=C();return h(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",47)(3,"br"),l(),s(4,"p",45),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.EDIT")," "))}function il(o,r){if(o&1){let e=E();s(0,"div",17)(1,"a",48),v("click",function(){S(e);let t=C();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",49)(3,"br"),l(),s(4,"p",45),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.DELETE")," "))}function ol(o,r){if(o&1&&(s(0,"mat-header-cell",50),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function nl(o,r){if(o&1&&(s(0,"mat-cell"),m(1),l()),o&2){let e=r.$implicit;n(),u(" ",e.id," ")}}function rl(o,r){if(o&1&&(s(0,"mat-header-cell",50),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function sl(o,r){if(o&1&&g(0,"select",52),o&2){let e=C().$implicit,i=C();b("contentService",i.contentService)("row",e)("ngStyle",ve(3,Xs,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function ll(o,r){if(o&1&&(s(0,"mat-cell",51),M(1,"statusCellClass"),g(2,"i",51),M(3,"statusIconClass"),y(4,sl,1,5,"select",52),l()),o&2){let e=r.$implicit,i=C();b("ngClass",_(1,3,e.recordStatus)),n(2),b("ngClass",_(3,5,e.recordStatus)),n(2),R(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function al(o,r){if(o&1&&(s(0,"mat-header-cell",50),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.moduleName==null?null:e.fieldsInfo.moduleName.fieldTitle," ")}}function cl(o,r){if(o&1&&(s(0,"mat-cell"),m(1),l()),o&2){let e=r.$implicit;n(),u(" ",e.moduleName," ")}}function dl(o,r){if(o&1&&(s(0,"mat-header-cell",50),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.moduleEntityName==null?null:e.fieldsInfo.moduleEntityName.fieldTitle," ")}}function ml(o,r){if(o&1&&(s(0,"mat-cell"),m(1),l()),o&2){let e=r.$implicit;n(),u(" ",e.moduleEntityName," ")}}function pl(o,r){if(o&1&&(s(0,"mat-header-cell",50),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.moduleEntityId==null?null:e.fieldsInfo.moduleEntityId.fieldTitle," ")}}function ul(o,r){if(o&1&&(s(0,"mat-cell"),m(1),l()),o&2){let e=r.$implicit;n(),u(" ",e.moduleEntityId," ")}}function fl(o,r){if(o&1&&(s(0,"mat-header-cell",50),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.showKey==null?null:e.fieldsInfo.showKey.fieldTitle," ")}}function Sl(o,r){if(o&1&&(s(0,"mat-cell"),m(1),l()),o&2){let e=r.$implicit;n(),u(" ",e.showKey," ")}}function hl(o,r){if(o&1&&(s(0,"mat-header-cell",50),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Cl(o,r){if(o&1&&(s(0,"mat-cell",53),m(1),M(2,"localeDateTime"),l()),o&2){let e=r.$implicit;n(),u(" ",_(2,1,e.createdDate)," ")}}function gl(o,r){o&1&&(s(0,"mat-header-cell"),m(1),M(2,"translate"),l()),o&2&&(n(),u(" ",_(2,1,"TITLE.OPTION")," "))}function Ml(o,r){if(o&1&&(s(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),m(3,"more_vert"),l()(),g(4,"mat-menu",null,2),l()),o&2){let e=oe(5);n(),b("matMenuTriggerFor",e)}}function _l(o,r){if(o&1&&(s(0,"mat-cell")(1,"div")(2,"table")(3,"tr"),g(4,"td"),s(5,"td"),m(6),l()()()()()),o&2){let e=r.$implicit;n(6),wt(e.subjectTitle)}}function bl(o,r){o&1&&g(0,"mat-header-row")}function vl(o,r){if(o&1){let e=E();s(0,"mat-row",56),v("click",function(t){let a=S(e).$implicit,f=C();return h(f.onActionTableRowSelect(a,t))})("rtclick",function(t){let a=S(e).$implicit,f=C();return h(f.onActionTableRowSelect(a,t))}),l()}if(o&2){let e=r.$implicit,i=C();ae("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Fi=class Fi extends et{constructor(e,i,t,a,f,d,c,A,J,se,yt,St,It){super(i,new Ut,St,d,A);this.coreEnumService=e;this.contentService=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=a;this.activatedRoute=f;this.tokenHelper=d;this.cdr=c;this.translate=A;this.cmsStoreService=J;this.router=se;this.pageInfo=yt;this.publicHelper=St;this.dialog=It;this.requestLinkSiteId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ge;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","ModuleName","ModuleEntityName","ModuleEntityId","showKey","createdDate"];this.tabledisplayedColumnsMobileSource=["recordStatus","ModuleName","ModuleEntityName","ModuleEntityId","showKey","createdDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkSiteId>0){let k=new T;k.propertyName="LinkCmsSiteId",k.value=this.requestLinkSiteId,this.filteModelContent.filters.push(k)}this.optionsSearch.parentMethods={onSubmit:k=>this.onSubmitOptionsSearch(k)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=O.Descending}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=O.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>N(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let i=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ut);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=O.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(_o,{height:"90%",panelClass:i,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Mo,{height:"90%",panelClass:i,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],t=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(a=>{if(a){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(f,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)});let a=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let c=new T;c.propertyName="recordStatus",c.value=this.filteModelContent.filterActionSearchRecordStatus,a.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let c=new T;c.propertyName="linkSiteId",c.value=this.filteModelContent.filterActionSearchLinkSiteId,a.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let c=new T;c.propertyName="linkUserId",c.value=this.filteModelContent.filterActionSearchLinkUserId,a.filters.push(c)}this.contentService.ServiceGetCount(a).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(A=>{i.set(A,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let f=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let c=new T;c.propertyName="recordStatus",c.value=this.filteModelContent.filterActionSearchRecordStatus,f.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let c=new T;c.propertyName="linkSiteId",c.value=this.filteModelContent.filterActionSearchLinkSiteId,f.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let c=new T;c.propertyName="linkUserId",c.value=this.filteModelContent.filterActionSearchLinkUserId,f.filters.push(c)}let d=new T;d.propertyName="recordStatus",d.value=Re.Available,f.filters.push(d),this.contentService.ServiceGetCount(f).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(A=>{i.set(A,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Fi.\u0275fac=function(i){return new(i||Fi)(p(P),p(Dt),p(q),p(_e),p(Ee),p(j),p(G),p(H),p(F),p(ye),p($e),p(W),p(xe))},Fi.\u0275cmp=V({type:Fi,selectors:[["app-coremodule-data-memo-list"]],standalone:!1,features:[$],decls:62,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","showKey"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let a=E();s(0,"app-cms-html-list",3),B("optionActionGuideNoticeDisplayChange",function(d){return S(a),x(t.viewGuideNotice,d)||(t.viewGuideNotice=d),h(d)}),v("optionOnActionButtonMemoRow",function(){return S(a),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(a),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(a),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(a),h(t.onActionButtonPrintRow())}),I(1,4),m(2," -------------------------------------- "),w(),le(3,5)(4,6),I(5,7),y(6,Zs,2,0,"a",8),s(7,"a",9),v("click",function(){return S(a),h(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",10),l(),s(9,"a",9),v("click",function(){return S(a),h(t.onActionButtonReload())}),g(10,"i",11),l(),w(),I(11,12),s(12,"a",13),v("click",function(){return S(a),h(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",14),m(14),M(15,"translate"),l(),s(16,"a",13),v("click",function(){return S(a),h(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",14),m(18),M(19,"translate"),l(),w(),le(20,15),I(21,16),y(22,el,7,3,"div",17),y(23,tl,7,3,"div",17),y(24,il,7,3,"div",17),w(),I(25,18),s(26,"app-cms-search-list",19),B("optionsChange",function(d){return S(a),x(t.optionsSearch,d)||(t.optionsSearch=d),h(d)}),l(),s(27,"app-cms-statist-list",19),B("optionsChange",function(d){return S(a),x(t.optionsStatist,d)||(t.optionsStatist=d),h(d)}),l(),w(),I(28,20),s(29,"mat-table",21,0),v("matSortChange",function(){S(a);let d=oe(30);return h(t.onTableSortData(d))}),I(31,22),L(32,ol,2,1,"mat-header-cell",23)(33,nl,2,1,"mat-cell",24),w(),I(34,25),L(35,rl,2,1,"mat-header-cell",23)(36,ll,5,7,"mat-cell",26),w(),I(37,27),L(38,al,2,1,"mat-header-cell",23)(39,cl,2,1,"mat-cell",24),w(),I(40,28),L(41,dl,2,1,"mat-header-cell",23)(42,ml,2,1,"mat-cell",24),w(),I(43,29),L(44,pl,2,1,"mat-header-cell",23)(45,ul,2,1,"mat-cell",24),w(),I(46,30),L(47,fl,2,1,"mat-header-cell",23)(48,Sl,2,1,"mat-cell",24),w(),I(49,31),L(50,hl,2,1,"mat-header-cell",23)(51,Cl,3,3,"mat-cell",32),w(),I(52,33),L(53,gl,3,3,"mat-header-cell",34)(54,Ml,6,1,"mat-cell",35),w(),I(55,36),L(56,_l,7,1,"mat-cell",24),w(),L(57,bl,1,0,"mat-header-row",37)(58,vl,1,2,"mat-row",38),l(),w(),I(59,39),s(60,"mat-paginator",40,1),v("page",function(d){return S(a),h(t.onTablePageingData(d))}),l(),w(),l()}i&2&&(b("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),b("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),R(t.requestLinkSiteId>0?6:-1),n(4),ae("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),b("checked",t.optionsSearch.data.show),n(),u("",_(15,26,"ACTION.SEARCH")," "),n(3),b("checked",t.optionsStatist.data.show),n(),u("",_(19,28,"ACTION.STATIST")," "),n(4),R(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?22:-1),n(),R(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),n(),R(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),n(2),D("options",t.optionsSearch),n(),D("options",t.optionsStatist),n(2),b("dataSource",t.tableSource),n(28),b("matHeaderRowDef",t.tabledisplayedColumns),n(),b("matRowDefColumns",t.tabledisplayedColumns),n(2),b("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",be(30,Ys)))},dependencies:[Ie,we,De,Be,ne,Ve,Ne,Ge,mt,Oe,Pe,He,Fe,Ke,je,Ue,Qe,qe,We,ze,Je,it,ot,nt,rt,st,U,Xe,lt,at],encapsulation:2});var bo=Fi;var Il=["vform"];function wl(o,r){if(o&1){let e=E();s(0,"div",6)(1,"button",7),v("click",function(){S(e);let t=C();return h(t.onFormCancel())}),g(2,"i",8),m(3),M(4,"translate"),l()()}o&2&&(n(3),u(" ",_(4,1,"ACTION.CANCEL")," "))}var ji=class ji extends Ze{constructor(e,i,t,a,f,d,c,A,J,se){super(a,new Ft,J,se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleLogSiteCreditBlockedService=a;this.cmsToastrService=f;this.tokenHelper=d;this.cmsStoreService=c;this.cdr=A;this.publicHelper=J;this.translate=se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new bt;this.dataModel=new Ft;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>N(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteCreditBlockedService.setAccessDataType(Me.Editor),this.coreModuleLogSiteCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ji.\u0275fac=function(i){return new(i||ji)(p(te),p(ee),p(P),p(xt),p(q),p(j),p(F),p(G),p(W),p(H))},ji.\u0275cmp=V({type:ji,selectors:[["app-coremodulelog-site-credit-blocked-edit"]],viewQuery:function(i,t){if(i&1&&Y(Il,5),i&2){let a;X(a=Z())&&(t.formGroup=a.first)}},standalone:!1,features:[$],decls:13,vars:11,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(s(0,"div",1),g(1,"app-progress-spinner",2),s(2,"div",3)(3,"p",4),m(4),l(),s(5,"p"),m(6),M(7,"translate"),l(),s(8,"form",null,0),g(10,"app-cms-site-selector",5),M(11,"translate"),y(12,wl,5,3,"div",6),l()()()),i&2&&(n(),b("optionsInfoAreaId",t.constructorInfoAreaId),n(3),u(" ",t.formInfo.formTitle," "),n(2),u(" ",_(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),n(4),b("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",_(11,9,"TITLE.SITE")),n(2),R(t.formInfo.submitButtonEnabled?12:-1))},dependencies:[Ae,Le,ke,pt,ie,U],encapsulation:2});var vo=ji;var El=["vform"];function yl(o,r){if(o&1){let e=E();s(0,"div",7)(1,"button",8),v("click",function(){S(e);let t=C();return h(t.onFormCancel())}),g(2,"i",9),m(3),M(4,"translate"),l()()}o&2&&(n(3),u(" ",_(4,1,"ACTION.CANCEL")," "))}var qi=class qi{constructor(r,e,i,t,a,f,d,c,A,J){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.coreModuleLogSiteCreditBlockedService=t;this.cmsToastrService=a;this.tokenHelper=f;this.cmsStoreService=d;this.cdr=c;this.publicHelper=A;this.translate=J;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Te;this.dataModelResult=new z;this.dataModel=new Ft;this.formInfo=new Ye;this.dataModelEnumSendSmsStatusTypeResult=new z;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>N(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreModuleLogSiteCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};qi.\u0275fac=function(e){return new(e||qi)(p(te),p(ee),p(P),p(xt),p(q),p(j),p(F),p(G),p(W),p(H))},qi.\u0275cmp=V({type:qi,selectors:[["app-coremodulelog-site-credit-blocked-view"]],viewQuery:function(e,i){if(e&1&&Y(El,5),e&2){let t;X(t=Z())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(s(0,"div",0),m(1),l(),s(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),l(),s(5,"div",4),g(6,"app-cms-form-result-message",5),l(),s(7,"div",6),y(8,yl,5,3,"div",7),l()),e&2&&(n(),u(" ",i.formInfo.formTitle," "),n(2),b("optionsInfoAreaId",i.constructorInfoAreaId),n(),b("dataModel",i.dataModel)("optionMethod",1),n(2),b("formInfo",i.formInfo),n(2),R(i.formInfo.submitButtonEnabled?8:-1))},dependencies:[ie,tt,de,U],encapsulation:2});var Io=qi;var Rl=()=>[5,10,20,100],Tl=o=>({display:o});function Ll(o,r){if(o&1&&g(0,"app-core-user-header",3),o&2){let e=C();b("optionId",e.requestLinkUserId)}}function kl(o,r){if(o&1){let e=E();s(0,"a",41),v("click",function(){S(e);let t=C();return h(t.onActionBackToParent())}),g(1,"i",42),l()}}function Al(o,r){if(o&1){let e=E();s(0,"div",18)(1,"a",43),v("click",function(){S(e);let t=C();return h(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",44)(3,"br"),l(),s(4,"p",45),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.VIEW")," "))}function Dl(o,r){if(o&1){let e=E();s(0,"div",18)(1,"a",46),v("click",function(){S(e);let t=C();return h(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",47)(3,"br"),l(),s(4,"p",45),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.EDIT")," "))}function xl(o,r){if(o&1){let e=E();s(0,"div",18)(1,"a",48),v("click",function(){S(e);let t=C();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",49)(3,"br"),l(),s(4,"p",45),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.DELETE")," "))}function Bl(o,r){if(o&1){let e=E();s(0,"div",18)(1,"a",43),v("click",function(){S(e);let t=C();return h(t.onActionButtonViewSiteRow(t.tableRowSelected))}),g(2,"i",50)(3,"br"),l(),s(4,"p",45),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.SITE")," "))}function Vl(o,r){if(o&1){let e=E();s(0,"div",18)(1,"a",43),v("click",function(t){S(e);let a=C();return h(a.onActionButtonBankPaymentTransactionRow(a.tableRowSelected,t))}),g(2,"i",51)(3,"br"),l(),s(4,"p",45),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.BANK_PAYMENT_TRANSACTION")," "))}function Nl(o,r){if(o&1&&(s(0,"mat-header-cell",52),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Gl(o,r){if(o&1&&(s(0,"mat-cell"),m(1),l()),o&2){let e=r.$implicit;n(),u(" ",e.id," ")}}function Ol(o,r){if(o&1&&(s(0,"mat-header-cell",52),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Pl(o,r){if(o&1&&g(0,"select",54),o&2){let e=C().$implicit,i=C();b("contentService",i.contentService)("row",e)("ngStyle",ve(3,Tl,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Hl(o,r){if(o&1&&(s(0,"mat-cell",53),M(1,"statusCellClass"),g(2,"i",53),M(3,"statusIconClass"),y(4,Pl,1,5,"select",54),l()),o&2){let e=r.$implicit,i=C();b("ngClass",_(1,3,e.recordStatus)),n(2),b("ngClass",_(3,5,e.recordStatus)),n(2),R(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function Ul(o,r){if(o&1&&(s(0,"mat-header-cell",52),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Fl(o,r){if(o&1&&(s(0,"mat-cell"),m(1),M(2,"cmssiteinfo"),M(3,"async"),l()),o&2){let e=r.$implicit;n(),u(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function jl(o,r){if(o&1&&(s(0,"mat-header-cell",52),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.linkModuleId==null?null:e.fieldsInfo.linkModuleId.fieldTitle," ")}}function ql(o,r){if(o&1&&(s(0,"mat-cell"),m(1),M(2,"cmstitle"),l()),o&2){let e=r.$implicit,i=C();n(),u(" ",vi(2,1,e.linkModuleId,i.dataModelCoreModuleResult.listItems)," ")}}function Wl(o,r){if(o&1&&(s(0,"mat-header-cell",52),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.transactionCredit==null?null:e.fieldsInfo.transactionCredit.fieldTitle," ")}}function Kl(o,r){if(o&1&&(s(0,"mat-cell"),m(1),M(2,"number"),l()),o&2){let e=r.$implicit;n(),u(" ",_(2,1,e.transactionCredit)," ")}}function Ql(o,r){if(o&1&&(s(0,"mat-header-cell",52),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.linkModuleBankPaymentTransactionId==null?null:e.fieldsInfo.linkModuleBankPaymentTransactionId.fieldTitle," ")}}function zl(o,r){if(o&1&&(s(0,"mat-cell"),m(1),l()),o&2){let e=r.$implicit;n(),u(" ",e.linkModuleBankPaymentTransactionId," ")}}function Jl(o,r){if(o&1&&(s(0,"mat-header-cell",52),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function $l(o,r){if(o&1&&(s(0,"mat-cell",55),m(1),M(2,"localeDateTime"),l()),o&2){let e=r.$implicit;n(),u(" ",_(2,1,e.createdDate)," ")}}function Yl(o,r){o&1&&(s(0,"mat-header-cell"),m(1),M(2,"translate"),l()),o&2&&(n(),u(" ",_(2,1,"TITLE.OPTION")," "))}function Xl(o,r){if(o&1&&(s(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),m(3,"more_vert"),l()(),g(4,"mat-menu",null,2),l()),o&2){let e=oe(5);n(),b("matMenuTriggerFor",e)}}function Zl(o,r){o&1&&g(0,"mat-header-row")}function ea(o,r){if(o&1){let e=E();s(0,"mat-row",58),v("click",function(t){let a=S(e).$implicit,f=C();return h(f.onActionTableRowSelect(a,t))})("rtclick",function(t){let a=S(e).$implicit,f=C();return h(f.onActionTableRowSelect(a,t))}),l()}if(o&2){let e=r.$implicit,i=C();ae("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Wi=class Wi extends et{constructor(e,i,t,a,f,d,c,A,J,se,yt,St,It,k){super(t,new Ft,It,c,se);this.coreEnumService=e;this.coreModuleService=i;this.contentService=t;this.cmsToastrService=a;this.cmsConfirmationDialogService=f;this.activatedRoute=d;this.tokenHelper=c;this.cdr=A;this.cmsStoreService=J;this.translate=se;this.router=yt;this.pageInfo=St;this.publicHelper=It;this.dialog=k;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestlinkMemberUserId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ge;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","linkModuleId","transactionCredit","linkModuleBankPaymentTransactionId","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkModuleId","transactionCredit","createdDate"];this.dataModelCoreModuleResult=new z;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberUserId")),this.requestLinkSiteId>0){let K=new T;K.propertyName="LinkCmsSiteId",K.value=this.requestLinkSiteId,this.filteModelContent.filters.push(K)}if(this.requestLinkUserId>0){let K=new T;K.propertyName="linkUserId",K.value=this.requestLinkUserId,this.filteModelContent.filters.push(K)}if(this.requestlinkMemberUserId>0){let K=new T;K.propertyName="linkMemberUserId",K.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(K)}this.optionsSearch.parentMethods={onSubmit:K=>this.onSubmitOptionsSearch(K)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=O.Descending}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=O.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>N(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getModuleList()}getModuleList(){let e=new ge;e.rowPerPage=100,this.coreModuleService.ServiceGetAllModuleName(e).subscribe({next:i=>{this.dataModelCoreModuleResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let i=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ft);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=O.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Io,{height:"90%",panelClass:i,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(vo,{height:"90%",panelClass:i,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],t=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(a=>{if(a){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(f,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)});let a=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let c=new T;c.propertyName="recordStatus",c.value=this.filteModelContent.filterActionSearchRecordStatus,a.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let c=new T;c.propertyName="linkSiteId",c.value=this.filteModelContent.filterActionSearchLinkSiteId,a.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let c=new T;c.propertyName="linkUserId",c.value=this.filteModelContent.filterActionSearchLinkUserId,a.filters.push(c)}this.contentService.ServiceGetCount(a).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(A=>{i.set(A,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let f=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let c=new T;c.propertyName="recordStatus",c.value=this.filteModelContent.filterActionSearchRecordStatus,f.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let c=new T;c.propertyName="linkSiteId",c.value=this.filteModelContent.filterActionSearchLinkSiteId,f.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let c=new T;c.propertyName="linkUserId",c.value=this.filteModelContent.filterActionSearchLinkUserId,f.filters.push(c)}let d=new T;d.propertyName="recordStatus",d.value=Re.Available,f.filters.push(d),this.contentService.ServiceGetCount(f).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(A=>{i.set(A,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonBankPaymentTransactionRow(e=this.tableRowSelected,i){if(!e||!e.linkModuleBankPaymentTransactionId||e.linkModuleBankPaymentTransactionId===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),i?.ctrlKey){let t="/#/bankpayment/transaction/"+this.tableRowSelected.linkModuleBankPaymentTransactionId;window.open(t,"_blank")}else this.router.navigate(["/bankpayment/transaction/",this.tableRowSelected.linkModuleBankPaymentTransactionId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Wi.\u0275fac=function(i){return new(i||Wi)(p(P),p(Rt),p(xt),p(q),p(_e),p(Ee),p(j),p(G),p(F),p(H),p(ye),p($e),p(W),p(xe))},Wi.\u0275cmp=V({type:Wi,selectors:[["app-coremodulelog-site-credit-blocked-list"]],standalone:!1,features:[$],decls:63,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkModuleId"],["matColumnDef","transactionCredit"],["matColumnDef","linkModuleBankPaymentTransactionId"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-money-bill","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let a=E();y(0,Ll,1,1,"app-core-user-header",3),s(1,"app-cms-html-list",4),B("optionActionGuideNoticeDisplayChange",function(d){return S(a),x(t.viewGuideNotice,d)||(t.viewGuideNotice=d),h(d)}),v("optionOnActionButtonMemoRow",function(){return S(a),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(a),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(a),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(a),h(t.onActionButtonPrintRow())}),I(2,5),m(3," -------------------------------------- "),w(),le(4,6)(5,7),I(6,8),y(7,kl,2,0,"a",9),s(8,"a",10),v("click",function(){return S(a),h(t.viewGuideNotice=!t.viewGuideNotice)}),g(9,"i",11),l(),s(10,"a",10),v("click",function(){return S(a),h(t.onActionButtonReload())}),g(11,"i",12),l(),w(),I(12,13),s(13,"a",14),v("click",function(){return S(a),h(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(14,"mat-slide-toggle",15),m(15),M(16,"translate"),l(),s(17,"a",14),v("click",function(){return S(a),h(t.onActionButtonStatist())}),g(18,"mat-slide-toggle",15),m(19),M(20,"translate"),l(),w(),le(21,16),I(22,17),y(23,Al,7,3,"div",18),y(24,Dl,7,3,"div",18),y(25,xl,7,3,"div",18),y(26,Bl,7,3,"div",18),y(27,Vl,7,3,"div",18),w(),I(28,19),s(29,"app-cms-search-list",20),B("optionsChange",function(d){return S(a),x(t.optionsSearch,d)||(t.optionsSearch=d),h(d)}),l(),s(30,"app-cms-statist-list",20),B("optionsChange",function(d){return S(a),x(t.optionsStatist,d)||(t.optionsStatist=d),h(d)}),l(),w(),I(31,21),s(32,"mat-table",22,0),v("matSortChange",function(){S(a);let d=oe(33);return h(t.onTableSortData(d))}),I(34,23),L(35,Nl,2,1,"mat-header-cell",24)(36,Gl,2,1,"mat-cell",25),w(),I(37,26),L(38,Ol,2,1,"mat-header-cell",24)(39,Hl,5,7,"mat-cell",27),w(),I(40,28),L(41,Ul,2,1,"mat-header-cell",24)(42,Fl,4,5,"mat-cell",25),w(),I(43,29),L(44,jl,2,1,"mat-header-cell",24)(45,ql,3,4,"mat-cell",25),w(),I(46,30),L(47,Wl,2,1,"mat-header-cell",24)(48,Kl,3,3,"mat-cell",25),w(),I(49,31),L(50,Ql,2,1,"mat-header-cell",24)(51,zl,2,1,"mat-cell",25),w(),I(52,32),L(53,Jl,2,1,"mat-header-cell",24)(54,$l,3,3,"mat-cell",33),w(),I(55,34),L(56,Yl,3,3,"mat-header-cell",35)(57,Xl,6,1,"mat-cell",36),w(),L(58,Zl,1,0,"mat-header-row",37)(59,ea,1,2,"mat-row",38),l(),w(),I(60,39),s(61,"mat-paginator",40,1),v("page",function(d){return S(a),h(t.onTablePageingData(d))}),l(),w(),l()}i&2&&(R(t.requestLinkUserId>0?0:-1),n(),b("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),b("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),R(t.requestLinkSiteId>0?7:-1),n(4),ae("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),b("checked",t.optionsSearch.data.show),n(),u("",_(16,29,"ACTION.SEARCH")," "),n(3),b("checked",t.optionsStatist.data.show),n(),u("",_(20,31,"ACTION.STATIST")," "),n(4),R(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?23:-1),n(),R(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?24:-1),n(),R(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?25:-1),n(),R((t.tableRowSelected==null?null:t.tableRowSelected.linkSiteId)>0?26:-1),n(),R((t.tableRowSelected==null?null:t.tableRowSelected.linkModuleBankPaymentTransactionId)>0?27:-1),n(2),D("options",t.optionsSearch),n(),D("options",t.optionsStatist),n(2),b("dataSource",t.tableSource),n(26),b("matHeaderRowDef",t.tabledisplayedColumns),n(),b("matRowDefColumns",t.tabledisplayedColumns),n(2),b("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",be(33,Rl)))},dependencies:[Ie,we,De,Be,ne,Ve,Ne,Ge,mt,Oe,Pe,He,Fe,Ke,je,Ue,Qe,qe,We,ze,Je,it,ot,nt,rt,st,_t,dt,Ii,U,wi,ut,Xe,lt,at],encapsulation:2});var wo=Wi;var ta=["vform"];function ia(o,r){if(o&1&&(s(0,"mat-error"),m(1),s(2,"strong"),m(3),M(4,"translate"),l()()),o&2){let e=C(2);n(),u(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldDescription," is "),n(2),wt(_(4,2,"MESSAGE.required"))}}function oa(o,r){if(o&1){let e=E();s(0,"div",7)(1,"label",9),m(2),l(),s(3,"textarea",10,1),B("ngModelChange",function(t){S(e);let a=C();return x(a.dataModel.description,t)||(a.dataModel.description=t),h(t)}),m(5,"          "),l(),s(6,"em"),m(7),l(),y(8,ia,5,4,"mat-error"),l()}if(o&2){let e=oe(4),i=C();n(2),wt(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldDescription),n(),b("placeholder",hi(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),D("ngModel",i.dataModel.description),b("disabled",!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessEditField)),n(4),u("",e.value.length," / 500"),n(),R(e.errors!=null&&e.errors.required?8:-1)}}function na(o,r){if(o&1){let e=E();s(0,"div",8)(1,"button",11),v("click",function(){S(e);let t=C();return h(t.onFormCancel())}),g(2,"i",12),m(3),M(4,"translate"),l()()}o&2&&(n(3),u(" ",_(4,1,"ACTION.CANCEL")," "))}var Ki=class Ki extends Ze{constructor(e,i,t,a,f,d,c,A,J,se){super(a,new qt,J,se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleLogSiteCreditService=a;this.cmsToastrService=f;this.tokenHelper=d;this.cmsStoreService=c;this.cdr=A;this.publicHelper=J;this.translate=se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new z;this.dataModel=new qt;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>N(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteCreditService.setAccessLoad(),this.coreModuleLogSiteCreditService.setAccessDataType(Me.Editor),this.coreModuleLogSiteCreditService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ki.\u0275fac=function(i){return new(i||Ki)(p(te),p(ee),p(P),p(Vt),p(q),p(j),p(F),p(G),p(W),p(H))},Ki.\u0275cmp=V({type:Ki,selectors:[["app-coremodulelog-site-credit--edit"]],viewQuery:function(i,t){if(i&1&&Y(ta,5),i&2){let a;X(a=Z())&&(t.formGroup=a.first)}},standalone:!1,features:[$],decls:14,vars:12,consts:[["vform","ngForm"],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"form-actions"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","10","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(s(0,"div",2),g(1,"app-progress-spinner",3),s(2,"div",4)(3,"p",5),m(4),l(),s(5,"p"),m(6),M(7,"translate"),l(),s(8,"form",null,0),g(10,"app-cms-site-selector",6),M(11,"translate"),y(12,oa,9,7,"div",7),y(13,na,5,3,"div",8),l()()()),i&2&&(n(),b("optionsInfoAreaId",t.constructorInfoAreaId),n(3),u(" ",t.formInfo.formTitle," "),n(2),u(" ",_(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),n(4),b("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",_(11,10,"TITLE.SITE")),n(2),R(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?12:-1),n(),R(t.formInfo.submitButtonEnabled?13:-1))},dependencies:[Ae,ht,Ct,Le,Kt,Qt,gt,ke,no,ne,pt,ie,U],encapsulation:2});var Eo=Ki;var ra=["vform"];function sa(o,r){if(o&1){let e=E();s(0,"div",7)(1,"button",8),v("click",function(){S(e);let t=C();return h(t.onFormCancel())}),g(2,"i",9),m(3),M(4,"translate"),l()()}o&2&&(n(3),u(" ",_(4,1,"ACTION.CANCEL")," "))}var Qi=class Qi{constructor(r,e,i,t,a,f,d,c,A,J){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.coreModuleLogSiteCreditService=t;this.cmsToastrService=a;this.tokenHelper=f;this.cmsStoreService=d;this.cdr=c;this.publicHelper=A;this.translate=J;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Te;this.dataModelResult=new z;this.dataModel=new qt;this.formInfo=new Ye;this.dataModelEnumSendSmsStatusTypeResult=new z;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>N(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreModuleLogSiteCreditService.setAccessLoad(),this.coreModuleLogSiteCreditService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Qi.\u0275fac=function(e){return new(e||Qi)(p(te),p(ee),p(P),p(Vt),p(q),p(j),p(F),p(G),p(W),p(H))},Qi.\u0275cmp=V({type:Qi,selectors:[["app-coremodulelog-site-credit--view"]],viewQuery:function(e,i){if(e&1&&Y(ra,5),e&2){let t;X(t=Z())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(s(0,"div",0),m(1),l(),s(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),l(),s(5,"div",4),g(6,"app-cms-form-result-message",5),l(),s(7,"div",6),y(8,sa,5,3,"div",7),l()),e&2&&(n(),u(" ",i.formInfo.formTitle," "),n(2),b("optionsInfoAreaId",i.constructorInfoAreaId),n(),b("dataModel",i.dataModel)("optionMethod",1),n(2),b("formInfo",i.formInfo),n(2),R(i.formInfo.submitButtonEnabled?8:-1))},dependencies:[ie,tt,de,U],encapsulation:2});var yo=Qi;var la=()=>[5,10,20,100],aa=o=>({display:o});function ca(o,r){if(o&1){let e=E();s(0,"a",41),v("click",function(){S(e);let t=C();return h(t.onActionBackToParent())}),g(1,"i",42),l()}}function da(o,r){if(o&1){let e=E();s(0,"div",17)(1,"a",43),v("click",function(){S(e);let t=C();return h(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",44)(3,"br"),l(),s(4,"p",45),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.VIEW")," "))}function ma(o,r){if(o&1){let e=E();s(0,"div",17)(1,"a",46),v("click",function(){S(e);let t=C();return h(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",47)(3,"br"),l(),s(4,"p",45),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.EDIT")," "))}function pa(o,r){if(o&1){let e=E();s(0,"div",17)(1,"a",48),v("click",function(){S(e);let t=C();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",49)(3,"br"),l(),s(4,"p",45),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.DELETE")," "))}function ua(o,r){if(o&1){let e=E();s(0,"div",17)(1,"a",43),v("click",function(){S(e);let t=C();return h(t.onActionButtonViewSiteRow(t.tableRowSelected))}),g(2,"i",50)(3,"br"),l(),s(4,"p",45),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.SITE")," "))}function fa(o,r){if(o&1){let e=E();s(0,"div",17)(1,"a",43),v("click",function(t){S(e);let a=C();return h(a.onActionButtonBankPaymentTransactionRow(a.tableRowSelected,t))}),g(2,"i",51)(3,"br"),l(),s(4,"p",45),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.BANK_PAYMENT_TRANSACTION")," "))}function Sa(o,r){if(o&1&&(s(0,"mat-header-cell",52),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function ha(o,r){if(o&1&&(s(0,"mat-cell"),m(1),l()),o&2){let e=r.$implicit;n(),u(" ",e.id," ")}}function Ca(o,r){if(o&1&&(s(0,"mat-header-cell",52),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function ga(o,r){if(o&1&&g(0,"select",54),o&2){let e=C().$implicit,i=C();b("contentService",i.contentService)("row",e)("ngStyle",ve(3,aa,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Ma(o,r){if(o&1&&(s(0,"mat-cell",53),M(1,"statusCellClass"),g(2,"i",53),M(3,"statusIconClass"),y(4,ga,1,5,"select",54),l()),o&2){let e=r.$implicit,i=C();b("ngClass",_(1,3,e.recordStatus)),n(2),b("ngClass",_(3,5,e.recordStatus)),n(2),R(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function _a(o,r){if(o&1&&(s(0,"mat-header-cell",52),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function ba(o,r){if(o&1&&(s(0,"mat-cell"),m(1),M(2,"cmssiteinfo"),M(3,"async"),l()),o&2){let e=r.$implicit;n(),u(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function va(o,r){if(o&1&&(s(0,"mat-header-cell",52),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.createdBy==null?null:e.fieldsInfo.createdBy.fieldTitle," ")}}function Ia(o,r){if(o&1&&(s(0,"mat-cell"),m(1),M(2,"cmsuserinfo"),M(3,"async"),l()),o&2){let e=r.$implicit;n(),u(" ",_(3,3,_(2,1,e.createdBy))," ")}}function wa(o,r){if(o&1&&(s(0,"mat-header-cell",52),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.linkModuleId==null?null:e.fieldsInfo.linkModuleId.fieldTitle," ")}}function Ea(o,r){if(o&1&&(s(0,"mat-cell"),m(1),M(2,"cmstitle"),l()),o&2){let e=r.$implicit,i=C();n(),u(" ",vi(2,1,e.linkModuleId,i.dataModelCoreModuleResult.listItems)," ")}}function ya(o,r){if(o&1&&(s(0,"mat-header-cell",52),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.transactionCredit==null?null:e.fieldsInfo.transactionCredit.fieldTitle," ")}}function Ra(o,r){if(o&1&&(s(0,"mat-cell"),m(1),M(2,"number"),l()),o&2){let e=r.$implicit;n(),u(" ",_(2,1,e.transactionCredit)," ")}}function Ta(o,r){if(o&1&&(s(0,"mat-header-cell",52),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.linkModuleBankPaymentTransactionId==null?null:e.fieldsInfo.linkModuleBankPaymentTransactionId.fieldTitle," ")}}function La(o,r){if(o&1&&(s(0,"mat-cell"),m(1),l()),o&2){let e=r.$implicit;n(),u(" ",e.linkModuleBankPaymentTransactionId," ")}}function ka(o,r){if(o&1&&(s(0,"mat-header-cell",52),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Aa(o,r){if(o&1&&(s(0,"mat-cell",55),m(1),M(2,"localeDateTime"),l()),o&2){let e=r.$implicit;n(),u(" ",_(2,1,e.createdDate)," ")}}function Da(o,r){o&1&&(s(0,"mat-header-cell"),m(1),M(2,"translate"),l()),o&2&&(n(),u(" ",_(2,1,"TITLE.OPTION")," "))}function xa(o,r){if(o&1&&(s(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),m(3,"more_vert"),l()(),g(4,"mat-menu",null,2),l()),o&2){let e=oe(5);n(),b("matMenuTriggerFor",e)}}function Ba(o,r){o&1&&g(0,"mat-header-row")}function Va(o,r){if(o&1){let e=E();s(0,"mat-row",58),v("click",function(t){let a=S(e).$implicit,f=C();return h(f.onActionTableRowSelect(a,t))})("rtclick",function(t){let a=S(e).$implicit,f=C();return h(f.onActionTableRowSelect(a,t))}),l()}if(o&2){let e=r.$implicit,i=C();ae("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var zi=class zi extends et{constructor(e,i,t,a,f,d,c,A,J,se,yt,St,It,k){super(t,new qt,It,c,J);this.coreEnumService=e;this.coreModuleService=i;this.contentService=t;this.cmsToastrService=a;this.cmsConfirmationDialogService=f;this.activatedRoute=d;this.tokenHelper=c;this.cdr=A;this.translate=J;this.router=se;this.cmsStoreService=yt;this.pageInfo=St;this.publicHelper=It;this.dialog=k;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestlinkMemberUserId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ge;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","createdBy","linkSiteId","linkModuleId","transactionCredit","linkModuleBankPaymentTransactionId","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkModuleId","transactionCredit","createdDate"];this.dataModelCoreModuleResult=new z;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberUserId")),this.requestLinkSiteId>0){let K=new T;K.propertyName="LinkCmsSiteId",K.value=this.requestLinkSiteId,this.filteModelContent.filters.push(K)}if(this.requestLinkUserId>0){let K=new T;K.propertyName="linkUserId",K.value=this.requestLinkUserId,this.filteModelContent.filters.push(K)}if(this.requestlinkMemberUserId>0){let K=new T;K.propertyName="linkMemberUserId",K.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(K)}this.optionsSearch.parentMethods={onSubmit:K=>this.onSubmitOptionsSearch(K)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=O.Descending}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=O.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>N(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getModuleList()}getModuleList(){let e=new ge;e.rowPerPage=100,this.coreModuleService.ServiceGetAllModuleName(e).subscribe({next:i=>{this.dataModelCoreModuleResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let i=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new qt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=O.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(yo,{height:"90%",panelClass:i,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Eo,{height:"90%",panelClass:i,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],t=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(a=>{if(a){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(f,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)});let a=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let c=new T;c.propertyName="recordStatus",c.value=this.filteModelContent.filterActionSearchRecordStatus,a.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let c=new T;c.propertyName="linkSiteId",c.value=this.filteModelContent.filterActionSearchLinkSiteId,a.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let c=new T;c.propertyName="linkUserId",c.value=this.filteModelContent.filterActionSearchLinkUserId,a.filters.push(c)}this.contentService.ServiceGetCount(a).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(A=>{i.set(A,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let f=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let c=new T;c.propertyName="recordStatus",c.value=this.filteModelContent.filterActionSearchRecordStatus,f.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let c=new T;c.propertyName="linkSiteId",c.value=this.filteModelContent.filterActionSearchLinkSiteId,f.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let c=new T;c.propertyName="linkUserId",c.value=this.filteModelContent.filterActionSearchLinkUserId,f.filters.push(c)}let d=new T;d.propertyName="recordStatus",d.value=Re.Available,f.filters.push(d),this.contentService.ServiceGetCount(f).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(A=>{i.set(A,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonBankPaymentTransactionRow(e=this.tableRowSelected,i){if(!e||!e.linkModuleBankPaymentTransactionId||e.linkModuleBankPaymentTransactionId===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),i?.ctrlKey){let t="/#/bankpayment/transactionlog/LinkTransactionId/"+this.tableRowSelected.linkModuleBankPaymentTransactionId;window.open(t,"_blank")}else this.router.navigate(["/bankpayment/transactionlog/LinkTransactionId/",this.tableRowSelected.linkModuleBankPaymentTransactionId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};zi.\u0275fac=function(i){return new(i||zi)(p(P),p(Rt),p(Vt),p(q),p(_e),p(Ee),p(j),p(G),p(H),p(ye),p(F),p($e),p(W),p(xe))},zi.\u0275cmp=V({type:zi,selectors:[["app-coremodulelog-site-credit--list"]],standalone:!1,features:[$],decls:65,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","createdBy"],["matColumnDef","linkModuleId"],["matColumnDef","transactionCredit"],["matColumnDef","linkModuleBankPaymentTransactionId"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-money-bill","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let a=E();s(0,"app-cms-html-list",3),B("optionActionGuideNoticeDisplayChange",function(d){return S(a),x(t.viewGuideNotice,d)||(t.viewGuideNotice=d),h(d)}),v("optionOnActionButtonMemoRow",function(){return S(a),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(a),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(a),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(a),h(t.onActionButtonPrintRow())}),I(1,4),m(2," -------------------------------------- "),w(),le(3,5)(4,6),I(5,7),y(6,ca,2,0,"a",8),s(7,"a",9),v("click",function(){return S(a),h(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",10),l(),s(9,"a",9),v("click",function(){return S(a),h(t.onActionButtonReload())}),g(10,"i",11),l(),w(),I(11,12),s(12,"a",13),v("click",function(){return S(a),h(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",14),m(14),M(15,"translate"),l(),s(16,"a",13),v("click",function(){return S(a),h(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",14),m(18),M(19,"translate"),l(),w(),le(20,15),I(21,16),y(22,da,7,3,"div",17),y(23,ma,7,3,"div",17),y(24,pa,7,3,"div",17),y(25,ua,7,3,"div",17),y(26,fa,7,3,"div",17),w(),I(27,18),s(28,"app-cms-search-list",19),B("optionsChange",function(d){return S(a),x(t.optionsSearch,d)||(t.optionsSearch=d),h(d)}),l(),s(29,"app-cms-statist-list",19),B("optionsChange",function(d){return S(a),x(t.optionsStatist,d)||(t.optionsStatist=d),h(d)}),l(),w(),I(30,20),s(31,"mat-table",21,0),v("matSortChange",function(){S(a);let d=oe(32);return h(t.onTableSortData(d))}),I(33,22),L(34,Sa,2,1,"mat-header-cell",23)(35,ha,2,1,"mat-cell",24),w(),I(36,25),L(37,Ca,2,1,"mat-header-cell",23)(38,Ma,5,7,"mat-cell",26),w(),I(39,27),L(40,_a,2,1,"mat-header-cell",23)(41,ba,4,5,"mat-cell",24),w(),I(42,28),L(43,va,2,1,"mat-header-cell",23)(44,Ia,4,5,"mat-cell",24),w(),I(45,29),L(46,wa,2,1,"mat-header-cell",23)(47,Ea,3,4,"mat-cell",24),w(),I(48,30),L(49,ya,2,1,"mat-header-cell",23)(50,Ra,3,3,"mat-cell",24),w(),I(51,31),L(52,Ta,2,1,"mat-header-cell",23)(53,La,2,1,"mat-cell",24),w(),I(54,32),L(55,ka,2,1,"mat-header-cell",23)(56,Aa,3,3,"mat-cell",33),w(),I(57,34),L(58,Da,3,3,"mat-header-cell",35)(59,xa,6,1,"mat-cell",36),w(),L(60,Ba,1,0,"mat-header-row",37)(61,Va,1,2,"mat-row",38),l(),w(),I(62,39),s(63,"mat-paginator",40,1),v("page",function(d){return S(a),h(t.onTablePageingData(d))}),l(),w(),l()}i&2&&(b("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),b("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),R(t.requestLinkSiteId>0?6:-1),n(4),ae("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),b("checked",t.optionsSearch.data.show),n(),u("",_(15,28,"ACTION.SEARCH")," "),n(3),b("checked",t.optionsStatist.data.show),n(),u("",_(19,30,"ACTION.STATIST")," "),n(4),R(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?22:-1),n(),R(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),n(),R(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),n(),R((t.tableRowSelected==null?null:t.tableRowSelected.linkSiteId)>0?25:-1),n(),R((t.tableRowSelected==null?null:t.tableRowSelected.linkModuleBankPaymentTransactionId)>0?26:-1),n(2),D("options",t.optionsSearch),n(),D("options",t.optionsStatist),n(2),b("dataSource",t.tableSource),n(29),b("matHeaderRowDef",t.tabledisplayedColumns),n(),b("matRowDefColumns",t.tabledisplayedColumns),n(2),b("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",be(32,la)))},dependencies:[Ie,we,De,Be,ne,Ve,Ne,Ge,mt,Oe,Pe,He,Fe,Ke,je,Ue,Qe,qe,We,ze,Je,it,ot,nt,rt,st,dt,Ii,U,wi,Mt,ut,Xe,lt,at],encapsulation:2});var Ro=zi;var Na=["vform"];function Ga(o,r){if(o&1){let e=E();s(0,"div",6)(1,"button",7),v("click",function(){S(e);let t=C();return h(t.onFormCancel())}),g(2,"i",8),m(3),M(4,"translate"),l()()}o&2&&(n(3),u(" ",_(4,1,"ACTION.CANCEL")," "))}var Ji=class Ji extends Ze{constructor(e,i,t,a,f,d,c,A,J,se){super(a,new jt,J,se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleLogSiteUserCreditBlockedService=a;this.cmsToastrService=f;this.tokenHelper=d;this.cmsStoreService=c;this.cdr=A;this.publicHelper=J;this.translate=se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new bt;this.dataModel=new jt;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>N(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteUserCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteUserCreditBlockedService.setAccessDataType(Me.Editor),this.coreModuleLogSiteUserCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ji.\u0275fac=function(i){return new(i||Ji)(p(te),p(ee),p(P),p(Bt),p(q),p(j),p(F),p(G),p(W),p(H))},Ji.\u0275cmp=V({type:Ji,selectors:[["app-coremodulelog-site-user-credit-blocked-edit"]],viewQuery:function(i,t){if(i&1&&Y(Na,5),i&2){let a;X(a=Z())&&(t.formGroup=a.first)}},standalone:!1,features:[$],decls:13,vars:11,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(s(0,"div",1),g(1,"app-progress-spinner",2),s(2,"div",3)(3,"p",4),m(4),l(),s(5,"p"),m(6),M(7,"translate"),l(),s(8,"form",null,0),g(10,"app-cms-site-selector",5),M(11,"translate"),y(12,Ga,5,3,"div",6),l()()()),i&2&&(n(),b("optionsInfoAreaId",t.constructorInfoAreaId),n(3),u(" ",t.formInfo.formTitle," "),n(2),u(" ",_(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),n(4),b("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",_(11,9,"TITLE.SITE")),n(2),R(t.formInfo.submitButtonEnabled?12:-1))},dependencies:[Ae,Le,ke,pt,ie,U],encapsulation:2});var To=Ji;var Oa=["vform"];function Pa(o,r){if(o&1){let e=E();s(0,"div",9)(1,"button",10),v("click",function(){S(e);let t=C();return h(t.onFormCancel())}),g(2,"i",11),m(3),M(4,"translate"),l()()}o&2&&(n(3),u(" ",_(4,1,"ACTION.CANCEL")," "))}var $i=class $i{constructor(r,e,i,t,a,f,d,c,A,J){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.coreModuleLogSiteUserCreditBlockedService=t;this.cmsToastrService=a;this.tokenHelper=f;this.cmsStoreService=d;this.cdr=c;this.publicHelper=A;this.translate=J;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Te;this.dataModelResult=new z;this.dataModel=new jt;this.formInfo=new Ye;this.dataModelEnumSendSmsStatusTypeResult=new z;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>N(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreModuleLogSiteUserCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteUserCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};$i.\u0275fac=function(e){return new(e||$i)(p(te),p(ee),p(P),p(Bt),p(q),p(j),p(F),p(G),p(W),p(H))},$i.\u0275cmp=V({type:$i,selectors:[["app-coremodulelog-site-user-credit-blocked-view"]],viewQuery:function(e,i){if(e&1&&Y(Oa,5),e&2){let t;X(t=Z())&&(i.formGroup=t.first)}},standalone:!1,decls:14,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(s(0,"div",0),g(1,"app-progress-spinner",1),s(2,"div",2)(3,"p",3),m(4),l(),s(5,"p"),m(6),M(7,"translate"),l(),s(8,"div",4),g(9,"app-cms-json-list",5),l(),s(10,"div",6),g(11,"app-cms-form-result-message",7),l(),s(12,"div",8),y(13,Pa,5,3,"div",9),l()()()),e&2&&(n(),b("optionsInfoAreaId",i.constructorInfoAreaId),n(3),u(" ",i.formInfo.formTitle," "),n(2),u(" ",_(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),n(3),b("dataModel",i.dataModel)("optionMethod",1),n(2),b("formInfo",i.formInfo),n(2),R(i.formInfo.submitButtonEnabled?13:-1))},dependencies:[ie,tt,de,U],encapsulation:2});var Lo=$i;var Ha=()=>[5,10,20,100],Ua=o=>({display:o});function Fa(o,r){if(o&1&&g(0,"app-core-user-header",3),o&2){let e=C();b("optionId",e.requestLinkUserId)}}function ja(o,r){if(o&1){let e=E();s(0,"a",40),v("click",function(){S(e);let t=C();return h(t.onActionBackToParent())}),g(1,"i",41),l()}}function qa(o,r){if(o&1){let e=E();s(0,"div",18)(1,"a",42),v("click",function(){S(e);let t=C();return h(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",43)(3,"br"),l(),s(4,"p",44),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.VIEW")," "))}function Wa(o,r){if(o&1){let e=E();s(0,"div",18)(1,"a",45),v("click",function(){S(e);let t=C();return h(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",46)(3,"br"),l(),s(4,"p",44),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.EDIT")," "))}function Ka(o,r){if(o&1){let e=E();s(0,"div",18)(1,"a",47),v("click",function(){S(e);let t=C();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",48)(3,"br"),l(),s(4,"p",44),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.DELETE")," "))}function Qa(o,r){if(o&1){let e=E();s(0,"div",18)(1,"a",42),v("click",function(){S(e);let t=C();return h(t.onActionButtonViewUserRow(t.tableRowSelected))}),g(2,"i",49)(3,"br"),l(),s(4,"p",44),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.USER")," "))}function za(o,r){if(o&1){let e=E();s(0,"div",18)(1,"a",42),v("click",function(t){S(e);let a=C();return h(a.onActionButtonBankPaymentTransactionRow(a.tableRowSelected,t))}),g(2,"i",50)(3,"br"),l(),s(4,"p",44),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.BANK_PAYMENT_TRANSACTION")," "))}function Ja(o,r){if(o&1&&(s(0,"mat-header-cell",51),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function $a(o,r){if(o&1&&(s(0,"mat-cell"),m(1),l()),o&2){let e=r.$implicit;n(),u(" ",e.id," ")}}function Ya(o,r){if(o&1&&(s(0,"mat-header-cell",51),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Xa(o,r){if(o&1&&g(0,"select",53),o&2){let e=C().$implicit,i=C();b("contentService",i.contentService)("row",e)("ngStyle",ve(3,Ua,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Za(o,r){if(o&1&&(s(0,"mat-cell",52),M(1,"statusCellClass"),g(2,"i",52),M(3,"statusIconClass"),y(4,Xa,1,5,"select",53),l()),o&2){let e=r.$implicit,i=C();b("ngClass",_(1,3,e.recordStatus)),n(2),b("ngClass",_(3,5,e.recordStatus)),n(2),R(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function ec(o,r){if(o&1&&(s(0,"mat-header-cell",51),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function tc(o,r){if(o&1&&(s(0,"mat-cell"),m(1),M(2,"cmssiteinfo"),M(3,"async"),l()),o&2){let e=r.$implicit;n(),u(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function ic(o,r){if(o&1&&(s(0,"mat-header-cell",51),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function oc(o,r){if(o&1&&(s(0,"mat-cell"),m(1),M(2,"cmsuserinfo"),M(3,"async"),l()),o&2){let e=r.$implicit;n(),u(" ",_(3,3,_(2,1,e.linkUserId))," ")}}function nc(o,r){if(o&1&&(s(0,"mat-header-cell",51),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.linkModuleBankPaymentTransactionId==null?null:e.fieldsInfo.linkModuleBankPaymentTransactionId.fieldTitle," ")}}function rc(o,r){if(o&1&&(s(0,"mat-cell"),m(1),l()),o&2){let e=r.$implicit;n(),u(" ",e.linkModuleBankPaymentTransactionId," ")}}function sc(o,r){if(o&1&&(s(0,"mat-header-cell",51),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function lc(o,r){if(o&1&&(s(0,"mat-cell",54),m(1),M(2,"localeDateTime"),l()),o&2){let e=r.$implicit;n(),u(" ",_(2,1,e.createdDate)," ")}}function ac(o,r){o&1&&(s(0,"mat-header-cell"),m(1),M(2,"translate"),l()),o&2&&(n(),u(" ",_(2,1,"TITLE.OPTION")," "))}function cc(o,r){if(o&1&&(s(0,"mat-cell",55)(1,"button",56)(2,"mat-icon"),m(3,"more_vert"),l()(),g(4,"mat-menu",null,2),l()),o&2){let e=oe(5);n(),b("matMenuTriggerFor",e)}}function dc(o,r){o&1&&g(0,"mat-header-row")}function mc(o,r){if(o&1){let e=E();s(0,"mat-row",57),v("click",function(t){let a=S(e).$implicit,f=C();return h(f.onActionTableRowSelect(a,t))})("rtclick",function(t){let a=S(e).$implicit,f=C();return h(f.onActionTableRowSelect(a,t))}),l()}if(o&2){let e=r.$implicit,i=C();ae("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Yi=class Yi extends et{constructor(e,i,t,a,f,d,c,A,J,se,yt,St,It){super(i,new jt,St,d,A);this.coreEnumService=e;this.contentService=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=a;this.activatedRoute=f;this.tokenHelper=d;this.cdr=c;this.translate=A;this.cmsStoreService=J;this.router=se;this.pageInfo=yt;this.publicHelper=St;this.dialog=It;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestlinkMemberUserId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ge;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkUserId","linkSiteId","linkModuleBankPaymentTransactionId","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkUserId","linkSiteId","createdDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberUserId")),this.requestLinkSiteId>0){let k=new T;k.propertyName="LinkCmsSiteId",k.value=this.requestLinkSiteId,this.filteModelContent.filters.push(k)}if(this.requestLinkUserId>0){let k=new T;k.propertyName="linkUserId",k.value=this.requestLinkUserId,this.filteModelContent.filters.push(k)}if(this.requestlinkMemberUserId>0){let k=new T;k.propertyName="linkMemberUserId",k.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(k)}this.optionsSearch.parentMethods={onSubmit:k=>this.onSubmitOptionsSearch(k)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=O.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=O.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>N(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let i=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new jt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let t=new T;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new T;t.propertyName="linkSiteId",t.value=this.filteModelContent.filterActionSearchLinkSiteId,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new T;t.propertyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=O.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Lo,{height:"90%",panelClass:i,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(To,{height:"90%",panelClass:i,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],t=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(a=>{if(a){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(f,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)});let a=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let c=new T;c.propertyName="recordStatus",c.value=this.filteModelContent.filterActionSearchRecordStatus,a.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let c=new T;c.propertyName="linkSiteId",c.value=this.filteModelContent.filterActionSearchLinkSiteId,a.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let c=new T;c.propertyName="linkUserId",c.value=this.filteModelContent.filterActionSearchLinkUserId,a.filters.push(c)}this.contentService.ServiceGetCount(a).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(A=>{i.set(A,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let f=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let c=new T;c.propertyName="recordStatus",c.value=this.filteModelContent.filterActionSearchRecordStatus,f.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let c=new T;c.propertyName="linkSiteId",c.value=this.filteModelContent.filterActionSearchLinkSiteId,f.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let c=new T;c.propertyName="linkUserId",c.value=this.filteModelContent.filterActionSearchLinkUserId,f.filters.push(c)}let d=new T;d.propertyName="recordStatus",d.value=Re.Available,f.filters.push(d),this.contentService.ServiceGetCount(f).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(A=>{i.set(A,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonBankPaymentTransactionRow(e=this.tableRowSelected,i){if(!e||!e.linkModuleBankPaymentTransactionId||e.linkModuleBankPaymentTransactionId===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),i?.ctrlKey){let t="/#/bankpayment/transaction/"+this.tableRowSelected.linkModuleBankPaymentTransactionId;window.open(t,"_blank")}else this.router.navigate(["/bankpayment/transaction/",this.tableRowSelected.linkModuleBankPaymentTransactionId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Yi.\u0275fac=function(i){return new(i||Yi)(p(P),p(Bt),p(q),p(_e),p(Ee),p(j),p(G),p(H),p(F),p(ye),p($e),p(W),p(xe))},Yi.\u0275cmp=V({type:Yi,selectors:[["app-coremodulelog-site-user-credit-blocked-list"]],standalone:!1,features:[$],decls:61,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","linkModuleBankPaymentTransactionId"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-money-bill","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let a=E();y(0,Fa,1,1,"app-core-user-header",3),s(1,"app-cms-html-list",4),B("optionActionGuideNoticeDisplayChange",function(d){return S(a),x(t.viewGuideNotice,d)||(t.viewGuideNotice=d),h(d)}),v("optionOnActionButtonMemoRow",function(){return S(a),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(a),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(a),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(a),h(t.onActionButtonPrintRow())}),I(2,5),m(3,"id "),m(4," -------------------------------------- "),w(),le(5,6)(6,7),I(7,8),y(8,ja,2,0,"a",9),s(9,"a",10),v("click",function(){return S(a),h(t.viewGuideNotice=!t.viewGuideNotice)}),g(10,"i",11),l(),s(11,"a",10),v("click",function(){return S(a),h(t.onActionButtonReload())}),g(12,"i",12),l(),w(),I(13,13),s(14,"a",14),v("click",function(){return S(a),h(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(15,"mat-slide-toggle",15),m(16),M(17,"translate"),l(),s(18,"a",14),v("click",function(){return S(a),h(t.onActionButtonStatist())}),g(19,"mat-slide-toggle",15),m(20),M(21,"translate"),l(),w(),le(22,16),I(23,17),y(24,qa,7,3,"div",18),y(25,Wa,7,3,"div",18),y(26,Ka,7,3,"div",18),y(27,Qa,7,3,"div",18),y(28,za,7,3,"div",18),w(),I(29,19),s(30,"app-cms-search-list",20),B("optionsChange",function(d){return S(a),x(t.optionsSearch,d)||(t.optionsSearch=d),h(d)}),l(),s(31,"app-cms-statist-list",20),B("optionsChange",function(d){return S(a),x(t.optionsStatist,d)||(t.optionsStatist=d),h(d)}),l(),w(),I(32,21),s(33,"mat-table",22,0),v("matSortChange",function(){S(a);let d=oe(34);return h(t.onTableSortData(d))}),I(35,23),L(36,Ja,2,1,"mat-header-cell",24)(37,$a,2,1,"mat-cell",25),w(),I(38,26),L(39,Ya,2,1,"mat-header-cell",24)(40,Za,5,7,"mat-cell",27),w(),I(41,28),L(42,ec,2,1,"mat-header-cell",24)(43,tc,4,5,"mat-cell",25),w(),I(44,29),L(45,ic,2,1,"mat-header-cell",24)(46,oc,4,5,"mat-cell",25),w(),I(47,30),L(48,nc,2,1,"mat-header-cell",24)(49,rc,2,1,"mat-cell",25),w(),I(50,31),L(51,sc,2,1,"mat-header-cell",24)(52,lc,3,3,"mat-cell",32),w(),I(53,33),L(54,ac,3,3,"mat-header-cell",34)(55,cc,6,1,"mat-cell",35),w(),L(56,dc,1,0,"mat-header-row",36)(57,mc,1,2,"mat-row",37),l(),w(),I(58,38),s(59,"mat-paginator",39,1),v("page",function(d){return S(a),h(t.onTablePageingData(d))}),l(),w(),l()}i&2&&(R(t.requestLinkUserId>0?0:-1),n(),b("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),b("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(7),R(t.requestLinkSiteId>0?8:-1),n(4),ae("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),b("checked",t.optionsSearch.data.show),n(),u("",_(17,29,"ACTION.SEARCH")," "),n(3),b("checked",t.optionsStatist.data.show),n(),u("",_(21,31,"ACTION.STATIST")," "),n(4),R(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?24:-1),n(),R(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?25:-1),n(),R(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?26:-1),n(),R((t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0?27:-1),n(),R((t.tableRowSelected==null?null:t.tableRowSelected.linkModuleBankPaymentTransactionId)>0?28:-1),n(2),D("options",t.optionsSearch),n(),D("options",t.optionsStatist),n(2),b("dataSource",t.tableSource),n(23),b("matHeaderRowDef",t.tabledisplayedColumns),n(),b("matRowDefColumns",t.tabledisplayedColumns),n(2),b("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",be(33,Ha)))},dependencies:[Ie,we,De,Be,ne,Ve,Ne,Ge,mt,Oe,Pe,He,Fe,Ke,je,Ue,Qe,qe,We,ze,Je,it,ot,nt,rt,st,_t,dt,U,Mt,ut,Xe,lt,at],encapsulation:2});var ko=Yi;var pc=["vform"];function uc(o,r){if(o&1&&(s(0,"mat-error"),m(1),s(2,"strong"),m(3),M(4,"translate"),l()()),o&2){let e=C(2);n(),u(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldDescription," is "),n(2),wt(_(4,2,"MESSAGE.required"))}}function fc(o,r){if(o&1){let e=E();s(0,"div",7)(1,"label",9),m(2),l(),s(3,"textarea",10,1),B("ngModelChange",function(t){S(e);let a=C();return x(a.dataModel.description,t)||(a.dataModel.description=t),h(t)}),m(5,"          "),l(),s(6,"em"),m(7),l(),y(8,uc,5,4,"mat-error"),l()}if(o&2){let e=oe(4),i=C();n(2),wt(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldDescription),n(),b("placeholder",hi(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),D("ngModel",i.dataModel.description),b("disabled",!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessEditField)),n(4),u("",e.value.length," / 500"),n(),R(e.errors!=null&&e.errors.required?8:-1)}}function Sc(o,r){if(o&1){let e=E();s(0,"div",8)(1,"button",11),v("click",function(){S(e);let t=C();return h(t.onFormCancel())}),g(2,"i",12),m(3),M(4,"translate"),l()()}o&2&&(n(3),u(" ",_(4,1,"ACTION.CANCEL")," "))}var Xi=class Xi extends Ze{constructor(e,i,t,a,f,d,c,A,J,se){super(a,new Wt,J,se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleLogSiteUserCreditService=a;this.cmsToastrService=f;this.tokenHelper=d;this.cmsStoreService=c;this.cdr=A;this.publicHelper=J;this.translate=se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new z;this.dataModel=new Wt;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>N(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteUserCreditService.setAccessLoad(),this.coreModuleLogSiteUserCreditService.setAccessDataType(Me.Editor),this.coreModuleLogSiteUserCreditService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Xi.\u0275fac=function(i){return new(i||Xi)(p(te),p(ee),p(P),p(Nt),p(q),p(j),p(F),p(G),p(W),p(H))},Xi.\u0275cmp=V({type:Xi,selectors:[["app-coremodulelog-site-user-credit--edit"]],viewQuery:function(i,t){if(i&1&&Y(pc,5),i&2){let a;X(a=Z())&&(t.formGroup=a.first)}},standalone:!1,features:[$],decls:14,vars:12,consts:[["vform","ngForm"],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"form-actions"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","10","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(s(0,"div",2),g(1,"app-progress-spinner",3),s(2,"div",4)(3,"p",5),m(4),l(),s(5,"p"),m(6),M(7,"translate"),l(),s(8,"form",null,0),g(10,"app-cms-site-selector",6),M(11,"translate"),y(12,fc,9,7,"div",7),y(13,Sc,5,3,"div",8),l()()()),i&2&&(n(),b("optionsInfoAreaId",t.constructorInfoAreaId),n(3),u(" ",t.formInfo.formTitle," "),n(2),u(" ",_(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),n(4),b("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",_(11,10,"TITLE.SITE")),n(2),R(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?12:-1),n(),R(t.formInfo.submitButtonEnabled?13:-1))},dependencies:[Ae,ht,Ct,Le,Kt,Qt,gt,ke,no,ne,pt,ie,U],encapsulation:2});var Ao=Xi;var hc=["vform"];function Cc(o,r){if(o&1){let e=E();s(0,"div",9)(1,"button",10),v("click",function(){S(e);let t=C();return h(t.onFormCancel())}),g(2,"i",11),m(3),M(4,"translate"),l()()}o&2&&(n(3),u(" ",_(4,1,"ACTION.CANCEL")," "))}var Zi=class Zi{constructor(r,e,i,t,a,f,d,c,A,J){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.coreModuleLogSiteUserCreditService=t;this.cmsToastrService=a;this.tokenHelper=f;this.cmsStoreService=d;this.cdr=c;this.publicHelper=A;this.translate=J;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Te;this.dataModelResult=new z;this.dataModel=new Wt;this.formInfo=new Ye;this.dataModelEnumSendSmsStatusTypeResult=new z;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>N(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreModuleLogSiteUserCreditService.setAccessLoad(),this.coreModuleLogSiteUserCreditService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Zi.\u0275fac=function(e){return new(e||Zi)(p(te),p(ee),p(P),p(Nt),p(q),p(j),p(F),p(G),p(W),p(H))},Zi.\u0275cmp=V({type:Zi,selectors:[["app-coremodulelog-site-user-credit--view"]],viewQuery:function(e,i){if(e&1&&Y(hc,5),e&2){let t;X(t=Z())&&(i.formGroup=t.first)}},standalone:!1,decls:14,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(s(0,"div",0),g(1,"app-progress-spinner",1),s(2,"div",2)(3,"p",3),m(4),l(),s(5,"p"),m(6),M(7,"translate"),l(),s(8,"div",4),g(9,"app-cms-json-list",5),l(),s(10,"div",6),g(11,"app-cms-form-result-message",7),l(),s(12,"div",8),y(13,Cc,5,3,"div",9),l()()()),e&2&&(n(),b("optionsInfoAreaId",i.constructorInfoAreaId),n(3),u(" ",i.formInfo.formTitle," "),n(2),u(" ",_(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),n(3),b("dataModel",i.dataModel)("optionMethod",1),n(2),b("formInfo",i.formInfo),n(2),R(i.formInfo.submitButtonEnabled?13:-1))},dependencies:[ie,tt,de,U],encapsulation:2});var Do=Zi;var gc=()=>[5,10,20,100],Mc=o=>({display:o});function _c(o,r){if(o&1&&g(0,"app-core-user-header",3),o&2){let e=C();b("optionId",e.requestLinkUserId)}}function bc(o,r){if(o&1&&g(0,"app-core-module-header",3),o&2){let e=C();b("optionId",e.requestLinkModuleId)}}function vc(o,r){if(o&1){let e=E();s(0,"a",43),v("click",function(){S(e);let t=C();return h(t.onActionBackToParent())}),g(1,"i",44),l()}}function Ic(o,r){if(o&1){let e=E();s(0,"div",18)(1,"a",45),v("click",function(){S(e);let t=C();return h(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",46)(3,"br"),l(),s(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.VIEW")," "))}function wc(o,r){if(o&1){let e=E();s(0,"div",18)(1,"a",48),v("click",function(){S(e);let t=C();return h(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",49)(3,"br"),l(),s(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.EDIT")," "))}function Ec(o,r){if(o&1){let e=E();s(0,"div",18)(1,"a",50),v("click",function(){S(e);let t=C();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",51)(3,"br"),l(),s(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.DELETE")," "))}function yc(o,r){if(o&1){let e=E();s(0,"div",18)(1,"a",45),v("click",function(t){S(e);let a=C();return h(a.onActionButtonViewUserRow(a.tableRowSelected,t))}),g(2,"i",52)(3,"br"),l(),s(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.USER")," "))}function Rc(o,r){if(o&1){let e=E();s(0,"div",18)(1,"a",45),v("click",function(t){S(e);let a=C();return h(a.onActionButtonViewSiteRow(a.tableRowSelected,t))}),g(2,"i",53)(3,"br"),l(),s(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.SITE")," "))}function Tc(o,r){if(o&1){let e=E();s(0,"div",18)(1,"a",45),v("click",function(t){S(e);let a=C();return h(a.onActionButtonBankPaymentTransactionRow(a.tableRowSelected,t))}),g(2,"i",54)(3,"br"),l(),s(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(n(5),u(" ",_(6,1,"ACTION.BANK_PAYMENT_TRANSACTION")," "))}function Lc(o,r){if(o&1&&(s(0,"mat-header-cell",55),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function kc(o,r){if(o&1&&(s(0,"mat-cell"),m(1),l()),o&2){let e=r.$implicit;n(),u(" ",e.id," ")}}function Ac(o,r){if(o&1&&(s(0,"mat-header-cell",55),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Dc(o,r){if(o&1&&g(0,"select",57),o&2){let e=C().$implicit,i=C();b("contentService",i.contentService)("row",e)("ngStyle",ve(3,Mc,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function xc(o,r){if(o&1&&(s(0,"mat-cell",56),M(1,"statusCellClass"),g(2,"i",56),M(3,"statusIconClass"),y(4,Dc,1,5,"select",57),l()),o&2){let e=r.$implicit,i=C();b("ngClass",_(1,3,e.recordStatus)),n(2),b("ngClass",_(3,5,e.recordStatus)),n(2),R(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function Bc(o,r){if(o&1&&(s(0,"mat-header-cell",55),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.createdBy==null?null:e.fieldsInfo.createdBy.fieldTitle," ")}}function Vc(o,r){if(o&1&&(s(0,"mat-cell"),m(1),M(2,"cmsuserinfo"),M(3,"async"),l()),o&2){let e=r.$implicit;n(),u(" ",_(3,3,_(2,1,e.createdBy))," ")}}function Nc(o,r){if(o&1&&(s(0,"mat-header-cell",55),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Gc(o,r){if(o&1&&(s(0,"mat-cell"),m(1),M(2,"cmssiteinfo"),M(3,"async"),l()),o&2){let e=r.$implicit;n(),u(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function Oc(o,r){if(o&1&&(s(0,"mat-header-cell",55),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Pc(o,r){if(o&1&&(s(0,"mat-cell"),m(1),M(2,"cmsuserinfo"),M(3,"async"),l()),o&2){let e=r.$implicit;n(),u(" ",_(3,3,_(2,1,e.linkUserId))," ")}}function Hc(o,r){if(o&1&&(s(0,"mat-header-cell",55),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.linkModuleId==null?null:e.fieldsInfo.linkModuleId.fieldTitle," ")}}function Uc(o,r){if(o&1&&(s(0,"mat-cell"),m(1),M(2,"cmstitle"),l()),o&2){let e=r.$implicit,i=C();n(),u(" ",vi(2,1,e.linkModuleId,i.dataModelCoreModuleResult.listItems)," ")}}function Fc(o,r){if(o&1&&(s(0,"mat-header-cell",55),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.transactionCredit==null?null:e.fieldsInfo.transactionCredit.fieldTitle," ")}}function jc(o,r){if(o&1&&(s(0,"mat-cell"),m(1),M(2,"number"),l()),o&2){let e=r.$implicit;n(),u(" ",_(2,1,e.transactionCredit)," ")}}function qc(o,r){if(o&1&&(s(0,"mat-header-cell",55),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.linkModuleBankPaymentTransactionId==null?null:e.fieldsInfo.linkModuleBankPaymentTransactionId.fieldTitle," ")}}function Wc(o,r){if(o&1&&(s(0,"mat-cell"),m(1),l()),o&2){let e=r.$implicit;n(),u(" ",e.linkModuleBankPaymentTransactionId," ")}}function Kc(o,r){if(o&1&&(s(0,"mat-header-cell",55),m(1),l()),o&2){let e=C();n(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Qc(o,r){if(o&1&&(s(0,"mat-cell",58),m(1),M(2,"localeDateTime"),l()),o&2){let e=r.$implicit;n(),u(" ",_(2,1,e.createdDate)," ")}}function zc(o,r){o&1&&(s(0,"mat-header-cell"),m(1),M(2,"translate"),l()),o&2&&(n(),u(" ",_(2,1,"TITLE.OPTION")," "))}function Jc(o,r){if(o&1&&(s(0,"mat-cell",59)(1,"button",60)(2,"mat-icon"),m(3,"more_vert"),l()(),g(4,"mat-menu",null,2),l()),o&2){let e=oe(5);n(),b("matMenuTriggerFor",e)}}function $c(o,r){o&1&&g(0,"mat-header-row")}function Yc(o,r){if(o&1){let e=E();s(0,"mat-row",61),v("click",function(t){let a=S(e).$implicit,f=C();return h(f.onActionTableRowSelect(a,t))})("rtclick",function(t){let a=S(e).$implicit,f=C();return h(f.onActionTableRowSelect(a,t))}),l()}if(o&2){let e=r.$implicit,i=C();ae("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var eo=class eo extends et{constructor(e,i,t,a,f,d,c,A,J,se,yt,St,It,k){super(t,new Wt,It,A,se);this.coreEnumService=e;this.coreModuleService=i;this.contentService=t;this.cmsToastrService=a;this.cmsConfirmationDialogService=f;this.activatedRoute=d;this.cmsStoreService=c;this.tokenHelper=A;this.cdr=J;this.translate=se;this.router=yt;this.pageInfo=St;this.publicHelper=It;this.dialog=k;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkModuleId=0;this.requestlinkMemberUserId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ge;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","createdBy","linkUserId","linkSiteId","linkModuleId","transactionCredit","linkModuleBankPaymentTransactionId","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkUserId","linkSiteId","linkModuleId","transactionCredit","createdDate"];this.dataModelCoreModuleResult=new z;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkModuleId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkModuleId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberUserId")),this.requestLinkSiteId>0){let K=new T;K.propertyName="LinkCmsSiteId",K.value=this.requestLinkSiteId,this.filteModelContent.filters.push(K)}if(this.requestLinkUserId>0){let K=new T;K.propertyName="linkUserId",K.value=this.requestLinkUserId,this.filteModelContent.filters.push(K)}if(this.requestLinkModuleId>0){let K=new T;K.propertyName="LinkModuleId",K.value=this.requestLinkModuleId,this.filteModelContent.filters.push(K)}if(this.requestlinkMemberUserId>0){let K=new T;K.propertyName="linkMemberUserId",K.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(K)}this.optionsSearch.parentMethods={onSubmit:K=>this.onSubmitOptionsSearch(K)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=O.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=O.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>N(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getModuleList()}getModuleList(){let e=new ge;e.rowPerPage=100,this.coreModuleService.ServiceGetAllModuleName(e).subscribe({next:i=>{this.dataModelCoreModuleResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let i=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Wt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let t=new T;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new T;t.propertyName="linkSiteId",t.value=this.filteModelContent.filterActionSearchLinkSiteId,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new T;t.propertyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=O.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Do,{height:"90%",panelClass:i,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ao,{height:"90%",panelClass:i,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],t=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(a=>{if(a){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(f,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)});let a=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let c=new T;c.propertyName="recordStatus",c.value=this.filteModelContent.filterActionSearchRecordStatus,a.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let c=new T;c.propertyName="linkSiteId",c.value=this.filteModelContent.filterActionSearchLinkSiteId,a.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let c=new T;c.propertyName="linkUserId",c.value=this.filteModelContent.filterActionSearchLinkUserId,a.filters.push(c)}this.contentService.ServiceGetCount(a).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(A=>{i.set(A,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let f=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let c=new T;c.propertyName="recordStatus",c.value=this.filteModelContent.filterActionSearchRecordStatus,f.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let c=new T;c.propertyName="linkSiteId",c.value=this.filteModelContent.filterActionSearchLinkSiteId,f.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let c=new T;c.propertyName="linkUserId",c.value=this.filteModelContent.filterActionSearchLinkUserId,f.filters.push(c)}let d=new T;d.propertyName="recordStatus",d.value=Re.Available,f.filters.push(d),this.contentService.ServiceGetCount(f).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(A=>{i.set(A,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i?.ctrlKey){let t="/#/core/user/edit/"+this.tableRowSelected.linkUserId;window.open(t,"_blank")}else this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i?.ctrlKey){let t="/#/core/site/edit/"+this.tableRowSelected.linkSiteId;window.open(t,"_blank")}else this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonBankPaymentTransactionRow(e=this.tableRowSelected,i){if(!e||!e.linkModuleBankPaymentTransactionId||e.linkModuleBankPaymentTransactionId===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),i?.ctrlKey){let t="/#/bankpayment/transactionlog/LinkTransactionId/"+this.tableRowSelected.linkModuleBankPaymentTransactionId;window.open(t,"_blank")}else this.router.navigate(["/bankpayment/transactionlog/LinkTransactionId/",this.tableRowSelected.linkModuleBankPaymentTransactionId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};eo.\u0275fac=function(i){return new(i||eo)(p(P),p(Rt),p(Nt),p(q),p(_e),p(Ee),p(F),p(j),p(G),p(H),p(ye),p($e),p(W),p(xe))},eo.\u0275cmp=V({type:eo,selectors:[["app-coremodulelog-site-user-credit--list"]],standalone:!1,features:[$],decls:71,vars:36,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","createdBy"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","linkModuleId"],["matColumnDef","transactionCredit"],["matColumnDef","linkModuleBankPaymentTransactionId"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-money-bill","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let a=E();y(0,_c,1,1,"app-core-user-header",3),y(1,bc,1,1,"app-core-module-header",3),s(2,"app-cms-html-list",4),B("optionActionGuideNoticeDisplayChange",function(d){return S(a),x(t.viewGuideNotice,d)||(t.viewGuideNotice=d),h(d)}),v("optionOnActionButtonMemoRow",function(){return S(a),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(a),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(a),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(a),h(t.onActionButtonPrintRow())}),I(3,5),m(4," -------------------------------------- "),w(),le(5,6)(6,7),I(7,8),y(8,vc,2,0,"a",9),s(9,"a",10),v("click",function(){return S(a),h(t.viewGuideNotice=!t.viewGuideNotice)}),g(10,"i",11),l(),s(11,"a",10),v("click",function(){return S(a),h(t.onActionButtonReload())}),g(12,"i",12),l(),w(),I(13,13),s(14,"a",14),v("click",function(){return S(a),h(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(15,"mat-slide-toggle",15),m(16),M(17,"translate"),l(),s(18,"a",14),v("click",function(){return S(a),h(t.onActionButtonStatist())}),g(19,"mat-slide-toggle",15),m(20),M(21,"translate"),l(),w(),le(22,16),I(23,17),y(24,Ic,7,3,"div",18),y(25,wc,7,3,"div",18),y(26,Ec,7,3,"div",18),y(27,yc,7,3,"div",18),y(28,Rc,7,3,"div",18),y(29,Tc,7,3,"div",18),w(),I(30,19),s(31,"app-cms-search-list",20),B("optionsChange",function(d){return S(a),x(t.optionsSearch,d)||(t.optionsSearch=d),h(d)}),l(),s(32,"app-cms-statist-list",20),B("optionsChange",function(d){return S(a),x(t.optionsStatist,d)||(t.optionsStatist=d),h(d)}),l(),w(),I(33,21),s(34,"mat-table",22,0),v("matSortChange",function(){S(a);let d=oe(35);return h(t.onTableSortData(d))}),I(36,23),L(37,Lc,2,1,"mat-header-cell",24)(38,kc,2,1,"mat-cell",25),w(),I(39,26),L(40,Ac,2,1,"mat-header-cell",24)(41,xc,5,7,"mat-cell",27),w(),I(42,28),L(43,Bc,2,1,"mat-header-cell",24)(44,Vc,4,5,"mat-cell",25),w(),I(45,29),L(46,Nc,2,1,"mat-header-cell",24)(47,Gc,4,5,"mat-cell",25),w(),I(48,30),L(49,Oc,2,1,"mat-header-cell",24)(50,Pc,4,5,"mat-cell",25),w(),I(51,31),L(52,Hc,2,1,"mat-header-cell",24)(53,Uc,3,4,"mat-cell",25),w(),I(54,32),L(55,Fc,2,1,"mat-header-cell",24)(56,jc,3,3,"mat-cell",25),w(),I(57,33),L(58,qc,2,1,"mat-header-cell",24)(59,Wc,2,1,"mat-cell",25),w(),I(60,34),L(61,Kc,2,1,"mat-header-cell",24)(62,Qc,3,3,"mat-cell",35),w(),I(63,36),L(64,zc,3,3,"mat-header-cell",37)(65,Jc,6,1,"mat-cell",38),w(),L(66,$c,1,0,"mat-header-row",39)(67,Yc,1,2,"mat-row",40),l(),w(),I(68,41),s(69,"mat-paginator",42,1),v("page",function(d){return S(a),h(t.onTablePageingData(d))}),l(),w(),l()}i&2&&(R(t.requestLinkUserId>0?0:-1),n(),R(t.requestLinkModuleId>0?1:-1),n(),b("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),D("optionActionGuideNoticeDisplay",t.viewGuideNotice),b("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),R(t.requestLinkSiteId>0?8:-1),n(4),ae("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),b("checked",t.optionsSearch.data.show),n(),u("",_(17,31,"ACTION.SEARCH")," "),n(3),b("checked",t.optionsStatist.data.show),n(),u("",_(21,33,"ACTION.STATIST")," "),n(4),R(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?24:-1),n(),R(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?25:-1),n(),R(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?26:-1),n(),R((t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0?27:-1),n(),R((t.tableRowSelected==null?null:t.tableRowSelected.linkSiteId)>0?28:-1),n(),R((t.tableRowSelected==null?null:t.tableRowSelected.linkModuleBankPaymentTransactionId)>0?29:-1),n(2),D("options",t.optionsSearch),n(),D("options",t.optionsStatist),n(2),b("dataSource",t.tableSource),n(32),b("matHeaderRowDef",t.tabledisplayedColumns),n(),b("matRowDefColumns",t.tabledisplayedColumns),n(2),b("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",be(35,gc)))},dependencies:[Ie,we,De,Be,ne,Ve,Ne,Ge,mt,Oe,Pe,He,Fe,Ke,je,Ue,Qe,qe,We,ze,Je,it,ot,nt,rt,st,_t,tn,dt,Ii,U,wi,Mt,ut,Xe,lt,at],encapsulation:2});var to=eo;var Xc=[{path:"",component:ro,data:{title:"ROUTE.COREMODULELOG"},children:[{path:"report-abuse",component:So,data:{title:"ROUTE.COREMODULELOG"}},{path:"show-key",component:bo,data:{title:"ROUTE.COREMODULELOG"}},{path:"favorite",component:ao,data:{title:"ROUTE.COREMODULELOG.FAVORITE"}},{path:"like",component:po,data:{title:"ROUTE.COREMODULELOG.LIKE"}},{path:"score",component:go,data:{title:"ROUTE.COREMODULELOG.SCORE"}},{path:"site-credit",component:Ro,data:{title:"ROUTE.COREMODULELOG"}},{path:"site-user-credit",component:to,data:{title:"ROUTE.COREMODULELOG"}},{path:"site-user-credit/:LinkSiteId/:LinkUserId/:LinkModuleId",component:to,data:{title:"ROUTE.COREMODULELOG"}},{path:"site-credit-blocked",component:wo,data:{title:"ROUTE.COREMODULELOG"}},{path:"site-user-credit-blocked",component:ko,data:{title:"ROUTE.COREMODULELOG"}}]}],_i=class _i{};_i.\u0275fac=function(e){return new(e||_i)},_i.\u0275mod=oo({type:_i}),_i.\u0275inj=io({imports:[Bo.forChild(Xc),Bo]});var xo=_i;var bi=class bi{};bi.\u0275fac=function(e){return new(e||bi)},bi.\u0275mod=oo({type:bi}),bi.\u0275inj=io({providers:[Rt,Uo,Fo,jo,qo,kt,Ho,Lt,Po,Dt,At,Tt,xt,Bt,Vt,Nt,_e],imports:[xo,Go,Wo,Ko.withConfig({warnOnNgModelWithFormControl:"never"}),Xo,Zo,en,Yo]});var rn=bi;export{rn as CoreModuleLogModule};
