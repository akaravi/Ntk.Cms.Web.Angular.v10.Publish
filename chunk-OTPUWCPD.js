import{a as vi,b as Ii}from"./chunk-AA2HWKTD.js";import{a as Rn,b as Dn,c as Zd,d as Yd,e as Jd,f as Fi,g as Je,h as Ol,i as Nl,j as Xd,l as il}from"./chunk-6TUOMHMS.js";import{a as ua,b as Ei}from"./chunk-VRMO6RSL.js";import{a as ra}from"./chunk-2JTWFKVB.js";import{a as ga}from"./chunk-OR6DJEVV.js";import{a as Li,b as oa,f as qd,g as Qd,h as Bl,i as aa,j as zd,k as la,l as sa,m as da,n as ca,o as pa,p as ma,q as Kd,s as fa,t as Zi,u as _a,v as $d,w as ec,x as tc,y as Gl,z as ic}from"./chunk-4OCDAJKH.js";import{a as Mi}from"./chunk-XP4NDQ24.js";import{a as Si}from"./chunk-54OD2RQP.js";import{a as kn}from"./chunk-IOFBMCNI.js";import{a as zt}from"./chunk-NXBETVZJ.js";import{a as ro}from"./chunk-NWNMEVWC.js";import{a as Kt,b as Hd}from"./chunk-FWKTQDO6.js";import{a as Wd}from"./chunk-MZUQA2RW.js";import{a as Fl}from"./chunk-RZJLUZZN.js";import{a as Ud}from"./chunk-P3YBWV5E.js";import{a as jd}from"./chunk-F2FVGSP5.js";import"./chunk-JLELIEK5.js";import"./chunk-3ERL5A3U.js";import{a as ao}from"./chunk-5RL5EZDV.js";import{a as An}from"./chunk-GCXY2JAM.js";import{a as na}from"./chunk-6CL47M2V.js";import{a as Gd}from"./chunk-SIUS5MTY.js";import{a as Nd}from"./chunk-HFTCLXPB.js";import{a as ia}from"./chunk-QGXUCCQL.js";import{a as Od}from"./chunk-ZK44JXFW.js";import{a as oo}from"./chunk-NQ7GWIZY.js";import{a as ki}from"./chunk-GGGJDHXV.js";import{a as Fd,b as Bd,c as wt,d as xt,e as Pt,f as Pn,g as At,h as Rt}from"./chunk-2EX4NELS.js";import{a as Tt,b as no}from"./chunk-KDTV5CIJ.js";import{j as Ut,k as qt,l as Qt}from"./chunk-YM3IA5Y7.js";import{a as he,c as io,e as kd}from"./chunk-SG43NEFY.js";import{a as _t}from"./chunk-C5NPUYFA.js";import"./chunk-4DPSDPCK.js";import{a as Vd}from"./chunk-43S5L7YA.js";import{a as yi}from"./chunk-NLRK5Q7D.js";import{a as hi}from"./chunk-W3P67HIE.js";import{a as cn,b as Ld}from"./chunk-AOTJ5O3P.js";import{a as Bt}from"./chunk-QVSBUWHR.js";import"./chunk-ZYNNJIHW.js";import{a as Ci}from"./chunk-IXPEP4O3.js";import{a as Vl}from"./chunk-D7CEBCJB.js";import{a as bt}from"./chunk-XHM57VXZ.js";import{a as se}from"./chunk-5QDJNW4W.js";import{a as U,d as ie}from"./chunk-GGQ7GVZY.js";import{b as Dd,e as It,f as G}from"./chunk-UAJZPUTD.js";import{$ as zi,$a as ee,$b as ea,A as qi,Ab as et,Ac as ta,B as rd,Ba as wn,Bb as tt,C as ld,Ca as xn,Cb as it,D as wl,Da as dn,Db as nt,E as xl,Ea as hd,Eb as ot,Fa as yd,Fb as at,G as Pl,Ga as Sd,Gb as rt,H as Al,Ha as Md,Hb as lt,I as Rl,Ib as st,J as le,Ja as Wo,K as Ee,Ka as Le,Kb as Ht,L as ge,La as Ve,Lc as Ce,Ma as Oe,N as sd,Nb as wd,O as dd,Ob as Ko,Oc as de,Pa as Ed,Pb as Zo,Q as Qi,Qa as vd,Qb as Yo,Qc as O,Rb as Jo,Sa as Ho,Sb as Xo,Sc as jt,Ta as jo,Tb as $o,Tc as Rd,Ua as Uo,Ub as Kn,V as ai,Va as qo,W as De,Wa as Qo,Wb as B,Xa as zo,Xb as W,Y as No,Ya as Id,Z as Ze,Za as we,_ as ri,_a as bd,a as Tn,aa as Ki,ac as xd,ba as Ue,bb as kl,c as Yt,cb as Ll,d as Il,eb as yt,f as bl,fa as cd,fb as St,hc as qe,i as Tl,ia as pd,ib as Mt,ic as Pd,ja as md,k as od,ka as ud,la as fd,m as Jt,ma as _d,n as X,na as gd,nb as ft,oa as Cd,pb as Et,q as $,qb as vt,r as Te,s as ad,sa as Dl,t as Ae,tb as mi,u as si,ua as Xt,ub as ui,v as _e,va as $t,vb as fi,w as Re,wb as _i,x as Ft,xa as ei,xb as gi,ya as ti,yb as Td,z as Oo,za as Go,zb as $e}from"./chunk-UQKNR4GM.js";import{$d as Be,$e as Gs,$n as eo,Ab as p,Bb as Jn,Ca as H,Cb as On,Cd as ys,Cn as _n,Dd as He,Dn as xi,Eb as Q,En as Qn,F as Oi,Fa as o,Fb as z,Fn as ln,Gb as K,Gd as ht,Gn as gn,Ha as Vt,Hd as j,Hn as Ms,I as Yn,In as zn,Kb as A,Kn as Qs,Lb as ae,Lc as re,Ld as Z,Ln as zs,Mb as ne,Mc as cl,Md as oe,Mn as Fo,Nb as ni,Nc as pl,Nn as Ks,Oa as v,Oc as ml,On as Bo,P as Ni,Pb as d,Pc as ul,Pd as Ct,Pn as yl,Q as Gi,Qb as x,Qc as fl,Qg as Ws,Rb as h,Rc as oi,Rd as Lo,Rn as Sl,Sa as V,Sb as We,Sn as Zs,Ta as dl,Tc as pt,Tn as Ys,Ub as Ls,Ud as kt,Un as Js,Vb as b,Vd as Nn,Vn as Ml,Wa as Y,Wb as T,Wn as Xs,Xb as w,Xc as ko,Xn as El,Y as sl,Ya as R,Yb as P,Yc as _l,Yd as J,Yn as Hi,Zb as Pe,Zm as js,Zn as Xn,_c as Vs,_m as Us,_n as $n,ac as fe,ag as En,an as qs,ao as $s,bc as Nt,bo as Pi,co as ed,da as u,db as li,do as td,ea as f,fb as S,fc as _,fn as Ss,fo as vl,gb as M,gc as g,gn as bi,go as sn,hc as pi,hn as Gn,ho as id,ia as ks,ib as pe,in as Cl,io as vn,jb as me,jd as Fs,jn as hl,jo as Ai,kb as ue,kg as Wt,kn as Wn,ko as to,lb as m,ln as Hn,lo as Zt,lr as F,mb as a,nb as r,no as nd,ob as y,oe as gl,oo as Ri,p as Zn,po as ji,q as Bi,qn as Wi,qo as In,re as te,rh as Hs,rn as jn,ro as Ui,sb as D,so as Di,tb as k,to as bn,ub as Ye,ud as Gt,vb as I,vd as Bs,ve as Os,vg as rn,vn as Un,wd as ke,wn as Ti,wr as Ad,xn as wi,yb as E,yc as N,yn as qn,ze as Ns,zn as Vo}from"./chunk-CZ63DPC3.js";import{f as Bn,i as Me}from"./chunk-SEDBTTTN.js";var Bc=()=>[5,10,20,100];function Oc(n,s){if(n&1){let e=I();a(0,"div",15)(1,"a",39),E("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),y(2,"i",40)(3,"br"),r(),a(4,"p",19),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.ADD")," "))}function Nc(n,s){if(n&1){let e=I();a(0,"div",15)(1,"a",41),E("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),y(2,"i",42)(3,"br"),r(),a(4,"p",19),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.EDIT")," "))}function Gc(n,s){if(n&1){let e=I();a(0,"div",15)(1,"a",43),E("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),y(2,"i",44)(3,"br"),r(),a(4,"p",19),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.DELETE")," "))}function Wc(n,s){n&1&&(a(0,"mat-header-cell",45),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.PICTURE")," "))}function Hc(n,s){if(n&1&&(y(0,"img",46),_(1,"cmsthumbnail")),n&2){let e=p().$implicit;m("src",P(g(1,2,e.linkMainImageIdSrc)),H)}}function jc(n,s){if(n&1&&(a(0,"mat-cell"),S(1,Hc,2,4,"img",46),r()),n&2){let e=s.$implicit;o(),M((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function Uc(n,s){if(n&1&&(a(0,"mat-header-cell",45),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle," ")}}function qc(n,s){if(n&1&&(a(0,"mat-cell"),y(1,"i",47),r()),n&2){let e=s.$implicit;o(),ae("color",e.iconColor),m("ngClass",e.iconFont)}}function Qc(n,s){if(n&1&&(a(0,"mat-header-cell",45),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function zc(n,s){if(n&1&&(a(0,"mat-cell"),y(1,"i",47),r()),n&2){let e=s.$implicit;o(),ae("color",e.iconColor),m("ngClass",e.iconFont)}}function Kc(n,s){if(n&1&&(a(0,"mat-header-cell",45),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Zc(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.title," ")}}function Yc(n,s){if(n&1&&(a(0,"mat-header-cell",45),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function Jc(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.description," ")}}function Xc(n,s){n&1&&(a(0,"mat-header-cell"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.OPTION")," "))}function $c(n,s){if(n&1&&(a(0,"mat-cell",48)(1,"button",49)(2,"mat-icon"),d(3,"more_vert"),r()(),y(4,"mat-menu",null,2),r()),n&2){let e=A(5);o(),m("matMenuTriggerFor",e)}}function ep(n,s){n&1&&y(0,"mat-header-row")}function tp(n,s){if(n&1){let e=I();a(0,"mat-row",50),E("click",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))}),r()}if(n&2){let e=s.$implicit,i=p();ne("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ca=class Ca extends wt{constructor(e,i,t,l,C,c,L,q,Se,je,Ke,Ot){super(e,new Ss,Ke,C,L);this.contentService=e;this.cmsConfirmationDialogService=i;this.cmsToastrService=t;this.router=l;this.tokenHelper=C;this.cdr=c;this.translate=L;this.cmsStoreService=q;this.themeService=Se;this.pageInfo=je;this.publicHelper=Ke;this.dialog=Ot;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new oe;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","IconFont","Description"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","IconFont","Description"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ii=>this.onSubmitOptionsSearch(ii)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=J.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Me(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ss);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=J.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(qd,{height:"90%",panelClass:e,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Qd,{height:"90%",panelClass:i,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let C=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(C,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})}onActionButtonContentDetailList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/estate/property-detail/LinkActivityTypeId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-detail/LinkActivityTypeId/",this.tableRowSelected.id])}onActionButtonContentList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/estate/property/LinkActivityTypeId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkActivityTypeId/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{i.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),C=new Z;C.propertyName="recordStatus",C.value=He.Available,l.filters.push(C),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{i.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Ca.\u0275fac=function(i){return new(i||Ca)(v(El),v(bt),v(O),v(ke),v(de),v(N),v(B),v(Ce),v(jt),v(It),v(G),v(Oe))},Ca.\u0275cmp=V({type:Ca,selectors:[["app-estate-activity-type-list"]],standalone:!1,features:[Y],decls:67,vars:36,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-buildings","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","id"],["matColumnDef","title"],["matColumnDef","Description"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=I();a(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(c){return u(l),T(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),E("optionOnActionButtonMemoRow",function(){return u(l),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(l),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(l),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(l),f(t.onActionButtonPrintRow())}),D(1,4),d(2," -------------------------------------- "),k(),Ye(3,5)(4,6),D(5,7),a(6,"a",8),E("click",function(){return u(l),f(t.viewGuideNotice=!t.viewGuideNotice)}),y(7,"i",9),r(),a(8,"a",8),E("click",function(){return u(l),f(t.onActionButtonReload())}),y(9,"i",10),r(),k(),D(10,11),a(11,"a",12),E("click",function(){return u(l),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),y(12,"mat-slide-toggle",13),d(13),_(14,"translate"),r(),a(15,"a",12),E("click",function(){return u(l),f(t.onActionButtonStatist())}),y(16,"mat-slide-toggle",13),d(17),_(18,"translate"),r(),k(),D(19,14),S(20,Oc,7,3,"div",15),k(),D(21,16),S(22,Nc,7,3,"div",15),S(23,Gc,7,3,"div",15),a(24,"div",15)(25,"a",17),E("click",function(c){return u(l),f(t.onActionButtonContentDetailList(t.tableRowSelected,c))}),y(26,"i",18)(27,"br"),r(),a(28,"p",19),d(29),_(30,"translate"),r()(),a(31,"div",15)(32,"a",17),E("click",function(c){return u(l),f(t.onActionButtonContentList(t.tableRowSelected,c))}),y(33,"i",20)(34,"br"),r(),a(35,"p",19),d(36),_(37,"translate"),r()(),k(),D(38,21),a(39,"app-cms-search-list",22),w("optionsChange",function(c){return u(l),T(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),r(),a(40,"app-cms-statist-list",22),w("optionsChange",function(c){return u(l),T(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),r(),k(),D(41,23),a(42,"mat-table",24,0),E("matSortChange",function(){u(l);let c=A(43);return f(t.onTableSortData(c))}),D(44,25),R(45,Wc,3,3,"mat-header-cell",26)(46,jc,2,1,"mat-cell",27),k(),D(47,28),R(48,Uc,2,1,"mat-header-cell",26)(49,qc,2,3,"mat-cell",27),k(),D(50,29),R(51,Qc,2,1,"mat-header-cell",26)(52,zc,2,3,"mat-cell",27),k(),D(53,30),R(54,Kc,2,1,"mat-header-cell",26)(55,Zc,2,1,"mat-cell",27),k(),D(56,31),R(57,Yc,2,1,"mat-header-cell",26)(58,Jc,2,1,"mat-cell",27),k(),D(59,32),R(60,Xc,3,3,"mat-header-cell",33)(61,$c,6,1,"mat-cell",34),k(),R(62,ep,1,0,"mat-header-row",35)(63,tp,1,2,"mat-row",36),r(),k(),D(64,37),a(65,"mat-paginator",38,1),E("page",function(c){return u(l),f(t.onTablePageingData(c))}),r(),k(),r()}i&2&&(m("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),m("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),ne("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),m("checked",t.optionsSearch.data.show),o(),h("",g(14,27,"ACTION.SEARCH")," "),o(3),m("checked",t.optionsStatist.data.show),o(),h("",g(18,29,"ACTION.STATIST")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(6),h(" ",g(30,31,"ACTION.DETAIL")," "),o(7),h(" ",g(37,33,"ACTION.PROPERTYLIST")," "),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),m("dataSource",t.tableSource),o(20),m("matHeaderRowDef",t.tabledisplayedColumns),o(),m("matRowDefColumns",t.tabledisplayedColumns),o(2),m("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",fe(35,Bc)))},dependencies:[re,Ue,we,yt,St,Mt,ft,Et,vt,$e,tt,at,it,et,rt,nt,ot,lt,st,xt,Pt,At,Rt,W,he],encapsulation:2});var ha=Ca;var np=["vform"];function op(n,s){n&1&&y(0,"i",35)}function ap(n,s){n&1&&y(0,"i",36)}function rp(n,s){n&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function lp(n,s){if(n&1){let e=I();a(0,"div",14)(1,"label",33),d(2),r(),a(3,"input",34,3),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.title,t)||(l.dataModel.title=t),f(t)}),r(),S(5,op,1,0,"i",35),S(6,ap,1,0,"i",36),a(7,"em"),d(8),r(),S(9,rp,5,3,"mat-error"),r()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle))("disabled",P(!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField))),b("ngModel",i.dataModel.title),o(2),M(e.value?-1:5),o(),M(e.value?6:-1),o(2),h("",e.value.length," / 100"),o(),M(e.errors!=null&&e.errors.required?9:-1)}}function sp(n,s){n&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function dp(n,s){if(n&1){let e=I();a(0,"div",14)(1,"label",37),d(2),r(),a(3,"input",38,4),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.stationLevel,t)||(l.dataModel.stationLevel=t),f(t)}),r()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.stationLevel==null?null:e.fieldsInfo.stationLevel.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.stationLevel==null?null:e.fieldsInfo.stationLevel.fieldTitle)),b("ngModel",e.dataModel.stationLevel),m("disabled",!(e.fieldsInfo.stationLevel!=null&&e.fieldsInfo.stationLevel.accessEditField))}}function cp(n,s){if(n&1&&(a(0,"mat-list-item",18),d(1),r()),n&2){let e=s.$implicit;o(),x(e)}}function pp(n,s){if(n&1){let e=I();a(0,"div",14)(1,"label",39),d(2),r(),a(3,"input",40,5),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.viewLevel,t)||(l.dataModel.viewLevel=t),f(t)}),r()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.viewLevel==null?null:e.fieldsInfo.viewLevel.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.viewLevel==null?null:e.fieldsInfo.viewLevel.fieldTitle)),b("ngModel",e.dataModel.viewLevel),m("disabled",!(e.fieldsInfo.viewLevel!=null&&e.fieldsInfo.viewLevel.accessEditField))}}function mp(n,s){if(n&1&&(a(0,"mat-list-item",18),d(1),r()),n&2){let e=s.$implicit;o(),x(e)}}function up(n,s){if(n&1){let e=I();a(0,"div",14)(1,"label",41),d(2),r(),a(3,"input",42,6),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.dayOfActivity,t)||(l.dataModel.dayOfActivity=t),f(t)}),r()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.dayOfActivity==null?null:e.fieldsInfo.dayOfActivity.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.dayOfActivity==null?null:e.fieldsInfo.dayOfActivity.fieldTitle)),b("ngModel",e.dataModel.dayOfActivity),m("disabled",!(e.fieldsInfo.dayOfActivity!=null&&e.fieldsInfo.dayOfActivity.accessEditField))}}function fp(n,s){if(n&1){let e=I();a(0,"div",14)(1,"label",43),d(2),r(),a(3,"input",44,7),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.salePrice,t)||(l.dataModel.salePrice=t),f(t)}),r()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.salePrice==null?null:e.fieldsInfo.salePrice.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.salePrice==null?null:e.fieldsInfo.salePrice.fieldTitle)),b("ngModel",e.dataModel.salePrice),m("disabled",!(e.fieldsInfo.salePrice!=null&&e.fieldsInfo.salePrice.accessEditField))}}function _p(n,s){if(n&1&&(y(0,"img",28),_(1,"cmsthumbnail")),n&2){let e=p();m("src",P(g(1,2,e.dataModel.linkMainImageIdSrc)),H)}}function gp(n,s){if(n&1&&(a(0,"button",47),y(1,"i",48),d(2),_(3,"translate"),r()),n&2){p(2);let e=A(10);m("disabled",!e.form.valid),o(2),h(" ",g(3,2,"ACTION.SAVE")," ")}}function Cp(n,s){if(n&1){let e=I();a(0,"div",32)(1,"button",45),E("click",function(){u(e);let t=p();return f(t.onFormCancel())}),y(2,"i",46),d(3),_(4,"translate"),r(),S(5,gp,4,4,"button",47),r()}if(n&2){let e=p();o(3),h(" ",g(4,2,"ACTION.CANCEL")," "),o(2),M(e.formInfo.submitButtonEnabled?5:-1)}}var ya=class ya extends _t{constructor(e,i,t,l,C,c,L,q){super(l,new bi,c,q);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateAdsTypeService=l;this.cmsToastrService=C;this.publicHelper=c;this.cdr=L;this.translate=q;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new j;this.dataModel=new bi;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateAdsTypeService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}};ya.\u0275fac=function(i){return new(i||ya)(v(Ve),v(Le),v(te),v(Hi),v(O),v(G),v(N),v(B))},ya.\u0275cmp=V({type:ya,selectors:[["app-estate-ads-type-add"]],viewQuery:function(i,t){if(i&1&&Q(np,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[Y],decls:51,vars:43,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],["StationLevel",""],["ViewLevel",""],["DayOfActivity",""],["SalePrice",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["role","list"],["role","listitem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.paymentForMainSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.paymentForMainSite","name","dataModel.paymentForMainSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.paymentForMainSite",1,"custom-control-label"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","selectFileType","isPopup","openForm","openDirectUploadView","tree","openFilemanagerButtonLabelKey","openFilemanagerButtonView"],[1,"form-actions"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.stationLevel",1,"color-highlight"],["matInput","","type","number","name","dataModel.stationLevel","id","dataModel.stationLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.viewLevel",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewLevel","id","dataModel.viewLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.dayOfActivity",1,"color-highlight"],["matInput","","type","number","name","dataModel.dayOfActivity","id","dataModel.dayOfActivity",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.salePrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.salePrice","id","dataModel.salePrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=I();a(0,"div",8),y(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),d(4),r(),a(5,"p"),d(6),_(7,"translate"),r(),y(8,"app-cms-form-result-message",12),a(9,"form",13,0),E("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),S(11,lp,10,10,"div",14),a(12,"div",14)(13,"label",15),d(14),r(),a(15,"textarea",16,1),w("ngModelChange",function(c){return u(l),T(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),r(),a(17,"em"),d(18),r(),S(19,sp,5,3,"mat-error"),r(),S(20,dp,5,5,"div",14),a(21,"mat-list",17),me(22,cp,2,1,"mat-list-item",18,pe),r(),S(24,pp,5,5,"div",14),a(25,"mat-list",17),me(26,mp,2,1,"mat-list-item",18,pe),r(),S(28,up,5,5,"div",14),S(29,fp,5,5,"div",14),a(30,"div",19)(31,"div",20)(32,"h5",21),d(33),r()(),a(34,"div",22)(35,"div",23)(36,"input",24),w("ngModelChange",function(c){return u(l),T(t.dataModel.paymentForMainSite,c)||(t.dataModel.paymentForMainSite=c),f(c)}),r(),y(37,"label",25),r()()(),a(38,"div",26)(39,"a",27),_(40,"cmsthumbnail"),S(41,_p,2,4,"img",28),r()(),a(42,"div",14)(43,"label",29),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),d(44),_(45,"translate"),r(),a(46,"input",30,2),_(48,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),r(),a(49,"cms-file-manager",31),E("itemSelected",function(c){return u(l),f(t.onActionFileSelected(c))}),w("openFormChange",function(c){return u(l),T(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),f(c)}),r()(),S(50,Cp,6,4,"div",32),r()()()}if(i&2){let l=A(16);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",g(7,35,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(3),M(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?11:-1),o(3),x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle))("disabled",P(!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessAddField))),b("ngModel",t.dataModel.description),o(3),h("",l.value.length," / 500"),o(),M(l.errors!=null&&l.errors.required?19:-1),o(),M(t.fieldsInfo.stationLevel!=null&&t.fieldsInfo.stationLevel.accessWatchField?20:-1),o(2),ue(t.dataModel.stationLevelDescription),o(2),M(t.fieldsInfo.viewLevel!=null&&t.fieldsInfo.viewLevel.accessWatchField?24:-1),o(2),ue(t.dataModel.viewLevelDescription),o(2),M(t.fieldsInfo.dayOfActivity!=null&&t.fieldsInfo.dayOfActivity.accessWatchField?28:-1),o(),M(t.fieldsInfo.salePrice!=null&&t.fieldsInfo.salePrice.accessWatchField?29:-1),o(4),h(" ",t.fieldsInfo.paymentForMainSite==null?null:t.fieldsInfo.paymentForMainSite.fieldTitle," "),o(3),b("ngModel",t.dataModel.paymentForMainSite),o(3),m("href",P(g(40,37,t.dataModel.linkMainImageIdSrc)),H),o(2),M((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?41:-1),o(3),x(g(45,39,"TITLE.Original_Photo")),o(2),m("placeholder",P(g(48,41,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),m("language",t.appLanguage)("selectFileType",t.selectFileTypeMainImage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),m("openDirectUploadView",!0)("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openFilemanagerButtonView",!1),o(),M(t.publicHelper.processService.process.inRunAll?-1:50)}},dependencies:[Re,X,Ft,Jt,$,Te,le,Ee,ge,_e,Ae,De,ee,kl,Ll,U,se,Bt,qe,W,he],encapsulation:2});var Wl=ya;var hp=["vform"];function yp(n,s){n&1&&y(0,"i",17)}function Sp(n,s){n&1&&y(0,"i",18)}function Mp(n,s){n&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function Ep(n,s){n&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function vp(n,s){if(n&1){let e=I();a(0,"div",14)(1,"label",37),d(2),r(),a(3,"input",38,4),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.stationLevel,t)||(l.dataModel.stationLevel=t),f(t)}),r()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.stationLevel==null?null:e.fieldsInfo.stationLevel.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.stationLevel==null?null:e.fieldsInfo.stationLevel.fieldTitle)),b("ngModel",e.dataModel.stationLevel),m("disabled",!(e.fieldsInfo.stationLevel!=null&&e.fieldsInfo.stationLevel.accessEditField))}}function Ip(n,s){if(n&1&&(a(0,"mat-list-item",22),d(1),r()),n&2){let e=s.$implicit;o(),x(e)}}function bp(n,s){if(n&1){let e=I();a(0,"div",14)(1,"label",39),d(2),r(),a(3,"input",40,5),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.viewLevel,t)||(l.dataModel.viewLevel=t),f(t)}),r()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.viewLevel==null?null:e.fieldsInfo.viewLevel.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.viewLevel==null?null:e.fieldsInfo.viewLevel.fieldTitle)),b("ngModel",e.dataModel.viewLevel),m("disabled",!(e.fieldsInfo.viewLevel!=null&&e.fieldsInfo.viewLevel.accessEditField))}}function Tp(n,s){if(n&1&&(a(0,"mat-list-item",22),d(1),r()),n&2){let e=s.$implicit;o(),x(e)}}function wp(n,s){if(n&1){let e=I();a(0,"div",14)(1,"label",41),d(2),r(),a(3,"input",42,6),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.dayOfActivity,t)||(l.dataModel.dayOfActivity=t),f(t)}),r()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.dayOfActivity==null?null:e.fieldsInfo.dayOfActivity.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.dayOfActivity==null?null:e.fieldsInfo.dayOfActivity.fieldTitle)),b("ngModel",e.dataModel.dayOfActivity),m("disabled",!(e.fieldsInfo.dayOfActivity!=null&&e.fieldsInfo.dayOfActivity.accessEditField))}}function xp(n,s){if(n&1){let e=I();a(0,"div",14)(1,"label",43),d(2),r(),a(3,"input",44,7),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.salePrice,t)||(l.dataModel.salePrice=t),f(t)}),r()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.salePrice==null?null:e.fieldsInfo.salePrice.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.salePrice==null?null:e.fieldsInfo.salePrice.fieldTitle)),b("ngModel",e.dataModel.salePrice),m("disabled",!(e.fieldsInfo.salePrice!=null&&e.fieldsInfo.salePrice.accessEditField))}}function Pp(n,s){if(n&1&&(y(0,"img",32),_(1,"cmsthumbnail")),n&2){let e=p();m("src",P(g(1,2,e.dataModel.linkMainImageIdSrc)),H)}}function Ap(n,s){if(n&1&&(a(0,"button",47),y(1,"i",48),d(2),_(3,"translate"),r()),n&2){p(2);let e=A(10);m("disabled",!e.form.valid),o(2),h(" ",g(3,2,"ACTION.SAVE")," ")}}function Rp(n,s){if(n&1){let e=I();a(0,"div",36)(1,"button",45),E("click",function(){u(e);let t=p();return f(t.onFormCancel())}),y(2,"i",46),d(3),_(4,"translate"),r(),S(5,Ap,4,4,"button",47),r()}if(n&2){let e=p();o(3),h(" ",g(4,2,"ACTION.CANCEL")," "),o(2),M(e.formInfo.submitButtonEnabled?5:-1)}}var Sa=class Sa extends Tt{constructor(e,i,t,l,C,c,L,q){super(l,new bi,c,q);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateAdsTypeService=l;this.cmsToastrService=C;this.publicHelper=c;this.cdr=L;this.translate=q;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ht;this.dataModel=new bi;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateAdsTypeService.setAccessLoad(),this.estateAdsTypeService.setAccessDataType(Be.Editor),this.estateAdsTypeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateAdsTypeService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}};Sa.\u0275fac=function(i){return new(i||Sa)(v(Ve),v(Le),v(te),v(Hi),v(O),v(G),v(N),v(B))},Sa.\u0275cmp=V({type:Sa,selectors:[["app-estate-ads-type-edit"]],viewQuery:function(i,t){if(i&1&&Q(hp,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[Y],decls:60,vars:48,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["StationLevel",""],["ViewLevel",""],["DayOfActivity",""],["SalePrice",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["role","list"],["role","listitem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.includeAllSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.paymentForMainSite","name","dataModel.paymentForMainSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.paymentForMainSite",1,"custom-control-label"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","selectFileType","isPopup","openForm","openDirectUploadView","tree","openFilemanagerButtonLabelKey","openFilemanagerButtonView"],[1,"form-actions"],["for","dataModel.stationLevel",1,"color-highlight"],["matInput","","type","number","name","dataModel.stationLevel","id","dataModel.stationLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.viewLevel",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewLevel","id","dataModel.viewLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.dayOfActivity",1,"color-highlight"],["matInput","","type","number","name","dataModel.dayOfActivity","id","dataModel.dayOfActivity",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.salePrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.salePrice","id","dataModel.salePrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=I();a(0,"div",8),y(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),d(4),r(),a(5,"p"),d(6),_(7,"translate"),r(),y(8,"app-cms-form-result-message",12),a(9,"form",13,0),E("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(11,"div",14)(12,"label",15),d(13),r(),a(14,"input",16,1),w("ngModelChange",function(c){return u(l),T(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),r(),S(16,yp,1,0,"i",17),S(17,Sp,1,0,"i",18),a(18,"em"),d(19),r(),S(20,Mp,5,3,"mat-error"),r(),a(21,"div",14)(22,"label",19),d(23),r(),a(24,"textarea",20,2),w("ngModelChange",function(c){return u(l),T(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),r(),a(26,"em"),d(27),r(),S(28,Ep,5,3,"mat-error"),r(),S(29,vp,5,5,"div",14),a(30,"mat-list",21),me(31,Ip,2,1,"mat-list-item",22,pe),r(),S(33,bp,5,5,"div",14),a(34,"mat-list",21),me(35,Tp,2,1,"mat-list-item",22,pe),r(),S(37,wp,5,5,"div",14),S(38,xp,5,5,"div",14),a(39,"div",23)(40,"div",24)(41,"h5",25),d(42),r()(),a(43,"div",26)(44,"div",27)(45,"input",28),w("ngModelChange",function(c){return u(l),T(t.dataModel.paymentForMainSite,c)||(t.dataModel.paymentForMainSite=c),f(c)}),r(),y(46,"label",29),r()()(),a(47,"div",30)(48,"a",31),_(49,"cmsthumbnail"),S(50,Pp,2,4,"img",32),r()(),a(51,"div",14)(52,"label",33),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),d(53),_(54,"translate"),r(),a(55,"input",34,3),_(57,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),r(),a(58,"cms-file-manager",35),E("itemSelected",function(c){return u(l),f(t.onActionFileSelected(c))}),w("openFormChange",function(c){return u(l),T(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),f(c)}),r()(),S(59,Rp,6,4,"div",36),r()()()}if(i&2){let l=A(15),C=A(25);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",g(7,40,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(5),x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),M(l.value?-1:16),o(),M(l.value?17:-1),o(2),h("",l.value.length," / 100"),o(),M(l.errors!=null&&l.errors.required?20:-1),o(3),x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(3),h("",C.value.length," / 500"),o(),M(C.errors!=null&&C.errors.required?28:-1),o(),M(t.fieldsInfo.stationLevel!=null&&t.fieldsInfo.stationLevel.accessWatchField?29:-1),o(2),ue(t.dataModel.stationLevelDescription),o(2),M(t.fieldsInfo.viewLevel!=null&&t.fieldsInfo.viewLevel.accessWatchField?33:-1),o(2),ue(t.dataModel.viewLevelDescription),o(2),M(t.fieldsInfo.dayOfActivity!=null&&t.fieldsInfo.dayOfActivity.accessWatchField?37:-1),o(),M(t.fieldsInfo.salePrice!=null&&t.fieldsInfo.salePrice.accessWatchField?38:-1),o(4),h(" ",t.fieldsInfo.paymentForMainSite==null?null:t.fieldsInfo.paymentForMainSite.fieldTitle," "),o(3),b("ngModel",t.dataModel.paymentForMainSite),o(3),m("href",P(g(49,42,t.dataModel.linkMainImageIdSrc)),H),o(2),M((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?50:-1),o(3),x(g(54,44,"TITLE.PHOTO_FILE")),o(2),m("placeholder",P(g(57,46,"TITLE.Icon_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),m("language",t.appLanguage)("selectFileType",t.selectFileTypeMainImage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),m("openDirectUploadView",!0)("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openFilemanagerButtonView",!1),o(),M(t.publicHelper.processService.process.inRunAll?-1:59)}},dependencies:[Re,X,Ft,Jt,$,Te,le,Ee,ge,_e,Ae,De,ee,kl,Ll,U,se,Bt,qe,W,he],encapsulation:2});var Hl=Sa;var Dp=()=>[5,10,20,100];function kp(n,s){if(n&1){let e=I();a(0,"div",15)(1,"a",41),E("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),y(2,"i",42)(3,"br"),r(),a(4,"p",19),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.ADD")," "))}function Lp(n,s){if(n&1){let e=I();a(0,"div",15)(1,"a",43),E("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),y(2,"i",44)(3,"br"),r(),a(4,"p",19),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.EDIT")," "))}function Vp(n,s){if(n&1){let e=I();a(0,"div",15)(1,"a",45),E("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),y(2,"i",46)(3,"br"),r(),a(4,"p",19),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.DELETE")," "))}function Fp(n,s){n&1&&(a(0,"mat-header-cell",47),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.PICTURE")," "))}function Bp(n,s){if(n&1&&(y(0,"img",48),_(1,"cmsthumbnail")),n&2){let e=p().$implicit;m("src",P(g(1,2,e.linkMainImageIdSrc)),H)}}function Op(n,s){if(n&1&&(a(0,"mat-cell"),S(1,Bp,2,4,"img",48),r()),n&2){let e=s.$implicit;o(),M((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function Np(n,s){if(n&1&&(a(0,"mat-header-cell",47),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Gp(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.id," ")}}function Wp(n,s){if(n&1&&(a(0,"mat-header-cell",47),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.linkPropertyId==null?null:e.fieldsInfo.linkPropertyId.fieldTitle," ")}}function Hp(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.linkPropertyId," ")}}function jp(n,s){if(n&1&&(a(0,"mat-header-cell",47),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Up(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.title," ")}}function qp(n,s){if(n&1&&(a(0,"mat-header-cell",47),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.stationLevel==null?null:e.fieldsInfo.stationLevel.fieldTitle," ")}}function Qp(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.stationLevel," ")}}function zp(n,s){if(n&1&&(a(0,"mat-header-cell",47),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.viewLevel==null?null:e.fieldsInfo.viewLevel.fieldTitle," ")}}function Kp(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.viewLevel," ")}}function Zp(n,s){if(n&1&&(a(0,"mat-header-cell",47),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.dayOfActivity==null?null:e.fieldsInfo.dayOfActivity.fieldTitle," ")}}function Yp(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.dayOfActivity," ")}}function Jp(n,s){if(n&1&&(a(0,"mat-header-cell",47),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.salePrice==null?null:e.fieldsInfo.salePrice.fieldTitle," ")}}function Xp(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.salePrice," ")}}function $p(n,s){n&1&&(a(0,"mat-header-cell"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.OPTION")," "))}function em(n,s){if(n&1&&(a(0,"mat-cell",49)(1,"button",50)(2,"mat-icon"),d(3,"more_vert"),r()(),y(4,"mat-menu",null,2),r()),n&2){let e=A(5);o(),m("matMenuTriggerFor",e)}}function tm(n,s){n&1&&y(0,"mat-header-row")}function im(n,s){if(n&1){let e=I();a(0,"mat-row",51),E("click",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))}),r()}if(n&2){let e=s.$implicit,i=p();ne("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ma=class Ma extends wt{constructor(e,i,t,l,C,c,L,q,Se,je,Ke,Ot){super(e,new bi,Ke,l,q);this.contentService=e;this.cmsConfirmationDialogService=i;this.cmsToastrService=t;this.tokenHelper=l;this.router=C;this.cdr=c;this.themeService=L;this.translate=q;this.cmsStoreService=Se;this.pageInfo=je;this.publicHelper=Ke;this.dialog=Ot;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new oe;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","StationLevel","ViewLevel","LinkPropertyId","DayOfActivity","SalePrice"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","StationLevel","SalePrice"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ii=>this.onSubmitOptionsSearch(ii)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=J.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Me(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new bi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess&&(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=J.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Wl,{height:"90%",panelClass:e,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Hl,{height:"90%",panelClass:i,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let C=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(C,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})}onActionButtonContentList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/estate/property/LinkAdsTypeId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkAdsTypeId/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{i.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),C=new Z;C.propertyName="recordStatus",C.value=He.Available,l.filters.push(C),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{i.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Ma.\u0275fac=function(i){return new(i||Ma)(v(Hi),v(bt),v(O),v(de),v(ke),v(N),v(jt),v(B),v(Ce),v(It),v(G),v(Oe))},Ma.\u0275cmp=V({type:Ma,selectors:[["app-estate-ads-type-list"]],standalone:!1,features:[Y],decls:69,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","LinkPropertyId"],["matColumnDef","title"],["matColumnDef","StationLevel"],["matColumnDef","ViewLevel"],["matColumnDef","DayOfActivity"],["matColumnDef","SalePrice"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=I();a(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(c){return u(l),T(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),E("optionOnActionButtonMemoRow",function(){return u(l),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(l),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(l),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(l),f(t.onActionButtonPrintRow())}),D(1,4),d(2," -------------------------------------- "),k(),Ye(3,5)(4,6),D(5,7),a(6,"a",8),E("click",function(){return u(l),f(t.viewGuideNotice=!t.viewGuideNotice)}),y(7,"i",9),r(),a(8,"a",8),E("click",function(){return u(l),f(t.onActionButtonReload())}),y(9,"i",10),r(),k(),D(10,11),a(11,"a",12),E("click",function(){return u(l),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),y(12,"mat-slide-toggle",13),d(13),_(14,"translate"),r(),a(15,"a",12),E("click",function(){return u(l),f(t.onActionButtonStatist())}),y(16,"mat-slide-toggle",13),d(17),_(18,"translate"),r(),k(),D(19,14),S(20,kp,7,3,"div",15),k(),D(21,16),S(22,Lp,7,3,"div",15),S(23,Vp,7,3,"div",15),a(24,"div",15)(25,"a",17),E("click",function(c){return u(l),f(t.onActionButtonContentList(t.tableRowSelected,c))}),y(26,"i",18)(27,"br"),r(),a(28,"p",19),d(29),_(30,"translate"),r()(),k(),D(31,20),a(32,"app-cms-search-list",21),w("optionsChange",function(c){return u(l),T(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),r(),a(33,"app-cms-statist-list",21),w("optionsChange",function(c){return u(l),T(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),r(),k(),D(34,22),a(35,"mat-table",23,0),E("matSortChange",function(){u(l);let c=A(36);return f(t.onTableSortData(c))}),D(37,24),R(38,Fp,3,3,"mat-header-cell",25)(39,Op,2,1,"mat-cell",26),k(),D(40,27),R(41,Np,2,1,"mat-header-cell",25)(42,Gp,2,1,"mat-cell",26),k(),D(43,28),R(44,Wp,2,1,"mat-header-cell",25)(45,Hp,2,1,"mat-cell",26),k(),D(46,29),R(47,jp,2,1,"mat-header-cell",25)(48,Up,2,1,"mat-cell",26),k(),D(49,30),R(50,qp,2,1,"mat-header-cell",25)(51,Qp,2,1,"mat-cell",26),k(),D(52,31),R(53,zp,2,1,"mat-header-cell",25)(54,Kp,2,1,"mat-cell",26),k(),D(55,32),R(56,Zp,2,1,"mat-header-cell",25)(57,Yp,2,1,"mat-cell",26),k(),D(58,33),R(59,Jp,2,1,"mat-header-cell",25)(60,Xp,2,1,"mat-cell",26),k(),D(61,34),R(62,$p,3,3,"mat-header-cell",35)(63,em,6,1,"mat-cell",36),k(),R(64,tm,1,0,"mat-header-row",37)(65,im,1,2,"mat-row",38),r(),k(),D(66,39),a(67,"mat-paginator",40,1),E("page",function(c){return u(l),f(t.onTablePageingData(c))}),r(),k(),r()}i&2&&(m("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),m("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),ne("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),m("checked",t.optionsSearch.data.show),o(),h("",g(14,26,"ACTION.SEARCH")," "),o(3),m("checked",t.optionsStatist.data.show),o(),h("",g(18,28,"ACTION.STATIST")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(6),h(" ",g(30,30,"ACTION.Property_to_be_traded")," "),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),m("dataSource",t.tableSource),o(29),m("matHeaderRowDef",t.tabledisplayedColumns),o(),m("matRowDefColumns",t.tabledisplayedColumns),o(2),m("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",fe(32,Dp)))},dependencies:[Ue,we,yt,St,Mt,ft,Et,vt,$e,tt,at,it,et,rt,nt,ot,lt,st,xt,Pt,At,Rt,W,he],encapsulation:2});var Ea=Ma;var nm=["tagInput"];function om(n,s){if(n&1){let e=I();a(0,"mat-chip",8),E("removed",function(){let t=u(e).$implicit,l=p();return f(l.remove(t))}),d(1),a(2,"button",9)(3,"mat-icon"),d(4,"cancel"),r()()()}if(n&2){let e=s.$implicit;o(),h(" ",e.display," ")}}function am(n,s){if(n&1&&(a(0,"mat-option",7),d(1),r()),n&2){let e=s.$implicit;m("value",e),o(),h(" ",e.display," ")}}var va=class va{constructor(s,e,i){this.service=s;this.cmsToastrService=e;this.translate=i;this.constructorInfoAreaId=this.constructor.name;this.optionDisabled=!1;this.optionPlaceholder="+ Tag";this.optionLabel="";this.optionChange=new Vt;this.tagDataModel=[];this.tagLastDataModel=[];this.selectForceStatus=!0;this.separatorKeysCodes=[13];this.tagCtrl=new si("");this.addOnBlur=!0;this.filteredOptions=this.tagCtrl.valueChanges.pipe(Ni(null),Oi(400),Gi(t=>this.filter(t||"")))}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}filter(s){let e=new oe;e.rowPerPage=20,e.accessLoad=!0;let i=new Z;return s&&s.length>0&&(i.propertyName="title",i.value=s,i.searchType=kt.Contains,i.clauseType=Ct.Or,e.filters.push(i)),s&&typeof s=="string"&&s.length>10&&(i=new Z,i.propertyName="id",i.value=s,i.searchType=kt.Equal,i.clauseType=Ct.Or,e.filters.push(i)),this.service.ServiceGetAll(e).pipe(Bi(t=>(this.tagLastDataModel=t.listItems.map(l=>({display:l.titleML,value:l.id})),this.tagLastDataModel)))}checkIndex(s){let e=0,i=-1;return this.tagDataModel.forEach(t=>{t.value==s&&(i=e),e++}),i}add(s){let e;s.value&&this.tagLastDataModel.forEach(i=>{(i.display==s.value||i.value+""==s.value)&&(e=i)}),e&&this.checkIndex(e.value)<0&&(this.tagDataModel.push(e),this.onActionChange()),s.chipInput.clear(),this.tagCtrl.setValue(null)}remove(s){let e=this.checkIndex(s.value);e>=0&&(this.tagDataModel.splice(e,1),this.onActionChange())}selected(s){let e=s.option.value;this.checkIndex(e.value)<0&&this.tagDataModel.push(e),this.tagInput.nativeElement.value="",this.tagCtrl.setValue(null),this.onActionChange()}onActionChange(){let s=[];this.tagDataModel.forEach(e=>{s.findIndex(i=>i==e.value)<0&&s.push(e.value)}),this.selectForceStatus=!1,this.optionChange.emit(s)}onActionSelectForce(s){if(!this.selectForceStatus||!s||s.length===0)return;let e=new oe;s.forEach(i=>{if(i.length>0){let t=new Z;t.propertyName="id",t.value=i,t.clauseType=Ct.Or,e.filters.push(t)}}),this.service.ServiceGetAll(e).subscribe({next:i=>{i.isSuccess?i.listItems.forEach(t=>{this.tagDataModel.findIndex(l=>l.value==t.id)<0&&this.tagDataModel.push({value:t.id,display:t.titleML})}):this.cmsToastrService.typeErrorGetAll(i.errorMessage)},error:i=>{this.cmsToastrService.typeErrorGetAll(i)}})}};va.\u0275fac=function(e){return new(e||va)(v(Di),v(O),v(B))},va.\u0275cmp=V({type:va,selectors:[["app-estate-property-type-landuse-autocomplete"]],viewQuery:function(e,i){if(e&1&&Q(nm,5),e&2){let t;z(t=K())&&(i.tagInput=t.first)}},inputs:{optionDisabled:"optionDisabled",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,decls:14,vars:10,consts:[["chipList",""],["tagInput",""],["auto","matAutocomplete"],["appearance","fill",2,"width","100%"],["aria-label","tag selection",3,"disabled"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","formControl","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionSelected"],[3,"value"],[3,"removed"],["type","button","matChipRemove",""]],template:function(e,i){if(e&1){let t=I();a(0,"mat-form-field",3)(1,"mat-label"),d(2),r(),a(3,"mat-chip-grid",4,0),me(5,om,5,1,"mat-chip",null,pe),a(7,"input",5,1),E("matChipInputTokenEnd",function(C){return u(t),f(i.add(C))}),r()(),a(9,"mat-autocomplete",6,2),E("optionSelected",function(C){return u(t),f(i.selected(C))}),me(11,am,2,2,"mat-option",7,pe),_(13,"async"),r()()}if(e&2){let t=A(4),l=A(10);o(2),x(i.optionLabel),o(),m("disabled",i.optionDisabled),o(2),ue(i.tagDataModel),o(2),m("placeholder"," + "+i.optionPlaceholder)("matChipInputAddOnBlur",i.addOnBlur)("formControl",i.tagCtrl)("matAutocomplete",l)("matChipInputFor",t)("matChipInputSeparatorKeyCodes",i.separatorKeysCodes),o(4),ue(g(13,8,i.filteredOptions))}},dependencies:[X,$,qi,zi,Qi,Ki,$t,ei,ti,Xt,ri,ai,we,pt],encapsulation:2});var Ia=va;var rm=["tagInput"];function lm(n,s){if(n&1){let e=I();a(0,"mat-chip",8),E("removed",function(){let t=u(e).$implicit,l=p();return f(l.remove(t))}),d(1),a(2,"button",9)(3,"mat-icon"),d(4,"cancel"),r()()()}if(n&2){let e=s.$implicit;o(),h(" ",e.display," ")}}function sm(n,s){if(n&1&&(a(0,"mat-option",7),d(1),r()),n&2){let e=s.$implicit;m("value",e),o(),h(" ",e.display," ")}}var Ta=class Ta{constructor(s,e,i){this.service=s;this.cmsToastrService=e;this.translate=i;this.constructorInfoAreaId=this.constructor.name;this.optionDisabled=!1;this.optionPlaceholder="+ Tag";this.optionLabel="";this.optionChange=new Vt;this.tagDataModel=[];this.tagLastDataModel=[];this.selectForceStatus=!0;this.separatorKeysCodes=[13];this.tagCtrl=new si("");this.addOnBlur=!0;this.filteredOptions=this.tagCtrl.valueChanges.pipe(Ni(null),Oi(400),Gi(t=>this.filter(t||"")))}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}filter(s){let e=new oe;e.rowPerPage=20,e.accessLoad=!0;let i=new Z;return s&&s.length>0&&(i.propertyName="title",i.value=s,i.searchType=kt.Contains,i.clauseType=Ct.Or,e.filters.push(i)),s&&typeof s=="string"&&s.length>10&&(i=new Z,i.propertyName="id",i.value=s,i.searchType=kt.Equal,i.clauseType=Ct.Or,e.filters.push(i)),this.service.ServiceGetAll(e).pipe(Bi(t=>(this.tagLastDataModel=t.listItems.map(l=>({display:l.titleML,value:l.id})),this.tagLastDataModel)))}checkIndex(s){var e=0,i=-1;return this.tagDataModel.forEach(t=>{t.value==s&&(i=e),e++}),i}add(s){var e;s.value&&this.tagLastDataModel.forEach(i=>{(i.display==s.value||i.value+""==s.value)&&(e=i)}),e&&this.checkIndex(e.value)<0&&(this.tagDataModel.push(e),this.onActionChange()),s.chipInput.clear(),this.tagCtrl.setValue(null)}remove(s){let e=this.checkIndex(s.value);e>=0&&(this.tagDataModel.splice(e,1),this.onActionChange())}selected(s){let e=s.option.value;this.checkIndex(e.value)<0&&this.tagDataModel.push(e),this.tagInput.nativeElement.value="",this.tagCtrl.setValue(null),this.onActionChange()}onActionChange(){let s=[];this.tagDataModel.forEach(e=>{s.findIndex(i=>i==e.value)<0&&s.push(e.value)}),this.selectForceStatus=!1,this.optionChange.emit(s)}onActionSelectForce(s){if(!this.selectForceStatus||!s||s.length===0)return;let e=new oe;s.forEach(i=>{if(i.length>0){let t=new Z;t.propertyName="id",t.value=i,t.clauseType=Ct.Or,e.filters.push(t)}}),this.service.ServiceGetAll(e).subscribe({next:i=>{i.isSuccess?i.listItems.forEach(t=>{this.tagDataModel.findIndex(l=>l.value==t.id)<0&&this.tagDataModel.push({value:t.id,display:t.titleML})}):this.cmsToastrService.typeErrorGetAll(i.errorMessage)},error:i=>{this.cmsToastrService.typeErrorGetAll(i)}})}};Ta.\u0275fac=function(e){return new(e||Ta)(v(bn),v(O),v(B))},Ta.\u0275cmp=V({type:Ta,selectors:[["app-estate-property-type-usage-autocomplete"]],viewQuery:function(e,i){if(e&1&&Q(rm,5),e&2){let t;z(t=K())&&(i.tagInput=t.first)}},inputs:{optionDisabled:"optionDisabled",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,decls:14,vars:10,consts:[["chipList",""],["tagInput",""],["auto","matAutocomplete"],["appearance","fill",2,"width","100%"],["aria-label","tag selection",3,"disabled"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","formControl","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionSelected"],[3,"value"],[3,"removed"],["type","button","matChipRemove",""]],template:function(e,i){if(e&1){let t=I();a(0,"mat-form-field",3)(1,"mat-label"),d(2),r(),a(3,"mat-chip-grid",4,0),me(5,lm,5,1,"mat-chip",null,pe),a(7,"input",5,1),E("matChipInputTokenEnd",function(C){return u(t),f(i.add(C))}),r()(),a(9,"mat-autocomplete",6,2),E("optionSelected",function(C){return u(t),f(i.selected(C))}),me(11,sm,2,2,"mat-option",7,pe),_(13,"async"),r()()}if(e&2){let t=A(4),l=A(10);o(2),x(i.optionLabel),o(),m("disabled",i.optionDisabled),o(2),ue(i.tagDataModel),o(2),m("placeholder"," + "+i.optionPlaceholder)("matChipInputAddOnBlur",i.addOnBlur)("formControl",i.tagCtrl)("matAutocomplete",l)("matChipInputFor",t)("matChipInputSeparatorKeyCodes",i.separatorKeysCodes),o(4),ue(g(13,8,i.filteredOptions))}},dependencies:[X,$,qi,zi,Qi,Ki,$t,ei,ti,Xt,ri,ai,we,pt],encapsulation:2});var wa=Ta;var dm=["tagInput"];function cm(n,s){if(n&1){let e=I();a(0,"mat-chip",8),E("removed",function(){let t=u(e).$implicit,l=p();return f(l.remove(t))}),d(1),a(2,"button",9)(3,"mat-icon"),d(4,"cancel"),r()()()}if(n&2){let e=s.$implicit;o(),h(" ",e.display," ")}}function pm(n,s){if(n&1&&(a(0,"mat-option",7),d(1),r()),n&2){let e=s.$implicit;m("value",e),o(),h(" ",e.display," ")}}var xa=class xa{constructor(s,e,i){this.service=s;this.cmsToastrService=e;this.translate=i;this.constructorInfoAreaId=this.constructor.name;this.optionDisabled=!1;this.optionPlaceholder="+ Tag";this.optionLabel="";this.optionChange=new Vt;this.tagDataModel=[];this.tagLastDataModel=[];this.selectForceStatus=!0;this.separatorKeysCodes=[13];this.tagCtrl=new si("");this.addOnBlur=!0;this.filteredOptions=this.tagCtrl.valueChanges.pipe(Ni(null),Oi(400),Gi(t=>this.filter(t||"")))}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}filter(s){let e=new oe;e.rowPerPage=20,e.accessLoad=!0;let i=new Z;return i.propertyName="title",i.value=s,i.searchType=kt.Contains,i.clauseType=Ct.Or,e.filters.push(i),s&&typeof+s=="number"&&+s>0&&(i=new Z,i.propertyName="id",i.value=s,i.searchType=kt.Equal,i.clauseType=Ct.Or,e.filters.push(i)),this.service.ServiceGetAll(e).pipe(Bi(t=>(this.tagLastDataModel=t.listItems.map(l=>({display:l.titleML,value:l.id})),this.tagLastDataModel)))}checkIndex(s){var e=0,i=-1;return this.tagDataModel.forEach(t=>{t.value==s&&(i=e),e++}),i}add(s){var e;s.value&&this.tagLastDataModel.forEach(i=>{(i.display==s.value||i.value+""==s.value)&&(e=i)}),e&&this.checkIndex(e.value)<0&&(this.tagDataModel.push(e),this.onActionChange()),s.chipInput.clear(),this.tagCtrl.setValue(null)}remove(s){let e=this.checkIndex(s.value);e>=0&&(this.tagDataModel.splice(e,1),this.onActionChange())}selected(s){let e=s.option.value;this.checkIndex(e.value)<0&&this.tagDataModel.push(e),this.tagInput.nativeElement.value="",this.tagCtrl.setValue(null),this.onActionChange()}onActionChange(){let s=[];this.tagDataModel.forEach(e=>{s.findIndex(i=>i==e.value)<0&&s.push(e.value)}),this.selectForceStatus=!1,this.optionChange.emit(s)}onActionSelectForce(s){if(!this.selectForceStatus||!s||s.length===0)return;let e=new oe;s.forEach(i=>{if(i.length>0){let t=new Z;t.propertyName="id",t.value=i,t.clauseType=Ct.Or,e.filters.push(t)}}),this.service.ServiceGetAll(e).subscribe({next:i=>{i.isSuccess?i.listItems.forEach(t=>{this.tagDataModel.findIndex(l=>l.value==t.id)<0&&this.tagDataModel.push({value:t.id,display:t.titleML})}):this.cmsToastrService.typeErrorGetAll(i.errorMessage)},error:i=>{this.cmsToastrService.typeErrorGetAll(i)}})}};xa.\u0275fac=function(e){return new(e||xa)(v(Pi),v(O),v(B))},xa.\u0275cmp=V({type:xa,selectors:[["app-estate-contract-type-autocomplete"]],viewQuery:function(e,i){if(e&1&&Q(dm,5),e&2){let t;z(t=K())&&(i.tagInput=t.first)}},inputs:{optionDisabled:"optionDisabled",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,decls:14,vars:10,consts:[["chipList",""],["tagInput",""],["auto","matAutocomplete"],["appearance","fill",2,"width","100%"],["aria-label","tag selection",3,"disabled"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","formControl","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionSelected"],[3,"value"],[3,"removed"],["type","button","matChipRemove",""]],template:function(e,i){if(e&1){let t=I();a(0,"mat-form-field",3)(1,"mat-label"),d(2),r(),a(3,"mat-chip-grid",4,0),me(5,cm,5,1,"mat-chip",null,pe),a(7,"input",5,1),E("matChipInputTokenEnd",function(C){return u(t),f(i.add(C))}),r()(),a(9,"mat-autocomplete",6,2),E("optionSelected",function(C){return u(t),f(i.selected(C))}),me(11,pm,2,2,"mat-option",7,pe),_(13,"async"),r()()}if(e&2){let t=A(4),l=A(10);o(2),x(i.optionLabel),o(),m("disabled",i.optionDisabled),o(2),ue(i.tagDataModel),o(2),m("placeholder"," + "+i.optionPlaceholder)("matChipInputAddOnBlur",i.addOnBlur)("formControl",i.tagCtrl)("matAutocomplete",l)("matChipInputFor",t)("matChipInputSeparatorKeyCodes",i.separatorKeysCodes),o(4),ue(g(13,8,i.filteredOptions))}},dependencies:[X,$,qi,zi,Qi,Ki,$t,ei,ti,Xt,ri,ai,we,pt],encapsulation:2});var Pa=xa;var fm=["vform"];function _m(n,s){n&1&&y(0,"i",18)}function gm(n,s){n&1&&y(0,"i",19)}function Cm(n,s){n&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function hm(n,s){n&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function ym(n,s){n&1&&(a(0,"mat-error"),d(1," DescriptionHidden is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function Sm(n,s){if(n&1){let e=I();a(0,"div",15)(1,"label",47),d(2),_(3,"translate"),r(),a(4,"textarea",48,5),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.descriptionHidden,t)||(l.dataModel.descriptionHidden=t),f(t)}),r(),a(6,"em"),d(7),r(),S(8,ym,5,3,"mat-error"),r()}if(n&2){let e=A(5),i=p();o(2),x(g(3,6,"TITLE.Description_Hidden")),o(2),m("placeholder",P(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",i.dataModel.descriptionHidden),o(3),h("",e.value.length," / 500"),o(),M(e.errors!=null&&e.errors.required?8:-1)}}function Mm(n,s){if(n&1){let e=I();a(0,"div",15)(1,"label",49),d(2),r(),a(3,"input",50,6),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.speedView,t)||(l.dataModel.speedView=t),f(t)}),r()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.speedView==null?null:e.fieldsInfo.speedView.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.speedView==null?null:e.fieldsInfo.speedView.fieldTitle)),b("ngModel",e.dataModel.speedView),m("disabled",!(e.fieldsInfo.speedView!=null&&e.fieldsInfo.speedView.accessAddField))}}function Em(n,s){if(n&1){let e=I();a(0,"div",15)(1,"label",51),d(2),r(),a(3,"input",52,7),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.reloadViewPerMin,t)||(l.dataModel.reloadViewPerMin=t),f(t)}),r()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.reloadViewPerMin==null?null:e.fieldsInfo.reloadViewPerMin.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.reloadViewPerMin==null?null:e.fieldsInfo.reloadViewPerMin.fieldTitle)),b("ngModel",e.dataModel.reloadViewPerMin),m("disabled",!(e.fieldsInfo.reloadViewPerMin!=null&&e.fieldsInfo.reloadViewPerMin.accessAddField))}}function vm(n,s){if(n&1&&(y(0,"img",24),_(1,"cmsthumbnail")),n&2){let e=p();m("src",P(g(1,2,e.dataModel.linkMainImageIdSrc)),H)}}function Im(n,s){n&1&&(a(0,"p"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"MESSAGE.Content_of_your_choice_to_display_On_this_billboard")," "))}function bm(n,s){n&1&&(a(0,"P"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"MESSAGE.Selecting_any_of_the_following_will_make_the_search_results_range_smaller")))}function Tm(n,s){if(n&1){let e=I();a(0,"app-estate-property-type-usage-autocomplete",53),_(1,"translate"),E("optionChange",function(t){u(e);let l=p();return f(l.onActionSelectorSelectUsage(t))}),r()}if(n&2){let e=p();m("optionDisabled",!(e.fieldsInfo.linkPropertyTypeUsageIds!=null&&e.fieldsInfo.linkPropertyTypeUsageIds.accessAddField))("optionSelectForce",e.dataModel.linkPropertyTypeUsageIds)("optionPlaceholder",g(1,3,"TITLE.Type_Usage"))}}function wm(n,s){if(n&1){let e=I();a(0,"app-estate-property-type-landuse-autocomplete",53),_(1,"translate"),E("optionChange",function(t){u(e);let l=p();return f(l.onActionSelectorSelectLanduse(t))}),r()}if(n&2){let e=p();m("optionDisabled",!(e.fieldsInfo.linkPropertyTypeLanduseIds!=null&&e.fieldsInfo.linkPropertyTypeLanduseIds.accessAddField))("optionSelectForce",e.dataModel.linkPropertyTypeLanduseIds)("optionPlaceholder",g(1,3,"TITLE.Property_Type"))}}function xm(n,s){if(n&1){let e=I();a(0,"app-estate-contract-type-autocomplete",53),_(1,"translate"),E("optionChange",function(t){u(e);let l=p();return f(l.onActionSelectorContarctType(t))}),r()}if(n&2){let e=p();m("optionDisabled",!(e.fieldsInfo.linkContractTypeIds!=null&&e.fieldsInfo.linkContractTypeIds.accessAddField))("optionSelectForce",e.dataModel.linkContractTypeIds)("optionPlaceholder",g(1,3,"TITLE.Transaction_type"))}}function Pm(n,s){if(n&1){let e=I();a(0,"app-cms-currency-selector",54),_(1,"translate"),E("optionChange",function(t){u(e);let l=p();return f(l.onActionSelectCurrency(t))}),r()}if(n&2){let e=p();m("optionSelectFirstItem",!0)("optionSelectForce",e.dataModel.linkCoreCurrencyId)("optionPlaceholder",g(1,3,"TITLE.Specify_the_transaction_currency"))}}function Am(n,s){if(n&1){let e=I();a(0,"app-cms-location-autocomplete",53),_(1,"translate"),E("optionChange",function(t){u(e);let l=p();return f(l.onActionSelectorLocation(t))}),r()}if(n&2){let e=p();m("optionDisabled",!(e.fieldsInfo.linkLocationIds!=null&&e.fieldsInfo.linkLocationIds.accessAddField))("optionSelectForce",e.dataModel.linkLocationIds)("optionPlaceholder",g(1,3,"TITLE.Region"))}}function Rm(n,s){if(n&1&&(a(0,"option",42),d(1),r()),n&2){let e=s.$implicit;m("value",e.fieldName),o(),h(" ",e.fieldTitle," ")}}function Dm(n,s){if(n&1){let e=I();a(0,"div",45)(1,"a",55),E("click",function(){u(e);let t=p();return f(t.onActionSortArrow())}),y(2,"i",56),_(3,"sortTypeIconClass"),r()()}if(n&2){let e=p();o(2),m("ngClass",g(3,1,e.dataModel.resultSortType))}}function km(n,s){if(n&1){let e=I();a(0,"div",46)(1,"button",57),E("click",function(){u(e);let t=p();return f(t.onFormCancel())}),y(2,"i",58),d(3),_(4,"translate"),r(),a(5,"button",59),y(6,"i",60),d(7),_(8,"translate"),r()()}if(n&2){p();let e=A(11);o(3),h(" ",g(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),h(" ",g(8,5,"ACTION.SAVE")," ")}}var Aa=class Aa extends _t{constructor(e,i,t,l,C,c,L,q){super(t,new Gn,c,q);this.router=e;this.coreEnumService=i;this.estateBillboardService=t;this.cmsToastrService=l;this.activatedRoute=C;this.publicHelper=c;this.cdr=L;this.translate=q;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModel=new Gn;this.dataModelCorCurrencySelector=new En;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.LinkPropertyIdsInUse=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.requestId=this.activatedRoute.snapshot.paramMap.get("id")}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.requestId&&this.requestId.length>0&&this.DataGetOneContent()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateBillboardService.ServiceAdd(this.dataModel).subscribe({next:i=>{i.isSuccess?(this.DataGetOneContent(),this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.router.navigate(["/estate/billboard/edit",i.item.id])):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateBillboardService.setAccessLoad(),this.estateBillboardService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateBillboardService.ServiceEdit(this.dataModel).subscribe({next:i=>{i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionSelectorSelectUsage(e){this.dataModel.linkPropertyTypeUsageIds=e}onActionSelectorContarctType(e){this.dataModel.linkContractTypeIds=e}onActionSelectorSelectLanduse(e){this.dataModel.linkPropertyTypeLanduseIds=e}onActionSelectorLocation(e){this.dataModel.linkLocationIds=e}onActionSelectorProperty(e){this.dataModel.linkPropertyIds=e,this.dataModel.linkPropertyIds&&this.dataModel.linkPropertyIds.length>0?(this.LinkPropertyIdsInUse=!0,this.dataModel.linkPropertyTypeUsageIds=null,this.dataModel.linkContractTypeIds=null,this.dataModel.linkPropertyTypeLanduseIds=null,this.dataModel.linkLocationIds=null):this.LinkPropertyIdsInUse=!1}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.dataModel.id&&this.dataModel.id.length>0?this.DataEditContent():this.DataAddContent())}onFormCancel(){this.router.navigate(["/estate/billboard/"])}onActionSelectCurrency(e){if(!e||e.id<=0){this.dataModelCorCurrencySelector=null,this.dataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=e,this.dataModel.linkCoreCurrencyId=e.id}onActionSortArrow(){this.dataModel.resultSortType==J.Ascending?this.dataModel.resultSortType=J.Descending:this.dataModel.resultSortType==J.Descending?this.dataModel.resultSortType=J.Random:this.dataModel.resultSortType==J.Random?this.dataModel.resultSortType=J.Ascending:this.dataModel.resultSortType=J.Ascending}};Aa.\u0275fac=function(i){return new(i||Aa)(v(ke),v(te),v(Xn),v(O),v(Gt),v(G),v(N),v(B))},Aa.\u0275cmp=V({type:Aa,selectors:[["app-estate-billboard-add"]],viewQuery:function(i,t){if(i&1&&(Q(fm,5),Q(Je,5)),i&2){let l;z(l=K())&&(t.formGroup=l.first),z(l=K())&&(t.estatePropertyList=l.first)}},standalone:!1,features:[Y],decls:85,vars:70,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["ResultSortColumn","ngModel"],["DescriptionHidden",""],["SpeedView",""],["ReloadViewPerMin",""],[3,"Key","svg"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[3,"optionChange","optionDisabled","optionPlaceholder","optionSelectForce"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.includeAllSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.includeAllSite","name","dataModel.includeAllSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.includeAllSite",1,"custom-control-label"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[1,"row","mb-0"],[1,"col-10","pe-0"],["for","dataModel.resultSortColumn",1,"color-highlight"],["id","dataModel.resultSortColumn","name","dataModel.resultSortColumn",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value"],[1,"fa","fa-chevron-down"],[1,"col-2","ps-0"],[1,"col-md-2","col-sm-2","col-xs-2","resultSortIcon",2,"margin","auto"],[1,"form-actions"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.speedView",1,"color-highlight"],["type","number","name","dataModel.speedView","min","3","max","10","id","dataModel.speedView",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.reloadViewPerMin",1,"color-highlight"],["type","number","name","dataModel.reloadViewPerMin","min","1","max","10","id","dataModel.reloadViewPerMin",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[3,"click"],[2,"color","black",3,"ngClass"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=I();y(0,"app-cms-guide-notice",8),a(1,"div",9),y(2,"app-progress-spinner",10),a(3,"div",11)(4,"p",12),d(5),r(),a(6,"p"),d(7),_(8,"translate"),r(),y(9,"app-cms-form-result-message",13),a(10,"form",14,0),E("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(12,"div",15)(13,"label",16),d(14),r(),a(15,"input",17,1),w("ngModelChange",function(c){return u(l),T(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),r(),S(17,_m,1,0,"i",18),S(18,gm,1,0,"i",19),a(19,"em"),d(20),r(),S(21,Cm,5,3,"mat-error"),r(),a(22,"div",15)(23,"label",20),d(24),r(),a(25,"textarea",21,2),w("ngModelChange",function(c){return u(l),T(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),r(),a(27,"em"),d(28),r(),S(29,hm,5,3,"mat-error"),r(),S(30,Sm,9,8,"div",15),S(31,Mm,5,5,"div",15),S(32,Em,5,5,"div",15),a(33,"div",22)(34,"a",23),_(35,"cmsthumbnail"),S(36,vm,2,4,"img",24),r()(),a(37,"div",15)(38,"label",25),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),d(39),_(40,"translate"),r(),a(41,"input",26,3),_(43,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),r(),a(44,"cms-file-manager",27),E("itemSelected",function(c){return u(l),f(t.onActionFileSelected(c))}),w("openFormChange",function(c){return u(l),T(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),f(c)}),r()(),a(45,"p"),d(46),_(47,"translate"),r(),a(48,"app-estate-property-autocomplete",28),_(49,"translate"),E("optionChange",function(c){return u(l),f(t.onActionSelectorProperty(c))}),r(),a(50,"p"),d(51),_(52,"translate"),r(),y(53,"hr"),a(54,"div",29)(55,"div",30)(56,"h5",31),d(57),r()(),a(58,"div",32)(59,"div",33)(60,"input",34),w("ngModelChange",function(c){return u(l),T(t.dataModel.includeAllSite,c)||(t.dataModel.includeAllSite=c),f(c)}),r(),y(61,"label",35),r()()(),S(62,Im,3,3,"p"),S(63,bm,3,3,"P"),S(64,Tm,2,5,"app-estate-property-type-usage-autocomplete",36),S(65,wm,2,5,"app-estate-property-type-landuse-autocomplete",36),y(66,"br"),S(67,xm,2,5,"app-estate-contract-type-autocomplete",36),S(68,Pm,2,5,"app-cms-currency-selector",37),S(69,Am,2,5,"app-cms-location-autocomplete",36),a(70,"div",38)(71,"div",39)(72,"div",15)(73,"label",40),d(74),r(),a(75,"select",41,4),w("ngModelChange",function(c){return u(l),T(t.dataModel.resultSortColumn,c)||(t.dataModel.resultSortColumn=c),f(c)}),me(77,Rm,2,2,"option",42,pe),r(),a(79,"span"),y(80,"i",43),r(),y(81,"em"),r()(),a(82,"div",44),S(83,Dm,4,3,"div",45),r()(),S(84,km,9,7,"div",46),r()()()}if(i&2){let l=A(16),C=A(26);m("Key","estate.billboard.list.add")("svg","assets/media/svg/icons/General/Notifications1.svg"),o(2),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",g(8,56,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(5),x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),M(l.value?-1:17),o(),M(l.value?18:-1),o(2),h("",l.value.length," / 100"),o(),M(l.errors!=null&&l.errors.required?21:-1),o(3),x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(3),h("",C.value.length," / 500"),o(),M(C.errors!=null&&C.errors.required?29:-1),o(),M(t.fieldsInfo.descriptionHidden!=null&&t.fieldsInfo.descriptionHidden.accessWatchField?30:-1),o(),M(t.fieldsInfo.speedView!=null&&t.fieldsInfo.speedView.accessWatchField?31:-1),o(),M(t.fieldsInfo.reloadViewPerMin!=null&&t.fieldsInfo.reloadViewPerMin.accessWatchField?32:-1),o(2),m("href",P(g(35,58,t.dataModel.linkMainImageIdSrc)),H),o(2),M((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?36:-1),o(3),x(g(40,60,"TITLE.PHOTO_FILE")),o(2),m("placeholder",P(g(43,62,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),m("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),m("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(2),x(g(47,64,"TITLE.specific_property_list")),o(2),m("optionDisabled",!(t.fieldsInfo.linkPropertyIds!=null&&t.fieldsInfo.linkPropertyIds.accessAddField))("optionPlaceholder",g(49,66,"TITLE.Property"))("optionSelectForce",t.dataModel.linkPropertyIds),o(3),h(" ",g(52,68,"MESSAGE.Selecting_specific_property_will_remove_all_search_fields")," "),o(6),h(" ",t.fieldsInfo.includeAllSite==null?null:t.fieldsInfo.includeAllSite.fieldTitle," "),o(3),b("ngModel",t.dataModel.includeAllSite),o(2),M(t.LinkPropertyIdsInUse?-1:62),o(),M(t.LinkPropertyIdsInUse?-1:63),o(),M(t.LinkPropertyIdsInUse?-1:64),o(),M(t.LinkPropertyIdsInUse?-1:65),o(2),M(t.LinkPropertyIdsInUse?-1:67),o(),M(t.LinkPropertyIdsInUse?-1:68),o(),M(t.LinkPropertyIdsInUse?-1:69),o(5),x(t.fieldsInfo.resultSortColumn==null?null:t.fieldsInfo.resultSortColumn.fieldTitle),o(),b("ngModel",t.dataModel.resultSortColumn),o(2),ue(t.dataFieldInfoModel),o(6),M((t.dataModel==null||t.dataModel.resultSortColumn==null?null:t.dataModel.resultSortColumn.length)>0?83:-1),o(),M(t.formInfo.submitButtonEnabled?84:-1)}},dependencies:[re,Re,xl,Pl,X,Ft,Jt,wl,$,Te,le,Ee,ge,Rl,Al,_e,Ae,De,ee,kn,Li,U,Pn,se,Bt,Ol,qe,Ia,wa,Pa,W,he,Nl],encapsulation:2});var lo=Aa;var Lm=["vform"];function Vm(n,s){n&1&&y(0,"i",18)}function Fm(n,s){n&1&&y(0,"i",19)}function Bm(n,s){n&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function Om(n,s){n&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function Nm(n,s){n&1&&(a(0,"mat-error"),d(1," DescriptionHidden is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function Gm(n,s){if(n&1){let e=I();a(0,"div",15)(1,"label",44),d(2),_(3,"translate"),r(),a(4,"textarea",45,5),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.descriptionHidden,t)||(l.dataModel.descriptionHidden=t),f(t)}),d(6,"            "),r(),a(7,"em"),d(8),r(),S(9,Nm,5,3,"mat-error"),r()}if(n&2){let e=A(5),i=p();o(2),x(g(3,6,"TITLE.Description_Hidden")),o(2),m("placeholder",P(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",i.dataModel.descriptionHidden),o(4),h("",e.value.length," / 500"),o(),M(e.errors!=null&&e.errors.required?9:-1)}}function Wm(n,s){if(n&1){let e=I();a(0,"div",15)(1,"label",46),d(2),r(),a(3,"input",47,6),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.speedView,t)||(l.dataModel.speedView=t),f(t)}),r()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.speedView==null?null:e.fieldsInfo.speedView.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.speedView==null?null:e.fieldsInfo.speedView.fieldTitle)),b("ngModel",e.dataModel.speedView),m("disabled",!(e.fieldsInfo.speedView!=null&&e.fieldsInfo.speedView.accessEditField))}}function Hm(n,s){if(n&1){let e=I();a(0,"div",15)(1,"label",48),d(2),r(),a(3,"input",49,7),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.reloadViewPerMin,t)||(l.dataModel.reloadViewPerMin=t),f(t)}),r()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.reloadViewPerMin==null?null:e.fieldsInfo.reloadViewPerMin.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.reloadViewPerMin==null?null:e.fieldsInfo.reloadViewPerMin.fieldTitle)),b("ngModel",e.dataModel.reloadViewPerMin),m("disabled",!(e.fieldsInfo.reloadViewPerMin!=null&&e.fieldsInfo.reloadViewPerMin.accessEditField))}}function jm(n,s){n&1&&(a(0,"p"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"MESSAGE.Content_of_your_choice_to_display_On_this_billboard")," "))}function Um(n,s){n&1&&(a(0,"P"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"MESSAGE.Selecting_any_of_the_following_will_make_the_search_results_range_smaller")," "))}function qm(n,s){if(n&1){let e=I();a(0,"app-estate-property-type-usage-autocomplete",50),_(1,"translate"),E("optionChange",function(t){u(e);let l=p();return f(l.onActionSelectorSelectUsage(t))}),r()}if(n&2){let e=p();m("optionDisabled",!(e.fieldsInfo.linkPropertyTypeUsageIds!=null&&e.fieldsInfo.linkPropertyTypeUsageIds.accessEditField))("optionSelectForce",e.dataModel.linkPropertyTypeUsageIds)("optionPlaceholder",g(1,3,"TITLE.Type_Usage"))}}function Qm(n,s){if(n&1){let e=I();a(0,"app-estate-property-type-landuse-autocomplete",50),_(1,"translate"),E("optionChange",function(t){u(e);let l=p();return f(l.onActionSelectorSelectLanduse(t))}),r()}if(n&2){let e=p();m("optionDisabled",!(e.fieldsInfo.linkPropertyTypeLanduseIds!=null&&e.fieldsInfo.linkPropertyTypeLanduseIds.accessEditField))("optionSelectForce",e.dataModel.linkPropertyTypeLanduseIds)("optionPlaceholder",g(1,3,"TITLE.Property_Type"))}}function zm(n,s){if(n&1){let e=I();a(0,"app-estate-contract-type-autocomplete",50),_(1,"translate"),E("optionChange",function(t){u(e);let l=p();return f(l.onActionSelectorContarctType(t))}),r()}if(n&2){let e=p();m("optionDisabled",!(e.fieldsInfo.linkContractTypeIds!=null&&e.fieldsInfo.linkContractTypeIds.accessEditField))("optionSelectForce",e.dataModel.linkContractTypeIds)("optionPlaceholder",g(1,3,"TITLE.Transaction_type"))}}function Km(n,s){if(n&1){let e=I();a(0,"app-cms-currency-selector",51),_(1,"translate"),E("optionChange",function(t){u(e);let l=p();return f(l.onActionSelectCurrency(t))}),r()}if(n&2){let e=p();m("optionSelectFirstItem",!0)("optionSelectForce",e.dataModel.linkCoreCurrencyId)("optionPlaceholder",g(1,3,"TITLE.Specify_the_transaction_currency"))}}function Zm(n,s){if(n&1){let e=I();a(0,"app-cms-location-autocomplete",50),_(1,"translate"),E("optionChange",function(t){u(e);let l=p();return f(l.onActionSelectorLocation(t))}),r()}if(n&2){let e=p();m("optionDisabled",!(e.fieldsInfo.linkLocationIds!=null&&e.fieldsInfo.linkLocationIds.accessEditField))("optionSelectForce",e.dataModel.linkLocationIds)("optionPlaceholder",g(1,3,"TITLE.Region"))}}function Ym(n,s){if(n&1&&(a(0,"option",36),d(1),r()),n&2){let e=s.$implicit;m("value",e.fieldName),o(),h(" ",e.fieldTitle," ")}}function Jm(n,s){if(n&1){let e=I();a(0,"div",39)(1,"a",52),E("click",function(){u(e);let t=p();return f(t.onActionSortArrow())}),y(2,"i",53),_(3,"sortTypeIconClass"),r()()}if(n&2){let e=p();o(2),m("ngClass",g(3,1,e.dataModel.resultSortType))}}function Xm(n,s){if(n&1){let e=I();a(0,"div",40)(1,"a",54),y(2,"img",55),_(3,"translate"),r(),a(4,"span",56),E("click",function(){u(e);let t=p();return f(t.onActionCopied())}),y(5,"i",57),r(),a(6,"h5",58),d(7),_(8,"translate"),r(),a(9,"p",59),d(10),_(11,"translate"),r(),a(12,"p",59),d(13),_(14,"translate"),y(15,"br"),d(16),_(17,"translate"),y(18,"br"),d(19),_(20,"translate"),y(21,"br"),d(22),_(23,"translate"),y(24,"br"),d(25),_(26,"translate"),r(),y(27,"hr")(28,"app-cms-qdoc",60),r()}if(n&2){let e=p();o(),m("href",P(e.dataModel.urlViewContent),H),o(),m("alt",P(g(3,14,"TITLE.Scan_the_barcode")))("src",e.dataModel.urlViewContentQRCodeBase64,H),o(2),m("cdkCopyToClipboard",e.dataModel.urlViewContent),o(3),h(" ",g(8,16,"TITLE.DESCRIPTION"),": "),o(3),h(" ",g(11,18,"TITLE.You_can_view_the_output_of_your_billboard")," "),o(3),h(" ",g(14,20,"TITLE.In_the_title_section_you_can_edit_the_title_of_your_billboard_and_write_a_description_for_it")," "),o(3),h(" ",g(17,22,"TITLE.In_the_next_section_you_can_set_the_speed_of_scrolling_the_page_and_reloading_the_page_every_minute_and_choose_a_picture_for_it")," "),o(3),h(" ",g(20,24,"TITLE.In_the_next_section_you_can_see_your_display_content_for_the_billboard")," "),o(3),h(" ",g(23,26,"TITLE.You_can_narrow_your_search_by_filling_in_any_of_the_fields")," "),o(3),h(" ",g(26,28,"TITLE.Finally_by_clicking_on_the_view_option_you_can_see_the_advertisements_you_want_and_by_clicking_on_the_save_option_you_can_create_your_own_billboard")," "),o(3),m("optionUrl",e.dataModel.urlViewContent)}}function $m(n,s){if(n&1){let e=I();a(0,"button",66),E("click",function(){u(e);let t=p(2);return f(t.onFormLoadResult())}),y(1,"i",62),d(2),_(3,"translate"),r()}n&2&&(o(2),h(" ",g(3,1,"ACTION.VIEW")," "))}function e0(n,s){if(n&1){let e=I();a(0,"div",41)(1,"button",61),E("click",function(){u(e);let t=p();return f(t.onFormCancel())}),y(2,"i",62),d(3),_(4,"translate"),r(),a(5,"button",63),y(6,"i",64),d(7),_(8,"translate"),r(),S(9,$m,4,3,"button",65),r()}if(n&2){let e=p(),i=A(11);o(3),h(" ",g(4,4,"ACTION.CANCEL")," "),o(2),m("disabled",!i.form.valid),o(2),h(" ",g(8,6,"ACTION.SAVE")," "),o(2),M((e.dataModel==null||e.dataModel.id==null?null:e.dataModel.id.length)>0?9:-1)}}function t0(n,s){n&1&&(a(0,"div",43),y(1,"div",67),r())}var Ra=class Ra extends Tt{constructor(e,i,t,l,C,c,L,q,Se,je){super(l,new Gn,c,Se);this.router=e;this.estatePropertyDetailGroupService=i;this.coreEnumService=t;this.estateBillboardService=l;this.cmsToastrService=C;this.publicHelper=c;this.cdr=L;this.activatedRoute=q;this.translate=Se;this.http=je;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ht;this.dataModel=new Gn;this.dataModelCorCurrencySelector=new En;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.optionloadComponent=!1;this.loadResult="";this.LinkPropertyIdsInUse=!1;this.optionReload=()=>{this.estatePropertyList.optionloadComponent=!0,this.estatePropertyList.DataGetAll()};this.publicHelper.processService.cdr=this.cdr,this.requestId=this.activatedRoute.snapshot.paramMap.get("id"),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.router.navigate(["/estate/billboard/"]);return}this.DataGetOneContent()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateBillboardService.setAccessLoad(),this.estateBillboardService.setAccessDataType(Be.Editor),this.estateBillboardService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataFieldInfoModel=i.access.fieldsInfo,this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.dataModel.linkPropertyIds&&this.dataModel.linkPropertyIds.length>0&&(this.LinkPropertyIdsInUse=!0),this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateBillboardService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.optionReload()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionSelectorSelectUsage(e){this.dataModel.linkPropertyTypeUsageIds=e}onActionSelectorContarctType(e){this.dataModel.linkContractTypeIds=e}onActionSelectorSelectLanduse(e){this.dataModel.linkPropertyTypeLanduseIds=e}onActionSelectorLocation(e){this.dataModel.linkLocationIds=e}onActionSelectorProperty(e){this.dataModel.linkPropertyIds=e,this.dataModel.linkPropertyIds&&this.dataModel.linkPropertyIds.length>0?(this.LinkPropertyIdsInUse=!0,this.dataModel.linkPropertyTypeUsageIds=null,this.dataModel.linkContractTypeIds=null,this.dataModel.linkPropertyTypeLanduseIds=null,this.dataModel.linkLocationIds=null):this.LinkPropertyIdsInUse=!1}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.router.navigate(["/estate/billboard/"])}onFormLoadResult(){this.loadResult="estatePropertyList",this.estatePropertyList.optionloadComponent=!0,this.estatePropertyList.DataGetAll()}onActionSelectCurrency(e){if(!e||e.id<=0){this.dataModelCorCurrencySelector=null,this.dataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=e,this.dataModel.linkCoreCurrencyId=e.id}onActionSortArrow(){this.dataModel.resultSortType==J.Ascending?this.dataModel.resultSortType=J.Descending:this.dataModel.resultSortType==J.Descending?this.dataModel.resultSortType=J.Random:this.dataModel.resultSortType==J.Random?this.dataModel.resultSortType=J.Ascending:this.dataModel.resultSortType=J.Ascending}};Ra.\u0275fac=function(i){return new(i||Ra)(v(ke),v(Zt),v(te),v(Xn),v(O),v(G),v(N),v(Gt),v(B),v(Fs))},Ra.\u0275cmp=V({type:Ra,selectors:[["app-estate-billboard-edit"]],viewQuery:function(i,t){if(i&1&&(Q(Lm,5),Q(Je,5)),i&2){let l;z(l=K())&&(t.formGroup=l.first),z(l=K())&&(t.estatePropertyList=l.first)}},standalone:!1,features:[Y],decls:82,vars:58,consts:[["vform","ngForm"],["Title",""],["Description",""],["ResultSortColumn","ngModel"],["estatePropertyList",""],["DescriptionHidden",""],["SpeedView",""],["ReloadViewPerMin",""],[3,"Key","svg"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionDisabled","optionPlaceholder","optionSelectForce"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.includeAllSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.includeAllSite","name","dataModel.includeAllSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.includeAllSite",1,"custom-control-label"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[1,"row","mb-0"],[1,"col-10","pe-0"],["for","dataModel.resultSortColumn",1,"color-highlight"],["id","dataModel.resultSortColumn","name","dataModel.resultSortColumn",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value"],[1,"fa","fa-chevron-down"],[1,"col-2","ps-0"],[1,"col-md-2","col-sm-2","col-xs-2","resultSortIcon",2,"margin","auto"],[1,"col-md-6","col-sm-6","col-xs-9",2,"text-align","center"],[1,"form-actions"],[3,"optionLinkBillboardId","optionloadComponent","optionsortType","optionloadByRoute"],[1,"row","alert","alert-custom","alert-white","alert-shadow","gutter-b"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.speedView",1,"color-highlight"],["type","number","name","dataModel.speedView","min","3","max","10","id","dataModel.speedView",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.reloadViewPerMin",1,"color-highlight"],["type","number","name","dataModel.reloadViewPerMin","min","1","max","10","id","dataModel.reloadViewPerMin",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[3,"click"],[2,"color","black",3,"ngClass"],["target","_blank",3,"href"],["height","300px","width","300px",3,"src","alt"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[2,"text-align","right"],["dir","rtl",2,"font-size","17px"],[3,"optionUrl"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",3,"disabled"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"col-md-12","col-sm-12","col-xs-18"]],template:function(i,t){if(i&1){let l=I();y(0,"app-cms-guide-notice",8),a(1,"div",9),y(2,"app-progress-spinner",10),a(3,"div",11)(4,"p",12),d(5),r(),a(6,"p"),d(7),_(8,"translate"),r(),y(9,"app-cms-form-result-message",13),a(10,"form",14,0),E("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(12,"div",15)(13,"label",16),d(14),r(),a(15,"input",17,1),w("ngModelChange",function(c){return u(l),T(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),r(),S(17,Vm,1,0,"i",18),S(18,Fm,1,0,"i",19),a(19,"em"),d(20),r(),S(21,Bm,5,3,"mat-error"),r(),a(22,"div",15)(23,"label",20),d(24),r(),a(25,"textarea",21,2),w("ngModelChange",function(c){return u(l),T(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),d(27,"          "),r(),a(28,"em"),d(29),r(),S(30,Om,5,3,"mat-error"),r(),S(31,Gm,10,8,"div",15),S(32,Wm,5,5,"div",15),S(33,Hm,5,5,"div",15),a(34,"p"),d(35),_(36,"translate"),r(),a(37,"app-estate-property-autocomplete",22),_(38,"translate"),E("optionChange",function(c){return u(l),f(t.onActionSelectorProperty(c))}),r(),a(39,"p"),d(40),_(41,"translate"),r(),y(42,"hr"),a(43,"div",23)(44,"div",24)(45,"h5",25),d(46),r()(),a(47,"div",26)(48,"div",27)(49,"input",28),w("ngModelChange",function(c){return u(l),T(t.dataModel.includeAllSite,c)||(t.dataModel.includeAllSite=c),f(c)}),r(),y(50,"label",29),r()()(),S(51,jm,3,3,"p"),S(52,Um,3,3,"P"),S(53,qm,2,5,"app-estate-property-type-usage-autocomplete",30),S(54,Qm,2,5,"app-estate-property-type-landuse-autocomplete",30),y(55,"br"),S(56,zm,2,5,"app-estate-contract-type-autocomplete",30),S(57,Km,2,5,"app-cms-currency-selector",31),S(58,Zm,2,5,"app-cms-location-autocomplete",30),y(59,"br"),d(60),_(61,"translate"),y(62,"hr"),a(63,"div",32)(64,"div",33)(65,"div",15)(66,"label",34),d(67),r(),a(68,"select",35,3),w("ngModelChange",function(c){return u(l),T(t.dataModel.resultSortColumn,c)||(t.dataModel.resultSortColumn=c),f(c)}),me(70,Ym,2,2,"option",36,pe),r(),a(72,"span"),y(73,"i",37),r(),y(74,"em"),r()(),a(75,"div",38),S(76,Jm,4,3,"div",39),r()(),S(77,Xm,29,30,"div",40),S(78,e0,10,8,"div",41),r(),y(79,"app-estate-property-list",42,4),r()(),S(81,t0,2,0,"div",43)}if(i&2){let l=A(16),C=A(26);m("Key","estate.billboard.list.edit")("svg","assets/media/svg/icons/General/Notifications1.svg"),o(2),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",g(8,48,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(5),x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),M(l.value?-1:17),o(),M(l.value?18:-1),o(2),h("",l.value.length," / 100"),o(),M(l.errors!=null&&l.errors.required?21:-1),o(3),x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),h("",C.value.length," / 500"),o(),M(C.errors!=null&&C.errors.required?30:-1),o(),M(t.fieldsInfo.descriptionHidden!=null&&t.fieldsInfo.descriptionHidden.accessWatchField?31:-1),o(),M(t.fieldsInfo.speedView!=null&&t.fieldsInfo.speedView.accessWatchField?32:-1),o(),M(t.fieldsInfo.reloadViewPerMin!=null&&t.fieldsInfo.reloadViewPerMin.accessWatchField?33:-1),o(2),h(" ",g(36,50,"TITLE.specific_property_list")," "),o(2),m("optionDisabled",!(t.fieldsInfo.linkPropertyIds!=null&&t.fieldsInfo.linkPropertyIds.accessEditField))("optionPlaceholder",g(38,52,"TITLE.Property"))("optionSelectForce",t.dataModel.linkPropertyIds),o(3),h(" ",g(41,54,"MESSAGE.Selecting_specific_property_will_remove_all_search_fields")," "),o(6),h(" ",t.fieldsInfo.includeAllSite==null?null:t.fieldsInfo.includeAllSite.fieldTitle," "),o(3),b("ngModel",t.dataModel.includeAllSite),o(2),M(t.LinkPropertyIdsInUse?-1:51),o(),M(t.LinkPropertyIdsInUse?-1:52),o(),M(t.LinkPropertyIdsInUse?-1:53),o(),M(t.LinkPropertyIdsInUse?-1:54),o(2),M(t.LinkPropertyIdsInUse?-1:56),o(),M(t.LinkPropertyIdsInUse?-1:57),o(),M(t.LinkPropertyIdsInUse?-1:58),o(2),h(" ",g(61,56,"ACTION.SEARCH"),": "),o(7),x(t.fieldsInfo.resultSortColumn==null?null:t.fieldsInfo.resultSortColumn.fieldTitle),o(),b("ngModel",t.dataModel.resultSortColumn),o(2),ue(t.dataFieldInfoModel),o(6),M((t.dataModel==null||t.dataModel.resultSortColumn==null?null:t.dataModel.resultSortColumn.length)>0?76:-1),o(),M((t.dataModel==null||t.dataModel.urlViewContentQRCodeBase64==null?null:t.dataModel.urlViewContentQRCodeBase64.length)>0&&(t.dataModel==null||t.dataModel.urlViewContent==null?null:t.dataModel.urlViewContent.length)>0?77:-1),o(),M(t.formInfo.submitButtonEnabled?78:-1),o(),m("optionLinkBillboardId",t.dataModel.id)("optionloadComponent",t.optionloadComponent)("optionsortType",t.dataModel.resultSortType)("optionloadByRoute",!1),o(2),M(t.loadResult==="estatePropertyList"?81:-1)}},dependencies:[re,Re,xl,Pl,X,Ft,Jt,wl,$,Te,le,Ee,ge,Rl,Al,_e,Ae,Yt,De,ee,Tn,kn,Li,Xd,U,Pn,se,Bt,Je,Ol,Ia,wa,Pa,W,Nl],encapsulation:2});var Da=Ra;var i0=()=>["expandedTitle"],n0=()=>["expandedDetail"],o0=()=>[5,10,20,100],rc=n=>({display:n});function a0(n,s){if(n&1){let e=I();a(0,"div",18)(1,"a",53),E("click",function(t){u(e);let l=p();return f(l.onActionButtonNewRow(t))}),y(2,"i",54)(3,"br"),r(),a(4,"p",21),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.ADD")," "))}function r0(n,s){if(n&1){let e=I();a(0,"a",55),E("click",function(t){u(e);let l=p();return f(l.onActionButtonEditRow(l.tableRowSelected,t))}),y(1,"i",56)(2,"br"),r()}}function l0(n,s){if(n&1){let e=I();a(0,"a",57),E("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),y(1,"i",58)(2,"br"),r()}}function s0(n,s){if(n&1){let e=I();a(0,"div",18)(1,"a",59),E("click",function(t){u(e);let l=p();return f(l.onActionButtonCopyNewRow(l.tableRowSelected,t))}),y(2,"i",60)(3,"br"),r(),a(4,"p",21),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.COPY")," "))}function d0(n,s){n&1&&(a(0,"mat-header-cell"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.MENU")," "))}function c0(n,s){if(n&1){let e=I();a(0,"mat-cell")(1,"button",61),E("click",function(){let t=u(e).$implicit,l=p();return f(l.onActionTableRowSelectActionMenu(t))}),y(2,"i",62),r()()}}function p0(n,s){n&1&&(a(0,"mat-header-cell",63),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.PICTURE")," "))}function m0(n,s){if(n&1&&(y(0,"img",64),_(1,"cmsthumbnail")),n&2){let e=p().$implicit;m("src",P(g(1,2,e.linkMainImageIdSrc)),H)}}function u0(n,s){if(n&1&&(a(0,"mat-cell"),S(1,m0,2,4,"img",64),r()),n&2){let e=s.$implicit;o(),M((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function f0(n,s){if(n&1&&(a(0,"mat-header-cell",63),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function _0(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.id," ")}}function g0(n,s){if(n&1&&(a(0,"mat-header-cell",63),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function C0(n,s){if(n&1&&(a(0,"mat-cell"),d(1),_(2,"cmssiteinfo"),_(3,"async"),r()),n&2){let e=s.$implicit;o(),h(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function h0(n,s){if(n&1&&(a(0,"mat-header-cell",63),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function y0(n,s){if(n&1&&y(0,"select",66),n&2){let e=p().$implicit,i=p();m("contentService",i.contentService)("row",e)("ngStyle",Nt(3,rc,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function S0(n,s){if(n&1&&(a(0,"mat-cell",65),_(1,"statusCellClass"),y(2,"i",65),_(3,"statusIconClass"),S(4,y0,1,5,"select",66),r()),n&2){let e=s.$implicit,i=p();m("ngClass",g(1,3,e.recordStatus)),o(2),m("ngClass",g(3,5,e.recordStatus)),o(2),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function M0(n,s){if(n&1&&(a(0,"mat-header-cell",63),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function E0(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.title," ")}}function v0(n,s){if(n&1&&(a(0,"mat-header-cell",63),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.speedView==null?null:e.fieldsInfo.speedView.fieldTitle," ")}}function I0(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.speedView)}}function b0(n,s){if(n&1&&(a(0,"mat-header-cell",63),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.reloadViewPerMin==null?null:e.fieldsInfo.reloadViewPerMin.fieldTitle," ")}}function T0(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.reloadViewPerMin)}}function w0(n,s){n&1&&(a(0,"mat-header-cell"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.OPTION")," "))}function x0(n,s){if(n&1&&(a(0,"mat-cell",67)(1,"button",68)(2,"mat-icon"),d(3,"more_vert"),r()(),y(4,"mat-menu",null,2),r()),n&2){let e=A(5);o(),m("matMenuTriggerFor",e)}}function P0(n,s){n&1&&(a(0,"mat-header-cell",63),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.LINKTO")," "))}function A0(n,s){if(n&1){let e=I();a(0,"mat-cell")(1,"button",69),E("click",function(){let t=u(e).$implicit,l=p();return f(l.onActionButtonLinkTo(t))}),a(2,"mat-icon",70),d(3,"\u2197"),r()()()}}function R0(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.title," ")}}function D0(n,s){if(n&1&&(y(0,"img",71),_(1,"cmsthumbnail")),n&2){let e=p().$implicit;m("src",P(g(1,2,e.linkMainImageIdSrc)),H)}}function k0(n,s){if(n&1&&(a(0,"tr"),y(1,"td"),a(2,"td"),d(3),r()()),n&2){let e=p().$implicit,i=p();o(3),We(" ",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle," : ",e.description," ")}}function L0(n,s){if(n&1&&(a(0,"tr"),y(1,"td"),a(2,"td"),d(3),_(4,"translate"),r()()),n&2){let e=p().$implicit;o(3),We(" ",g(4,2,"TITLE.Description_Hidden")," : ",e.descriptionHidden," ")}}function V0(n,s){if(n&1){let e=I();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),S(5,D0,2,4,"img",71),r(),a(6,"th")(7,"span",72),E("click",function(){u(e);let t=p();return f(t.onActionCopied())}),y(8,"i",73),r(),d(9),r()(),a(10,"tr"),y(11,"td"),a(12,"td"),d(13),r()(),S(14,k0,4,2,"tr"),S(15,L0,5,4,"tr"),a(16,"tr"),y(17,"td")(18,"td"),r()()()()}if(n&2){let e=s.$implicit,i=p();o(5),M((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),m("cdkCopyToClipboard",e.id),o(2),h(" ",e.id," "),o(4),We("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : ",e.title),o(),M(e.description?14:-1),o(),M(i.fieldsInfo.descriptionHidden!=null&&i.fieldsInfo.descriptionHidden.accessWatchField?15:-1)}}function F0(n,s){n&1&&y(0,"mat-header-row")}function B0(n,s){if(n&1){let e=I();a(0,"mat-row",74),E("click",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=u(e).$implicit,l=p();return f(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,l=p();return f(l.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=s.$implicit,i=p();ne("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function O0(n,s){if(n&1){let e=I();a(0,"mat-row",75),E("click",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=u(e).$implicit,l=p();return f(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,l=p();return f(l.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=s.$implicit,i=p();ne("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function N0(n,s){if(n&1){let e=I();a(0,"mat-row",76),E("click",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=u(e).$implicit,l=p();return f(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,l=p();return f(l.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=s.$implicit,i=p();ne("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),m("ngStyle",Nt(3,rc,e.expanded===!0?"":"none"))}}var ka=class ka extends wt{constructor(e,i,t,l,C,c,L,q,Se,je,Ke,Ot){super(e,new Gn,Ke,l,L);this.contentService=e;this.cmsConfirmationDialogService=i;this.cmsToastrService=t;this.tokenHelper=l;this.router=C;this.cdr=c;this.translate=L;this.themeService=q;this.cmsStoreService=Se;this.pageInfo=je;this.publicHelper=Ke;this.dialog=Ot;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new oe;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","linkSiteId","recordStatus","SpeedView","ReloadViewPerMin","LinkTo","action_menu"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","SpeedView","ReloadViewPerMin","LinkTo","action_menu"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ii=>this.onSubmitOptionsSearch(ii)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=J.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Me(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Gn);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=J.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(e){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}e?.ctrlKey?(this.link="/#/estate/billboard/add/",window.open(this.link,"_blank")):this.router.navigate(["/estate/billboard/add"])}onActionButtonEditRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/billboard/edit/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/billboard/edit",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let C=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(C,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})}onActionButtonContentList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/estate/property/LinkBillboardId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkBillboardId/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{i.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),C=new Z;C.propertyName="recordStatus",C.value=He.Available,l.filters.push(C),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{i.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonOpenBillboard(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),window.open(this.tableRowSelected.urlViewContent,"_blank")}onActionButtonCopyNewRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/estate/billboard/add-copy/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/billboard/add-copy",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionButtonLinkTo(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(e.recordStatus!=He.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.onActionTableRowSelect(e);let i=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_billboards_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.ServiceGetOneById(e.id).subscribe({next:t=>{if(t.isSuccess){var l="";this.publicHelper.isMobile?l="dialog-fullscreen":l="dialog-min",this.dialog.open(ro,{height:"90%",panelClass:l,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{title:t.item.title,urlViewContentQRCodeBase64:t.item.urlViewContentQRCodeBase64,urlViewContent:t.item.urlViewContent}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(t.errorMessage);this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}};ka.\u0275fac=function(i){return new(i||ka)(v(Xn),v(bt),v(O),v(de),v(ke),v(N),v(B),v(jt),v(Ce),v(It),v(G),v(Oe))},ka.\u0275cmp=V({type:ka,selectors:[["app-estate-billboard-list"]],standalone:!1,features:[Y],decls:105,vars:51,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],[1,"fa-solid","fa-buildings","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-billboard","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","SpeedView"],["matColumnDef","ReloadViewPerMin"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-copy","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["type","button","mat-icon-button","",3,"click"],[2,"color","#ff671f"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let l=I();a(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(c){return u(l),T(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),E("optionOnActionButtonMemoRow",function(){return u(l),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(l),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(l),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(l),f(t.onActionButtonPrintRow())}),D(1,4),d(2," -------------------------------------- "),k(),Ye(3,5)(4,6),D(5,7),a(6,"a",8),E("click",function(){return u(l),f(t.viewGuideNotice=!t.viewGuideNotice)}),y(7,"i",9),r(),a(8,"a",8),E("click",function(){return u(l),f(t.onActionButtonReload())}),y(9,"i",10),r(),a(10,"a",11),E("click",function(){return u(l),f(t.onActionGridExpandRows(!0))}),y(11,"i",12),r(),a(12,"a",11),E("click",function(){return u(l),f(t.onActionGridExpandRows(!1))}),y(13,"i",13),r(),k(),D(14,14),a(15,"a",15),E("click",function(){return u(l),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),y(16,"mat-slide-toggle",16),d(17),_(18,"translate"),r(),a(19,"a",15),E("click",function(){return u(l),f(t.onActionButtonStatist())}),y(20,"mat-slide-toggle",16),d(21),_(22,"translate"),r(),k(),D(23,17),S(24,a0,7,3,"div",18),k(),D(25,19),a(26,"div",18),S(27,r0,3,0,"a",20),a(28,"p",21),d(29),_(30,"translate"),r()(),a(31,"div",18),S(32,l0,3,0,"a",22),a(33,"p",21),d(34),_(35,"translate"),r()(),a(36,"div",18)(37,"a",11),E("click",function(c){return u(l),f(t.onActionButtonContentList(t.tableRowSelected,c))}),y(38,"i",23)(39,"br"),r(),a(40,"p",21),d(41),_(42,"translate"),r()(),a(43,"div",18)(44,"a",11),E("click",function(){return u(l),f(t.onActionButtonOpenBillboard(t.tableRowSelected))}),y(45,"i",24)(46,"br"),r(),a(47,"p",21),d(48),_(49,"translate"),r()(),S(50,s0,7,3,"div",18),a(51,"div",18)(52,"a",8),E("click",function(){return u(l),f(t.onActionButtonLinkTo(t.tableRowSelected))}),y(53,"i",25)(54,"br"),r(),a(55,"p",21),d(56),_(57,"translate"),r()(),k(),D(58,26),a(59,"app-cms-search-list",27),w("optionsChange",function(c){return u(l),T(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),r(),a(60,"app-cms-statist-list",27),w("optionsChange",function(c){return u(l),T(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),r(),k(),D(61,28),a(62,"mat-table",29,0),E("matSortChange",function(){u(l);let c=A(63);return f(t.onTableSortData(c))}),D(64,30),R(65,d0,3,3,"mat-header-cell",31)(66,c0,3,0,"mat-cell",32),k(),D(67,33),R(68,p0,3,3,"mat-header-cell",34)(69,u0,2,1,"mat-cell",32),k(),D(70,35),R(71,f0,2,1,"mat-header-cell",34)(72,_0,2,1,"mat-cell",32),k(),D(73,36),R(74,g0,2,1,"mat-header-cell",34)(75,C0,4,5,"mat-cell",32),k(),D(76,37),R(77,h0,2,1,"mat-header-cell",34)(78,S0,5,7,"mat-cell",38),k(),D(79,39),R(80,M0,2,1,"mat-header-cell",34)(81,E0,2,1,"mat-cell",32),k(),D(82,40),R(83,v0,2,1,"mat-header-cell",34)(84,I0,2,1,"mat-cell",32),k(),D(85,41),R(86,b0,2,1,"mat-header-cell",34)(87,T0,2,1,"mat-cell",32),k(),D(88,42),R(89,w0,3,3,"mat-header-cell",31)(90,x0,6,1,"mat-cell",43),k(),D(91,44),R(92,P0,3,3,"mat-header-cell",34)(93,A0,4,0,"mat-cell",32),k(),D(94,45),R(95,R0,2,1,"mat-cell",32),k(),D(96,46),R(97,V0,19,7,"mat-cell",32),k(),R(98,F0,1,0,"mat-header-row",47)(99,B0,1,2,"mat-row",48)(100,O0,1,2,"mat-row",49)(101,N0,1,5,"mat-row",50),r(),k(),D(102,51),a(103,"mat-paginator",52,1),E("page",function(c){return u(l),f(t.onTablePageingData(c))}),r(),k(),r()}i&2&&(m("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","estate.billboard.list"),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),m("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(9),ne("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),m("checked",t.optionsSearch.data.show),o(),h("",g(18,34,"ACTION.SEARCH")," "),o(3),m("checked",t.optionsStatist.data.show),o(),h("",g(22,36,"ACTION.STATIST")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?24:-1),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?27:-1),o(2),h(" ",g(30,38,"ACTION.EDIT")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?32:-1),o(2),h(" ",g(35,40,"ACTION.DELETE")," "),o(7),h(" ",g(42,42,"ACTION.SHOWPROPERTIES")," "),o(7),h(" ",g(49,44,"ACTION.BILLBOARDDISPLAY")," "),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow&&(t.tableRowSelected!=null&&t.tableRowSelected.id)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?50:-1),o(6),h(" ",g(57,46,"TITLE.LINKTO")," "),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),m("dataSource",t.tableSource),o(36),m("matHeaderRowDef",t.tabledisplayedColumns),o(),m("matRowDefColumns",fe(48,i0)),o(),m("matRowDefColumns",t.tabledisplayedColumns),o(),m("matRowDefColumns",fe(49,n0)),o(2),m("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",fe(50,o0)))},dependencies:[re,oi,Ue,we,ee,yt,St,Mt,ft,Et,vt,$e,tt,at,it,et,rt,nt,ot,lt,st,Tn,xt,Pt,At,Rt,oo,pt,W,ao,he,ki,Od],encapsulation:2});var La=ka;var G0=["vform"],W0=()=>["fa"];function H0(n,s){if(n&1&&(y(0,"img",15),_(1,"cmsthumbnail")),n&2){let e=p();m("src",P(g(1,2,e.dataModel.linkMainImageIdSrc)),H)}}function j0(n,s){n&1&&y(0,"i",22)}function U0(n,s){n&1&&y(0,"i",23)}function q0(n,s){n&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function Q0(n,s){if(n&1){let e=I();a(0,"div",16)(1,"label",29),d(2),r(),a(3,"input",30,4),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.iconFont,t)||(l.dataModel.iconFont=t),f(t)}),E("iconPickerSelect",function(t){u(e);let l=p();return f(l.onIconPickerSelect(t))}),r(),a(5,"span",31),y(6,"i",32),r()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),m("iconPicker",e.dataModel.iconFont)("ipIconPack",fe(9,W0))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),o(3),m("ngClass",e.dataModel.iconFont)}}function z0(n,s){if(n&1){let e=I();a(0,"div",24)(1,"label",33),d(2),r(),a(3,"div",34)(4,"div",35)(5,"input",36,5),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.iconColor,t)||(l.dataModel.iconColor=t),f(t)}),r()(),a(7,"div",37),y(8,"ngx-mat-color-toggle",38)(9,"ngx-mat-color-picker",39,6),r()()()}if(n&2){let e=A(10),i=p();o(2),x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ae("background",i.dataModel.iconColor),m("placeholder",P(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),m("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),m("for",e),o(),m("touchUi",!0)("color","primary")}}function K0(n,s){n&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function Z0(n,s){if(n&1){let e=I();a(0,"div",28)(1,"button",40),E("click",function(){u(e);let t=p();return f(t.onFormCancel())}),y(2,"i",41),d(3),_(4,"translate"),r(),a(5,"button",42),y(6,"i",43),d(7),_(8,"translate"),r()()}if(n&2){p();let e=A(10);o(3),h(" ",g(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),h(" ",g(8,5,"ACTION.SAVE")," ")}}var Va=class Va extends _t{constructor(e,i,t,l,C,c,L,q){super(l,new Hn,c,q);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateCategoryZoneService=l;this.cmsToastrService=C;this.publicHelper=c;this.cdr=L;this.translate=q;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new j;this.dataModel=new Hn;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)});this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.estateCategoryZoneService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorLocation(e){this.dataModel.linkLocationIds=e}};Va.\u0275fac=function(i){return new(i||Va)(v(Ve),v(Le),v(te),v(eo),v(O),v(G),v(N),v(B))},Va.\u0275cmp=V({type:Va,selectors:[["app-estate-category-zone-add"]],viewQuery:function(i,t){if(i&1&&Q(G0,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[Y],decls:51,vars:58,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder","optionLabel"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=I();a(0,"div",7),y(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),d(4),r(),a(5,"p"),d(6),_(7,"translate"),r(),y(8,"app-cms-form-result-message",11),a(9,"form",12,0),E("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(11,"div",13)(12,"a",14),_(13,"cmsthumbnail"),S(14,H0,2,4,"img",15),r()(),a(15,"div",16)(16,"label",17),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),d(17),_(18,"translate"),r(),a(19,"input",18,1),_(21,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),r(),a(22,"cms-file-manager",19),_(23,"translate"),E("itemSelected",function(c){return u(l),f(t.onActionFileSelected(c))}),w("openFormChange",function(c){return u(l),T(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),f(c)}),r()(),a(24,"div",16)(25,"label",20),d(26),r(),a(27,"input",21,2),w("ngModelChange",function(c){return u(l),T(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),r(),S(29,j0,1,0,"i",22),S(30,U0,1,0,"i",23),a(31,"em"),d(32),r(),S(33,q0,5,3,"mat-error"),r(),S(34,Q0,7,10,"div",16),S(35,z0,11,11,"div",24),d(36),_(37,"translate"),a(38,"app-cms-location-autocomplete",25),_(39,"translate"),_(40,"translate"),E("optionChange",function(c){return u(l),f(t.onActionSelectorLocation(c))}),r(),a(41,"div",16)(42,"label",26),d(43),r(),a(44,"textarea",27,3),w("ngModelChange",function(c){return u(l),T(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),d(46,"                  "),r(),a(47,"em"),d(48),r(),S(49,K0,5,3,"mat-error"),r(),S(50,Z0,9,7,"div",28),r()()()}if(i&2){let l=A(28),C=A(45);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",g(7,42,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(4),m("href",P(g(13,44,t.dataModel.linkMainImageIdSrc)),H),o(2),M((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?14:-1),o(3),x(g(18,46,"TITLE.PICTURE")),o(2),m("placeholder",P(g(21,48,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),m("language",t.appLanguage)("isPopup",!0)("openSelectFileDescription",g(23,50,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),b("openForm",t.fileManagerOpenForm),m("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(4),x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),M(l.value?-1:29),o(),M(l.value?30:-1),o(2),h("",l.value.length," / 100"),o(),M(l.errors!=null&&l.errors.required?33:-1),o(),M(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessWatchField?34:-1),o(),M(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessWatchField?35:-1),o(),h(" ",g(37,52,"TITLE.Geographical_Areas")," : "),o(2),m("optionDisabled",!(t.fieldsInfo.linkLocationIds!=null&&t.fieldsInfo.linkLocationIds.accessAddField))("optionSelectForce",t.dataModel.linkLocationIds)("optionPlaceholder",g(39,54,"TITLE.Region"))("optionLabel",g(40,56,"TITLE.Geographical_Areas")),o(5),x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),h("",C.value.length," / 500"),o(),M(C.errors!=null&&C.errors.required?49:-1),o(),M(t.formInfo.submitButtonEnabled?50:-1)}},dependencies:[re,Re,X,$,Te,le,Ee,ge,_e,Ae,De,Ze,ee,Li,U,se,Kt,Qt,qt,Ut,qe,W,he],encapsulation:2});var Ql=Va;var Y0=["vform"],J0=()=>["fa"];function X0(n,s){if(n&1&&(y(0,"img",15),_(1,"cmsthumbnail")),n&2){let e=p();m("src",P(g(1,2,e.dataModel.linkMainImageIdSrc)),H)}}function $0(n,s){n&1&&y(0,"i",22)}function eu(n,s){n&1&&y(0,"i",23)}function tu(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2){let e=p();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),x(g(4,2,"MESSAGE.required"))}}function iu(n,s){if(n&1){let e=I();a(0,"div",16)(1,"label",29),d(2),r(),a(3,"input",30,4),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.iconFont,t)||(l.dataModel.iconFont=t),f(t)}),E("iconPickerSelect",function(t){u(e);let l=p();return f(l.onIconPickerSelect(t))}),r(),a(5,"span",31),y(6,"i",32),r()()}if(n&2){let e=p();o(2),h(" ",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),m("iconPicker",e.dataModel.iconFont)("ipIconPack",fe(9,J0))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessEditField)),o(3),m("ngClass",e.dataModel.iconFont)}}function nu(n,s){if(n&1){let e=I();a(0,"div",24)(1,"label",33),d(2),r(),a(3,"div",34)(4,"div",35)(5,"input",36,5),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.iconColor,t)||(l.dataModel.iconColor=t),f(t)}),r()(),a(7,"div",37),y(8,"ngx-mat-color-toggle",38)(9,"ngx-mat-color-picker",39,6),r()()()}if(n&2){let e=A(10),i=p();o(2),x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ae("background",i.dataModel.iconColor),m("placeholder",P(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),m("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),o(3),m("for",e),o(),m("touchUi",!0)("color","primary")}}function ou(n,s){n&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function au(n,s){if(n&1){let e=I();a(0,"div",28)(1,"button",40),E("click",function(){u(e);let t=p();return f(t.onFormCancel())}),y(2,"i",41),d(3),_(4,"translate"),r(),a(5,"button",42),y(6,"i",43),d(7),_(8,"translate"),r()()}if(n&2){p();let e=A(10);o(3),h(" ",g(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),h(" ",g(8,5,"ACTION.SAVE")," ")}}var Fa=class Fa extends Tt{constructor(e,i,t,l,C,c,L,q,Se){super(l,new Hn,L,Se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateCategoryZoneService=l;this.estatePropertyTypeService=C;this.cmsToastrService=c;this.publicHelper=L;this.cdr=q;this.translate=Se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ht;this.dataModel=new Hn;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.dataEstatePropertyTypeUsageIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateCategoryZoneService.setAccessLoad(),this.estateCategoryZoneService.setAccessDataType(Be.Editor),this.estateCategoryZoneService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)});let i=new oe,t=new Z;t.propertyName="LinkCategoryZoneId",t.value=this.requestId,i.filters.push(t),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:l=>{this.dataEstatePropertyTypeModel=l.listItems;let C=[];this.dataEstatePropertyTypeModel.forEach(c=>{C.push(c.linkPropertyTypeUsageId)}),this.dataEstatePropertyTypeUsageIds=C,l.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.submitResultMessage=c}),this.formInfo.submitResultMessage=l.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(l.errorMessage)),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateCategoryZoneService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorUserCategorySelect(e){this.dataEstatePropertyTypeUsageModel=e}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorLocation(e){this.dataModel.linkLocationIds=e}};Fa.\u0275fac=function(i){return new(i||Fa)(v(Ve),v(Le),v(te),v(eo),v(Ui),v(O),v(G),v(N),v(B))},Fa.\u0275cmp=V({type:Fa,selectors:[["app-estate-category-zone-edit"]],viewQuery:function(i,t){if(i&1&&Q(Y0,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[Y],decls:51,vars:58,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder","optionLabel"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=I();a(0,"div",7),y(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),d(4),r(),a(5,"p"),d(6),_(7,"translate"),r(),y(8,"app-cms-form-result-message",11),a(9,"form",12,0),E("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(11,"div",13)(12,"a",14),_(13,"cmsthumbnail"),S(14,X0,2,4,"img",15),r()(),a(15,"div",16)(16,"label",17),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),d(17),_(18,"translate"),r(),a(19,"input",18,1),_(21,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),r(),a(22,"cms-file-manager",19),_(23,"translate"),E("itemSelected",function(c){return u(l),f(t.onActionFileSelected(c))}),w("openFormChange",function(c){return u(l),T(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),f(c)}),r()(),a(24,"div",16)(25,"label",20),d(26),r(),a(27,"input",21,2),w("ngModelChange",function(c){return u(l),T(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),r(),S(29,$0,1,0,"i",22),S(30,eu,1,0,"i",23),a(31,"em"),d(32),r(),S(33,tu,5,4,"mat-error"),r(),S(34,iu,7,10,"div",16),S(35,nu,11,11,"div",24),d(36),_(37,"translate"),a(38,"app-cms-location-autocomplete",25),_(39,"translate"),_(40,"translate"),E("optionChange",function(c){return u(l),f(t.onActionSelectorLocation(c))}),r(),a(41,"div",16)(42,"label",26),d(43),r(),a(44,"textarea",27,3),w("ngModelChange",function(c){return u(l),T(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),d(46,"                    "),r(),a(47,"em"),d(48),r(),S(49,ou,5,3,"mat-error"),r(),S(50,au,9,7,"div",28),r()()()}if(i&2){let l=A(28),C=A(45);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",g(7,42,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(4),m("href",P(g(13,44,t.dataModel.linkMainImageIdSrc)),H),o(2),M((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?14:-1),o(3),x(g(18,46,"TITLE.PICTURE")),o(2),m("placeholder",P(g(21,48,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),m("language",t.appLanguage)("isPopup",!0)("openSelectFileDescription",g(23,50,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),b("openForm",t.fileManagerOpenForm),m("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(4),x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),M(l.value?-1:29),o(),M(l.value?30:-1),o(2),h("",l.value.length," / 100"),o(),M(l.errors!=null&&l.errors.required?33:-1),o(),M(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessWatchField?34:-1),o(),M(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessWatchField?35:-1),o(),h(" ",g(37,52,"TITLE.Geographical_Areas")," : "),o(2),m("optionDisabled",!(t.fieldsInfo.linkLocationIds!=null&&t.fieldsInfo.linkLocationIds.accessEditField))("optionSelectForce",t.dataModel.linkLocationIds)("optionPlaceholder",g(39,54,"TITLE.Region"))("optionLabel",g(40,56,"TITLE.Geographical_Areas")),o(5),x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),h("",C.value.length," / 500"),o(),M(C.errors!=null&&C.errors.required?49:-1),o(),M(t.formInfo.submitButtonEnabled?50:-1)}},dependencies:[re,Re,X,$,Te,le,Ee,ge,_e,Ae,De,Ze,ee,Li,U,se,Kt,Qt,qt,Ut,qe,W,he],encapsulation:2});var zl=Fa;var ru=()=>[5,10,20,100];function lu(n,s){if(n&1){let e=I();a(0,"div",15)(1,"a",39),E("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),y(2,"i",40)(3,"br"),r(),a(4,"p",19),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.ADD")," "))}function su(n,s){if(n&1){let e=I();a(0,"div",15)(1,"a",41),E("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),y(2,"i",42)(3,"br"),r(),a(4,"p",19),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.EDIT")," "))}function du(n,s){if(n&1){let e=I();a(0,"div",15)(1,"a",43),E("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),y(2,"i",44)(3,"br"),r(),a(4,"p",19),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.DELETE")," "))}function cu(n,s){n&1&&(a(0,"mat-header-cell",45),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.PICTURE")," "))}function pu(n,s){if(n&1&&(y(0,"img",46),_(1,"cmsthumbnail")),n&2){let e=p().$implicit;m("src",P(g(1,2,e.linkMainImageIdSrc)),H)}}function mu(n,s){if(n&1&&(a(0,"mat-cell"),S(1,pu,2,4,"img",46),r()),n&2){let e=s.$implicit;o(),M((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function uu(n,s){if(n&1&&(a(0,"mat-header-cell",45),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle," ")}}function fu(n,s){if(n&1&&(a(0,"mat-cell"),y(1,"i",47),r()),n&2){let e=s.$implicit;o(),ae("color",e.iconColor),m("ngClass",e.iconFont)}}function _u(n,s){if(n&1&&(a(0,"mat-header-cell",45),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function gu(n,s){if(n&1&&(a(0,"mat-cell"),y(1,"i",47),r()),n&2){let e=s.$implicit;o(),ae("color",e.iconColor),m("ngClass",e.iconFont)}}function Cu(n,s){if(n&1&&(a(0,"mat-header-cell",45),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function hu(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.title," ")}}function yu(n,s){if(n&1&&(a(0,"mat-header-cell",45),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function Su(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.description," ")}}function Mu(n,s){n&1&&(a(0,"mat-header-cell"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.OPTION")," "))}function Eu(n,s){if(n&1&&(a(0,"mat-cell",48)(1,"button",49)(2,"mat-icon"),d(3,"more_vert"),r()(),y(4,"mat-menu",null,2),r()),n&2){let e=A(5);o(),m("matMenuTriggerFor",e)}}function vu(n,s){n&1&&y(0,"mat-header-row")}function Iu(n,s){if(n&1){let e=I();a(0,"mat-row",50),E("click",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))}),r()}if(n&2){let e=s.$implicit,i=p();ne("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ba=class Ba extends wt{constructor(e,i,t,l,C,c,L,q,Se,je,Ke,Ot){super(e,new Hn,Ke,C,L);this.contentService=e;this.cmsConfirmationDialogService=i;this.cmsToastrService=t;this.router=l;this.tokenHelper=C;this.cdr=c;this.translate=L;this.themeService=q;this.cmsStoreService=Se;this.pageInfo=je;this.publicHelper=Ke;this.dialog=Ot;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new oe;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","IconFont","Description"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","IconFont","Description"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ii=>this.onSubmitOptionsSearch(ii)},this.filteModelContent.sortColumn="title",this.filteModelContent.sortType=J.Ascending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Me(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Hn);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=J.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-wide",this.dialog.open(Ql,{height:"90%",panelClass:e,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(zl,{height:"90%",panelClass:i,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let C=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(C,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})}onActionButtonContentDetailList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/estate/property-detail/LinkCategoryZoneId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-detail/LinkCategoryZoneId/",this.tableRowSelected.id])}onActionButtonContentList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/estate/property/LinkCategoryZoneId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkCategoryZoneId/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{i.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),C=new Z;C.propertyName="recordStatus",C.value=He.Available,l.filters.push(C),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{i.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Ba.\u0275fac=function(i){return new(i||Ba)(v(eo),v(bt),v(O),v(ke),v(de),v(N),v(B),v(jt),v(Ce),v(It),v(G),v(Oe))},Ba.\u0275cmp=V({type:Ba,selectors:[["app-estate-category-zone-list"]],standalone:!1,features:[Y],decls:67,vars:36,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-buildings","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","id"],["matColumnDef","title"],["matColumnDef","Description"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=I();a(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(c){return u(l),T(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),E("optionOnActionButtonMemoRow",function(){return u(l),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(l),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(l),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(l),f(t.onActionButtonPrintRow())}),D(1,4),d(2," -------------------------------------- "),k(),Ye(3,5)(4,6),D(5,7),a(6,"a",8),E("click",function(){return u(l),f(t.viewGuideNotice=!t.viewGuideNotice)}),y(7,"i",9),r(),a(8,"a",8),E("click",function(){return u(l),f(t.onActionButtonReload())}),y(9,"i",10),r(),k(),D(10,11),a(11,"a",12),E("click",function(){return u(l),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),y(12,"mat-slide-toggle",13),d(13),_(14,"translate"),r(),a(15,"a",12),E("click",function(){return u(l),f(t.onActionButtonStatist())}),y(16,"mat-slide-toggle",13),d(17),_(18,"translate"),r(),k(),D(19,14),S(20,lu,7,3,"div",15),k(),D(21,16),S(22,su,7,3,"div",15),S(23,du,7,3,"div",15),a(24,"div",15)(25,"a",17),E("click",function(c){return u(l),f(t.onActionButtonContentDetailList(t.tableRowSelected,c))}),y(26,"i",18)(27,"br"),r(),a(28,"p",19),d(29),_(30,"translate"),r()(),a(31,"div",15)(32,"a",17),E("click",function(c){return u(l),f(t.onActionButtonContentList(t.tableRowSelected,c))}),y(33,"i",20)(34,"br"),r(),a(35,"p",19),d(36),_(37,"translate"),r()(),k(),D(38,21),a(39,"app-cms-search-list",22),w("optionsChange",function(c){return u(l),T(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),r(),a(40,"app-cms-statist-list",22),w("optionsChange",function(c){return u(l),T(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),r(),k(),D(41,23),a(42,"mat-table",24,0),E("matSortChange",function(){u(l);let c=A(43);return f(t.onTableSortData(c))}),D(44,25),R(45,cu,3,3,"mat-header-cell",26)(46,mu,2,1,"mat-cell",27),k(),D(47,28),R(48,uu,2,1,"mat-header-cell",26)(49,fu,2,3,"mat-cell",27),k(),D(50,29),R(51,_u,2,1,"mat-header-cell",26)(52,gu,2,3,"mat-cell",27),k(),D(53,30),R(54,Cu,2,1,"mat-header-cell",26)(55,hu,2,1,"mat-cell",27),k(),D(56,31),R(57,yu,2,1,"mat-header-cell",26)(58,Su,2,1,"mat-cell",27),k(),D(59,32),R(60,Mu,3,3,"mat-header-cell",33)(61,Eu,6,1,"mat-cell",34),k(),R(62,vu,1,0,"mat-header-row",35)(63,Iu,1,2,"mat-row",36),r(),k(),D(64,37),a(65,"mat-paginator",38,1),E("page",function(c){return u(l),f(t.onTablePageingData(c))}),r(),k(),r()}i&2&&(m("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),m("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),ne("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),m("checked",t.optionsSearch.data.show),o(),h("",g(14,27,"ACTION.SEARCH")," "),o(3),m("checked",t.optionsStatist.data.show),o(),h("",g(18,29,"ACTION.STATIST")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(6),h(" ",g(30,31,"ACTION.DETAIL")," "),o(7),h(" ",g(37,33,"ACTION.PROPERTYLIST")," "),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),m("dataSource",t.tableSource),o(20),m("matHeaderRowDef",t.tabledisplayedColumns),o(),m("matRowDefColumns",t.tabledisplayedColumns),o(2),m("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",fe(35,ru)))},dependencies:[re,Ue,we,yt,St,Mt,ft,Et,vt,$e,tt,at,it,et,rt,nt,ot,lt,st,xt,Pt,At,Rt,W,he],encapsulation:2});var Oa=Ba;var Tu=["vform"],wu=n=>({direction:n});function xu(n,s){n&1&&y(0,"i",26)}function Pu(n,s){n&1&&y(0,"i",27)}function Au(n,s){n&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function Ru(n,s){n&1&&y(0,"i",26)}function Du(n,s){n&1&&y(0,"i",27)}function ku(n,s){n&1&&(a(0,"mat-error"),d(1," titleResourceLanguage is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function Lu(n,s){n&1&&y(0,"i",26)}function Vu(n,s){n&1&&y(0,"i",27)}function Fu(n,s){n&1&&(a(0,"mat-error"),d(1," orderTitle is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function Bu(n,s){n&1&&y(0,"i",26)}function Ou(n,s){n&1&&y(0,"i",27)}function Nu(n,s){n&1&&(a(0,"mat-error"),d(1," orderTitleResourceLanguage is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function Gu(n,s){n&1&&y(0,"i",26)}function Wu(n,s){n&1&&y(0,"i",27)}function Hu(n,s){n&1&&(a(0,"mat-error"),d(1," TitleSoldIt is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function ju(n,s){n&1&&y(0,"i",26)}function Uu(n,s){n&1&&y(0,"i",27)}function qu(n,s){n&1&&(a(0,"mat-error"),d(1," titleSoldItResourceLanguage is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function Qu(n,s){if(n&1){let e=I();a(0,"div",44)(1,"div",58)(2,"h5",59),d(3),r()(),a(4,"div",60)(5,"div",61)(6,"input",62),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.allowPriceInquiryCalculate,t)||(l.dataModel.allowPriceInquiryCalculate=t),f(t)}),r(),y(7,"label",63),r()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.allowPriceInquiryCalculate==null?null:e.fieldsInfo.allowPriceInquiryCalculate.fieldTitle," "),o(3),b("ngModel",e.dataModel.allowPriceInquiryCalculate)}}function zu(n,s){if(n&1){let e=I();a(0,"div",44)(1,"div",58)(2,"h5",59),d(3),r()(),a(4,"div",60)(5,"div",61)(6,"input",64),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.hasSalePrice,t)||(l.dataModel.hasSalePrice=t),f(t)}),r(),y(7,"label",65),r()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.hasSalePrice==null?null:e.fieldsInfo.hasSalePrice.fieldTitle," "),o(3),b("ngModel",e.dataModel.hasSalePrice)}}function Ku(n,s){if(n&1){let e=I();a(0,"div",44)(1,"div",58)(2,"h5",59),d(3),r()(),a(4,"div",60)(5,"div",61)(6,"input",66),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.hasRentPrice,t)||(l.dataModel.hasRentPrice=t),f(t)}),r(),y(7,"label",67),r()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.hasRentPrice==null?null:e.fieldsInfo.hasRentPrice.fieldTitle," "),o(3),b("ngModel",e.dataModel.hasRentPrice)}}function Zu(n,s){if(n&1){let e=I();a(0,"div",44)(1,"div",58)(2,"h5",59),d(3),r()(),a(4,"div",60)(5,"div",61)(6,"input",68),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.hasDepositPrice,t)||(l.dataModel.hasDepositPrice=t),f(t)}),r(),y(7,"label",69),r()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.hasDepositPrice==null?null:e.fieldsInfo.hasDepositPrice.fieldTitle," "),o(3),b("ngModel",e.dataModel.hasDepositPrice)}}function Yu(n,s){if(n&1){let e=I();a(0,"div",44)(1,"div",58)(2,"h5",59),d(3),r()(),a(4,"div",60)(5,"div",61)(6,"input",70),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.hasPeriodPrice,t)||(l.dataModel.hasPeriodPrice=t),f(t)}),r(),y(7,"label",71),r()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.hasPeriodPrice==null?null:e.fieldsInfo.hasPeriodPrice.fieldTitle," "),o(3),b("ngModel",e.dataModel.hasPeriodPrice)}}function Ju(n,s){n&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function Xu(n,s){n&1&&y(0,"hr")}function $u(n,s){if(n&1){let e=I();a(0,"div",44)(1,"div",58)(2,"h5",72),d(3),r()(),a(4,"div",60)(5,"div",61)(6,"input",73),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.salePriceAllowAgreement,t)||(l.dataModel.salePriceAllowAgreement=t),f(t)}),r(),y(7,"label",74),r()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.salePriceAllowAgreement==null?null:e.fieldsInfo.salePriceAllowAgreement.fieldTitle," "),o(3),b("ngModel",e.dataModel.salePriceAllowAgreement)}}function ef(n,s){if(n&1){let e=I();a(0,"div",23)(1,"label",75),d(2),r(),a(3,"input",76,8),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.titleSalePrice,t)||(l.dataModel.titleSalePrice=t),f(t)}),r(),a(5,"em"),d(6),r()()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.titleSalePrice==null?null:i.fieldsInfo.titleSalePrice.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.titleSalePrice==null?null:i.fieldsInfo.titleSalePrice.fieldTitle)),b("ngModel",i.dataModel.titleSalePrice),o(3),h("",e.value.length," / 100")}}function tf(n,s){if(n&1){let e=I();a(0,"div",23)(1,"label",77),d(2),r(),a(3,"input",78,9),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.titleSalePriceResourceLanguage,t)||(l.dataModel.titleSalePriceResourceLanguage=t),f(t)}),r(),a(5,"em"),d(6),r()()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.titleSalePriceResourceLanguage==null?null:i.fieldsInfo.titleSalePriceResourceLanguage.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.titleSalePriceResourceLanguage==null?null:i.fieldsInfo.titleSalePriceResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titleSalePriceResourceLanguage),o(3),h("",e.value.length," / 100")}}function nf(n,s){n&1&&y(0,"hr")}function of(n,s){if(n&1){let e=I();a(0,"div",44)(1,"div",58)(2,"h5",79),d(3),r()(),a(4,"div",60)(5,"div",61)(6,"input",80),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.rentPriceAllowAgreement,t)||(l.dataModel.rentPriceAllowAgreement=t),f(t)}),r(),y(7,"label",81),r()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.rentPriceAllowAgreement==null?null:e.fieldsInfo.rentPriceAllowAgreement.fieldTitle," "),o(3),b("ngModel",e.dataModel.rentPriceAllowAgreement)}}function af(n,s){if(n&1){let e=I();a(0,"div",23)(1,"label",82),d(2),r(),a(3,"input",83,8),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.titleRentPrice,t)||(l.dataModel.titleRentPrice=t),f(t)}),r()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.titleRentPrice==null?null:e.fieldsInfo.titleRentPrice.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.titleRentPrice==null?null:e.fieldsInfo.titleRentPrice.fieldTitle)),b("ngModel",e.dataModel.titleRentPrice)}}function rf(n,s){if(n&1){let e=I();a(0,"div",23)(1,"label",84),d(2),r(),a(3,"input",85,10),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.titleRentPriceResourceLanguage,t)||(l.dataModel.titleRentPriceResourceLanguage=t),f(t)}),r(),a(5,"em"),d(6),r()()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.titleRentPriceResourceLanguage==null?null:i.fieldsInfo.titleRentPriceResourceLanguage.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.titleRentPrice==null?null:i.fieldsInfo.titleRentPrice.fieldTitle)),b("ngModel",i.dataModel.titleRentPriceResourceLanguage),o(3),h("",e.value.length," / 100")}}function lf(n,s){if(n&1){let e=I();a(0,"div",23)(1,"label",86),d(2),r(),a(3,"input",87,11),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.rentPricePriodTitle,t)||(l.dataModel.rentPricePriodTitle=t),f(t)}),r(),a(5,"em"),d(6),r()()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.rentPricePriodTitle==null?null:i.fieldsInfo.rentPricePriodTitle.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.titleRentPrice==null?null:i.fieldsInfo.titleRentPrice.fieldTitle)),b("ngModel",i.dataModel.rentPricePriodTitle),o(3),h("",e.value.length," / 100")}}function sf(n,s){if(n&1){let e=I();a(0,"div",23)(1,"label",88),d(2),r(),a(3,"input",89,12),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.rentPricePriodTitleResourceLanguage,t)||(l.dataModel.rentPricePriodTitleResourceLanguage=t),f(t)}),r(),a(5,"em"),d(6),r()()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.rentPricePriodTitleResourceLanguage==null?null:i.fieldsInfo.rentPricePriodTitleResourceLanguage.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.titleRentPrice==null?null:i.fieldsInfo.titleRentPrice.fieldTitle)),b("ngModel",i.dataModel.rentPricePriodTitleResourceLanguage),o(3),h("",e.value.length," / 100")}}function df(n,s){n&1&&y(0,"hr")}function cf(n,s){if(n&1){let e=I();a(0,"div",44)(1,"div",58)(2,"h5",79),d(3),r()(),a(4,"div",60)(5,"div",61)(6,"input",90),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.depositPriceAllowAgreement,t)||(l.dataModel.depositPriceAllowAgreement=t),f(t)}),r(),y(7,"label",91),r()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.depositPriceAllowAgreement==null?null:e.fieldsInfo.depositPriceAllowAgreement.fieldTitle," "),o(3),b("ngModel",e.dataModel.depositPriceAllowAgreement)}}function pf(n,s){if(n&1){let e=I();a(0,"div",23)(1,"label",92),d(2),r(),a(3,"input",93,13),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.titleDepositPrice,t)||(l.dataModel.titleDepositPrice=t),f(t)}),r(),a(5,"em"),d(6),r()()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.titleDepositPrice==null?null:i.fieldsInfo.titleDepositPrice.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.titleDepositPrice==null?null:i.fieldsInfo.titleDepositPrice.fieldTitle)),b("ngModel",i.dataModel.titleDepositPrice),o(3),h("",e.value.length," / 100")}}function mf(n,s){if(n&1){let e=I();a(0,"div",23)(1,"label",94),d(2),r(),a(3,"input",95,14),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.titleDepositPriceResourceLanguage,t)||(l.dataModel.titleDepositPriceResourceLanguage=t),f(t)}),r(),a(5,"em"),d(6),r()()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.titleDepositPriceResourceLanguage==null?null:i.fieldsInfo.titleDepositPriceResourceLanguage.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.titleDepositPriceResourceLanguage==null?null:i.fieldsInfo.titleDepositPriceResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titleDepositPriceResourceLanguage),o(3),h("",e.value.length," / 100")}}function uf(n,s){n&1&&y(0,"hr")}function ff(n,s){if(n&1){let e=I();a(0,"div",44)(1,"div",58)(2,"h5",79),d(3),r()(),a(4,"div",60)(5,"div",61)(6,"input",96),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.periodPriceAllowAgreement,t)||(l.dataModel.periodPriceAllowAgreement=t),f(t)}),r(),y(7,"label",97),r()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.periodPriceAllowAgreement==null?null:e.fieldsInfo.periodPriceAllowAgreement.fieldTitle," "),o(3),b("ngModel",e.dataModel.periodPriceAllowAgreement)}}function _f(n,s){if(n&1){let e=I();a(0,"div",23)(1,"label",98),d(2),r(),a(3,"input",99,15),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.titlePeriodPrice,t)||(l.dataModel.titlePeriodPrice=t),f(t)}),r(),a(5,"em"),d(6),r()()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.titlePeriodPrice==null?null:i.fieldsInfo.titlePeriodPrice.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.titlePeriodPrice==null?null:i.fieldsInfo.titlePeriodPrice.fieldTitle)),b("ngModel",i.dataModel.titlePeriodPrice),o(3),h("",e.value.length," / 100")}}function gf(n,s){if(n&1){let e=I();a(0,"div",23)(1,"label",100),d(2),r(),a(3,"input",101,16),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.titlePeriodPriceResourceLanguage,t)||(l.dataModel.titlePeriodPriceResourceLanguage=t),f(t)}),r(),a(5,"em"),d(6),r()()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.titlePeriodPriceResourceLanguage==null?null:i.fieldsInfo.titlePeriodPriceResourceLanguage.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.titlePeriodPriceResourceLanguage==null?null:i.fieldsInfo.titlePeriodPriceResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titlePeriodPriceResourceLanguage),o(3),h("",e.value.length," / 100")}}function Cf(n,s){if(n&1&&(a(0,"button",104),y(1,"i",105),d(2),_(3,"translate"),r()),n&2){p(2);let e=A(10);m("disabled",!e.form.valid),o(2),h(" ",g(3,2,"ACTION.SAVE")," ")}}function hf(n,s){if(n&1){let e=I();a(0,"div",57)(1,"button",102),E("click",function(){u(e);let t=p();return f(t.onFormCancel())}),y(2,"i",103),d(3),_(4,"translate"),r(),S(5,Cf,4,4,"button",104),r()}if(n&2){let e=p();o(3),h(" ",g(4,2,"ACTION.CANCEL")," "),o(2),M(e.formInfo.submitButtonEnabled?5:-1)}}var Na=class Na extends _t{constructor(e,i,t,l,C,c,L,q,Se,je){super(l,new jn,L,je);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateContractTypeService=l;this.cmsToastrService=C;this.cmsStoreService=c;this.publicHelper=L;this.cdr=q;this.tokenHelper=Se;this.translate=je;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new Wt;this.dataModelResult=new j;this.dataModel=new jn;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateContractTypeService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Na.\u0275fac=function(i){return new(i||Na)(v(Ve),v(Le),v(te),v(Pi),v(O),v(Ce),v(G),v(N),v(de),v(B))},Na.\u0275cmp=V({type:Na,selectors:[["app-estate-contract-type-add"]],viewQuery:function(i,t){if(i&1&&Q(Tu,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[Y],decls:140,vars:116,consts:[["vform","ngForm"],["Title",""],["titleResourceLanguage",""],["orderTitle",""],["orderTitleResourceLanguage",""],["TitleSoldIt",""],["titleSoldItResourceLanguage",""],["Description",""],["TitleSalePrice",""],["titleSalePriceResourceLanguage",""],["titleRentPriceResourceLanguage",""],["rentPricePriodTitle",""],["rentPricePriodTitleResourceLanguage",""],["TitleDepositPrice",""],["titleDepositPriceResourceLanguage",""],["TitlePeriodPrice",""],["titlePeriodPriceResourceLanguage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","cmsKeyboardForce","en","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.orderTitle",1,"color-highlight"],["matInput","","type","text","name","dataModel.orderTitle","minlength","3","maxlength","100","required","","id","dataModel.orderTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.orderTitleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.orderTitleML","id","dataModel.orderTitleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.orderTitleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.orderTitleResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.orderTitleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.titleSoldIt",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSoldIt","minlength","1","maxlength","100","required","","id","dataModel.titleSoldIt",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleSoldItML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSoldItML","id","dataModel.titleSoldItML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleSoldItResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSoldItResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.titleSoldItResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"d-flex","mb-3"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleSalePriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSalePriceML","id","dataModel.titleSalePriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleRentPriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleRentPriceML","id","dataModel.titleRentPriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.rentPricePriodTitleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.rentPricePriodTitleML","id","dataModel.rentPricePriodTitleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleDepositPriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleDepositPriceML","id","dataModel.titleDepositPriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titlePeriodPriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titlePeriodPriceML","id","dataModel.titlePeriodPriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[1,"form-actions"],[1,"pt-1"],["data-trigger-switch","dataModel.hasPeriodPrice",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.allowPriceInquiryCalculate","name","dataModel.allowPriceInquiryCalculate",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.allowPriceInquiryCalculate",1,"custom-control-label"],["type","checkbox","id","dataModel.hasSalePrice","name","dataModel.hasSalePrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasSalePrice",1,"custom-control-label"],["type","checkbox","id","dataModel.hasRentPrice","name","dataModel.hasRentPrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasRentPrice",1,"custom-control-label"],["type","checkbox","id","dataModel.hasDepositPrice","name","dataModel.hasDepositPrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasDepositPrice",1,"custom-control-label"],["type","checkbox","id","dataModel.hasPeriodPrice","name","dataModel.hasPeriodPrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasPeriodPrice",1,"custom-control-label"],["data-trigger-switch","dataModel.salePriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","dataModel.salePriceAllowAgreement","name","dataModel.salePriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.salePriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titleSalePrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSalePrice","minlength","1","maxlength","100","id","dataModel.titleSalePrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleSalePriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSalePriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titleSalePriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["data-trigger-switch","dataModel.rentPriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","dataModel.rentPriceAllowAgreement","name","dataModel.rentPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rentPriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titleRentPrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleRentPrice","minlength","1","maxlength","100","id","dataModel.titleRentPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleRentPriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleRentPriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titleRentPriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.rentPricePriodTitle",1,"color-highlight"],["matInput","","type","text","name","dataModel.rentPricePriodTitle","minlength","1","maxlength","100","id","dataModel.rentPricePriodTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.rentPricePriodTitleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.rentPricePriodTitleResourceLanguage","minlength","1","maxlength","100","id","dataModel.rentPricePriodTitleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","checkbox","id","dataModel.depositPriceAllowAgreement","name","dataModel.depositPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.depositPriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titleDepositPrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleDepositPrice","minlength","1","maxlength","100","id","dataModel.titleDepositPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleDepositPriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleDepositPriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titleDepositPriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","checkbox","id","dataModel.periodPriceAllowAgreement","name","dataModel.periodPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.periodPriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titlePeriodPrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titlePeriodPrice","minlength","1","maxlength","100","id","dataModel.titlePeriodPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titlePeriodPriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titlePeriodPriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titlePeriodPriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=I();a(0,"div",17),y(1,"app-progress-spinner",18),a(2,"div",19)(3,"p",20),d(4),r(),a(5,"p"),d(6),_(7,"translate"),r(),y(8,"app-cms-form-result-message",21),a(9,"form",22,0),E("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(11,"div",23)(12,"label",24),d(13),r(),a(14,"input",25,1),w("ngModelChange",function(c){return u(l),T(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),r(),S(16,xu,1,0,"i",26),S(17,Pu,1,0,"i",27),a(18,"em"),d(19),r(),S(20,Au,5,3,"mat-error"),r(),a(21,"div",23)(22,"label",28),d(23),r(),a(24,"input",29),w("ngModelChange",function(c){return u(l),T(t.dataModel.titleML,c)||(t.dataModel.titleML=c),f(c)}),r()(),a(25,"div",23)(26,"label",30),d(27),r(),a(28,"input",31,2),w("ngModelChange",function(c){return u(l),T(t.dataModel.titleResourceLanguage,c)||(t.dataModel.titleResourceLanguage=c),f(c)}),r(),S(30,Ru,1,0,"i",26),S(31,Du,1,0,"i",27),a(32,"em"),d(33),r(),S(34,ku,5,3,"mat-error"),r(),y(35,"hr"),a(36,"div",23)(37,"label",32),d(38),r(),a(39,"input",33,3),w("ngModelChange",function(c){return u(l),T(t.dataModel.orderTitle,c)||(t.dataModel.orderTitle=c),f(c)}),r(),S(41,Lu,1,0,"i",26),S(42,Vu,1,0,"i",27),a(43,"em"),d(44),r(),S(45,Fu,5,3,"mat-error"),r(),a(46,"div",23)(47,"label",34),d(48),r(),a(49,"input",35),w("ngModelChange",function(c){return u(l),T(t.dataModel.orderTitleML,c)||(t.dataModel.orderTitleML=c),f(c)}),r()(),a(50,"div",23)(51,"label",36),d(52),r(),a(53,"input",37,4),w("ngModelChange",function(c){return u(l),T(t.dataModel.orderTitleResourceLanguage,c)||(t.dataModel.orderTitleResourceLanguage=c),f(c)}),r(),S(55,Bu,1,0,"i",26),S(56,Ou,1,0,"i",27),a(57,"em"),d(58),r(),S(59,Nu,5,3,"mat-error"),r(),a(60,"div",23)(61,"label",38),d(62),r(),a(63,"input",39,5),w("ngModelChange",function(c){return u(l),T(t.dataModel.titleSoldIt,c)||(t.dataModel.titleSoldIt=c),f(c)}),r(),S(65,Gu,1,0,"i",26),S(66,Wu,1,0,"i",27),a(67,"em"),d(68),r(),S(69,Hu,5,3,"mat-error"),r(),a(70,"div",23)(71,"label",40),d(72),r(),a(73,"input",41,5),w("ngModelChange",function(c){return u(l),T(t.dataModel.titleSoldItML,c)||(t.dataModel.titleSoldItML=c),f(c)}),r()(),a(75,"div",23)(76,"label",42),d(77),r(),a(78,"input",43,6),w("ngModelChange",function(c){return u(l),T(t.dataModel.titleSoldItResourceLanguage,c)||(t.dataModel.titleSoldItResourceLanguage=c),f(c)}),r(),S(80,ju,1,0,"i",26),S(81,Uu,1,0,"i",27),a(82,"em"),d(83),r(),S(84,qu,5,3,"mat-error"),r(),S(85,Qu,8,2,"div",44),S(86,zu,8,2,"div",44),S(87,Ku,8,2,"div",44),S(88,Zu,8,2,"div",44),S(89,Yu,8,2,"div",44),a(90,"div",23)(91,"label",45),d(92),r(),a(93,"textarea",46,7),w("ngModelChange",function(c){return u(l),T(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),r(),a(95,"em"),d(96),r(),S(97,Ju,5,3,"mat-error"),r(),S(98,Xu,1,0,"hr"),S(99,$u,8,2,"div",44),S(100,ef,7,5,"div",23),a(101,"div",23)(102,"label",47),d(103),r(),a(104,"input",48,8),w("ngModelChange",function(c){return u(l),T(t.dataModel.titleSalePriceML,c)||(t.dataModel.titleSalePriceML=c),f(c)}),r(),a(106,"em"),d(107),r()(),S(108,tf,7,5,"div",23),S(109,nf,1,0,"hr"),S(110,of,8,2,"div",44),S(111,af,5,4,"div",23),a(112,"div",23)(113,"label",49),d(114),r(),a(115,"input",50),w("ngModelChange",function(c){return u(l),T(t.dataModel.titleRentPriceML,c)||(t.dataModel.titleRentPriceML=c),f(c)}),r()(),S(116,rf,7,5,"div",23),S(117,lf,7,5,"div",23),a(118,"div",23)(119,"label",51),d(120),r(),a(121,"input",52),w("ngModelChange",function(c){return u(l),T(t.dataModel.rentPricePriodTitleML,c)||(t.dataModel.rentPricePriodTitleML=c),f(c)}),r()(),S(122,sf,7,5,"div",23),S(123,df,1,0,"hr"),S(124,cf,8,2,"div",44),S(125,pf,7,5,"div",23),a(126,"div",23)(127,"label",53),d(128),r(),a(129,"input",54),w("ngModelChange",function(c){return u(l),T(t.dataModel.titleDepositPriceML,c)||(t.dataModel.titleDepositPriceML=c),f(c)}),r()(),S(130,mf,7,5,"div",23),S(131,uf,1,0,"hr"),S(132,ff,8,2,"div",44),S(133,_f,7,5,"div",23),a(134,"div",23)(135,"label",55),d(136),r(),a(137,"input",56),w("ngModelChange",function(c){return u(l),T(t.dataModel.titlePeriodPriceML,c)||(t.dataModel.titlePeriodPriceML=c),f(c)}),r()(),S(138,gf,7,5,"div",23),S(139,hf,6,4,"div",57),r()()()}if(i&2){let l=A(15),C=A(29),c=A(40),L=A(54),q=A(64),Se=A(79),je=A(94),Ke=A(105);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",g(7,112,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(),m("ngStyle",Nt(114,wu,t.tokenInfo.access.direction)),o(4),x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),M(l.value?-1:16),o(),M(l.value?17:-1),o(2),h("",l.value.length," / 100"),o(),M(l.errors!=null&&l.errors.required?20:-1),o(3),x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),b("ngModel",t.dataModel.titleML),m("disabled",!0),o(3),x(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle)),b("ngModel",t.dataModel.titleResourceLanguage),m("disabled",!0),o(2),M(C.value?-1:30),o(),M(C.value?31:-1),o(2),h("",C.value.length," / 100"),o(),M(C.errors!=null&&C.errors.required?34:-1),o(4),x(t.fieldsInfo.orderTitle==null?null:t.fieldsInfo.orderTitle.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.orderTitle==null?null:t.fieldsInfo.orderTitle.fieldTitle)),b("ngModel",t.dataModel.orderTitle),m("disabled",!0),o(2),M(c.value?-1:41),o(),M(c.value?42:-1),o(2),h("",c.value.length," / 100"),o(),M(c.errors!=null&&c.errors.required?45:-1),o(3),x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),b("ngModel",t.dataModel.orderTitleML),m("disabled",!0)("disabled",!0),o(3),x(t.fieldsInfo.orderTitleResourceLanguage==null?null:t.fieldsInfo.orderTitleResourceLanguage.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.orderTitleResourceLanguage==null?null:t.fieldsInfo.orderTitleResourceLanguage.fieldTitle)),b("ngModel",t.dataModel.orderTitleResourceLanguage),m("disabled",!0),o(2),M(L.value?-1:55),o(),M(L.value?56:-1),o(2),h("",L.value.length," / 100"),o(),M(L.errors!=null&&L.errors.required?59:-1),o(3),x(t.fieldsInfo.titleSoldIt==null?null:t.fieldsInfo.titleSoldIt.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.titleSoldIt==null?null:t.fieldsInfo.titleSoldIt.fieldTitle)),b("ngModel",t.dataModel.titleSoldIt),o(2),M(q.value?-1:65),o(),M(q.value?66:-1),o(2),h("",q.value.length," / 100"),o(),M(q.errors!=null&&q.errors.required?69:-1),o(3),x(t.fieldsInfo.titleSoldIt==null?null:t.fieldsInfo.titleSoldIt.fieldTitle),o(),b("ngModel",t.dataModel.titleSoldItML),m("disabled",!0),o(4),x(t.fieldsInfo.titleSoldItResourceLanguage==null?null:t.fieldsInfo.titleSoldItResourceLanguage.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.titleSoldItResourceLanguage==null?null:t.fieldsInfo.titleSoldItResourceLanguage.fieldTitle)),b("ngModel",t.dataModel.titleSoldItResourceLanguage),o(2),M(q.value?-1:80),o(),M(q.value?81:-1),o(2),h("",Se.value.length," / 100"),o(),M(Se.errors!=null&&Se.errors.required?84:-1),o(),M(t.fieldsInfo.allowPriceInquiryCalculate!=null&&t.fieldsInfo.allowPriceInquiryCalculate.accessWatchField?85:-1),o(),M(t.fieldsInfo.hasSalePrice!=null&&t.fieldsInfo.hasSalePrice.accessWatchField?86:-1),o(),M(t.fieldsInfo.hasRentPrice!=null&&t.fieldsInfo.hasRentPrice.accessWatchField?87:-1),o(),M(t.fieldsInfo.hasDepositPrice!=null&&t.fieldsInfo.hasDepositPrice.accessWatchField?88:-1),o(),M(t.fieldsInfo.hasPeriodPrice!=null&&t.fieldsInfo.hasPeriodPrice.accessWatchField?89:-1),o(3),x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(3),h("",je.value.length," / 500"),o(),M(je.errors!=null&&je.errors.required?97:-1),o(),M(t.dataModel.hasSalePrice?98:-1),o(),M(t.fieldsInfo.salePriceAllowAgreement!=null&&t.fieldsInfo.salePriceAllowAgreement.accessWatchField?99:-1),o(),M(t.dataModel.hasSalePrice?100:-1),o(3),x(t.fieldsInfo.titleSalePrice==null?null:t.fieldsInfo.titleSalePrice.fieldTitle),o(),b("ngModel",t.dataModel.titleSalePriceML),m("disabled",!0),o(3),h("",Ke.value.length," / 100"),o(),M(t.dataModel.hasSalePrice?108:-1),o(),M(t.dataModel.hasRentPrice?109:-1),o(),M(t.fieldsInfo.rentPriceAllowAgreement!=null&&t.fieldsInfo.rentPriceAllowAgreement.accessWatchField?110:-1),o(),M(t.dataModel.hasRentPrice?111:-1),o(3),x(t.fieldsInfo.titleRentPrice==null?null:t.fieldsInfo.titleRentPrice.fieldTitle),o(),b("ngModel",t.dataModel.titleRentPriceML),m("disabled",!0),o(),M(t.dataModel.hasRentPrice?116:-1),o(),M(t.dataModel.hasRentPrice?117:-1),o(3),x(t.fieldsInfo.rentPricePriodTitle==null?null:t.fieldsInfo.rentPricePriodTitle.fieldTitle),o(),b("ngModel",t.dataModel.rentPricePriodTitleML),m("disabled",!0),o(),M(t.dataModel.hasRentPrice?122:-1),o(),M(t.dataModel.hasDepositPrice?123:-1),o(),M(t.fieldsInfo.depositPriceAllowAgreement!=null&&t.fieldsInfo.depositPriceAllowAgreement.accessWatchField?124:-1),o(),M(t.dataModel.hasDepositPrice?125:-1),o(3),x(t.fieldsInfo.titleDepositPriceML==null?null:t.fieldsInfo.titleDepositPriceML.fieldTitle),o(),b("ngModel",t.dataModel.titleDepositPriceML),m("disabled",!0),o(),M(t.dataModel.hasDepositPrice?130:-1),o(),M(t.dataModel.hasPeriodPrice?131:-1),o(),M(t.fieldsInfo.periodPriceAllowAgreement!=null&&t.fieldsInfo.periodPriceAllowAgreement.accessWatchField?132:-1),o(),M(t.dataModel.hasPeriodPrice?133:-1),o(3),x(t.fieldsInfo.titlePeriodPriceML==null?null:t.fieldsInfo.titlePeriodPriceML.fieldTitle),o(),b("ngModel",t.dataModel.titlePeriodPriceML),m("disabled",!0),o(),M(t.dataModel.hasPeriodPrice?138:-1),o(),M(t.publicHelper.processService.process.inRunAll?-1:139)}},dependencies:[oi,Re,X,Jt,$,Te,le,Ee,ge,_e,Ae,De,ee,U,se,Vl,W],encapsulation:2});var Kl=Na;var yf=["vform"],Sf=n=>({direction:n});function Mf(n,s){n&1&&y(0,"i",26)}function Ef(n,s){n&1&&y(0,"i",27)}function vf(n,s){n&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function If(n,s){n&1&&y(0,"i",26)}function bf(n,s){n&1&&y(0,"i",27)}function Tf(n,s){n&1&&(a(0,"mat-error"),d(1," titleResourceLanguage is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function wf(n,s){n&1&&y(0,"i",26)}function xf(n,s){n&1&&y(0,"i",27)}function Pf(n,s){n&1&&(a(0,"mat-error"),d(1," orderTitle is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function Af(n,s){n&1&&y(0,"i",26)}function Rf(n,s){n&1&&y(0,"i",27)}function Df(n,s){n&1&&(a(0,"mat-error"),d(1," orderTitleResourceLanguage is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function kf(n,s){n&1&&y(0,"i",26)}function Lf(n,s){n&1&&y(0,"i",27)}function Vf(n,s){n&1&&(a(0,"mat-error"),d(1," TitleSoldIt is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function Ff(n,s){n&1&&y(0,"i",26)}function Bf(n,s){n&1&&y(0,"i",27)}function Of(n,s){n&1&&(a(0,"mat-error"),d(1," titleSoldItResourceLanguage is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function Nf(n,s){if(n&1){let e=I();a(0,"div",44)(1,"div",58)(2,"h5",59),d(3),r()(),a(4,"div",60)(5,"div",61)(6,"input",62),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.allowPriceInquiryCalculate,t)||(l.dataModel.allowPriceInquiryCalculate=t),f(t)}),r(),y(7,"label",63),r()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.allowPriceInquiryCalculate==null?null:e.fieldsInfo.allowPriceInquiryCalculate.fieldTitle," "),o(3),b("ngModel",e.dataModel.allowPriceInquiryCalculate)}}function Gf(n,s){if(n&1){let e=I();a(0,"div",44)(1,"div",58)(2,"h5",59),d(3),r()(),a(4,"div",60)(5,"div",61)(6,"input",64),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.hasSalePrice,t)||(l.dataModel.hasSalePrice=t),f(t)}),r(),y(7,"label",65),r()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.hasSalePrice==null?null:e.fieldsInfo.hasSalePrice.fieldTitle," "),o(3),b("ngModel",e.dataModel.hasSalePrice)}}function Wf(n,s){if(n&1){let e=I();a(0,"div",44)(1,"div",58)(2,"h5",59),d(3),r()(),a(4,"div",60)(5,"div",61)(6,"input",66),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.hasRentPrice,t)||(l.dataModel.hasRentPrice=t),f(t)}),r(),y(7,"label",67),r()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.hasRentPrice==null?null:e.fieldsInfo.hasRentPrice.fieldTitle," "),o(3),b("ngModel",e.dataModel.hasRentPrice)}}function Hf(n,s){if(n&1){let e=I();a(0,"div",44)(1,"div",58)(2,"h5",59),d(3),r()(),a(4,"div",60)(5,"div",61)(6,"input",68),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.hasDepositPrice,t)||(l.dataModel.hasDepositPrice=t),f(t)}),r(),y(7,"label",69),r()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.hasDepositPrice==null?null:e.fieldsInfo.hasDepositPrice.fieldTitle," "),o(3),b("ngModel",e.dataModel.hasDepositPrice)}}function jf(n,s){if(n&1){let e=I();a(0,"div",44)(1,"div",58)(2,"h5",59),d(3),r()(),a(4,"div",60)(5,"div",61)(6,"input",70),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.hasPeriodPrice,t)||(l.dataModel.hasPeriodPrice=t),f(t)}),r(),y(7,"label",71),r()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.hasPeriodPrice==null?null:e.fieldsInfo.hasPeriodPrice.fieldTitle," "),o(3),b("ngModel",e.dataModel.hasPeriodPrice)}}function Uf(n,s){n&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function qf(n,s){n&1&&y(0,"hr")}function Qf(n,s){if(n&1){let e=I();a(0,"div",44)(1,"div",58)(2,"h5",72),d(3),r()(),a(4,"div",60)(5,"div",61)(6,"input",73),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.salePriceAllowAgreement,t)||(l.dataModel.salePriceAllowAgreement=t),f(t)}),r(),y(7,"label",74),r()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.salePriceAllowAgreement==null?null:e.fieldsInfo.salePriceAllowAgreement.fieldTitle," "),o(3),b("ngModel",e.dataModel.salePriceAllowAgreement)}}function zf(n,s){if(n&1){let e=I();a(0,"div",23)(1,"label",75),d(2),r(),a(3,"input",76,8),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.titleSalePrice,t)||(l.dataModel.titleSalePrice=t),f(t)}),r(),a(5,"em"),d(6),r()()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.titleSalePrice==null?null:i.fieldsInfo.titleSalePrice.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.titleSalePrice==null?null:i.fieldsInfo.titleSalePrice.fieldTitle)),b("ngModel",i.dataModel.titleSalePrice),o(3),h("",e.value.length," / 100")}}function Kf(n,s){if(n&1){let e=I();a(0,"div",23)(1,"label",77),d(2),r(),a(3,"input",78,9),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.titleSalePriceResourceLanguage,t)||(l.dataModel.titleSalePriceResourceLanguage=t),f(t)}),r(),a(5,"em"),d(6),r()()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.titleSalePriceResourceLanguage==null?null:i.fieldsInfo.titleSalePriceResourceLanguage.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.titleSalePriceResourceLanguage==null?null:i.fieldsInfo.titleSalePriceResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titleSalePriceResourceLanguage),o(3),h("",e.value.length," / 100")}}function Zf(n,s){n&1&&y(0,"hr")}function Yf(n,s){if(n&1){let e=I();a(0,"div",44)(1,"div",58)(2,"h5",79),d(3),r()(),a(4,"div",60)(5,"div",61)(6,"input",80),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.rentPriceAllowAgreement,t)||(l.dataModel.rentPriceAllowAgreement=t),f(t)}),r(),y(7,"label",81),r()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.rentPriceAllowAgreement==null?null:e.fieldsInfo.rentPriceAllowAgreement.fieldTitle," "),o(3),b("ngModel",e.dataModel.rentPriceAllowAgreement)}}function Jf(n,s){if(n&1){let e=I();a(0,"div",23)(1,"label",82),d(2),r(),a(3,"input",83,8),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.titleRentPrice,t)||(l.dataModel.titleRentPrice=t),f(t)}),r()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.titleRentPrice==null?null:e.fieldsInfo.titleRentPrice.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.titleRentPrice==null?null:e.fieldsInfo.titleRentPrice.fieldTitle)),b("ngModel",e.dataModel.titleRentPrice)}}function Xf(n,s){if(n&1){let e=I();a(0,"div",23)(1,"label",84),d(2),r(),a(3,"input",85,10),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.titleRentPriceResourceLanguage,t)||(l.dataModel.titleRentPriceResourceLanguage=t),f(t)}),r(),a(5,"em"),d(6),r()()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.titleRentPriceResourceLanguage==null?null:i.fieldsInfo.titleRentPriceResourceLanguage.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.titleRentPrice==null?null:i.fieldsInfo.titleRentPrice.fieldTitle)),b("ngModel",i.dataModel.titleRentPriceResourceLanguage),o(3),h("",e.value.length," / 100")}}function $f(n,s){if(n&1){let e=I();a(0,"div",23)(1,"label",86),d(2),r(),a(3,"input",87,11),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.rentPricePriodTitle,t)||(l.dataModel.rentPricePriodTitle=t),f(t)}),r(),a(5,"em"),d(6),r()()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.rentPricePriodTitle==null?null:i.fieldsInfo.rentPricePriodTitle.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.titleRentPrice==null?null:i.fieldsInfo.titleRentPrice.fieldTitle)),b("ngModel",i.dataModel.rentPricePriodTitle),o(3),h("",e.value.length," / 100")}}function e_(n,s){if(n&1){let e=I();a(0,"div",23)(1,"label",88),d(2),r(),a(3,"input",89,12),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.rentPricePriodTitleResourceLanguage,t)||(l.dataModel.rentPricePriodTitleResourceLanguage=t),f(t)}),r(),a(5,"em"),d(6),r()()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.rentPricePriodTitleResourceLanguage==null?null:i.fieldsInfo.rentPricePriodTitleResourceLanguage.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.titleRentPrice==null?null:i.fieldsInfo.titleRentPrice.fieldTitle)),b("ngModel",i.dataModel.rentPricePriodTitleResourceLanguage),o(3),h("",e.value.length," / 100")}}function t_(n,s){n&1&&y(0,"hr")}function i_(n,s){if(n&1){let e=I();a(0,"div",44)(1,"div",58)(2,"h5",79),d(3),r()(),a(4,"div",60)(5,"div",61)(6,"input",90),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.depositPriceAllowAgreement,t)||(l.dataModel.depositPriceAllowAgreement=t),f(t)}),r(),y(7,"label",91),r()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.depositPriceAllowAgreement==null?null:e.fieldsInfo.depositPriceAllowAgreement.fieldTitle," "),o(3),b("ngModel",e.dataModel.depositPriceAllowAgreement)}}function n_(n,s){if(n&1){let e=I();a(0,"div",23)(1,"label",92),d(2),r(),a(3,"input",93,13),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.titleDepositPrice,t)||(l.dataModel.titleDepositPrice=t),f(t)}),r(),a(5,"em"),d(6),r()()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.titleDepositPrice==null?null:i.fieldsInfo.titleDepositPrice.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.titleDepositPrice==null?null:i.fieldsInfo.titleDepositPrice.fieldTitle)),b("ngModel",i.dataModel.titleDepositPrice),o(3),h("",e.value.length," / 100")}}function o_(n,s){if(n&1){let e=I();a(0,"div",23)(1,"label",94),d(2),r(),a(3,"input",95,14),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.titleDepositPriceResourceLanguage,t)||(l.dataModel.titleDepositPriceResourceLanguage=t),f(t)}),r(),a(5,"em"),d(6),r()()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.titleDepositPriceResourceLanguage==null?null:i.fieldsInfo.titleDepositPriceResourceLanguage.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.titleDepositPriceResourceLanguage==null?null:i.fieldsInfo.titleDepositPriceResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titleDepositPriceResourceLanguage),o(3),h("",e.value.length," / 100")}}function a_(n,s){n&1&&y(0,"hr")}function r_(n,s){if(n&1){let e=I();a(0,"div",44)(1,"div",58)(2,"h5",79),d(3),r()(),a(4,"div",60)(5,"div",61)(6,"input",96),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.periodPriceAllowAgreement,t)||(l.dataModel.periodPriceAllowAgreement=t),f(t)}),r(),y(7,"label",97),r()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.periodPriceAllowAgreement==null?null:e.fieldsInfo.periodPriceAllowAgreement.fieldTitle," "),o(3),b("ngModel",e.dataModel.periodPriceAllowAgreement)}}function l_(n,s){if(n&1){let e=I();a(0,"div",23)(1,"label",98),d(2),r(),a(3,"input",99,15),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.titlePeriodPrice,t)||(l.dataModel.titlePeriodPrice=t),f(t)}),r(),a(5,"em"),d(6),r()()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.titlePeriodPrice==null?null:i.fieldsInfo.titlePeriodPrice.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.titlePeriodPrice==null?null:i.fieldsInfo.titlePeriodPrice.fieldTitle)),b("ngModel",i.dataModel.titlePeriodPrice),o(3),h("",e.value.length," / 100")}}function s_(n,s){if(n&1){let e=I();a(0,"div",23)(1,"label",100),d(2),r(),a(3,"input",101,16),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.titlePeriodPriceResourceLanguage,t)||(l.dataModel.titlePeriodPriceResourceLanguage=t),f(t)}),r(),a(5,"em"),d(6),r()()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.titlePeriodPriceResourceLanguage==null?null:i.fieldsInfo.titlePeriodPriceResourceLanguage.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.titlePeriodPriceResourceLanguage==null?null:i.fieldsInfo.titlePeriodPriceResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titlePeriodPriceResourceLanguage),o(3),h("",e.value.length," / 100")}}function d_(n,s){if(n&1){let e=I();a(0,"div",57)(1,"button",102),E("click",function(){u(e);let t=p();return f(t.onFormCancel())}),y(2,"i",103),d(3),_(4,"translate"),r(),a(5,"button",104),y(6,"i",105),d(7),_(8,"translate"),r()()}if(n&2){p();let e=A(10);o(3),h(" ",g(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),h(" ",g(8,5,"ACTION.SAVE")," ")}}var Ga=class Ga extends Tt{constructor(e,i,t,l,C,c,L,q,Se,je){super(l,new jn,c,je);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateContractTypeService=l;this.cmsToastrService=C;this.publicHelper=c;this.cdr=L;this.tokenHelper=q;this.cmsStoreService=Se;this.translate=je;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ht;this.dataModel=new jn;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateContractTypeService.setAccessLoad(),this.estateContractTypeService.setAccessDataType(Be.Editor),this.estateContractTypeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateContractTypeService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ga.\u0275fac=function(i){return new(i||Ga)(v(Ve),v(Le),v(te),v(Pi),v(O),v(G),v(N),v(de),v(Ce),v(B))},Ga.\u0275cmp=V({type:Ga,selectors:[["app-estate-contract-type-edit"]],viewQuery:function(i,t){if(i&1&&Q(yf,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[Y],decls:137,vars:115,consts:[["vform","ngForm"],["Title",""],["titleResourceLanguage",""],["orderTitle",""],["orderTitleResourceLanguage",""],["TitleSoldIt",""],["titleSoldItResourceLanguage",""],["Description",""],["TitleSalePrice",""],["titleSalePriceResourceLanguage",""],["titleRentPriceResourceLanguage",""],["rentPricePriodTitle",""],["rentPricePriodTitleResourceLanguage",""],["TitleDepositPrice",""],["titleDepositPriceResourceLanguage",""],["TitlePeriodPrice",""],["titlePeriodPriceResourceLanguage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","cmsKeyboardForce","en","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.orderTitle",1,"color-highlight"],["matInput","","type","text","name","dataModel.orderTitle","minlength","3","maxlength","100","required","","id","dataModel.orderTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.orderTitleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.orderTitleML","id","dataModel.orderTitleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.orderTitleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.orderTitleResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.orderTitleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.titleSoldIt",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSoldIt","minlength","3","maxlength","100","required","","id","dataModel.titleSoldIt",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleSoldItML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSoldItML","id","dataModel.titleSoldItML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleSoldItResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSoldItResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.titleSoldItResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"d-flex","mb-3"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleSalePriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSalePriceML","id","dataModel.titleSalePriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleRentPriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleRentPriceML","id","dataModel.titleRentPriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.rentPricePriodTitleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.rentPricePriodTitleML","id","dataModel.rentPricePriodTitleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleDepositPriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleDepositPriceML","id","dataModel.titleDepositPriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titlePeriodPriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titlePeriodPriceML","id","dataModel.titlePeriodPriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[1,"form-actions"],[1,"pt-1"],["data-trigger-switch","dataModel.hasPeriodPrice",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.allowPriceInquiryCalculate","name","dataModel.allowPriceInquiryCalculate",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.allowPriceInquiryCalculate",1,"custom-control-label"],["type","checkbox","id","dataModel.hasSalePrice","name","dataModel.hasSalePrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasSalePrice",1,"custom-control-label"],["type","checkbox","id","dataModel.hasRentPrice","name","dataModel.hasRentPrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasRentPrice",1,"custom-control-label"],["type","checkbox","id","dataModel.hasDepositPrice","name","dataModel.hasDepositPrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasDepositPrice",1,"custom-control-label"],["type","checkbox","id","dataModel.hasPeriodPrice","name","dataModel.hasPeriodPrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasPeriodPrice",1,"custom-control-label"],["data-trigger-switch","dataModel.salePriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","dataModel.salePriceAllowAgreement","name","dataModel.salePriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.salePriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titleSalePrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSalePrice","minlength","1","maxlength","100","id","dataModel.titleSalePrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleSalePriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSalePriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titleSalePriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["data-trigger-switch","dataModel.rentPriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","dataModel.rentPriceAllowAgreement","name","dataModel.rentPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rentPriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titleRentPrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleRentPrice","minlength","1","maxlength","100","id","dataModel.titleRentPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleRentPriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleRentPriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titleRentPriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.rentPricePriodTitle",1,"color-highlight"],["matInput","","type","text","name","dataModel.rentPricePriodTitle","minlength","1","maxlength","100","id","dataModel.rentPricePriodTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.rentPricePriodTitleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.rentPricePriodTitleResourceLanguage","minlength","1","maxlength","100","id","dataModel.rentPricePriodTitleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","checkbox","id","dataModel.depositPriceAllowAgreement","name","dataModel.depositPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.depositPriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titleDepositPrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.   titleDepositPrice","minlength","1","maxlength","100","id","dataModel.titleDepositPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleDepositPriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleDepositPriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titleDepositPriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","checkbox","id","dataModel.periodPriceAllowAgreement","name","dataModel.periodPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.periodPriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titlePeriodPrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titlePeriodPrice","minlength","1","maxlength","100","id","dataModel.titlePeriodPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titlePeriodPriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titlePeriodPriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titlePeriodPriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=I();a(0,"div",17),y(1,"app-progress-spinner",18),a(2,"div",19)(3,"p",20),d(4),r(),a(5,"p"),d(6),_(7,"translate"),r(),y(8,"app-cms-form-result-message",21),a(9,"form",22,0),E("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(11,"div",23)(12,"label",24),d(13),r(),a(14,"input",25,1),w("ngModelChange",function(c){return u(l),T(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),r(),S(16,Mf,1,0,"i",26),S(17,Ef,1,0,"i",27),a(18,"em"),d(19),r(),S(20,vf,5,3,"mat-error"),r(),a(21,"div",23)(22,"label",28),d(23),r(),a(24,"input",29),w("ngModelChange",function(c){return u(l),T(t.dataModel.titleML,c)||(t.dataModel.titleML=c),f(c)}),r()(),a(25,"div",23)(26,"label",30),d(27),r(),a(28,"input",31,2),w("ngModelChange",function(c){return u(l),T(t.dataModel.titleResourceLanguage,c)||(t.dataModel.titleResourceLanguage=c),f(c)}),r(),S(30,If,1,0,"i",26),S(31,bf,1,0,"i",27),a(32,"em"),d(33),r(),S(34,Tf,5,3,"mat-error"),r(),y(35,"hr"),a(36,"div",23)(37,"label",32),d(38),r(),a(39,"input",33,3),w("ngModelChange",function(c){return u(l),T(t.dataModel.orderTitle,c)||(t.dataModel.orderTitle=c),f(c)}),r(),S(41,wf,1,0,"i",26),S(42,xf,1,0,"i",27),a(43,"em"),d(44),r(),S(45,Pf,5,3,"mat-error"),r(),a(46,"div",23)(47,"label",34),d(48),r(),a(49,"input",35),w("ngModelChange",function(c){return u(l),T(t.dataModel.orderTitleML,c)||(t.dataModel.orderTitleML=c),f(c)}),r()(),a(50,"div",23)(51,"label",36),d(52),r(),a(53,"input",37,4),w("ngModelChange",function(c){return u(l),T(t.dataModel.orderTitleResourceLanguage,c)||(t.dataModel.orderTitleResourceLanguage=c),f(c)}),r(),S(55,Af,1,0,"i",26),S(56,Rf,1,0,"i",27),a(57,"em"),d(58),r(),S(59,Df,5,3,"mat-error"),r(),a(60,"div",23)(61,"label",38),d(62),r(),a(63,"input",39,5),w("ngModelChange",function(c){return u(l),T(t.dataModel.titleSoldIt,c)||(t.dataModel.titleSoldIt=c),f(c)}),r(),S(65,kf,1,0,"i",26),S(66,Lf,1,0,"i",27),a(67,"em"),d(68),r(),S(69,Vf,5,3,"mat-error"),r(),a(70,"div",23)(71,"label",40),d(72),r(),a(73,"input",41,5),w("ngModelChange",function(c){return u(l),T(t.dataModel.titleSoldItML,c)||(t.dataModel.titleSoldItML=c),f(c)}),r()(),a(75,"div",23)(76,"label",42),d(77),r(),a(78,"input",43,6),w("ngModelChange",function(c){return u(l),T(t.dataModel.titleSoldItResourceLanguage,c)||(t.dataModel.titleSoldItResourceLanguage=c),f(c)}),r(),S(80,Ff,1,0,"i",26),S(81,Bf,1,0,"i",27),a(82,"em"),d(83),r(),S(84,Of,5,3,"mat-error"),r(),S(85,Nf,8,2,"div",44),S(86,Gf,8,2,"div",44),S(87,Wf,8,2,"div",44),S(88,Hf,8,2,"div",44),S(89,jf,8,2,"div",44),a(90,"div",23)(91,"label",45),d(92),r(),a(93,"textarea",46,7),w("ngModelChange",function(c){return u(l),T(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),r(),a(95,"em"),d(96),r(),S(97,Uf,5,3,"mat-error"),r(),S(98,qf,1,0,"hr"),S(99,Qf,8,2,"div",44),S(100,zf,7,5,"div",23),a(101,"div",23)(102,"label",47),d(103),r(),a(104,"input",48),w("ngModelChange",function(c){return u(l),T(t.dataModel.titleSalePriceML,c)||(t.dataModel.titleSalePriceML=c),f(c)}),r()(),S(105,Kf,7,5,"div",23),S(106,Zf,1,0,"hr"),S(107,Yf,8,2,"div",44),S(108,Jf,5,4,"div",23),a(109,"div",23)(110,"label",49),d(111),r(),a(112,"input",50),w("ngModelChange",function(c){return u(l),T(t.dataModel.titleRentPriceML,c)||(t.dataModel.titleRentPriceML=c),f(c)}),r()(),S(113,Xf,7,5,"div",23),S(114,$f,7,5,"div",23),a(115,"div",23)(116,"label",51),d(117),r(),a(118,"input",52),w("ngModelChange",function(c){return u(l),T(t.dataModel.rentPricePriodTitleML,c)||(t.dataModel.rentPricePriodTitleML=c),f(c)}),r()(),S(119,e_,7,5,"div",23),S(120,t_,1,0,"hr"),S(121,i_,8,2,"div",44),S(122,n_,7,5,"div",23),a(123,"div",23)(124,"label",53),d(125),r(),a(126,"input",54),w("ngModelChange",function(c){return u(l),T(t.dataModel.titleDepositPriceML,c)||(t.dataModel.titleDepositPriceML=c),f(c)}),r()(),S(127,o_,7,5,"div",23),S(128,a_,1,0,"hr"),S(129,r_,8,2,"div",44),S(130,l_,7,5,"div",23),a(131,"div",23)(132,"label",55),d(133),r(),a(134,"input",56),w("ngModelChange",function(c){return u(l),T(t.dataModel.titlePeriodPriceML,c)||(t.dataModel.titlePeriodPriceML=c),f(c)}),r()(),S(135,s_,7,5,"div",23),S(136,d_,9,7,"div",57),r()()()}if(i&2){let l=A(15),C=A(29),c=A(40),L=A(54),q=A(64),Se=A(79),je=A(94);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",g(7,111,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(),m("ngStyle",Nt(113,Sf,t.tokenInfo.access.direction)),o(4),x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),M(l.value?-1:16),o(),M(l.value?17:-1),o(2),h("",l.value.length," / 100"),o(),M(l.errors!=null&&l.errors.required?20:-1),o(3),x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),b("ngModel",t.dataModel.titleML),m("disabled",!0),o(3),x(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle)),b("ngModel",t.dataModel.titleResourceLanguage),m("disabled",!0),o(2),M(C.value?-1:30),o(),M(C.value?31:-1),o(2),h("",C.value.length," / 100"),o(),M(C.errors!=null&&C.errors.required?34:-1),o(4),x(t.fieldsInfo.orderTitle==null?null:t.fieldsInfo.orderTitle.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.orderTitle==null?null:t.fieldsInfo.orderTitle.fieldTitle)),b("ngModel",t.dataModel.orderTitle),m("disabled",!0),o(2),M(c.value?-1:41),o(),M(c.value?42:-1),o(2),h("",c.value.length," / 100"),o(),M(c.errors!=null&&c.errors.required?45:-1),o(3),x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),b("ngModel",t.dataModel.orderTitleML),m("disabled",!0)("disabled",!0),o(3),x(t.fieldsInfo.orderTitleResourceLanguage==null?null:t.fieldsInfo.orderTitleResourceLanguage.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.orderTitleResourceLanguage==null?null:t.fieldsInfo.orderTitleResourceLanguage.fieldTitle)),b("ngModel",t.dataModel.orderTitleResourceLanguage),m("disabled",!0),o(2),M(L.value?-1:55),o(),M(L.value?56:-1),o(2),h("",L.value.length," / 100"),o(),M(L.errors!=null&&L.errors.required?59:-1),o(3),x(t.fieldsInfo.titleSoldIt==null?null:t.fieldsInfo.titleSoldIt.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.titleSoldIt==null?null:t.fieldsInfo.titleSoldIt.fieldTitle)),b("ngModel",t.dataModel.titleSoldIt),o(2),M(q.value?-1:65),o(),M(q.value?66:-1),o(2),h("",q.value.length," / 100"),o(),M(q.errors!=null&&q.errors.required?69:-1),o(3),x(t.fieldsInfo.titleSoldIt==null?null:t.fieldsInfo.titleSoldIt.fieldTitle),o(),b("ngModel",t.dataModel.titleSoldItML),m("disabled",!0),o(4),x(t.fieldsInfo.titleSoldItResourceLanguage==null?null:t.fieldsInfo.titleSoldItResourceLanguage.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.titleSoldItResourceLanguage==null?null:t.fieldsInfo.titleSoldItResourceLanguage.fieldTitle)),b("ngModel",t.dataModel.titleSoldItResourceLanguage),o(2),M(q.value?-1:80),o(),M(q.value?81:-1),o(2),h("",Se.value.length," / 100"),o(),M(Se.errors!=null&&Se.errors.required?84:-1),o(),M(t.fieldsInfo.allowPriceInquiryCalculate!=null&&t.fieldsInfo.allowPriceInquiryCalculate.accessWatchField?85:-1),o(),M(t.fieldsInfo.hasSalePrice!=null&&t.fieldsInfo.hasSalePrice.accessWatchField?86:-1),o(),M(t.fieldsInfo.hasRentPrice!=null&&t.fieldsInfo.hasRentPrice.accessWatchField?87:-1),o(),M(t.fieldsInfo.hasDepositPrice!=null&&t.fieldsInfo.hasDepositPrice.accessWatchField?88:-1),o(),M(t.fieldsInfo.hasPeriodPrice!=null&&t.fieldsInfo.hasPeriodPrice.accessWatchField?89:-1),o(3),x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(3),h("",je.value.length," / 500"),o(),M(je.errors!=null&&je.errors.required?97:-1),o(),M(t.dataModel.hasSalePrice?98:-1),o(),M(t.fieldsInfo.salePriceAllowAgreement!=null&&t.fieldsInfo.salePriceAllowAgreement.accessWatchField?99:-1),o(),M(t.dataModel.hasSalePrice?100:-1),o(3),x(t.fieldsInfo.titleSalePrice==null?null:t.fieldsInfo.titleSalePrice.fieldTitle),o(),b("ngModel",t.dataModel.titleSalePriceML),m("disabled",!0),o(),M(t.dataModel.hasSalePrice?105:-1),o(),M(t.dataModel.hasRentPrice?106:-1),o(),M(t.fieldsInfo.rentPriceAllowAgreement!=null&&t.fieldsInfo.rentPriceAllowAgreement.accessWatchField?107:-1),o(),M(t.dataModel.hasRentPrice?108:-1),o(3),x(t.fieldsInfo.titleRentPrice==null?null:t.fieldsInfo.titleRentPrice.fieldTitle),o(),b("ngModel",t.dataModel.titleRentPriceML),m("disabled",!0),o(),M(t.dataModel.hasRentPrice?113:-1),o(),M(t.dataModel.hasRentPrice?114:-1),o(3),x(t.fieldsInfo.rentPricePriodTitle==null?null:t.fieldsInfo.rentPricePriodTitle.fieldTitle),o(),b("ngModel",t.dataModel.rentPricePriodTitleML),m("disabled",!0),o(),M(t.dataModel.hasRentPrice?119:-1),o(),M(t.dataModel.hasDepositPrice?120:-1),o(),M(t.fieldsInfo.depositPriceAllowAgreement!=null&&t.fieldsInfo.depositPriceAllowAgreement.accessWatchField?121:-1),o(),M(t.dataModel.hasDepositPrice?122:-1),o(3),x(t.fieldsInfo.titleDepositPriceML==null?null:t.fieldsInfo.titleDepositPriceML.fieldTitle),o(),b("ngModel",t.dataModel.titleDepositPriceML),m("disabled",!0),o(),M(t.dataModel.hasDepositPrice?127:-1),o(),M(t.dataModel.hasPeriodPrice?128:-1),o(),M(t.fieldsInfo.periodPriceAllowAgreement!=null&&t.fieldsInfo.periodPriceAllowAgreement.accessWatchField?129:-1),o(),M(t.dataModel.hasPeriodPrice?130:-1),o(3),x(t.fieldsInfo.titlePeriodPriceML==null?null:t.fieldsInfo.titlePeriodPriceML.fieldTitle),o(),b("ngModel",t.dataModel.titlePeriodPriceML),m("disabled",!0),o(),M(t.dataModel.hasPeriodPrice?135:-1),o(),M(t.formInfo.submitButtonEnabled?136:-1)}},dependencies:[oi,Re,X,Jt,$,Te,le,Ee,ge,_e,Ae,De,ee,U,se,Vl,W],encapsulation:2});var Zl=Ga;var c_=()=>[5,10,20,100];function p_(n,s){if(n&1){let e=I();a(0,"div",15)(1,"a",39),E("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),y(2,"i",40)(3,"br"),r(),a(4,"p",19),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.ADD")," "))}function m_(n,s){if(n&1){let e=I();a(0,"div",15)(1,"a",41),E("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),y(2,"i",42)(3,"br"),r(),a(4,"p",19),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.EDIT")," "))}function u_(n,s){if(n&1){let e=I();a(0,"div",15)(1,"a",43),E("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),y(2,"i",44)(3,"br"),r(),a(4,"p",19),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.DELETE")," "))}function f_(n,s){if(n&1&&(a(0,"mat-header-cell",45),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function __(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.id," ")}}function g_(n,s){if(n&1&&(a(0,"mat-header-cell",45),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function C_(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),We(" ",e.title," / ",e.orderTitle," ")}}function h_(n,s){if(n&1&&(a(0,"mat-header-cell",45),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.hasSalePrice==null?null:e.fieldsInfo.hasSalePrice.fieldTitle," ")}}function y_(n,s){if(n&1&&(a(0,"mat-cell"),y(1,"i",46),_(2,"boolclass"),r()),n&2){let e=s.$implicit;o(),m("ngClass",g(2,1,e.hasSalePrice))}}function S_(n,s){if(n&1&&(a(0,"mat-header-cell",45),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.hasDepositPrice==null?null:e.fieldsInfo.hasDepositPrice.fieldTitle," ")}}function M_(n,s){if(n&1&&(a(0,"mat-cell"),y(1,"i",46),_(2,"boolclass"),r()),n&2){let e=s.$implicit;o(),m("ngClass",g(2,1,e.hasDepositPrice))}}function E_(n,s){if(n&1&&(a(0,"mat-header-cell",45),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.hasPeriodPrice==null?null:e.fieldsInfo.hasPeriodPrice.fieldTitle," ")}}function v_(n,s){if(n&1&&(a(0,"mat-cell"),y(1,"i",46),_(2,"boolclass"),r()),n&2){let e=s.$implicit;o(),m("ngClass",g(2,1,e.hasPeriodPrice))}}function I_(n,s){if(n&1&&(a(0,"mat-header-cell",45),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.hasRentPrice==null?null:e.fieldsInfo.hasRentPrice.fieldTitle," ")}}function b_(n,s){if(n&1&&(a(0,"mat-cell"),y(1,"i",46),_(2,"boolclass"),r()),n&2){let e=s.$implicit;o(),m("ngClass",g(2,1,e.hasRentPrice))}}function T_(n,s){n&1&&(a(0,"mat-header-cell"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.OPTION")," "))}function w_(n,s){if(n&1&&(a(0,"mat-cell",47)(1,"button",48)(2,"mat-icon"),d(3,"more_vert"),r()(),y(4,"mat-menu",null,2),r()),n&2){let e=A(5);o(),m("matMenuTriggerFor",e)}}function x_(n,s){n&1&&y(0,"mat-header-row")}function P_(n,s){if(n&1){let e=I();a(0,"mat-row",49),E("click",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))}),r()}if(n&2){let e=s.$implicit,i=p();ne("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Wa=class Wa extends wt{constructor(e,i,t,l,C,c,L,q,Se,je,Ke,Ot){super(e,new jn,Ke,C,q);this.contentService=e;this.cmsConfirmationDialogService=i;this.cmsToastrService=t;this.cmsStoreService=l;this.tokenHelper=C;this.router=c;this.cdr=L;this.translate=q;this.pageInfo=Se;this.themeService=je;this.publicHelper=Ke;this.dialog=Ot;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new oe;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["HasSalePrice","HasDepositPrice","HasRentPrice","HasPeriodPrice"];this.tabledisplayedColumnsMobileSource=["HasSalePrice","HasDepositPrice","HasRentPrice","HasPeriodPrice"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ii=>this.onSubmitOptionsSearch(ii)},this.filteModelContent.sortColumn="title",this.filteModelContent.sortType=J.Ascending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Me(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new jn);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=J.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Kl,{height:"90%",panelClass:e,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Zl,{height:"90%",panelClass:i,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let C=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(C,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})}onActionButtonContentList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/estate/property/LinkContractTypeId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkContractTypeId/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{i.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),C=new Z;C.propertyName="recordStatus",C.value=He.Available,l.filters.push(C),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{i.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Wa.\u0275fac=function(i){return new(i||Wa)(v(Pi),v(bt),v(O),v(Ce),v(de),v(ke),v(N),v(B),v(It),v(jt),v(G),v(Oe))},Wa.\u0275cmp=V({type:Wa,selectors:[["app-estate-contract-type-list"]],standalone:!1,features:[Y],decls:63,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","title"],["matColumnDef","HasSalePrice"],["matColumnDef","HasDepositPrice"],["matColumnDef","HasPeriodPrice"],["matColumnDef","HasRentPrice"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=I();a(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(c){return u(l),T(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),E("optionOnActionButtonMemoRow",function(){return u(l),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(l),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(l),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(l),f(t.onActionButtonPrintRow())}),D(1,4),d(2," -------------------------------------- "),k(),Ye(3,5)(4,6),D(5,7),a(6,"a",8),E("click",function(){return u(l),f(t.viewGuideNotice=!t.viewGuideNotice)}),y(7,"i",9),r(),a(8,"a",8),E("click",function(){return u(l),f(t.onActionButtonReload())}),y(9,"i",10),r(),k(),D(10,11),a(11,"a",12),E("click",function(){return u(l),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),y(12,"mat-slide-toggle",13),d(13),_(14,"translate"),r(),a(15,"a",12),E("click",function(){return u(l),f(t.onActionButtonStatist())}),y(16,"mat-slide-toggle",13),d(17),_(18,"translate"),r(),k(),D(19,14),S(20,p_,7,3,"div",15),k(),D(21,16),S(22,m_,7,3,"div",15),S(23,u_,7,3,"div",15),a(24,"div",15)(25,"a",17),E("click",function(c){return u(l),f(t.onActionButtonContentList(t.tableRowSelected,c))}),y(26,"i",18)(27,"br"),r(),a(28,"p",19),d(29),_(30,"translate"),r()(),k(),D(31,20),a(32,"app-cms-search-list",21),w("optionsChange",function(c){return u(l),T(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),r(),a(33,"app-cms-statist-list",21),w("optionsChange",function(c){return u(l),T(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),r(),k(),D(34,22),a(35,"mat-table",23,0),E("matSortChange",function(){u(l);let c=A(36);return f(t.onTableSortData(c))}),D(37,24),R(38,f_,2,1,"mat-header-cell",25)(39,__,2,1,"mat-cell",26),k(),D(40,27),R(41,g_,2,1,"mat-header-cell",25)(42,C_,2,2,"mat-cell",26),k(),D(43,28),R(44,h_,2,1,"mat-header-cell",25)(45,y_,3,3,"mat-cell",26),k(),D(46,29),R(47,S_,2,1,"mat-header-cell",25)(48,M_,3,3,"mat-cell",26),k(),D(49,30),R(50,E_,2,1,"mat-header-cell",25)(51,v_,3,3,"mat-cell",26),k(),D(52,31),R(53,I_,2,1,"mat-header-cell",25)(54,b_,3,3,"mat-cell",26),k(),D(55,32),R(56,T_,3,3,"mat-header-cell",33)(57,w_,6,1,"mat-cell",34),k(),R(58,x_,1,0,"mat-header-row",35)(59,P_,1,2,"mat-row",36),r(),k(),D(60,37),a(61,"mat-paginator",38,1),E("page",function(c){return u(l),f(t.onTablePageingData(c))}),r(),k(),r()}i&2&&(m("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),m("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),ne("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),m("checked",t.optionsSearch.data.show),o(),h("",g(14,26,"ACTION.SEARCH")," "),o(3),m("checked",t.optionsStatist.data.show),o(),h("",g(18,28,"ACTION.STATIST")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(6),h(" ",g(30,30,"ACTION.Property_to_be_traded")," "),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),m("dataSource",t.tableSource),o(23),m("matHeaderRowDef",t.tabledisplayedColumns),o(),m("matRowDefColumns",t.tabledisplayedColumns),o(2),m("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",fe(32,c_)))},dependencies:[re,Ue,we,yt,St,Mt,ft,Et,vt,$e,tt,at,it,et,rt,nt,ot,lt,st,xt,Pt,At,Rt,W,Dd],encapsulation:2});var Ha=Wa;var A_=["vform"];function R_(n,s){if(n&1){let e=I();a(0,"button",16),E("click",function(){u(e);let t=p(3);return f(t.onActionNext())}),y(1,"i",17),d(2," < "),r()}}function D_(n,s){if(n&1){let e=I();a(0,"button",16),E("click",function(){u(e);let t=p(3);return f(t.onActionPervious())}),y(1,"i",17),d(2," > "),r()}}function k_(n,s){if(n&1){let e=I();a(0,"div",9)(1,"button",16),E("click",function(){u(e);let t=p(2);return f(t.onFormCancel())}),y(2,"i",17),d(3),_(4,"translate"),r(),S(5,R_,3,0,"button",18),S(6,D_,3,0,"button",18),r()}if(n&2){let e=p(2);o(3),h(" ",g(4,3,"ACTION.CANCEL")," "),o(2),M(e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0?5:-1),o(),M(e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0?6:-1)}}function L_(n,s){if(n&1&&(a(0,"tr")(1,"td"),d(2),r(),a(3,"td"),d(4),_(5,"cmsuserinfo"),_(6,"async"),r()()),n&2){let e=p(2);o(2),h("",e.fieldsInfo.updatedBy==null?null:e.fieldsInfo.updatedBy.fieldTitle,":"),o(2),x(g(6,4,g(5,2,e.dataModel.updatedBy)))}}function V_(n,s){if(n&1&&(a(0,"tr")(1,"td"),d(2),r(),a(3,"td"),d(4),_(5,"cmsuserinfo"),_(6,"async"),r()()),n&2){let e=p(2);o(2),h("",e.fieldsInfo.linkCmsUserId==null?null:e.fieldsInfo.linkCmsUserId.fieldTitle,":"),o(2),x(g(6,4,g(5,2,e.dataModel.linkCmsUserId)))}}function F_(n,s){if(n&1&&(a(0,"tr")(1,"td"),d(2),_(3,"translate"),r(),a(4,"td"),d(5),r()()),n&2){let e=p(2);o(2),h("",g(3,2,"TITLE.General_Description"),":"),o(3),x(e.dataModel.description)}}function B_(n,s){if(n&1){let e=I();a(0,"button",16),E("click",function(){u(e);let t=p(3);return f(t.onActionNext())}),y(1,"i",17),d(2," < "),r()}}function O_(n,s){if(n&1){let e=I();a(0,"button",16),E("click",function(){u(e);let t=p(3);return f(t.onActionPervious())}),y(1,"i",17),d(2," > "),r()}}function N_(n,s){if(n&1){let e=I();a(0,"div",9)(1,"button",16),E("click",function(){u(e);let t=p(2);return f(t.onFormCancel())}),y(2,"i",17),d(3),_(4,"translate"),r(),S(5,B_,3,0,"button",18),S(6,O_,3,0,"button",18),r()}if(n&2){let e=p(2);o(3),h(" ",g(4,3,"ACTION.CANCEL")," "),o(2),M(e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0?5:-1),o(),M(e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0?6:-1)}}function G_(n,s){if(n&1&&(a(0,"div",8),S(1,k_,7,5,"div",9),r(),a(2,"div",10)(3,"table",11)(4,"tbody")(5,"tr")(6,"td"),d(7),r(),a(8,"td"),y(9,"i",12),_(10,"statusIconClass"),r()(),a(11,"tr")(12,"td"),d(13),r(),a(14,"td"),d(15),r()(),a(16,"tr")(17,"td"),d(18),r(),a(19,"td"),d(20),_(21,"cmsuserinfo"),_(22,"async"),r()(),S(23,L_,7,6,"tr"),S(24,V_,7,6,"tr"),S(25,F_,6,4,"tr"),r()()(),a(26,"div",13),y(27,"app-cms-form-result-message",14),r(),a(28,"div",15),S(29,N_,7,5,"div",9),r()),n&2){let e=p();o(),M(e.formInfo.submitButtonEnabled?1:-1),o(6),h("",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle,":"),o(2),m("ngClass",g(10,12,e.dataModel.recordStatus)),o(4),h("",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle,":"),o(2),x(e.dataModel.title),o(3),h("",e.fieldsInfo.createdBy==null?null:e.fieldsInfo.createdBy.fieldTitle,":"),o(2),x(g(22,16,g(21,14,e.dataModel.createdBy))),o(3),M(e.dataModel.updatedBy?23:-1),o(),M(e.dataModel.linkCmsUserId>0?24:-1),o(),M((e.dataModel.description==null?null:e.dataModel.description.length)>0?25:-1),o(2),m("formInfo",e.formInfo),o(2),M(e.formInfo.submitButtonEnabled?29:-1)}}var ja=class ja{constructor(s,e,i,t,l,C,c,L,q,Se){this.data=s;this.dialogRef=e;this.coreEnumService=i;this.estatePropertyCompanyService=t;this.cmsToastrService=l;this.tokenHelper=C;this.cmsStoreService=c;this.cdr=L;this.publicHelper=q;this.translate=Se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Wt;this.dataModelResult=new j;this.dataModelEstateContractTypeResult=new j;this.dataModel=new Ti;this.formInfo=new ie;this.fieldsInfo=new Map;this.optionTabledataSource=new Ht;this.optionTabledisplayedColumns=["LinkEstateContractTypeId","Price"];this.fileManagerOpenForm=!1;this.errorMessage="";this.enumInputDataType=rn;this.unsubscribe=[];this.step=0;this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=s.id+"",this.requestPerviousItem=s.perviousItem,this.requestNextItem=s.nextItem)}ngOnInit(){if(this.translate.get("TITLE.QUICK_VIEW").subscribe(s=>{this.formInfo.formTitle=s}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(s=>Me(this,null,function*(){this.tokenInfo=s})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.estatePropertyCompanyService.setAccessLoad(),this.estatePropertyCompanyService.setAccessDataType(Be.Editor),this.estatePropertyCompanyService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.errorMessage=e.errorMessage+"<br> ( "+e.errorTypeTitle+" ) ",this.cmsToastrService.typeErrorMessage(this.errorMessage)),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}setStep(s){this.step=s}nextStep(){this.step++}prevStep(){this.step--}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionNext(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestNextItem})}onActionPervious(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestPerviousItem})}};ja.\u0275fac=function(e){return new(e||ja)(v(Ve),v(Le),v(te),v(Ai),v(O),v(de),v(Ce),v(N),v(G),v(B))},ja.\u0275cmp=V({type:ja,selectors:[["app-estate-property-company-quick-view"]],viewQuery:function(e,i){if(e&1&&Q(A_,5),e&2){let t;z(t=K())&&(i.formGroup=t.first)}},standalone:!1,decls:12,vars:4,consts:[[1,"card","card-style","loader-container",2,"height","100vh","overflow-y","auto"],[3,"optionsInfoAreaId"],[1,"menu-title"],[1,"color-highlight"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-header"],[1,"form-actions"],["dir","rtl",1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[1,"table","table-striped"],[3,"ngClass"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"]],template:function(e,i){e&1&&(a(0,"div",0),y(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),d(4),r(),a(5,"a",4),E("click",function(){return i.onFormCancel()}),y(6,"i",5),r(),y(7,"hr"),r(),a(8,"div",6)(9,"p",7),d(10),r(),S(11,G_,30,18),r()()),e&2&&(o(),m("optionsInfoAreaId",i.constructorInfoAreaId),o(3),x(i.formInfo.formTitle),o(6),h(" ",i.formInfo.formDescription," "),o(),M(i.publicHelper.processService.process.inRunAll?-1:11))},dependencies:[re,Yt,U,se,pt,W,io,ki],encapsulation:2});var Yl=ja;var W_=["vform"];function H_(n,s){if(n&1){let e=I();a(0,"button",17),E("click",function(){u(e);let t=p(2);return f(t.onActionNext())}),y(1,"i",18),d(2," < "),r()}}function j_(n,s){if(n&1){let e=I();a(0,"button",17),E("click",function(){u(e);let t=p(2);return f(t.onActionPervious())}),y(1,"i",18),d(2," > "),r()}}function U_(n,s){if(n&1&&(a(0,"tr")(1,"td"),d(2),r(),a(3,"td"),d(4),_(5,"cmsuserinfo"),_(6,"async"),r()()),n&2){let e=p(2);o(2),h("",e.fieldsInfo.updatedBy==null?null:e.fieldsInfo.updatedBy.fieldTitle,":"),o(2),x(g(6,4,g(5,2,e.dataModel.updatedBy)))}}function q_(n,s){if(n&1&&(a(0,"tr")(1,"td"),d(2),r(),a(3,"td"),d(4),_(5,"cmsuserinfo"),_(6,"async"),r()()),n&2){let e=p(2);o(2),h("",e.fieldsInfo.linkCmsUserId==null?null:e.fieldsInfo.linkCmsUserId.fieldTitle,":"),o(2),x(g(6,4,g(5,2,e.dataModel.linkCmsUserId)))}}function Q_(n,s){if(n&1&&(a(0,"tr")(1,"td"),d(2),_(3,"translate"),r(),a(4,"td"),d(5),r()()),n&2){let e=p(2);o(2),h("",g(3,2,"TITLE.General_Description"),":"),o(3),x(e.dataModel.description)}}function z_(n,s){if(n&1){let e=I();a(0,"button",17),E("click",function(){u(e);let t=p(3);return f(t.onActionNext())}),y(1,"i",18),d(2," < "),r()}}function K_(n,s){if(n&1){let e=I();a(0,"button",17),E("click",function(){u(e);let t=p(3);return f(t.onActionPervious())}),y(1,"i",18),d(2," > "),r()}}function Z_(n,s){if(n&1){let e=I();a(0,"div",16)(1,"button",17),E("click",function(){u(e);let t=p(2);return f(t.onFormCancel())}),y(2,"i",18),d(3),_(4,"translate"),r(),S(5,z_,3,0,"button",9),S(6,K_,3,0,"button",9),r()}if(n&2){let e=p(2);o(3),h(" ",g(4,3,"ACTION.CANCEL")," "),o(2),M(e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0?5:-1),o(),M(e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0?6:-1)}}function Y_(n,s){if(n&1&&(a(0,"div",8),S(1,H_,3,0,"button",9),S(2,j_,3,0,"button",9),y(3,"hr"),r(),a(4,"div",10)(5,"table",11)(6,"tbody")(7,"tr")(8,"td"),d(9),r(),a(10,"td"),y(11,"i",12),_(12,"statusIconClass"),r()(),a(13,"tr")(14,"td"),d(15),r(),a(16,"td"),d(17),r()(),a(18,"tr")(19,"td"),d(20),r(),a(21,"td"),d(22),_(23,"cmsuserinfo"),_(24,"async"),r()(),S(25,U_,7,6,"tr"),S(26,q_,7,6,"tr"),S(27,Q_,6,4,"tr"),r()()(),a(28,"div",13),y(29,"app-cms-form-result-message",14),r(),a(30,"div",15),S(31,Z_,7,5,"div",16),r()),n&2){let e=p();o(),M(e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0?1:-1),o(),M(e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0?2:-1),o(7),h("",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle,":"),o(2),m("ngClass",g(12,13,e.dataModel.recordStatus)),o(4),h("",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle,":"),o(2),x(e.dataModel.title),o(3),h("",e.fieldsInfo.createdBy==null?null:e.fieldsInfo.createdBy.fieldTitle,":"),o(2),x(g(24,17,g(23,15,e.dataModel.createdBy))),o(3),M(e.dataModel.updatedBy?25:-1),o(),M(e.dataModel.linkCmsUserId>0?26:-1),o(),M((e.dataModel.description==null?null:e.dataModel.description.length)>0?27:-1),o(2),m("formInfo",e.formInfo),o(2),M(e.formInfo.submitButtonEnabled&&!e.publicHelper.processService.process.inRunAll?31:-1)}}var Ua=class Ua{constructor(s,e,i,t,l,C,c,L,q,Se){this.data=s;this.dialogRef=e;this.coreEnumService=i;this.estatePropertyProjectService=t;this.cmsToastrService=l;this.tokenHelper=C;this.cmsStoreService=c;this.cdr=L;this.publicHelper=q;this.translate=Se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Wt;this.dataModelResult=new j;this.dataModelEstateContractTypeResult=new j;this.dataModel=new xi;this.formInfo=new ie;this.fieldsInfo=new Map;this.optionTabledataSource=new Ht;this.optionTabledisplayedColumns=["LinkEstateContractTypeId","Price"];this.fileManagerOpenForm=!1;this.errorMessage="";this.enumInputDataType=rn;this.unsubscribe=[];this.step=0;this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=s.id+"",this.requestPerviousItem=s.perviousItem,this.requestNextItem=s.nextItem)}ngOnInit(){if(this.translate.get("TITLE.QUICK_VIEW").subscribe(s=>{this.formInfo.formTitle=s}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(s=>Me(this,null,function*(){this.tokenInfo=s})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.estatePropertyProjectService.setAccessLoad(),this.estatePropertyProjectService.setAccessDataType(Be.Editor),this.estatePropertyProjectService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.errorMessage=e.errorMessage+"<br> ( "+e.errorTypeTitle+" ) ",this.cmsToastrService.typeErrorMessage(this.errorMessage)),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}setStep(s){this.step=s}nextStep(){this.step++}prevStep(){this.step--}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionNext(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestNextItem})}onActionPervious(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestPerviousItem})}};Ua.\u0275fac=function(e){return new(e||Ua)(v(Ve),v(Le),v(te),v(Ri),v(O),v(de),v(Ce),v(N),v(G),v(B))},Ua.\u0275cmp=V({type:Ua,selectors:[["app-estate-property-project-quick-view"]],viewQuery:function(e,i){if(e&1&&Q(W_,5),e&2){let t;z(t=K())&&(i.formGroup=t.first)}},standalone:!1,decls:12,vars:4,consts:[[1,"card","card-style","loader-container",2,"height","100vh","overflow-y","auto"],[3,"optionsInfoAreaId"],[1,"menu-title"],[1,"color-highlight"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-header"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["dir","rtl",1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[1,"table","table-striped"],[3,"ngClass"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(a(0,"div",0),y(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),d(4),r(),a(5,"a",4),E("click",function(){return i.onFormCancel()}),y(6,"i",5),r(),y(7,"hr"),r(),a(8,"div",6)(9,"p",7),d(10),r(),S(11,Y_,32,19),r()()),e&2&&(o(),m("optionsInfoAreaId",i.constructorInfoAreaId),o(3),x(i.formInfo.formTitle),o(6),h(" ",i.formInfo.formDescription," "),o(),M(i.publicHelper.processService.process.inRunAll?-1:11))},dependencies:[re,Yt,U,se,pt,W,io,ki],encapsulation:2});var Jl=Ua;var J_=["vform"];function X_(n,s){if(n&1){let e=I();a(0,"button",16),E("click",function(){u(e);let t=p(3);return f(t.onActionNext())}),y(1,"i",17),d(2," < "),r()}}function $_(n,s){if(n&1){let e=I();a(0,"button",16),E("click",function(){u(e);let t=p(3);return f(t.onActionPervious())}),y(1,"i",17),d(2," > "),r()}}function eg(n,s){if(n&1){let e=I();a(0,"div",9)(1,"button",16),E("click",function(){u(e);let t=p(2);return f(t.onFormCancel())}),y(2,"i",17),d(3),_(4,"translate"),r(),S(5,X_,3,0,"button",18),S(6,$_,3,0,"button",18),r()}if(n&2){let e=p(2);o(3),h(" ",g(4,3,"ACTION.CANCEL")," "),o(2),M(e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0?5:-1),o(),M(e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0?6:-1)}}function tg(n,s){if(n&1&&(a(0,"tr")(1,"td"),d(2),r(),a(3,"td"),d(4),_(5,"cmsuserinfo"),_(6,"async"),r()()),n&2){let e=p(2);o(2),h("",e.fieldsInfo.updatedBy==null?null:e.fieldsInfo.updatedBy.fieldTitle,":"),o(2),x(g(6,4,g(5,2,e.dataModel.updatedBy)))}}function ig(n,s){if(n&1&&(a(0,"tr")(1,"td"),d(2),r(),a(3,"td"),d(4),_(5,"cmsuserinfo"),_(6,"async"),r()()),n&2){let e=p(2);o(2),h("",e.fieldsInfo.linkCmsUserId==null?null:e.fieldsInfo.linkCmsUserId.fieldTitle,":"),o(2),x(g(6,4,g(5,2,e.dataModel.linkCmsUserId)))}}function ng(n,s){if(n&1&&(a(0,"tr")(1,"td"),d(2),_(3,"translate"),r(),a(4,"td"),d(5),r()()),n&2){let e=p(2);o(2),h("",g(3,2,"TITLE.General_Description"),":"),o(3),x(e.dataModel.description)}}function og(n,s){if(n&1){let e=I();a(0,"button",16),E("click",function(){u(e);let t=p(3);return f(t.onActionNext())}),y(1,"i",17),d(2," < "),r()}}function ag(n,s){if(n&1){let e=I();a(0,"button",16),E("click",function(){u(e);let t=p(3);return f(t.onActionPervious())}),y(1,"i",17),d(2," > "),r()}}function rg(n,s){if(n&1){let e=I();a(0,"div",9)(1,"button",16),E("click",function(){u(e);let t=p(2);return f(t.onFormCancel())}),y(2,"i",17),d(3),_(4,"translate"),r(),S(5,og,3,0,"button",18),S(6,ag,3,0,"button",18),r()}if(n&2){let e=p(2);o(3),h(" ",g(4,3,"ACTION.CANCEL")," "),o(2),M(e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0?5:-1),o(),M(e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0?6:-1)}}function lg(n,s){if(n&1&&(a(0,"div",8),S(1,eg,7,5,"div",9),r(),a(2,"div",10)(3,"table",11)(4,"tbody")(5,"tr")(6,"td"),d(7),r(),a(8,"td"),y(9,"i",12),_(10,"statusIconClass"),r()(),a(11,"tr")(12,"td"),d(13),r(),a(14,"td"),d(15),r()(),a(16,"tr")(17,"td"),d(18),r(),a(19,"td"),d(20),_(21,"cmsuserinfo"),_(22,"async"),r()(),S(23,tg,7,6,"tr"),S(24,ig,7,6,"tr"),S(25,ng,6,4,"tr"),r()()(),a(26,"div",13),y(27,"app-cms-form-result-message",14),r(),a(28,"div",15),S(29,rg,7,5,"div",9),r()),n&2){let e=p();o(),M(e.formInfo.submitButtonEnabled?1:-1),o(6),h("",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle,":"),o(2),m("ngClass",g(10,12,e.dataModel.recordStatus)),o(4),h("",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle,":"),o(2),x(e.dataModel.title),o(3),h("",e.fieldsInfo.createdBy==null?null:e.fieldsInfo.createdBy.fieldTitle,":"),o(2),x(g(22,16,g(21,14,e.dataModel.createdBy))),o(3),M(e.dataModel.updatedBy?23:-1),o(),M(e.dataModel.linkCmsUserId>0?24:-1),o(),M((e.dataModel.description==null?null:e.dataModel.description.length)>0?25:-1),o(2),m("formInfo",e.formInfo),o(2),M(e.formInfo.submitButtonEnabled?29:-1)}}var qa=class qa{constructor(s,e,i,t,l,C,c,L,q,Se){this.data=s;this.dialogRef=e;this.coreEnumService=i;this.estatePropertySupplierService=t;this.cmsToastrService=l;this.tokenHelper=C;this.cmsStoreService=c;this.cdr=L;this.publicHelper=q;this.translate=Se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Wt;this.dataModelResult=new j;this.dataModelEstateContractTypeResult=new j;this.dataModel=new ln;this.formInfo=new ie;this.fieldsInfo=new Map;this.optionTabledataSource=new Ht;this.optionTabledisplayedColumns=["LinkEstateContractTypeId","Price"];this.fileManagerOpenForm=!1;this.errorMessage="";this.enumInputDataType=rn;this.unsubscribe=[];this.step=0;this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=s.id+"",this.requestPerviousItem=s.perviousItem,this.requestNextItem=s.nextItem)}ngOnInit(){if(this.translate.get("TITLE.QUICK_VIEW").subscribe(s=>{this.formInfo.formTitle=s}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(s=>Me(this,null,function*(){this.tokenInfo=s})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.estatePropertySupplierService.setAccessLoad(),this.estatePropertySupplierService.setAccessDataType(Be.Editor),this.estatePropertySupplierService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.errorMessage=e.errorMessage+"<br> ( "+e.errorTypeTitle+" ) ",this.cmsToastrService.typeErrorMessage(this.errorMessage)),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}setStep(s){this.step=s}nextStep(){this.step++}prevStep(){this.step--}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionNext(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestNextItem})}onActionPervious(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestPerviousItem})}};qa.\u0275fac=function(e){return new(e||qa)(v(Ve),v(Le),v(te),v(ji),v(O),v(de),v(Ce),v(N),v(G),v(B))},qa.\u0275cmp=V({type:qa,selectors:[["app-estate-property-supplier-quick-view"]],viewQuery:function(e,i){if(e&1&&Q(J_,5),e&2){let t;z(t=K())&&(i.formGroup=t.first)}},standalone:!1,decls:12,vars:4,consts:[[1,"card","card-style","loader-container",2,"height","100vh","overflow-y","auto"],[3,"optionsInfoAreaId"],[1,"menu-title"],[1,"color-highlight"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-header"],[1,"form-actions"],["dir","rtl",1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[1,"table","table-striped"],[3,"ngClass"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"]],template:function(e,i){e&1&&(a(0,"div",0),y(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),d(4),r(),a(5,"a",4),E("click",function(){return i.onFormCancel()}),y(6,"i",5),r(),y(7,"hr"),r(),a(8,"div",6)(9,"p",7),d(10),r(),S(11,lg,30,18),r()()),e&2&&(o(),m("optionsInfoAreaId",i.constructorInfoAreaId),o(3),x(i.formInfo.formTitle),o(6),h(" ",i.formInfo.formDescription," "),o(),M(i.publicHelper.processService.process.inRunAll?-1:11))},dependencies:[re,Yt,U,se,pt,W,io,ki],encapsulation:2});var Xl=qa;function sg(n,s){n&1&&(a(0,"mat-error"),d(1),_(2,"translate"),r()),n&2&&(o(),x(g(2,1,"MESSAGE.InvalidStartDate")))}function dg(n,s){n&1&&(a(0,"mat-error"),d(1),_(2,"translate"),r()),n&2&&(o(),x(g(2,1,"MESSAGE.InvalidEndDate")))}function cg(n,s){if(n&1){let e=I();a(0,"button",16),E("click",function(){u(e);let t=p();return f(t.onActionNext())}),y(1,"i",17),d(2," < "),r()}}function pg(n,s){if(n&1){let e=I();a(0,"button",16),E("click",function(){u(e);let t=p();return f(t.onActionPervious())}),y(1,"i",17),d(2," > "),r()}}function mg(n,s){if(n&1){let e=I();a(0,"button",16),E("click",function(){u(e);let t=p();return f(t.onActionToDay())}),y(1,"i",17),d(2),_(3,"translate"),r()}n&2&&(o(2),h(" ",g(3,1,"TITLE.Today")," "))}function ug(n,s){if(n&1){let e=I();a(0,"app-cms-user-selector",18),_(1,"translate"),E("optionChange",function(t){u(e);let l=p();return f(l.onActionSelectorUser(t))}),r()}if(n&2){let e=p();m("optionSelectForce",e.linkCmsUserId)("optionPlaceholder",g(1,2,"TITLE.USER"))}}function fg(n,s){if(n&1){let e=I();a(0,"a",19),E("click",function(){u(e);let t=p();return f(t.onActionButtonOnDateSearch())}),d(1),_(2,"translate"),r()}n&2&&(o(),x(g(2,1,"ACTION.SEARCH")))}function _g(n,s){if(n&1&&(a(0,"div",12),d(1),_(2,"translate"),_(3,"localeDateTime"),_(4,"translate"),_(5,"localeDateTime"),r()),n&2){let e=p();o(),Ls(" ",g(2,4,"TITLE.From_Date")," ",g(3,6,e.checkingOnDayRange.controls.start.value)," - ",g(4,8,"TITLE.To_Date")," ",g(5,10,e.checkingOnDayRange.controls.end.value)," ")}}function gg(n,s){if(n&1&&(a(0,"div",12),d(1),_(2,"cmsuserinfo"),_(3,"async"),r()),n&2){let e=p();o(),h(" ",g(3,3,g(2,1,e.linkCmsUserId))," ")}}function Cg(n,s){n&1&&y(0,"i",26)}function hg(n,s){if(n&1&&(a(0,"b"),d(1),r()),n&2){let e=p(2).$implicit,i=p(3);o(),h("",i.publicHelper.LocaleDate(e.createdDate)," ")}}function yg(n,s){if(n&1&&(a(0,"p",4),d(1),_(2,"translate"),S(3,hg,2,1,"b"),d(4),r()),n&2){let e=p().$implicit,i=p(3);o(),h(" ",g(2,3,"TITLE.ADD"),":"),o(2),M(i.viewOnlyTime?-1:3),o(),h(" ",i.publicHelper.getTime(e.createdDate)," ")}}function Sg(n,s){if(n&1&&(a(0,"b"),d(1),r()),n&2){let e=p(2).$implicit,i=p(3);o(),h("",i.publicHelper.LocaleDate(e.updatedDate)," ")}}function Mg(n,s){if(n&1&&(a(0,"p",4),d(1),_(2,"translate"),S(3,Sg,2,1,"b"),d(4),r()),n&2){let e=p().$implicit,i=p(3);o(),h(" ",g(2,3,"TITLE.Edit"),":"),o(2),M(i.viewOnlyTime?-1:3),o(),h(" ",i.publicHelper.getTime(e.updatedDate)," ")}}function Eg(n,s){if(n&1&&(a(0,"p"),d(1),_(2,"translate"),a(3,"b",31),d(4),_(5,"cmsuserinfo"),_(6,"async"),r()()),n&2){let e=p().$implicit;o(),h(" ",g(2,2,"TITLE.Edit"),": "),o(3),h(" ",g(6,6,g(5,4,e.updatedBy))," ")}}function vg(n,s){if(n&1){let e=I();y(0,"div",28),S(1,yg,5,5,"p",4),S(2,Mg,5,5,"p",4),a(3,"h4",29),E("click",function(t){let l=u(e).$implicit,C=p(3);return f(C.onActionButtonProperty(l,C.dataModelPropertyResult.listItems,t))}),d(4),a(5,"i",30),_(6,"statusIconClass"),E("click",function(t){let l=u(e).$implicit,C=p(3);return f(C.onActionButtonProperty(l,C.dataModelPropertyResult.listItems,t))}),r()(),a(7,"p"),d(8),r(),a(9,"p"),d(10),_(11,"translate"),a(12,"b",31),d(13),_(14,"cmsuserinfo"),_(15,"async"),r()(),S(16,Eg,7,8,"p")}if(n&2){let e=s.$implicit;o(),M(!e.updatedBy||e.updatedBy<=0?1:-1),o(),M(e.updatedBy>0?2:-1),o(2),h(" ",e.title),o(),m("ngClass",g(6,8,e.recordStatus)),o(3),h(" ",e.description," "),o(2),h(" ",g(11,10,"TITLE.USER"),": "),o(3),h(" ",g(15,14,g(14,12,e.createdBy))," "),o(3),M(e.updatedBy>0&&e.createdBy!==e.updatedBy?16:-1)}}function Ig(n,s){if(n&1&&(a(0,"div",6)(1,"div",1),y(2,"app-progress-spinner",2),a(3,"div",20)(4,"div",21)(5,"div",22)(6,"button",23),y(7,"i",24),d(8),_(9,"translate"),a(10,"span",25),d(11),r(),d(12),_(13,"translate"),S(14,Cg,1,0,"i",26),r(),a(15,"div",27),me(16,vg,17,16,null,null,pe),r()()()()()()),n&2){let e=p(2);o(2),m("optionsInfoAreaId","dataModelPropertyResult"),o(6),h(" ",g(9,5,"TITLE.Property")," "),o(3),x(e.dataModelPropertyResult.totalRowCount),o(),h(" ",g(13,7,"TITLE.Number")," "),o(2),M(e.dataModelPropertyResult.totalRowCount>0?14:-1),o(2),ue(e.dataModelPropertyResult.listItems)}}function bg(n,s){n&1&&y(0,"i",26)}function Tg(n,s){if(n&1&&(a(0,"b"),d(1),r()),n&2){let e=p(2).$implicit,i=p(3);o(),h("",i.publicHelper.LocaleDate(e.createdDate)," ")}}function wg(n,s){if(n&1&&(a(0,"p",4),d(1),_(2,"translate"),S(3,Tg,2,1,"b"),d(4),r()),n&2){let e=p().$implicit,i=p(3);o(),h(" ",g(2,3,"TITLE.ADD"),":"),o(2),M(i.viewOnlyTime?-1:3),o(),h(" ",i.publicHelper.getTime(e.createdDate)," ")}}function xg(n,s){if(n&1&&(a(0,"b"),d(1),r()),n&2){let e=p(2).$implicit,i=p(3);o(),h("",i.publicHelper.LocaleDate(e.updatedDate)," ")}}function Pg(n,s){if(n&1&&(a(0,"p",4),d(1),_(2,"translate"),S(3,xg,2,1,"b"),d(4),r()),n&2){let e=p().$implicit,i=p(3);o(),h(" ",g(2,3,"TITLE.Edit"),":"),o(2),M(i.viewOnlyTime?-1:3),o(),h(" ",i.publicHelper.getTime(e.updatedDate)," ")}}function Ag(n,s){if(n&1&&(a(0,"p"),d(1),_(2,"translate"),a(3,"b",31),d(4),_(5,"cmsuserinfo"),_(6,"async"),r()()),n&2){let e=p().$implicit;o(),h(" ",g(2,2,"TITLE.Edit"),": "),o(3),h(" ",g(6,6,g(5,4,e.updatedBy))," ")}}function Rg(n,s){if(n&1){let e=I();y(0,"div",28),S(1,wg,5,5,"p",4),S(2,Pg,5,5,"p",4),a(3,"h4",29),E("click",function(t){let l=u(e).$implicit,C=p(3);return f(C.onActionButtonProperty(l,C.dataModelPropertyResultAvailable.listItems,t))}),d(4),a(5,"i",30),_(6,"statusIconClass"),E("click",function(t){let l=u(e).$implicit,C=p(3);return f(C.onActionButtonProperty(l,C.dataModelPropertyResultAvailable.listItems,t))}),r()(),a(7,"p"),d(8),r(),a(9,"p"),d(10),_(11,"translate"),a(12,"b",31),d(13),_(14,"cmsuserinfo"),_(15,"async"),r()(),S(16,Ag,7,8,"p")}if(n&2){let e=s.$implicit;o(),M(!e.updatedBy||e.updatedBy<=0?1:-1),o(),M(e.updatedBy>0?2:-1),o(2),h(" ",e.title),o(),m("ngClass",g(6,8,e.recordStatus)),o(3),h(" ",e.description," "),o(2),h(" ",g(11,10,"TITLE.USER"),": "),o(3),h(" ",g(15,14,g(14,12,e.createdBy))," "),o(3),M(e.updatedBy>0&&e.createdBy!==e.updatedBy?16:-1)}}function Dg(n,s){if(n&1&&(a(0,"div",6)(1,"div",1),y(2,"app-progress-spinner",2),a(3,"div",20)(4,"div",32)(5,"div",22)(6,"button",33),y(7,"i",24),d(8),_(9,"translate"),a(10,"span",25),d(11),r(),d(12),_(13,"translate"),S(14,bg,1,0,"i",26),r(),a(15,"div",34),me(16,Rg,17,16,null,null,pe),r()()()()()()),n&2){let e=p(2);o(2),m("optionsInfoAreaId","dataModelPropertyResultAvailable"),o(6),h(" ",g(9,5,"TITLE.Property_Available")," "),o(3),x(e.dataModelPropertyResultAvailable.totalRowCount),o(),h(" ",g(13,7,"TITLE.Number")," "),o(2),M(e.dataModelPropertyResultAvailable.totalRowCount>0?14:-1),o(2),ue(e.dataModelPropertyResultAvailable.listItems)}}function kg(n,s){n&1&&y(0,"i",26)}function Lg(n,s){if(n&1&&(a(0,"b"),d(1),r()),n&2){let e=p(2).$implicit,i=p(3);o(),h("",i.publicHelper.LocaleDate(e.createdDate)," ")}}function Vg(n,s){if(n&1&&(a(0,"p",4),d(1),_(2,"translate"),S(3,Lg,2,1,"b"),d(4),r()),n&2){let e=p().$implicit,i=p(3);o(),h(" ",g(2,3,"TITLE.ADD"),":"),o(2),M(i.viewOnlyTime?-1:3),o(),h(" ",i.publicHelper.getTime(e.createdDate)," ")}}function Fg(n,s){if(n&1&&(a(0,"b"),d(1),r()),n&2){let e=p(2).$implicit,i=p(3);o(),h("",i.publicHelper.LocaleDate(e.updatedDate)," ")}}function Bg(n,s){if(n&1&&(a(0,"p",4),d(1),_(2,"translate"),S(3,Fg,2,1,"b"),d(4),r()),n&2){let e=p().$implicit,i=p(3);o(),h(" ",g(2,3,"TITLE.Edit"),":"),o(2),M(i.viewOnlyTime?-1:3),o(),h(" ",i.publicHelper.getTime(e.updatedDate)," ")}}function Og(n,s){if(n&1&&(a(0,"p"),d(1),_(2,"translate"),a(3,"b",31),d(4),_(5,"cmsuserinfo"),_(6,"async"),r()()),n&2){let e=p().$implicit;o(),h(" ",g(2,2,"TITLE.Edit"),": "),o(3),h(" ",g(6,6,g(5,4,e.updatedBy))," ")}}function Ng(n,s){if(n&1){let e=I();y(0,"div",28),S(1,Vg,5,5,"p",4),S(2,Bg,5,5,"p",4),a(3,"h4",29),E("click",function(t){let l=u(e).$implicit,C=p(3);return f(C.onActionButtonProperty(l,C.dataModelPropertyResultNotAvailable.listItems,t))}),d(4),a(5,"i",30),_(6,"statusIconClass"),E("click",function(t){let l=u(e).$implicit,C=p(3);return f(C.onActionButtonProperty(l,C.dataModelPropertyResultNotAvailable.listItems,t))}),r()(),a(7,"p"),d(8),r(),a(9,"p"),d(10),_(11,"translate"),a(12,"b",31),d(13),_(14,"cmsuserinfo"),_(15,"async"),r()(),S(16,Og,7,8,"p")}if(n&2){let e=s.$implicit;o(),M(!e.updatedBy||e.updatedBy<=0?1:-1),o(),M(e.updatedBy>0?2:-1),o(2),h(" ",e.title),o(),m("ngClass",g(6,8,e.recordStatus)),o(3),h(" ",e.description," "),o(2),h(" ",g(11,10,"TITLE.USER"),": "),o(3),h(" ",g(15,14,g(14,12,e.createdBy))," "),o(3),M(e.updatedBy>0&&e.createdBy!==e.updatedBy?16:-1)}}function Gg(n,s){if(n&1&&(a(0,"div",6)(1,"div",1),y(2,"app-progress-spinner",2),a(3,"div",20)(4,"div",35)(5,"div",22)(6,"button",36),y(7,"i",24),d(8),_(9,"translate"),a(10,"span",25),d(11),r(),d(12),_(13,"translate"),S(14,kg,1,0,"i",26),r(),a(15,"div",37),me(16,Ng,17,16,null,null,pe),r()()()()()()),n&2){let e=p(2);o(2),m("optionsInfoAreaId","dataModelPropertyResultNotAvailable"),o(6),h(" ",g(9,5,"TITLE.Property_NotAvailable")," "),o(3),x(e.dataModelPropertyResultNotAvailable.totalRowCount),o(),h(" ",g(13,7,"TITLE.Number")," "),o(2),M(e.dataModelPropertyResultNotAvailable.totalRowCount>0?14:-1),o(2),ue(e.dataModelPropertyResultNotAvailable.listItems)}}function Wg(n,s){n&1&&y(0,"i",26)}function Hg(n,s){if(n&1&&(a(0,"b"),d(1),r()),n&2){let e=p(2).$implicit,i=p(3);o(),h("",i.publicHelper.LocaleDate(e.createdDate)," ")}}function jg(n,s){if(n&1&&(a(0,"p",4),d(1),_(2,"translate"),S(3,Hg,2,1,"b"),d(4),r()),n&2){let e=p().$implicit,i=p(3);o(),h(" ",g(2,3,"TITLE.ADD"),":"),o(2),M(i.viewOnlyTime?-1:3),o(),h(" ",i.publicHelper.getTime(e.createdDate)," ")}}function Ug(n,s){if(n&1&&(a(0,"b"),d(1),r()),n&2){let e=p(2).$implicit,i=p(3);o(),h("",i.publicHelper.LocaleDate(e.updatedDate)," ")}}function qg(n,s){if(n&1&&(a(0,"p",4),d(1),_(2,"translate"),S(3,Ug,2,1,"b"),d(4),r()),n&2){let e=p().$implicit,i=p(3);o(),h(" ",g(2,3,"TITLE.Edit"),":"),o(2),M(i.viewOnlyTime?-1:3),o(),h(" ",i.publicHelper.getTime(e.updatedDate)," ")}}function Qg(n,s){if(n&1&&(a(0,"p"),d(1),_(2,"translate"),a(3,"b",31),d(4),_(5,"cmsuserinfo"),_(6,"async"),r()()),n&2){let e=p().$implicit;o(),h(" ",g(2,2,"TITLE.Edit"),": "),o(3),h(" ",g(6,6,g(5,4,e.updatedBy))," ")}}function zg(n,s){if(n&1){let e=I();y(0,"div",28),S(1,jg,5,5,"p",4),S(2,qg,5,5,"p",4),a(3,"h4",29),E("click",function(t){let l=u(e).$implicit,C=p(3);return f(C.onActionButtonCustomerOrder(l,C.dataModelCustomerOrderResult.listItems,t))}),d(4),a(5,"i",30),_(6,"statusIconClass"),E("click",function(t){let l=u(e).$implicit,C=p(3);return f(C.onActionButtonCustomerOrder(l,C.dataModelCustomerOrderResult.listItems,t))}),r()(),a(7,"p"),d(8),r(),a(9,"p"),d(10),_(11,"translate"),a(12,"b",31),d(13),_(14,"cmsuserinfo"),_(15,"async"),r()(),S(16,Qg,7,8,"p")}if(n&2){let e=s.$implicit;o(),M(!e.updatedBy||e.updatedBy<=0?1:-1),o(),M(e.updatedBy>0?2:-1),o(2),h(" ",e.title),o(),m("ngClass",g(6,8,e.recordStatus)),o(3),h(" ",e.description," "),o(2),h(" ",g(11,10,"TITLE.USER"),": "),o(3),h(" ",g(15,14,g(14,12,e.createdBy))," "),o(3),M(e.updatedBy>0&&e.createdBy!==e.updatedBy?16:-1)}}function Kg(n,s){if(n&1&&(a(0,"div",6)(1,"div",1),y(2,"app-progress-spinner",2),a(3,"div",20)(4,"div",38)(5,"div",22)(6,"button",39),y(7,"i",24),d(8),_(9,"translate"),a(10,"span",25),d(11),r(),d(12),_(13,"translate"),S(14,Wg,1,0,"i",26),r(),a(15,"div",40),me(16,zg,17,16,null,null,pe),r()()()()()()),n&2){let e=p(2);o(2),m("optionsInfoAreaId","dataModelCustomerOrderResult"),o(6),h(" ",g(9,5,"TITLE.Customer_Order")," "),o(3),x(e.dataModelCustomerOrderResult.totalRowCount),o(),h(" ",g(13,7,"TITLE.Number")," "),o(2),M(e.dataModelCustomerOrderResult.totalRowCount>0?14:-1),o(2),ue(e.dataModelCustomerOrderResult.listItems)}}function Zg(n,s){n&1&&y(0,"i",26)}function Yg(n,s){if(n&1&&(a(0,"b"),d(1),r()),n&2){let e=p(2).$implicit,i=p(3);o(),h("",i.publicHelper.LocaleDate(e.createdDate)," ")}}function Jg(n,s){if(n&1&&(a(0,"p",4),d(1),_(2,"translate"),S(3,Yg,2,1,"b"),d(4),r()),n&2){let e=p().$implicit,i=p(3);o(),h(" ",g(2,3,"TITLE.ADD"),":"),o(2),M(i.viewOnlyTime?-1:3),o(),h(" ",i.publicHelper.getTime(e.createdDate)," ")}}function Xg(n,s){if(n&1&&(a(0,"b"),d(1),r()),n&2){let e=p(2).$implicit,i=p(3);o(),h("",i.publicHelper.LocaleDate(e.updatedDate)," ")}}function $g(n,s){if(n&1&&(a(0,"p",4),d(1),_(2,"translate"),S(3,Xg,2,1,"b"),d(4),r()),n&2){let e=p().$implicit,i=p(3);o(),h(" ",g(2,3,"TITLE.Edit"),":"),o(2),M(i.viewOnlyTime?-1:3),o(),h(" ",i.publicHelper.getTime(e.updatedDate)," ")}}function e1(n,s){if(n&1&&(a(0,"p"),d(1),_(2,"translate"),a(3,"b",31),d(4),_(5,"cmsuserinfo"),_(6,"async"),r()()),n&2){let e=p().$implicit;o(),h(" ",g(2,2,"TITLE.Edit"),": "),o(3),h(" ",g(6,6,g(5,4,e.updatedBy))," ")}}function t1(n,s){if(n&1){let e=I();y(0,"div",28),S(1,Jg,5,5,"p",4),S(2,$g,5,5,"p",4),a(3,"h4",29),E("click",function(t){let l=u(e).$implicit,C=p(3);return f(C.onActionButtonCustomerOrder(l,C.dataModelCustomerOrderResultAvailable.listItems,t))}),d(4),a(5,"i",30),_(6,"statusIconClass"),E("click",function(t){let l=u(e).$implicit,C=p(3);return f(C.onActionButtonCustomerOrder(l,C.dataModelCustomerOrderResultAvailable.listItems,t))}),r()(),a(7,"p"),d(8),r(),a(9,"p"),d(10),_(11,"translate"),a(12,"b",31),d(13),_(14,"cmsuserinfo"),_(15,"async"),r()(),S(16,e1,7,8,"p")}if(n&2){let e=s.$implicit;o(),M(!e.updatedBy||e.updatedBy<=0?1:-1),o(),M(e.updatedBy>0?2:-1),o(2),h(" ",e.title),o(),m("ngClass",g(6,8,e.recordStatus)),o(3),h(" ",e.description," "),o(2),h(" ",g(11,10,"TITLE.USER"),": "),o(3),h(" ",g(15,14,g(14,12,e.createdBy))," "),o(3),M(e.updatedBy>0&&e.createdBy!==e.updatedBy?16:-1)}}function i1(n,s){if(n&1&&(a(0,"div",6)(1,"div",1),y(2,"app-progress-spinner",2),a(3,"div",20)(4,"div",41)(5,"div",22)(6,"button",42),y(7,"i",24),d(8),_(9,"translate"),a(10,"span",25),d(11),r(),d(12),_(13,"translate"),S(14,Zg,1,0,"i",26),r(),a(15,"div",43),me(16,t1,17,16,null,null,pe),r()()()()()()),n&2){let e=p(2);o(2),m("optionsInfoAreaId","dataModelCustomerOrderResultAvailable"),o(6),h(" ",g(9,5,"TITLE.Customer_Order_Available")," "),o(3),x(e.dataModelCustomerOrderResultAvailable.totalRowCount),o(),h(" ",g(13,7,"TITLE.Number")," "),o(2),M(e.dataModelCustomerOrderResultAvailable.totalRowCount>0?14:-1),o(2),ue(e.dataModelCustomerOrderResultAvailable.listItems)}}function n1(n,s){n&1&&y(0,"i",26)}function o1(n,s){if(n&1&&(a(0,"b"),d(1),r()),n&2){let e=p(2).$implicit,i=p(3);o(),h("",i.publicHelper.LocaleDate(e.createdDate)," ")}}function a1(n,s){if(n&1&&(a(0,"p",4),d(1),_(2,"translate"),S(3,o1,2,1,"b"),d(4),r()),n&2){let e=p().$implicit,i=p(3);o(),h(" ",g(2,3,"TITLE.ADD"),":"),o(2),M(i.viewOnlyTime?-1:3),o(),h(" ",i.publicHelper.getTime(e.createdDate)," ")}}function r1(n,s){if(n&1&&(a(0,"b"),d(1),r()),n&2){let e=p(2).$implicit,i=p(3);o(),h("",i.publicHelper.LocaleDate(e.updatedDate)," ")}}function l1(n,s){if(n&1&&(a(0,"p",4),d(1),_(2,"translate"),S(3,r1,2,1,"b"),d(4),r()),n&2){let e=p().$implicit,i=p(3);o(),h(" ",g(2,3,"TITLE.Edit"),":"),o(2),M(i.viewOnlyTime?-1:3),o(),h(" ",i.publicHelper.getTime(e.updatedDate)," ")}}function s1(n,s){if(n&1&&(a(0,"p"),d(1),_(2,"translate"),a(3,"b",31),d(4),_(5,"cmsuserinfo"),_(6,"async"),r()()),n&2){let e=p().$implicit;o(),h(" ",g(2,2,"TITLE.Edit"),": "),o(3),h(" ",g(6,6,g(5,4,e.updatedBy))," ")}}function d1(n,s){if(n&1){let e=I();y(0,"div",28),S(1,a1,5,5,"p",4),S(2,l1,5,5,"p",4),a(3,"h4",29),E("click",function(t){let l=u(e).$implicit,C=p(3);return f(C.onActionButtonCustomerOrder(l,C.dataModelCustomerOrderResultNotAvailable.listItems,t))}),d(4),a(5,"i",30),_(6,"statusIconClass"),E("click",function(t){let l=u(e).$implicit,C=p(3);return f(C.onActionButtonCustomerOrder(l,C.dataModelCustomerOrderResultNotAvailable.listItems,t))}),r()(),a(7,"p"),d(8),r(),a(9,"p"),d(10),_(11,"translate"),a(12,"b",31),d(13),_(14,"cmsuserinfo"),_(15,"async"),r()(),S(16,s1,7,8,"p")}if(n&2){let e=s.$implicit;o(),M(!e.updatedBy||e.updatedBy<=0?1:-1),o(),M(e.updatedBy>0?2:-1),o(2),h(" ",e.title),o(),m("ngClass",g(6,8,e.recordStatus)),o(3),h(" ",e.description," "),o(2),h(" ",g(11,10,"TITLE.USER"),": "),o(3),h(" ",g(15,14,g(14,12,e.createdBy))," "),o(3),M(e.updatedBy>0&&e.createdBy!==e.updatedBy?16:-1)}}function c1(n,s){if(n&1&&(a(0,"div",6)(1,"div",1),y(2,"app-progress-spinner",2),a(3,"div",20)(4,"div",44)(5,"div",22)(6,"button",45),y(7,"i",24),d(8),_(9,"translate"),a(10,"span",25),d(11),r(),d(12),_(13,"translate"),S(14,n1,1,0,"i",26),r(),a(15,"div",46),me(16,d1,17,16,null,null,pe),r()()()()()()),n&2){let e=p(2);o(2),m("optionsInfoAreaId","dataModelCustomerOrderResultNotAvailable"),o(6),h(" ",g(9,5,"TITLE.Customer_Order_NotAvailable")," "),o(3),x(e.dataModelCustomerOrderResultNotAvailable.totalRowCount),o(),h(" ",g(13,7,"TITLE.Number")," "),o(2),M(e.dataModelCustomerOrderResultNotAvailable.totalRowCount>0?14:-1),o(2),ue(e.dataModelCustomerOrderResultNotAvailable.listItems)}}function p1(n,s){n&1&&y(0,"i",26)}function m1(n,s){if(n&1&&(a(0,"b"),d(1),r()),n&2){let e=p(2).$implicit,i=p(3);o(),h("",i.publicHelper.LocaleDate(e.createdDate)," ")}}function u1(n,s){if(n&1&&(a(0,"p",4),d(1),_(2,"translate"),S(3,m1,2,1,"b"),d(4),r()),n&2){let e=p().$implicit,i=p(3);o(),h(" ",g(2,3,"TITLE.ADD"),":"),o(2),M(i.viewOnlyTime?-1:3),o(),h(" ",i.publicHelper.getTime(e.createdDate)," ")}}function f1(n,s){if(n&1&&(a(0,"b"),d(1),r()),n&2){let e=p(2).$implicit,i=p(3);o(),h("",i.publicHelper.LocaleDate(e.updatedDate)," ")}}function _1(n,s){if(n&1&&(a(0,"p",4),d(1),_(2,"translate"),S(3,f1,2,1,"b"),d(4),r()),n&2){let e=p().$implicit,i=p(3);o(),h(" ",g(2,3,"TITLE.Edit"),":"),o(2),M(i.viewOnlyTime?-1:3),o(),h(" ",i.publicHelper.getTime(e.updatedDate)," ")}}function g1(n,s){if(n&1&&(a(0,"p"),d(1),_(2,"translate"),a(3,"b",31),d(4),_(5,"cmsuserinfo"),_(6,"async"),r()()),n&2){let e=p().$implicit;o(),h(" ",g(2,2,"TITLE.Edit"),": "),o(3),h(" ",g(6,6,g(5,4,e.updatedBy))," ")}}function C1(n,s){if(n&1){let e=I();y(0,"div",28),S(1,u1,5,5,"p",4),S(2,_1,5,5,"p",4),a(3,"h4",29),E("click",function(t){let l=u(e).$implicit,C=p(3);return f(C.onActionButtonHistory(l,t))}),d(4),a(5,"i",30),_(6,"statusIconClass"),E("click",function(t){let l=u(e).$implicit,C=p(3);return f(C.onActionButtonHistory(l,t))}),r()(),a(7,"p"),d(8),r(),a(9,"p"),d(10),_(11,"translate"),a(12,"b",31),d(13),_(14,"cmsuserinfo"),_(15,"async"),r()(),S(16,g1,7,8,"p")}if(n&2){let e=s.$implicit;o(),M(!e.updatedBy||e.updatedBy<=0?1:-1),o(),M(e.updatedBy>0?2:-1),o(2),h(" ",e.title),o(),m("ngClass",g(6,8,e.recordStatus)),o(3),h(" ",e.description," "),o(2),h(" ",g(11,10,"TITLE.USER"),": "),o(3),h(" ",g(15,14,g(14,12,e.createdBy))," "),o(3),M(e.updatedBy>0&&e.createdBy!==e.updatedBy?16:-1)}}function h1(n,s){if(n&1&&(a(0,"div",6)(1,"div",1),y(2,"app-progress-spinner",2),a(3,"div",20)(4,"div",47)(5,"div",22)(6,"button",48),y(7,"i",24),d(8),_(9,"translate"),a(10,"span",25),d(11),r(),d(12),_(13,"translate"),S(14,p1,1,0,"i",26),r(),a(15,"div",49),me(16,C1,17,16,null,null,pe),r()()()()()()),n&2){let e=p(2);o(2),m("optionsInfoAreaId","dataModelHistoryResult"),o(6),h(" ",g(9,5,"TITLE.History")," "),o(3),x(e.dataModelHistoryResult.totalRowCount),o(),h(" ",g(13,7,"TITLE.Number")," "),o(2),M(e.dataModelHistoryResult.totalRowCount>0?14:-1),o(2),ue(e.dataModelHistoryResult.listItems)}}function y1(n,s){n&1&&y(0,"i",26)}function S1(n,s){if(n&1&&(a(0,"b"),d(1),r()),n&2){let e=p(2).$implicit,i=p(3);o(),h("",i.publicHelper.LocaleDate(e.createdDate)," ")}}function M1(n,s){if(n&1&&(a(0,"p",4),d(1),_(2,"translate"),S(3,S1,2,1,"b"),d(4),r()),n&2){let e=p().$implicit,i=p(3);o(),h(" ",g(2,3,"TITLE.ADD"),":"),o(2),M(i.viewOnlyTime?-1:3),o(),h(" ",i.publicHelper.getTime(e.createdDate)," ")}}function E1(n,s){if(n&1&&(a(0,"b"),d(1),r()),n&2){let e=p(2).$implicit,i=p(3);o(),h("",i.publicHelper.LocaleDate(e.updatedDate)," ")}}function v1(n,s){if(n&1&&(a(0,"p",4),d(1),_(2,"translate"),S(3,E1,2,1,"b"),d(4),r()),n&2){let e=p().$implicit,i=p(3);o(),h(" ",g(2,3,"TITLE.Edit"),":"),o(2),M(i.viewOnlyTime?-1:3),o(),h(" ",i.publicHelper.getTime(e.updatedDate)," ")}}function I1(n,s){if(n&1&&(a(0,"p"),d(1),_(2,"translate"),a(3,"b",31),d(4),_(5,"cmsuserinfo"),_(6,"async"),r()()),n&2){let e=p().$implicit;o(),h(" ",g(2,2,"TITLE.Edit"),": "),o(3),h(" ",g(6,6,g(5,4,e.updatedBy))," ")}}function b1(n,s){if(n&1){let e=I();y(0,"div",28),S(1,M1,5,5,"p",4),S(2,v1,5,5,"p",4),a(3,"h4",29),E("click",function(t){let l=u(e).$implicit,C=p(3);return f(C.onActionButtonAccountAgency(l,t))}),d(4),a(5,"i",30),_(6,"statusIconClass"),E("click",function(t){let l=u(e).$implicit,C=p(3);return f(C.onActionButtonAccountAgency(l,t))}),r()(),a(7,"p"),d(8),r(),a(9,"p"),d(10),_(11,"translate"),a(12,"b",31),d(13),_(14,"cmsuserinfo"),_(15,"async"),r()(),S(16,I1,7,8,"p")}if(n&2){let e=s.$implicit;o(),M(!e.updatedBy||e.updatedBy<=0?1:-1),o(),M(e.updatedBy>0?2:-1),o(2),h(" ",e.title),o(),m("ngClass",g(6,8,e.recordStatus)),o(3),h(" ",e.description," "),o(2),h(" ",g(11,10,"TITLE.USER"),": "),o(3),h(" ",g(15,14,g(14,12,e.createdBy))," "),o(3),M(e.updatedBy>0&&e.createdBy!==e.updatedBy?16:-1)}}function T1(n,s){if(n&1&&(a(0,"div",6)(1,"div",1),y(2,"app-progress-spinner",2),a(3,"div",20)(4,"div",50)(5,"div",22)(6,"button",51),y(7,"i",24),d(8),_(9,"translate"),a(10,"span",25),d(11),r(),d(12),_(13,"translate"),S(14,y1,1,0,"i",26),r(),a(15,"div",52),me(16,b1,17,16,null,null,pe),r()()()()()()),n&2){let e=p(2);o(2),m("optionsInfoAreaId","dataModelAccountAgencyResult"),o(6),h(" ",g(9,5,"TITLE.Property_agency")," "),o(3),x(e.dataModelAccountAgencyResult.totalRowCount),o(),h(" ",g(13,7,"TITLE.Number")," "),o(2),M(e.dataModelAccountAgencyResult.totalRowCount>0?14:-1),o(2),ue(e.dataModelAccountAgencyResult.listItems)}}function w1(n,s){n&1&&y(0,"i",26)}function x1(n,s){if(n&1&&(a(0,"b"),d(1),r()),n&2){let e=p(2).$implicit,i=p(3);o(),h("",i.publicHelper.LocaleDate(e.createdDate)," ")}}function P1(n,s){if(n&1&&(a(0,"p",4),d(1),_(2,"translate"),S(3,x1,2,1,"b"),d(4),r()),n&2){let e=p().$implicit,i=p(3);o(),h(" ",g(2,3,"TITLE.ADD"),":"),o(2),M(i.viewOnlyTime?-1:3),o(),h(" ",i.publicHelper.getTime(e.createdDate)," ")}}function A1(n,s){if(n&1&&(a(0,"b"),d(1),r()),n&2){let e=p(2).$implicit,i=p(3);o(),h("",i.publicHelper.LocaleDate(e.updatedDate)," ")}}function R1(n,s){if(n&1&&(a(0,"p",4),d(1),_(2,"translate"),S(3,A1,2,1,"b"),d(4),r()),n&2){let e=p().$implicit,i=p(3);o(),h(" ",g(2,3,"TITLE.Edit"),":"),o(2),M(i.viewOnlyTime?-1:3),o(),h(" ",i.publicHelper.getTime(e.updatedDate)," ")}}function D1(n,s){if(n&1&&(a(0,"p"),d(1),_(2,"translate"),a(3,"b",31),d(4),_(5,"cmsuserinfo"),_(6,"async"),r()()),n&2){let e=p().$implicit;o(),h(" ",g(2,2,"TITLE.Edit"),": "),o(3),h(" ",g(6,6,g(5,4,e.updatedBy))," ")}}function k1(n,s){if(n&1){let e=I();y(0,"div",28),S(1,P1,5,5,"p",4),S(2,R1,5,5,"p",4),a(3,"h4",29),E("click",function(t){let l=u(e).$implicit,C=p(3);return f(C.onActionButtonAccountUser(l,t))}),d(4),a(5,"i",30),_(6,"statusIconClass"),E("click",function(t){let l=u(e).$implicit,C=p(3);return f(C.onActionButtonAccountUser(l,t))}),r()(),a(7,"p"),d(8),r(),a(9,"p"),d(10),_(11,"translate"),a(12,"b",31),d(13),_(14,"cmsuserinfo"),_(15,"async"),r()(),S(16,D1,7,8,"p")}if(n&2){let e=s.$implicit;o(),M(!e.updatedBy||e.updatedBy<=0?1:-1),o(),M(e.updatedBy>0?2:-1),o(2),h(" ",e.title),o(),m("ngClass",g(6,8,e.recordStatus)),o(3),h(" ",e.description," "),o(2),h(" ",g(11,10,"TITLE.USER"),": "),o(3),h(" ",g(15,14,g(14,12,e.createdBy))," "),o(3),M(e.updatedBy>0&&e.createdBy!==e.updatedBy?16:-1)}}function L1(n,s){if(n&1&&(a(0,"div",6)(1,"div",1),y(2,"app-progress-spinner",2),a(3,"div",20)(4,"div",53)(5,"div",22)(6,"button",54),y(7,"i",24),d(8),_(9,"translate"),a(10,"span",25),d(11),r(),d(12),_(13,"translate"),S(14,w1,1,0,"i",26),r(),a(15,"div",55),me(16,k1,17,16,null,null,pe),r()()()()()()),n&2){let e=p(2);o(2),m("optionsInfoAreaId","dataModelAccountUserResult"),o(6),h(" ",g(9,5,"TITLE.Property_expert")," "),o(3),x(e.dataModelAccountUserResult.totalRowCount),o(),h(" ",g(13,7,"TITLE.Number")," "),o(2),M(e.dataModelAccountUserResult.totalRowCount>0?14:-1),o(2),ue(e.dataModelAccountUserResult.listItems)}}function V1(n,s){n&1&&y(0,"i",26)}function F1(n,s){if(n&1&&(a(0,"b"),d(1),r()),n&2){let e=p(2).$implicit,i=p(3);o(),h("",i.publicHelper.LocaleDate(e.createdDate)," ")}}function B1(n,s){if(n&1&&(a(0,"p",4),d(1),_(2,"translate"),S(3,F1,2,1,"b"),d(4),r()),n&2){let e=p().$implicit,i=p(3);o(),h(" ",g(2,3,"TITLE.ADD"),":"),o(2),M(i.viewOnlyTime?-1:3),o(),h(" ",i.publicHelper.getTime(e.createdDate)," ")}}function O1(n,s){if(n&1&&(a(0,"b"),d(1),r()),n&2){let e=p(2).$implicit,i=p(3);o(),h("",i.publicHelper.LocaleDate(e.updatedDate)," ")}}function N1(n,s){if(n&1&&(a(0,"p",4),d(1),_(2,"translate"),S(3,O1,2,1,"b"),d(4),r()),n&2){let e=p().$implicit,i=p(3);o(),h(" ",g(2,3,"TITLE.Edit"),":"),o(2),M(i.viewOnlyTime?-1:3),o(),h(" ",i.publicHelper.getTime(e.updatedDate)," ")}}function G1(n,s){if(n&1&&(a(0,"p"),d(1),_(2,"translate"),a(3,"b",31),d(4),_(5,"cmsuserinfo"),_(6,"async"),r()()),n&2){let e=p().$implicit;o(),h(" ",g(2,2,"TITLE.Edit"),": "),o(3),h(" ",g(6,6,g(5,4,e.updatedBy))," ")}}function W1(n,s){if(n&1){let e=I();y(0,"div",28),S(1,B1,5,5,"p",4),S(2,N1,5,5,"p",4),a(3,"h4",29),E("click",function(t){let l=u(e).$implicit,C=p(3);return f(C.onActionButtonPropertyCompany(l,t))}),d(4),a(5,"i",30),_(6,"statusIconClass"),E("click",function(t){let l=u(e).$implicit,C=p(3);return f(C.onActionButtonPropertyCompany(l,t))}),r()(),a(7,"p"),d(8),r(),a(9,"p"),d(10),_(11,"translate"),a(12,"b",31),d(13),_(14,"cmsuserinfo"),_(15,"async"),r()(),S(16,G1,7,8,"p")}if(n&2){let e=s.$implicit;o(),M(!e.updatedBy||e.updatedBy<=0?1:-1),o(),M(e.updatedBy>0?2:-1),o(2),h(" ",e.title),o(),m("ngClass",g(6,8,e.recordStatus)),o(3),h(" ",e.description," "),o(2),h(" ",g(11,10,"TITLE.USER"),": "),o(3),h(" ",g(15,14,g(14,12,e.createdBy))," "),o(3),M(e.updatedBy>0&&e.createdBy!==e.updatedBy?16:-1)}}function H1(n,s){if(n&1&&(a(0,"div",6)(1,"div",1),y(2,"app-progress-spinner",2),a(3,"div",20)(4,"div",56)(5,"div",22)(6,"button",57),y(7,"i",24),d(8),_(9,"translate"),a(10,"span",25),d(11),r(),d(12),_(13,"translate"),S(14,V1,1,0,"i",26),r(),a(15,"div",58),me(16,W1,17,16,null,null,pe),r()()()()()()),n&2){let e=p(2);o(2),m("optionsInfoAreaId","dataModelPropertyCompanyResult"),o(6),h(" ",g(9,5,"TITLE.Property_Company")," "),o(3),x(e.dataModelPropertyCompanyResult.totalRowCount),o(),h(" ",g(13,7,"TITLE.Number")," "),o(2),M(e.dataModelPropertyCompanyResult.totalRowCount>0?14:-1),o(2),ue(e.dataModelPropertyCompanyResult.listItems)}}function j1(n,s){n&1&&y(0,"i",26)}function U1(n,s){if(n&1&&(a(0,"b"),d(1),r()),n&2){let e=p(2).$implicit,i=p(3);o(),h("",i.publicHelper.LocaleDate(e.createdDate)," ")}}function q1(n,s){if(n&1&&(a(0,"p",4),d(1),_(2,"translate"),S(3,U1,2,1,"b"),d(4),r()),n&2){let e=p().$implicit,i=p(3);o(),h(" ",g(2,3,"TITLE.ADD"),":"),o(2),M(i.viewOnlyTime?-1:3),o(),h(" ",i.publicHelper.getTime(e.createdDate)," ")}}function Q1(n,s){if(n&1&&(a(0,"b"),d(1),r()),n&2){let e=p(2).$implicit,i=p(3);o(),h("",i.publicHelper.LocaleDate(e.updatedDate)," ")}}function z1(n,s){if(n&1&&(a(0,"p",4),d(1),_(2,"translate"),S(3,Q1,2,1,"b"),d(4),r()),n&2){let e=p().$implicit,i=p(3);o(),h(" ",g(2,3,"TITLE.Edit"),":"),o(2),M(i.viewOnlyTime?-1:3),o(),h(" ",i.publicHelper.getTime(e.updatedDate)," ")}}function K1(n,s){if(n&1&&(a(0,"p"),d(1),_(2,"translate"),a(3,"b",31),d(4),_(5,"cmsuserinfo"),_(6,"async"),r()()),n&2){let e=p().$implicit;o(),h(" ",g(2,2,"TITLE.Edit"),": "),o(3),h(" ",g(6,6,g(5,4,e.updatedBy))," ")}}function Z1(n,s){if(n&1){let e=I();y(0,"div",28),S(1,q1,5,5,"p",4),S(2,z1,5,5,"p",4),a(3,"h4",29),E("click",function(t){let l=u(e).$implicit,C=p(3);return f(C.onActionButtonPropertySupplier(l,t))}),d(4),a(5,"i",30),_(6,"statusIconClass"),E("click",function(t){let l=u(e).$implicit,C=p(3);return f(C.onActionButtonPropertySupplier(l,t))}),r()(),a(7,"p"),d(8),r(),a(9,"p"),d(10),_(11,"translate"),a(12,"b",31),d(13),_(14,"cmsuserinfo"),_(15,"async"),r()(),S(16,K1,7,8,"p")}if(n&2){let e=s.$implicit;o(),M(!e.updatedBy||e.updatedBy<=0?1:-1),o(),M(e.updatedBy>0?2:-1),o(2),h(" ",e.title),o(),m("ngClass",g(6,8,e.recordStatus)),o(3),h(" ",e.description," "),o(2),h(" ",g(11,10,"TITLE.USER"),": "),o(3),h(" ",g(15,14,g(14,12,e.createdBy))," "),o(3),M(e.updatedBy>0&&e.createdBy!==e.updatedBy?16:-1)}}function Y1(n,s){if(n&1&&(a(0,"div",6)(1,"div",1),y(2,"app-progress-spinner",2),a(3,"div",20)(4,"div",59)(5,"div",22)(6,"button",60),y(7,"i",24),d(8),_(9,"translate"),a(10,"span",25),d(11),r(),d(12),_(13,"translate"),S(14,j1,1,0,"i",26),r(),a(15,"div",61),me(16,Z1,17,16,null,null,pe),r()()()()()()),n&2){let e=p(2);o(2),m("optionsInfoAreaId","dataModelPropertySupplierResult"),o(6),h(" ",g(9,5,"TITLE.Property_Supplier")," "),o(3),x(e.dataModelPropertySupplierResult.totalRowCount),o(),h(" ",g(13,7,"TITLE.Number")," "),o(2),M(e.dataModelPropertySupplierResult.totalRowCount>0?14:-1),o(2),ue(e.dataModelPropertySupplierResult.listItems)}}function J1(n,s){n&1&&y(0,"i",26)}function X1(n,s){if(n&1&&(a(0,"b"),d(1),r()),n&2){let e=p(2).$implicit,i=p(3);o(),h("",i.publicHelper.LocaleDate(e.createdDate)," ")}}function $1(n,s){if(n&1&&(a(0,"p",4),d(1),_(2,"translate"),S(3,X1,2,1,"b"),d(4),r()),n&2){let e=p().$implicit,i=p(3);o(),h(" ",g(2,3,"TITLE.ADD"),":"),o(2),M(i.viewOnlyTime?-1:3),o(),h(" ",i.publicHelper.getTime(e.createdDate)," ")}}function eC(n,s){if(n&1&&(a(0,"b"),d(1),r()),n&2){let e=p(2).$implicit,i=p(3);o(),h("",i.publicHelper.LocaleDate(e.updatedDate)," ")}}function tC(n,s){if(n&1&&(a(0,"p",4),d(1),_(2,"translate"),S(3,eC,2,1,"b"),d(4),r()),n&2){let e=p().$implicit,i=p(3);o(),h(" ",g(2,3,"TITLE.Edit"),":"),o(2),M(i.viewOnlyTime?-1:3),o(),h(" ",i.publicHelper.getTime(e.updatedDate)," ")}}function iC(n,s){if(n&1&&(a(0,"p"),d(1),_(2,"translate"),a(3,"b",31),d(4),_(5,"cmsuserinfo"),_(6,"async"),r()()),n&2){let e=p().$implicit;o(),h(" ",g(2,2,"TITLE.Edit"),": "),o(3),h(" ",g(6,6,g(5,4,e.updatedBy))," ")}}function nC(n,s){if(n&1){let e=I();y(0,"div",28),S(1,$1,5,5,"p",4),S(2,tC,5,5,"p",4),a(3,"h4",29),E("click",function(t){let l=u(e).$implicit,C=p(3);return f(C.onActionButtonPropertyProject(l,t))}),d(4),a(5,"i",30),_(6,"statusIconClass"),E("click",function(t){let l=u(e).$implicit,C=p(3);return f(C.onActionButtonPropertyProject(l,t))}),r()(),a(7,"p"),d(8),r(),a(9,"p"),d(10),_(11,"translate"),a(12,"b",31),d(13),_(14,"cmsuserinfo"),_(15,"async"),r()(),S(16,iC,7,8,"p")}if(n&2){let e=s.$implicit;o(),M(!e.updatedBy||e.updatedBy<=0?1:-1),o(),M(e.updatedBy>0?2:-1),o(2),h(" ",e.title),o(),m("ngClass",g(6,8,e.recordStatus)),o(3),h(" ",e.description," "),o(2),h(" ",g(11,10,"TITLE.USER"),": "),o(3),h(" ",g(15,14,g(14,12,e.createdBy))," "),o(3),M(e.updatedBy>0&&e.createdBy!==e.updatedBy?16:-1)}}function oC(n,s){if(n&1&&(a(0,"div",6)(1,"div",1),y(2,"app-progress-spinner",2),a(3,"div",20)(4,"div",62)(5,"div",22)(6,"button",63),y(7,"i",24),d(8),_(9,"translate"),a(10,"span",25),d(11),r(),d(12),_(13,"translate"),S(14,J1,1,0,"i",26),r(),a(15,"div",64),me(16,nC,17,16,null,null,pe),r()()()()()()),n&2){let e=p(2);o(2),m("optionsInfoAreaId","dataModelPropertyProjectResult"),o(6),h(" ",g(9,5,"TITLE.Property_Project")," "),o(3),x(e.dataModelPropertyProjectResult.totalRowCount),o(),h(" ",g(13,7,"TITLE.Number")," "),o(2),M(e.dataModelPropertyProjectResult.totalRowCount>0?14:-1),o(2),ue(e.dataModelPropertyProjectResult.listItems)}}function aC(n,s){if(n&1&&(a(0,"div",5),S(1,Ig,18,9,"div",6),S(2,Dg,18,9,"div",6),S(3,Gg,18,9,"div",6),S(4,Kg,18,9,"div",6),S(5,i1,18,9,"div",6),S(6,c1,18,9,"div",6),S(7,h1,18,9,"div",6),S(8,T1,18,9,"div",6),S(9,L1,18,9,"div",6),S(10,H1,18,9,"div",6),S(11,Y1,18,9,"div",6),S(12,oC,18,9,"div",6),r()),n&2){let e=p();o(),M(e.dataModelPropertyResult.totalRowCount>0?1:-1),o(),M(e.dataModelPropertyResultAvailable.totalRowCount>0?2:-1),o(),M(e.dataModelPropertyResultNotAvailable.totalRowCount>0?3:-1),o(),M(e.dataModelCustomerOrderResult.totalRowCount>0?4:-1),o(),M(e.dataModelCustomerOrderResultAvailable.totalRowCount>0?5:-1),o(),M(e.dataModelCustomerOrderResultNotAvailable.totalRowCount>0?6:-1),o(),M(e.dataModelHistoryResult.totalRowCount>0?7:-1),o(),M(e.dataModelAccountAgencyResult.totalRowCount>0?8:-1),o(),M(e.dataModelAccountUserResult.totalRowCount>0?9:-1),o(),M(e.dataModelPropertyCompanyResult.totalRowCount>0?10:-1),o(),M(e.dataModelPropertySupplierResult.totalRowCount>0?11:-1),o(),M(e.dataModelPropertyProjectResult.totalRowCount>0?12:-1)}}function rC(n,s){n&1&&(a(0,"div",5)(1,"div",65)(2,"div",1),y(3,"app-progress-spinner",2),a(4,"div",20)(5,"div",35)(6,"div",22),d(7),_(8,"translate"),r()()()()()()),n&2&&(o(3),m("optionsInfoAreaId","dataModelPropertyResultNotAvailable"),o(4),h(" ",g(8,2,"MESSAGE.NO_STATISTICAL_DATA_FOUND")," "))}var Qa=class Qa{constructor(s,e,i,t,l,C,c,L,q,Se,je,Ke,Ot,ii,Sn,Mn,xo){this.estatePropertyService=s;this.estatePropertyHistoryService=e;this.estatePropertyCompanyService=i;this.estatePropertySupplierService=t;this.estatePropertyProjectService=l;this.estateCustomerOrderService=C;this.estateAccountExpertService=c;this.estateAccountAgencyService=L;this.publicHelper=q;this.cdr=Se;this.cmsToastrService=je;this.themeService=Ke;this.router=Ot;this.dialog=ii;this.translate=Sn;this.tokenHelper=Mn;this.cmsStoreService=xo;this.constructorInfoAreaId=this.constructor.name;this.unsubscribe=[];this.tokenInfo=new Wt;this.dataModelPropertyResult=new j;this.dataModelCustomerOrderResult=new j;this.dataModelHistoryResult=new j;this.dataModelAccountUserResult=new j;this.dataModelAccountAgencyResult=new j;this.dataModelPropertyCompanyResult=new j;this.dataModelPropertySupplierResult=new j;this.dataModelPropertyProjectResult=new j;this.dataModelPropertyResultAvailable=new j;this.dataModelCustomerOrderResultAvailable=new j;this.dataModelPropertyResultNotAvailable=new j;this.dataModelCustomerOrderResultNotAvailable=new j;this.fieldsInfo=new Map;this.checkingOnDayRange=new ad({start:new si(null),end:new si(null)});this.todayStart=new Date(new Date().setHours(0,0,0,0));this.todayEnd=new Date(new Date().setHours(23,59,59,999));this.viewOnlyTime=!1;this.linkCmsUserId=0;this.publicHelper.processService.cdr=this.cdr,this.filterChildrecordStatus=new Z,this.filterChildrecordStatusAvailable=new Z,this.filterChildrecordStatusAvailable.propertyName="recordStatus",this.filterChildrecordStatusAvailable.value=He.Available,this.filterChildrecordStatusAvailable.searchType=kt.Equal,this.filterChildrecordStatusNotAvailable=new Z,this.filterChildrecordStatusNotAvailable.propertyName="recordStatus",this.filterChildrecordStatusNotAvailable.value=He.Available,this.filterChildrecordStatusNotAvailable.searchType=kt.NotEqual,this.tokenInfo=xo.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(fn=>fn.tokenInfoStore).subscribe(fn=>Me(this,null,function*(){this.tokenInfo=fn})))}ngOnInit(){this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd);var s=this.publicHelper.getComponentLocalStorageMap(this.constructor.name,"linkCmsUserId");this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Me(this,null,function*(){this.linkCmsUserId=e.access.userId,Number.isFinite(s)&&+s>=0&&(this.linkCmsUserId=+s),this.onActionButtonOnDateSearch()}))),this.tokenInfo?.access?.userId>0&&(this.linkCmsUserId=this.tokenInfo.access.userId),Number.isFinite(s)&&+s>=0&&(this.linkCmsUserId=+s),this.onActionButtonOnDateSearch()}DataGetAllProperty(){let s=this.constructor.name+"DataGetAllProperty",e=new hl;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,e.countLoad=!0,this.linkCmsUserId>0&&(e.linkResponsibleUserId=this.linkCmsUserId),e.filters.push(this.filterChildrecordStatus),this.publicHelper.processService.processStart(s,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0627\u0645\u0644\u0627\u06A9","dataModelPropertyResult"),this.estatePropertyService.ServiceGetAll(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess&&(this.dataModelPropertyResult=i,this.publicHelper.processService.processStop(s))}})}DataGetAllPropertyAvailable(){let s=this.constructor.name+"DataGetAllPropertyAvailable",e=new hl;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,e.countLoad=!0,this.linkCmsUserId>0&&(e.linkResponsibleUserId=this.linkCmsUserId),e.filters.push(this.filterChildrecordStatusAvailable),this.publicHelper.processService.processStart(s,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0627\u0645\u0644\u0627\u06A9","dataModelPropertyResultAvailable"),this.estatePropertyService.ServiceGetAll(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess&&(this.dataModelPropertyResultAvailable=i,this.publicHelper.processService.processStop(s))}})}DataGetAllPropertyNotAvailable(){let s=this.constructor.name+"DataGetAllPropertyNotAvailable",e=new hl;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,e.countLoad=!0,this.linkCmsUserId>0&&(e.linkResponsibleUserId=this.linkCmsUserId),e.filters.push(this.filterChildrecordStatusNotAvailable),this.publicHelper.processService.processStart(s,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0627\u0645\u0644\u0627\u06A9","dataModelPropertyResultNotAvailable"),this.estatePropertyService.ServiceGetAll(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess&&(this.dataModelPropertyResultNotAvailable=i,this.publicHelper.processService.processStop(s))}})}DataGetAllCustomerOrder(){let s=this.constructor.name+"DataGetAllCustomerOrder",e=new Cl;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,e.countLoad=!0,this.linkCmsUserId>0&&(e.linkResponsibleUserId=this.linkCmsUserId),e.filters.push(this.filterChildrecordStatus),this.publicHelper.processService.processStart(s,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0633\u0641\u0627\u0631\u0634\u0627\u062A","dataModelCustomerOrderResult"),this.estateCustomerOrderService.ServiceGetAll(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess&&(this.dataModelCustomerOrderResult=i,this.publicHelper.processService.processStop(s))}})}DataGetAllCustomerOrderAvailable(){let s=this.constructor.name+"DataGetAllCustomerOrderAvailable",e=new Cl;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,e.countLoad=!0,this.linkCmsUserId>0&&(e.linkResponsibleUserId=this.linkCmsUserId),e.filters.push(this.filterChildrecordStatusAvailable),this.publicHelper.processService.processStart(s,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0633\u0641\u0627\u0631\u0634\u0627\u062A","dataModelCustomerOrderResultAvailable"),this.estateCustomerOrderService.ServiceGetAll(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess&&(this.dataModelCustomerOrderResultAvailable=i,this.publicHelper.processService.processStop(s))}})}DataGetAllCustomerOrderNotAvailable(){let s=this.constructor.name+"DataGetAllCustomerOrderNotAvailable",e=new Cl;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,e.countLoad=!0,this.linkCmsUserId>0&&(e.linkResponsibleUserId=this.linkCmsUserId),e.filters.push(this.filterChildrecordStatusNotAvailable),this.publicHelper.processService.processStart(s,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0633\u0641\u0627\u0631\u0634\u0627\u062A","dataModelCustomerOrderResultNotAvailable"),this.estateCustomerOrderService.ServiceGetAll(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess&&(this.dataModelCustomerOrderResultNotAvailable=i,this.publicHelper.processService.processStop(s))}})}DataGetAllPropertyHistory(){let s=this.constructor.name+"DataGetAllPropertyHistory",e=new Ks;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,e.countLoad=!0,this.linkCmsUserId>0&&(e.linkResponsibleUserId=this.linkCmsUserId),e.filters.push(this.filterChildrecordStatus),this.publicHelper.processService.processStart(s,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u062A\u0627\u0631\u06CC\u062E\u0686\u0647","dataModelHistoryResult"),this.estatePropertyHistoryService.ServiceGetAll(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess&&(this.dataModelHistoryResult=i,this.publicHelper.processService.processStop(s))}})}DataGetAllPropertyCompany(){let s=this.constructor.name+"DataGetAllPropertyCompany",e=new Fo;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,e.countLoad=!0,this.linkCmsUserId>0&&(e.linkResponsibleUserId=this.linkCmsUserId),e.filters.push(this.filterChildrecordStatus),this.publicHelper.processService.processStart(s,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0634\u0631\u06A9\u062A \u0647\u0627\u06CC \u0633\u0627\u062E\u062A\u0645\u0627\u0646\u06CC","dataModelPropertyCompanyResult"),this.estatePropertyCompanyService.ServiceGetAll(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess&&(this.dataModelPropertyCompanyResult=i,this.publicHelper.processService.processStop(s))}})}DataGetAllPropertySupplier(){let s=this.constructor.name+"DataGetAllPropertySupplier",e=new yl;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,e.countLoad=!0,this.linkCmsUserId>0&&(e.linkResponsibleUserId=this.linkCmsUserId),e.filters.push(this.filterChildrecordStatus),this.publicHelper.processService.processStart(s,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u062A\u0627\u0645\u06CC\u0646 \u06A9\u0646\u0646\u062F","dataModelPropertySupplierResult"),this.estatePropertySupplierService.ServiceGetAll(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess&&(this.dataModelPropertySupplierResult=i,this.publicHelper.processService.processStop(s))}})}DataGetAllPropertyProject(){let s=this.constructor.name+"DataGetAllPropertyProject",e=new Bo;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,e.countLoad=!0,this.linkCmsUserId>0&&(e.linkResponsibleUserId=this.linkCmsUserId),e.filters.push(this.filterChildrecordStatus),this.publicHelper.processService.processStart(s,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u067E\u0631\u0648\u0698\u0647 \u0647\u0627","dataModelPropertyProjectResult"),this.estatePropertyProjectService.ServiceGetAll(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess&&(this.dataModelPropertyProjectResult=i,this.publicHelper.processService.processStop(s))}})}DataGetAllAccountUser(){let s=this.constructor.name+"DataGetAllAccountUser",e=new zs;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,e.countLoad=!0,this.linkCmsUserId>0&&(e.linkResponsibleUserId=this.linkCmsUserId),e.filters.push(this.filterChildrecordStatus),this.publicHelper.processService.processStart(s,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u062D\u0633\u0627\u0628 \u06A9\u0627\u0631\u0628\u0631\u06CC","dataModelAccountUserResult"),this.estateAccountExpertService.ServiceGetAll(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess&&(this.dataModelAccountUserResult=i,this.publicHelper.processService.processStop(s))}})}DataGetAllAccountAgency(){let s=this.constructor.name+"DataGetAllAccountAgency",e=new Qs;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,e.countLoad=!0,this.linkCmsUserId>0&&(e.linkResponsibleUserId=this.linkCmsUserId),e.filters.push(this.filterChildrecordStatus),this.publicHelper.processService.processStart(s,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u06A9\u0627\u0631\u0634\u0646\u0627\u0633","dataModelAccountAgencyResult"),this.estateAccountAgencyService.ServiceGetAll(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess&&(this.dataModelAccountAgencyResult=i,this.publicHelper.processService.processStop(s))}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}onActionButtonOnDateSearch(){this.viewOnlyTime=!1,this.checkingOnDayRange.controls.start?.value&&this.checkingOnDayRange.controls.end?.value&&this.checkingOnDayRange.controls.start.value?.toISOString()===this.checkingOnDayRange.controls.end.value?.toISOString()&&(this.viewOnlyTime=!0),this.DataGetAllProperty(),this.DataGetAllPropertyAvailable(),this.DataGetAllPropertyNotAvailable(),this.DataGetAllCustomerOrder(),this.DataGetAllCustomerOrderAvailable(),this.DataGetAllCustomerOrderNotAvailable(),this.DataGetAllPropertyHistory(),this.DataGetAllAccountUser(),this.DataGetAllAccountAgency(),this.DataGetAllPropertyCompany(),this.DataGetAllPropertySupplier(),this.DataGetAllPropertyProject()}onActionSelectorUser(s){this.linkCmsUserId=0,s&&s.id>0&&(this.linkCmsUserId=s.id),this.publicHelper.setComponentLocalStorageMap(this.constructor.name,"linkCmsUserId",this.linkCmsUserId),this.onActionButtonOnDateSearch()}onActionToDay(){this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end.setValue(this.todayEnd),this.onActionButtonOnDateSearch()}onActionNext(){this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),this.checkingOnDayRange.controls.start.setValue(this.addDays(this.checkingOnDayRange.controls.start.value,1)),this.checkingOnDayRange.controls.end.setValue(this.addDays(this.checkingOnDayRange.controls.end.value,1)),this.onActionButtonOnDateSearch()}onActionPervious(){this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),this.checkingOnDayRange.controls.start.setValue(this.addDays(this.checkingOnDayRange.controls.start.value,-1)),this.checkingOnDayRange.controls.end.setValue(this.addDays(this.checkingOnDayRange.controls.end.value,-1)),this.onActionButtonOnDateSearch()}addDays(s,e){let i=new Date(s);return i.setDate(i.getDate()+e),i}onActionButtonProperty(s,e,i){if(!s||!s.id||s.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(L=>{this.cmsToastrService.typeErrorSelected(L)});return}var t=this.publicHelper.InfoNextRowInList(e,s),l=this.publicHelper.InfoPerviousRowInList(e,s),C="";this.publicHelper.isMobile?C="dialog-fullscreen":C="dialog-min",this.dialog.open(Kd,{height:"90%",panelClass:C,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{id:s.id,perviousItem:l,nextItem:t}}).afterClosed().subscribe(L=>{L&&L.dialogChangedDate&&L.onActionOpenItem&&L.onActionOpenItem.id.length>0&&this.onActionButtonProperty(L.onActionOpenItem,e)})}onActionButtonCustomerOrder(s,e,i){if(!s||!s.id||s.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(L=>{this.cmsToastrService.typeErrorSelected(L)});return}var t=this.publicHelper.InfoNextRowInList(e,s),l=this.publicHelper.InfoPerviousRowInList(e,s),C="";this.publicHelper.isMobile?C="dialog-fullscreen":C="dialog-min",this.dialog.open($d,{height:"90%",panelClass:C,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{id:s.id,perviousItem:l,nextItem:t}}).afterClosed().subscribe(L=>{L&&L.dialogChangedDate&&L.onActionOpenItem&&L.onActionOpenItem.id.length>0&&this.onActionButtonCustomerOrder(L.onActionOpenItem,e)})}onActionButtonHistory(s,e){if(!s||!s.id||s.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}var i=this.publicHelper.InfoNextRowInList(this.dataModelHistoryResult.listItems,s),t=this.publicHelper.InfoPerviousRowInList(this.dataModelHistoryResult.listItems,s),l="";this.publicHelper.isMobile?l="dialog-fullscreen":l="dialog-min",this.dialog.open(ec,{height:"90%",panelClass:l,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{id:s.id,perviousItem:t,nextItem:i}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&c.onActionOpenItem&&c.onActionOpenItem.id.length>0&&this.onActionButtonHistory(c.onActionOpenItem)})}onActionButtonAccountAgency(s,e){if(!s||!s.id||s.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(e?.ctrlKey){var i="/#/estate/account-agency/LinkCustomerOrderId/"+s.id;window.open(i,"_blank")}else this.router.navigate(["/estate/account-agency/LinkCustomerOrderId/",s.id])}onActionButtonAccountUser(s,e){if(!s||!s.id||s.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(e?.ctrlKey){var i="/#/estate/account-user/LinkCustomerOrderId/"+s.id;window.open(i,"_blank")}else this.router.navigate(["/estate/account-user/LinkCustomerOrderId/",s.id])}onActionButtonPropertyProject(s,e){if(!s||!s.id||s.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}var i=this.publicHelper.InfoNextRowInList(this.dataModelPropertyProjectResult.listItems,s),t=this.publicHelper.InfoPerviousRowInList(this.dataModelPropertyProjectResult.listItems,s),l="";this.publicHelper.isMobile?l="dialog-fullscreen":l="dialog-min",this.dialog.open(Jl,{height:"90%",panelClass:l,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{id:s.id,perviousItem:t,nextItem:i}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&c.onActionOpenItem&&c.onActionOpenItem.id.length>0&&this.onActionButtonPropertyProject(c.onActionOpenItem)})}onActionButtonPropertySupplier(s,e){if(!s||!s.id||s.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}var i=this.publicHelper.InfoNextRowInList(this.dataModelPropertySupplierResult.listItems,s),t=this.publicHelper.InfoPerviousRowInList(this.dataModelPropertySupplierResult.listItems,s),l="";this.publicHelper.isMobile?l="dialog-fullscreen":l="dialog-min",this.dialog.open(Xl,{height:"90%",panelClass:l,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{id:s.id,perviousItem:t,nextItem:i}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&c.onActionOpenItem&&c.onActionOpenItem.id.length>0&&this.onActionButtonPropertySupplier(c.onActionOpenItem)})}onActionButtonPropertyCompany(s,e){if(!s||!s.id||s.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}var i=this.publicHelper.InfoNextRowInList(this.dataModelPropertyCompanyResult.listItems,s),t=this.publicHelper.InfoPerviousRowInList(this.dataModelPropertyCompanyResult.listItems,s),l="";this.publicHelper.isMobile?l="dialog-fullscreen":l="dialog-min",this.dialog.open(Yl,{height:"90%",panelClass:l,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{id:s.id,perviousItem:t,nextItem:i}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&c.onActionOpenItem&&c.onActionOpenItem.id.length>0&&this.onActionButtonPropertyCompany(c.onActionOpenItem)})}};Qa.\u0275fac=function(e){return new(e||Qa)(v(sn),v(nd),v(Ai),v(ji),v(Ri),v(td),v(Ml),v(Sl),v(G),v(N),v(O),v(jt),v(ke),v(Oe),v(B),v(de),v(Ce))},Qa.\u0275cmp=V({type:Qa,selectors:[["app-estate-overview-events"]],standalone:!1,decls:34,vars:28,consts:[["picker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"row"],[1,"col-12","col-sm-12","col-md-6","col-lg-6"],["appearance","fill"],[3,"formGroup","rangePicker"],["matStartDate","","formControlName","start",3,"placeholder"],["matEndDate","","formControlName","end",3,"placeholder"],["matIconSuffix","",3,"for"],[1,"col-12","col-sm-12","col-md-6","col-lg-6","loader-container"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],[3,"optionSelectForce","optionPlaceholder"],["href","javascript:void(0)",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["href","javascript:void(0)",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"content"],["id","accordion-1A",1,"accordion"],[1,"mb-2"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse1A",1,"btn","accordion-btn","no-effect","color-theme"],[1,"fa","fa-cloud","color-blue-dark","me-2"],[1,"text-muted","fw-bold","fs-7"],[1,"fa","fa-arrow-down","font-10","accordion-icon"],["id","collapse1A","data-bs-parent","#accordion-1",1,"collapse"],[1,"divider","divider-margins","bg-highlight"],[2,"cursor","pointer",3,"click"],[1,"float-end",3,"click","ngClass"],["dir","ltr"],["id","accordion-1B",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse1B",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse1B","data-bs-parent","#accordion-1",1,"collapse"],["id","accordion-1C",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse1C",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse1C","data-bs-parent","#accordion-1",1,"collapse"],["id","accordion-2A",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse2A",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse2A","data-bs-parent","#accordion-2",1,"collapse"],["id","accordion-2B",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse2B",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse2B","data-bs-parent","#accordion-2",1,"collapse"],["id","accordion-2C",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse2C",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse2C","data-bs-parent","#accordion-2",1,"collapse"],["id","accordion-3",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse3",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse3","data-bs-parent","#accordion-3",1,"collapse"],["id","accordion-4",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse4",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse4","data-bs-parent","#accordion-4",1,"collapse"],["id","accordion-5",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse5",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse5","data-bs-parent","#accordion-5",1,"collapse"],["id","accordion-6",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse6",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse6","data-bs-parent","#accordion-6",1,"collapse"],["id","accordion-7",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse7",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse7","data-bs-parent","#accordion-7",1,"collapse"],["id","accordion-8",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse8",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse8","data-bs-parent","#accordion-8",1,"collapse"],[1,"col-12","col-sm-12"]],template:function(e,i){if(e&1&&(a(0,"div",1),y(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),d(4),_(5,"translate"),r(),a(6,"div",5)(7,"div",6)(8,"mat-form-field",7)(9,"mat-label"),d(10),_(11,"translate"),r(),a(12,"mat-date-range-input",8),y(13,"input",9),_(14,"translate"),y(15,"input",10),_(16,"translate"),r(),y(17,"mat-datepicker-toggle",11)(18,"mat-date-range-picker",null,0),S(20,sg,3,3,"mat-error"),S(21,dg,3,3,"mat-error"),r()(),a(22,"div",12),S(23,cg,3,0,"button",13),S(24,pg,3,0,"button",13),S(25,mg,4,3,"button",13),r(),a(26,"div",12),S(27,ug,2,4,"app-cms-user-selector",14),r(),a(28,"div",12),S(29,fg,3,3,"a",15),r()(),S(30,_g,6,12,"div",12),S(31,gg,4,5,"div",12),r()(),S(32,aC,13,12,"div",5)(33,rC,9,4,"div",5)),e&2){let t=A(19);o(),m("optionsInfoAreaId",i.constructorInfoAreaId),o(3),h(" ",g(5,20,"TITLE.Event_Review")," "),o(6),x(g(11,22,"TITLE.Enter_a_date_range")),o(2),m("formGroup",i.checkingOnDayRange)("rangePicker",t),o(),m("placeholder",P(g(14,24,"TITLE.Start_Date"))),o(2),m("placeholder",P(g(16,26,"TITLE.Start_Date"))),o(2),m("for",t),o(3),M(i.checkingOnDayRange.controls.start.hasError("matStartDateInvalid")?20:-1),o(),M(i.checkingOnDayRange.controls.end.hasError("matEndDateInvalid")?21:-1),o(2),M(i.publicHelper.processService.process.inRunAll?-1:23),o(),M(i.publicHelper.processService.process.inRunAll?-1:24),o(),M(i.publicHelper.processService.process.inRunAll?-1:25),o(2),M(i.tokenHelper.isAdminSite?27:-1),o(2),M(i.publicHelper.processService.process.inRunAll?-1:29),o(),M(!(i.checkingOnDayRange==null||i.checkingOnDayRange.controls==null||i.checkingOnDayRange.controls.start==null)&&i.checkingOnDayRange.controls.start.value?30:-1),o(),M(i.linkCmsUserId>0?31:-1),o(),M(i.dataModelPropertyProjectResult.totalRowCount>0||i.dataModelPropertySupplierResult.totalRowCount>0||i.dataModelPropertyCompanyResult.totalRowCount>0||i.dataModelAccountUserResult.totalRowCount>0||i.dataModelAccountAgencyResult.totalRowCount>0||i.dataModelHistoryResult.totalRowCount>0||i.dataModelCustomerOrderResultNotAvailable.totalRowCount>0||i.dataModelCustomerOrderResultAvailable.totalRowCount>0||i.dataModelCustomerOrderResult.totalRowCount>0||i.dataModelPropertyResultNotAvailable.totalRowCount>0||i.dataModelPropertyResultAvailable.totalRowCount>0||i.dataModelPropertyResult.totalRowCount>0?32:33)}},dependencies:[re,X,$,Te,rd,ld,Yt,dn,hd,yd,Sd,Md,ri,ai,De,Ze,no,U,pt,W,io,kd,ki],styles:["table[_ngcontent-%COMP%]{border:2px solid black}th[_ngcontent-%COMP%]{text-align:center}.timeline-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:none}.timeline-content[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{display:inline-block}.card-body-3d[_ngcontent-%COMP%]{transform:perspective(750px) translateZ(-250px) rotateX(27deg) scale(.9);border-radius:20px;border:5px solid #e6e6e6;box-shadow:0 70px 40px -20px #0003;transition:.4s ease-in-out transform}.card-body-3d[_ngcontent-%COMP%]:hover{transform:translateZ(-250px)}"]});var za=Qa;var Ka=class Ka{constructor(s,e,i,t,l,C){this.publicHelper=s;this.cdr=e;this.cmsToastrService=i;this.dialog=t;this.translate=l;this.tokenHelper=C;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new j;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}};Ka.\u0275fac=function(e){return new(e||Ka)(v(G),v(N),v(O),v(Oe),v(B),v(de))},Ka.\u0275cmp=V({type:Ka,selectors:[["app-estate-overview-summary"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&d(0,`summary.componentsummary.componentsummary.componentsummary.componentsummary.componentsummary.componentsummary.component
`)},encapsulation:2});var Za=Ka;var lC=["*"];function sC(n,s){if(n&1&&(a(0,"label",3),d(1),r()),n&2){let e=p();m("for",Pe("app-cms-site-selector-",e.id)),o(),x(e.optionLabel)}}function dC(n,s){if(n&1&&(y(0,"img",5),_(1,"cmsthumbnail")),n&2){let e=p();m("src",P(g(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),H)}}function cC(n,s){if(n&1&&(y(0,"img",5),_(1,"cmsthumbnail")),n&2){let e=p().$implicit;m("src",P(g(1,2,e.linkMainImageIdSrc)),H)}}function pC(n,s){if(n&1&&(a(0,"mat-option",8),S(1,cC,2,4,"img",5),a(2,"span"),d(3),r()()),n&2){let e=s.$implicit,i=p();m("value",e)("disabled",i.optionDisabled),o(),M(e.linkMainImageIdSrc?1:-1),o(2),x(i.displayOption(e))}}function mC(n,s){n&1&&y(0,"i",9)}function uC(n,s){n&1&&y(0,"i",10)}function fC(n,s){if(n&1){let e=I();a(0,"i",13),E("click",function(){u(e);let t=p();return f(t.onActionSelectClear())}),r()}}function _C(n,s){n&1&&(a(0,"em"),d(1),_(2,"translate"),r()),n&2&&(o(),h("(",g(2,1,"TITLE.Necessary"),")"))}var so=class so{constructor(s,e,i,t,l,C){this.coreEnumService=s;this.cmsToastrService=e;this.translate=i;this.cdr=t;this.publicHelper=l;this.categoryService=C;this.id=++so.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new j;this.dataModelSelect=new bi;this.formControl=new si;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new Vt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Ni(""),Oi(1500),Yn(),Gi(s=>typeof s=="string"||typeof s=="number"?this.DataGetAll(s||""):[]))}displayFn(s){return s?s.title:void 0}displayOption(s){return s?s.title:void 0}DataGetAll(s){return Me(this,null,function*(){let e=new oe;e.rowPerPage=20,e.accessLoad=!0;let i=new Z;s&&s.length>0&&(i.propertyName="title",i.value=s,i.searchType=kt.Contains,e.filters.push(i),i=new Z,i.propertyName="id",i.value=s,i.searchType=kt.Equal,i.clauseType=Ct.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),yield Zn(this.categoryService.ServiceGetAll(e)).then(l=>(this.dataModelResult=l,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),l.listItems))})}onActionSelect(s){this.optionDisabled||(this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(s){return this.filteredOptions.pipe(Bi(e=>(e.find(i=>i.id===s.id)||e.push(s),e)))}onActionSelectForce(s){if(typeof s=="string"&&s.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===s)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===s)){let e=this.dataModelResult.listItems.find(i=>i.id===s);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(s).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof s==typeof bi){this.filteredOptions=this.push(s),this.dataModelSelect=s,this.formControl.setValue(s);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new bi,this.loadOptions()}};so.nextId=0,so.\u0275fac=function(e){return new(e||so)(v(te),v(O),v(B),v(N),v(G),v(Hi))},so.\u0275cmp=V({type:so,selectors:[["app-estate-ads-type-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:lC,decls:18,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=I();Jn(),a(0,"div",1),y(1,"app-progress-spinner",2),S(2,sC,2,3,"label",3),a(3,"span",4),S(4,dC,2,4,"img",5),r(),y(5,"input",6),a(6,"mat-autocomplete",7,0),E("optionSelected",function(C){return u(t),f(i.onActionSelect(C.option.value))}),me(8,pC,4,4,"mat-option",8,pe),_(10,"async"),r(),S(11,mC,1,0,"i",9),S(12,uC,1,0,"i",10),S(13,fC,1,0,"i",11),a(14,"i",12),_(15,"translate"),E("click",function(){return u(t),f(i.onActionButtonReload())}),r(),S(16,_C,3,3,"em"),On(17),r()}if(e&2){let t=A(7);o(),m("optionsInfoAreaId",i.constructorInfoAreaId),o(),M((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),M(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),m("placeholder",P(i.optionPlaceholder))("id",Pe("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),li("disabled",i.optionDisabled?!0:null),o(),m("displayWith",i.displayFn),o(2),ue(g(10,20,i.filteredOptions)),o(3),M(i.formControl.valid?-1:11),o(),M(i.optionRequired&&i.formControl.valid?12:-1),o(),M((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?13:-1),o(),ne("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),m("title",P(g(15,22,"ACTION.RELOAD"))),o(2),M(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0)?16:-1)}},dependencies:[X,$,le,qi,zi,Qi,Ki,No,ee,U,pt,W,he],encapsulation:2});var Ya=so;var CC=["vform"];function hC(n,s){n&1&&y(0,"i",16)}function yC(n,s){n&1&&y(0,"i",17)}function SC(n,s){n&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function MC(n,s){if(n&1){let e=I();a(0,"div",13)(1,"label",27),d(2),r(),a(3,"input",28,4),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.stationLevel,t)||(l.dataModel.stationLevel=t),f(t)}),r()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.stationLevel==null?null:e.fieldsInfo.stationLevel.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.stationLevel==null?null:e.fieldsInfo.stationLevel.fieldTitle)),b("ngModel",e.dataModel.stationLevel),m("disabled",!(e.fieldsInfo.stationLevel!=null&&e.fieldsInfo.stationLevel.accessEditField))}}function EC(n,s){if(n&1){let e=I();a(0,"div",13)(1,"label",29),d(2),r(),a(3,"input",30,5),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.viewLevel,t)||(l.dataModel.viewLevel=t),f(t)}),r()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.viewLevel==null?null:e.fieldsInfo.viewLevel.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.viewLevel==null?null:e.fieldsInfo.viewLevel.fieldTitle)),b("ngModel",e.dataModel.viewLevel),m("disabled",!(e.fieldsInfo.viewLevel!=null&&e.fieldsInfo.viewLevel.accessEditField))}}function vC(n,s){if(n&1){let e=I();a(0,"div",19)(1,"label",31),d(2),r(),a(3,"input",32),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.expireDate,t)||(l.dataModel.expireDate=t),f(t)}),r(),y(4,"mat-datepicker-toggle",22)(5,"mat-datepicker",23,6),r()}if(n&2){let e=A(6),i=p();o(2),x(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),m("matDatepicker",e),b("ngModel",i.dataModel.expireDate),o(),m("for",e)}}function IC(n,s){n&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function bC(n,s){if(n&1){let e=I();a(0,"div",26)(1,"button",33),E("click",function(){u(e);let t=p();return f(t.onFormCancel())}),y(2,"i",34),d(3),_(4,"translate"),r(),a(5,"button",35),y(6,"i",36),d(7),_(8,"translate"),r()()}if(n&2){p();let e=A(10);o(3),h(" ",g(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),h(" ",g(8,5,"ACTION.SAVE")," ")}}var Ja=class Ja extends _t{constructor(e,i,t,l,C,c,L,q){super(l,new Un,c,q);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyAdsService=l;this.cmsToastrService=C;this.publicHelper=c;this.cdr=L;this.translate=q;this.requestLinkPropertyId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new j;this.dataModel=new Un;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.AdsTypeTitle="";this.PropertyTitle="";this.publicHelper.processService.cdr=this.cdr,e&&e.linkPropertyId&&(this.requestLinkPropertyId=e.linkPropertyId),this.requestLinkPropertyId.length>0&&(this.dataModel.linkPropertyId=this.requestLinkPropertyId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyAdsService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelectLinkPropertyId(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Property_ID_is_unknown").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyId=e.id,this.PropertyTitle=e.title,this.dataModel.title=e.title+"_"+this.AdsTypeTitle}onActionSelectorSelectLinkAdsTypeId(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Advertisement_ID_is_unknown").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkAdsTypeId=e.id,this.AdsTypeTitle=e.title,this.dataModel.title=this.PropertyTitle+"_"+e.title}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ja.\u0275fac=function(i){return new(i||Ja)(v(Ve),v(Le),v(te),v(vn),v(O),v(G),v(N),v(B))},Ja.\u0275cmp=V({type:Ja,selectors:[["app-estate-property-ads-add"]],viewQuery:function(i,t){if(i&1&&Q(CC,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[Y],decls:45,vars:38,consts:[["vform","ngForm"],["Title",""],["FromDate",""],["Description",""],["StationLevel",""],["ViewLevel",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.stationLevel",1,"color-highlight"],["matInput","","name","dataModel.stationLevel","type","number","id","dataModel.stationLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.viewLevel",1,"color-highlight"],["matInput","","name","dataModel.viewLevel","type","number","id","dataModel.viewLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=I();a(0,"div",7),y(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),d(4),r(),a(5,"p"),d(6),_(7,"translate"),r(),y(8,"app-cms-form-result-message",11),a(9,"form",12,0),E("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(11,"div",13)(12,"label",14),d(13),r(),a(14,"input",15,1),w("ngModelChange",function(c){return u(l),T(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),r(),S(16,hC,1,0,"i",16),S(17,yC,1,0,"i",17),a(18,"em"),d(19),r(),S(20,SC,5,3,"mat-error"),r(),a(21,"app-estate-ads-type-selector",18),_(22,"translate"),E("optionChange",function(c){return u(l),f(t.onActionSelectorSelectLinkAdsTypeId(c))}),r(),a(23,"app-estate-property-selector",18),_(24,"translate"),E("optionChange",function(c){return u(l),f(t.onActionSelectorSelectLinkPropertyId(c))}),r(),S(25,MC,5,5,"div",13),S(26,EC,5,5,"div",13),a(27,"div",19)(28,"label",20),d(29),r(),a(30,"input",21),w("ngModelChange",function(c){return u(l),T(t.dataModel.fromDate,c)||(t.dataModel.fromDate=c),f(c)}),r(),y(31,"mat-datepicker-toggle",22)(32,"mat-datepicker",23,2),r(),S(34,vC,7,4,"div",19),a(35,"div",13)(36,"label",24),d(37),r(),a(38,"textarea",25,3),w("ngModelChange",function(c){return u(l),T(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),d(40,"                  "),r(),a(41,"em"),d(42),r(),S(43,IC,5,3,"mat-error"),r(),S(44,bC,9,7,"div",26),r()()()}if(i&2){let l=A(15),C=A(33),c=A(39);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",g(7,32,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(5),x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),M(l.value?-1:16),o(),M(l.value?17:-1),o(2),h("",l.value.length," / 100"),o(),M(l.errors!=null&&l.errors.required?20:-1),o(),m("optionDisabled",!(t.fieldsInfo.linkAdsTypeId!=null&&t.fieldsInfo.linkAdsTypeId.accessAddField))("optionSelectForce",t.dataModel.linkAdsTypeId)("optionPlaceholder",g(22,34,"TITLE.Ad_type_ID")),o(2),m("optionDisabled",!(t.fieldsInfo.linkPropertyId!=null&&t.fieldsInfo.linkPropertyId.accessAddField))("optionSelectForce",t.dataModel.linkPropertyId)("optionPlaceholder",g(24,36,"TITLE.Property_ID")),o(2),M(t.fieldsInfo.stationLevel!=null&&t.fieldsInfo.stationLevel.accessWatchField?25:-1),o(),M(t.fieldsInfo.viewLevel!=null&&t.fieldsInfo.viewLevel.accessWatchField?26:-1),o(3),x(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),m("matDatepicker",C),b("ngModel",t.dataModel.fromDate),o(),m("for",C),o(3),M(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessWatchField?34:-1),o(3),x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),h("",c.value.length," / 500"),o(),M(c.errors!=null&&c.errors.required?43:-1),o(),M(t.formInfo.submitButtonEnabled?44:-1)}},dependencies:[Re,X,Ft,$,Te,le,Ee,ge,_e,Ae,wn,xn,dn,De,Ze,ee,U,se,Bt,Bl,Ya,W],encapsulation:2});var $l=Ja;var TC=["vform"];function wC(n,s){n&1&&y(0,"i",16)}function xC(n,s){n&1&&y(0,"i",17)}function PC(n,s){n&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function AC(n,s){if(n&1){let e=I();a(0,"div",13)(1,"label",27),d(2),r(),a(3,"input",28,4),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.stationLevel,t)||(l.dataModel.stationLevel=t),f(t)}),r()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.stationLevel==null?null:e.fieldsInfo.stationLevel.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.stationLevel==null?null:e.fieldsInfo.stationLevel.fieldTitle)),b("ngModel",e.dataModel.stationLevel),m("disabled",!(e.fieldsInfo.stationLevel!=null&&e.fieldsInfo.stationLevel.accessEditField))}}function RC(n,s){if(n&1){let e=I();a(0,"div",13)(1,"label",29),d(2),r(),a(3,"input",30,5),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.viewLevel,t)||(l.dataModel.viewLevel=t),f(t)}),r()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.viewLevel==null?null:e.fieldsInfo.viewLevel.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.viewLevel==null?null:e.fieldsInfo.viewLevel.fieldTitle)),b("ngModel",e.dataModel.viewLevel),m("disabled",!(e.fieldsInfo.viewLevel!=null&&e.fieldsInfo.viewLevel.accessEditField))}}function DC(n,s){if(n&1){let e=I();a(0,"div",19)(1,"label",31),d(2),r(),a(3,"input",32),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.expireDate,t)||(l.dataModel.expireDate=t),f(t)}),r(),y(4,"mat-datepicker-toggle",22)(5,"mat-datepicker",23,6),r()}if(n&2){let e=A(6),i=p();o(2),x(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),m("matDatepicker",e),b("ngModel",i.dataModel.expireDate),o(),m("for",e)}}function kC(n,s){n&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function LC(n,s){if(n&1){let e=I();a(0,"div",26)(1,"button",33),E("click",function(){u(e);let t=p();return f(t.onFormCancel())}),y(2,"i",34),d(3),_(4,"translate"),r(),a(5,"button",35),y(6,"i",36),d(7),_(8,"translate"),r()()}if(n&2){p();let e=A(10);o(3),h(" ",g(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),h(" ",g(8,5,"ACTION.SAVE")," ")}}var Xa=class Xa extends Tt{constructor(e,i,t,l,C,c,L,q){super(l,new Un,c,q);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyAdsService=l;this.cmsToastrService=C;this.publicHelper=c;this.cdr=L;this.translate=q;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ht;this.dataModel=new Un;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.AdsTypeTitle="";this.PropertyTitle="";this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyAdsService.setAccessLoad(),this.estatePropertyAdsService.setAccessDataType(Be.Editor),this.estatePropertyAdsService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyAdsService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelectLinkPropertyId(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Property_ID_is_unknown").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyId=e.id,this.PropertyTitle=e.title,this.dataModel.title=e.title+"_"+this.AdsTypeTitle}onActionSelectorSelectLinkAdsTypeId(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Advertisement_ID_is_unknown").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkAdsTypeId=e.id,this.AdsTypeTitle=e.title,this.dataModel.title=this.PropertyTitle+"_"+e.title}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Xa.\u0275fac=function(i){return new(i||Xa)(v(Ve),v(Le),v(te),v(vn),v(O),v(G),v(N),v(B))},Xa.\u0275cmp=V({type:Xa,selectors:[["app-estate-property-ads-edit"]],viewQuery:function(i,t){if(i&1&&Q(TC,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[Y],decls:45,vars:38,consts:[["vform","ngForm"],["Title",""],["FromDate",""],["Description",""],["StationLevel",""],["ViewLevel",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.stationLevel",1,"color-highlight"],["matInput","","name","dataModel.stationLevel","type","number","id","dataModel.stationLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.viewLevel",1,"color-highlight"],["matInput","","name","dataModel.viewLevel","type","number","id","dataModel.viewLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=I();a(0,"div",7),y(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),d(4),r(),a(5,"p"),d(6),_(7,"translate"),r(),y(8,"app-cms-form-result-message",11),a(9,"form",12,0),E("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(11,"div",13)(12,"label",14),d(13),r(),a(14,"input",15,1),w("ngModelChange",function(c){return u(l),T(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),r(),S(16,wC,1,0,"i",16),S(17,xC,1,0,"i",17),a(18,"em"),d(19),r(),S(20,PC,5,3,"mat-error"),r(),a(21,"app-estate-ads-type-selector",18),_(22,"translate"),E("optionChange",function(c){return u(l),f(t.onActionSelectorSelectLinkAdsTypeId(c))}),r(),a(23,"app-estate-property-selector",18),_(24,"translate"),E("optionChange",function(c){return u(l),f(t.onActionSelectorSelectLinkPropertyId(c))}),r(),S(25,AC,5,5,"div",13),S(26,RC,5,5,"div",13),a(27,"div",19)(28,"label",20),d(29),r(),a(30,"input",21),w("ngModelChange",function(c){return u(l),T(t.dataModel.fromDate,c)||(t.dataModel.fromDate=c),f(c)}),r(),y(31,"mat-datepicker-toggle",22)(32,"mat-datepicker",23,2),r(),S(34,DC,7,4,"div",19),a(35,"div",13)(36,"label",24),d(37),r(),a(38,"textarea",25,3),w("ngModelChange",function(c){return u(l),T(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),d(40,"                  "),r(),a(41,"em"),d(42),r(),S(43,kC,5,3,"mat-error"),r(),S(44,LC,9,7,"div",26),r()()()}if(i&2){let l=A(15),C=A(33),c=A(39);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",g(7,32,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(5),x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),M(l.value?-1:16),o(),M(l.value?17:-1),o(2),h("",l.value.length," / 100"),o(),M(l.errors!=null&&l.errors.required?20:-1),o(),m("optionDisabled",!(t.fieldsInfo.linkAdsTypeId!=null&&t.fieldsInfo.linkAdsTypeId.accessAddField))("optionSelectForce",t.dataModel.linkAdsTypeId)("optionPlaceholder",g(22,34,"TITLE.Ad_type_ID")),o(2),m("optionDisabled",!(t.fieldsInfo.linkPropertyId!=null&&t.fieldsInfo.linkPropertyId.accessAddField))("optionSelectForce",t.dataModel.linkPropertyId)("optionPlaceholder",g(24,36,"TITLE.Property_ID")),o(2),M(t.fieldsInfo.stationLevel!=null&&t.fieldsInfo.stationLevel.accessWatchField?25:-1),o(),M(t.fieldsInfo.viewLevel!=null&&t.fieldsInfo.viewLevel.accessWatchField?26:-1),o(3),x(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),m("matDatepicker",C),b("ngModel",t.dataModel.fromDate),o(),m("for",C),o(3),M(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessWatchField?34:-1),o(3),x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),h("",c.value.length," / 500"),o(),M(c.errors!=null&&c.errors.required?43:-1),o(),M(t.formInfo.submitButtonEnabled?44:-1)}},dependencies:[Re,X,Ft,$,Te,le,Ee,ge,_e,Ae,wn,xn,dn,De,Ze,ee,U,se,Bt,Bl,Ya,W],encapsulation:2});var es=Xa;var VC=()=>[5,10,20,100],FC=n=>({background:n});function BC(n,s){if(n&1&&y(0,"app-estate-property-header",3),n&2){let e=p();m("optionId",e.requestLinkPropertyId)}}function OC(n,s){if(n&1){let e=I();a(0,"div",18)(1,"a",44),E("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),y(2,"i",45)(3,"br"),r(),a(4,"p",22),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.ADD")," "))}function NC(n,s){if(n&1){let e=I();a(0,"div",18)(1,"a",46),E("click",function(){u(e);let t=p();return f(t.onActionButtonBuy())}),y(2,"i",47)(3,"br"),r(),a(4,"p",22),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.BUY")," "))}function GC(n,s){if(n&1){let e=I();a(0,"div",18)(1,"a",48),E("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),y(2,"i",49)(3,"br"),r(),a(4,"p",22),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.EDIT")," "))}function WC(n,s){if(n&1){let e=I();a(0,"div",18)(1,"a",50),E("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),y(2,"i",51)(3,"br"),r(),a(4,"p",22),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.DELETE")," "))}function HC(n,s){if(n&1&&(a(0,"mat-header-cell",52),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function jC(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.id," ")}}function UC(n,s){if(n&1&&(a(0,"mat-header-cell",52),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.linkPropertyId==null?null:e.fieldsInfo.linkPropertyId.fieldTitle," ")}}function qC(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.linkPropertyId," ")}}function QC(n,s){if(n&1&&(a(0,"mat-header-cell",52),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function zC(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.title," ")}}function KC(n,s){if(n&1&&(a(0,"mat-header-cell",52),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.stationLevel==null?null:e.fieldsInfo.stationLevel.fieldTitle," ")}}function ZC(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.stationLevel," ")}}function YC(n,s){if(n&1&&(a(0,"mat-header-cell",52),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.viewLevel==null?null:e.fieldsInfo.viewLevel.fieldTitle," ")}}function JC(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.viewLevel," ")}}function XC(n,s){if(n&1&&(a(0,"mat-header-cell",52),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.fromDate==null?null:e.fieldsInfo.fromDate.fieldTitle," ")}}function $C(n,s){if(n&1&&(a(0,"mat-cell"),d(1),_(2,"persianDate"),r()),n&2){let e=s.$implicit;o(),h(" ",g(2,1,e.fromDate)," ")}}function eh(n,s){if(n&1&&(a(0,"mat-header-cell",52),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function th(n,s){if(n&1&&(a(0,"mat-cell",53),d(1),_(2,"persianDate"),r()),n&2){let e=s.$implicit,i=p();m("ngStyle",Nt(4,FC,i.publicHelper.RowStyleExpireDate(e.expireDate))),o(),h(" ",g(2,2,e.expireDate)," ")}}function ih(n,s){n&1&&(a(0,"mat-header-cell"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.OPTION")," "))}function nh(n,s){if(n&1&&(a(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),d(3,"more_vert"),r()(),y(4,"mat-menu",null,2),r()),n&2){let e=A(5);o(),m("matMenuTriggerFor",e)}}function oh(n,s){n&1&&y(0,"mat-header-row")}function ah(n,s){if(n&1){let e=I();a(0,"mat-row",56),E("click",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))}),r()}if(n&2){let e=s.$implicit,i=p();ne("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var $a=class $a extends wt{constructor(e,i,t,l,C,c,L,q,Se,je,Ke,Ot,ii){super(e,new Un,Ot,c,Se);this.contentService=e;this.cmsConfirmationDialogService=i;this.activatedRoute=t;this.cmsToastrService=l;this.themeService=C;this.tokenHelper=c;this.router=L;this.cdr=q;this.translate=Se;this.cmsStoreService=je;this.pageInfo=Ke;this.publicHelper=Ot;this.dialog=ii;this.requestLinkPropertyId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new oe;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["StationLevel","ViewLevel","LinkPropertyId","FromDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["StationLevel","ViewLevel","LinkPropertyId","FromDate","ExpireDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkPropertyId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyId"),this.optionsSearch.parentMethods={onSubmit:Sn=>this.onSubmitOptionsSearch(Sn)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=J.Descending,this.requestLinkPropertyId&&this.requestLinkPropertyId.length>0){let Sn=new Z;Sn.propertyName="LinkPropertyId",Sn.value=this.requestLinkPropertyId,this.filteModelContent.filters.push(Sn)}}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Me(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Un);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=J.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open($l,{height:"90%",panelClass:e,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{linkPropertyId:this.requestLinkPropertyId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(es,{height:"90%",panelClass:i,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let C=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(C,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})}onActionButtonContentList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/estate/property/LinkPropertyAdsId/",this.tableRowSelected.id])}onActionButtonBuy(){this.router.navigate(["/estate/property-ads/sale/",this.requestLinkPropertyId])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{i.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),C=new Z;C.propertyName="recordStatus",C.value=He.Available,l.filters.push(C),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{i.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/estate/property/"])}};$a.\u0275fac=function(i){return new(i||$a)(v(vn),v(bt),v(Gt),v(O),v(jt),v(de),v(ke),v(N),v(B),v(Ce),v(It),v(G),v(Oe))},$a.\u0275cmp=V({type:$a,selectors:[["app-estate-property-ads-list"]],standalone:!1,features:[Y],decls:70,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkPropertyId"],["matColumnDef","title"],["matColumnDef","StationLevel"],["matColumnDef","ViewLevel"],["matColumnDef","FromDate"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-cart-shopping","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=I();S(0,BC,1,1,"app-estate-property-header",3),a(1,"app-cms-html-list",4),w("optionActionGuideNoticeDisplayChange",function(c){return u(l),T(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),E("optionOnActionButtonMemoRow",function(){return u(l),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(l),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(l),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(l),f(t.onActionButtonPrintRow())}),D(2,5),d(3," -------------------------------------- "),k(),Ye(4,6)(5,7),D(6,8),a(7,"a",9),E("click",function(){return u(l),f(t.onActionBackToParent())}),y(8,"i",10),r(),a(9,"a",11),E("click",function(){return u(l),f(t.viewGuideNotice=!t.viewGuideNotice)}),y(10,"i",12),r(),a(11,"a",11),E("click",function(){return u(l),f(t.onActionButtonReload())}),y(12,"i",13),r(),k(),D(13,14),a(14,"a",15),E("click",function(){return u(l),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),y(15,"mat-slide-toggle",16),d(16),_(17,"translate"),r(),a(18,"a",15),E("click",function(){return u(l),f(t.onActionButtonStatist())}),y(19,"mat-slide-toggle",16),d(20),_(21,"translate"),r(),k(),D(22,17),S(23,OC,7,3,"div",18),S(24,NC,7,3,"div",18),k(),D(25,19),S(26,GC,7,3,"div",18),S(27,WC,7,3,"div",18),a(28,"div",18)(29,"a",20),E("click",function(){return u(l),f(t.onActionButtonContentList(t.tableRowSelected))}),y(30,"i",21)(31,"br"),r(),a(32,"p",22),d(33),_(34,"translate"),r()(),k(),D(35,23),a(36,"app-cms-search-list",24),w("optionsChange",function(c){return u(l),T(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),r(),a(37,"app-cms-statist-list",24),w("optionsChange",function(c){return u(l),T(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),r(),k(),D(38,25),a(39,"mat-table",26,0),E("matSortChange",function(){u(l);let c=A(40);return f(t.onTableSortData(c))}),D(41,27),R(42,HC,2,1,"mat-header-cell",28)(43,jC,2,1,"mat-cell",29),k(),D(44,30),R(45,UC,2,1,"mat-header-cell",28)(46,qC,2,1,"mat-cell",29),k(),D(47,31),R(48,QC,2,1,"mat-header-cell",28)(49,zC,2,1,"mat-cell",29),k(),D(50,32),R(51,KC,2,1,"mat-header-cell",28)(52,ZC,2,1,"mat-cell",29),k(),D(53,33),R(54,YC,2,1,"mat-header-cell",28)(55,JC,2,1,"mat-cell",29),k(),D(56,34),R(57,XC,2,1,"mat-header-cell",28)(58,$C,3,3,"mat-cell",29),k(),D(59,35),R(60,eh,2,1,"mat-header-cell",28)(61,th,3,6,"mat-cell",36),k(),D(62,37),R(63,ih,3,3,"mat-header-cell",38)(64,nh,6,1,"mat-cell",39),k(),R(65,oh,1,0,"mat-header-row",40)(66,ah,1,2,"mat-row",41),r(),k(),D(67,42),a(68,"mat-paginator",43,1),E("page",function(c){return u(l),f(t.onTablePageingData(c))}),r(),k(),r()}i&2&&(M((t.requestLinkPropertyId==null?null:t.requestLinkPropertyId.length)>0?0:-1),o(),m("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),m("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(11),ne("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),m("checked",t.optionsSearch.data.show),o(),h("",g(17,28,"ACTION.SEARCH")," "),o(3),m("checked",t.optionsStatist.data.show),o(),h("",g(21,30,"ACTION.STATIST")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?23:-1),o(),M(t.requestLinkPropertyId&&t.requestLinkPropertyId.length>0?24:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?26:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?27:-1),o(6),h(" ",g(34,32,"ACTION.Property_to_be_traded")," "),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),m("dataSource",t.tableSource),o(26),m("matHeaderRowDef",t.tabledisplayedColumns),o(),m("matRowDefColumns",t.tabledisplayedColumns),o(2),m("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",fe(34,VC)))},dependencies:[oi,Ue,we,yt,St,Mt,ft,Et,vt,$e,tt,at,it,et,rt,nt,ot,lt,st,xt,Pt,At,Rt,tc,W,Nd],encapsulation:2});var co=$a;function rh(n,s){if(n&1&&(a(0,"div"),d(1),_(2,"translate"),_(3,"currency"),r()),n&2){let e=p(2);o(),We(" ",g(2,2,"TITLE.FEETAX"),": ",pi(3,4,e.dataModelCalculateResult.item==null?null:e.dataModelCalculateResult.item.feeTax," "+(e.dataModelCalculateResult.item==null?null:e.dataModelCalculateResult.item.currency)+" ")," ")}}function lh(n,s){if(n&1&&(a(0,"div"),d(1),_(2,"translate"),_(3,"currency"),r()),n&2){let e=p(2);o(),We(" ",g(2,2,"TITLE.Amount_pure"),": ",pi(3,4,e.dataModelCalculateResult.item==null?null:e.dataModelCalculateResult.item.amountPure," "+(e.dataModelCalculateResult.item==null?null:e.dataModelCalculateResult.item.currency)+" ")," ")}}function sh(n,s){if(n&1&&(a(0,"div"),d(1),_(2,"translate"),_(3,"currency"),r()),n&2){let e=p(2);o(),We(" ",g(2,2,"TITLE.Fee_transport"),": ",pi(3,4,e.dataModelCalculateResult.item==null?null:e.dataModelCalculateResult.item.feeTransport," "+(e.dataModelCalculateResult.item==null?null:e.dataModelCalculateResult.item.currency)+" ")," ")}}function dh(n,s){if(n&1&&(a(0,"div"),d(1),_(2,"translate"),_(3,"currency"),r()),n&2){let e=p(2);o(),We(" ",g(2,2,"TITLE.Final_Amount"),": ",pi(3,4,e.dataModelCalculateResult.item==null?null:e.dataModelCalculateResult.item.amount," "+(e.dataModelCalculateResult.item==null?null:e.dataModelCalculateResult.item.currency)+" ")," ")}}function ch(n,s){if(n&1&&(a(0,"div"),S(1,rh,4,7,"div"),y(2,"br"),S(3,lh,4,7,"div"),y(4,"br"),S(5,sh,4,7,"div"),y(6,"hr"),S(7,dh,4,7,"div"),r()),n&2){let e=p();o(),M((e.dataModelCalculateResult.item==null?null:e.dataModelCalculateResult.item.feeTax)>0?1:-1),o(2),M((e.dataModelCalculateResult.item==null?null:e.dataModelCalculateResult.item.amountPure)>0?3:-1),o(2),M((e.dataModelCalculateResult.item==null?null:e.dataModelCalculateResult.item.feeTransport)>0?5:-1),o(2),M((e.dataModelCalculateResult.item==null?null:e.dataModelCalculateResult.item.amount)>0?7:-1)}}function ph(n,s){if(n&1){let e=I();a(0,"div",12)(1,"button",13),E("click",function(){u(e);let t=p();return f(t.onFormCancel())}),y(2,"i",14),d(3),_(4,"translate"),r(),a(5,"button",15),E("click",function(){u(e);let t=p();return f(t.onActionSelectBankPayment())}),y(6,"i",16),d(7),_(8,"translate"),r()()}if(n&2){let e=p();o(3),h(" ",g(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.viewCalculate),o(2),h(" ",g(8,5,"ACTION.PAYMENT")," ")}}var er=class er{constructor(s,e,i,t,l,C,c,L,q){this.data=s;this.document=e;this.dialogRef=i;this.estateAdsTypeService=t;this.estatePropertyAdsService=l;this.cmsToastrService=C;this.translate=c;this.cdr=L;this.publicHelper=q;this.requestLinkPropertyId="";this.requestLinkAdsTypeId="";this.requestBankPrivateMaster=!1;this.constructorInfoAreaId=this.constructor.name;this.viewCalculate=!1;this.dataModelResult=new j;this.dataModelCalculateResult=new j;this.dataModelPaymentResult=new j;this.dataModelCalculate=new js;this.dataModelPayment=new Us;this.formInfo=new ie;if(this.publicHelper.processService.cdr=this.cdr,s&&(s.linkPropertyId&&s.linkPropertyId.length>0&&(this.requestLinkPropertyId=s.linkPropertyId),s.linkAdsTypeId&&s.linkAdsTypeId.length>0&&(this.requestLinkAdsTypeId=s.linkAdsTypeId),s.bankPrivateMaster&&s.bankPrivateMaster===!0&&(this.requestBankPrivateMaster=!0)),this.requestLinkPropertyId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}if(this.requestLinkAdsTypeId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.dataModelCalculate.linkAdsTypeId=this.requestLinkAdsTypeId,this.dataModelCalculate.linkPropertyId=this.requestLinkPropertyId,this.dataModelPayment.linkAdsTypeId=this.requestLinkAdsTypeId,this.dataModelPayment.linkPropertyId=this.requestLinkPropertyId,this.dataModelPayment.lastUrlAddressInUse=this.document.location.href}ngOnInit(){this.translate.get("TITLE.Select_Payment_Gateway").subscribe(s=>{this.formInfo.formTitle=s})}DataCalculate(){this.viewCalculate=!1;let s=this.constructor.name+"ServiceOrderCalculate";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.estatePropertyAdsService.ServiceOrderCalculate(this.dataModelCalculate).subscribe({next:e=>{e.isSuccess?(this.dataModelCalculateResult=e,this.viewCalculate=!0):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}DataPayment(){let s=this.constructor.name+"ServiceOrderPayment";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.estatePropertyAdsService.ServiceOrderPayment(this.dataModelPayment).subscribe({next:e=>{e.isSuccess?(this.dataModelPaymentResult=e,this.translate.get("MESSAGE.Transferring_to_the_payment_gateway").subscribe(i=>{this.cmsToastrService.typeSuccessMessage(i)}),localStorage.setItem(Ad,e.item.transactionId.toString()),this.document.location.href=this.dataModelPaymentResult.item.urlToPay):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onActionSelectCalculate(s){this.dataModelCalculate.bankPaymentPrivateId=s.id,this.dataModelPayment.bankPaymentPrivateId=s.id,this.DataCalculate()}onActionSelectBankPayment(){this.DataPayment()}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};er.\u0275fac=function(e){return new(e||er)(v(Ve),v(ks),v(Le),v(Hi),v(vn),v(O),v(B),v(N),v(G))},er.\u0275cmp=V({type:er,selectors:[["app-estate-property-ads-salepayment"]],standalone:!1,decls:18,vars:7,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"menu-title"],[1,"color-highlight"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionChange","optionMasterItem"],[2,"text-align","left"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"click","disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){e&1&&(a(0,"div",0),y(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),d(4),r(),a(5,"a",4),E("click",function(){return i.onFormCancel()}),y(6,"i",5),r(),y(7,"hr"),r(),a(8,"div",6)(9,"p",7),d(10),r(),a(11,"mat-dialog-content")(12,"app-cms-bankpayment-grid",8),E("optionChange",function(l){return i.onActionSelectCalculate(l)}),r(),S(13,ch,8,4,"div"),r(),a(14,"mat-dialog-actions",9)(15,"div",10),y(16,"app-cms-form-result-message",11),r(),S(17,ph,9,7,"div",12),r()()()),e&2&&(o(),m("optionsInfoAreaId",i.constructorInfoAreaId),o(3),x(i.formInfo.formTitle),o(6),h(" ",i.formInfo.formDescription," "),o(2),m("optionMasterItem",i.requestBankPrivateMaster),o(),M(i.viewCalculate?13:-1),o(3),m("formInfo",i.formInfo),o(),M(i.formInfo.submitButtonEnabled?17:-1))},dependencies:[vd,Ed,U,se,Ud,_l,W],styles:[".example-card[_ngcontent-%COMP%]{max-width:200px}"]});var ts=er;function mh(n,s){if(n&1){let e=I();a(0,"div",6)(1,"mat-card",7)(2,"mat-card-header")(3,"mat-card-title"),d(4),r(),a(5,"mat-card-subtitle"),d(6),_(7,"currency"),r()(),y(8,"img",8),a(9,"mat-card-content")(10,"p"),d(11),r()(),a(12,"mat-card-actions")(13,"button",9),E("click",function(){let t=u(e).$implicit,l=p();return f(l.onActionButtonBuy(t))}),d(14),_(15,"translate"),r()()()()}if(n&2){let e=s.$implicit,i=p();o(4),x(e.title),o(2),x(pi(7,6,e.salePrice," "+i.currency+" ")),o(2),m("src",P(e.linkMainImageIdSrc),H),o(3),h(" ",e.description," "),o(3),h(" ",g(15,9,"ACTION.BUY")," ")}}var tr=class tr{constructor(s,e,i,t,l,C,c,L,q,Se,je,Ke,Ot){this.estateAdsTypeService=s;this.publicHelper=e;this.cmsToastrService=i;this.coreEnumService=t;this.coreSiteService=l;this.cmsStoreService=C;this.tokenHelper=c;this.router=L;this.themeService=q;this.translate=Se;this.cdr=je;this.activatedRoute=Ke;this.dialog=Ot;this.requestLinkPropertyId="";this.constructorInfoAreaId=this.constructor.name;this.showBuy=!1;this.flag=!1;this.tableContentSelected=[];this.dataModelResult=new j;this.tokenInfo=new Wt;this.tableRowSelected=new bi;this.categoryModelSelected=new bi;this.dataModelEnumCmsModuleSaleItemTypeResult=new j;this.tabledisplayedColumns=["LinkModuleId","EnumCmsModuleSaleItemType","FromDate","ExpireDate"];this.unsubscribe=[];this.currency="";this.publicHelper.processService.cdr=this.cdr,this.requestLinkPropertyId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyId")}ngOnInit(){if(!this.requestLinkPropertyId||this.requestLinkPropertyId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.router.navigate(["/estate/property"]);return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>Me(this,null,function*(){this.tokenInfo=i,this.DataGetAll()}))),this.DataGetCurrency();let s=+localStorage.getItem("TransactionId");if(s>0){var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(jd,{panelClass:e,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{id:s}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&localStorage.removeItem("TransactionId")})}}DataGetCurrency(){this.coreSiteService.ServiceGetCurrencyMaster().subscribe({next:s=>{s.isSuccess?this.currency=s.item:this.cmsToastrService.typeErrorMessage(s.errorMessage)},error:s=>{this.cmsToastrService.typeError(s)}})}getEnumCmsModuleSaleItemType(){this.coreEnumService.ServiceCmsModuleSaleItemTypeEnum().subscribe({next:s=>{this.dataModelEnumCmsModuleSaleItemTypeResult=s}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetAll(){this.tableRowSelected=new bi;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(s,i,this.constructorInfoAreaId)}),this.showBuy=!1;let e=new oe;this.estateAdsTypeService.ServiceGetAllSale(e).subscribe({next:i=>{i.isSuccess?(this.showBuy=!0,this.dataModelResult=i):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(s)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(s,!1)}})}onActionButtonBuy(s){this.tableRowSelected=s;var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(ts,{height:"90%",panelClass:e,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{linkPropertyId:this.requestLinkPropertyId,linkAdsTypeId:s.id,bankPrivateMaster:s.paymentForMainSite}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionBackToParent(){this.router.navigate(["/estate/property-ads/LinkPropertyId/"+this.requestLinkPropertyId])}};tr.\u0275fac=function(e){return new(e||tr)(v(Hi),v(G),v(O),v(te),v(Ns),v(Ce),v(de),v(ke),v(jt),v(B),v(N),v(Gt),v(Oe))},tr.\u0275cmp=V({type:tr,selectors:[["app-estate-property-ads-salelist"]],standalone:!1,decls:17,vars:11,consts:[[3,"svg"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],[1,"row"],["Class","col-xl-12"],[3,"optionsInfoAreaId"],[1,"col"],[1,"example-card"],["mat-card-image","",3,"src"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"click"]],template:function(e,i){e&1&&(a(0,"app-cms-html-notice",0)(1,"h4"),d(2),_(3,"translate"),r(),d(4),_(5,"translate"),y(6,"br"),a(7,"button",1),E("click",function(){return i.onActionBackToParent()}),y(8,"i",2),d(9),_(10,"translate"),r()(),a(11,"div",3)(12,"div",4),y(13,"app-progress-spinner",5),a(14,"div",3),me(15,mh,16,11,"div",6,pe),r()()()),e&2&&(m("svg","assets/media/svg/icons/Shopping/Sale2.svg"),o(2),x(g(3,5,"MESSAGE.ADS")),o(2),h(" ",g(5,7,"MESSAGE.Make_purchases_according_to_your_needs_and_duration")," "),o(5),h(" ",g(10,9,"ACTION.BACK")," "),o(4),m("optionsInfoAreaId",i.constructorInfoAreaId),o(2),ue(i.dataModelResult.listItems))},dependencies:[pd,_d,ud,gd,Cd,fd,md,U,Vd,_l,W],styles:[".example-card[_ngcontent-%COMP%]{max-width:200px}"]});var ir=tr;var sc=Bn(Kn());var uh=["vform"];function fh(n,s){if(n&1){let e=I();a(0,"app-cms-enum-record-status-selector",60),w("modelChange",function(t){u(e);let l=p();return T(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),f(t)}),r()}if(n&2){let e=p();b("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function _h(n,s){if(n&1){let e=I();a(0,"app-cms-enum-record-admin-status-selector",60),w("modelChange",function(t){u(e);let l=p();return T(l.dataModel.mainAdminRecordStatus,t)||(l.dataModel.mainAdminRecordStatus=t),f(t)}),r()}if(n&2){let e=p();b("model",e.dataModel.mainAdminRecordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function gh(n,s){n&1&&y(0,"i",31)}function Ch(n,s){n&1&&y(0,"i",32)}function hh(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2){let e=p(2);o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),o(2),x(g(4,2,"MESSAGE.required"))}}function yh(n,s){if(n&1){let e=I();a(0,"div",23)(1,"label",61),d(2),r(),a(3,"input",62,10),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.title,t)||(l.dataModel.title=t),f(t)}),r(),S(5,gh,1,0,"i",31),S(6,Ch,1,0,"i",32),a(7,"em"),d(8),r(),S(9,hh,5,4,"mat-error"),r()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle))("disabled",P(!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField))),b("ngModel",i.dataModel.title),o(2),M(e.value?-1:5),o(),M(e.value?6:-1),o(2),h("",e.value.length," / 100"),o(),M(e.errors!=null&&e.errors.required?9:-1)}}function Sh(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2){let e=p(2);o(),h(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," "),o(2),x(g(4,2,"MESSAGE.required"))}}function Mh(n,s){if(n&1){let e=I();a(0,"div",23)(1,"label",63),d(2),r(),a(3,"textarea",64,11),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.description,t)||(l.dataModel.description=t),f(t)}),r(),a(5,"em"),d(6),r(),S(7,Sh,5,4,"mat-error"),r()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle))("disabled",P(!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessAddField))),b("ngModel",i.dataModel.description),o(3),h("",e.value.length," / 500"),o(),M(e.errors!=null&&e.errors.required?7:-1)}}function Eh(n,s){if(n&1){let e=I();a(0,"div",23)(1,"label",65),d(2),_(3,"translate"),r(),a(4,"textarea",66,12),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.descriptionHidden,t)||(l.dataModel.descriptionHidden=t),f(t)}),r(),a(6,"em"),d(7),r()()}if(n&2){let e=A(5),i=p();o(2),x(g(3,5,"TITLE.Description_Hidden")),o(2),m("placeholder",P(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",i.dataModel.descriptionHidden),o(3),h("",e.value.length," / 500")}}function vh(n,s){n&1&&y(0,"i",31)}function Ih(n,s){n&1&&y(0,"i",32)}function bh(n,s){n&1&&(a(0,"mat-error"),d(1," Address is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function Th(n,s){if(n&1){let e=I();a(0,"div",35)(1,"button",67),E("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),d(2),_(3,"translate"),r(),a(4,"button",68),d(5),_(6,"translate"),r()()}if(n&2){p();let e=A(10);o(2),h(" ",g(3,3,"ACTION.BACK")," "),o(2),m("disabled",!e.form.valid),o(),h(" ",g(6,5,"ACTION.NEXT")," ")}}function wh(n,s){if(n&1){let e=I();a(0,"div",23)(1,"label",69),d(2),_(3,"translate"),r(),a(4,"input",70,13),_(6,"translate"),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.source,t)||(l.dataModel.source=t),f(t)}),r(),a(7,"em"),d(8),r()()}if(n&2){let e=A(5),i=p();o(2),x(g(3,7,"TITLE.Source_page_address")),o(2),m("placeholder",P(g(6,9,"TITLE.Content_reference_website_link")))("disabled",P(!(i.fieldsInfo.source!=null&&i.fieldsInfo.source.accessAddField))),b("ngModel",i.dataModel.source),o(4),h("",e.value.length," / 500")}}function xh(n,s){if(n&1){let e=I();a(0,"mat-chip",71),E("removed",function(){let t=u(e).$implicit,l=p();return f(l.removeTag(t))}),d(1),a(2,"button",72)(3,"mat-icon"),d(4,"cancel"),r()()()}if(n&2){let e=s.$implicit;o(),h(" ",e," ")}}function Ph(n,s){if(n&1&&(a(0,"div",35)(1,"button",73),d(2),_(3,"translate"),r(),a(4,"button",68),d(5),_(6,"translate"),r()()),n&2){p();let e=A(10);o(2),h(" ",g(3,3,"ACTION.BEFOR")," "),o(2),m("disabled",!e.form.valid),o(),h(" ",g(6,5,"ACTION.NEXT")," ")}}function Ah(n,s){if(n&1&&(y(0,"img",43),_(1,"cmsthumbnail")),n&2){let e=p();m("src",P(g(1,2,e.dataModel.linkMainImageIdSrc)),H)}}function Rh(n,s){n&1&&(a(0,"p"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.List_of_attached_photos")," "))}function Dh(n,s){if(n&1&&(a(0,"audio",49),y(1,"source",74),_(2,"cmsthumbnail"),d(3," Your browser does not support the audio tag. "),r()),n&2){let e=p();o(),m("src",P(g(2,2,e.dataModel.linkFilePodcastIdSrc)),H)}}function kh(n,s){if(n&1&&(a(0,"video",49),y(1,"source",75),d(2," Your browser does not support the video tag. "),r()),n&2){let e=p();o(),m("src",P(e.dataModel.linkFileMovieIdSrc),H)}}function Lh(n,s){if(n&1&&(a(0,"div",35)(1,"button",73),d(2),_(3,"translate"),r(),a(4,"button",68),d(5),_(6,"translate"),r()()),n&2){p();let e=A(10);o(2),h(" ",g(3,3,"ACTION.BEFOR")," "),o(2),m("disabled",!e.form.valid),o(),h(" ",g(6,5,"ACTION.NEXT")," ")}}function Vh(n,s){if(n&1&&(a(0,"div",35)(1,"button",73),d(2),_(3,"translate"),r(),a(4,"button",76),d(5),_(6,"translate"),r()()),n&2){p();let e=A(10);o(2),h(" ",g(3,3,"ACTION.BEFOR")," "),o(2),m("disabled",!e.form.valid),o(),h(" ",g(6,5,"ACTION.SAVE")," ")}}function Fh(n,s){n&1&&(a(0,"mat-icon"),d(1,"call_end"),r())}function Bh(n,s){n&1&&(a(0,"mat-icon"),d(1,"call_end"),r())}function Oh(n,s){n&1&&(a(0,"mat-icon"),d(1,"forum"),r())}function Nh(n,s){n&1&&(a(0,"mat-icon"),d(1,"forum"),r())}var nr=class nr extends _t{constructor(e,i,t,l,C,c,L){super(t,new Ti,i,L);this.coreEnumService=e;this.publicHelper=i;this.contentService=t;this.cmsToastrService=l;this.router=C;this.cdr=c;this.translate=L;this.constructorInfoAreaId=this.constructor.name;this.dataModel=new Ti;this.dataModelResult=new j;this.dataFileModelImgaes=new Map;this.dataFileModelFiles=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypePodcast=["mp3"];this.selectFileTypeMovie=["mp4","webm"];this.formInfo=new ie;this.fileManagerOpenForm=!1;this.fileManagerOpenFormPodcast=!1;this.fileManagerOpenFormMovie=!1;this.fieldsInfo=new Map;this.keywordDataModel=[];this.tagDataModel=[];this.similarDataModel=new Array;this.otherInfoTabledisplayedColumns=["title","TypeId","Action"];this.similarTabledisplayedColumns=["linkMainImageIdSrc","id","recordStatus","title","Action"];this.similarTabledataSource=new Ht;this.appLanguage="fa";this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Ci;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.DataGetAccess()}onActionTagChange(e){this.tagDataModel=e}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionFileSelectedLinkFilePodcastId(e){this.dataModel.linkFilePodcastId=e.id,this.dataModel.linkFilePodcastIdSrc=e.downloadLinksrc}onActionFileSelectedLinkFileMovieId(e){this.dataModel.linkFileMovieId=e.id,this.dataModel.linkFileMovieIdSrc=e.downloadLinksrc}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapModel.on("click",i=>{let t=i.latlng.lat,l=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&l===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=sc.marker([t,l]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=l}))}receiveZoom(e){}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}if(this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let e=[];this.keywordDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.keyword=e.join(","))}this.DataAddContent()}DataAddContent(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";if(this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}if(this.dataFileModelImgaes){let i=Array.from(this.dataFileModelImgaes.keys());i&&i.length>0&&(this.dataModel.linkExtraImageIds=i.join(","))}this.contentService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessAdd(),setTimeout(()=>this.router.navigate(["/estate/property-company/"]),1e3)):this.cmsToastrService.typeErrorAdd(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorAdd(i),this.publicHelper.processService.processStop(e)}})}onActionContentSimilarRemoveFromLIst(e){if(!e||e.id.length<=0||!this.similarDataModel||this.similarDataModel.length===0)return;let i=new Array;this.similarDataModel.forEach(t=>{t.id!==e.id&&i.push(t)}),this.similarDataModel=i,this.similarTabledataSource.data=this.similarDataModel}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/estate/property-company/"])}onActionSelectorLocation(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=e.id}onActionSelectorLocationWorkArea(e){this.dataModel.linkLocationIds=e}addTag(e){let i=(e.value||"").trim();i&&this.keywordDataModel.push(i),e.chipInput.clear()}removeTag(e){let i=this.keywordDataModel.indexOf(e);i>=0&&this.keywordDataModel.splice(i,1)}};nr.\u0275fac=function(i){return new(i||nr)(v(te),v(G),v(Ai),v(O),v(ke),v(N),v(B))},nr.\u0275cmp=V({type:nr,selectors:[["app-estate-property-company-add"]],viewQuery:function(i,t){if(i&1&&Q(uh,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[Y],decls:136,vars:158,consts:[["vform","ngForm"],["stepper",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["chipList",""],["tagInput",""],["LinkMainImageId",""],["LinkFilePodcastId",""],["LinkFileMovieId",""],["Title",""],["Description",""],["DescriptionHidden",""],["Source",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.mobileNumber","type","text","minlength","3","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","required","","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"pb-5"],["id","main","name","dataModel.body",3,"ngModelChange","placeholder","config","ngModel"],[1,"ntk-button-row"],["state","seo",3,"label"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView","optionFileType"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["controls",""],["matInput","","type","text","name","dataModel.linkFilePodcastId","id","dataModel.linkFilePodcastId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],["matInput","","type","text","name","dataModel.linkFileMovieId","id","dataModel.linkFileMovieId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"dataModelChange","dataModel"],[3,"dataModelChange","dataModel","dataImageModel"],["state","loaction",3,"label"],["id","main-map",3,"map$","zoom$","optonCenter"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["for","dataModel.source",1,"color-highlight"],["matInput","","type","text","name","dataModel.source","type","text","dir","ltr","minlength","3","maxlength","500","id","dataModel.source",1,"form-control","validate-name","input-ltr",2,"text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["type","audio/mp3",3,"src"],["type","video/mp4",3,"src"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let l=I();a(0,"div",14),y(1,"app-progress-spinner",15),a(2,"div",16)(3,"p",17),d(4),r(),a(5,"p"),d(6),_(7,"translate"),r(),y(8,"app-cms-form-result-message",18),a(9,"form",19,0),E("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(11,"mat-vertical-stepper",20,1),E("selectionChange",function(c){u(l);let L=A(12);return f(t.onStepClick(c,L))}),a(13,"mat-step",21),_(14,"translate"),S(15,fh,1,5,"app-cms-enum-record-status-selector",22),S(16,_h,1,5,"app-cms-enum-record-admin-status-selector",22),S(17,yh,10,10,"div",23),S(18,Mh,8,8,"div",23),S(19,Eh,8,7,"div",23),a(20,"app-cms-location-selector",24),_(21,"translate"),E("optionChange",function(c){return u(l),f(t.onActionSelectorLocation(c))}),r(),d(22),_(23,"translate"),a(24,"app-cms-location-autocomplete",24),_(25,"translate"),E("optionChange",function(c){return u(l),f(t.onActionSelectorLocationWorkArea(c))}),r(),a(26,"div",23)(27,"label",25),d(28),r(),a(29,"input",26,2),w("ngModelChange",function(c){return u(l),T(t.dataModel.phoneNumber,c)||(t.dataModel.phoneNumber=c),f(c)}),r(),a(31,"em"),d(32),r()(),a(33,"div",23)(34,"label",27),d(35),r(),a(36,"input",28,3),w("ngModelChange",function(c){return u(l),T(t.dataModel.mobileNumber,c)||(t.dataModel.mobileNumber=c),f(c)}),r(),a(38,"em"),d(39),r()(),a(40,"div",23)(41,"label",29),d(42),r(),a(43,"textarea",30,4),w("ngModelChange",function(c){return u(l),T(t.dataModel.address,c)||(t.dataModel.address=c),f(c)}),r(),a(45,"em"),d(46),r(),S(47,vh,1,0,"i",31),S(48,Ih,1,0,"i",32),S(49,bh,5,3,"mat-error"),r(),y(50,"hr",33),a(51,"label"),d(52),r(),a(53,"angular-editor",34),_(54,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.body,c)||(t.dataModel.body=c),f(c)}),r(),S(55,Th,7,7,"div",35),r(),a(56,"mat-step",36),_(57,"translate"),a(58,"p"),d(59),_(60,"translate"),r(),S(61,wh,9,11,"div",23),a(62,"mat-form-field",37)(63,"mat-label"),d(64),_(65,"translate"),r(),a(66,"mat-chip-grid",38,5),me(68,xh,5,1,"mat-chip",null,pe),a(70,"input",39,6),_(72,"translate"),E("matChipInputTokenEnd",function(c){return u(l),f(t.addTag(c))}),r()()(),S(73,Ph,7,7,"div",35),r(),a(74,"mat-step",40),_(75,"translate"),a(76,"p"),d(77),_(78,"translate"),r(),a(79,"div",41)(80,"a",42),_(81,"cmsthumbnail"),S(82,Ah,2,4,"img",43),r()(),a(83,"div",23)(84,"label",44),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),d(85),_(86,"translate"),r(),a(87,"input",45,7),_(89,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),r(),a(90,"cms-file-manager",46),E("itemSelected",function(c){return u(l),f(t.onActionFileSelectedLinkMainImageId(c))}),w("openFormChange",function(c){return u(l),T(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),f(c)}),r()(),y(91,"hr"),S(92,Rh,3,3,"p"),a(93,"app-cms-files-selector",47),w("dataFileModelChange",function(c){return u(l),T(t.dataFileModelImgaes,c)||(t.dataFileModelImgaes=c),f(c)}),r(),y(94,"hr"),a(95,"div")(96,"p"),d(97),_(98,"translate"),r(),a(99,"app-cms-files-selector",48),w("dataFileModelChange",function(c){return u(l),T(t.dataFileModelFiles,c)||(t.dataFileModelFiles=c),f(c)}),r(),y(100,"br"),r(),a(101,"div",41),S(102,Dh,4,4,"audio",49),r(),a(103,"div",23)(104,"input",50,8),_(106,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.linkFilePodcastId,c)||(t.dataModel.linkFilePodcastId=c),f(c)}),E("click",function(){return u(l),f(t.fileManagerOpenFormPodcast=!0)}),r(),a(107,"cms-file-manager",46),E("itemSelected",function(c){return u(l),f(t.onActionFileSelectedLinkFilePodcastId(c))}),w("openFormChange",function(c){return u(l),T(t.fileManagerOpenFormPodcast,c)||(t.fileManagerOpenFormPodcast=c),f(c)}),r()(),a(108,"div",41),S(109,kh,3,2,"video",49),r(),a(110,"div",23)(111,"input",51,9),_(113,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.linkFileMovieId,c)||(t.dataModel.linkFileMovieId=c),f(c)}),E("click",function(){return u(l),f(t.fileManagerOpenFormMovie=!0)}),r(),a(114,"cms-file-manager",46),E("itemSelected",function(c){return u(l),f(t.onActionFileSelectedLinkFileMovieId(c))}),w("openFormChange",function(c){return u(l),T(t.fileManagerOpenFormMovie,c)||(t.fileManagerOpenFormMovie=c),f(c)}),r()(),a(115,"h3"),d(116),_(117,"translate"),r(),a(118,"app-cms-360-image-list",52),w("dataModelChange",function(c){return u(l),T(t.dataModel.file360Views,c)||(t.dataModel.file360Views=c),f(c)}),r(),y(119,"br"),a(120,"h3"),d(121),_(122,"translate"),r(),a(123,"app-cms-360-tour-list",53),w("dataModelChange",function(c){return u(l),T(t.dataModel.file360Tour,c)||(t.dataModel.file360Tour=c),f(c)}),r(),S(124,Lh,7,7,"div",35),r(),a(125,"mat-step",54),_(126,"translate"),a(127,"p"),d(128),_(129,"translate"),r(),a(130,"app-cms-map",55),E("map$",function(c){return u(l),f(t.receiveMap(c))})("zoom$",function(c){return u(l),f(t.receiveZoom(c))}),r(),S(131,Vh,7,7,"div",35),r(),R(132,Fh,2,0,"ng-template",56)(133,Bh,2,0,"ng-template",57)(134,Oh,2,0,"ng-template",58)(135,Nh,2,0,"ng-template",59),r()()()()}if(i&2){let l=A(30),C=A(37),c=A(44),L=A(67);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",g(7,114,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(5),m("label",P(g(14,116,"TITLE.REQUIRED_INFORMATION"))),o(2),M(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?15:-1),o(),M(t.fieldsInfo.mainAdminRecordStatus!=null&&t.fieldsInfo.mainAdminRecordStatus.accessWatchField?16:-1),o(),M(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?17:-1),o(),M(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?18:-1),o(),M(t.fieldsInfo.descriptionHidden!=null&&t.fieldsInfo.descriptionHidden.accessWatchField?19:-1),o(),m("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessAddField))("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",g(21,118,"TITLE.Region")),o(2),h(" ",g(23,120,"TITLE.Geographical_Areas")," : "),o(2),m("optionDisabled",!(t.fieldsInfo.linkLocationIds!=null&&t.fieldsInfo.linkLocationIds.accessAddField))("optionSelectForce",t.dataModel.linkLocationIds)("optionPlaceholder",g(25,122,"TITLE.Region")),o(4),x(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle)),b("ngModel",t.dataModel.phoneNumber),m("disabled",!(t.fieldsInfo.phoneNumber!=null&&t.fieldsInfo.phoneNumber.accessAddField)),o(3),h("",l.value.length," / 64"),o(3),x(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle)),b("ngModel",t.dataModel.mobileNumber),m("disabled",!(t.fieldsInfo.mobileNumber!=null&&t.fieldsInfo.mobileNumber.accessAddField)),o(3),h("",C.value.length," / 64"),o(3),x(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle)),b("ngModel",t.dataModel.address),m("disabled",!(t.fieldsInfo.address!=null&&t.fieldsInfo.address.accessAddField)),o(3),h("",c.value.length," / 500"),o(),M(c.value?-1:47),o(),M(c.value?48:-1),o(),M(c.errors!=null&&c.errors.required?49:-1),o(3),h(" ",t.fieldsInfo.body==null?null:t.fieldsInfo.body.fieldTitle," "),o(),m("placeholder",g(54,124,"TITLE.Enter_Text"))("config",t.publicHelper.editorConfig),b("ngModel",t.dataModel.body),o(2),M(t.formInfo.submitButtonEnabled?55:-1),o(),m("label",P(g(57,126,"TITLE.Search_Engines"))),o(3),h(" ",g(60,128,"TITLE.This_section_helps_search_engines_better_index_content")," "),o(2),M(t.fieldsInfo.source!=null&&t.fieldsInfo.source.accessWatchField?61:-1),o(3),x(g(65,130,"TITLE.Choose_keywords_relative_to_the_content")),o(4),ue(t.keywordDataModel),o(2),m("placeholder",g(72,132,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",L)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(3),M(t.formInfo.submitButtonEnabled?73:-1),o(),m("label",P(g(75,134,"TITLE.ATTACH_FILES"))),o(3),x(g(78,136,"TITLE.CONTENT_ATTACH_FILES")),o(3),m("href",P(g(81,138,t.dataModel.linkMainImageIdSrc)),H),o(2),M((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?82:-1),o(3),x(g(86,140,"TITLE.Original_Photo")),o(2),m("placeholder",P(g(89,142,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),m("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),m("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(2),M(t.dataFileModelImgaes&&t.dataFileModelImgaes.size>0?92:-1),o(),b("dataFileModel",t.dataFileModelImgaes),m("openDirectUploadView",!0)("optionFileType",t.selectFileTypeMainImage),o(4),x(g(98,144,"TITLE.List_of_attached_files")),o(2),b("dataFileModel",t.dataFileModelFiles),m("openDirectUploadView",!0),o(3),M((t.dataModel==null||t.dataModel.linkFilePodcastIdSrc==null?null:t.dataModel.linkFilePodcastIdSrc.length)>0?102:-1),o(2),m("placeholder",P(g(106,146,"TITLE.Audio_File_ID"))),b("ngModel",t.dataModel.linkFilePodcastId),o(3),m("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenFormPodcast),m("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypePodcast)("openFilemanagerButtonView",!1),o(2),M((t.dataModel==null||t.dataModel.linkFileMovieIdSrc==null?null:t.dataModel.linkFileMovieIdSrc.length)>0?109:-1),o(2),m("placeholder",P(g(113,148,"TITLE.Video_File_ID"))),b("ngModel",t.dataModel.linkFileMovieId),o(3),m("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenFormMovie),m("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMovie)("openFilemanagerButtonView",!1),o(2),x(g(117,150,"TITLE.image_360")),o(2),b("dataModel",t.dataModel.file360Views),o(3),x(g(122,152,"TITLE.virtual_tour")),o(2),b("dataModel",t.dataModel.file360Tour),m("dataImageModel",t.dataModel.file360Views),o(),M(t.formInfo.submitButtonEnabled?124:-1),o(),m("label",Pe("",g(126,154,"TITLE.Location")," ")),o(3),h(" ",g(129,156,"TITLE.Click_on_the_map_to_specify_the_location")," "),o(2),m("optonCenter",t.mapOptonCenter),o(),M(t.formInfo.submitButtonEnabled?131:-1)}},dependencies:[Re,X,$,Te,le,Ee,ge,_e,Ae,Yt,$t,ei,ti,Xt,ri,ai,De,we,ee,ui,fi,_i,gi,mi,hi,Ei,Si,Li,vi,Ii,zt,U,se,Mi,yi,cn,qe,W,he],encapsulation:2});var or=nr;var Ts=Bn(Kn());var Gh=["vform"];function Wh(n,s){if(n&1){let e=I();a(0,"app-cms-enum-record-status-selector",60),w("modelChange",function(t){u(e);let l=p();return T(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),f(t)}),r()}if(n&2){let e=p();b("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Hh(n,s){if(n&1){let e=I();a(0,"app-cms-enum-record-admin-status-selector",60),w("modelChange",function(t){u(e);let l=p();return T(l.dataModel.mainAdminRecordStatus,t)||(l.dataModel.mainAdminRecordStatus=t),f(t)}),r()}if(n&2){let e=p();b("model",e.dataModel.mainAdminRecordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function jh(n,s){n&1&&y(0,"i",31)}function Uh(n,s){n&1&&y(0,"i",32)}function qh(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2){let e=p(2);o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),o(2),x(g(4,2,"MESSAGE.required"))}}function Qh(n,s){if(n&1){let e=I();a(0,"div",23)(1,"label",61),d(2),r(),a(3,"input",62,10),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.title,t)||(l.dataModel.title=t),f(t)}),r(),S(5,jh,1,0,"i",31),S(6,Uh,1,0,"i",32),a(7,"em"),d(8),r(),S(9,qh,5,4,"mat-error"),r()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle))("disabled",P(!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField))),b("ngModel",i.dataModel.title),o(2),M(e.value?-1:5),o(),M(e.value?6:-1),o(2),h("",e.value.length," / 100"),o(),M(e.errors!=null&&e.errors.required?9:-1)}}function zh(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2){let e=p(2);o(),h(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," "),o(2),x(g(4,2,"MESSAGE.required"))}}function Kh(n,s){if(n&1){let e=I();a(0,"div",23)(1,"label",63),d(2),r(),a(3,"textarea",64,11),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.description,t)||(l.dataModel.description=t),f(t)}),r(),a(5,"em"),d(6),r(),S(7,zh,5,4,"mat-error"),r()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle))("disabled",P(!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessEditField))),b("ngModel",i.dataModel.description),o(3),h("",e.value.length," / 500"),o(),M(e.errors!=null&&e.errors.required?7:-1)}}function Zh(n,s){if(n&1){let e=I();a(0,"div",23)(1,"label",65),d(2),_(3,"translate"),r(),a(4,"textarea",66,12),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.descriptionHidden,t)||(l.dataModel.descriptionHidden=t),f(t)}),r(),a(6,"em"),d(7),r()()}if(n&2){let e=A(5),i=p();o(2),x(g(3,7,"TITLE.Description_Hidden")),o(2),m("placeholder",P(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle))("disabled",P(!(i.fieldsInfo.descriptionHidden!=null&&i.fieldsInfo.descriptionHidden.accessEditField))),b("ngModel",i.dataModel.descriptionHidden),o(3),h("",e.value.length," / 500")}}function Yh(n,s){n&1&&y(0,"i",31)}function Jh(n,s){n&1&&y(0,"i",32)}function Xh(n,s){n&1&&(a(0,"mat-error"),d(1," Address is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function $h(n,s){if(n&1&&(a(0,"button",69),d(1),_(2,"translate"),r()),n&2){p(2);let e=A(10);m("disabled",!e.form.valid),o(),h(" ",g(2,2,"ACTION.SAVE")," ")}}function ey(n,s){if(n&1){let e=I();a(0,"div",35)(1,"button",67),E("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),d(2),_(3,"translate"),r(),a(4,"button",68),d(5),_(6,"translate"),r(),S(7,$h,3,4,"button",69),r()}if(n&2){let e=p(),i=A(10);o(2),h(" ",g(3,4,"ACTION.BACK")," "),o(2),m("disabled",!i.form.valid),o(),h(" ",g(6,6,"ACTION.NEXT")," "),o(2),M(e.formInfo.submitButtonEnabled?7:-1)}}function ty(n,s){if(n&1){let e=I();a(0,"div",23)(1,"label",70),d(2),r(),a(3,"input",71,13),_(5,"translate"),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.source,t)||(l.dataModel.source=t),f(t)}),r(),a(6,"em"),d(7),r()()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.source==null?null:i.fieldsInfo.source.fieldTitle),o(),m("placeholder",P(g(5,7,"TITLE.Content_reference_website_link")))("disabled",P(!(i.fieldsInfo.source!=null&&i.fieldsInfo.source.accessEditField))),b("ngModel",i.dataModel.source),o(4),h("",e.value.length," / 500")}}function iy(n,s){if(n&1){let e=I();a(0,"mat-chip",72),E("removed",function(){let t=u(e).$implicit,l=p();return f(l.removeTag(t))}),d(1),a(2,"button",73)(3,"mat-icon"),d(4,"cancel"),r()()()}if(n&2){let e=s.$implicit;o(),h(" ",e," ")}}function ny(n,s){if(n&1&&(a(0,"div",35)(1,"button",74),d(2),_(3,"translate"),r(),a(4,"button",68),d(5),_(6,"translate"),r()()),n&2){p();let e=A(10);o(2),h(" ",g(3,3,"ACTION.BEFOR")," "),o(2),m("disabled",!e.form.valid),o(),h(" ",g(6,5,"ACTION.NEXT")," ")}}function oy(n,s){if(n&1&&(y(0,"img",43),_(1,"cmsthumbnail")),n&2){let e=p();m("src",P(g(1,2,e.dataModel.linkMainImageIdSrc)),H)}}function ay(n,s){n&1&&(a(0,"p"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.List_of_attached_photos")," "))}function ry(n,s){if(n&1&&(a(0,"audio",49),y(1,"source",75),_(2,"cmsthumbnail"),d(3," Your browser does not support the audio tag. "),r()),n&2){let e=p();o(),m("src",P(g(2,2,e.dataModel.linkFilePodcastIdSrc)),H)}}function ly(n,s){if(n&1&&(a(0,"video",49),y(1,"source",76),d(2," Your browser does not support the video tag. "),r()),n&2){let e=p();o(),m("src",P(e.dataModel.linkFileMovieIdSrc),H)}}function sy(n,s){if(n&1&&(a(0,"div",35)(1,"button",74),d(2),_(3,"translate"),r(),a(4,"button",68),d(5),_(6,"translate"),r()()),n&2){p();let e=A(10);o(2),h(" ",g(3,3,"ACTION.BEFOR")," "),o(2),m("disabled",!e.form.valid),o(),h(" ",g(6,5,"ACTION.NEXT")," ")}}function dy(n,s){if(n&1&&(a(0,"button",69),d(1),_(2,"translate"),r()),n&2){p(2);let e=A(10);m("disabled",!e.form.valid),o(),h(" ",g(2,2,"ACTION.SAVE")," ")}}function cy(n,s){if(n&1){let e=I();a(0,"div",35)(1,"button",67),E("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),d(2),_(3,"translate"),r(),a(4,"button",74),d(5),_(6,"translate"),r(),S(7,dy,3,4,"button",69),r()}if(n&2){let e=p();o(2),h(" ",g(3,3,"ACTION.BACK")," "),o(3),h(" ",g(6,5,"ACTION.BEFOR")," "),o(2),M(e.formInfo.submitButtonEnabled?7:-1)}}function py(n,s){n&1&&(a(0,"mat-icon"),d(1,"call_end"),r())}function my(n,s){n&1&&(a(0,"mat-icon"),d(1,"call_end"),r())}function uy(n,s){n&1&&(a(0,"mat-icon"),d(1,"forum"),r())}function fy(n,s){n&1&&(a(0,"mat-icon"),d(1,"forum"),r())}var ar=class ar extends Tt{constructor(e,i,t,l,C,c,L){super(t,new Ti,i,L);this.activatedRoute=e;this.publicHelper=i;this.contentService=t;this.cmsToastrService=l;this.router=C;this.cdr=c;this.translate=L;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModel=new Ti;this.dataModelResult=new ht;this.dataContentCategoryModel=[];this.dataFileModelImgaes=new Map;this.dataFileModelFiles=new Map;this.similarDataModel=new Array;this.contentSimilarSelected=new Ti;this.otherInfoTabledisplayedColumns=["id","title","TypeId","Action"];this.similarTabledisplayedColumns=["linkMainImageIdSrc","id","recordStatus","title","Action"];this.similarTabledataSource=new Ht;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypePodcast=["mp3"];this.selectFileTypeMovie=["mp4","webm"];this.formInfo=new ie;this.fileManagerOpenForm=!1;this.fileManagerOpenFormPodcast=!1;this.fileManagerOpenFormMovie=!1;this.keywordDataModel=[];this.appLanguage="fa";this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Ci;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.requestId=this.activatedRoute.snapshot.paramMap.get("id")}ngOnInit(){if(this.requestId?.length===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.DataGetOne()}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionFileSelectedLinkFilePodcastId(e){this.dataModel.linkFilePodcastId=e.id,this.dataModel.linkFilePodcastIdSrc=e.downloadLinksrc}onActionFileSelectedLinkFileMovieId(e){this.dataModel.linkFileMovieId=e.id,this.dataModel.linkFileMovieIdSrc=e.downloadLinksrc}onFormSubmit(){if(this.requestId?.length<=0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}if(this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let e=[];this.keywordDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.keyword=e.join(","))}this.DataEditContent()}DataGetOne(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contentService.setAccessLoad(),this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetOneById(this.requestId).subscribe({next:i=>{if(this.dataAccessModel=i.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.publicHelper.processService.processStop(e),this.dataModelResult=i,this.formInfo.submitButtonEnabled=!0,i.isSuccess){this.dataModel=i.item;let t=this.dataModel.geolocationlatitude,l=this.dataModel.geolocationlongitude;t>0&&l>0&&(this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:t,lon:l}),this.receiveMap()),this.dataModel.keyword=this.dataModel.keyword+"",this.keywordDataModel=this.dataModel.keyword.split(","),this.dataModel.linkFileIds&&this.dataModel.linkFileIds.length>0&&this.dataModel.linkFileIds.split(",").forEach((C,c)=>{let L="";this.dataModel.linkFileIdsSrc.length>=this.dataModel.linkFileIdsSrc.length&&(L=this.dataModel.linkFileIdsSrc[c]),this.dataFileModelFiles.set(+C,L)}),this.dataModel.linkExtraImageIdsSrc&&this.dataModel.linkExtraImageIdsSrc.length>0&&this.dataModel.linkExtraImageIds.split(",").forEach((C,c)=>{let L="";this.dataModel.linkExtraImageIdsSrc.length>=this.dataModel.linkExtraImageIdsSrc.length&&(L=this.dataModel.linkExtraImageIdsSrc[c]),this.dataFileModelImgaes.set(+C,L)})}else this.cmsToastrService.typeErrorGetOne(i.errorMessage);this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetOne(i),this.publicHelper.processService.processStop(e,!1)}})}DataSimilarGetAll(e){if(!e||e.length===0)return;this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_other_information_from_the_server").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_other_information_from_the_server").subscribe(l=>{this.publicHelper.processService.processStart(i,l,this.constructorInfoAreaId)});let t=new Fo;e.forEach(l=>{if(l>0){let C=new Z;C.propertyName="id",C.value=l,C.clauseType=Ct.Or,t.filters.push(C)}}),this.contentService.ServiceGetAll(t).subscribe({next:l=>{this.formInfo.submitButtonEnabled=!0,l.isSuccess?(this.similarDataModel=l.listItems,this.similarTabledataSource.data=l.listItems):this.cmsToastrService.typeErrorGetAll(l.errorMessage),this.publicHelper.processService.processStop(i)},error:l=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetAll(l),this.publicHelper.processService.processStop(i)}})}DataEditContent(){if(this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="",this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}if(this.dataFileModelImgaes){let i=Array.from(this.dataFileModelImgaes.keys());i&&i.length>0&&(this.dataModel.linkExtraImageIds=i.join(","))}let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contentService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/estate/property-company"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorEdit(i),this.publicHelper.processService.processStop(e)}})}onActionTagChange(e){this.tagIdsData=e}onActionContentSimilarSelect(e){!e||e.id.length<=0||(this.contentSimilarSelected=e)}onActionContentSimilarAddToLIst(){if(!(!this.contentSimilarSelected||this.contentSimilarSelected.id.length<=0)){if(this.similarDataModel.find(e=>e.id===this.contentSimilarSelected.id)){this.cmsToastrService.typeErrorAddDuplicate();return}this.similarDataModel.push(this.contentSimilarSelected),this.similarTabledataSource.data=this.similarDataModel}}onActionContentSimilarRemoveFromLIst(e){if(!e||e.id.length<=0||!this.similarDataModel||this.similarDataModel.length===0)return;let i=new Array;this.similarDataModel.forEach(t=>{t.id!==e.id&&i.push(t)}),this.similarDataModel=i,this.similarTabledataSource.data=this.similarDataModel}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/estate/property-company/"])}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(i=>{this.mapMarker=Ts.marker([i.lat,i.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",i=>{let t=i.latlng.lat,l=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&l===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=Ts.marker([t,l]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=l}))}receiveZoom(e){}onActionSelectorLocation(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=e.id}onActionSelectorLocationWorkArea(e){this.dataModel.linkLocationIds=e}addTag(e){let i=(e.value||"").trim();i&&this.keywordDataModel.push(i),e.chipInput.clear()}removeTag(e){let i=this.keywordDataModel.indexOf(e);i>=0&&this.keywordDataModel.splice(i,1)}};ar.\u0275fac=function(i){return new(i||ar)(v(Gt),v(G),v(Ai),v(O),v(ke),v(N),v(B))},ar.\u0275cmp=V({type:ar,selectors:[["app-estate-property-company-edit"]],viewQuery:function(i,t){if(i&1&&Q(Gh,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[Y],decls:134,vars:158,consts:[["vform","ngForm"],["stepper",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["chipList",""],["tagInput",""],["LinkMainImageId",""],["LinkFilePodcastId",""],["LinkFileMovieId",""],["Title",""],["Description",""],["DescriptionHidden",""],["Source",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.mobileNumber","type","text","minlength","0","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","required","","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"pb-5"],["id","main","name","dataModel.body",3,"ngModelChange","placeholder","config","ngModel"],[1,"ntk-button-row"],["state","seo",3,"label"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView","optionFileType"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["controls",""],["matInput","","type","text","name","dataModel.linkFilePodcastId","id","dataModel.linkFilePodcastId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],["matInput","","type","text","name","dataModel.linkFileMovieId","id","dataModel.linkFileMovieId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"dataModelChange","dataModel"],[3,"dataModelChange","dataModel","dataImageModel"],["state","loaction",3,"label"],["id","main-map",3,"map$","zoom$","optonCenter"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],["for","dataModel.source",1,"color-highlight"],["matInput","","type","text","name","dataModel.source","type","text","dir","ltr","minlength","3","maxlength","500","id","dataModel.source",1,"form-control","validate-name","input-ltr",2,"text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["type","audio/mp3",3,"src"],["type","video/mp4",3,"src"]],template:function(i,t){if(i&1){let l=I();a(0,"div",14),y(1,"app-progress-spinner",15),a(2,"div",16)(3,"p",17),d(4),r(),a(5,"p"),d(6),_(7,"translate"),r(),y(8,"app-cms-form-result-message",18),a(9,"form",19,0),E("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(11,"mat-vertical-stepper",20,1),E("selectionChange",function(c){u(l);let L=A(12);return f(t.onStepClick(c,L))}),a(13,"mat-step",21),_(14,"translate"),S(15,Wh,1,5,"app-cms-enum-record-status-selector",22),S(16,Hh,1,5,"app-cms-enum-record-admin-status-selector",22),S(17,Qh,10,10,"div",23),S(18,Kh,8,8,"div",23),S(19,Zh,8,9,"div",23),a(20,"app-cms-location-selector",24),_(21,"translate"),E("optionChange",function(c){return u(l),f(t.onActionSelectorLocation(c))}),r(),d(22),_(23,"translate"),a(24,"app-cms-location-autocomplete",24),_(25,"translate"),E("optionChange",function(c){return u(l),f(t.onActionSelectorLocationWorkArea(c))}),r(),a(26,"div",23)(27,"label",25),d(28),r(),a(29,"input",26,2),w("ngModelChange",function(c){return u(l),T(t.dataModel.phoneNumber,c)||(t.dataModel.phoneNumber=c),f(c)}),r(),a(31,"em"),d(32),r()(),a(33,"div",23)(34,"label",27),d(35),r(),a(36,"input",28,3),w("ngModelChange",function(c){return u(l),T(t.dataModel.mobileNumber,c)||(t.dataModel.mobileNumber=c),f(c)}),r(),a(38,"em"),d(39),r()(),a(40,"div",23)(41,"label",29),d(42),r(),a(43,"textarea",30,4),w("ngModelChange",function(c){return u(l),T(t.dataModel.address,c)||(t.dataModel.address=c),f(c)}),r(),a(45,"em"),d(46),r(),S(47,Yh,1,0,"i",31),S(48,Jh,1,0,"i",32),S(49,Xh,5,3,"mat-error"),r(),y(50,"hr",33),a(51,"label"),d(52),r(),a(53,"angular-editor",34),_(54,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.body,c)||(t.dataModel.body=c),f(c)}),r(),S(55,ey,8,8,"div",35),r(),a(56,"mat-step",36),_(57,"translate"),a(58,"p"),d(59),_(60,"translate"),r(),S(61,ty,8,9,"div",23),a(62,"mat-form-field",37)(63,"mat-label"),d(64),_(65,"translate"),r(),a(66,"mat-chip-grid",38,5),me(68,iy,5,1,"mat-chip",null,pe),a(70,"input",39,6),_(72,"translate"),E("matChipInputTokenEnd",function(c){return u(l),f(t.addTag(c))}),r()()(),S(73,ny,7,7,"div",35),r(),a(74,"mat-step",40),_(75,"translate"),a(76,"p"),d(77),_(78,"translate"),r(),a(79,"div",41)(80,"a",42),_(81,"cmsthumbnail"),S(82,oy,2,4,"img",43),r()(),a(83,"div",23)(84,"label",44),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),d(85),_(86,"translate"),r(),a(87,"input",45,7),_(89,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),r(),a(90,"cms-file-manager",46),E("itemSelected",function(c){return u(l),f(t.onActionFileSelectedLinkMainImageId(c))}),w("openFormChange",function(c){return u(l),T(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),f(c)}),r()(),S(91,ay,3,3,"p"),a(92,"app-cms-files-selector",47),w("dataFileModelChange",function(c){return u(l),T(t.dataFileModelImgaes,c)||(t.dataFileModelImgaes=c),f(c)}),r(),y(93,"br"),a(94,"div")(95,"p"),d(96),_(97,"translate"),r(),a(98,"app-cms-files-selector",48),w("dataFileModelChange",function(c){return u(l),T(t.dataFileModelFiles,c)||(t.dataFileModelFiles=c),f(c)}),r()(),a(99,"div",41),S(100,ry,4,4,"audio",49),r(),a(101,"div",23)(102,"input",50,8),_(104,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.linkFilePodcastId,c)||(t.dataModel.linkFilePodcastId=c),f(c)}),E("click",function(){return u(l),f(t.fileManagerOpenFormPodcast=!0)}),r(),a(105,"cms-file-manager",46),E("itemSelected",function(c){return u(l),f(t.onActionFileSelectedLinkFilePodcastId(c))}),w("openFormChange",function(c){return u(l),T(t.fileManagerOpenFormPodcast,c)||(t.fileManagerOpenFormPodcast=c),f(c)}),r()(),a(106,"div",41),S(107,ly,3,2,"video",49),r(),a(108,"div",23)(109,"input",51,9),_(111,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.linkFileMovieId,c)||(t.dataModel.linkFileMovieId=c),f(c)}),E("click",function(){return u(l),f(t.fileManagerOpenFormMovie=!0)}),r(),a(112,"cms-file-manager",46),E("itemSelected",function(c){return u(l),f(t.onActionFileSelectedLinkFileMovieId(c))}),w("openFormChange",function(c){return u(l),T(t.fileManagerOpenFormMovie,c)||(t.fileManagerOpenFormMovie=c),f(c)}),r()(),a(113,"h3"),d(114),_(115,"translate"),r(),a(116,"app-cms-360-image-list",52),w("dataModelChange",function(c){return u(l),T(t.dataModel.file360Views,c)||(t.dataModel.file360Views=c),f(c)}),r(),y(117,"br"),a(118,"h3"),d(119),_(120,"translate"),r(),a(121,"app-cms-360-tour-list",53),w("dataModelChange",function(c){return u(l),T(t.dataModel.file360Tour,c)||(t.dataModel.file360Tour=c),f(c)}),r(),S(122,sy,7,7,"div",35),r(),a(123,"mat-step",54),_(124,"translate"),a(125,"p"),d(126),_(127,"translate"),r(),a(128,"app-cms-map",55),E("map$",function(c){return u(l),f(t.receiveMap(c))})("zoom$",function(c){return u(l),f(t.receiveZoom(c))}),r(),S(129,cy,8,7,"div",35),r(),R(130,py,2,0,"ng-template",56)(131,my,2,0,"ng-template",57)(132,uy,2,0,"ng-template",58)(133,fy,2,0,"ng-template",59),r()()()()}if(i&2){let l=A(30),C=A(37),c=A(44),L=A(67);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",g(7,114,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(5),m("label",P(g(14,116,"TITLE.REQUIRED_INFORMATION"))),o(2),M(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?15:-1),o(),M(t.fieldsInfo.mainAdminRecordStatus!=null&&t.fieldsInfo.mainAdminRecordStatus.accessWatchField?16:-1),o(),M(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?17:-1),o(),M(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?18:-1),o(),M(t.fieldsInfo.descriptionHidden!=null&&t.fieldsInfo.descriptionHidden.accessWatchField?19:-1),o(),m("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessEditField))("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",g(21,118,"TITLE.Region")),o(2),h(" ",g(23,120,"TITLE.Geographical_Areas")," : "),o(2),m("optionDisabled",!(t.fieldsInfo.linkLocationIds!=null&&t.fieldsInfo.linkLocationIds.accessEditField))("optionSelectForce",t.dataModel.linkLocationIds)("optionPlaceholder",g(25,122,"TITLE.Region")),o(4),x(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle)),b("ngModel",t.dataModel.phoneNumber),m("disabled",!(t.fieldsInfo.phoneNumber!=null&&t.fieldsInfo.phoneNumber.accessEditField)),o(3),h("",l.value.length," / 64"),o(3),x(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle)),b("ngModel",t.dataModel.mobileNumber),m("disabled",!(t.fieldsInfo.mobileNumber!=null&&t.fieldsInfo.mobileNumber.accessEditField)),o(3),h("",C.value.length," / 64"),o(3),x(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle)),b("ngModel",t.dataModel.address),m("disabled",!(t.fieldsInfo.address!=null&&t.fieldsInfo.address.accessEditField)),o(3),h("",c.value.length," / 500"),o(),M(c.value?-1:47),o(),M(c.value?48:-1),o(),M(c.errors!=null&&c.errors.required?49:-1),o(3),h(" ",t.fieldsInfo.body==null?null:t.fieldsInfo.body.fieldTitle," "),o(),m("placeholder",g(54,124,"TITLE.Enter_Text"))("config",t.publicHelper.editorConfig),b("ngModel",t.dataModel.body),o(2),M(t.publicHelper.processService.process.inRunAll?-1:55),o(),m("label",P(g(57,126,"TITLE.Search_Engines"))),o(3),h(" ",g(60,128,"TITLE.This_section_helps_search_engines_better_index_content")," "),o(2),M(t.fieldsInfo.source!=null&&t.fieldsInfo.source.accessWatchField?61:-1),o(3),x(g(65,130,"TITLE.Choose_keywords_relative_to_the_content")),o(4),ue(t.keywordDataModel),o(2),m("placeholder",g(72,132,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",L)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(3),M(t.formInfo.submitButtonEnabled?73:-1),o(),m("label",P(g(75,134,"TITLE.ATTACH_FILES"))),o(3),x(g(78,136,"TITLE.CONTENT_ATTACH_FILES")),o(3),m("href",P(g(81,138,t.dataModel.linkMainImageIdSrc)),H),o(2),M((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?82:-1),o(3),x(g(86,140,"TITLE.Original_Photo")),o(2),m("placeholder",P(g(89,142,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),m("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),m("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),M(t.dataFileModelImgaes&&t.dataFileModelImgaes.size>0?91:-1),o(),b("dataFileModel",t.dataFileModelImgaes),m("openDirectUploadView",!0)("optionFileType",t.selectFileTypeMainImage),o(4),x(g(97,144,"TITLE.List_of_attached_files")),o(2),b("dataFileModel",t.dataFileModelFiles),m("openDirectUploadView",!0),o(2),M((t.dataModel==null||t.dataModel.linkFilePodcastIdSrc==null?null:t.dataModel.linkFilePodcastIdSrc.length)>0?100:-1),o(2),m("placeholder",P(g(104,146,"TITLE.Audio_File_ID"))),b("ngModel",t.dataModel.linkFilePodcastId),o(3),m("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenFormPodcast),m("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypePodcast)("openFilemanagerButtonView",!1),o(2),M((t.dataModel==null||t.dataModel.linkFileMovieIdSrc==null?null:t.dataModel.linkFileMovieIdSrc.length)>0?107:-1),o(2),m("placeholder",P(g(111,148,"TITLE.Video_File_ID"))),b("ngModel",t.dataModel.linkFileMovieId),o(3),m("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenFormMovie),m("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMovie)("openFilemanagerButtonView",!1),o(2),x(g(115,150,"TITLE.image_360")),o(2),b("dataModel",t.dataModel.file360Views),o(3),x(g(120,152,"TITLE.virtual_tour")),o(2),b("dataModel",t.dataModel.file360Tour),m("dataImageModel",t.dataModel.file360Views),o(),M(t.formInfo.submitButtonEnabled?122:-1),o(),m("label",Pe("",g(124,154,"TITLE.Location")," ")),o(3),h(" ",g(127,156,"TITLE.Click_on_the_map_to_specify_the_location")," "),o(2),m("optonCenter",t.mapOptonCenter),o(),M(t.publicHelper.processService.process.inRunAll?-1:129)}},dependencies:[Re,X,$,Te,le,Ee,ge,_e,Ae,Yt,$t,ei,ti,Xt,ri,ai,De,we,ee,ui,fi,_i,gi,mi,hi,Ei,Si,Li,vi,Ii,zt,U,se,Mi,yi,cn,qe,W,he],encapsulation:2});var rr=ar;var _y=["vform"];function gy(n,s){if(n&1){let e=I();a(0,"div",7)(1,"label",8),d(2),r(),a(3,"input",9,0),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModelResultContent.item.title,t)||(l.dataModelResultContent.item.title=t),f(t)}),r()(),a(5,"div",7)(6,"label",10),d(7),r(),a(8,"textarea",11,1),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModelResultContent.item.description,t)||(l.dataModelResultContent.item.description=t),f(t)}),d(10,"              "),r()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),b("ngModel",e.dataModelResultContent.item.title),o(4),x(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),b("ngModel",e.dataModelResultContent.item.description)}}function Cy(n,s){if(n&1){let e=I();a(0,"div",6)(1,"button",12),E("click",function(){u(e);let t=p();return f(t.onFormDelete())}),y(2,"i",13),d(3),_(4,"translate"),r(),a(5,"button",14),E("click",function(){u(e);let t=p();return f(t.onFormCancel())}),y(6,"i",15),d(7),_(8,"translate"),r()()}if(n&2){let e=p();o(),m("disabled",!e.formInfo.submitButtonEnabled),o(2),h(" ",g(4,3,"ACTION.DELETE")," "),o(4),h(" ",g(8,5,"ACTION.CANCEL")," ")}}var lr=class lr{constructor(s,e,i,t,l,C,c){this.data=s;this.dialogRef=e;this.publicHelper=i;this.contentService=t;this.cdr=l;this.cmsToastrService=C;this.translate=c;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new j;this.formInfo=new ie;this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=s.id)}ngOnInit(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let s=this.constructor.name+"fieldInfoConvertor";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.contentService.setAccessLoad(),this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onFormDelete(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};lr.\u0275fac=function(e){return new(e||lr)(v(Ve),v(Le),v(G),v(Ai),v(N),v(O),v(B))},lr.\u0275cmp=V({type:lr,selectors:[["app-estate-property-company-delete"]],viewQuery:function(e,i){if(e&1&&Q(_y,5),e&2){let t;z(t=K())&&(i.formGroup=t.first)}},standalone:!1,decls:10,vars:7,consts:[["Writer",""],["Content",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"form-actions"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.title",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.title","type","text","required","","readonly","","id","dataModelResultContent.item.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModelResultContent.item.description",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.description","type","text","minlength","1","maxlength","100","readonly","","required","","rows","5","id","dataModelResultContent.item.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(a(0,"div",2),y(1,"app-progress-spinner",3),a(2,"div",4)(3,"p",5),d(4),r(),a(5,"p"),d(6),_(7,"translate"),r(),S(8,gy,11,8),S(9,Cy,9,7,"div",6),r()()),e&2&&(o(),m("optionsInfoAreaId",i.constructorInfoAreaId),o(3),h(" ",i.formInfo.formTitle," "),o(2),h(" ",g(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),M(i.dataModelResultContent!=null&&i.dataModelResultContent.item?8:-1),o(),M(i.formInfo.submitButtonEnabled?9:-1))},dependencies:[X,$,le,Ee,ge,_e,ee,U,W],encapsulation:2});var is=lr;var hy=()=>["expandedTitle"],yy=()=>["expandedDetail"],Sy=()=>[5,10,20,100],pc=n=>({display:n});function My(n,s){if(n&1){let e=I();a(0,"div",18)(1,"a",50),E("click",function(t){u(e);let l=p();return f(l.onActionButtonNewRow(t))}),y(2,"i",51)(3,"br"),r(),a(4,"p",21),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.ADD")," "))}function Ey(n,s){if(n&1){let e=I();a(0,"div",18)(1,"a",52),E("click",function(){u(e);let t=p();return f(t.onActionButtonWithHierarchy())}),y(2,"i",53)(3,"br"),r(),a(4,"p",21),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.BATCHVIEW")," "))}function vy(n,s){if(n&1){let e=I();a(0,"div",18)(1,"a",54),E("click",function(t){u(e);let l=p();return f(l.onActionButtonEditRow(l.tableRowSelected,t))}),y(2,"i",55)(3,"br"),r(),a(4,"p",21),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.EDIT")," "))}function Iy(n,s){if(n&1){let e=I();a(0,"div",18)(1,"a",56),E("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),y(2,"i",57)(3,"br"),r(),a(4,"p",21),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.DELETE")," "))}function by(n,s){n&1&&(a(0,"mat-header-cell"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.MENU")," "))}function Ty(n,s){if(n&1){let e=I();a(0,"mat-cell")(1,"button",58),E("click",function(){let t=u(e).$implicit,l=p();return f(l.onActionTableRowSelectActionMenu(t))}),y(2,"i",59),r()()}}function wy(n,s){n&1&&(a(0,"mat-header-cell",60),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.PICTURE")," "))}function xy(n,s){if(n&1&&(y(0,"img",61),_(1,"cmsthumbnail")),n&2){let e=p().$implicit;m("src",P(g(1,2,e.linkMainImageIdSrc)),H)}}function Py(n,s){if(n&1&&(a(0,"mat-cell"),S(1,xy,2,4,"img",61),r()),n&2){let e=s.$implicit;o(),M((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function Ay(n,s){if(n&1&&(a(0,"mat-header-cell",60),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Ry(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.id," ")}}function Dy(n,s){if(n&1&&(a(0,"mat-header-cell",60),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function ky(n,s){if(n&1&&(a(0,"mat-cell"),d(1),_(2,"cmssiteinfo"),_(3,"async"),r()),n&2){let e=s.$implicit;o(),h(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function Ly(n,s){if(n&1&&(a(0,"mat-header-cell",60),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Vy(n,s){if(n&1&&y(0,"select",63),n&2){let e=p().$implicit,i=p();m("contentService",i.contentService)("row",e)("ngStyle",Nt(3,pc,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Fy(n,s){if(n&1&&(a(0,"mat-cell"),y(1,"i",62),_(2,"statusIconClass"),S(3,Vy,1,5,"select",63),r()),n&2){let e=s.$implicit,i=p();o(),m("ngClass",g(2,2,e.recordStatus)),o(2),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?3:-1)}}function By(n,s){if(n&1&&(a(0,"mat-header-cell",60),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle," ")}}function Oy(n,s){if(n&1&&(a(0,"mat-cell"),y(1,"i",62),_(2,"adminStatusIconClass"),r()),n&2){let e=s.$implicit;o(),m("ngClass",g(2,1,e.mainAdminRecordStatus))}}function Ny(n,s){if(n&1&&(a(0,"mat-header-cell",60),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Gy(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.title," ")}}function Wy(n,s){if(n&1&&(a(0,"mat-header-cell",60),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Hy(n,s){if(n&1&&(a(0,"mat-cell"),d(1),_(2,"localeDate"),r()),n&2){let e=s.$implicit;o(),h(" ",g(2,1,e.createdDate)," ")}}function jy(n,s){n&1&&(a(0,"mat-header-cell"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.OPTION")," "))}function Uy(n,s){if(n&1&&(a(0,"mat-cell",64)(1,"button",65)(2,"mat-icon"),d(3,"more_vert"),r()(),y(4,"mat-menu",null,2),r()),n&2){let e=A(5);o(),m("matMenuTriggerFor",e)}}function qy(n,s){n&1&&(a(0,"mat-header-cell",66),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.LINKTO")," "))}function Qy(n,s){if(n&1){let e=I();a(0,"mat-cell")(1,"button",67),E("click",function(){let t=u(e).$implicit,l=p();return f(l.onActionButtonLinkTo(t))}),a(2,"mat-icon",68),d(3,"\u2197"),r()()()}}function zy(n,s){if(n&1&&(a(0,"mat-cell"),d(1),y(2,"br"),d(3),_(4,"translate"),_(5,"localeDate"),r()),n&2){let e=s.$implicit;o(),h(" ",e.title," "),o(2),We(" ",g(4,3,"TITLE.CreationDate")," : ",g(5,5,e.createdDate)," ")}}function Ky(n,s){if(n&1&&(y(0,"img",69),_(1,"cmsthumbnail")),n&2){let e=p().$implicit;m("src",P(g(1,2,e.linkMainImageIdSrc)),H)}}function Zy(n,s){if(n&1&&(a(0,"tr"),y(1,"td"),a(2,"td"),d(3),_(4,"localeDate"),r()()),n&2){let e=p().$implicit,i=p();o(3),We(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle," : ",g(4,2,e.updatedDate)," ")}}function Yy(n,s){if(n&1){let e=I();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),S(5,Ky,2,4,"img",69),r(),a(6,"th")(7,"span",70),E("click",function(){u(e);let t=p();return f(t.onActionCopied())}),y(8,"i",71),r(),d(9),r()(),S(10,Zy,5,4,"tr"),a(11,"tr"),y(12,"td"),a(13,"td"),d(14),r()(),a(15,"tr"),y(16,"td"),a(17,"td"),d(18),r()(),a(19,"tr"),y(20,"td")(21,"td"),r()()()()}if(n&2){let e=s.$implicit;o(5),M((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),m("cdkCopyToClipboard",e.id),o(2),h(" ",e.id," "),o(),M(e.updatedDate?10:-1),o(4),x(e.title),o(4),x(e.description)}}function Jy(n,s){n&1&&y(0,"mat-header-row")}function Xy(n,s){if(n&1){let e=I();a(0,"mat-row",72),E("click",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=u(e).$implicit,l=p();return f(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,l=p();return f(l.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=s.$implicit,i=p();ne("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function $y(n,s){if(n&1){let e=I();a(0,"mat-row",73),E("click",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=u(e).$implicit,l=p();return f(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,l=p();return f(l.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=s.$implicit,i=p();ne("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function eS(n,s){if(n&1){let e=I();a(0,"mat-row",74),E("click",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=u(e).$implicit,l=p();return f(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,l=p();return f(l.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=s.$implicit,i=p();ne("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),m("ngStyle",Nt(3,pc,e.expanded===!0?"":"none"))}}var sr=class sr extends wt{constructor(e,i,t,l,C,c,L,q,Se,je){super(e,new Ti,Se,l,c);this.contentService=e;this.cmsToastrService=i;this.router=t;this.tokenHelper=l;this.cdr=C;this.translate=c;this.cmsStoreService=L;this.pageInfo=q;this.publicHelper=Se;this.dialog=je;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new oe;this.filterDataModelQueryBuilder=[];this.optionsSearch=new Fd;this.optionsStatist=new Bd;this.tokenInfo=new Wt;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","mainAdminRecordStatus","LinkTo","action_menu"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","id","recordStatus","mainAdminRecordStatus","LinkTo","action_menu"];this.fieldsInfo=new Map;this.unsubscribe=[];this.GetAllWithHierarchyCategoryId=!1;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ke=>this.onSubmitOptionsSearch(Ke)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=J.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Me(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ti);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new Z;t.propertyName="linkEstateCompanyCategoryId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=J.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(e){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}e?.ctrlKey?(this.link="/#/estate/property-company/add/",window.open(this.link,"_blank")):this.router.navigate(["/estate/property-company/add"])}onActionButtonEditRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-company/edit/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-company/edit",this.tableRowSelected.id])}onActionButtonProperty(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property/LinkCompanyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkCompanyId",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(is,{panelClass:i,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;let e=new Map;this.translate.get("MESSAGE.Active").subscribe(C=>{e.set(C,0)}),this.translate.get("MESSAGE.All").subscribe(C=>{e.set(C,0)});let i=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(C=>{this.publicHelper.processService.processStart(i,C,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:C=>{C.isSuccess?(this.translate.get("MESSAGE.All").subscribe(c=>{e.set(c,C.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(e)):this.cmsToastrService.typeErrorMessage(C.errorMessage),this.publicHelper.processService.processStop(i)},error:C=>{this.cmsToastrService.typeError(C),this.publicHelper.processService.processStop(i,!1)}});let t=JSON.parse(JSON.stringify(this.filteModelContent)),l=new Z;l.propertyName="recordStatus",l.value=He.Available,t.filters.push(l),this.contentService.ServiceGetCount(t).subscribe({next:C=>{C.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(c=>{e.set(c,C.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(e)):this.cmsToastrService.typeErrorMessage(C.errorMessage),this.publicHelper.processService.processStop(i)},error:C=>{this.cmsToastrService.typeError(C),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonWithHierarchy(){this.GetAllWithHierarchyCategoryId=!this.GetAllWithHierarchyCategoryId,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new oe,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionButtonLinkTo(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(e.recordStatus!=He.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.onActionTableRowSelect(e);let i=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_state_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetOneById(e.id).subscribe({next:t=>{if(t.isSuccess){var l="";this.publicHelper.isMobile?l="dialog-fullscreen":l="dialog-min",this.dialog.open(ro,{height:"90%",enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,panelClass:l,data:{title:t.item.title,urlViewContentQRCodeBase64:t.item.urlViewContentQRCodeBase64,urlViewContent:t.item.urlViewContent}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(t.errorMessage);this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}};sr.\u0275fac=function(i){return new(i||sr)(v(Ai),v(O),v(ke),v(de),v(N),v(B),v(Ce),v(It),v(G),v(Oe))},sr.\u0275cmp=V({type:sr,selectors:[["app-estate-property-company-list"]],standalone:!1,features:[Y],decls:89,vars:42,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],[1,"fa-solid","fa-apartment","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","mainAdminRecordStatus"],["matColumnDef","title"],["matColumnDef","createdDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-layer-group","font-18",2,"color","#ffffff"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["mat-sort-header","",1,"form-label"],["type","button","mat-icon-button","",1,"text-dark",3,"click"],[2,"color","#ff671f"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let l=I();a(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(c){return u(l),T(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),E("optionOnActionButtonMemoRow",function(){return u(l),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(l),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(l),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(l),f(t.onActionButtonPrintRow())}),Ye(1,4)(2,5)(3,6),D(4,7),a(5,"a",8),E("click",function(){return u(l),f(t.viewGuideNotice=!t.viewGuideNotice)}),y(6,"i",9),r(),a(7,"a",8),E("click",function(){return u(l),f(t.onActionButtonReload())}),y(8,"i",10),r(),a(9,"a",11),E("click",function(){return u(l),f(t.onActionGridExpandRows(!0))}),y(10,"i",12),r(),a(11,"a",11),E("click",function(){return u(l),f(t.onActionGridExpandRows(!1))}),y(12,"i",13),r(),k(),D(13,14),a(14,"a",15),E("click",function(){return u(l),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),y(15,"mat-slide-toggle",16),d(16),_(17,"translate"),r(),a(18,"a",15),E("click",function(){return u(l),f(t.onActionButtonStatist())}),y(19,"mat-slide-toggle",16),d(20),_(21,"translate"),r(),k(),D(22,17),S(23,My,7,3,"div",18),S(24,Ey,7,3,"div",18),k(),D(25,19),S(26,vy,7,3,"div",18),S(27,Iy,7,3,"div",18),a(28,"div",18)(29,"a",15),E("click",function(c){return u(l),f(t.onActionButtonProperty(t.tableRowSelected,c))}),y(30,"i",20)(31,"br"),r(),a(32,"p",21),d(33),_(34,"translate"),r()(),a(35,"div",18)(36,"a",8),E("click",function(){return u(l),f(t.onActionButtonLinkTo(t.tableRowSelected))}),y(37,"i",22)(38,"br"),r(),a(39,"p",21),d(40),_(41,"translate"),r()(),k(),D(42,23),a(43,"app-cms-search-list",24),w("optionsChange",function(c){return u(l),T(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),r(),a(44,"app-cms-statist-list",24),w("optionsChange",function(c){return u(l),T(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),r(),k(),D(45,25),a(46,"mat-table",26,0),E("matSortChange",function(){u(l);let c=A(47);return f(t.onTableSortData(c))}),D(48,27),R(49,by,3,3,"mat-header-cell",28)(50,Ty,3,0,"mat-cell",29),k(),D(51,30),R(52,wy,3,3,"mat-header-cell",31)(53,Py,2,1,"mat-cell",29),k(),D(54,32),R(55,Ay,2,1,"mat-header-cell",31)(56,Ry,2,1,"mat-cell",29),k(),D(57,33),R(58,Dy,2,1,"mat-header-cell",31)(59,ky,4,5,"mat-cell",29),k(),D(60,34),R(61,Ly,2,1,"mat-header-cell",31)(62,Fy,4,4,"mat-cell",29),k(),D(63,35),R(64,By,2,1,"mat-header-cell",31)(65,Oy,3,3,"mat-cell",29),k(),D(66,36),R(67,Ny,2,1,"mat-header-cell",31)(68,Gy,2,1,"mat-cell",29),k(),D(69,37),R(70,Wy,2,1,"mat-header-cell",31)(71,Hy,3,3,"mat-cell",29),k(),D(72,38),R(73,jy,3,3,"mat-header-cell",28)(74,Uy,6,1,"mat-cell",39),k(),D(75,40),R(76,qy,3,3,"mat-header-cell",41)(77,Qy,4,0,"mat-cell",29),k(),D(78,42),R(79,zy,6,7,"mat-cell",29),k(),D(80,43),R(81,Yy,22,6,"mat-cell",29),k(),R(82,Jy,1,0,"mat-header-row",44)(83,Xy,1,2,"mat-row",45)(84,$y,1,2,"mat-row",46)(85,eS,1,5,"mat-row",47),r(),k(),D(86,48),a(87,"mat-paginator",49,1),E("page",function(c){return u(l),f(t.onTablePageingData(c))}),r(),k(),r()}i&2&&(m("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","estate.propertycompany.list"),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),m("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(8),ne("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),m("checked",t.optionsSearch.data.show),o(),h("",g(17,31,"ACTION.SEARCH")," "),o(3),m("checked",t.optionsStatist.data.show),o(),h("",g(21,33,"ACTION.STATIST")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?23:-1),o(),M((t.tableRowSelected==null?null:t.tableRowSelected.id)>0?24:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?26:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?27:-1),o(6),h(" ",g(34,35,"ACTION.PROPERTY")," "),o(7),h(" ",g(41,37,"TITLE.LINKTO")," "),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),m("dataSource",t.tableSource),o(36),m("matHeaderRowDef",t.tabledisplayedColumns),o(),m("matRowDefColumns",fe(39,hy)),o(),m("matRowDefColumns",t.tabledisplayedColumns),o(),m("matRowDefColumns",fe(40,yy)),o(2),m("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",fe(41,Sy)))},dependencies:[re,oi,Ue,we,ee,yt,St,Mt,ft,Et,vt,$e,tt,at,it,et,rt,nt,ot,lt,st,Tn,xt,Pt,At,Rt,oo,pt,W,ao,he,ia,ki,ua],encapsulation:2});var So=sr;var tS=["vform"],iS=()=>["fa"];function nS(n,s){n&1&&y(0,"i",16)}function oS(n,s){n&1&&y(0,"i",17)}function aS(n,s){n&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function rS(n,s){if(n&1){let e=I();a(0,"div",13)(1,"label",23),d(2),r(),a(3,"input",24,3),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.iconFont,t)||(l.dataModel.iconFont=t),f(t)}),E("iconPickerSelect",function(t){u(e);let l=p();return f(l.onIconPickerSelect(t))}),r(),a(5,"span",25),y(6,"i",26),r()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),m("iconPicker",e.dataModel.iconFont)("ipIconPack",fe(9,iS))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),o(3),m("ngClass",e.dataModel.iconFont)}}function lS(n,s){if(n&1){let e=I();a(0,"div",19)(1,"label",27),d(2),r(),a(3,"div",28)(4,"div",29)(5,"input",30,4),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.iconColor,t)||(l.dataModel.iconColor=t),f(t)}),r()(),a(7,"div",31),y(8,"ngx-mat-color-toggle",32)(9,"ngx-mat-color-picker",33,5),r()()()}if(n&2){let e=A(10),i=p();o(2),x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ae("background",i.dataModel.iconColor),m("placeholder",P(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),m("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),m("for",e),o(),m("touchUi",!0)("color","primary")}}function sS(n,s){if(n&1){let e=I();a(0,"div",13)(1,"label",34),d(2),r(),a(3,"input",35,6),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.showInFormOrder,t)||(l.dataModel.showInFormOrder=t),f(t)}),r()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle)),b("ngModel",e.dataModel.showInFormOrder)}}function dS(n,s){n&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function cS(n,s){if(n&1){let e=I();a(0,"div",22)(1,"button",36),E("click",function(){u(e);let t=p();return f(t.onFormCancel())}),y(2,"i",37),d(3),_(4,"translate"),r(),a(5,"button",38),y(6,"i",39),d(7),_(8,"translate"),r()()}if(n&2){p();let e=A(10);o(3),h(" ",g(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),h(" ",g(8,5,"ACTION.SAVE")," ")}}var dr=class dr extends _t{constructor(e,i,t,l,C,c,L,q){super(l,new wi,c,q);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyDetailGroupService=l;this.cmsToastrService=C;this.publicHelper=c;this.cdr=L;this.translate=q;this.requestLinkPropertyTypeLanduseId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new j;this.dataModel=new wi;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&(this.requestLinkPropertyTypeLanduseId=e.linkPropertyTypeLanduseId),this.requestLinkPropertyTypeLanduseId.length>0&&(this.dataModel.linkPropertyTypeLanduseId=this.requestLinkPropertyTypeLanduseId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeLanduseId=e.id}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};dr.\u0275fac=function(i){return new(i||dr)(v(Ve),v(Le),v(te),v(Zt),v(O),v(G),v(N),v(B))},dr.\u0275cmp=V({type:dr,selectors:[["app-estate-property-detail-group-add"]],viewQuery:function(i,t){if(i&1&&Q(tS,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[Y],decls:36,vars:28,consts:[["vform","ngForm"],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],["ShowInFormOrder",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.showInFormOrder",1,"color-highlight"],["type","number","name","dataModel.showInFormOrder","id","dataModel.showInFormOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=I();a(0,"div",7),y(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),d(4),r(),a(5,"p"),d(6),_(7,"translate"),r(),y(8,"app-cms-form-result-message",11),a(9,"form",12,0),E("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(11,"div",13)(12,"label",14),d(13),r(),a(14,"input",15,1),w("ngModelChange",function(c){return u(l),T(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),r(),S(16,nS,1,0,"i",16),S(17,oS,1,0,"i",17),a(18,"em"),d(19),r(),S(20,aS,5,3,"mat-error"),r(),a(21,"app-estate-property-type-landuse-selector",18),_(22,"translate"),E("optionChange",function(c){return u(l),f(t.onActionSelectorSelect(c))}),r(),S(23,rS,7,10,"div",13),S(24,lS,11,11,"div",19),S(25,sS,5,4,"div",13),a(26,"div",13)(27,"label",20),d(28),r(),a(29,"textarea",21,2),w("ngModelChange",function(c){return u(l),T(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),d(31,"                "),r(),a(32,"em"),d(33),r(),S(34,dS,5,3,"mat-error"),r(),S(35,cS,9,7,"div",22),r()()()}if(i&2){let l=A(15),C=A(30);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",g(7,24,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(5),x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),M(l.value?-1:16),o(),M(l.value?17:-1),o(2),h("",l.value.length," / 100"),o(),M(l.errors!=null&&l.errors.required?20:-1),o(),m("optionSelectForce",t.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",g(22,26,"TITLE.Category")),o(2),M(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessWatchField?23:-1),o(),M(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessWatchField?24:-1),o(),M(t.fieldsInfo.showInFormOrder!=null&&t.fieldsInfo.showInFormOrder.accessWatchField?25:-1),o(3),x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),h("",C.value.length," / 500"),o(),M(C.errors!=null&&C.errors.required?34:-1),o(),M(t.formInfo.submitButtonEnabled?35:-1)}},dependencies:[re,Re,X,Ft,$,Te,le,Ee,ge,_e,Ae,De,Ze,ee,U,se,Bt,Zi,Kt,Qt,qt,Ut,W],encapsulation:2});var cr=dr;var pS=["vform"],mS=()=>["fa"];function uS(n,s){n&1&&y(0,"i",16)}function fS(n,s){n&1&&y(0,"i",17)}function _S(n,s){n&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function gS(n,s){if(n&1){let e=I();a(0,"div",13)(1,"label",23),d(2),r(),a(3,"input",24,3),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.iconFont,t)||(l.dataModel.iconFont=t),f(t)}),E("iconPickerSelect",function(t){u(e);let l=p();return f(l.onIconPickerSelect(t))}),r(),a(5,"span",25),y(6,"i",26),r()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),m("iconPicker",e.dataModel.iconFont)("ipIconPack",fe(9,mS))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessEditField)),o(3),m("ngClass",e.dataModel.iconFont)}}function CS(n,s){if(n&1){let e=I();a(0,"div",19)(1,"label",27),d(2),r(),a(3,"div",28)(4,"div",29)(5,"input",30,4),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.iconColor,t)||(l.dataModel.iconColor=t),f(t)}),r()(),a(7,"div",31),y(8,"ngx-mat-color-toggle",32)(9,"ngx-mat-color-picker",33,5),r()()()}if(n&2){let e=A(10),i=p();o(2),x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ae("background",i.dataModel.iconColor),m("placeholder",P(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),m("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),o(3),m("for",e),o(),m("touchUi",!0)("color","primary")}}function hS(n,s){if(n&1){let e=I();a(0,"div",13)(1,"label",14),d(2),r(),a(3,"input",34,6),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.showInFormOrder,t)||(l.dataModel.showInFormOrder=t),f(t)}),r()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle)),b("ngModel",e.dataModel.showInFormOrder),m("disabled",!(e.fieldsInfo.showInFormOrder!=null&&e.fieldsInfo.showInFormOrder.accessEditField))}}function yS(n,s){n&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function SS(n,s){if(n&1){let e=I();a(0,"div",22)(1,"button",35),E("click",function(){u(e);let t=p();return f(t.onFormCancel())}),y(2,"i",36),d(3),_(4,"translate"),r(),a(5,"button",37),y(6,"i",38),d(7),_(8,"translate"),r()()}if(n&2){p();let e=A(10);o(3),h(" ",g(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),h(" ",g(8,5,"ACTION.SAVE")," ")}}var mr=class mr extends Tt{constructor(e,i,t,l,C,c,L,q){super(l,new wi,c,q);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyDetailGroupService=l;this.cmsToastrService=C;this.publicHelper=c;this.cdr=L;this.translate=q;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ht;this.dataModel=new wi;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.setAccessLoad(),this.estatePropertyDetailGroupService.setAccessDataType(Be.Editor),this.estatePropertyDetailGroupService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeLanduseId=e.id}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};mr.\u0275fac=function(i){return new(i||mr)(v(Ve),v(Le),v(te),v(Zt),v(O),v(G),v(N),v(B))},mr.\u0275cmp=V({type:mr,selectors:[["app-estate-property-detail-group-edit"]],viewQuery:function(i,t){if(i&1&&Q(pS,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[Y],decls:36,vars:29,consts:[["vform","ngForm"],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],["ShowInFormOrder",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","number","name","dataModel.showInFormOrder","id","dataModel.showInFormOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=I();a(0,"div",7),y(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),d(4),r(),a(5,"p"),d(6),_(7,"translate"),r(),y(8,"app-cms-form-result-message",11),a(9,"form",12,0),E("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(11,"div",13)(12,"label",14),d(13),r(),a(14,"input",15,1),w("ngModelChange",function(c){return u(l),T(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),r(),S(16,uS,1,0,"i",16),S(17,fS,1,0,"i",17),a(18,"em"),d(19),r(),S(20,_S,5,3,"mat-error"),r(),a(21,"app-estate-property-type-landuse-selector",18),_(22,"translate"),E("optionChange",function(c){return u(l),f(t.onActionSelectorSelect(c))}),r(),S(23,gS,7,10,"div",13),S(24,CS,11,11,"div",19),S(25,hS,5,5,"div",13),a(26,"div",13)(27,"label",20),d(28),r(),a(29,"textarea",21,2),w("ngModelChange",function(c){return u(l),T(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),d(31,"                "),r(),a(32,"em"),d(33),r(),S(34,yS,5,3,"mat-error"),r(),S(35,SS,9,7,"div",22),r()()()}if(i&2){let l=A(15),C=A(30);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",g(7,25,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(5),x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),M(l.value?-1:16),o(),M(l.value?17:-1),o(2),h("",l.value.length," / 100"),o(),M(l.errors!=null&&l.errors.required?20:-1),o(),m("optionSelectForce",t.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",g(22,27,"TITLE.Category"))("optionDisabled",!(t.fieldsInfo.linkPropertyTypeLanduseId!=null&&t.fieldsInfo.linkPropertyTypeLanduseId.accessEditField)),o(2),M(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessWatchField?23:-1),o(),M(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessWatchField?24:-1),o(),M(t.fieldsInfo.showInFormOrder!=null&&t.fieldsInfo.showInFormOrder.accessWatchField?25:-1),o(3),x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),h("",C.value.length," / 500"),o(),M(C.errors!=null&&C.errors.required?34:-1),o(),M(t.formInfo.submitButtonEnabled?35:-1)}},dependencies:[re,Re,X,Ft,$,Te,le,Ee,ge,_e,Ae,De,Ze,ee,U,se,Bt,Zi,Kt,Qt,qt,Ut,W],encapsulation:2});var ur=mr;var ES=()=>[5,10,20,100];function vS(n,s){if(n&1){let e=I();a(0,"div",18)(1,"a",42),E("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),y(2,"i",43)(3,"br"),r(),a(4,"p",22),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.ADD")," "))}function IS(n,s){if(n&1){let e=I();a(0,"div",18)(1,"a",44),E("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),y(2,"i",45)(3,"br"),r(),a(4,"p",22),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.EDIT")," "))}function bS(n,s){if(n&1){let e=I();a(0,"div",18)(1,"a",46),E("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),y(2,"i",47)(3,"br"),r(),a(4,"p",22),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.DELETE")," "))}function TS(n,s){if(n&1&&(a(0,"mat-header-cell",48),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function wS(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.id," ")}}function xS(n,s){if(n&1&&(a(0,"mat-header-cell",48),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle," ")}}function PS(n,s){if(n&1&&(a(0,"mat-cell"),y(1,"i",49),r()),n&2){let e=s.$implicit;o(),ae("color",e.iconColor),m("ngClass",e.iconFont)}}function AS(n,s){if(n&1&&(a(0,"mat-header-cell",48),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function RS(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.title," ")}}function DS(n,s){if(n&1&&(a(0,"mat-header-cell",48),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle," ")}}function kS(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.showInFormOrder," ")}}function LS(n,s){if(n&1&&(a(0,"mat-header-cell",48),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.linkPropertyTypeLanduseId==null?null:e.fieldsInfo.linkPropertyTypeLanduseId.fieldTitle," ")}}function VS(n,s){if(n&1&&(a(0,"mat-cell"),d(1),_(2,"cmstitle"),r()),n&2){let e=s.$implicit,i=p();o(),h(" ",pi(2,1,e.linkPropertyTypeLanduseId,i.dataModelEstatePropertyTypeLanduseResult.listItems)," ")}}function FS(n,s){n&1&&(a(0,"mat-header-cell"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.OPTION")," "))}function BS(n,s){if(n&1&&(a(0,"mat-cell",50)(1,"button",51)(2,"mat-icon"),d(3,"more_vert"),r()(),y(4,"mat-menu",null,2),r()),n&2){let e=A(5);o(),m("matMenuTriggerFor",e)}}function OS(n,s){n&1&&(a(0,"mat-header-cell",48),d(1,". "),r())}function NS(n,s){n&1&&(a(0,"mat-cell")(1,"mat-icon",52),d(2,"reorder"),r()())}function GS(n,s){n&1&&y(0,"mat-header-row")}function WS(n,s){if(n&1){let e=I();a(0,"mat-row",53),E("click",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))}),r()}if(n&2){let e=s.$implicit,i=p();ne("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var fr=class fr extends wt{constructor(e,i,t,l,C,c,L,q,Se,je,Ke,Ot){super(e,new wi,Ke,C,q);this.contentService=e;this.estatePropertyTypeLanduseService=i;this.cmsConfirmationDialogService=t;this.cmsToastrService=l;this.tokenHelper=C;this.router=c;this.cdr=L;this.translate=q;this.cmsStoreService=Se;this.pageInfo=je;this.publicHelper=Ke;this.dialog=Ot;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new oe;this.filterDataModelQueryBuilder=[];this.dataModelEstatePropertyTypeLanduseResult=new j;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["IconFont","ShowInFormOrder","LinkPropertyTypeLanduseId"];this.tabledisplayedColumnsMobileSource=["IconFont","ShowInFormOrder","LinkPropertyTypeLanduseId"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ii=>this.onSubmitOptionsSearch(ii)},this.filteModelContent.sortColumn="ShowInFormOrder",this.filteModelContent.sortType=J.Ascending}ngOnInit(){this.filteModelContent.sortColumn="ShowInFormOrder",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Me(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getPropertyType()}getPropertyType(){let e=new oe;e.rowPerPage=100,this.estatePropertyTypeLanduseService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelEstatePropertyTypeLanduseResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new wi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=J.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onTableDropRow(e){let i=this.tableSource.data.findIndex(l=>l===e.item.data),t=new gl;t.id=this.tableSource.data[i].id,t.centerId=this.tableSource.data[e.currentIndex].id,i>e.currentIndex?t.actionGo=Lo.GoUp:t.actionGo=Lo.GoDown,this.contentService.ServiceEditStep(t).subscribe({next:l=>{l.isSuccess?(Il(this.tableSource.data,i,e.currentIndex),this.tableSource.data=this.tableSource.data.slice()):this.cmsToastrService.typeErrorMessage(l.errorMessage)},error:l=>{this.cmsToastrService.typeError(l)}})}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(cr,{height:"90%",panelClass:e,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ur,{height:"90%",panelClass:i,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let C=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(C,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})}onActionButtonContentList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/hypershop/content/PareintId/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{i.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),C=new Z;C.propertyName="recordStatus",C.value=He.Available,l.filters.push(C),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{i.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};fr.\u0275fac=function(i){return new(i||fr)(v(Zt),v(Di),v(bt),v(O),v(de),v(ke),v(N),v(B),v(Ce),v(It),v(G),v(Oe))},fr.\u0275cmp=V({type:fr,selectors:[["app-estate-property-detail-group-list"]],standalone:!1,features:[Y],decls:66,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"justify-content-start"],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-cubes","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","cdkDropList","",3,"matSortChange","cdkDropListDropped","dataSource","cdkDropListData"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","title"],["matColumnDef","ShowInFormOrder"],["matColumnDef","LinkPropertyTypeLanduseId"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=I();a(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(c){return u(l),T(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),E("optionOnActionButtonMemoRow",function(){return u(l),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(l),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(l),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(l),f(t.onActionButtonPrintRow())}),Ye(1,4)(2,5),D(3,6),a(4,"div",7),y(5,"div",8)(6,"div",9),r(),k(),Ye(7,6),D(8,10),a(9,"a",11),E("click",function(){return u(l),f(t.viewGuideNotice=!t.viewGuideNotice)}),y(10,"i",12),r(),a(11,"a",11),E("click",function(){return u(l),f(t.onActionButtonReload())}),y(12,"i",13),r(),k(),D(13,14),a(14,"a",15),E("click",function(){return u(l),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),y(15,"mat-slide-toggle",16),d(16),_(17,"translate"),r(),a(18,"a",15),E("click",function(){return u(l),f(t.onActionButtonStatist())}),y(19,"mat-slide-toggle",16),d(20),_(21,"translate"),r(),k(),D(22,17),S(23,vS,7,3,"div",18),k(),D(24,19),S(25,IS,7,3,"div",18),S(26,bS,7,3,"div",18),a(27,"div",18)(28,"a",20),E("click",function(){return u(l),f(t.onActionButtonContentList(t.tableRowSelected))}),y(29,"i",21)(30,"br"),r(),a(31,"p",22),d(32),_(33,"translate"),r()(),k(),D(34,23),a(35,"app-cms-search-list",24),w("optionsChange",function(c){return u(l),T(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),r(),a(36,"app-cms-statist-list",24),w("optionsChange",function(c){return u(l),T(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),r(),k(),D(37,25),a(38,"mat-table",26,0),E("matSortChange",function(){u(l);let c=A(39);return f(t.onTableSortData(c))})("cdkDropListDropped",function(c){return u(l),f(t.onTableDropRow(c))}),D(40,27),R(41,TS,2,1,"mat-header-cell",28)(42,wS,2,1,"mat-cell",29),k(),D(43,30),R(44,xS,2,1,"mat-header-cell",28)(45,PS,2,3,"mat-cell",29),k(),D(46,31),R(47,AS,2,1,"mat-header-cell",28)(48,RS,2,1,"mat-cell",29),k(),D(49,32),R(50,DS,2,1,"mat-header-cell",28)(51,kS,2,1,"mat-cell",29),k(),D(52,33),R(53,LS,2,1,"mat-header-cell",28)(54,VS,3,4,"mat-cell",29),k(),D(55,34),R(56,FS,3,3,"mat-header-cell",35)(57,BS,6,1,"mat-cell",36),k(),D(58,37),R(59,OS,2,0,"mat-header-cell",28)(60,NS,3,0,"mat-cell",29),k(),R(61,GS,1,0,"mat-header-row",38)(62,WS,1,2,"mat-row",39),r(),k(),D(63,40),a(64,"mat-paginator",41,1),E("page",function(c){return u(l),f(t.onTablePageingData(c))}),r(),k(),r()}i&2&&(m("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),m("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(12),ne("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),m("checked",t.optionsSearch.data.show),o(),h("",g(17,27,"ACTION.SEARCH")," "),o(3),m("checked",t.optionsStatist.data.show),o(),h("",g(21,29,"ACTION.STATIST")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?23:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?25:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?26:-1),o(6),h(" ",g(33,31,"ACTION.PRODUCTS")," "),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),m("dataSource",t.tableSource)("cdkDropListData",t.tableSource),o(23),m("matHeaderRowDef",t.tabledisplayedColumns),o(),m("matRowDefColumns",t.tabledisplayedColumns),o(2),m("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",fe(33,ES)))},dependencies:[re,Ue,we,yt,St,Mt,ft,Et,vt,$e,tt,at,it,et,rt,nt,ot,lt,st,xt,Pt,At,Rt,Tl,bl,W,An],encapsulation:2});var _r=fr;var mc=["*","*"];function HS(n,s){if(n&1&&(a(0,"label",4),d(1),r()),n&2){let e=p(2);m("for",Pe("app-cms-site-selector-",e.id)),o(),x(e.optionLabel)}}function jS(n,s){if(n&1&&(a(0,"mat-option",7)(1,"span"),d(2),r()()),n&2){let e=s.$implicit,i=p(2);m("value",e)("disabled",i.optionDisabled),o(2),x(i.displayOption(e))}}function US(n,s){n&1&&y(0,"i",8)}function qS(n,s){n&1&&y(0,"i",9)}function QS(n,s){if(n&1){let e=I();a(0,"i",12),E("click",function(){u(e);let t=p(2);return f(t.onActionSelectClear())}),r()}}function zS(n,s){n&1&&(a(0,"em"),d(1),_(2,"translate"),r()),n&2&&(o(),h("(",g(2,1,"TITLE.Necessary"),")"))}function KS(n,s){if(n&1){let e=I();a(0,"div",1),y(1,"app-progress-spinner",3),S(2,HS,2,3,"label",4),y(3,"input",5),a(4,"mat-autocomplete",6,0),E("optionSelected",function(t){u(e);let l=p();return f(l.onActionSelect(t.option.value))}),me(6,jS,3,3,"mat-option",7,pe),_(8,"async"),r(),S(9,US,1,0,"i",8),S(10,qS,1,0,"i",9),S(11,QS,1,0,"i",10),a(12,"i",11),_(13,"translate"),E("click",function(){u(e);let t=p();return f(t.onActionButtonReload())}),r(),S(14,zS,3,3,"em"),On(15),r()}if(n&2){let e=A(5),i=p();o(),m("optionsInfoAreaId",i.constructorInfoAreaId),o(),M((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(),m("placeholder",P(i.optionPlaceholder))("id",Pe("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",e)("required",i.optionRequired),li("disabled",i.optionDisabled?!0:null),o(),m("displayWith",i.displayFn),o(2),ue(g(8,19,i.filteredOptions)),o(3),M(i.formControl.valid?-1:9),o(),M(i.optionRequired&&i.formControl.valid?10:-1),o(),M((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?11:-1),o(),ne("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),m("title",P(g(13,21,"ACTION.RELOAD"))),o(2),M(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)==0)?14:-1)}}function ZS(n,s){if(n&1){let e=I();a(0,"div",13)(1,"a",14),E("click",function(){let t=u(e).$implicit,l=p(2);return f(l.onActionSelect(t))}),d(2),r()()}if(n&2){let e=s.$implicit,i=p(2);o(),m("ngClass",e.id===(i.dataModelSelect==null?null:i.dataModelSelect.id)?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),li("disabled",i.optionDisabled?!0:null),o(),x(i.displayOption(e))}}function YS(n,s){if(n&1&&(a(0,"div",2),me(1,ZS,3,3,"div",13,pe),_(3,"async"),On(4,1),r()),n&2){let e=p();o(),ue(g(3,0,e.filteredOptions))}}var Mo=class Mo{constructor(s,e,i,t,l,C){this.coreEnumService=s;this.cmsToastrService=e;this.translate=i;this.cdr=t;this.publicHelper=l;this.categoryService=C;this.id=++Mo.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new j;this.dataModelSelect=new wi;this.formControl=new si;this.optionTypeView=1;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new Vt;this.optionReload=()=>this.onActionButtonReload();this.linkPropertyTypeLanduseId="";this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}set optionSelectParentForce(s){this.linkPropertyTypeLanduseId=s,this.loadOptions()}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Ni(""),Oi(1500),Yn(),Gi(s=>typeof s=="string"||typeof s=="number"?this.DataGetAll(s||""):[]))}displayFn(s){return s?s.title:void 0}displayOption(s){return s?s.title:void 0}DataGetAll(s){return Me(this,null,function*(){let e=new oe;if(e.rowPerPage=20,e.accessLoad=!0,typeof s=="string"&&s.length>0){let l=new Z;l.propertyName="Name",l.value=s,l.searchType=kt.Contains,e.filters.push(l)}if(this.linkPropertyTypeLanduseId&&this.linkPropertyTypeLanduseId.length>0){var i=new Z;i.propertyName="linkPropertyTypeLanduseId",i.value=this.linkPropertyTypeLanduseId,i.searchType=kt.Equal,e.filters.push(i)}let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),yield Zn(this.categoryService.ServiceGetAll(e)).then(l=>(this.dataModelResult=l,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),l.listItems))})}onActionSelect(s){this.optionDisabled||(this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(s){return this.filteredOptions.pipe(Bi(e=>(e.find(i=>i.id===s.id)||e.push(s),e)))}onActionSelectForce(s){if(typeof s=="string"&&s.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===s)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===s)){let e=this.dataModelResult.listItems.find(i=>i.id===s);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(s).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof s==typeof wi){this.filteredOptions=this.push(s),this.dataModelSelect=s,this.formControl.setValue(s);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new wi,this.loadOptions()}};Mo.nextId=0,Mo.\u0275fac=function(e){return new(e||Mo)(v(te),v(O),v(B),v(N),v(G),v(Zt))},Mo.\u0275cmp=V({type:Mo,selectors:[["app-estate-property-detail-group-selector"]],inputs:{optionTypeView:"optionTypeView",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce",optionSelectParentForce:"optionSelectParentForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:mc,decls:2,vars:2,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[1,"row","mb-0"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"]],template:function(e,i){e&1&&(Jn(mc),S(0,KS,16,23,"div",1),S(1,YS,5,2,"div",2)),e&2&&(M(i.optionTypeView===1?0:-1),o(),M(i.optionTypeView===2?1:-1))},dependencies:[re,X,$,le,qi,zi,Qi,Ki,ee,U,pt,W],encapsulation:2});var gr=Mo;var XS=["vform"],$S=()=>["fa"];function eM(n,s){n&1&&y(0,"i",19)}function tM(n,s){n&1&&y(0,"i",20)}function iM(n,s){n&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function nM(n,s){if(n&1){let e=I();a(0,"div",16)(1,"label",34),d(2),r(),a(3,"input",35,5),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.iconFont,t)||(l.dataModel.iconFont=t),f(t)}),E("iconPickerSelect",function(t){u(e);let l=p();return f(l.onIconPickerSelect(t))}),r(),a(5,"span",36),y(6,"i",37),r()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),m("iconPicker",e.dataModel.iconFont)("ipIconPack",fe(9,$S))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),o(3),m("ngClass",e.dataModel.iconFont)}}function oM(n,s){if(n&1){let e=I();a(0,"div",22)(1,"label",38),d(2),r(),a(3,"div",39)(4,"div",40)(5,"input",41,6),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.iconColor,t)||(l.dataModel.iconColor=t),f(t)}),r()(),a(7,"div",42),y(8,"ngx-mat-color-toggle",43)(9,"ngx-mat-color-picker",44,7),r()()()}if(n&2){let e=A(10),i=p();o(2),x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ae("background",i.dataModel.iconColor),m("placeholder",P(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),m("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),m("for",e),o(),m("touchUi",!0)("color","primary")}}function aM(n,s){if(n&1){let e=I();a(0,"div",16)(1,"label",45),d(2),r(),a(3,"input",46,8),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.showInFormOrder,t)||(l.dataModel.showInFormOrder=t),f(t)}),r()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle)),b("ngModel",e.dataModel.showInFormOrder),m("disabled",!(e.fieldsInfo.showInFormOrder!=null&&e.fieldsInfo.showInFormOrder.accessAddField))}}function rM(n,s){if(n&1){let e=I();a(0,"app-cms-enum-x-selector",47),w("modelChange",function(t){u(e);let l=p();return T(l.dataModel.inputDataType,t)||(l.dataModel.inputDataType=t),f(t)}),r()}if(n&2){let e=p();m("optionDataListResult",e.dataModelInputDataTypeEnumResult),b("model",e.dataModel.inputDataType),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.inputDataType==null?null:e.fieldsInfo.inputDataType.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function lM(n,s){if(n&1){let e=I();a(0,"div",16)(1,"label",48),d(2),r(),a(3,"input",49,9),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.configValueIntValueMin,t)||(l.dataModel.configValueIntValueMin=t),f(t)}),r(),a(5,"em"),d(6),r()()}if(n&2){let e=p(),i=A(33);o(2),x(e.fieldsInfo.configValueIntValueMin==null?null:e.fieldsInfo.configValueIntValueMin.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.configValueIntValueMin==null?null:e.fieldsInfo.configValueIntValueMin.fieldTitle)),b("ngModel",e.dataModel.configValueIntValueMin),o(3),h("",i.value.length," / 64")}}function sM(n,s){if(n&1){let e=I();a(0,"div",16)(1,"label",50),d(2),r(),a(3,"input",51,9),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.configValueIntValueMax,t)||(l.dataModel.configValueIntValueMax=t),f(t)}),r(),a(5,"em"),d(6),r()()}if(n&2){let e=p(),i=A(33);o(2),x(e.fieldsInfo.configValueIntValueMax==null?null:e.fieldsInfo.configValueIntValueMax.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.configValueIntValueMax==null?null:e.fieldsInfo.configValueIntValueMax.fieldTitle)),b("ngModel",e.dataModel.configValueIntValueMax),o(3),h("",i.value.length," / 64")}}function dM(n,s){if(n&1){let e=I();a(0,"app-cms-enum-x-selector",47),w("modelChange",function(t){u(e);let l=p(2);return T(l.dataModel.inputDataType,t)||(l.dataModel.inputDataType=t),f(t)}),r()}if(n&2){let e=p(2);m("optionDataListResult",e.dataModelInputDataTypeEnumResult),b("model",e.dataModel.inputDataType),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.inputDataType==null?null:e.fieldsInfo.inputDataType.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function cM(n,s){if(n&1){let e=I();a(0,"div",16)(1,"label",48),d(2),r(),a(3,"input",49,9),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.configValueIntValueMin,t)||(l.dataModel.configValueIntValueMin=t),f(t)}),r(),a(5,"em"),d(6),r()()}if(n&2){p();let e=A(9),i=p();o(2),x(i.fieldsInfo.configValueIntValueMin==null?null:i.fieldsInfo.configValueIntValueMin.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.configValueIntValueMin==null?null:i.fieldsInfo.configValueIntValueMin.fieldTitle)),b("ngModel",i.dataModel.configValueIntValueMin),o(3),h("",e.value.length," / 64")}}function pM(n,s){if(n&1){let e=I();a(0,"div",16)(1,"label",50),d(2),r(),a(3,"input",51,9),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.configValueIntValueMax,t)||(l.dataModel.configValueIntValueMax=t),f(t)}),r(),a(5,"em"),d(6),r()()}if(n&2){p();let e=A(9),i=p();o(2),x(i.fieldsInfo.configValueIntValueMax==null?null:i.fieldsInfo.configValueIntValueMax.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.configValueIntValueMax==null?null:i.fieldsInfo.configValueIntValueMax.fieldTitle)),b("ngModel",i.dataModel.configValueIntValueMax),o(3),h("",e.value.length," / 64")}}function mM(n,s){if(n&1){let e=I();a(0,"div",26)(1,"div",52)(2,"h5",53),d(3),r()(),a(4,"div",54)(5,"div",55)(6,"input",56),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.invisibleForEndUser,t)||(l.dataModel.invisibleForEndUser=t),f(t)}),r(),y(7,"label",57),r()()()}if(n&2){let e=p(2);o(3),h(" ",e.fieldsInfo.invisibleForEndUser==null?null:e.fieldsInfo.invisibleForEndUser.fieldTitle," "),o(3),b("ngModel",e.dataModel.invisibleForEndUser)}}function uM(n,s){if(n&1){let e=I();a(0,"div",26)(1,"div",52)(2,"h5",53),d(3),r()(),S(4,dM,1,6,"app-cms-enum-x-selector",23),a(5,"div",16)(6,"label",24),d(7),r(),a(8,"input",25,2),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.unit,t)||(l.dataModel.unit=t),f(t)}),r(),a(10,"em"),d(11),r()(),S(12,cM,7,5,"div",16),S(13,pM,7,5,"div",16),S(14,mM,8,2,"div",26),r()}if(n&2){let e=A(9),i=p();o(3),h(" ",i.fieldsInfo.invisibleForEndUser==null?null:i.fieldsInfo.invisibleForEndUser.fieldTitle," "),o(),M(i.fieldsInfo.inputDataType!=null&&i.fieldsInfo.inputDataType.accessWatchField?4:-1),o(3),x(i.fieldsInfo.unit==null?null:i.fieldsInfo.unit.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.unit==null?null:i.fieldsInfo.unit.fieldTitle)),b("ngModel",i.dataModel.unit),o(3),h("",e.value.length," / 64"),o(),M(i.dataModel.inputDataType===1||i.dataModel.inputDataType===3?12:-1),o(),M(i.dataModel.inputDataType===1||i.dataModel.inputDataType===3?13:-1),o(),M(i.fieldsInfo.invisibleForEndUser!=null&&i.fieldsInfo.invisibleForEndUser.accessWatchField?14:-1)}}function fM(n,s){if(n&1){let e=I();a(0,"div",26)(1,"div",52)(2,"h5",58),d(3),r()(),a(4,"div",54)(5,"div",55)(6,"input",59),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.invisibleForSubmiter,t)||(l.dataModel.invisibleForSubmiter=t),f(t)}),r(),y(7,"label",60),r()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.invisibleForSubmiter==null?null:e.fieldsInfo.invisibleForSubmiter.fieldTitle," "),o(3),b("ngModel",e.dataModel.invisibleForSubmiter)}}function _M(n,s){if(n&1){let e=I();a(0,"div",26)(1,"div",52)(2,"h5",61),d(3),r()(),a(4,"div",54)(5,"div",55)(6,"input",62),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.required,t)||(l.dataModel.required=t),f(t)}),r(),y(7,"label",63),r()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.required==null?null:e.fieldsInfo.required.fieldTitle," "),o(3),b("ngModel",e.dataModel.required)}}function gM(n,s){if(n&1){let e=I();a(0,"div",26)(1,"div",52)(2,"h5",64),d(3),r()(),a(4,"div",54)(5,"div",55)(6,"input",65),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.isHistoryable,t)||(l.dataModel.isHistoryable=t),f(t)}),r(),y(7,"label",66),r()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.isHistoryable==null?null:e.fieldsInfo.isHistoryable.fieldTitle," "),o(3),b("ngModel",e.dataModel.isHistoryable)}}function CM(n,s){if(n&1){let e=I();a(0,"div",26)(1,"div",52)(2,"h5",67),d(3),r()(),a(4,"div",54)(5,"div",55)(6,"input",68),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.showInFastSearch,t)||(l.dataModel.showInFastSearch=t),f(t)}),r(),y(7,"label",69),r()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.showInFastSearch==null?null:e.fieldsInfo.showInFastSearch.fieldTitle," "),o(3),b("ngModel",e.dataModel.showInFastSearch)}}function hM(n,s){if(n&1){let e=I();a(0,"div",26)(1,"div",52)(2,"h5",70),d(3),r()(),a(4,"div",54)(5,"div",55)(6,"input",71),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.configValueForceUseDefaultValue,t)||(l.dataModel.configValueForceUseDefaultValue=t),f(t)}),r(),y(7,"label",72),r()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.configValueForceUseDefaultValue==null?null:e.fieldsInfo.configValueForceUseDefaultValue.fieldTitle," "),o(3),b("ngModel",e.dataModel.configValueForceUseDefaultValue)}}function yM(n,s){if(n&1){let e=I();a(0,"div",26)(1,"div",52)(2,"h5",73),d(3),r()(),a(4,"div",54)(5,"div",55)(6,"input",74),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.configValueMultipleChoice,t)||(l.dataModel.configValueMultipleChoice=t),f(t)}),r(),y(7,"label",75),r()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.configValueMultipleChoice==null?null:e.fieldsInfo.configValueMultipleChoice.fieldTitle," "),o(3),b("ngModel",e.dataModel.configValueMultipleChoice)}}function SM(n,s){if(n&1){let e=I();a(0,"mat-chip",76),E("removed",function(){let t=u(e).$implicit,l=p();return f(l.removeTagDefault(t))}),d(1),a(2,"button",77)(3,"mat-icon"),d(4,"cancel"),r()()()}if(n&2){let e=s.$implicit;o(),h(" ",e," ")}}function MM(n,s){if(n&1){let e=I();a(0,"mat-chip",76),E("removed",function(){let t=u(e).$implicit,l=p();return f(l.removeTagNull(t))}),d(1),a(2,"button",77)(3,"mat-icon"),d(4,"cancel"),r()()()}if(n&2){let e=s.$implicit;o(),h(" ",e," ")}}function EM(n,s){n&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function vM(n,s){if(n&1&&(a(0,"button",80),y(1,"i",81),d(2),_(3,"translate"),r()),n&2){p(2);let e=A(10);m("disabled",!e.form.valid),o(2),h(" ",g(3,2,"ACTION.SAVE")," ")}}function IM(n,s){if(n&1){let e=I();a(0,"div",33)(1,"button",78),E("click",function(){u(e);let t=p();return f(t.onFormCancel())}),y(2,"i",79),d(3),_(4,"translate"),r(),S(5,vM,4,4,"button",80),r()}if(n&2){let e=p();o(3),h(" ",g(4,2,"ACTION.CANCEL")," "),o(2),M(e.formInfo.submitButtonEnabled?5:-1)}}var Cr=class Cr extends _t{constructor(e,i,t,l,C,c,L,q,Se){super(l,new qn,L,Se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyDetailService=l;this.cmsToastrService=C;this.estateEnumService=c;this.publicHelper=L;this.cdr=q;this.translate=Se;this.requestLinkPropertyTypeLanduseId="";this.requestLinkPropertyDetailGroupId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new j;this.dataModel=new qn;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.dataModelInputDataTypeEnumResult=new j;this.keywordDefaultDataModel=[];this.keywordNullDataModel=[];this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestLinkPropertyTypeLanduseId=e.linkPropertyTypeLanduseId,this.requestLinkPropertyDetailGroupId=e.linkPropertyDetailGroupId),this.requestLinkPropertyTypeLanduseId&&this.requestLinkPropertyTypeLanduseId.length>0&&(this.dataModel.linkPropertyTypeLanduseId=this.requestLinkPropertyTypeLanduseId),this.requestLinkPropertyDetailGroupId&&this.requestLinkPropertyDetailGroupId.length>0&&(this.dataModel.linkPropertyDetailGroupId=this.requestLinkPropertyDetailGroupId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.getInputDataTypeEnum()}getInputDataTypeEnum(){this.coreEnumService.ServiceInputDataTypeEnum().subscribe({next:e=>{this.dataModelInputDataTypeEnumResult=e}})}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyDetailService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeLanduseId=e.id}onActionSelectorDetailGroup(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyDetailGroupId=e.id}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.submitButtonEnabled=!1,this.dataModel.configValueDefaultValueJson="",this.keywordDefaultDataModel&&this.keywordDefaultDataModel.length>0){let e=[];this.keywordDefaultDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.configValueDefaultValueJson=e.join(","))}if(this.dataModel.configValueNullValueJson="",this.keywordNullDataModel&&this.keywordNullDataModel.length>0){let e=[];this.keywordNullDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.configValueNullValueJson=e.join(","))}this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}addTagDefault(e){let i=(e.value||"").trim();i&&this.keywordDefaultDataModel.push(i),e.chipInput.clear()}removeTagDefault(e){let i=this.keywordDefaultDataModel.indexOf(e);i>=0&&this.keywordDefaultDataModel.splice(i,1)}addTagNull(e){let i=(e.value||"").trim();i&&this.keywordNullDataModel.push(i),e.chipInput.clear()}removeTagNull(e){let i=this.keywordNullDataModel.indexOf(e);i>=0&&this.keywordNullDataModel.splice(i,1)}};Cr.\u0275fac=function(i){return new(i||Cr)(v(Ve),v(Le),v(te),v(to),v(O),v(vl),v(G),v(N),v(B))},Cr.\u0275cmp=V({type:Cr,selectors:[["app-estate-property-detail-add"]],viewQuery:function(i,t){if(i&1&&Q(XS,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[Y],decls:74,vars:67,consts:[["vform","ngForm"],["Title",""],["Unit",""],["chipList",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],["ShowInFormOrder",""],["ConfigValueIntValueMax",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.unit",1,"color-highlight"],["matInput","","type","text","name","dataModel.unit","minlength","1","maxlength","64","id","dataModel.unit",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"d-flex","mb-3"],["appearance","fill",1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4",2,"width","100%"],[1,"color-highlight"],["aria-label","'TITLE.key_word'|translate"],[3,"matChipInputTokenEnd","placeholder","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.showInFormOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInFormOrder","id","dataModel.showInFormOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.configValueIntValueMin",1,"color-highlight"],["matInput","","type","number","name","dataModel.configValueIntValueMin","id","dataModel.configValueIntValueMin",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.configValueIntValueMax",1,"color-highlight"],["matInput","","type","number","name","dataModel.configValueIntValueMax","id","dataModel.configValueIntValueMax",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"pt-1"],["data-trigger-switch","dataModel.invisibleForEndUser",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.invisibleForEndUser","name","dataModel.invisibleForEndUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.invisibleForEndUser",1,"custom-control-label"],["data-trigger-switch","dataModel.invisibleForSubmiter",1,"font-600","font-14"],["type","checkbox","id","dataModel.invisibleForSubmiter","name","dataModel.invisibleForSubmiter",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.invisibleForSubmiter",1,"custom-control-label"],["data-trigger-switch","dataModel.required",1,"font-600","font-14"],["type","checkbox","id","dataModel.required","name","dataModel.required",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.required",1,"custom-control-label"],["data-trigger-switch","dataModel.isHistoryable",1,"font-600","font-14"],["type","checkbox","id","dataModel.isHistoryable","name","dataModel.isHistoryable",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isHistoryable",1,"custom-control-label"],["data-trigger-switch","dataModel.showInFastSearch",1,"font-600","font-14"],["type","checkbox","id","dataModel.showInFastSearch","name","dataModel.showInFastSearch",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.showInFastSearch",1,"custom-control-label"],["data-trigger-switch","dataModel.configValueForceUseDefaultValue",1,"font-600","font-14"],["type","checkbox","id","dataModel.configValueForceUseDefaultValue","name","dataModel.configValueForceUseDefaultValue",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.configValueForceUseDefaultValue",1,"custom-control-label"],["data-trigger-switch","dataModel.configValueMultipleChoice",1,"font-600","font-14"],["type","checkbox","id","dataModel.configValueMultipleChoice","name","dataModel.configValueMultipleChoice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.configValueMultipleChoice",1,"custom-control-label"],[3,"removed"],["type","button","matChipRemove",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=I();a(0,"div",10),y(1,"app-progress-spinner",11),a(2,"div",12)(3,"p",13),d(4),r(),a(5,"p"),d(6),_(7,"translate"),r(),y(8,"app-cms-form-result-message",14),a(9,"form",15,0),E("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(11,"div",16)(12,"label",17),d(13),r(),a(14,"input",18,1),w("ngModelChange",function(c){return u(l),T(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),r(),S(16,eM,1,0,"i",19),S(17,tM,1,0,"i",20),a(18,"em"),d(19),r(),S(20,iM,5,3,"mat-error"),r(),a(21,"app-estate-property-type-landuse-selector",21),_(22,"translate"),E("optionChange",function(c){return u(l),f(t.onActionSelectorSelect(c))}),r(),a(23,"app-estate-property-detail-group-selector",21),_(24,"translate"),E("optionChange",function(c){return u(l),f(t.onActionSelectorDetailGroup(c))}),r(),S(25,nM,7,10,"div",16),S(26,oM,11,11,"div",22),S(27,aM,5,5,"div",16),S(28,rM,1,6,"app-cms-enum-x-selector",23),a(29,"div",16)(30,"label",24),d(31),r(),a(32,"input",25,2),w("ngModelChange",function(c){return u(l),T(t.dataModel.unit,c)||(t.dataModel.unit=c),f(c)}),r(),a(34,"em"),d(35),r()(),S(36,lM,7,5,"div",16),S(37,sM,7,5,"div",16),S(38,uM,15,10,"div",26),S(39,fM,8,2,"div",26),S(40,_M,8,2,"div",26),S(41,gM,8,2,"div",26),S(42,CM,8,2,"div",26),S(43,hM,8,2,"div",26),S(44,yM,8,2,"div",26),a(45,"div",27)(46,"label",28),d(47),_(48,"translate"),r(),a(49,"mat-chip-grid",29,3),me(51,SM,5,1,"mat-chip",null,pe),a(53,"input",30),_(54,"translate"),E("matChipInputTokenEnd",function(c){return u(l),f(t.addTagDefault(c))}),r()()(),a(55,"div",27)(56,"label",28),d(57),_(58,"translate"),r(),a(59,"mat-chip-grid",29,3),me(61,MM,5,1,"mat-chip",null,pe),a(63,"input",30),_(64,"translate"),E("matChipInputTokenEnd",function(c){return u(l),f(t.addTagNull(c))}),r()()(),a(65,"div",16)(66,"label",31),d(67),r(),a(68,"textarea",32,4),w("ngModelChange",function(c){return u(l),T(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),r(),a(70,"em"),d(71),r(),S(72,EM,5,3,"mat-error"),r(),S(73,IM,6,4,"div",33),r()()()}if(i&2){let l=A(15),C=A(33),c=A(50),L=A(69);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",g(7,53,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(5),x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),M(l.value?-1:16),o(),M(l.value?17:-1),o(2),h("",l.value.length," / 100"),o(),M(l.errors!=null&&l.errors.required?20:-1),o(),m("optionSelectForce",t.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",g(22,55,"TITLE.USER")),o(2),m("optionSelectForce",t.dataModel.linkPropertyDetailGroupId)("optionPlaceholder",g(24,57,"TITLE.Category")),o(2),M(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessWatchField?25:-1),o(),M(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessWatchField?26:-1),o(),M(t.fieldsInfo.showInFormOrder!=null&&t.fieldsInfo.showInFormOrder.accessWatchField?27:-1),o(),M(t.fieldsInfo.inputDataType!=null&&t.fieldsInfo.inputDataType.accessWatchField?28:-1),o(3),x(t.fieldsInfo.unit==null?null:t.fieldsInfo.unit.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.unit==null?null:t.fieldsInfo.unit.fieldTitle)),b("ngModel",t.dataModel.unit),o(3),h("",C.value.length," / 64"),o(),M(t.dataModel.inputDataType===1||t.dataModel.inputDataType===3?36:-1),o(),M(t.dataModel.inputDataType===1||t.dataModel.inputDataType===3?37:-1),o(),M(t.fieldsInfo.invisibleForEndUser!=null&&t.fieldsInfo.invisibleForEndUser.accessWatchField?38:-1),o(),M(t.fieldsInfo.invisibleForSubmiter!=null&&t.fieldsInfo.invisibleForSubmiter.accessWatchField?39:-1),o(),M(t.fieldsInfo.required!=null&&t.fieldsInfo.required.accessWatchField?40:-1),o(),M(t.fieldsInfo.isHistoryable!=null&&t.fieldsInfo.isHistoryable.accessWatchField?41:-1),o(),M(t.fieldsInfo.showInFastSearch!=null&&t.fieldsInfo.showInFastSearch.accessWatchField?42:-1),o(),M(t.fieldsInfo.configValueForceUseDefaultValue!=null&&t.fieldsInfo.configValueForceUseDefaultValue.accessWatchField?43:-1),o(),M(t.dataModel.configValueForceUseDefaultValue&&(t.fieldsInfo.configValueMultipleChoice!=null&&t.fieldsInfo.configValueMultipleChoice.accessWatchField)?44:-1),o(3),x(g(48,59,"TITLE.Choose_keywords_relative_to_the_content")),o(4),ue(t.keywordDefaultDataModel),o(2),m("placeholder",Pe("",g(54,61,"TITLE.key_word"),"+"))("matChipInputFor",c)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes)("matChipInputAddOnBlur",t.addOnBlurTag),o(4),x(g(58,63,"TITLE.Choose_keywords_relative_to_null_content")),o(4),ue(t.keywordNullDataModel),o(2),m("placeholder",Pe("",g(64,65,"TITLE.key_word"),"+"))("matChipInputFor",c)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes)("matChipInputAddOnBlur",t.addOnBlurTag),o(4),x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(3),h("",L.value.length," / 500"),o(),M(L.errors!=null&&L.errors.required?72:-1),o(),M(t.publicHelper.processService.process.inRunAll?-1:73)}},dependencies:[re,Re,X,Ft,Jt,$,Te,le,Ee,ge,_e,Ae,$t,ei,ti,Xt,De,Ze,we,ee,Fl,U,se,Bt,Zi,Kt,Qt,qt,Ut,gr,W],encapsulation:2});var os=Cr;var bM=["vform"],TM=()=>["fa"];function wM(n,s){n&1&&y(0,"i",19)}function xM(n,s){n&1&&y(0,"i",20)}function PM(n,s){n&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function AM(n,s){if(n&1){let e=I();a(0,"div",16)(1,"label",35),d(2),r(),a(3,"input",36,5),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.iconFont,t)||(l.dataModel.iconFont=t),f(t)}),E("iconPickerSelect",function(t){u(e);let l=p();return f(l.onIconPickerSelect(t))}),r(),a(5,"span",37),y(6,"i",38),r()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),m("iconPicker",e.dataModel.iconFont)("ipIconPack",fe(9,TM))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessEditField)),o(3),m("ngClass",e.dataModel.iconFont)}}function RM(n,s){if(n&1){let e=I();a(0,"div",23)(1,"label",39),d(2),r(),a(3,"div",40)(4,"div",41)(5,"input",42,6),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.iconColor,t)||(l.dataModel.iconColor=t),f(t)}),r()(),a(7,"div",43),y(8,"ngx-mat-color-toggle",44)(9,"ngx-mat-color-picker",45,7),r()()()}if(n&2){let e=A(10),i=p();o(2),x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ae("background",i.dataModel.iconColor),m("placeholder",P(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),m("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),o(3),m("for",e),o(),m("touchUi",!0)("color","primary")}}function DM(n,s){if(n&1){let e=I();a(0,"div",16)(1,"label",46),d(2),r(),a(3,"input",47,8),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.showInFormOrder,t)||(l.dataModel.showInFormOrder=t),f(t)}),r()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle)),b("ngModel",e.dataModel.showInFormOrder),m("disabled",!(e.fieldsInfo.showInFormOrder!=null&&e.fieldsInfo.showInFormOrder.accessEditField))}}function kM(n,s){if(n&1){let e=I();a(0,"app-cms-enum-x-selector",48),w("modelChange",function(t){u(e);let l=p();return T(l.dataModel.inputDataType,t)||(l.dataModel.inputDataType=t),f(t)}),r()}if(n&2){let e=p();m("optionDataListResult",e.dataModelInputDataTypeEnumResult),b("model",e.dataModel.inputDataType),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.inputDataType==null?null:e.fieldsInfo.inputDataType.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function LM(n,s){if(n&1){let e=I();a(0,"div",16)(1,"label",49),d(2),r(),a(3,"input",50,9),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.configValueIntValueMin,t)||(l.dataModel.configValueIntValueMin=t),f(t)}),r(),a(5,"em"),d(6),r()()}if(n&2){let e=p(),i=A(34);o(2),x(e.fieldsInfo.configValueIntValueMin==null?null:e.fieldsInfo.configValueIntValueMin.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.configValueIntValueMin==null?null:e.fieldsInfo.configValueIntValueMin.fieldTitle)),b("ngModel",e.dataModel.configValueIntValueMin),o(3),h("",i.value.length," / 64")}}function VM(n,s){if(n&1){let e=I();a(0,"div",16)(1,"label",51),d(2),r(),a(3,"input",52,9),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.configValueIntValueMax,t)||(l.dataModel.configValueIntValueMax=t),f(t)}),r(),a(5,"em"),d(6),r()()}if(n&2){let e=p(),i=A(34);o(2),x(e.fieldsInfo.configValueIntValueMax==null?null:e.fieldsInfo.configValueIntValueMax.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.configValueIntValueMax==null?null:e.fieldsInfo.configValueIntValueMax.fieldTitle)),b("ngModel",e.dataModel.configValueIntValueMax),o(3),h("",i.value.length," / 64")}}function FM(n,s){if(n&1){let e=I();a(0,"div",27)(1,"div",53)(2,"h5",54),d(3),r()(),a(4,"div",55)(5,"div",56)(6,"input",57),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.invisibleForEndUser,t)||(l.dataModel.invisibleForEndUser=t),f(t)}),r(),y(7,"label",58),r()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.invisibleForEndUser==null?null:e.fieldsInfo.invisibleForEndUser.fieldTitle," "),o(3),b("ngModel",e.dataModel.invisibleForEndUser)}}function BM(n,s){if(n&1){let e=I();a(0,"div",27)(1,"div",53)(2,"h5",59),d(3),r()(),a(4,"div",55)(5,"div",56)(6,"input",60),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.invisibleForSubmiter,t)||(l.dataModel.invisibleForSubmiter=t),f(t)}),r(),y(7,"label",61),r()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.invisibleForSubmiter==null?null:e.fieldsInfo.invisibleForSubmiter.fieldTitle," "),o(3),b("ngModel",e.dataModel.invisibleForSubmiter)}}function OM(n,s){if(n&1){let e=I();a(0,"div",27)(1,"div",53)(2,"h5",62),d(3),r()(),a(4,"div",55)(5,"div",56)(6,"input",63),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.required,t)||(l.dataModel.required=t),f(t)}),r(),y(7,"label",64),r()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.required==null?null:e.fieldsInfo.required.fieldTitle," "),o(3),b("ngModel",e.dataModel.required)}}function NM(n,s){if(n&1){let e=I();a(0,"div",27)(1,"div",53)(2,"h5",65),d(3),r()(),a(4,"div",55)(5,"div",56)(6,"input",66),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.isHistoryable,t)||(l.dataModel.isHistoryable=t),f(t)}),r(),y(7,"label",67),r()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.isHistoryable==null?null:e.fieldsInfo.isHistoryable.fieldTitle," "),o(3),b("ngModel",e.dataModel.isHistoryable)}}function GM(n,s){if(n&1){let e=I();a(0,"div",27)(1,"div",53)(2,"h5",68),d(3),r()(),a(4,"div",55)(5,"div",56)(6,"input",69),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.showInFastSearch,t)||(l.dataModel.showInFastSearch=t),f(t)}),r(),y(7,"label",70),r()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.showInFastSearch==null?null:e.fieldsInfo.showInFastSearch.fieldTitle," "),o(3),b("ngModel",e.dataModel.showInFastSearch)}}function WM(n,s){if(n&1){let e=I();a(0,"div",27)(1,"div",53)(2,"h5",71),d(3),r()(),a(4,"div",55)(5,"div",56)(6,"input",72),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.configValueForceUseDefaultValue,t)||(l.dataModel.configValueForceUseDefaultValue=t),f(t)}),r(),y(7,"label",73),r()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.configValueForceUseDefaultValue==null?null:e.fieldsInfo.configValueForceUseDefaultValue.fieldTitle," "),o(3),b("ngModel",e.dataModel.configValueForceUseDefaultValue)}}function HM(n,s){if(n&1){let e=I();a(0,"div",27)(1,"div",53)(2,"h5",74),d(3),r()(),a(4,"div",55)(5,"div",56)(6,"input",75),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.configValueMultipleChoice,t)||(l.dataModel.configValueMultipleChoice=t),f(t)}),r(),y(7,"label",76),r()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.configValueMultipleChoice==null?null:e.fieldsInfo.configValueMultipleChoice.fieldTitle," "),o(3),b("ngModel",e.dataModel.configValueMultipleChoice)}}function jM(n,s){if(n&1){let e=I();a(0,"mat-chip",77),E("removed",function(){let t=u(e).$implicit,l=p();return f(l.removeTagDefault(t))}),d(1),a(2,"button",78)(3,"mat-icon"),d(4,"cancel"),r()()()}if(n&2){let e=s.$implicit;o(),h(" ",e," ")}}function UM(n,s){if(n&1){let e=I();a(0,"mat-chip",77),E("removed",function(){let t=u(e).$implicit,l=p();return f(l.removeTagNull(t))}),d(1),a(2,"button",78)(3,"mat-icon"),d(4,"cancel"),r()()()}if(n&2){let e=s.$implicit;o(),h(" ",e," ")}}function qM(n,s){n&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function QM(n,s){if(n&1){let e=I();a(0,"div",34)(1,"button",79),E("click",function(){u(e);let t=p();return f(t.onFormCancel())}),y(2,"i",80),d(3),_(4,"translate"),r(),a(5,"button",81),y(6,"i",82),d(7),_(8,"translate"),r()()}if(n&2){p();let e=A(10);o(3),h(" ",g(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),h(" ",g(8,5,"ACTION.SAVE")," ")}}var hr=class hr extends Tt{constructor(e,i,t,l,C,c,L,q){super(l,new qn,c,q);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyDetailService=l;this.cmsToastrService=C;this.publicHelper=c;this.cdr=L;this.translate=q;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ht;this.dataModel=new qn;this.formInfo=new ie;this.dataModelInputDataTypeEnumResult=new j;this.keywordDefaultDataModel=[];this.keywordNullDataModel=[];this.fileManagerOpenForm=!1;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getInputDataTypeEnum()}getInputDataTypeEnum(){this.coreEnumService.ServiceInputDataTypeEnum().subscribe({next:e=>{this.dataModelInputDataTypeEnumResult=e}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyDetailService.setAccessLoad(),this.estatePropertyDetailService.setAccessDataType(Be.Editor),this.estatePropertyDetailService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.dataModel.configValueDefaultValueJson=this.dataModel.configValueDefaultValueJson+"",this.dataModel.configValueNullValueJson=this.dataModel.configValueNullValueJson+"",this.keywordDefaultDataModel=this.dataModel.configValueDefaultValueJson.split(","),this.keywordNullDataModel=this.dataModel.configValueNullValueJson.split(","),this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyDetailService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeLanduseId=e.id}onActionSelectorDetailGroup(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyDetailGroupId=e.id}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){if(this.formGroup.valid){if(this.dataModel.configValueDefaultValueJson="",this.keywordDefaultDataModel&&this.keywordDefaultDataModel.length>0){let e=[];this.keywordDefaultDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.configValueDefaultValueJson=e.join(","))}if(this.dataModel.configValueNullValueJson="",this.keywordNullDataModel&&this.keywordNullDataModel.length>0){let e=[];this.keywordNullDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.configValueNullValueJson=e.join(","))}this.formInfo.submitButtonEnabled=!1,this.DataEditContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}addTagDefault(e){let i=(e.value||"").trim();i&&this.keywordDefaultDataModel.push(i),e.chipInput.clear()}removeTagDefault(e){let i=this.keywordDefaultDataModel.indexOf(e);i>=0&&this.keywordDefaultDataModel.splice(i,1)}addTagNull(e){let i=(e.value||"").trim();i&&this.keywordNullDataModel.push(i),e.chipInput.clear()}removeTagNull(e){let i=this.keywordNullDataModel.indexOf(e);i>=0&&this.keywordNullDataModel.splice(i,1)}};hr.\u0275fac=function(i){return new(i||hr)(v(Ve),v(Le),v(te),v(to),v(O),v(G),v(N),v(B))},hr.\u0275cmp=V({type:hr,selectors:[["app-estate-property-detail-edit"]],viewQuery:function(i,t){if(i&1&&Q(bM,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[Y],decls:75,vars:70,consts:[["vform","ngForm"],["Title",""],["Unit",""],["chipList",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],["ShowInFormOrder",""],["ConfigValueIntValueMax",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectForce","optionSelectParentForce","optionPlaceholder","optionDisabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.unit",1,"color-highlight"],["matInput","","type","text","name","dataModel.unit","minlength","1","maxlength","64","id","dataModel.unit",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"d-flex","mb-3"],["appearance","fill",1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4",2,"width","100%"],[1,"color-highlight"],["aria-label","'TITLE.key_word'|translate"],[3,"matChipInputTokenEnd","placeholder","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.showInFormOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInFormOrder","id","dataModel.showInFormOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.configValueIntValueMin",1,"color-highlight"],["matInput","","type","number","name","dataModel.configValueIntValueMin","id","dataModel.configValueIntValueMin",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.configValueIntValueMax",1,"color-highlight"],["matInput","","type","number","name","dataModel.configValueIntValueMax","id","dataModel.configValueIntValueMax",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"pt-1"],["data-trigger-switch","dataModel.invisibleForEndUser",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.invisibleForEndUser","name","dataModel.invisibleForEndUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.invisibleForEndUser",1,"custom-control-label"],["data-trigger-switch","dataModel.invisibleForSubmiter",1,"font-600","font-14"],["type","checkbox","id","dataModel.invisibleForSubmiter","name","dataModel.invisibleForSubmiter",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.invisibleForSubmiter",1,"custom-control-label"],["data-trigger-switch","dataModel.required",1,"font-600","font-14"],["type","checkbox","id","dataModel.required","name","dataModel.required",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.required",1,"custom-control-label"],["data-trigger-switch","dataModel.isHistoryable",1,"font-600","font-14"],["type","checkbox","id","dataModel.isHistoryable","name","dataModel.isHistoryable",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isHistoryable",1,"custom-control-label"],["data-trigger-switch","dataModel.showInFastSearch",1,"font-600","font-14"],["type","checkbox","id","dataModel.showInFastSearch","name","dataModel.showInFastSearch",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.showInFastSearch",1,"custom-control-label"],["data-trigger-switch","dataModel.configValueForceUseDefaultValue",1,"font-600","font-14"],["type","checkbox","id","dataModel.configValueForceUseDefaultValue","name","dataModel.configValueForceUseDefaultValue",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.configValueForceUseDefaultValue",1,"custom-control-label"],["data-trigger-switch","dataModel.configValueMultipleChoice",1,"font-600","font-14"],["type","checkbox","id","dataModel.configValueMultipleChoice","name","dataModel.configValueMultipleChoice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.configValueMultipleChoice",1,"custom-control-label"],[3,"removed"],["type","button","matChipRemove",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=I();a(0,"div",10),y(1,"app-progress-spinner",11),a(2,"div",12)(3,"p",13),d(4),r(),a(5,"p"),d(6),_(7,"translate"),r(),y(8,"app-cms-form-result-message",14),a(9,"form",15,0),E("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(11,"div",16)(12,"label",17),d(13),r(),a(14,"input",18,1),w("ngModelChange",function(c){return u(l),T(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),r(),S(16,wM,1,0,"i",19),S(17,xM,1,0,"i",20),a(18,"em"),d(19),r(),S(20,PM,5,3,"mat-error"),r(),a(21,"app-estate-property-type-landuse-selector",21),_(22,"translate"),E("optionChange",function(c){return u(l),f(t.onActionSelectorSelect(c))}),y(23,"br"),r(),a(24,"app-estate-property-detail-group-selector",22),_(25,"translate"),E("optionChange",function(c){return u(l),f(t.onActionSelectorDetailGroup(c))}),r(),S(26,AM,7,10,"div",16),S(27,RM,11,11,"div",23),S(28,DM,5,5,"div",16),S(29,kM,1,6,"app-cms-enum-x-selector",24),a(30,"div",16)(31,"label",25),d(32),r(),a(33,"input",26,2),w("ngModelChange",function(c){return u(l),T(t.dataModel.unit,c)||(t.dataModel.unit=c),f(c)}),r(),a(35,"em"),d(36),r()(),S(37,LM,7,5,"div",16),S(38,VM,7,5,"div",16),S(39,FM,8,2,"div",27),S(40,BM,8,2,"div",27),S(41,OM,8,2,"div",27),S(42,NM,8,2,"div",27),S(43,GM,8,2,"div",27),S(44,WM,8,2,"div",27),S(45,HM,8,2,"div",27),a(46,"div",28)(47,"label",29),d(48),_(49,"translate"),r(),a(50,"mat-chip-grid",30,3),me(52,jM,5,1,"mat-chip",null,pe),a(54,"input",31),_(55,"translate"),E("matChipInputTokenEnd",function(c){return u(l),f(t.addTagDefault(c))}),r()()(),a(56,"div",28)(57,"label",29),d(58),_(59,"translate"),r(),a(60,"mat-chip-grid",30,3),me(62,UM,5,1,"mat-chip",null,pe),a(64,"input",31),_(65,"translate"),E("matChipInputTokenEnd",function(c){return u(l),f(t.addTagNull(c))}),r()()(),a(66,"div",16)(67,"label",32),d(68),r(),a(69,"textarea",33,4),w("ngModelChange",function(c){return u(l),T(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),r(),a(71,"em"),d(72),r(),S(73,qM,5,3,"mat-error"),r(),S(74,QM,9,7,"div",34),r()()()}if(i&2){let l=A(15),C=A(34),c=A(51),L=A(70);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",g(7,56,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(5),x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),M(l.value?-1:16),o(),M(l.value?17:-1),o(2),h("",l.value.length," / 100"),o(),M(l.errors!=null&&l.errors.required?20:-1),o(),m("optionSelectForce",t.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",g(22,58,"TITLE.USER"))("optionDisabled",!(t.fieldsInfo.linkPropertyTypeLanduseId!=null&&t.fieldsInfo.linkPropertyTypeLanduseId.accessEditField)),o(3),m("optionSelectForce",t.dataModel.linkPropertyDetailGroupId)("optionSelectParentForce",t.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",g(25,60,"TITLE.Category"))("optionDisabled",!(t.fieldsInfo.linkPropertyDetailGroupId!=null&&t.fieldsInfo.linkPropertyDetailGroupId.accessEditField)),o(2),M(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessWatchField?26:-1),o(),M(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessWatchField?27:-1),o(),M(t.fieldsInfo.showInFormOrder!=null&&t.fieldsInfo.showInFormOrder.accessWatchField?28:-1),o(),M(t.fieldsInfo.inputDataType!=null&&t.fieldsInfo.inputDataType.accessWatchField?29:-1),o(3),x(t.fieldsInfo.unit==null?null:t.fieldsInfo.unit.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.unit==null?null:t.fieldsInfo.unit.fieldTitle)),b("ngModel",t.dataModel.unit),o(3),h("",C.value.length," / 64"),o(),M(t.dataModel.inputDataType===1||t.dataModel.inputDataType===3?37:-1),o(),M(t.dataModel.inputDataType===1||t.dataModel.inputDataType===3?38:-1),o(),M(t.fieldsInfo.invisibleForEndUser!=null&&t.fieldsInfo.invisibleForEndUser.accessWatchField?39:-1),o(),M(t.fieldsInfo.invisibleForSubmiter!=null&&t.fieldsInfo.invisibleForSubmiter.accessWatchField?40:-1),o(),M(t.fieldsInfo.required!=null&&t.fieldsInfo.required.accessWatchField?41:-1),o(),M(t.fieldsInfo.isHistoryable!=null&&t.fieldsInfo.isHistoryable.accessWatchField?42:-1),o(),M(t.fieldsInfo.showInFastSearch!=null&&t.fieldsInfo.showInFastSearch.accessWatchField?43:-1),o(),M(t.fieldsInfo.configValueForceUseDefaultValue!=null&&t.fieldsInfo.configValueForceUseDefaultValue.accessWatchField?44:-1),o(),M(t.dataModel.configValueForceUseDefaultValue&&(t.fieldsInfo.configValueMultipleChoice!=null&&t.fieldsInfo.configValueMultipleChoice.accessWatchField)?45:-1),o(3),x(g(49,62,"TITLE.Choose_keywords_relative_to_the_content")),o(4),ue(t.keywordDefaultDataModel),o(2),m("placeholder",Pe("",g(55,64,"TITLE.key_word"),"+"))("matChipInputFor",c)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes)("matChipInputAddOnBlur",t.addOnBlurTag),o(4),x(g(59,66,"TITLE.Choose_keywords_relative_to_null_content")),o(4),ue(t.keywordNullDataModel),o(2),m("placeholder",Pe("",g(65,68,"TITLE.key_word"),"+"))("matChipInputFor",c)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes)("matChipInputAddOnBlur",t.addOnBlurTag),o(4),x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(3),h("",L.value.length," / 500"),o(),M(L.errors!=null&&L.errors.required?73:-1),o(),M(t.formInfo.submitButtonEnabled?74:-1)}},dependencies:[re,Re,X,Ft,Jt,$,Te,le,Ee,ge,_e,Ae,$t,ei,ti,Xt,De,Ze,we,ee,Fl,U,se,Bt,Zi,Kt,Qt,qt,Ut,gr,W],encapsulation:2});var as=hr;function zM(n,s){if(n&1){let e=I();a(0,"button",14),E("click",function(){u(e);let t=p();return f(t.onActionAdd())}),d(1),_(2,"translate"),r()}n&2&&(o(),h(" ",g(2,1,"ACTION.ADD")," "))}function KM(n,s){if(n&1){let e=I();a(0,"button",15),E("click",function(){u(e);let t=p();return f(t.onActionEdit())}),d(1),_(2,"translate"),r()}n&2&&(o(),h(" ",g(2,1,"ACTION.EDIT")," "))}function ZM(n,s){if(n&1){let e=I();a(0,"button",16),E("click",function(){u(e);let t=p();return f(t.onActionDelete())}),d(1),_(2,"translate"),r()}n&2&&(o(),h(" ",g(2,1,"ACTION.DELETE")," "))}function YM(n,s){if(n&1){let e=I();a(0,"button",17),E("click",function(){u(e);let t=p();return f(t.onActionButtonReload())}),a(1,"mat-icon",18),_(2,"translate"),d(3,"refresh"),r()()}if(n&2){let e=p();o(),ne("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),m("title",P(g(2,4,"ACTION.RELOAD")))}}function JM(n,s){if(n&1){let e=I();a(0,"mat-tree-node",19),y(1,"button",20),a(2,"span",21),E("click",function(){let t=u(e).$implicit,l=p();return f(l.onActionSelect(t))}),y(3,"i",22),d(4),r()()}if(n&2){let e=s.$implicit,i=p();ne("ntk-tree-selected",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),o(3),ae("color",e.IconColor),m("ngClass",e.IconFont),o(),h("\xA0",e.title)}}function XM(n,s){if(n&1){let e=I();a(0,"mat-tree-node",23)(1,"button",24)(2,"mat-icon",25),d(3),r()(),a(4,"span",21),E("click",function(){let t=u(e).$implicit,l=p();return f(l.onActionSelect(t))}),y(5,"i",22),d(6),r()()}if(n&2){let e=s.$implicit,i=p(),t=A(12);ne("ntk-tree-selected",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),m("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),li("type","button")("aria-label","Toggle "+e.title),o(2),h(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),ae("color",e.IconColor),m("ngClass",e.IconFont),o(),h("\xA0",e.title)}}var yr=class yr{constructor(s,e,i,t,l,C,c,L,q,Se){this.cmsToastrService=s;this.coreEnumService=e;this.categoryService=i;this.cmsConfirmationDialogService=t;this.dialog=l;this.cdr=C;this.publicHelper=c;this.translate=L;this.tokenHelper=q;this.cmsStoreService=Se;this.requestLinkPropertyTypeLanduseId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new wi;this.dataModelResult=new j;this.filterModel=new oe;this.dataSource=new $o;this.optionChange=new Vt;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(s,e)=>!1;this.childrenAccessor=s=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}set optionLinkPropertyTypeLanduseId(s){if(this.requestLinkPropertyTypeLanduseId=s,this.filterModel=new oe,s&&s.length>0){let e=new Z;e.propertyName="LinkPropertyTypeLanduseId",e.value=s,this.filterModel.filters.push(e)}}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(()=>Me(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onActionSelect(s){s&&this.dataModelSelect&&s.id==this.dataModelSelect.id?(this.dataModelSelect=null,this.optionChange.emit(null)):(this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect))}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new wi,this.DataGetAll()}onActionSelectForce(s){}onActionAdd(){var s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(cr,{height:"90%",panelClass:s,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{linkPropertyTypeLanduseId:this.requestLinkPropertyTypeLanduseId}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let s="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(s=this.dataModelSelect.id),s===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(ur,{height:"90%",panelClass:e,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{id:s}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let s="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(s=this.dataModelSelect.id),s===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="",i="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(t=>{e=t["MESSAGE.Please_Confirm"],i=t["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.dataModelSelect.title+" ) "}),this.cmsConfirmationDialogService.confirm(e,i).then(t=>{if(t){let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(C=>{this.publicHelper.processService.processStart(l,C,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.dataModelSelect.id).subscribe({next:C=>{C.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(l)},error:C=>{this.cmsToastrService.typeError(C),this.publicHelper.processService.processStop(l,!1)}})}}).catch(()=>{})}};yr.\u0275fac=function(e){return new(e||yr)(v(O),v(te),v(Zt),v(bt),v(Oe),v(N),v(G),v(B),v(de),v(Ce))},yr.\u0275cmp=V({type:yr,selectors:[["app-estate-property-detail-group-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionLinkPropertyTypeLanduseId:"optionLinkPropertyTypeLanduseId",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:16,vars:14,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["aria-hidden","true",3,"ngClass"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(a(0,"app-cms-html-tree",1),D(1,2),d(2),_(3,"translate"),k(),D(4,3),S(5,zM,3,3,"button",4),S(6,KM,3,3,"button",5),S(7,ZM,3,3,"button",6),S(8,YM,4,6,"button",7),k(),D(9,8),y(10,"app-progress-spinner",9),a(11,"mat-tree",10,0),R(13,JM,5,6,"mat-tree-node",11)(14,XM,7,11,"mat-tree-node",12),r(),k(),Ye(15,13),r()),e&2&&(m("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),h(" ",g(3,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow?5:-1),o(),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?6:-1),o(),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?7:-1),o(),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow?8:-1),o(2),m("optionsInfoAreaId",i.constructorInfoAreaId),o(),m("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),m("matTreeNodeDefWhen",i.hasChild))},dependencies:[re,Ue,we,Zo,Yo,Xo,Jo,Ko,U,na,W],encapsulation:2});var rs=yr;var eE=()=>[5,10,20,100];function tE(n,s){if(n&1){let e=I();a(0,"a",40),E("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),y(1,"i",41),r()}}function iE(n,s){if(n&1){let e=I();a(0,"div",17)(1,"a",42),E("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),y(2,"i",43)(3,"br"),r(),a(4,"p",44),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.ADD")," "))}function nE(n,s){if(n&1){let e=I();a(0,"div",17)(1,"a",45),E("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),y(2,"i",46)(3,"br"),r(),a(4,"p",44),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.EDIT")," "))}function oE(n,s){if(n&1){let e=I();a(0,"div",17)(1,"a",47),E("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),y(2,"i",48)(3,"br"),r(),a(4,"p",44),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.DELETE")," "))}function aE(n,s){if(n&1&&(a(0,"mat-header-cell",49),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function rE(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.id," ")}}function lE(n,s){if(n&1&&(a(0,"mat-header-cell",49),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle," ")}}function sE(n,s){if(n&1&&(a(0,"mat-cell"),y(1,"i",50),r()),n&2){let e=s.$implicit;o(),ae("color",e.iconColor),m("ngClass",e.iconFont)}}function dE(n,s){if(n&1&&(a(0,"mat-header-cell",49),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function cE(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.title," ")}}function pE(n,s){if(n&1&&(a(0,"mat-header-cell",49),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.unit==null?null:e.fieldsInfo.unit.fieldTitle," ")}}function mE(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.unit," ")}}function uE(n,s){if(n&1&&(a(0,"mat-header-cell",49),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle," ")}}function fE(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.showInFormOrder," ")}}function _E(n,s){if(n&1&&(a(0,"mat-header-cell",49),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.linkPropertyTypeLanduseId==null?null:e.fieldsInfo.linkPropertyTypeLanduseId.fieldTitle," ")}}function gE(n,s){if(n&1&&(a(0,"mat-cell"),d(1),_(2,"cmstitle"),r()),n&2){let e=s.$implicit,i=p();o(),h(" ",pi(2,1,e.linkPropertyTypeLanduseId,i.dataModelEstatePropertyTypeLanduseResult.listItems)," ")}}function CE(n,s){if(n&1&&(a(0,"mat-header-cell",49),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.linkPropertyDetailGroupId==null?null:e.fieldsInfo.linkPropertyDetailGroupId.fieldTitle," ")}}function hE(n,s){if(n&1&&(a(0,"mat-cell"),d(1),_(2,"cmstitle"),r()),n&2){let e=s.$implicit,i=p();o(),h(" ",pi(2,1,e.linkPropertyDetailGroupId,i.dataModelEstatePropertyDetailGroupResult.listItems)," ")}}function yE(n,s){n&1&&(a(0,"mat-header-cell"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.OPTION")," "))}function SE(n,s){if(n&1&&(a(0,"mat-cell",51)(1,"button",52)(2,"mat-icon"),d(3,"more_vert"),r()(),y(4,"mat-menu",null,2),r()),n&2){let e=A(5);o(),m("matMenuTriggerFor",e)}}function ME(n,s){n&1&&(a(0,"mat-header-cell",49),d(1,". "),r())}function EE(n,s){n&1&&(a(0,"mat-cell")(1,"mat-icon",53),d(2,"reorder"),r()())}function vE(n,s){n&1&&y(0,"mat-header-row")}function IE(n,s){if(n&1){let e=I();a(0,"mat-row",54),E("click",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))}),r()}if(n&2){let e=s.$implicit,i=p();ne("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Sr=class Sr extends wt{constructor(e,i,t,l,C,c,L,q,Se,je,Ke,Ot,ii,Sn){super(e,new qn,ii,L,Ke);this.contentService=e;this.estatePropertyDetailGroupService=i;this.estatePropertyTypeLanduseService=t;this.cmsConfirmationDialogService=l;this.activatedRoute=C;this.cmsToastrService=c;this.tokenHelper=L;this.cmsStoreService=q;this.router=Se;this.cdr=je;this.translate=Ke;this.pageInfo=Ot;this.publicHelper=ii;this.dialog=Sn;this.requestLinkPropertyTypeLanduseId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new oe;this.filterDataModelQueryBuilder=[];this.dataModelEstatePropertyTypeLanduseResult=new j;this.dataModelEstatePropertyDetailGroupResult=new j;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["IconFont","title","Unit","ShowInFormOrder","LinkPropertyTypeLanduseId","LinkPropertyDetailGroupId"];this.tabledisplayedColumnsMobileSource=["IconFont","title","Unit","ShowInFormOrder","LinkPropertyTypeLanduseId","LinkPropertyDetailGroupId"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.requestLinkPropertyTypeLanduseId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeLanduseId"),this.optionsSearch.parentMethods={onSubmit:xo=>this.onSubmitOptionsSearch(xo)},this.filteModelContent.sortColumn="ShowInFormOrder",this.filteModelContent.sortType=J.Ascending;let Mn=new Z;this.requestLinkPropertyTypeLanduseId&&this.requestLinkPropertyTypeLanduseId.length>0&&(Mn.propertyName="LinkPropertyTypeLanduseId",Mn.value=this.requestLinkPropertyTypeLanduseId,this.filteModelContent.filters.push(Mn))}ngOnInit(){this.filteModelContent.sortColumn="ShowInFormOrder",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Me(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getPropertyType(),this.getPropertyDetailGroup()}getPropertyType(){let e=new oe;e.rowPerPage=100,this.estatePropertyTypeLanduseService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelEstatePropertyTypeLanduseResult=i}})}getPropertyDetailGroup(){let e=new oe;e.rowPerPage=100,this.estatePropertyDetailGroupService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelEstatePropertyDetailGroupResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new qn);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new Z;t.propertyName="LinkPropertyDetailGroupId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=J.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onTableDropRow(e){let i=this.tableSource.data.findIndex(l=>l===e.item.data),t=new gl;t.id=this.tableSource.data[i].id,t.centerId=this.tableSource.data[e.currentIndex].id,i>e.currentIndex?t.actionGo=Lo.GoUp:t.actionGo=Lo.GoDown,this.contentService.ServiceEditStep(t).subscribe({next:l=>{l.isSuccess?(Il(this.tableSource.data,i,e.currentIndex),this.tableSource.data=this.tableSource.data.slice()):this.cmsToastrService.typeErrorMessage(l.errorMessage)},error:l=>{this.cmsToastrService.typeError(l)}})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new oe,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(os,{height:"90%",panelClass:e,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{linkPropertyTypeLanduseId:this.requestLinkPropertyTypeLanduseId,linkPropertyDetailGroupId:this.categoryModelSelected.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(as,{height:"90%",panelClass:i,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let C=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(C,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{i.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),C=new Z;C.propertyName="recordStatus",C.value=He.Available,l.filters.push(C),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{i.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/estate/property-type-landuse/"])}};Sr.\u0275fac=function(i){return new(i||Sr)(v(to),v(Zt),v(Di),v(bt),v(Gt),v(O),v(de),v(Ce),v(ke),v(N),v(B),v(It),v(G),v(Oe))},Sr.\u0275cmp=V({type:Sr,selectors:[["app-estate-property-detail-list"]],standalone:!1,features:[Y],decls:63,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange","optionLinkPropertyTypeLanduseId"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","cdkDropList","",3,"matSortChange","cdkDropListDropped","dataSource","cdkDropListData"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","title"],["matColumnDef","Unit"],["matColumnDef","ShowInFormOrder"],["matColumnDef","LinkPropertyTypeLanduseId"],["matColumnDef","LinkPropertyDetailGroupId"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=I();a(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(c){return u(l),T(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),E("optionOnActionButtonMemoRow",function(){return u(l),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(l),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(l),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(l),f(t.onActionButtonPrintRow())}),D(1,4),a(2,"app-estate-property-detail-group-tree",5),E("optionChange",function(c){return u(l),f(t.onActionSelectorSelect(c))}),r(),k(),Ye(3,6)(4,7),D(5,8),S(6,tE,2,0,"a",9),a(7,"a",10),E("click",function(){return u(l),f(t.viewGuideNotice=!t.viewGuideNotice)}),y(8,"i",11),r(),a(9,"a",10),E("click",function(){return u(l),f(t.onActionButtonReload())}),y(10,"i",12),r(),k(),D(11,13),a(12,"a",14),E("click",function(){return u(l),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),y(13,"mat-slide-toggle",15),d(14),_(15,"translate"),r(),a(16,"a",14),E("click",function(){return u(l),f(t.onActionButtonStatist())}),y(17,"mat-slide-toggle",15),d(18),_(19,"translate"),r(),k(),D(20,16),S(21,iE,7,3,"div",17),k(),D(22,18),S(23,nE,7,3,"div",17),S(24,oE,7,3,"div",17),k(),D(25,19),a(26,"app-cms-search-list",20),w("optionsChange",function(c){return u(l),T(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),r(),a(27,"app-cms-statist-list",20),w("optionsChange",function(c){return u(l),T(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),r(),k(),D(28,21),a(29,"mat-table",22,0),E("matSortChange",function(){u(l);let c=A(30);return f(t.onTableSortData(c))})("cdkDropListDropped",function(c){return u(l),f(t.onTableDropRow(c))}),D(31,23),R(32,aE,2,1,"mat-header-cell",24)(33,rE,2,1,"mat-cell",25),k(),D(34,26),R(35,lE,2,1,"mat-header-cell",24)(36,sE,2,3,"mat-cell",25),k(),D(37,27),R(38,dE,2,1,"mat-header-cell",24)(39,cE,2,1,"mat-cell",25),k(),D(40,28),R(41,pE,2,1,"mat-header-cell",24)(42,mE,2,1,"mat-cell",25),k(),D(43,29),R(44,uE,2,1,"mat-header-cell",24)(45,fE,2,1,"mat-cell",25),k(),D(46,30),R(47,_E,2,1,"mat-header-cell",24)(48,gE,3,4,"mat-cell",25),k(),D(49,31),R(50,CE,2,1,"mat-header-cell",24)(51,hE,3,4,"mat-cell",25),k(),D(52,32),R(53,yE,3,3,"mat-header-cell",33)(54,SE,6,1,"mat-cell",34),k(),D(55,35),R(56,ME,2,0,"mat-header-cell",24)(57,EE,3,0,"mat-cell",25),k(),R(58,vE,1,0,"mat-header-row",36)(59,IE,1,2,"mat-row",37),r(),k(),D(60,38),a(61,"mat-paginator",39,1),E("page",function(c){return u(l),f(t.onTablePageingData(c))}),r(),k(),r()}i&2&&(m("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),m("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(2),m("optionLinkPropertyTypeLanduseId",t.requestLinkPropertyTypeLanduseId),o(4),M((t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)>0?6:-1),o(4),ne("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),m("checked",t.optionsSearch.data.show),o(),h("",g(15,28,"ACTION.SEARCH")," "),o(3),m("checked",t.optionsStatist.data.show),o(),h("",g(19,30,"ACTION.STATIST")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow&&(t.categoryModelSelected==null?null:t.categoryModelSelected.id.length)>0?21:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),o(2),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),m("dataSource",t.tableSource)("cdkDropListData",t.tableSource),o(29),m("matHeaderRowDef",t.tabledisplayedColumns),o(),m("matRowDefColumns",t.tabledisplayedColumns),o(2),m("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",fe(32,eE)))},dependencies:[re,Ue,we,yt,St,Mt,ft,Et,vt,$e,tt,at,it,et,rt,nt,ot,lt,st,xt,Pt,At,Rt,Tl,bl,rs,W,An],encapsulation:2});var Eo=Sr;var gc=Bn(Kn());var bE=["*"];function TE(n,s){if(n&1&&(a(0,"label",3),d(1),r()),n&2){let e=p();m("for",Pe("app-cms-site-selector-",e.id)),o(),x(e.optionLabel)}}function wE(n,s){if(n&1&&(y(0,"img",5),_(1,"cmsthumbnail")),n&2){let e=p();m("src",P(g(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),H)}}function xE(n,s){if(n&1&&(y(0,"img",5),_(1,"cmsthumbnail")),n&2){let e=p().$implicit;m("src",P(g(1,2,e.linkMainImageIdSrc)),H)}}function PE(n,s){if(n&1&&(a(0,"mat-option",8),S(1,xE,2,4,"img",5),a(2,"span"),d(3),r()()),n&2){let e=s.$implicit,i=p();m("value",e)("disabled",i.optionDisabled),o(),M(e.linkMainImageIdSrc?1:-1),o(2),x(i.displayOption(e))}}function AE(n,s){n&1&&y(0,"i",9)}function RE(n,s){n&1&&y(0,"i",10)}function DE(n,s){if(n&1){let e=I();a(0,"i",13),E("click",function(){u(e);let t=p();return f(t.onActionSelectClear())}),r()}}function kE(n,s){n&1&&(a(0,"em"),d(1),_(2,"translate"),r()),n&2&&(o(),h("(",g(2,1,"TITLE.Necessary"),")"))}var vo=class vo{constructor(s,e,i,t,l,C){this.coreEnumService=s;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=l;this.contentService=C;this.id=++vo.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new j;this.dataModelSelect=new Ti;this.formControl=new si;this.optionPlaceholder="";this.optionLabel="";this.optionSelectFirstItem=!1;this.optionDisabled=!1;this.optionRequired=!1;this.optionChange=new Vt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Ni(""),Oi(1500),Yn(),Gi(s=>typeof s=="string"||typeof s=="number"?this.DataGetAll(s||""):[]))}displayFn(s){return s?s.title:void 0}displayOption(s){return s?s.title:void 0}DataGetAll(s){return Me(this,null,function*(){let e=new Fo;e.rowPerPage=20,e.accessLoad=!0;let i=new Z;i.propertyName="title",i.value=s,i.searchType=kt.Contains,i.clauseType=Ct.Or,e.filters.push(i),s&&typeof s=="string"&&s.length>0&&(i=new Z,i.propertyName="id",i.value=s,i.searchType=kt.Equal,i.clauseType=Ct.Or,e.filters.push(i)),s?.length>0&&(i=new Z,i.propertyName="LinkCmsUserId",i.value=s,i.searchType=kt.Equal,i.clauseType=Ct.Or,e.filters.push(i),i=new Z,i.propertyName="mobileNumber",i.value=s,i.searchType=kt.Contains,i.clauseType=Ct.Or,e.filters.push(i),i=new Z,i.propertyName="phoneNumber",i.value=s,i.searchType=kt.Contains,i.clauseType=Ct.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),Zn(this.contentService.ServiceGetAll(e)).then(l=>(this.dataModelResult=l,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),l.listItems))})}onActionSelect(s){this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect.linkMainImageIdSrc="",this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(s){return this.filteredOptions.pipe(Bi(e=>(e.find(i=>i.id===s.id)||e.push(s),e)))}onActionSelectForce(s){if(typeof s=="string"&&s.length>0){this.contentService.ServiceGetOneById(s).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof s==typeof Ti){this.filteredOptions=this.push(s),this.dataModelSelect=s,this.formControl.setValue(s);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Ti,this.loadOptions()}};vo.nextId=0,vo.\u0275fac=function(e){return new(e||vo)(v(te),v(O),v(N),v(G),v(B),v(Ai))},vo.\u0275cmp=V({type:vo,selectors:[["app-estate-property-company-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:bE,decls:18,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=I();Jn(),a(0,"div",1),y(1,"app-progress-spinner",2),S(2,TE,2,3,"label",3),a(3,"span",4),S(4,wE,2,4,"img",5),r(),y(5,"input",6),a(6,"mat-autocomplete",7,0),E("optionSelected",function(C){return u(t),f(i.onActionSelect(C.option.value))}),me(8,PE,4,4,"mat-option",8,pe),_(10,"async"),r(),S(11,AE,1,0,"i",9),S(12,RE,1,0,"i",10),S(13,DE,1,0,"i",11),a(14,"i",12),_(15,"translate"),E("click",function(){return u(t),f(i.onActionButtonReload())}),r(),S(16,kE,3,3,"em"),On(17),r()}if(e&2){let t=A(7);o(),m("optionsInfoAreaId",i.constructorInfoAreaId),o(),M((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),M(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),m("placeholder",P(i.optionPlaceholder))("id",Pe("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),li("disabled",i.optionDisabled?!0:null),o(),m("displayWith",i.displayFn),o(2),ue(g(10,20,i.filteredOptions)),o(3),M(i.formControl.valid?-1:11),o(),M(i.optionRequired&&i.formControl.valid?12:-1),o(),M((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?13:-1),o(),ne("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),m("title",P(g(15,22,"ACTION.RELOAD"))),o(2),M(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0)?16:-1)}},dependencies:[X,$,le,qi,zi,Qi,Ki,No,ee,U,pt,W,he],encapsulation:2});var un=vo;var LE=["vform"];function VE(n,s){if(n&1){let e=I();a(0,"app-cms-enum-record-status-selector",55),w("modelChange",function(t){u(e);let l=p();return T(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),f(t)}),r()}if(n&2){let e=p();b("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function FE(n,s){if(n&1){let e=I();a(0,"app-cms-enum-record-admin-status-selector",55),w("modelChange",function(t){u(e);let l=p();return T(l.dataModel.mainAdminRecordStatus,t)||(l.dataModel.mainAdminRecordStatus=t),f(t)}),r()}if(n&2){let e=p();b("model",e.dataModel.mainAdminRecordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function BE(n,s){n&1&&y(0,"i",58)}function OE(n,s){n&1&&y(0,"i",59)}function NE(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2){let e=p(2);o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),o(2),x(g(4,2,"MESSAGE.required"))}}function GE(n,s){if(n&1){let e=I();a(0,"div",22)(1,"label",56),d(2),r(),a(3,"input",57,8),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.title,t)||(l.dataModel.title=t),f(t)}),r(),S(5,BE,1,0,"i",58),S(6,OE,1,0,"i",59),a(7,"em"),d(8),r(),S(9,NE,5,4,"mat-error"),r()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle))("disabled",P(!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField))),b("ngModel",i.dataModel.title),o(2),M(e.value?-1:5),o(),M(e.value?6:-1),o(2),h("",e.value.length," / 100"),o(),M(e.errors!=null&&e.errors.required?9:-1)}}function WE(n,s){if(n&1){let e=I();a(0,"app-estate-property-company-selector",60),_(1,"translate"),E("optionChange",function(t){u(e);let l=p();return f(l.onActionSelectorCompany(t))}),r()}if(n&2){let e=p();m("optionSelectForce",e.dataModel.linkPropertyCompanyId)("optionPlaceholder",g(1,2,"TITLE.Company"))}}function HE(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2){let e=p();o(),h(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," "),o(2),x(g(4,2,"MESSAGE.required"))}}function jE(n,s){if(n&1){let e=I();a(0,"div",22)(1,"label",61),d(2),_(3,"translate"),r(),a(4,"textarea",62,9),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.descriptionHidden,t)||(l.dataModel.descriptionHidden=t),f(t)}),r(),a(6,"em"),d(7),r()()}if(n&2){let e=A(5),i=p();o(2),x(g(3,5,"TITLE.Description_Hidden")),o(2),m("placeholder",P(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",i.dataModel.descriptionHidden),o(3),h("",e.value.length," / 500")}}function UE(n,s){if(n&1){let e=I();a(0,"div",27)(1,"label",63),d(2),r(),a(3,"input",64),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.fromDate,t)||(l.dataModel.fromDate=t),f(t)}),r(),y(4,"mat-datepicker-toggle",65)(5,"mat-datepicker",66,10),r()}if(n&2){let e=A(6),i=p();o(2),x(i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle))("disabled",P(!(i.fieldsInfo.fromDate!=null&&i.fieldsInfo.fromDate.accessAddField)))("matDatepicker",e),b("ngModel",i.dataModel.fromDate),o(),m("for",e)}}function qE(n,s){if(n&1){let e=I();a(0,"div",27)(1,"label",67),d(2),r(),a(3,"input",68,11),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.expireDate,t)||(l.dataModel.expireDate=t),f(t)}),r(),y(5,"mat-datepicker-toggle",65),r()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle))("disabled",P(!(i.fieldsInfo.expireDate!=null&&i.fieldsInfo.expireDate.accessAddField)))("matDatepicker",e),b("ngModel",i.dataModel.expireDate),o(2),m("for",e)}}function QE(n,s){if(n&1){let e=I();a(0,"div",30)(1,"button",69),E("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),d(2),_(3,"translate"),r(),a(4,"button",70),d(5),_(6,"translate"),r()()}if(n&2){p();let e=A(10);o(2),h(" ",g(3,3,"ACTION.BACK")," "),o(2),m("disabled",!e.form.valid),o(),h(" ",g(6,5,"ACTION.NEXT")," ")}}function zE(n,s){if(n&1){let e=I();a(0,"div",22)(1,"label",71),d(2),_(3,"translate"),r(),a(4,"input",72,12),_(6,"translate"),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.source,t)||(l.dataModel.source=t),f(t)}),r(),a(7,"em"),d(8),r()()}if(n&2){let e=A(5),i=p();o(2),x(g(3,7,"TITLE.Source_page_address")),o(2),m("placeholder",P(g(6,9,"TITLE.Content_reference_website_link")))("disabled",P(!(i.fieldsInfo.source!=null&&i.fieldsInfo.source.accessAddField))),b("ngModel",i.dataModel.source),o(4),h("",e.value.length," / 500")}}function KE(n,s){if(n&1){let e=I();a(0,"mat-chip",73),E("removed",function(){let t=u(e).$implicit,l=p();return f(l.removeTag(t))}),d(1),a(2,"button",74)(3,"mat-icon"),d(4,"cancel"),r()()()}if(n&2){let e=s.$implicit;o(),h(" ",e," ")}}function ZE(n,s){if(n&1&&(a(0,"div",30)(1,"button",75),d(2),_(3,"translate"),r(),a(4,"button",70),d(5),_(6,"translate"),r()()),n&2){p();let e=A(10);o(2),h(" ",g(3,3,"ACTION.BEFOR")," "),o(2),m("disabled",!e.form.valid),o(),h(" ",g(6,5,"ACTION.NEXT")," ")}}function YE(n,s){if(n&1&&(y(0,"img",38),_(1,"cmsthumbnail")),n&2){let e=p();m("src",P(g(1,2,e.dataModel.linkMainImageIdSrc)),H)}}function JE(n,s){n&1&&(a(0,"p"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.List_of_attached_photos")," "))}function XE(n,s){if(n&1&&(a(0,"audio",44),y(1,"source",76),_(2,"cmsthumbnail"),d(3," Your browser does not support the audio tag. "),r()),n&2){let e=p();o(),m("src",P(g(2,2,e.dataModel.linkFilePodcastIdSrc)),H)}}function $E(n,s){if(n&1&&(a(0,"video",44),y(1,"source",77),d(2," Your browser does not support the video tag. "),r()),n&2){let e=p();o(),m("src",P(e.dataModel.linkFileMovieIdSrc),H)}}function ev(n,s){if(n&1&&(a(0,"div",30)(1,"button",75),d(2),_(3,"translate"),r(),a(4,"button",70),d(5),_(6,"translate"),r()()),n&2){p();let e=A(10);o(2),h(" ",g(3,3,"ACTION.BEFOR")," "),o(2),m("disabled",!e.form.valid),o(),h(" ",g(6,5,"ACTION.NEXT")," ")}}function tv(n,s){if(n&1&&(a(0,"button",78),d(1),_(2,"translate"),r()),n&2){p(2);let e=A(10);m("disabled",!e.form.valid),o(),h(" ",g(2,2,"ACTION.SAVE")," ")}}function iv(n,s){if(n&1&&(a(0,"div",30)(1,"button",75),d(2),_(3,"translate"),r(),S(4,tv,3,4,"button",78),r()),n&2){let e=p();o(2),h(" ",g(3,2,"ACTION.BEFOR")," "),o(2),M(e.formInfo.submitButtonEnabled?4:-1)}}function nv(n,s){n&1&&(a(0,"mat-icon"),d(1,"call_end"),r())}function ov(n,s){n&1&&(a(0,"mat-icon"),d(1,"call_end"),r())}function av(n,s){n&1&&(a(0,"mat-icon"),d(1,"forum"),r())}function rv(n,s){n&1&&(a(0,"mat-icon"),d(1,"forum"),r())}var Mr=class Mr extends _t{constructor(e,i,t,l,C,c,L,q,Se){super(t,new xi,i,Se);this.coreEnumService=e;this.publicHelper=i;this.contentService=t;this.cmsToastrService=l;this.cmsStoreService=C;this.tokenHelper=c;this.router=L;this.cdr=q;this.translate=Se;this.constructorInfoAreaId=this.constructor.name;this.dataModel=new xi;this.dataModelResult=new j;this.dataFileModelImgaes=new Map;this.dataFileModelFiles=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypePodcast=["mp3"];this.selectFileTypeMovie=["mp4","webm"];this.formInfo=new ie;this.fileManagerOpenForm=!1;this.fileManagerOpenFormPodcast=!1;this.fileManagerOpenFormMovie=!1;this.fieldsInfo=new Map;this.keywordDataModel=[];this.tagDataModel=[];this.similarDataModel=new Array;this.otherInfoTabledisplayedColumns=["title","TypeId","Action"];this.similarTabledisplayedColumns=["linkMainImageIdSrc","id","recordStatus","title","Action"];this.similarTabledataSource=new Ht;this.appLanguage="fa";this.tokenInfo=new Wt;this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Ci;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.DataGetAccess()}onActionTagChange(e){this.tagDataModel=e}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionFileSelectedLinkFilePodcastId(e){this.dataModel.linkFilePodcastId=e.id,this.dataModel.linkFilePodcastIdSrc=e.downloadLinksrc}onActionFileSelectedLinkFileMovieId(e){this.dataModel.linkFileMovieId=e.id,this.dataModel.linkFileMovieIdSrc=e.downloadLinksrc}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapModel.on("click",i=>{let t=i.latlng.lat,l=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&l===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=gc.marker([t,l]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=l}))}receiveZoom(e){}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}if(this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let e=[];this.keywordDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.keyword=e.join(","))}this.DataAddContent()}DataAddContent(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";if(this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}if(this.dataFileModelImgaes){let i=Array.from(this.dataFileModelImgaes.keys());i&&i.length>0&&(this.dataModel.linkExtraImageIds=i.join(","))}this.contentService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessAdd(),setTimeout(()=>this.router.navigate(["/estate/property-project/"]),1e3)):this.cmsToastrService.typeErrorAdd(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorAdd(i),this.publicHelper.processService.processStop(e)}})}onActionSelectorCompany(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.information_area_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkPropertyCompanyId=null;return}this.dataModel.linkPropertyCompanyId=e.id}onActionContentSimilarRemoveFromLIst(e){if(!e||e.id.length<=0||!this.similarDataModel||this.similarDataModel.length===0)return;let i=new Array;this.similarDataModel.forEach(t=>{t.id!==e.id&&i.push(t)}),this.similarDataModel=i,this.similarTabledataSource.data=this.similarDataModel}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/estate/property-project/"])}onActionSelectorLocation(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=e.id}addTag(e){let i=(e.value||"").trim();i&&this.keywordDataModel.push(i),e.chipInput.clear()}removeTag(e){let i=this.keywordDataModel.indexOf(e);i>=0&&this.keywordDataModel.splice(i,1)}};Mr.\u0275fac=function(i){return new(i||Mr)(v(te),v(G),v(Ri),v(O),v(Ce),v(de),v(ke),v(N),v(B))},Mr.\u0275cmp=V({type:Mr,selectors:[["app-estate-property-project-add"]],viewQuery:function(i,t){if(i&1&&Q(LE,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[Y],decls:118,vars:139,consts:[["vform","ngForm"],["stepper",""],["Description",""],["chipList",""],["tagInput",""],["LinkMainImageId",""],["LinkFilePodcastId",""],["LinkFileMovieId",""],["Title",""],["DescriptionHidden",""],["FromDate",""],["ExpireDate",""],["Source",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[3,"optionSelectForce","optionPlaceholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"pb-5"],["id","main","name","dataModel.body",3,"ngModelChange","placeholder","config","ngModel"],[1,"ntk-button-row"],["state","seo",3,"label"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView","optionFileType"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["controls",""],["matInput","","type","text","name","dataModel.linkFilePodcastId","id","dataModel.linkFilePodcastId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],["matInput","","type","text","name","dataModel.linkFileMovieId","id","dataModel.linkFileMovieId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"dataModelChange","dataModel"],[3,"dataModelChange","dataModel","dataImageModel"],["state","loaction",3,"label"],["id","main-map",3,"map$","zoom$","optonCenter"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],["touchUi",""],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["for","dataModel.source",1,"color-highlight"],["matInput","","type","text","name","dataModel.source","type","text","dir","ltr","minlength","3","maxlength","500","id","dataModel.source",1,"form-control","validate-name","input-ltr",2,"text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["type","audio/mp3",3,"src"],["type","video/mp4",3,"src"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let l=I();a(0,"div",13),y(1,"app-progress-spinner",14),a(2,"div",15)(3,"p",16),d(4),r(),a(5,"p"),d(6),_(7,"translate"),r(),y(8,"app-cms-form-result-message",17),a(9,"form",18,0),E("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(11,"mat-vertical-stepper",19,1),E("selectionChange",function(c){u(l);let L=A(12);return f(t.onStepClick(c,L))}),a(13,"mat-step",20),_(14,"translate"),S(15,VE,1,5,"app-cms-enum-record-status-selector",21),S(16,FE,1,5,"app-cms-enum-record-admin-status-selector",21),S(17,GE,10,10,"div",22),S(18,WE,2,4,"app-estate-property-company-selector",23),a(19,"div",22)(20,"label",24),d(21),r(),a(22,"textarea",25,2),w("ngModelChange",function(c){return u(l),T(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),r(),a(24,"em"),d(25),r(),S(26,HE,5,4,"mat-error"),r(),S(27,jE,8,7,"div",22),a(28,"app-cms-location-selector",26),_(29,"translate"),E("optionChange",function(c){return u(l),f(t.onActionSelectorLocation(c))}),r(),S(30,UE,7,8,"div",27),S(31,qE,6,8,"div",27),y(32,"hr",28),a(33,"label"),d(34),r(),a(35,"angular-editor",29),_(36,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.body,c)||(t.dataModel.body=c),f(c)}),r(),S(37,QE,7,7,"div",30),r(),a(38,"mat-step",31),_(39,"translate"),a(40,"p"),d(41),_(42,"translate"),r(),S(43,zE,9,11,"div",22),a(44,"mat-form-field",32)(45,"mat-label"),d(46),_(47,"translate"),r(),a(48,"mat-chip-grid",33,3),me(50,KE,5,1,"mat-chip",null,pe),a(52,"input",34,4),_(54,"translate"),E("matChipInputTokenEnd",function(c){return u(l),f(t.addTag(c))}),r()()(),S(55,ZE,7,7,"div",30),r(),a(56,"mat-step",35),_(57,"translate"),a(58,"p"),d(59),_(60,"translate"),r(),a(61,"div",36)(62,"a",37),_(63,"cmsthumbnail"),S(64,YE,2,4,"img",38),r()(),a(65,"div",22)(66,"label",39),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),d(67),_(68,"translate"),r(),a(69,"input",40,5),_(71,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),r(),a(72,"cms-file-manager",41),E("itemSelected",function(c){return u(l),f(t.onActionFileSelectedLinkMainImageId(c))}),w("openFormChange",function(c){return u(l),T(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),f(c)}),r()(),y(73,"hr"),S(74,JE,3,3,"p"),a(75,"app-cms-files-selector",42),w("dataFileModelChange",function(c){return u(l),T(t.dataFileModelImgaes,c)||(t.dataFileModelImgaes=c),f(c)}),r(),y(76,"hr"),a(77,"div")(78,"p"),d(79),_(80,"translate"),r(),a(81,"app-cms-files-selector",43),w("dataFileModelChange",function(c){return u(l),T(t.dataFileModelFiles,c)||(t.dataFileModelFiles=c),f(c)}),r(),y(82,"br"),r(),a(83,"div",36),S(84,XE,4,4,"audio",44),r(),a(85,"div",22)(86,"input",45,6),_(88,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.linkFilePodcastId,c)||(t.dataModel.linkFilePodcastId=c),f(c)}),E("click",function(){return u(l),f(t.fileManagerOpenFormPodcast=!0)}),r(),a(89,"cms-file-manager",41),E("itemSelected",function(c){return u(l),f(t.onActionFileSelectedLinkFilePodcastId(c))}),w("openFormChange",function(c){return u(l),T(t.fileManagerOpenFormPodcast,c)||(t.fileManagerOpenFormPodcast=c),f(c)}),r()(),a(90,"div",36),S(91,$E,3,2,"video",44),r(),a(92,"div",22)(93,"input",46,7),_(95,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.linkFileMovieId,c)||(t.dataModel.linkFileMovieId=c),f(c)}),E("click",function(){return u(l),f(t.fileManagerOpenFormMovie=!0)}),r(),a(96,"cms-file-manager",41),E("itemSelected",function(c){return u(l),f(t.onActionFileSelectedLinkFileMovieId(c))}),w("openFormChange",function(c){return u(l),T(t.fileManagerOpenFormMovie,c)||(t.fileManagerOpenFormMovie=c),f(c)}),r()(),a(97,"h3"),d(98),_(99,"translate"),r(),a(100,"app-cms-360-image-list",47),w("dataModelChange",function(c){return u(l),T(t.dataModel.file360Views,c)||(t.dataModel.file360Views=c),f(c)}),r(),y(101,"br"),a(102,"h3"),d(103),_(104,"translate"),r(),a(105,"app-cms-360-tour-list",48),w("dataModelChange",function(c){return u(l),T(t.dataModel.file360Tour,c)||(t.dataModel.file360Tour=c),f(c)}),r(),S(106,ev,7,7,"div",30),r(),a(107,"mat-step",49),_(108,"translate"),a(109,"p"),d(110),_(111,"translate"),r(),a(112,"app-cms-map",50),E("map$",function(c){return u(l),f(t.receiveMap(c))})("zoom$",function(c){return u(l),f(t.receiveZoom(c))}),r(),S(113,iv,5,4,"div",30),r(),R(114,nv,2,0,"ng-template",51)(115,ov,2,0,"ng-template",52)(116,av,2,0,"ng-template",53)(117,rv,2,0,"ng-template",54),r()()()()}if(i&2){let l=A(23),C=A(49);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",g(7,99,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(5),m("label",P(g(14,101,"TITLE.REQUIRED_INFORMATION"))),o(2),M(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?15:-1),o(),M(t.fieldsInfo.mainAdminRecordStatus!=null&&t.fieldsInfo.mainAdminRecordStatus.accessWatchField?16:-1),o(),M(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?17:-1),o(),M(t.tokenHelper.isAdminSite?18:-1),o(3),x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle))("disabled",P(!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessAddField))),b("ngModel",t.dataModel.description),o(3),h("",l.value.length," / 500"),o(),M(l.errors!=null&&l.errors.required?26:-1),o(),M(t.fieldsInfo.descriptionHidden!=null&&t.fieldsInfo.descriptionHidden.accessWatchField?27:-1),o(),m("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessEditField))("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",g(29,103,"TITLE.Region")),o(2),M(t.fieldsInfo.fromDate!=null&&t.fieldsInfo.fromDate.accessWatchField?30:-1),o(),M(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessWatchField?31:-1),o(3),h(" ",t.fieldsInfo.body==null?null:t.fieldsInfo.body.fieldTitle," "),o(),m("placeholder",g(36,105,"TITLE.Enter_Text"))("config",t.publicHelper.editorConfig),b("ngModel",t.dataModel.body),o(2),M(t.formInfo.submitButtonEnabled?37:-1),o(),m("label",P(g(39,107,"TITLE.Search_Engines"))),o(3),h(" ",g(42,109,"TITLE.This_section_helps_search_engines_better_index_content")," "),o(2),M(t.fieldsInfo.source!=null&&t.fieldsInfo.source.accessWatchField?43:-1),o(3),x(g(47,111,"TITLE.Choose_keywords_relative_to_the_content")),o(4),ue(t.keywordDataModel),o(2),m("placeholder",g(54,113,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",C)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(3),M(t.formInfo.submitButtonEnabled?55:-1),o(),m("label",P(g(57,115,"TITLE.ATTACH_FILES"))),o(3),x(g(60,117,"TITLE.CONTENT_ATTACH_FILES")),o(3),m("href",P(g(63,119,t.dataModel.linkMainImageIdSrc)),H),o(2),M((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?64:-1),o(3),x(g(68,121,"TITLE.Original_Photo")),o(2),m("placeholder",P(g(71,123,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),m("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),m("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(2),M(t.dataFileModelImgaes&&t.dataFileModelImgaes.size>0?74:-1),o(),b("dataFileModel",t.dataFileModelImgaes),m("openDirectUploadView",!0)("optionFileType",t.selectFileTypeMainImage),o(4),x(g(80,125,"TITLE.List_of_attached_files")),o(2),b("dataFileModel",t.dataFileModelFiles),m("openDirectUploadView",!0),o(3),M((t.dataModel==null||t.dataModel.linkFilePodcastIdSrc==null?null:t.dataModel.linkFilePodcastIdSrc.length)>0?84:-1),o(2),m("placeholder",P(g(88,127,"TITLE.Audio_File_ID"))),b("ngModel",t.dataModel.linkFilePodcastId),o(3),m("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenFormPodcast),m("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypePodcast)("openFilemanagerButtonView",!1),o(2),M((t.dataModel==null||t.dataModel.linkFileMovieIdSrc==null?null:t.dataModel.linkFileMovieIdSrc.length)>0?91:-1),o(2),m("placeholder",P(g(95,129,"TITLE.Video_File_ID"))),b("ngModel",t.dataModel.linkFileMovieId),o(3),m("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenFormMovie),m("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMovie)("openFilemanagerButtonView",!1),o(2),x(g(99,131,"TITLE.image_360")),o(2),b("dataModel",t.dataModel.file360Views),o(3),x(g(104,133,"TITLE.virtual_tour")),o(2),b("dataModel",t.dataModel.file360Tour),m("dataImageModel",t.dataModel.file360Views),o(),M(t.formInfo.submitButtonEnabled?106:-1),o(),m("label",Pe("",g(108,135,"TITLE.Location")," ")),o(3),h(" ",g(111,137,"TITLE.Click_on_the_map_to_specify_the_location")," "),o(2),m("optonCenter",t.mapOptonCenter),o(),M(t.publicHelper.processService.process.inRunAll?-1:113)}},dependencies:[Re,X,$,Te,le,Ee,ge,_e,Ae,Yt,$t,ei,ti,Xt,wn,xn,dn,ri,ai,De,Ze,we,ee,ui,fi,_i,gi,mi,hi,Ei,Si,vi,Ii,zt,U,se,Mi,yi,un,cn,qe,W,he],encapsulation:2});var Er=Mr;var ws=Bn(Kn());var lv=["vform"];function sv(n,s){if(n&1){let e=I();a(0,"app-cms-enum-record-status-selector",55),w("modelChange",function(t){u(e);let l=p();return T(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),f(t)}),r()}if(n&2){let e=p();b("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function dv(n,s){if(n&1){let e=I();a(0,"app-cms-enum-record-admin-status-selector",55),w("modelChange",function(t){u(e);let l=p();return T(l.dataModel.mainAdminRecordStatus,t)||(l.dataModel.mainAdminRecordStatus=t),f(t)}),r()}if(n&2){let e=p();b("model",e.dataModel.mainAdminRecordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function cv(n,s){n&1&&y(0,"i",58)}function pv(n,s){n&1&&y(0,"i",59)}function mv(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2){let e=p(2);o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),o(2),x(g(4,2,"MESSAGE.required"))}}function uv(n,s){if(n&1){let e=I();a(0,"div",22)(1,"label",56),d(2),r(),a(3,"input",57,8),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.title,t)||(l.dataModel.title=t),f(t)}),r(),S(5,cv,1,0,"i",58),S(6,pv,1,0,"i",59),a(7,"em"),d(8),r(),S(9,mv,5,4,"mat-error"),r()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle))("disabled",P(!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField))),b("ngModel",i.dataModel.title),o(2),M(e.value?-1:5),o(),M(e.value?6:-1),o(2),h("",e.value.length," / 100"),o(),M(e.errors!=null&&e.errors.required?9:-1)}}function fv(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2){let e=p();o(),h(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," "),o(2),x(g(4,2,"MESSAGE.required"))}}function _v(n,s){if(n&1){let e=I();a(0,"div",22)(1,"label",60),d(2),_(3,"translate"),r(),a(4,"textarea",61,9),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.descriptionHidden,t)||(l.dataModel.descriptionHidden=t),f(t)}),r(),a(6,"em"),d(7),r()()}if(n&2){let e=A(5),i=p();o(2),x(g(3,7,"TITLE.Description_Hidden")),o(2),m("placeholder",P(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle))("disabled",P(!(i.fieldsInfo.descriptionHidden!=null&&i.fieldsInfo.descriptionHidden.accessEditField))),b("ngModel",i.dataModel.descriptionHidden),o(3),h("",e.value.length," / 500")}}function gv(n,s){if(n&1){let e=I();a(0,"app-estate-property-company-selector",62),_(1,"translate"),E("optionChange",function(t){u(e);let l=p();return f(l.onActionSelectorCompany(t))}),r()}if(n&2){let e=p();m("optionSelectForce",e.dataModel.linkPropertyCompanyId)("optionPlaceholder",g(1,2,"TITLE.Company"))}}function Cv(n,s){if(n&1){let e=I();a(0,"div",27)(1,"label",63),d(2),r(),a(3,"input",64),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.fromDate,t)||(l.dataModel.fromDate=t),f(t)}),r(),y(4,"mat-datepicker-toggle",65)(5,"mat-datepicker",66,10),r()}if(n&2){let e=A(6),i=p();o(2),x(i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle))("disabled",P(!(i.fieldsInfo.fromDate!=null&&i.fieldsInfo.fromDate.accessEditField)))("matDatepicker",e),b("ngModel",i.dataModel.fromDate),o(),m("for",e)}}function hv(n,s){if(n&1){let e=I();a(0,"div",27)(1,"label",67),d(2),r(),a(3,"input",68),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.expireDate,t)||(l.dataModel.expireDate=t),f(t)}),r(),y(4,"mat-datepicker-toggle",65)(5,"mat-datepicker",66,11),r()}if(n&2){let e=A(6),i=p();o(2),x(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle))("disabled",P(!(i.fieldsInfo.expireDate!=null&&i.fieldsInfo.expireDate.accessEditField)))("matDatepicker",e),b("ngModel",i.dataModel.expireDate),o(),m("for",e)}}function yv(n,s){if(n&1){let e=I();a(0,"div",30)(1,"button",69),E("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),d(2),_(3,"translate"),r(),a(4,"button",70),d(5),_(6,"translate"),r(),a(7,"button",71),d(8),_(9,"translate"),r()()}if(n&2){p();let e=A(10);o(2),h(" ",g(3,5,"ACTION.BACK")," "),o(2),m("disabled",!e.form.valid),o(),h(" ",g(6,7,"ACTION.NEXT")," "),o(2),m("disabled",!e.form.valid),o(),h(" ",g(9,9,"ACTION.SAVE")," ")}}function Sv(n,s){if(n&1){let e=I();a(0,"div",22)(1,"label",72),d(2),_(3,"translate"),r(),a(4,"input",73,12),_(6,"translate"),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.source,t)||(l.dataModel.source=t),f(t)}),r(),a(7,"em"),d(8),r()()}if(n&2){let e=A(5),i=p();o(2),x(g(3,7,"TITLE.Source_page_address")),o(2),m("placeholder",P(g(6,9,"TITLE.Content_reference_website_link")))("disabled",P(!(i.fieldsInfo.source!=null&&i.fieldsInfo.source.accesseEditField))),b("ngModel",i.dataModel.source),o(4),h("",e.value.length," / 500")}}function Mv(n,s){if(n&1){let e=I();a(0,"mat-chip",74),E("removed",function(){let t=u(e).$implicit,l=p();return f(l.removeTag(t))}),d(1),a(2,"button",75)(3,"mat-icon"),d(4,"cancel"),r()()()}if(n&2){let e=s.$implicit;o(),h(" ",e," ")}}function Ev(n,s){if(n&1&&(a(0,"div",30)(1,"button",76),d(2),_(3,"translate"),r(),a(4,"button",70),d(5),_(6,"translate"),r()()),n&2){p();let e=A(10);o(2),h(" ",g(3,3,"ACTION.BEFOR")," "),o(2),m("disabled",!e.form.valid),o(),h(" ",g(6,5,"ACTION.NEXT")," ")}}function vv(n,s){if(n&1&&(y(0,"img",38),_(1,"cmsthumbnail")),n&2){let e=p();m("src",P(g(1,2,e.dataModel.linkMainImageIdSrc)),H)}}function Iv(n,s){n&1&&(a(0,"p"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.List_of_attached_photos")," "))}function bv(n,s){if(n&1&&(a(0,"audio",44),y(1,"source",77),_(2,"cmsthumbnail"),d(3," Your browser does not support the audio tag. "),r()),n&2){let e=p();o(),m("src",P(g(2,2,e.dataModel.linkFilePodcastIdSrc)),H)}}function Tv(n,s){if(n&1&&(a(0,"video",44),y(1,"source",78),d(2," Your browser does not support the video tag. "),r()),n&2){let e=p();o(),m("src",P(e.dataModel.linkFileMovieIdSrc),H)}}function wv(n,s){if(n&1&&(a(0,"div",30)(1,"button",76),d(2),_(3,"translate"),r(),a(4,"button",70),d(5),_(6,"translate"),r()()),n&2){p();let e=A(10);o(2),h(" ",g(3,3,"ACTION.BEFOR")," "),o(2),m("disabled",!e.form.valid),o(),h(" ",g(6,5,"ACTION.NEXT")," ")}}function xv(n,s){if(n&1&&(a(0,"button",71),d(1),_(2,"translate"),r()),n&2){p(2);let e=A(10);m("disabled",!e.form.valid),o(),h(" ",g(2,2,"ACTION.SAVE")," ")}}function Pv(n,s){if(n&1){let e=I();a(0,"div",30)(1,"button",69),E("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),d(2),_(3,"translate"),r(),a(4,"button",76),d(5),_(6,"translate"),r(),S(7,xv,3,4,"button",71),r()}if(n&2){let e=p();o(2),h(" ",g(3,3,"ACTION.BACK")," "),o(3),h(" ",g(6,5,"ACTION.BEFOR")," "),o(2),M(e.formInfo.submitButtonEnabled?7:-1)}}function Av(n,s){n&1&&(a(0,"mat-icon"),d(1,"call_end"),r())}function Rv(n,s){n&1&&(a(0,"mat-icon"),d(1,"call_end"),r())}function Dv(n,s){n&1&&(a(0,"mat-icon"),d(1,"forum"),r())}function kv(n,s){n&1&&(a(0,"mat-icon"),d(1,"forum"),r())}var vr=class vr extends Tt{constructor(e,i,t,l,C,c,L,q,Se){super(t,new xi,i,Se);this.activatedRoute=e;this.publicHelper=i;this.contentService=t;this.cmsToastrService=l;this.cmsStoreService=C;this.router=c;this.cdr=L;this.tokenHelper=q;this.translate=Se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModel=new xi;this.dataModelResult=new ht;this.dataContentCategoryModel=[];this.dataFileModelImgaes=new Map;this.dataFileModelFiles=new Map;this.similarDataModel=new Array;this.contentSimilarSelected=new xi;this.otherInfoTabledisplayedColumns=["id","title","TypeId","Action"];this.similarTabledisplayedColumns=["linkMainImageIdSrc","id","recordStatus","title","Action"];this.similarTabledataSource=new Ht;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypePodcast=["mp3"];this.selectFileTypeMovie=["mp4","webm"];this.formInfo=new ie;this.fileManagerOpenForm=!1;this.fileManagerOpenFormPodcast=!1;this.fileManagerOpenFormMovie=!1;this.keywordDataModel=[];this.appLanguage="fa";this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Ci;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.requestId=this.activatedRoute.snapshot.paramMap.get("id"),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.requestId?.length===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.DataGetOne()}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionFileSelectedLinkFilePodcastId(e){this.dataModel.linkFilePodcastId=e.id,this.dataModel.linkFilePodcastIdSrc=e.downloadLinksrc}onActionFileSelectedLinkFileMovieId(e){this.dataModel.linkFileMovieId=e.id,this.dataModel.linkFileMovieIdSrc=e.downloadLinksrc}onFormSubmit(){if(this.requestId?.length<=0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}if(this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let e=[];this.keywordDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.keyword=e.join(","))}this.DataEditContent()}DataGetOne(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contentService.setAccessLoad(),this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetOneById(this.requestId).subscribe({next:i=>{if(this.dataAccessModel=i.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.publicHelper.processService.processStop(e),this.dataModelResult=i,this.formInfo.submitButtonEnabled=!0,i.isSuccess){this.dataModel=i.item;let t=this.dataModel.geolocationlatitude,l=this.dataModel.geolocationlongitude;t>0&&l>0&&(this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:t,lon:l}),this.receiveMap()),this.dataModel.keyword=this.dataModel.keyword+"",this.keywordDataModel=this.dataModel.keyword.split(","),this.dataModel.linkFileIds&&this.dataModel.linkFileIds.length>0&&this.dataModel.linkFileIds.split(",").forEach((C,c)=>{let L="";this.dataModel.linkFileIdsSrc.length>=this.dataModel.linkFileIdsSrc.length&&(L=this.dataModel.linkFileIdsSrc[c]),this.dataFileModelFiles.set(+C,L)}),this.dataModel.linkExtraImageIdsSrc&&this.dataModel.linkExtraImageIdsSrc.length>0&&this.dataModel.linkExtraImageIds.split(",").forEach((C,c)=>{let L="";this.dataModel.linkExtraImageIdsSrc.length>=this.dataModel.linkExtraImageIdsSrc.length&&(L=this.dataModel.linkExtraImageIdsSrc[c]),this.dataFileModelImgaes.set(+C,L)})}else this.cmsToastrService.typeErrorGetOne(i.errorMessage);this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetOne(i),this.publicHelper.processService.processStop(e,!1)}})}DataSimilarGetAll(e){if(!e||e.length===0)return;this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_other_information_from_the_server").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_other_information_from_the_server").subscribe(l=>{this.publicHelper.processService.processStart(i,l,this.constructorInfoAreaId)});let t=new Bo;e.forEach(l=>{if(l>0){let C=new Z;C.propertyName="id",C.value=l,C.clauseType=Ct.Or,t.filters.push(C)}}),this.contentService.ServiceGetAll(t).subscribe({next:l=>{this.formInfo.submitButtonEnabled=!0,l.isSuccess?(this.similarDataModel=l.listItems,this.similarTabledataSource.data=l.listItems):this.cmsToastrService.typeErrorGetAll(l.errorMessage),this.publicHelper.processService.processStop(i)},error:l=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetAll(l),this.publicHelper.processService.processStop(i)}})}DataEditContent(){if(this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="",this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}if(this.dataFileModelImgaes){let i=Array.from(this.dataFileModelImgaes.keys());i&&i.length>0&&(this.dataModel.linkExtraImageIds=i.join(","))}let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contentService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/estate/property-project"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorEdit(i),this.publicHelper.processService.processStop(e)}})}onActionTagChange(e){this.tagIdsData=e}onActionContentSimilarSelect(e){!e||e.id.length<=0||(this.contentSimilarSelected=e)}onActionContentSimilarAddToLIst(){if(!(!this.contentSimilarSelected||this.contentSimilarSelected.id.length<=0)){if(this.similarDataModel.find(e=>e.id===this.contentSimilarSelected.id)){this.cmsToastrService.typeErrorAddDuplicate();return}this.similarDataModel.push(this.contentSimilarSelected),this.similarTabledataSource.data=this.similarDataModel}}onActionContentSimilarRemoveFromLIst(e){if(!e||e.id.length<=0||!this.similarDataModel||this.similarDataModel.length===0)return;let i=new Array;this.similarDataModel.forEach(t=>{t.id!==e.id&&i.push(t)}),this.similarDataModel=i,this.similarTabledataSource.data=this.similarDataModel}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/estate/property-project/"])}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(i=>{this.mapMarker=ws.marker([i.lat,i.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",i=>{let t=i.latlng.lat,l=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&l===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=ws.marker([t,l]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=l}))}receiveZoom(e){}onActionSelectorCompany(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.information_area_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkPropertyCompanyId=null;return}this.dataModel.linkPropertyCompanyId=e.id}onActionSelectorLocation(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=e.id}addTag(e){let i=(e.value||"").trim();i&&this.keywordDataModel.push(i),e.chipInput.clear()}removeTag(e){let i=this.keywordDataModel.indexOf(e);i>=0&&this.keywordDataModel.splice(i,1)}};vr.\u0275fac=function(i){return new(i||vr)(v(Gt),v(G),v(Ri),v(O),v(Ce),v(ke),v(N),v(de),v(B))},vr.\u0275cmp=V({type:vr,selectors:[["app-estate-property-project-edit"]],viewQuery:function(i,t){if(i&1&&Q(lv,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[Y],decls:116,vars:139,consts:[["vform","ngForm"],["stepper",""],["Description",""],["chipList",""],["tagInput",""],["LinkMainImageId",""],["LinkFilePodcastId",""],["LinkFileMovieId",""],["Title",""],["DescriptionHidden",""],["FromDate",""],["ExpireDate",""],["Source",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"pb-5"],["id","main","name","dataModel.body",3,"ngModelChange","placeholder","config","ngModel"],[1,"ntk-button-row"],["state","seo",3,"label"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView","optionFileType"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["controls",""],["matInput","","type","text","name","dataModel.linkFilePodcastId","id","dataModel.linkFilePodcastId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],["matInput","","type","text","name","dataModel.linkFileMovieId","id","dataModel.linkFileMovieId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"dataModelChange","dataModel"],[3,"dataModelChange","dataModel","dataImageModel"],["state","loaction",3,"label"],["id","main-map",3,"map$","zoom$","optonCenter"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],["touchUi",""],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],["for","dataModel.source",1,"color-highlight"],["matInput","","type","text","name","dataModel.source","type","text","dir","ltr","minlength","3","maxlength","500","id","dataModel.source",1,"form-control","validate-name","input-ltr",2,"text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["type","audio/mp3",3,"src"],["type","video/mp4",3,"src"]],template:function(i,t){if(i&1){let l=I();a(0,"div",13),y(1,"app-progress-spinner",14),a(2,"div",15)(3,"p",16),d(4),r(),a(5,"p"),d(6),_(7,"translate"),r(),y(8,"app-cms-form-result-message",17),a(9,"form",18,0),E("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(11,"mat-vertical-stepper",19,1),E("selectionChange",function(c){u(l);let L=A(12);return f(t.onStepClick(c,L))}),a(13,"mat-step",20),_(14,"translate"),S(15,sv,1,5,"app-cms-enum-record-status-selector",21),S(16,dv,1,5,"app-cms-enum-record-admin-status-selector",21),S(17,uv,10,10,"div",22),a(18,"div",22)(19,"label",23),d(20),r(),a(21,"textarea",24,2),w("ngModelChange",function(c){return u(l),T(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),r(),a(23,"em"),d(24),r(),S(25,fv,5,4,"mat-error"),r(),S(26,_v,8,9,"div",22),S(27,gv,2,4,"app-estate-property-company-selector",25),a(28,"app-cms-location-selector",26),_(29,"translate"),E("optionChange",function(c){return u(l),f(t.onActionSelectorLocation(c))}),r(),S(30,Cv,7,8,"div",27),S(31,hv,7,8,"div",27),y(32,"hr",28),a(33,"label"),d(34),r(),a(35,"angular-editor",29),_(36,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.body,c)||(t.dataModel.body=c),f(c)}),r(),S(37,yv,10,11,"div",30),r(),a(38,"mat-step",31),_(39,"translate"),a(40,"p"),d(41),_(42,"translate"),r(),S(43,Sv,9,11,"div",22),a(44,"mat-form-field",32)(45,"mat-label"),d(46),_(47,"translate"),r(),a(48,"mat-chip-grid",33,3),me(50,Mv,5,1,"mat-chip",null,pe),a(52,"input",34,4),_(54,"translate"),E("matChipInputTokenEnd",function(c){return u(l),f(t.addTag(c))}),r()()(),S(55,Ev,7,7,"div",30),r(),a(56,"mat-step",35),_(57,"translate"),a(58,"p"),d(59),_(60,"translate"),r(),a(61,"div",36)(62,"a",37),_(63,"cmsthumbnail"),S(64,vv,2,4,"img",38),r()(),a(65,"div",22)(66,"label",39),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),d(67),_(68,"translate"),r(),a(69,"input",40,5),_(71,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),r(),a(72,"cms-file-manager",41),E("itemSelected",function(c){return u(l),f(t.onActionFileSelectedLinkMainImageId(c))}),w("openFormChange",function(c){return u(l),T(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),f(c)}),r()(),S(73,Iv,3,3,"p"),a(74,"app-cms-files-selector",42),w("dataFileModelChange",function(c){return u(l),T(t.dataFileModelImgaes,c)||(t.dataFileModelImgaes=c),f(c)}),r(),y(75,"br"),a(76,"div")(77,"p"),d(78),_(79,"translate"),r(),a(80,"app-cms-files-selector",43),w("dataFileModelChange",function(c){return u(l),T(t.dataFileModelFiles,c)||(t.dataFileModelFiles=c),f(c)}),r()(),a(81,"div",36),S(82,bv,4,4,"audio",44),r(),a(83,"div",22)(84,"input",45,6),_(86,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.linkFilePodcastId,c)||(t.dataModel.linkFilePodcastId=c),f(c)}),E("click",function(){return u(l),f(t.fileManagerOpenFormPodcast=!0)}),r(),a(87,"cms-file-manager",41),E("itemSelected",function(c){return u(l),f(t.onActionFileSelectedLinkFilePodcastId(c))}),w("openFormChange",function(c){return u(l),T(t.fileManagerOpenFormPodcast,c)||(t.fileManagerOpenFormPodcast=c),f(c)}),r()(),a(88,"div",36),S(89,Tv,3,2,"video",44),r(),a(90,"div",22)(91,"input",46,7),_(93,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.linkFileMovieId,c)||(t.dataModel.linkFileMovieId=c),f(c)}),E("click",function(){return u(l),f(t.fileManagerOpenFormMovie=!0)}),r(),a(94,"cms-file-manager",41),E("itemSelected",function(c){return u(l),f(t.onActionFileSelectedLinkFileMovieId(c))}),w("openFormChange",function(c){return u(l),T(t.fileManagerOpenFormMovie,c)||(t.fileManagerOpenFormMovie=c),f(c)}),r()(),a(95,"h3"),d(96),_(97,"translate"),r(),a(98,"app-cms-360-image-list",47),w("dataModelChange",function(c){return u(l),T(t.dataModel.file360Views,c)||(t.dataModel.file360Views=c),f(c)}),r(),y(99,"br"),a(100,"h3"),d(101),_(102,"translate"),r(),a(103,"app-cms-360-tour-list",48),w("dataModelChange",function(c){return u(l),T(t.dataModel.file360Tour,c)||(t.dataModel.file360Tour=c),f(c)}),r(),S(104,wv,7,7,"div",30),r(),a(105,"mat-step",49),_(106,"translate"),a(107,"p"),d(108),_(109,"translate"),r(),a(110,"app-cms-map",50),E("map$",function(c){return u(l),f(t.receiveMap(c))})("zoom$",function(c){return u(l),f(t.receiveZoom(c))}),r(),S(111,Pv,8,7,"div",30),r(),R(112,Av,2,0,"ng-template",51)(113,Rv,2,0,"ng-template",52)(114,Dv,2,0,"ng-template",53)(115,kv,2,0,"ng-template",54),r()()()()}if(i&2){let l=A(22),C=A(49);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",g(7,99,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(5),m("label",P(g(14,101,"TITLE.REQUIRED_INFORMATION"))),o(2),M(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?15:-1),o(),M(t.fieldsInfo.mainAdminRecordStatus!=null&&t.fieldsInfo.mainAdminRecordStatus.accessWatchField?16:-1),o(),M(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?17:-1),o(3),x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle))("disabled",P(!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessEditField))),b("ngModel",t.dataModel.description),o(3),h("",l.value.length," / 500"),o(),M(l.errors!=null&&l.errors.required?25:-1),o(),M(t.fieldsInfo.descriptionHidden!=null&&t.fieldsInfo.descriptionHidden.accessWatchField?26:-1),o(),M(t.tokenHelper.isAdminSite?27:-1),o(),m("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessEditField))("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",g(29,103,"TITLE.Region")),o(2),M(t.fieldsInfo.fromDate!=null&&t.fieldsInfo.fromDate.accessWatchField?30:-1),o(),M(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessWatchField?31:-1),o(3),h(" ",t.fieldsInfo.body==null?null:t.fieldsInfo.body.fieldTitle," "),o(),m("placeholder",g(36,105,"TITLE.Enter_Text"))("config",t.publicHelper.editorConfig),b("ngModel",t.dataModel.body),o(2),M(t.formInfo.submitButtonEnabled?37:-1),o(),m("label",P(g(39,107,"TITLE.Search_Engines"))),o(3),h(" ",g(42,109,"TITLE.This_section_helps_search_engines_better_index_content")," "),o(2),M(t.fieldsInfo.source!=null&&t.fieldsInfo.source.accessWatchField?43:-1),o(3),x(g(47,111,"TITLE.Choose_keywords_relative_to_the_content")),o(4),ue(t.keywordDataModel),o(2),m("placeholder",g(54,113,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",C)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(3),M(t.formInfo.submitButtonEnabled?55:-1),o(),m("label",P(g(57,115,"TITLE.ATTACH_FILES"))),o(3),x(g(60,117,"TITLE.CONTENT_ATTACH_FILES")),o(3),m("href",P(g(63,119,t.dataModel.linkMainImageIdSrc)),H),o(2),M((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?64:-1),o(3),x(g(68,121,"TITLE.Original_Photo")),o(2),m("placeholder",P(g(71,123,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),m("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),m("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),M(t.dataFileModelImgaes&&t.dataFileModelImgaes.size>0?73:-1),o(),b("dataFileModel",t.dataFileModelImgaes),m("openDirectUploadView",!0)("optionFileType",t.selectFileTypeMainImage),o(4),x(g(79,125,"TITLE.List_of_attached_files")),o(2),b("dataFileModel",t.dataFileModelFiles),m("openDirectUploadView",!0),o(2),M((t.dataModel==null||t.dataModel.linkFilePodcastIdSrc==null?null:t.dataModel.linkFilePodcastIdSrc.length)>0?82:-1),o(2),m("placeholder",P(g(86,127,"TITLE.Audio_File_ID"))),b("ngModel",t.dataModel.linkFilePodcastId),o(3),m("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenFormPodcast),m("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypePodcast)("openFilemanagerButtonView",!1),o(2),M((t.dataModel==null||t.dataModel.linkFileMovieIdSrc==null?null:t.dataModel.linkFileMovieIdSrc.length)>0?89:-1),o(2),m("placeholder",P(g(93,129,"TITLE.Video_File_ID"))),b("ngModel",t.dataModel.linkFileMovieId),o(3),m("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenFormMovie),m("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMovie)("openFilemanagerButtonView",!1),o(2),x(g(97,131,"TITLE.image_360")),o(2),b("dataModel",t.dataModel.file360Views),o(3),x(g(102,133,"TITLE.virtual_tour")),o(2),b("dataModel",t.dataModel.file360Tour),m("dataImageModel",t.dataModel.file360Views),o(),M(t.formInfo.submitButtonEnabled?104:-1),o(),m("label",Pe("",g(106,135,"TITLE.Location")," ")),o(3),h(" ",g(109,137,"TITLE.Click_on_the_map_to_specify_the_location")," "),o(2),m("optonCenter",t.mapOptonCenter),o(),M(t.publicHelper.processService.process.inRunAll?-1:111)}},dependencies:[Re,X,$,Te,le,Ee,ge,_e,Ae,Yt,$t,ei,ti,Xt,wn,xn,dn,ri,ai,De,Ze,we,ee,ui,fi,_i,gi,mi,hi,Ei,Si,vi,Ii,zt,U,se,Mi,yi,un,cn,qe,W,he],encapsulation:2});var Ir=vr;var Lv=["vform"];function Vv(n,s){if(n&1){let e=I();a(0,"div",7)(1,"label",8),d(2),r(),a(3,"input",9,0),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModelResultContent.item.title,t)||(l.dataModelResultContent.item.title=t),f(t)}),r()(),a(5,"div",7)(6,"label",10),d(7),r(),a(8,"textarea",11,1),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModelResultContent.item.description,t)||(l.dataModelResultContent.item.description=t),f(t)}),r()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),b("ngModel",e.dataModelResultContent.item.title),o(4),x(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),b("ngModel",e.dataModelResultContent.item.description)}}function Fv(n,s){if(n&1){let e=I();a(0,"div",6)(1,"button",12),E("click",function(){u(e);let t=p();return f(t.onFormDelete())}),y(2,"i",13),d(3),_(4,"translate"),r(),a(5,"button",14),E("click",function(){u(e);let t=p();return f(t.onFormCancel())}),y(6,"i",15),d(7),_(8,"translate"),r()()}if(n&2){let e=p();o(),m("disabled",!e.formInfo.submitButtonEnabled),o(2),h(" ",g(4,3,"ACTION.DELETE")," "),o(4),h(" ",g(8,5,"ACTION.CANCEL")," ")}}var br=class br{constructor(s,e,i,t,l,C,c,L,q){this.data=s;this.dialogRef=e;this.publicHelper=i;this.contentService=t;this.cdr=l;this.cmsToastrService=C;this.cmsStoreService=c;this.tokenHelper=L;this.translate=q;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.tokenInfo=new Wt;this.dataModelResultContent=new j;this.formInfo=new ie;this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=s.id),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let s=this.constructor.name+"fieldInfoConvertor";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.contentService.setAccessLoad(),this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onFormDelete(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};br.\u0275fac=function(e){return new(e||br)(v(Ve),v(Le),v(G),v(Ri),v(N),v(O),v(Ce),v(de),v(B))},br.\u0275cmp=V({type:br,selectors:[["app-estate-property-project-delete"]],viewQuery:function(e,i){if(e&1&&Q(Lv,5),e&2){let t;z(t=K())&&(i.formGroup=t.first)}},standalone:!1,decls:10,vars:7,consts:[["Writer",""],["Content",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"form-actions"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.title",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.title","type","text","required","","readonly","","id","dataModelResultContent.item.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModelResultContent.item.description",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.description","type","text","minlength","1","maxlength","100","readonly","","required","","rows","5","id","dataModelResultContent.item.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(a(0,"div",2),y(1,"app-progress-spinner",3),a(2,"div",4)(3,"p",5),d(4),r(),a(5,"p"),d(6),_(7,"translate"),r(),S(8,Vv,10,8),S(9,Fv,9,7,"div",6),r()()),e&2&&(o(),m("optionsInfoAreaId",i.constructorInfoAreaId),o(3),h(" ",i.formInfo.formTitle," "),o(2),h(" ",g(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),M(i.dataModelResultContent!=null&&i.dataModelResultContent.item?8:-1),o(),M(i.formInfo.submitButtonEnabled?9:-1))},dependencies:[X,$,le,Ee,ge,_e,ee,U,W],encapsulation:2});var ls=br;var Bv=()=>["expandedTitle"],Ov=()=>["expandedDetail"],Nv=()=>[5,10,20,100],Cc=n=>({display:n});function Gv(n,s){if(n&1){let e=I();a(0,"a",17)(1,"mat-slide-toggle",52),E("click",function(){u(e);let t=p();return f(t.onActionButtonWithHierarchy())}),r(),d(2),_(3,"translate"),r()}n&2&&(o(2),h("",g(3,1,"ACTION.BATCHVIEW")," "))}function Wv(n,s){if(n&1){let e=I();a(0,"div",19)(1,"a",53),E("click",function(t){u(e);let l=p();return f(l.onActionButtonNewRow(t))}),y(2,"i",54)(3,"br"),r(),a(4,"p",22),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.ADD")," "))}function Hv(n,s){if(n&1){let e=I();a(0,"div",19)(1,"a",55),E("click",function(t){u(e);let l=p();return f(l.onActionButtonEditRow(l.tableRowSelected,t))}),y(2,"i",56)(3,"br"),r(),a(4,"p",22),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.EDIT")," "))}function jv(n,s){if(n&1){let e=I();a(0,"div",19)(1,"a",57),E("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),y(2,"i",58)(3,"br"),r(),a(4,"p",22),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.DELETE")," "))}function Uv(n,s){n&1&&(a(0,"mat-header-cell"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.MENU")," "))}function qv(n,s){if(n&1){let e=I();a(0,"mat-cell")(1,"button",59),E("click",function(){let t=u(e).$implicit,l=p();return f(l.onActionTableRowSelectActionMenu(t))}),y(2,"i",60),r()()}}function Qv(n,s){n&1&&(a(0,"mat-header-cell",61),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.PICTURE")," "))}function zv(n,s){if(n&1&&(y(0,"img",62),_(1,"cmsthumbnail")),n&2){let e=p().$implicit;m("src",P(g(1,2,e.linkMainImageIdSrc)),H)}}function Kv(n,s){if(n&1&&(a(0,"mat-cell"),S(1,zv,2,4,"img",62),r()),n&2){let e=s.$implicit;o(),M((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function Zv(n,s){if(n&1&&(a(0,"mat-header-cell",61),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Yv(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.id," ")}}function Jv(n,s){if(n&1&&(a(0,"mat-header-cell",61),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Xv(n,s){if(n&1&&(a(0,"mat-cell"),d(1),_(2,"cmssiteinfo"),_(3,"async"),r()),n&2){let e=s.$implicit;o(),h(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function $v(n,s){if(n&1&&(a(0,"mat-header-cell",61),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function eI(n,s){if(n&1&&y(0,"select",64),n&2){let e=p().$implicit,i=p();m("contentService",i.contentService)("row",e)("ngStyle",Nt(3,Cc,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function tI(n,s){if(n&1&&(a(0,"mat-cell"),y(1,"i",63),_(2,"statusIconClass"),S(3,eI,1,5,"select",64),r()),n&2){let e=s.$implicit,i=p();o(),m("ngClass",g(2,2,e.recordStatus)),o(2),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?3:-1)}}function iI(n,s){if(n&1&&(a(0,"mat-header-cell",61),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle," ")}}function nI(n,s){if(n&1&&(a(0,"mat-cell"),y(1,"i",63),_(2,"adminStatusIconClass"),r()),n&2){let e=s.$implicit;o(),m("ngClass",g(2,1,e.mainAdminRecordStatus))}}function oI(n,s){if(n&1&&(a(0,"mat-header-cell",61),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function aI(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.title," ")}}function rI(n,s){if(n&1&&(a(0,"mat-header-cell",61),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function lI(n,s){if(n&1&&(a(0,"mat-cell"),d(1),_(2,"localeDate"),r()),n&2){let e=s.$implicit;o(),h(" ",g(2,1,e.createdDate)," ")}}function sI(n,s){n&1&&(a(0,"mat-header-cell"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.OPTION")," "))}function dI(n,s){if(n&1&&(a(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),d(3,"more_vert"),r()(),y(4,"mat-menu",null,2),r()),n&2){let e=A(5);o(),m("matMenuTriggerFor",e)}}function cI(n,s){n&1&&(a(0,"mat-header-cell",67),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.LINKTO")," "))}function pI(n,s){if(n&1){let e=I();a(0,"mat-cell")(1,"button",68),E("click",function(){let t=u(e).$implicit,l=p();return f(l.onActionButtonLinkTo(t))}),a(2,"mat-icon",69),d(3,"\u2197"),r()()()}}function mI(n,s){if(n&1&&(a(0,"mat-cell"),d(1),y(2,"br"),d(3),_(4,"translate"),_(5,"localeDate"),r()),n&2){let e=s.$implicit;o(),h(" ",e.title," "),o(2),We(" ",g(4,3,"TITLE.CreationDate")," : ",g(5,5,e.createdDate)," ")}}function uI(n,s){if(n&1&&(y(0,"img",70),_(1,"cmsthumbnail")),n&2){let e=p().$implicit;m("src",P(g(1,2,e.linkMainImageIdSrc)),H)}}function fI(n,s){if(n&1&&(a(0,"tr"),y(1,"td"),a(2,"td"),d(3),_(4,"localeDate"),r()()),n&2){let e=p().$implicit,i=p();o(3),We(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle," : ",g(4,2,e.updatedDate)," ")}}function _I(n,s){if(n&1){let e=I();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),S(5,uI,2,4,"img",70),r(),a(6,"th")(7,"span",71),E("click",function(){u(e);let t=p();return f(t.onActionCopied())}),y(8,"i",72),r(),d(9),r()(),S(10,fI,5,4,"tr"),a(11,"tr"),y(12,"td"),a(13,"td"),d(14),r()(),a(15,"tr"),y(16,"td"),a(17,"td"),d(18),r()(),a(19,"tr"),y(20,"td")(21,"td"),r()()()()}if(n&2){let e=s.$implicit;o(5),M((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),m("cdkCopyToClipboard",e.id),o(2),h(" ",e.id," "),o(),M(e.updatedDate?10:-1),o(4),x(e.title),o(4),x(e.description)}}function gI(n,s){n&1&&y(0,"mat-header-row")}function CI(n,s){if(n&1){let e=I();a(0,"mat-row",73),E("click",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=u(e).$implicit,l=p();return f(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,l=p();return f(l.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=s.$implicit,i=p();ne("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function hI(n,s){if(n&1){let e=I();a(0,"mat-row",74),E("click",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=u(e).$implicit,l=p();return f(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,l=p();return f(l.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=s.$implicit,i=p();ne("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function yI(n,s){if(n&1){let e=I();a(0,"mat-row",75),E("click",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=u(e).$implicit,l=p();return f(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,l=p();return f(l.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=s.$implicit,i=p();ne("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),m("ngStyle",Nt(3,Cc,e.expanded===!0?"":"none"))}}var Tr=class Tr extends wt{constructor(e,i,t,l,C,c,L,q,Se,je){super(e,new xi,Se,l,c);this.contentService=e;this.cmsToastrService=i;this.router=t;this.tokenHelper=l;this.cdr=C;this.translate=c;this.cmsStoreService=L;this.pageInfo=q;this.publicHelper=Se;this.dialog=je;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new oe;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","mainAdminRecordStatus","LinkTo","action_menu"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","id","recordStatus","mainAdminRecordStatus","LinkTo","action_menu"];this.unsubscribe=[];this.GetAllWithHierarchyCategoryId=!1;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ke=>this.onSubmitOptionsSearch(Ke)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=J.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Me(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new xi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new Z;t.propertyName="linkEstateProjectCategoryId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=J.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(e){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}e?.ctrlKey?(this.link="/#/estate/property-project/add/",window.open(this.link,"_blank")):this.router.navigate(["/estate/property-project/add"])}onActionButtonEditRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-project/edit/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-project/edit",this.tableRowSelected.id])}onActionButtonProperty(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property/LinkProjectId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkProjectId",this.tableRowSelected.id])}onActionButtonPropertyCompany(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-company/LinkProjectId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-company/LinkProjectId",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ls,{panelClass:i,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{i.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),C=new Z;C.propertyName="recordStatus",C.value=He.Available,l.filters.push(C),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{i.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonWithHierarchy(){this.GetAllWithHierarchyCategoryId=!this.GetAllWithHierarchyCategoryId,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new oe,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionButtonLinkTo(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(e.recordStatus!=He.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.onActionTableRowSelect(e);let i=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_state_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetOneById(e.id).subscribe({next:t=>{if(t.isSuccess){var l="";this.publicHelper.isMobile?l="dialog-fullscreen":l="dialog-min",this.dialog.open(ro,{height:"90%",panelClass:l,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{title:t.item.title,urlViewContentQRCodeBase64:t.item.urlViewContentQRCodeBase64,urlViewContent:t.item.urlViewContent}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(t.errorMessage);this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}};Tr.\u0275fac=function(i){return new(i||Tr)(v(Ri),v(O),v(ke),v(de),v(N),v(B),v(Ce),v(It),v(G),v(Oe))},Tr.\u0275cmp=V({type:Tr,selectors:[["app-estate-property-project-list"]],standalone:!1,features:[Y],decls:96,vars:45,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],[1,"fa-solid","fa-apartment","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-building","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","mainAdminRecordStatus"],["matColumnDef","title"],["matColumnDef","createdDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"click"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["mat-sort-header","",1,"form-label"],["type","button","mat-icon-button","",1,"text-dark",3,"click"],[2,"color","#ff671f"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let l=I();a(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(c){return u(l),T(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),E("optionOnActionButtonMemoRow",function(){return u(l),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(l),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(l),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(l),f(t.onActionButtonPrintRow())}),Ye(1,4)(2,5)(3,6),D(4,7),a(5,"a",8),E("click",function(){return u(l),f(t.viewGuideNotice=!t.viewGuideNotice)}),y(6,"i",9),r(),a(7,"a",8),E("click",function(){return u(l),f(t.onActionButtonReload())}),y(8,"i",10),r(),a(9,"a",11),E("click",function(){return u(l),f(t.onActionGridExpandRows(!0))}),y(10,"i",12),r(),a(11,"a",11),E("click",function(){return u(l),f(t.onActionGridExpandRows(!1))}),y(12,"i",13),r(),k(),D(13,14),a(14,"a",15),E("click",function(){return u(l),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),y(15,"mat-slide-toggle",16),d(16),_(17,"translate"),r(),a(18,"a",15),E("click",function(){return u(l),f(t.onActionButtonStatist())}),y(19,"mat-slide-toggle",16),d(20),_(21,"translate"),r(),S(22,Gv,4,3,"a",17),k(),D(23,18),S(24,Wv,7,3,"div",19),k(),D(25,20),S(26,Hv,7,3,"div",19),S(27,jv,7,3,"div",19),a(28,"div",19)(29,"a",11),E("click",function(c){return u(l),f(t.onActionButtonProperty(t.tableRowSelected,c))}),y(30,"i",21)(31,"br"),r(),a(32,"p",22),d(33),_(34,"translate"),r()(),a(35,"div",19)(36,"a",11),E("click",function(c){return u(l),f(t.onActionButtonPropertyCompany(t.tableRowSelected,c))}),y(37,"i",23)(38,"br"),r(),a(39,"p",22),d(40),_(41,"translate"),r()(),a(42,"div",19)(43,"a",8),E("click",function(){return u(l),f(t.onActionButtonLinkTo(t.tableRowSelected))}),y(44,"i",24)(45,"br"),r(),a(46,"p",22),d(47),_(48,"translate"),r()(),k(),D(49,25),a(50,"app-cms-search-list",26),w("optionsChange",function(c){return u(l),T(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),r(),a(51,"app-cms-statist-list",26),w("optionsChange",function(c){return u(l),T(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),r(),k(),D(52,27),a(53,"mat-table",28,0),E("matSortChange",function(){u(l);let c=A(54);return f(t.onTableSortData(c))}),D(55,29),R(56,Uv,3,3,"mat-header-cell",30)(57,qv,3,0,"mat-cell",31),k(),D(58,32),R(59,Qv,3,3,"mat-header-cell",33)(60,Kv,2,1,"mat-cell",31),k(),D(61,34),R(62,Zv,2,1,"mat-header-cell",33)(63,Yv,2,1,"mat-cell",31),k(),D(64,35),R(65,Jv,2,1,"mat-header-cell",33)(66,Xv,4,5,"mat-cell",31),k(),D(67,36),R(68,$v,2,1,"mat-header-cell",33)(69,tI,4,4,"mat-cell",31),k(),D(70,37),R(71,iI,2,1,"mat-header-cell",33)(72,nI,3,3,"mat-cell",31),k(),D(73,38),R(74,oI,2,1,"mat-header-cell",33)(75,aI,2,1,"mat-cell",31),k(),D(76,39),R(77,rI,2,1,"mat-header-cell",33)(78,lI,3,3,"mat-cell",31),k(),D(79,40),R(80,sI,3,3,"mat-header-cell",30)(81,dI,6,1,"mat-cell",41),k(),D(82,42),R(83,cI,3,3,"mat-header-cell",43)(84,pI,4,0,"mat-cell",31),k(),D(85,44),R(86,mI,6,7,"mat-cell",31),k(),D(87,45),R(88,_I,22,6,"mat-cell",31),k(),R(89,gI,1,0,"mat-header-row",46)(90,CI,1,2,"mat-row",47)(91,hI,1,2,"mat-row",48)(92,yI,1,5,"mat-row",49),r(),k(),D(93,50),a(94,"mat-paginator",51,1),E("page",function(c){return u(l),f(t.onTablePageingData(c))}),r(),k(),r()}i&2&&(m("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","estate.propertyproject.list"),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),m("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(8),ne("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),m("checked",t.optionsSearch.data.show),o(),h("",g(17,32,"ACTION.SEARCH")," "),o(3),m("checked",t.optionsStatist.data.show),o(),h("",g(21,34,"ACTION.STATIST")," "),o(2),M((t.tableRowSelected==null?null:t.tableRowSelected.id)>0?22:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?24:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?26:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?27:-1),o(6),h(" ",g(34,36,"ACTION.PROPERTY")," "),o(7),h(" ",g(41,38,"ACTION.COMPANY")," "),o(7),h(" ",g(48,40,"TITLE.LINKTO")," "),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),m("dataSource",t.tableSource),o(36),m("matHeaderRowDef",t.tabledisplayedColumns),o(),m("matRowDefColumns",fe(42,Bv)),o(),m("matRowDefColumns",t.tabledisplayedColumns),o(),m("matRowDefColumns",fe(43,Ov)),o(2),m("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",fe(44,Nv)))},dependencies:[re,oi,Ue,we,ee,yt,St,Mt,ft,Et,vt,$e,tt,at,it,et,rt,nt,ot,lt,st,Tn,xt,Pt,At,Rt,oo,pt,W,ao,he,ia,ki,ua],encapsulation:2});var wr=Tr;var yc=Bn(Kn());function MI(n,s){if(n&1){let e=I();a(0,"mat-tree-node",10),y(1,"button",11),a(2,"mat-checkbox",12),E("change",function(){let t=u(e).$implicit,l=p();return f(l.todoItemSelectionToggle(t))}),d(3),r()()}if(n&2){let e=s.$implicit,i=p();o(2),m("checked",i.checklistSelection.isSelected(e))("indeterminate",i.descendantsPartiallySelected(e)),o(),x(e.title)}}function EI(n,s){if(n&1){let e=I();a(0,"mat-tree-node",13)(1,"button",14)(2,"mat-icon",15),d(3),r()(),a(4,"mat-checkbox",16),E("change",function(){let t=u(e).$implicit,l=p();return f(l.checklistSelection.toggle(t))}),d(5),r()()}if(n&2){let e=s.$implicit,i=p(),t=A(8);m("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),li("type","button")("aria-label","Toggle "+e.title),o(2),h(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(),m("checked",i.checklistSelection.isSelected(e)),o(),x(e.title)}}var xr=class xr{constructor(s,e,i,t,l,C,c,L,q){this.cmsToastrService=s;this.coreEnumService=e;this.categoryService=i;this.cdr=t;this.publicHelper=l;this.tokenHelper=C;this.cmsStoreService=c;this.dialog=L;this.translate=q;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=[];this.dataModelResult=new j;this.filterModel=new oe;this.dataSource=new $o;this.runComplate=!1;this.optionSelectChecked=new Vt;this.optionSelectDisChecked=new Vt;this.optionModelChange=new Vt;this.unsubscribe=[];this.checklistSelection=new cd(!0);this.hasChild=(s,e)=>!!e.children&&e.children.length>0;this.childrenAccessor=s=>s.children??[];this.hasNoContent=(s,e)=>e.children;this.treeControl=new wd(s=>s.children);this.publicHelper.processService.cdr=this.cdr,this.checklistSelection.changed.subscribe(Se=>{if(!this.runComplate)return;let je=[];this.checklistSelection.selected.forEach(Ke=>{je.push(Ke.id)}),this.optionModelChange.emit(je),Se.added&&Se.added.length>0&&Se.added.forEach(Ke=>{this.optionSelectChecked.emit(Ke.id)}),Se.removed&&Se.removed.length>0&&Se.removed.forEach(Ke=>{this.optionSelectDisChecked.emit(Ke.id)})})}set optionModel(s){this.dataModelSelect=s,this.loadCheked()}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(()=>Me(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}loadCheked(){this.runComplate=!1,this.CompileDataByCheked(this.dataModelResult.listItems,this.dataModelSelect),this.runComplate=!0}CompileDataByCheked(s,e){if(!(s?.length>0))return!1;let i=!1;for(let t of s){let l=!1;e?.includes(t.id)?(this.checklistSelection.select(t),i=!0):this.checklistSelection.deselect(t),t.children?.length>0&&(l=this.CompileDataByCheked(t.children,e),l&&(i=!0,t.isExpanded=!0))}return i}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems,this.loadCheked()):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(s)},error:e=>{this.publicHelper.processService.processStop(s),this.cmsToastrService.typeError(e)}})}descendantsAllSelected(s){return this.treeControl.getDescendants(s).every(i=>this.checklistSelection.isSelected(i))}descendantsPartiallySelected(s){return this.treeControl.getDescendants(s).some(t=>this.checklistSelection.isSelected(t))&&!this.descendantsAllSelected(s)}todoItemSelectionToggle(s){this.checklistSelection.toggle(s);let e=this.treeControl.getDescendants(s);this.checklistSelection.isSelected(s)?this.checklistSelection.select(...e):this.checklistSelection.deselect(...e)}};xr.\u0275fac=function(e){return new(e||xr)(v(O),v(te),v(In),v(N),v(G),v(de),v(Ce),v(Oe),v(B))},xr.\u0275cmp=V({type:xr,selectors:[["app-estate-property-supplier-category-treeselector"]],inputs:{optionModel:"optionModel"},outputs:{optionSelectChecked:"optionSelectChecked",optionSelectDisChecked:"optionSelectDisChecked",optionModelChange:"optionModelChange"},standalone:!1,decls:12,vars:10,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"change","checked","indeterminate"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],[1,"checklist-leaf-node",3,"change","checked"]],template:function(e,i){e&1&&(a(0,"app-cms-html-tree",1),D(1,2),d(2),_(3,"translate"),k(),Ye(4,3),D(5,4),y(6,"app-progress-spinner",5),a(7,"mat-tree",6,0),R(9,MI,4,3,"mat-tree-node",7)(10,EI,6,7,"mat-tree-node",8),r(),k(),Ye(11,9),r()),e&2&&(m("optionHeaderDisplay",!0)("optionActionMainDisplay",!1)("optionFooterDisplay",!1),o(2),h(" ",g(3,8,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(4),m("optionsInfoAreaId",i.constructorInfoAreaId),o(),m("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),m("matTreeNodeDefWhen",i.hasChild))},dependencies:[Ue,Dl,we,Zo,Yo,Xo,Jo,Ko,U,na,W],encapsulation:2});var Pr=xr;var vI=["vform"];function II(n,s){if(n&1){let e=I();a(0,"app-cms-enum-record-status-selector",65),w("modelChange",function(t){u(e);let l=p();return T(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),f(t)}),r()}if(n&2){let e=p();b("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function bI(n,s){if(n&1){let e=I();a(0,"app-cms-enum-record-admin-status-selector",65),w("modelChange",function(t){u(e);let l=p();return T(l.dataModel.mainAdminRecordStatus,t)||(l.dataModel.mainAdminRecordStatus=t),f(t)}),r()}if(n&2){let e=p();b("model",e.dataModel.mainAdminRecordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function TI(n,s){n&1&&y(0,"i",26)}function wI(n,s){n&1&&y(0,"i",27)}function xI(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2){let e=p();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),o(2),x(g(4,2,"MESSAGE.required"))}}function PI(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2){let e=p();o(),h(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," "),o(2),x(g(4,2,"MESSAGE.required"))}}function AI(n,s){if(n&1){let e=I();a(0,"div",23)(1,"label",66),d(2),_(3,"translate"),r(),a(4,"textarea",67,12),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.descriptionHidden,t)||(l.dataModel.descriptionHidden=t),f(t)}),r(),a(6,"em"),d(7),r()()}if(n&2){let e=A(5),i=p();o(2),x(g(3,5,"TITLE.Description_Hidden")),o(2),m("placeholder",P(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",i.dataModel.descriptionHidden),o(3),h("",e.value.length," / 500")}}function RI(n,s){n&1&&y(0,"i",26)}function DI(n,s){n&1&&y(0,"i",27)}function kI(n,s){n&1&&(a(0,"mat-error"),d(1," Address is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function LI(n,s){if(n&1){let e=I();a(0,"div",39)(1,"button",68),E("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),d(2),_(3,"translate"),r(),a(4,"button",69),d(5),_(6,"translate"),r()()}if(n&2){p();let e=A(10);o(2),h(" ",g(3,3,"ACTION.BACK")," "),o(2),m("disabled",!e.form.valid),o(),h(" ",g(6,5,"ACTION.NEXT")," ")}}function VI(n,s){if(n&1&&(a(0,"div",39)(1,"button",70),d(2),_(3,"translate"),r(),a(4,"button",69),d(5),_(6,"translate"),r()()),n&2){p();let e=A(10);o(2),h(" ",g(3,3,"ACTION.BEFOR")," "),o(2),m("disabled",!e.form.valid),o(),h(" ",g(6,5,"ACTION.NEXT")," ")}}function FI(n,s){if(n&1){let e=I();a(0,"div",23)(1,"label",71),d(2),_(3,"translate"),r(),a(4,"input",72,13),_(6,"translate"),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.source,t)||(l.dataModel.source=t),f(t)}),r(),a(7,"em"),d(8),r()()}if(n&2){let e=A(5),i=p();o(2),x(g(3,7,"TITLE.Source_page_address")),o(2),m("placeholder",P(g(6,9,"TITLE.Content_reference_website_link")))("disabled",P(!(i.fieldsInfo.source!=null&&i.fieldsInfo.source.accessAddField))),b("ngModel",i.dataModel.source),o(4),h("",e.value.length," / 500")}}function BI(n,s){if(n&1){let e=I();a(0,"mat-chip",73),E("removed",function(){let t=u(e).$implicit,l=p();return f(l.removeTag(t))}),d(1),a(2,"button",74)(3,"mat-icon"),d(4,"cancel"),r()()()}if(n&2){let e=s.$implicit;o(),h(" ",e," ")}}function OI(n,s){if(n&1&&(a(0,"div",39)(1,"button",70),d(2),_(3,"translate"),r(),a(4,"button",69),d(5),_(6,"translate"),r()()),n&2){p();let e=A(10);o(2),h(" ",g(3,3,"ACTION.BEFOR")," "),o(2),m("disabled",!e.form.valid),o(),h(" ",g(6,5,"ACTION.NEXT")," ")}}function NI(n,s){if(n&1&&(y(0,"img",48),_(1,"cmsthumbnail")),n&2){let e=p();m("src",P(g(1,2,e.dataModel.linkMainImageIdSrc)),H)}}function GI(n,s){n&1&&(a(0,"p"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.List_of_attached_photos")," "))}function WI(n,s){if(n&1&&(a(0,"audio",54),y(1,"source",75),_(2,"cmsthumbnail"),d(3," Your browser does not support the audio tag. "),r()),n&2){let e=p();o(),m("src",P(g(2,2,e.dataModel.linkFilePodcastIdSrc)),H)}}function HI(n,s){if(n&1&&(a(0,"video",54),y(1,"source",76),d(2," Your browser does not support the video tag. "),r()),n&2){let e=p();o(),m("src",P(e.dataModel.linkFileMovieIdSrc),H)}}function jI(n,s){if(n&1&&(a(0,"div",39)(1,"button",70),d(2),_(3,"translate"),r(),a(4,"button",69),d(5),_(6,"translate"),r()()),n&2){p();let e=A(10);o(2),h(" ",g(3,3,"ACTION.BEFOR")," "),o(2),m("disabled",!e.form.valid),o(),h(" ",g(6,5,"ACTION.NEXT")," ")}}function UI(n,s){if(n&1&&(a(0,"button",77),d(1),_(2,"translate"),r()),n&2){p(2);let e=A(10);m("disabled",!e.form.valid),o(),h(" ",g(2,2,"ACTION.SAVE")," ")}}function qI(n,s){if(n&1&&(a(0,"div",39)(1,"button",70),d(2),_(3,"translate"),r(),S(4,UI,3,4,"button",77),r()),n&2){let e=p();o(2),h(" ",g(3,2,"ACTION.BEFOR")," "),o(2),M(e.formInfo.submitButtonEnabled?4:-1)}}function QI(n,s){n&1&&(a(0,"mat-icon"),d(1,"call_end"),r())}function zI(n,s){n&1&&(a(0,"mat-icon"),d(1,"call_end"),r())}function KI(n,s){n&1&&(a(0,"mat-icon"),d(1,"forum"),r())}function ZI(n,s){n&1&&(a(0,"mat-icon"),d(1,"forum"),r())}var Ar=class Ar extends _t{constructor(e,i,t,l,C,c,L){super(t,new ln,i,L);this.coreEnumService=e;this.publicHelper=i;this.contentService=t;this.cmsToastrService=l;this.router=C;this.cdr=c;this.translate=L;this.constructorInfoAreaId=this.constructor.name;this.dataModel=new ln;this.dataModelResult=new j;this.dataFileModelImgaes=new Map;this.dataFileModelFiles=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypePodcast=["mp3"];this.selectFileTypeMovie=["mp4","webm"];this.formInfo=new ie;this.fileManagerOpenForm=!1;this.fileManagerOpenFormPodcast=!1;this.fileManagerOpenFormMovie=!1;this.fieldsInfo=new Map;this.keywordDataModel=[];this.tagDataModel=[];this.similarDataModel=new Array;this.otherInfoTabledisplayedColumns=["title","TypeId","Action"];this.similarTabledisplayedColumns=["linkMainImageIdSrc","id","recordStatus","title","Action"];this.similarTabledataSource=new Ht;this.appLanguage="fa";this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Ci;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.DataGetAccess()}onActionTagChange(e){this.tagDataModel=e}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionFileSelectedLinkFilePodcastId(e){this.dataModel.linkFilePodcastId=e.id,this.dataModel.linkFilePodcastIdSrc=e.downloadLinksrc}onActionFileSelectedLinkFileMovieId(e){this.dataModel.linkFileMovieId=e.id,this.dataModel.linkFileMovieIdSrc=e.downloadLinksrc}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapModel.on("click",i=>{let t=i.latlng.lat,l=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&l===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=yc.marker([t,l]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=l}))}receiveZoom(e){}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}if(this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let e=[];this.keywordDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.keyword=e.join(","))}this.DataAddContent()}DataAddContent(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";if(this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}if(this.dataFileModelImgaes){let i=Array.from(this.dataFileModelImgaes.keys());i&&i.length>0&&(this.dataModel.linkExtraImageIds=i.join(","))}this.contentService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessAdd(),setTimeout(()=>this.router.navigate(["/estate/property-supplier/"]),1e3)):this.cmsToastrService.typeErrorAdd(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorAdd(i),this.publicHelper.processService.processStop(e)}})}onActionContentSimilarRemoveFromLIst(e){if(!e||e.id.length<=0||!this.similarDataModel||this.similarDataModel.length===0)return;let i=new Array;this.similarDataModel.forEach(t=>{t.id!==e.id&&i.push(t)}),this.similarDataModel=i,this.similarTabledataSource.data=this.similarDataModel}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/estate/property-supplier/"])}onActionSelectorLocation(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=e.id}onActionSelectorLocationWorkArea(e){this.dataModel.linkLocationIds=e}addTag(e){let i=(e.value||"").trim();i&&this.keywordDataModel.push(i),e.chipInput.clear()}removeTag(e){let i=this.keywordDataModel.indexOf(e);i>=0&&this.keywordDataModel.splice(i,1)}};Ar.\u0275fac=function(i){return new(i||Ar)(v(te),v(G),v(ji),v(O),v(ke),v(N),v(B))},Ar.\u0275cmp=V({type:Ar,selectors:[["app-estate-property-supplier-add"]],viewQuery:function(i,t){if(i&1&&Q(vI,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[Y],decls:157,vars:178,consts:[["vform","ngForm"],["stepper",""],["Title",""],["Description",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["chipList",""],["tagInput",""],["LinkMainImageId",""],["LinkFilePodcastId",""],["LinkFileMovieId",""],["DescriptionHidden",""],["Source",""],[3,"optionsInfoAreaId"],[1,"card","card-style","loader-container"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.mobileNumber","type","text","minlength","3","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","required","","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"pb-5"],["id","main","name","dataModel.body",3,"ngModelChange","placeholder","config","ngModel"],[1,"ntk-button-row"],["state","seo",3,"label"],[3,"optionModelChange","optionModel"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView","optionFileType"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["controls",""],["matInput","","type","text","name","dataModel.linkFilePodcastId","id","dataModel.linkFilePodcastId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],["matInput","","type","text","name","dataModel.linkFileMovieId","id","dataModel.linkFileMovieId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"dataModelChange","dataModel"],[3,"dataModelChange","dataModel","dataImageModel"],["state","loaction",3,"label"],["id","main-map",3,"map$","zoom$","optonCenter"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["for","dataModel.source",1,"color-highlight"],["matInput","","type","text","name","dataModel.source","type","text","dir","ltr","minlength","3","maxlength","500","id","dataModel.source",1,"form-control","validate-name","input-ltr",2,"text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","audio/mp3",3,"src"],["type","video/mp4",3,"src"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let l=I();y(0,"app-progress-spinner",14),a(1,"div",15)(2,"div",16)(3,"p",17),d(4),r(),a(5,"p"),d(6),_(7,"translate"),r(),y(8,"app-cms-form-result-message",18),a(9,"form",19,0),E("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(11,"mat-vertical-stepper",20,1),E("selectionChange",function(c){u(l);let L=A(12);return f(t.onStepClick(c,L))}),a(13,"mat-step",21),_(14,"translate"),S(15,II,1,5,"app-cms-enum-record-status-selector",22),S(16,bI,1,5,"app-cms-enum-record-admin-status-selector",22),a(17,"div",23)(18,"label",24),d(19),r(),a(20,"input",25,2),w("ngModelChange",function(c){return u(l),T(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),r(),S(22,TI,1,0,"i",26),S(23,wI,1,0,"i",27),a(24,"em"),d(25),r(),S(26,xI,5,4,"mat-error"),r(),a(27,"div",23)(28,"label",28),d(29),r(),a(30,"textarea",29,3),w("ngModelChange",function(c){return u(l),T(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),r(),a(32,"em"),d(33),r(),S(34,PI,5,4,"mat-error"),r(),S(35,AI,8,7,"div",23),a(36,"app-cms-location-selector",30),_(37,"translate"),E("optionChange",function(c){return u(l),f(t.onActionSelectorLocation(c))}),r(),d(38),_(39,"translate"),a(40,"app-cms-location-autocomplete",30),_(41,"translate"),E("optionChange",function(c){return u(l),f(t.onActionSelectorLocationWorkArea(c))}),r(),a(42,"div",23)(43,"label",31),d(44),r(),a(45,"input",32,4),w("ngModelChange",function(c){return u(l),T(t.dataModel.phoneNumber,c)||(t.dataModel.phoneNumber=c),f(c)}),r(),a(47,"em"),d(48),r()(),a(49,"div",23)(50,"label",33),d(51),r(),a(52,"input",34,5),w("ngModelChange",function(c){return u(l),T(t.dataModel.mobileNumber,c)||(t.dataModel.mobileNumber=c),f(c)}),r(),a(54,"em"),d(55),r()(),a(56,"div",23)(57,"label",35),d(58),r(),a(59,"textarea",36,6),w("ngModelChange",function(c){return u(l),T(t.dataModel.address,c)||(t.dataModel.address=c),f(c)}),r(),a(61,"em"),d(62),r(),S(63,RI,1,0,"i",26),S(64,DI,1,0,"i",27),S(65,kI,5,3,"mat-error"),r(),y(66,"hr",37),a(67,"label"),d(68),r(),a(69,"angular-editor",38),_(70,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.body,c)||(t.dataModel.body=c),f(c)}),r(),S(71,LI,7,7,"div",39),r(),a(72,"mat-step",40),_(73,"translate"),a(74,"app-estate-property-supplier-category-treeselector",41),w("optionModelChange",function(c){return u(l),T(t.dataModel.linkEstatePropertySupplierCategoryIds,c)||(t.dataModel.linkEstatePropertySupplierCategoryIds=c),f(c)}),r(),y(75,"br"),S(76,VI,7,7,"div",39),r(),a(77,"mat-step",40),_(78,"translate"),a(79,"p"),d(80),_(81,"translate"),r(),S(82,FI,9,11,"div",23),a(83,"mat-form-field",42)(84,"mat-label"),d(85),_(86,"translate"),r(),a(87,"mat-chip-grid",43,7),me(89,BI,5,1,"mat-chip",null,pe),a(91,"input",44,8),_(93,"translate"),E("matChipInputTokenEnd",function(c){return u(l),f(t.addTag(c))}),r()()(),S(94,OI,7,7,"div",39),r(),a(95,"mat-step",45),_(96,"translate"),a(97,"p"),d(98),_(99,"translate"),r(),a(100,"div",46)(101,"a",47),_(102,"cmsthumbnail"),S(103,NI,2,4,"img",48),r()(),a(104,"div",23)(105,"label",49),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),d(106),_(107,"translate"),r(),a(108,"input",50,9),_(110,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),r(),a(111,"cms-file-manager",51),E("itemSelected",function(c){return u(l),f(t.onActionFileSelectedLinkMainImageId(c))}),w("openFormChange",function(c){return u(l),T(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),f(c)}),r()(),y(112,"hr"),S(113,GI,3,3,"p"),a(114,"app-cms-files-selector",52),w("dataFileModelChange",function(c){return u(l),T(t.dataFileModelImgaes,c)||(t.dataFileModelImgaes=c),f(c)}),r(),y(115,"hr"),a(116,"div")(117,"p"),d(118),_(119,"translate"),r(),a(120,"app-cms-files-selector",53),w("dataFileModelChange",function(c){return u(l),T(t.dataFileModelFiles,c)||(t.dataFileModelFiles=c),f(c)}),r(),y(121,"br"),r(),a(122,"div",46),S(123,WI,4,4,"audio",54),r(),a(124,"div",23)(125,"input",55,10),_(127,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.linkFilePodcastId,c)||(t.dataModel.linkFilePodcastId=c),f(c)}),E("click",function(){return u(l),f(t.fileManagerOpenFormPodcast=!0)}),r(),a(128,"cms-file-manager",51),E("itemSelected",function(c){return u(l),f(t.onActionFileSelectedLinkFilePodcastId(c))}),w("openFormChange",function(c){return u(l),T(t.fileManagerOpenFormPodcast,c)||(t.fileManagerOpenFormPodcast=c),f(c)}),r()(),a(129,"div",46),S(130,HI,3,2,"video",54),r(),a(131,"div",23)(132,"input",56,11),_(134,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.linkFileMovieId,c)||(t.dataModel.linkFileMovieId=c),f(c)}),E("click",function(){return u(l),f(t.fileManagerOpenFormMovie=!0)}),r(),a(135,"cms-file-manager",51),E("itemSelected",function(c){return u(l),f(t.onActionFileSelectedLinkFileMovieId(c))}),w("openFormChange",function(c){return u(l),T(t.fileManagerOpenFormMovie,c)||(t.fileManagerOpenFormMovie=c),f(c)}),r()(),a(136,"h3"),d(137),_(138,"translate"),r(),a(139,"app-cms-360-image-list",57),w("dataModelChange",function(c){return u(l),T(t.dataModel.file360Views,c)||(t.dataModel.file360Views=c),f(c)}),r(),y(140,"br"),a(141,"h3"),d(142),_(143,"translate"),r(),a(144,"app-cms-360-tour-list",58),w("dataModelChange",function(c){return u(l),T(t.dataModel.file360Tour,c)||(t.dataModel.file360Tour=c),f(c)}),r(),S(145,jI,7,7,"div",39),r(),a(146,"mat-step",59),_(147,"translate"),a(148,"p"),d(149),_(150,"translate"),r(),a(151,"app-cms-map",60),E("map$",function(c){return u(l),f(t.receiveMap(c))})("zoom$",function(c){return u(l),f(t.receiveZoom(c))}),r(),S(152,qI,5,4,"div",39),r(),R(153,QI,2,0,"ng-template",61)(154,zI,2,0,"ng-template",62)(155,KI,2,0,"ng-template",63)(156,ZI,2,0,"ng-template",64),r()()()()}if(i&2){let l=A(21),C=A(31),c=A(46),L=A(53),q=A(60),Se=A(88);m("optionsInfoAreaId",t.constructorInfoAreaId),o(4),h(" ",t.formInfo.formTitle," "),o(2),h(" ",g(7,132,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(5),m("label",P(g(14,134,"TITLE.REQUIRED_INFORMATION"))),o(2),M(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?15:-1),o(),M(t.fieldsInfo.mainAdminRecordStatus!=null&&t.fieldsInfo.mainAdminRecordStatus.accessWatchField?16:-1),o(3),x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),M(l.value?-1:22),o(),M(l.value?23:-1),o(2),h("",l.value.length," / 100"),o(),M(l.errors!=null&&l.errors.required?26:-1),o(3),x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle))("disabled",P(!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessAddField))),b("ngModel",t.dataModel.description),o(3),h("",C.value.length," / 500"),o(),M(C.errors!=null&&C.errors.required?34:-1),o(),M(t.fieldsInfo.descriptionHidden!=null&&t.fieldsInfo.descriptionHidden.accessWatchField?35:-1),o(),m("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessAddField))("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",g(37,136,"TITLE.Region")),o(2),h(" ",g(39,138,"TITLE.Geographical_Areas")," : "),o(2),m("optionDisabled",!(t.fieldsInfo.linkLocationIds!=null&&t.fieldsInfo.linkLocationIds.accessAddField))("optionSelectForce",t.dataModel.linkLocationIds)("optionPlaceholder",g(41,140,"TITLE.Region")),o(4),x(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle)),b("ngModel",t.dataModel.phoneNumber),m("disabled",!(t.fieldsInfo.phoneNumber!=null&&t.fieldsInfo.phoneNumber.accessAddField)),o(3),h("",c.value.length," / 64"),o(3),x(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle)),b("ngModel",t.dataModel.mobileNumber),m("disabled",!(t.fieldsInfo.mobileNumber!=null&&t.fieldsInfo.mobileNumber.accessAddField)),o(3),h("",L.value.length," / 64"),o(3),x(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle)),b("ngModel",t.dataModel.address),m("disabled",!(t.fieldsInfo.address!=null&&t.fieldsInfo.address.accessAddField)),o(3),h("",q.value.length," / 500"),o(),M(q.value?-1:63),o(),M(q.value?64:-1),o(),M(q.errors!=null&&q.errors.required?65:-1),o(3),h(" ",t.fieldsInfo.body==null?null:t.fieldsInfo.body.fieldTitle," "),o(),m("placeholder",g(70,142,"TITLE.Enter_Text"))("config",t.publicHelper.editorConfig),b("ngModel",t.dataModel.body),o(2),M(t.formInfo.submitButtonEnabled?71:-1),o(),m("label",P(g(73,144,"TITLE.Categories"))),o(2),b("optionModel",t.dataModel.linkEstatePropertySupplierCategoryIds),o(2),M(t.formInfo.submitButtonEnabled?76:-1),o(),m("label",P(g(78,146,"TITLE.Search_Engines"))),o(3),h(" ",g(81,148,"TITLE.This_section_helps_search_engines_better_index_content")," "),o(2),M(t.fieldsInfo.source!=null&&t.fieldsInfo.source.accessWatchField?82:-1),o(3),x(g(86,150,"TITLE.Choose_keywords_relative_to_the_content")),o(4),ue(t.keywordDataModel),o(2),m("placeholder",g(93,152,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",Se)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(3),M(t.formInfo.submitButtonEnabled?94:-1),o(),m("label",P(g(96,154,"TITLE.ATTACH_FILES"))),o(3),x(g(99,156,"TITLE.CONTENT_ATTACH_FILES")),o(3),m("href",P(g(102,158,t.dataModel.linkMainImageIdSrc)),H),o(2),M((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?103:-1),o(3),x(g(107,160,"TITLE.Original_Photo")),o(2),m("placeholder",P(g(110,162,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),m("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),m("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(2),M(t.dataFileModelImgaes&&t.dataFileModelImgaes.size>0?113:-1),o(),b("dataFileModel",t.dataFileModelImgaes),m("openDirectUploadView",!0)("optionFileType",t.selectFileTypeMainImage),o(4),x(g(119,164,"TITLE.List_of_attached_files")),o(2),b("dataFileModel",t.dataFileModelFiles),m("openDirectUploadView",!0),o(3),M((t.dataModel==null||t.dataModel.linkFilePodcastIdSrc==null?null:t.dataModel.linkFilePodcastIdSrc.length)>0?123:-1),o(2),m("placeholder",P(g(127,166,"TITLE.Audio_File_ID"))),b("ngModel",t.dataModel.linkFilePodcastId),o(3),m("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenFormPodcast),m("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypePodcast)("openFilemanagerButtonView",!1),o(2),M((t.dataModel==null||t.dataModel.linkFileMovieIdSrc==null?null:t.dataModel.linkFileMovieIdSrc.length)>0?130:-1),o(2),m("placeholder",P(g(134,168,"TITLE.Video_File_ID"))),b("ngModel",t.dataModel.linkFileMovieId),o(3),m("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenFormMovie),m("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMovie)("openFilemanagerButtonView",!1),o(2),x(g(138,170,"TITLE.image_360")),o(2),b("dataModel",t.dataModel.file360Views),o(3),x(g(143,172,"TITLE.virtual_tour")),o(2),b("dataModel",t.dataModel.file360Tour),m("dataImageModel",t.dataModel.file360Views),o(),M(t.formInfo.submitButtonEnabled?145:-1),o(),m("label",Pe("",g(147,174,"TITLE.Location")," ")),o(3),h(" ",g(150,176,"TITLE.Click_on_the_map_to_specify_the_location")," "),o(2),m("optonCenter",t.mapOptonCenter),o(),M(t.publicHelper.processService.process.inRunAll?-1:152)}},dependencies:[Re,X,$,Te,le,Ee,ge,_e,Ae,Yt,$t,ei,ti,Xt,ri,ai,De,we,ee,ui,fi,_i,gi,mi,hi,Ei,Si,Li,vi,Ii,zt,U,se,Mi,yi,cn,qe,Pr,W,he],encapsulation:2});var Rr=Ar;var xs=Bn(Kn());var YI=["vform"];function JI(n,s){if(n&1){let e=I();a(0,"app-cms-enum-record-status-selector",61),w("modelChange",function(t){u(e);let l=p();return T(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),f(t)}),r()}if(n&2){let e=p();b("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function XI(n,s){if(n&1){let e=I();a(0,"app-cms-enum-record-admin-status-selector",61),w("modelChange",function(t){u(e);let l=p();return T(l.dataModel.mainAdminRecordStatus,t)||(l.dataModel.mainAdminRecordStatus=t),f(t)}),r()}if(n&2){let e=p();b("model",e.dataModel.mainAdminRecordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function $I(n,s){n&1&&y(0,"i",31)}function eb(n,s){n&1&&y(0,"i",32)}function tb(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2){let e=p(2);o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),o(2),x(g(4,2,"MESSAGE.required"))}}function ib(n,s){if(n&1){let e=I();a(0,"div",23)(1,"label",62),d(2),r(),a(3,"input",63,10),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.title,t)||(l.dataModel.title=t),f(t)}),r(),S(5,$I,1,0,"i",31),S(6,eb,1,0,"i",32),a(7,"em"),d(8),r(),S(9,tb,5,4,"mat-error"),r()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle))("disabled",P(!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField))),b("ngModel",i.dataModel.title),o(2),M(e.value?-1:5),o(),M(e.value?6:-1),o(2),h("",e.value.length," / 100"),o(),M(e.errors!=null&&e.errors.required?9:-1)}}function nb(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2){let e=p(2);o(),h(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," "),o(2),x(g(4,2,"MESSAGE.required"))}}function ob(n,s){if(n&1){let e=I();a(0,"div",23)(1,"label",64),d(2),r(),a(3,"textarea",65,11),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.description,t)||(l.dataModel.description=t),f(t)}),r(),a(5,"em"),d(6),r(),S(7,nb,5,4,"mat-error"),r()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle))("disabled",P(!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessEditField))),b("ngModel",i.dataModel.description),o(3),h("",e.value.length," / 500"),o(),M(e.errors!=null&&e.errors.required?7:-1)}}function ab(n,s){if(n&1){let e=I();a(0,"div",23)(1,"label",66),d(2),_(3,"translate"),r(),a(4,"textarea",67,12),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.descriptionHidden,t)||(l.dataModel.descriptionHidden=t),f(t)}),r(),a(6,"em"),d(7),r()()}if(n&2){let e=A(5),i=p();o(2),x(g(3,7,"TITLE.Description_Hidden")),o(2),m("placeholder",P(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle))("disabled",P(!(i.fieldsInfo.descriptionHidden!=null&&i.fieldsInfo.descriptionHidden.accessEditField))),b("ngModel",i.dataModel.descriptionHidden),o(3),h("",e.value.length," / 500")}}function rb(n,s){n&1&&y(0,"i",31)}function lb(n,s){n&1&&y(0,"i",32)}function sb(n,s){n&1&&(a(0,"mat-error"),d(1," Address is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function db(n,s){if(n&1&&(a(0,"button",70),d(1),_(2,"translate"),r()),n&2){p(2);let e=A(10);m("disabled",!e.form.valid),o(),h(" ",g(2,2,"ACTION.SAVE")," ")}}function cb(n,s){if(n&1){let e=I();a(0,"div",35)(1,"button",68),E("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),d(2),_(3,"translate"),r(),a(4,"button",69),d(5),_(6,"translate"),r(),S(7,db,3,4,"button",70),r()}if(n&2){let e=p(),i=A(10);o(2),h(" ",g(3,4,"ACTION.BACK")," "),o(2),m("disabled",!i.form.valid),o(),h(" ",g(6,6,"ACTION.NEXT")," "),o(2),M(e.formInfo.submitButtonEnabled?7:-1)}}function pb(n,s){if(n&1&&(a(0,"div",35)(1,"button",71),d(2),_(3,"translate"),r(),a(4,"button",69),d(5),_(6,"translate"),r()()),n&2){p();let e=A(10);o(2),h(" ",g(3,3,"ACTION.BEFOR")," "),o(2),m("disabled",!e.form.valid),o(),h(" ",g(6,5,"ACTION.NEXT")," ")}}function mb(n,s){if(n&1){let e=I();a(0,"div",23)(1,"label",72),d(2),r(),a(3,"input",73,13),_(5,"translate"),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.source,t)||(l.dataModel.source=t),f(t)}),r(),a(6,"em"),d(7),r()()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.source==null?null:i.fieldsInfo.source.fieldTitle),o(),m("placeholder",P(g(5,7,"TITLE.Content_reference_website_link")))("disabled",P(!(i.fieldsInfo.source!=null&&i.fieldsInfo.source.accessEditField))),b("ngModel",i.dataModel.source),o(4),h("",e.value.length," / 500")}}function ub(n,s){if(n&1){let e=I();a(0,"mat-chip",74),E("removed",function(){let t=u(e).$implicit,l=p();return f(l.removeTag(t))}),d(1),a(2,"button",75)(3,"mat-icon"),d(4,"cancel"),r()()()}if(n&2){let e=s.$implicit;o(),h(" ",e," ")}}function fb(n,s){if(n&1&&(a(0,"div",35)(1,"button",71),d(2),_(3,"translate"),r(),a(4,"button",69),d(5),_(6,"translate"),r()()),n&2){p();let e=A(10);o(2),h(" ",g(3,3,"ACTION.BEFOR")," "),o(2),m("disabled",!e.form.valid),o(),h(" ",g(6,5,"ACTION.NEXT")," ")}}function _b(n,s){if(n&1&&(y(0,"img",44),_(1,"cmsthumbnail")),n&2){let e=p();m("src",P(g(1,2,e.dataModel.linkMainImageIdSrc)),H)}}function gb(n,s){n&1&&(a(0,"p"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.List_of_attached_photos")," "))}function Cb(n,s){if(n&1&&(a(0,"audio",50),y(1,"source",76),_(2,"cmsthumbnail"),d(3," Your browser does not support the audio tag. "),r()),n&2){let e=p();o(),m("src",P(g(2,2,e.dataModel.linkFilePodcastIdSrc)),H)}}function hb(n,s){if(n&1&&(a(0,"video",50),y(1,"source",77),d(2," Your browser does not support the video tag. "),r()),n&2){let e=p();o(),m("src",P(e.dataModel.linkFileMovieIdSrc),H)}}function yb(n,s){if(n&1&&(a(0,"div",35)(1,"button",71),d(2),_(3,"translate"),r(),a(4,"button",69),d(5),_(6,"translate"),r()()),n&2){p();let e=A(10);o(2),h(" ",g(3,3,"ACTION.BEFOR")," "),o(2),m("disabled",!e.form.valid),o(),h(" ",g(6,5,"ACTION.NEXT")," ")}}function Sb(n,s){if(n&1&&(a(0,"button",70),d(1),_(2,"translate"),r()),n&2){p(2);let e=A(10);m("disabled",!e.form.valid),o(),h(" ",g(2,2,"ACTION.SAVE")," ")}}function Mb(n,s){if(n&1){let e=I();a(0,"div",35)(1,"button",68),E("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),d(2),_(3,"translate"),r(),a(4,"button",71),d(5),_(6,"translate"),r(),S(7,Sb,3,4,"button",70),r()}if(n&2){let e=p();o(2),h(" ",g(3,3,"ACTION.BACK")," "),o(3),h(" ",g(6,5,"ACTION.BEFOR")," "),o(2),M(e.formInfo.submitButtonEnabled?7:-1)}}function Eb(n,s){n&1&&(a(0,"mat-icon"),d(1,"call_end"),r())}function vb(n,s){n&1&&(a(0,"mat-icon"),d(1,"call_end"),r())}function Ib(n,s){n&1&&(a(0,"mat-icon"),d(1,"forum"),r())}function bb(n,s){n&1&&(a(0,"mat-icon"),d(1,"forum"),r())}var Dr=class Dr extends Tt{constructor(e,i,t,l,C,c,L){super(t,new ln,i,L);this.activatedRoute=e;this.publicHelper=i;this.contentService=t;this.cmsToastrService=l;this.router=C;this.cdr=c;this.translate=L;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModel=new ln;this.dataModelResult=new ht;this.dataContentCategoryModel=[];this.dataFileModelImgaes=new Map;this.dataFileModelFiles=new Map;this.similarDataModel=new Array;this.contentSimilarSelected=new ln;this.otherInfoTabledisplayedColumns=["id","title","TypeId","Action"];this.similarTabledisplayedColumns=["linkMainImageIdSrc","id","recordStatus","title","Action"];this.similarTabledataSource=new Ht;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypePodcast=["mp3"];this.selectFileTypeMovie=["mp4","webm"];this.formInfo=new ie;this.fileManagerOpenForm=!1;this.fileManagerOpenFormPodcast=!1;this.fileManagerOpenFormMovie=!1;this.keywordDataModel=[];this.appLanguage="fa";this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Ci;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.requestId=this.activatedRoute.snapshot.paramMap.get("id")}ngOnInit(){if(this.requestId?.length===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.DataGetOne()}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionFileSelectedLinkFilePodcastId(e){this.dataModel.linkFilePodcastId=e.id,this.dataModel.linkFilePodcastIdSrc=e.downloadLinksrc}onActionFileSelectedLinkFileMovieId(e){this.dataModel.linkFileMovieId=e.id,this.dataModel.linkFileMovieIdSrc=e.downloadLinksrc}onFormSubmit(){if(this.requestId?.length<=0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}if(this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let e=[];this.keywordDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.keyword=e.join(","))}this.DataEditContent()}DataGetOne(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contentService.setAccessLoad(),this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetOneById(this.requestId).subscribe({next:i=>{if(this.dataAccessModel=i.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.publicHelper.processService.processStop(e),this.dataModelResult=i,this.formInfo.submitButtonEnabled=!0,i.isSuccess){this.dataModel=i.item;let t=this.dataModel.geolocationlatitude,l=this.dataModel.geolocationlongitude;t>0&&l>0&&(this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:t,lon:l}),this.receiveMap()),this.dataModel.keyword=this.dataModel.keyword+"",this.keywordDataModel=this.dataModel.keyword.split(","),this.dataModel.linkFileIds&&this.dataModel.linkFileIds.length>0&&this.dataModel.linkFileIds.split(",").forEach((C,c)=>{let L="";this.dataModel.linkFileIdsSrc.length>=this.dataModel.linkFileIdsSrc.length&&(L=this.dataModel.linkFileIdsSrc[c]),this.dataFileModelFiles.set(+C,L)}),this.dataModel.linkExtraImageIdsSrc&&this.dataModel.linkExtraImageIdsSrc.length>0&&this.dataModel.linkExtraImageIds.split(",").forEach((C,c)=>{let L="";this.dataModel.linkExtraImageIdsSrc.length>=this.dataModel.linkExtraImageIdsSrc.length&&(L=this.dataModel.linkExtraImageIdsSrc[c]),this.dataFileModelImgaes.set(+C,L)})}else this.cmsToastrService.typeErrorGetOne(i.errorMessage);this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetOne(i),this.publicHelper.processService.processStop(e,!1)}})}DataSimilarGetAll(e){if(!e||e.length===0)return;this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_other_information_from_the_server").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_other_information_from_the_server").subscribe(l=>{this.publicHelper.processService.processStart(i,l,this.constructorInfoAreaId)});let t=new yl;e.forEach(l=>{if(l>0){let C=new Z;C.propertyName="id",C.value=l,C.clauseType=Ct.Or,t.filters.push(C)}}),this.contentService.ServiceGetAll(t).subscribe({next:l=>{this.formInfo.submitButtonEnabled=!0,l.isSuccess?(this.similarDataModel=l.listItems,this.similarTabledataSource.data=l.listItems):this.cmsToastrService.typeErrorGetAll(l.errorMessage),this.publicHelper.processService.processStop(i)},error:l=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetAll(l),this.publicHelper.processService.processStop(i)}})}DataEditContent(){if(this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="",this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}if(this.dataFileModelImgaes){let i=Array.from(this.dataFileModelImgaes.keys());i&&i.length>0&&(this.dataModel.linkExtraImageIds=i.join(","))}let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contentService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/estate/property-supplier"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorEdit(i),this.publicHelper.processService.processStop(e)}})}onActionTagChange(e){this.tagIdsData=e}onActionContentSimilarSelect(e){!e||e.id.length<=0||(this.contentSimilarSelected=e)}onActionContentSimilarAddToLIst(){if(!(!this.contentSimilarSelected||this.contentSimilarSelected.id.length<=0)){if(this.similarDataModel.find(e=>e.id===this.contentSimilarSelected.id)){this.cmsToastrService.typeErrorAddDuplicate();return}this.similarDataModel.push(this.contentSimilarSelected),this.similarTabledataSource.data=this.similarDataModel}}onActionContentSimilarRemoveFromLIst(e){if(!e||e.id.length<=0||!this.similarDataModel||this.similarDataModel.length===0)return;let i=new Array;this.similarDataModel.forEach(t=>{t.id!==e.id&&i.push(t)}),this.similarDataModel=i,this.similarTabledataSource.data=this.similarDataModel}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/estate/property-supplier/"])}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(i=>{this.mapMarker=xs.marker([i.lat,i.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",i=>{let t=i.latlng.lat,l=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&l===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=xs.marker([t,l]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=l}))}receiveZoom(e){}onActionSelectorLocation(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=e.id}onActionSelectorLocationWorkArea(e){this.dataModel.linkLocationIds=e}addTag(e){let i=(e.value||"").trim();i&&this.keywordDataModel.push(i),e.chipInput.clear()}removeTag(e){let i=this.keywordDataModel.indexOf(e);i>=0&&this.keywordDataModel.splice(i,1)}};Dr.\u0275fac=function(i){return new(i||Dr)(v(Gt),v(G),v(ji),v(O),v(ke),v(N),v(B))},Dr.\u0275cmp=V({type:Dr,selectors:[["app-estate-property-supplier-edit"]],viewQuery:function(i,t){if(i&1&&Q(YI,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[Y],decls:139,vars:164,consts:[["vform","ngForm"],["stepper",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["chipList",""],["tagInput",""],["LinkMainImageId",""],["LinkFilePodcastId",""],["LinkFileMovieId",""],["Title",""],["Description",""],["DescriptionHidden",""],["Source",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.mobileNumber","type","text","minlength","3","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","required","","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"pb-5"],["id","main","name","dataModel.body",3,"ngModelChange","placeholder","config","ngModel"],[1,"ntk-button-row"],["state","seo",3,"label"],[3,"optionModelChange","optionModel"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView","optionFileType"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["controls",""],["matInput","","type","text","name","dataModel.linkFilePodcastId","id","dataModel.linkFilePodcastId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],["matInput","","type","text","name","dataModel.linkFileMovieId","id","dataModel.linkFileMovieId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"dataModelChange","dataModel"],[3,"dataModelChange","dataModel","dataImageModel"],["state","loaction",3,"label"],["id","main-map",3,"map$","zoom$","optonCenter"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["for","dataModel.source",1,"color-highlight"],["matInput","","type","text","name","dataModel.source","type","text","dir","ltr","minlength","3","maxlength","500","id","dataModel.source",1,"form-control","validate-name","input-ltr",2,"text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","audio/mp3",3,"src"],["type","video/mp4",3,"src"]],template:function(i,t){if(i&1){let l=I();a(0,"div",14),y(1,"app-progress-spinner",15),a(2,"div",16)(3,"p",17),d(4),r(),a(5,"p"),d(6),_(7,"translate"),r(),y(8,"app-cms-form-result-message",18),a(9,"form",19,0),E("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(11,"mat-vertical-stepper",20,1),E("selectionChange",function(c){u(l);let L=A(12);return f(t.onStepClick(c,L))}),a(13,"mat-step",21),_(14,"translate"),S(15,JI,1,5,"app-cms-enum-record-status-selector",22),S(16,XI,1,5,"app-cms-enum-record-admin-status-selector",22),S(17,ib,10,10,"div",23),S(18,ob,8,8,"div",23),S(19,ab,8,9,"div",23),a(20,"app-cms-location-selector",24),_(21,"translate"),E("optionChange",function(c){return u(l),f(t.onActionSelectorLocation(c))}),r(),d(22),_(23,"translate"),a(24,"app-cms-location-autocomplete",24),_(25,"translate"),E("optionChange",function(c){return u(l),f(t.onActionSelectorLocationWorkArea(c))}),r(),a(26,"div",23)(27,"label",25),d(28),r(),a(29,"input",26,2),w("ngModelChange",function(c){return u(l),T(t.dataModel.phoneNumber,c)||(t.dataModel.phoneNumber=c),f(c)}),r(),a(31,"em"),d(32),r()(),a(33,"div",23)(34,"label",27),d(35),r(),a(36,"input",28,3),w("ngModelChange",function(c){return u(l),T(t.dataModel.mobileNumber,c)||(t.dataModel.mobileNumber=c),f(c)}),r(),a(38,"em"),d(39),r()(),a(40,"div",23)(41,"label",29),d(42),r(),a(43,"textarea",30,4),w("ngModelChange",function(c){return u(l),T(t.dataModel.address,c)||(t.dataModel.address=c),f(c)}),r(),a(45,"em"),d(46),r(),S(47,rb,1,0,"i",31),S(48,lb,1,0,"i",32),S(49,sb,5,3,"mat-error"),r(),y(50,"hr",33),a(51,"label"),d(52),r(),a(53,"angular-editor",34),_(54,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.body,c)||(t.dataModel.body=c),f(c)}),r(),S(55,cb,8,8,"div",35),r(),a(56,"mat-step",36),_(57,"translate"),a(58,"app-estate-property-supplier-category-treeselector",37),w("optionModelChange",function(c){return u(l),T(t.dataModel.linkEstatePropertySupplierCategoryIds,c)||(t.dataModel.linkEstatePropertySupplierCategoryIds=c),f(c)}),r(),y(59,"br"),S(60,pb,7,7,"div",35),r(),a(61,"mat-step",36),_(62,"translate"),a(63,"p"),d(64),_(65,"translate"),r(),S(66,mb,8,9,"div",23),a(67,"mat-form-field",38)(68,"mat-label"),d(69),_(70,"translate"),r(),a(71,"mat-chip-grid",39,5),me(73,ub,5,1,"mat-chip",null,pe),a(75,"input",40,6),_(77,"translate"),E("matChipInputTokenEnd",function(c){return u(l),f(t.addTag(c))}),r()()(),S(78,fb,7,7,"div",35),r(),a(79,"mat-step",41),_(80,"translate"),a(81,"p"),d(82),_(83,"translate"),r(),a(84,"div",42)(85,"a",43),_(86,"cmsthumbnail"),S(87,_b,2,4,"img",44),r()(),a(88,"div",23)(89,"label",45),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),d(90),_(91,"translate"),r(),a(92,"input",46,7),_(94,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),r(),a(95,"cms-file-manager",47),E("itemSelected",function(c){return u(l),f(t.onActionFileSelectedLinkMainImageId(c))}),w("openFormChange",function(c){return u(l),T(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),f(c)}),r()(),S(96,gb,3,3,"p"),a(97,"app-cms-files-selector",48),w("dataFileModelChange",function(c){return u(l),T(t.dataFileModelImgaes,c)||(t.dataFileModelImgaes=c),f(c)}),r(),y(98,"br"),a(99,"div")(100,"p"),d(101),_(102,"translate"),r(),a(103,"app-cms-files-selector",49),w("dataFileModelChange",function(c){return u(l),T(t.dataFileModelFiles,c)||(t.dataFileModelFiles=c),f(c)}),r()(),a(104,"div",42),S(105,Cb,4,4,"audio",50),r(),a(106,"div",23)(107,"input",51,8),_(109,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.linkFilePodcastId,c)||(t.dataModel.linkFilePodcastId=c),f(c)}),E("click",function(){return u(l),f(t.fileManagerOpenFormPodcast=!0)}),r(),a(110,"cms-file-manager",47),E("itemSelected",function(c){return u(l),f(t.onActionFileSelectedLinkFilePodcastId(c))}),w("openFormChange",function(c){return u(l),T(t.fileManagerOpenFormPodcast,c)||(t.fileManagerOpenFormPodcast=c),f(c)}),r()(),a(111,"div",42),S(112,hb,3,2,"video",50),r(),a(113,"div",23)(114,"input",52,9),_(116,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.linkFileMovieId,c)||(t.dataModel.linkFileMovieId=c),f(c)}),E("click",function(){return u(l),f(t.fileManagerOpenFormMovie=!0)}),r(),a(117,"cms-file-manager",47),E("itemSelected",function(c){return u(l),f(t.onActionFileSelectedLinkFileMovieId(c))}),w("openFormChange",function(c){return u(l),T(t.fileManagerOpenFormMovie,c)||(t.fileManagerOpenFormMovie=c),f(c)}),r()(),a(118,"h3"),d(119),_(120,"translate"),r(),a(121,"app-cms-360-image-list",53),w("dataModelChange",function(c){return u(l),T(t.dataModel.file360Views,c)||(t.dataModel.file360Views=c),f(c)}),r(),y(122,"br"),a(123,"h3"),d(124),_(125,"translate"),r(),a(126,"app-cms-360-tour-list",54),w("dataModelChange",function(c){return u(l),T(t.dataModel.file360Tour,c)||(t.dataModel.file360Tour=c),f(c)}),r(),S(127,yb,7,7,"div",35),r(),a(128,"mat-step",55),_(129,"translate"),a(130,"p"),d(131),_(132,"translate"),r(),a(133,"app-cms-map",56),E("map$",function(c){return u(l),f(t.receiveMap(c))})("zoom$",function(c){return u(l),f(t.receiveZoom(c))}),r(),S(134,Mb,8,7,"div",35),r(),R(135,Eb,2,0,"ng-template",57)(136,vb,2,0,"ng-template",58)(137,Ib,2,0,"ng-template",59)(138,bb,2,0,"ng-template",60),r()()()()}if(i&2){let l=A(30),C=A(37),c=A(44),L=A(72);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",g(7,118,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(5),m("label",P(g(14,120,"TITLE.REQUIRED_INFORMATION"))),o(2),M(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?15:-1),o(),M(t.fieldsInfo.mainAdminRecordStatus!=null&&t.fieldsInfo.mainAdminRecordStatus.accessWatchField?16:-1),o(),M(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?17:-1),o(),M(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?18:-1),o(),M(t.fieldsInfo.descriptionHidden!=null&&t.fieldsInfo.descriptionHidden.accessWatchField?19:-1),o(),m("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessEditField))("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",g(21,122,"TITLE.Region")),o(2),h(" ",g(23,124,"TITLE.Geographical_Areas")," : "),o(2),m("optionDisabled",!(t.fieldsInfo.linkLocationIds!=null&&t.fieldsInfo.linkLocationIds.accessEditField))("optionSelectForce",t.dataModel.linkLocationIds)("optionPlaceholder",g(25,126,"TITLE.Region")),o(4),x(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle)),b("ngModel",t.dataModel.phoneNumber),m("disabled",!(t.fieldsInfo.phoneNumber!=null&&t.fieldsInfo.phoneNumber.accessEditField)),o(3),h("",l.value.length," / 64"),o(3),x(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle)),b("ngModel",t.dataModel.mobileNumber),m("disabled",!(t.fieldsInfo.mobileNumber!=null&&t.fieldsInfo.mobileNumber.accessEditField)),o(3),h("",C.value.length," / 64"),o(3),x(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle)),b("ngModel",t.dataModel.address),m("disabled",!(t.fieldsInfo.address!=null&&t.fieldsInfo.address.accessEditField)),o(3),h("",c.value.length," / 500"),o(),M(c.value?-1:47),o(),M(c.value?48:-1),o(),M(c.errors!=null&&c.errors.required?49:-1),o(3),h(" ",t.fieldsInfo.body==null?null:t.fieldsInfo.body.fieldTitle," "),o(),m("placeholder",g(54,128,"TITLE.Enter_Text"))("config",t.publicHelper.editorConfig),b("ngModel",t.dataModel.body),o(2),M(t.publicHelper.processService.process.inRunAll?-1:55),o(),m("label",P(g(57,130,"TITLE.Categories"))),o(2),b("optionModel",t.dataModel.linkEstatePropertySupplierCategoryIds),o(2),M(t.formInfo.submitButtonEnabled?60:-1),o(),m("label",P(g(62,132,"TITLE.Search_Engines"))),o(3),h(" ",g(65,134,"TITLE.This_section_helps_search_engines_better_index_content")," "),o(2),M(t.fieldsInfo.source!=null&&t.fieldsInfo.source.accessWatchField?66:-1),o(3),x(g(70,136,"TITLE.Choose_keywords_relative_to_the_content")),o(4),ue(t.keywordDataModel),o(2),m("placeholder",g(77,138,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",L)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(3),M(t.formInfo.submitButtonEnabled?78:-1),o(),m("label",P(g(80,140,"TITLE.ATTACH_FILES"))),o(3),x(g(83,142,"TITLE.CONTENT_ATTACH_FILES")),o(3),m("href",P(g(86,144,t.dataModel.linkMainImageIdSrc)),H),o(2),M((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?87:-1),o(3),x(g(91,146,"TITLE.Original_Photo")),o(2),m("placeholder",P(g(94,148,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),m("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),m("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),M(t.dataFileModelImgaes&&t.dataFileModelImgaes.size>0?96:-1),o(),b("dataFileModel",t.dataFileModelImgaes),m("openDirectUploadView",!0)("optionFileType",t.selectFileTypeMainImage),o(4),x(g(102,150,"TITLE.List_of_attached_files")),o(2),b("dataFileModel",t.dataFileModelFiles),m("openDirectUploadView",!0),o(2),M((t.dataModel==null||t.dataModel.linkFilePodcastIdSrc==null?null:t.dataModel.linkFilePodcastIdSrc.length)>0?105:-1),o(2),m("placeholder",P(g(109,152,"TITLE.Audio_File_ID"))),b("ngModel",t.dataModel.linkFilePodcastId),o(3),m("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenFormPodcast),m("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypePodcast)("openFilemanagerButtonView",!1),o(2),M((t.dataModel==null||t.dataModel.linkFileMovieIdSrc==null?null:t.dataModel.linkFileMovieIdSrc.length)>0?112:-1),o(2),m("placeholder",P(g(116,154,"TITLE.Video_File_ID"))),b("ngModel",t.dataModel.linkFileMovieId),o(3),m("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenFormMovie),m("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMovie)("openFilemanagerButtonView",!1),o(2),x(g(120,156,"TITLE.image_360")),o(2),b("dataModel",t.dataModel.file360Views),o(3),x(g(125,158,"TITLE.virtual_tour")),o(2),b("dataModel",t.dataModel.file360Tour),m("dataImageModel",t.dataModel.file360Views),o(),M(t.formInfo.submitButtonEnabled?127:-1),o(),m("label",Pe("",g(129,160,"TITLE.Location")," ")),o(3),h(" ",g(132,162,"TITLE.Click_on_the_map_to_specify_the_location")," "),o(2),m("optonCenter",t.mapOptonCenter),o(),M(t.publicHelper.processService.process.inRunAll?-1:134)}},dependencies:[Re,X,$,Te,le,Ee,ge,_e,Ae,Yt,$t,ei,ti,Xt,ri,ai,De,we,ee,ui,fi,_i,gi,mi,hi,Ei,Si,Li,vi,Ii,zt,U,se,Mi,yi,cn,qe,Pr,W,he],encapsulation:2});var kr=Dr;var Tb=["vform"];function wb(n,s){if(n&1){let e=I();a(0,"div",9)(1,"label",10),d(2),r(),a(3,"input",11,0),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModelResultContent.item.title,t)||(l.dataModelResultContent.item.title=t),f(t)}),r()(),a(5,"div",9)(6,"label",12),d(7),r(),a(8,"textarea",13,1),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModelResultContent.item.description,t)||(l.dataModelResultContent.item.description=t),f(t)}),r()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),b("ngModel",e.dataModelResultContent.item.title),o(4),x(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),b("ngModel",e.dataModelResultContent.item.description)}}function xb(n,s){if(n&1){let e=I();a(0,"div",8)(1,"button",14),E("click",function(){u(e);let t=p();return f(t.onFormDelete())}),y(2,"i",15),d(3),_(4,"translate"),r(),a(5,"button",16),E("click",function(){u(e);let t=p();return f(t.onFormCancel())}),y(6,"i",17),d(7),_(8,"translate"),r()()}if(n&2){let e=p();o(),m("disabled",!e.formInfo.submitButtonEnabled),o(2),h(" ",g(4,3,"ACTION.DELETE")," "),o(4),h(" ",g(8,5,"ACTION.CANCEL")," ")}}var Lr=class Lr{constructor(s,e,i,t,l,C,c){this.data=s;this.dialogRef=e;this.publicHelper=i;this.contentService=t;this.cdr=l;this.cmsToastrService=C;this.translate=c;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new j;this.formInfo=new ie;this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=s.id)}ngOnInit(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let s=this.constructor.name+"fieldInfoConvertor";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.contentService.setAccessLoad(),this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onFormDelete(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Lr.\u0275fac=function(e){return new(e||Lr)(v(Ve),v(Le),v(G),v(ji),v(N),v(O),v(B))},Lr.\u0275cmp=V({type:Lr,selectors:[["app-estate-property-supplier-delete"]],viewQuery:function(e,i){if(e&1&&Q(Tb,5),e&2){let t;z(t=K())&&(i.formGroup=t.first)}},standalone:!1,decls:12,vars:8,consts:[["Writer",""],["Content",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"form-actions"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.title",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.title","type","text","required","","readonly","","id","dataModelResultContent.item.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModelResultContent.item.description",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.description","type","text","minlength","1","maxlength","100","readonly","","required","","rows","5","id","dataModelResultContent.item.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(a(0,"div",2),y(1,"app-progress-spinner",3),a(2,"div",4)(3,"p",5),d(4),r(),a(5,"p"),d(6),_(7,"translate"),r(),S(8,wb,10,8),a(9,"div",6),y(10,"app-cms-form-result-message",7),r(),S(11,xb,9,7,"div",8),r()()),e&2&&(o(),m("optionsInfoAreaId",i.constructorInfoAreaId),o(3),h(" ",i.formInfo.formTitle," "),o(2),h(" ",g(7,6,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),M(i.dataModelResultContent!=null&&i.dataModelResultContent.item?8:-1),o(2),m("formInfo",i.formInfo),o(),M(i.formInfo.submitButtonEnabled?11:-1))},dependencies:[X,$,le,Ee,ge,_e,ee,U,se,W],encapsulation:2});var ss=Lr;var Pb=["vform"],Ab=()=>["fa"];function Rb(n,s){if(n&1&&(y(0,"img",15),_(1,"cmsthumbnail")),n&2){let e=p();m("src",P(g(1,2,e.dataModel.linkMainImageIdSrc)),H)}}function Db(n,s){n&1&&y(0,"i",22)}function kb(n,s){n&1&&y(0,"i",23)}function Lb(n,s){n&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function Vb(n,s){if(n&1){let e=I();a(0,"div",16)(1,"label",28),d(2),r(),a(3,"input",29,4),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.iconFont,t)||(l.dataModel.iconFont=t),f(t)}),E("iconPickerSelect",function(t){u(e);let l=p();return f(l.onIconPickerSelect(t))}),r(),a(5,"span",30),y(6,"i",31),r()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),m("iconPicker",e.dataModel.iconFont)("ipIconPack",fe(9,Ab))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),o(3),m("ngClass",e.dataModel.iconFont)}}function Fb(n,s){if(n&1){let e=I();a(0,"div",24)(1,"label",32),d(2),r(),a(3,"div",33)(4,"div",34)(5,"input",35,5),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.iconColor,t)||(l.dataModel.iconColor=t),f(t)}),r()(),a(7,"div",36),y(8,"ngx-mat-color-toggle",37)(9,"ngx-mat-color-picker",38,6),r()()()}if(n&2){let e=A(10),i=p();o(2),x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ae("background",i.dataModel.iconColor),m("placeholder",P(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),m("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),m("for",e),o(),m("touchUi",!0)("color","primary")}}function Bb(n,s){n&1&&y(0,"i",22)}function Ob(n,s){n&1&&y(0,"i",23)}function Nb(n,s){n&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function Gb(n,s){if(n&1){let e=I();a(0,"div",27)(1,"button",39),E("click",function(){u(e);let t=p();return f(t.onFormCancel())}),y(2,"i",40),d(3),_(4,"translate"),r(),a(5,"button",41),y(6,"i",42),d(7),_(8,"translate"),r()()}if(n&2){p();let e=A(10);o(3),h(" ",g(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),h(" ",g(8,5,"ACTION.SAVE")," ")}}var Vr=class Vr extends _t{constructor(e,i,t,l,C,c,L,q){super(l,new Qn,c,q);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertySupplierCategoryService=l;this.cmsToastrService=C;this.publicHelper=c;this.cdr=L;this.translate=q;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new j;this.dataModel=new Qn;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertySupplierCategoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Vr.\u0275fac=function(i){return new(i||Vr)(v(Ve),v(Le),v(te),v(In),v(O),v(G),v(N),v(B))},Vr.\u0275cmp=V({type:Vr,selectors:[["app-estate-property-supplier-category-add"]],viewQuery:function(i,t){if(i&1&&Q(Pb,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[Y],decls:48,vars:50,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=I();a(0,"div",7),y(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),d(4),r(),a(5,"p"),d(6),_(7,"translate"),r(),y(8,"app-cms-form-result-message",11),a(9,"form",12,0),E("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(11,"div",13)(12,"a",14),_(13,"cmsthumbnail"),S(14,Rb,2,4,"img",15),r()(),a(15,"div",16)(16,"label",17),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),d(17),_(18,"translate"),r(),a(19,"input",18,1),_(21,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),r(),a(22,"cms-file-manager",19),E("itemSelected",function(c){return u(l),f(t.onActionFileSelected(c))}),w("openFormChange",function(c){return u(l),T(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),f(c)}),r()(),a(23,"div",16)(24,"label",20),d(25),r(),a(26,"input",21,2),w("ngModelChange",function(c){return u(l),T(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),r(),S(28,Db,1,0,"i",22),S(29,kb,1,0,"i",23),a(30,"em"),d(31),r(),S(32,Lb,5,3,"mat-error"),r(),S(33,Vb,7,10,"div",16),S(34,Fb,11,11,"div",24),a(35,"div",16)(36,"label",25),d(37),_(38,"translate"),r(),a(39,"textarea",26,3),w("ngModelChange",function(c){return u(l),T(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),d(41,"                  "),r(),a(42,"em"),d(43),r(),S(44,Bb,1,0,"i",22),S(45,Ob,1,0,"i",23),S(46,Nb,5,3,"mat-error"),r(),S(47,Gb,9,7,"div",27),r()()()}if(i&2){let l=A(27),C=A(40);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",g(7,40,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(4),m("href",P(g(13,42,t.dataModel.linkMainImageIdSrc)),H),o(2),M((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?14:-1),o(3),x(g(18,44,"TITLE.PICTURE")),o(2),m("placeholder",P(g(21,46,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),m("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),m("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(3),x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle))("disabled",P(!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessAddField))),b("ngModel",t.dataModel.title),o(2),M(l.value?-1:28),o(),M(l.value?29:-1),o(2),h("",l.value.length," / 100"),o(),M(l.errors!=null&&l.errors.required?32:-1),o(),M(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessWatchField?33:-1),o(),M(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessWatchField?34:-1),o(3),x(g(38,48,"TITLE.General_Description")),o(2),m("placeholder",P(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),h("",C.value.length," / 500"),o(),M(C.value?-1:44),o(),M(C.value?45:-1),o(),M(C.errors!=null&&C.errors.required?46:-1),o(),M(t.formInfo.submitButtonEnabled?47:-1)}},dependencies:[re,Re,X,$,Te,le,Ee,ge,_e,Ae,De,Ze,ee,U,se,Kt,Qt,qt,Ut,qe,W,he],encapsulation:2});var ds=Vr;var Wb=["vform"],Hb=()=>["fa"];function jb(n,s){if(n&1&&(y(0,"img",15),_(1,"cmsthumbnail")),n&2){let e=p();m("src",P(g(1,2,e.dataModel.linkMainImageIdSrc)),H)}}function Ub(n,s){n&1&&y(0,"i",22)}function qb(n,s){n&1&&y(0,"i",23)}function Qb(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2){let e=p();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),x(g(4,2,"MESSAGE.required"))}}function zb(n,s){if(n&1){let e=I();a(0,"div",16)(1,"label",28),d(2),r(),a(3,"input",29,4),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.iconFont,t)||(l.dataModel.iconFont=t),f(t)}),E("iconPickerSelect",function(t){u(e);let l=p();return f(l.onIconPickerSelect(t))}),r(),a(5,"span",30),y(6,"i",31),r()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),m("iconPicker",e.dataModel.iconFont)("ipIconPack",fe(9,Hb))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessEditField)),o(3),m("ngClass",e.dataModel.iconFont)}}function Kb(n,s){if(n&1){let e=I();a(0,"div",24)(1,"label",32),d(2),r(),a(3,"div",33)(4,"div",34)(5,"input",35,5),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.iconColor,t)||(l.dataModel.iconColor=t),f(t)}),r()(),a(7,"div",36),y(8,"ngx-mat-color-toggle",37)(9,"ngx-mat-color-picker",38,6),r()()()}if(n&2){let e=A(10),i=p();o(2),x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ae("background",i.dataModel.iconColor),m("placeholder",P(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),m("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),o(3),m("for",e),o(),m("touchUi",!0)("color","primary")}}function Zb(n,s){n&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function Yb(n,s){if(n&1){let e=I();a(0,"div",27)(1,"button",39),E("click",function(){u(e);let t=p();return f(t.onFormCancel())}),y(2,"i",40),d(3),_(4,"translate"),r(),a(5,"button",41),y(6,"i",42),d(7),_(8,"translate"),r()()}if(n&2){p();let e=A(10);o(3),h(" ",g(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),h(" ",g(8,5,"ACTION.SAVE")," ")}}var Fr=class Fr extends Tt{constructor(e,i,t,l,C,c,L,q,Se){super(l,new Qn,L,Se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertySupplierCategoryService=l;this.estatePropertyTypeService=C;this.cmsToastrService=c;this.publicHelper=L;this.cdr=q;this.translate=Se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ht;this.dataModel=new Qn;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.dataEstatePropertyTypeUsageIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertySupplierCategoryService.setAccessLoad(),this.estatePropertySupplierCategoryService.setAccessDataType(Be.Editor),this.estatePropertySupplierCategoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)});let i=new oe,t=new Z;t.propertyName="LinkPropertySupplierCategoryId",t.value=this.requestId,i.filters.push(t),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:l=>{this.dataEstatePropertyTypeModel=l.listItems;let C=[];this.dataEstatePropertyTypeModel.forEach(c=>{C.push(c.linkPropertyTypeUsageId)}),this.dataEstatePropertyTypeUsageIds=C,l.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.submitResultMessage=c}),this.formInfo.submitResultMessage=l.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(l.errorMessage)),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertySupplierCategoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorUserCategorySelect(e){this.dataEstatePropertyTypeUsageModel=e}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Fr.\u0275fac=function(i){return new(i||Fr)(v(Ve),v(Le),v(te),v(In),v(Ui),v(O),v(G),v(N),v(B))},Fr.\u0275cmp=V({type:Fr,selectors:[["app-estate-property-supplier-category-edit"]],viewQuery:function(i,t){if(i&1&&Q(Wb,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[Y],decls:46,vars:46,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=I();a(0,"div",7),y(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),d(4),r(),a(5,"p"),d(6),_(7,"translate"),r(),y(8,"app-cms-form-result-message",11),a(9,"form",12,0),E("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(11,"div",13)(12,"a",14),_(13,"cmsthumbnail"),S(14,jb,2,4,"img",15),r()(),a(15,"div",16)(16,"label",17),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),d(17),_(18,"translate"),r(),a(19,"input",18,1),_(21,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),r(),a(22,"cms-file-manager",19),E("itemSelected",function(c){return u(l),f(t.onActionFileSelected(c))}),w("openFormChange",function(c){return u(l),T(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),f(c)}),r()(),a(23,"div",16)(24,"label",20),d(25),r(),a(26,"input",21,2),w("ngModelChange",function(c){return u(l),T(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),r(),S(28,Ub,1,0,"i",22),S(29,qb,1,0,"i",23),a(30,"em"),d(31),r(),S(32,Qb,5,4,"mat-error"),r(),S(33,zb,7,10,"div",16),S(34,Kb,11,11,"div",24),a(35,"div",16)(36,"label",25),d(37),_(38,"translate"),r(),a(39,"textarea",26,3),w("ngModelChange",function(c){return u(l),T(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),d(41,"                  "),r(),a(42,"em"),d(43),r(),S(44,Zb,5,3,"mat-error"),r(),S(45,Yb,9,7,"div",27),r()()()}if(i&2){let l=A(27),C=A(40);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",g(7,36,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(4),m("href",P(g(13,38,t.dataModel.linkMainImageIdSrc)),H),o(2),M((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?14:-1),o(3),x(g(18,40,"TITLE.PICTURE")),o(2),m("placeholder",P(g(21,42,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),m("language",t.appLanguage)("isPopup",!0)("openDirectUploadView",!0),b("openForm",t.fileManagerOpenForm),m("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(3),x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),M(l.value?-1:28),o(),M(l.value?29:-1),o(2),h("",l.value.length," / 100"),o(),M(l.errors!=null&&l.errors.required?32:-1),o(),M(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessWatchField?33:-1),o(),M(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessWatchField?34:-1),o(3),x(g(38,44,"TITLE.General_Description")),o(2),m("placeholder",P(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),h("",C.value.length," / 500"),o(),M(C.errors!=null&&C.errors.required?44:-1),o(),M(t.formInfo.submitButtonEnabled?45:-1)}},dependencies:[re,Re,X,$,Te,le,Ee,ge,_e,Ae,De,Ze,ee,U,se,Kt,Qt,qt,Ut,qe,W,he],encapsulation:2});var cs=Fr;function Jb(n,s){if(n&1){let e=I();a(0,"button",14),E("click",function(){u(e);let t=p();return f(t.onActionAdd())}),d(1),_(2,"translate"),r()}n&2&&(o(),h(" ",g(2,1,"ACTION.ADD")," "))}function Xb(n,s){if(n&1){let e=I();a(0,"button",15),E("click",function(){u(e);let t=p();return f(t.onActionEdit())}),d(1),_(2,"translate"),r()}n&2&&(o(),h(" ",g(2,1,"ACTION.EDIT")," "))}function $b(n,s){if(n&1){let e=I();a(0,"button",16),E("click",function(){u(e);let t=p();return f(t.onActionDelete())}),d(1),_(2,"translate"),r()}n&2&&(o(),h(" ",g(2,1,"ACTION.DELETE")," "))}function eT(n,s){if(n&1){let e=I();a(0,"button",17),E("click",function(){u(e);let t=p();return f(t.onActionButtonReload())}),a(1,"mat-icon",18),_(2,"translate"),d(3,"refresh"),r()()}n&2&&(o(),m("title",P(g(2,2,"ACTION.RELOAD"))))}function tT(n,s){if(n&1){let e=I();a(0,"mat-tree-node",19),y(1,"button",20),a(2,"span",21),E("click",function(){let t=u(e).$implicit,l=p();return f(l.onActionSelect(t))}),y(3,"img",22)(4,"i",23),d(5),r()()}if(n&2){let e=s.$implicit,i=p();ne("ntk-tree-selected",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),o(3),m("src",P(e.linkMainImageIdSrc),H),o(),ae("color",e.IconColor),m("ngClass",e.IconFont),o(),h("\xA0",e.title)}}function iT(n,s){if(n&1){let e=I();a(0,"mat-tree-node",24)(1,"button",25)(2,"mat-icon",26),d(3),r()(),a(4,"span",21),E("click",function(){let t=u(e).$implicit,l=p();return f(l.onActionSelect(t))}),y(5,"img",22)(6,"i",23),d(7),r()()}if(n&2){let e=s.$implicit,i=p(),t=A(12);ne("ntk-tree-selected",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),m("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),li("type","button")("aria-label","Toggle "+e.title),o(2),h(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),m("src",P(e.linkMainImageIdSrc),H),o(),ae("color",e.IconColor),m("ngClass",e.IconFont),o(),h("\xA0",e.title)}}var Br=class Br{constructor(s,e,i,t,l,C,c,L,q,Se){this.cmsToastrService=s;this.coreEnumService=e;this.categoryService=i;this.cmsConfirmationDialogService=t;this.dialog=l;this.cdr=C;this.publicHelper=c;this.translate=L;this.tokenHelper=q;this.cmsStoreService=Se;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new Qn;this.dataModelResult=new j;this.filterModel=new oe;this.dataSource=new $o;this.optionChange=new Vt;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(s,e)=>!1;this.childrenAccessor=s=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(()=>Me(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onActionSelect(s){s&&this.dataModelSelect&&s.id==this.dataModelSelect.id?(this.dataModelSelect=null,this.optionChange.emit(null)):(this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect))}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Qn,this.DataGetAll()}onActionSelectForce(s){}onActionAdd(){var s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(ds,{height:"90%",panelClass:s,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let s="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(s=this.dataModelSelect.id),s===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(cs,{height:"90%",panelClass:e,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{id:s}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let s="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(s=this.dataModelSelect.id),s===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="",i="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(t=>{e=t["MESSAGE.Please_Confirm"],i=t["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.dataModelSelect.title+" ) ",this.cmsConfirmationDialogService.confirm(e,i).then(l=>{if(l){let C=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(C,c,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.dataModelSelect.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})})}};Br.\u0275fac=function(e){return new(e||Br)(v(O),v(te),v(In),v(bt),v(Oe),v(N),v(G),v(B),v(de),v(Ce))},Br.\u0275cmp=V({type:Br,selectors:[["app-estate-property-supplier-category-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:16,vars:14,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(a(0,"app-cms-html-tree",1),D(1,2),d(2),_(3,"translate"),k(),D(4,3),S(5,Jb,3,3,"button",4),S(6,Xb,3,3,"button",5),S(7,$b,3,3,"button",6),S(8,eT,4,4,"button",7),k(),D(9,8),y(10,"app-progress-spinner",9),a(11,"mat-tree",10,0),R(13,tT,6,8,"mat-tree-node",11)(14,iT,8,13,"mat-tree-node",12),r(),k(),Ye(15,13),r()),e&2&&(m("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),h(" ",g(3,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow?5:-1),o(),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0?6:-1),o(),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow&&i.dataModelSelect.id&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?7:-1),o(),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow?8:-1),o(2),m("optionsInfoAreaId",i.constructorInfoAreaId),o(),m("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),m("matTreeNodeDefWhen",i.hasChild))},dependencies:[re,Ue,we,Zo,Yo,Xo,Jo,Ko,U,na,W],encapsulation:2});var ps=Br;var oT=()=>["expandedTitle"],aT=()=>["expandedDetail"],rT=()=>[5,10,20,100],Sc=n=>({display:n});function lT(n,s){if(n&1&&y(0,"app-estate-property-project-header",3),n&2){let e=p();m("optionId",e.requestLinkProjectId)}}function sT(n,s){if(n&1){let e=I();a(0,"a",19)(1,"mat-slide-toggle",53),E("click",function(){u(e);let t=p();return f(t.onActionButtonWithHierarchy())}),r(),d(2),_(3,"translate"),r()}n&2&&(o(2),h("",g(3,1,"ACTION.BATCHVIEW")," "))}function dT(n,s){if(n&1){let e=I();a(0,"div",21)(1,"a",54),E("click",function(t){u(e);let l=p();return f(l.onActionButtonNewRow(t))}),y(2,"i",55)(3,"br"),r(),a(4,"p",24),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.ADD")," "))}function cT(n,s){if(n&1){let e=I();a(0,"div",21)(1,"a",56),E("click",function(t){u(e);let l=p();return f(l.onActionButtonEditRow(l.tableRowSelected,t))}),y(2,"i",57)(3,"br"),r(),a(4,"p",24),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.EDIT")," "))}function pT(n,s){if(n&1){let e=I();a(0,"div",21)(1,"a",58),E("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),y(2,"i",59)(3,"br"),r(),a(4,"p",24),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.DELETE")," "))}function mT(n,s){n&1&&(a(0,"mat-header-cell"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.MENU")," "))}function uT(n,s){if(n&1){let e=I();a(0,"mat-cell")(1,"button",60),E("click",function(){let t=u(e).$implicit,l=p();return f(l.onActionTableRowSelectActionMenu(t))}),y(2,"i",61),r()()}}function fT(n,s){n&1&&(a(0,"mat-header-cell",62),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.PICTURE")," "))}function _T(n,s){if(n&1&&(y(0,"img",63),_(1,"cmsthumbnail")),n&2){let e=p().$implicit;m("src",P(g(1,2,e.linkMainImageIdSrc)),H)}}function gT(n,s){if(n&1&&(a(0,"mat-cell"),S(1,_T,2,4,"img",63),r()),n&2){let e=s.$implicit;o(),M((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function CT(n,s){if(n&1&&(a(0,"mat-header-cell",62),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function hT(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.id," ")}}function yT(n,s){if(n&1&&(a(0,"mat-header-cell",62),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function ST(n,s){if(n&1&&(a(0,"mat-cell"),d(1),_(2,"cmssiteinfo"),_(3,"async"),r()),n&2){let e=s.$implicit;o(),h(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function MT(n,s){if(n&1&&(a(0,"mat-header-cell",62),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function ET(n,s){if(n&1&&y(0,"select",65),n&2){let e=p().$implicit,i=p();m("contentService",i.contentService)("row",e)("ngStyle",Nt(3,Sc,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function vT(n,s){if(n&1&&(a(0,"mat-cell"),y(1,"i",64),_(2,"statusIconClass"),S(3,ET,1,5,"select",65),r()),n&2){let e=s.$implicit,i=p();o(),m("ngClass",g(2,2,e.recordStatus)),o(2),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?3:-1)}}function IT(n,s){if(n&1&&(a(0,"mat-header-cell",62),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle," ")}}function bT(n,s){if(n&1&&(a(0,"mat-cell"),y(1,"i",64),_(2,"adminStatusIconClass"),r()),n&2){let e=s.$implicit;o(),m("ngClass",g(2,1,e.mainAdminRecordStatus))}}function TT(n,s){if(n&1&&(a(0,"mat-header-cell",62),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function wT(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.title," ")}}function xT(n,s){if(n&1&&(a(0,"mat-header-cell",62),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function PT(n,s){if(n&1&&(a(0,"mat-cell"),d(1),_(2,"localeDate"),r()),n&2){let e=s.$implicit;o(),h(" ",g(2,1,e.createdDate)," ")}}function AT(n,s){n&1&&(a(0,"mat-header-cell"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.OPTION")," "))}function RT(n,s){if(n&1&&(a(0,"mat-cell",66)(1,"button",67)(2,"mat-icon"),d(3,"more_vert"),r()(),y(4,"mat-menu",null,2),r()),n&2){let e=A(5);o(),m("matMenuTriggerFor",e)}}function DT(n,s){n&1&&(a(0,"mat-header-cell",68),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.LINKTO")," "))}function kT(n,s){if(n&1){let e=I();a(0,"mat-cell")(1,"button",69),E("click",function(){let t=u(e).$implicit,l=p();return f(l.onActionButtonLinkTo(t))}),a(2,"mat-icon",70),d(3,"\u2197"),r()()()}}function LT(n,s){if(n&1&&(a(0,"mat-cell"),d(1),y(2,"br"),d(3),_(4,"translate"),_(5,"localeDate"),r()),n&2){let e=s.$implicit;o(),h(" ",e.title," "),o(2),We(" ",g(4,3,"TITLE.CreationDate")," : ",g(5,5,e.createdDate)," ")}}function VT(n,s){if(n&1&&(y(0,"img",71),_(1,"cmsthumbnail")),n&2){let e=p().$implicit;m("src",P(g(1,2,e.linkMainImageIdSrc)),H)}}function FT(n,s){if(n&1&&(a(0,"tr"),y(1,"td"),a(2,"td"),d(3),_(4,"localeDate"),r()()),n&2){let e=p().$implicit,i=p();o(3),We(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle," : ",g(4,2,e.updatedDate)," ")}}function BT(n,s){if(n&1){let e=I();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),S(5,VT,2,4,"img",71),r(),a(6,"th")(7,"span",72),E("click",function(){u(e);let t=p();return f(t.onActionCopied())}),y(8,"i",73),r(),d(9),r()(),S(10,FT,5,4,"tr"),a(11,"tr"),y(12,"td"),a(13,"td"),d(14),r()(),a(15,"tr"),y(16,"td"),a(17,"td"),d(18),r()(),a(19,"tr"),y(20,"td")(21,"td"),r()()()()}if(n&2){let e=s.$implicit;o(5),M((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),m("cdkCopyToClipboard",e.id),o(2),h(" ",e.id," "),o(),M(e.updatedDate?10:-1),o(4),x(e.title),o(4),x(e.description)}}function OT(n,s){n&1&&y(0,"mat-header-row")}function NT(n,s){if(n&1){let e=I();a(0,"mat-row",74),E("click",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=u(e).$implicit,l=p();return f(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,l=p();return f(l.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=s.$implicit,i=p();ne("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function GT(n,s){if(n&1){let e=I();a(0,"mat-row",75),E("click",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=u(e).$implicit,l=p();return f(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,l=p();return f(l.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=s.$implicit,i=p();ne("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function WT(n,s){if(n&1){let e=I();a(0,"mat-row",76),E("click",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=u(e).$implicit,l=p();return f(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,l=p();return f(l.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=s.$implicit,i=p();ne("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),m("ngStyle",Nt(3,Sc,e.expanded===!0?"":"none"))}}var Or=class Or extends wt{constructor(e,i,t,l,C,c,L,q,Se,je,Ke){super(e,new ln,je,C,L);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.router=l;this.tokenHelper=C;this.cdr=c;this.translate=L;this.cmsStoreService=q;this.pageInfo=Se;this.publicHelper=je;this.dialog=Ke;this.requestLinkProjectId="";this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new oe;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","mainAdminRecordStatus","LinkTo","action_menu"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","id","recordStatus","mainAdminRecordStatus","LinkTo","action_menu"];this.unsubscribe=[];this.GetAllWithHierarchyCategoryId=!1;if(this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ot=>this.onSubmitOptionsSearch(Ot)},this.requestLinkProjectId=this.activatedRoute.snapshot.paramMap.get("LinkProjectId"),this.requestLinkProjectId&&this.requestLinkProjectId.length>0){let Ot=new Z;Ot.propertyName="linkPropertyProjectId",Ot.value=this.requestLinkProjectId,this.filteModelContent.filters.push(Ot)}this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=J.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Me(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ln);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new Z;t.propertyName="linkEstatePropertySupplierCategoryIds",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=J.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(e){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}e?.ctrlKey?(this.link="/#/estate/property-supplier/add/",window.open(this.link,"_blank")):this.router.navigate(["/estate/property-supplier/add"])}onActionButtonEditRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-supplier/edit/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-supplier/edit",this.tableRowSelected.id])}onActionButtonProperty(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property/LinkSupplierId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkSupplierId",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ss,{panelClass:i,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{i.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),C=new Z;C.propertyName="recordStatus",C.value=He.Available,l.filters.push(C),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{i.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonWithHierarchy(){this.GetAllWithHierarchyCategoryId=!this.GetAllWithHierarchyCategoryId,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new oe,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionButtonLinkTo(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(e.recordStatus!=He.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.onActionTableRowSelect(e);let i=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_state_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetOneById(e.id).subscribe({next:t=>{if(t.isSuccess){var l="";this.publicHelper.isMobile?l="dialog-fullscreen":l="dialog-min",this.dialog.open(ro,{height:"90%",panelClass:l,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{title:t.item.title,urlViewContentQRCodeBase64:t.item.urlViewContentQRCodeBase64,urlViewContent:t.item.urlViewContent}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(t.errorMessage);this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}};Or.\u0275fac=function(i){return new(i||Or)(v(ji),v(O),v(Gt),v(ke),v(de),v(N),v(B),v(Ce),v(It),v(G),v(Oe))},Or.\u0275cmp=V({type:Or,selectors:[["app-estate-property-supplier-list"]],standalone:!1,features:[Y],decls:91,vars:43,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],[1,"fa-solid","fa-apartment","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","mainAdminRecordStatus"],["matColumnDef","title"],["matColumnDef","createdDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"click"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","type","button","aria-label","Action Menu",3,"matMenuTriggerFor"],["mat-sort-header","",1,"form-label"],["type","button","mat-icon-button","",1,"text-dark",3,"click"],[2,"color","#ff671f"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let l=I();S(0,lT,1,1,"app-estate-property-project-header",3),a(1,"app-cms-html-list",4),w("optionActionGuideNoticeDisplayChange",function(c){return u(l),T(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),E("optionOnActionButtonMemoRow",function(){return u(l),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(l),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(l),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(l),f(t.onActionButtonPrintRow())}),D(2,5),a(3,"app-estate-property-supplier-category-tree",6),E("optionChange",function(c){return u(l),f(t.onActionSelectorSelect(c))}),r(),k(),Ye(4,7)(5,8),D(6,9),a(7,"a",10),E("click",function(){return u(l),f(t.viewGuideNotice=!t.viewGuideNotice)}),y(8,"i",11),r(),a(9,"a",10),E("click",function(){return u(l),f(t.onActionButtonReload())}),y(10,"i",12),r(),a(11,"a",13),E("click",function(){return u(l),f(t.onActionGridExpandRows(!0))}),y(12,"i",14),r(),a(13,"a",13),E("click",function(){return u(l),f(t.onActionGridExpandRows(!1))}),y(14,"i",15),r(),k(),D(15,16),a(16,"a",17),E("click",function(){return u(l),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),y(17,"mat-slide-toggle",18),d(18),_(19,"translate"),r(),a(20,"a",17),E("click",function(){return u(l),f(t.onActionButtonStatist())}),y(21,"mat-slide-toggle",18),d(22),_(23,"translate"),r(),S(24,sT,4,3,"a",19),k(),D(25,20),S(26,dT,7,3,"div",21),k(),D(27,22),S(28,cT,7,3,"div",21),S(29,pT,7,3,"div",21),a(30,"div",21)(31,"a",13),E("click",function(c){return u(l),f(t.onActionButtonProperty(t.tableRowSelected,c))}),y(32,"i",23)(33,"br"),r(),a(34,"p",24),d(35),_(36,"translate"),r()(),a(37,"div",21)(38,"a",10),E("click",function(){return u(l),f(t.onActionButtonLinkTo(t.tableRowSelected))}),y(39,"i",25)(40,"br"),r(),a(41,"p",24),d(42),_(43,"translate"),r()(),k(),D(44,26),a(45,"app-cms-search-list",27),w("optionsChange",function(c){return u(l),T(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),r(),a(46,"app-cms-statist-list",27),w("optionsChange",function(c){return u(l),T(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),r(),k(),D(47,28),a(48,"mat-table",29,0),E("matSortChange",function(){u(l);let c=A(49);return f(t.onTableSortData(c))}),D(50,30),R(51,mT,3,3,"mat-header-cell",31)(52,uT,3,0,"mat-cell",32),k(),D(53,33),R(54,fT,3,3,"mat-header-cell",34)(55,gT,2,1,"mat-cell",32),k(),D(56,35),R(57,CT,2,1,"mat-header-cell",34)(58,hT,2,1,"mat-cell",32),k(),D(59,36),R(60,yT,2,1,"mat-header-cell",34)(61,ST,4,5,"mat-cell",32),k(),D(62,37),R(63,MT,2,1,"mat-header-cell",34)(64,vT,4,4,"mat-cell",32),k(),D(65,38),R(66,IT,2,1,"mat-header-cell",34)(67,bT,3,3,"mat-cell",32),k(),D(68,39),R(69,TT,2,1,"mat-header-cell",34)(70,wT,2,1,"mat-cell",32),k(),D(71,40),R(72,xT,2,1,"mat-header-cell",34)(73,PT,3,3,"mat-cell",32),k(),D(74,41),R(75,AT,3,3,"mat-header-cell",31)(76,RT,6,1,"mat-cell",42),k(),D(77,43),R(78,DT,3,3,"mat-header-cell",44)(79,kT,4,0,"mat-cell",32),k(),D(80,45),R(81,LT,6,7,"mat-cell",32),k(),D(82,46),R(83,BT,22,6,"mat-cell",32),k(),R(84,OT,1,0,"mat-header-row",47)(85,NT,1,2,"mat-row",48)(86,GT,1,2,"mat-row",49)(87,WT,1,5,"mat-row",50),r(),k(),D(88,51),a(89,"mat-paginator",52,1),E("page",function(c){return u(l),f(t.onTablePageingData(c))}),r(),k(),r()}i&2&&(M((t.requestLinkProjectId==null?null:t.requestLinkProjectId.length)>0?0:-1),o(),m("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","estate.propertysupplier.list"),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),m("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(9),ne("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),m("checked",t.optionsSearch.data.show),o(),h("",g(19,32,"ACTION.SEARCH")," "),o(3),m("checked",t.optionsStatist.data.show),o(),h("",g(23,34,"ACTION.STATIST")," "),o(2),M((t.tableRowSelected==null?null:t.tableRowSelected.id)>0?24:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?26:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?28:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?29:-1),o(6),h(" ",g(36,36,"ACTION.PROPERTY")," "),o(7),h(" ",g(43,38,"TITLE.LINKTO")," "),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),m("dataSource",t.tableSource),o(36),m("matHeaderRowDef",t.tabledisplayedColumns),o(),m("matRowDefColumns",fe(40,oT)),o(),m("matRowDefColumns",t.tabledisplayedColumns),o(),m("matRowDefColumns",fe(41,aT)),o(2),m("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",fe(42,rT)))},dependencies:[re,oi,Ue,we,ee,yt,St,Mt,ft,Et,vt,$e,tt,at,it,et,rt,nt,ot,lt,st,Tn,xt,Pt,At,Rt,oo,Zd,ps,pt,W,ao,he,ia,ki,ua],encapsulation:2});var Io=Or;var HT=()=>[5,10,20,100];function jT(n,s){if(n&1){let e=I();a(0,"div",15)(1,"a",39),E("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),y(2,"i",40)(3,"br"),r(),a(4,"p",19),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.ADD")," "))}function UT(n,s){if(n&1){let e=I();a(0,"div",15)(1,"a",41),E("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),y(2,"i",42)(3,"br"),r(),a(4,"p",19),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.EDIT")," "))}function qT(n,s){if(n&1){let e=I();a(0,"div",15)(1,"a",43),E("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),y(2,"i",44)(3,"br"),r(),a(4,"p",19),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.DELETE")," "))}function QT(n,s){n&1&&(a(0,"mat-header-cell",45),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.PICTURE")," "))}function zT(n,s){if(n&1&&(y(0,"img",46),_(1,"cmsthumbnail")),n&2){let e=p().$implicit;m("src",P(g(1,2,e.linkMainImageIdSrc)),H)}}function KT(n,s){if(n&1&&(a(0,"mat-cell"),S(1,zT,2,4,"img",46),r()),n&2){let e=s.$implicit;o(),M((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function ZT(n,s){if(n&1&&(a(0,"mat-header-cell",45),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle," ")}}function YT(n,s){if(n&1&&(a(0,"mat-cell"),y(1,"i",47),r()),n&2){let e=s.$implicit;o(),ae("color",e.iconColor),m("ngClass",e.iconFont)}}function JT(n,s){if(n&1&&(a(0,"mat-header-cell",45),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function XT(n,s){if(n&1&&(a(0,"mat-cell"),y(1,"i",47),r()),n&2){let e=s.$implicit;o(),ae("color",e.iconColor),m("ngClass",e.iconFont)}}function $T(n,s){if(n&1&&(a(0,"mat-header-cell",45),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function e2(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.title," ")}}function t2(n,s){if(n&1&&(a(0,"mat-header-cell",45),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function i2(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.description," ")}}function n2(n,s){n&1&&(a(0,"mat-header-cell"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.OPTION")," "))}function o2(n,s){if(n&1&&(a(0,"mat-cell",48)(1,"button",49)(2,"mat-icon"),d(3,"more_vert"),r()(),y(4,"mat-menu",null,2),r()),n&2){let e=A(5);o(),m("matMenuTriggerFor",e)}}function a2(n,s){n&1&&y(0,"mat-header-row")}function r2(n,s){if(n&1){let e=I();a(0,"mat-row",50),E("click",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))}),r()}if(n&2){let e=s.$implicit,i=p();ne("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Nr=class Nr extends wt{constructor(e,i,t,l,C,c,L,q,Se,je,Ke){super(e,new gn,je,C,L);this.contentService=e;this.cmsConfirmationDialogService=i;this.cmsToastrService=t;this.router=l;this.tokenHelper=C;this.cdr=c;this.translate=L;this.cmsStoreService=q;this.pageInfo=Se;this.publicHelper=je;this.dialog=Ke;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new oe;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","IconFont","title","Description"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","IconFont","title","Description"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ot=>this.onSubmitOptionsSearch(Ot)},this.filteModelContent.sortColumn="title",this.filteModelContent.sortType=J.Ascending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Me(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new gn);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=J.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Yd,{height:"90%",panelClass:e,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Jd,{height:"90%",panelClass:i,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let C=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(C,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})}onActionButtonContentDetailList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/estate/property-detail/LinkPropertyTypeLanduseId/",this.tableRowSelected.id])}onActionButtonContentList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/estate/property/LinkPropertyTypeLanduseId/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{i.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),C=new Z;C.propertyName="recordStatus",C.value=He.Available,l.filters.push(C),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{i.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Nr.\u0275fac=function(i){return new(i||Nr)(v(Di),v(bt),v(O),v(ke),v(de),v(N),v(B),v(Ce),v(It),v(G),v(Oe))},Nr.\u0275cmp=V({type:Nr,selectors:[["app-estate-property-type-landuse-list"]],standalone:!1,features:[Y],decls:67,vars:36,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-buildings","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","id"],["matColumnDef","title"],["matColumnDef","Description"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=I();a(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(c){return u(l),T(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),E("optionOnActionButtonMemoRow",function(){return u(l),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(l),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(l),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(l),f(t.onActionButtonPrintRow())}),D(1,4),d(2," -------------------------------------- "),k(),Ye(3,5)(4,6),D(5,7),a(6,"a",8),E("click",function(){return u(l),f(t.viewGuideNotice=!t.viewGuideNotice)}),y(7,"i",9),r(),a(8,"a",8),E("click",function(){return u(l),f(t.onActionButtonReload())}),y(9,"i",10),r(),k(),D(10,11),a(11,"a",12),E("click",function(){return u(l),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),y(12,"mat-slide-toggle",13),d(13),_(14,"translate"),r(),a(15,"a",12),E("click",function(){return u(l),f(t.onActionButtonStatist())}),y(16,"mat-slide-toggle",13),d(17),_(18,"translate"),r(),k(),D(19,14),S(20,jT,7,3,"div",15),k(),D(21,16),S(22,UT,7,3,"div",15),S(23,qT,7,3,"div",15),a(24,"div",15)(25,"a",17),E("click",function(){return u(l),f(t.onActionButtonContentDetailList(t.tableRowSelected))}),y(26,"i",18)(27,"br"),r(),a(28,"p",19),d(29),_(30,"translate"),r()(),a(31,"div",15)(32,"a",17),E("click",function(){return u(l),f(t.onActionButtonContentList(t.tableRowSelected))}),y(33,"i",20)(34,"br"),r(),a(35,"p",19),d(36),_(37,"translate"),r()(),k(),D(38,21),a(39,"app-cms-search-list",22),w("optionsChange",function(c){return u(l),T(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),r(),a(40,"app-cms-statist-list",22),w("optionsChange",function(c){return u(l),T(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),r(),k(),D(41,23),a(42,"mat-table",24,0),E("matSortChange",function(){u(l);let c=A(43);return f(t.onTableSortData(c))}),D(44,25),R(45,QT,3,3,"mat-header-cell",26)(46,KT,2,1,"mat-cell",27),k(),D(47,28),R(48,ZT,2,1,"mat-header-cell",26)(49,YT,2,3,"mat-cell",27),k(),D(50,29),R(51,JT,2,1,"mat-header-cell",26)(52,XT,2,3,"mat-cell",27),k(),D(53,30),R(54,$T,2,1,"mat-header-cell",26)(55,e2,2,1,"mat-cell",27),k(),D(56,31),R(57,t2,2,1,"mat-header-cell",26)(58,i2,2,1,"mat-cell",27),k(),D(59,32),R(60,n2,3,3,"mat-header-cell",33)(61,o2,6,1,"mat-cell",34),k(),R(62,a2,1,0,"mat-header-row",35)(63,r2,1,2,"mat-row",36),r(),k(),D(64,37),a(65,"mat-paginator",38,1),E("page",function(c){return u(l),f(t.onTablePageingData(c))}),r(),k(),r()}i&2&&(m("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),m("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),ne("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),m("checked",t.optionsSearch.data.show),o(),h("",g(14,27,"ACTION.SEARCH")," "),o(3),m("checked",t.optionsStatist.data.show),o(),h("",g(18,29,"ACTION.STATIST")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(6),h(" ",g(30,31,"ACTION.DETAIL")," "),o(7),h(" ",g(37,33,"ACTION.PROPERTYLIST")," "),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),m("dataSource",t.tableSource),o(20),m("matHeaderRowDef",t.tabledisplayedColumns),o(),m("matRowDefColumns",t.tabledisplayedColumns),o(2),m("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",fe(35,HT)))},dependencies:[re,Ue,we,yt,St,Mt,ft,Et,vt,$e,tt,at,it,et,rt,nt,ot,lt,st,xt,Pt,At,Rt,W,he],encapsulation:2});var Gr=Nr;var l2=["vform"],s2=n=>({direction:n}),d2=()=>["fa"];function c2(n,s){n&1&&y(0,"i",16)}function p2(n,s){n&1&&y(0,"i",17)}function m2(n,s){n&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function u2(n,s){if(n&1){let e=I();a(0,"div",13)(1,"label",28),d(2),r(),a(3,"input",29,4),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.iconFont,t)||(l.dataModel.iconFont=t),f(t)}),E("iconPickerSelect",function(t){u(e);let l=p();return f(l.onIconPickerSelect(t))}),r(),a(5,"span",30),y(6,"i",31),r()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),m("iconPicker",e.dataModel.iconFont)("ipIconPack",fe(9,d2))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),o(3),m("ngClass",e.dataModel.iconFont)}}function f2(n,s){if(n&1){let e=I();a(0,"div",18)(1,"label",32),d(2),r(),a(3,"div",33)(4,"div",34)(5,"input",35,5),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.iconColor,t)||(l.dataModel.iconColor=t),f(t)}),r()(),a(7,"div",36),y(8,"ngx-mat-color-toggle",37)(9,"ngx-mat-color-picker",38,6),r()()()}if(n&2){let e=A(10),i=p();o(2),x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ae("background",i.dataModel.iconColor),m("placeholder",P(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),m("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),m("for",e),o(),m("touchUi",!0)("color","primary")}}function _2(n,s){n&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function g2(n,s){if(n&1&&(y(0,"img",23),_(1,"cmsthumbnail")),n&2){let e=p();m("src",P(g(1,2,e.dataModel.linkMainImageIdSrc)),H)}}function C2(n,s){if(n&1){let e=I();a(0,"div",27)(1,"button",39),E("click",function(){u(e);let t=p();return f(t.onFormCancel())}),y(2,"i",40),d(3),_(4,"translate"),r(),a(5,"button",41),y(6,"i",42),d(7),_(8,"translate"),r()()}if(n&2){p();let e=A(10);o(3),h(" ",g(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),h(" ",g(8,5,"ACTION.SAVE")," ")}}var Wr=class Wr extends _t{constructor(e,i,t,l,C,c,L,q,Se,je){super(l,new zn,L,je);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyTypeUsageService=l;this.cmsToastrService=C;this.cmsStoreService=c;this.publicHelper=L;this.cdr=q;this.tokenHelper=Se;this.translate=je;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new Wt;this.dataModelResult=new j;this.dataModel=new zn;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyTypeUsageService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Wr.\u0275fac=function(i){return new(i||Wr)(v(Ve),v(Le),v(te),v(bn),v(O),v(Ce),v(G),v(N),v(de),v(B))},Wr.\u0275cmp=V({type:Wr,selectors:[["app-estate-property-type-usage-add"]],viewQuery:function(i,t){if(i&1&&Q(l2,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[Y],decls:45,vars:47,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=I();a(0,"div",7),y(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),d(4),r(),a(5,"p"),d(6),_(7,"translate"),r(),y(8,"app-cms-form-result-message",11),a(9,"form",12,0),E("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(11,"div",13)(12,"label",14),d(13),r(),a(14,"input",15,1),w("ngModelChange",function(c){return u(l),T(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),r(),S(16,c2,1,0,"i",16),S(17,p2,1,0,"i",17),a(18,"em"),d(19),r(),S(20,m2,5,3,"mat-error"),r(),S(21,u2,7,10,"div",13),S(22,f2,11,11,"div",18),a(23,"div",13)(24,"label",19),d(25),r(),a(26,"textarea",20,2),w("ngModelChange",function(c){return u(l),T(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),d(28,"              "),r(),a(29,"em"),d(30),r(),S(31,_2,5,3,"mat-error"),r(),a(32,"div",21)(33,"a",22),_(34,"cmsthumbnail"),S(35,g2,2,4,"img",23),r()(),a(36,"div",13)(37,"label",24),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),d(38),_(39,"translate"),r(),a(40,"input",25,3),_(42,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),r(),a(43,"cms-file-manager",26),E("itemSelected",function(c){return u(l),f(t.onActionFileSelected(c))}),w("openFormChange",function(c){return u(l),T(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),f(c)}),r()(),S(44,C2,9,7,"div",27),r()()()}if(i&2){let l=A(15),C=A(27);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",g(7,37,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(),m("ngStyle",Nt(45,s2,t.tokenInfo.access.direction)),o(4),x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),M(l.value?-1:16),o(),M(l.value?17:-1),o(2),h("",l.value.length," / 100"),o(),M(l.errors!=null&&l.errors.required?20:-1),o(),M(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessWatchField?21:-1),o(),M(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessWatchField?22:-1),o(3),x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),h("",C.value.length," / 500"),o(),M(C.errors!=null&&C.errors.required?31:-1),o(2),m("href",P(g(34,39,t.dataModel.linkMainImageIdSrc)),H),o(2),M((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?35:-1),o(3),x(g(39,41,"TITLE.PICTURE")),o(2),m("placeholder",P(g(42,43,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),m("language",t.appLanguage)("isPopup",!0)("openDirectUploadView",!0),b("openForm",t.fileManagerOpenForm),m("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),M(t.formInfo.submitButtonEnabled?44:-1)}},dependencies:[re,oi,Re,X,$,Te,le,Ee,ge,_e,Ae,De,Ze,ee,U,se,Kt,Qt,qt,Ut,qe,W,he],encapsulation:2});var ms=Wr;function h2(n,s){if(n&1){let e=I();a(0,"li")(1,"mat-checkbox",0),E("change",function(){let t=u(e).$implicit,l=p();return f(l.onActionSelect(t))}),d(2),r()()}if(n&2){let e=s.$implicit,i=p();o(),m("checked",i.fieldsStatus.get(e.id))("disabled",i.optionDisabled),o(),h(" ",e.titleML," ")}}var Hr=class Hr{constructor(s,e,i,t,l,C,c,L){this.coreEnumService=s;this.categoryService=e;this.cdr=i;this.publicHelper=t;this.tokenHelper=l;this.translate=C;this.cmsStoreService=c;this.cmsToastrService=L;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new j;this.dataModelSelect=[];this.dataIdsSelect=[];this.formControl=new si;this.fieldsStatus=new Map;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionChange=new Vt;this.optionSelectAdded=new Vt;this.optionSelectRemoved=new Vt;this.optionReload=()=>this.onActionButtonReload();this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(()=>Me(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetAll(){let s=new oe;s.rowPerPage=50,s.accessLoad=!0;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(s).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataModelResult.listItems.forEach(t=>this.fieldsStatus.set(t.id,!1)),this.dataIdsSelect.forEach(t=>this.fieldsStatus.set(t,!0)),this.dataModelResult.listItems.forEach(t=>{this.fieldsStatus.get(t.id)&&this.dataModelSelect.push(t)})):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelect(s){this.fieldsStatus.get(s.id)?(this.fieldsStatus.set(s.id,!1),this.optionSelectRemoved.emit(s),this.dataModelSelect.splice(this.dataModelSelect.indexOf(s),1)):(this.fieldsStatus.set(s.id,!0),this.optionSelectAdded.emit(s),this.dataModelSelect.push(s)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(s){typeof s==typeof Array(String)?s.forEach(e=>{this.dataIdsSelect.push(e)}):typeof s==typeof Array(gn)&&s.forEach(e=>{this.dataIdsSelect.push(e.id)}),this.dataIdsSelect.forEach(e=>this.fieldsStatus.set(e,!0))}onActionButtonReload(){this.DataGetAll()}};Hr.\u0275fac=function(e){return new(e||Hr)(v(te),v(Di),v(N),v(G),v(de),v(B),v(Ce),v(O))},Hr.\u0275cmp=V({type:Hr,selectors:[["app-estate-property-type-landuse-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},standalone:!1,decls:3,vars:0,consts:[[3,"change","checked","disabled"]],template:function(e,i){e&1&&(a(0,"ul"),me(1,h2,3,3,"li",null,pe),r()),e&2&&(o(),ue(i.dataModelResult.listItems))},dependencies:[Dl],encapsulation:2});var us=Hr;var S2=["vform"],M2=n=>({direction:n}),E2=()=>["fa"];function v2(n,s){n&1&&y(0,"i",16)}function I2(n,s){n&1&&y(0,"i",17)}function b2(n,s){n&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function T2(n,s){if(n&1){let e=I();a(0,"div",13)(1,"label",29),d(2),r(),a(3,"input",30,4),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.iconFont,t)||(l.dataModel.iconFont=t),f(t)}),E("iconPickerSelect",function(t){u(e);let l=p();return f(l.onIconPickerSelect(t))}),r(),a(5,"span",31),y(6,"i",32),r()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),m("iconPicker",e.dataModel.iconFont)("ipIconPack",fe(9,E2))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessEditField)),o(3),m("ngClass",e.dataModel.iconFont)}}function w2(n,s){if(n&1){let e=I();a(0,"div",18)(1,"label",33),d(2),r(),a(3,"div",34)(4,"div",35)(5,"input",36,5),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.iconColor,t)||(l.dataModel.iconColor=t),f(t)}),r()(),a(7,"div",37),y(8,"ngx-mat-color-toggle",38)(9,"ngx-mat-color-picker",39,6),r()()()}if(n&2){let e=A(10),i=p();o(2),x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ae("background",i.dataModel.iconColor),m("placeholder",P(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),m("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),o(3),m("for",e),o(),m("touchUi",!0)("color","primary")}}function x2(n,s){n&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function P2(n,s){if(n&1&&(y(0,"img",23),_(1,"cmsthumbnail")),n&2){let e=p();m("src",P(g(1,2,e.dataModel.linkMainImageIdSrc)),H)}}function A2(n,s){if(n&1){let e=I();a(0,"div",28)(1,"button",40),E("click",function(){u(e);let t=p();return f(t.onFormCancel())}),y(2,"i",41),d(3),_(4,"translate"),r(),a(5,"button",42),y(6,"i",43),d(7),_(8,"translate"),r()()}if(n&2){p();let e=A(10);o(3),h(" ",g(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),h(" ",g(8,5,"ACTION.SAVE")," ")}}var jr=class jr extends Tt{constructor(e,i,t,l,C,c,L,q,Se,je,Ke){super(l,new zn,q,Ke);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyTypeUsageService=l;this.estatePropertyTypeService=C;this.cmsToastrService=c;this.cmsStoreService=L;this.publicHelper=q;this.cdr=Se;this.tokenHelper=je;this.translate=Ke;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ht;this.dataModel=new zn;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.dataEstatePropertyTypeLandUseIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyTypeUsageService.setAccessLoad(),this.estatePropertyTypeUsageService.setAccessDataType(Be.Editor),this.estatePropertyTypeUsageService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyTypeUsageService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)});let i=new oe,t=new Z;t.propertyName="LinkPropertyTypeUsageId",t.value=this.requestId,i.filters.push(t),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:l=>{this.dataEstatePropertyTypeModel=l.listItems;let C=[];this.dataEstatePropertyTypeModel.forEach(c=>{C.push(c.linkPropertyTypeLanduseId)}),this.dataEstatePropertyTypeLandUseIds=C,l.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.submitResultMessage=c}),this.formInfo.submitResultMessage=l.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(l.errorMessage)),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorUserCategorySelect(e){this.dataEstatePropertyTypeLanduseModel=e}onActionSelectorUserCategorySelectAdded(e){let i=new Ms;i.linkPropertyTypeUsageId=this.dataModel.id,i.linkPropertyTypeLanduseId=e.id,this.estatePropertyTypeService.ServiceAdd(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onActionSelectorUserCategorySelectRemoved(e){let i=new Ms;i.linkPropertyTypeUsageId=this.dataModel.id,i.linkPropertyTypeLanduseId=e.id,this.estatePropertyTypeService.ServiceDeleteEntity(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};jr.\u0275fac=function(i){return new(i||jr)(v(Ve),v(Le),v(te),v(bn),v(Ui),v(O),v(Ce),v(G),v(N),v(de),v(B))},jr.\u0275cmp=V({type:jr,selectors:[["app-estate-property-type-usage-edit"]],viewQuery:function(i,t){if(i&1&&Q(S2,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[Y],decls:46,vars:49,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=I();a(0,"div",7),y(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),d(4),r(),a(5,"p"),d(6),_(7,"translate"),r(),y(8,"app-cms-form-result-message",11),a(9,"form",12,0),E("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(11,"div",13)(12,"label",14),d(13),r(),a(14,"input",15,1),w("ngModelChange",function(c){return u(l),T(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),r(),S(16,v2,1,0,"i",16),S(17,I2,1,0,"i",17),a(18,"em"),d(19),r(),S(20,b2,5,3,"mat-error"),r(),S(21,T2,7,10,"div",13),S(22,w2,11,11,"div",18),a(23,"div",13)(24,"label",19),d(25),r(),a(26,"textarea",20,2),w("ngModelChange",function(c){return u(l),T(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),d(28,"              "),r(),a(29,"em"),d(30),r(),S(31,x2,5,3,"mat-error"),r(),a(32,"div",21)(33,"a",22),_(34,"cmsthumbnail"),S(35,P2,2,4,"img",23),r()(),a(36,"div",13)(37,"label",24),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),d(38),_(39,"translate"),r(),a(40,"input",25,3),_(42,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),r(),a(43,"cms-file-manager",26),E("itemSelected",function(c){return u(l),f(t.onActionFileSelected(c))}),w("openFormChange",function(c){return u(l),T(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),f(c)}),r()(),a(44,"app-estate-property-type-landuse-selectionlist",27),E("optionChange",function(c){return u(l),f(t.onActionSelectorUserCategorySelect(c))})("optionSelectAdded",function(c){return u(l),f(t.onActionSelectorUserCategorySelectAdded(c))})("optionSelectRemoved",function(c){return u(l),f(t.onActionSelectorUserCategorySelectRemoved(c))}),r(),S(45,A2,9,7,"div",28),r()()()}if(i&2){let l=A(15),C=A(27);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",g(7,39,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(),m("ngStyle",Nt(47,M2,t.tokenInfo.access.direction)),o(4),x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),M(l.value?-1:16),o(),M(l.value?17:-1),o(2),h("",l.value.length," / 100"),o(),M(l.errors!=null&&l.errors.required?20:-1),o(),M(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessWatchField?21:-1),o(),M(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessWatchField?22:-1),o(3),x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),h("",C.value.length," / 500"),o(),M(C.errors!=null&&C.errors.required?31:-1),o(2),m("href",P(g(34,41,t.dataModel.linkMainImageIdSrc)),H),o(2),M((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?35:-1),o(3),x(g(39,43,"TITLE.PICTURE")),o(2),m("placeholder",P(g(42,45,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),m("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),m("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),m("optionSelectForce",t.dataEstatePropertyTypeLandUseIds)("optionDisabled",!1),o(),M(t.formInfo.submitButtonEnabled?45:-1)}},dependencies:[re,oi,Re,X,$,Te,le,Ee,ge,_e,Ae,De,Ze,ee,U,se,Kt,Qt,qt,Ut,qe,us,W,he],encapsulation:2});var fs=jr;var R2=()=>[5,10,20,100];function D2(n,s){if(n&1){let e=I();a(0,"div",15)(1,"a",38),E("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),y(2,"i",39)(3,"br"),r(),a(4,"p",19),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.ADD")," "))}function k2(n,s){if(n&1){let e=I();a(0,"div",15)(1,"a",40),E("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),y(2,"i",41)(3,"br"),r(),a(4,"p",19),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.EDIT")," "))}function L2(n,s){if(n&1){let e=I();a(0,"div",15)(1,"a",42),E("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),y(2,"i",43)(3,"br"),r(),a(4,"p",19),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.DELETE")," "))}function V2(n,s){n&1&&(a(0,"mat-header-cell",44),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.PICTURE")," "))}function F2(n,s){if(n&1&&(y(0,"img",45),_(1,"cmsthumbnail")),n&2){let e=p().$implicit;m("src",P(g(1,2,e.linkMainImageIdSrc)),H)}}function B2(n,s){if(n&1&&(a(0,"mat-cell"),S(1,F2,2,4,"img",45),r()),n&2){let e=s.$implicit;o(),M((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function O2(n,s){if(n&1&&(a(0,"mat-header-cell",44),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle," ")}}function N2(n,s){if(n&1&&(a(0,"mat-cell"),y(1,"i",46),r()),n&2){let e=s.$implicit;o(),ae("color",e.iconColor),m("ngClass",e.iconFont)}}function G2(n,s){if(n&1&&(a(0,"mat-header-cell",44),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function W2(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.id," ")}}function H2(n,s){if(n&1&&(a(0,"mat-header-cell",44),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function j2(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.title," ")}}function U2(n,s){if(n&1&&(a(0,"mat-header-cell",44),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function q2(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.description," ")}}function Q2(n,s){n&1&&(a(0,"mat-header-cell"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.OPTION")," "))}function z2(n,s){if(n&1&&(a(0,"mat-cell",47)(1,"button",48)(2,"mat-icon"),d(3,"more_vert"),r()(),y(4,"mat-menu",null,2),r()),n&2){let e=A(5);o(),m("matMenuTriggerFor",e)}}function K2(n,s){n&1&&y(0,"mat-header-row")}function Z2(n,s){if(n&1){let e=I();a(0,"mat-row",49),E("click",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))}),r()}if(n&2){let e=s.$implicit,i=p();ne("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ur=class Ur extends wt{constructor(e,i,t,l,C,c,L,q,Se,je,Ke){super(e,new zn,je,c,q);this.contentService=e;this.cmsConfirmationDialogService=i;this.router=t;this.cmsToastrService=l;this.cmsStoreService=C;this.tokenHelper=c;this.cdr=L;this.translate=q;this.pageInfo=Se;this.publicHelper=je;this.dialog=Ke;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new oe;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","IconFont","title","Description"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","IconFont","title","Description"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ot=>this.onSubmitOptionsSearch(Ot)},this.filteModelContent.sortColumn="title",this.filteModelContent.sortType=J.Ascending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Me(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new zn);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=J.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(ms,{height:"90%",panelClass:e,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(fs,{height:"90%",panelClass:i,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let C=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(C,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{i.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),C=new Z;C.propertyName="recordStatus",C.value=He.Available,l.filters.push(C),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{i.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionButtonContentDetailList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/estate/property/LinkPropertyTypeUsageId/",this.tableRowSelected.id])}};Ur.\u0275fac=function(i){return new(i||Ur)(v(bn),v(bt),v(ke),v(O),v(Ce),v(de),v(N),v(B),v(It),v(G),v(Oe))},Ur.\u0275cmp=V({type:Ur,selectors:[["app-hstate-propertytypeusage-list"]],standalone:!1,features:[Y],decls:60,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","id"],["matColumnDef","title"],["matColumnDef","Description"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=I();a(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(c){return u(l),T(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),E("optionOnActionButtonMemoRow",function(){return u(l),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(l),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(l),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(l),f(t.onActionButtonPrintRow())}),D(1,4),d(2," -------------------------------------- "),k(),Ye(3,5),D(4,6),a(5,"a",7),E("click",function(){return u(l),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),y(6,"mat-slide-toggle",8),d(7),_(8,"translate"),r(),a(9,"a",7),E("click",function(){return u(l),f(t.onActionButtonStatist())}),y(10,"mat-slide-toggle",8),d(11),_(12,"translate"),r(),k(),D(13,9),a(14,"a",10),E("click",function(){return u(l),f(t.viewGuideNotice=!t.viewGuideNotice)}),y(15,"i",11),r(),a(16,"a",10),E("click",function(){return u(l),f(t.onActionButtonReload())}),y(17,"i",12),r(),k(),Ye(18,13),D(19,14),S(20,D2,7,3,"div",15),k(),D(21,16),S(22,k2,7,3,"div",15),S(23,L2,7,3,"div",15),a(24,"div",15)(25,"a",17),E("click",function(){return u(l),f(t.onActionButtonContentDetailList(t.tableRowSelected))}),y(26,"i",18)(27,"br"),r(),a(28,"p",19),d(29),_(30,"translate"),r()(),k(),D(31,20),a(32,"app-cms-search-list",21),w("optionsChange",function(c){return u(l),T(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),r(),a(33,"app-cms-statist-list",21),w("optionsChange",function(c){return u(l),T(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),r(),k(),D(34,22),a(35,"mat-table",23,0),E("matSortChange",function(){u(l);let c=A(36);return f(t.onTableSortData(c))}),D(37,24),R(38,V2,3,3,"mat-header-cell",25)(39,B2,2,1,"mat-cell",26),k(),D(40,27),R(41,O2,2,1,"mat-header-cell",25)(42,N2,2,3,"mat-cell",26),k(),D(43,28),R(44,G2,2,1,"mat-header-cell",25)(45,W2,2,1,"mat-cell",26),k(),D(46,29),R(47,H2,2,1,"mat-header-cell",25)(48,j2,2,1,"mat-cell",26),k(),D(49,30),R(50,U2,2,1,"mat-header-cell",25)(51,q2,2,1,"mat-cell",26),k(),D(52,31),R(53,Q2,3,3,"mat-header-cell",32)(54,z2,6,1,"mat-cell",33),k(),R(55,K2,1,0,"mat-header-row",34)(56,Z2,1,2,"mat-row",35),r(),k(),D(57,36),a(58,"mat-paginator",37,1),E("page",function(c){return u(l),f(t.onTablePageingData(c))}),r(),k(),r()}i&2&&(m("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),m("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(6),m("checked",t.optionsSearch.data.show),o(),h("",g(8,26,"ACTION.SEARCH")," "),o(3),m("checked",t.optionsStatist.data.show),o(),h("",g(12,28,"ACTION.STATIST")," "),o(6),ne("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(6),h(" ",g(30,30,"ACTION.DETAIL")," "),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),m("dataSource",t.tableSource),o(20),m("matHeaderRowDef",t.tabledisplayedColumns),o(),m("matRowDefColumns",t.tabledisplayedColumns),o(2),m("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",fe(32,R2)))},dependencies:[re,Ue,we,yt,St,Mt,ft,Et,vt,$e,tt,at,it,et,rt,nt,ot,lt,st,xt,Pt,At,Rt,W,he],encapsulation:2});var qr=Ur;var As=Bn(Kn());var Y2=["vform"];function J2(n,s){if(n&1){let e=I();a(0,"div")(1,"div",8),y(2,"br"),a(3,"mat-slide-toggle",19),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.actionSendSmsToAreaEstateAgency,t)||(l.dataModel.actionSendSmsToAreaEstateAgency=t),f(t)}),d(4),_(5,"translate"),r()(),a(6,"div",8),y(7,"br"),a(8,"mat-slide-toggle",20),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.actionSendSmsToAreaEstateAgent,t)||(l.dataModel.actionSendSmsToAreaEstateAgent=t),f(t)}),d(9),_(10,"translate"),r()()()}if(n&2){let e=p();o(3),b("ngModel",e.dataModel.actionSendSmsToAreaEstateAgency),o(),h(" ",g(5,4,"ACTION.SEND_TO_NEAR_AGENCY")," "),o(4),b("ngModel",e.dataModel.actionSendSmsToAreaEstateAgent),o(),h(" ",g(10,6,"ACTION.SEND_TO_NEAR_EMPLOYE_AGENCY")," ")}}function X2(n,s){if(n&1){let e=I();a(0,"div",18)(1,"button",21),E("click",function(){u(e);let t=p();return f(t.onFormCancel())}),y(2,"i",22),d(3),_(4,"translate"),r(),a(5,"button",23),y(6,"i",24),d(7),_(8,"translate"),r()()}if(n&2){p();let e=A(9);o(3),h(" ",g(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),h(" ",g(8,5,"ACTION.Send_Message")," ")}}var Qr=class Qr{constructor(s,e,i,t,l,C,c){this.data=s;this.dialogRef=e;this.service=i;this.publicHelper=t;this.translate=l;this.cmsToastrService=C;this.cdr=c;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelProperty=new _n;this.dataModel=new qs;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,s&&(this.dataModelProperty=s.model,this.dataModel.id=this.dataModelProperty.id)}ngOnInit(){this.translate.get("TITLE.Activities").subscribe(s=>{this.formInfo.formTitle=s}),(!this.dataModel||!this.dataModel.id||this.dataModel.id.length==0)&&(this.cmsToastrService.typeErrorMessage("\u0634\u0646\u0627\u0633\u0647 \u0645\u0634\u062E\u0635 \u0646\u0645\u06CC \u0628\u0627\u0634\u062F"),this.dialogRef.close({dialogChangedDate:!1}))}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataSend())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}DataSend(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.service.ServiceActionSendSms(this.dataModel).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(i=>{this.formInfo.submitResultMessage=i,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(s),this.formInfo.submitButtonEnabled=!0,this.dialogRef.close({dialogChangedDate:!0})},error:e=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}};Qr.\u0275fac=function(e){return new(e||Qr)(v(Ve),v(Le),v(sn),v(G),v(B),v(O),v(N))},Qr.\u0275cmp=V({type:Qr,selectors:[["app-estate-property-action"]],viewQuery:function(e,i){if(e&1&&Q(Y2,5),e&2){let t;z(t=K())&&(i.formGroup=t.first)}},standalone:!1,decls:48,vars:32,consts:[["vform","ngForm"],["ActionSendSmsToContactNumber",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[1,"ntk-full-width"],["name","dataModel.actionSendSmsToMe",3,"ngModelChange","ngModel"],["name","dataModel.actionSendSmsToEstateAgent",3,"ngModelChange","ngModel"],["name","dataModel.actionSendSmsToEstateAgency",3,"ngModelChange","ngModel"],["name","dataModel.actionSendSmsToEstateCustomer",3,"ngModelChange","ngModel"],["name","dataModel.actionSendSmsToCustomerOrder",3,"ngModelChange","ngModel"],["matInput","","name","dataModel.actionSendSmsToContactNumber","type","text","rows","5","maxlength","100","placeholder","09123456789",1,"text-line",3,"ngModelChange","ngModel"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["name","dataModel.actionSendSmsToAreaEstateAgency",3,"ngModelChange","ngModel"],["name","dataModel.actionSendSmsToAreaEstateAgent",3,"ngModelChange","ngModel"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){if(e&1){let t=I();a(0,"div",2),y(1,"app-progress-spinner",3),a(2,"div",4)(3,"p",5),d(4),r(),a(5,"p"),d(6),_(7,"translate"),r(),a(8,"form",6,0),E("ngSubmit",function(){return u(t),f(i.onFormSubmit())}),a(10,"div",7)(11,"div",8),y(12,"br"),a(13,"mat-slide-toggle",9),w("ngModelChange",function(C){return u(t),T(i.dataModel.actionSendSmsToMe,C)||(i.dataModel.actionSendSmsToMe=C),f(C)}),d(14),_(15,"translate"),r()(),a(16,"div",8),y(17,"br"),a(18,"mat-slide-toggle",10),w("ngModelChange",function(C){return u(t),T(i.dataModel.actionSendSmsToEstateAgent,C)||(i.dataModel.actionSendSmsToEstateAgent=C),f(C)}),d(19),_(20,"translate"),r()(),a(21,"div",8),y(22,"br"),a(23,"mat-slide-toggle",11),w("ngModelChange",function(C){return u(t),T(i.dataModel.actionSendSmsToEstateAgency,C)||(i.dataModel.actionSendSmsToEstateAgency=C),f(C)}),d(24),_(25,"translate"),r()(),a(26,"div",8),y(27,"br"),a(28,"mat-slide-toggle",12),w("ngModelChange",function(C){return u(t),T(i.dataModel.actionSendSmsToEstateCustomer,C)||(i.dataModel.actionSendSmsToEstateCustomer=C),f(C)}),d(29),_(30,"translate"),r()(),y(31,"hr"),S(32,J2,11,8,"div"),a(33,"div",8),y(34,"br"),a(35,"mat-slide-toggle",13),w("ngModelChange",function(C){return u(t),T(i.dataModel.actionSendSmsToCustomerOrder,C)||(i.dataModel.actionSendSmsToCustomerOrder=C),f(C)}),d(36),_(37,"translate"),r()(),a(38,"div",8),d(39),_(40,"translate"),y(41,"br"),a(42,"textarea",14,1),w("ngModelChange",function(C){return u(t),T(i.dataModel.actionSendSmsToContactNumber,C)||(i.dataModel.actionSendSmsToContactNumber=C),f(C)}),r()()(),a(44,"div",15),y(45,"app-cms-form-result-message",16),r(),a(46,"div",17),S(47,X2,9,7,"div",18),r()()()()}e&2&&(o(),m("optionsInfoAreaId",i.constructorInfoAreaId),o(3),h(" ",i.formInfo.formTitle," "),o(2),h(" ",g(7,18,"TITLE.Be_Careful_When_Entering_Information")," "),o(7),b("ngModel",i.dataModel.actionSendSmsToMe),o(),h(" ",g(15,20,"ACTION.SEND_TO_ME")," "),o(4),b("ngModel",i.dataModel.actionSendSmsToEstateAgent),o(),h(" ",g(20,22,"ACTION.SEND_TO_ESTATE")," "),o(4),b("ngModel",i.dataModel.actionSendSmsToEstateAgency),o(),h(" ",g(25,24,"ACTION.SEND_TO_AGENCY")," "),o(4),b("ngModel",i.dataModel.actionSendSmsToEstateCustomer),o(),h(" ",g(30,26,"ACTION.SEND_TO_CLIENT")," "),o(3),M(i.dataModelProperty.linkLocationId&&i.dataModelProperty.linkLocationId>0?32:-1),o(3),b("ngModel",i.dataModel.actionSendSmsToCustomerOrder),o(),h(" ",g(37,28,"TITLE.SMS_to_the_list_of_applicants_for_this_property")," "),o(3),h(" ",g(40,30,"TITLE.Send_link_message_to_the_special_number")," "),o(3),b("ngModel",i.dataModel.actionSendSmsToContactNumber),o(3),m("formInfo",i.formInfo),o(2),M(i.formInfo.submitButtonEnabled?47:-1))},dependencies:[Re,X,$,Te,ge,_e,Ae,ee,ft,U,se,W],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}.text-line[_ngcontent-%COMP%]{background-color:transparent;outline:none;outline-style:none;border-top:none;border-left:none;border-right:none;border-bottom:solid #eeeeee 1px;padding:3px 10px}"]});var bo=Qr;var $2=["*"];function ew(n,s){if(n&1&&(a(0,"label",3),d(1),r()),n&2){let e=p();m("for",Pe("app-cms-site-selector-",e.id)),o(),x(e.optionLabel)}}function tw(n,s){if(n&1&&(y(0,"img",5),_(1,"cmsthumbnail")),n&2){let e=p();m("src",P(g(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),H)}}function iw(n,s){if(n&1&&(y(0,"img",5),_(1,"cmsthumbnail")),n&2){let e=p().$implicit;m("src",P(g(1,2,e.linkMainImageIdSrc)),H)}}function nw(n,s){if(n&1&&(a(0,"mat-option",8),S(1,iw,2,4,"img",5),a(2,"span"),d(3),r()()),n&2){let e=s.$implicit,i=p();m("value",e)("disabled",i.optionDisabled),o(),M(e.linkMainImageIdSrc?1:-1),o(2),x(i.displayOption(e))}}function ow(n,s){n&1&&y(0,"i",9)}function aw(n,s){n&1&&y(0,"i",10)}function rw(n,s){if(n&1){let e=I();a(0,"i",13),E("click",function(){u(e);let t=p();return f(t.onActionSelectClear())}),r()}}function lw(n,s){n&1&&(a(0,"em"),d(1),_(2,"translate"),r()),n&2&&(o(),h("(",g(2,1,"TITLE.Necessary"),")"))}var To=class To{constructor(s,e,i,t,l,C){this.coreEnumService=s;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=l;this.contentService=C;this.id=++To.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new j;this.dataModelSelect=new xi;this.formControl=new si;this.optionPlaceholder="";this.optionLabel="";this.optionSelectFirstItem=!1;this.optionDisabled=!1;this.optionRequired=!1;this.optionChange=new Vt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Ni(""),Oi(1500),Yn(),Gi(s=>typeof s=="string"||typeof s=="number"?this.DataGetAll(s||""):[]))}displayFn(s){return s?s.title:void 0}displayOption(s){return s?s.title:void 0}DataGetAll(s){return Me(this,null,function*(){let e=new Bo;e.rowPerPage=20,e.accessLoad=!0;let i=new Z;i.propertyName="title",i.value=s,i.searchType=kt.Contains,i.clauseType=Ct.Or,e.filters.push(i),s&&typeof s=="string"&&s.length>0&&(i=new Z,i.propertyName="id",i.value=s,i.searchType=kt.Equal,i.clauseType=Ct.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),Zn(this.contentService.ServiceGetAll(e)).then(l=>(this.dataModelResult=l,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),l.listItems))})}onActionSelect(s){this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect.linkMainImageIdSrc="",this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(s){return this.filteredOptions.pipe(Bi(e=>(e.find(i=>i.id===s.id)||e.push(s),e)))}onActionSelectForce(s){if(typeof s=="string"&&s.length>0){this.contentService.ServiceGetOneById(s).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof s==typeof xi){this.filteredOptions=this.push(s),this.dataModelSelect=s,this.formControl.setValue(s);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new xi,this.loadOptions()}};To.nextId=0,To.\u0275fac=function(e){return new(e||To)(v(te),v(O),v(N),v(G),v(B),v(Ri))},To.\u0275cmp=V({type:To,selectors:[["app-estate-property-project-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:$2,decls:18,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=I();Jn(),a(0,"div",1),y(1,"app-progress-spinner",2),S(2,ew,2,3,"label",3),a(3,"span",4),S(4,tw,2,4,"img",5),r(),y(5,"input",6),a(6,"mat-autocomplete",7,0),E("optionSelected",function(C){return u(t),f(i.onActionSelect(C.option.value))}),me(8,nw,4,4,"mat-option",8,pe),_(10,"async"),r(),S(11,ow,1,0,"i",9),S(12,aw,1,0,"i",10),S(13,rw,1,0,"i",11),a(14,"i",12),_(15,"translate"),E("click",function(){return u(t),f(i.onActionButtonReload())}),r(),S(16,lw,3,3,"em"),On(17),r()}if(e&2){let t=A(7);o(),m("optionsInfoAreaId",i.constructorInfoAreaId),o(),M((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),M(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),m("placeholder",P(i.optionPlaceholder))("id",Pe("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),li("disabled",i.optionDisabled?!0:null),o(),m("displayWith",i.displayFn),o(2),ue(g(10,20,i.filteredOptions)),o(3),M(i.formControl.valid?-1:11),o(),M(i.optionRequired&&i.formControl.valid?12:-1),o(),M((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?13:-1),o(),ne("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),m("title",P(g(15,22,"ACTION.RELOAD"))),o(2),M(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0)?16:-1)}},dependencies:[X,$,le,qi,zi,Qi,Ki,No,ee,U,pt,W,he],encapsulation:2});var wo=To;var sw=["vform"],dw=()=>["descriptionDetail"];function cw(n,s){if(n&1){let e=I();a(0,"app-estate-property-type-landuse-selector",83),_(1,"translate"),E("optionChange",function(t){u(e);let l=p();return f(l.onActionSelectorSelectLanduse(t))}),r()}if(n&2){let e=p();m("optionDisabled",!(e.fieldsInfo.linkPropertyTypeLanduseId!=null&&e.fieldsInfo.linkPropertyTypeLanduseId.accessEditField))("optionTypeView",2)("optionSelectForce",e.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",g(1,5,"TITLE.Property_Type"))("optionTypeUsageId",e.dataModel.linkPropertyTypeUsageId)}}function pw(n,s){if(n&1){let e=I();a(0,"app-cms-enum-record-status-selector",84),w("modelChange",function(t){u(e);let l=p();return T(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),f(t)}),r()}if(n&2){let e=p();b("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function mw(n,s){n&1&&y(0,"i",47)}function uw(n,s){n&1&&y(0,"i",48)}function fw(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2){let e=p(2);o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),o(2),x(g(4,2,"MESSAGE.required"))}}function _w(n,s){if(n&1){let e=I();a(0,"div",42)(1,"label",85),d(2),r(),a(3,"input",86,4),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.title,t)||(l.dataModel.title=t),f(t)}),r(),S(5,mw,1,0,"i",47),S(6,uw,1,0,"i",48),a(7,"em"),d(8),r(),S(9,fw,5,4,"mat-error"),r()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle))("disabled",P(!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField))),b("ngModel",i.dataModel.title),o(2),M(e.value?-1:5),o(),M(e.value?6:-1),o(2),h("",e.value.length," / 100"),o(),M(e.errors!=null&&e.errors.required?9:-1)}}function gw(n,s){n&1&&y(0,"i",47)}function Cw(n,s){n&1&&y(0,"i",48)}function hw(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2){let e=p(2);o(),h(" ",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle," "),o(2),x(g(4,2,"MESSAGE.required"))}}function yw(n,s){if(n&1){let e=I();a(0,"div",42)(1,"label",87),d(2),r(),a(3,"input",88,5),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.caseCode,t)||(l.dataModel.caseCode=t),f(t)}),r(),S(5,gw,1,0,"i",47),S(6,Cw,1,0,"i",48),a(7,"em"),d(8),r(),S(9,hw,5,4,"mat-error"),r()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.caseCode==null?null:i.fieldsInfo.caseCode.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.caseCode==null?null:i.fieldsInfo.caseCode.fieldTitle))("disabled",P(!(i.fieldsInfo.caseCode!=null&&i.fieldsInfo.caseCode.accessEditField))),b("ngModel",i.dataModel.caseCode),o(2),M(e.value?-1:5),o(),M(e.value?6:-1),o(2),h("",e.value.length," / 100"),o(),M(e.errors!=null&&e.errors.required?9:-1)}}function Sw(n,s){n&1&&y(0,"i",47)}function Mw(n,s){n&1&&y(0,"i",48)}function Ew(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2){let e=p(2);o(),h(" ",e.fieldsInfo.sharingKey==null?null:e.fieldsInfo.sharingKey.fieldTitle," "),o(2),x(g(4,2,"MESSAGE.required"))}}function vw(n,s){if(n&1){let e=I();a(0,"div",42)(1,"label",89),d(2),r(),a(3,"input",90,6),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.sharingKey,t)||(l.dataModel.sharingKey=t),f(t)}),r(),S(5,Sw,1,0,"i",47),S(6,Mw,1,0,"i",48),S(7,Ew,5,4,"mat-error"),r()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.sharingKey==null?null:i.fieldsInfo.sharingKey.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.sharingKey==null?null:i.fieldsInfo.sharingKey.fieldTitle))("disabled",P(!(i.fieldsInfo.sharingKey!=null&&i.fieldsInfo.sharingKey.accessEditField))),b("ngModel",i.dataModel.sharingKey),o(2),M(e.value?-1:5),o(),M(e.value?6:-1),o(),M(e.errors!=null&&e.errors.required?7:-1)}}function Iw(n,s){if(n&1){let e=I();a(0,"div",43)(1,"div",91)(2,"h5",92),d(3),r()(),a(4,"div",93)(5,"div",94)(6,"input",95),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.viewConfigHiddenInList,t)||(l.dataModel.viewConfigHiddenInList=t),f(t)}),r(),y(7,"label",96),r()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.viewConfigHiddenInList==null?null:e.fieldsInfo.viewConfigHiddenInList.fieldTitle," "),o(3),b("ngModel",e.dataModel.viewConfigHiddenInList)}}function bw(n,s){if(n&1){let e=I();a(0,"div",42)(1,"label",97),d(2),r(),a(3,"input",98,7),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.createdYaer,t)||(l.dataModel.createdYaer=t),f(t)}),r()()}if(n&2){let e=p();o(2),h(" ",e.PropertyTypeSelected.titleCreatedYaer),o(),m("placeholder",P(e.fieldsInfo.createdYaer==null?null:e.fieldsInfo.createdYaer.fieldTitle))("disabled",P(!(e.fieldsInfo.createdYaer!=null&&e.fieldsInfo.createdYaer.accessEditField))),b("ngModel",e.dataModel.createdYaer)}}function Tw(n,s){if(n&1){let e=I();a(0,"div",42)(1,"label",99),d(2),r(),a(3,"input",100,8),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.partition,t)||(l.dataModel.partition=t),f(t)}),r()()}if(n&2){let e=p();o(2),h("",e.PropertyTypeSelected.titlePartition," "),o(),m("placeholder",P(e.PropertyTypeSelected.titlePartition))("disabled",P(!(e.fieldsInfo.partition!=null&&e.fieldsInfo.partition.accessEditField))),b("ngModel",e.dataModel.partition)}}function ww(n,s){if(n&1){let e=I();a(0,"div",42)(1,"label",101),d(2),r(),a(3,"input",102,9),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.area,t)||(l.dataModel.area=t),f(t)}),r()()}if(n&2){let e=p();o(2),h("",e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle," "),o(),m("disabled",P(!(e.fieldsInfo.area!=null&&e.fieldsInfo.area.accessEditField)))("placeholder",P(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle)),b("ngModel",e.dataModel.area)}}function xw(n,s){if(n&1){let e=I();a(0,"div",42)(1,"label",103),d(2),r(),a(3,"textarea",104,10),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.address,t)||(l.dataModel.address=t),f(t)}),d(5,"                              "),r(),a(6,"em"),d(7),r()()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.address==null?null:i.fieldsInfo.address.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.address==null?null:i.fieldsInfo.address.fieldTitle)),b("ngModel",i.dataModel.address),m("disabled",!(i.fieldsInfo.address!=null&&i.fieldsInfo.address.accessEditField)),o(4),h("",e.value.length," / 500")}}function Pw(n,s){n&1&&y(0,"i",47)}function Aw(n,s){n&1&&y(0,"i",48)}function Rw(n,s){n&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function Dw(n,s){if(n&1){let e=I();a(0,"div",49)(1,"button",79),E("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),d(2),_(3,"translate"),r(),a(4,"button",105),d(5),_(6,"translate"),r(),a(7,"button",106),d(8),_(9,"translate"),r()()}if(n&2){let e=p(),i=A(10);o(2),h(" ",g(3,5,"ACTION.BACK_TO_PROPERTY_LIST")," "),o(2),m("disabled",!i.form.valid),o(),h(" ",g(6,7,"ACTION.NEXT")," "),o(2),m("disabled",!i.form.valid||!e.connectionStatus.internetConnection),o(),h(" ",g(9,9,"ACTION.SAVE")," ")}}function kw(n,s){if(n&1){let e=I();a(0,"div",42)(1,"label",85),d(2),r(),a(3,"input",107,11),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.linkSiteId,t)||(l.dataModel.linkSiteId=t),f(t)}),r()()}if(n&2){let e=p(2);o(2),x(e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle))("disabled",P(!(e.fieldsInfo.linkSiteId!=null&&e.fieldsInfo.linkSiteId.accessEitField))),b("ngModel",e.dataModel.linkSiteId)}}function Lw(n,s){if(n&1){let e=I();a(0,"div",43)(1,"div",91)(2,"h5",108),d(3),r()(),a(4,"div",93)(5,"div",94)(6,"input",109),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.viewContentHidden,t)||(l.dataModel.viewContentHidden=t),f(t)}),r(),y(7,"label",110),r()()()}if(n&2){let e=p(2);o(3),h(" ",e.fieldsInfo.viewContentHidden==null?null:e.fieldsInfo.viewContentHidden.fieldTitle," "),o(3),b("ngModel",e.dataModel.viewContentHidden)}}function Vw(n,s){if(n&1){let e=I();a(0,"app-cms-enum-record-admin-status-selector",84),w("modelChange",function(t){u(e);let l=p(2);return T(l.dataModel.mainAdminRecordStatus,t)||(l.dataModel.mainAdminRecordStatus=t),f(t)}),r()}if(n&2){let e=p(2);b("model",e.dataModel.mainAdminRecordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Fw(n,s){if(n&1){let e=I();a(0,"div")(1,"div",111)(2,"label",112),d(3),r(),y(4,"i",113)(5,"i",114),a(6,"input",115,12),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.scoreEstateLocation,t)||(l.dataModel.scoreEstateLocation=t),f(t)}),r()(),a(8,"div",111)(9,"label",116),d(10),r(),y(11,"i",113)(12,"i",114),a(13,"input",117,13),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.scoreEstateBuild,t)||(l.dataModel.scoreEstateBuild=t),f(t)}),r()(),a(15,"div",111)(16,"label",118),d(17),r(),y(18,"i",113)(19,"i",114),a(20,"input",119,14),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.scoreEstatePrice,t)||(l.dataModel.scoreEstatePrice=t),f(t)}),r()()()}if(n&2){let e=p(2);o(3),x(e.fieldsInfo.scoreEstateLocation==null?null:e.fieldsInfo.scoreEstateLocation.fieldTitle),o(3),m("ngClass",Pe("cms-range-score-",e.dataModel.scoreEstateLocation)),b("ngModel",e.dataModel.scoreEstateLocation),m("disabled",!(e.fieldsInfo.scoreEstateLocation!=null&&e.fieldsInfo.scoreEstateLocation.accessEditField)),o(4),x(e.fieldsInfo.scoreEstateBuild==null?null:e.fieldsInfo.scoreEstateBuild.fieldTitle),o(3),m("ngClass",Pe("cms-range-score-",e.dataModel.scoreEstateBuild)),b("ngModel",e.dataModel.scoreEstateBuild),m("disabled",!(e.fieldsInfo.scoreEstateBuild!=null&&e.fieldsInfo.scoreEstateBuild.accessEditField)),o(4),x(e.fieldsInfo.scoreEstatePrice==null?null:e.fieldsInfo.scoreEstatePrice.fieldTitle),o(3),m("ngClass",Pe("cms-range-score-",e.dataModel.scoreEstatePrice)),b("ngModel",e.dataModel.scoreEstatePrice),m("disabled",!(e.fieldsInfo.scoreEstatePrice!=null&&e.fieldsInfo.scoreEstatePrice.accessEditField))}}function Bw(n,s){if(n&1&&(a(0,"button",105),d(1),_(2,"translate"),r()),n&2){p(3);let e=A(10);m("disabled",!e.form.valid),o(),h(" ",g(2,2,"ACTION.NEXT")," ")}}function Ow(n,s){if(n&1&&(a(0,"div",49)(1,"button",120),d(2),_(3,"translate"),r(),S(4,Bw,3,4,"button",105),r()),n&2){let e=p(2);o(2),h(" ",g(3,2,"ACTION.BEFOR")," "),o(2),M(e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0?4:-1)}}function Nw(n,s){if(n&1&&(a(0,"mat-step",38),_(1,"translate"),S(2,kw,5,6,"div",42),S(3,Lw,8,2,"div",43),S(4,Vw,1,5,"app-cms-enum-record-admin-status-selector",41),S(5,Fw,22,15,"div"),S(6,Ow,5,4,"div",49),r()),n&2){let e=p();m("label",P(g(1,7,"TITLE.Admin_Config"))),o(2),M(e.fieldsInfo.linkSiteId!=null&&e.fieldsInfo.linkSiteId.accessWatchField&&e.tokenHelper.isAdminSite?2:-1),o(),M(e.fieldsInfo.viewContentHidden!=null&&e.fieldsInfo.viewContentHidden.accessWatchField?3:-1),o(),M(e.fieldsInfo.mainAdminRecordStatus!=null&&e.fieldsInfo.mainAdminRecordStatus.accessWatchField?4:-1),o(),M(e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite?5:-1),o(),M(e.formInfo.submitButtonEnabled?6:-1)}}function Gw(n,s){if(n&1){let e=I();a(0,"app-estate-account-agency-selector",121),_(1,"translate"),E("optionChange",function(t){u(e);let l=p();return f(l.onActionSelectorEstateAgency(t))}),r()}if(n&2){let e=p();m("optionDisabled",!(e.fieldsInfo.linkEstateAgencyId!=null&&e.fieldsInfo.linkEstateAgencyId.accessEditField))("optionSelectForce",e.dataModel.linkEstateAgencyId)("optionSelectUserId",e.tokenInfo.access.userId)("optionPlaceholder",g(1,4,"TITLE.Property_agency"))}}function Ww(n,s){if(n&1){let e=I();a(0,"app-estate-account-expert-selector",44),_(1,"translate"),E("optionChange",function(t){u(e);let l=p();return f(l.onActionSelectorEstateUser(t))}),r()}if(n&2){let e=p();m("optionDisabled",!(e.fieldsInfo.linkEstateExpertId!=null&&e.fieldsInfo.linkEstateExpertId.accessEditField))("optionSelectForce",e.dataModel.linkEstateExpertId)("optionPlaceholder",g(1,3,"TITLE.Property_personnel"))}}function Hw(n,s){if(n&1){let e=I();a(0,"div",42)(1,"label",122),d(2),r(),a(3,"input",123,15),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.aboutAgentMobile,t)||(l.dataModel.aboutAgentMobile=t),f(t)}),r(),a(5,"em"),d(6),r()()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.aboutAgentMobile==null?null:i.fieldsInfo.aboutAgentMobile.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.aboutAgentMobile==null?null:i.fieldsInfo.aboutAgentMobile.fieldTitle))("disabled",P(!(i.fieldsInfo.aboutAgentMobile!=null&&i.fieldsInfo.aboutAgentMobile.accessEditField))),b("ngModel",i.dataModel.aboutAgentMobile),o(3),h("",e.value.length," / 100")}}function jw(n,s){if(n&1){let e=I();a(0,"div",42)(1,"label",124),d(2),r(),a(3,"input",125,16),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.aboutAgentTel,t)||(l.dataModel.aboutAgentTel=t),f(t)}),r(),a(5,"em"),d(6),r()()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.aboutAgentTel==null?null:i.fieldsInfo.aboutAgentTel.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.aboutAgentTel==null?null:i.fieldsInfo.aboutAgentTel.fieldTitle))("disabled",P(!(i.fieldsInfo.aboutAgentTel!=null&&i.fieldsInfo.aboutAgentTel.accessEditField))),b("ngModel",i.dataModel.aboutAgentTel),o(3),h("",e.value.length," / 100")}}function Uw(n,s){if(n&1){let e=I();a(0,"div",42)(1,"label",126),d(2),r(),a(3,"input",127,17),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.aboutCustomerMobile,t)||(l.dataModel.aboutCustomerMobile=t),f(t)}),r(),a(5,"em"),d(6),r()()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.aboutCustomerMobile==null?null:i.fieldsInfo.aboutCustomerMobile.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.aboutCustomerMobile==null?null:i.fieldsInfo.aboutCustomerMobile.fieldTitle))("disabled",P(!(i.fieldsInfo.aboutCustomerMobile!=null&&i.fieldsInfo.aboutCustomerMobile.accessEditField))),b("ngModel",i.dataModel.aboutCustomerMobile),o(3),h("",e.value.length," / 100")}}function qw(n,s){if(n&1){let e=I();a(0,"div",42)(1,"label",128),d(2),r(),a(3,"input",129,18),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.aboutCustomerTel,t)||(l.dataModel.aboutCustomerTel=t),f(t)}),r(),a(5,"em"),d(6),r()()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.aboutCustomerTel==null?null:i.fieldsInfo.aboutCustomerTel.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.aboutCustomerTel==null?null:i.fieldsInfo.aboutCustomerTel.fieldTitle))("disabled",P(!(i.fieldsInfo.aboutCustomerTel!=null&&i.fieldsInfo.aboutCustomerTel.accessEditField))),b("ngModel",i.dataModel.aboutCustomerTel),o(3),h("",e.value.length," / 100")}}function Qw(n,s){if(n&1){let e=I();a(0,"app-cms-user-selector",44),_(1,"translate"),E("optionChange",function(t){u(e);let l=p(2);return f(l.onActionSelectorCmsUser(t))}),r()}if(n&2){let e=p(2);m("optionDisabled",!(e.fieldsInfo.linkCmsUserId!=null&&e.fieldsInfo.linkCmsUserId.accessAddField))("optionSelectForce",e.dataModel.linkCmsUserId)("optionPlaceholder",g(1,3,"TITLE.user"))}}function zw(n,s){n&1&&y(0,"i",47)}function Kw(n,s){n&1&&y(0,"i",48)}function Zw(n,s){n&1&&(a(0,"mat-error")(1,"strong"),d(2),_(3,"translate"),r()()),n&2&&(o(2),x(g(3,1,"MESSAGE.required")))}function Yw(n,s){if(n&1){let e=I();a(0,"div",42)(1,"label",134),d(2),_(3,"translate"),r(),a(4,"input",135,19),_(6,"translate"),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.actionCreateNewCmsUserFirstName,t)||(l.dataModel.actionCreateNewCmsUserFirstName=t),f(t)}),r(),S(7,zw,1,0,"i",47),S(8,Kw,1,0,"i",48),a(9,"em"),d(10),r(),S(11,Zw,4,3,"mat-error"),r()}if(n&2){let e=A(5),i=p(2);o(2),x(g(3,8,"TITLE.FIRST_NAME")),o(2),m("placeholder",P(g(6,10,"TITLE.FIRST_NAME"))),b("ngModel",i.dataModel.actionCreateNewCmsUserFirstName),o(3),M(e.value?-1:7),o(),M(e.value?8:-1),o(2),h("",e.value.length," / 50"),o(),M(e.errors!=null&&e.errors.required?11:-1)}}function Jw(n,s){n&1&&y(0,"i",47)}function Xw(n,s){n&1&&y(0,"i",48)}function $w(n,s){n&1&&(a(0,"mat-error")(1,"strong"),d(2),_(3,"translate"),r()()),n&2&&(o(2),x(g(3,1,"MESSAGE.required")))}function e3(n,s){if(n&1){let e=I();a(0,"div",42)(1,"label",136),d(2),_(3,"translate"),r(),a(4,"input",137,20),_(6,"translate"),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.actionCreateNewCmsUserLastName,t)||(l.dataModel.actionCreateNewCmsUserLastName=t),f(t)}),r(),S(7,Jw,1,0,"i",47),S(8,Xw,1,0,"i",48),a(9,"em"),d(10),r(),S(11,$w,4,3,"mat-error"),r()}if(n&2){let e=A(5),i=p(2);o(2),x(g(3,8,"TITLE.LAST_NAME")),o(2),m("placeholder",P(g(6,10,"TITLE.LAST_NAME"))),b("ngModel",i.dataModel.actionCreateNewCmsUserLastName),o(3),M(e.value?-1:7),o(),M(e.value?8:-1),o(2),h("",e.value.length," / 50"),o(),M(e.errors!=null&&e.errors.required?11:-1)}}function t3(n,s){n&1&&y(0,"i",47)}function i3(n,s){n&1&&y(0,"i",48)}function n3(n,s){n&1&&(a(0,"mat-error")(1,"strong"),d(2),_(3,"translate"),r()()),n&2&&(o(2),x(g(3,1,"MESSAGE.required")))}function o3(n,s){if(n&1){let e=I();a(0,"div",42)(1,"label",138),d(2),_(3,"translate"),r(),a(4,"input",139,21),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.actionCreateNewCmsUserMobile,t)||(l.dataModel.actionCreateNewCmsUserMobile=t),f(t)}),r(),S(6,t3,1,0,"i",47),S(7,i3,1,0,"i",48),a(8,"em"),d(9),r(),S(10,n3,4,3,"mat-error"),r()}if(n&2){let e=A(5),i=p(2);o(2),x(g(3,6,"TITLE.MOBILE_NUMBER")),o(2),b("ngModel",i.dataModel.actionCreateNewCmsUserMobile),o(2),M(e.value?-1:6),o(),M(e.value?7:-1),o(2),h("",e.value.length," / 20"),o(),M(e.errors!=null&&e.errors.required?10:-1)}}function a3(n,s){if(n&1){let e=I();a(0,"div",52)(1,"div",43)(2,"div",91)(3,"h5",130),d(4),_(5,"translate"),r()(),a(6,"div",131)(7,"div",94)(8,"input",132),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.actionCreateNewCmsUser,t)||(l.dataModel.actionCreateNewCmsUser=t),f(t)}),r(),y(9,"label",133),r()()(),S(10,Qw,2,5,"app-cms-user-selector",51),S(11,Yw,12,12,"div",42),S(12,e3,12,12,"div",42),S(13,o3,11,8,"div",42),r()}if(n&2){let e=p();o(4),h(" ",g(5,6,"TITLE.CREATE_NEW_USER")," "),o(4),b("ngModel",e.dataModel.actionCreateNewCmsUser),o(2),M(e.dataModel.actionCreateNewCmsUser?-1:10),o(),M(e.dataModel.actionCreateNewCmsUser?11:-1),o(),M(e.dataModel.actionCreateNewCmsUser?12:-1),o(),M(e.dataModel.actionCreateNewCmsUser?13:-1)}}function r3(n,s){if(n&1&&(a(0,"button",105),d(1),_(2,"translate"),r()),n&2){p(2);let e=A(10);m("disabled",!e.form.valid),o(),h(" ",g(2,2,"ACTION.NEXT")," ")}}function l3(n,s){if(n&1&&(a(0,"div",53)(1,"button",120),d(2),_(3,"translate"),r(),S(4,r3,3,4,"button",105),r()),n&2){let e=p();o(2),h(" ",g(3,2,"ACTION.BEFOR")," "),o(2),M(e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0?4:-1)}}function s3(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2){let e=p(2);o(),h(" ",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.fieldTitle," "),o(2),x(g(4,2,"MESSAGE.required"))}}function d3(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2){let e=p(2);o(),h(" ",e.fieldsInfo.addressHidden==null?null:e.fieldsInfo.addressHidden.fieldTitle," "),o(2),x(g(4,2,"MESSAGE.required"))}}function c3(n,s){if(n&1&&(a(0,"div",53)(1,"button",120),d(2),_(3,"translate"),r(),a(4,"button",105),d(5),_(6,"translate"),r()()),n&2){p(2);let e=A(10);o(2),h(" ",g(3,3,"ACTION.BEFOR")," "),o(2),m("disabled",!e.form.valid),o(),h(" ",g(6,5,"ACTION.NEXT")," ")}}function p3(n,s){if(n&1){let e=I();a(0,"mat-step",38),_(1,"translate"),a(2,"div",42)(3,"label",140),d(4),_(5,"translate"),r(),a(6,"textarea",141,22),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.descriptionHidden,t)||(l.dataModel.descriptionHidden=t),f(t)}),d(8,"                                                                  "),r(),a(9,"em"),d(10),r(),S(11,s3,5,4,"mat-error"),r(),a(12,"div",42)(13,"label",142),d(14),_(15,"translate"),r(),a(16,"textarea",143,23),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.addressHidden,t)||(l.dataModel.addressHidden=t),f(t)}),d(18,"                                                                  "),r(),a(19,"em"),d(20),r(),S(21,d3,5,4,"mat-error"),r(),S(22,c3,7,7,"div",53),r()}if(n&2){let e=A(7),i=A(17),t=p();m("label",P(g(1,15,"TITLE.SECRET_INFORMATION"))),o(4),h("",g(5,17,"TITLE.Description_Hidden")," "),o(2),m("placeholder",P(t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",t.dataModel.descriptionHidden),o(4),h("",e.value.length," / 2000"),o(),M(e.errors!=null&&e.errors.required?11:-1),o(3),h(" ",g(15,19,"TITLE.Address_Hidden")," "),o(2),m("placeholder",P(t.fieldsInfo.addressHidden==null?null:t.fieldsInfo.addressHidden.fieldTitle)),b("ngModel",t.dataModel.addressHidden),o(4),h("",i.value.length," / 2000"),o(),M(i.errors!=null&&i.errors.required?21:-1),o(),M(t.formInfo.submitButtonEnabled?22:-1)}}function m3(n,s){if(n&1){let e=I();a(0,"app-estate-property-company-selector",147),_(1,"translate"),E("optionChange",function(t){u(e);let l=p(2);return f(l.onActionSelectorCompany(t))}),r()}if(n&2){let e=p(2);m("optionSelectForce",e.dataModel.linkPropertyCompanyId)("optionPlaceholder",g(1,2,"TITLE.Company"))}}function u3(n,s){if(n&1){let e=I();a(0,"app-estate-property-project-selector",147),_(1,"translate"),E("optionChange",function(t){u(e);let l=p(2);return f(l.onActionSelectorProject(t))}),r()}if(n&2){let e=p(2);m("optionSelectForce",e.dataModel.linkPropertyProjectId)("optionPlaceholder",g(1,2,"TITLE.Project"))}}function f3(n,s){if(n&1){let e=I();a(0,"div",151),y(1,"i",152),d(2,"\xA0\xA0 "),a(3,"app-input-string",153),w("modelChange",function(t){u(e);let l=p().$implicit,C=p(3);return T(C.propertyDetails[l.id],t)||(C.propertyDetails[l.id]=t),f(t)}),r()()}if(n&2){let e=p().$implicit,i=p(3);o(),ae("color",e.iconColor),m("ngClass",e.iconFont),o(2),ni(Pe("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),m("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionRequired",e.required)("optionLabel",e.title)}}function _3(n,s){if(n&1){let e=I();a(0,"div",151),y(1,"i",152),d(2,"\xA0\xA0 "),a(3,"app-input-int",154),w("modelChange",function(t){u(e);let l=p().$implicit,C=p(3);return T(C.propertyDetails[l.id],t)||(C.propertyDetails[l.id]=t),f(t)}),r()()}if(n&2){let e=p().$implicit,i=p(3);o(),ae("color",e.iconColor),m("ngClass",e.iconFont),o(2),ni(Pe("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),m("optionRequired",e.required)("optionLabel",e.title)}}function g3(n,s){if(n&1){let e=I();a(0,"div",151),y(1,"i",152),d(2,"\xA0\xA0 "),a(3,"app-input-boolean",155),w("modelChange",function(t){u(e);let l=p().$implicit,C=p(3);return T(C.propertyDetails[l.id],t)||(C.propertyDetails[l.id]=t),f(t)}),d(4),r()()}if(n&2){let e=p().$implicit,i=p(3);o(),ae("color",e.iconColor),m("ngClass",e.iconFont),o(2),b("model",i.propertyDetails[e.id]),o(),h("",e.title," ")}}function C3(n,s){if(n&1){let e=I();a(0,"div",151),y(1,"i",152),d(2,"\xA0\xA0 "),a(3,"app-input-float",154),w("modelChange",function(t){u(e);let l=p().$implicit,C=p(3);return T(C.propertyDetails[l.id],t)||(C.propertyDetails[l.id]=t),f(t)}),r()()}if(n&2){let e=p().$implicit,i=p(3);o(),ae("color",e.iconColor),m("ngClass",e.iconFont),o(2),ni(Pe("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),m("optionRequired",e.required)("optionLabel",e.title)}}function h3(n,s){if(n&1){let e=I();a(0,"div",151),y(1,"i",152),d(2,"\xA0\xA0 "),a(3,"label"),d(4),r(),a(5,"app-input-date",156),w("modelChange",function(t){u(e);let l=p().$implicit,C=p(3);return T(C.propertyDetails[l.id],t)||(C.propertyDetails[l.id]=t),f(t)}),r()()}if(n&2){let e=p().$implicit,i=p(3);o(),ae("color",e.iconColor),m("ngClass",e.iconFont),o(2),ni(Pe("color:'",e.iconColor,"';")),o(),x(e.title),o(),b("model",i.propertyDetails[e.id]),m("optionRequired",e.required)}}function y3(n,s){if(n&1){let e=I();a(0,"div",151),y(1,"i",152),d(2,"\xA0\xA0 "),a(3,"app-input-textarea",154),w("modelChange",function(t){u(e);let l=p().$implicit,C=p(3);return T(C.propertyDetails[l.id],t)||(C.propertyDetails[l.id]=t),f(t)}),r()()}if(n&2){let e=p().$implicit,i=p(3);o(),ae("color",e.iconColor),m("ngClass",e.iconFont),o(2),ni(Pe("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),m("optionRequired",e.required)("optionLabel",e.title)}}function S3(n,s){if(n&1){let e=I();a(0,"div",151),y(1,"i",152),d(2,"\xA0\xA0 "),a(3,"app-input-string",153),w("modelChange",function(t){u(e);let l=p().$implicit,C=p(3);return T(C.propertyDetails[l.id],t)||(C.propertyDetails[l.id]=t),f(t)}),r()()}if(n&2){let e=p().$implicit,i=p(3);o(),ae("color",e.iconColor),m("ngClass",e.iconFont),o(2),ni(Pe("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),m("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionRequired",e.required)("optionLabel",e.title)}}function M3(n,s){if(n&1&&S(0,f3,4,12,"div",151)(1,_3,4,9,"div",151)(2,g3,5,5,"div",151)(3,C3,4,9,"div",151)(4,h3,6,9,"div",151)(5,y3,4,9,"div",151)(6,S3,4,12,"div",151),n&2){let e,i=s.$implicit,t=p(3);M((e=i.inputDataType)===t.enumInputDataType.String?0:e===t.enumInputDataType.Int?1:e===t.enumInputDataType.Boolean?2:e===t.enumInputDataType.Float?3:e===t.enumInputDataType.Date?4:e===t.enumInputDataType.TextArea?5:6)}}function E3(n,s){if(n&1){let e=I();a(0,"button",157),E("click",function(){u(e);let t=p(3);return f(t.prevStep())}),d(1),_(2,"translate"),r()}n&2&&(o(),h(" ",g(2,1,"ACTION.PREVIOUS")," "))}function v3(n,s){if(n&1){let e=I();a(0,"button",158),E("click",function(){u(e);let t=p(3);return f(t.nextStep())}),d(1),_(2,"translate"),r()}n&2&&(o(),h(" ",g(2,1,"ACTION.NEXT")," "))}function I3(n,s){if(n&1){let e=I();a(0,"button",158),E("click",function(){u(e);let t=p(3);return f(t.nextStep())}),d(1),_(2,"translate"),r()}n&2&&(o(),h(" ",g(2,1,"ACTION.END")," "))}function b3(n,s){if(n&1){let e=I();a(0,"mat-expansion-panel",148),E("opened",function(){let t=u(e).$index,l=p(2);return f(l.setStep(t))}),a(1,"mat-expansion-panel-header")(2,"mat-panel-title"),d(3),r(),a(4,"mat-panel-description"),d(5),a(6,"mat-icon"),d(7),r()()(),me(8,M3,7,1,null,null,pe),a(10,"mat-action-row"),S(11,E3,3,3,"button",149),S(12,v3,3,3,"button",150),S(13,I3,3,3,"button",150),r()()}if(n&2){let e=s.$implicit,i=s.$index,t=p(2);m("expanded",t.step===i),o(3),h(" ",e.title," "),o(2),h(" ",e.description," "),o(2),x(e.iconFont),o(),ue(e.propertyDetails),o(3),M(i>0?11:-1),o(),M(i+1<t.dataModel.propertyDetailGroups.length?12:-1),o(),M(i+1===t.dataModel.propertyDetailGroups.length?13:-1)}}function T3(n,s){if(n&1&&(a(0,"div",53)(1,"button",120),d(2),_(3,"translate"),r(),a(4,"button",105),d(5),_(6,"translate"),r()()),n&2){p(2);let e=A(10);o(2),h(" ",g(3,3,"ACTION.BEFOR")," "),o(2),m("disabled",!e.form.valid),o(),h(" ",g(6,5,"ACTION.NEXT")," ")}}function w3(n,s){if(n&1&&(a(0,"mat-step",54),_(1,"translate"),a(2,"p"),d(3),_(4,"translate"),r(),S(5,m3,2,4,"app-estate-property-company-selector",144),S(6,u3,2,4,"app-estate-property-project-selector",144),y(7,"hr"),a(8,"mat-accordion",145),me(9,b3,14,7,"mat-expansion-panel",146,pe),y(11,"br"),r(),S(12,T3,7,7,"div",53),r()),n&2){let e=p();m("label",P(g(1,6,"TITLE.Details"))),o(3),h(" ",g(4,8,"TITLE.Property_details_according_to_the_type_of_property")," "),o(2),M(e.tokenHelper.isAdminSite?5:-1),o(),M(e.tokenHelper.isAdminSite?6:-1),o(3),ue(e.dataModel.propertyDetailGroups),o(3),M(e.formInfo.submitButtonEnabled?12:-1)}}function x3(n,s){if(n&1){let e=I();a(0,"div",43)(1,"div",91)(2,"h5",159),d(3),r()(),a(4,"div",93)(5,"div",94)(6,"input",160),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.isSoldIt,t)||(l.dataModel.isSoldIt=t),f(t)}),r(),y(7,"label",161),r()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.isSoldIt==null?null:e.fieldsInfo.isSoldIt.fieldTitle," "),o(3),b("ngModel",e.dataModel.isSoldIt)}}function P3(n,s){if(n&1){let e=I();a(0,"div",55)(1,"label",162),d(2),r(),a(3,"input",163,4),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.reviewDataAfterSoldIt,t)||(l.dataModel.reviewDataAfterSoldIt=t),f(t)}),r(),y(5,"mat-datepicker-toggle",164)(6,"mat-datepicker",165,24),r()}if(n&2){let e=A(7),i=p();o(2),x(i.fieldsInfo.reviewDataAfterSoldIt==null?null:i.fieldsInfo.reviewDataAfterSoldIt.fieldTitle),o(),m("matDatepicker",e),b("ngModel",i.dataModel.reviewDataAfterSoldIt),o(2),m("for",e)}}function A3(n,s){if(n&1){let e=I();a(0,"div",43)(1,"div",91)(2,"h5",174),d(3),_(4,"translate"),r()(),a(5,"div",131)(6,"div",94)(7,"input",175),w("ngModelChange",function(t){u(e);let l=p(4);return T(l.contractDataModel.salePriceByAgreement,t)||(l.contractDataModel.salePriceByAgreement=t),f(t)}),E("change",function(){u(e);let t=p(4);return f(t.onActionClickSalePriceAllowAgreement())}),r(),y(8,"label",176),r()()()}if(n&2){let e=p(4);o(3),h(" ",g(4,2,"TITLE.Agreement")," "),o(4),b("ngModel",e.contractDataModel.salePriceByAgreement)}}function R3(n,s){if(n&1){let e=I();a(0,"div",167)(1,"div",170)(2,"label",171),d(3,"contractTypeSelected.titleSalePriceML"),r(),a(4,"input",172),w("ngModelChange",function(t){u(e);let l=p(3);return T(l.contractDataModel.salePrice,t)||(l.contractDataModel.salePrice=t),f(t)}),r()(),a(5,"div",173),S(6,A3,9,4,"div",43),r()()}if(n&2){let e=p(3);o(4),b("ngModel",e.contractDataModel.salePrice),m("disabled",e.contractDataModel.salePriceByAgreement),o(2),M(e.contractTypeSelected.salePriceAllowAgreement?6:-1)}}function D3(n,s){if(n&1){let e=I();a(0,"div",43)(1,"div",91)(2,"h5",179),d(3),_(4,"translate"),r()(),a(5,"div",131)(6,"div",94)(7,"input",180),w("ngModelChange",function(t){u(e);let l=p(4);return T(l.contractDataModel.depositPriceByAgreement,t)||(l.contractDataModel.depositPriceByAgreement=t),f(t)}),E("change",function(){u(e);let t=p(4);return f(t.onActionClickDepositPriceByAgreement())}),r(),y(8,"label",181),r()()()}if(n&2){let e=p(4);o(3),h(" ",g(4,2,"TITLE.Agreement")," "),o(4),b("ngModel",e.contractDataModel.depositPriceByAgreement)}}function k3(n,s){if(n&1){let e=I();a(0,"div",167)(1,"div",170)(2,"label",177),d(3),r(),a(4,"input",178),w("ngModelChange",function(t){u(e);let l=p(3);return T(l.contractDataModel.depositPrice,t)||(l.contractDataModel.depositPrice=t),f(t)}),r()(),a(5,"div",173),S(6,D3,9,4,"div",43),r()()}if(n&2){let e=p(3);o(3),x(e.contractTypeSelected.titleDepositPriceML),o(),b("ngModel",e.contractDataModel.depositPrice),m("disabled",e.contractDataModel.depositPriceByAgreement),o(2),M(e.contractTypeSelected.depositPriceAllowAgreement?6:-1)}}function L3(n,s){if(n&1){let e=I();a(0,"div",43)(1,"div",91)(2,"h5",184),d(3),_(4,"translate"),r()(),a(5,"div",131)(6,"div",94)(7,"input",185),w("ngModelChange",function(t){u(e);let l=p(4);return T(l.contractDataModel.rentPriceByAgreement,t)||(l.contractDataModel.rentPriceByAgreement=t),f(t)}),E("change",function(){u(e);let t=p(4);return f(t.onActionClickRentPriceAllowAgreement())}),r(),y(8,"label",186),r()()()}if(n&2){let e=p(4);o(3),h(" ",g(4,2,"TITLE.Agreement")," "),o(4),b("ngModel",e.contractDataModel.rentPriceByAgreement)}}function V3(n,s){if(n&1){let e=I();a(0,"div",167)(1,"div",170)(2,"label",182),d(3,"contractTypeSelected.titleRentPriceML"),r(),a(4,"input",183),w("ngModelChange",function(t){u(e);let l=p(3);return T(l.contractDataModel.rentPrice,t)||(l.contractDataModel.rentPrice=t),f(t)}),r()(),a(5,"div",173),S(6,L3,9,4,"div",43),r()()}if(n&2){let e=p(3);o(4),b("ngModel",e.contractDataModel.rentPrice),m("disabled",e.contractDataModel.rentPriceByAgreement),o(2),M(e.contractTypeSelected.rentPriceAllowAgreement?6:-1)}}function F3(n,s){if(n&1){let e=I();a(0,"div",43)(1,"div",91)(2,"h5",189),d(3),_(4,"translate"),r()(),a(5,"div",131)(6,"div",94)(7,"input",190),w("ngModelChange",function(t){u(e);let l=p(4);return T(l.contractDataModel.periodPriceByAgreement,t)||(l.contractDataModel.periodPriceByAgreement=t),f(t)}),E("change",function(){u(e);let t=p(4);return f(t.onActionClickPeriodPriceAllowAgreement())}),r(),y(8,"label",191),r()()()}if(n&2){let e=p(4);o(3),h(" ",g(4,2,"TITLE.Agreement")," "),o(4),b("ngModel",e.contractDataModel.periodPriceByAgreement)}}function B3(n,s){if(n&1){let e=I();a(0,"div",167)(1,"div",170)(2,"label",187),d(3,"contractTypeSelected.titlePeriodPriceML"),r(),a(4,"input",188),w("ngModelChange",function(t){u(e);let l=p(3);return T(l.contractDataModel.periodPrice,t)||(l.contractDataModel.periodPrice=t),f(t)}),r()(),a(5,"div",173),S(6,F3,9,4,"div",43),r()()}if(n&2){let e=p(3);o(4),b("ngModel",e.contractDataModel.periodPrice),m("disabled",e.contractDataModel.periodPriceByAgreement),o(2),M(e.contractTypeSelected.hasPeriodPrice&&e.contractTypeSelected.periodPriceAllowAgreement?6:-1)}}function O3(n,s){if(n&1){let e=I();a(0,"div"),S(1,R3,7,3,"div",167),S(2,k3,7,4,"div",167),S(3,V3,7,3,"div",167),S(4,B3,7,3,"div",167),y(5,"hr"),a(6,"div",42)(7,"label",168),d(8),r(),a(9,"textarea",169,25),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.contractDataModel.description,t)||(l.contractDataModel.description=t),f(t)}),d(11,"                                                                                                                      "),r(),a(12,"em"),d(13),r()()()}if(n&2){let e=A(10),i=p(2);o(),M(i.contractTypeSelected.hasSalePrice?1:-1),o(),M(i.contractTypeSelected.hasDepositPrice?2:-1),o(),M(i.contractTypeSelected.hasRentPrice?3:-1),o(),M(i.contractTypeSelected.hasPeriodPrice?4:-1),o(4),x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),b("ngModel",i.contractDataModel.description),o(4),h("",e.value.length," / 500")}}function N3(n,s){if(n&1){let e=I();a(0,"button",71),E("click",function(){u(e);let t=p(2);return f(t.onActionOptionAddToList())}),d(1),_(2,"translate"),r()}n&2&&(o(),h(" ",g(2,1,"ACTION.Add_To_List")," ... "))}function G3(n,s){if(n&1){let e=I();a(0,"div",57),y(1,"br")(2,"br"),a(3,"app-cms-currency-selector",166),_(4,"translate"),E("optionChange",function(t){u(e);let l=p();return f(l.onActionSelectCurrency(t))}),r(),S(5,O3,14,9,"div"),y(6,"br")(7,"br"),S(8,N3,3,3,"button",80),r()}if(n&2){let e=p();o(3),m("optionSelectFirstItem",e.currencyOptionSelectFirstItem)("optionSelectForce",e.contractDataModel.linkCoreCurrencyId)("optionPlaceholder",g(4,5,"TITLE.Specify_the_transaction_currency")),o(2),M(e.contractDataModel.linkCoreCurrencyId>0?5:-1),o(3),M(e.contractTypeSelected&&e.contractTypeSelected.id.length>0?8:-1)}}function W3(n,s){n&1&&(a(0,"mat-header-cell"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.Contract")," "))}function H3(n,s){if(n&1&&(a(0,"mat-cell"),d(1),_(2,"cmstitle"),r()),n&2){let e=s.$implicit,i=p(2);o(),h(" ",pi(2,1,e.linkEstateContractTypeId,i.dataModelEstateContractTypeResult.listItems)," ")}}function j3(n,s){n&1&&(a(0,"mat-header-cell"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.SalePrice")," "))}function U3(n,s){if(n&1&&(d(0),_(1,"number"),y(2,"br"),d(3)),n&2){let e=p().$implicit;h(" ",g(1,3,e.salePrice)," "),o(3),We("( ",e.currencyTitle," ",e.currencySymbol," ) ")}}function q3(n,s){n&1&&(d(0),_(1,"translate")),n&2&&h(" ",g(1,1,"TITLE.PriceByAgreement")," ")}function Q3(n,s){if(n&1&&(d(0),_(1,"translate"),_(2,"number")),n&2){let e=p().$implicit,i=p(2);We(" (",g(1,2,"TITLE.SQUARE_METERS")," :",g(2,4,e.salePrice/i.dataModel.area),") ")}}function z3(n,s){if(n&1&&(a(0,"mat-cell"),S(1,U3,4,5),S(2,q3,2,3),S(3,Q3,3,6),r()),n&2){let e=s.$implicit,i=p(2);o(),M(e.salePrice>0?1:-1),o(),M(e.salePriceByAgreement?2:-1),o(),M(e.salePrice>0&&i.dataModel.area>0?3:-1)}}function K3(n,s){n&1&&(a(0,"mat-header-cell"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.DepositPrice")," "))}function Z3(n,s){if(n&1&&(d(0),_(1,"number"),y(2,"br"),d(3)),n&2){let e=p().$implicit;h(" ",g(1,3,e.depositPrice)),o(3),We(" ( ",e.currencyTitle," ",e.currencySymbol," ) ")}}function Y3(n,s){n&1&&(d(0),_(1,"translate")),n&2&&h(" ",g(1,1,"TITLE.PriceByAgreement")," ")}function J3(n,s){if(n&1&&(a(0,"mat-cell"),S(1,Z3,4,5),S(2,Y3,2,3),r()),n&2){let e=s.$implicit;o(),M(e.depositPrice>0?1:-1),o(),M(e.depositPriceByAgreement?2:-1)}}function X3(n,s){n&1&&(a(0,"mat-header-cell"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.RentPrice")," "))}function $3(n,s){if(n&1&&(d(0),_(1,"number"),y(2,"br"),d(3)),n&2){let e=p().$implicit;h(" ",g(1,3,e.rentPrice)),o(3),We(" ( ",e.currencyTitle," ",e.currencySymbol," ) ")}}function ex(n,s){n&1&&(d(0),_(1,"translate")),n&2&&h(" ",g(1,1,"TITLE.PriceByAgreement")," ")}function tx(n,s){if(n&1&&(a(0,"mat-cell"),S(1,$3,4,5),S(2,ex,2,3),r()),n&2){let e=s.$implicit;o(),M(e.rentPrice>0?1:-1),o(),M(e.rentPriceByAgreement?2:-1)}}function ix(n,s){n&1&&(a(0,"mat-header-cell"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.PeriodPrice")," "))}function nx(n,s){if(n&1&&(d(0),_(1,"number"),y(2,"br"),d(3)),n&2){let e=p().$implicit;h(" ",g(1,3,e.periodPrice)," "),o(3),We(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function ox(n,s){n&1&&(d(0),_(1,"translate")),n&2&&h(" ",g(1,1,"TITLE.PriceByAgreement")," ")}function ax(n,s){if(n&1&&(a(0,"mat-cell"),S(1,nx,4,5),S(2,ox,2,3),r()),n&2){let e=s.$implicit;o(),M(e.periodPrice>0?1:-1),o(),M(e.periodPriceByAgreement?2:-1)}}function rx(n,s){n&1&&(a(0,"mat-header-cell"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.OPTION")," "))}function lx(n,s){if(n&1){let e=I();a(0,"mat-cell",206)(1,"button",207),E("click",function(){let t=u(e).index,l=p(2);return f(l.onActionOptionRemoveFromList(t))}),a(2,"small")(3,"mat-icon",208),_(4,"translate"),d(5,"delete"),r()()()()}n&2&&(o(3),m("matTooltip",P(g(4,2,"ACTION.DELETE"))))}function sx(n,s){if(n&1&&d(0),n&2){let e=p().$implicit;h(" ",e.description," ")}}function dx(n,s){if(n&1&&(a(0,"mat-cell",209),d(1),_(2,"translate"),S(3,sx,1,1),r()),n&2){let e=s.$implicit;o(),h(" ",g(2,2,"TITLE.DESCRIPTION")," : "),o(2),M(e.description?3:-1)}}function cx(n,s){n&1&&y(0,"mat-header-row")}function px(n,s){if(n&1&&y(0,"mat-row"),n&2){let e=s.dataIndex;ne("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}function mx(n,s){if(n&1&&y(0,"mat-row"),n&2){let e=s.dataIndex;ne("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}function ux(n,s){if(n&1&&(a(0,"div",58)(1,"mat-table",192),D(2,193),R(3,W3,3,3,"mat-header-cell",194)(4,H3,3,4,"mat-cell",195),k(),D(5,196),R(6,j3,3,3,"mat-header-cell",194)(7,z3,4,3,"mat-cell",195),k(),D(8,197),R(9,K3,3,3,"mat-header-cell",194)(10,J3,3,2,"mat-cell",195),k(),D(11,198),R(12,X3,3,3,"mat-header-cell",194)(13,tx,3,2,"mat-cell",195),k(),D(14,199),R(15,ix,3,3,"mat-header-cell",194)(16,ax,3,2,"mat-cell",195),k(),D(17,200),R(18,rx,3,3,"mat-header-cell",194)(19,lx,6,4,"mat-cell",201),k(),D(20,202),R(21,dx,4,4,"mat-cell",203),k(),R(22,cx,1,0,"mat-header-row",204)(23,px,1,4,"mat-row",205)(24,mx,1,4,"mat-row",205),r()()),n&2){let e=p();o(),m("dataSource",e.optionTabledataSource),o(21),m("matHeaderRowDef",e.optionTabledisplayedColumns),o(),m("matRowDefColumns",e.optionTabledisplayedColumns),o(),m("matRowDefColumns",fe(4,dw))}}function fx(n,s){if(n&1&&(a(0,"button",105),d(1),_(2,"translate"),r()),n&2){p(2);let e=A(10);m("disabled",!e.form.valid),o(),h(" ",g(2,2,"ACTION.NEXT")," ")}}function _x(n,s){if(n&1&&(a(0,"div",53)(1,"button",120),d(2),_(3,"translate"),r(),S(4,fx,3,4,"button",105),r()),n&2){let e=p();o(2),h(" ",g(3,2,"ACTION.BEFOR")," "),o(2),M(e.dataModel.contracts&&e.dataModel.contracts.length>0?4:-1)}}function gx(n,s){if(n&1&&(y(0,"img",62),_(1,"cmsthumbnail")),n&2){let e=p();m("src",P(g(1,2,e.dataModel.linkMainImageIdSrc)),H)}}function Cx(n,s){n&1&&(a(0,"p"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.List_of_attached_photos")," "))}function hx(n,s){if(n&1){let e=I();a(0,"div")(1,"p"),d(2),_(3,"translate"),r(),a(4,"app-cms-files-selector",210),w("dataFileModelChange",function(t){u(e);let l=p();return T(l.dataFileModelFiles,t)||(l.dataFileModelFiles=t),f(t)}),r()()}if(n&2){let e=p();o(2),x(g(3,3,"TITLE.List_of_attached_files")),o(2),b("dataFileModel",e.dataFileModelFiles),m("openDirectUploadView",!0)}}function yx(n,s){if(n&1&&(a(0,"div",49)(1,"button",120),d(2),_(3,"translate"),r(),a(4,"button",105),d(5),_(6,"translate"),r(),a(7,"button",106),d(8),_(9,"translate"),r()()),n&2){let e=p(),i=A(10);o(2),h(" ",g(3,5,"ACTION.BEFOR")," "),o(2),m("disabled",!i.form.valid),o(),h(" ",g(6,7,"ACTION.NEXT")," "),o(2),m("disabled",!i.form.valid||!e.connectionStatus.internetConnection),o(),h(" ",g(9,9,"ACTION.SAVE")," ")}}function Sx(n,s){if(n&1){let e=I();a(0,"button",212),E("click",function(){u(e);let t=p(2);return f(t.onFormSubmitAndMessage())}),d(1),_(2,"translate"),r()}if(n&2){p(2);let e=A(10);m("disabled",!e.form.valid),o(),h(" ",g(2,2,"ACTION.Send_Message")," ")}}function Mx(n,s){if(n&1){let e=I();a(0,"div",49)(1,"button",79),E("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),d(2),_(3,"translate"),r(),a(4,"button",120),d(5),_(6,"translate"),r(),a(7,"button",106),d(8),_(9,"translate"),r(),S(10,Sx,3,4,"button",211),r()}if(n&2){let e=p(),i=A(10);o(2),h(" ",g(3,5,"ACTION.BACK")," "),o(3),h(" ",g(6,7,"ACTION.BEFOR")," "),o(2),m("disabled",!i.form.valid||!e.connectionStatus.internetConnection),o(),h(" ",g(9,9,"ACTION.SAVE")," "),o(2),M(e.tokenHelper.isAdminSite?10:-1)}}function Ex(n,s){n&1&&(a(0,"mat-icon"),d(1,"call_end"),r())}function vx(n,s){n&1&&(a(0,"mat-icon"),d(1,"call_end"),r())}function Ix(n,s){n&1&&(a(0,"mat-icon"),d(1,"forum"),r())}function bx(n,s){n&1&&(a(0,"mat-icon"),d(1,"forum"),r())}function Tx(n,s){if(n&1){let e=I();a(0,"button",71),E("click",function(){u(e);let t=p();return f(t.onFormLoadEstateCustomerOrderResult())}),y(1,"i",213),d(2),_(3,"translate"),r()}n&2&&(o(2),h(" ",g(3,1,"ACTION.VIEW_Estate_Customer_Orders")," "))}function wx(n,s){if(n&1){let e=I();a(0,"button",71),E("click",function(){u(e);let t=p();return f(t.onFormLoadEstateHaveHistoryResult())}),y(1,"i",213),d(2),_(3,"translate"),r()}n&2&&(o(2),h(" ",g(3,1,"ACTION.VIEW_Estate_Customer_Have_Histories")," "))}function xx(n,s){if(n&1){let e=I();a(0,"button",71),E("click",function(){u(e);let t=p();return f(t.onFormLoadEstateHistoryResult())}),y(1,"i",213),d(2),_(3,"translate"),r()}n&2&&(o(2),h(" ",g(3,1,"ACTION.VIEW_Estate_Histories")," "))}function Px(n,s){if(n&1){let e=I();a(0,"button",71),E("click",function(){u(e);let t=p();return f(t.onFormLoadEstateAgencyResult())}),y(1,"i",213),d(2),_(3,"translate"),r()}n&2&&(o(2),h(" ",g(3,1,"ACTION.VIEW_Estate_Agencys")," "))}function Ax(n,s){if(n&1){let e=I();a(0,"button",71),E("click",function(){u(e);let t=p();return f(t.onFormLoadEstateUserResult())}),y(1,"i",213),d(2),_(3,"translate"),r()}n&2&&(o(2),h(" ",g(3,1,"ACTION.VIEW_Estate_Users")," "))}function Rx(n,s){if(n&1){let e=I();a(0,"button",71),E("click",function(){u(e);let t=p();return f(t.onFormSubmitAndMessage())}),y(1,"i",213),d(2),_(3,"translate"),r()}n&2&&(o(2),h(" ",g(3,1,"ACTION.Send_Message")," "))}function Dx(n,s){if(n&1){let e=I();a(0,"button",71),E("click",function(){u(e);let t=p();return f(t.onActionButtonQuickHistoryAddRow())}),y(1,"i",213),d(2),_(3,"translate"),r()}n&2&&(o(2),h(" ",g(3,1,"ACTION.HISTORY_ADD")," "))}function kx(n,s){if(n&1&&(a(0,"div",82),y(1,"app-estate-account-agency-list",214,26),r()),n&2){let e=p();o(),m("optionLinkLocationWorkAreaId",e.dataModel.linkLocationId)("optionloadComponent",!1)("optionloadByRoute",!1)}}function Lx(n,s){if(n&1&&(a(0,"div",82),y(1,"app-estate-account-expert-list",214,27),r()),n&2){let e=p();o(),m("optionLinkLocationWorkAreaId",e.dataModel.linkLocationId)("optionloadComponent",!1)("optionloadByRoute",!1)}}function Vx(n,s){if(n&1&&(a(0,"div",82),y(1,"app-estate-customer-order-list",215,28),r()),n&2){let e=p();o(),m("optionLinkPropertyId",e.dataModel.id)("optionloadComponent",!1)("optionloadByRoute",!1)}}function Fx(n,s){if(n&1&&(a(0,"div",82),y(1,"app-estate-customer-order-list",216,29),r()),n&2){let e=p();o(),m("optionLinkPropertyIdHaveHistory",e.dataModel.id)("optionloadComponent",!1)("optionloadByRoute",!1)}}function Bx(n,s){if(n&1&&(a(0,"div",82),y(1,"app-estate-property-history-list",215,30),r()),n&2){let e=p();o(),m("optionLinkPropertyId",e.dataModel.id)("optionloadComponent",!1)("optionloadByRoute",!1)}}var zr=class zr extends Tt{constructor(e,i,t,l,C,c,L,q,Se,je,Ke,Ot,ii,Sn){super(l,new _n,Se,ii);this.activatedRoute=e;this.coreEnumService=i;this.estateContractTypeService=t;this.estatePropertyService=l;this.estatePropertyDetailGroupService=C;this.cmsToastrService=c;this.cmsStoreService=L;this.router=q;this.publicHelper=Se;this.cdr=je;this.themeService=Ke;this.tokenHelper=Ot;this.translate=ii;this.dialog=Sn;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.connectionStatus=new ta;this.enumInputDataType=rn;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.formMatcher=new ra;this.dataModelResult=new ht;this.dataModelEstateContractTypeResult=new j;this.dataModel=new _n;this.dataModelCorCurrencySelector=new En;this.dataFileModelImgaes=new Map;this.dataFileModelFiles=new Map;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.currencyOptionSelectFirstItem=!0;this.PropertyTypeSelected=new gn;this.contractDataModel=new Wi;this.optionTabledataSource=new Ht;this.optionTabledisplayedColumns=["LinkEstateContractTypeId","SalePrice","DepositPrice","RentPrice","PeriodPrice","Action"];this.propertyDetails=new Map;this.numbers=[0,1,2,3,4,5,6,7,8,9,10];this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Ci;this.step=0;this.hidden=!0;this.unsubscribe=[];this.optionReload=()=>{this.loadResult=""};this.loadResult="";this.publicHelper.processService.cdr=this.cdr,this.requestId=this.activatedRoute.snapshot.paramMap.get("id"),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(Mn=>Mn.connectionStatusStore).subscribe(Mn=>Me(this,null,function*(){this.connectionStatus=Mn})))}ngOnInit(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorComponentAction(),this.router.navigate(["/estate/property"]);return}this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOne(),this.getEstateContractType(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(()=>Me(this,null,function*(){this.DataGetOne(),this.getEstateContractType()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}getEstateContractType(){let e=this.constructor.name+"getEstateContractType";this.translate.get("TITLE.Get_Estate_Contract_Type").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateContractTypeService.ServiceGetAll(null).subscribe({next:i=>{this.dataModelEstateContractTypeResult=i,this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e)}})}DataGetOne(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_state_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyService.setAccessLoad(),this.estatePropertyService.setAccessDataType(Be.Editor),this.estatePropertyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{if(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.lastRecordStatus=i.item.recordStatus,this.dataModel=i.item,i.isSuccess){(!this.dataModel.caseCode||this.dataModel.caseCode.length<=0)&&(this.dataModel.caseCode=this.publicHelper.StringRandomGenerator(5,!0)),this.optionTabledataSource.data=this.dataModel.contracts,this.DataGetPropertyDetailGroup(this.dataModel.linkPropertyTypeLanduseId);let t=this.dataModel.geolocationlatitude,l=this.dataModel.geolocationlongitude;t>0&&l>0&&(this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:t,lon:l}),this.receiveMap()),this.formInfo.formTitle=i.item.title,this.formInfo.submitResultMessage="",this.dataModel.linkFileIds&&this.dataModel.linkFileIds.length>0&&this.dataModel.linkFileIds.split(",").forEach((C,c)=>{let L="";this.dataModel.linkFileIdsSrc.length>=this.dataModel.linkFileIdsSrc.length&&(L=this.dataModel.linkFileIdsSrc[c]),this.dataFileModelFiles.set(+C,L)}),this.dataModel.linkExtraImageIdsSrc&&this.dataModel.linkExtraImageIdsSrc.length>0&&this.dataModel.linkExtraImageIds.split(",").forEach((C,c)=>{let L="";this.dataModel.linkExtraImageIdsSrc.length>=this.dataModel.linkExtraImageIdsSrc.length&&(L=this.dataModel.linkExtraImageIdsSrc[c]),this.dataFileModelImgaes.set(+C,L)}),this.formInfo.submitResultMessageType=1}else this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage);this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataGetPropertyDetailGroup(e){let i=new oe,t=new Z;t.propertyName="LinkPropertyTypeLanduseId",t.value=e,i.filters.push(t),this.dataModel.propertyDetailGroups=[];let l=this.constructor.name+"DataGetPropertyDetailGroup";this.translate.get("MESSAGE.Get_detailed_information").subscribe(C=>{this.publicHelper.processService.processStart(l,C,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceGetAll(i).subscribe({next:C=>{C.isSuccess?(this.dataModel.propertyDetailGroups=C.listItems,this.dataModel.propertyDetailGroups&&this.dataModel.propertyDetailGroups.forEach(c=>{c.propertyDetails.forEach(L=>{if(this.propertyDetails[L.id]=0,this.dataModel.propertyDetailValues){let q=this.dataModel.propertyDetailValues.find(Se=>Se.linkPropertyDetailId===L.id);q&&(this.propertyDetails[L.id]=q.value)}})})):this.cmsToastrService.typeErrorGetAccess(C.errorMessage),this.publicHelper.processService.processStop(l)},error:C=>{this.cmsToastrService.typeErrorGetAccess(C),this.publicHelper.processService.processStop(l,!1)}})}DataEditContent(e=!1){if(this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage="",this.dataFileModelFiles){let t=Array.from(this.dataFileModelFiles.keys());t&&t.length>0&&(this.dataModel.linkFileIds=t.join(","))}if(this.dataFileModelImgaes){let t=Array.from(this.dataFileModelImgaes.keys());t&&t.length>0&&(this.dataModel.linkExtraImageIds=t.join(","))}let i=this.constructor.name+"ServiceEdit";this.translate.get("MESSAGE.registration_chaneges_in_property_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.estatePropertyService.ServiceEdit(this.dataModel).subscribe({next:t=>{if(this.formInfo.submitButtonEnabled=!0,this.dataModelResult=t,t.isSuccess){if(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(C=>{this.formInfo.submitResultMessage=C,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.formInfo.submitResultMessageType=1,(this.tokenHelper.isAdminSite||this.tokenHelper.isSupportSite||this.tokenInfo.access.userAccessUserType==Nn.ResellerCpSite||this.tokenInfo.access.userAccessUserType==Nn.ResellerEmployeeCpSite)&&(e||this.dataModel.recordStatus==He.Available&&this.dataModel.recordStatus!=this.lastRecordStatus)){var l="";this.publicHelper.isMobile?l="dialog-fullscreen":l="dialog-min",this.dialog.open(bo,{height:"90%",panelClass:l,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{model:this.dataModel}}).afterClosed().subscribe(c=>{})}}else this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(C=>{this.formInfo.submitResultMessage=C}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage);this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(i=>{this.mapMarker=As.marker([i.lat,i.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",i=>{let t=i.latlng.lat,l=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&l===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=As.marker([t,l]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=l}))}receiveZoom(e){}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onActionSelectorSelectUsage(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeUsageId=e.id}onActionSelectorSelectLanduse(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.PropertyTypeSelected=e,this.dataModel.linkPropertyTypeLanduseId=e.id,this.DataGetPropertyDetailGroup(e.id)}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCmsUserId=null;return}this.dataModel.linkCmsUserId=e.id}onActionSelectorLocation(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=e.id}onActionSelectorProject(e){if(!e||!e.id||e.id.length<=0){this.dataModel.linkPropertyProjectId=null;return}this.dataModel.linkPropertyProjectId=e.id}onActionSelectorCompany(e){if(!e||!e.id||e.id.length<=0){this.dataModel.linkPropertyCompanyId=null;return}this.dataModel.linkPropertyCompanyId=e.id}onActionSelectorEstateUser(e){this.dataModel.linkEstateExpertId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateExpertId=e.id)}onActionSelectorEstateAgency(e){this.dataModel.linkEstateAgencyId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateAgencyId=e.id)}onActionSelectorContractType(e){if(this.contractTypeSelected=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.currencyOptionSelectFirstItem=!0,this.contractTypeSelected=e,this.contractDataModel=new Wi,this.contractDataModel.contractType=this.contractTypeSelected,this.contractDataModel.linkEstateContractTypeId=this.contractTypeSelected.id}onFormSubmitAndMessage(){this.onFormSubmit(!0)}onFormSubmit(e=!1){if(this.formGroup.valid){if(this.formInfo.submitButtonEnabled=!1,this.dataModel.propertyDetailValues=[],this.dataModel.propertyDetailGroups&&this.dataModel.propertyDetailGroups.forEach(i=>{i.propertyDetails.forEach(t=>{let l=new Vo;l.linkPropertyDetailId=t.id,l.value=this.propertyDetails[t.id],this.dataModel.propertyDetailValues.push(l)})}),(!this.dataModel.contracts||this.dataModel.contracts.length===0)&&this.onActionOptionAddToList(),!this.dataModel.contracts||this.dataModel.contracts.length===0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)}),this.formInfo.submitButtonEnabled=!0;return}this.DataEditContent(e)}}onFormCancel(){this.router.navigate(["/estate/property"])}onActionOptionAddToList(e=!0){if(!this.contractTypeSelected||this.contractTypeSelected.id.length===0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(t=>{e&&this.cmsToastrService.typeErrorSelected(t)});return}this.dataModel.contracts||(this.dataModel.contracts=[]);let i=!1;if(this.contractTypeSelected.hasSalePrice&&(this.contractDataModel.salePrice&&this.contractDataModel.salePrice>0&&(i=!0),this.contractTypeSelected.salePriceAllowAgreement&&this.contractDataModel.salePriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Sales_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i=!1,this.contractTypeSelected.hasRentPrice&&(this.contractDataModel.rentPrice&&this.contractDataModel.rentPrice>0&&(i=!0),this.contractTypeSelected.rentPriceAllowAgreement&&this.contractDataModel.rentPriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Rent_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i=!1,this.contractTypeSelected.hasPeriodPrice&&(this.contractDataModel.periodPrice&&this.contractDataModel.periodPrice>0&&(i=!0),this.contractTypeSelected.periodPriceAllowAgreement&&this.contractDataModel.periodPriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Period_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i=!1,this.contractTypeSelected.hasDepositPrice&&(this.contractDataModel.depositPrice&&this.contractDataModel.depositPrice>0&&(i=!0),this.contractTypeSelected.depositPriceAllowAgreement&&this.contractDataModel.depositPriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Deposit_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.dataModel.contracts.push(this.contractDataModel),this.contractDataModel=new Wi,this.optionTabledataSource.data=this.dataModel.contracts,this.contractTypeSelected=null}onActionOptionRemoveFromList(e){if(!(e<0)&&!(!this.dataModel.contracts||this.dataModel.contracts.length===0)){var i;this.contractDataModel=this.dataModel.contracts[e],i=this.dataModel.contracts.splice(e,1),this.contractDataModel=i,this.optionTabledataSource.data=this.dataModel.contracts}}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&((!this.dataModel.linkPropertyTypeUsageId||this.dataModel.linkPropertyTypeUsageId.length===0)&&(this.translate.get("TITLE.Select_the_Property_Type_Usage").subscribe(t=>{this.cmsToastrService.typeErrorFormInvalid(t)}),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)),(!this.dataModel.linkPropertyTypeLanduseId||this.dataModel.linkPropertyTypeLanduseId.length===0)&&(this.translate.get("TITLE.Select_the_Property_Type_Landuse").subscribe(t=>{this.cmsToastrService.typeErrorFormInvalid(t)}),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)),this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/estate/property/"])}setStep(e){this.step=e}nextStep(){this.step++}prevStep(){this.step--}onActionClickSalePriceAllowAgreement(){this.contractDataModel.salePriceByAgreement&&(this.contractDataModel.salePrice=0)}onActionClickRentPriceAllowAgreement(){this.contractDataModel.rentPriceByAgreement&&(this.contractDataModel.rentPrice=0)}onActionClickPeriodPriceAllowAgreement(){this.contractDataModel.periodPriceByAgreement&&(this.contractDataModel.periodPrice=0)}onActionClickDepositPriceByAgreement(){this.contractDataModel.depositPriceByAgreement&&(this.contractDataModel.depositPrice=0)}ActionCurrentPoint(){this.childMap.getPosition().then(e=>{let i=e.lat,t=e.lon;i>0&&t>0&&(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:i,lon:t}),this.dataModel.geolocationlatitude=i,this.dataModel.geolocationlongitude=t,this.receiveMap())})}onActionSelectCurrency(e){if(!e||e.id<=0){this.cmsToastrService.typeErrorSelected(),this.dataModelCorCurrencySelector=null,this.contractDataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=e,this.contractDataModel.linkCoreCurrencyId=e.id,this.tokenHelper.isAdminSite&&this.contractTypeSelected.allowPriceInquiryCalculate&&this.onActionPriceInquiryList()}onActionPriceInquiryList(){let e=new Wo;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={linkLocationId:this.dataModel.linkLocationId,linkCoreCurrencyId:this.contractDataModel.linkCoreCurrencyId,createdYaer:this.dataModel.createdYaer,linkPropertyTypeUsageId:this.dataModel.linkPropertyTypeUsageId,linkPropertyTypeLanduseId:this.dataModel.linkPropertyTypeLanduseId,linkContractTypeId:this.contractDataModel.linkEstateContractTypeId};var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ga,e).afterClosed().subscribe(l=>{})}onActionButtonQuickListSearchTitle(){if(!this.dataModel||!this.dataModel.title||this.dataModel.title.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Fi,{height:"90%",panelClass:e,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{searchTitle:this.dataModel.title}}).afterClosed().subscribe(t=>{})}onActionButtonQuickListSearchCustomerTel(){if(!this.dataModel||!this.dataModel.aboutCustomerTel||this.dataModel.aboutCustomerTel.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Fi,{height:"90%",panelClass:e,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{searchCustomerTel:this.dataModel.aboutCustomerTel}}).afterClosed().subscribe(t=>{})}onActionButtonQuickListSearchCustomerMobile(){if(!this.dataModel||!this.dataModel.aboutCustomerMobile||this.dataModel.aboutCustomerMobile.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Fi,{height:"90%",panelClass:e,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{searchCustomerTel:this.dataModel.aboutCustomerMobile}}).afterClosed().subscribe(t=>{})}onActionButtonQuickListSearchCaseCode(){if(!this.dataModel||!this.dataModel.caseCode||this.dataModel.caseCode.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Fi,{height:"90%",panelClass:e,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{searchCaseCode:this.dataModel.caseCode}}).afterClosed().subscribe(t=>{})}onFormLoadEstateAgencyResult(){this.loadResult="estateAccountAgencyList",Promise.resolve().then(()=>this.cdr.detectChanges()),this.estateAccountAgencyListComponent.optionloadComponent=!0,this.estateAccountAgencyListComponent.DataGetAll()}onFormLoadEstateUserResult(){this.loadResult="estateAccountExpertList",Promise.resolve().then(()=>this.cdr.detectChanges()),this.estateAccountExpertListComponent.optionloadComponent=!0,this.estateAccountExpertListComponent.DataGetAll()}onFormLoadEstateCustomerOrderResult(){this.loadResult="estateCustomerOrderList",Promise.resolve().then(()=>this.cdr.detectChanges()),this.estateCustomerOrderListComponent.optionloadComponent=!0,this.estateCustomerOrderListComponent.DataGetAll()}onFormLoadEstateHaveHistoryResult(){this.loadResult="estateCustomerOrderHaveHistoryList",Promise.resolve().then(()=>this.cdr.detectChanges()),this.estateCustomerOrderHaveHistoryListComponent.optionloadComponent=!0,this.estateCustomerOrderHaveHistoryListComponent.DataGetAll()}onFormLoadEstateHistoryResult(){this.loadResult="estateHistoryList",Promise.resolve().then(()=>this.cdr.detectChanges()),this.estatePropertyHistoryListComponent.optionloadComponent=!0,this.estatePropertyHistoryListComponent.DataGetAll()}onActionButtonQuickHistoryAddRow(){var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(zd,{height:"90%",panelClass:e,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{linkActivityTypeId:null,linkPropertyId:this.dataModel.id,linkEstateExpertId:null,linkCustomerOrderId:null,linkEstateAgencyId:null}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}};zr.\u0275fac=function(i){return new(i||zr)(v(Gt),v(te),v(Pi),v(sn),v(Zt),v(O),v(Ce),v(ke),v(G),v(N),v(jt),v(de),v(B),v(Oe))},zr.\u0275cmp=V({type:zr,selectors:[["app-estate-property-edit"]],viewQuery:function(i,t){if(i&1&&(Q(sw,5),Q(zt,5),Q(Rn,5),Q(Dn,5),Q(il,5),Q(il,5),Q(Gl,5)),i&2){let l;z(l=K())&&(t.formGroup=l.first),z(l=K())&&(t.childMap=l.first),z(l=K())&&(t.estateAccountAgencyListComponent=l.first),z(l=K())&&(t.estateAccountExpertListComponent=l.first),z(l=K())&&(t.estateCustomerOrderListComponent=l.first),z(l=K())&&(t.estateCustomerOrderHaveHistoryListComponent=l.first),z(l=K())&&(t.estatePropertyHistoryListComponent=l.first)}},standalone:!1,features:[Y],decls:145,vars:155,consts:[["vform","ngForm"],["stepper",""],["Description",""],["LinkMainImageId",""],["Title",""],["CaseCode",""],["SharingKey",""],["CreatedYaer",""],["Partition",""],["Area",""],["Address",""],["LinkSiteId",""],["scoreEstateLocation","ngModel"],["scoreEstateBuild","ngModel"],["scoreEstatePrice","ngModel"],["AboutAgentMobile",""],["AboutAgentTel",""],["AboutCustomerMobile",""],["AboutCustomerTel",""],["actionCreateNewCmsUserFirstName",""],["actionCreateNewCmsUserLastName",""],["actionCreateNewCmsUserMobile",""],["DescriptionHidden",""],["AddressHidden",""],["ReviewDataAfterSoldIt",""],["contractDataModel_Description",""],["estateAccountAgencyListComponent",""],["estateAccountExpertListComponent",""],["estateCustomerOrderListComponent",""],["estateCustomerOrderHaveHistoryListComponent",""],["estatePropertyHistoryListComponent",""],[3,"Key","svg"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder"],[3,"optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder","optionTypeUsageId"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"d-flex","mb-3"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","2000","rows","5","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"ntk-button-row"],[3,"optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"blockquote"],[1,"form-actions"],["state","seo",3,"label"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[3,"optionChange","optionDisabled","optionTypeView","optionPlaceholder","optionSelectForce"],[1,"container"],[1,"example-container","mat-elevation-z8"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView","optionFileType"],[3,"dataModelChange","dataModel"],[3,"dataModelChange","dataModel","dataImageModel"],["state","loaction",3,"label"],["id","main-map",3,"map$","zoom$","optonCenter"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"row","alert","alert-custom","alert-white","alert-shadow","gutter-b"],[1,"col-md-12","col-sm-12","col-xs-18"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder","optionTypeUsageId"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.caseCode",1,"color-highlight"],["matInput","","type","text","name","dataModel.caseCode","type","text","minlength","3","maxlength","100","required","","id","dataModel.caseCode",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.sharingKey",1,"color-highlight"],["matInput","","type","text","name","dataModel.sharingKey","type","text","id","dataModel.sharingKey",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"pt-1"],["data-trigger-switch","dataModel.viewConfigHiddenInList",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2",2,"position","inherit"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.viewConfigHiddenInList","name","dataModel.viewConfigHiddenInList",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.viewConfigHiddenInList",1,"custom-control-label"],["for","dataModel.createdYaer",1,"color-highlight"],["matInput","","name","dataModel.createdYaer","type","number","id","dataModel.createdYaer",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.partition",1,"color-highlight"],["matInput","","name","dataModel.partition","type","number","id","dataModel.partition",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.area",1,"color-highlight"],["matInput","","name","dataModel.area","type","text","currencyMask","","id","dataModel.area",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],["type","text","name","dataModel.linkSiteId","minlength","3","maxlength","100","id","dataModel.linkSiteId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["data-trigger-switch","dataModel.viewContentHidden",1,"font-600","font-14"],["type","checkbox","id","dataModel.viewContentHidden","name","dataModel.viewContentHidden",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.viewContentHidden",1,"custom-control-label"],[1,"range-slider","bottom-15","range-slider-icons"],["for","dataModel.scoreEstateLocation",1,"color-highlight"],[1,"fa","fa-range-icon-1","fa-angle-down","color-theme"],[1,"fa","fa-range-icon-2","fa-angle-up","color-theme"],["type","range","min","0","max","10","id","dataModel.scoreEstateLocation","name","dataModel.scoreEstateLocation",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],["for","dataModel.scoreEstateBuild",1,"color-highlight"],["type","range","min","0","max","10","id","dataModel.scoreEstateBuild","name","dataModel.scoreEstateBuild",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],["for","dataModel.scoreEstatePrice",1,"color-highlight"],["type","range","min","0","max","10","id","dataModel.scoreEstatePrice","name","dataModel.scoreEstatePrice",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],[3,"optionChange","optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder"],["for","dataModel.aboutAgentMobile",1,"color-highlight"],["matInput","","type","text","name","dataModel.aboutAgentMobile","type","text","minlength","0","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.aboutAgentTel",1,"color-highlight"],["matInput","","type","text","name","dataModel.  aboutAgentTel","type","text","minlength","0","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.aboutCustomerMobile",1,"color-highlight"],["matInput","","type","text","name","dataModel.aboutCustomerMobile","type","text","minlength","0","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.aboutCustomerTel",1,"color-highlight"],["matInput","","type","text","name","dataModel. aboutCustomerTel","type","text","minlength","0","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["data-trigger-switch","dataModel.actionCreateNewCmsUser",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],["type","checkbox","id","dataModel.actionCreateNewCmsUser","name","dataModel.actionCreateNewCmsUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.actionCreateNewCmsUser",1,"custom-control-label"],["for","dataModel.actionCreateNewCmsUserFirstName",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserFirstName","type","text","minlength","3","maxlength","50","id","dataModel.actionCreateNewCmsUserFirstName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.actionCreateNewCmsUserLastName",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserLastName","type","text","minlength","3","maxlength","50","id","dataModel.actionCreateNewCmsUserLastName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.actionCreateNewCmsUserMobile",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserMobile","type","text","placeholder","0912","minlength","3","maxlength","20","id","dataModel.actionCreateNewCmsUserMobile",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","2000","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.addressHidden",1,"color-highlight"],["matInput","","name","dataModel.addressHidden","type","text","minlength","0","maxlength","2000","rows","5","id","dataModel.addressHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionSelectForce","optionPlaceholder"],[1,"example-headers-align"],[3,"expanded"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"opened","expanded"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],[1,"ntk-full-width"],["aria-hidden","true",3,"ngClass"],[3,"modelChange","model","optionForceUseDefaultValue","optionMultipleChoice","optionDefaultValue","optionRequired","optionLabel"],[3,"modelChange","model","optionRequired","optionLabel"],[3,"modelChange","model"],[3,"modelChange","model","optionRequired"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],["data-trigger-switch","dataModel.isSoldIt",1,"font-600","font-14"],["type","checkbox","id","dataModel.isSoldIt","name","dataModel.isSoldIt",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isSoldIt",1,"custom-control-label"],["for","dataModel.reviewDataAfterSoldIt",1,"color-highlight"],["matInput","","type","text","name","dataModel.reviewDataAfterSoldIt","type","text","id","dataModel.reviewDataAfterSoldIt",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[1,"row"],["for","contractDataModel.description",1,"color-highlight"],["matInput","","name","contractDataModel. description","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"col-6","input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","contractDataModel.salePrice",1,"color-highlight"],["matInput","","type","text","name","contractDataModel.salePrice","currencyMask","","type","text","placeholder","0","id","contractDataModel.salePrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],[1,"col-3"],["data-trigger-switch","contractDataModel.salePriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.salePriceAllowAgreement","name","contractDataModel.salePriceAllowAgreement",1,"ios-input",3,"ngModelChange","change","ngModel"],["for","contractDataModel.salePriceAllowAgreement",1,"custom-control-label"],["for","contractDataModel.depositPrice",1,"color-highlight"],["matInput","","type","text","name","contractDataModel.depositPrice","currencyMask","","type","text","placeholder","0","id","contractDataModel.depositPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.depositPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.depositPriceByAgreement","name","contractDataModel.depositPriceByAgreement",1,"ios-input",3,"ngModelChange","change","ngModel"],["for","contractDataModel.depositPriceByAgreement",1,"custom-control-label"],["for","contractDataModel.rentPrice",1,"color-highlight"],["matInput","","type","text","name","contractDataModel.rentPrice","currencyMask","","type","text","placeholder","0","id","contractDataModel.rentPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.rentPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.rentPriceByAgreement","name","contractDataModel.rentPriceByAgreement",1,"ios-input",3,"ngModelChange","change","ngModel"],["for","contractDataModel.rentPriceByAgreement",1,"custom-control-label"],["for","contractDataModel.periodPrice",1,"color-highlight"],["matInput","","type","text","name","contractDataModel.periodPrice","currencyMask","","type","text","placeholder","0","id","contractDataModel.periodPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.periodPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.periodPriceByAgreement","name","contractDataModel.periodPriceByAgreement",1,"ios-input",3,"ngModelChange","change","ngModel"],["for","contractDataModel.periodPriceByAgreement",1,"custom-control-label"],["multiTemplateDataRows","",3,"dataSource"],["matColumnDef","LinkEstateContractTypeId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","SalePrice"],["matColumnDef","DepositPrice"],["matColumnDef","RentPrice"],["matColumnDef","PeriodPrice"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","descriptionDetail"],["colspan","6",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even",4,"matRowDef","matRowDefColumns"],[1,"Action"],["type","button","mat-icon-button","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0",3,"click"],["matTooltipPosition","before","aria-hidden","false",2,"color","red",3,"matTooltip"],["colspan","6"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click","disabled"],[1,"ft-x"],[3,"optionLinkLocationWorkAreaId","optionloadComponent","optionloadByRoute"],[3,"optionLinkPropertyId","optionloadComponent","optionloadByRoute"],[3,"optionLinkPropertyIdHaveHistory","optionloadComponent","optionloadByRoute"]],template:function(i,t){if(i&1){let l=I();y(0,"app-cms-guide-notice",31),a(1,"div",32),y(2,"app-progress-spinner",33),a(3,"div",34)(4,"p",35),d(5),r(),a(6,"p"),d(7),_(8,"translate"),r(),a(9,"form",36,0),E("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(11,"mat-vertical-stepper",37,1),E("selectionChange",function(c){u(l);let L=A(12);return f(t.onStepClick(c,L))}),a(13,"mat-step",38),_(14,"translate"),a(15,"app-estate-property-type-usage-selector",39),_(16,"translate"),E("optionChange",function(c){return u(l),f(t.onActionSelectorSelectUsage(c))}),r(),y(17,"br"),S(18,cw,2,7,"app-estate-property-type-landuse-selector",40),y(19,"br"),S(20,pw,1,5,"app-cms-enum-record-status-selector",41),S(21,_w,10,10,"div",42),S(22,yw,10,10,"div",42),S(23,vw,8,9,"div",42),S(24,Iw,8,2,"div",43),S(25,bw,5,6,"div",42),S(26,Tw,5,6,"div",42),S(27,ww,5,6,"div",42),a(28,"app-cms-location-selector",44),_(29,"translate"),E("optionChange",function(c){return u(l),f(t.onActionSelectorLocation(c))}),r(),S(30,xw,8,6,"div",42),a(31,"div",42)(32,"label",45),d(33),_(34,"translate"),r(),a(35,"textarea",46,2),w("ngModelChange",function(c){return u(l),T(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),d(37,"                            "),r(),a(38,"em"),d(39),r(),S(40,Pw,1,0,"i",47),S(41,Aw,1,0,"i",48),S(42,Rw,5,3,"mat-error"),r(),S(43,Dw,10,11,"div",49),r(),S(44,Nw,7,9,"mat-step",38),a(45,"mat-step",38),_(46,"translate"),S(47,Gw,2,6,"app-estate-account-agency-selector",50),S(48,Ww,2,5,"app-estate-account-expert-selector",51),S(49,Hw,7,7,"div",42),S(50,jw,7,7,"div",42),S(51,Uw,7,7,"div",42),S(52,qw,7,7,"div",42),S(53,a3,14,8,"div",52),S(54,l3,5,4,"div",53),r(),S(55,p3,23,21,"mat-step",38),S(56,w3,13,10,"mat-step",54),a(57,"mat-step",54),_(58,"translate"),a(59,"p"),d(60),_(61,"translate"),r(),S(62,x3,8,2,"div",43),S(63,P3,8,4,"div",55),y(64,"hr"),a(65,"p"),d(66),_(67,"translate"),r(),a(68,"app-estate-contract-type-selector",56),_(69,"translate"),E("optionChange",function(c){return u(l),f(t.onActionSelectorContractType(c))}),r(),S(70,G3,9,7,"div",57),y(71,"hr"),a(72,"p"),d(73),_(74,"translate"),r(),S(75,ux,25,5,"div",58),y(76,"br"),S(77,_x,5,4,"div",53),r(),a(78,"mat-step",59),_(79,"translate"),a(80,"p"),d(81),_(82,"translate"),r(),a(83,"div",60)(84,"a",61),_(85,"cmsthumbnail"),S(86,gx,2,4,"img",62),r()(),a(87,"div",42)(88,"label",63),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),d(89),_(90,"translate"),r(),a(91,"input",64,3),_(93,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),r(),a(94,"cms-file-manager",65),E("itemSelected",function(c){return u(l),f(t.onActionFileSelectedLinkMainImageId(c))}),w("openFormChange",function(c){return u(l),T(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),f(c)}),r()(),y(95,"hr"),S(96,Cx,3,3,"p"),a(97,"app-cms-files-selector",66),w("dataFileModelChange",function(c){return u(l),T(t.dataFileModelImgaes,c)||(t.dataFileModelImgaes=c),f(c)}),r(),S(98,hx,5,5,"div"),y(99,"br")(100,"hr")(101,"br"),a(102,"h3"),d(103),_(104,"translate"),r(),a(105,"app-cms-360-image-list",67),w("dataModelChange",function(c){return u(l),T(t.dataModel.file360Views,c)||(t.dataModel.file360Views=c),f(c)}),r(),y(106,"br"),a(107,"h3"),d(108),_(109,"translate"),r(),a(110,"app-cms-360-tour-list",68),w("dataModelChange",function(c){return u(l),T(t.dataModel.file360Tour,c)||(t.dataModel.file360Tour=c),f(c)}),r(),S(111,yx,10,11,"div",49),r(),a(112,"mat-step",69),_(113,"translate"),a(114,"p"),d(115),_(116,"translate"),r(),a(117,"app-cms-map",70),E("map$",function(c){return u(l),f(t.receiveMap(c))})("zoom$",function(c){return u(l),f(t.receiveZoom(c))}),r(),a(118,"button",71),E("click",function(){return u(l),f(t.ActionCurrentPoint())}),d(119),_(120,"translate"),r(),S(121,Mx,11,11,"div",49),r(),R(122,Ex,2,0,"ng-template",72)(123,vx,2,0,"ng-template",73)(124,Ix,2,0,"ng-template",74)(125,bx,2,0,"ng-template",75),r()()(),a(126,"div",76),y(127,"app-cms-form-result-message",77),r(),a(128,"div",78)(129,"button",79),E("click",function(){return u(l),f(t.onActionBackToParent())}),d(130),_(131,"translate"),r(),S(132,Tx,4,3,"button",80),S(133,wx,4,3,"button",80),S(134,xx,4,3,"button",80),S(135,Px,4,3,"button",80),S(136,Ax,4,3,"button",80),S(137,Rx,4,3,"button",80),S(138,Dx,4,3,"button",80),r()(),a(139,"div",81),S(140,kx,3,3,"div",82),S(141,Lx,3,3,"div",82),S(142,Vx,3,3,"div",82),S(143,Fx,3,3,"div",82),S(144,Bx,3,3,"div",82),r()}if(i&2){let l=A(36);m("Key","estate.property.list.edit")("svg","assets/media/svg/icons/General/Notifications1.svg"),o(2),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",g(8,111,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),m("label",P(g(14,113,"TITLE.REQUIRED_INFORMATION"))),o(2),m("optionDisabled",!(t.fieldsInfo.linkPropertyTypeUsageId!=null&&t.fieldsInfo.linkPropertyTypeUsageId.accessEditField))("optionTypeView",2)("optionSelectForce",t.dataModel.linkPropertyTypeUsageId)("optionPlaceholder",g(16,115,"TITLE.Type_Usage")),o(3),M(t.dataModel.linkPropertyTypeUsageId&&t.dataModel.linkPropertyTypeUsageId.length>0?18:-1),o(2),M(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?20:-1),o(),M(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?21:-1),o(),M(t.fieldsInfo.caseCode!=null&&t.fieldsInfo.caseCode.accessWatchField?22:-1),o(),M(t.fieldsInfo.sharingKey!=null&&t.fieldsInfo.sharingKey.accessWatchField?23:-1),o(),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?24:-1),o(),M(t.dataModel.linkPropertyTypeLanduseId&&t.dataModel.linkPropertyTypeLanduseId&&(t.PropertyTypeSelected.titleCreatedYaer==null?null:t.PropertyTypeSelected.titleCreatedYaer.length)>1&&t.PropertyTypeSelected.titleCreatedYaer!=="---"?25:-1),o(),M(t.dataModel.linkPropertyTypeLanduseId&&t.dataModel.linkPropertyTypeLanduseId&&(t.PropertyTypeSelected.titlePartition==null?null:t.PropertyTypeSelected.titlePartition.length)>1&&t.PropertyTypeSelected.titlePartition!=="---"?26:-1),o(),M(t.dataModel.linkPropertyTypeLanduseId?27:-1),o(),m("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessEditField))("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",g(29,117,"TITLE.Region")),o(2),M(t.fieldsInfo.address!=null&&t.fieldsInfo.address.accessWatchField?30:-1),o(3),x(g(34,119,"TITLE.General_Description")),o(2),m("placeholder",P(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle))("disabled",P(!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessEditField))),b("ngModel",t.dataModel.description),o(4),h("",l.value.length," / 2000"),o(),M(l.value?-1:40),o(),M(l.value?41:-1),o(),M(l.errors!=null&&l.errors.required?42:-1),o(),M(t.formInfo.submitButtonEnabled?43:-1),o(),M(t.tokenHelper.isAdminSite?44:-1),o(),m("label",P(g(46,121,"TITLE.Personal_Information"))),o(2),M(t.tokenHelper.isAdminSite?47:-1),o(),M(t.tokenHelper.isAdminSite?48:-1),o(),M(t.fieldsInfo.aboutAgentMobile!=null&&t.fieldsInfo.aboutAgentMobile.accessWatchField?49:-1),o(),M(t.fieldsInfo.aboutAgentTel!=null&&t.fieldsInfo.aboutAgentTel.accessWatchField?50:-1),o(),M(t.fieldsInfo.aboutCustomerMobile!=null&&t.fieldsInfo.aboutCustomerMobile.accessWatchField?51:-1),o(),M(t.fieldsInfo.aboutCustomerTel!=null&&t.fieldsInfo.aboutCustomerTel.accessWatchField?52:-1),o(),M(t.fieldsInfo.actionCreateNewCmsUser!=null&&t.fieldsInfo.actionCreateNewCmsUser.accessWatchField?53:-1),o(),M(t.formInfo.submitButtonEnabled?54:-1),o(),M(t.fieldsInfo.descriptionHidden!=null&&t.fieldsInfo.descriptionHidden.accessWatchField&&(t.fieldsInfo.addressHidden!=null&&t.fieldsInfo.addressHidden.accessWatchField)?55:-1),o(),M(t.dataModel.propertyDetailGroups&&t.dataModel.propertyDetailGroups.length>0?56:-1),o(),m("label",P(g(58,123,"TITLE.Contract"))),o(3),h(" ",g(61,125,"TITLE.If_you_sell_your_property_activate_the_option_below")," "),o(2),M(t.fieldsInfo.isSoldIt!=null&&t.fieldsInfo.isSoldIt.accessWatchField?62:-1),o(),M(t.fieldsInfo.reviewDataAfterSoldIt!=null&&t.fieldsInfo.reviewDataAfterSoldIt.accessWatchField&&t.dataModel.isSoldIt?63:-1),o(3),h(" ",g(67,127,"TITLE.Specify_the_type_of_transaction_for_this_property")," "),o(2),m("optionDisabled",!1)("optionTypeView",2)("optionPlaceholder",g(69,129,"TITLE.Type_Of_Transaction"))("optionSelectForce",t.contractDataModel.linkEstateContractTypeId),o(2),M(t.contractTypeSelected&&t.contractTypeSelected.id.length>0?70:-1),o(3),h(" ",g(74,131,"TITLE.List_Of_Transaction_Details_Of_This_Property")," "),o(2),M(t.publicHelper.processService.process.inRunAll?-1:75),o(2),M(t.formInfo.submitButtonEnabled?77:-1),o(),m("label",P(g(79,133,"TITLE.ATTACH_FILES"))),o(3),x(g(82,135,"TITLE.CONTENT_ATTACH_FILES")),o(3),m("href",P(g(85,137,t.dataModel.linkMainImageIdSrc)),H),o(2),M((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?86:-1),o(3),x(g(90,139,"TITLE.Original_Photo")),o(2),m("placeholder",P(g(93,141,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),m("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),m("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(2),M(t.dataFileModelImgaes&&t.dataFileModelImgaes.size>0?96:-1),o(),b("dataFileModel",t.dataFileModelImgaes),m("openDirectUploadView",!0)("optionFileType",t.selectFileTypeMainImage),o(),M(t.hidden?-1:98),o(5),x(g(104,143,"TITLE.image_360")),o(2),b("dataModel",t.dataModel.file360Views),o(3),x(g(109,145,"TITLE.virtual_tour")),o(2),b("dataModel",t.dataModel.file360Tour),m("dataImageModel",t.dataModel.file360Views),o(),M(t.formInfo.submitButtonEnabled?111:-1),o(),m("label",P(g(113,147,"TITLE.Location"))),o(3),h(" ",g(116,149,"TITLE.Click_on_the_map_to_specify_the_location")," "),o(2),m("optonCenter",t.mapOptonCenter),o(2),h(" ",g(120,151,"ACTION.MY_LOCATION")," "),o(2),M(t.formInfo.submitButtonEnabled?121:-1),o(6),m("formInfo",t.formInfo),o(3),h(" ",g(131,153,"ACTION.BACK_TO_PROPERTY_LIST")," "),o(2),M((t.dataModel==null||t.dataModel.id==null?null:t.dataModel.id.length)>0&&(t.dataModel!=null&&t.dataModel.linkLocationId)&&(t.dataModel==null?null:t.dataModel.linkLocationId)>0?132:-1),o(),M((t.dataModel==null||t.dataModel.id==null?null:t.dataModel.id.length)>0?133:-1),o(),M((t.dataModel==null||t.dataModel.id==null?null:t.dataModel.id.length)>0?134:-1),o(),M((t.dataModel==null||t.dataModel.id==null?null:t.dataModel.id.length)>0&&(t.dataModel!=null&&t.dataModel.linkLocationId)&&(t.dataModel==null?null:t.dataModel.linkLocationId)>0?135:-1),o(),M((t.dataModel==null||t.dataModel.id==null?null:t.dataModel.id.length)>0&&(t.dataModel!=null&&t.dataModel.linkLocationId)&&(t.dataModel==null?null:t.dataModel.linkLocationId)>0?136:-1),o(),M((t.dataModel==null||t.dataModel.id==null?null:t.dataModel.id.length)>0&&t.tokenHelper.isAdminSite?137:-1),o(),M((t.dataModel==null||t.dataModel.id==null?null:t.dataModel.id.length)>0?138:-1),o(2),M(t.loadResult==="estateAccountAgencyList"?140:-1),o(),M(t.loadResult==="estateAccountExpertList"?141:-1),o(),M(t.loadResult==="estateCustomerOrderList"?142:-1),o(),M(t.loadResult==="estateCustomerOrderHaveHistoryList"?143:-1),o(),M(t.loadResult==="estateHistoryList"?144:-1)}},dependencies:[re,Re,X,Ft,Oo,Jt,$,Te,le,Ee,ge,_e,Ae,Ue,wn,xn,dn,zo,Ho,jo,Uo,Qo,qo,De,Ze,we,ee,ui,fi,_i,gi,mi,$e,tt,at,it,et,rt,nt,ot,lt,st,Go,kn,hi,Ei,Si,no,vi,Ii,zt,U,Pn,se,Mi,la,sa,da,ca,pa,ma,yi,Bt,un,wo,aa,oa,fa,Zi,_a,il,Gl,Rn,Dn,ea,qe,ko,W,An,he],encapsulation:2});var Kr=zr;var Rs=Bn(Kn());var Ox=["vform"],Nx=()=>["descriptionDetail"];function Gx(n,s){if(n&1){let e=I();a(0,"div",69)(1,"button",70),E("click",function(){let t=u(e).$implicit,l=p(2);return f(l.onActionSelectorSelectLanduse(t))}),d(2),r()()}if(n&2){let e=s.$implicit,i=p(2);o(),m("ngClass",e.id===i.dataModel.linkPropertyTypeLanduseId?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),li("disabled",i.fieldsInfo.linkPropertyTypeLanduseId!=null&&i.fieldsInfo.linkPropertyTypeLanduseId.accessAddField?null:!0),o(),h(" ",e.titleML," ")}}function Wx(n,s){if(n&1&&(a(0,"div",67),R(1,Gx,3,3,"div",68),r()),n&2){let e=p();o(),m("ngForOf",e.listTypeLanduse)}}function Hx(n,s){if(n&1){let e=I();a(0,"app-estate-property-type-landuse-selector",71),_(1,"translate"),E("optionChange",function(t){u(e);let l=p();return f(l.onActionSelectorSelectLanduse(t))}),r()}if(n&2){let e=p();m("optionDisabled",!(e.fieldsInfo.linkPropertyTypeLanduseId!=null&&e.fieldsInfo.linkPropertyTypeLanduseId.accessAddField))("optionTypeView",2)("optionSelectForce",e.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",g(1,5,"TITLE.Property_Type"))("optionTypeUsageId",e.dataModel.linkPropertyTypeUsageId)}}function jx(n,s){if(n&1){let e=I();a(0,"app-cms-enum-record-status-selector",85),w("modelChange",function(t){u(e);let l=p(2);return T(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),f(t)}),r()}if(n&2){let e=p(2);b("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ux(n,s){n&1&&y(0,"i",90)}function qx(n,s){n&1&&y(0,"i",91)}function Qx(n,s){n&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function zx(n,s){if(n&1){let e=I();a(0,"div",52)(1,"label",86),d(2),r(),a(3,"input",87,4),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.title,t)||(l.dataModel.title=t),f(t)}),r(),R(5,Ux,1,0,"i",88)(6,qx,1,0,"i",89),a(7,"em"),d(8),r(),R(9,Qx,5,3,"mat-error",36),r()}if(n&2){let e=A(4),i=p(2);o(2),x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),b("ngModel",i.dataModel.title),m("disabled",!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessAddField)),o(2),m("ngIf",!e.value),o(),m("ngIf",e.value),o(2),h("",e.value.length," / 100"),o(),m("ngIf",e.errors==null?null:e.errors.required)}}function Kx(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2){let e=p(3);o(),h(" ",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle," "),o(2),x(g(4,2,"MESSAGE.required"))}}function Zx(n,s){if(n&1){let e=I();a(0,"div",52)(1,"label",92),d(2),r(),a(3,"input",93,5),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.caseCode,t)||(l.dataModel.caseCode=t),f(t)}),r(),a(5,"em"),d(6),r(),R(7,Kx,5,4,"mat-error",36),r()}if(n&2){let e=A(4),i=p(2);o(2),h(" ",i.fieldsInfo.caseCode==null?null:i.fieldsInfo.caseCode.fieldTitle),o(),m("disabled",P(!(i.fieldsInfo.caseCode!=null&&i.fieldsInfo.caseCode.accessAddField)))("placeholder",P(i.fieldsInfo.caseCode==null?null:i.fieldsInfo.caseCode.fieldTitle)),b("ngModel",i.dataModel.caseCode),o(3),h("",e.value.length," / 100"),o(),m("ngIf",e.errors==null?null:e.errors.required)}}function Yx(n,s){if(n&1){let e=I();a(0,"div",72)(1,"div",73)(2,"h5",94),d(3),r()(),a(4,"div",75)(5,"div",76)(6,"input",95),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.viewConfigHiddenInList,t)||(l.dataModel.viewConfigHiddenInList=t),f(t)}),r(),y(7,"label",96),r()()()}if(n&2){let e=p(2);o(3),h(" ",e.fieldsInfo.viewConfigHiddenInList==null?null:e.fieldsInfo.viewConfigHiddenInList.fieldTitle," "),o(3),b("ngModel",e.dataModel.viewConfigHiddenInList),m("disabled",!(e.fieldsInfo.viewConfigHiddenInList!=null&&e.fieldsInfo.viewConfigHiddenInList.accessAddField))}}function Jx(n,s){if(n&1){let e=I();a(0,"div",52)(1,"label",97),d(2),r(),a(3,"input",98,6),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.createdYaer,t)||(l.dataModel.createdYaer=t),f(t)}),r()()}if(n&2){let e=p(2);o(2),x(e.PropertyTypeSelected.titleCreatedYaer),o(),m("placeholder",P(e.fieldsInfo.createdYaer==null?null:e.fieldsInfo.createdYaer.fieldTitle)),b("ngModel",e.dataModel.createdYaer)}}function Xx(n,s){if(n&1){let e=I();a(0,"div",52)(1,"label",99),d(2),r(),a(3,"input",100,7),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.partition,t)||(l.dataModel.partition=t),f(t)}),r()()}if(n&2){let e=p(2);o(2),x(e.PropertyTypeSelected.titlePartition),o(),m("placeholder",P(e.PropertyTypeSelected.titlePartition)),b("ngModel",e.dataModel.partition)}}function $x(n,s){if(n&1){let e=I();a(0,"div",52)(1,"label",101),d(2),r(),a(3,"input",102,8),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.area,t)||(l.dataModel.area=t),f(t)}),r()()}if(n&2){let e=p(2);o(2),x(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle),o(),m("disabled",P(!(e.fieldsInfo.area!=null&&e.fieldsInfo.area.accessAddField)))("placeholder",P(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle)),b("ngModel",e.dataModel.area)}}function eP(n,s){if(n&1){let e=I();a(0,"div",52)(1,"label",103),d(2),r(),a(3,"textarea",104,9),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.address,t)||(l.dataModel.address=t),f(t)}),r(),a(5,"em"),d(6),r()()}if(n&2){let e=A(4),i=p(2);o(2),x(i.fieldsInfo.address==null?null:i.fieldsInfo.address.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.address==null?null:i.fieldsInfo.address.fieldTitle)),b("ngModel",i.dataModel.address),m("disabled",!(i.fieldsInfo.address!=null&&i.fieldsInfo.address.accessAddField)),o(3),h("",e.value.length," / 500")}}function tP(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2){let e=p(2);o(),h(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," "),o(2),x(g(4,2,"MESSAGE.required"))}}function iP(n,s){if(n&1&&(a(0,"button",108),d(1),_(2,"translate"),r()),n&2){p(3);let e=A(11);m("disabled",!e.form.valid),o(),h(" ",g(2,2,"ACTION.NEXT")," ")}}function nP(n,s){if(n&1){let e=I();a(0,"div",105)(1,"button",106),E("click",function(){u(e);let t=p(2);return f(t.onActionBackToParent())}),d(2),_(3,"translate"),r(),R(4,iP,3,4,"button",107),r()}if(n&2){let e=p(2);o(2),h(" ",g(3,2,"ACTION.CANCEL")," "),o(2),m("ngIf",e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0)}}function oP(n,s){if(n&1){let e=I();a(0,"div")(1,"div",72)(2,"div",73)(3,"h5",74),d(4,' "TITLE.Would_you_like_to_complete_your_information" | translate '),r()(),a(5,"div",75)(6,"div",76)(7,"input",77),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataProfessional,t)||(l.dataProfessional=t),f(t)}),r(),y(8,"label",78),r()()(),y(9,"br"),R(10,jx,1,5,"app-cms-enum-record-status-selector",79)(11,zx,10,9,"div",40)(12,Zx,8,8,"div",40)(13,Yx,8,3,"div",80)(14,Jx,5,4,"div",40)(15,Xx,5,4,"div",40)(16,$x,5,6,"div",40),a(17,"app-cms-location-selector",81),_(18,"translate"),E("optionChange",function(t){u(e);let l=p();return f(l.onActionSelectorLocation(t))}),r(),R(19,eP,7,6,"div",40),a(20,"div",52)(21,"label",82),d(22),_(23,"translate"),r(),a(24,"textarea",83,3),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.description,t)||(l.dataModel.description=t),f(t)}),r(),a(26,"em"),d(27),r(),R(28,tP,5,4,"mat-error",36),r(),R(29,nP,5,4,"div",84),r()}if(n&2){let e=A(25),i=p();o(7),b("ngModel",i.dataProfessional),o(3),m("ngIf",i.dataProfessional&&(i.fieldsInfo.recordStatus==null?null:i.fieldsInfo.recordStatus.accessWatchField)),o(),m("ngIf",i.fieldsInfo.title==null?null:i.fieldsInfo.title.accessWatchField),o(),m("ngIf",i.fieldsInfo.caseCode==null?null:i.fieldsInfo.caseCode.accessWatchField),o(),m("ngIf",i.fieldsInfo.viewConfigHiddenInList==null?null:i.fieldsInfo.viewConfigHiddenInList.accessWatchField),o(),m("ngIf",i.dataModel.linkPropertyTypeLanduseId&&i.PropertyTypeSelected.titleCreatedYaer.length>1&&i.PropertyTypeSelected.titleCreatedYaer!=="---"),o(),m("ngIf",i.dataModel.linkPropertyTypeLanduseId&&i.PropertyTypeSelected.titlePartition.length>1&&i.PropertyTypeSelected.titlePartition!=="---"),o(),m("ngIf",i.fieldsInfo.area==null?null:i.fieldsInfo.area.accessWatchField),o(),m("optionDisabled",!(i.fieldsInfo.linkLocationId!=null&&i.fieldsInfo.linkLocationId.accessAddField))("optionSelectForce",i.dataModel.linkLocationId)("optionPlaceholder",g(18,21,"TITLE.Region")),o(2),m("ngIf",i.fieldsInfo.address==null?null:i.fieldsInfo.address.accessWatchField),o(3),x(g(23,23,"TITLE.General_Description")),o(2),m("disabled",P(!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessAddField)))("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),b("ngModel",i.dataModel.description),o(3),h("",e.value.length," / 2000"),o(),m("ngIf",e.errors==null?null:e.errors.required),o(),m("ngIf",i.formInfo.submitButtonEnabled)}}function aP(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2){let e=p(3);o(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," "),o(2),x(g(4,2,"MESSAGE.required"))}}function rP(n,s){if(n&1){let e=I();a(0,"div",52)(1,"label",111),d(2),r(),a(3,"input",112,10),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.linkSiteId,t)||(l.dataModel.linkSiteId=t),f(t)}),r(),a(5,"em"),d(6),r(),R(7,aP,5,4,"mat-error",36),r()}if(n&2){let e=A(4),i=p(2);o(2),x(i.fieldsInfo.linkSiteId==null?null:i.fieldsInfo.linkSiteId.fieldTitle),o(),m("disabled",P(!(i.fieldsInfo.linkSiteId!=null&&i.fieldsInfo.linkSiteId.accessAddField)))("placeholder",P(i.fieldsInfo.linkSiteId==null?null:i.fieldsInfo.linkSiteId.fieldTitle)),b("ngModel",i.dataModel.linkSiteId),o(3),h("",e.value.length," / 100"),o(),m("ngIf",e.errors==null?null:e.errors.required)}}function lP(n,s){if(n&1){let e=I();a(0,"div",72)(1,"div",73)(2,"h5",113),d(3),r()(),a(4,"div",75)(5,"div",76)(6,"input",114),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.viewContentHidden,t)||(l.dataModel.viewContentHidden=t),f(t)}),r(),y(7,"label",115),r()()()}if(n&2){let e=p(2);o(3),h(" ",e.fieldsInfo.viewContentHidden==null?null:e.fieldsInfo.viewContentHidden.fieldTitle," "),o(3),b("ngModel",e.dataModel.viewContentHidden)}}function sP(n,s){if(n&1){let e=I();a(0,"div",72)(1,"div",73)(2,"h5",116),d(3),r()(),a(4,"div",75)(5,"div",76)(6,"input",117),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.siteAdminViewContentHidden,t)||(l.dataModel.siteAdminViewContentHidden=t),f(t)}),r(),y(7,"label",118),r()()()}if(n&2){let e=p(2);o(3),h(" ",e.fieldsInfo.siteAdminViewContentHidden==null?null:e.fieldsInfo.siteAdminViewContentHidden.fieldTitle," "),o(3),b("ngModel",e.dataModel.siteAdminViewContentHidden)}}function dP(n,s){if(n&1){let e=I();a(0,"app-cms-enum-record-admin-status-selector",119),w("modelChange",function(t){u(e);let l=p(2);return T(l.dataModel.mainAdminRecordStatus,t)||(l.dataModel.mainAdminRecordStatus=t),f(t)}),r()}if(n&2){let e=p(2);b("model",e.dataModel.mainAdminRecordStatus),m("optionDisabled",!1)("optionRequired",!0)("optionSelectFirstItem",!0)}}function cP(n,s){if(n&1){let e=I();a(0,"div",120)(1,"div",121)(2,"div",122)(3,"div",123)(4,"label",124),d(5),r(),y(6,"i",125)(7,"i",126),a(8,"input",127,11),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.scoreEstateLocation,t)||(l.dataModel.scoreEstateLocation=t),f(t)}),r()()(),a(10,"div",122)(11,"div",123)(12,"label",128),d(13),r(),y(14,"i",125)(15,"i",126),a(16,"input",129,12),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.scoreEstateBuild,t)||(l.dataModel.scoreEstateBuild=t),f(t)}),r()()(),a(18,"div",122)(19,"div",123)(20,"label",130),d(21),r(),y(22,"i",125)(23,"i",126),a(24,"input",131,13),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.scoreEstatePrice,t)||(l.dataModel.scoreEstatePrice=t),f(t)}),r()()()()()}if(n&2){let e=p(2);o(5),x(e.fieldsInfo.scoreEstateLocation==null?null:e.fieldsInfo.scoreEstateLocation.fieldTitle),o(3),m("ngClass",Pe("cms-range-score-",e.dataModel.scoreEstateLocation)),b("ngModel",e.dataModel.scoreEstateLocation),m("disabled",!(e.fieldsInfo.scoreEstateLocation!=null&&e.fieldsInfo.scoreEstateLocation.accessEditField)),o(5),x(e.fieldsInfo.scoreEstateBuild==null?null:e.fieldsInfo.scoreEstateBuild.fieldTitle),o(3),m("ngClass",Pe("cms-range-score-",e.dataModel.scoreEstateBuild)),b("ngModel",e.dataModel.scoreEstateBuild),m("disabled",!(e.fieldsInfo.scoreEstateBuild!=null&&e.fieldsInfo.scoreEstateBuild.accessEditField)),o(5),x(e.fieldsInfo.scoreEstatePrice==null?null:e.fieldsInfo.scoreEstatePrice.fieldTitle),o(3),m("ngClass",Pe("cms-range-score-",e.dataModel.scoreEstatePrice)),b("ngModel",e.dataModel.scoreEstatePrice),m("disabled",!(e.fieldsInfo.scoreEstatePrice!=null&&e.fieldsInfo.scoreEstatePrice.accessEditField))}}function pP(n,s){if(n&1&&(a(0,"button",108),d(1),_(2,"translate"),r()),n&2){p(3);let e=A(11);m("disabled",!e.form.valid),o(),h(" ",g(2,2,"ACTION.NEXT")," ")}}function mP(n,s){if(n&1&&(a(0,"div",132)(1,"button",133),d(2),_(3,"translate"),r(),R(4,pP,3,4,"button",107),r()),n&2){let e=p(2);o(2),h(" ",g(3,2,"ACTION.BEFOR")," "),o(2),m("ngIf",e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0)}}function uP(n,s){if(n&1&&(a(0,"mat-step",32),_(1,"translate"),R(2,rP,8,8,"div",40)(3,lP,8,2,"div",80)(4,sP,8,2,"div",80)(5,dP,1,4,"app-cms-enum-record-admin-status-selector",109)(6,cP,26,15,"div",110)(7,mP,5,4,"div",42),r()),n&2){let e=p();m("label",P(g(1,8,"TITLE.Admin_Config"))),o(2),m("ngIf",(e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.accessWatchField)&&e.tokenHelper.isAdminSite),o(),m("ngIf",e.fieldsInfo.viewContentHidden==null?null:e.fieldsInfo.viewContentHidden.accessWatchField),o(),m("ngIf",e.fieldsInfo.siteAdminViewContentHidden==null?null:e.fieldsInfo.siteAdminViewContentHidden.accessWatchField),o(),m("ngIf",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.accessWatchField),o(),m("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),o(),m("ngIf",e.formInfo.submitButtonEnabled)}}function fP(n,s){if(n&1){let e=I();a(0,"app-estate-account-agency-selector",134),_(1,"translate"),E("optionChange",function(t){u(e);let l=p();return f(l.onActionSelectorEstateAgency(t))}),r()}if(n&2){let e=p();m("optionDisabled",!(e.fieldsInfo.linkEstateAgencyId!=null&&e.fieldsInfo.linkEstateAgencyId.accessAddField))("optionSelectForce",e.dataModel.linkEstateAgencyId)("optionSelectUserId",e.tokenInfo.access.userId)("optionPlaceholder",g(1,4,"TITLE.Property_agency"))}}function _P(n,s){if(n&1){let e=I();a(0,"app-estate-account-expert-selector",81),_(1,"translate"),E("optionChange",function(t){u(e);let l=p();return f(l.onActionSelectorEstateUser(t))}),r()}if(n&2){let e=p();m("optionDisabled",!(e.fieldsInfo.linkEstateExpertId!=null&&e.fieldsInfo.linkEstateExpertId.accessAddField))("optionSelectForce",e.dataModel.linkEstateExpertId)("optionPlaceholder",g(1,3,"TITLE.Property_personnel"))}}function gP(n,s){if(n&1){let e=I();a(0,"div",52)(1,"label",135),d(2),r(),a(3,"input",136,14),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.aboutAgentMobile,t)||(l.dataModel.aboutAgentMobile=t),f(t)}),r(),a(5,"em"),d(6),r()()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.aboutAgentMobile==null?null:i.fieldsInfo.aboutAgentMobile.fieldTitle),o(),m("disabled",P(!(i.fieldsInfo.aboutAgentMobile!=null&&i.fieldsInfo.aboutAgentMobile.accessAddField)))("placeholder",P(i.fieldsInfo.aboutAgentMobile==null?null:i.fieldsInfo.aboutAgentMobile.fieldTitle)),b("ngModel",i.dataModel.aboutAgentMobile),o(3),h("",e.value.length," / 100")}}function CP(n,s){if(n&1){let e=I();a(0,"div",52)(1,"label",137),d(2),r(),a(3,"input",138,15),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.aboutAgentTel,t)||(l.dataModel.aboutAgentTel=t),f(t)}),r(),a(5,"em"),d(6),r()()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.aboutAgentTel==null?null:i.fieldsInfo.aboutAgentTel.fieldTitle),o(),m("disabled",P(!(i.fieldsInfo.aboutAgentTel!=null&&i.fieldsInfo.aboutAgentTel.accessAddField)))("placeholder",P(i.fieldsInfo.aboutAgentTel==null?null:i.fieldsInfo.aboutAgentTel.fieldTitle)),b("ngModel",i.dataModel.aboutAgentTel),o(3),h("",e.value.length," / 100")}}function hP(n,s){if(n&1){let e=I();a(0,"div",52)(1,"label",139),d(2),r(),a(3,"input",140,16),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.aboutCustomerMobile,t)||(l.dataModel.aboutCustomerMobile=t),f(t)}),r(),a(5,"em"),d(6),r()()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.aboutCustomerMobile==null?null:i.fieldsInfo.aboutCustomerMobile.fieldTitle),o(),m("disabled",P(!(i.fieldsInfo.aboutCustomerMobile!=null&&i.fieldsInfo.aboutCustomerMobile.accessAddField)))("placeholder",P(i.fieldsInfo.aboutCustomerMobile==null?null:i.fieldsInfo.aboutCustomerMobile.fieldTitle)),b("ngModel",i.dataModel.aboutCustomerMobile),o(3),h("",e.value.length," / 100")}}function yP(n,s){if(n&1){let e=I();a(0,"div",52)(1,"label",141),d(2),r(),a(3,"input",142,17),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.aboutCustomerTel,t)||(l.dataModel.aboutCustomerTel=t),f(t)}),r(),a(5,"em"),d(6),r()()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.aboutCustomerTel==null?null:i.fieldsInfo.aboutCustomerTel.fieldTitle),o(),m("disabled",P(!(i.fieldsInfo.aboutCustomerTel!=null&&i.fieldsInfo.aboutCustomerTel.accessAddField)))("placeholder",P(i.fieldsInfo.aboutCustomerTel==null?null:i.fieldsInfo.aboutCustomerTel.fieldTitle)),b("ngModel",i.dataModel.aboutCustomerTel),o(3),h("",e.value.length," / 100")}}function SP(n,s){if(n&1){let e=I();a(0,"app-cms-user-selector",81),_(1,"translate"),E("optionChange",function(t){u(e);let l=p(2);return f(l.onActionSelectorCmsUser(t))}),r()}if(n&2){let e=p(2);m("optionDisabled",!(e.fieldsInfo.linkCmsUserId!=null&&e.fieldsInfo.linkCmsUserId.accessAddField))("optionSelectForce",e.dataModel.linkCmsUserId)("optionPlaceholder",g(1,3,"TITLE.user"))}}function MP(n,s){n&1&&y(0,"i",90)}function EP(n,s){n&1&&y(0,"i",91)}function vP(n,s){n&1&&(a(0,"mat-error")(1,"strong"),d(2),_(3,"translate"),r()()),n&2&&(o(2),x(g(3,1,"MESSAGE.required")))}function IP(n,s){if(n&1){let e=I();a(0,"div",52)(1,"label",147),d(2),_(3,"translate"),r(),a(4,"input",148,18),_(6,"translate"),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.actionCreateNewCmsUserFirstName,t)||(l.dataModel.actionCreateNewCmsUserFirstName=t),f(t)}),r(),R(7,MP,1,0,"i",88)(8,EP,1,0,"i",89),a(9,"em"),d(10),r(),R(11,vP,4,3,"mat-error",36),r()}if(n&2){let e=A(5),i=p(2);o(2),x(g(3,8,"TITLE.FIRST_NAME")),o(2),m("placeholder",P(g(6,10,"TITLE.FIRST_NAME"))),b("ngModel",i.dataModel.actionCreateNewCmsUserFirstName),o(3),m("ngIf",!e.value),o(),m("ngIf",e.value),o(2),h("",e.value.length," / 50"),o(),m("ngIf",e.errors==null?null:e.errors.required)}}function bP(n,s){n&1&&y(0,"i",90)}function TP(n,s){n&1&&y(0,"i",91)}function wP(n,s){n&1&&(a(0,"mat-error")(1,"strong"),d(2),_(3,"translate"),r()()),n&2&&(o(2),x(g(3,1,"MESSAGE.required")))}function xP(n,s){if(n&1){let e=I();a(0,"div",52)(1,"label",149),d(2),_(3,"translate"),r(),a(4,"input",150,19),_(6,"translate"),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.actionCreateNewCmsUserLastName,t)||(l.dataModel.actionCreateNewCmsUserLastName=t),f(t)}),r(),R(7,bP,1,0,"i",88)(8,TP,1,0,"i",89),a(9,"em"),d(10),r(),R(11,wP,4,3,"mat-error",36),r()}if(n&2){let e=A(5),i=p(2);o(2),x(g(3,8,"TITLE.LAST_NAME")),o(2),m("placeholder",P(g(6,10,"TITLE.LAST_NAME"))),b("ngModel",i.dataModel.actionCreateNewCmsUserLastName),o(3),m("ngIf",!e.value),o(),m("ngIf",e.value),o(2),h("",e.value.length," / 50"),o(),m("ngIf",e.errors==null?null:e.errors.required)}}function PP(n,s){n&1&&y(0,"i",90)}function AP(n,s){n&1&&y(0,"i",91)}function RP(n,s){n&1&&(a(0,"mat-error")(1,"strong"),d(2),_(3,"translate"),r()()),n&2&&(o(2),x(g(3,1,"MESSAGE.required")))}function DP(n,s){if(n&1){let e=I();a(0,"div",52)(1,"label",151),d(2),_(3,"translate"),r(),a(4,"input",152,20),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.actionCreateNewCmsUserMobile,t)||(l.dataModel.actionCreateNewCmsUserMobile=t),f(t)}),r(),R(6,PP,1,0,"i",88)(7,AP,1,0,"i",89),a(8,"em"),d(9),r(),R(10,RP,4,3,"mat-error",36),r()}if(n&2){let e=A(5),i=p(2);o(2),x(g(3,6,"TITLE.MOBILE_NUMBER")),o(2),b("ngModel",i.dataModel.actionCreateNewCmsUserMobile),o(2),m("ngIf",!e.value),o(),m("ngIf",e.value),o(2),h("",e.value.length," / 20"),o(),m("ngIf",e.errors==null?null:e.errors.required)}}function kP(n,s){if(n&1){let e=I();a(0,"div",143)(1,"div",72)(2,"div",73)(3,"h5",144),d(4),_(5,"translate"),r()(),a(6,"div",75)(7,"div",76)(8,"input",145),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.actionCreateNewCmsUser,t)||(l.dataModel.actionCreateNewCmsUser=t),f(t)}),r(),y(9,"label",146),r()()(),R(10,SP,2,5,"app-cms-user-selector",39)(11,IP,12,12,"div",40)(12,xP,12,12,"div",40)(13,DP,11,8,"div",40),r()}if(n&2){let e=p();o(4),h(" ",g(5,6,"TITLE.CREATE_NEW_USER")," "),o(4),b("ngModel",e.dataModel.actionCreateNewCmsUser),o(2),m("ngIf",!e.dataModel.actionCreateNewCmsUser),o(),m("ngIf",e.dataModel.actionCreateNewCmsUser),o(),m("ngIf",e.dataModel.actionCreateNewCmsUser),o(),m("ngIf",e.dataModel.actionCreateNewCmsUser)}}function LP(n,s){if(n&1&&(a(0,"button",108),d(1),_(2,"translate"),r()),n&2){p(2);let e=A(11);m("disabled",!e.form.valid),o(),h(" ",g(2,2,"ACTION.NEXT")," ")}}function VP(n,s){if(n&1&&(a(0,"div",132)(1,"button",133),d(2),_(3,"translate"),r(),R(4,LP,3,4,"button",107),r()),n&2){let e=p();o(2),h(" ",g(3,2,"ACTION.BEFOR")," "),o(2),m("ngIf",e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0)}}function FP(n,s){if(n&1){let e=I();a(0,"app-estate-property-company-selector",157),_(1,"translate"),E("optionChange",function(t){u(e);let l=p(2);return f(l.onActionSelectorCompany(t))}),r()}if(n&2){let e=p(2);m("optionSelectForce",e.dataModel.linkPropertyCompanyId)("optionPlaceholder",g(1,2,"TITLE.Company"))}}function BP(n,s){if(n&1){let e=I();a(0,"app-estate-property-project-selector",157),_(1,"translate"),E("optionChange",function(t){u(e);let l=p(2);return f(l.onActionSelectorProject(t))}),r()}if(n&2){let e=p(2);m("optionSelectForce",e.dataModel.linkPropertyProjectId)("optionPlaceholder",g(1,2,"TITLE.Project"))}}function OP(n,s){if(n&1){let e=I();a(0,"div",52),y(1,"i",164),d(2,"\xA0\xA0 "),a(3,"app-input-string",165),w("modelChange",function(t){u(e);let l=p().$implicit,C=p(3);return T(C.propertyDetails[l.id],t)||(C.propertyDetails[l.id]=t),f(t)}),r()()}if(n&2){let e=p().$implicit,i=p(3);o(),ae("color",e.iconColor),m("ngClass",e.iconFont),o(2),ni(Pe("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),m("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionLabel",e.title)}}function NP(n,s){if(n&1){let e=I();a(0,"div",52),y(1,"i",164),d(2,"\xA0\xA0 "),a(3,"app-input-int",166),w("modelChange",function(t){u(e);let l=p().$implicit,C=p(3);return T(C.propertyDetails[l.id],t)||(C.propertyDetails[l.id]=t),f(t)}),r()()}if(n&2){let e=p().$implicit,i=p(3);o(),ae("color",e.iconColor),m("ngClass",e.iconFont),o(2),ni(Pe("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),m("optionLabel",e.title)}}function GP(n,s){if(n&1){let e=I();a(0,"div",52),y(1,"i",164),d(2,"\xA0\xA0 "),a(3,"app-input-boolean",167),w("modelChange",function(t){u(e);let l=p().$implicit,C=p(3);return T(C.propertyDetails[l.id],t)||(C.propertyDetails[l.id]=t),f(t)}),d(4),r()()}if(n&2){let e=p().$implicit,i=p(3);o(),ae("color",e.iconColor),m("ngClass",e.iconFont),o(2),b("model",i.propertyDetails[e.id]),o(),h("",e.title," ")}}function WP(n,s){if(n&1){let e=I();a(0,"div",52),y(1,"i",164),d(2,"\xA0\xA0 "),a(3,"app-input-float",166),w("modelChange",function(t){u(e);let l=p().$implicit,C=p(3);return T(C.propertyDetails[l.id],t)||(C.propertyDetails[l.id]=t),f(t)}),r()()}if(n&2){let e=p().$implicit,i=p(3);o(),ae("color",e.iconColor),m("ngClass",e.iconFont),o(2),ni(Pe("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),m("optionLabel",e.title)}}function HP(n,s){if(n&1){let e=I();a(0,"div",52),y(1,"i",164),d(2,"\xA0\xA0 "),a(3,"label"),d(4),r(),a(5,"app-input-date",167),w("modelChange",function(t){u(e);let l=p().$implicit,C=p(3);return T(C.propertyDetails[l.id],t)||(C.propertyDetails[l.id]=t),f(t)}),r()()}if(n&2){let e=p().$implicit,i=p(3);o(),ae("color",e.iconColor),m("ngClass",e.iconFont),o(2),ni(Pe("color:'",e.iconColor,"';")),o(),x(e.title),o(),b("model",i.propertyDetails[e.id])}}function jP(n,s){if(n&1){let e=I();a(0,"div",52),y(1,"i",164),d(2,"\xA0\xA0 "),a(3,"app-input-textarea",166),w("modelChange",function(t){u(e);let l=p().$implicit,C=p(3);return T(C.propertyDetails[l.id],t)||(C.propertyDetails[l.id]=t),f(t)}),r()()}if(n&2){let e=p().$implicit,i=p(3);o(),ae("color",e.iconColor),m("ngClass",e.iconFont),o(2),ni(Pe("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),m("optionLabel",e.title)}}function UP(n,s){if(n&1){let e=I();a(0,"div"),y(1,"i",164),d(2,"\xA0\xA0 "),a(3,"app-input-string",166),w("modelChange",function(t){u(e);let l=p().$implicit,C=p(3);return T(C.propertyDetails[l.id],t)||(C.propertyDetails[l.id]=t),f(t)}),r()()}if(n&2){let e=p().$implicit,i=p(3);o(),ae("color",e.iconColor),m("ngClass",e.iconFont),o(2),ni(Pe("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),m("optionLabel",e.title)}}function qP(n,s){if(n&1&&(D(0)(1,161),R(2,OP,4,11,"div",162)(3,NP,4,8,"div",162)(4,GP,5,5,"div",162)(5,WP,4,8,"div",162)(6,HP,6,8,"div",162)(7,jP,4,8,"div",162)(8,UP,4,8,"div",163),k()()),n&2){let e=s.$implicit,i=p(3);o(),m("ngSwitch",e.inputDataType),o(),m("ngSwitchCase",i.enumInputDataType.String),o(),m("ngSwitchCase",i.enumInputDataType.Int),o(),m("ngSwitchCase",i.enumInputDataType.Boolean),o(),m("ngSwitchCase",i.enumInputDataType.Float),o(),m("ngSwitchCase",i.enumInputDataType.Date),o(),m("ngSwitchCase",i.enumInputDataType.TextArea)}}function QP(n,s){if(n&1){let e=I();a(0,"button",168),E("click",function(){u(e);let t=p(3);return f(t.prevStep())}),d(1),_(2,"translate"),r()}n&2&&(o(),h(" ",g(2,1,"ACTION.BEFOR")," "))}function zP(n,s){if(n&1){let e=I();a(0,"button",168),E("click",function(){u(e);let t=p(3);return f(t.nextStep())}),d(1),_(2,"translate"),r()}n&2&&(o(),h(" ",g(2,1,"ACTION.NEXT")," "))}function KP(n,s){if(n&1){let e=I();a(0,"button",168),E("click",function(){u(e);let t=p(3);return f(t.nextStep())}),d(1),_(2,"translate"),r()}n&2&&(o(),h(" ",g(2,1,"ACTION.END")," "))}function ZP(n,s){if(n&1){let e=I();a(0,"mat-expansion-panel",158),E("opened",function(){let t=u(e).index,l=p(2);return f(l.setStep(t))}),a(1,"mat-expansion-panel-header")(2,"mat-panel-title"),d(3),r(),a(4,"mat-panel-description"),d(5),a(6,"mat-icon"),d(7),r()()(),R(8,qP,9,7,"ng-container",159),a(9,"mat-action-row"),R(10,QP,3,3,"button",160)(11,zP,3,3,"button",160)(12,KP,3,3,"button",160),r()()}if(n&2){let e=s.$implicit,i=s.index,t=p(2);m("expanded",t.step===i),o(3),h(" ",e.title," "),o(2),h(" ",e.description," "),o(2),x(e.iconFont),o(),m("ngForOf",e.propertyDetails),o(2),m("ngIf",i>0),o(),m("ngIf",i+1<t.dataModel.propertyDetailGroups.length),o(),m("ngIf",i+1===t.dataModel.propertyDetailGroups.length)}}function YP(n,s){if(n&1&&(a(0,"div",132)(1,"button",133),d(2),_(3,"translate"),r(),a(4,"button",108),d(5),_(6,"translate"),r()()),n&2){p(2);let e=A(11);o(2),h(" ",g(3,3,"ACTION.BEFOR")," "),o(2),m("disabled",!e.form.valid),o(),h(" ",g(6,5,"ACTION.NEXT")," ")}}function JP(n,s){if(n&1&&(a(0,"mat-step",153),_(1,"translate"),a(2,"p"),d(3),_(4,"translate"),r(),R(5,FP,2,4,"app-estate-property-company-selector",154)(6,BP,2,4,"app-estate-property-project-selector",154),y(7,"hr"),a(8,"mat-accordion",155),R(9,ZP,13,8,"mat-expansion-panel",156),y(10,"br"),r(),R(11,YP,7,7,"div",42),r()),n&2){let e=p();m("label",P(g(1,7,"TITLE.Details"))),o(3),h(" ",g(4,9,"TITLE.Property_details_according_to_the_type_of_property")," "),o(2),m("ngIf",e.tokenHelper.isAdminSite),o(),m("ngIf",e.tokenHelper.isAdminSite),o(3),m("ngForOf",e.dataModel.propertyDetailGroups),o(2),m("ngIf",e.formInfo.submitButtonEnabled)}}function XP(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2){let e=p(2);o(),h(" ",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.fieldTitle," "),o(2),x(g(4,2,"MESSAGE.required"))}}function $P(n,s){if(n&1){let e=I();a(0,"div",52)(1,"label",169),d(2),_(3,"translate"),r(),a(4,"textarea",170,21),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.descriptionHidden,t)||(l.dataModel.descriptionHidden=t),f(t)}),r(),a(6,"em"),d(7),r(),R(8,XP,5,4,"mat-error",36),r()}if(n&2){let e=A(5),i=p();o(2),x(g(3,6,"TITLE.Description_Hidden")),o(2),m("placeholder",P(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",i.dataModel.descriptionHidden),o(3),h("",e.value.length," / 2000"),o(),m("ngIf",e.errors==null?null:e.errors.required)}}function eA(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2){let e=p(2);o(),h(" ",e.fieldsInfo.addressHidden==null?null:e.fieldsInfo.addressHidden.fieldTitle," "),o(2),x(g(4,2,"MESSAGE.required"))}}function tA(n,s){if(n&1){let e=I();a(0,"div",52)(1,"label",171),d(2),_(3,"translate"),r(),a(4,"textarea",172,22),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.addressHidden,t)||(l.dataModel.addressHidden=t),f(t)}),r(),a(6,"em"),d(7),r(),R(8,eA,5,4,"mat-error",36),r()}if(n&2){let e=A(5),i=p();o(2),x(g(3,6,"TITLE.Address_Hidden")),o(2),m("placeholder",P(i.fieldsInfo.addressHidden==null?null:i.fieldsInfo.addressHidden.fieldTitle)),b("ngModel",i.dataModel.addressHidden),o(3),h("",e.value.length," / 2000"),o(),m("ngIf",e.errors==null?null:e.errors.required)}}function iA(n,s){if(n&1&&(a(0,"button",108),d(1),_(2,"translate"),r()),n&2){p(2);let e=A(11);m("disabled",!e.form.valid),o(),h(" ",g(2,2,"ACTION.NEXT")," ")}}function nA(n,s){if(n&1&&(a(0,"div",132)(1,"button",133),d(2),_(3,"translate"),r(),R(4,iA,3,4,"button",107),r()),n&2){let e=p();o(2),h(" ",g(3,2,"ACTION.BEFOR")," "),o(2),m("ngIf",e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0)}}function oA(n,s){if(n&1){let e=I();a(0,"div",184)(1,"div",72)(2,"div",73)(3,"h5",185),d(4),_(5,"translate"),r()(),a(6,"div",75)(7,"div",76)(8,"input",186),w("ngModelChange",function(t){u(e);let l=p(4);return T(l.contractTypeSelected.salePriceAllowAgreement,t)||(l.contractTypeSelected.salePriceAllowAgreement=t),f(t)}),r(),y(9,"label",187),r()()()()}if(n&2){let e=p(4);o(4),h(" ",g(5,2,"TITLE.Agreement")," "),o(4),b("ngModel",e.contractTypeSelected.salePriceAllowAgreement)}}function aA(n,s){if(n&1){let e=I();a(0,"div",121)(1,"div",180)(2,"div",52)(3,"label",181),d(4),r(),a(5,"input",182),w("ngModelChange",function(t){u(e);let l=p(3);return T(l.contractDataModel.salePrice,t)||(l.contractDataModel.salePrice=t),f(t)}),r(),a(6,"label"),d(7),r()(),R(8,oA,10,4,"div",183),r()()}if(n&2){let e=p(3);o(4),x(e.contractTypeSelected.titleSalePriceML),o(),b("ngModel",e.contractDataModel.salePrice),m("disabled",e.contractDataModel.salePriceByAgreement),o(2),We(" (",e.dataModelCorCurrencySelector.titleML," ",e.dataModelCorCurrencySelector.symbol," ) "),o(),m("ngIf",e.contractTypeSelected.salePriceAllowAgreement)}}function rA(n,s){if(n&1){let e=I();a(0,"div",184)(1,"div",72)(2,"div",73)(3,"h5",191),d(4),_(5,"translate"),r()(),a(6,"div",75)(7,"div",76)(8,"input",192),w("ngModelChange",function(t){u(e);let l=p(5);return T(l.contractDataModel.depositPriceByAgreement,t)||(l.contractDataModel.depositPriceByAgreement=t),f(t)}),r(),y(9,"label",193),r()()()()}if(n&2){let e=p(5);o(4),h(" ",g(5,2,"TITLE.Agreement")," "),o(4),b("ngModel",e.contractDataModel.depositPriceByAgreement)}}function lA(n,s){if(n&1){let e=I();a(0,"div",121)(1,"div",180)(2,"div",52)(3,"label",188),d(4),r(),a(5,"input",190),w("ngModelChange",function(t){u(e);let l=p(4);return T(l.contractDataModel.depositPrice,t)||(l.contractDataModel.depositPrice=t),f(t)}),r(),a(6,"label"),d(7),r()()(),R(8,rA,10,4,"div",183),r()}if(n&2){let e=p(4);o(4),x(e.contractTypeSelected.titleDepositPriceML),o(),b("ngModel",e.contractDataModel.depositPrice),m("disabled",e.contractDataModel.depositPriceByAgreement),o(2),We(" (",e.dataModelCorCurrencySelector.titleML," ",e.dataModelCorCurrencySelector.symbol," ) "),o(),m("ngIf",e.contractTypeSelected.depositPriceAllowAgreement)}}function sA(n,s){if(n&1){let e=I();a(0,"div",121)(1,"div",180)(2,"div",52)(3,"label",188),d(4),r(),a(5,"input",189),w("ngModelChange",function(t){u(e);let l=p(3);return T(l.contractDataModel.depositPrice,t)||(l.contractDataModel.depositPrice=t),f(t)}),r(),a(6,"label"),d(7),r()()(),R(8,lA,9,6,"div",177),r()}if(n&2){let e=p(3);o(4),x(e.contractTypeSelected.titleDepositPriceML),o(),b("ngModel",e.contractDataModel.depositPrice),m("disabled",e.contractDataModel.depositPriceByAgreement),o(2),We(" (",e.dataModelCorCurrencySelector.titleML," ",e.dataModelCorCurrencySelector.symbol," ) "),o(),m("ngIf",e.contractTypeSelected.hasDepositPrice)}}function dA(n,s){if(n&1){let e=I();a(0,"div",184)(1,"div",72)(2,"div",73)(3,"h5",197),d(4),_(5,"translate"),r()(),a(6,"div",75)(7,"div",76)(8,"input",198),w("ngModelChange",function(t){u(e);let l=p(5);return T(l.contractDataModel.rentPriceByAgreement,t)||(l.contractDataModel.rentPriceByAgreement=t),f(t)}),r(),y(9,"label",199),r()()()()}if(n&2){let e=p(5);o(4),h(" ",g(5,2,"TITLE.Agreement")," "),o(4),b("ngModel",e.contractDataModel.rentPriceByAgreement)}}function cA(n,s){if(n&1){let e=I();a(0,"div",121)(1,"div",180)(2,"div",52)(3,"label",194),d(4),r(),a(5,"input",196),w("ngModelChange",function(t){u(e);let l=p(4);return T(l.contractDataModel.rentPrice,t)||(l.contractDataModel.rentPrice=t),f(t)}),r(),a(6,"label"),d(7),r()()(),R(8,dA,10,4,"div",183),r()}if(n&2){let e=p(4);o(4),x(e.contractTypeSelected.titleRentPriceML),o(),b("ngModel",e.contractDataModel.rentPrice),m("disabled",e.contractDataModel.rentPriceByAgreement),o(2),We(" (",e.dataModelCorCurrencySelector.titleML," ",e.dataModelCorCurrencySelector.symbol," ) "),o(),m("ngIf",e.contractTypeSelected.rentPriceAllowAgreement)}}function pA(n,s){if(n&1){let e=I();a(0,"div",121)(1,"div",180)(2,"div",52)(3,"label",194),d(4),r(),a(5,"input",195),w("ngModelChange",function(t){u(e);let l=p(3);return T(l.contractDataModel.rentPrice,t)||(l.contractDataModel.rentPrice=t),f(t)}),r(),a(6,"label"),d(7),r()()(),R(8,cA,9,6,"div",177),r()}if(n&2){let e=p(3);o(4),x(e.contractTypeSelected.titleRentPriceML),o(),b("ngModel",e.contractDataModel.rentPrice),m("disabled",e.contractDataModel.rentPriceByAgreement),o(2),We(" (",e.dataModelCorCurrencySelector.titleML," ",e.dataModelCorCurrencySelector.symbol," ) "),o(),m("ngIf",e.contractTypeSelected.hasRentPrice)}}function mA(n,s){if(n&1){let e=I();a(0,"div",184)(1,"div",72)(2,"div",73)(3,"h5",204),d(4),_(5,"translate"),r()(),a(6,"div",75)(7,"div",76)(8,"input",205),w("ngModelChange",function(t){u(e);let l=p(5);return T(l.contractDataModel.periodPriceByAgreement,t)||(l.contractDataModel.periodPriceByAgreement=t),f(t)}),r(),y(9,"label",206),r()()()()}if(n&2){let e=p(5);o(4),h(" ",g(5,2,"TITLE.Agreement")," "),o(4),b("ngModel",e.contractDataModel.periodPriceByAgreement)}}function uA(n,s){if(n&1){let e=I();a(0,"div",121)(1,"div",180)(2,"div",52)(3,"label",200),d(4),r(),a(5,"input",203),w("ngModelChange",function(t){u(e);let l=p(4);return T(l.contractDataModel.periodPrice,t)||(l.contractDataModel.periodPrice=t),f(t)}),r(),a(6,"label"),d(7),r()()(),R(8,mA,10,4,"div",183),r()}if(n&2){let e=p(4);o(4),x(e.contractTypeSelected.titlePeriodPriceML),o(),b("ngModel",e.contractDataModel.periodPrice),m("disabled",e.contractDataModel.periodPriceByAgreement),o(2),We(" (",e.dataModelCorCurrencySelector.titleML," ",e.dataModelCorCurrencySelector.symbol," ) "),o(),m("ngIf",e.contractTypeSelected.hasPeriodPrice&&e.contractTypeSelected.periodPriceAllowAgreement)}}function fA(n,s){if(n&1){let e=I();a(0,"div",121)(1,"div",180)(2,"div",52)(3,"label",200),d(4),r(),a(5,"input",201),w("ngModelChange",function(t){u(e);let l=p(3);return T(l.contractDataModel.periodPrice,t)||(l.contractDataModel.periodPrice=t),f(t)}),r(),a(6,"label"),d(7),r()()(),R(8,uA,9,6,"div",177),y(9,"hr"),a(10,"div",52)(11,"label",178),d(12),r(),a(13,"textarea",202,23),w("ngModelChange",function(t){u(e);let l=p(3);return T(l.contractDataModel.description,t)||(l.contractDataModel.description=t),f(t)}),r(),a(15,"em"),d(16),r()()()}if(n&2){let e=A(14),i=p(3);o(4),x(i.contractTypeSelected.titlePeriodPriceML),o(),b("ngModel",i.contractDataModel.periodPrice),m("disabled",i.contractDataModel.periodPriceByAgreement),o(2),We(" (",i.dataModelCorCurrencySelector.titleML," ",i.dataModelCorCurrencySelector.symbol," ) "),o(),m("ngIf",i.contractTypeSelected.hasPeriodPrice),o(4),x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),b("ngModel",i.contractDataModel.description),o(3),h("",e.value.length," / 500")}}function _A(n,s){if(n&1){let e=I();a(0,"div"),R(1,aA,9,6,"div",177)(2,sA,9,6,"div",177)(3,pA,9,6,"div",177)(4,fA,17,11,"div",177),y(5,"hr"),a(6,"div",52)(7,"label",178),d(8),r(),a(9,"textarea",179,23),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.contractDataModel.description,t)||(l.contractDataModel.description=t),f(t)}),r(),a(11,"em"),d(12),r()()()}if(n&2){let e=A(10),i=p(2);o(),m("ngIf",i.contractTypeSelected.hasSalePrice),o(),m("ngIf",i.contractTypeSelected.hasDepositPrice),o(),m("ngIf",i.contractTypeSelected.hasRentPrice),o(),m("ngIf",i.contractTypeSelected.hasPeriodPrice),o(4),x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),b("ngModel",i.contractDataModel.description),o(3),h("",e.value.length," / 500")}}function gA(n,s){if(n&1){let e=I();a(0,"button",62),E("click",function(){u(e);let t=p(2);return f(t.onActionOptionAddToList())}),d(1),_(2,"translate"),r()}n&2&&(o(),h(" ",g(2,1,"ACTION.Add_To_List")," ... "))}function CA(n,s){n&1&&(a(0,"mat-header-cell"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.Contract")," "))}function hA(n,s){if(n&1&&(a(0,"mat-cell"),d(1),_(2,"cmstitle"),r()),n&2){let e=s.$implicit,i=p(3);o(),h(" ",pi(2,1,e.linkEstateContractTypeId,i.dataModelEstateContractTypeResult.listItems)," ")}}function yA(n,s){n&1&&(a(0,"mat-header-cell"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.SalePrice")," "))}function SA(n,s){if(n&1&&(D(0),d(1),_(2,"number"),y(3,"br"),d(4),k()),n&2){let e=p().$implicit;o(),h(" ",g(2,3,e.salePrice)," "),o(3),We(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function MA(n,s){n&1&&(D(0),d(1),_(2,"translate"),k()),n&2&&(o(),h(" ",g(2,1,"TITLE.PriceByAgreement")," "))}function EA(n,s){if(n&1&&(a(0,"mat-cell"),R(1,SA,5,5,"ng-container",36)(2,MA,3,3,"ng-container",36),r()),n&2){let e=s.$implicit;o(),m("ngIf",e.salePrice>0),o(),m("ngIf",e.salePriceByAgreement)}}function vA(n,s){n&1&&(a(0,"mat-header-cell"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.DepositPrice")," "))}function IA(n,s){if(n&1&&(D(0),d(1),_(2,"number"),y(3,"br"),d(4),k()),n&2){let e=p().$implicit;o(),h(" ",g(2,3,e.depositPrice)," "),o(3),We(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function bA(n,s){n&1&&(D(0),d(1),_(2,"translate"),k()),n&2&&(o(),h(" ",g(2,1,"TITLE.PriceByAgreement")," "))}function TA(n,s){if(n&1&&(a(0,"mat-cell"),R(1,IA,5,5,"ng-container",36)(2,bA,3,3,"ng-container",36),r()),n&2){let e=s.$implicit;o(),m("ngIf",e.depositPrice>0),o(),m("ngIf",e.depositPriceByAgreement)}}function wA(n,s){n&1&&(a(0,"mat-header-cell"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.RentPrice")," "))}function xA(n,s){if(n&1&&(D(0),d(1),_(2,"number"),y(3,"br"),d(4),k()),n&2){let e=p().$implicit;o(),h(" ",g(2,3,e.rentPrice)," "),o(3),We(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function PA(n,s){n&1&&(D(0),d(1),_(2,"translate"),k()),n&2&&(o(),h(" ",g(2,1,"TITLE.PriceByAgreement")," "))}function AA(n,s){if(n&1&&(a(0,"mat-cell"),R(1,xA,5,5,"ng-container",36)(2,PA,3,3,"ng-container",36),r()),n&2){let e=s.$implicit;o(),m("ngIf",e.rentPrice>0),o(),m("ngIf",e.rentPriceByAgreement)}}function RA(n,s){n&1&&(a(0,"mat-header-cell"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.PeriodPrice")," "))}function DA(n,s){if(n&1&&(D(0),d(1),_(2,"number"),y(3,"br"),d(4),k()),n&2){let e=p().$implicit;o(),h(" ",g(2,3,e.periodPrice)," "),o(3),We(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function kA(n,s){n&1&&(D(0),d(1),_(2,"translate"),k()),n&2&&(o(),h(" ",g(2,1,"TITLE.PriceByAgreement")," "))}function LA(n,s){if(n&1&&(a(0,"mat-cell"),R(1,DA,5,5,"ng-container",36)(2,kA,3,3,"ng-container",36),r()),n&2){let e=s.$implicit;o(),m("ngIf",e.periodPrice>0),o(),m("ngIf",e.periodPriceByAgreement)}}function VA(n,s){n&1&&(a(0,"mat-header-cell"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.OPTION")," "))}function FA(n,s){if(n&1){let e=I();a(0,"mat-cell",222)(1,"button",223),E("click",function(){let t=u(e).index,l=p(3);return f(l.onActionOptionRemoveFromList(t))}),a(2,"small")(3,"mat-icon",224),_(4,"translate"),d(5,"delete"),r()()()()}n&2&&(o(3),m("matTooltip",P(g(4,2,"ACTION.DELETE"))))}function BA(n,s){if(n&1&&(D(0),d(1),k()),n&2){let e=p().$implicit;o(),h(" ",e.description," ")}}function OA(n,s){if(n&1&&(a(0,"mat-cell",225),d(1),_(2,"translate"),R(3,BA,2,1,"ng-container",36),r()),n&2){let e=s.$implicit;o(),h(" ",g(2,2,"TITLE.DESCRIPTION")," : "),o(2),m("ngIf",e.description)}}function NA(n,s){n&1&&y(0,"mat-header-row")}function GA(n,s){if(n&1&&y(0,"mat-row"),n&2){let e=s.dataIndex;ne("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}function WA(n,s){if(n&1&&y(0,"mat-row"),n&2){let e=s.dataIndex;ne("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}function HA(n,s){if(n&1&&(a(0,"div",207)(1,"mat-table",208),D(2,209),R(3,CA,3,3,"mat-header-cell",210)(4,hA,3,4,"mat-cell",211),k(),D(5,212),R(6,yA,3,3,"mat-header-cell",210)(7,EA,3,2,"mat-cell",211),k(),D(8,213),R(9,vA,3,3,"mat-header-cell",210)(10,TA,3,2,"mat-cell",211),k(),D(11,214),R(12,wA,3,3,"mat-header-cell",210)(13,AA,3,2,"mat-cell",211),k(),D(14,215),R(15,RA,3,3,"mat-header-cell",210)(16,LA,3,2,"mat-cell",211),k(),D(17,216),R(18,VA,3,3,"mat-header-cell",210)(19,FA,6,4,"mat-cell",217),k(),D(20,218),R(21,OA,4,4,"mat-cell",219),k(),R(22,NA,1,0,"mat-header-row",220)(23,GA,1,4,"mat-row",221)(24,WA,1,4,"mat-row",221),r()()),n&2){let e=p(2);o(),m("dataSource",e.optionTabledataSource),o(21),m("matHeaderRowDef",e.optionTabledisplayedColumns),o(),m("matRowDefColumns",e.optionTabledisplayedColumns),o(),m("matRowDefColumns",fe(4,Nx))}}function jA(n,s){if(n&1&&(a(0,"button",108),d(1),_(2,"translate"),r()),n&2){p(3);let e=A(11);m("disabled",!e.form.valid),o(),h(" ",g(2,2,"ACTION.NEXT")," ")}}function UA(n,s){if(n&1&&(a(0,"div",132)(1,"button",133),d(2),_(3,"translate"),r(),R(4,jA,3,4,"button",107),r()),n&2){let e=p(2);o(2),h(" ",g(3,2,"ACTION.BEFOR")," "),o(2),m("ngIf",e.dataModel.contracts&&e.dataModel.contracts.length>0)}}function qA(n,s){if(n&1){let e=I();a(0,"div",173),y(1,"br")(2,"br"),a(3,"app-cms-currency-selector",174),_(4,"translate"),E("optionChange",function(t){u(e);let l=p();return f(l.onActionSelectCurrency(t))}),r(),R(5,_A,13,9,"div",36)(6,gA,3,3,"button",175),y(7,"hr"),a(8,"p"),d(9),_(10,"translate"),r(),R(11,HA,25,5,"div",176)(12,UA,5,4,"div",42),r()}if(n&2){let e=p();o(3),m("optionSelectFirstItem",e.currencyOptionSelectFirstItem)("optionSelectForce",e.contractDataModel.linkCoreCurrencyId)("optionPlaceholder",g(4,8,"TITLE.Specify_the_transaction_currency")),o(2),m("ngIf",e.contractDataModel.linkCoreCurrencyId>0),o(),m("ngIf",e.contractTypeSelected&&e.contractTypeSelected.id.length>0),o(3),h(" ",g(10,10,"TITLE.List_Of_Transaction_Details_Of_This_Property")," "),o(2),m("ngIf",!e.publicHelper.processService.process.inRunAll),o(),m("ngIf",e.formInfo.submitButtonEnabled)}}function QA(n,s){if(n&1&&(y(0,"img",226),_(1,"cmsthumbnail")),n&2){let e=p();m("src",P(g(1,2,e.dataModel.linkMainImageIdSrc)),H)}}function zA(n,s){if(n&1&&(y(0,"img",226),_(1,"cmsthumbnail")),n&2){let e=p();m("src",P(g(1,2,e.dataModel.linkMainImageIdSrc)),H)}}function KA(n,s){n&1&&(a(0,"p"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.List_of_attached_photos")," "))}function ZA(n,s){if(n&1){let e=I();a(0,"div")(1,"p"),d(2),_(3,"translate"),r(),a(4,"app-cms-files-selector",227),w("dataFileModelChange",function(t){u(e);let l=p();return T(l.dataFileModelFiles,t)||(l.dataFileModelFiles=t),f(t)}),r(),y(5,"br"),r()}if(n&2){let e=p();o(2),x(g(3,3,"TITLE.List_of_attached_files")),o(2),b("dataFileModel",e.dataFileModelFiles),m("openDirectUploadView",!0)}}function YA(n,s){if(n&1&&(a(0,"div",132)(1,"button",133),d(2),_(3,"translate"),r(),a(4,"button",108),d(5),_(6,"translate"),r(),a(7,"button",228),d(8),_(9,"translate"),r()()),n&2){let e=p(),i=A(11);o(2),h(" ",g(3,5,"ACTION.BEFOR")," "),o(2),m("disabled",!i.form.valid),o(),h(" ",g(6,7,"ACTION.NEXT")," "),o(2),m("disabled",!i.form.valid||!e.connectionStatus.internetConnection),o(),h(" ",g(9,9,"ACTION.SAVE")," ")}}function JA(n,s){if(n&1&&(a(0,"div",132)(1,"button",133),d(2),_(3,"translate"),r(),a(4,"button",228),d(5),_(6,"translate"),r()()),n&2){let e=p(),i=A(11);o(2),h(" ",g(3,3,"ACTION.BEFOR")," "),o(2),m("disabled",!i.form.valid||!e.connectionStatus.internetConnection),o(),h(" ",g(6,5,"ACTION.SAVE")," ")}}function XA(n,s){n&1&&(a(0,"mat-icon"),d(1,"call_end"),r())}function $A(n,s){n&1&&(a(0,"mat-icon"),d(1,"call_end"),r())}function e4(n,s){n&1&&(a(0,"mat-icon"),d(1,"forum"),r())}function t4(n,s){n&1&&(a(0,"mat-icon"),d(1,"forum"),r())}var Zr=class Zr extends _t{constructor(e,i,t,l,C,c,L,q,Se,je,Ke,Ot,ii,Sn,Mn,xo){super(l,new _n,Ke,xo);this.activatedRoute=e;this.coreEnumService=i;this.estateContractTypeService=t;this.estatePropertyService=l;this.estatePropertyDetailGroupService=C;this.estatePropertyTypeService=c;this.estatePropertyTypeLanduseService=L;this.cmsToastrService=q;this.cmsStoreService=Se;this.router=je;this.publicHelper=Ke;this.themeService=Ot;this.cdr=ii;this.dialog=Sn;this.tokenHelper=Mn;this.translate=xo;this.requestLinkPropertyTypeLanduseId="";this.requestLinkPropertyTypeUsageId="";this.constructorInfoAreaId=this.constructor.name;this.connectionStatus=new ta;this.currencyOptionSelectFirstItem=!0;this.fieldsInfo=new Map;this.enumInputDataType=rn;this.tokenInfo=new Wt;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.formMatcher=new ra;this.dataModelResult=new j;this.dataModelEstateContractTypeResult=new j;this.dataModelEstatePropertyTypeResult=new j;this.dataModelEstatePropertyTypeLanduseResult=new j;this.dataModel=new _n;this.dataFileModelImgaes=new Map;this.dataFileModelFiles=new Map;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.dataModelCorCurrencySelector=new En;this.PropertyTypeSelected=new gn;this.contractDataModel=new Wi;this.optionActionTitle="";this.optionTabledataSource=new Ht;this.optionTabledisplayedColumns=["LinkEstateContractTypeId","SalePrice","RentPrice","DepositPrice","PeriodPrice","Action"];this.propertyDetails=new Map;this.step=0;this.numbers=[1,2,3,4,5,6,7,8,9,10];this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Ci;this.listTypeLanduse=[];this.dataProfessional=!1;this.hidden=!0;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.requestLinkPropertyTypeLanduseId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeLanduseId"),this.requestLinkPropertyTypeLanduseId&&this.requestLinkPropertyTypeLanduseId.length>0&&(this.dataModel.linkPropertyTypeLanduseId=this.requestLinkPropertyTypeLanduseId),this.requestLinkPropertyTypeUsageId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeUsageId"),this.requestLinkPropertyTypeUsageId&&this.requestLinkPropertyTypeUsageId.length>0&&(this.dataModel.linkPropertyTypeUsageId=this.requestLinkPropertyTypeUsageId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(fn=>fn.connectionStatusStore).subscribe(fn=>Me(this,null,function*(){this.connectionStatus=fn})))}ngOnInit(){this.translate.get("TITLE.Submit_New_Content").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.getEstateContractType(),this.getEstatePropertyType(),this.getEstatePropertyTypeLanduse(),this.dataModel.caseCode=this.publicHelper.StringRandomGenerator(5,!0),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Me(this,null,function*(){this.DataGetAccess(),this.getEstateContractType(),this.getEstatePropertyType(),this.getEstatePropertyTypeLanduse(),this.translate.get("ACTION.Add_To_List").subscribe(i=>{this.optionActionTitle=i}),this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}getEstateContractType(){let e=this.constructor.name+"getEstateContractType";this.translate.get("TITLE.Get_Estate_Contract_Type").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateContractTypeService.ServiceGetAll(null).subscribe({next:i=>{this.dataModelEstateContractTypeResult=i,this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e)}})}getEstatePropertyType(){let e=this.constructor.name+"getEstatePropertyType";this.translate.get("TITLE.Get_Estate_property_Type").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyTypeService.ServiceGetAll(null).subscribe({next:i=>{this.dataModelEstatePropertyTypeResult=i,this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e)}})}getEstatePropertyTypeLanduse(){let e=this.constructor.name+"getEstatePropertyType";this.translate.get("TITLE.Get_Estate_user_Type").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyTypeLanduseService.ServiceGetAll(null).subscribe({next:i=>{this.dataModelEstatePropertyTypeLanduseResult=i,this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e)}})}DataGetPropertyDetailGroup(e){let i=new oe,t=new Z;t.propertyName="LinkPropertyTypeLanduseId",t.value=e,i.filters.push(t),this.dataModel.propertyDetailGroups=[];let l=this.constructor.name+"DataGetPropertyDetailGroup";this.translate.get("TITLE.Get_Details").subscribe(C=>{this.publicHelper.processService.processStart(l,C,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceGetAll(i).subscribe({next:C=>{C.isSuccess?this.dataModel.propertyDetailGroups=C.listItems:this.cmsToastrService.typeErrorGetAccess(C.errorMessage),this.publicHelper.processService.processStop(l)},error:C=>{this.cmsToastrService.typeErrorGetAccess(C),this.publicHelper.processService.processStop(l,!1)}})}DataAdd(){if(this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="",this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}if(this.dataFileModelImgaes){let i=Array.from(this.dataFileModelImgaes.keys());i&&i.length>0&&(this.dataModel.linkExtraImageIds=i.join(","))}let e=this.constructor.name+"ServiceAdd";this.translate.get("TITLE.Property_registration").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyService.ServiceAdd(this.dataModel).subscribe({next:i=>{if(this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess)if(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(l=>{this.formInfo.submitResultMessage=l,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessAdd(),(this.tokenHelper.isAdminSite||this.tokenHelper.isSupportSite||this.tokenInfo.access.userAccessUserType==Nn.ResellerCpSite||this.tokenInfo.access.userAccessUserType==Nn.ResellerEmployeeCpSite)&&this.dataModel.recordStatus==He.Available){var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(bo,{height:"90%",panelClass:t,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{model:this.dataModelResult.item}}).afterClosed().subscribe(C=>{setTimeout(()=>this.router.navigate(["/estate/property"]),1e3)})}else setTimeout(()=>this.router.navigate(["/estate/property"]),1e3);else this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage);this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(i=>{this.mapMarker=Rs.marker([i.lat,i.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",i=>{let t=i.latlng.lat,l=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&l===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=Rs.marker([t,l]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=l}))}receiveZoom(e){}onActionSelectorSelectUsage(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeUsageId=e.id,this.dataModelEstatePropertyTypeResult.isSuccess&&this.dataModelEstatePropertyTypeLanduseResult.isSuccess&&(this.listTypeLanduse=[],this.dataModelEstatePropertyTypeResult.listItems.forEach(i=>{i.linkPropertyTypeUsageId===e.id&&this.dataModelEstatePropertyTypeLanduseResult.listItems.forEach(t=>{t.id===i.linkPropertyTypeLanduseId&&this.listTypeLanduse.push(t)})}))}onActionSelectorSelectLanduse(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.PropertyTypeSelected=e,this.dataModel.linkPropertyTypeLanduseId=e.id,this.DataGetPropertyDetailGroup(e.id)}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCmsUserId=null;return}this.dataModel.linkCmsUserId=e.id}onActionSelectorLocation(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.information_area_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=e.id}onActionSelectorProject(e){if(!e||!e.id||e.id.length<=0){this.dataModel.linkPropertyProjectId=null;return}this.dataModel.linkPropertyProjectId=e.id}onActionSelectorCompany(e){if(!e||!e.id||e.id.length<=0){this.dataModel.linkPropertyCompanyId=null;return}this.dataModel.linkPropertyCompanyId=e.id}onActionSelectorEstateUser(e){this.dataModel.linkEstateExpertId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateExpertId=e.id)}onActionSelectorEstateAgency(e){this.dataModel.linkEstateAgencyId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateAgencyId=e.id)}onActionSelectorContractType(e){if(this.contractTypeSelected=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.currencyOptionSelectFirstItem=!0,this.contractTypeSelected=e,this.contractDataModel=new Wi,this.contractDataModel.contractType=this.contractTypeSelected,this.contractDataModel.linkEstateContractTypeId=this.contractTypeSelected.id}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.submitButtonEnabled=!1,this.dataModel.propertyDetailValues=[],this.dataModel.propertyDetailGroups&&this.dataModel.propertyDetailGroups.forEach(e=>{e.propertyDetails.forEach(i=>{let t=new Vo;t.linkPropertyDetailId=i.id,t.value=this.propertyDetails[i.id],this.dataModel.propertyDetailValues.push(t)})}),(!this.dataModel.contracts||this.dataModel.contracts.length===0)&&this.onActionOptionAddToList(!1),!this.dataModel.contracts||this.dataModel.contracts.length===0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)}),this.formInfo.submitButtonEnabled=!0;return}this.DataAdd()}}onFormCancel(){this.router.navigate(["/estate/property"])}onActionOptionAddToList(e=!0){if(!this.contractTypeSelected||this.contractTypeSelected.id.length===0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(t=>{e&&this.cmsToastrService.typeErrorSelected(t)});return}this.dataModel.contracts||(this.dataModel.contracts=[]);var i=!1;if(this.contractTypeSelected.hasSalePrice&&(this.contractDataModel.salePrice&&this.contractDataModel.salePrice>0&&(i=!0),this.contractTypeSelected.salePriceAllowAgreement&&this.contractDataModel.salePriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Sales_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i=!1,this.contractTypeSelected.hasRentPrice&&(this.contractDataModel.rentPrice&&this.contractDataModel.rentPrice>0&&(i=!0),this.contractTypeSelected.rentPriceAllowAgreement&&this.contractDataModel.rentPriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Rent_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i=!1,this.contractTypeSelected.hasPeriodPrice&&(this.contractDataModel.periodPrice&&this.contractDataModel.periodPrice>0&&(i=!0),this.contractTypeSelected.periodPriceAllowAgreement&&this.contractDataModel.periodPriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Period_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i=!1,this.contractTypeSelected.hasDepositPrice&&(this.contractDataModel.depositPrice&&this.contractDataModel.depositPrice>0&&(i=!0),this.contractTypeSelected.depositPriceAllowAgreement&&this.contractDataModel.depositPriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Deposit_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.dataModel.contracts.push(this.contractDataModel),this.contractDataModel=new Wi,this.optionTabledataSource.data=this.dataModel.contracts,this.contractTypeSelected=null}onActionOptionRemoveFromList(e){e<0||!this.dataModel.contracts||this.dataModel.contracts.length===0||(this.contractDataModel=this.dataModel.contracts[e],this.dataModel.contracts.splice(e,1),this.contractDataModel=new Wi,this.optionTabledataSource.data=this.dataModel.contracts)}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&((!this.dataModel.linkPropertyTypeUsageId||this.dataModel.linkPropertyTypeUsageId.length===0)&&(this.translate.get("TITLE.Select_the_Property_Type_Usage").subscribe(t=>{this.cmsToastrService.typeErrorFormInvalid(t)}),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)),(!this.dataModel.linkPropertyTypeLanduseId||this.dataModel.linkPropertyTypeLanduseId.length===0)&&(this.translate.get("TITLE.Select_the_Property_Type_Landuse").subscribe(t=>{this.cmsToastrService.typeErrorFormInvalid(t)}),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)),this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10))),(!this.dataModel.contracts||this.dataModel.contracts.length==0)&&e.previouslySelectedStep.state=="contract"&&e.previouslySelectedIndex<e.selectedIndex&&(this.translate.get("TITLE.Select_the_transaction_type").subscribe(t=>{this.cmsToastrService.typeErrorFormInvalid(t)}),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10))}onActionBackToParent(){this.router.navigate(["/estate/property/"])}setStep(e){this.step=e}nextStep(){this.step++}prevStep(){this.step--}onActionClickSalePriceAllowAgreement(){this.contractDataModel.salePriceByAgreement&&(this.contractDataModel.salePrice=0)}onActionClickRentPriceAllowAgreement(){this.contractDataModel.rentPriceByAgreement&&(this.contractDataModel.rentPrice=0)}onActionClickPeriodPriceAllowAgreement(){this.contractDataModel.periodPriceByAgreement&&(this.contractDataModel.periodPrice=0)}onActionClickDepositPriceByAgreement(){this.contractDataModel.depositPriceByAgreement&&(this.contractDataModel.depositPrice=0)}ActionCurrentPoint(){this.childMap.getPosition().then(e=>{let i=e.lat,t=e.lon;i>0&&t>0&&(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:i,lon:t}),this.dataModel.geolocationlatitude=i,this.dataModel.geolocationlongitude=t,this.receiveMap())})}onActionSelectCurrency(e){if(!e||e.id<=0){this.cmsToastrService.typeErrorSelected(),this.dataModelCorCurrencySelector=null,this.contractDataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=e,this.contractDataModel.linkCoreCurrencyId=e.id,this.tokenHelper.isAdminSite&&this.contractTypeSelected.allowPriceInquiryCalculate&&this.onActionPriceInquiryList()}onActionPriceInquiryList(){let e=new Wo;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={linkLocationId:this.dataModel.linkLocationId,linkCoreCurrencyId:this.contractDataModel.linkCoreCurrencyId,createdYaer:this.dataModel.createdYaer,linkPropertyTypeUsageId:this.dataModel.linkPropertyTypeUsageId,linkPropertyTypeLanduseId:this.dataModel.linkPropertyTypeLanduseId,linkContractTypeId:this.contractDataModel.linkEstateContractTypeId};var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ga,e).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonQuickListSearchTitle(){if(!this.dataModel||!this.dataModel.title||this.dataModel.title.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Fi,{height:"90%",panelClass:e,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{searchTitle:this.dataModel.title}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionButtonQuickListSearchCustomerTel(){if(!this.dataModel||!this.dataModel.aboutCustomerTel||this.dataModel.aboutCustomerTel.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Fi,{height:"90%",panelClass:e,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{searchCustomerTel:this.dataModel.aboutCustomerTel}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionButtonQuickListSearchCustomerMobile(){if(!this.dataModel||!this.dataModel.aboutCustomerMobile||this.dataModel.aboutCustomerMobile.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Fi,{height:"90%",panelClass:e,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{searchCustomerTel:this.dataModel.aboutCustomerMobile}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionButtonQuickListSearchCaseCode(){if(!this.dataModel||!this.dataModel.caseCode||this.dataModel.caseCode.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Fi,{height:"90%",panelClass:e,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{searchCaseCode:this.dataModel.caseCode}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}};Zr.\u0275fac=function(i){return new(i||Zr)(v(Gt),v(te),v(Pi),v(sn),v(Zt),v(Ui),v(Di),v(O),v(Ce),v(ke),v(G),v(jt),v(N),v(Oe),v(de),v(B))},Zr.\u0275cmp=V({type:Zr,selectors:[["app-estate-property-add-mobile"]],viewQuery:function(i,t){if(i&1&&(Q(Ox,5),Q(zt,5)),i&2){let l;z(l=K())&&(t.formGroup=l.first),z(l=K())&&(t.childMap=l.first)}},standalone:!1,features:[Y],decls:113,vars:131,consts:[["vform","ngForm"],["stepper",""],["LinkMainImageId",""],["Description",""],["Title",""],["CaseCode",""],["CreatedYaer",""],["Partition",""],["Area",""],["Address",""],["LinkSiteId",""],["scoreEstateLocation","ngModel"],["scoreEstateBuild","ngModel"],["scoreEstatePrice","ngModel"],["AboutAgentMobile",""],["AboutAgentTel",""],["AboutCustomerMobile",""],["AboutCustomerTel",""],["actionCreateNewCmsUserFirstName",""],["actionCreateNewCmsUserLastName",""],["actionCreateNewCmsUserMobile",""],["DescriptionHidden",""],["AddressHidden",""],["contractDataModel_Description",""],[3,"Key","svg"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder"],["style","clear: both",4,"ngIf"],[3,"optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder","optionTypeUsageId","optionChange",4,"ngIf"],[4,"ngIf"],["state","main",3,"label",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","blockquote",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","seo",3,"label",4,"ngIf"],["state","contract",3,"label"],[3,"optionChange","optionTypeView","optionDisabled","optionPlaceholder","optionSelectForce"],["class","container",4,"ngIf"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"mb-9"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","name","dataModel.linkMainImageId","type","text","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],["matInput","","name","dataModel.linkMainImageId","type","text","autocomplete","off","id","dataModel.linkMainImageId",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","openDirectUploadView","isPopup","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"dataFileModelChange","dataFileModel","optionFileType","openDirectUploadView"],[3,"dataModelChange","dataModel"],[3,"dataModelChange","dataModel","dataImageModel"],["state","loaction",3,"label"],["id","main-map",3,"map$","zoom$","optonCenter"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[2,"clear","both"],["class","ntk-pull-right",4,"ngFor","ngForOf"],[1,"ntk-pull-right"],["type","button",3,"click","ngClass"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder","optionTypeUsageId"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataProfessional",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataProfessional","name","dataProfessional",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataProfessional",1,"custom-control-label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","2000","rows","5","id","dataModel.description","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.caseCode",1,"color-highlight"],["matInput","","name","dataModel.caseCode","type","text","minlength","3","maxlength","100","id","dataModel.caseCode",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["data-trigger-switch","dataModel.viewConfigHiddenInList",1,"font-600","font-14"],["type","checkbox","id","dataModel.viewConfigHiddenInList","name","dataModel.viewConfigHiddenInList",1,"ios-input",3,"ngModelChange","ngModel","disabled"],["for","dataModel.viewConfigHiddenInList",1,"custom-control-label"],["for","dataModel.createdYaer",1,"color-highlight"],["matInput","","name","dataModel.createdYaer","type","number","id","dataModel.createdYaer",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.partition",1,"color-highlight"],["matInput","","name","dataModel.partition","type","number","id","dataModel.partition",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.area",1,"color-highlight"],["matInput","","name","dataModel.area","type","text","currencyMask","","id","dataModel.area",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue","matStepperNext","",3,"disabled",4,"ngIf"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["[optionLa","","bel]","fieldsInfo['mainAdminRecordStatus']?.fieldTitle",3,"model","optionDisabled","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","content",4,"ngIf"],["for","dataModel.linkSiteId",1,"color-highlight"],["matInput","","name","dataModel.linkSiteId","type","text","id","dataModel.linkSiteId","minlength","3","maxlength","100",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["data-trigger-switch","dataModel.viewContentHidden",1,"font-600","font-14"],["type","checkbox","id","dataModel.viewContentHidden","name","dataModel.viewContentHidden",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.viewContentHidden",1,"custom-control-label"],["data-trigger-switch","dataModel.siteAdminViewContentHidden",1,"font-600","font-14"],["type","checkbox","id","dataModel.siteAdminViewContentHidden","name","dataModel.siteAdminViewContentHidden",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.siteAdminViewContentHidden",1,"custom-control-label"],["[optionLa","","bel]","fieldsInfo['mainAdminRecordStatus']?.fieldTitle",3,"modelChange","model","optionDisabled","optionRequired","optionSelectFirstItem"],[1,"content"],[1,"row"],[1,"col-lg-3","col-md-12"],[1,"range-slider","bottom-15","range-slider-icons"],["for","dataModel.scoreEstateLocation",1,"color-highlight"],[1,"fa","fa-range-icon-1","fa-angle-down","color-theme"],[1,"fa","fa-range-icon-2","fa-angle-up","color-theme"],["type","range","min","0","max","10","id","dataModel.scoreEstateLocation","name","dataModel.scoreEstateLocation",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],["for","dataModel.scoreEstateBuild",1,"color-highlight"],["type","range","min","0","max","10","id","dataModel.scoreEstateBuild","name","dataModel.scoreEstateBuild",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],["for","dataModel.scoreEstatePrice",1,"color-highlight"],["type","range","min","0","max","10","id","dataModel.scoreEstatePrice","name","dataModel.scoreEstatePrice",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],[1,"form-actions"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],[3,"optionChange","optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder"],["for","dataModel.aboutAgentMobile",1,"color-highlight"],["matInput","","name","dataModel.aboutAgentMobile","type","text","minlength","0","maxlength","100","id","dataModel.aboutAgentMobile",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.aboutAgentTel",1,"color-highlight"],["matInput","","name","dataModel.aboutAgentTel","type","text","minlength","0","maxlength","100","id","dataModel.aboutAgentTel",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.aboutCustomerMobile",1,"color-highlight"],["matInput","","name","dataModel.aboutCustomerMobile","type","text","minlength","0","maxlength","100","id","dataModel.aboutCustomerMobile",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.aboutCustomerTel",1,"color-highlight"],["matInput","","name","dataModel.aboutCustomerTel","type","text","minlength","0","maxlength","100","id","dataModel.aboutCustomerTel",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[1,"blockquote"],["data-trigger-switch","dataModel.actionCreateNewCmsUser",1,"font-600","font-14"],["type","checkbox","id","dataModel.actionCreateNewCmsUser","name","dataModel.actionCreateNewCmsUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.actionCreateNewCmsUser",1,"custom-control-label"],["for","dataModel.actionCreateNewCmsUserFirstName",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserFirstName","type","text","minlength","3","maxlength","50","id","dataModel.actionCreateNewCmsUserFirstName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.actionCreateNewCmsUserLastName",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserLastName","type","text","minlength","3","maxlength","50","id","dataModel.actionCreateNewCmsUserLastName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.actionCreateNewCmsUserMobile",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserMobile","type","text","placeholder","0912","minlength","3","maxlength","20","id","dataModel.actionCreateNewCmsUserMobile",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["state","seo",3,"label"],[3,"optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[1,"example-headers-align"],[3,"expanded","opened",4,"ngFor","ngForOf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"opened","expanded"],[4,"ngFor","ngForOf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue",3,"click",4,"ngIf"],[3,"ngSwitch"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngSwitchCase"],[4,"ngSwitchDefault"],["aria-hidden","true",3,"ngClass"],[3,"modelChange","model","optionForceUseDefaultValue","optionMultipleChoice","optionDefaultValue","optionLabel"],[3,"modelChange","model","optionLabel"],[3,"modelChange","model"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","1","maxlength","2000","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.addressHidden",1,"color-highlight"],["matInput","","name","dataModel.addressHidden","type","text","minlength","1","maxlength","2000","rows","5","id","dataModel.addressHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"container"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["class","example-container mat-elevation-z8",4,"ngIf"],["class","row",4,"ngIf"],["for","contractDataModel.description",1,"color-highlight"],["matInput","","name","contractDataModel.description","type","text","minlength","0","maxlength","500","rows","5","id","contractDataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"col-6"],["for","contractDataModel.salePrice",1,"color-highlight"],["matInput","","name","contractDataModel.salePrice","type","text","currencyMask","","placeholder","0","id","contractDataModel.salePrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["class","col-3",4,"ngIf"],[1,"col-3"],["data-trigger-switch","contractDataModel.salePriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.salePriceAllowAgreement","name","contractTypeSelected.salePriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","contractTypeSelected.salePriceAllowAgreement",1,"custom-control-label"],["for","contractDataModel.depositPrice",1,"color-highlight"],["matInput","","name","contractDataModel.depositPrice","type","text","currencyMask","","placeholder","0","id","contractDataModel.depositPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["matInput","","name","contractDataModel.depositPrice","type","text","currencyMask","","placeholder","0","id","contractDataModel.depositPrice",1,"input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.depositPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.depositPriceByAgreement","name","contractDataModel.depositPriceByAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","contractDataModel.depositPriceByAgreement",1,"custom-control-label"],["for","contractDataModel.rentPrice",1,"color-highlight"],["matInput","","name","contractDataModel.rentPrice","type","text","currencyMask","","placeholder","0","id","contractDataModel.rentPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["matInput","","name","contractDataModel.rentPrice","type","text","currencyMask","","placeholder","0","id","contractDataModel.rentPrice",1,"input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.rentPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.rentPriceByAgreement","name","contractDataModel.rentPriceByAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","contractDataModel.rentPriceByAgreement",1,"custom-control-label"],["for","contractDataModel.periodPrice",1,"color-highlight"],["matInput","","name","contractDataModel.periodPrice","type","text","currencyMask","","placeholder","0","id","contractDataModel.periodPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["matInput","","name","contractDataModel.description","type","text","minlength","0","maxlength","500","rows","5","id","contractDataModel.description",3,"ngModelChange","ngModel","placeholder"],["matInput","","name","contractDataModel.periodPrice","type","text","currencyMask","","placeholder","0","id","contractDataModel.periodPrice",1,"input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.periodPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.periodPriceByAgreement","name","contractDataModel.periodPriceByAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","contractDataModel.periodPriceByAgreement",1,"custom-control-label"],[1,"example-container","mat-elevation-z8"],["multiTemplateDataRows","",3,"dataSource"],["matColumnDef","LinkEstateContractTypeId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","SalePrice"],["matColumnDef","DepositPrice"],["matColumnDef","RentPrice"],["matColumnDef","PeriodPrice"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","descriptionDetail"],["colspan","6",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even",4,"matRowDef","matRowDefColumns"],[1,"Action"],["type","button","mat-icon-button","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["matTooltipPosition","before","aria-hidden","false",2,"color","red",3,"matTooltip"],["colspan","6"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let l=I();y(0,"app-cms-guide-notice",24),a(1,"div",25),y(2,"app-progress-spinner",26),a(3,"div",27)(4,"p",28),d(5),r(),a(6,"p"),d(7),_(8,"translate"),r(),y(9,"app-cms-form-result-message",29),a(10,"form",30,0),E("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(12,"mat-vertical-stepper",31,1),E("selectionChange",function(c){u(l);let L=A(13);return f(t.onStepClick(c,L))}),a(14,"mat-step",32),_(15,"translate"),a(16,"app-estate-property-type-usage-selector",33),_(17,"translate"),E("optionChange",function(c){return u(l),f(t.onActionSelectorSelectUsage(c))}),r(),R(18,Wx,2,1,"div",34)(19,Hx,2,7,"app-estate-property-type-landuse-selector",35),y(20,"br")(21,"br")(22,"br"),R(23,oP,30,25,"div",36),r(),R(24,uP,8,10,"mat-step",37),a(25,"mat-step",32),_(26,"translate"),R(27,fP,2,6,"app-estate-account-agency-selector",38)(28,_P,2,5,"app-estate-account-expert-selector",39)(29,gP,7,7,"div",40)(30,CP,7,7,"div",40)(31,hP,7,7,"div",40)(32,yP,7,7,"div",40)(33,kP,14,8,"div",41)(34,VP,5,4,"div",42),r(),R(35,JP,12,11,"mat-step",43),a(36,"mat-step",32),_(37,"translate"),R(38,$P,9,8,"div",40)(39,tA,9,8,"div",40)(40,nA,5,4,"div",42),r(),a(41,"mat-step",44),_(42,"translate"),a(43,"p"),d(44),_(45,"translate"),r(),a(46,"app-estate-contract-type-selector",45),_(47,"translate"),E("optionChange",function(c){return u(l),f(t.onActionSelectorContractType(c))}),r(),R(48,qA,13,12,"div",46),r(),a(49,"mat-step",47),_(50,"translate"),a(51,"p"),d(52),_(53,"translate"),r(),a(54,"div",48)(55,"a",49),_(56,"cmsthumbnail"),R(57,QA,2,4,"img",50),r()(),a(58,"div",51)(59,"div",52)(60,"label",53),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),d(61),_(62,"translate"),r(),a(63,"input",54,2),_(65,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),r()()()(),a(66,"mat-step",47),_(67,"translate"),a(68,"p"),d(69),_(70,"translate"),r(),a(71,"div",48)(72,"a",49),_(73,"cmsthumbnail"),R(74,zA,2,4,"img",50),r()(),a(75,"div",51)(76,"div",52)(77,"label",53),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),d(78),_(79,"translate"),r(),a(80,"input",55,2),_(82,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),r()(),a(83,"cms-file-manager",56),E("itemSelected",function(c){return u(l),f(t.onActionFileSelectedLinkMainImageId(c))}),w("openFormChange",function(c){return u(l),T(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),f(c)}),r()(),y(84,"hr"),R(85,KA,3,3,"p",36),a(86,"app-cms-files-selector",57),w("dataFileModelChange",function(c){return u(l),T(t.dataFileModelImgaes,c)||(t.dataFileModelImgaes=c),f(c)}),r(),y(87,"hr"),R(88,ZA,6,5,"div",36),a(89,"h3"),d(90),_(91,"translate"),r(),a(92,"app-cms-360-image-list",58),w("dataModelChange",function(c){return u(l),T(t.dataModel.file360Views,c)||(t.dataModel.file360Views=c),f(c)}),r(),y(93,"br"),a(94,"h3"),d(95),_(96,"translate"),r(),a(97,"app-cms-360-tour-list",59),w("dataModelChange",function(c){return u(l),T(t.dataModel.file360Tour,c)||(t.dataModel.file360Tour=c),f(c)}),r(),R(98,YA,10,11,"div",42),r(),a(99,"mat-step",60),_(100,"translate"),a(101,"p"),d(102),_(103,"translate"),r(),a(104,"app-cms-map",61),E("map$",function(c){return u(l),f(t.receiveMap(c))})("zoom$",function(c){return u(l),f(t.receiveZoom(c))}),r(),a(105,"button",62),E("click",function(){return u(l),f(t.ActionCurrentPoint())}),d(106),_(107,"translate"),r(),R(108,JA,7,7,"div",42),r(),R(109,XA,2,0,"ng-template",63)(110,$A,2,0,"ng-template",64)(111,e4,2,0,"ng-template",65)(112,t4,2,0,"ng-template",66),r()()()()}i&2&&(m("Key","estate.property.list.add")("svg","assets/media/svg/icons/General/Notifications1.svg"),o(2),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",g(8,85,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(5),m("label",P(g(15,87,"TITLE.REQUIRED_INFORMATION"))),o(2),m("optionDisabled",!(t.fieldsInfo.linkPropertyTypeUsageId!=null&&t.fieldsInfo.linkPropertyTypeUsageId.accessAddField))("optionTypeView",2)("optionSelectForce",t.dataModel.linkPropertyTypeUsageId)("optionPlaceholder",g(17,89,"TITLE.Type_Usage")),o(2),m("ngIf",t.dataModel.linkPropertyTypeUsageId&&t.dataModel.linkPropertyTypeUsageId.length>0&&t.listTypeLanduse&&t.listTypeLanduse.length>0),o(),m("ngIf",(!t.listTypeLanduse||t.listTypeLanduse.length===0)&&t.dataModel.linkPropertyTypeUsageId&&t.dataModel.linkPropertyTypeUsageId.length>0),o(4),m("ngIf",t.dataModel.linkPropertyTypeLanduseId&&t.dataModel.linkPropertyTypeLanduseId.length>0),o(),m("ngIf",t.tokenHelper.isAdminSite),o(),m("label",P(g(26,91,"TITLE.Personal_Information"))),o(2),m("ngIf",t.tokenHelper.isAdminSite),o(),m("ngIf",t.tokenHelper.isAdminSite),o(),m("ngIf",t.fieldsInfo.aboutAgentMobile==null?null:t.fieldsInfo.aboutAgentMobile.accessWatchField),o(),m("ngIf",t.fieldsInfo.aboutAgentTel==null?null:t.fieldsInfo.aboutAgentTel.accessWatchField),o(),m("ngIf",t.fieldsInfo.aboutCustomerMobile==null?null:t.fieldsInfo.aboutCustomerMobile.accessWatchField),o(),m("ngIf",t.fieldsInfo.aboutCustomerTel==null?null:t.fieldsInfo.aboutCustomerTel.accessWatchField),o(),m("ngIf",t.fieldsInfo.actionCreateNewCmsUser==null?null:t.fieldsInfo.actionCreateNewCmsUser.accessWatchField),o(),m("ngIf",t.formInfo.submitButtonEnabled),o(),m("ngIf",t.dataModel.propertyDetailGroups&&t.dataModel.propertyDetailGroups.length>0),o(),m("label",P(g(37,93,"TITLE.SECRET_INFORMATION"))),o(2),m("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),o(),m("ngIf",t.fieldsInfo.addressHidden==null?null:t.fieldsInfo.addressHidden.accessWatchField),o(),m("ngIf",t.formInfo.submitButtonEnabled),o(),m("label",P(g(42,95,"TITLE.Transaction"))),o(3),h(" ",g(45,97,"TITLE.Specify_the_type_of_transaction_for_this_property")," "),o(2),m("optionTypeView",2)("optionDisabled",!1)("optionPlaceholder",g(47,99,"TITLE.Type_Of_Transaction"))("optionSelectForce",t.contractDataModel.linkEstateContractTypeId),o(2),m("ngIf",t.contractTypeSelected&&t.contractTypeSelected.id.length>0),o(),m("label",P(g(50,101,"TITLE.ATTACH_FILES"))),o(3),x(g(53,103,"TITLE.CONTENT_ATTACH_FILES")),o(3),m("href",P(g(56,105,t.dataModel.linkMainImageIdSrc)),H),o(2),m("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(4),x(g(62,107,"TITLE.Original_Photo")),o(2),m("placeholder",P(g(65,109,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),m("label",P(g(67,111,"TITLE.ATTACH_FILES"))),o(3),x(g(70,113,"TITLE.CONTENT_ATTACH_FILES")),o(3),m("href",P(g(73,115,t.dataModel.linkMainImageIdSrc)),H),o(2),m("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(4),x(g(79,117,"TITLE.Original_Photo")),o(2),m("placeholder",P(g(82,119,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),m("language",t.appLanguage)("openDirectUploadView",!0)("isPopup",!0),b("openForm",t.fileManagerOpenForm),m("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(2),m("ngIf",t.dataFileModelImgaes&&t.dataFileModelImgaes.size>0),o(),b("dataFileModel",t.dataFileModelImgaes),m("optionFileType",t.selectFileTypeMainImage)("openDirectUploadView",!0),o(2),m("ngIf",!t.hidden),o(2),x(g(91,121,"TITLE.image_360")),o(2),b("dataModel",t.dataModel.file360Views),o(3),x(g(96,123,"TITLE.virtual_tour")),o(2),b("dataModel",t.dataModel.file360Tour),m("dataImageModel",t.dataModel.file360Views),o(),m("ngIf",t.formInfo.submitButtonEnabled),o(),m("label",P(g(100,125,"TITLE.Location"))),o(3),h(" ",g(103,127,"TITLE.Click_on_the_map_to_specify_the_location")," "),o(2),m("optonCenter",t.mapOptonCenter),o(2),h(" ",g(107,129,"ACTION.MY_LOCATION")," "),o(2),m("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[re,cl,pl,ml,ul,fl,Re,X,Ft,Oo,Jt,$,Te,le,Ee,ge,_e,Ae,Ue,zo,Ho,jo,Uo,Qo,qo,De,we,ee,ui,fi,_i,gi,mi,$e,tt,at,it,et,rt,nt,ot,lt,st,Go,kn,hi,Ei,Si,no,vi,Ii,zt,U,Pn,se,Mi,la,sa,da,ca,pa,ma,yi,Bt,un,wo,aa,oa,fa,Zi,_a,ea,qe,ko,W,An,he],encapsulation:2});var rl=Zr;var Yr=class Yr{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};Yr.\u0275fac=function(e){return new(e||Yr)},Yr.\u0275cmp=V({type:Yr,selectors:[["app-estate-main"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&y(0,"router-outlet")},dependencies:[Bs],encapsulation:2});var Jr=Yr;var Lc=[{path:"",component:Jr,data:{title:"ROUTE.ESTATE.MAIN"},children:[{path:"overview-events",component:za,data:{title:"ROUTE.ESTATE.EVENTS"}},{path:"overview-summary",component:Za,data:{title:"ROUTE.ESTATE.SUMMARY"}},{path:"property",component:Je,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/Action/:Action",component:Je,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkPropertyTypeLanduseId/:LinkPropertyTypeLanduseId",component:Je,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkPropertyTypeUsageId/:LinkPropertyTypeUsageId",component:Je,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkContractTypeId/:LinkContractTypeId",component:Je,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkBillboardId/:LinkBillboardId",component:Je,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkCustomerOrderId/:LinkCustomerOrderId",component:Je,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkUserId/:LinkUserId",component:Je,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkProjectId/:LinkProjectId",component:Je,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkCompanyId/:LinkCompanyId",component:Je,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkEstateExpertId/:LinkEstateExpertId",component:Je,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkEstateAgencyId/:LinkEstateAgencyId",component:Je,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/InChecking/:InChecking",component:Je,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/recordstatus/:RecordStatus",component:Je,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/add",component:rl,data:{title:"ROUTE.ESTATE.PROPERTYADD"}},{path:"property/add/LinkPropertyTypeLanduseId/:LinkPropertyTypeLanduseId",component:rl,data:{title:"ROUTE.ESTATE.PROPERTYADD"}},{path:"property/edit/:id",component:Kr,data:{title:"ROUTE.ESTATE.PROPERTYEDIT"}},{path:"property-type-usage",component:qr,data:{title:"ROUTE.ESTATE.TYPEUSAGE"}},{path:"property-type-landuse",component:Gr,data:{title:"ROUTE.ESTATE.LANDUSE"}},{path:"property-ads/LinkPropertyId/:LinkPropertyId",component:co,data:{title:"ROUTE.ESTATE.PROPERTYADS"}},{path:"property-ads",component:co,data:{title:"ROUTE.ESTATE.PROPERTYADS"}},{path:"property-ads/sale/:LinkPropertyId",component:ir,data:{title:"ROUTE.ESTATE.PROPERTYADS"}},{path:"activity-type",component:ha,data:{title:"ROUTE.ESTATE.ACTIVITYTYPE"}},{path:"property-company",component:So,data:{title:"ROUTE.ESTATE.COMPANY"}},{path:"property-company/LinkProjectId/:LinkProjectId",component:So,data:{title:"ROUTE.ESTATE.COMPANY"}},{path:"property-company/add",component:or,data:{title:"ROUTE.ESTATE.COMPANY"}},{path:"property-company/edit/:id",component:rr,data:{title:"ROUTE.ESTATE.COMPANY"}},{path:"property-supplier",component:Io,data:{title:"ROUTE.ESTATE.SUPPLIER"}},{path:"property-supplier/LinkProjectId/:LinkProjectId",component:Io,data:{title:"ROUTE.ESTATE.SUPPLIER"}},{path:"property-supplier/add",component:Rr,data:{title:"ROUTE.ESTATE.SUPPLIER"}},{path:"property-supplier/edit/:id",component:kr,data:{title:"ROUTE.ESTATE.SUPPLIER"}},{path:"ads-type",component:Ea,data:{title:"ROUTE.ESTATE.ADSTYPE"}},{path:"account-agency",component:Rn,data:{title:"ROUTE.ESTATE.ACCOUNTAGENCY"}},{path:"account-agency/LinkAccountUserId/:LinkAccountUserId",component:Rn,data:{title:"ROUTE.ESTATE.ACCOUNTAGENCY"}},{path:"account-user",component:Dn,data:{title:"ROUTE.ESTATE.ACCOUNTUSER"}},{path:"account-user/LinkAccountAgencyId/:LinkAccountAgencyId",component:Dn,data:{title:"ROUTE.ESTATE.ACCOUNTUSER"}},{path:"contract-type",component:Ha,data:{title:"ROUTE.ESTATE.CONTRACTTYPE"}},{path:"billboard",component:La,data:{title:"ROUTE.ESTATE.BILLBOARD"}},{path:"billboard/add",component:lo,data:{title:"ROUTE.ESTATE.BILLBOARD"}},{path:"billboard/add-copy/:id",component:lo,data:{title:"ROUTE.ESTATE.BILLBOARD"}},{path:"billboard/edit/:id",component:Da,data:{title:"ROUTE.ESTATE.BILLBOARD"}},{path:"property-project",component:wr,data:{title:"ROUTE.ESTATE.PROJECT"}},{path:"property-project/add",component:Er,data:{title:"ROUTE.ESTATE.PROJECT"}},{path:"property-project/edit/:id",component:Ir,data:{title:"ROUTE.ESTATE.PROJECT"}},{path:"category-zone",component:Oa,data:{title:"ROUTE.ESTATE.CATEGORY.ZONE"}},{path:"property-detail-group",component:_r,data:{title:"ROUTE.ESTATE.DETAIL.GROUP"}},{path:"property-detail",component:Eo,data:{title:"ROUTE.ESTATE.PROPERTYDETAIL"}},{path:"property-detail/LinkPropertyTypeLanduseId/:LinkPropertyTypeLanduseId",component:Eo,data:{title:"ROUTE.ESTATE.PROPERTYDETAIL"}}]}];var i4=["vform"],n4=()=>["fa"];function o4(n,s){if(n&1&&(y(0,"img",15),_(1,"cmsthumbnail")),n&2){let e=p();m("src",P(g(1,2,e.dataModel.linkMainImageIdSrc)),H)}}function a4(n,s){n&1&&y(0,"i",22)}function r4(n,s){n&1&&y(0,"i",23)}function l4(n,s){n&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function s4(n,s){if(n&1){let e=I();a(0,"div",16)(1,"label",28),d(2),r(),a(3,"input",29,4),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.iconFont,t)||(l.dataModel.iconFont=t),f(t)}),E("iconPickerSelect",function(t){u(e);let l=p();return f(l.onIconPickerSelect(t))}),r(),a(5,"span",30),y(6,"i",31),r()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),m("iconPicker",e.dataModel.iconFont)("ipIconPack",fe(9,n4))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),o(3),m("ngClass",e.dataModel.iconFont)}}function d4(n,s){if(n&1){let e=I();a(0,"div",24)(1,"label",32),d(2),r(),a(3,"div",33)(4,"div",34)(5,"input",35,5),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.iconColor,t)||(l.dataModel.iconColor=t),f(t)}),r()(),a(7,"div",36),y(8,"ngx-mat-color-toggle",37)(9,"ngx-mat-color-picker",38,6),r()()()}if(n&2){let e=A(10),i=p();o(2),x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ae("background",i.dataModel.iconColor),m("placeholder",P(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),m("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),m("for",e),o(),m("touchUi",!0)("color","primary")}}function c4(n,s){n&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function p4(n,s){if(n&1){let e=I();a(0,"div",27)(1,"button",39),E("click",function(){u(e);let t=p();return f(t.onFormCancel())}),y(2,"i",40),d(3),_(4,"translate"),r(),a(5,"button",41),y(6,"i",42),d(7),_(8,"translate"),r()()}if(n&2){p();let e=A(10);o(3),h(" ",g(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),h(" ",g(8,5,"ACTION.SAVE")," ")}}var Xr=class Xr extends _t{constructor(e,i,t,l,C,c,L,q){super(l,new Wn,c,q);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateCategoryRackService=l;this.cmsToastrService=C;this.publicHelper=c;this.cdr=L;this.translate=q;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new j;this.dataModel=new Wn;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateCategoryRackService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Xr.\u0275fac=function(i){return new(i||Xr)(v(Ve),v(Le),v(te),v($n),v(O),v(G),v(N),v(B))},Xr.\u0275cmp=V({type:Xr,selectors:[["app-estate-category-rack-add"]],viewQuery:function(i,t){if(i&1&&Q(i4,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[Y],decls:46,vars:47,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=I();a(0,"div",7),y(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),d(4),r(),a(5,"p"),d(6),_(7,"translate"),r(),y(8,"app-cms-form-result-message",11),a(9,"form",12,0),E("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(11,"div",13)(12,"a",14),_(13,"cmsthumbnail"),S(14,o4,2,4,"img",15),r()(),a(15,"div",16)(16,"label",17),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),d(17),_(18,"translate"),r(),a(19,"input",18,1),_(21,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),r(),a(22,"cms-file-manager",19),_(23,"translate"),E("itemSelected",function(c){return u(l),f(t.onActionFileSelected(c))}),w("openFormChange",function(c){return u(l),T(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),f(c)}),r()(),a(24,"div",16)(25,"label",20),d(26),r(),a(27,"input",21,2),w("ngModelChange",function(c){return u(l),T(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),r(),S(29,a4,1,0,"i",22),S(30,r4,1,0,"i",23),a(31,"em"),d(32),r(),S(33,l4,5,3,"mat-error"),r(),S(34,s4,7,10,"div",16),S(35,d4,11,11,"div",24),a(36,"div",16)(37,"label",25),d(38),r(),a(39,"textarea",26,3),w("ngModelChange",function(c){return u(l),T(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),d(41,"                  "),r(),a(42,"em"),d(43),r(),S(44,c4,5,3,"mat-error"),r(),S(45,p4,9,7,"div",27),r()()()}if(i&2){let l=A(28),C=A(40);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",g(7,37,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(4),m("href",P(g(13,39,t.dataModel.linkMainImageIdSrc)),H),o(2),M((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?14:-1),o(3),x(g(18,41,"TITLE.PICTURE")),o(2),m("placeholder",P(g(21,43,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),m("language",t.appLanguage)("isPopup",!0)("openSelectFileDescription",g(23,45,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),b("openForm",t.fileManagerOpenForm),m("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(4),x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),M(l.value?-1:29),o(),M(l.value?30:-1),o(2),h("",l.value.length," / 100"),o(),M(l.errors!=null&&l.errors.required?33:-1),o(),M(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessWatchField?34:-1),o(),M(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessWatchField?35:-1),o(3),x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),h("",C.value.length," / 500"),o(),M(C.errors!=null&&C.errors.required?44:-1),o(),M(t.formInfo.submitButtonEnabled?45:-1)}},dependencies:[re,Re,X,$,Te,le,Ee,ge,_e,Ae,De,Ze,ee,U,se,Kt,Qt,qt,Ut,qe,W,he],encapsulation:2});var _s=Xr;var m4=["vform"],u4=()=>["fa"];function f4(n,s){if(n&1&&(y(0,"img",15),_(1,"cmsthumbnail")),n&2){let e=p();m("src",P(g(1,2,e.dataModel.linkMainImageIdSrc)),H)}}function _4(n,s){n&1&&y(0,"i",22)}function g4(n,s){n&1&&y(0,"i",23)}function C4(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2){let e=p();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),x(g(4,2,"MESSAGE.required"))}}function h4(n,s){if(n&1){let e=I();a(0,"div",16)(1,"label",28),d(2),r(),a(3,"input",29,4),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.iconFont,t)||(l.dataModel.iconFont=t),f(t)}),E("iconPickerSelect",function(t){u(e);let l=p();return f(l.onIconPickerSelect(t))}),r(),a(5,"span",30),y(6,"i",31),r()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),m("iconPicker",e.dataModel.iconFont)("ipIconPack",fe(9,u4))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessEditField)),o(3),m("ngClass",e.dataModel.iconFont)}}function y4(n,s){if(n&1){let e=I();a(0,"div",24)(1,"label",32),d(2),r(),a(3,"div",33)(4,"div",34)(5,"input",35,5),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.iconColor,t)||(l.dataModel.iconColor=t),f(t)}),r()(),a(7,"div",36),y(8,"ngx-mat-color-toggle",37)(9,"ngx-mat-color-picker",38,6),r()()()}if(n&2){let e=A(10),i=p();o(2),x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ae("background",i.dataModel.iconColor),m("placeholder",P(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),m("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),o(3),m("for",e),o(),m("touchUi",!0)("color","primary")}}function S4(n,s){n&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2&&(o(3),x(g(4,1,"MESSAGE.required")))}function M4(n,s){if(n&1){let e=I();a(0,"div",27)(1,"button",39),E("click",function(){u(e);let t=p();return f(t.onFormCancel())}),y(2,"i",40),d(3),_(4,"translate"),r(),a(5,"button",41),y(6,"i",42),d(7),_(8,"translate"),r()()}if(n&2){p();let e=A(10);o(3),h(" ",g(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),h(" ",g(8,5,"ACTION.SAVE")," ")}}var $r=class $r extends Tt{constructor(e,i,t,l,C,c,L,q,Se){super(l,new Wn,L,Se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateCategoryRackService=l;this.estatePropertyTypeService=C;this.cmsToastrService=c;this.publicHelper=L;this.cdr=q;this.translate=Se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ht;this.dataModel=new Wn;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.dataEstatePropertyTypeUsageIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateCategoryRackService.setAccessLoad(),this.estateCategoryRackService.setAccessDataType(Be.Editor),this.estateCategoryRackService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)});let i=new oe,t=new Z;t.propertyName="LinkCategoryRackId",t.value=this.requestId,i.filters.push(t),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:l=>{this.dataEstatePropertyTypeModel=l.listItems;let C=[];this.dataEstatePropertyTypeModel.forEach(c=>{C.push(c.linkPropertyTypeUsageId)}),this.dataEstatePropertyTypeUsageIds=C,l.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.submitResultMessage=c}),this.formInfo.submitResultMessage=l.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(l.errorMessage)),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateCategoryRackService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorUserCategorySelect(e){this.dataEstatePropertyTypeUsageModel=e}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};$r.\u0275fac=function(i){return new(i||$r)(v(Ve),v(Le),v(te),v($n),v(Ui),v(O),v(G),v(N),v(B))},$r.\u0275cmp=V({type:$r,selectors:[["app-estate-category-rack-edit"]],viewQuery:function(i,t){if(i&1&&Q(m4,5),i&2){let l;z(l=K())&&(t.formGroup=l.first)}},standalone:!1,features:[Y],decls:46,vars:47,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=I();a(0,"div",7),y(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),d(4),r(),a(5,"p"),d(6),_(7,"translate"),r(),y(8,"app-cms-form-result-message",11),a(9,"form",12,0),E("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(11,"div",13)(12,"a",14),_(13,"cmsthumbnail"),S(14,f4,2,4,"img",15),r()(),a(15,"div",16)(16,"label",17),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),d(17),_(18,"translate"),r(),a(19,"input",18,1),_(21,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),r(),a(22,"cms-file-manager",19),_(23,"translate"),E("itemSelected",function(c){return u(l),f(t.onActionFileSelected(c))}),w("openFormChange",function(c){return u(l),T(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),f(c)}),r()(),a(24,"div",16)(25,"label",20),d(26),r(),a(27,"input",21,2),w("ngModelChange",function(c){return u(l),T(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),r(),S(29,_4,1,0,"i",22),S(30,g4,1,0,"i",23),a(31,"em"),d(32),r(),S(33,C4,5,4,"mat-error"),r(),S(34,h4,7,10,"div",16),S(35,y4,11,11,"div",24),a(36,"div",16)(37,"label",25),d(38),r(),a(39,"textarea",26,3),w("ngModelChange",function(c){return u(l),T(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),d(41,"                  "),r(),a(42,"em"),d(43),r(),S(44,S4,5,3,"mat-error"),r(),S(45,M4,9,7,"div",27),r()()()}if(i&2){let l=A(28),C=A(40);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",g(7,37,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(4),m("href",P(g(13,39,t.dataModel.linkMainImageIdSrc)),H),o(2),M((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?14:-1),o(3),x(g(18,41,"TITLE.PICTURE")),o(2),m("placeholder",P(g(21,43,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),m("language",t.appLanguage)("isPopup",!0)("openSelectFileDescription",g(23,45,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),b("openForm",t.fileManagerOpenForm),m("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(4),x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),M(l.value?-1:29),o(),M(l.value?30:-1),o(2),h("",l.value.length," / 100"),o(),M(l.errors!=null&&l.errors.required?33:-1),o(),M(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessWatchField?34:-1),o(),M(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessWatchField?35:-1),o(3),x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),h("",C.value.length," / 500"),o(),M(C.errors!=null&&C.errors.required?44:-1),o(),M(t.formInfo.submitButtonEnabled?45:-1)}},dependencies:[re,Re,X,$,Te,le,Ee,ge,_e,Ae,De,Ze,ee,U,se,Kt,Qt,qt,Ut,qe,W,he],encapsulation:2});var gs=$r;var E4=()=>[5,10,20,100],v4=n=>({background:n});function I4(n,s){if(n&1){let e=I();a(0,"div",15)(1,"a",39),E("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),y(2,"i",40)(3,"br"),r(),a(4,"p",19),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.ADD")," "))}function b4(n,s){if(n&1){let e=I();a(0,"div",15)(1,"a",41),E("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),y(2,"i",42)(3,"br"),r(),a(4,"p",19),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.EDIT")," "))}function T4(n,s){if(n&1){let e=I();a(0,"div",15)(1,"a",43),E("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),y(2,"i",44)(3,"br"),r(),a(4,"p",19),d(5),_(6,"translate"),r()()}n&2&&(o(5),h(" ",g(6,1,"ACTION.DELETE")," "))}function w4(n,s){n&1&&(a(0,"mat-header-cell",45),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.PICTURE")," "))}function x4(n,s){if(n&1&&(y(0,"img",46),_(1,"cmsthumbnail")),n&2){let e=p().$implicit;m("src",P(g(1,2,e.linkMainImageIdSrc)),H)}}function P4(n,s){if(n&1&&(a(0,"mat-cell"),S(1,x4,2,4,"img",46),r()),n&2){let e=s.$implicit;o(),M((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function A4(n,s){if(n&1&&(a(0,"mat-header-cell",45),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle," ")}}function R4(n,s){if(n&1&&(a(0,"mat-cell"),y(1,"i",47),r()),n&2){let e=s.$implicit;o(),ae("color",e.iconColor),m("ngClass",e.iconFont)}}function D4(n,s){if(n&1&&(a(0,"mat-header-cell",45),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function k4(n,s){if(n&1&&(a(0,"mat-cell"),y(1,"i",47),r()),n&2){let e=s.$implicit;o(),ae("color",e.iconColor),m("ngClass",e.iconFont)}}function L4(n,s){if(n&1&&(a(0,"mat-header-cell",45),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function V4(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.title," ")}}function F4(n,s){if(n&1&&(a(0,"mat-header-cell",45),d(1),r()),n&2){let e=p();o(),h(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function B4(n,s){if(n&1&&(a(0,"mat-cell"),d(1),r()),n&2){let e=s.$implicit;o(),h(" ",e.description," ")}}function O4(n,s){n&1&&(a(0,"mat-header-cell"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.OPTION")," "))}function N4(n,s){if(n&1&&(a(0,"mat-cell",48)(1,"button",49)(2,"mat-icon"),d(3,"more_vert"),r()(),y(4,"mat-menu",null,2),r()),n&2){let e=A(5);o(),m("matMenuTriggerFor",e)}}function G4(n,s){n&1&&y(0,"mat-header-row")}function W4(n,s){if(n&1){let e=I();a(0,"mat-row",50),E("click",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=u(e).$implicit,C=p();return f(C.onActionTableRowSelect(l,t))}),r()}if(n&2){let e=s.$implicit,i=p();m("ngStyle",Nt(1,v4,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"#d3d3da":""))}}var el=class el extends wt{constructor(e,i,t,l,C,c,L,q,Se,je,Ke,Ot){super(e,new Wn,Ke,C,L);this.contentService=e;this.cmsConfirmationDialogService=i;this.cmsToastrService=t;this.router=l;this.tokenHelper=C;this.cdr=c;this.translate=L;this.themeService=q;this.cmsStoreService=Se;this.pageInfo=je;this.publicHelper=Ke;this.dialog=Ot;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new oe;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","IconFont","Description"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","IconFont","Description"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ii=>this.onSubmitOptionsSearch(ii)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=J.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Me(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Wn);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=J.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=J.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(_s,{height:"90%",panelClass:e,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(gs,{height:"90%",panelClass:i,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let C=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(C,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})}onActionButtonContentDetailList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/estate/property-detail/LinkCategoryRackId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-detail/LinkCategoryRackId/",this.tableRowSelected.id])}onActionButtonContentList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/estate/property/LinkCategoryRackId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkCategoryRackId/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{i.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),C=new Z;C.propertyName="recordStatus",C.value=He.Available,l.filters.push(C),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{i.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};el.\u0275fac=function(i){return new(i||el)(v($n),v(bt),v(O),v(ke),v(de),v(N),v(B),v(jt),v(Ce),v(It),v(G),v(Oe))},el.\u0275cmp=V({type:el,selectors:[["app-estate-category-rack-list"]],standalone:!1,features:[Y],decls:67,vars:36,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-buildings","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","id"],["matColumnDef","title"],["matColumnDef","Description"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ngStyle","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick","ngStyle"]],template:function(i,t){if(i&1){let l=I();a(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(c){return u(l),T(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),E("optionOnActionButtonMemoRow",function(){return u(l),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(l),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(l),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(l),f(t.onActionButtonPrintRow())}),D(1,4),d(2," -------------------------------------- "),k(),Ye(3,5)(4,6),D(5,7),a(6,"a",8),E("click",function(){return u(l),f(t.viewGuideNotice=!t.viewGuideNotice)}),y(7,"i",9),r(),a(8,"a",8),E("click",function(){return u(l),f(t.onActionButtonReload())}),y(9,"i",10),r(),k(),D(10,11),a(11,"a",12),E("click",function(){return u(l),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),y(12,"mat-slide-toggle",13),d(13),_(14,"translate"),r(),a(15,"a",12),E("click",function(){return u(l),f(t.onActionButtonStatist())}),y(16,"mat-slide-toggle",13),d(17),_(18,"translate"),r(),k(),D(19,14),S(20,I4,7,3,"div",15),k(),D(21,16),S(22,b4,7,3,"div",15),S(23,T4,7,3,"div",15),a(24,"div",15)(25,"a",17),E("click",function(c){return u(l),f(t.onActionButtonContentDetailList(t.tableRowSelected,c))}),y(26,"i",18)(27,"br"),r(),a(28,"p",19),d(29),_(30,"translate"),r()(),a(31,"div",15)(32,"a",17),E("click",function(c){return u(l),f(t.onActionButtonContentList(t.tableRowSelected,c))}),y(33,"i",20)(34,"br"),r(),a(35,"p",19),d(36),_(37,"translate"),r()(),k(),D(38,21),a(39,"app-cms-search-list",22),w("optionsChange",function(c){return u(l),T(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),r(),a(40,"app-cms-statist-list",22),w("optionsChange",function(c){return u(l),T(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),r(),k(),D(41,23),a(42,"mat-table",24,0),E("matSortChange",function(){u(l);let c=A(43);return f(t.onTableSortData(c))}),D(44,25),R(45,w4,3,3,"mat-header-cell",26)(46,P4,2,1,"mat-cell",27),k(),D(47,28),R(48,A4,2,1,"mat-header-cell",26)(49,R4,2,3,"mat-cell",27),k(),D(50,29),R(51,D4,2,1,"mat-header-cell",26)(52,k4,2,3,"mat-cell",27),k(),D(53,30),R(54,L4,2,1,"mat-header-cell",26)(55,V4,2,1,"mat-cell",27),k(),D(56,31),R(57,F4,2,1,"mat-header-cell",26)(58,B4,2,1,"mat-cell",27),k(),D(59,32),R(60,O4,3,3,"mat-header-cell",33)(61,N4,6,1,"mat-cell",34),k(),R(62,G4,1,0,"mat-header-row",35)(63,W4,1,3,"mat-row",36),r(),k(),D(64,37),a(65,"mat-paginator",38,1),E("page",function(c){return u(l),f(t.onTablePageingData(c))}),r(),k(),r()}i&2&&(m("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),m("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),ne("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),m("checked",t.optionsSearch.data.show),o(),h("",g(14,27,"ACTION.SEARCH")," "),o(3),m("checked",t.optionsStatist.data.show),o(),h("",g(18,29,"ACTION.STATIST")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(6),h(" ",g(30,31,"ACTION.DETAIL")," "),o(7),h(" ",g(37,33,"ACTION.PROPERTYLIST")," "),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),m("dataSource",t.tableSource),o(20),m("matHeaderRowDef",t.tabledisplayedColumns),o(),m("matRowDefColumns",t.tabledisplayedColumns),o(2),m("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",fe(35,E4)))},dependencies:[re,oi,Ue,we,yt,St,Mt,ft,Et,vt,$e,tt,at,it,et,rt,nt,ot,lt,st,xt,Pt,At,Rt,W,he],encapsulation:2});var Cs=el;var Ds=Bn(Kn());var H4=["vform"],j4=()=>["descriptionDetail"];function U4(n,s){n&1&&(a(0,"p"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.Property_Type")," "))}function q4(n,s){if(n&1){let e=I();a(0,"div",70)(1,"a",71),E("click",function(){let t=u(e).$implicit,l=p(2);return f(l.onActionSelectorSelectLanduse(t))}),d(2),r()()}if(n&2){let e=s.$implicit,i=p(2);o(),m("ngClass",e.id===i.dataModel.linkPropertyTypeLanduseId?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),li("disabled",i.fieldsInfo.linkPropertyTypeLanduseId!=null&&i.fieldsInfo.linkPropertyTypeLanduseId.accessAddField?null:!0),o(),x(e.titleML)}}function Q4(n,s){if(n&1&&(a(0,"div",68),R(1,q4,3,3,"div",69),r()),n&2){let e=p();o(),m("ngForOf",e.listTypeLanduse)}}function z4(n,s){if(n&1){let e=I();a(0,"app-estate-property-type-landuse-selector",72),_(1,"translate"),E("optionChange",function(t){u(e);let l=p();return f(l.onActionSelectorSelectLanduse(t))}),r()}if(n&2){let e=p();m("optionDisabled",!(e.fieldsInfo.linkPropertyTypeLanduseId!=null&&e.fieldsInfo.linkPropertyTypeLanduseId.accessAddField))("optionTypeView",2)("optionSelectForce",e.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",g(1,5,"TITLE.Property_Type"))("optionTypeUsageId",e.dataModel.linkPropertyTypeUsageId)}}function K4(n,s){if(n&1){let e=I();a(0,"div",80)(1,"div",81)(2,"h5",82),d(3),_(4,"translate"),r()(),a(5,"div",83)(6,"div",84)(7,"input",85),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataProfessional,t)||(l.dataProfessional=t),f(t)}),r(),y(8,"label",86),r()()()}if(n&2){let e=p(2);o(3),h(" ",g(4,2,"TITLE.Would_you_like_to_complete_your_information")," "),o(4),b("ngModel",e.dataProfessional)}}function Z4(n,s){if(n&1){let e=I();a(0,"app-cms-enum-record-status-selector",87),w("modelChange",function(t){u(e);let l=p(2);return T(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),f(t)}),r()}if(n&2){let e=p(2);b("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Y4(n,s){n&1&&y(0,"i",91)}function J4(n,s){n&1&&y(0,"i",92)}function X4(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2){let e=p(3);o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),o(2),x(g(4,2,"MESSAGE.required"))}}function $4(n,s){if(n&1){let e=I();a(0,"mat-icon",93),E("click",function(){u(e);let t=p(3);return f(t.onActionButtonQuickListSearchTitle())}),d(1,"find_replace"),r()}}function eR(n,s){if(n&1){let e=I();a(0,"div",53)(1,"label",88),d(2),r(),a(3,"input",89,4),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.title,t)||(l.dataModel.title=t),f(t)}),r(),R(5,Y4,1,0,"i",78)(6,J4,1,0,"i",79),a(7,"em"),d(8),r(),R(9,X4,5,4,"mat-error",36)(10,$4,2,0,"mat-icon",90),r()}if(n&2){let e=A(4),i=p(2);o(2),x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle))("disabled",P(!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField))),b("ngModel",i.dataModel.title),o(2),m("ngIf",!e.value),o(),m("ngIf",e.value),o(2),h("",e.value.length," / 100"),o(),m("ngIf",e.errors==null?null:e.errors.required),o(),m("ngIf",i.dataModel.title)}}function tR(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2){let e=p(3);o(),h(" ",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle," "),o(2),x(g(4,2,"MESSAGE.required"))}}function iR(n,s){if(n&1){let e=I();a(0,"div",53)(1,"label",94),d(2),r(),a(3,"input",95,5),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.caseCode,t)||(l.dataModel.caseCode=t),f(t)}),r(),a(5,"em"),d(6),r(),R(7,tR,5,4,"mat-error",36),r()}if(n&2){let e=A(4),i=p(2);o(2),x(i.fieldsInfo.caseCode==null?null:i.fieldsInfo.caseCode.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.caseCode==null?null:i.fieldsInfo.caseCode.fieldTitle))("disabled",P(!(i.fieldsInfo.caseCode!=null&&i.fieldsInfo.caseCode.accessAddField))),b("ngModel",i.dataModel.caseCode),o(3),h("",e.value.length," / 100"),o(),m("ngIf",e.errors==null?null:e.errors.required)}}function nR(n,s){if(n&1){let e=I();a(0,"div",80)(1,"div",81)(2,"h5",96),d(3),r()(),a(4,"div",83)(5,"div",84)(6,"input",97),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.viewConfigHiddenInList,t)||(l.dataModel.viewConfigHiddenInList=t),f(t)}),r(),y(7,"label",98),r()()()}if(n&2){let e=p(2);o(3),h(" ",e.fieldsInfo.viewConfigHiddenInList==null?null:e.fieldsInfo.viewConfigHiddenInList.fieldTitle," "),o(3),b("ngModel",e.dataModel.viewConfigHiddenInList)}}function oR(n,s){if(n&1){let e=I();a(0,"div",53)(1,"label",99),d(2),r(),a(3,"input",100,6),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.createdYaer,t)||(l.dataModel.createdYaer=t),f(t)}),r()()}if(n&2){let e=p(2);o(2),h(" ",e.PropertyTypeSelected.titleCreatedYaer),o(),m("placeholder",P(e.fieldsInfo.createdYaer==null?null:e.fieldsInfo.createdYaer.fieldTitle)),b("ngModel",e.dataModel.createdYaer)}}function aR(n,s){if(n&1){let e=I();a(0,"div",53)(1,"label",101),d(2),r(),a(3,"input",102,7),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.partition,t)||(l.dataModel.partition=t),f(t)}),r()()}if(n&2){let e=p(2);o(2),h("",e.PropertyTypeSelected.titlePartition," "),o(),m("placeholder",P(e.PropertyTypeSelected.titlePartition)),b("ngModel",e.dataModel.partition)}}function rR(n,s){if(n&1){let e=I();a(0,"div",53)(1,"label",103),d(2),r(),a(3,"input",104,8),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.area,t)||(l.dataModel.area=t),f(t)}),r()()}if(n&2){let e=p(2);o(2),h("",e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle," "),o(),m("disabled",P(!(e.fieldsInfo.area!=null&&e.fieldsInfo.area.accessAddField)))("placeholder",P(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle)),b("ngModel",e.dataModel.area)}}function lR(n,s){if(n&1){let e=I();a(0,"div",53)(1,"label",105),d(2),r(),a(3,"textarea",106,9),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.address,t)||(l.dataModel.address=t),f(t)}),d(5,"              "),r(),a(6,"em"),d(7),r()()}if(n&2){let e=A(4),i=p(2);o(2),x(i.fieldsInfo.address==null?null:i.fieldsInfo.address.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.address==null?null:i.fieldsInfo.address.fieldTitle)),b("ngModel",i.dataModel.address),m("disabled",!(i.fieldsInfo.address!=null&&i.fieldsInfo.address.accessAddField)),o(4),h("",e.value.length," / 500")}}function sR(n,s){n&1&&y(0,"i",91)}function dR(n,s){n&1&&y(0,"i",92)}function cR(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2){let e=p(2);o(),h(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," "),o(2),x(g(4,2,"MESSAGE.required"))}}function pR(n,s){if(n&1&&(a(0,"button",110),d(1),_(2,"translate"),r()),n&2){p(3);let e=A(11);m("disabled",!e.form.valid),o(),h(" ",g(2,2,"ACTION.NEXT")," ")}}function mR(n,s){if(n&1){let e=I();a(0,"div",107)(1,"button",108),E("click",function(){u(e);let t=p(2);return f(t.onActionBackToParent())}),d(2),_(3,"translate"),r(),R(4,pR,3,4,"button",109),r()}if(n&2){let e=p(2);o(2),h(" ",g(3,2,"ACTION.CANCEL")," "),o(2),m("ngIf",e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0)}}function uR(n,s){if(n&1){let e=I();a(0,"div"),R(1,K4,9,4,"div",73),y(2,"br"),R(3,Z4,1,5,"app-cms-enum-record-status-selector",74)(4,eR,11,11,"div",40)(5,iR,8,8,"div",40)(6,nR,8,2,"div",73)(7,oR,5,4,"div",40)(8,aR,5,4,"div",40)(9,rR,5,6,"div",40),a(10,"app-cms-location-selector",75),_(11,"translate"),E("optionChange",function(t){u(e);let l=p();return f(l.onActionSelectorLocation(t))}),r(),R(12,lR,8,6,"div",40),a(13,"div",53)(14,"label",76),d(15),_(16,"translate"),r(),a(17,"textarea",77,3),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.description,t)||(l.dataModel.description=t),f(t)}),d(19,"              "),r(),a(20,"em"),d(21),r(),R(22,sR,1,0,"i",78)(23,dR,1,0,"i",79)(24,cR,5,4,"mat-error",36),r(),R(25,mR,5,4,"div",42),r()}if(n&2){let e=A(18),i=p();o(),m("ngIf",i.tokenHelper.isAdminSite||i.tokenHelper.isSupportSite),o(2),m("ngIf",i.dataProfessional&&(i.fieldsInfo.recordStatus==null?null:i.fieldsInfo.recordStatus.accessWatchField)),o(),m("ngIf",i.fieldsInfo.title==null?null:i.fieldsInfo.title.accessWatchField),o(),m("ngIf",i.fieldsInfo.caseCode==null?null:i.fieldsInfo.caseCode.accessWatchField),o(),m("ngIf",i.tokenHelper.isAdminSite||i.tokenHelper.isSupportSite),o(),m("ngIf",i.dataModel.linkPropertyTypeLanduseId&&i.PropertyTypeSelected.titleCreatedYaer.length>1&&i.PropertyTypeSelected.titleCreatedYaer!=="---"),o(),m("ngIf",i.dataModel.linkPropertyTypeLanduseId&&i.PropertyTypeSelected.titlePartition.length>1&&i.PropertyTypeSelected.titlePartition!=="---"),o(),m("ngIf",i.fieldsInfo.area==null?null:i.fieldsInfo.area.accessWatchField),o(),m("optionDisabled",!(i.fieldsInfo.linkLocationId!=null&&i.fieldsInfo.linkLocationId.accessAddField))("optionSelectForce",i.dataModel.linkLocationId)("optionPlaceholder",g(11,21,"TITLE.Region")),o(2),m("ngIf",i.fieldsInfo.address==null?null:i.fieldsInfo.address.accessWatchField),o(3),x(g(16,23,"TITLE.General_Description")),o(2),m("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),b("ngModel",i.dataModel.description),o(4),h("",e.value.length," / 2000"),o(),m("ngIf",!e.value),o(),m("ngIf",e.value),o(),m("ngIf",e.errors==null?null:e.errors.required),o(),m("ngIf",i.formInfo.submitButtonEnabled)}}function fR(n,s){if(n&1){let e=I();a(0,"div",53)(1,"label",88),d(2),r(),a(3,"input",111,10),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.linkSiteId,t)||(l.dataModel.linkSiteId=t),f(t)}),r()()}if(n&2){let e=p(2);o(2),x(e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle))("disabled",P(!(e.fieldsInfo.linkSiteId!=null&&e.fieldsInfo.linkSiteId.accessAddField))),b("ngModel",e.dataModel.linkSiteId)}}function _R(n,s){if(n&1){let e=I();a(0,"div",80)(1,"div",81)(2,"h5",112),d(3),r()(),a(4,"div",83)(5,"div",84)(6,"input",113),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.viewContentHidden,t)||(l.dataModel.viewContentHidden=t),f(t)}),r(),y(7,"label",114),r()()()}if(n&2){let e=p(2);o(3),h(" ",e.fieldsInfo.viewContentHidden==null?null:e.fieldsInfo.viewContentHidden.fieldTitle," "),o(3),b("ngModel",e.dataModel.viewContentHidden)}}function gR(n,s){if(n&1){let e=I();a(0,"div",80)(1,"div",81)(2,"h5",115),d(3),r()(),a(4,"div",83)(5,"div",84)(6,"input",116),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.siteAdminViewContentHidden,t)||(l.dataModel.siteAdminViewContentHidden=t),f(t)}),r(),y(7,"label",117),r()()()}if(n&2){let e=p(2);o(3),h(" ",e.fieldsInfo.siteAdminViewContentHidden==null?null:e.fieldsInfo.siteAdminViewContentHidden.fieldTitle," "),o(3),b("ngModel",e.dataModel.siteAdminViewContentHidden)}}function CR(n,s){if(n&1){let e=I();a(0,"app-cms-enum-record-admin-status-selector",87),w("modelChange",function(t){u(e);let l=p(2);return T(l.dataModel.mainAdminRecordStatus,t)||(l.dataModel.mainAdminRecordStatus=t),f(t)}),r()}if(n&2){let e=p(2);b("model",e.dataModel.mainAdminRecordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!1)("optionSelectFirstItem",!0)}}function hR(n,s){if(n&1){let e=I();a(0,"div")(1,"div",118)(2,"label",119),d(3),r(),y(4,"i",120)(5,"i",121),a(6,"input",122,11),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.scoreEstateLocation,t)||(l.dataModel.scoreEstateLocation=t),f(t)}),r()(),a(8,"div",118)(9,"label",123),d(10),r(),y(11,"i",120)(12,"i",121),a(13,"input",124,12),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.scoreEstateBuild,t)||(l.dataModel.scoreEstateBuild=t),f(t)}),r()(),a(15,"div",118)(16,"label",125),d(17),r(),y(18,"i",120)(19,"i",121),a(20,"input",126,13),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.scoreEstatePrice,t)||(l.dataModel.scoreEstatePrice=t),f(t)}),r()()()}if(n&2){let e=p(2);o(3),x(e.fieldsInfo.scoreEstateLocation==null?null:e.fieldsInfo.scoreEstateLocation.fieldTitle),o(3),m("ngClass",Pe("cms-range-score-",e.dataModel.scoreEstateLocation)),b("ngModel",e.dataModel.scoreEstateLocation),m("disabled",!(e.fieldsInfo.scoreEstateLocation!=null&&e.fieldsInfo.scoreEstateLocation.accessEditField)),o(4),x(e.fieldsInfo.scoreEstateBuild==null?null:e.fieldsInfo.scoreEstateBuild.fieldTitle),o(3),m("ngClass",Pe("cms-range-score-",e.dataModel.scoreEstateBuild)),b("ngModel",e.dataModel.scoreEstateBuild),m("disabled",!(e.fieldsInfo.scoreEstateBuild!=null&&e.fieldsInfo.scoreEstateBuild.accessEditField)),o(4),x(e.fieldsInfo.scoreEstatePrice==null?null:e.fieldsInfo.scoreEstatePrice.fieldTitle),o(3),m("ngClass",Pe("cms-range-score-",e.dataModel.scoreEstatePrice)),b("ngModel",e.dataModel.scoreEstatePrice),m("disabled",!(e.fieldsInfo.scoreEstatePrice!=null&&e.fieldsInfo.scoreEstatePrice.accessEditField))}}function yR(n,s){if(n&1&&(a(0,"button",110),d(1),_(2,"translate"),r()),n&2){p(3);let e=A(11);m("disabled",!e.form.valid),o(),h(" ",g(2,2,"ACTION.NEXT")," ")}}function SR(n,s){if(n&1&&(a(0,"div",107)(1,"button",127),d(2),_(3,"translate"),r(),R(4,yR,3,4,"button",109),r()),n&2){let e=p(2);o(2),h(" ",g(3,2,"ACTION.BEFOR")," "),o(2),m("ngIf",e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0)}}function MR(n,s){if(n&1&&(a(0,"mat-step",32),_(1,"translate"),R(2,fR,5,6,"div",40)(3,_R,8,2,"div",73)(4,gR,8,2,"div",73)(5,CR,1,5,"app-cms-enum-record-admin-status-selector",74)(6,hR,22,15,"div",36)(7,SR,5,4,"div",42),r()),n&2){let e=p();m("label",P(g(1,8,"TITLE.Admin_Config"))),o(2),m("ngIf",(e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.accessWatchField)&&e.tokenHelper.isAdminSite),o(),m("ngIf",e.fieldsInfo.viewContentHidden==null?null:e.fieldsInfo.viewContentHidden.accessWatchField),o(),m("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),o(),m("ngIf",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.accessWatchField),o(),m("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),o(),m("ngIf",e.formInfo.submitButtonEnabled)}}function ER(n,s){if(n&1){let e=I();a(0,"app-estate-account-agency-selector",128),_(1,"translate"),E("optionChange",function(t){u(e);let l=p();return f(l.onActionSelectorEstateAgency(t))}),r()}if(n&2){let e=p();m("optionDisabled",!(e.fieldsInfo.linkEstateAgencyId!=null&&e.fieldsInfo.linkEstateAgencyId.accessAddField))("optionSelectForce",e.dataModel.linkEstateAgencyId)("optionSelectUserId",e.tokenInfo.access.userId)("optionPlaceholder",g(1,4,"TITLE.Property_agency"))}}function vR(n,s){if(n&1){let e=I();a(0,"app-estate-account-expert-selector",75),_(1,"translate"),E("optionChange",function(t){u(e);let l=p();return f(l.onActionSelectorEstateUser(t))}),r()}if(n&2){let e=p();m("optionDisabled",!(e.fieldsInfo.linkEstateExpertId!=null&&e.fieldsInfo.linkEstateExpertId.accessAddField))("optionSelectForce",e.dataModel.linkEstateExpertId)("optionPlaceholder",g(1,3,"TITLE.Property_personnel"))}}function IR(n,s){if(n&1){let e=I();a(0,"div",53)(1,"label",129),d(2),r(),a(3,"input",130,14),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.aboutAgentMobile,t)||(l.dataModel.aboutAgentMobile=t),f(t)}),r(),a(5,"em"),d(6),r()()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.aboutAgentMobile==null?null:i.fieldsInfo.aboutAgentMobile.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.aboutAgentMobile==null?null:i.fieldsInfo.aboutAgentMobile.fieldTitle))("disabled",P(!(i.fieldsInfo.aboutAgentMobile!=null&&i.fieldsInfo.aboutAgentMobile.accessAddField))),b("ngModel",i.dataModel.aboutAgentMobile),o(3),h("",e.value.length," / 100")}}function bR(n,s){if(n&1){let e=I();a(0,"div",53)(1,"label",131),d(2),r(),a(3,"input",132,15),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.aboutAgentTel,t)||(l.dataModel.aboutAgentTel=t),f(t)}),r(),a(5,"em"),d(6),r()()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.aboutAgentTel==null?null:i.fieldsInfo.aboutAgentTel.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.aboutAgentTel==null?null:i.fieldsInfo.aboutAgentTel.fieldTitle))("disabled",P(!(i.fieldsInfo.aboutAgentTel!=null&&i.fieldsInfo.aboutAgentTel.accessAddField))),b("ngModel",i.dataModel.aboutAgentTel),o(3),h("",e.value.length," / 100")}}function TR(n,s){if(n&1){let e=I();a(0,"mat-icon",93),E("click",function(){u(e);let t=p(2);return f(t.onActionButtonQuickListSearchCustomerMobile())}),d(1,"find_replace"),r()}}function wR(n,s){if(n&1){let e=I();a(0,"div",53)(1,"label",133),d(2),r(),a(3,"input",134,16),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.aboutCustomerMobile,t)||(l.dataModel.aboutCustomerMobile=t),f(t)}),r(),a(5,"em"),d(6),r(),R(7,TR,2,0,"mat-icon",90),r()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.aboutCustomerMobile==null?null:i.fieldsInfo.aboutCustomerMobile.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.aboutCustomerMobile==null?null:i.fieldsInfo.aboutCustomerMobile.fieldTitle))("disabled",P(!(i.fieldsInfo.aboutCustomerMobile!=null&&i.fieldsInfo.aboutCustomerMobile.accessAddField))),b("ngModel",i.dataModel.aboutCustomerMobile),o(3),h("",e.value.length," / 100"),o(),m("ngIf",i.dataModel.aboutCustomerMobile)}}function xR(n,s){if(n&1){let e=I();a(0,"mat-icon",93),E("click",function(){u(e);let t=p(2);return f(t.onActionButtonQuickListSearchCustomerTel())}),d(1,"find_replace"),r()}}function PR(n,s){if(n&1){let e=I();a(0,"div",53)(1,"label",135),d(2),r(),a(3,"input",136,17),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.aboutCustomerTel,t)||(l.dataModel.aboutCustomerTel=t),f(t)}),r(),a(5,"em"),d(6),r(),R(7,xR,2,0,"mat-icon",90),r()}if(n&2){let e=A(4),i=p();o(2),x(i.fieldsInfo.aboutCustomerTel==null?null:i.fieldsInfo.aboutCustomerTel.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.aboutCustomerTel==null?null:i.fieldsInfo.aboutCustomerTel.fieldTitle))("disabled",P(!(i.fieldsInfo.aboutCustomerTel!=null&&i.fieldsInfo.aboutCustomerTel.accessAddField))),b("ngModel",i.dataModel.aboutCustomerTel),o(3),h("",e.value.length," / 100"),o(),m("ngIf",i.dataModel.aboutCustomerTel)}}function AR(n,s){if(n&1){let e=I();a(0,"app-cms-user-selector",75),_(1,"translate"),E("optionChange",function(t){u(e);let l=p(2);return f(l.onActionSelectorCmsUser(t))}),r()}if(n&2){let e=p(2);m("optionDisabled",!(e.fieldsInfo.linkCmsUserId!=null&&e.fieldsInfo.linkCmsUserId.accessAddField))("optionSelectForce",e.dataModel.linkCmsUserId)("optionPlaceholder",g(1,3,"TITLE.user"))}}function RR(n,s){n&1&&y(0,"i",91)}function DR(n,s){n&1&&y(0,"i",92)}function kR(n,s){n&1&&(a(0,"mat-error")(1,"strong"),d(2),_(3,"translate"),r()()),n&2&&(o(2),x(g(3,1,"MESSAGE.required")))}function LR(n,s){if(n&1){let e=I();a(0,"div",53)(1,"label",142),d(2),_(3,"translate"),r(),a(4,"input",143,18),_(6,"translate"),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.actionCreateNewCmsUserFirstName,t)||(l.dataModel.actionCreateNewCmsUserFirstName=t),f(t)}),r(),R(7,RR,1,0,"i",78)(8,DR,1,0,"i",79),a(9,"em"),d(10),r(),R(11,kR,4,3,"mat-error",36),r()}if(n&2){let e=A(5),i=p(2);o(2),x(g(3,8,"TITLE.FIRST_NAME")),o(2),m("placeholder",P(g(6,10,"TITLE.FIRST_NAME"))),b("ngModel",i.dataModel.actionCreateNewCmsUserFirstName),o(3),m("ngIf",!e.value),o(),m("ngIf",e.value),o(2),h("",e.value.length," / 50"),o(),m("ngIf",e.errors==null?null:e.errors.required)}}function VR(n,s){n&1&&y(0,"i",91)}function FR(n,s){n&1&&y(0,"i",92)}function BR(n,s){n&1&&(a(0,"mat-error")(1,"strong"),d(2),_(3,"translate"),r()()),n&2&&(o(2),x(g(3,1,"MESSAGE.required")))}function OR(n,s){if(n&1){let e=I();a(0,"div",53)(1,"label",144),d(2),_(3,"translate"),r(),a(4,"input",145,19),_(6,"translate"),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.actionCreateNewCmsUserLastName,t)||(l.dataModel.actionCreateNewCmsUserLastName=t),f(t)}),r(),R(7,VR,1,0,"i",78)(8,FR,1,0,"i",79),a(9,"em"),d(10),r(),R(11,BR,4,3,"mat-error",36),r()}if(n&2){let e=A(5),i=p(2);o(2),x(g(3,8,"TITLE.LAST_NAME")),o(2),m("placeholder",P(g(6,10,"TITLE.LAST_NAME"))),b("ngModel",i.dataModel.actionCreateNewCmsUserLastName),o(3),m("ngIf",!e.value),o(),m("ngIf",e.value),o(2),h("",e.value.length," / 50"),o(),m("ngIf",e.errors==null?null:e.errors.required)}}function NR(n,s){n&1&&y(0,"i",91)}function GR(n,s){n&1&&y(0,"i",92)}function WR(n,s){n&1&&(a(0,"mat-error")(1,"strong"),d(2),_(3,"translate"),r()()),n&2&&(o(2),x(g(3,1,"MESSAGE.required")))}function HR(n,s){if(n&1){let e=I();a(0,"div",53)(1,"label",146),d(2),_(3,"translate"),r(),a(4,"input",147,20),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.dataModel.actionCreateNewCmsUserMobile,t)||(l.dataModel.actionCreateNewCmsUserMobile=t),f(t)}),r(),R(6,NR,1,0,"i",78)(7,GR,1,0,"i",79),a(8,"em"),d(9),r(),R(10,WR,4,3,"mat-error",36),r()}if(n&2){let e=A(5),i=p(2);o(2),x(g(3,6,"TITLE.MOBILE_NUMBER")),o(2),b("ngModel",i.dataModel.actionCreateNewCmsUserMobile),o(2),m("ngIf",!e.value),o(),m("ngIf",e.value),o(2),h("",e.value.length," / 20"),o(),m("ngIf",e.errors==null?null:e.errors.required)}}function jR(n,s){if(n&1){let e=I();a(0,"div",137)(1,"div",80)(2,"div",81)(3,"h5",138),d(4),_(5,"translate"),r()(),a(6,"div",139)(7,"div",84)(8,"input",140),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.actionCreateNewCmsUser,t)||(l.dataModel.actionCreateNewCmsUser=t),f(t)}),r(),y(9,"label",141),r()()(),R(10,AR,2,5,"app-cms-user-selector",39)(11,LR,12,12,"div",40)(12,OR,12,12,"div",40)(13,HR,11,8,"div",40),r()}if(n&2){let e=p();o(4),h(" ",g(5,6,"TITLE.CREATE_NEW_USER")," "),o(4),b("ngModel",e.dataModel.actionCreateNewCmsUser),o(2),m("ngIf",!e.dataModel.actionCreateNewCmsUser),o(),m("ngIf",e.dataModel.actionCreateNewCmsUser),o(),m("ngIf",e.dataModel.actionCreateNewCmsUser),o(),m("ngIf",e.dataModel.actionCreateNewCmsUser)}}function UR(n,s){if(n&1&&(a(0,"button",110),d(1),_(2,"translate"),r()),n&2){p(2);let e=A(11);m("disabled",!e.form.valid),o(),h(" ",g(2,2,"ACTION.NEXT")," ")}}function qR(n,s){if(n&1&&(a(0,"div",107)(1,"button",127),d(2),_(3,"translate"),r(),R(4,UR,3,4,"button",109),r()),n&2){let e=p();o(2),h(" ",g(3,2,"ACTION.BEFOR")," "),o(2),m("ngIf",e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0)}}function QR(n,s){if(n&1){let e=I();a(0,"app-estate-property-company-selector",152),_(1,"translate"),E("optionChange",function(t){u(e);let l=p(2);return f(l.onActionSelectorCompany(t))}),r()}if(n&2){let e=p(2);m("optionSelectForce",e.dataModel.linkPropertyCompanyId)("optionPlaceholder",g(1,2,"TITLE.Company"))}}function zR(n,s){if(n&1){let e=I();a(0,"app-estate-property-project-selector",152),_(1,"translate"),E("optionChange",function(t){u(e);let l=p(2);return f(l.onActionSelectorProject(t))}),r()}if(n&2){let e=p(2);m("optionSelectForce",e.dataModel.linkPropertyProjectId)("optionPlaceholder",g(1,2,"TITLE.Project"))}}function KR(n,s){if(n&1){let e=I();a(0,"div",159),y(1,"i",160),d(2,"\xA0\xA0 "),a(3,"app-input-string",161),w("modelChange",function(t){u(e);let l=p().$implicit,C=p(3);return T(C.propertyDetails[l.id],t)||(C.propertyDetails[l.id]=t),f(t)}),r()()}if(n&2){let e=p().$implicit,i=p(3);o(),ae("color",e.iconColor),m("ngClass",e.iconFont),o(2),ni(Pe("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),m("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionLabel",e.title)}}function ZR(n,s){if(n&1){let e=I();a(0,"div",159),y(1,"i",160),d(2,"\xA0\xA0 "),a(3,"app-input-int",162),w("modelChange",function(t){u(e);let l=p().$implicit,C=p(3);return T(C.propertyDetails[l.id],t)||(C.propertyDetails[l.id]=t),f(t)}),r()()}if(n&2){let e=p().$implicit,i=p(3);o(),ae("color",e.iconColor),m("ngClass",e.iconFont),o(2),ni(Pe("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),m("optionLabel",e.title)}}function YR(n,s){if(n&1){let e=I();a(0,"div",159),y(1,"i",160),d(2,"\xA0\xA0 "),a(3,"app-input-boolean",163),w("modelChange",function(t){u(e);let l=p().$implicit,C=p(3);return T(C.propertyDetails[l.id],t)||(C.propertyDetails[l.id]=t),f(t)}),d(4),r()()}if(n&2){let e=p().$implicit,i=p(3);o(),ae("color",e.iconColor),m("ngClass",e.iconFont),o(2),b("model",i.propertyDetails[e.id]),o(),h("",e.title," ")}}function JR(n,s){if(n&1){let e=I();a(0,"div",159),y(1,"i",160),d(2,"\xA0\xA0 "),a(3,"app-input-float",162),w("modelChange",function(t){u(e);let l=p().$implicit,C=p(3);return T(C.propertyDetails[l.id],t)||(C.propertyDetails[l.id]=t),f(t)}),r()()}if(n&2){let e=p().$implicit,i=p(3);o(),ae("color",e.iconColor),m("ngClass",e.iconFont),o(2),ni(Pe("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),m("optionLabel",e.title)}}function XR(n,s){if(n&1){let e=I();a(0,"div",159),y(1,"i",160),d(2,"\xA0\xA0 "),a(3,"label"),d(4),r(),a(5,"app-input-date",163),w("modelChange",function(t){u(e);let l=p().$implicit,C=p(3);return T(C.propertyDetails[l.id],t)||(C.propertyDetails[l.id]=t),f(t)}),r()()}if(n&2){let e=p().$implicit,i=p(3);o(),ae("color",e.iconColor),m("ngClass",e.iconFont),o(2),ni(Pe("color:'",e.iconColor,"';")),o(),x(e.title),o(),b("model",i.propertyDetails[e.id])}}function $R(n,s){if(n&1){let e=I();a(0,"div",159),y(1,"i",160),d(2,"\xA0\xA0 "),a(3,"app-input-textarea",162),w("modelChange",function(t){u(e);let l=p().$implicit,C=p(3);return T(C.propertyDetails[l.id],t)||(C.propertyDetails[l.id]=t),f(t)}),r()()}if(n&2){let e=p().$implicit,i=p(3);o(),ae("color",e.iconColor),m("ngClass",e.iconFont),o(2),ni(Pe("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),m("optionLabel",e.title)}}function eD(n,s){if(n&1){let e=I();a(0,"div"),y(1,"i",160),d(2,"\xA0\xA0 "),a(3,"app-input-string",162),w("modelChange",function(t){u(e);let l=p().$implicit,C=p(3);return T(C.propertyDetails[l.id],t)||(C.propertyDetails[l.id]=t),f(t)}),r()()}if(n&2){let e=p().$implicit,i=p(3);o(),ae("color",e.iconColor),m("ngClass",e.iconFont),o(2),ni(Pe("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),m("optionLabel",e.title)}}function tD(n,s){if(n&1&&(D(0)(1,156),R(2,KR,4,11,"div",157)(3,ZR,4,8,"div",157)(4,YR,5,5,"div",157)(5,JR,4,8,"div",157)(6,XR,6,8,"div",157)(7,$R,4,8,"div",157)(8,eD,4,8,"div",158),k()()),n&2){let e=s.$implicit,i=p(3);o(),m("ngSwitch",e.inputDataType),o(),m("ngSwitchCase",i.enumInputDataType.String),o(),m("ngSwitchCase",i.enumInputDataType.Int),o(),m("ngSwitchCase",i.enumInputDataType.Boolean),o(),m("ngSwitchCase",i.enumInputDataType.Float),o(),m("ngSwitchCase",i.enumInputDataType.Date),o(),m("ngSwitchCase",i.enumInputDataType.TextArea)}}function iD(n,s){if(n&1){let e=I();a(0,"button",164),E("click",function(){u(e);let t=p(3);return f(t.prevStep())}),d(1),_(2,"translate"),r()}n&2&&(o(),h(" ",g(2,1,"ACTION.BEFOR")," "))}function nD(n,s){if(n&1){let e=I();a(0,"button",164),E("click",function(){u(e);let t=p(3);return f(t.nextStep())}),d(1),_(2,"translate"),r()}n&2&&(o(),h(" ",g(2,1,"ACTION.NEXT")," "))}function oD(n,s){if(n&1){let e=I();a(0,"button",164),E("click",function(){u(e);let t=p(3);return f(t.nextStep())}),d(1),_(2,"translate"),r()}n&2&&(o(),h(" ",g(2,1,"ACTION.END")," "))}function aD(n,s){if(n&1){let e=I();a(0,"mat-expansion-panel",153),E("opened",function(){let t=u(e).index,l=p(2);return f(l.setStep(t))}),a(1,"mat-expansion-panel-header")(2,"mat-panel-title"),d(3),r(),a(4,"mat-panel-description"),d(5),a(6,"mat-icon"),d(7),r()()(),R(8,tD,9,7,"ng-container",154),a(9,"mat-action-row"),R(10,iD,3,3,"button",155)(11,nD,3,3,"button",155)(12,oD,3,3,"button",155),r()()}if(n&2){let e=s.$implicit,i=s.index,t=p(2);m("expanded",t.step===i),o(3),x(e.title),o(2),h(" ",e.description," "),o(2),x(e.iconFont),o(),m("ngForOf",e.propertyDetails),o(2),m("ngIf",i>0),o(),m("ngIf",i+1<t.dataModel.propertyDetailGroups.length),o(),m("ngIf",i+1===t.dataModel.propertyDetailGroups.length)}}function rD(n,s){if(n&1&&(a(0,"div",107)(1,"button",127),d(2),_(3,"translate"),r(),a(4,"button",110),d(5),_(6,"translate"),r()()),n&2){p(2);let e=A(11);o(2),h(" ",g(3,3,"ACTION.BEFOR")," "),o(2),m("disabled",!e.form.valid),o(),h(" ",g(6,5,"ACTION.NEXT")," ")}}function lD(n,s){if(n&1&&(a(0,"mat-step",148),_(1,"translate"),a(2,"p"),d(3),_(4,"translate"),r(),R(5,QR,2,4,"app-estate-property-company-selector",149)(6,zR,2,4,"app-estate-property-project-selector",149),y(7,"hr"),a(8,"mat-accordion",150),R(9,aD,13,8,"mat-expansion-panel",151),y(10,"br"),r(),R(11,rD,7,7,"div",42),r()),n&2){let e=p();m("label",P(g(1,7,"TITLE.Details"))),o(3),h(" ",g(4,9,"TITLE.Property_details_according_to_the_type_of_property")," "),o(2),m("ngIf",e.tokenHelper.isAdminSite),o(),m("ngIf",e.tokenHelper.isAdminSite),o(3),m("ngForOf",e.dataModel.propertyDetailGroups),o(2),m("ngIf",e.formInfo.submitButtonEnabled)}}function sD(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2){let e=p(2);o(),h(" ",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.fieldTitle," "),o(2),x(g(4,2,"MESSAGE.required"))}}function dD(n,s){if(n&1){let e=I();a(0,"div",53)(1,"label",165),d(2),_(3,"translate"),r(),a(4,"textarea",166,21),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.descriptionHidden,t)||(l.dataModel.descriptionHidden=t),f(t)}),d(6,"            "),r(),a(7,"em"),d(8),r(),R(9,sD,5,4,"mat-error",36),r()}if(n&2){let e=A(5),i=p();o(2),h("",g(3,6,"TITLE.Description_Hidden")," "),o(2),m("placeholder",P(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",i.dataModel.descriptionHidden),o(4),h("",e.value.length," / 2000"),o(),m("ngIf",e.errors==null?null:e.errors.required)}}function cD(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),_(4,"translate"),r()()),n&2){let e=p(2);o(),h(" ",e.fieldsInfo.addressHidden==null?null:e.fieldsInfo.addressHidden.fieldTitle," "),o(2),x(g(4,2,"MESSAGE.required"))}}function pD(n,s){if(n&1){let e=I();a(0,"div",53)(1,"label",167),d(2),_(3,"translate"),r(),a(4,"textarea",168,22),w("ngModelChange",function(t){u(e);let l=p();return T(l.dataModel.addressHidden,t)||(l.dataModel.addressHidden=t),f(t)}),d(6,"            "),r(),a(7,"em"),d(8),r(),R(9,cD,5,4,"mat-error",36),r()}if(n&2){let e=A(5),i=p();o(2),h(" ",g(3,6,"TITLE.Address_Hidden")," "),o(2),m("placeholder",P(i.fieldsInfo.addressHidden==null?null:i.fieldsInfo.addressHidden.fieldTitle)),b("ngModel",i.dataModel.addressHidden),o(4),h("",e.value.length," / 2000"),o(),m("ngIf",e.errors==null?null:e.errors.required)}}function mD(n,s){if(n&1&&(a(0,"div",107)(1,"button",127),d(2),_(3,"translate"),r(),a(4,"button",110),d(5),_(6,"translate"),r()()),n&2){p();let e=A(11);o(2),h(" ",g(3,3,"ACTION.BEFOR")," "),o(2),m("disabled",!e.form.valid),o(),h(" ",g(6,5,"ACTION.NEXT")," ")}}function uD(n,s){if(n&1){let e=I();a(0,"div",80)(1,"div",81)(2,"h5",179),d(3),_(4,"translate"),r()(),a(5,"div",139)(6,"div",84)(7,"input",180),w("ngModelChange",function(t){u(e);let l=p(4);return T(l.contractDataModel.salePriceByAgreement,t)||(l.contractDataModel.salePriceByAgreement=t),f(t)}),E("change",function(){u(e);let t=p(4);return f(t.onActionClickSalePriceAllowAgreement())}),r(),y(8,"label",181),r()()()}if(n&2){let e=p(4);o(3),h(" ",g(4,2,"TITLE.Agreement")," "),o(4),b("ngModel",e.contractDataModel.salePriceByAgreement)}}function fD(n,s){if(n&1){let e=I();a(0,"div",174)(1,"div",175)(2,"label",176),d(3,"contractTypeSelected.titleSalePriceML"),r(),a(4,"input",177),w("ngModelChange",function(t){u(e);let l=p(3);return T(l.contractDataModel.salePrice,t)||(l.contractDataModel.salePrice=t),f(t)}),r()(),a(5,"div",178),R(6,uD,9,4,"div",73),r()()}if(n&2){let e=p(3);o(4),b("ngModel",e.contractDataModel.salePrice),m("disabled",e.contractDataModel.salePriceByAgreement),o(2),m("ngIf",e.contractTypeSelected.salePriceAllowAgreement)}}function _D(n,s){if(n&1){let e=I();a(0,"div",80)(1,"div",81)(2,"h5",184),d(3),_(4,"translate"),r()(),a(5,"div",139)(6,"div",84)(7,"input",185),w("ngModelChange",function(t){u(e);let l=p(4);return T(l.contractDataModel.depositPriceByAgreement,t)||(l.contractDataModel.depositPriceByAgreement=t),f(t)}),E("change",function(){u(e);let t=p(4);return f(t.onActionClickDepositPriceByAgreement())}),r(),y(8,"label",186),r()()()}if(n&2){let e=p(4);o(3),h(" ",g(4,2,"TITLE.Agreement")," "),o(4),b("ngModel",e.contractDataModel.depositPriceByAgreement)}}function gD(n,s){if(n&1){let e=I();a(0,"div",174)(1,"div",175)(2,"label",182),d(3),r(),a(4,"input",183),w("ngModelChange",function(t){u(e);let l=p(3);return T(l.contractDataModel.depositPrice,t)||(l.contractDataModel.depositPrice=t),f(t)}),r()(),a(5,"div",178),R(6,_D,9,4,"div",73),r()()}if(n&2){let e=p(3);o(3),x(e.contractTypeSelected.titleDepositPriceML),o(),b("ngModel",e.contractDataModel.depositPrice),m("disabled",e.contractDataModel.depositPriceByAgreement),o(2),m("ngIf",e.contractTypeSelected.depositPriceAllowAgreement)}}function CD(n,s){if(n&1){let e=I();a(0,"div",80)(1,"div",81)(2,"h5",189),d(3),_(4,"translate"),r()(),a(5,"div",139)(6,"div",84)(7,"input",190),w("ngModelChange",function(t){u(e);let l=p(4);return T(l.contractDataModel.rentPriceByAgreement,t)||(l.contractDataModel.rentPriceByAgreement=t),f(t)}),E("change",function(){u(e);let t=p(4);return f(t.onActionClickRentPriceAllowAgreement())}),r(),y(8,"label",191),r()()()}if(n&2){let e=p(4);o(3),h(" ",g(4,2,"TITLE.Agreement")," "),o(4),b("ngModel",e.contractDataModel.rentPriceByAgreement)}}function hD(n,s){if(n&1){let e=I();a(0,"div",174)(1,"div",175)(2,"label",187),d(3,"contractTypeSelected.titleRentPriceML"),r(),a(4,"input",188),w("ngModelChange",function(t){u(e);let l=p(3);return T(l.contractDataModel.rentPrice,t)||(l.contractDataModel.rentPrice=t),f(t)}),r()(),a(5,"div",178),R(6,CD,9,4,"div",73),r()()}if(n&2){let e=p(3);o(4),b("ngModel",e.contractDataModel.rentPrice),m("disabled",e.contractDataModel.rentPriceByAgreement),o(2),m("ngIf",e.contractTypeSelected.rentPriceAllowAgreement)}}function yD(n,s){if(n&1){let e=I();a(0,"div",80)(1,"div",81)(2,"h5",194),d(3),_(4,"translate"),r()(),a(5,"div",139)(6,"div",84)(7,"input",195),w("ngModelChange",function(t){u(e);let l=p(4);return T(l.contractDataModel.periodPriceByAgreement,t)||(l.contractDataModel.periodPriceByAgreement=t),f(t)}),E("change",function(){u(e);let t=p(4);return f(t.onActionClickPeriodPriceAllowAgreement())}),r(),y(8,"label",196),r()()()}if(n&2){let e=p(4);o(3),h(" ",g(4,2,"TITLE.Agreement")," "),o(4),b("ngModel",e.contractDataModel.periodPriceByAgreement)}}function SD(n,s){if(n&1){let e=I();a(0,"div",174)(1,"div",175)(2,"label",192),d(3,"contractTypeSelected.titlePeriodPriceML"),r(),a(4,"input",193),w("ngModelChange",function(t){u(e);let l=p(3);return T(l.contractDataModel.periodPrice,t)||(l.contractDataModel.periodPrice=t),f(t)}),r()(),a(5,"div",178),R(6,yD,9,4,"div",73),r()()}if(n&2){let e=p(3);o(4),b("ngModel",e.contractDataModel.periodPrice),m("disabled",e.contractDataModel.periodPriceByAgreement),o(2),m("ngIf",e.contractTypeSelected.hasPeriodPrice&&e.contractTypeSelected.periodPriceAllowAgreement)}}function MD(n,s){if(n&1){let e=I();a(0,"div"),R(1,fD,7,3,"div",171)(2,gD,7,4,"div",171)(3,hD,7,3,"div",171)(4,SD,7,3,"div",171),y(5,"hr"),a(6,"div",53)(7,"label",172),d(8),r(),a(9,"textarea",173,23),w("ngModelChange",function(t){u(e);let l=p(2);return T(l.contractDataModel.description,t)||(l.contractDataModel.description=t),f(t)}),d(11,"                "),r(),a(12,"em"),d(13),r()()()}if(n&2){let e=A(10),i=p(2);o(),m("ngIf",i.contractTypeSelected.hasSalePrice),o(),m("ngIf",i.contractTypeSelected.hasDepositPrice),o(),m("ngIf",i.contractTypeSelected.hasRentPrice),o(),m("ngIf",i.contractTypeSelected.hasPeriodPrice),o(4),x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),b("ngModel",i.contractDataModel.description),o(4),h("",e.value.length," / 500")}}function ED(n,s){if(n&1){let e=I();a(0,"div",169),y(1,"br")(2,"br"),a(3,"app-cms-currency-selector",170),_(4,"translate"),E("optionChange",function(t){u(e);let l=p();return f(l.onActionSelectCurrency(t))}),r(),R(5,MD,14,9,"div",36),y(6,"br")(7,"br"),r()}if(n&2){let e=p();o(3),m("optionSelectFirstItem",e.currencyOptionSelectFirstItem)("optionSelectForce",e.contractDataModel.linkCoreCurrencyId)("optionPlaceholder",g(4,4,"TITLE.Specify_the_transaction_currency")),o(2),m("ngIf",e.contractDataModel.linkCoreCurrencyId>0)}}function vD(n,s){if(n&1){let e=I();a(0,"button",63),E("click",function(){u(e);let t=p();return f(t.onActionOptionAddToList())}),d(1),_(2,"translate"),r()}n&2&&(o(),h(" ",g(2,1,"ACTION.Add_To_List")," ... "))}function ID(n,s){n&1&&(a(0,"mat-header-cell"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.Contract")," "))}function bD(n,s){if(n&1&&(a(0,"mat-cell"),d(1),_(2,"cmstitle"),r()),n&2){let e=s.$implicit,i=p(2);o(),h(" ",pi(2,1,e.linkEstateContractTypeId,i.dataModelEstateContractTypeResult.listItems)," ")}}function TD(n,s){n&1&&(a(0,"mat-header-cell"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.SalePrice")," "))}function wD(n,s){if(n&1&&(D(0),d(1),_(2,"number"),y(3,"br"),d(4),k()),n&2){let e=p().$implicit;o(),h(" ",g(2,3,e.salePrice)," "),o(3),We(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function xD(n,s){n&1&&(D(0),d(1),_(2,"translate"),k()),n&2&&(o(),h(" ",g(2,1,"TITLE.PriceByAgreement")," "))}function PD(n,s){if(n&1&&(a(0,"mat-cell"),R(1,wD,5,5,"ng-container",36)(2,xD,3,3,"ng-container",36),r()),n&2){let e=s.$implicit;o(),m("ngIf",e.salePrice>0),o(),m("ngIf",e.salePriceByAgreement)}}function AD(n,s){n&1&&(a(0,"mat-header-cell"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.DepositPrice")," "))}function RD(n,s){if(n&1&&(D(0),d(1),_(2,"number"),y(3,"br"),d(4),k()),n&2){let e=p().$implicit;o(),h(" ",g(2,3,e.depositPrice)," "),o(3),We(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function DD(n,s){n&1&&(D(0),d(1),_(2,"translate"),k()),n&2&&(o(),h(" ",g(2,1,"TITLE.PriceByAgreement")," "))}function kD(n,s){if(n&1&&(a(0,"mat-cell"),R(1,RD,5,5,"ng-container",36)(2,DD,3,3,"ng-container",36),r()),n&2){let e=s.$implicit;o(),m("ngIf",e.depositPrice>0),o(),m("ngIf",e.depositPriceByAgreement)}}function LD(n,s){n&1&&(a(0,"mat-header-cell"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.RentPrice")," "))}function VD(n,s){if(n&1&&(D(0),d(1),_(2,"number"),y(3,"br"),d(4),k()),n&2){let e=p().$implicit;o(),h(" ",g(2,3,e.rentPrice)," "),o(3),We(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function FD(n,s){n&1&&(D(0),d(1),_(2,"translate"),k()),n&2&&(o(),h(" ",g(2,1,"TITLE.PriceByAgreement")," "))}function BD(n,s){if(n&1&&(a(0,"mat-cell"),R(1,VD,5,5,"ng-container",36)(2,FD,3,3,"ng-container",36),r()),n&2){let e=s.$implicit;o(),m("ngIf",e.rentPrice>0),o(),m("ngIf",e.rentPriceByAgreement)}}function OD(n,s){n&1&&(a(0,"mat-header-cell"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.PeriodPrice")," "))}function ND(n,s){if(n&1&&(D(0),d(1),_(2,"number"),y(3,"br"),d(4),k()),n&2){let e=p().$implicit;o(),h(" ",g(2,3,e.periodPrice)," "),o(3),We(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function GD(n,s){n&1&&(D(0),d(1),_(2,"translate"),k()),n&2&&(o(),h(" ",g(2,1,"TITLE.PriceByAgreement")," "))}function WD(n,s){if(n&1&&(a(0,"mat-cell"),R(1,ND,5,5,"ng-container",36)(2,GD,3,3,"ng-container",36),r()),n&2){let e=s.$implicit;o(),m("ngIf",e.periodPrice>0),o(),m("ngIf",e.periodPriceByAgreement)}}function HD(n,s){n&1&&(a(0,"mat-header-cell"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.OPTION")," "))}function jD(n,s){if(n&1){let e=I();a(0,"mat-cell",212)(1,"button",213),E("click",function(){let t=u(e).index,l=p(2);return f(l.onActionOptionRemoveFromList(t))}),a(2,"small")(3,"mat-icon",214),_(4,"translate"),d(5,"delete"),r()()()()}n&2&&(o(3),m("matTooltip",P(g(4,2,"ACTION.DELETE"))))}function UD(n,s){if(n&1&&(D(0),d(1),k()),n&2){let e=p().$implicit;o(),h(" ",e.description," ")}}function qD(n,s){if(n&1&&(a(0,"mat-cell",215),d(1),_(2,"translate"),R(3,UD,2,1,"ng-container",36),r()),n&2){let e=s.$implicit;o(),h(" ",g(2,2,"TITLE.DESCRIPTION")," : "),o(2),m("ngIf",e.description)}}function QD(n,s){n&1&&y(0,"mat-header-row")}function zD(n,s){if(n&1&&y(0,"mat-row"),n&2){let e=s.dataIndex;ne("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}function KD(n,s){if(n&1&&y(0,"mat-row"),n&2){let e=s.dataIndex;ne("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}function ZD(n,s){if(n&1&&(a(0,"div",197)(1,"mat-table",198),D(2,199),R(3,ID,3,3,"mat-header-cell",200)(4,bD,3,4,"mat-cell",201),k(),D(5,202),R(6,TD,3,3,"mat-header-cell",200)(7,PD,3,2,"mat-cell",201),k(),D(8,203),R(9,AD,3,3,"mat-header-cell",200)(10,kD,3,2,"mat-cell",201),k(),D(11,204),R(12,LD,3,3,"mat-header-cell",200)(13,BD,3,2,"mat-cell",201),k(),D(14,205),R(15,OD,3,3,"mat-header-cell",200)(16,WD,3,2,"mat-cell",201),k(),D(17,206),R(18,HD,3,3,"mat-header-cell",200)(19,jD,6,4,"mat-cell",207),k(),D(20,208),R(21,qD,4,4,"mat-cell",209),k(),R(22,QD,1,0,"mat-header-row",210)(23,zD,1,4,"mat-row",211)(24,KD,1,4,"mat-row",211),r()()),n&2){let e=p();o(),m("dataSource",e.optionTabledataSource),o(21),m("matHeaderRowDef",e.optionTabledisplayedColumns),o(),m("matRowDefColumns",e.optionTabledisplayedColumns),o(),m("matRowDefColumns",fe(4,j4))}}function YD(n,s){if(n&1&&(a(0,"button",110),d(1),_(2,"translate"),r()),n&2){p(2);let e=A(11);m("disabled",!e.form.valid),o(),h(" ",g(2,2,"ACTION.NEXT")," ")}}function JD(n,s){if(n&1&&(a(0,"div",107)(1,"button",127),d(2),_(3,"translate"),r(),R(4,YD,3,4,"button",109),r()),n&2){let e=p();o(2),h(" ",g(3,2,"ACTION.BEFOR")," "),o(2),m("ngIf",e.dataModel.contracts&&e.dataModel.contracts.length>0)}}function XD(n,s){if(n&1&&(y(0,"img",216),_(1,"cmsthumbnail")),n&2){let e=p();m("src",P(g(1,2,e.dataModel.linkMainImageIdSrc)),H)}}function $D(n,s){n&1&&(a(0,"p"),d(1),_(2,"translate"),r()),n&2&&(o(),h(" ",g(2,1,"TITLE.List_of_attached_photos")," "))}function ek(n,s){if(n&1){let e=I();a(0,"div")(1,"p"),d(2),_(3,"translate"),r(),a(4,"app-cms-files-selector",217),w("dataFileModelChange",function(t){u(e);let l=p();return T(l.dataFileModelFiles,t)||(l.dataFileModelFiles=t),f(t)}),r(),y(5,"br"),r()}if(n&2){let e=p();o(2),x(g(3,3,"TITLE.List_of_attached_files")),o(2),b("dataFileModel",e.dataFileModelFiles),m("openDirectUploadView",!0)}}function tk(n,s){if(n&1&&(a(0,"div",218)(1,"button",127),d(2),_(3,"translate"),r(),a(4,"button",110),d(5),_(6,"translate"),r(),a(7,"button",219),d(8),_(9,"translate"),r()()),n&2){let e=p(),i=A(11);o(2),h(" ",g(3,5,"ACTION.BEFOR")," "),o(2),m("disabled",!i.form.valid),o(),h(" ",g(6,7,"ACTION.NEXT")," "),o(2),m("disabled",!i.form.valid||!e.connectionStatus.internetConnection),o(),h(" ",g(9,9,"ACTION.SAVE")," ")}}function ik(n,s){if(n&1&&(a(0,"button",221),d(1),_(2,"translate"),r()),n&2){let e=p(2),i=A(11);m("disabled",!i.form.valid||!e.connectionStatus.internetConnection),o(),h(" ",g(2,2,"ACTION.SAVE")," ")}}function nk(n,s){if(n&1&&(a(0,"div",107)(1,"button",127),d(2),_(3,"translate"),r(),R(4,ik,3,4,"button",220),r()),n&2){let e=p();o(2),h(" ",g(3,2,"ACTION.BEFOR")," "),o(2),m("ngIf",e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0)}}function ok(n,s){n&1&&(a(0,"mat-icon"),d(1,"call_end"),r())}function ak(n,s){n&1&&(a(0,"mat-icon"),d(1,"call_end"),r())}function rk(n,s){n&1&&(a(0,"mat-icon"),d(1,"forum"),r())}function lk(n,s){n&1&&(a(0,"mat-icon"),d(1,"forum"),r())}var tl=class tl extends _t{constructor(e,i,t,l,C,c,L,q,Se,je,Ke,Ot,ii,Sn,Mn,xo){super(l,new _n,Ot,xo);this.activatedRoute=e;this.coreEnumService=i;this.estateContractTypeService=t;this.estatePropertyService=l;this.estatePropertyDetailGroupService=C;this.estatePropertyTypeService=c;this.estatePropertyTypeLanduseService=L;this.cmsToastrService=q;this.cmsStoreService=Se;this.themeService=je;this.router=Ke;this.publicHelper=Ot;this.cdr=ii;this.dialog=Sn;this.tokenHelper=Mn;this.translate=xo;this.requestLinkPropertyTypeLanduseId="";this.requestLinkPropertyTypeUsageId="";this.constructorInfoAreaId=this.constructor.name;this.connectionStatus=new ta;this.unsubscribe=[];this.currencyOptionSelectFirstItem=!0;this.enumInputDataType=rn;this.tokenInfo=new Wt;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.formMatcher=new ra;this.dataModelResult=new j;this.dataModelEstateContractTypeResult=new j;this.dataModelEstatePropertyTypeResult=new j;this.dataModelEstatePropertyTypeLanduseResult=new j;this.dataModel=new _n;this.dataFileModelImgaes=new Map;this.dataFileModelFiles=new Map;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.dataModelCorCurrencySelector=new En;this.PropertyTypeSelected=new gn;this.contractDataModel=new Wi;this.optionActionTitle="";this.optionTabledataSource=new Ht;this.optionTabledisplayedColumns=["LinkEstateContractTypeId","SalePrice","RentPrice","DepositPrice","PeriodPrice","Action"];this.propertyDetails=new Map;this.step=0;this.numbers=[1,2,3,4,5,6,7,8,9,10];this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Ci;this.listTypeLanduse=[];this.dataProfessional=!1;this.hidden=!0;this.publicHelper.processService.cdr=this.cdr,this.requestLinkPropertyTypeLanduseId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeLanduseId"),this.requestLinkPropertyTypeLanduseId&&this.requestLinkPropertyTypeLanduseId.length>0&&(this.dataModel.linkPropertyTypeLanduseId=this.requestLinkPropertyTypeLanduseId),this.requestLinkPropertyTypeUsageId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeUsageId"),this.requestLinkPropertyTypeUsageId&&this.requestLinkPropertyTypeUsageId.length>0&&(this.dataModel.linkPropertyTypeUsageId=this.requestLinkPropertyTypeUsageId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(fn=>fn.connectionStatusStore).subscribe(fn=>Me(this,null,function*(){this.connectionStatus=fn})))}ngOnInit(){this.translate.get("TITLE.Submit_New_Content").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.getEstateContractType(),this.getEstatePropertyType(),this.getEstatePropertyTypeLanduse(),this.dataModel.caseCode=this.publicHelper.StringRandomGenerator(5,!0),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Me(this,null,function*(){this.DataGetAccess(),this.getEstateContractType(),this.getEstatePropertyType(),this.getEstatePropertyTypeLanduse(),this.translate.get("ACTION.Add_To_List").subscribe(i=>{this.optionActionTitle=i}),this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}getEstateContractType(){let e=this.constructor.name+"getEstateContractType";this.translate.get("TITLE.Get_Estate_Contract_Type").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateContractTypeService.ServiceGetAll(null).subscribe({next:i=>{this.dataModelEstateContractTypeResult=i,this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e)}})}getEstatePropertyType(){let e=this.constructor.name+"getEstatePropertyType";this.translate.get("TITLE.Get_Estate_property_Type").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyTypeService.ServiceGetAll(null).subscribe({next:i=>{this.dataModelEstatePropertyTypeResult=i,this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e)}})}getEstatePropertyTypeLanduse(){let e=this.constructor.name+"getEstatePropertyType";this.translate.get("TITLE.Get_Estate_user_Type").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyTypeLanduseService.ServiceGetAll(null).subscribe({next:i=>{this.dataModelEstatePropertyTypeLanduseResult=i,this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e)}})}DataGetPropertyDetailGroup(e){let i=new oe,t=new Z;t.propertyName="LinkPropertyTypeLanduseId",t.value=e,i.filters.push(t),this.dataModel.propertyDetailGroups=[];let l=this.constructor.name+"DataGetPropertyDetailGroup";this.translate.get("TITLE.Get_Details").subscribe(C=>{this.publicHelper.processService.processStart(l,C,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceGetAll(i).subscribe({next:C=>{C.isSuccess?this.dataModel.propertyDetailGroups=C.listItems:this.cmsToastrService.typeErrorGetAccess(C.errorMessage),this.publicHelper.processService.processStop(l)},error:C=>{this.cmsToastrService.typeErrorGetAccess(C),this.publicHelper.processService.processStop(l,!1)}})}DataAdd(){if(this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="",this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}if(this.dataFileModelImgaes){let i=Array.from(this.dataFileModelImgaes.keys());i&&i.length>0&&(this.dataModel.linkExtraImageIds=i.join(","))}let e=this.constructor.name+"ServiceAdd";this.translate.get("TITLE.Property_registration").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyService.ServiceAdd(this.dataModel).subscribe({next:i=>{if(this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess)if(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(l=>{this.formInfo.submitResultMessage=l,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessAdd(),(this.tokenHelper.isAdminSite||this.tokenHelper.isSupportSite||this.tokenInfo.access.userAccessUserType==Nn.ResellerCpSite||this.tokenInfo.access.userAccessUserType==Nn.ResellerEmployeeCpSite)&&this.dataModel.recordStatus==He.Available){var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(bo,{height:"90%",panelClass:t,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{model:this.dataModelResult.item}}).afterClosed().subscribe(C=>{setTimeout(()=>this.router.navigate(["/estate/property"]),1e3)})}else setTimeout(()=>this.router.navigate(["/estate/property"]),1e3);else this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage);this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(i=>{this.mapMarker=Ds.marker([i.lat,i.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",i=>{let t=i.latlng.lat,l=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&l===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=Ds.marker([t,l]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=l}))}receiveZoom(e){}onActionSelectorSelectUsage(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeUsageId=e.id,this.dataModelEstatePropertyTypeResult.isSuccess&&this.dataModelEstatePropertyTypeLanduseResult.isSuccess&&(this.listTypeLanduse=[],this.dataModelEstatePropertyTypeResult.listItems.forEach(i=>{i.linkPropertyTypeUsageId===e.id&&this.dataModelEstatePropertyTypeLanduseResult.listItems.forEach(t=>{t.id===i.linkPropertyTypeLanduseId&&this.listTypeLanduse.push(t)})}))}onActionSelectorSelectLanduse(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.PropertyTypeSelected=e,this.dataModel.linkPropertyTypeLanduseId=e.id,this.DataGetPropertyDetailGroup(e.id)}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCmsUserId=null;return}this.dataModel.linkCmsUserId=e.id}onActionSelectorLocation(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.information_area_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=e.id}onActionSelectorProject(e){if(!e||!e.id||e.id.length<=0){this.dataModel.linkPropertyProjectId=null;return}this.dataModel.linkPropertyProjectId=e.id}onActionSelectorCompany(e){if(!e||!e.id||e.id.length<=0){this.dataModel.linkPropertyCompanyId=null;return}this.dataModel.linkPropertyCompanyId=e.id}onActionSelectorEstateUser(e){this.dataModel.linkEstateExpertId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateExpertId=e.id)}onActionSelectorEstateAgency(e){this.dataModel.linkEstateAgencyId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateAgencyId=e.id)}onActionSelectorContractType(e){if(this.contractTypeSelected=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.currencyOptionSelectFirstItem=!0,this.contractTypeSelected=e,this.contractDataModel=new Wi,this.contractDataModel.contractType=this.contractTypeSelected,this.contractDataModel.linkEstateContractTypeId=this.contractTypeSelected.id}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.submitButtonEnabled=!1,this.dataModel.propertyDetailValues=[],this.dataModel.propertyDetailGroups&&this.dataModel.propertyDetailGroups.forEach(e=>{e.propertyDetails.forEach(i=>{let t=new Vo;t.linkPropertyDetailId=i.id,t.value=this.propertyDetails[i.id],this.dataModel.propertyDetailValues.push(t)})}),(!this.dataModel.contracts||this.dataModel.contracts.length===0)&&this.onActionOptionAddToList(!1),!this.dataModel.contracts||this.dataModel.contracts.length===0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)}),this.formInfo.submitButtonEnabled=!0;return}this.DataAdd()}}onFormCancel(){this.router.navigate(["/estate/property"])}onActionOptionAddToList(e=!0){if(!this.contractTypeSelected||this.contractTypeSelected.id.length===0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(t=>{e&&this.cmsToastrService.typeErrorSelected(t)});return}this.dataModel.contracts||(this.dataModel.contracts=[]);var i=!1;if(this.contractTypeSelected.hasSalePrice&&(this.contractDataModel.salePrice&&this.contractDataModel.salePrice>0&&(i=!0),this.contractTypeSelected.salePriceAllowAgreement&&this.contractDataModel.salePriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Sales_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i=!1,this.contractTypeSelected.hasRentPrice&&(this.contractDataModel.rentPrice&&this.contractDataModel.rentPrice>0&&(i=!0),this.contractTypeSelected.rentPriceAllowAgreement&&this.contractDataModel.rentPriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Rent_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i=!1,this.contractTypeSelected.hasPeriodPrice&&(this.contractDataModel.periodPrice&&this.contractDataModel.periodPrice>0&&(i=!0),this.contractTypeSelected.periodPriceAllowAgreement&&this.contractDataModel.periodPriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Period_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i=!1,this.contractTypeSelected.hasDepositPrice&&(this.contractDataModel.depositPrice&&this.contractDataModel.depositPrice>0&&(i=!0),this.contractTypeSelected.depositPriceAllowAgreement&&this.contractDataModel.depositPriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Deposit_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.dataModel.contracts.push(this.contractDataModel),this.contractDataModel=new Wi,this.optionTabledataSource.data=this.dataModel.contracts,this.contractTypeSelected=null}onActionOptionRemoveFromList(e){e<0||!this.dataModel.contracts||this.dataModel.contracts.length===0||(this.contractDataModel=this.dataModel.contracts[e],this.dataModel.contracts.splice(e,1),this.contractDataModel=new Wi,this.optionTabledataSource.data=this.dataModel.contracts)}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&((!this.dataModel.linkPropertyTypeUsageId||this.dataModel.linkPropertyTypeUsageId.length===0)&&(this.translate.get("TITLE.Select_the_Property_Type_Usage").subscribe(t=>{this.cmsToastrService.typeErrorFormInvalid(t)}),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)),(!this.dataModel.linkPropertyTypeLanduseId||this.dataModel.linkPropertyTypeLanduseId.length===0)&&(this.translate.get("TITLE.Select_the_Property_Type_Landuse").subscribe(t=>{this.cmsToastrService.typeErrorFormInvalid(t)}),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)),this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10))),(!this.dataModel.contracts||this.dataModel.contracts.length==0)&&e.previouslySelectedStep.state=="contract"&&e.previouslySelectedIndex<e.selectedIndex&&(this.translate.get("TITLE.Select_the_transaction_type").subscribe(t=>{this.cmsToastrService.typeErrorFormInvalid(t)}),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10))}onActionBackToParent(){this.router.navigate(["/estate/property/"])}setStep(e){this.step=e}nextStep(){this.step++}prevStep(){this.step--}onActionClickSalePriceAllowAgreement(){this.contractDataModel.salePriceByAgreement&&(this.contractDataModel.salePrice=0)}onActionClickRentPriceAllowAgreement(){this.contractDataModel.rentPriceByAgreement&&(this.contractDataModel.rentPrice=0)}onActionClickPeriodPriceAllowAgreement(){this.contractDataModel.periodPriceByAgreement&&(this.contractDataModel.periodPrice=0)}onActionClickDepositPriceByAgreement(){this.contractDataModel.depositPriceByAgreement&&(this.contractDataModel.depositPrice=0)}ActionCurrentPoint(){this.childMap.getPosition().then(e=>{let i=e.lat,t=e.lon;i>0&&t>0&&(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:i,lon:t}),this.dataModel.geolocationlatitude=i,this.dataModel.geolocationlongitude=t,this.receiveMap())})}onActionSelectCurrency(e){if(!e||e.id<=0){this.cmsToastrService.typeErrorSelected(),this.dataModelCorCurrencySelector=null,this.contractDataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=e,this.contractDataModel.linkCoreCurrencyId=e.id,this.tokenHelper.isAdminSite&&this.contractTypeSelected.allowPriceInquiryCalculate&&this.onActionPriceInquiryList()}onActionPriceInquiryList(){let e=new Wo;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={linkLocationId:this.dataModel.linkLocationId,linkCoreCurrencyId:this.contractDataModel.linkCoreCurrencyId,createdYaer:this.dataModel.createdYaer,linkPropertyTypeUsageId:this.dataModel.linkPropertyTypeUsageId,linkPropertyTypeLanduseId:this.dataModel.linkPropertyTypeLanduseId,linkContractTypeId:this.contractDataModel.linkEstateContractTypeId};var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ga,e).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonQuickListSearchTitle(){if(!this.dataModel||!this.dataModel.title||this.dataModel.title.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Fi,{height:"90%",panelClass:e,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{searchTitle:this.dataModel.title}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionButtonQuickListSearchCustomerTel(){if(!this.dataModel||!this.dataModel.aboutCustomerTel||this.dataModel.aboutCustomerTel.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Fi,{height:"90%",panelClass:e,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{searchCustomerTel:this.dataModel.aboutCustomerTel}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionButtonQuickListSearchCustomerMobile(){if(!this.dataModel||!this.dataModel.aboutCustomerMobile||this.dataModel.aboutCustomerMobile.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Fi,{height:"90%",panelClass:e,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{searchCustomerTel:this.dataModel.aboutCustomerMobile}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionButtonQuickListSearchCaseCode(){if(!this.dataModel||!this.dataModel.caseCode||this.dataModel.caseCode.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Fi,{height:"90%",panelClass:e,enterAnimationDuration:F.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:F.cmsViewConfig.exitAnimationDuration,data:{searchCaseCode:this.dataModel.caseCode}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}};tl.\u0275fac=function(i){return new(i||tl)(v(Gt),v(te),v(Pi),v(sn),v(Zt),v(Ui),v(Di),v(O),v(Ce),v(jt),v(ke),v(G),v(N),v(Oe),v(de),v(B))},tl.\u0275cmp=V({type:tl,selectors:[["app-estate-property-add"]],viewQuery:function(i,t){if(i&1&&(Q(H4,5),Q(zt,5)),i&2){let l;z(l=K())&&(t.formGroup=l.first),z(l=K())&&(t.childMap=l.first)}},standalone:!1,features:[Y],decls:106,vars:122,consts:[["vform","ngForm"],["stepper",""],["LinkMainImageId",""],["Description",""],["Title",""],["CaseCode",""],["CreatedYaer",""],["Partition",""],["Area",""],["Address",""],["LinkSiteId",""],["scoreEstateLocation","ngModel"],["scoreEstateBuild","ngModel"],["scoreEstatePrice","ngModel"],["AboutAgentMobile",""],["AboutAgentTel",""],["AboutCustomerMobile",""],["AboutCustomerTel",""],["actionCreateNewCmsUserFirstName",""],["actionCreateNewCmsUserLastName",""],["actionCreateNewCmsUserMobile",""],["DescriptionHidden",""],["AddressHidden",""],["contractDataModel_Description",""],[3,"Key","svg"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"optionChange","optionDisabled","optionAllowUnSelect","optionTypeView","optionSelectForce","optionPlaceholder"],["class","row mb-0",4,"ngIf"],[3,"optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder","optionTypeUsageId","optionChange",4,"ngIf"],[4,"ngIf"],["state","main",3,"label",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","blockquote",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","seo",3,"label",4,"ngIf"],["state","contract",3,"label"],[3,"optionChange","optionTypeView","optionDisabled","optionPlaceholder","optionSelectForce"],["class","container",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["class","example-container mat-elevation-z8",4,"ngIf"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","openDirectUploadView","isPopup","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"dataFileModelChange","dataFileModel","optionFileType","openDirectUploadView"],[3,"dataModelChange","dataModel"],[3,"dataModelChange","dataModel","dataImageModel"],["class","ntk-button-row",4,"ngIf"],["state","loaction",3,"label"],["id","main-map",3,"map$","zoom$","optonCenter"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[1,"row","mb-0"],["class","col-xl-2 col-lg-3 col-md-4 col-sm-12 pe-1",4,"ngFor","ngForOf"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder","optionTypeUsageId"],["class","d-flex mb-3",4,"ngIf"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","2000","rows","5","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataProfessional",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2",2,"position","inherit"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataProfessional","name","dataProfessional",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataProfessional",1,"custom-control-label"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["matSuffix","","class","pointer",3,"click",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["matSuffix","",1,"pointer",3,"click"],["for","dataModel.caseCode",1,"color-highlight"],["matInput","","type","text","name","dataModel.caseCode","type","text","minlength","3","maxlength","100","id","dataModel.caseCode",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["data-trigger-switch","dataModel.viewConfigHiddenInList",1,"font-600","font-14"],["type","checkbox","id","dataModel.viewConfigHiddenInList","name","dataModel.viewConfigHiddenInList",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.viewConfigHiddenInList",1,"custom-control-label"],["for","dataModel.createdYaer",1,"color-highlight"],["matInput","","name","dataModel.createdYaer","type","number","id","dataModel.createdYaer",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.partition",1,"color-highlight"],["matInput","","name","dataModel.partition","type","number","id","dataModel.partition",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.area",1,"color-highlight"],["matInput","","name","dataModel.area","type","text","currencyMask","","id","dataModel.area",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue","matStepperNext","",3,"disabled",4,"ngIf"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","text","name","dataModel.linkSiteId","minlength","3","maxlength","100","id","dataModel.linkSiteId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["data-trigger-switch","dataModel.viewContentHidden",1,"font-600","font-14"],["type","checkbox","id","dataModel.viewContentHidden","name","dataModel.viewContentHidden",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.viewContentHidden",1,"custom-control-label"],["data-trigger-switch","dataModel.siteAdminViewContentHidden",1,"font-600","font-14"],["type","checkbox","id","dataModel.siteAdminViewContentHidden","name","dataModel.siteAdminViewContentHidden",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.siteAdminViewContentHidden",1,"custom-control-label"],[1,"range-slider","bottom-15","range-slider-icons"],["for","dataModel.scoreEstateLocation",1,"color-highlight"],[1,"fa","fa-range-icon-1","fa-angle-down","color-theme"],[1,"fa","fa-range-icon-2","fa-angle-up","color-theme"],["type","range","min","0","max","10","id","dataModel.scoreEstateLocation","name","dataModel.scoreEstateLocation",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],["for","dataModel.scoreEstateBuild",1,"color-highlight"],["type","range","min","0","max","10","id","dataModel.scoreEstateBuild","name","dataModel.scoreEstateBuild",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],["for","dataModel.scoreEstatePrice",1,"color-highlight"],["type","range","min","0","max","10","id","dataModel.scoreEstatePrice","name","dataModel.scoreEstatePrice",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],[3,"optionChange","optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder"],["for","dataModel.aboutAgentMobile",1,"color-highlight"],["matInput","","type","text","name","dataModel.aboutAgentMobile","type","text","minlength","0","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.aboutAgentTel",1,"color-highlight"],["matInput","","type","text","name","dataModel.aboutAgentTel","type","text","minlength","0","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.aboutCustomerMobile",1,"color-highlight"],["matInput","","type","text","name","dataModel.aboutCustomerMobile","type","text","minlength","0","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.aboutCustomerTel",1,"color-highlight"],["matInput","","type","text","name","dataModel.aboutCustomerTel","type","text","minlength","0","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"blockquote"],["data-trigger-switch","dataModel.actionCreateNewCmsUser",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],["type","checkbox","id","dataModel.actionCreateNewCmsUser","name","dataModel.actionCreateNewCmsUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.actionCreateNewCmsUser",1,"custom-control-label"],["for","dataModel.actionCreateNewCmsUserFirstName",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserFirstName","type","text","minlength","3","maxlength","50","id","dataModel.actionCreateNewCmsUserFirstName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.actionCreateNewCmsUserLastName",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserLastName","type","text","minlength","3","maxlength","50","id","dataModel.actionCreateNewCmsUserLastName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.actionCreateNewCmsUserMobile",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserMobile","type","text","placeholder","0912","minlength","3","maxlength","20","id","dataModel.actionCreateNewCmsUserMobile",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["state","seo",3,"label"],[3,"optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[1,"example-headers-align"],[3,"expanded","opened",4,"ngFor","ngForOf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"opened","expanded"],[4,"ngFor","ngForOf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue",3,"click",4,"ngIf"],[3,"ngSwitch"],["class","ntk-full-width",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"ntk-full-width"],["aria-hidden","true",3,"ngClass"],[3,"modelChange","model","optionForceUseDefaultValue","optionMultipleChoice","optionDefaultValue","optionLabel"],[3,"modelChange","model","optionLabel"],[3,"modelChange","model"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","2000","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.addressHidden",1,"color-highlight"],["matInput","","name","dataModel.addressHidden","type","text","minlength","0","maxlength","2000","rows","5","id","dataModel.addressHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"container"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],["class","row",4,"ngIf"],["for","contractDataModel.description",1,"color-highlight"],["matInput","","name","contractDataModel. description","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"row"],[1,"col-6","input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","contractDataModel.salePrice",1,"color-highlight"],["matInput","","type","text","name","contractDataModel.salePrice","currencyMask","","placeholder","0","id","contractDataModel.salePrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],[1,"col-3"],["data-trigger-switch","contractDataModel.salePriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.salePriceAllowAgreement","name","contractDataModel.salePriceAllowAgreement",1,"ios-input",3,"ngModelChange","change","ngModel"],["for","contractDataModel.salePriceAllowAgreement",1,"custom-control-label"],["for","contractDataModel.depositPrice",1,"color-highlight"],["matInput","","type","text","name","contractDataModel.depositPrice","currencyMask","","placeholder","0","id","contractDataModel.depositPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.depositPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.depositPriceByAgreement","name","contractDataModel.depositPriceByAgreement",1,"ios-input",3,"ngModelChange","change","ngModel"],["for","contractDataModel.depositPriceByAgreement",1,"custom-control-label"],["for","contractDataModel.rentPrice",1,"color-highlight"],["matInput","","type","text","name","contractDataModel.rentPrice","currencyMask","","placeholder","0","id","contractDataModel.rentPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.rentPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.rentPriceByAgreement","name","contractDataModel.rentPriceByAgreement",1,"ios-input",3,"ngModelChange","change","ngModel"],["for","contractDataModel.rentPriceByAgreement",1,"custom-control-label"],["for","contractDataModel.periodPrice",1,"color-highlight"],["matInput","","type","text","name","contractDataModel.periodPrice","currencyMask","","placeholder","0","id","contractDataModel.periodPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.periodPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.periodPriceByAgreement","name","contractDataModel.periodPriceByAgreement",1,"ios-input",3,"ngModelChange","change","ngModel"],["for","contractDataModel.periodPriceByAgreement",1,"custom-control-label"],[1,"example-container","mat-elevation-z8"],["multiTemplateDataRows","",3,"dataSource"],["matColumnDef","LinkEstateContractTypeId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","SalePrice"],["matColumnDef","DepositPrice"],["matColumnDef","RentPrice"],["matColumnDef","PeriodPrice"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","descriptionDetail"],["colspan","6",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even",4,"matRowDef","matRowDefColumns"],[1,"Action"],["type","button","mat-icon-button","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["matTooltipPosition","before","aria-hidden","false",2,"color","red",3,"matTooltip"],["colspan","6"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],[1,"ntk-button-row"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],["type","submit","matStepperNext","","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let l=I();y(0,"app-cms-guide-notice",24),a(1,"div",25),y(2,"app-progress-spinner",26),a(3,"div",27)(4,"p",28),d(5),r(),a(6,"p"),d(7),_(8,"translate"),r(),y(9,"app-cms-form-result-message",29),a(10,"form",30,0),E("ngSubmit",function(){return u(l),f(t.onFormSubmit())}),a(12,"mat-vertical-stepper",31,1),E("selectionChange",function(c){u(l);let L=A(13);return f(t.onStepClick(c,L))}),a(14,"mat-step",32),_(15,"translate"),a(16,"p"),d(17),_(18,"translate"),r(),a(19,"app-estate-property-type-usage-selector",33),_(20,"translate"),E("optionChange",function(c){return u(l),f(t.onActionSelectorSelectUsage(c))}),r(),S(21,U4,3,3,"p"),R(22,Q4,2,1,"div",34)(23,z4,2,7,"app-estate-property-type-landuse-selector",35),y(24,"br")(25,"br")(26,"br"),R(27,uR,26,25,"div",36),r(),R(28,MR,8,10,"mat-step",37),a(29,"mat-step",32),_(30,"translate"),R(31,ER,2,6,"app-estate-account-agency-selector",38)(32,vR,2,5,"app-estate-account-expert-selector",39)(33,IR,7,7,"div",40)(34,bR,7,7,"div",40)(35,wR,8,8,"div",40)(36,PR,8,8,"div",40)(37,jR,14,8,"div",41)(38,qR,5,4,"div",42),r(),R(39,lD,12,11,"mat-step",43),a(40,"mat-step",32),_(41,"translate"),R(42,dD,10,8,"div",40)(43,pD,10,8,"div",40)(44,mD,7,7,"div",42),r(),a(45,"mat-step",44),_(46,"translate"),a(47,"p"),d(48),_(49,"translate"),r(),a(50,"app-estate-contract-type-selector",45),_(51,"async"),E("optionChange",function(c){return u(l),f(t.onActionSelectorContractType(c))}),r(),R(52,ED,8,6,"div",46)(53,vD,3,3,"button",47),y(54,"hr"),a(55,"p"),d(56),_(57,"translate"),r(),R(58,ZD,25,5,"div",48)(59,JD,5,4,"div",42),r(),a(60,"mat-step",49),_(61,"translate"),a(62,"p"),d(63),_(64,"translate"),r(),a(65,"div",50)(66,"a",51),_(67,"cmsthumbnail"),R(68,XD,2,4,"img",52),r()(),a(69,"div",53)(70,"label",54),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),d(71),_(72,"translate"),r(),a(73,"input",55,2),_(75,"translate"),w("ngModelChange",function(c){return u(l),T(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),E("click",function(){return u(l),f(t.fileManagerOpenForm=!0)}),r(),a(76,"cms-file-manager",56),E("itemSelected",function(c){return u(l),f(t.onActionFileSelectedLinkMainImageId(c))}),w("openFormChange",function(c){return u(l),T(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),f(c)}),r()(),y(77,"hr"),R(78,$D,3,3,"p",36),a(79,"app-cms-files-selector",57),w("dataFileModelChange",function(c){return u(l),T(t.dataFileModelImgaes,c)||(t.dataFileModelImgaes=c),f(c)}),r(),y(80,"hr"),R(81,ek,6,5,"div",36),a(82,"h3"),d(83),_(84,"translate"),r(),a(85,"app-cms-360-image-list",58),w("dataModelChange",function(c){return u(l),T(t.dataModel.file360Views,c)||(t.dataModel.file360Views=c),f(c)}),r(),y(86,"br"),a(87,"h3"),d(88),_(89,"translate"),r(),a(90,"app-cms-360-tour-list",59),w("dataModelChange",function(c){return u(l),T(t.dataModel.file360Tour,c)||(t.dataModel.file360Tour=c),f(c)}),r(),R(91,tk,10,11,"div",60),r(),a(92,"mat-step",61),_(93,"translate"),a(94,"p"),d(95),_(96,"translate"),r(),a(97,"app-cms-map",62),E("map$",function(c){return u(l),f(t.receiveMap(c))})("zoom$",function(c){return u(l),f(t.receiveZoom(c))}),r(),a(98,"button",63),E("click",function(){return u(l),f(t.ActionCurrentPoint())}),d(99),_(100,"translate"),r(),R(101,nk,5,4,"div",42),r(),R(102,ok,2,0,"ng-template",64)(103,ak,2,0,"ng-template",65)(104,rk,2,0,"ng-template",66)(105,lk,2,0,"ng-template",67),r()()()()}i&2&&(m("Key","estate.property.list.add")("svg","assets/media/svg/icons/General/Notifications1.svg"),o(2),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",g(8,82,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(5),m("label",P(g(15,84,"TITLE.REQUIRED_INFORMATION"))),o(3),x(g(18,86,"TITLE.Type_Usage")),o(2),m("optionDisabled",!(t.fieldsInfo.linkPropertyTypeUsageId!=null&&t.fieldsInfo.linkPropertyTypeUsageId.accessAddField))("optionAllowUnSelect",!1)("optionTypeView",2)("optionSelectForce",t.dataModel.linkPropertyTypeUsageId)("optionPlaceholder",g(20,88,"TITLE.Type_Usage")),o(2),M(t.dataModel.linkPropertyTypeUsageId&&t.dataModel.linkPropertyTypeUsageId.length>0&&t.listTypeLanduse&&t.listTypeLanduse.length>0?21:-1),o(),m("ngIf",t.dataModel.linkPropertyTypeUsageId&&t.dataModel.linkPropertyTypeUsageId.length>0&&t.listTypeLanduse&&t.listTypeLanduse.length>0),o(),m("ngIf",(!t.listTypeLanduse||t.listTypeLanduse.length===0)&&t.dataModel.linkPropertyTypeUsageId&&t.dataModel.linkPropertyTypeUsageId.length>0),o(4),m("ngIf",t.dataModel.linkPropertyTypeLanduseId&&t.dataModel.linkPropertyTypeLanduseId.length>0),o(),m("ngIf",t.tokenHelper.isAdminSite),o(),m("label",P(g(30,90,"TITLE.Personal_Information"))),o(2),m("ngIf",t.tokenHelper.isAdminSite),o(),m("ngIf",t.tokenHelper.isAdminSite),o(),m("ngIf",t.fieldsInfo.aboutAgentMobile==null?null:t.fieldsInfo.aboutAgentMobile.accessWatchField),o(),m("ngIf",t.fieldsInfo.aboutAgentTel==null?null:t.fieldsInfo.aboutAgentTel.accessWatchField),o(),m("ngIf",t.fieldsInfo.aboutCustomerMobile==null?null:t.fieldsInfo.aboutCustomerMobile.accessWatchField),o(),m("ngIf",t.fieldsInfo.aboutCustomerTel==null?null:t.fieldsInfo.aboutCustomerTel.accessWatchField),o(),m("ngIf",t.fieldsInfo.actionCreateNewCmsUser==null?null:t.fieldsInfo.actionCreateNewCmsUser.accessWatchField),o(),m("ngIf",t.formInfo.submitButtonEnabled),o(),m("ngIf",t.dataModel.propertyDetailGroups&&t.dataModel.propertyDetailGroups.length>0),o(),m("label",P(g(41,92,"TITLE.SECRET_INFORMATION"))),o(2),m("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),o(),m("ngIf",t.fieldsInfo.addressHidden==null?null:t.fieldsInfo.addressHidden.accessWatchField),o(),m("ngIf",t.formInfo.submitButtonEnabled),o(),m("label",P(g(46,94,"TITLE.Transaction"))),o(3),h(" ",g(49,96,"TITLE.Specify_the_type_of_transaction_for_this_property")," "),o(2),m("optionTypeView",2)("optionDisabled",!1)("optionPlaceholder",g(51,98,t.translate.get("TITLE.Type_Of_Transaction")))("optionSelectForce",t.contractDataModel.linkEstateContractTypeId),o(2),m("ngIf",t.contractTypeSelected&&t.contractTypeSelected.id.length>0),o(),m("ngIf",t.contractTypeSelected&&t.contractTypeSelected.id.length>0),o(3),h(" ",g(57,100,"TITLE.List_Of_Transaction_Details_Of_This_Property")," "),o(2),m("ngIf",!t.publicHelper.processService.process.inRunAll),o(),m("ngIf",t.formInfo.submitButtonEnabled),o(),m("label",P(g(61,102,"TITLE.ATTACH_FILES"))),o(3),x(g(64,104,"TITLE.CONTENT_ATTACH_FILES")),o(3),m("href",P(g(67,106,t.dataModel.linkMainImageIdSrc)),H),o(2),m("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),x(g(72,108,"TITLE.Original_Photo")),o(2),m("placeholder",P(g(75,110,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),m("language",t.appLanguage)("openDirectUploadView",!0)("isPopup",!0),b("openForm",t.fileManagerOpenForm),m("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(2),m("ngIf",t.dataFileModelImgaes&&t.dataFileModelImgaes.size>0),o(),b("dataFileModel",t.dataFileModelImgaes),m("optionFileType",t.selectFileTypeMainImage)("openDirectUploadView",!0),o(2),m("ngIf",!t.hidden),o(2),x(g(84,112,"TITLE.image_360")),o(2),b("dataModel",t.dataModel.file360Views),o(3),x(g(89,114,"TITLE.virtual_tour")),o(2),b("dataModel",t.dataModel.file360Tour),m("dataImageModel",t.dataModel.file360Views),o(),m("ngIf",t.formInfo.submitButtonEnabled),o(),m("label",P(g(93,116,"TITLE.Location"))),o(3),h(" ",g(96,118,"TITLE.Click_on_the_map_to_specify_the_location")," "),o(2),m("optonCenter",t.mapOptonCenter),o(2),h(" ",g(100,120,"ACTION.MY_LOCATION")," "),o(2),m("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[re,cl,pl,ml,ul,fl,Re,X,Ft,Oo,Jt,$,Te,le,Ee,ge,_e,Ae,Ue,zo,Ho,jo,Uo,Qo,qo,De,Ze,we,ee,ui,fi,_i,gi,mi,$e,tt,at,it,et,rt,nt,ot,lt,st,Go,kn,hi,Ei,Si,no,vi,Ii,zt,U,Pn,se,Mi,la,sa,da,ca,pa,ma,yi,Bt,un,wo,aa,oa,fa,Zi,_a,ea,qe,pt,ko,W,An,he],encapsulation:2});var ll=tl;var Vc=[{path:"",component:Jr,data:{title:"ROUTE.ESTATE.MAIN"},children:[{path:"overview-events",component:za,data:{title:"ROUTE.ESTATE.EVENTS"}},{path:"overview-summary",component:Za,data:{title:"ROUTE.ESTATE.SUMMARY"}},{path:"property",component:Je,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/Action/:Action",component:Je,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkPropertyTypeLanduseId/:LinkPropertyTypeLanduseId",component:Je,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkPropertyTypeUsageId/:LinkPropertyTypeUsageId",component:Je,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkContractTypeId/:LinkContractTypeId",component:Je,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkBillboardId/:LinkBillboardId",component:Je,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkCustomerOrderId/:LinkCustomerOrderId",component:Je,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkUserId/:LinkUserId",component:Je,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkProjectId/:LinkProjectId",component:Je,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkCompanyId/:LinkCompanyId",component:Je,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkEstateExpertId/:LinkEstateExpertId",component:Je,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkEstateAgencyId/:LinkEstateAgencyId",component:Je,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/InChecking/:InChecking",component:Je,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/recordstatus/:RecordStatus",component:Je,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/add",component:ll,data:{title:"ROUTE.ESTATE.PROPERTYADD"}},{path:"property/add/LinkPropertyTypeLanduseId/:LinkPropertyTypeLanduseId",component:ll,data:{title:"ROUTE.ESTATE.PROPERTYADD"}},{path:"property/edit/:id",component:Kr,data:{title:"ROUTE.ESTATE.PROPERTYEDIT"}},{path:"property-type-usage",component:qr,data:{title:"ROUTE.ESTATE.TYPEUSAGE"}},{path:"property-type-landuse",component:Gr,data:{title:"ROUTE.ESTATE.LANDUSE"}},{path:"property-ads/LinkPropertyId/:LinkPropertyId",component:co,data:{title:"ROUTE.ESTATE.PROPERTYADS"}},{path:"property-ads",component:co,data:{title:"ROUTE.ESTATE.PROPERTYADS"}},{path:"property-ads/sale/:LinkPropertyId",component:ir,data:{title:"ROUTE.ESTATE.PROPERTYADS"}},{path:"activity-type",component:ha,data:{title:"ROUTE.ESTATE.ACTIVITYTYPE"}},{path:"property-company",component:So,data:{title:"ROUTE.ESTATE.COMPANY"}},{path:"property-company/LinkProjectId/:LinkProjectId",component:So,data:{title:"ROUTE.ESTATE.COMPANY"}},{path:"property-company/add",component:or,data:{title:"ROUTE.ESTATE.COMPANY"}},{path:"property-company/edit/:id",component:rr,data:{title:"ROUTE.ESTATE.COMPANY"}},{path:"property-supplier",component:Io,data:{title:"ROUTE.ESTATE.SUPPLIER"}},{path:"property-supplier/LinkProjectId/:LinkProjectId",component:Io,data:{title:"ROUTE.ESTATE.SUPPLIER"}},{path:"property-supplier/add",component:Rr,data:{title:"ROUTE.ESTATE.SUPPLIER"}},{path:"property-supplier/edit/:id",component:kr,data:{title:"ROUTE.ESTATE.SUPPLIER"}},{path:"ads-type",component:Ea,data:{title:"ROUTE.ESTATE.ADSTYPE"}},{path:"account-agency",component:Rn,data:{title:"ROUTE.ESTATE.ACCOUNTAGENCY"}},{path:"account-agency/LinkAccountUserId/:LinkAccountUserId",component:Rn,data:{title:"ROUTE.ESTATE.ACCOUNTAGENCY"}},{path:"account-user",component:Dn,data:{title:"ROUTE.ESTATE.ACCOUNTUSER"}},{path:"account-user/LinkAccountAgencyId/:LinkAccountAgencyId",component:Dn,data:{title:"ROUTE.ESTATE.ACCOUNTUSER"}},{path:"contract-type",component:Ha,data:{title:"ROUTE.ESTATE.CONTRACTTYPE"}},{path:"billboard",component:La,data:{title:"ROUTE.ESTATE.BILLBOARD"}},{path:"billboard/add",component:lo,data:{title:"ROUTE.ESTATE.BILLBOARD"}},{path:"billboard/add-copy/:id",component:lo,data:{title:"ROUTE.ESTATE.BILLBOARD"}},{path:"billboard/edit/:id",component:Da,data:{title:"ROUTE.ESTATE.BILLBOARD"}},{path:"property-project",component:wr,data:{title:"ROUTE.ESTATE.PROJECT"}},{path:"property-project/add",component:Er,data:{title:"ROUTE.ESTATE.PROJECT"}},{path:"property-project/edit/:id",component:Ir,data:{title:"ROUTE.ESTATE.PROJECT"}},{path:"category-zone",component:Oa,data:{title:"ROUTE.ESTATE.CATEGORY.ZONE"}},{path:"category-rack",component:Cs,data:{title:"ROUTE.ESTATE.CATEGORY.RACK"}},{path:"property-detail-group",component:_r,data:{title:"ROUTE.ESTATE.DETAIL.GROUP"}},{path:"property-detail",component:Eo,data:{title:"ROUTE.ESTATE.PROPERTYDETAIL"}},{path:"property-detail/LinkPropertyTypeLanduseId/:LinkPropertyTypeLanduseId",component:Eo,data:{title:"ROUTE.ESTATE.PROPERTYDETAIL"}}]}];var Ro=class Ro{};Ro.\u0275fac=function(e){return new(e||Ro)},Ro.\u0275mod=dl({type:Ro}),Ro.\u0275inj=sl({imports:[ys.forChild(window.innerWidth<1e3?Lc:Vc),ys]});var hs=Ro;var Do=class Do{};Do.\u0275fac=function(e){return new(e||Do)},Do.\u0275mod=dl({type:Do}),Do.\u0275inj=sl({providers:[Os,Hs,te,Gs,$s,Sl,Js,Ys,Zs,Ml,Xs,Pi,vl,Xn,ed,eo,$n,sn,id,Zt,to,Ri,Ai,ji,In,Di,El,bn,Ui,vn,Hi,bt,Ws],imports:[Vs,hs,sd,dd.withConfig({warnOnNgModelWithFormControl:"never"}),Rd,Gd,ic,Ld,xd,bd,Id,Td,Hd,od,Wd,Pd]});var Fc=Do;export{Fc as EstateMainModule};
