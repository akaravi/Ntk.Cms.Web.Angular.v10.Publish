import{a as $t}from"./chunk-PERUMJAU.js";import{a as tt}from"./chunk-65YO74X4.js";import{a as bt}from"./chunk-E426FSNE.js";import{a as ft}from"./chunk-LXEP7XWN.js";import{a as en}from"./chunk-A6WWZTK4.js";import{a as Ii}from"./chunk-C3TLOISD.js";import{a as Zo}from"./chunk-WRAACDWV.js";import{a as lt}from"./chunk-Z4JEUKCU.js";import{a as st}from"./chunk-D3RTRNBB.js";import{a as at}from"./chunk-ATJHGAM2.js";import{c as et,d as it,e as ot,g as nt,h as rt}from"./chunk-3JG25VUS.js";import{a as Ze,b as Jt}from"./chunk-ECW7QAN3.js";import{b as ut,c as vt,e as Xe}from"./chunk-BG2HH6PZ.js";import{b as Xo}from"./chunk-BSSB43GA.js";import"./chunk-I3PSBVSF.js";import"./chunk-5CKI2X43.js";import{a as _e}from"./chunk-DUCJD55F.js";import{a as de}from"./chunk-6HCCMSGB.js";import{a as ee,d as te}from"./chunk-RBUIFA3R.js";import{e as Ye,f as j}from"./chunk-O6US7E72.js";import{$a as oe,Ab as Qe,Ba as Qo,Bb as ze,Ca as zo,Cb as Je,Da as Jo,Db as $e,Fc as H,Ic as F,K as Qt,Ka as X,Kc as U,L as zt,La as Z,Ma as Be,N as qo,Nc as Yo,O as Wo,Qb as O,Rb as P,W as oo,Z as Ko,Za as Ve,ba as xe,cc as $o,eb as Ne,fb as Ge,hb as Oe,lb as pt,mb as Pe,n as gt,nb as He,q as Ct,r as ke,t as Ae,ub as Fe,v as Mt,vb as Ue,w as De,wb as je,xb as qe,yb as We,zb as Ke}from"./chunk-C7Z526PT.js";import{$b as ve,$g as Ut,Ag as Lt,Bg as kt,Bq as W,Cg as At,Db as J,Dg as Dt,Eb as $,Fa as n,Fb as Y,Fg as xt,Gg as Uo,Hg as Bt,Id as Te,Ig as Vt,Jb as ie,Jc as we,Jg as Nt,Kg as Gt,Lb as le,Lc as V,Ld as N,Oa as m,Ob as d,Od as be,Og as jo,Pb as yt,Pc as ye,Qb as u,Rc as mt,Sa as D,Sd as _t,Ta as io,Td as K,Ub as R,Uc as vi,Vb as T,Wa as z,Wb as L,Xb as Si,Xc as No,Xd as A,Xg as Ot,Y as to,Ya as _,Yd as Me,Yg as Pt,Zg as Ht,_g as Ft,ac as Ie,ah as jt,bh as qt,ch as Wt,da as S,dc as M,de as G,dg as Le,dh as Kt,ea as h,ec as b,fc as _i,he as Tt,kb as p,lb as s,mb as a,nb as C,qg as Oo,rb as I,rd as Ee,rg as Po,sb as w,sd as Go,tb as ae,td as Re,ub as y,vg as Ho,wc as B,xb as v,zb as g,zd as xo,zg as Fo}from"./chunk-KMOMZPHA.js";import{i as x}from"./chunk-SEDBTTTN.js";var wi=class wi{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};wi.\u0275fac=function(e){return new(e||wi)},wi.\u0275cmp=D({type:wi,selectors:[["app-coremodulelog"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&C(0,"router-outlet")},dependencies:[Go],encapsulation:2});var no=wi;var rn=["vform"];function sn(o,r){if(o&1){let e=y();s(0,"div",19)(1,"button",20),v("click",function(){S(e);let t=g();return h(t.onFormCancel())}),C(2,"i",21),d(3),M(4,"translate"),a(),s(5,"button",22),C(6,"i",21),d(7),M(8,"translate"),a()()}o&2&&(n(3),u(" ",b(4,2,"ACTION.CANCEL")," "),n(4),u(" ",b(8,4,"ACTION.SAVE")," "))}var yi=class yi extends Ze{constructor(e,i,t,c,f,l,k,ne,Q,se){super(c,new Ot,Q,se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleLogFavoriteService=c;this.cmsToastrService=f;this.tokenHelper=l;this.cmsStoreService=k;this.cdr=ne;this.publicHelper=Q;this.translate=se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new _t;this.dataModel=new Ot;this.formInfo=new te;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>x(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogFavoriteService.setAccessLoad(),this.coreModuleLogFavoriteService.setAccessDataType(be.Editor),this.coreModuleLogFavoriteService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogFavoriteService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};yi.\u0275fac=function(i){return new(i||yi)(m(Z),m(X),m(G),m(At),m(U),m(F),m(H),m(B),m(j),m(O))},yi.\u0275cmp=D({type:yi,selectors:[["app-coremodulelog-favorite-edit"]],viewQuery:function(i,t){if(i&1&&J(rn,5),i&2){let c;$(c=Y())&&(t.formGroup=c.first)}},standalone:!1,features:[z],decls:33,vars:25,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,t){if(i&1){let c=y();s(0,"div",4),C(1,"app-progress-spinner",5),s(2,"div",6)(3,"p",7),d(4),a(),s(5,"p"),d(6),M(7,"translate"),a(),C(8,"app-cms-form-result-message",8),s(9,"form",9,0),v("ngSubmit",function(){return S(c),h(t.onFormSubmit())}),C(11,"app-cms-site-selector",10),M(12,"translate"),C(13,"app-cms-user-selector",10),M(14,"translate"),C(15,"app-cms-member-selector",10),M(16,"translate"),s(17,"div",11)(18,"label",12),d(19,"ModuleName"),a(),s(20,"input",13,1),L("ngModelChange",function(l){return S(c),T(t.dataModel.moduleName,l)||(t.dataModel.moduleName=l),h(l)}),a()(),s(22,"div",11)(23,"label",14),d(24,"ModuleEntityName"),a(),s(25,"input",15,2),L("ngModelChange",function(l){return S(c),T(t.dataModel.moduleEntityName,l)||(t.dataModel.moduleEntityName=l),h(l)}),a()(),s(27,"div",11)(28,"label",16),d(29,"ModuleEntityId"),a(),s(30,"input",17,3),L("ngModelChange",function(l){return S(c),T(t.dataModel.moduleEntityId,l)||(t.dataModel.moduleEntityId=l),h(l)}),a()(),_(32,sn,9,6,"div",18),a()()()}i&2&&(n(),p("optionsInfoAreaId",t.constructorInfoAreaId),n(3),u(" ",t.formInfo.formTitle," "),n(2),u(" ",b(7,17,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),p("formInfo",t.formInfo),n(3),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",b(12,19,"TITLE.SITE")),n(2),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",b(14,21,"TITLE.USER")),n(2),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",b(16,23,"TITLE.Member")),n(5),R("ngModel",t.dataModel.moduleName),n(5),R("ngModel",t.dataModel.moduleEntityName),n(5),R("ngModel",t.dataModel.moduleEntityId),n(2),p("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[V,De,gt,Ct,ke,Mt,Ae,oe,ut,Jt,$t,ee,de,P],encapsulation:2});var ro=yi;var an=["vform"];function ln(o,r){if(o&1){let e=y();s(0,"div",8)(1,"button",9),v("click",function(){S(e);let t=g();return h(t.onFormCancel())}),C(2,"i",10),d(3),M(4,"translate"),a()()}o&2&&(n(3),u(" ",b(4,1,"ACTION.CANCEL")," "))}var Ei=class Ei{constructor(r,e,i,t,c,f,l,k,ne,Q){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.coreModuleLogFavoriteService=t;this.cmsToastrService=c;this.tokenHelper=f;this.cmsStoreService=l;this.cdr=k;this.publicHelper=ne;this.translate=Q;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Le;this.dataModelResult=new K;this.dataModel=new Ot;this.formInfo=new te;this.dataModelEnumSendSmsStatusTypeResult=new K;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>x(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreModuleLogFavoriteService.setAccessLoad(),this.coreModuleLogFavoriteService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ei.\u0275fac=function(e){return new(e||Ei)(m(Z),m(X),m(G),m(At),m(U),m(F),m(H),m(B),m(j),m(O))},Ei.\u0275cmp=D({type:Ei,selectors:[["app-coremodulelog-favorite-view"]],viewQuery:function(e,i){if(e&1&&J(an,5),e&2){let t;$(t=Y())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(s(0,"div",0),d(1),a(),s(2,"div",1),C(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),a(),s(5,"div",4),C(6,"app-cms-form-result-message",5),a(),s(7,"div",6),_(8,ln,5,3,"div",7),a()),e&2&&(n(),u(" ",i.formInfo.formTitle," "),n(2),p("optionsInfoAreaId",i.constructorInfoAreaId),n(),p("dataModel",i.dataModel)("optionMethod",1),n(2),p("formInfo",i.formInfo),n(2),p("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[V,ee,tt,de,P],encapsulation:2});var so=Ei;var cn=()=>[5,10,20,100],dn=o=>({display:o});function mn(o,r){if(o&1&&C(0,"app-core-user-header",44),o&2){let e=g();p("optionId",e.requestLinkUserId)}}function pn(o,r){if(o&1){let e=y();s(0,"a",45),v("click",function(){S(e);let t=g();return h(t.onActionBackToParent())}),C(1,"i",46),a()}}function un(o,r){if(o&1){let e=y();s(0,"div",47)(1,"a",48),v("click",function(){S(e);let t=g();return h(t.onActionButtonViewRow(t.tableRowSelected))}),C(2,"i",49)(3,"br"),a(),s(4,"p",50),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.VIEW")," "))}function fn(o,r){if(o&1){let e=y();s(0,"div",47)(1,"a",51),v("click",function(){S(e);let t=g();return h(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",52)(3,"br"),a(),s(4,"p",50),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.EDIT")," "))}function Sn(o,r){if(o&1){let e=y();s(0,"div",47)(1,"a",53),v("click",function(){S(e);let t=g();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",54)(3,"br"),a(),s(4,"p",50),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.DELETE")," "))}function hn(o,r){if(o&1){let e=y();s(0,"div",47)(1,"a",48),v("click",function(){S(e);let t=g();return h(t.onActionButtonViewContent(t.tableRowSelected))}),C(2,"i",55)(3,"br"),a(),s(4,"p",50),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.CONTENT")," "))}function gn(o,r){if(o&1){let e=y();s(0,"div",47)(1,"a",48),v("click",function(){S(e);let t=g();return h(t.onActionButtonViewUserRow(t.tableRowSelected))}),C(2,"i",56)(3,"br"),a(),s(4,"p",50),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.USER")," "))}function Cn(o,r){if(o&1&&(s(0,"mat-header-cell",57),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Mn(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.id," ")}}function bn(o,r){if(o&1&&(s(0,"mat-header-cell",57),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function _n(o,r){if(o&1&&C(0,"select",60),o&2){let e=g().$implicit,i=g();p("contentService",i.contentService)("row",e)("ngStyle",Ie(3,dn,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function vn(o,r){if(o&1&&(s(0,"mat-cell",58),M(1,"statusCellClass"),C(2,"i",58),M(3,"statusIconClass"),_(4,_n,1,5,"select",59),a()),o&2){let e=r.$implicit,i=g();p("ngClass",b(1,3,e.recordStatus)),n(2),p("ngClass",b(3,5,e.recordStatus)),n(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function In(o,r){if(o&1&&(s(0,"mat-header-cell",57),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function wn(o,r){if(o&1&&(s(0,"mat-cell"),d(1),M(2,"cmssiteinfo"),M(3,"async"),a()),o&2){let e=r.$implicit;n(),u(" ",b(3,3,b(2,1,e.linkSiteId))," ")}}function yn(o,r){if(o&1&&(s(0,"mat-header-cell",57),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function En(o,r){if(o&1&&(s(0,"mat-cell"),d(1),M(2,"cmsuserinfo"),M(3,"async"),a()),o&2){let e=r.$implicit;n(),u(" ",b(3,3,b(2,1,e.linkUserId))," ")}}function Rn(o,r){if(o&1&&(s(0,"mat-header-cell",57),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function Tn(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.linkMemberId," ")}}function Ln(o,r){if(o&1&&(s(0,"mat-header-cell",57),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.moduleName==null?null:e.fieldsInfo.moduleName.fieldTitle," ")}}function kn(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.moduleName," ")}}function An(o,r){if(o&1&&(s(0,"mat-header-cell",57),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.moduleEntityName==null?null:e.fieldsInfo.moduleEntityName.fieldTitle," ")}}function Dn(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.moduleEntityName," ")}}function xn(o,r){if(o&1&&(s(0,"mat-header-cell",57),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.moduleEntityId==null?null:e.fieldsInfo.moduleEntityId.fieldTitle," ")}}function Bn(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.moduleEntityId," ")}}function Vn(o,r){if(o&1&&(s(0,"mat-header-cell",57),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Nn(o,r){if(o&1&&(s(0,"mat-cell",61),d(1),M(2,"localeDateTime"),a()),o&2){let e=r.$implicit;n(),u(" ",b(2,1,e.createdDate)," ")}}function Gn(o,r){o&1&&(s(0,"mat-header-cell"),d(1),M(2,"translate"),a()),o&2&&(n(),u(" ",b(2,1,"TITLE.OPTION")," "))}function On(o,r){if(o&1&&(s(0,"mat-cell",62)(1,"button",63)(2,"mat-icon"),d(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),o&2){let e=ie(5);n(),p("matMenuTriggerFor",e)}}function Pn(o,r){o&1&&C(0,"mat-header-row")}function Hn(o,r){if(o&1){let e=y();s(0,"mat-row",64),v("click",function(t){let c=S(e).$implicit,f=g();return h(f.onActionTableRowSelect(c,t))})("rtclick",function(t){let c=S(e).$implicit,f=g();return h(f.onActionTableRowSelect(c,t))}),a()}if(o&2){let e=r.$implicit,i=g();le("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ri=class Ri extends et{constructor(e,i,t,c,f,l,k,ne,Q,se,Rt,ht,wt){super(i,new Ot,ht,l,ne);this.coreEnumService=e;this.contentService=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=c;this.activatedRoute=f;this.tokenHelper=l;this.cdr=k;this.translate=ne;this.router=Q;this.cmsStoreService=se;this.pageInfo=Rt;this.publicHelper=ht;this.dialog=wt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestlinkMemberId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Me;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkUserId","linkSiteId","linkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkUserId","linkSiteId","linkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","createdDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberId")),this.requestLinkSiteId>0){let E=new A;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new A;E.propertyName="linkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestlinkMemberId>0){let E=new A;E.propertyName="linkMemberId",E.value=this.requestlinkMemberId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=N.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=N.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>x(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ot);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new A;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new A;t.propertyAnyName="linkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new A;t.propertyAnyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=N.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=N.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=N.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(so,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ro,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(c=>{if(c){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(f,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonViewContent(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e);let i="/"+e.moduleName+"/"+e.moduleEntityName.substring(e.moduleName.length)+"/edit/"+e.moduleEntityId;e.moduleEntityName.indexOf(e.moduleName)>=0?this.router.navigate([i.toLowerCase()]):this.router.navigate([i.toLowerCase()])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{i.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{i.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),f=new A;f.propertyName="recordStatus",f.value=Te.Available,c.filters.push(f),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.translate.get("MESSAGE.content_does_not_include_member_informations").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Ri.\u0275fac=function(i){return new(i||Ri)(m(G),m(At),m(U),m(_e),m(Ee),m(F),m(B),m(O),m(Re),m(H),m(Ye),m(j),m(Be))},Ri.\u0275cmp=D({type:Ri,selectors:[["app-coremodulelog-favorite-list"]],standalone:!1,features:[z],decls:65,vars:26,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"justify-content-start"],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","linkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-folder-grid","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let c=y();_(0,mn,1,1,"app-core-user-header",3),s(1,"app-cms-html-list",4),L("optionActionGuideNoticeDisplayChange",function(l){return S(c),T(t.viewGuideNotice,l)||(t.viewGuideNotice=l),h(l)}),v("optionOnActionButtonMemoRow",function(){return S(c),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(c),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(c),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(c),h(t.onActionButtonPrintRow())}),I(2,5),d(3," -------------------------------------- "),w(),ae(4,6),I(5,7),s(6,"div",8),C(7,"div",9)(8,"div",10),a(),w(),ae(9,7),I(10,11),_(11,pn,2,0,"a",12),s(12,"a",13),v("click",function(){return S(c),h(t.viewGuideNotice=!t.viewGuideNotice)}),C(13,"i",14),a(),s(14,"a",13),v("click",function(){return S(c),h(t.onActionButtonReload())}),C(15,"i",15),a(),w(),ae(16,16)(17,17),I(18,18),_(19,un,7,3,"div",19)(20,fn,7,3,"div",19)(21,Sn,7,3,"div",19)(22,hn,7,3,"div",19)(23,gn,7,3,"div",19),w(),I(24,20),s(25,"app-cms-search-list",21),L("optionsChange",function(l){return S(c),T(t.optionsSearch,l)||(t.optionsSearch=l),h(l)}),a(),s(26,"app-cms-statist-list",21),L("optionsChange",function(l){return S(c),T(t.optionsStatist,l)||(t.optionsStatist=l),h(l)}),a(),w(),I(27,22),s(28,"mat-table",23,0),v("matSortChange",function(){S(c);let l=ie(29);return h(t.onTableSortData(l))}),I(30,24),_(31,Cn,2,1,"mat-header-cell",25)(32,Mn,2,1,"mat-cell",26),w(),I(33,27),_(34,bn,2,1,"mat-header-cell",25)(35,vn,5,7,"mat-cell",28),w(),I(36,29),_(37,In,2,1,"mat-header-cell",25)(38,wn,4,5,"mat-cell",26),w(),I(39,30),_(40,yn,2,1,"mat-header-cell",25)(41,En,4,5,"mat-cell",26),w(),I(42,31),_(43,Rn,2,1,"mat-header-cell",25)(44,Tn,2,1,"mat-cell",26),w(),I(45,32),_(46,Ln,2,1,"mat-header-cell",25)(47,kn,2,1,"mat-cell",26),w(),I(48,33),_(49,An,2,1,"mat-header-cell",25)(50,Dn,2,1,"mat-cell",26),w(),I(51,34),_(52,xn,2,1,"mat-header-cell",25)(53,Bn,2,1,"mat-cell",26),w(),I(54,35),_(55,Vn,2,1,"mat-header-cell",25)(56,Nn,3,3,"mat-cell",36),w(),I(57,37),_(58,Gn,3,3,"mat-header-cell",38)(59,On,6,1,"mat-cell",39),w(),_(60,Pn,1,0,"mat-header-row",40)(61,Hn,1,2,"mat-row",41),a(),w(),I(62,42),s(63,"mat-paginator",43,1),v("page",function(l){return S(c),h(t.onTablePageingData(l))}),a(),w(),a()}i&2&&(p("ngIf",t.requestLinkUserId>0),n(),p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(10),p("ngIf",t.requestLinkSiteId>0),n(4),le("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(4),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(),p("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),n(2),R("options",t.optionsSearch),n(),R("options",t.optionsStatist),n(2),p("dataSource",t.tableSource),n(32),p("matHeaderRowDef",t.tabledisplayedColumns),n(),p("matRowDefColumns",t.tabledisplayedColumns),n(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(25,cn)))},dependencies:[we,V,ye,xe,Ve,oe,Ne,Ge,Oe,Pe,He,Fe,je,Qe,qe,Ue,ze,We,Ke,Je,$e,it,ot,nt,rt,st,bt,mt,P,vt,ft,Xe,at,lt],encapsulation:2});var ao=Ri;var Fn=["vform"];function Un(o,r){if(o&1){let e=y();s(0,"div",19)(1,"button",20),v("click",function(){S(e);let t=g();return h(t.onFormCancel())}),C(2,"i",21),d(3),M(4,"translate"),a(),s(5,"button",22),C(6,"i",21),d(7),M(8,"translate"),a()()}o&2&&(n(3),u(" ",b(4,2,"ACTION.CANCEL")," "),n(4),u(" ",b(8,4,"ACTION.SAVE")," "))}var Li=class Li extends Ze{constructor(e,i,t,c,f,l,k,ne,Q,se){super(c,new Pt,Q,se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleLogLikeService=c;this.cmsToastrService=f;this.tokenHelper=l;this.cmsStoreService=k;this.cdr=ne;this.publicHelper=Q;this.translate=se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new _t;this.dataModel=new Pt;this.formInfo=new te;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>x(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogLikeService.setAccessLoad(),this.coreModuleLogLikeService.setAccessDataType(be.Editor),this.coreModuleLogLikeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogLikeService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Li.\u0275fac=function(i){return new(i||Li)(m(Z),m(X),m(G),m(kt),m(U),m(F),m(H),m(B),m(j),m(O))},Li.\u0275cmp=D({type:Li,selectors:[["app-coremodulelog-like-edit"]],viewQuery:function(i,t){if(i&1&&J(Fn,5),i&2){let c;$(c=Y())&&(t.formGroup=c.first)}},standalone:!1,features:[z],decls:33,vars:25,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,t){if(i&1){let c=y();s(0,"div",4),C(1,"app-progress-spinner",5),s(2,"div",6)(3,"p",7),d(4),a(),s(5,"p"),d(6),M(7,"translate"),a(),C(8,"app-cms-form-result-message",8),s(9,"form",9,0),v("ngSubmit",function(){return S(c),h(t.onFormSubmit())}),C(11,"app-cms-site-selector",10),M(12,"translate"),C(13,"app-cms-user-selector",10),M(14,"translate"),C(15,"app-cms-member-selector",10),M(16,"translate"),s(17,"div",11)(18,"label",12),d(19,"ModuleName"),a(),s(20,"input",13,1),L("ngModelChange",function(l){return S(c),T(t.dataModel.moduleName,l)||(t.dataModel.moduleName=l),h(l)}),a()(),s(22,"div",11)(23,"label",14),d(24,"ModuleEntityName"),a(),s(25,"input",15,2),L("ngModelChange",function(l){return S(c),T(t.dataModel.moduleEntityName,l)||(t.dataModel.moduleEntityName=l),h(l)}),a()(),s(27,"div",11)(28,"label",16),d(29,"ModuleEntityId"),a(),s(30,"input",17,3),L("ngModelChange",function(l){return S(c),T(t.dataModel.moduleEntityId,l)||(t.dataModel.moduleEntityId=l),h(l)}),a()(),_(32,Un,9,6,"div",18),a()()()}i&2&&(n(),p("optionsInfoAreaId",t.constructorInfoAreaId),n(3),u(" ",t.formInfo.formTitle," "),n(2),u(" ",b(7,17,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),p("formInfo",t.formInfo),n(3),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",b(12,19,"TITLE.SITE")),n(2),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",b(14,21,"TITLE.USER")),n(2),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",b(16,23,"TITLE.Member")),n(5),R("ngModel",t.dataModel.moduleName),n(5),R("ngModel",t.dataModel.moduleEntityName),n(5),R("ngModel",t.dataModel.moduleEntityId),n(2),p("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[V,De,gt,Ct,ke,Mt,Ae,oe,ut,Jt,$t,ee,de,P],encapsulation:2});var lo=Li;var jn=["vform"];function qn(o,r){if(o&1){let e=y();s(0,"div",10)(1,"button",11),v("click",function(){S(e);let t=g();return h(t.onFormCancel())}),C(2,"i",12),d(3),M(4,"translate"),a()()}o&2&&(n(3),u(" ",b(4,1,"ACTION.CANCEL")," "))}var ki=class ki{constructor(r,e,i,t,c,f,l,k,ne,Q){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.coreModuleLogLikeService=t;this.cmsToastrService=c;this.tokenHelper=f;this.cmsStoreService=l;this.cdr=k;this.publicHelper=ne;this.translate=Q;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Le;this.dataModelResult=new K;this.dataModel=new Pt;this.formInfo=new te;this.dataModelEnumSendSmsStatusTypeResult=new K;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>x(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreModuleLogLikeService.setAccessLoad(),this.coreModuleLogLikeService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ki.\u0275fac=function(e){return new(e||ki)(m(Z),m(X),m(G),m(kt),m(U),m(F),m(H),m(B),m(j),m(O))},ki.\u0275cmp=D({type:ki,selectors:[["app-coremodulelog-report-abuse-view"]],viewQuery:function(e,i){if(e&1&&J(jn,5),e&2){let t;$(t=Y())&&(i.formGroup=t.first)}},standalone:!1,decls:14,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(s(0,"div",0),C(1,"app-progress-spinner",1),s(2,"div",2)(3,"p",3),d(4),a(),s(5,"p"),d(6),M(7,"translate"),a(),s(8,"div",4),C(9,"app-cms-json-list",5),a(),s(10,"div",6),C(11,"app-cms-form-result-message",7),a(),s(12,"div",8),_(13,qn,5,3,"div",9),a()()()),e&2&&(n(),p("optionsInfoAreaId",i.constructorInfoAreaId),n(3),u(" ",i.formInfo.formTitle," "),n(2),u(" ",b(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),n(3),p("dataModel",i.dataModel)("optionMethod",1),n(2),p("formInfo",i.formInfo),n(2),p("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[V,ee,tt,de,P],encapsulation:2});var co=ki;var Wn=()=>[5,10,20,100],Kn=o=>({display:o});function Qn(o,r){if(o&1&&C(0,"app-core-user-header",43),o&2){let e=g();p("optionId",e.requestLinkUserId)}}function zn(o,r){if(o&1){let e=y();s(0,"a",44),v("click",function(){S(e);let t=g();return h(t.onActionBackToParent())}),C(1,"i",45),a()}}function Jn(o,r){if(o&1){let e=y();s(0,"div",46)(1,"a",47),v("click",function(){S(e);let t=g();return h(t.onActionButtonViewRow(t.tableRowSelected))}),C(2,"i",48)(3,"br"),a(),s(4,"p",49),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.VIEW")," "))}function $n(o,r){if(o&1){let e=y();s(0,"div",46)(1,"a",50),v("click",function(){S(e);let t=g();return h(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",51)(3,"br"),a(),s(4,"p",49),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.EDIT")," "))}function Yn(o,r){if(o&1){let e=y();s(0,"div",46)(1,"a",52),v("click",function(){S(e);let t=g();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",53)(3,"br"),a(),s(4,"p",49),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.DELETE")," "))}function Xn(o,r){if(o&1){let e=y();s(0,"div",46)(1,"a",47),v("click",function(){S(e);let t=g();return h(t.onActionButtonViewUserRow(t.tableRowSelected))}),C(2,"i",54)(3,"br"),a(),s(4,"p",49),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.USER")," "))}function Zn(o,r){if(o&1){let e=y();s(0,"div",46)(1,"a",47),v("click",function(){S(e);let t=g();return h(t.onActionButtonViewMemberRow(t.tableRowSelected))}),C(2,"i",55)(3,"br"),a(),s(4,"p",49),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.MEMBER")," "))}function er(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function tr(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.id," ")}}function ir(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function or(o,r){if(o&1&&C(0,"select",59),o&2){let e=g().$implicit,i=g();p("contentService",i.contentService)("row",e)("ngStyle",Ie(3,Kn,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function nr(o,r){if(o&1&&(s(0,"mat-cell",57),M(1,"statusCellClass"),C(2,"i",57),M(3,"statusIconClass"),_(4,or,1,5,"select",58),a()),o&2){let e=r.$implicit,i=g();p("ngClass",b(1,3,e.recordStatus)),n(2),p("ngClass",b(3,5,e.recordStatus)),n(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function rr(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function sr(o,r){if(o&1&&(s(0,"mat-cell"),d(1),M(2,"cmssiteinfo"),M(3,"async"),a()),o&2){let e=r.$implicit;n(),u(" ",b(3,3,b(2,1,e.linkSiteId))," ")}}function ar(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function lr(o,r){if(o&1&&(s(0,"mat-cell"),d(1),M(2,"cmsuserinfo"),M(3,"async"),a()),o&2){let e=r.$implicit;n(),u(" ",b(3,3,b(2,1,e.linkUserId))," ")}}function cr(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function dr(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.linkMemberId," ")}}function mr(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.moduleName==null?null:e.fieldsInfo.moduleName.fieldTitle," ")}}function pr(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.moduleName," ")}}function ur(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.moduleEntityName==null?null:e.fieldsInfo.moduleEntityName.fieldTitle," ")}}function fr(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.moduleEntityName," ")}}function Sr(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.moduleEntityId==null?null:e.fieldsInfo.moduleEntityId.fieldTitle," ")}}function hr(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.moduleEntityId," ")}}function gr(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Cr(o,r){if(o&1&&(s(0,"mat-cell",60),d(1),M(2,"localeDateTime"),a()),o&2){let e=r.$implicit;n(),u(" ",b(2,1,e.createdDate)," ")}}function Mr(o,r){o&1&&(s(0,"mat-header-cell"),d(1),M(2,"translate"),a()),o&2&&(n(),u(" ",b(2,1,"TITLE.OPTION")," "))}function br(o,r){if(o&1&&(s(0,"mat-cell",61)(1,"button",62)(2,"mat-icon"),d(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),o&2){let e=ie(5);n(),p("matMenuTriggerFor",e)}}function _r(o,r){o&1&&C(0,"mat-header-row")}function vr(o,r){if(o&1){let e=y();s(0,"mat-row",63),v("click",function(t){let c=S(e).$implicit,f=g();return h(f.onActionTableRowSelect(c,t))})("rtclick",function(t){let c=S(e).$implicit,f=g();return h(f.onActionTableRowSelect(c,t))}),a()}if(o&2){let e=r.$implicit,i=g();le("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ai=class Ai extends et{constructor(e,i,t,c,f,l,k,ne,Q,se,Rt,ht,wt){super(i,new Pt,ht,l,Q);this.coreEnumService=e;this.contentService=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=c;this.activatedRoute=f;this.tokenHelper=l;this.cmsStoreService=k;this.cdr=ne;this.translate=Q;this.router=se;this.pageInfo=Rt;this.publicHelper=ht;this.dialog=wt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestlinkMemberId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Me;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkUserId","linkSiteId","linkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkUserId","linkSiteId","linkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","createdDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberId")),this.requestLinkSiteId>0){let E=new A;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new A;E.propertyName="linkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestlinkMemberId>0){let E=new A;E.propertyName="linkMemberId",E.value=this.requestlinkMemberId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=N.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=N.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>x(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Pt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new A;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new A;t.propertyAnyName="linkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new A;t.propertyAnyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=N.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=N.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=N.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(co,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(lo,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(c=>{if(c){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(f,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{i.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{i.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),f=new A;f.propertyName="recordStatus",f.value=Te.Available,c.filters.push(f),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.translate.get("MESSAGE.content_does_not_include_member_informations").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Ai.\u0275fac=function(i){return new(i||Ai)(m(G),m(kt),m(U),m(_e),m(Ee),m(F),m(H),m(B),m(O),m(Re),m(Ye),m(j),m(Be))},Ai.\u0275cmp=D({type:Ai,selectors:[["app-coremodulelog-like-list"]],standalone:!1,features:[z],decls:69,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","linkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let c=y();_(0,Qn,1,1,"app-core-user-header",3),s(1,"app-cms-html-list",4),L("optionActionGuideNoticeDisplayChange",function(l){return S(c),T(t.viewGuideNotice,l)||(t.viewGuideNotice=l),h(l)}),v("optionOnActionButtonMemoRow",function(){return S(c),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(c),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(c),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(c),h(t.onActionButtonPrintRow())}),I(2,5),d(3," -------------------------------------- "),w(),ae(4,6)(5,7),I(6,8),_(7,zn,2,0,"a",9),s(8,"a",10),v("click",function(){return S(c),h(t.viewGuideNotice=!t.viewGuideNotice)}),C(9,"i",11),a(),s(10,"a",10),v("click",function(){return S(c),h(t.onActionButtonReload())}),C(11,"i",12),a(),w(),I(12,13),s(13,"a",14),v("click",function(){return S(c),h(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(14,"mat-slide-toggle",15),d(15),M(16,"translate"),a(),s(17,"a",14),v("click",function(){return S(c),h(t.onActionButtonStatist())}),C(18,"mat-slide-toggle",15),d(19),M(20,"translate"),a(),w(),ae(21,16),I(22,17),_(23,Jn,7,3,"div",18)(24,$n,7,3,"div",18)(25,Yn,7,3,"div",18)(26,Xn,7,3,"div",18)(27,Zn,7,3,"div",18),w(),I(28,19),s(29,"app-cms-search-list",20),L("optionsChange",function(l){return S(c),T(t.optionsSearch,l)||(t.optionsSearch=l),h(l)}),a(),s(30,"app-cms-statist-list",20),L("optionsChange",function(l){return S(c),T(t.optionsStatist,l)||(t.optionsStatist=l),h(l)}),a(),w(),I(31,21),s(32,"mat-table",22,0),v("matSortChange",function(){S(c);let l=ie(33);return h(t.onTableSortData(l))}),I(34,23),_(35,er,2,1,"mat-header-cell",24)(36,tr,2,1,"mat-cell",25),w(),I(37,26),_(38,ir,2,1,"mat-header-cell",24)(39,nr,5,7,"mat-cell",27),w(),I(40,28),_(41,rr,2,1,"mat-header-cell",24)(42,sr,4,5,"mat-cell",25),w(),I(43,29),_(44,ar,2,1,"mat-header-cell",24)(45,lr,4,5,"mat-cell",25),w(),I(46,30),_(47,cr,2,1,"mat-header-cell",24)(48,dr,2,1,"mat-cell",25),w(),I(49,31),_(50,mr,2,1,"mat-header-cell",24)(51,pr,2,1,"mat-cell",25),w(),I(52,32),_(53,ur,2,1,"mat-header-cell",24)(54,fr,2,1,"mat-cell",25),w(),I(55,33),_(56,Sr,2,1,"mat-header-cell",24)(57,hr,2,1,"mat-cell",25),w(),I(58,34),_(59,gr,2,1,"mat-header-cell",24)(60,Cr,3,3,"mat-cell",35),w(),I(61,36),_(62,Mr,3,3,"mat-header-cell",37)(63,br,6,1,"mat-cell",38),w(),_(64,_r,1,0,"mat-header-row",39)(65,vr,1,2,"mat-row",40),a(),w(),I(66,41),s(67,"mat-paginator",42,1),v("page",function(l){return S(c),h(t.onTablePageingData(l))}),a(),w(),a()}i&2&&(p("ngIf",t.requestLinkUserId>0),n(),p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),p("ngIf",t.requestLinkSiteId>0),n(4),le("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),p("checked",t.optionsSearch.data.show),n(),u("",b(16,29,"ACTION.SEARCH")," "),n(3),p("checked",t.optionsStatist.data.show),n(),u("",b(20,31,"ACTION.STATIST")," "),n(4),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(),p("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),n(),p("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkMemberId)>0),n(2),R("options",t.optionsSearch),n(),R("options",t.optionsStatist),n(2),p("dataSource",t.tableSource),n(32),p("matHeaderRowDef",t.tabledisplayedColumns),n(),p("matRowDefColumns",t.tabledisplayedColumns),n(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(33,Wn)))},dependencies:[we,V,ye,xe,Ve,oe,Ne,Ge,Oe,pt,Pe,He,Fe,je,Qe,qe,Ue,ze,We,Ke,Je,$e,it,ot,nt,rt,st,bt,mt,P,vt,ft,Xe,at,lt],encapsulation:2});var mo=Ai;var Ir=["vform"];function wr(o,r){if(o&1){let e=y();s(0,"div",28)(1,"button",29),v("click",function(){S(e);let t=g();return h(t.onFormCancel())}),C(2,"i",30),d(3),M(4,"translate"),a(),s(5,"button",31),C(6,"i",30),d(7),M(8,"translate"),a()()}o&2&&(n(3),u(" ",b(4,2,"ACTION.CANCEL")," "),n(4),u(" ",b(8,4,"ACTION.SAVE")," "))}var Di=class Di extends Ze{constructor(e,i,t,c,f,l,k,ne,Q,se){super(c,new Ft,Q,se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleLogReportAbuseService=c;this.cmsToastrService=f;this.tokenHelper=l;this.cmsStoreService=k;this.cdr=ne;this.publicHelper=Q;this.translate=se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new _t;this.dataModel=new Ft;this.formInfo=new te;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>x(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogReportAbuseService.setAccessLoad(),this.coreModuleLogReportAbuseService.setAccessDataType(be.Editor),this.coreModuleLogReportAbuseService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogReportAbuseService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Di.\u0275fac=function(i){return new(i||Di)(m(Z),m(X),m(G),m(Dt),m(U),m(F),m(H),m(B),m(j),m(O))},Di.\u0275cmp=D({type:Di,selectors:[["app-coremodulelog-report-abuse-edit"]],viewQuery:function(i,t){if(i&1&&J(Ir,5),i&2){let c;$(c=Y())&&(t.formGroup=c.first)}},standalone:!1,features:[z],decls:50,vars:28,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],["SubjectBody",""],["AdminResultProcess",""],["SubjectUrl",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.subjectBody",1,"color-highlight"],["matInput","","type","text","name","dataModel.subjectBody","placeholder","SubjectBody","id","dataModel.subjectBody",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.adminResultProcess",1,"color-highlight"],["matInput","","name","dataModel.adminResultProcess","type","text","placeholder","AdminResultProcess","minlength","1","maxlength","500","rows","5","id","dataModel.adminResultProcess",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.subjectUrl",1,"color-highlight"],["matInput","","name","dataModel.subjectUrl","type","text","placeholder","SubjectUrl","minlength","1","maxlength","500","rows","5","id","dataModel.subjectUrl",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,t){if(i&1){let c=y();s(0,"div",7),C(1,"app-progress-spinner",8),s(2,"div",9)(3,"p",10),d(4),a(),s(5,"p"),d(6),M(7,"translate"),a(),C(8,"app-cms-form-result-message",11),s(9,"form",12,0),v("ngSubmit",function(){return S(c),h(t.onFormSubmit())}),C(11,"app-cms-site-selector",13),M(12,"translate"),C(13,"app-cms-user-selector",13),M(14,"translate"),C(15,"app-cms-member-selector",13),M(16,"translate"),s(17,"div",14)(18,"label",15),d(19,"ModuleName"),a(),s(20,"input",16,1),L("ngModelChange",function(l){return S(c),T(t.dataModel.moduleName,l)||(t.dataModel.moduleName=l),h(l)}),a()(),s(22,"div",14)(23,"label",17),d(24,"ModuleEntityName"),a(),s(25,"input",18,2),L("ngModelChange",function(l){return S(c),T(t.dataModel.moduleEntityName,l)||(t.dataModel.moduleEntityName=l),h(l)}),a()(),s(27,"div",14)(28,"label",19),d(29,"ModuleEntityId"),a(),s(30,"input",20,3),L("ngModelChange",function(l){return S(c),T(t.dataModel.moduleEntityId,l)||(t.dataModel.moduleEntityId=l),h(l)}),a()(),s(32,"div",14)(33,"label",21),d(34,"SubjectBody"),a(),s(35,"input",22,4),L("ngModelChange",function(l){return S(c),T(t.dataModel.subjectBody,l)||(t.dataModel.subjectBody=l),h(l)}),a()(),s(37,"div",14)(38,"label",23),d(39,"AdminResultProcess"),a(),s(40,"textarea",24,5),L("ngModelChange",function(l){return S(c),T(t.dataModel.adminResultProcess,l)||(t.dataModel.adminResultProcess=l),h(l)}),d(42,"        "),a()(),s(43,"div",14)(44,"label",25),d(45,"SubjectUrl"),a(),s(46,"textarea",26,6),L("ngModelChange",function(l){return S(c),T(t.dataModel.subjectUrl,l)||(t.dataModel.subjectUrl=l),h(l)}),d(48,"        "),a()(),_(49,wr,9,6,"div",27),a()()()}i&2&&(n(),p("optionsInfoAreaId",t.constructorInfoAreaId),n(3),u(" ",t.formInfo.formTitle," "),n(2),u(" ",b(7,20,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),p("formInfo",t.formInfo),n(3),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",b(12,22,"TITLE.SITE")),n(2),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",b(14,24,"TITLE.USER")),n(2),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",b(16,26,"TITLE.Member")),n(5),R("ngModel",t.dataModel.moduleName),n(5),R("ngModel",t.dataModel.moduleEntityName),n(5),R("ngModel",t.dataModel.moduleEntityId),n(5),R("ngModel",t.dataModel.subjectBody),n(5),R("ngModel",t.dataModel.adminResultProcess),n(6),R("ngModel",t.dataModel.subjectUrl),n(3),p("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[V,De,gt,Ct,ke,Qt,zt,Mt,Ae,oe,ut,Jt,$t,ee,de,P],encapsulation:2});var po=Di;var yr=["vform"];function Er(o,r){if(o&1){let e=y();s(0,"div",8)(1,"button",9),v("click",function(){S(e);let t=g();return h(t.onFormCancel())}),C(2,"i",10),d(3),M(4,"translate"),a()()}o&2&&(n(3),u(" ",b(4,1,"ACTION.CANCEL")," "))}var xi=class xi{constructor(r,e,i,t,c,f,l,k,ne,Q){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.coreModuleLogReportAbuseService=t;this.cmsToastrService=c;this.tokenHelper=f;this.cmsStoreService=l;this.cdr=k;this.publicHelper=ne;this.translate=Q;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Le;this.dataModelResult=new K;this.dataModel=new Ft;this.formInfo=new te;this.dataModelEnumSendSmsStatusTypeResult=new K;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>x(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreModuleLogReportAbuseService.setAccessLoad(),this.coreModuleLogReportAbuseService.setAccessDataType(be.Editor),this.coreModuleLogReportAbuseService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};xi.\u0275fac=function(e){return new(e||xi)(m(Z),m(X),m(G),m(Dt),m(U),m(F),m(H),m(B),m(j),m(O))},xi.\u0275cmp=D({type:xi,selectors:[["app-coremodulelog-report-abuse-view"]],viewQuery:function(e,i){if(e&1&&J(yr,5),e&2){let t;$(t=Y())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(s(0,"div",0),d(1),a(),s(2,"div",1),C(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),a(),s(5,"div",4),C(6,"app-cms-form-result-message",5),a(),s(7,"div",6),_(8,Er,5,3,"div",7),a()),e&2&&(n(),u(" ",i.formInfo.formTitle," "),n(2),p("optionsInfoAreaId",i.constructorInfoAreaId),n(),p("dataModel",i.dataModel)("optionMethod",1),n(2),p("formInfo",i.formInfo),n(2),p("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[V,ee,tt,de,P],encapsulation:2});var uo=xi;var Rr=()=>[5,10,20,100],Tr=o=>({display:o});function Lr(o,r){if(o&1&&C(0,"app-core-user-header",45),o&2){let e=g();p("optionId",e.requestLinkUserId)}}function kr(o,r){if(o&1){let e=y();s(0,"a",46),v("click",function(){S(e);let t=g();return h(t.onActionBackToParent())}),C(1,"i",47),a()}}function Ar(o,r){if(o&1){let e=y();s(0,"div",48)(1,"a",49),v("click",function(){S(e);let t=g();return h(t.onActionButtonViewRow(t.tableRowSelected))}),C(2,"i",50)(3,"br"),a(),s(4,"p",51),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.VIEW")," "))}function Dr(o,r){if(o&1){let e=y();s(0,"div",48)(1,"a",52),v("click",function(){S(e);let t=g();return h(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",53)(3,"br"),a(),s(4,"p",51),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.EDIT")," "))}function xr(o,r){if(o&1){let e=y();s(0,"div",48)(1,"a",54),v("click",function(){S(e);let t=g();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",55)(3,"br"),a(),s(4,"p",51),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.DELETE")," "))}function Br(o,r){if(o&1){let e=y();s(0,"div",48)(1,"a",49),v("click",function(){S(e);let t=g();return h(t.onActionButtonViewUserRow(t.tableRowSelected))}),C(2,"i",56)(3,"br"),a(),s(4,"p",51),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.USER")," "))}function Vr(o,r){if(o&1){let e=y();s(0,"div",48)(1,"a",49),v("click",function(){S(e);let t=g();return h(t.onActionButtonViewMemberRow(t.tableRowSelected))}),C(2,"i",57)(3,"br"),a(),s(4,"p",51),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.MEMBER")," "))}function Nr(o,r){if(o&1&&(s(0,"mat-header-cell",58),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Gr(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.id," ")}}function Or(o,r){if(o&1&&(s(0,"mat-header-cell",58),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Pr(o,r){if(o&1&&C(0,"select",61),o&2){let e=g().$implicit,i=g();p("contentService",i.contentService)("row",e)("ngStyle",Ie(3,Tr,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Hr(o,r){if(o&1&&(s(0,"mat-cell",59),M(1,"statusCellClass"),C(2,"i",59),M(3,"statusIconClass"),_(4,Pr,1,5,"select",60),a()),o&2){let e=r.$implicit,i=g();p("ngClass",b(1,3,e.recordStatus)),n(2),p("ngClass",b(3,5,e.recordStatus)),n(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Fr(o,r){if(o&1&&(s(0,"mat-header-cell",58),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ur(o,r){if(o&1&&(s(0,"mat-cell"),d(1),M(2,"cmssiteinfo"),M(3,"async"),a()),o&2){let e=r.$implicit;n(),u(" ",b(3,3,b(2,1,e.linkSiteId))," ")}}function jr(o,r){if(o&1&&(s(0,"mat-header-cell",58),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function qr(o,r){if(o&1&&(s(0,"mat-cell"),d(1),M(2,"cmsuserinfo"),M(3,"async"),a()),o&2){let e=r.$implicit;n(),u(" ",b(3,3,b(2,1,e.linkUserId))," ")}}function Wr(o,r){if(o&1&&(s(0,"mat-header-cell",58),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function Kr(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.linkMemberId," ")}}function Qr(o,r){if(o&1&&(s(0,"mat-header-cell",58),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.moduleName==null?null:e.fieldsInfo.moduleName.fieldTitle," ")}}function zr(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.moduleName," ")}}function Jr(o,r){if(o&1&&(s(0,"mat-header-cell",58),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.moduleEntityName==null?null:e.fieldsInfo.moduleEntityName.fieldTitle," ")}}function $r(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.moduleEntityName," ")}}function Yr(o,r){if(o&1&&(s(0,"mat-header-cell",58),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.moduleEntityId==null?null:e.fieldsInfo.moduleEntityId.fieldTitle," ")}}function Xr(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.moduleEntityId," ")}}function Zr(o,r){if(o&1&&(s(0,"mat-header-cell",58),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.subjectBody==null?null:e.fieldsInfo.subjectBody.fieldTitle," ")}}function es(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.subjectBody," ")}}function ts(o,r){if(o&1&&(s(0,"mat-header-cell",58),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.adminResultProcess==null?null:e.fieldsInfo.adminResultProcess.fieldTitle," ")}}function is(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.adminResultProcess," ")}}function os(o,r){if(o&1&&(s(0,"mat-header-cell",58),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function ns(o,r){if(o&1&&(s(0,"mat-cell",62),d(1),M(2,"localeDateTime"),a()),o&2){let e=r.$implicit;n(),u(" ",b(2,1,e.createdDate)," ")}}function rs(o,r){o&1&&(s(0,"mat-header-cell"),d(1),M(2,"translate"),a()),o&2&&(n(),u(" ",b(2,1,"TITLE.OPTION")," "))}function ss(o,r){if(o&1&&(s(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),d(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),o&2){let e=ie(5);n(),p("matMenuTriggerFor",e)}}function as(o,r){o&1&&C(0,"mat-header-row")}function ls(o,r){if(o&1){let e=y();s(0,"mat-row",65),v("click",function(t){let c=S(e).$implicit,f=g();return h(f.onActionTableRowSelect(c,t))})("rtclick",function(t){let c=S(e).$implicit,f=g();return h(f.onActionTableRowSelect(c,t))}),a()}if(o&2){let e=r.$implicit,i=g();le("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Bi=class Bi extends et{constructor(e,i,t,c,f,l,k,ne,Q,se,Rt,ht,wt){super(i,new Ft,ht,l,ne);this.coreEnumService=e;this.contentService=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=c;this.activatedRoute=f;this.tokenHelper=l;this.cdr=k;this.translate=ne;this.cmsStoreService=Q;this.router=se;this.pageInfo=Rt;this.publicHelper=ht;this.dialog=wt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestlinkMemberId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Me;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkUserId","linkSiteId","linkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","SubjectBody","AdminResultProcess","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkUserId","linkSiteId","linkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","SubjectBody","AdminResultProcess","createdDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberId")),this.requestLinkSiteId>0){let E=new A;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new A;E.propertyName="linkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestlinkMemberId>0){let E=new A;E.propertyName="linkMemberId",E.value=this.requestlinkMemberId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=N.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=N.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>x(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ft);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new A;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new A;t.propertyAnyName="linkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new A;t.propertyAnyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=N.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=N.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=N.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(uo,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(po,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(c=>{if(c){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(f,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{i.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{i.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),f=new A;f.propertyName="recordStatus",f.value=Te.Available,c.filters.push(f),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.translate.get("MESSAGE.content_does_not_include_member_informations").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Bi.\u0275fac=function(i){return new(i||Bi)(m(G),m(Dt),m(U),m(_e),m(Ee),m(F),m(B),m(O),m(H),m(Re),m(Ye),m(j),m(Be))},Bi.\u0275cmp=D({type:Bi,selectors:[["app-coremodulelog-report-abuse-list"]],standalone:!1,features:[z],decls:75,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","linkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","SubjectBody"],["matColumnDef","AdminResultProcess"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let c=y();_(0,Lr,1,1,"app-core-user-header",3),s(1,"app-cms-html-list",4),L("optionActionGuideNoticeDisplayChange",function(l){return S(c),T(t.viewGuideNotice,l)||(t.viewGuideNotice=l),h(l)}),v("optionOnActionButtonMemoRow",function(){return S(c),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(c),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(c),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(c),h(t.onActionButtonPrintRow())}),I(2,5),d(3," -------------------------------------- "),w(),ae(4,6)(5,7),I(6,8),_(7,kr,2,0,"a",9),s(8,"a",10),v("click",function(){return S(c),h(t.viewGuideNotice=!t.viewGuideNotice)}),C(9,"i",11),a(),s(10,"a",10),v("click",function(){return S(c),h(t.onActionButtonReload())}),C(11,"i",12),a(),w(),I(12,13),s(13,"a",14),v("click",function(){return S(c),h(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(14,"mat-slide-toggle",15),d(15),M(16,"translate"),a(),s(17,"a",14),v("click",function(){return S(c),h(t.onActionButtonStatist())}),C(18,"mat-slide-toggle",15),d(19),M(20,"translate"),a(),w(),ae(21,16),I(22,17),_(23,Ar,7,3,"div",18)(24,Dr,7,3,"div",18)(25,xr,7,3,"div",18)(26,Br,7,3,"div",18)(27,Vr,7,3,"div",18),w(),I(28,19),s(29,"app-cms-search-list",20),L("optionsChange",function(l){return S(c),T(t.optionsSearch,l)||(t.optionsSearch=l),h(l)}),a(),s(30,"app-cms-statist-list",20),L("optionsChange",function(l){return S(c),T(t.optionsStatist,l)||(t.optionsStatist=l),h(l)}),a(),w(),I(31,21),s(32,"mat-table",22,0),v("matSortChange",function(){S(c);let l=ie(33);return h(t.onTableSortData(l))}),I(34,23),_(35,Nr,2,1,"mat-header-cell",24)(36,Gr,2,1,"mat-cell",25),w(),I(37,26),_(38,Or,2,1,"mat-header-cell",24)(39,Hr,5,7,"mat-cell",27),w(),I(40,28),_(41,Fr,2,1,"mat-header-cell",24)(42,Ur,4,5,"mat-cell",25),w(),I(43,29),_(44,jr,2,1,"mat-header-cell",24)(45,qr,4,5,"mat-cell",25),w(),I(46,30),_(47,Wr,2,1,"mat-header-cell",24)(48,Kr,2,1,"mat-cell",25),w(),I(49,31),_(50,Qr,2,1,"mat-header-cell",24)(51,zr,2,1,"mat-cell",25),w(),I(52,32),_(53,Jr,2,1,"mat-header-cell",24)(54,$r,2,1,"mat-cell",25),w(),I(55,33),_(56,Yr,2,1,"mat-header-cell",24)(57,Xr,2,1,"mat-cell",25),w(),I(58,34),_(59,Zr,2,1,"mat-header-cell",24)(60,es,2,1,"mat-cell",25),w(),I(61,35),_(62,ts,2,1,"mat-header-cell",24)(63,is,2,1,"mat-cell",25),w(),I(64,36),_(65,os,2,1,"mat-header-cell",24)(66,ns,3,3,"mat-cell",37),w(),I(67,38),_(68,rs,3,3,"mat-header-cell",39)(69,ss,6,1,"mat-cell",40),w(),_(70,as,1,0,"mat-header-row",41)(71,ls,1,2,"mat-row",42),a(),w(),I(72,43),s(73,"mat-paginator",44,1),v("page",function(l){return S(c),h(t.onTablePageingData(l))}),a(),w(),a()}i&2&&(p("ngIf",t.requestLinkUserId>0),n(),p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),p("ngIf",t.requestLinkSiteId>0),n(4),le("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),p("checked",t.optionsSearch.data.show),n(),u("",b(16,29,"ACTION.SEARCH")," "),n(3),p("checked",t.optionsStatist.data.show),n(),u("",b(20,31,"ACTION.STATIST")," "),n(4),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(),p("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),n(),p("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkMemberId)>0),n(2),R("options",t.optionsSearch),n(),R("options",t.optionsStatist),n(2),p("dataSource",t.tableSource),n(38),p("matHeaderRowDef",t.tabledisplayedColumns),n(),p("matRowDefColumns",t.tabledisplayedColumns),n(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(33,Rr)))},dependencies:[we,V,ye,xe,Ve,oe,Ne,Ge,Oe,pt,Pe,He,Fe,je,Qe,qe,Ue,ze,We,Ke,Je,$e,it,ot,nt,rt,st,bt,mt,P,vt,ft,Xe,at,lt],encapsulation:2});var fo=Bi;var cs=["vform"];function ds(o,r){if(o&1){let e=y();s(0,"div",17)(1,"button",18),v("click",function(){S(e);let t=g();return h(t.onFormCancel())}),C(2,"i",19),d(3),M(4,"translate"),a()()}o&2&&(n(3),u(" ",b(4,1,"ACTION.CANCEL")," "))}var Vi=class Vi extends Ze{constructor(e,i,t,c,f,l,k,ne,Q,se){super(c,new Ht,Q,se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleLogScoreService=c;this.cmsToastrService=f;this.tokenHelper=l;this.cmsStoreService=k;this.cdr=ne;this.publicHelper=Q;this.translate=se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new K;this.dataModel=new Ht;this.formInfo=new te;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>x(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogScoreService.setAccessLoad(),this.coreModuleLogScoreService.setAccessDataType(be.Editor),this.coreModuleLogScoreService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Vi.\u0275fac=function(i){return new(i||Vi)(m(Z),m(X),m(G),m(Lt),m(U),m(F),m(H),m(B),m(j),m(O))},Vi.\u0275cmp=D({type:Vi,selectors:[["app-coremodulelog-score-edit"]],viewQuery:function(i,t){if(i&1&&J(cs,5),i&2){let c;$(c=Y())&&(t.formGroup=c.first)}},standalone:!1,features:[z],decls:32,vars:24,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){if(i&1){let c=y();s(0,"div",4),C(1,"app-progress-spinner",5),s(2,"div",6)(3,"p",7),d(4),a(),s(5,"p"),d(6),M(7,"translate"),a(),s(8,"form",null,0),C(10,"app-cms-site-selector",8),M(11,"translate"),C(12,"app-cms-user-selector",8),M(13,"translate"),C(14,"app-cms-member-selector",8),M(15,"translate"),s(16,"div",9)(17,"label",10),d(18,"ModuleName"),a(),s(19,"input",11,1),L("ngModelChange",function(l){return S(c),T(t.dataModel.moduleName,l)||(t.dataModel.moduleName=l),h(l)}),a()(),s(21,"div",9)(22,"label",12),d(23,"ModuleEntityName"),a(),s(24,"input",13,2),L("ngModelChange",function(l){return S(c),T(t.dataModel.moduleEntityName,l)||(t.dataModel.moduleEntityName=l),h(l)}),a()(),s(26,"div",9)(27,"label",14),d(28,"ModuleEntityId"),a(),s(29,"input",15,3),L("ngModelChange",function(l){return S(c),T(t.dataModel.moduleEntityId,l)||(t.dataModel.moduleEntityId=l),h(l)}),a()(),_(31,ds,5,3,"div",16),a()()()}i&2&&(n(),p("optionsInfoAreaId",t.constructorInfoAreaId),n(3),u(" ",t.formInfo.formTitle," "),n(2),u(" ",b(7,16,"TITLE.Be_Careful_When_Entering_Information")," "),n(4),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",b(11,18,"TITLE.SITE")),n(2),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",b(13,20,"TITLE.USER")),n(2),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",b(15,22,"TITLE.Member")),n(5),R("ngModel",t.dataModel.moduleName),n(5),R("ngModel",t.dataModel.moduleEntityName),n(5),R("ngModel",t.dataModel.moduleEntityId),n(2),p("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[V,De,gt,Ct,ke,Mt,Ae,oe,ut,Jt,$t,ee,P],encapsulation:2});var So=Vi;var ms=["vform"];function ps(o,r){if(o&1){let e=y();s(0,"div",8)(1,"button",9),v("click",function(){S(e);let t=g();return h(t.onFormCancel())}),C(2,"i",10),d(3),M(4,"translate"),a()()}o&2&&(n(3),u(" ",b(4,1,"ACTION.CANCEL")," "))}var Ni=class Ni{constructor(r,e,i,t,c,f,l,k,ne,Q){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.coreModuleLogScoreService=t;this.cmsToastrService=c;this.tokenHelper=f;this.cmsStoreService=l;this.cdr=k;this.publicHelper=ne;this.translate=Q;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Le;this.dataModelResult=new K;this.dataModel=new Ht;this.formInfo=new te;this.dataModelEnumSendSmsStatusTypeResult=new K;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>x(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreModuleLogScoreService.setAccessLoad(),this.coreModuleLogScoreService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ni.\u0275fac=function(e){return new(e||Ni)(m(Z),m(X),m(G),m(Lt),m(U),m(F),m(H),m(B),m(j),m(O))},Ni.\u0275cmp=D({type:Ni,selectors:[["app-coremodulelog-score-view"]],viewQuery:function(e,i){if(e&1&&J(ms,5),e&2){let t;$(t=Y())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(s(0,"div",0),d(1),a(),s(2,"div",1),C(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),a(),s(5,"div",4),C(6,"app-cms-form-result-message",5),a(),s(7,"div",6),_(8,ps,5,3,"div",7),a()),e&2&&(n(),u(" ",i.formInfo.formTitle," "),n(2),p("optionsInfoAreaId",i.constructorInfoAreaId),n(),p("dataModel",i.dataModel)("optionMethod",1),n(2),p("formInfo",i.formInfo),n(2),p("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[V,ee,tt,de,P],encapsulation:2});var ho=Ni;var us=()=>[5,10,20,100],fs=o=>({display:o});function Ss(o,r){if(o&1&&C(0,"app-core-user-header",43),o&2){let e=g();p("optionId",e.requestLinkUserId)}}function hs(o,r){if(o&1){let e=y();s(0,"a",44),v("click",function(){S(e);let t=g();return h(t.onActionBackToParent())}),C(1,"i",45),a()}}function gs(o,r){if(o&1){let e=y();s(0,"div",46)(1,"a",47),v("click",function(){S(e);let t=g();return h(t.onActionButtonViewRow(t.tableRowSelected))}),C(2,"i",48)(3,"br"),a(),s(4,"p",49),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.VIEW")," "))}function Cs(o,r){if(o&1){let e=y();s(0,"div",46)(1,"a",50),v("click",function(){S(e);let t=g();return h(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",51)(3,"br"),a(),s(4,"p",49),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.EDIT")," "))}function Ms(o,r){if(o&1){let e=y();s(0,"div",46)(1,"a",52),v("click",function(){S(e);let t=g();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",53)(3,"br"),a(),s(4,"p",49),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.DELETE")," "))}function bs(o,r){if(o&1){let e=y();s(0,"div",46)(1,"a",47),v("click",function(){S(e);let t=g();return h(t.onActionButtonViewUserRow(t.tableRowSelected))}),C(2,"i",54)(3,"br"),a(),s(4,"p",49),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.USER")," "))}function _s(o,r){if(o&1){let e=y();s(0,"div",46)(1,"a",47),v("click",function(){S(e);let t=g();return h(t.onActionButtonViewMemberRow(t.tableRowSelected))}),C(2,"i",55)(3,"br"),a(),s(4,"p",49),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.MEMBER")," "))}function vs(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Is(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.id," ")}}function ws(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function ys(o,r){if(o&1&&C(0,"select",59),o&2){let e=g().$implicit,i=g();p("contentService",i.contentService)("row",e)("ngStyle",Ie(3,fs,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Es(o,r){if(o&1&&(s(0,"mat-cell",57),M(1,"statusCellClass"),C(2,"i",57),M(3,"statusIconClass"),_(4,ys,1,5,"select",58),a()),o&2){let e=r.$implicit,i=g();p("ngClass",b(1,3,e.recordStatus)),n(2),p("ngClass",b(3,5,e.recordStatus)),n(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Rs(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ts(o,r){if(o&1&&(s(0,"mat-cell"),d(1),M(2,"cmssiteinfo"),M(3,"async"),a()),o&2){let e=r.$implicit;n(),u(" ",b(3,3,b(2,1,e.linkSiteId))," ")}}function Ls(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function ks(o,r){if(o&1&&(s(0,"mat-cell"),d(1),M(2,"cmsuserinfo"),M(3,"async"),a()),o&2){let e=r.$implicit;n(),u(" ",b(3,3,b(2,1,e.linkUserId))," ")}}function As(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function Ds(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.linkMemberId," ")}}function xs(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.moduleName==null?null:e.fieldsInfo.moduleName.fieldTitle," ")}}function Bs(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.moduleName," ")}}function Vs(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.moduleEntityName==null?null:e.fieldsInfo.moduleEntityName.fieldTitle," ")}}function Ns(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.moduleEntityName," ")}}function Gs(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.moduleEntityId==null?null:e.fieldsInfo.moduleEntityId.fieldTitle," ")}}function Os(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.moduleEntityId," ")}}function Ps(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Hs(o,r){if(o&1&&(s(0,"mat-cell",60),d(1),M(2,"localeDateTime"),a()),o&2){let e=r.$implicit;n(),u(" ",b(2,1,e.createdDate)," ")}}function Fs(o,r){o&1&&(s(0,"mat-header-cell"),d(1),M(2,"translate"),a()),o&2&&(n(),u(" ",b(2,1,"TITLE.OPTION")," "))}function Us(o,r){if(o&1&&(s(0,"mat-cell",61)(1,"button",62)(2,"mat-icon"),d(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),o&2){let e=ie(5);n(),p("matMenuTriggerFor",e)}}function js(o,r){o&1&&C(0,"mat-header-row")}function qs(o,r){if(o&1){let e=y();s(0,"mat-row",63),v("click",function(t){let c=S(e).$implicit,f=g();return h(f.onActionTableRowSelect(c,t))})("rtclick",function(t){let c=S(e).$implicit,f=g();return h(f.onActionTableRowSelect(c,t))}),a()}if(o&2){let e=r.$implicit,i=g();le("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Gi=class Gi extends et{constructor(e,i,t,c,f,l,k,ne,Q,se,Rt,ht,wt){super(i,new Ht,ht,k,Q);this.coreEnumService=e;this.contentService=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=c;this.activatedRoute=f;this.cmsStoreService=l;this.tokenHelper=k;this.cdr=ne;this.translate=Q;this.router=se;this.pageInfo=Rt;this.publicHelper=ht;this.dialog=wt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestlinkMemberId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Me;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkUserId","linkSiteId","linkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkUserId","linkSiteId","linkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","createdDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberId")),this.requestLinkSiteId>0){let E=new A;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new A;E.propertyName="linkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestlinkMemberId>0){let E=new A;E.propertyName="linkMemberId",E.value=this.requestlinkMemberId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=N.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=N.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>x(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ht);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new A;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new A;t.propertyAnyName="linkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new A;t.propertyAnyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=N.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=N.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=N.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ho,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(So,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(c=>{if(c){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(f,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{i.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{i.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),f=new A;f.propertyName="recordStatus",f.value=Te.Available,c.filters.push(f),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.translate.get("MESSAGE.content_does_not_include_member_informations").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Gi.\u0275fac=function(i){return new(i||Gi)(m(G),m(Lt),m(U),m(_e),m(Ee),m(H),m(F),m(B),m(O),m(Re),m(Ye),m(j),m(Be))},Gi.\u0275cmp=D({type:Gi,selectors:[["app-coremodulelog-score-list"]],standalone:!1,features:[z],decls:69,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","linkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let c=y();_(0,Ss,1,1,"app-core-user-header",3),s(1,"app-cms-html-list",4),L("optionActionGuideNoticeDisplayChange",function(l){return S(c),T(t.viewGuideNotice,l)||(t.viewGuideNotice=l),h(l)}),v("optionOnActionButtonMemoRow",function(){return S(c),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(c),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(c),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(c),h(t.onActionButtonPrintRow())}),I(2,5),d(3," -------------------------------------- "),w(),ae(4,6)(5,7),I(6,8),_(7,hs,2,0,"a",9),s(8,"a",10),v("click",function(){return S(c),h(t.viewGuideNotice=!t.viewGuideNotice)}),C(9,"i",11),a(),s(10,"a",10),v("click",function(){return S(c),h(t.onActionButtonReload())}),C(11,"i",12),a(),w(),I(12,13),s(13,"a",14),v("click",function(){return S(c),h(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(14,"mat-slide-toggle",15),d(15),M(16,"translate"),a(),s(17,"a",14),v("click",function(){return S(c),h(t.onActionButtonStatist())}),C(18,"mat-slide-toggle",15),d(19),M(20,"translate"),a(),w(),ae(21,16),I(22,17),_(23,gs,7,3,"div",18)(24,Cs,7,3,"div",18)(25,Ms,7,3,"div",18)(26,bs,7,3,"div",18)(27,_s,7,3,"div",18),w(),I(28,19),s(29,"app-cms-search-list",20),L("optionsChange",function(l){return S(c),T(t.optionsSearch,l)||(t.optionsSearch=l),h(l)}),a(),s(30,"app-cms-statist-list",20),L("optionsChange",function(l){return S(c),T(t.optionsStatist,l)||(t.optionsStatist=l),h(l)}),a(),w(),I(31,21),s(32,"mat-table",22,0),v("matSortChange",function(){S(c);let l=ie(33);return h(t.onTableSortData(l))}),I(34,23),_(35,vs,2,1,"mat-header-cell",24)(36,Is,2,1,"mat-cell",25),w(),I(37,26),_(38,ws,2,1,"mat-header-cell",24)(39,Es,5,7,"mat-cell",27),w(),I(40,28),_(41,Rs,2,1,"mat-header-cell",24)(42,Ts,4,5,"mat-cell",25),w(),I(43,29),_(44,Ls,2,1,"mat-header-cell",24)(45,ks,4,5,"mat-cell",25),w(),I(46,30),_(47,As,2,1,"mat-header-cell",24)(48,Ds,2,1,"mat-cell",25),w(),I(49,31),_(50,xs,2,1,"mat-header-cell",24)(51,Bs,2,1,"mat-cell",25),w(),I(52,32),_(53,Vs,2,1,"mat-header-cell",24)(54,Ns,2,1,"mat-cell",25),w(),I(55,33),_(56,Gs,2,1,"mat-header-cell",24)(57,Os,2,1,"mat-cell",25),w(),I(58,34),_(59,Ps,2,1,"mat-header-cell",24)(60,Hs,3,3,"mat-cell",35),w(),I(61,36),_(62,Fs,3,3,"mat-header-cell",37)(63,Us,6,1,"mat-cell",38),w(),_(64,js,1,0,"mat-header-row",39)(65,qs,1,2,"mat-row",40),a(),w(),I(66,41),s(67,"mat-paginator",42,1),v("page",function(l){return S(c),h(t.onTablePageingData(l))}),a(),w(),a()}i&2&&(p("ngIf",t.requestLinkUserId>0),n(),p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),p("ngIf",t.requestLinkSiteId>0),n(4),le("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),p("checked",t.optionsSearch.data.show),n(),u("",b(16,29,"ACTION.SEARCH")," "),n(3),p("checked",t.optionsStatist.data.show),n(),u("",b(20,31,"ACTION.STATIST")," "),n(4),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(),p("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),n(),p("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkMemberId)>0),n(2),R("options",t.optionsSearch),n(),R("options",t.optionsStatist),n(2),p("dataSource",t.tableSource),n(32),p("matHeaderRowDef",t.tabledisplayedColumns),n(),p("matRowDefColumns",t.tabledisplayedColumns),n(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(33,us)))},dependencies:[we,V,ye,xe,Ve,oe,Ne,Ge,Oe,pt,Pe,He,Fe,je,Qe,qe,Ue,ze,We,Ke,Je,$e,it,ot,nt,rt,st,bt,mt,P,vt,ft,Xe,at,lt],encapsulation:2});var go=Gi;var Ws=["vform"];function Ks(o,r){if(o&1){let e=y();s(0,"div",26)(1,"label",27),d(2),a(),s(3,"input",28),L("ngModelChange",function(t){S(e);let c=g();return T(c.dataModel.expireDateTime,t)||(c.dataModel.expireDateTime=t),h(t)}),a(),C(4,"mat-datepicker-toggle",29)(5,"mat-datepicker",30,6),a()}if(o&2){let e=ie(6),i=g();n(2),yt(i.fieldsInfo.expireDateTime==null?null:i.fieldsInfo.expireDateTime.fieldTitle),n(),p("placeholder",Si(i.fieldsInfo.expireDateTime==null?null:i.fieldsInfo.expireDateTime.fieldTitle))("disabled",Si(!(i.fieldsInfo.expireDateTime!=null&&i.fieldsInfo.expireDateTime.accessEditField)))("matDatepicker",e),R("ngModel",i.dataModel.expireDateTime),n(),p("for",e)}}function Qs(o,r){if(o&1){let e=y();s(0,"div",31)(1,"button",32),v("click",function(){S(e);let t=g();return h(t.onFormCancel())}),C(2,"i",33),d(3),M(4,"translate"),a(),s(5,"button",34),C(6,"i",33),d(7),M(8,"translate"),a()()}o&2&&(n(3),u(" ",b(4,2,"ACTION.CANCEL")," "),n(4),u(" ",b(8,4,"ACTION.SAVE")," "))}var Oi=class Oi extends Ze{constructor(e,i,t,c,f,l,k,ne,Q,se){super(c,new Ut,Q,se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleLogShowKeyService=c;this.cmsToastrService=f;this.tokenHelper=l;this.cmsStoreService=k;this.cdr=ne;this.publicHelper=Q;this.translate=se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new _t;this.dataModel=new Ut;this.formInfo=new te;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>x(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogShowKeyService.setAccessLoad(),this.coreModuleLogShowKeyService.setAccessDataType(be.Editor),this.coreModuleLogShowKeyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogShowKeyService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Oi.\u0275fac=function(i){return new(i||Oi)(m(Z),m(X),m(G),m(xt),m(U),m(F),m(H),m(B),m(j),m(O))},Oi.\u0275cmp=D({type:Oi,selectors:[["app-coremodule-data-memo-edit"]],viewQuery:function(i,t){if(i&1&&J(Ws,5),i&2){let c;$(c=Y())&&(t.formGroup=c.first)}},standalone:!1,features:[z],decls:38,vars:13,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],["showKey",""],["SubjectTitle",""],["expireDateTime",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","name","dataModel.moduleName","type","text","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","name","dataModel.moduleEntityName","type","text","placeholder","ModuleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","name","dataModel.moduleEntityId","type","text","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.showKey",1,"color-highlight"],["matInput","","name","dataModel.showKey","type","text","placeholder","showKey","id","dataModel.showKey",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.subjectTitle",1,"color-highlight"],["matInput","","name","dataModel.subjectTitle","type","text","placeholder","SubjectTitle","id","dataModel.subjectTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.expireDateTime",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDateTime","minlength","3","maxlength","100","id","dataModel.expireDateTime",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],["touchUi",""],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,t){if(i&1){let c=y();s(0,"div",7),C(1,"app-progress-spinner",8),s(2,"div",9)(3,"p",10),d(4),a(),s(5,"p"),d(6),M(7,"translate"),a(),C(8,"app-cms-form-result-message",11),s(9,"form",12,0),v("ngSubmit",function(){return S(c),h(t.onFormSubmit())}),s(11,"div",13)(12,"label",14),d(13,"ModuleName"),a(),s(14,"input",15,1),L("ngModelChange",function(l){return S(c),T(t.dataModel.moduleName,l)||(t.dataModel.moduleName=l),h(l)}),a()(),s(16,"div",13)(17,"label",16),d(18,"ModuleEntityName"),a(),s(19,"input",17,2),L("ngModelChange",function(l){return S(c),T(t.dataModel.moduleEntityName,l)||(t.dataModel.moduleEntityName=l),h(l)}),a()(),s(21,"div",13)(22,"label",18),d(23,"ModuleEntityId"),a(),s(24,"input",19,3),L("ngModelChange",function(l){return S(c),T(t.dataModel.moduleEntityId,l)||(t.dataModel.moduleEntityId=l),h(l)}),a()(),s(26,"div",13)(27,"label",20),d(28,"showKey"),a(),s(29,"textarea",21,4),L("ngModelChange",function(l){return S(c),T(t.dataModel.showKey,l)||(t.dataModel.showKey=l),h(l)}),a()(),s(31,"div",13)(32,"label",22),d(33,"SubjectTitle"),a(),s(34,"textarea",23,5),L("ngModelChange",function(l){return S(c),T(t.dataModel.subjectTitle,l)||(t.dataModel.subjectTitle=l),h(l)}),a()(),_(36,Ks,7,8,"div",24)(37,Qs,9,6,"div",25),a()()()}i&2&&(n(),p("optionsInfoAreaId",t.constructorInfoAreaId),n(3),u(" ",t.formInfo.formTitle," "),n(2),u(" ",b(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),p("formInfo",t.formInfo),n(6),R("ngModel",t.dataModel.moduleName),n(5),R("ngModel",t.dataModel.moduleEntityName),n(5),R("ngModel",t.dataModel.moduleEntityId),n(5),R("ngModel",t.dataModel.showKey),n(5),R("ngModel",t.dataModel.subjectTitle),n(2),p("ngIf",t.fieldsInfo.expireDateTime==null?null:t.fieldsInfo.expireDateTime.accessWatchField),n(),p("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[V,De,gt,Ct,ke,Qt,zt,Mt,Ae,Qo,zo,Jo,Ko,oe,ee,de,P],encapsulation:2});var Co=Oi;var zs=["vform"];function Js(o,r){if(o&1){let e=y();s(0,"div",8)(1,"button",9),v("click",function(){S(e);let t=g();return h(t.onFormCancel())}),C(2,"i",10),d(3),M(4,"translate"),a()()}o&2&&(n(3),u(" ",b(4,1,"ACTION.CANCEL")," "))}var Pi=class Pi{constructor(r,e,i,t,c,f,l,k,ne,Q){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.coreModuleLogShowKeyService=t;this.cmsToastrService=c;this.tokenHelper=f;this.cmsStoreService=l;this.cdr=k;this.publicHelper=ne;this.translate=Q;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Le;this.dataModelResult=new K;this.dataModel=new Ut;this.formInfo=new te;this.dataModelEnumSendSmsStatusTypeResult=new K;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>x(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreModuleLogShowKeyService.setAccessLoad(),this.coreModuleLogShowKeyService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Pi.\u0275fac=function(e){return new(e||Pi)(m(Z),m(X),m(G),m(xt),m(U),m(F),m(H),m(B),m(j),m(O))},Pi.\u0275cmp=D({type:Pi,selectors:[["app-coremodule-data-memo-view"]],viewQuery:function(e,i){if(e&1&&J(zs,5),e&2){let t;$(t=Y())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(s(0,"div",0),d(1),a(),s(2,"div",1),C(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),a(),s(5,"div",4),C(6,"app-cms-form-result-message",5),a(),s(7,"div",6),_(8,Js,5,3,"div",7),a()),e&2&&(n(),u(" ",i.formInfo.formTitle," "),n(2),p("optionsInfoAreaId",i.constructorInfoAreaId),n(),p("dataModel",i.dataModel)("optionMethod",1),n(2),p("formInfo",i.formInfo),n(2),p("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[V,ee,tt,de,P],encapsulation:2});var Mo=Pi;var $s=()=>[5,10,20,100],Ys=o=>({display:o});function Xs(o,r){if(o&1){let e=y();s(0,"a",41),v("click",function(){S(e);let t=g();return h(t.onActionBackToParent())}),C(1,"i",42),a()}}function Zs(o,r){if(o&1){let e=y();s(0,"div",43)(1,"a",44),v("click",function(){S(e);let t=g();return h(t.onActionButtonViewRow(t.tableRowSelected))}),C(2,"i",45)(3,"br"),a(),s(4,"p",46),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.VIEW")," "))}function ea(o,r){if(o&1){let e=y();s(0,"div",43)(1,"a",47),v("click",function(){S(e);let t=g();return h(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",48)(3,"br"),a(),s(4,"p",46),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.EDIT")," "))}function ta(o,r){if(o&1){let e=y();s(0,"div",43)(1,"a",49),v("click",function(){S(e);let t=g();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",50)(3,"br"),a(),s(4,"p",46),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.DELETE")," "))}function ia(o,r){if(o&1&&(s(0,"mat-header-cell",51),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function oa(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.id," ")}}function na(o,r){if(o&1&&(s(0,"mat-header-cell",51),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function ra(o,r){if(o&1&&C(0,"select",54),o&2){let e=g().$implicit,i=g();p("contentService",i.contentService)("row",e)("ngStyle",Ie(3,Ys,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function sa(o,r){if(o&1&&(s(0,"mat-cell",52),M(1,"statusCellClass"),C(2,"i",52),M(3,"statusIconClass"),_(4,ra,1,5,"select",53),a()),o&2){let e=r.$implicit,i=g();p("ngClass",b(1,3,e.recordStatus)),n(2),p("ngClass",b(3,5,e.recordStatus)),n(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function aa(o,r){if(o&1&&(s(0,"mat-header-cell",51),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.moduleName==null?null:e.fieldsInfo.moduleName.fieldTitle," ")}}function la(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.moduleName," ")}}function ca(o,r){if(o&1&&(s(0,"mat-header-cell",51),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.moduleEntityName==null?null:e.fieldsInfo.moduleEntityName.fieldTitle," ")}}function da(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.moduleEntityName," ")}}function ma(o,r){if(o&1&&(s(0,"mat-header-cell",51),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.moduleEntityId==null?null:e.fieldsInfo.moduleEntityId.fieldTitle," ")}}function pa(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.moduleEntityId," ")}}function ua(o,r){if(o&1&&(s(0,"mat-header-cell",51),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.showKey==null?null:e.fieldsInfo.showKey.fieldTitle," ")}}function fa(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.showKey," ")}}function Sa(o,r){if(o&1&&(s(0,"mat-header-cell",51),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function ha(o,r){if(o&1&&(s(0,"mat-cell",55),d(1),M(2,"localeDateTime"),a()),o&2){let e=r.$implicit;n(),u(" ",b(2,1,e.createdDate)," ")}}function ga(o,r){o&1&&(s(0,"mat-header-cell"),d(1),M(2,"translate"),a()),o&2&&(n(),u(" ",b(2,1,"TITLE.OPTION")," "))}function Ca(o,r){if(o&1&&(s(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),d(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),o&2){let e=ie(5);n(),p("matMenuTriggerFor",e)}}function Ma(o,r){if(o&1&&(s(0,"mat-cell")(1,"div")(2,"table")(3,"tr"),C(4,"td"),s(5,"td"),d(6),a()()()()()),o&2){let e=r.$implicit;n(6),yt(e.subjectTitle)}}function ba(o,r){o&1&&C(0,"mat-header-row")}function _a(o,r){if(o&1){let e=y();s(0,"mat-row",58),v("click",function(t){let c=S(e).$implicit,f=g();return h(f.onActionTableRowSelect(c,t))})("rtclick",function(t){let c=S(e).$implicit,f=g();return h(f.onActionTableRowSelect(c,t))}),a()}if(o&2){let e=r.$implicit,i=g();le("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Hi=class Hi extends et{constructor(e,i,t,c,f,l,k,ne,Q,se,Rt,ht,wt){super(i,new Ut,ht,l,ne);this.coreEnumService=e;this.contentService=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=c;this.activatedRoute=f;this.tokenHelper=l;this.cdr=k;this.translate=ne;this.cmsStoreService=Q;this.router=se;this.pageInfo=Rt;this.publicHelper=ht;this.dialog=wt;this.requestLinkSiteId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Me;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","ModuleName","ModuleEntityName","ModuleEntityId","showKey","createdDate"];this.tabledisplayedColumnsMobileSource=["recordStatus","ModuleName","ModuleEntityName","ModuleEntityId","showKey","createdDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkSiteId>0){let E=new A;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=N.Descending}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=N.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>x(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ut);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=N.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=N.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=N.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Mo,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Co,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(c=>{if(c){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(f,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{i.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{i.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),f=new A;f.propertyName="recordStatus",f.value=Te.Available,c.Filters.push(f),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Hi.\u0275fac=function(i){return new(i||Hi)(m(G),m(xt),m(U),m(_e),m(Ee),m(F),m(B),m(O),m(H),m(Re),m(Ye),m(j),m(Be))},Hi.\u0275cmp=D({type:Hi,selectors:[["app-coremodule-data-memo-list"]],standalone:!1,features:[z],decls:62,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","showKey"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let c=y();s(0,"app-cms-html-list",3),L("optionActionGuideNoticeDisplayChange",function(l){return S(c),T(t.viewGuideNotice,l)||(t.viewGuideNotice=l),h(l)}),v("optionOnActionButtonMemoRow",function(){return S(c),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(c),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(c),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(c),h(t.onActionButtonPrintRow())}),I(1,4),d(2," -------------------------------------- "),w(),ae(3,5)(4,6),I(5,7),_(6,Xs,2,0,"a",8),s(7,"a",9),v("click",function(){return S(c),h(t.viewGuideNotice=!t.viewGuideNotice)}),C(8,"i",10),a(),s(9,"a",9),v("click",function(){return S(c),h(t.onActionButtonReload())}),C(10,"i",11),a(),w(),I(11,12),s(12,"a",13),v("click",function(){return S(c),h(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(13,"mat-slide-toggle",14),d(14),M(15,"translate"),a(),s(16,"a",13),v("click",function(){return S(c),h(t.onActionButtonStatist())}),C(17,"mat-slide-toggle",14),d(18),M(19,"translate"),a(),w(),ae(20,15),I(21,16),_(22,Zs,7,3,"div",17)(23,ea,7,3,"div",17)(24,ta,7,3,"div",17),w(),I(25,18),s(26,"app-cms-search-list",19),L("optionsChange",function(l){return S(c),T(t.optionsSearch,l)||(t.optionsSearch=l),h(l)}),a(),s(27,"app-cms-statist-list",19),L("optionsChange",function(l){return S(c),T(t.optionsStatist,l)||(t.optionsStatist=l),h(l)}),a(),w(),I(28,20),s(29,"mat-table",21,0),v("matSortChange",function(){S(c);let l=ie(30);return h(t.onTableSortData(l))}),I(31,22),_(32,ia,2,1,"mat-header-cell",23)(33,oa,2,1,"mat-cell",24),w(),I(34,25),_(35,na,2,1,"mat-header-cell",23)(36,sa,5,7,"mat-cell",26),w(),I(37,27),_(38,aa,2,1,"mat-header-cell",23)(39,la,2,1,"mat-cell",24),w(),I(40,28),_(41,ca,2,1,"mat-header-cell",23)(42,da,2,1,"mat-cell",24),w(),I(43,29),_(44,ma,2,1,"mat-header-cell",23)(45,pa,2,1,"mat-cell",24),w(),I(46,30),_(47,ua,2,1,"mat-header-cell",23)(48,fa,2,1,"mat-cell",24),w(),I(49,31),_(50,Sa,2,1,"mat-header-cell",23)(51,ha,3,3,"mat-cell",32),w(),I(52,33),_(53,ga,3,3,"mat-header-cell",34)(54,Ca,6,1,"mat-cell",35),w(),I(55,36),_(56,Ma,7,1,"mat-cell",24),w(),_(57,ba,1,0,"mat-header-row",37)(58,_a,1,2,"mat-row",38),a(),w(),I(59,39),s(60,"mat-paginator",40,1),v("page",function(l){return S(c),h(t.onTablePageingData(l))}),a(),w(),a()}i&2&&(p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),p("ngIf",t.requestLinkSiteId>0),n(4),le("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),p("checked",t.optionsSearch.data.show),n(),u("",b(15,26,"ACTION.SEARCH")," "),n(3),p("checked",t.optionsStatist.data.show),n(),u("",b(19,28,"ACTION.STATIST")," "),n(4),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(2),R("options",t.optionsSearch),n(),R("options",t.optionsStatist),n(2),p("dataSource",t.tableSource),n(28),p("matHeaderRowDef",t.tabledisplayedColumns),n(),p("matRowDefColumns",t.tabledisplayedColumns),n(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(30,$s)))},dependencies:[we,V,ye,xe,Ve,oe,Ne,Ge,Oe,pt,Pe,He,Fe,je,Qe,qe,Ue,ze,We,Ke,Je,$e,it,ot,nt,rt,st,P,Xe,at,lt],encapsulation:2});var bo=Hi;var va=["vform"];function Ia(o,r){if(o&1){let e=y();s(0,"div",7)(1,"button",8),v("click",function(){S(e);let t=g();return h(t.onFormCancel())}),C(2,"i",9),d(3),M(4,"translate"),a()()}o&2&&(n(3),u(" ",b(4,1,"ACTION.CANCEL")," "))}var Fi=class Fi extends Ze{constructor(e,i,t,c,f,l,k,ne,Q,se){super(c,new jt,Q,se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleLogSiteCreditBlockedService=c;this.cmsToastrService=f;this.tokenHelper=l;this.cmsStoreService=k;this.cdr=ne;this.publicHelper=Q;this.translate=se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new _t;this.dataModel=new jt;this.formInfo=new te;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>x(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteCreditBlockedService.setAccessDataType(be.Editor),this.coreModuleLogSiteCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Fi.\u0275fac=function(i){return new(i||Fi)(m(Z),m(X),m(G),m(Bt),m(U),m(F),m(H),m(B),m(j),m(O))},Fi.\u0275cmp=D({type:Fi,selectors:[["app-coremodulelog-site-credit-blocked-edit"]],viewQuery:function(i,t){if(i&1&&J(va,5),i&2){let c;$(c=Y())&&(t.formGroup=c.first)}},standalone:!1,features:[z],decls:13,vars:11,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(s(0,"div",1),C(1,"app-progress-spinner",2),s(2,"div",3)(3,"p",4),d(4),a(),s(5,"p"),d(6),M(7,"translate"),a(),s(8,"form",null,0),C(10,"app-cms-site-selector",5),M(11,"translate"),_(12,Ia,5,3,"div",6),a()()()),i&2&&(n(),p("optionsInfoAreaId",t.constructorInfoAreaId),n(3),u(" ",t.formInfo.formTitle," "),n(2),u(" ",b(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),n(4),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",b(11,9,"TITLE.SITE")),n(2),p("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[V,De,ke,Ae,ut,ee,P],encapsulation:2});var _o=Fi;var wa=["vform"];function ya(o,r){if(o&1){let e=y();s(0,"div",8)(1,"button",9),v("click",function(){S(e);let t=g();return h(t.onFormCancel())}),C(2,"i",10),d(3),M(4,"translate"),a()()}o&2&&(n(3),u(" ",b(4,1,"ACTION.CANCEL")," "))}var Ui=class Ui{constructor(r,e,i,t,c,f,l,k,ne,Q){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.coreModuleLogSiteCreditBlockedService=t;this.cmsToastrService=c;this.tokenHelper=f;this.cmsStoreService=l;this.cdr=k;this.publicHelper=ne;this.translate=Q;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Le;this.dataModelResult=new K;this.dataModel=new jt;this.formInfo=new te;this.dataModelEnumSendSmsStatusTypeResult=new K;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>x(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreModuleLogSiteCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ui.\u0275fac=function(e){return new(e||Ui)(m(Z),m(X),m(G),m(Bt),m(U),m(F),m(H),m(B),m(j),m(O))},Ui.\u0275cmp=D({type:Ui,selectors:[["app-coremodulelog-site-credit-blocked-view"]],viewQuery:function(e,i){if(e&1&&J(wa,5),e&2){let t;$(t=Y())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(s(0,"div",0),d(1),a(),s(2,"div",1),C(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),a(),s(5,"div",4),C(6,"app-cms-form-result-message",5),a(),s(7,"div",6),_(8,ya,5,3,"div",7),a()),e&2&&(n(),u(" ",i.formInfo.formTitle," "),n(2),p("optionsInfoAreaId",i.constructorInfoAreaId),n(),p("dataModel",i.dataModel)("optionMethod",1),n(2),p("formInfo",i.formInfo),n(2),p("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[V,ee,tt,de,P],encapsulation:2});var vo=Ui;var Ea=()=>[5,10,20,100],Ra=o=>({display:o});function Ta(o,r){if(o&1&&C(0,"app-core-user-header",41),o&2){let e=g();p("optionId",e.requestLinkUserId)}}function La(o,r){if(o&1){let e=y();s(0,"a",42),v("click",function(){S(e);let t=g();return h(t.onActionBackToParent())}),C(1,"i",43),a()}}function ka(o,r){if(o&1){let e=y();s(0,"div",44)(1,"a",45),v("click",function(){S(e);let t=g();return h(t.onActionButtonViewRow(t.tableRowSelected))}),C(2,"i",46)(3,"br"),a(),s(4,"p",47),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.VIEW")," "))}function Aa(o,r){if(o&1){let e=y();s(0,"div",44)(1,"a",48),v("click",function(){S(e);let t=g();return h(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",49)(3,"br"),a(),s(4,"p",47),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.EDIT")," "))}function Da(o,r){if(o&1){let e=y();s(0,"div",44)(1,"a",50),v("click",function(){S(e);let t=g();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",51)(3,"br"),a(),s(4,"p",47),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.DELETE")," "))}function xa(o,r){if(o&1){let e=y();s(0,"div",44)(1,"a",45),v("click",function(){S(e);let t=g();return h(t.onActionButtonViewSiteRow(t.tableRowSelected))}),C(2,"i",52)(3,"br"),a(),s(4,"p",47),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.SITE")," "))}function Ba(o,r){if(o&1){let e=y();s(0,"div",44)(1,"a",45),v("click",function(t){S(e);let c=g();return h(c.onActionButtonBankPaymentTransactionRow(c.tableRowSelected,t))}),C(2,"i",53)(3,"br"),a(),s(4,"p",47),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.BANK_PAYMENT_TRANSACTION")," "))}function Va(o,r){if(o&1&&(s(0,"mat-header-cell",54),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Na(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.id," ")}}function Ga(o,r){if(o&1&&(s(0,"mat-header-cell",54),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Oa(o,r){if(o&1&&C(0,"select",57),o&2){let e=g().$implicit,i=g();p("contentService",i.contentService)("row",e)("ngStyle",Ie(3,Ra,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Pa(o,r){if(o&1&&(s(0,"mat-cell",55),M(1,"statusCellClass"),C(2,"i",55),M(3,"statusIconClass"),_(4,Oa,1,5,"select",56),a()),o&2){let e=r.$implicit,i=g();p("ngClass",b(1,3,e.recordStatus)),n(2),p("ngClass",b(3,5,e.recordStatus)),n(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Ha(o,r){if(o&1&&(s(0,"mat-header-cell",54),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Fa(o,r){if(o&1&&(s(0,"mat-cell"),d(1),M(2,"cmssiteinfo"),M(3,"async"),a()),o&2){let e=r.$implicit;n(),u(" ",b(3,3,b(2,1,e.linkSiteId))," ")}}function Ua(o,r){if(o&1&&(s(0,"mat-header-cell",54),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.linkModuleId==null?null:e.fieldsInfo.linkModuleId.fieldTitle," ")}}function ja(o,r){if(o&1&&(s(0,"mat-cell"),d(1),M(2,"cmstitle"),a()),o&2){let e=r.$implicit,i=g();n(),u(" ",_i(2,1,e.linkModuleId,i.dataModelCoreModuleResult.listItems)," ")}}function qa(o,r){if(o&1&&(s(0,"mat-header-cell",54),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.transactionCredit==null?null:e.fieldsInfo.transactionCredit.fieldTitle," ")}}function Wa(o,r){if(o&1&&(s(0,"mat-cell"),d(1),M(2,"number"),a()),o&2){let e=r.$implicit;n(),u(" ",b(2,1,e.transactionCredit)," ")}}function Ka(o,r){if(o&1&&(s(0,"mat-header-cell",54),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.linkModuleBankPaymentTransactionId==null?null:e.fieldsInfo.linkModuleBankPaymentTransactionId.fieldTitle," ")}}function Qa(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.linkModuleBankPaymentTransactionId," ")}}function za(o,r){if(o&1&&(s(0,"mat-header-cell",54),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Ja(o,r){if(o&1&&(s(0,"mat-cell",58),d(1),M(2,"localeDateTime"),a()),o&2){let e=r.$implicit;n(),u(" ",b(2,1,e.createdDate)," ")}}function $a(o,r){o&1&&(s(0,"mat-header-cell"),d(1),M(2,"translate"),a()),o&2&&(n(),u(" ",b(2,1,"TITLE.OPTION")," "))}function Ya(o,r){if(o&1&&(s(0,"mat-cell",59)(1,"button",60)(2,"mat-icon"),d(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),o&2){let e=ie(5);n(),p("matMenuTriggerFor",e)}}function Xa(o,r){o&1&&C(0,"mat-header-row")}function Za(o,r){if(o&1){let e=y();s(0,"mat-row",61),v("click",function(t){let c=S(e).$implicit,f=g();return h(f.onActionTableRowSelect(c,t))})("rtclick",function(t){let c=S(e).$implicit,f=g();return h(f.onActionTableRowSelect(c,t))}),a()}if(o&2){let e=r.$implicit,i=g();le("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var ji=class ji extends et{constructor(e,i,t,c,f,l,k,ne,Q,se,Rt,ht,wt,E){super(t,new jt,wt,k,se);this.coreEnumService=e;this.coreModuleService=i;this.contentService=t;this.cmsToastrService=c;this.cmsConfirmationDialogService=f;this.activatedRoute=l;this.tokenHelper=k;this.cdr=ne;this.cmsStoreService=Q;this.translate=se;this.router=Rt;this.pageInfo=ht;this.publicHelper=wt;this.dialog=E;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestlinkMemberUserId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Me;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","linkModuleId","transactionCredit","linkModuleBankPaymentTransactionId","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkModuleId","transactionCredit","createdDate"];this.dataModelCoreModuleResult=new K;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberUserId")),this.requestLinkSiteId>0){let q=new A;q.propertyName="LinkCmsSiteId",q.value=this.requestLinkSiteId,this.filteModelContent.filters.push(q)}if(this.requestLinkUserId>0){let q=new A;q.propertyName="linkUserId",q.value=this.requestLinkUserId,this.filteModelContent.filters.push(q)}if(this.requestlinkMemberUserId>0){let q=new A;q.propertyName="linkMemberUserId",q.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(q)}this.optionsSearch.parentMethods={onSubmit:q=>this.onSubmitOptionsSearch(q)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=N.Descending}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=N.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>x(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getModuleList()}getModuleList(){let e=new Me;e.rowPerPage=100,this.coreModuleService.ServiceGetAllModuleName(e).subscribe({next:i=>{this.dataModelCoreModuleResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new jt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=N.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=N.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=N.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(vo,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(_o,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(c=>{if(c){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(f,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{i.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{i.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),f=new A;f.propertyName="recordStatus",f.value=Te.Available,c.filters.push(f),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonBankPaymentTransactionRow(e=this.tableRowSelected,i){if(!e||!e.linkModuleBankPaymentTransactionId||e.linkModuleBankPaymentTransactionId===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),i?.ctrlKey){let t="/#/bankpayment/transaction/"+this.tableRowSelected.linkModuleBankPaymentTransactionId;window.open(t,"_blank")}else this.router.navigate(["/bankpayment/transaction/",this.tableRowSelected.linkModuleBankPaymentTransactionId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};ji.\u0275fac=function(i){return new(i||ji)(m(G),m(Tt),m(Bt),m(U),m(_e),m(Ee),m(F),m(B),m(H),m(O),m(Re),m(Ye),m(j),m(Be))},ji.\u0275cmp=D({type:ji,selectors:[["app-coremodulelog-site-credit-blocked-list"]],standalone:!1,features:[z],decls:63,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkModuleId"],["matColumnDef","transactionCredit"],["matColumnDef","linkModuleBankPaymentTransactionId"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-money-bill","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let c=y();_(0,Ta,1,1,"app-core-user-header",3),s(1,"app-cms-html-list",4),L("optionActionGuideNoticeDisplayChange",function(l){return S(c),T(t.viewGuideNotice,l)||(t.viewGuideNotice=l),h(l)}),v("optionOnActionButtonMemoRow",function(){return S(c),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(c),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(c),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(c),h(t.onActionButtonPrintRow())}),I(2,5),d(3," -------------------------------------- "),w(),ae(4,6)(5,7),I(6,8),_(7,La,2,0,"a",9),s(8,"a",10),v("click",function(){return S(c),h(t.viewGuideNotice=!t.viewGuideNotice)}),C(9,"i",11),a(),s(10,"a",10),v("click",function(){return S(c),h(t.onActionButtonReload())}),C(11,"i",12),a(),w(),I(12,13),s(13,"a",14),v("click",function(){return S(c),h(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(14,"mat-slide-toggle",15),d(15),M(16,"translate"),a(),s(17,"a",14),v("click",function(){return S(c),h(t.onActionButtonStatist())}),C(18,"mat-slide-toggle",15),d(19),M(20,"translate"),a(),w(),ae(21,16),I(22,17),_(23,ka,7,3,"div",18)(24,Aa,7,3,"div",18)(25,Da,7,3,"div",18)(26,xa,7,3,"div",18)(27,Ba,7,3,"div",18),w(),I(28,19),s(29,"app-cms-search-list",20),L("optionsChange",function(l){return S(c),T(t.optionsSearch,l)||(t.optionsSearch=l),h(l)}),a(),s(30,"app-cms-statist-list",20),L("optionsChange",function(l){return S(c),T(t.optionsStatist,l)||(t.optionsStatist=l),h(l)}),a(),w(),I(31,21),s(32,"mat-table",22,0),v("matSortChange",function(){S(c);let l=ie(33);return h(t.onTableSortData(l))}),I(34,23),_(35,Va,2,1,"mat-header-cell",24)(36,Na,2,1,"mat-cell",25),w(),I(37,26),_(38,Ga,2,1,"mat-header-cell",24)(39,Pa,5,7,"mat-cell",27),w(),I(40,28),_(41,Ha,2,1,"mat-header-cell",24)(42,Fa,4,5,"mat-cell",25),w(),I(43,29),_(44,Ua,2,1,"mat-header-cell",24)(45,ja,3,4,"mat-cell",25),w(),I(46,30),_(47,qa,2,1,"mat-header-cell",24)(48,Wa,3,3,"mat-cell",25),w(),I(49,31),_(50,Ka,2,1,"mat-header-cell",24)(51,Qa,2,1,"mat-cell",25),w(),I(52,32),_(53,za,2,1,"mat-header-cell",24)(54,Ja,3,3,"mat-cell",33),w(),I(55,34),_(56,$a,3,3,"mat-header-cell",35)(57,Ya,6,1,"mat-cell",36),w(),_(58,Xa,1,0,"mat-header-row",37)(59,Za,1,2,"mat-row",38),a(),w(),I(60,39),s(61,"mat-paginator",40,1),v("page",function(l){return S(c),h(t.onTablePageingData(l))}),a(),w(),a()}i&2&&(p("ngIf",t.requestLinkUserId>0),n(),p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),p("ngIf",t.requestLinkSiteId>0),n(4),le("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),p("checked",t.optionsSearch.data.show),n(),u("",b(16,29,"ACTION.SEARCH")," "),n(3),p("checked",t.optionsStatist.data.show),n(),u("",b(20,31,"ACTION.STATIST")," "),n(4),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(),p("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkSiteId)>0),n(),p("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkModuleBankPaymentTransactionId)>0),n(2),R("options",t.optionsSearch),n(),R("options",t.optionsStatist),n(2),p("dataSource",t.tableSource),n(26),p("matHeaderRowDef",t.tabledisplayedColumns),n(),p("matRowDefColumns",t.tabledisplayedColumns),n(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(33,Ea)))},dependencies:[we,V,ye,xe,Ve,oe,Ne,Ge,Oe,pt,Pe,He,Fe,je,Qe,qe,Ue,ze,We,Ke,Je,$e,it,ot,nt,rt,st,bt,mt,vi,P,Ii,ft,Xe,at,lt],encapsulation:2});var Io=ji;var el=["vform"];function tl(o,r){if(o&1&&(s(0,"mat-error"),d(1),s(2,"strong"),d(3),M(4,"translate"),a()()),o&2){let e=g(2);n(),u(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldDescription," is "),n(2),yt(b(4,2,"MESSAGE.required"))}}function il(o,r){if(o&1){let e=y();s(0,"div",9)(1,"label",10),d(2),a(),s(3,"textarea",11,1),L("ngModelChange",function(t){S(e);let c=g();return T(c.dataModel.description,t)||(c.dataModel.description=t),h(t)}),d(5,"        "),a(),s(6,"em"),d(7),a(),_(8,tl,5,4,"mat-error",12),a()}if(o&2){let e=ie(4),i=g();n(2),yt(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldDescription),n(),p("placeholder",Si(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),R("ngModel",i.dataModel.description),p("disabled",!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessEditField)),n(4),u("",e.value.length," / 500"),n(),p("ngIf",e.errors==null?null:e.errors.required)}}function ol(o,r){if(o&1){let e=y();s(0,"div",13)(1,"button",14),v("click",function(){S(e);let t=g();return h(t.onFormCancel())}),C(2,"i",15),d(3),M(4,"translate"),a()()}o&2&&(n(3),u(" ",b(4,1,"ACTION.CANCEL")," "))}var qi=class qi extends Ze{constructor(e,i,t,c,f,l,k,ne,Q,se){super(c,new Wt,Q,se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleLogSiteCreditService=c;this.cmsToastrService=f;this.tokenHelper=l;this.cmsStoreService=k;this.cdr=ne;this.publicHelper=Q;this.translate=se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new K;this.dataModel=new Wt;this.formInfo=new te;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>x(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteCreditService.setAccessLoad(),this.coreModuleLogSiteCreditService.setAccessDataType(be.Editor),this.coreModuleLogSiteCreditService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};qi.\u0275fac=function(i){return new(i||qi)(m(Z),m(X),m(G),m(Nt),m(U),m(F),m(H),m(B),m(j),m(O))},qi.\u0275cmp=D({type:qi,selectors:[["app-coremodulelog-site-credit--edit"]],viewQuery:function(i,t){if(i&1&&J(el,5),i&2){let c;$(c=Y())&&(t.formGroup=c.first)}},standalone:!1,features:[z],decls:14,vars:12,consts:[["vform","ngForm"],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","10","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(s(0,"div",2),C(1,"app-progress-spinner",3),s(2,"div",4)(3,"p",5),d(4),a(),s(5,"p"),d(6),M(7,"translate"),a(),s(8,"form",null,0),C(10,"app-cms-site-selector",6),M(11,"translate"),_(12,il,9,7,"div",7)(13,ol,5,3,"div",8),a()()()),i&2&&(n(),p("optionsInfoAreaId",t.constructorInfoAreaId),n(3),u(" ",t.formInfo.formTitle," "),n(2),u(" ",b(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),n(4),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",b(11,10,"TITLE.SITE")),n(2),p("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),n(),p("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[V,De,gt,Ct,ke,Qt,zt,Mt,Ae,oo,oe,ut,ee,P],encapsulation:2});var wo=qi;var nl=["vform"];function rl(o,r){if(o&1){let e=y();s(0,"div",8)(1,"button",9),v("click",function(){S(e);let t=g();return h(t.onFormCancel())}),C(2,"i",10),d(3),M(4,"translate"),a()()}o&2&&(n(3),u(" ",b(4,1,"ACTION.CANCEL")," "))}var Wi=class Wi{constructor(r,e,i,t,c,f,l,k,ne,Q){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.coreModuleLogSiteCreditService=t;this.cmsToastrService=c;this.tokenHelper=f;this.cmsStoreService=l;this.cdr=k;this.publicHelper=ne;this.translate=Q;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Le;this.dataModelResult=new K;this.dataModel=new Wt;this.formInfo=new te;this.dataModelEnumSendSmsStatusTypeResult=new K;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>x(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreModuleLogSiteCreditService.setAccessLoad(),this.coreModuleLogSiteCreditService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Wi.\u0275fac=function(e){return new(e||Wi)(m(Z),m(X),m(G),m(Nt),m(U),m(F),m(H),m(B),m(j),m(O))},Wi.\u0275cmp=D({type:Wi,selectors:[["app-coremodulelog-site-credit--view"]],viewQuery:function(e,i){if(e&1&&J(nl,5),e&2){let t;$(t=Y())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(s(0,"div",0),d(1),a(),s(2,"div",1),C(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),a(),s(5,"div",4),C(6,"app-cms-form-result-message",5),a(),s(7,"div",6),_(8,rl,5,3,"div",7),a()),e&2&&(n(),u(" ",i.formInfo.formTitle," "),n(2),p("optionsInfoAreaId",i.constructorInfoAreaId),n(),p("dataModel",i.dataModel)("optionMethod",1),n(2),p("formInfo",i.formInfo),n(2),p("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[V,ee,tt,de,P],encapsulation:2});var yo=Wi;var sl=()=>[5,10,20,100],al=o=>({display:o});function ll(o,r){if(o&1){let e=y();s(0,"a",40),v("click",function(){S(e);let t=g();return h(t.onActionBackToParent())}),C(1,"i",41),a()}}function cl(o,r){if(o&1){let e=y();s(0,"div",42)(1,"a",43),v("click",function(){S(e);let t=g();return h(t.onActionButtonViewRow(t.tableRowSelected))}),C(2,"i",44)(3,"br"),a(),s(4,"p",45),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.VIEW")," "))}function dl(o,r){if(o&1){let e=y();s(0,"div",42)(1,"a",46),v("click",function(){S(e);let t=g();return h(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",47)(3,"br"),a(),s(4,"p",45),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.EDIT")," "))}function ml(o,r){if(o&1){let e=y();s(0,"div",42)(1,"a",48),v("click",function(){S(e);let t=g();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",49)(3,"br"),a(),s(4,"p",45),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.DELETE")," "))}function pl(o,r){if(o&1){let e=y();s(0,"div",42)(1,"a",43),v("click",function(){S(e);let t=g();return h(t.onActionButtonViewSiteRow(t.tableRowSelected))}),C(2,"i",50)(3,"br"),a(),s(4,"p",45),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.SITE")," "))}function ul(o,r){if(o&1){let e=y();s(0,"div",42)(1,"a",43),v("click",function(t){S(e);let c=g();return h(c.onActionButtonBankPaymentTransactionRow(c.tableRowSelected,t))}),C(2,"i",51)(3,"br"),a(),s(4,"p",45),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.BANK_PAYMENT_TRANSACTION")," "))}function fl(o,r){if(o&1&&(s(0,"mat-header-cell",52),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Sl(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.id," ")}}function hl(o,r){if(o&1&&(s(0,"mat-header-cell",52),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function gl(o,r){if(o&1&&C(0,"select",55),o&2){let e=g().$implicit,i=g();p("contentService",i.contentService)("row",e)("ngStyle",Ie(3,al,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Cl(o,r){if(o&1&&(s(0,"mat-cell",53),M(1,"statusCellClass"),C(2,"i",53),M(3,"statusIconClass"),_(4,gl,1,5,"select",54),a()),o&2){let e=r.$implicit,i=g();p("ngClass",b(1,3,e.recordStatus)),n(2),p("ngClass",b(3,5,e.recordStatus)),n(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Ml(o,r){if(o&1&&(s(0,"mat-header-cell",52),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function bl(o,r){if(o&1&&(s(0,"mat-cell"),d(1),M(2,"cmssiteinfo"),M(3,"async"),a()),o&2){let e=r.$implicit;n(),u(" ",b(3,3,b(2,1,e.linkSiteId))," ")}}function _l(o,r){if(o&1&&(s(0,"mat-header-cell",52),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.linkModuleId==null?null:e.fieldsInfo.linkModuleId.fieldTitle," ")}}function vl(o,r){if(o&1&&(s(0,"mat-cell"),d(1),M(2,"cmstitle"),a()),o&2){let e=r.$implicit,i=g();n(),u(" ",_i(2,1,e.linkModuleId,i.dataModelCoreModuleResult.listItems)," ")}}function Il(o,r){if(o&1&&(s(0,"mat-header-cell",52),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.transactionCredit==null?null:e.fieldsInfo.transactionCredit.fieldTitle," ")}}function wl(o,r){if(o&1&&(s(0,"mat-cell"),d(1),M(2,"number"),a()),o&2){let e=r.$implicit;n(),u(" ",b(2,1,e.transactionCredit)," ")}}function yl(o,r){if(o&1&&(s(0,"mat-header-cell",52),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.linkModuleBankPaymentTransactionId==null?null:e.fieldsInfo.linkModuleBankPaymentTransactionId.fieldTitle," ")}}function El(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.linkModuleBankPaymentTransactionId," ")}}function Rl(o,r){if(o&1&&(s(0,"mat-header-cell",52),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Tl(o,r){if(o&1&&(s(0,"mat-cell",56),d(1),M(2,"localeDateTime"),a()),o&2){let e=r.$implicit;n(),u(" ",b(2,1,e.createdDate)," ")}}function Ll(o,r){o&1&&(s(0,"mat-header-cell"),d(1),M(2,"translate"),a()),o&2&&(n(),u(" ",b(2,1,"TITLE.OPTION")," "))}function kl(o,r){if(o&1&&(s(0,"mat-cell",57)(1,"button",58)(2,"mat-icon"),d(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),o&2){let e=ie(5);n(),p("matMenuTriggerFor",e)}}function Al(o,r){o&1&&C(0,"mat-header-row")}function Dl(o,r){if(o&1){let e=y();s(0,"mat-row",59),v("click",function(t){let c=S(e).$implicit,f=g();return h(f.onActionTableRowSelect(c,t))})("rtclick",function(t){let c=S(e).$implicit,f=g();return h(f.onActionTableRowSelect(c,t))}),a()}if(o&2){let e=r.$implicit,i=g();le("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ki=class Ki extends et{constructor(e,i,t,c,f,l,k,ne,Q,se,Rt,ht,wt,E){super(t,new Wt,wt,k,Q);this.coreEnumService=e;this.coreModuleService=i;this.contentService=t;this.cmsToastrService=c;this.cmsConfirmationDialogService=f;this.activatedRoute=l;this.tokenHelper=k;this.cdr=ne;this.translate=Q;this.router=se;this.cmsStoreService=Rt;this.pageInfo=ht;this.publicHelper=wt;this.dialog=E;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestlinkMemberUserId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Me;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","linkModuleId","transactionCredit","linkModuleBankPaymentTransactionId","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkModuleId","transactionCredit","createdDate"];this.dataModelCoreModuleResult=new K;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberUserId")),this.requestLinkSiteId>0){let q=new A;q.propertyName="LinkCmsSiteId",q.value=this.requestLinkSiteId,this.filteModelContent.filters.push(q)}if(this.requestLinkUserId>0){let q=new A;q.propertyName="linkUserId",q.value=this.requestLinkUserId,this.filteModelContent.filters.push(q)}if(this.requestlinkMemberUserId>0){let q=new A;q.propertyName="linkMemberUserId",q.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(q)}this.optionsSearch.parentMethods={onSubmit:q=>this.onSubmitOptionsSearch(q)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=N.Descending}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=N.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>x(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getModuleList()}getModuleList(){let e=new Me;e.rowPerPage=100,this.coreModuleService.ServiceGetAllModuleName(e).subscribe({next:i=>{this.dataModelCoreModuleResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Wt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=N.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=N.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=N.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(yo,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(wo,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(c=>{if(c){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(f,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{i.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{i.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),f=new A;f.propertyName="recordStatus",f.value=Te.Available,c.filters.push(f),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonBankPaymentTransactionRow(e=this.tableRowSelected,i){if(!e||!e.linkModuleBankPaymentTransactionId||e.linkModuleBankPaymentTransactionId===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),i?.ctrlKey){let t="/#/bankpayment/transactionlog/LinkTransactionId/"+this.tableRowSelected.linkModuleBankPaymentTransactionId;window.open(t,"_blank")}else this.router.navigate(["/bankpayment/transactionlog/LinkTransactionId/",this.tableRowSelected.linkModuleBankPaymentTransactionId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Ki.\u0275fac=function(i){return new(i||Ki)(m(G),m(Tt),m(Nt),m(U),m(_e),m(Ee),m(F),m(B),m(O),m(Re),m(H),m(Ye),m(j),m(Be))},Ki.\u0275cmp=D({type:Ki,selectors:[["app-coremodulelog-site-credit--list"]],standalone:!1,features:[z],decls:62,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkModuleId"],["matColumnDef","transactionCredit"],["matColumnDef","linkModuleBankPaymentTransactionId"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-money-bill","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let c=y();s(0,"app-cms-html-list",3),L("optionActionGuideNoticeDisplayChange",function(l){return S(c),T(t.viewGuideNotice,l)||(t.viewGuideNotice=l),h(l)}),v("optionOnActionButtonMemoRow",function(){return S(c),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(c),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(c),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(c),h(t.onActionButtonPrintRow())}),I(1,4),d(2," -------------------------------------- "),w(),ae(3,5)(4,6),I(5,7),_(6,ll,2,0,"a",8),s(7,"a",9),v("click",function(){return S(c),h(t.viewGuideNotice=!t.viewGuideNotice)}),C(8,"i",10),a(),s(9,"a",9),v("click",function(){return S(c),h(t.onActionButtonReload())}),C(10,"i",11),a(),w(),I(11,12),s(12,"a",13),v("click",function(){return S(c),h(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(13,"mat-slide-toggle",14),d(14),M(15,"translate"),a(),s(16,"a",13),v("click",function(){return S(c),h(t.onActionButtonStatist())}),C(17,"mat-slide-toggle",14),d(18),M(19,"translate"),a(),w(),ae(20,15),I(21,16),_(22,cl,7,3,"div",17)(23,dl,7,3,"div",17)(24,ml,7,3,"div",17)(25,pl,7,3,"div",17)(26,ul,7,3,"div",17),w(),I(27,18),s(28,"app-cms-search-list",19),L("optionsChange",function(l){return S(c),T(t.optionsSearch,l)||(t.optionsSearch=l),h(l)}),a(),s(29,"app-cms-statist-list",19),L("optionsChange",function(l){return S(c),T(t.optionsStatist,l)||(t.optionsStatist=l),h(l)}),a(),w(),I(30,20),s(31,"mat-table",21,0),v("matSortChange",function(){S(c);let l=ie(32);return h(t.onTableSortData(l))}),I(33,22),_(34,fl,2,1,"mat-header-cell",23)(35,Sl,2,1,"mat-cell",24),w(),I(36,25),_(37,hl,2,1,"mat-header-cell",23)(38,Cl,5,7,"mat-cell",26),w(),I(39,27),_(40,Ml,2,1,"mat-header-cell",23)(41,bl,4,5,"mat-cell",24),w(),I(42,28),_(43,_l,2,1,"mat-header-cell",23)(44,vl,3,4,"mat-cell",24),w(),I(45,29),_(46,Il,2,1,"mat-header-cell",23)(47,wl,3,3,"mat-cell",24),w(),I(48,30),_(49,yl,2,1,"mat-header-cell",23)(50,El,2,1,"mat-cell",24),w(),I(51,31),_(52,Rl,2,1,"mat-header-cell",23)(53,Tl,3,3,"mat-cell",32),w(),I(54,33),_(55,Ll,3,3,"mat-header-cell",34)(56,kl,6,1,"mat-cell",35),w(),_(57,Al,1,0,"mat-header-row",36)(58,Dl,1,2,"mat-row",37),a(),w(),I(59,38),s(60,"mat-paginator",39,1),v("page",function(l){return S(c),h(t.onTablePageingData(l))}),a(),w(),a()}i&2&&(p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),p("ngIf",t.requestLinkSiteId>0),n(4),le("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),p("checked",t.optionsSearch.data.show),n(),u("",b(15,28,"ACTION.SEARCH")," "),n(3),p("checked",t.optionsStatist.data.show),n(),u("",b(19,30,"ACTION.STATIST")," "),n(4),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(),p("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkSiteId)>0),n(),p("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkModuleBankPaymentTransactionId)>0),n(2),R("options",t.optionsSearch),n(),R("options",t.optionsStatist),n(2),p("dataSource",t.tableSource),n(26),p("matHeaderRowDef",t.tabledisplayedColumns),n(),p("matRowDefColumns",t.tabledisplayedColumns),n(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(32,sl)))},dependencies:[we,V,ye,xe,Ve,oe,Ne,Ge,Oe,pt,Pe,He,Fe,je,Qe,qe,Ue,ze,We,Ke,Je,$e,it,ot,nt,rt,st,mt,vi,P,Ii,ft,Xe,at,lt],encapsulation:2});var Eo=Ki;var xl=["vform"];function Bl(o,r){if(o&1){let e=y();s(0,"div",7)(1,"button",8),v("click",function(){S(e);let t=g();return h(t.onFormCancel())}),C(2,"i",9),d(3),M(4,"translate"),a()()}o&2&&(n(3),u(" ",b(4,1,"ACTION.CANCEL")," "))}var Qi=class Qi extends Ze{constructor(e,i,t,c,f,l,k,ne,Q,se){super(c,new qt,Q,se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleLogSiteUserCreditBlockedService=c;this.cmsToastrService=f;this.tokenHelper=l;this.cmsStoreService=k;this.cdr=ne;this.publicHelper=Q;this.translate=se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new _t;this.dataModel=new qt;this.formInfo=new te;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>x(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteUserCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteUserCreditBlockedService.setAccessDataType(be.Editor),this.coreModuleLogSiteUserCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Qi.\u0275fac=function(i){return new(i||Qi)(m(Z),m(X),m(G),m(Vt),m(U),m(F),m(H),m(B),m(j),m(O))},Qi.\u0275cmp=D({type:Qi,selectors:[["app-coremodulelog-site-user-credit-blocked-edit"]],viewQuery:function(i,t){if(i&1&&J(xl,5),i&2){let c;$(c=Y())&&(t.formGroup=c.first)}},standalone:!1,features:[z],decls:13,vars:11,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(s(0,"div",1),C(1,"app-progress-spinner",2),s(2,"div",3)(3,"p",4),d(4),a(),s(5,"p"),d(6),M(7,"translate"),a(),s(8,"form",null,0),C(10,"app-cms-site-selector",5),M(11,"translate"),_(12,Bl,5,3,"div",6),a()()()),i&2&&(n(),p("optionsInfoAreaId",t.constructorInfoAreaId),n(3),u(" ",t.formInfo.formTitle," "),n(2),u(" ",b(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),n(4),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",b(11,9,"TITLE.SITE")),n(2),p("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[V,De,ke,Ae,ut,ee,P],encapsulation:2});var Ro=Qi;var Vl=["vform"];function Nl(o,r){if(o&1){let e=y();s(0,"div",10)(1,"button",11),v("click",function(){S(e);let t=g();return h(t.onFormCancel())}),C(2,"i",12),d(3),M(4,"translate"),a()()}o&2&&(n(3),u(" ",b(4,1,"ACTION.CANCEL")," "))}var zi=class zi{constructor(r,e,i,t,c,f,l,k,ne,Q){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.coreModuleLogSiteUserCreditBlockedService=t;this.cmsToastrService=c;this.tokenHelper=f;this.cmsStoreService=l;this.cdr=k;this.publicHelper=ne;this.translate=Q;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Le;this.dataModelResult=new K;this.dataModel=new qt;this.formInfo=new te;this.dataModelEnumSendSmsStatusTypeResult=new K;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>x(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreModuleLogSiteUserCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteUserCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};zi.\u0275fac=function(e){return new(e||zi)(m(Z),m(X),m(G),m(Vt),m(U),m(F),m(H),m(B),m(j),m(O))},zi.\u0275cmp=D({type:zi,selectors:[["app-coremodulelog-site-user-credit-blocked-view"]],viewQuery:function(e,i){if(e&1&&J(Vl,5),e&2){let t;$(t=Y())&&(i.formGroup=t.first)}},standalone:!1,decls:14,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(s(0,"div",0),C(1,"app-progress-spinner",1),s(2,"div",2)(3,"p",3),d(4),a(),s(5,"p"),d(6),M(7,"translate"),a(),s(8,"div",4),C(9,"app-cms-json-list",5),a(),s(10,"div",6),C(11,"app-cms-form-result-message",7),a(),s(12,"div",8),_(13,Nl,5,3,"div",9),a()()()),e&2&&(n(),p("optionsInfoAreaId",i.constructorInfoAreaId),n(3),u(" ",i.formInfo.formTitle," "),n(2),u(" ",b(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),n(3),p("dataModel",i.dataModel)("optionMethod",1),n(2),p("formInfo",i.formInfo),n(2),p("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[V,ee,tt,de,P],encapsulation:2});var To=zi;var Gl=()=>[5,10,20,100],Ol=o=>({display:o});function Pl(o,r){if(o&1&&C(0,"app-core-user-header",40),o&2){let e=g();p("optionId",e.requestLinkUserId)}}function Hl(o,r){if(o&1){let e=y();s(0,"a",41),v("click",function(){S(e);let t=g();return h(t.onActionBackToParent())}),C(1,"i",42),a()}}function Fl(o,r){if(o&1){let e=y();s(0,"div",43)(1,"a",44),v("click",function(){S(e);let t=g();return h(t.onActionButtonViewRow(t.tableRowSelected))}),C(2,"i",45)(3,"br"),a(),s(4,"p",46),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.VIEW")," "))}function Ul(o,r){if(o&1){let e=y();s(0,"div",43)(1,"a",47),v("click",function(){S(e);let t=g();return h(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",48)(3,"br"),a(),s(4,"p",46),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.EDIT")," "))}function jl(o,r){if(o&1){let e=y();s(0,"div",43)(1,"a",49),v("click",function(){S(e);let t=g();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",50)(3,"br"),a(),s(4,"p",46),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.DELETE")," "))}function ql(o,r){if(o&1){let e=y();s(0,"div",43)(1,"a",44),v("click",function(){S(e);let t=g();return h(t.onActionButtonViewUserRow(t.tableRowSelected))}),C(2,"i",51)(3,"br"),a(),s(4,"p",46),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.USER")," "))}function Wl(o,r){if(o&1){let e=y();s(0,"div",43)(1,"a",44),v("click",function(t){S(e);let c=g();return h(c.onActionButtonBankPaymentTransactionRow(c.tableRowSelected,t))}),C(2,"i",52)(3,"br"),a(),s(4,"p",46),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.BANK_PAYMENT_TRANSACTION")," "))}function Kl(o,r){if(o&1&&(s(0,"mat-header-cell",53),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Ql(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.id," ")}}function zl(o,r){if(o&1&&(s(0,"mat-header-cell",53),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Jl(o,r){if(o&1&&C(0,"select",56),o&2){let e=g().$implicit,i=g();p("contentService",i.contentService)("row",e)("ngStyle",Ie(3,Ol,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function $l(o,r){if(o&1&&(s(0,"mat-cell",54),M(1,"statusCellClass"),C(2,"i",54),M(3,"statusIconClass"),_(4,Jl,1,5,"select",55),a()),o&2){let e=r.$implicit,i=g();p("ngClass",b(1,3,e.recordStatus)),n(2),p("ngClass",b(3,5,e.recordStatus)),n(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Yl(o,r){if(o&1&&(s(0,"mat-header-cell",53),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Xl(o,r){if(o&1&&(s(0,"mat-cell"),d(1),M(2,"cmssiteinfo"),M(3,"async"),a()),o&2){let e=r.$implicit;n(),u(" ",b(3,3,b(2,1,e.linkSiteId))," ")}}function Zl(o,r){if(o&1&&(s(0,"mat-header-cell",53),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function ec(o,r){if(o&1&&(s(0,"mat-cell"),d(1),M(2,"cmsuserinfo"),M(3,"async"),a()),o&2){let e=r.$implicit;n(),u(" ",b(3,3,b(2,1,e.linkUserId))," ")}}function tc(o,r){if(o&1&&(s(0,"mat-header-cell",53),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.linkModuleBankPaymentTransactionId==null?null:e.fieldsInfo.linkModuleBankPaymentTransactionId.fieldTitle," ")}}function ic(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.linkModuleBankPaymentTransactionId," ")}}function oc(o,r){if(o&1&&(s(0,"mat-header-cell",53),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function nc(o,r){if(o&1&&(s(0,"mat-cell",57),d(1),M(2,"localeDateTime"),a()),o&2){let e=r.$implicit;n(),u(" ",b(2,1,e.createdDate)," ")}}function rc(o,r){o&1&&(s(0,"mat-header-cell"),d(1),M(2,"translate"),a()),o&2&&(n(),u(" ",b(2,1,"TITLE.OPTION")," "))}function sc(o,r){if(o&1&&(s(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),d(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),o&2){let e=ie(5);n(),p("matMenuTriggerFor",e)}}function ac(o,r){o&1&&C(0,"mat-header-row")}function lc(o,r){if(o&1){let e=y();s(0,"mat-row",60),v("click",function(t){let c=S(e).$implicit,f=g();return h(f.onActionTableRowSelect(c,t))})("rtclick",function(t){let c=S(e).$implicit,f=g();return h(f.onActionTableRowSelect(c,t))}),a()}if(o&2){let e=r.$implicit,i=g();le("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ji=class Ji extends et{constructor(e,i,t,c,f,l,k,ne,Q,se,Rt,ht,wt){super(i,new qt,ht,l,ne);this.coreEnumService=e;this.contentService=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=c;this.activatedRoute=f;this.tokenHelper=l;this.cdr=k;this.translate=ne;this.cmsStoreService=Q;this.router=se;this.pageInfo=Rt;this.publicHelper=ht;this.dialog=wt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestlinkMemberUserId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Me;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkUserId","linkSiteId","linkModuleBankPaymentTransactionId","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkUserId","linkSiteId","createdDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberUserId")),this.requestLinkSiteId>0){let E=new A;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new A;E.propertyName="linkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestlinkMemberUserId>0){let E=new A;E.propertyName="linkMemberUserId",E.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=N.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=N.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>x(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new qt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new A;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new A;t.propertyAnyName="linkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new A;t.propertyAnyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=N.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=N.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=N.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(To,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ro,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(c=>{if(c){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(f,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{i.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{i.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),f=new A;f.propertyName="recordStatus",f.value=Te.Available,c.filters.push(f),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonBankPaymentTransactionRow(e=this.tableRowSelected,i){if(!e||!e.linkModuleBankPaymentTransactionId||e.linkModuleBankPaymentTransactionId===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),i?.ctrlKey){let t="/#/bankpayment/transaction/"+this.tableRowSelected.linkModuleBankPaymentTransactionId;window.open(t,"_blank")}else this.router.navigate(["/bankpayment/transaction/",this.tableRowSelected.linkModuleBankPaymentTransactionId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Ji.\u0275fac=function(i){return new(i||Ji)(m(G),m(Vt),m(U),m(_e),m(Ee),m(F),m(B),m(O),m(H),m(Re),m(Ye),m(j),m(Be))},Ji.\u0275cmp=D({type:Ji,selectors:[["app-coremodulelog-site-user-credit-blocked-list"]],standalone:!1,features:[z],decls:61,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","linkModuleBankPaymentTransactionId"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-money-bill","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let c=y();_(0,Pl,1,1,"app-core-user-header",3),s(1,"app-cms-html-list",4),L("optionActionGuideNoticeDisplayChange",function(l){return S(c),T(t.viewGuideNotice,l)||(t.viewGuideNotice=l),h(l)}),v("optionOnActionButtonMemoRow",function(){return S(c),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(c),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(c),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(c),h(t.onActionButtonPrintRow())}),I(2,5),d(3,"id "),d(4," -------------------------------------- "),w(),ae(5,6)(6,7),I(7,8),_(8,Hl,2,0,"a",9),s(9,"a",10),v("click",function(){return S(c),h(t.viewGuideNotice=!t.viewGuideNotice)}),C(10,"i",11),a(),s(11,"a",10),v("click",function(){return S(c),h(t.onActionButtonReload())}),C(12,"i",12),a(),w(),I(13,13),s(14,"a",14),v("click",function(){return S(c),h(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(15,"mat-slide-toggle",15),d(16),M(17,"translate"),a(),s(18,"a",14),v("click",function(){return S(c),h(t.onActionButtonStatist())}),C(19,"mat-slide-toggle",15),d(20),M(21,"translate"),a(),w(),ae(22,16),I(23,17),_(24,Fl,7,3,"div",18)(25,Ul,7,3,"div",18)(26,jl,7,3,"div",18)(27,ql,7,3,"div",18)(28,Wl,7,3,"div",18),w(),I(29,19),s(30,"app-cms-search-list",20),L("optionsChange",function(l){return S(c),T(t.optionsSearch,l)||(t.optionsSearch=l),h(l)}),a(),s(31,"app-cms-statist-list",20),L("optionsChange",function(l){return S(c),T(t.optionsStatist,l)||(t.optionsStatist=l),h(l)}),a(),w(),I(32,21),s(33,"mat-table",22,0),v("matSortChange",function(){S(c);let l=ie(34);return h(t.onTableSortData(l))}),I(35,23),_(36,Kl,2,1,"mat-header-cell",24)(37,Ql,2,1,"mat-cell",25),w(),I(38,26),_(39,zl,2,1,"mat-header-cell",24)(40,$l,5,7,"mat-cell",27),w(),I(41,28),_(42,Yl,2,1,"mat-header-cell",24)(43,Xl,4,5,"mat-cell",25),w(),I(44,29),_(45,Zl,2,1,"mat-header-cell",24)(46,ec,4,5,"mat-cell",25),w(),I(47,30),_(48,tc,2,1,"mat-header-cell",24)(49,ic,2,1,"mat-cell",25),w(),I(50,31),_(51,oc,2,1,"mat-header-cell",24)(52,nc,3,3,"mat-cell",32),w(),I(53,33),_(54,rc,3,3,"mat-header-cell",34)(55,sc,6,1,"mat-cell",35),w(),_(56,ac,1,0,"mat-header-row",36)(57,lc,1,2,"mat-row",37),a(),w(),I(58,38),s(59,"mat-paginator",39,1),v("page",function(l){return S(c),h(t.onTablePageingData(l))}),a(),w(),a()}i&2&&(p("ngIf",t.requestLinkUserId>0),n(),p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(7),p("ngIf",t.requestLinkSiteId>0),n(4),le("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),p("checked",t.optionsSearch.data.show),n(),u("",b(17,29,"ACTION.SEARCH")," "),n(3),p("checked",t.optionsStatist.data.show),n(),u("",b(21,31,"ACTION.STATIST")," "),n(4),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(),p("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),n(),p("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkModuleBankPaymentTransactionId)>0),n(2),R("options",t.optionsSearch),n(),R("options",t.optionsStatist),n(2),p("dataSource",t.tableSource),n(23),p("matHeaderRowDef",t.tabledisplayedColumns),n(),p("matRowDefColumns",t.tabledisplayedColumns),n(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(33,Gl)))},dependencies:[we,V,ye,xe,Ve,oe,Ne,Ge,Oe,pt,Pe,He,Fe,je,Qe,qe,Ue,ze,We,Ke,Je,$e,it,ot,nt,rt,st,bt,mt,P,vt,ft,Xe,at,lt],encapsulation:2});var Lo=Ji;var cc=["vform"];function dc(o,r){if(o&1&&(s(0,"mat-error"),d(1),s(2,"strong"),d(3),M(4,"translate"),a()()),o&2){let e=g(2);n(),u(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldDescription," is "),n(2),yt(b(4,2,"MESSAGE.required"))}}function mc(o,r){if(o&1){let e=y();s(0,"div",9)(1,"label",10),d(2),a(),s(3,"textarea",11,1),L("ngModelChange",function(t){S(e);let c=g();return T(c.dataModel.description,t)||(c.dataModel.description=t),h(t)}),d(5,"        "),a(),s(6,"em"),d(7),a(),_(8,dc,5,4,"mat-error",12),a()}if(o&2){let e=ie(4),i=g();n(2),yt(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldDescription),n(),p("placeholder",Si(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),R("ngModel",i.dataModel.description),p("disabled",!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessEditField)),n(4),u("",e.value.length," / 500"),n(),p("ngIf",e.errors==null?null:e.errors.required)}}function pc(o,r){if(o&1){let e=y();s(0,"div",13)(1,"button",14),v("click",function(){S(e);let t=g();return h(t.onFormCancel())}),C(2,"i",15),d(3),M(4,"translate"),a()()}o&2&&(n(3),u(" ",b(4,1,"ACTION.CANCEL")," "))}var $i=class $i extends Ze{constructor(e,i,t,c,f,l,k,ne,Q,se){super(c,new Kt,Q,se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleLogSiteUserCreditService=c;this.cmsToastrService=f;this.tokenHelper=l;this.cmsStoreService=k;this.cdr=ne;this.publicHelper=Q;this.translate=se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new K;this.dataModel=new Kt;this.formInfo=new te;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>x(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteUserCreditService.setAccessLoad(),this.coreModuleLogSiteUserCreditService.setAccessDataType(be.Editor),this.coreModuleLogSiteUserCreditService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};$i.\u0275fac=function(i){return new(i||$i)(m(Z),m(X),m(G),m(Gt),m(U),m(F),m(H),m(B),m(j),m(O))},$i.\u0275cmp=D({type:$i,selectors:[["app-coremodulelog-site-user-credit--edit"]],viewQuery:function(i,t){if(i&1&&J(cc,5),i&2){let c;$(c=Y())&&(t.formGroup=c.first)}},standalone:!1,features:[z],decls:14,vars:12,consts:[["vform","ngForm"],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","10","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(s(0,"div",2),C(1,"app-progress-spinner",3),s(2,"div",4)(3,"p",5),d(4),a(),s(5,"p"),d(6),M(7,"translate"),a(),s(8,"form",null,0),C(10,"app-cms-site-selector",6),M(11,"translate"),_(12,mc,9,7,"div",7)(13,pc,5,3,"div",8),a()()()),i&2&&(n(),p("optionsInfoAreaId",t.constructorInfoAreaId),n(3),u(" ",t.formInfo.formTitle," "),n(2),u(" ",b(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),n(4),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",b(11,10,"TITLE.SITE")),n(2),p("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),n(),p("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[V,De,gt,Ct,ke,Qt,zt,Mt,Ae,oo,oe,ut,ee,P],encapsulation:2});var ko=$i;var uc=["vform"];function fc(o,r){if(o&1){let e=y();s(0,"div",10)(1,"button",11),v("click",function(){S(e);let t=g();return h(t.onFormCancel())}),C(2,"i",12),d(3),M(4,"translate"),a()()}o&2&&(n(3),u(" ",b(4,1,"ACTION.CANCEL")," "))}var Yi=class Yi{constructor(r,e,i,t,c,f,l,k,ne,Q){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.coreModuleLogSiteUserCreditService=t;this.cmsToastrService=c;this.tokenHelper=f;this.cmsStoreService=l;this.cdr=k;this.publicHelper=ne;this.translate=Q;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Le;this.dataModelResult=new K;this.dataModel=new Kt;this.formInfo=new te;this.dataModelEnumSendSmsStatusTypeResult=new K;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>x(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreModuleLogSiteUserCreditService.setAccessLoad(),this.coreModuleLogSiteUserCreditService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Yi.\u0275fac=function(e){return new(e||Yi)(m(Z),m(X),m(G),m(Gt),m(U),m(F),m(H),m(B),m(j),m(O))},Yi.\u0275cmp=D({type:Yi,selectors:[["app-coremodulelog-site-user-credit--view"]],viewQuery:function(e,i){if(e&1&&J(uc,5),e&2){let t;$(t=Y())&&(i.formGroup=t.first)}},standalone:!1,decls:14,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(s(0,"div",0),C(1,"app-progress-spinner",1),s(2,"div",2)(3,"p",3),d(4),a(),s(5,"p"),d(6),M(7,"translate"),a(),s(8,"div",4),C(9,"app-cms-json-list",5),a(),s(10,"div",6),C(11,"app-cms-form-result-message",7),a(),s(12,"div",8),_(13,fc,5,3,"div",9),a()()()),e&2&&(n(),p("optionsInfoAreaId",i.constructorInfoAreaId),n(3),u(" ",i.formInfo.formTitle," "),n(2),u(" ",b(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),n(3),p("dataModel",i.dataModel)("optionMethod",1),n(2),p("formInfo",i.formInfo),n(2),p("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[V,ee,tt,de,P],encapsulation:2});var Ao=Yi;var Sc=()=>[5,10,20,100],hc=o=>({display:o});function gc(o,r){if(o&1&&C(0,"app-core-user-header",42),o&2){let e=g();p("optionId",e.requestLinkUserId)}}function Cc(o,r){if(o&1&&C(0,"app-core-module-header",42),o&2){let e=g();p("optionId",e.requestLinkModuleId)}}function Mc(o,r){if(o&1){let e=y();s(0,"a",43),v("click",function(){S(e);let t=g();return h(t.onActionBackToParent())}),C(1,"i",44),a()}}function bc(o,r){if(o&1){let e=y();s(0,"div",45)(1,"a",46),v("click",function(){S(e);let t=g();return h(t.onActionButtonViewRow(t.tableRowSelected))}),C(2,"i",47)(3,"br"),a(),s(4,"p",48),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.VIEW")," "))}function _c(o,r){if(o&1){let e=y();s(0,"div",45)(1,"a",49),v("click",function(){S(e);let t=g();return h(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",50)(3,"br"),a(),s(4,"p",48),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.EDIT")," "))}function vc(o,r){if(o&1){let e=y();s(0,"div",45)(1,"a",51),v("click",function(){S(e);let t=g();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",52)(3,"br"),a(),s(4,"p",48),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.DELETE")," "))}function Ic(o,r){if(o&1){let e=y();s(0,"div",45)(1,"a",46),v("click",function(t){S(e);let c=g();return h(c.onActionButtonViewUserRow(c.tableRowSelected,t))}),C(2,"i",53)(3,"br"),a(),s(4,"p",48),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.USER")," "))}function wc(o,r){if(o&1){let e=y();s(0,"div",45)(1,"a",46),v("click",function(t){S(e);let c=g();return h(c.onActionButtonViewSiteRow(c.tableRowSelected,t))}),C(2,"i",54)(3,"br"),a(),s(4,"p",48),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.SITE")," "))}function yc(o,r){if(o&1){let e=y();s(0,"div",45)(1,"a",46),v("click",function(t){S(e);let c=g();return h(c.onActionButtonBankPaymentTransactionRow(c.tableRowSelected,t))}),C(2,"i",55)(3,"br"),a(),s(4,"p",48),d(5),M(6,"translate"),a()()}o&2&&(n(5),u(" ",b(6,1,"ACTION.BANK_PAYMENT_TRANSACTION")," "))}function Ec(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Rc(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.id," ")}}function Tc(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Lc(o,r){if(o&1&&C(0,"select",59),o&2){let e=g().$implicit,i=g();p("contentService",i.contentService)("row",e)("ngStyle",Ie(3,hc,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function kc(o,r){if(o&1&&(s(0,"mat-cell",57),M(1,"statusCellClass"),C(2,"i",57),M(3,"statusIconClass"),_(4,Lc,1,5,"select",58),a()),o&2){let e=r.$implicit,i=g();p("ngClass",b(1,3,e.recordStatus)),n(2),p("ngClass",b(3,5,e.recordStatus)),n(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Ac(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Dc(o,r){if(o&1&&(s(0,"mat-cell"),d(1),M(2,"cmssiteinfo"),M(3,"async"),a()),o&2){let e=r.$implicit;n(),u(" ",b(3,3,b(2,1,e.linkSiteId))," ")}}function xc(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Bc(o,r){if(o&1&&(s(0,"mat-cell"),d(1),M(2,"cmsuserinfo"),M(3,"async"),a()),o&2){let e=r.$implicit;n(),u(" ",b(3,3,b(2,1,e.linkUserId))," ")}}function Vc(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.linkModuleId==null?null:e.fieldsInfo.linkModuleId.fieldTitle," ")}}function Nc(o,r){if(o&1&&(s(0,"mat-cell"),d(1),M(2,"cmstitle"),a()),o&2){let e=r.$implicit,i=g();n(),u(" ",_i(2,1,e.linkModuleId,i.dataModelCoreModuleResult.listItems)," ")}}function Gc(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.transactionCredit==null?null:e.fieldsInfo.transactionCredit.fieldTitle," ")}}function Oc(o,r){if(o&1&&(s(0,"mat-cell"),d(1),M(2,"number"),a()),o&2){let e=r.$implicit;n(),u(" ",b(2,1,e.transactionCredit)," ")}}function Pc(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.linkModuleBankPaymentTransactionId==null?null:e.fieldsInfo.linkModuleBankPaymentTransactionId.fieldTitle," ")}}function Hc(o,r){if(o&1&&(s(0,"mat-cell"),d(1),a()),o&2){let e=r.$implicit;n(),u(" ",e.linkModuleBankPaymentTransactionId," ")}}function Fc(o,r){if(o&1&&(s(0,"mat-header-cell",56),d(1),a()),o&2){let e=g();n(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Uc(o,r){if(o&1&&(s(0,"mat-cell",60),d(1),M(2,"localeDateTime"),a()),o&2){let e=r.$implicit;n(),u(" ",b(2,1,e.createdDate)," ")}}function jc(o,r){o&1&&(s(0,"mat-header-cell"),d(1),M(2,"translate"),a()),o&2&&(n(),u(" ",b(2,1,"TITLE.OPTION")," "))}function qc(o,r){if(o&1&&(s(0,"mat-cell",61)(1,"button",62)(2,"mat-icon"),d(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),o&2){let e=ie(5);n(),p("matMenuTriggerFor",e)}}function Wc(o,r){o&1&&C(0,"mat-header-row")}function Kc(o,r){if(o&1){let e=y();s(0,"mat-row",63),v("click",function(t){let c=S(e).$implicit,f=g();return h(f.onActionTableRowSelect(c,t))})("rtclick",function(t){let c=S(e).$implicit,f=g();return h(f.onActionTableRowSelect(c,t))}),a()}if(o&2){let e=r.$implicit,i=g();le("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Xi=class Xi extends et{constructor(e,i,t,c,f,l,k,ne,Q,se,Rt,ht,wt,E){super(t,new Kt,wt,ne,se);this.coreEnumService=e;this.coreModuleService=i;this.contentService=t;this.cmsToastrService=c;this.cmsConfirmationDialogService=f;this.activatedRoute=l;this.cmsStoreService=k;this.tokenHelper=ne;this.cdr=Q;this.translate=se;this.router=Rt;this.pageInfo=ht;this.publicHelper=wt;this.dialog=E;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkModuleId=0;this.requestlinkMemberUserId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Me;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkUserId","linkSiteId","linkModuleId","transactionCredit","linkModuleBankPaymentTransactionId","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkUserId","linkSiteId","linkModuleId","transactionCredit","createdDate"];this.dataModelCoreModuleResult=new K;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkModuleId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkModuleId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberUserId")),this.requestLinkSiteId>0){let q=new A;q.propertyName="LinkCmsSiteId",q.value=this.requestLinkSiteId,this.filteModelContent.filters.push(q)}if(this.requestLinkUserId>0){let q=new A;q.propertyName="linkUserId",q.value=this.requestLinkUserId,this.filteModelContent.filters.push(q)}if(this.requestLinkModuleId>0){let q=new A;q.propertyName="LinkModuleId",q.value=this.requestLinkModuleId,this.filteModelContent.filters.push(q)}if(this.requestlinkMemberUserId>0){let q=new A;q.propertyName="linkMemberUserId",q.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(q)}this.optionsSearch.parentMethods={onSubmit:q=>this.onSubmitOptionsSearch(q)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=N.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=N.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>x(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getModuleList()}getModuleList(){let e=new Me;e.rowPerPage=100,this.coreModuleService.ServiceGetAllModuleName(e).subscribe({next:i=>{this.dataModelCoreModuleResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Kt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new A;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new A;t.propertyAnyName="linkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new A;t.propertyAnyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=N.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=N.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=N.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ao,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ko,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],t=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(c=>{if(c){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(f,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{i.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{i.set(l,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),f=new A;f.propertyName="recordStatus",f.value=Te.Available,c.filters.push(f),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i?.ctrlKey){let t="/#/core/user/edit/"+this.tableRowSelected.linkUserId;window.open(t,"_blank")}else this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i?.ctrlKey){let t="/#/core/site/edit/"+this.tableRowSelected.linkSiteId;window.open(t,"_blank")}else this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonBankPaymentTransactionRow(e=this.tableRowSelected,i){if(!e||!e.linkModuleBankPaymentTransactionId||e.linkModuleBankPaymentTransactionId===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),i?.ctrlKey){let t="/#/bankpayment/transactionlog/LinkTransactionId/"+this.tableRowSelected.linkModuleBankPaymentTransactionId;window.open(t,"_blank")}else this.router.navigate(["/bankpayment/transactionlog/LinkTransactionId/",this.tableRowSelected.linkModuleBankPaymentTransactionId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Xi.\u0275fac=function(i){return new(i||Xi)(m(G),m(Tt),m(Gt),m(U),m(_e),m(Ee),m(H),m(F),m(B),m(O),m(Re),m(Ye),m(j),m(Be))},Xi.\u0275cmp=D({type:Xi,selectors:[["app-coremodulelog-site-user-credit--list"]],standalone:!1,features:[z],decls:68,vars:36,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","linkModuleId"],["matColumnDef","transactionCredit"],["matColumnDef","linkModuleBankPaymentTransactionId"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-money-bill","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let c=y();_(0,gc,1,1,"app-core-user-header",3)(1,Cc,1,1,"app-core-module-header",3),s(2,"app-cms-html-list",4),L("optionActionGuideNoticeDisplayChange",function(l){return S(c),T(t.viewGuideNotice,l)||(t.viewGuideNotice=l),h(l)}),v("optionOnActionButtonMemoRow",function(){return S(c),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(c),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(c),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(c),h(t.onActionButtonPrintRow())}),I(3,5),d(4," -------------------------------------- "),w(),ae(5,6)(6,7),I(7,8),_(8,Mc,2,0,"a",9),s(9,"a",10),v("click",function(){return S(c),h(t.viewGuideNotice=!t.viewGuideNotice)}),C(10,"i",11),a(),s(11,"a",10),v("click",function(){return S(c),h(t.onActionButtonReload())}),C(12,"i",12),a(),w(),I(13,13),s(14,"a",14),v("click",function(){return S(c),h(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(15,"mat-slide-toggle",15),d(16),M(17,"translate"),a(),s(18,"a",14),v("click",function(){return S(c),h(t.onActionButtonStatist())}),C(19,"mat-slide-toggle",15),d(20),M(21,"translate"),a(),w(),ae(22,16),I(23,17),_(24,bc,7,3,"div",18)(25,_c,7,3,"div",18)(26,vc,7,3,"div",18)(27,Ic,7,3,"div",18)(28,wc,7,3,"div",18)(29,yc,7,3,"div",18),w(),I(30,19),s(31,"app-cms-search-list",20),L("optionsChange",function(l){return S(c),T(t.optionsSearch,l)||(t.optionsSearch=l),h(l)}),a(),s(32,"app-cms-statist-list",20),L("optionsChange",function(l){return S(c),T(t.optionsStatist,l)||(t.optionsStatist=l),h(l)}),a(),w(),I(33,21),s(34,"mat-table",22,0),v("matSortChange",function(){S(c);let l=ie(35);return h(t.onTableSortData(l))}),I(36,23),_(37,Ec,2,1,"mat-header-cell",24)(38,Rc,2,1,"mat-cell",25),w(),I(39,26),_(40,Tc,2,1,"mat-header-cell",24)(41,kc,5,7,"mat-cell",27),w(),I(42,28),_(43,Ac,2,1,"mat-header-cell",24)(44,Dc,4,5,"mat-cell",25),w(),I(45,29),_(46,xc,2,1,"mat-header-cell",24)(47,Bc,4,5,"mat-cell",25),w(),I(48,30),_(49,Vc,2,1,"mat-header-cell",24)(50,Nc,3,4,"mat-cell",25),w(),I(51,31),_(52,Gc,2,1,"mat-header-cell",24)(53,Oc,3,3,"mat-cell",25),w(),I(54,32),_(55,Pc,2,1,"mat-header-cell",24)(56,Hc,2,1,"mat-cell",25),w(),I(57,33),_(58,Fc,2,1,"mat-header-cell",24)(59,Uc,3,3,"mat-cell",34),w(),I(60,35),_(61,jc,3,3,"mat-header-cell",36)(62,qc,6,1,"mat-cell",37),w(),_(63,Wc,1,0,"mat-header-row",38)(64,Kc,1,2,"mat-row",39),a(),w(),I(65,40),s(66,"mat-paginator",41,1),v("page",function(l){return S(c),h(t.onTablePageingData(l))}),a(),w(),a()}i&2&&(p("ngIf",t.requestLinkUserId>0),n(),p("ngIf",t.requestLinkModuleId>0),n(),p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),p("ngIf",t.requestLinkSiteId>0),n(4),le("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),p("checked",t.optionsSearch.data.show),n(),u("",b(17,31,"ACTION.SEARCH")," "),n(3),p("checked",t.optionsStatist.data.show),n(),u("",b(21,33,"ACTION.STATIST")," "),n(4),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),n(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),n(),p("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),n(),p("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkSiteId)>0),n(),p("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkModuleBankPaymentTransactionId)>0),n(2),R("options",t.optionsSearch),n(),R("options",t.optionsStatist),n(2),p("dataSource",t.tableSource),n(29),p("matHeaderRowDef",t.tabledisplayedColumns),n(),p("matRowDefColumns",t.tabledisplayedColumns),n(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(35,Sc)))},dependencies:[we,V,ye,xe,Ve,oe,Ne,Ge,Oe,pt,Pe,He,Fe,je,Qe,qe,Ue,ze,We,Ke,Je,$e,it,ot,nt,rt,st,bt,en,mt,vi,P,Ii,vt,ft,Xe,at,lt],encapsulation:2});var eo=Xi;var Qc=[{path:"",component:no,data:{title:"ROUTE.COREMODULELOG"},children:[{path:"report-abuse",component:fo,data:{title:"ROUTE.COREMODULELOG"}},{path:"show-key",component:bo,data:{title:"ROUTE.COREMODULELOG"}},{path:"favorite",component:ao,data:{title:"ROUTE.COREMODULELOG.FAVORITE"}},{path:"like",component:mo,data:{title:"ROUTE.COREMODULELOG.LIKE"}},{path:"score",component:go,data:{title:"ROUTE.COREMODULELOG.SCORE"}},{path:"site-credit",component:Eo,data:{title:"ROUTE.COREMODULELOG"}},{path:"site-user-credit",component:eo,data:{title:"ROUTE.COREMODULELOG"}},{path:"site-user-credit/:LinkSiteId/:LinkUserId/:LinkModuleId",component:eo,data:{title:"ROUTE.COREMODULELOG"}},{path:"site-credit-blocked",component:Io,data:{title:"ROUTE.COREMODULELOG"}},{path:"site-user-credit-blocked",component:Lo,data:{title:"ROUTE.COREMODULELOG"}}]}],Mi=class Mi{};Mi.\u0275fac=function(e){return new(e||Mi)},Mi.\u0275mod=io({type:Mi}),Mi.\u0275inj=to({imports:[xo.forChild(Qc),xo]});var Do=Mi;var bi=class bi{};bi.\u0275fac=function(e){return new(e||bi)},bi.\u0275mod=io({type:bi}),bi.\u0275inj=to({providers:[Tt,Oo,Po,Ho,Fo,At,Uo,kt,jo,xt,Dt,Lt,Bt,Vt,Nt,Gt,_e],imports:[Do,No,qo,Wo.withConfig({warnOnNgModelWithFormControl:"never"}),Yo,Xo,Zo,$o]});var nn=bi;export{nn as CoreModuleLogModule};
