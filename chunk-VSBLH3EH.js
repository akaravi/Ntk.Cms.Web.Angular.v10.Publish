import{Qc as j}from"./chunk-4ZDW4SNU.js";import{Fa as a,Mc as x,Md as P,Oa as d,Ob as C,Pb as n,Qb as m,Sa as h,Tn as _,Xc as A,Ya as v,a as g,bc as c,cc as S,ec as y,fc as f,gc as b,ho as O,jo as M,ko as F,lb as l,mb as t,nb as i,ob as o,po as k,qo as w,xd as E}from"./chunk-GC7IBVIU.js";var D=r=>({title:"\u06A9\u0644 \u0627\u0645\u0644\u0627\u06A9",value:r,icon:"fa-building",route:"property"}),L=r=>({title:"\u0622\u06AF\u0647\u06CC\u200C\u0647\u0627\u06CC \u0627\u0645\u0644\u0627\u06A9",value:r,icon:"fa-newspaper",route:"property-ads"}),R=r=>({title:"\u0622\u06AF\u0647\u06CC\u200C\u0647\u0627\u06CC \u0622\u0698\u0627\u0646\u0633",value:r,icon:"fa-briefcase",route:"account-agency-ads"}),T=r=>({title:"\u067E\u0631\u0648\u0698\u0647\u200C\u0647\u0627\u06CC \u0627\u0645\u0644\u0627\u06A9",value:r,icon:"fa-diagram-project",route:"property-project"}),z=(r,u,e,s)=>[r,u,e,s],G=r=>({title:"\u0634\u0631\u06A9\u062A\u200C\u0647\u0627\u06CC \u0627\u0645\u0644\u0627\u06A9",value:r,icon:"fa-building-columns",route:"property-company"}),B=r=>({title:"\u062A\u0627\u0645\u06CC\u0646\u200C\u06A9\u0646\u0646\u062F\u06AF\u0627\u0646",value:r,icon:"fa-truck",route:"property-supplier"}),N=(r,u)=>[r,u];function K(r,u){if(r&1&&(t(0,"div",30)(1,"a",31)(2,"div",32)(3,"div",33),o(4,"i",34),i(),t(5,"div",35)(6,"div",36),n(7),i(),t(8,"div",37),n(9),f(10,"number"),i()()()()()),r&2){let e=u.$implicit;a(),l("routerLink",e.route),a(3),C("fa-solid "+e.icon),a(3),m(e.title),a(2),m(b(10,5,e.value))}}function $(r,u){if(r&1&&(t(0,"div",38)(1,"a",31)(2,"div",32)(3,"div",33),o(4,"i",34),i(),t(5,"div",35)(6,"div",36),n(7),i(),t(8,"div",37),n(9),f(10,"number"),i()()()()()),r&2){let e=u.$implicit;a(),l("routerLink",e.route),a(3),C("fa-solid "+e.icon),a(3),m(e.title),a(2),m(b(10,5,e.value))}}var p=class p{constructor(u,e,s,Y,q,H,J){this.propertyService=u;this.propertyAdsService=e;this.agencyAdsService=s;this.projectService=Y;this.companyService=q;this.supplierService=H;this.toastr=J;this.constructorInfoAreaId=this.constructor.name;this.kpi={properties:{total:0},propertyAds:{total:0},agencyAds:{total:0},projects:{total:0},companies:{total:0},suppliers:{total:0}};this.sub=new g}ngOnInit(){this.loadKpi()}ngOnDestroy(){this.sub.unsubscribe()}loadKpi(){let u=()=>{let e=new P;return e.accessLoad=!0,e};this.sub.add(this.propertyService.ServiceGetCount(u()).subscribe({next:e=>{e.isSuccess&&(this.kpi.properties.total=e.totalRowCount)},error:e=>this.toastr.typeError(e)})),this.sub.add(this.propertyAdsService.ServiceGetCount(u()).subscribe({next:e=>{e.isSuccess&&(this.kpi.propertyAds.total=e.totalRowCount)},error:e=>this.toastr.typeError(e)})),this.sub.add(this.agencyAdsService.ServiceGetCount(u()).subscribe({next:e=>{e.isSuccess&&(this.kpi.agencyAds.total=e.totalRowCount)},error:e=>this.toastr.typeError(e)})),this.sub.add(this.projectService.ServiceGetCount(u()).subscribe({next:e=>{e.isSuccess&&(this.kpi.projects.total=e.totalRowCount)},error:e=>this.toastr.typeError(e)})),this.sub.add(this.companyService.ServiceGetCount(u()).subscribe({next:e=>{e.isSuccess&&(this.kpi.companies.total=e.totalRowCount)},error:e=>this.toastr.typeError(e)})),this.sub.add(this.supplierService.ServiceGetCount(u()).subscribe({next:e=>{e.isSuccess&&(this.kpi.suppliers.total=e.totalRowCount)},error:e=>this.toastr.typeError(e)}))}};p.\u0275fac=function(e){return new(e||p)(d(O),d(M),d(_),d(k),d(F),d(w),d(j))},p.\u0275cmp=h({type:p,selectors:[["app-estate-dashboard"]],standalone:!1,decls:97,vars:22,consts:[[1,"estate-dashboard"],[1,"hero","card","shadow-sm","border-0","mb-4"],[1,"row","g-3","align-items-center"],[1,"col-12","col-md-4","text-center"],[1,"hero-icon"],[1,"fa-solid","fa-building"],[1,"col-12","col-md-8"],[1,"hero-title"],[1,"hero-subtitle"],[1,"d-flex","flex-wrap","gap-2","mt-3"],["routerLink","property/add",1,"btn","btn-primary","btn-sm","fw-bold"],["routerLink","property-ads",1,"btn","btn-outline-primary","btn-sm","fw-bold"],["routerLink","property-project",1,"btn","btn-light","btn-sm","fw-bold"],["routerLink","property-company",1,"btn","btn-light","btn-sm","fw-bold"],[1,"row","g-3","mb-4"],["class","col-12 col-md-3",4,"ngFor","ngForOf"],["class","col-12 col-md-6",4,"ngFor","ngForOf"],[1,"row","g-3"],[1,"col-12","col-lg-6"],[1,"card","shadow-sm","border-0","h-100"],[1,"card-body"],[1,"card-title","d-flex","align-items-center","mb-3"],[1,"fa-solid","fa-route","section-icon"],[1,"ms-2","fw-bold"],[1,"flow-steps"],[1,"step"],[1,"dot"],[1,"fw-bold"],[1,"text-muted","small"],[1,"fa-solid","fa-sitemap","section-icon"],[1,"col-12","col-md-3"],[1,"card","kpi-card","h-100","shadow-sm","border-0",3,"routerLink"],[1,"d-flex","align-items-center","p-3"],[1,"kpi-icon"],["aria-hidden","true"],[1,"ms-3"],[1,"kpi-title"],[1,"kpi-value"],[1,"col-12","col-md-6"]],template:function(e,s){e&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),o(5,"i",5),i()(),t(6,"div",6)(7,"div",7),n(8,"\u062F\u0627\u0634\u0628\u0648\u0631\u062F \u0627\u0645\u0644\u0627\u06A9"),i(),t(9,"div",8),n(10," \u0645\u062F\u06CC\u0631\u06CC\u062A \u0627\u0645\u0644\u0627\u06A9\u060C \u0622\u06AF\u0647\u06CC\u200C\u0647\u0627\u060C \u067E\u0631\u0648\u0698\u0647\u200C\u0647\u0627\u060C \u0634\u0631\u06A9\u062A\u200C\u0647\u0627 \u0648 \u062A\u0627\u0645\u06CC\u0646\u200C\u06A9\u0646\u0646\u062F\u06AF\u0627\u0646 \u0627\u0645\u0644\u0627\u06A9. "),i(),t(11,"div",9)(12,"a",10),n(13,"+ \u0645\u0644\u06A9 \u062C\u062F\u06CC\u062F"),i(),t(14,"a",11),n(15,"\u0622\u06AF\u0647\u06CC\u200C\u0647\u0627\u06CC \u0627\u0645\u0644\u0627\u06A9"),i(),t(16,"a",12),n(17,"\u067E\u0631\u0648\u0698\u0647\u200C\u0647\u0627\u06CC \u0627\u0645\u0644\u0627\u06A9"),i(),t(18,"a",13),n(19,"\u0634\u0631\u06A9\u062A\u200C\u0647\u0627\u06CC \u0627\u0645\u0644\u0627\u06A9"),i()()()()(),t(20,"div",14),v(21,K,11,7,"div",15),i(),t(22,"div",14),v(23,$,11,7,"div",16),i(),t(24,"div",17)(25,"div",18)(26,"div",19)(27,"div",20)(28,"div",21),o(29,"i",22),t(30,"span",23),n(31,"\u062C\u0631\u06CC\u0627\u0646 \u062B\u0628\u062A \u0645\u0644\u06A9 \u062A\u0627 \u0622\u06AF\u0647\u06CC"),i()(),t(32,"div",24)(33,"div",25),o(34,"div",26),t(35,"div")(36,"div",27),n(37,"\u062B\u0628\u062A \u0645\u0644\u06A9"),i(),t(38,"div",28),n(39,"Property"),i()()(),t(40,"div",25),o(41,"div",26),t(42,"div")(43,"div",27),n(44,"\u062A\u0639\u06CC\u06CC\u0646 \u0646\u0648\u0639 \u0642\u0631\u0627\u0631\u062F\u0627\u062F"),i(),t(45,"div",28),n(46,"Contract Type"),i()()(),t(47,"div",25),o(48,"div",26),t(49,"div")(50,"div",27),n(51,"\u0627\u06CC\u062C\u0627\u062F \u0622\u06AF\u0647\u06CC"),i(),t(52,"div",28),n(53,"Property Ads"),i()()(),t(54,"div",25),o(55,"div",26),t(56,"div")(57,"div",27),n(58,"\u0627\u0646\u062A\u0634\u0627\u0631 \u0648 \u0646\u0645\u0627\u06CC\u0634"),i(),t(59,"div",28),n(60,"Publish"),i()()()()()()(),t(61,"div",18)(62,"div",19)(63,"div",20)(64,"div",21),o(65,"i",29),t(66,"span",23),n(67,"\u0633\u0627\u062E\u062A\u0627\u0631 \u0645\u062F\u06CC\u0631\u06CC\u062A \u0627\u0645\u0644\u0627\u06A9"),i()(),t(68,"div",24)(69,"div",25),o(70,"div",26),t(71,"div")(72,"div",27),n(73,"\u067E\u0631\u0648\u0698\u0647\u200C\u0647\u0627\u06CC \u0627\u0645\u0644\u0627\u06A9"),i(),t(74,"div",28),n(75,"Property Projects"),i()()(),t(76,"div",25),o(77,"div",26),t(78,"div")(79,"div",27),n(80,"\u0634\u0631\u06A9\u062A\u200C\u0647\u0627\u06CC \u0627\u0645\u0644\u0627\u06A9"),i(),t(81,"div",28),n(82,"Property Companies"),i()()(),t(83,"div",25),o(84,"div",26),t(85,"div")(86,"div",27),n(87,"\u062A\u0627\u0645\u06CC\u0646\u200C\u06A9\u0646\u0646\u062F\u06AF\u0627\u0646"),i(),t(88,"div",28),n(89,"Suppliers"),i()()(),t(90,"div",25),o(91,"div",26),t(92,"div")(93,"div",27),n(94,"\u0622\u0698\u0627\u0646\u0633\u200C\u0647\u0627 \u0648 \u06A9\u0627\u0631\u0634\u0646\u0627\u0633\u0627\u0646"),i(),t(95,"div",28),n(96,"Agencies & Experts"),i()()()()()()()()()),e&2&&(a(21),l("ngForOf",y(10,z,c(2,D,s.kpi.properties.total),c(4,L,s.kpi.propertyAds.total),c(6,R,s.kpi.agencyAds.total),c(8,T,s.kpi.projects.total))),a(2),l("ngForOf",S(19,N,c(15,G,s.kpi.companies.total),c(17,B,s.kpi.suppliers.total))))},dependencies:[x,E,A],styles:[".estate-dashboard[_ngcontent-%COMP%]   .hero[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#fbbf24);border-radius:16px;padding:16px}.estate-dashboard[_ngcontent-%COMP%]   .hero[_ngcontent-%COMP%]   .hero-icon[_ngcontent-%COMP%]{width:120px;height:120px;margin:0 auto;border-radius:24px;background:#ffffff26;display:grid;place-items:center;color:#fff;font-size:54px;box-shadow:inset 0 0 0 1px #ffffff2e}.estate-dashboard[_ngcontent-%COMP%]   .hero[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]{font-weight:800;font-size:18px;color:#fff}.estate-dashboard[_ngcontent-%COMP%]   .hero[_ngcontent-%COMP%]   .hero-subtitle[_ngcontent-%COMP%]{color:#ffffffe6;font-size:13px}.estate-dashboard[_ngcontent-%COMP%]   .hero[_ngcontent-%COMP%]   .hero-img[_ngcontent-%COMP%]{max-height:140px}.estate-dashboard[_ngcontent-%COMP%]   .kpi-card[_ngcontent-%COMP%]{border-radius:14px;transition:transform .15s ease,box-shadow .15s ease}.estate-dashboard[_ngcontent-%COMP%]   .kpi-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 12px 24px #00000014}.estate-dashboard[_ngcontent-%COMP%]   .kpi-card[_ngcontent-%COMP%]   .kpi-icon[_ngcontent-%COMP%]{width:54px;height:54px;border-radius:12px;background:#f8fafc;color:#0f172a;display:grid;place-items:center;font-size:20px;box-shadow:inset 0 0 0 1px #e2e8f0}.estate-dashboard[_ngcontent-%COMP%]   .kpi-card[_ngcontent-%COMP%]   .kpi-title[_ngcontent-%COMP%]{font-size:12px;color:#6b7280}.estate-dashboard[_ngcontent-%COMP%]   .kpi-card[_ngcontent-%COMP%]   .kpi-value[_ngcontent-%COMP%]{font-size:20px;font-weight:800;color:#0f172a}.estate-dashboard[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%]{width:26px;height:26px}.estate-dashboard[_ngcontent-%COMP%]   .flow-steps[_ngcontent-%COMP%]{display:grid;gap:16px}.estate-dashboard[_ngcontent-%COMP%]   .flow-steps[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;gap:12px;align-items:center}.estate-dashboard[_ngcontent-%COMP%]   .flow-steps[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;background:linear-gradient(135deg,#f59e0b,#fbbf24);box-shadow:0 0 0 6px #f59e0b1f}"]});var I=p;export{I as a};
